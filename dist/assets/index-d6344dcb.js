function zO(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(t,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();function cS(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var uS={exports:{}},Wh={},dS={exports:{}},Pe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pu=Symbol.for("react.element"),HO=Symbol.for("react.portal"),qO=Symbol.for("react.fragment"),GO=Symbol.for("react.strict_mode"),YO=Symbol.for("react.profiler"),KO=Symbol.for("react.provider"),QO=Symbol.for("react.context"),XO=Symbol.for("react.forward_ref"),JO=Symbol.for("react.suspense"),ZO=Symbol.for("react.memo"),eL=Symbol.for("react.lazy"),o_=Symbol.iterator;function tL(t){return t===null||typeof t!="object"?null:(t=o_&&t[o_]||t["@@iterator"],typeof t=="function"?t:null)}var fS={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},hS=Object.assign,pS={};function ll(t,e,n){this.props=t,this.context=e,this.refs=pS,this.updater=n||fS}ll.prototype.isReactComponent={};ll.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};ll.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function mS(){}mS.prototype=ll.prototype;function n0(t,e,n){this.props=t,this.context=e,this.refs=pS,this.updater=n||fS}var r0=n0.prototype=new mS;r0.constructor=n0;hS(r0,ll.prototype);r0.isPureReactComponent=!0;var s_=Array.isArray,gS=Object.prototype.hasOwnProperty,i0={current:null},vS={key:!0,ref:!0,__self:!0,__source:!0};function yS(t,e,n){var r,i={},o=null,s=null;if(e!=null)for(r in e.ref!==void 0&&(s=e.ref),e.key!==void 0&&(o=""+e.key),e)gS.call(e,r)&&!vS.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:pu,type:t,key:o,ref:s,props:i,_owner:i0.current}}function nL(t,e){return{$$typeof:pu,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function o0(t){return typeof t=="object"&&t!==null&&t.$$typeof===pu}function rL(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var a_=/\/+/g;function Im(t,e){return typeof t=="object"&&t!==null&&t.key!=null?rL(""+t.key):e.toString(36)}function qd(t,e,n,r,i){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var s=!1;if(t===null)s=!0;else switch(o){case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case pu:case HO:s=!0}}if(s)return s=t,i=i(s),t=r===""?"."+Im(s,0):r,s_(i)?(n="",t!=null&&(n=t.replace(a_,"$&/")+"/"),qd(i,e,n,"",function(c){return c})):i!=null&&(o0(i)&&(i=nL(i,n+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(a_,"$&/")+"/")+t)),e.push(i)),1;if(s=0,r=r===""?".":r+":",s_(t))for(var a=0;a<t.length;a++){o=t[a];var l=r+Im(o,a);s+=qd(o,e,n,l,i)}else if(l=tL(t),typeof l=="function")for(t=l.call(t),a=0;!(o=t.next()).done;)o=o.value,l=r+Im(o,a++),s+=qd(o,e,n,l,i);else if(o==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return s}function ad(t,e,n){if(t==null)return t;var r=[],i=0;return qd(t,r,"","",function(o){return e.call(n,o,i++)}),r}function iL(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var yn={current:null},Gd={transition:null},oL={ReactCurrentDispatcher:yn,ReactCurrentBatchConfig:Gd,ReactCurrentOwner:i0};function wS(){throw Error("act(...) is not supported in production builds of React.")}Pe.Children={map:ad,forEach:function(t,e,n){ad(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return ad(t,function(){e++}),e},toArray:function(t){return ad(t,function(e){return e})||[]},only:function(t){if(!o0(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Pe.Component=ll;Pe.Fragment=qO;Pe.Profiler=YO;Pe.PureComponent=n0;Pe.StrictMode=GO;Pe.Suspense=JO;Pe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=oL;Pe.act=wS;Pe.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=hS({},t.props),i=t.key,o=t.ref,s=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,s=i0.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)gS.call(e,l)&&!vS.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:pu,type:t.type,key:i,ref:o,props:r,_owner:s}};Pe.createContext=function(t){return t={$$typeof:QO,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:KO,_context:t},t.Consumer=t};Pe.createElement=yS;Pe.createFactory=function(t){var e=yS.bind(null,t);return e.type=t,e};Pe.createRef=function(){return{current:null}};Pe.forwardRef=function(t){return{$$typeof:XO,render:t}};Pe.isValidElement=o0;Pe.lazy=function(t){return{$$typeof:eL,_payload:{_status:-1,_result:t},_init:iL}};Pe.memo=function(t,e){return{$$typeof:ZO,type:t,compare:e===void 0?null:e}};Pe.startTransition=function(t){var e=Gd.transition;Gd.transition={};try{t()}finally{Gd.transition=e}};Pe.unstable_act=wS;Pe.useCallback=function(t,e){return yn.current.useCallback(t,e)};Pe.useContext=function(t){return yn.current.useContext(t)};Pe.useDebugValue=function(){};Pe.useDeferredValue=function(t){return yn.current.useDeferredValue(t)};Pe.useEffect=function(t,e){return yn.current.useEffect(t,e)};Pe.useId=function(){return yn.current.useId()};Pe.useImperativeHandle=function(t,e,n){return yn.current.useImperativeHandle(t,e,n)};Pe.useInsertionEffect=function(t,e){return yn.current.useInsertionEffect(t,e)};Pe.useLayoutEffect=function(t,e){return yn.current.useLayoutEffect(t,e)};Pe.useMemo=function(t,e){return yn.current.useMemo(t,e)};Pe.useReducer=function(t,e,n){return yn.current.useReducer(t,e,n)};Pe.useRef=function(t){return yn.current.useRef(t)};Pe.useState=function(t){return yn.current.useState(t)};Pe.useSyncExternalStore=function(t,e,n){return yn.current.useSyncExternalStore(t,e,n)};Pe.useTransition=function(){return yn.current.useTransition()};Pe.version="18.3.1";dS.exports=Pe;var m=dS.exports;const xe=cS(m),zh=zO({__proto__:null,default:xe},[m]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sL=m,aL=Symbol.for("react.element"),lL=Symbol.for("react.fragment"),cL=Object.prototype.hasOwnProperty,uL=sL.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,dL={key:!0,ref:!0,__self:!0,__source:!0};function xS(t,e,n){var r,i={},o=null,s=null;n!==void 0&&(o=""+n),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(s=e.ref);for(r in e)cL.call(e,r)&&!dL.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:aL,type:t,key:o,ref:s,props:i,_owner:uL.current}}Wh.Fragment=lL;Wh.jsx=xS;Wh.jsxs=xS;uS.exports=Wh;var p=uS.exports,Xg={},_S={exports:{}},Bn={},ES={exports:{}},bS={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(L,j){var U=L.length;L.push(j);e:for(;0<U;){var z=U-1>>>1,B=L[z];if(0<i(B,j))L[z]=j,L[U]=B,U=z;else break e}}function n(L){return L.length===0?null:L[0]}function r(L){if(L.length===0)return null;var j=L[0],U=L.pop();if(U!==j){L[0]=U;e:for(var z=0,B=L.length,H=B>>>1;z<H;){var Z=2*(z+1)-1,ie=L[Z],ce=Z+1,J=L[ce];if(0>i(ie,U))ce<B&&0>i(J,ie)?(L[z]=J,L[ce]=U,z=ce):(L[z]=ie,L[Z]=U,z=Z);else if(ce<B&&0>i(J,U))L[z]=J,L[ce]=U,z=ce;else break e}}return j}function i(L,j){var U=L.sortIndex-j.sortIndex;return U!==0?U:L.id-j.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,a=s.now();t.unstable_now=function(){return s.now()-a}}var l=[],c=[],u=1,f=null,h=3,g=!1,w=!1,y=!1,b=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function E(L){for(var j=n(c);j!==null;){if(j.callback===null)r(c);else if(j.startTime<=L)r(c),j.sortIndex=j.expirationTime,e(l,j);else break;j=n(c)}}function S(L){if(y=!1,E(L),!w)if(n(l)!==null)w=!0,K(R);else{var j=n(c);j!==null&&W(S,j.startTime-L)}}function R(L,j){w=!1,y&&(y=!1,x(C),C=-1),g=!0;var U=h;try{for(E(j),f=n(l);f!==null&&(!(f.expirationTime>j)||L&&!M());){var z=f.callback;if(typeof z=="function"){f.callback=null,h=f.priorityLevel;var B=z(f.expirationTime<=j);j=t.unstable_now(),typeof B=="function"?f.callback=B:f===n(l)&&r(l),E(j)}else r(l);f=n(l)}if(f!==null)var H=!0;else{var Z=n(c);Z!==null&&W(S,Z.startTime-j),H=!1}return H}finally{f=null,h=U,g=!1}}var D=!1,P=null,C=-1,I=5,A=-1;function M(){return!(t.unstable_now()-A<I)}function O(){if(P!==null){var L=t.unstable_now();A=L;var j=!0;try{j=P(!0,L)}finally{j?N():(D=!1,P=null)}}else D=!1}var N;if(typeof v=="function")N=function(){v(O)};else if(typeof MessageChannel<"u"){var F=new MessageChannel,G=F.port2;F.port1.onmessage=O,N=function(){G.postMessage(null)}}else N=function(){b(O,0)};function K(L){P=L,D||(D=!0,N())}function W(L,j){C=b(function(){L(t.unstable_now())},j)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(L){L.callback=null},t.unstable_continueExecution=function(){w||g||(w=!0,K(R))},t.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<L?Math.floor(1e3/L):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(L){switch(h){case 1:case 2:case 3:var j=3;break;default:j=h}var U=h;h=j;try{return L()}finally{h=U}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(L,j){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var U=h;h=L;try{return j()}finally{h=U}},t.unstable_scheduleCallback=function(L,j,U){var z=t.unstable_now();switch(typeof U=="object"&&U!==null?(U=U.delay,U=typeof U=="number"&&0<U?z+U:z):U=z,L){case 1:var B=-1;break;case 2:B=250;break;case 5:B=1073741823;break;case 4:B=1e4;break;default:B=5e3}return B=U+B,L={id:u++,callback:j,priorityLevel:L,startTime:U,expirationTime:B,sortIndex:-1},U>z?(L.sortIndex=U,e(c,L),n(l)===null&&L===n(c)&&(y?(x(C),C=-1):y=!0,W(S,U-z))):(L.sortIndex=B,e(l,L),w||g||(w=!0,K(R))),L},t.unstable_shouldYield=M,t.unstable_wrapCallback=function(L){var j=h;return function(){var U=h;h=j;try{return L.apply(this,arguments)}finally{h=U}}}})(bS);ES.exports=bS;var fL=ES.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hL=m,$n=fL;function Q(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var TS=new Set,Nc={};function ks(t,e){Va(t,e),Va(t+"Capture",e)}function Va(t,e){for(Nc[t]=e,t=0;t<e.length;t++)TS.add(e[t])}var gi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Jg=Object.prototype.hasOwnProperty,pL=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,l_={},c_={};function mL(t){return Jg.call(c_,t)?!0:Jg.call(l_,t)?!1:pL.test(t)?c_[t]=!0:(l_[t]=!0,!1)}function gL(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function vL(t,e,n,r){if(e===null||typeof e>"u"||gL(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function wn(t,e,n,r,i,o,s){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=s}var Gt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Gt[t]=new wn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Gt[e]=new wn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Gt[t]=new wn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Gt[t]=new wn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Gt[t]=new wn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Gt[t]=new wn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Gt[t]=new wn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Gt[t]=new wn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Gt[t]=new wn(t,5,!1,t.toLowerCase(),null,!1,!1)});var s0=/[\-:]([a-z])/g;function a0(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(s0,a0);Gt[e]=new wn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(s0,a0);Gt[e]=new wn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(s0,a0);Gt[e]=new wn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Gt[t]=new wn(t,1,!1,t.toLowerCase(),null,!1,!1)});Gt.xlinkHref=new wn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Gt[t]=new wn(t,1,!1,t.toLowerCase(),null,!0,!0)});function l0(t,e,n,r){var i=Gt.hasOwnProperty(e)?Gt[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(vL(e,n,i,r)&&(n=null),r||i===null?mL(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Ri=hL.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ld=Symbol.for("react.element"),ia=Symbol.for("react.portal"),oa=Symbol.for("react.fragment"),c0=Symbol.for("react.strict_mode"),Zg=Symbol.for("react.profiler"),CS=Symbol.for("react.provider"),SS=Symbol.for("react.context"),u0=Symbol.for("react.forward_ref"),ev=Symbol.for("react.suspense"),tv=Symbol.for("react.suspense_list"),d0=Symbol.for("react.memo"),Gi=Symbol.for("react.lazy"),PS=Symbol.for("react.offscreen"),u_=Symbol.iterator;function $l(t){return t===null||typeof t!="object"?null:(t=u_&&t[u_]||t["@@iterator"],typeof t=="function"?t:null)}var pt=Object.assign,Am;function ec(t){if(Am===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Am=e&&e[1]||""}return`
`+Am+t}var km=!1;function Rm(t,e){if(!t||km)return"";km=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),o=r.stack.split(`
`),s=i.length-1,a=o.length-1;1<=s&&0<=a&&i[s]!==o[a];)a--;for(;1<=s&&0<=a;s--,a--)if(i[s]!==o[a]){if(s!==1||a!==1)do if(s--,a--,0>a||i[s]!==o[a]){var l=`
`+i[s].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=s&&0<=a);break}}}finally{km=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?ec(t):""}function yL(t){switch(t.tag){case 5:return ec(t.type);case 16:return ec("Lazy");case 13:return ec("Suspense");case 19:return ec("SuspenseList");case 0:case 2:case 15:return t=Rm(t.type,!1),t;case 11:return t=Rm(t.type.render,!1),t;case 1:return t=Rm(t.type,!0),t;default:return""}}function nv(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case oa:return"Fragment";case ia:return"Portal";case Zg:return"Profiler";case c0:return"StrictMode";case ev:return"Suspense";case tv:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case SS:return(t.displayName||"Context")+".Consumer";case CS:return(t._context.displayName||"Context")+".Provider";case u0:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case d0:return e=t.displayName||null,e!==null?e:nv(t.type)||"Memo";case Gi:e=t._payload,t=t._init;try{return nv(t(e))}catch{}}return null}function wL(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return nv(e);case 8:return e===c0?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Co(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function IS(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function xL(t){var e=IS(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(s){r=""+s,o.call(this,s)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function cd(t){t._valueTracker||(t._valueTracker=xL(t))}function AS(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=IS(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Ef(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function rv(t,e){var n=e.checked;return pt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function d_(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Co(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function kS(t,e){e=e.checked,e!=null&&l0(t,"checked",e,!1)}function iv(t,e){kS(t,e);var n=Co(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?ov(t,e.type,n):e.hasOwnProperty("defaultValue")&&ov(t,e.type,Co(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function f_(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function ov(t,e,n){(e!=="number"||Ef(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var tc=Array.isArray;function ba(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Co(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function sv(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(Q(91));return pt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function h_(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(Q(92));if(tc(n)){if(1<n.length)throw Error(Q(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Co(n)}}function RS(t,e){var n=Co(e.value),r=Co(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function p_(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function NS(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function av(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?NS(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var ud,DS=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(ud=ud||document.createElement("div"),ud.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=ud.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Dc(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var dc={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},_L=["Webkit","ms","Moz","O"];Object.keys(dc).forEach(function(t){_L.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),dc[e]=dc[t]})});function MS(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||dc.hasOwnProperty(t)&&dc[t]?(""+e).trim():e+"px"}function OS(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=MS(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var EL=pt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function lv(t,e){if(e){if(EL[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(Q(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(Q(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(Q(61))}if(e.style!=null&&typeof e.style!="object")throw Error(Q(62))}}function cv(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var uv=null;function f0(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var dv=null,Ta=null,Ca=null;function m_(t){if(t=vu(t)){if(typeof dv!="function")throw Error(Q(280));var e=t.stateNode;e&&(e=Kh(e),dv(t.stateNode,t.type,e))}}function LS(t){Ta?Ca?Ca.push(t):Ca=[t]:Ta=t}function VS(){if(Ta){var t=Ta,e=Ca;if(Ca=Ta=null,m_(t),e)for(t=0;t<e.length;t++)m_(e[t])}}function jS(t,e){return t(e)}function FS(){}var Nm=!1;function $S(t,e,n){if(Nm)return t(e,n);Nm=!0;try{return jS(t,e,n)}finally{Nm=!1,(Ta!==null||Ca!==null)&&(FS(),VS())}}function Mc(t,e){var n=t.stateNode;if(n===null)return null;var r=Kh(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(Q(231,e,typeof n));return n}var fv=!1;if(gi)try{var Ul={};Object.defineProperty(Ul,"passive",{get:function(){fv=!0}}),window.addEventListener("test",Ul,Ul),window.removeEventListener("test",Ul,Ul)}catch{fv=!1}function bL(t,e,n,r,i,o,s,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(u){this.onError(u)}}var fc=!1,bf=null,Tf=!1,hv=null,TL={onError:function(t){fc=!0,bf=t}};function CL(t,e,n,r,i,o,s,a,l){fc=!1,bf=null,bL.apply(TL,arguments)}function SL(t,e,n,r,i,o,s,a,l){if(CL.apply(this,arguments),fc){if(fc){var c=bf;fc=!1,bf=null}else throw Error(Q(198));Tf||(Tf=!0,hv=c)}}function Rs(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function US(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function g_(t){if(Rs(t)!==t)throw Error(Q(188))}function PL(t){var e=t.alternate;if(!e){if(e=Rs(t),e===null)throw Error(Q(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return g_(i),t;if(o===r)return g_(i),e;o=o.sibling}throw Error(Q(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,a=i.child;a;){if(a===n){s=!0,n=i,r=o;break}if(a===r){s=!0,r=i,n=o;break}a=a.sibling}if(!s){for(a=o.child;a;){if(a===n){s=!0,n=o,r=i;break}if(a===r){s=!0,r=o,n=i;break}a=a.sibling}if(!s)throw Error(Q(189))}}if(n.alternate!==r)throw Error(Q(190))}if(n.tag!==3)throw Error(Q(188));return n.stateNode.current===n?t:e}function BS(t){return t=PL(t),t!==null?WS(t):null}function WS(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=WS(t);if(e!==null)return e;t=t.sibling}return null}var zS=$n.unstable_scheduleCallback,v_=$n.unstable_cancelCallback,IL=$n.unstable_shouldYield,AL=$n.unstable_requestPaint,_t=$n.unstable_now,kL=$n.unstable_getCurrentPriorityLevel,h0=$n.unstable_ImmediatePriority,HS=$n.unstable_UserBlockingPriority,Cf=$n.unstable_NormalPriority,RL=$n.unstable_LowPriority,qS=$n.unstable_IdlePriority,Hh=null,Dr=null;function NL(t){if(Dr&&typeof Dr.onCommitFiberRoot=="function")try{Dr.onCommitFiberRoot(Hh,t,void 0,(t.current.flags&128)===128)}catch{}}var dr=Math.clz32?Math.clz32:OL,DL=Math.log,ML=Math.LN2;function OL(t){return t>>>=0,t===0?32:31-(DL(t)/ML|0)|0}var dd=64,fd=4194304;function nc(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Sf(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,o=t.pingedLanes,s=n&268435455;if(s!==0){var a=s&~i;a!==0?r=nc(a):(o&=s,o!==0&&(r=nc(o)))}else s=n&~i,s!==0?r=nc(s):o!==0&&(r=nc(o));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,o=e&-e,i>=o||i===16&&(o&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-dr(e),i=1<<n,r|=t[n],e&=~i;return r}function LL(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function VL(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,o=t.pendingLanes;0<o;){var s=31-dr(o),a=1<<s,l=i[s];l===-1?(!(a&n)||a&r)&&(i[s]=LL(a,e)):l<=e&&(t.expiredLanes|=a),o&=~a}}function pv(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function GS(){var t=dd;return dd<<=1,!(dd&4194240)&&(dd=64),t}function Dm(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function mu(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-dr(e),t[e]=n}function jL(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-dr(n),o=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~o}}function p0(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-dr(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var qe=0;function YS(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var KS,m0,QS,XS,JS,mv=!1,hd=[],so=null,ao=null,lo=null,Oc=new Map,Lc=new Map,Qi=[],FL="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function y_(t,e){switch(t){case"focusin":case"focusout":so=null;break;case"dragenter":case"dragleave":ao=null;break;case"mouseover":case"mouseout":lo=null;break;case"pointerover":case"pointerout":Oc.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Lc.delete(e.pointerId)}}function Bl(t,e,n,r,i,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},e!==null&&(e=vu(e),e!==null&&m0(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function $L(t,e,n,r,i){switch(e){case"focusin":return so=Bl(so,t,e,n,r,i),!0;case"dragenter":return ao=Bl(ao,t,e,n,r,i),!0;case"mouseover":return lo=Bl(lo,t,e,n,r,i),!0;case"pointerover":var o=i.pointerId;return Oc.set(o,Bl(Oc.get(o)||null,t,e,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,Lc.set(o,Bl(Lc.get(o)||null,t,e,n,r,i)),!0}return!1}function ZS(t){var e=os(t.target);if(e!==null){var n=Rs(e);if(n!==null){if(e=n.tag,e===13){if(e=US(n),e!==null){t.blockedOn=e,JS(t.priority,function(){QS(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Yd(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=gv(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);uv=r,n.target.dispatchEvent(r),uv=null}else return e=vu(n),e!==null&&m0(e),t.blockedOn=n,!1;e.shift()}return!0}function w_(t,e,n){Yd(t)&&n.delete(e)}function UL(){mv=!1,so!==null&&Yd(so)&&(so=null),ao!==null&&Yd(ao)&&(ao=null),lo!==null&&Yd(lo)&&(lo=null),Oc.forEach(w_),Lc.forEach(w_)}function Wl(t,e){t.blockedOn===e&&(t.blockedOn=null,mv||(mv=!0,$n.unstable_scheduleCallback($n.unstable_NormalPriority,UL)))}function Vc(t){function e(i){return Wl(i,t)}if(0<hd.length){Wl(hd[0],t);for(var n=1;n<hd.length;n++){var r=hd[n];r.blockedOn===t&&(r.blockedOn=null)}}for(so!==null&&Wl(so,t),ao!==null&&Wl(ao,t),lo!==null&&Wl(lo,t),Oc.forEach(e),Lc.forEach(e),n=0;n<Qi.length;n++)r=Qi[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Qi.length&&(n=Qi[0],n.blockedOn===null);)ZS(n),n.blockedOn===null&&Qi.shift()}var Sa=Ri.ReactCurrentBatchConfig,Pf=!0;function BL(t,e,n,r){var i=qe,o=Sa.transition;Sa.transition=null;try{qe=1,g0(t,e,n,r)}finally{qe=i,Sa.transition=o}}function WL(t,e,n,r){var i=qe,o=Sa.transition;Sa.transition=null;try{qe=4,g0(t,e,n,r)}finally{qe=i,Sa.transition=o}}function g0(t,e,n,r){if(Pf){var i=gv(t,e,n,r);if(i===null)Wm(t,e,r,If,n),y_(t,r);else if($L(i,t,e,n,r))r.stopPropagation();else if(y_(t,r),e&4&&-1<FL.indexOf(t)){for(;i!==null;){var o=vu(i);if(o!==null&&KS(o),o=gv(t,e,n,r),o===null&&Wm(t,e,r,If,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else Wm(t,e,r,null,n)}}var If=null;function gv(t,e,n,r){if(If=null,t=f0(r),t=os(t),t!==null)if(e=Rs(t),e===null)t=null;else if(n=e.tag,n===13){if(t=US(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return If=t,null}function eP(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(kL()){case h0:return 1;case HS:return 4;case Cf:case RL:return 16;case qS:return 536870912;default:return 16}default:return 16}}var no=null,v0=null,Kd=null;function tP(){if(Kd)return Kd;var t,e=v0,n=e.length,r,i="value"in no?no.value:no.textContent,o=i.length;for(t=0;t<n&&e[t]===i[t];t++);var s=n-t;for(r=1;r<=s&&e[n-r]===i[o-r];r++);return Kd=i.slice(t,1<r?1-r:void 0)}function Qd(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function pd(){return!0}function x_(){return!1}function Wn(t){function e(n,r,i,o,s){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=s,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(o):o[a]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?pd:x_,this.isPropagationStopped=x_,this}return pt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=pd)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=pd)},persist:function(){},isPersistent:pd}),e}var cl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},y0=Wn(cl),gu=pt({},cl,{view:0,detail:0}),zL=Wn(gu),Mm,Om,zl,qh=pt({},gu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:w0,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==zl&&(zl&&t.type==="mousemove"?(Mm=t.screenX-zl.screenX,Om=t.screenY-zl.screenY):Om=Mm=0,zl=t),Mm)},movementY:function(t){return"movementY"in t?t.movementY:Om}}),__=Wn(qh),HL=pt({},qh,{dataTransfer:0}),qL=Wn(HL),GL=pt({},gu,{relatedTarget:0}),Lm=Wn(GL),YL=pt({},cl,{animationName:0,elapsedTime:0,pseudoElement:0}),KL=Wn(YL),QL=pt({},cl,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),XL=Wn(QL),JL=pt({},cl,{data:0}),E_=Wn(JL),ZL={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},e4={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},t4={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function n4(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=t4[t])?!!e[t]:!1}function w0(){return n4}var r4=pt({},gu,{key:function(t){if(t.key){var e=ZL[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Qd(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?e4[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:w0,charCode:function(t){return t.type==="keypress"?Qd(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Qd(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),i4=Wn(r4),o4=pt({},qh,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),b_=Wn(o4),s4=pt({},gu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:w0}),a4=Wn(s4),l4=pt({},cl,{propertyName:0,elapsedTime:0,pseudoElement:0}),c4=Wn(l4),u4=pt({},qh,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),d4=Wn(u4),f4=[9,13,27,32],x0=gi&&"CompositionEvent"in window,hc=null;gi&&"documentMode"in document&&(hc=document.documentMode);var h4=gi&&"TextEvent"in window&&!hc,nP=gi&&(!x0||hc&&8<hc&&11>=hc),T_=String.fromCharCode(32),C_=!1;function rP(t,e){switch(t){case"keyup":return f4.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function iP(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var sa=!1;function p4(t,e){switch(t){case"compositionend":return iP(e);case"keypress":return e.which!==32?null:(C_=!0,T_);case"textInput":return t=e.data,t===T_&&C_?null:t;default:return null}}function m4(t,e){if(sa)return t==="compositionend"||!x0&&rP(t,e)?(t=tP(),Kd=v0=no=null,sa=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return nP&&e.locale!=="ko"?null:e.data;default:return null}}var g4={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function S_(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!g4[t.type]:e==="textarea"}function oP(t,e,n,r){LS(r),e=Af(e,"onChange"),0<e.length&&(n=new y0("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var pc=null,jc=null;function v4(t){gP(t,0)}function Gh(t){var e=ca(t);if(AS(e))return t}function y4(t,e){if(t==="change")return e}var sP=!1;if(gi){var Vm;if(gi){var jm="oninput"in document;if(!jm){var P_=document.createElement("div");P_.setAttribute("oninput","return;"),jm=typeof P_.oninput=="function"}Vm=jm}else Vm=!1;sP=Vm&&(!document.documentMode||9<document.documentMode)}function I_(){pc&&(pc.detachEvent("onpropertychange",aP),jc=pc=null)}function aP(t){if(t.propertyName==="value"&&Gh(jc)){var e=[];oP(e,jc,t,f0(t)),$S(v4,e)}}function w4(t,e,n){t==="focusin"?(I_(),pc=e,jc=n,pc.attachEvent("onpropertychange",aP)):t==="focusout"&&I_()}function x4(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Gh(jc)}function _4(t,e){if(t==="click")return Gh(e)}function E4(t,e){if(t==="input"||t==="change")return Gh(e)}function b4(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var hr=typeof Object.is=="function"?Object.is:b4;function Fc(t,e){if(hr(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Jg.call(e,i)||!hr(t[i],e[i]))return!1}return!0}function A_(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function k_(t,e){var n=A_(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=A_(n)}}function lP(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?lP(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function cP(){for(var t=window,e=Ef();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Ef(t.document)}return e}function _0(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function T4(t){var e=cP(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&lP(n.ownerDocument.documentElement,n)){if(r!==null&&_0(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!t.extend&&o>r&&(i=r,r=o,o=i),i=k_(n,o);var s=k_(n,r);i&&s&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==s.node||t.focusOffset!==s.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),o>r?(t.addRange(e),t.extend(s.node,s.offset)):(e.setEnd(s.node,s.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var C4=gi&&"documentMode"in document&&11>=document.documentMode,aa=null,vv=null,mc=null,yv=!1;function R_(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;yv||aa==null||aa!==Ef(r)||(r=aa,"selectionStart"in r&&_0(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),mc&&Fc(mc,r)||(mc=r,r=Af(vv,"onSelect"),0<r.length&&(e=new y0("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=aa)))}function md(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var la={animationend:md("Animation","AnimationEnd"),animationiteration:md("Animation","AnimationIteration"),animationstart:md("Animation","AnimationStart"),transitionend:md("Transition","TransitionEnd")},Fm={},uP={};gi&&(uP=document.createElement("div").style,"AnimationEvent"in window||(delete la.animationend.animation,delete la.animationiteration.animation,delete la.animationstart.animation),"TransitionEvent"in window||delete la.transitionend.transition);function Yh(t){if(Fm[t])return Fm[t];if(!la[t])return t;var e=la[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in uP)return Fm[t]=e[n];return t}var dP=Yh("animationend"),fP=Yh("animationiteration"),hP=Yh("animationstart"),pP=Yh("transitionend"),mP=new Map,N_="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Vo(t,e){mP.set(t,e),ks(e,[t])}for(var $m=0;$m<N_.length;$m++){var Um=N_[$m],S4=Um.toLowerCase(),P4=Um[0].toUpperCase()+Um.slice(1);Vo(S4,"on"+P4)}Vo(dP,"onAnimationEnd");Vo(fP,"onAnimationIteration");Vo(hP,"onAnimationStart");Vo("dblclick","onDoubleClick");Vo("focusin","onFocus");Vo("focusout","onBlur");Vo(pP,"onTransitionEnd");Va("onMouseEnter",["mouseout","mouseover"]);Va("onMouseLeave",["mouseout","mouseover"]);Va("onPointerEnter",["pointerout","pointerover"]);Va("onPointerLeave",["pointerout","pointerover"]);ks("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ks("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ks("onBeforeInput",["compositionend","keypress","textInput","paste"]);ks("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ks("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ks("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var rc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),I4=new Set("cancel close invalid load scroll toggle".split(" ").concat(rc));function D_(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,SL(r,e,void 0,t),t.currentTarget=null}function gP(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var o=void 0;if(e)for(var s=r.length-1;0<=s;s--){var a=r[s],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==o&&i.isPropagationStopped())break e;D_(i,a,c),o=l}else for(s=0;s<r.length;s++){if(a=r[s],l=a.instance,c=a.currentTarget,a=a.listener,l!==o&&i.isPropagationStopped())break e;D_(i,a,c),o=l}}}if(Tf)throw t=hv,Tf=!1,hv=null,t}function nt(t,e){var n=e[bv];n===void 0&&(n=e[bv]=new Set);var r=t+"__bubble";n.has(r)||(vP(e,t,2,!1),n.add(r))}function Bm(t,e,n){var r=0;e&&(r|=4),vP(n,t,r,e)}var gd="_reactListening"+Math.random().toString(36).slice(2);function $c(t){if(!t[gd]){t[gd]=!0,TS.forEach(function(n){n!=="selectionchange"&&(I4.has(n)||Bm(n,!1,t),Bm(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[gd]||(e[gd]=!0,Bm("selectionchange",!1,e))}}function vP(t,e,n,r){switch(eP(e)){case 1:var i=BL;break;case 4:i=WL;break;default:i=g0}n=i.bind(null,e,n,t),i=void 0,!fv||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Wm(t,e,n,r,i){var o=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(s===4)for(s=r.return;s!==null;){var l=s.tag;if((l===3||l===4)&&(l=s.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;s=s.return}for(;a!==null;){if(s=os(a),s===null)return;if(l=s.tag,l===5||l===6){r=o=s;continue e}a=a.parentNode}}r=r.return}$S(function(){var c=o,u=f0(n),f=[];e:{var h=mP.get(t);if(h!==void 0){var g=y0,w=t;switch(t){case"keypress":if(Qd(n)===0)break e;case"keydown":case"keyup":g=i4;break;case"focusin":w="focus",g=Lm;break;case"focusout":w="blur",g=Lm;break;case"beforeblur":case"afterblur":g=Lm;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=__;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=qL;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=a4;break;case dP:case fP:case hP:g=KL;break;case pP:g=c4;break;case"scroll":g=zL;break;case"wheel":g=d4;break;case"copy":case"cut":case"paste":g=XL;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=b_}var y=(e&4)!==0,b=!y&&t==="scroll",x=y?h!==null?h+"Capture":null:h;y=[];for(var v=c,E;v!==null;){E=v;var S=E.stateNode;if(E.tag===5&&S!==null&&(E=S,x!==null&&(S=Mc(v,x),S!=null&&y.push(Uc(v,S,E)))),b)break;v=v.return}0<y.length&&(h=new g(h,w,null,n,u),f.push({event:h,listeners:y}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",g=t==="mouseout"||t==="pointerout",h&&n!==uv&&(w=n.relatedTarget||n.fromElement)&&(os(w)||w[vi]))break e;if((g||h)&&(h=u.window===u?u:(h=u.ownerDocument)?h.defaultView||h.parentWindow:window,g?(w=n.relatedTarget||n.toElement,g=c,w=w?os(w):null,w!==null&&(b=Rs(w),w!==b||w.tag!==5&&w.tag!==6)&&(w=null)):(g=null,w=c),g!==w)){if(y=__,S="onMouseLeave",x="onMouseEnter",v="mouse",(t==="pointerout"||t==="pointerover")&&(y=b_,S="onPointerLeave",x="onPointerEnter",v="pointer"),b=g==null?h:ca(g),E=w==null?h:ca(w),h=new y(S,v+"leave",g,n,u),h.target=b,h.relatedTarget=E,S=null,os(u)===c&&(y=new y(x,v+"enter",w,n,u),y.target=E,y.relatedTarget=b,S=y),b=S,g&&w)t:{for(y=g,x=w,v=0,E=y;E;E=zs(E))v++;for(E=0,S=x;S;S=zs(S))E++;for(;0<v-E;)y=zs(y),v--;for(;0<E-v;)x=zs(x),E--;for(;v--;){if(y===x||x!==null&&y===x.alternate)break t;y=zs(y),x=zs(x)}y=null}else y=null;g!==null&&M_(f,h,g,y,!1),w!==null&&b!==null&&M_(f,b,w,y,!0)}}e:{if(h=c?ca(c):window,g=h.nodeName&&h.nodeName.toLowerCase(),g==="select"||g==="input"&&h.type==="file")var R=y4;else if(S_(h))if(sP)R=E4;else{R=x4;var D=w4}else(g=h.nodeName)&&g.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(R=_4);if(R&&(R=R(t,c))){oP(f,R,n,u);break e}D&&D(t,h,c),t==="focusout"&&(D=h._wrapperState)&&D.controlled&&h.type==="number"&&ov(h,"number",h.value)}switch(D=c?ca(c):window,t){case"focusin":(S_(D)||D.contentEditable==="true")&&(aa=D,vv=c,mc=null);break;case"focusout":mc=vv=aa=null;break;case"mousedown":yv=!0;break;case"contextmenu":case"mouseup":case"dragend":yv=!1,R_(f,n,u);break;case"selectionchange":if(C4)break;case"keydown":case"keyup":R_(f,n,u)}var P;if(x0)e:{switch(t){case"compositionstart":var C="onCompositionStart";break e;case"compositionend":C="onCompositionEnd";break e;case"compositionupdate":C="onCompositionUpdate";break e}C=void 0}else sa?rP(t,n)&&(C="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(C="onCompositionStart");C&&(nP&&n.locale!=="ko"&&(sa||C!=="onCompositionStart"?C==="onCompositionEnd"&&sa&&(P=tP()):(no=u,v0="value"in no?no.value:no.textContent,sa=!0)),D=Af(c,C),0<D.length&&(C=new E_(C,t,null,n,u),f.push({event:C,listeners:D}),P?C.data=P:(P=iP(n),P!==null&&(C.data=P)))),(P=h4?p4(t,n):m4(t,n))&&(c=Af(c,"onBeforeInput"),0<c.length&&(u=new E_("onBeforeInput","beforeinput",null,n,u),f.push({event:u,listeners:c}),u.data=P))}gP(f,e)})}function Uc(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Af(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=Mc(t,n),o!=null&&r.unshift(Uc(t,o,i)),o=Mc(t,e),o!=null&&r.push(Uc(t,o,i))),t=t.return}return r}function zs(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function M_(t,e,n,r,i){for(var o=e._reactName,s=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,i?(l=Mc(n,o),l!=null&&s.unshift(Uc(n,l,a))):i||(l=Mc(n,o),l!=null&&s.push(Uc(n,l,a)))),n=n.return}s.length!==0&&t.push({event:e,listeners:s})}var A4=/\r\n?/g,k4=/\u0000|\uFFFD/g;function O_(t){return(typeof t=="string"?t:""+t).replace(A4,`
`).replace(k4,"")}function vd(t,e,n){if(e=O_(e),O_(t)!==e&&n)throw Error(Q(425))}function kf(){}var wv=null,xv=null;function _v(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Ev=typeof setTimeout=="function"?setTimeout:void 0,R4=typeof clearTimeout=="function"?clearTimeout:void 0,L_=typeof Promise=="function"?Promise:void 0,N4=typeof queueMicrotask=="function"?queueMicrotask:typeof L_<"u"?function(t){return L_.resolve(null).then(t).catch(D4)}:Ev;function D4(t){setTimeout(function(){throw t})}function zm(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Vc(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Vc(e)}function co(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function V_(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var ul=Math.random().toString(36).slice(2),Pr="__reactFiber$"+ul,Bc="__reactProps$"+ul,vi="__reactContainer$"+ul,bv="__reactEvents$"+ul,M4="__reactListeners$"+ul,O4="__reactHandles$"+ul;function os(t){var e=t[Pr];if(e)return e;for(var n=t.parentNode;n;){if(e=n[vi]||n[Pr]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=V_(t);t!==null;){if(n=t[Pr])return n;t=V_(t)}return e}t=n,n=t.parentNode}return null}function vu(t){return t=t[Pr]||t[vi],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function ca(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(Q(33))}function Kh(t){return t[Bc]||null}var Tv=[],ua=-1;function jo(t){return{current:t}}function ot(t){0>ua||(t.current=Tv[ua],Tv[ua]=null,ua--)}function Qe(t,e){ua++,Tv[ua]=t.current,t.current=e}var So={},an=jo(So),Cn=jo(!1),ps=So;function ja(t,e){var n=t.type.contextTypes;if(!n)return So;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=e[o];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Sn(t){return t=t.childContextTypes,t!=null}function Rf(){ot(Cn),ot(an)}function j_(t,e,n){if(an.current!==So)throw Error(Q(168));Qe(an,e),Qe(Cn,n)}function yP(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(Q(108,wL(t)||"Unknown",i));return pt({},n,r)}function Nf(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||So,ps=an.current,Qe(an,t),Qe(Cn,Cn.current),!0}function F_(t,e,n){var r=t.stateNode;if(!r)throw Error(Q(169));n?(t=yP(t,e,ps),r.__reactInternalMemoizedMergedChildContext=t,ot(Cn),ot(an),Qe(an,t)):ot(Cn),Qe(Cn,n)}var oi=null,Qh=!1,Hm=!1;function wP(t){oi===null?oi=[t]:oi.push(t)}function L4(t){Qh=!0,wP(t)}function Fo(){if(!Hm&&oi!==null){Hm=!0;var t=0,e=qe;try{var n=oi;for(qe=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}oi=null,Qh=!1}catch(i){throw oi!==null&&(oi=oi.slice(t+1)),zS(h0,Fo),i}finally{qe=e,Hm=!1}}return null}var da=[],fa=0,Df=null,Mf=0,qn=[],Gn=0,ms=null,si=1,ai="";function Jo(t,e){da[fa++]=Mf,da[fa++]=Df,Df=t,Mf=e}function xP(t,e,n){qn[Gn++]=si,qn[Gn++]=ai,qn[Gn++]=ms,ms=t;var r=si;t=ai;var i=32-dr(r)-1;r&=~(1<<i),n+=1;var o=32-dr(e)+i;if(30<o){var s=i-i%5;o=(r&(1<<s)-1).toString(32),r>>=s,i-=s,si=1<<32-dr(e)+i|n<<i|r,ai=o+t}else si=1<<o|n<<i|r,ai=t}function E0(t){t.return!==null&&(Jo(t,1),xP(t,1,0))}function b0(t){for(;t===Df;)Df=da[--fa],da[fa]=null,Mf=da[--fa],da[fa]=null;for(;t===ms;)ms=qn[--Gn],qn[Gn]=null,ai=qn[--Gn],qn[Gn]=null,si=qn[--Gn],qn[Gn]=null}var jn=null,On=null,at=!1,cr=null;function _P(t,e){var n=Kn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function $_(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,jn=t,On=co(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,jn=t,On=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=ms!==null?{id:si,overflow:ai}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Kn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,jn=t,On=null,!0):!1;default:return!1}}function Cv(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Sv(t){if(at){var e=On;if(e){var n=e;if(!$_(t,e)){if(Cv(t))throw Error(Q(418));e=co(n.nextSibling);var r=jn;e&&$_(t,e)?_P(r,n):(t.flags=t.flags&-4097|2,at=!1,jn=t)}}else{if(Cv(t))throw Error(Q(418));t.flags=t.flags&-4097|2,at=!1,jn=t}}}function U_(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;jn=t}function yd(t){if(t!==jn)return!1;if(!at)return U_(t),at=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!_v(t.type,t.memoizedProps)),e&&(e=On)){if(Cv(t))throw EP(),Error(Q(418));for(;e;)_P(t,e),e=co(e.nextSibling)}if(U_(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(Q(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){On=co(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}On=null}}else On=jn?co(t.stateNode.nextSibling):null;return!0}function EP(){for(var t=On;t;)t=co(t.nextSibling)}function Fa(){On=jn=null,at=!1}function T0(t){cr===null?cr=[t]:cr.push(t)}var V4=Ri.ReactCurrentBatchConfig;function Hl(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(Q(309));var r=n.stateNode}if(!r)throw Error(Q(147,t));var i=r,o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(s){var a=i.refs;s===null?delete a[o]:a[o]=s},e._stringRef=o,e)}if(typeof t!="string")throw Error(Q(284));if(!n._owner)throw Error(Q(290,t))}return t}function wd(t,e){throw t=Object.prototype.toString.call(e),Error(Q(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function B_(t){var e=t._init;return e(t._payload)}function bP(t){function e(x,v){if(t){var E=x.deletions;E===null?(x.deletions=[v],x.flags|=16):E.push(v)}}function n(x,v){if(!t)return null;for(;v!==null;)e(x,v),v=v.sibling;return null}function r(x,v){for(x=new Map;v!==null;)v.key!==null?x.set(v.key,v):x.set(v.index,v),v=v.sibling;return x}function i(x,v){return x=po(x,v),x.index=0,x.sibling=null,x}function o(x,v,E){return x.index=E,t?(E=x.alternate,E!==null?(E=E.index,E<v?(x.flags|=2,v):E):(x.flags|=2,v)):(x.flags|=1048576,v)}function s(x){return t&&x.alternate===null&&(x.flags|=2),x}function a(x,v,E,S){return v===null||v.tag!==6?(v=Jm(E,x.mode,S),v.return=x,v):(v=i(v,E),v.return=x,v)}function l(x,v,E,S){var R=E.type;return R===oa?u(x,v,E.props.children,S,E.key):v!==null&&(v.elementType===R||typeof R=="object"&&R!==null&&R.$$typeof===Gi&&B_(R)===v.type)?(S=i(v,E.props),S.ref=Hl(x,v,E),S.return=x,S):(S=rf(E.type,E.key,E.props,null,x.mode,S),S.ref=Hl(x,v,E),S.return=x,S)}function c(x,v,E,S){return v===null||v.tag!==4||v.stateNode.containerInfo!==E.containerInfo||v.stateNode.implementation!==E.implementation?(v=Zm(E,x.mode,S),v.return=x,v):(v=i(v,E.children||[]),v.return=x,v)}function u(x,v,E,S,R){return v===null||v.tag!==7?(v=fs(E,x.mode,S,R),v.return=x,v):(v=i(v,E),v.return=x,v)}function f(x,v,E){if(typeof v=="string"&&v!==""||typeof v=="number")return v=Jm(""+v,x.mode,E),v.return=x,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case ld:return E=rf(v.type,v.key,v.props,null,x.mode,E),E.ref=Hl(x,null,v),E.return=x,E;case ia:return v=Zm(v,x.mode,E),v.return=x,v;case Gi:var S=v._init;return f(x,S(v._payload),E)}if(tc(v)||$l(v))return v=fs(v,x.mode,E,null),v.return=x,v;wd(x,v)}return null}function h(x,v,E,S){var R=v!==null?v.key:null;if(typeof E=="string"&&E!==""||typeof E=="number")return R!==null?null:a(x,v,""+E,S);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case ld:return E.key===R?l(x,v,E,S):null;case ia:return E.key===R?c(x,v,E,S):null;case Gi:return R=E._init,h(x,v,R(E._payload),S)}if(tc(E)||$l(E))return R!==null?null:u(x,v,E,S,null);wd(x,E)}return null}function g(x,v,E,S,R){if(typeof S=="string"&&S!==""||typeof S=="number")return x=x.get(E)||null,a(v,x,""+S,R);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case ld:return x=x.get(S.key===null?E:S.key)||null,l(v,x,S,R);case ia:return x=x.get(S.key===null?E:S.key)||null,c(v,x,S,R);case Gi:var D=S._init;return g(x,v,E,D(S._payload),R)}if(tc(S)||$l(S))return x=x.get(E)||null,u(v,x,S,R,null);wd(v,S)}return null}function w(x,v,E,S){for(var R=null,D=null,P=v,C=v=0,I=null;P!==null&&C<E.length;C++){P.index>C?(I=P,P=null):I=P.sibling;var A=h(x,P,E[C],S);if(A===null){P===null&&(P=I);break}t&&P&&A.alternate===null&&e(x,P),v=o(A,v,C),D===null?R=A:D.sibling=A,D=A,P=I}if(C===E.length)return n(x,P),at&&Jo(x,C),R;if(P===null){for(;C<E.length;C++)P=f(x,E[C],S),P!==null&&(v=o(P,v,C),D===null?R=P:D.sibling=P,D=P);return at&&Jo(x,C),R}for(P=r(x,P);C<E.length;C++)I=g(P,x,C,E[C],S),I!==null&&(t&&I.alternate!==null&&P.delete(I.key===null?C:I.key),v=o(I,v,C),D===null?R=I:D.sibling=I,D=I);return t&&P.forEach(function(M){return e(x,M)}),at&&Jo(x,C),R}function y(x,v,E,S){var R=$l(E);if(typeof R!="function")throw Error(Q(150));if(E=R.call(E),E==null)throw Error(Q(151));for(var D=R=null,P=v,C=v=0,I=null,A=E.next();P!==null&&!A.done;C++,A=E.next()){P.index>C?(I=P,P=null):I=P.sibling;var M=h(x,P,A.value,S);if(M===null){P===null&&(P=I);break}t&&P&&M.alternate===null&&e(x,P),v=o(M,v,C),D===null?R=M:D.sibling=M,D=M,P=I}if(A.done)return n(x,P),at&&Jo(x,C),R;if(P===null){for(;!A.done;C++,A=E.next())A=f(x,A.value,S),A!==null&&(v=o(A,v,C),D===null?R=A:D.sibling=A,D=A);return at&&Jo(x,C),R}for(P=r(x,P);!A.done;C++,A=E.next())A=g(P,x,C,A.value,S),A!==null&&(t&&A.alternate!==null&&P.delete(A.key===null?C:A.key),v=o(A,v,C),D===null?R=A:D.sibling=A,D=A);return t&&P.forEach(function(O){return e(x,O)}),at&&Jo(x,C),R}function b(x,v,E,S){if(typeof E=="object"&&E!==null&&E.type===oa&&E.key===null&&(E=E.props.children),typeof E=="object"&&E!==null){switch(E.$$typeof){case ld:e:{for(var R=E.key,D=v;D!==null;){if(D.key===R){if(R=E.type,R===oa){if(D.tag===7){n(x,D.sibling),v=i(D,E.props.children),v.return=x,x=v;break e}}else if(D.elementType===R||typeof R=="object"&&R!==null&&R.$$typeof===Gi&&B_(R)===D.type){n(x,D.sibling),v=i(D,E.props),v.ref=Hl(x,D,E),v.return=x,x=v;break e}n(x,D);break}else e(x,D);D=D.sibling}E.type===oa?(v=fs(E.props.children,x.mode,S,E.key),v.return=x,x=v):(S=rf(E.type,E.key,E.props,null,x.mode,S),S.ref=Hl(x,v,E),S.return=x,x=S)}return s(x);case ia:e:{for(D=E.key;v!==null;){if(v.key===D)if(v.tag===4&&v.stateNode.containerInfo===E.containerInfo&&v.stateNode.implementation===E.implementation){n(x,v.sibling),v=i(v,E.children||[]),v.return=x,x=v;break e}else{n(x,v);break}else e(x,v);v=v.sibling}v=Zm(E,x.mode,S),v.return=x,x=v}return s(x);case Gi:return D=E._init,b(x,v,D(E._payload),S)}if(tc(E))return w(x,v,E,S);if($l(E))return y(x,v,E,S);wd(x,E)}return typeof E=="string"&&E!==""||typeof E=="number"?(E=""+E,v!==null&&v.tag===6?(n(x,v.sibling),v=i(v,E),v.return=x,x=v):(n(x,v),v=Jm(E,x.mode,S),v.return=x,x=v),s(x)):n(x,v)}return b}var $a=bP(!0),TP=bP(!1),Of=jo(null),Lf=null,ha=null,C0=null;function S0(){C0=ha=Lf=null}function P0(t){var e=Of.current;ot(Of),t._currentValue=e}function Pv(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Pa(t,e){Lf=t,C0=ha=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(bn=!0),t.firstContext=null)}function Zn(t){var e=t._currentValue;if(C0!==t)if(t={context:t,memoizedValue:e,next:null},ha===null){if(Lf===null)throw Error(Q(308));ha=t,Lf.dependencies={lanes:0,firstContext:t}}else ha=ha.next=t;return e}var ss=null;function I0(t){ss===null?ss=[t]:ss.push(t)}function CP(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,I0(e)):(n.next=i.next,i.next=n),e.interleaved=n,yi(t,r)}function yi(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Yi=!1;function A0(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function SP(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function di(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function uo(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Oe&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,yi(t,n)}return i=r.interleaved,i===null?(e.next=e,I0(r)):(e.next=i.next,i.next=e),r.interleaved=e,yi(t,n)}function Xd(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,p0(t,n)}}function W_(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=s:o=o.next=s,n=n.next}while(n!==null);o===null?i=o=e:o=o.next=e}else i=o=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Vf(t,e,n,r){var i=t.updateQueue;Yi=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,c=l.next;l.next=null,s===null?o=c:s.next=c,s=l;var u=t.alternate;u!==null&&(u=u.updateQueue,a=u.lastBaseUpdate,a!==s&&(a===null?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(o!==null){var f=i.baseState;s=0,u=c=l=null,a=o;do{var h=a.lane,g=a.eventTime;if((r&h)===h){u!==null&&(u=u.next={eventTime:g,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var w=t,y=a;switch(h=e,g=n,y.tag){case 1:if(w=y.payload,typeof w=="function"){f=w.call(g,f,h);break e}f=w;break e;case 3:w.flags=w.flags&-65537|128;case 0:if(w=y.payload,h=typeof w=="function"?w.call(g,f,h):w,h==null)break e;f=pt({},f,h);break e;case 2:Yi=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,h=i.effects,h===null?i.effects=[a]:h.push(a))}else g={eventTime:g,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},u===null?(c=u=g,l=f):u=u.next=g,s|=h;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;h=a,a=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(1);if(u===null&&(l=f),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,e=i.shared.interleaved,e!==null){i=e;do s|=i.lane,i=i.next;while(i!==e)}else o===null&&(i.shared.lanes=0);vs|=s,t.lanes=s,t.memoizedState=f}}function z_(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(Q(191,i));i.call(r)}}}var yu={},Mr=jo(yu),Wc=jo(yu),zc=jo(yu);function as(t){if(t===yu)throw Error(Q(174));return t}function k0(t,e){switch(Qe(zc,e),Qe(Wc,t),Qe(Mr,yu),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:av(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=av(e,t)}ot(Mr),Qe(Mr,e)}function Ua(){ot(Mr),ot(Wc),ot(zc)}function PP(t){as(zc.current);var e=as(Mr.current),n=av(e,t.type);e!==n&&(Qe(Wc,t),Qe(Mr,n))}function R0(t){Wc.current===t&&(ot(Mr),ot(Wc))}var ct=jo(0);function jf(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var qm=[];function N0(){for(var t=0;t<qm.length;t++)qm[t]._workInProgressVersionPrimary=null;qm.length=0}var Jd=Ri.ReactCurrentDispatcher,Gm=Ri.ReactCurrentBatchConfig,gs=0,ft=null,Nt=null,Ft=null,Ff=!1,gc=!1,Hc=0,j4=0;function Jt(){throw Error(Q(321))}function D0(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!hr(t[n],e[n]))return!1;return!0}function M0(t,e,n,r,i,o){if(gs=o,ft=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Jd.current=t===null||t.memoizedState===null?B4:W4,t=n(r,i),gc){o=0;do{if(gc=!1,Hc=0,25<=o)throw Error(Q(301));o+=1,Ft=Nt=null,e.updateQueue=null,Jd.current=z4,t=n(r,i)}while(gc)}if(Jd.current=$f,e=Nt!==null&&Nt.next!==null,gs=0,Ft=Nt=ft=null,Ff=!1,e)throw Error(Q(300));return t}function O0(){var t=Hc!==0;return Hc=0,t}function Cr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ft===null?ft.memoizedState=Ft=t:Ft=Ft.next=t,Ft}function er(){if(Nt===null){var t=ft.alternate;t=t!==null?t.memoizedState:null}else t=Nt.next;var e=Ft===null?ft.memoizedState:Ft.next;if(e!==null)Ft=e,Nt=t;else{if(t===null)throw Error(Q(310));Nt=t,t={memoizedState:Nt.memoizedState,baseState:Nt.baseState,baseQueue:Nt.baseQueue,queue:Nt.queue,next:null},Ft===null?ft.memoizedState=Ft=t:Ft=Ft.next=t}return Ft}function qc(t,e){return typeof e=="function"?e(t):e}function Ym(t){var e=er(),n=e.queue;if(n===null)throw Error(Q(311));n.lastRenderedReducer=t;var r=Nt,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var a=s=null,l=null,c=o;do{var u=c.lane;if((gs&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var f={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=f,s=r):l=l.next=f,ft.lanes|=u,vs|=u}c=c.next}while(c!==null&&c!==o);l===null?s=r:l.next=a,hr(r,e.memoizedState)||(bn=!0),e.memoizedState=r,e.baseState=s,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do o=i.lane,ft.lanes|=o,vs|=o,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Km(t){var e=er(),n=e.queue;if(n===null)throw Error(Q(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,o=e.memoizedState;if(i!==null){n.pending=null;var s=i=i.next;do o=t(o,s.action),s=s.next;while(s!==i);hr(o,e.memoizedState)||(bn=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),n.lastRenderedState=o}return[o,r]}function IP(){}function AP(t,e){var n=ft,r=er(),i=e(),o=!hr(r.memoizedState,i);if(o&&(r.memoizedState=i,bn=!0),r=r.queue,L0(NP.bind(null,n,r,t),[t]),r.getSnapshot!==e||o||Ft!==null&&Ft.memoizedState.tag&1){if(n.flags|=2048,Gc(9,RP.bind(null,n,r,i,e),void 0,null),$t===null)throw Error(Q(349));gs&30||kP(n,e,i)}return i}function kP(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=ft.updateQueue,e===null?(e={lastEffect:null,stores:null},ft.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function RP(t,e,n,r){e.value=n,e.getSnapshot=r,DP(e)&&MP(t)}function NP(t,e,n){return n(function(){DP(e)&&MP(t)})}function DP(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!hr(t,n)}catch{return!0}}function MP(t){var e=yi(t,1);e!==null&&fr(e,t,1,-1)}function H_(t){var e=Cr();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:qc,lastRenderedState:t},e.queue=t,t=t.dispatch=U4.bind(null,ft,t),[e.memoizedState,t]}function Gc(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=ft.updateQueue,e===null?(e={lastEffect:null,stores:null},ft.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function OP(){return er().memoizedState}function Zd(t,e,n,r){var i=Cr();ft.flags|=t,i.memoizedState=Gc(1|e,n,void 0,r===void 0?null:r)}function Xh(t,e,n,r){var i=er();r=r===void 0?null:r;var o=void 0;if(Nt!==null){var s=Nt.memoizedState;if(o=s.destroy,r!==null&&D0(r,s.deps)){i.memoizedState=Gc(e,n,o,r);return}}ft.flags|=t,i.memoizedState=Gc(1|e,n,o,r)}function q_(t,e){return Zd(8390656,8,t,e)}function L0(t,e){return Xh(2048,8,t,e)}function LP(t,e){return Xh(4,2,t,e)}function VP(t,e){return Xh(4,4,t,e)}function jP(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function FP(t,e,n){return n=n!=null?n.concat([t]):null,Xh(4,4,jP.bind(null,e,t),n)}function V0(){}function $P(t,e){var n=er();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&D0(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function UP(t,e){var n=er();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&D0(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function BP(t,e,n){return gs&21?(hr(n,e)||(n=GS(),ft.lanes|=n,vs|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,bn=!0),t.memoizedState=n)}function F4(t,e){var n=qe;qe=n!==0&&4>n?n:4,t(!0);var r=Gm.transition;Gm.transition={};try{t(!1),e()}finally{qe=n,Gm.transition=r}}function WP(){return er().memoizedState}function $4(t,e,n){var r=ho(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},zP(t))HP(e,n);else if(n=CP(t,e,n,r),n!==null){var i=vn();fr(n,t,r,i),qP(n,e,r)}}function U4(t,e,n){var r=ho(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(zP(t))HP(e,i);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var s=e.lastRenderedState,a=o(s,n);if(i.hasEagerState=!0,i.eagerState=a,hr(a,s)){var l=e.interleaved;l===null?(i.next=i,I0(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=CP(t,e,i,r),n!==null&&(i=vn(),fr(n,t,r,i),qP(n,e,r))}}function zP(t){var e=t.alternate;return t===ft||e!==null&&e===ft}function HP(t,e){gc=Ff=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function qP(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,p0(t,n)}}var $f={readContext:Zn,useCallback:Jt,useContext:Jt,useEffect:Jt,useImperativeHandle:Jt,useInsertionEffect:Jt,useLayoutEffect:Jt,useMemo:Jt,useReducer:Jt,useRef:Jt,useState:Jt,useDebugValue:Jt,useDeferredValue:Jt,useTransition:Jt,useMutableSource:Jt,useSyncExternalStore:Jt,useId:Jt,unstable_isNewReconciler:!1},B4={readContext:Zn,useCallback:function(t,e){return Cr().memoizedState=[t,e===void 0?null:e],t},useContext:Zn,useEffect:q_,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Zd(4194308,4,jP.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Zd(4194308,4,t,e)},useInsertionEffect:function(t,e){return Zd(4,2,t,e)},useMemo:function(t,e){var n=Cr();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Cr();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=$4.bind(null,ft,t),[r.memoizedState,t]},useRef:function(t){var e=Cr();return t={current:t},e.memoizedState=t},useState:H_,useDebugValue:V0,useDeferredValue:function(t){return Cr().memoizedState=t},useTransition:function(){var t=H_(!1),e=t[0];return t=F4.bind(null,t[1]),Cr().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=ft,i=Cr();if(at){if(n===void 0)throw Error(Q(407));n=n()}else{if(n=e(),$t===null)throw Error(Q(349));gs&30||kP(r,e,n)}i.memoizedState=n;var o={value:n,getSnapshot:e};return i.queue=o,q_(NP.bind(null,r,o,t),[t]),r.flags|=2048,Gc(9,RP.bind(null,r,o,n,e),void 0,null),n},useId:function(){var t=Cr(),e=$t.identifierPrefix;if(at){var n=ai,r=si;n=(r&~(1<<32-dr(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Hc++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=j4++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},W4={readContext:Zn,useCallback:$P,useContext:Zn,useEffect:L0,useImperativeHandle:FP,useInsertionEffect:LP,useLayoutEffect:VP,useMemo:UP,useReducer:Ym,useRef:OP,useState:function(){return Ym(qc)},useDebugValue:V0,useDeferredValue:function(t){var e=er();return BP(e,Nt.memoizedState,t)},useTransition:function(){var t=Ym(qc)[0],e=er().memoizedState;return[t,e]},useMutableSource:IP,useSyncExternalStore:AP,useId:WP,unstable_isNewReconciler:!1},z4={readContext:Zn,useCallback:$P,useContext:Zn,useEffect:L0,useImperativeHandle:FP,useInsertionEffect:LP,useLayoutEffect:VP,useMemo:UP,useReducer:Km,useRef:OP,useState:function(){return Km(qc)},useDebugValue:V0,useDeferredValue:function(t){var e=er();return Nt===null?e.memoizedState=t:BP(e,Nt.memoizedState,t)},useTransition:function(){var t=Km(qc)[0],e=er().memoizedState;return[t,e]},useMutableSource:IP,useSyncExternalStore:AP,useId:WP,unstable_isNewReconciler:!1};function ar(t,e){if(t&&t.defaultProps){e=pt({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Iv(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:pt({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Jh={isMounted:function(t){return(t=t._reactInternals)?Rs(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=vn(),i=ho(t),o=di(r,i);o.payload=e,n!=null&&(o.callback=n),e=uo(t,o,i),e!==null&&(fr(e,t,i,r),Xd(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=vn(),i=ho(t),o=di(r,i);o.tag=1,o.payload=e,n!=null&&(o.callback=n),e=uo(t,o,i),e!==null&&(fr(e,t,i,r),Xd(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=vn(),r=ho(t),i=di(n,r);i.tag=2,e!=null&&(i.callback=e),e=uo(t,i,r),e!==null&&(fr(e,t,r,n),Xd(e,t,r))}};function G_(t,e,n,r,i,o,s){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,o,s):e.prototype&&e.prototype.isPureReactComponent?!Fc(n,r)||!Fc(i,o):!0}function GP(t,e,n){var r=!1,i=So,o=e.contextType;return typeof o=="object"&&o!==null?o=Zn(o):(i=Sn(e)?ps:an.current,r=e.contextTypes,o=(r=r!=null)?ja(t,i):So),e=new e(n,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Jh,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=o),e}function Y_(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Jh.enqueueReplaceState(e,e.state,null)}function Av(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},A0(t);var o=e.contextType;typeof o=="object"&&o!==null?i.context=Zn(o):(o=Sn(e)?ps:an.current,i.context=ja(t,o)),i.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(Iv(t,e,o,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Jh.enqueueReplaceState(i,i.state,null),Vf(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Ba(t,e){try{var n="",r=e;do n+=yL(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:i,digest:null}}function Qm(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function kv(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var H4=typeof WeakMap=="function"?WeakMap:Map;function YP(t,e,n){n=di(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Bf||(Bf=!0,$v=r),kv(t,e)},n}function KP(t,e,n){n=di(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){kv(t,e)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){kv(t,e),typeof r!="function"&&(fo===null?fo=new Set([this]):fo.add(this));var s=e.stack;this.componentDidCatch(e.value,{componentStack:s!==null?s:""})}),n}function K_(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new H4;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=oV.bind(null,t,e,n),e.then(t,t))}function Q_(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function X_(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=di(-1,1),e.tag=2,uo(n,e,1))),n.lanes|=1),t)}var q4=Ri.ReactCurrentOwner,bn=!1;function mn(t,e,n,r){e.child=t===null?TP(e,null,n,r):$a(e,t.child,n,r)}function J_(t,e,n,r,i){n=n.render;var o=e.ref;return Pa(e,i),r=M0(t,e,n,r,o,i),n=O0(),t!==null&&!bn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,wi(t,e,i)):(at&&n&&E0(e),e.flags|=1,mn(t,e,r,i),e.child)}function Z_(t,e,n,r,i){if(t===null){var o=n.type;return typeof o=="function"&&!H0(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=o,QP(t,e,o,r,i)):(t=rf(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,!(t.lanes&i)){var s=o.memoizedProps;if(n=n.compare,n=n!==null?n:Fc,n(s,r)&&t.ref===e.ref)return wi(t,e,i)}return e.flags|=1,t=po(o,r),t.ref=e.ref,t.return=e,e.child=t}function QP(t,e,n,r,i){if(t!==null){var o=t.memoizedProps;if(Fc(o,r)&&t.ref===e.ref)if(bn=!1,e.pendingProps=r=o,(t.lanes&i)!==0)t.flags&131072&&(bn=!0);else return e.lanes=t.lanes,wi(t,e,i)}return Rv(t,e,n,r,i)}function XP(t,e,n){var r=e.pendingProps,i=r.children,o=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Qe(ma,Nn),Nn|=n;else{if(!(n&1073741824))return t=o!==null?o.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Qe(ma,Nn),Nn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,Qe(ma,Nn),Nn|=r}else o!==null?(r=o.baseLanes|n,e.memoizedState=null):r=n,Qe(ma,Nn),Nn|=r;return mn(t,e,i,n),e.child}function JP(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Rv(t,e,n,r,i){var o=Sn(n)?ps:an.current;return o=ja(e,o),Pa(e,i),n=M0(t,e,n,r,o,i),r=O0(),t!==null&&!bn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,wi(t,e,i)):(at&&r&&E0(e),e.flags|=1,mn(t,e,n,i),e.child)}function eE(t,e,n,r,i){if(Sn(n)){var o=!0;Nf(e)}else o=!1;if(Pa(e,i),e.stateNode===null)ef(t,e),GP(e,n,r),Av(e,n,r,i),r=!0;else if(t===null){var s=e.stateNode,a=e.memoizedProps;s.props=a;var l=s.context,c=n.contextType;typeof c=="object"&&c!==null?c=Zn(c):(c=Sn(n)?ps:an.current,c=ja(e,c));var u=n.getDerivedStateFromProps,f=typeof u=="function"||typeof s.getSnapshotBeforeUpdate=="function";f||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==r||l!==c)&&Y_(e,s,r,c),Yi=!1;var h=e.memoizedState;s.state=h,Vf(e,r,s,i),l=e.memoizedState,a!==r||h!==l||Cn.current||Yi?(typeof u=="function"&&(Iv(e,n,u,r),l=e.memoizedState),(a=Yi||G_(e,n,a,r,h,l,c))?(f||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(e.flags|=4194308)):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),s.props=r,s.state=l,s.context=c,r=a):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{s=e.stateNode,SP(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:ar(e.type,a),s.props=c,f=e.pendingProps,h=s.context,l=n.contextType,typeof l=="object"&&l!==null?l=Zn(l):(l=Sn(n)?ps:an.current,l=ja(e,l));var g=n.getDerivedStateFromProps;(u=typeof g=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==f||h!==l)&&Y_(e,s,r,l),Yi=!1,h=e.memoizedState,s.state=h,Vf(e,r,s,i);var w=e.memoizedState;a!==f||h!==w||Cn.current||Yi?(typeof g=="function"&&(Iv(e,n,g,r),w=e.memoizedState),(c=Yi||G_(e,n,c,r,h,w,l)||!1)?(u||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,w,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,w,l)),typeof s.componentDidUpdate=="function"&&(e.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=w),s.props=r,s.state=w,s.context=l,r=c):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),r=!1)}return Nv(t,e,n,r,o,i)}function Nv(t,e,n,r,i,o){JP(t,e);var s=(e.flags&128)!==0;if(!r&&!s)return i&&F_(e,n,!1),wi(t,e,o);r=e.stateNode,q4.current=e;var a=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&s?(e.child=$a(e,t.child,null,o),e.child=$a(e,null,a,o)):mn(t,e,a,o),e.memoizedState=r.state,i&&F_(e,n,!0),e.child}function ZP(t){var e=t.stateNode;e.pendingContext?j_(t,e.pendingContext,e.pendingContext!==e.context):e.context&&j_(t,e.context,!1),k0(t,e.containerInfo)}function tE(t,e,n,r,i){return Fa(),T0(i),e.flags|=256,mn(t,e,n,r),e.child}var Dv={dehydrated:null,treeContext:null,retryLane:0};function Mv(t){return{baseLanes:t,cachePool:null,transitions:null}}function eI(t,e,n){var r=e.pendingProps,i=ct.current,o=!1,s=(e.flags&128)!==0,a;if((a=s)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(o=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Qe(ct,i&1),t===null)return Sv(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(s=r.children,t=r.fallback,o?(r=e.mode,o=e.child,s={mode:"hidden",children:s},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=s):o=tp(s,r,0,null),t=fs(t,r,n,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=Mv(n),e.memoizedState=Dv,t):j0(e,s));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return G4(t,e,s,r,a,i,n);if(o){o=r.fallback,s=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(s&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=po(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?o=po(a,o):(o=fs(o,s,n,null),o.flags|=2),o.return=e,r.return=e,r.sibling=o,e.child=r,r=o,o=e.child,s=t.child.memoizedState,s=s===null?Mv(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},o.memoizedState=s,o.childLanes=t.childLanes&~n,e.memoizedState=Dv,r}return o=t.child,t=o.sibling,r=po(o,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function j0(t,e){return e=tp({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function xd(t,e,n,r){return r!==null&&T0(r),$a(e,t.child,null,n),t=j0(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function G4(t,e,n,r,i,o,s){if(n)return e.flags&256?(e.flags&=-257,r=Qm(Error(Q(422))),xd(t,e,s,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(o=r.fallback,i=e.mode,r=tp({mode:"visible",children:r.children},i,0,null),o=fs(o,i,s,null),o.flags|=2,r.return=e,o.return=e,r.sibling=o,e.child=r,e.mode&1&&$a(e,t.child,null,s),e.child.memoizedState=Mv(s),e.memoizedState=Dv,o);if(!(e.mode&1))return xd(t,e,s,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,o=Error(Q(419)),r=Qm(o,r,void 0),xd(t,e,s,r)}if(a=(s&t.childLanes)!==0,bn||a){if(r=$t,r!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|s)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,yi(t,i),fr(r,t,i,-1))}return z0(),r=Qm(Error(Q(421))),xd(t,e,s,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=sV.bind(null,t),i._reactRetry=e,null):(t=o.treeContext,On=co(i.nextSibling),jn=e,at=!0,cr=null,t!==null&&(qn[Gn++]=si,qn[Gn++]=ai,qn[Gn++]=ms,si=t.id,ai=t.overflow,ms=e),e=j0(e,r.children),e.flags|=4096,e)}function nE(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Pv(t.return,e,n)}function Xm(t,e,n,r,i){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function tI(t,e,n){var r=e.pendingProps,i=r.revealOrder,o=r.tail;if(mn(t,e,r.children,n),r=ct.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&nE(t,n,e);else if(t.tag===19)nE(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Qe(ct,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&jf(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Xm(e,!1,i,n,o);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&jf(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Xm(e,!0,n,null,o);break;case"together":Xm(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function ef(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function wi(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),vs|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(Q(153));if(e.child!==null){for(t=e.child,n=po(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=po(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function Y4(t,e,n){switch(e.tag){case 3:ZP(e),Fa();break;case 5:PP(e);break;case 1:Sn(e.type)&&Nf(e);break;case 4:k0(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Qe(Of,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Qe(ct,ct.current&1),e.flags|=128,null):n&e.child.childLanes?eI(t,e,n):(Qe(ct,ct.current&1),t=wi(t,e,n),t!==null?t.sibling:null);Qe(ct,ct.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return tI(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Qe(ct,ct.current),r)break;return null;case 22:case 23:return e.lanes=0,XP(t,e,n)}return wi(t,e,n)}var nI,Ov,rI,iI;nI=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Ov=function(){};rI=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,as(Mr.current);var o=null;switch(n){case"input":i=rv(t,i),r=rv(t,r),o=[];break;case"select":i=pt({},i,{value:void 0}),r=pt({},r,{value:void 0}),o=[];break;case"textarea":i=sv(t,i),r=sv(t,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=kf)}lv(n,r);var s;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var a=i[c];for(s in a)a.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Nc.hasOwnProperty(c)?o||(o=[]):(o=o||[]).push(c,null));for(c in r){var l=r[c];if(a=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(s in a)!a.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in l)l.hasOwnProperty(s)&&a[s]!==l[s]&&(n||(n={}),n[s]=l[s])}else n||(o||(o=[]),o.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(o=o||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(o=o||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Nc.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&nt("scroll",t),o||a===l||(o=[])):(o=o||[]).push(c,l))}n&&(o=o||[]).push("style",n);var c=o;(e.updateQueue=c)&&(e.flags|=4)}};iI=function(t,e,n,r){n!==r&&(e.flags|=4)};function ql(t,e){if(!at)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Zt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function K4(t,e,n){var r=e.pendingProps;switch(b0(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Zt(e),null;case 1:return Sn(e.type)&&Rf(),Zt(e),null;case 3:return r=e.stateNode,Ua(),ot(Cn),ot(an),N0(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(yd(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,cr!==null&&(Wv(cr),cr=null))),Ov(t,e),Zt(e),null;case 5:R0(e);var i=as(zc.current);if(n=e.type,t!==null&&e.stateNode!=null)rI(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(Q(166));return Zt(e),null}if(t=as(Mr.current),yd(e)){r=e.stateNode,n=e.type;var o=e.memoizedProps;switch(r[Pr]=e,r[Bc]=o,t=(e.mode&1)!==0,n){case"dialog":nt("cancel",r),nt("close",r);break;case"iframe":case"object":case"embed":nt("load",r);break;case"video":case"audio":for(i=0;i<rc.length;i++)nt(rc[i],r);break;case"source":nt("error",r);break;case"img":case"image":case"link":nt("error",r),nt("load",r);break;case"details":nt("toggle",r);break;case"input":d_(r,o),nt("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},nt("invalid",r);break;case"textarea":h_(r,o),nt("invalid",r)}lv(n,o),i=null;for(var s in o)if(o.hasOwnProperty(s)){var a=o[s];s==="children"?typeof a=="string"?r.textContent!==a&&(o.suppressHydrationWarning!==!0&&vd(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(o.suppressHydrationWarning!==!0&&vd(r.textContent,a,t),i=["children",""+a]):Nc.hasOwnProperty(s)&&a!=null&&s==="onScroll"&&nt("scroll",r)}switch(n){case"input":cd(r),f_(r,o,!0);break;case"textarea":cd(r),p_(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=kf)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=NS(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=s.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=s.createElement(n,{is:r.is}):(t=s.createElement(n),n==="select"&&(s=t,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):t=s.createElementNS(t,n),t[Pr]=e,t[Bc]=r,nI(t,e,!1,!1),e.stateNode=t;e:{switch(s=cv(n,r),n){case"dialog":nt("cancel",t),nt("close",t),i=r;break;case"iframe":case"object":case"embed":nt("load",t),i=r;break;case"video":case"audio":for(i=0;i<rc.length;i++)nt(rc[i],t);i=r;break;case"source":nt("error",t),i=r;break;case"img":case"image":case"link":nt("error",t),nt("load",t),i=r;break;case"details":nt("toggle",t),i=r;break;case"input":d_(t,r),i=rv(t,r),nt("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=pt({},r,{value:void 0}),nt("invalid",t);break;case"textarea":h_(t,r),i=sv(t,r),nt("invalid",t);break;default:i=r}lv(n,i),a=i;for(o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="style"?OS(t,l):o==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&DS(t,l)):o==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Dc(t,l):typeof l=="number"&&Dc(t,""+l):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(Nc.hasOwnProperty(o)?l!=null&&o==="onScroll"&&nt("scroll",t):l!=null&&l0(t,o,l,s))}switch(n){case"input":cd(t),f_(t,r,!1);break;case"textarea":cd(t),p_(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Co(r.value));break;case"select":t.multiple=!!r.multiple,o=r.value,o!=null?ba(t,!!r.multiple,o,!1):r.defaultValue!=null&&ba(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=kf)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Zt(e),null;case 6:if(t&&e.stateNode!=null)iI(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(Q(166));if(n=as(zc.current),as(Mr.current),yd(e)){if(r=e.stateNode,n=e.memoizedProps,r[Pr]=e,(o=r.nodeValue!==n)&&(t=jn,t!==null))switch(t.tag){case 3:vd(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&vd(r.nodeValue,n,(t.mode&1)!==0)}o&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Pr]=e,e.stateNode=r}return Zt(e),null;case 13:if(ot(ct),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(at&&On!==null&&e.mode&1&&!(e.flags&128))EP(),Fa(),e.flags|=98560,o=!1;else if(o=yd(e),r!==null&&r.dehydrated!==null){if(t===null){if(!o)throw Error(Q(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(Q(317));o[Pr]=e}else Fa(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Zt(e),o=!1}else cr!==null&&(Wv(cr),cr=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||ct.current&1?Ot===0&&(Ot=3):z0())),e.updateQueue!==null&&(e.flags|=4),Zt(e),null);case 4:return Ua(),Ov(t,e),t===null&&$c(e.stateNode.containerInfo),Zt(e),null;case 10:return P0(e.type._context),Zt(e),null;case 17:return Sn(e.type)&&Rf(),Zt(e),null;case 19:if(ot(ct),o=e.memoizedState,o===null)return Zt(e),null;if(r=(e.flags&128)!==0,s=o.rendering,s===null)if(r)ql(o,!1);else{if(Ot!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(s=jf(t),s!==null){for(e.flags|=128,ql(o,!1),r=s.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)o=n,t=r,o.flags&=14680066,s=o.alternate,s===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,t=s.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Qe(ct,ct.current&1|2),e.child}t=t.sibling}o.tail!==null&&_t()>Wa&&(e.flags|=128,r=!0,ql(o,!1),e.lanes=4194304)}else{if(!r)if(t=jf(s),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),ql(o,!0),o.tail===null&&o.tailMode==="hidden"&&!s.alternate&&!at)return Zt(e),null}else 2*_t()-o.renderingStartTime>Wa&&n!==1073741824&&(e.flags|=128,r=!0,ql(o,!1),e.lanes=4194304);o.isBackwards?(s.sibling=e.child,e.child=s):(n=o.last,n!==null?n.sibling=s:e.child=s,o.last=s)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=_t(),e.sibling=null,n=ct.current,Qe(ct,r?n&1|2:n&1),e):(Zt(e),null);case 22:case 23:return W0(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Nn&1073741824&&(Zt(e),e.subtreeFlags&6&&(e.flags|=8192)):Zt(e),null;case 24:return null;case 25:return null}throw Error(Q(156,e.tag))}function Q4(t,e){switch(b0(e),e.tag){case 1:return Sn(e.type)&&Rf(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Ua(),ot(Cn),ot(an),N0(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return R0(e),null;case 13:if(ot(ct),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(Q(340));Fa()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return ot(ct),null;case 4:return Ua(),null;case 10:return P0(e.type._context),null;case 22:case 23:return W0(),null;case 24:return null;default:return null}}var _d=!1,rn=!1,X4=typeof WeakSet=="function"?WeakSet:Set,ae=null;function pa(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){vt(t,e,r)}else n.current=null}function Lv(t,e,n){try{n()}catch(r){vt(t,e,r)}}var rE=!1;function J4(t,e){if(wv=Pf,t=cP(),_0(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var s=0,a=-1,l=-1,c=0,u=0,f=t,h=null;t:for(;;){for(var g;f!==n||i!==0&&f.nodeType!==3||(a=s+i),f!==o||r!==0&&f.nodeType!==3||(l=s+r),f.nodeType===3&&(s+=f.nodeValue.length),(g=f.firstChild)!==null;)h=f,f=g;for(;;){if(f===t)break t;if(h===n&&++c===i&&(a=s),h===o&&++u===r&&(l=s),(g=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=g}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(xv={focusedElem:t,selectionRange:n},Pf=!1,ae=e;ae!==null;)if(e=ae,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,ae=t;else for(;ae!==null;){e=ae;try{var w=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(w!==null){var y=w.memoizedProps,b=w.memoizedState,x=e.stateNode,v=x.getSnapshotBeforeUpdate(e.elementType===e.type?y:ar(e.type,y),b);x.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var E=e.stateNode.containerInfo;E.nodeType===1?E.textContent="":E.nodeType===9&&E.documentElement&&E.removeChild(E.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Q(163))}}catch(S){vt(e,e.return,S)}if(t=e.sibling,t!==null){t.return=e.return,ae=t;break}ae=e.return}return w=rE,rE=!1,w}function vc(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var o=i.destroy;i.destroy=void 0,o!==void 0&&Lv(e,n,o)}i=i.next}while(i!==r)}}function Zh(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Vv(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function oI(t){var e=t.alternate;e!==null&&(t.alternate=null,oI(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Pr],delete e[Bc],delete e[bv],delete e[M4],delete e[O4])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function sI(t){return t.tag===5||t.tag===3||t.tag===4}function iE(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||sI(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function jv(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=kf));else if(r!==4&&(t=t.child,t!==null))for(jv(t,e,n),t=t.sibling;t!==null;)jv(t,e,n),t=t.sibling}function Fv(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Fv(t,e,n),t=t.sibling;t!==null;)Fv(t,e,n),t=t.sibling}var Bt=null,lr=!1;function $i(t,e,n){for(n=n.child;n!==null;)aI(t,e,n),n=n.sibling}function aI(t,e,n){if(Dr&&typeof Dr.onCommitFiberUnmount=="function")try{Dr.onCommitFiberUnmount(Hh,n)}catch{}switch(n.tag){case 5:rn||pa(n,e);case 6:var r=Bt,i=lr;Bt=null,$i(t,e,n),Bt=r,lr=i,Bt!==null&&(lr?(t=Bt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Bt.removeChild(n.stateNode));break;case 18:Bt!==null&&(lr?(t=Bt,n=n.stateNode,t.nodeType===8?zm(t.parentNode,n):t.nodeType===1&&zm(t,n),Vc(t)):zm(Bt,n.stateNode));break;case 4:r=Bt,i=lr,Bt=n.stateNode.containerInfo,lr=!0,$i(t,e,n),Bt=r,lr=i;break;case 0:case 11:case 14:case 15:if(!rn&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,s=o.destroy;o=o.tag,s!==void 0&&(o&2||o&4)&&Lv(n,e,s),i=i.next}while(i!==r)}$i(t,e,n);break;case 1:if(!rn&&(pa(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){vt(n,e,a)}$i(t,e,n);break;case 21:$i(t,e,n);break;case 22:n.mode&1?(rn=(r=rn)||n.memoizedState!==null,$i(t,e,n),rn=r):$i(t,e,n);break;default:$i(t,e,n)}}function oE(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new X4),e.forEach(function(r){var i=aV.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function or(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=t,s=e,a=s;e:for(;a!==null;){switch(a.tag){case 5:Bt=a.stateNode,lr=!1;break e;case 3:Bt=a.stateNode.containerInfo,lr=!0;break e;case 4:Bt=a.stateNode.containerInfo,lr=!0;break e}a=a.return}if(Bt===null)throw Error(Q(160));aI(o,s,i),Bt=null,lr=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){vt(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)lI(e,t),e=e.sibling}function lI(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(or(e,t),Tr(t),r&4){try{vc(3,t,t.return),Zh(3,t)}catch(y){vt(t,t.return,y)}try{vc(5,t,t.return)}catch(y){vt(t,t.return,y)}}break;case 1:or(e,t),Tr(t),r&512&&n!==null&&pa(n,n.return);break;case 5:if(or(e,t),Tr(t),r&512&&n!==null&&pa(n,n.return),t.flags&32){var i=t.stateNode;try{Dc(i,"")}catch(y){vt(t,t.return,y)}}if(r&4&&(i=t.stateNode,i!=null)){var o=t.memoizedProps,s=n!==null?n.memoizedProps:o,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&o.type==="radio"&&o.name!=null&&kS(i,o),cv(a,s);var c=cv(a,o);for(s=0;s<l.length;s+=2){var u=l[s],f=l[s+1];u==="style"?OS(i,f):u==="dangerouslySetInnerHTML"?DS(i,f):u==="children"?Dc(i,f):l0(i,u,f,c)}switch(a){case"input":iv(i,o);break;case"textarea":RS(i,o);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var g=o.value;g!=null?ba(i,!!o.multiple,g,!1):h!==!!o.multiple&&(o.defaultValue!=null?ba(i,!!o.multiple,o.defaultValue,!0):ba(i,!!o.multiple,o.multiple?[]:"",!1))}i[Bc]=o}catch(y){vt(t,t.return,y)}}break;case 6:if(or(e,t),Tr(t),r&4){if(t.stateNode===null)throw Error(Q(162));i=t.stateNode,o=t.memoizedProps;try{i.nodeValue=o}catch(y){vt(t,t.return,y)}}break;case 3:if(or(e,t),Tr(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Vc(e.containerInfo)}catch(y){vt(t,t.return,y)}break;case 4:or(e,t),Tr(t);break;case 13:or(e,t),Tr(t),i=t.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(U0=_t())),r&4&&oE(t);break;case 22:if(u=n!==null&&n.memoizedState!==null,t.mode&1?(rn=(c=rn)||u,or(e,t),rn=c):or(e,t),Tr(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!u&&t.mode&1)for(ae=t,u=t.child;u!==null;){for(f=ae=u;ae!==null;){switch(h=ae,g=h.child,h.tag){case 0:case 11:case 14:case 15:vc(4,h,h.return);break;case 1:pa(h,h.return);var w=h.stateNode;if(typeof w.componentWillUnmount=="function"){r=h,n=h.return;try{e=r,w.props=e.memoizedProps,w.state=e.memoizedState,w.componentWillUnmount()}catch(y){vt(r,n,y)}}break;case 5:pa(h,h.return);break;case 22:if(h.memoizedState!==null){aE(f);continue}}g!==null?(g.return=h,ae=g):aE(f)}u=u.sibling}e:for(u=null,f=t;;){if(f.tag===5){if(u===null){u=f;try{i=f.stateNode,c?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(a=f.stateNode,l=f.memoizedProps.style,s=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=MS("display",s))}catch(y){vt(t,t.return,y)}}}else if(f.tag===6){if(u===null)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(y){vt(t,t.return,y)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;u===f&&(u=null),f=f.return}u===f&&(u=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:or(e,t),Tr(t),r&4&&oE(t);break;case 21:break;default:or(e,t),Tr(t)}}function Tr(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(sI(n)){var r=n;break e}n=n.return}throw Error(Q(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Dc(i,""),r.flags&=-33);var o=iE(t);Fv(t,o,i);break;case 3:case 4:var s=r.stateNode.containerInfo,a=iE(t);jv(t,a,s);break;default:throw Error(Q(161))}}catch(l){vt(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function Z4(t,e,n){ae=t,cI(t)}function cI(t,e,n){for(var r=(t.mode&1)!==0;ae!==null;){var i=ae,o=i.child;if(i.tag===22&&r){var s=i.memoizedState!==null||_d;if(!s){var a=i.alternate,l=a!==null&&a.memoizedState!==null||rn;a=_d;var c=rn;if(_d=s,(rn=l)&&!c)for(ae=i;ae!==null;)s=ae,l=s.child,s.tag===22&&s.memoizedState!==null?lE(i):l!==null?(l.return=s,ae=l):lE(i);for(;o!==null;)ae=o,cI(o),o=o.sibling;ae=i,_d=a,rn=c}sE(t)}else i.subtreeFlags&8772&&o!==null?(o.return=i,ae=o):sE(t)}}function sE(t){for(;ae!==null;){var e=ae;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:rn||Zh(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!rn)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:ar(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&z_(e,o,r);break;case 3:var s=e.updateQueue;if(s!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}z_(e,s,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var f=u.dehydrated;f!==null&&Vc(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Q(163))}rn||e.flags&512&&Vv(e)}catch(h){vt(e,e.return,h)}}if(e===t){ae=null;break}if(n=e.sibling,n!==null){n.return=e.return,ae=n;break}ae=e.return}}function aE(t){for(;ae!==null;){var e=ae;if(e===t){ae=null;break}var n=e.sibling;if(n!==null){n.return=e.return,ae=n;break}ae=e.return}}function lE(t){for(;ae!==null;){var e=ae;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Zh(4,e)}catch(l){vt(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){vt(e,i,l)}}var o=e.return;try{Vv(e)}catch(l){vt(e,o,l)}break;case 5:var s=e.return;try{Vv(e)}catch(l){vt(e,s,l)}}}catch(l){vt(e,e.return,l)}if(e===t){ae=null;break}var a=e.sibling;if(a!==null){a.return=e.return,ae=a;break}ae=e.return}}var eV=Math.ceil,Uf=Ri.ReactCurrentDispatcher,F0=Ri.ReactCurrentOwner,Qn=Ri.ReactCurrentBatchConfig,Oe=0,$t=null,Pt=null,qt=0,Nn=0,ma=jo(0),Ot=0,Yc=null,vs=0,ep=0,$0=0,yc=null,_n=null,U0=0,Wa=1/0,ri=null,Bf=!1,$v=null,fo=null,Ed=!1,ro=null,Wf=0,wc=0,Uv=null,tf=-1,nf=0;function vn(){return Oe&6?_t():tf!==-1?tf:tf=_t()}function ho(t){return t.mode&1?Oe&2&&qt!==0?qt&-qt:V4.transition!==null?(nf===0&&(nf=GS()),nf):(t=qe,t!==0||(t=window.event,t=t===void 0?16:eP(t.type)),t):1}function fr(t,e,n,r){if(50<wc)throw wc=0,Uv=null,Error(Q(185));mu(t,n,r),(!(Oe&2)||t!==$t)&&(t===$t&&(!(Oe&2)&&(ep|=n),Ot===4&&Xi(t,qt)),Pn(t,r),n===1&&Oe===0&&!(e.mode&1)&&(Wa=_t()+500,Qh&&Fo()))}function Pn(t,e){var n=t.callbackNode;VL(t,e);var r=Sf(t,t===$t?qt:0);if(r===0)n!==null&&v_(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&v_(n),e===1)t.tag===0?L4(cE.bind(null,t)):wP(cE.bind(null,t)),N4(function(){!(Oe&6)&&Fo()}),n=null;else{switch(YS(r)){case 1:n=h0;break;case 4:n=HS;break;case 16:n=Cf;break;case 536870912:n=qS;break;default:n=Cf}n=vI(n,uI.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function uI(t,e){if(tf=-1,nf=0,Oe&6)throw Error(Q(327));var n=t.callbackNode;if(Ia()&&t.callbackNode!==n)return null;var r=Sf(t,t===$t?qt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=zf(t,r);else{e=r;var i=Oe;Oe|=2;var o=fI();($t!==t||qt!==e)&&(ri=null,Wa=_t()+500,ds(t,e));do try{rV();break}catch(a){dI(t,a)}while(1);S0(),Uf.current=o,Oe=i,Pt!==null?e=0:($t=null,qt=0,e=Ot)}if(e!==0){if(e===2&&(i=pv(t),i!==0&&(r=i,e=Bv(t,i))),e===1)throw n=Yc,ds(t,0),Xi(t,r),Pn(t,_t()),n;if(e===6)Xi(t,r);else{if(i=t.current.alternate,!(r&30)&&!tV(i)&&(e=zf(t,r),e===2&&(o=pv(t),o!==0&&(r=o,e=Bv(t,o))),e===1))throw n=Yc,ds(t,0),Xi(t,r),Pn(t,_t()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(Q(345));case 2:Zo(t,_n,ri);break;case 3:if(Xi(t,r),(r&130023424)===r&&(e=U0+500-_t(),10<e)){if(Sf(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){vn(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Ev(Zo.bind(null,t,_n,ri),e);break}Zo(t,_n,ri);break;case 4:if(Xi(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var s=31-dr(r);o=1<<s,s=e[s],s>i&&(i=s),r&=~o}if(r=i,r=_t()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*eV(r/1960))-r,10<r){t.timeoutHandle=Ev(Zo.bind(null,t,_n,ri),r);break}Zo(t,_n,ri);break;case 5:Zo(t,_n,ri);break;default:throw Error(Q(329))}}}return Pn(t,_t()),t.callbackNode===n?uI.bind(null,t):null}function Bv(t,e){var n=yc;return t.current.memoizedState.isDehydrated&&(ds(t,e).flags|=256),t=zf(t,e),t!==2&&(e=_n,_n=n,e!==null&&Wv(e)),t}function Wv(t){_n===null?_n=t:_n.push.apply(_n,t)}function tV(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!hr(o(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Xi(t,e){for(e&=~$0,e&=~ep,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-dr(e),r=1<<n;t[n]=-1,e&=~r}}function cE(t){if(Oe&6)throw Error(Q(327));Ia();var e=Sf(t,0);if(!(e&1))return Pn(t,_t()),null;var n=zf(t,e);if(t.tag!==0&&n===2){var r=pv(t);r!==0&&(e=r,n=Bv(t,r))}if(n===1)throw n=Yc,ds(t,0),Xi(t,e),Pn(t,_t()),n;if(n===6)throw Error(Q(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Zo(t,_n,ri),Pn(t,_t()),null}function B0(t,e){var n=Oe;Oe|=1;try{return t(e)}finally{Oe=n,Oe===0&&(Wa=_t()+500,Qh&&Fo())}}function ys(t){ro!==null&&ro.tag===0&&!(Oe&6)&&Ia();var e=Oe;Oe|=1;var n=Qn.transition,r=qe;try{if(Qn.transition=null,qe=1,t)return t()}finally{qe=r,Qn.transition=n,Oe=e,!(Oe&6)&&Fo()}}function W0(){Nn=ma.current,ot(ma)}function ds(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,R4(n)),Pt!==null)for(n=Pt.return;n!==null;){var r=n;switch(b0(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Rf();break;case 3:Ua(),ot(Cn),ot(an),N0();break;case 5:R0(r);break;case 4:Ua();break;case 13:ot(ct);break;case 19:ot(ct);break;case 10:P0(r.type._context);break;case 22:case 23:W0()}n=n.return}if($t=t,Pt=t=po(t.current,null),qt=Nn=e,Ot=0,Yc=null,$0=ep=vs=0,_n=yc=null,ss!==null){for(e=0;e<ss.length;e++)if(n=ss[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var s=o.next;o.next=i,r.next=s}n.pending=r}ss=null}return t}function dI(t,e){do{var n=Pt;try{if(S0(),Jd.current=$f,Ff){for(var r=ft.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Ff=!1}if(gs=0,Ft=Nt=ft=null,gc=!1,Hc=0,F0.current=null,n===null||n.return===null){Ot=1,Yc=e,Pt=null;break}e:{var o=t,s=n.return,a=n,l=e;if(e=qt,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=a,f=u.tag;if(!(u.mode&1)&&(f===0||f===11||f===15)){var h=u.alternate;h?(u.updateQueue=h.updateQueue,u.memoizedState=h.memoizedState,u.lanes=h.lanes):(u.updateQueue=null,u.memoizedState=null)}var g=Q_(s);if(g!==null){g.flags&=-257,X_(g,s,a,o,e),g.mode&1&&K_(o,c,e),e=g,l=c;var w=e.updateQueue;if(w===null){var y=new Set;y.add(l),e.updateQueue=y}else w.add(l);break e}else{if(!(e&1)){K_(o,c,e),z0();break e}l=Error(Q(426))}}else if(at&&a.mode&1){var b=Q_(s);if(b!==null){!(b.flags&65536)&&(b.flags|=256),X_(b,s,a,o,e),T0(Ba(l,a));break e}}o=l=Ba(l,a),Ot!==4&&(Ot=2),yc===null?yc=[o]:yc.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var x=YP(o,l,e);W_(o,x);break e;case 1:a=l;var v=o.type,E=o.stateNode;if(!(o.flags&128)&&(typeof v.getDerivedStateFromError=="function"||E!==null&&typeof E.componentDidCatch=="function"&&(fo===null||!fo.has(E)))){o.flags|=65536,e&=-e,o.lanes|=e;var S=KP(o,a,e);W_(o,S);break e}}o=o.return}while(o!==null)}pI(n)}catch(R){e=R,Pt===n&&n!==null&&(Pt=n=n.return);continue}break}while(1)}function fI(){var t=Uf.current;return Uf.current=$f,t===null?$f:t}function z0(){(Ot===0||Ot===3||Ot===2)&&(Ot=4),$t===null||!(vs&268435455)&&!(ep&268435455)||Xi($t,qt)}function zf(t,e){var n=Oe;Oe|=2;var r=fI();($t!==t||qt!==e)&&(ri=null,ds(t,e));do try{nV();break}catch(i){dI(t,i)}while(1);if(S0(),Oe=n,Uf.current=r,Pt!==null)throw Error(Q(261));return $t=null,qt=0,Ot}function nV(){for(;Pt!==null;)hI(Pt)}function rV(){for(;Pt!==null&&!IL();)hI(Pt)}function hI(t){var e=gI(t.alternate,t,Nn);t.memoizedProps=t.pendingProps,e===null?pI(t):Pt=e,F0.current=null}function pI(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=Q4(n,e),n!==null){n.flags&=32767,Pt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Ot=6,Pt=null;return}}else if(n=K4(n,e,Nn),n!==null){Pt=n;return}if(e=e.sibling,e!==null){Pt=e;return}Pt=e=t}while(e!==null);Ot===0&&(Ot=5)}function Zo(t,e,n){var r=qe,i=Qn.transition;try{Qn.transition=null,qe=1,iV(t,e,n,r)}finally{Qn.transition=i,qe=r}return null}function iV(t,e,n,r){do Ia();while(ro!==null);if(Oe&6)throw Error(Q(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(Q(177));t.callbackNode=null,t.callbackPriority=0;var o=n.lanes|n.childLanes;if(jL(t,o),t===$t&&(Pt=$t=null,qt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Ed||(Ed=!0,vI(Cf,function(){return Ia(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=Qn.transition,Qn.transition=null;var s=qe;qe=1;var a=Oe;Oe|=4,F0.current=null,J4(t,n),lI(n,t),T4(xv),Pf=!!wv,xv=wv=null,t.current=n,Z4(n),AL(),Oe=a,qe=s,Qn.transition=o}else t.current=n;if(Ed&&(Ed=!1,ro=t,Wf=i),o=t.pendingLanes,o===0&&(fo=null),NL(n.stateNode),Pn(t,_t()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Bf)throw Bf=!1,t=$v,$v=null,t;return Wf&1&&t.tag!==0&&Ia(),o=t.pendingLanes,o&1?t===Uv?wc++:(wc=0,Uv=t):wc=0,Fo(),null}function Ia(){if(ro!==null){var t=YS(Wf),e=Qn.transition,n=qe;try{if(Qn.transition=null,qe=16>t?16:t,ro===null)var r=!1;else{if(t=ro,ro=null,Wf=0,Oe&6)throw Error(Q(331));var i=Oe;for(Oe|=4,ae=t.current;ae!==null;){var o=ae,s=o.child;if(ae.flags&16){var a=o.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(ae=c;ae!==null;){var u=ae;switch(u.tag){case 0:case 11:case 15:vc(8,u,o)}var f=u.child;if(f!==null)f.return=u,ae=f;else for(;ae!==null;){u=ae;var h=u.sibling,g=u.return;if(oI(u),u===c){ae=null;break}if(h!==null){h.return=g,ae=h;break}ae=g}}}var w=o.alternate;if(w!==null){var y=w.child;if(y!==null){w.child=null;do{var b=y.sibling;y.sibling=null,y=b}while(y!==null)}}ae=o}}if(o.subtreeFlags&2064&&s!==null)s.return=o,ae=s;else e:for(;ae!==null;){if(o=ae,o.flags&2048)switch(o.tag){case 0:case 11:case 15:vc(9,o,o.return)}var x=o.sibling;if(x!==null){x.return=o.return,ae=x;break e}ae=o.return}}var v=t.current;for(ae=v;ae!==null;){s=ae;var E=s.child;if(s.subtreeFlags&2064&&E!==null)E.return=s,ae=E;else e:for(s=v;ae!==null;){if(a=ae,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Zh(9,a)}}catch(R){vt(a,a.return,R)}if(a===s){ae=null;break e}var S=a.sibling;if(S!==null){S.return=a.return,ae=S;break e}ae=a.return}}if(Oe=i,Fo(),Dr&&typeof Dr.onPostCommitFiberRoot=="function")try{Dr.onPostCommitFiberRoot(Hh,t)}catch{}r=!0}return r}finally{qe=n,Qn.transition=e}}return!1}function uE(t,e,n){e=Ba(n,e),e=YP(t,e,1),t=uo(t,e,1),e=vn(),t!==null&&(mu(t,1,e),Pn(t,e))}function vt(t,e,n){if(t.tag===3)uE(t,t,n);else for(;e!==null;){if(e.tag===3){uE(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(fo===null||!fo.has(r))){t=Ba(n,t),t=KP(e,t,1),e=uo(e,t,1),t=vn(),e!==null&&(mu(e,1,t),Pn(e,t));break}}e=e.return}}function oV(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=vn(),t.pingedLanes|=t.suspendedLanes&n,$t===t&&(qt&n)===n&&(Ot===4||Ot===3&&(qt&130023424)===qt&&500>_t()-U0?ds(t,0):$0|=n),Pn(t,e)}function mI(t,e){e===0&&(t.mode&1?(e=fd,fd<<=1,!(fd&130023424)&&(fd=4194304)):e=1);var n=vn();t=yi(t,e),t!==null&&(mu(t,e,n),Pn(t,n))}function sV(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),mI(t,n)}function aV(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(Q(314))}r!==null&&r.delete(e),mI(t,n)}var gI;gI=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Cn.current)bn=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return bn=!1,Y4(t,e,n);bn=!!(t.flags&131072)}else bn=!1,at&&e.flags&1048576&&xP(e,Mf,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;ef(t,e),t=e.pendingProps;var i=ja(e,an.current);Pa(e,n),i=M0(null,e,r,t,i,n);var o=O0();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Sn(r)?(o=!0,Nf(e)):o=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,A0(e),i.updater=Jh,e.stateNode=i,i._reactInternals=e,Av(e,r,t,n),e=Nv(null,e,r,!0,o,n)):(e.tag=0,at&&o&&E0(e),mn(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(ef(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=cV(r),t=ar(r,t),i){case 0:e=Rv(null,e,r,t,n);break e;case 1:e=eE(null,e,r,t,n);break e;case 11:e=J_(null,e,r,t,n);break e;case 14:e=Z_(null,e,r,ar(r.type,t),n);break e}throw Error(Q(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:ar(r,i),Rv(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:ar(r,i),eE(t,e,r,i,n);case 3:e:{if(ZP(e),t===null)throw Error(Q(387));r=e.pendingProps,o=e.memoizedState,i=o.element,SP(t,e),Vf(e,r,null,n);var s=e.memoizedState;if(r=s.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){i=Ba(Error(Q(423)),e),e=tE(t,e,r,n,i);break e}else if(r!==i){i=Ba(Error(Q(424)),e),e=tE(t,e,r,n,i);break e}else for(On=co(e.stateNode.containerInfo.firstChild),jn=e,at=!0,cr=null,n=TP(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Fa(),r===i){e=wi(t,e,n);break e}mn(t,e,r,n)}e=e.child}return e;case 5:return PP(e),t===null&&Sv(e),r=e.type,i=e.pendingProps,o=t!==null?t.memoizedProps:null,s=i.children,_v(r,i)?s=null:o!==null&&_v(r,o)&&(e.flags|=32),JP(t,e),mn(t,e,s,n),e.child;case 6:return t===null&&Sv(e),null;case 13:return eI(t,e,n);case 4:return k0(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=$a(e,null,r,n):mn(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:ar(r,i),J_(t,e,r,i,n);case 7:return mn(t,e,e.pendingProps,n),e.child;case 8:return mn(t,e,e.pendingProps.children,n),e.child;case 12:return mn(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,o=e.memoizedProps,s=i.value,Qe(Of,r._currentValue),r._currentValue=s,o!==null)if(hr(o.value,s)){if(o.children===i.children&&!Cn.current){e=wi(t,e,n);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var a=o.dependencies;if(a!==null){s=o.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(o.tag===1){l=di(-1,n&-n),l.tag=2;var c=o.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),Pv(o.return,n,e),a.lanes|=n;break}l=l.next}}else if(o.tag===10)s=o.type===e.type?null:o.child;else if(o.tag===18){if(s=o.return,s===null)throw Error(Q(341));s.lanes|=n,a=s.alternate,a!==null&&(a.lanes|=n),Pv(s,n,e),s=o.sibling}else s=o.child;if(s!==null)s.return=o;else for(s=o;s!==null;){if(s===e){s=null;break}if(o=s.sibling,o!==null){o.return=s.return,s=o;break}s=s.return}o=s}mn(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Pa(e,n),i=Zn(i),r=r(i),e.flags|=1,mn(t,e,r,n),e.child;case 14:return r=e.type,i=ar(r,e.pendingProps),i=ar(r.type,i),Z_(t,e,r,i,n);case 15:return QP(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:ar(r,i),ef(t,e),e.tag=1,Sn(r)?(t=!0,Nf(e)):t=!1,Pa(e,n),GP(e,r,i),Av(e,r,i,n),Nv(null,e,r,!0,t,n);case 19:return tI(t,e,n);case 22:return XP(t,e,n)}throw Error(Q(156,e.tag))};function vI(t,e){return zS(t,e)}function lV(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Kn(t,e,n,r){return new lV(t,e,n,r)}function H0(t){return t=t.prototype,!(!t||!t.isReactComponent)}function cV(t){if(typeof t=="function")return H0(t)?1:0;if(t!=null){if(t=t.$$typeof,t===u0)return 11;if(t===d0)return 14}return 2}function po(t,e){var n=t.alternate;return n===null?(n=Kn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function rf(t,e,n,r,i,o){var s=2;if(r=t,typeof t=="function")H0(t)&&(s=1);else if(typeof t=="string")s=5;else e:switch(t){case oa:return fs(n.children,i,o,e);case c0:s=8,i|=8;break;case Zg:return t=Kn(12,n,e,i|2),t.elementType=Zg,t.lanes=o,t;case ev:return t=Kn(13,n,e,i),t.elementType=ev,t.lanes=o,t;case tv:return t=Kn(19,n,e,i),t.elementType=tv,t.lanes=o,t;case PS:return tp(n,i,o,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case CS:s=10;break e;case SS:s=9;break e;case u0:s=11;break e;case d0:s=14;break e;case Gi:s=16,r=null;break e}throw Error(Q(130,t==null?t:typeof t,""))}return e=Kn(s,n,e,i),e.elementType=t,e.type=r,e.lanes=o,e}function fs(t,e,n,r){return t=Kn(7,t,r,e),t.lanes=n,t}function tp(t,e,n,r){return t=Kn(22,t,r,e),t.elementType=PS,t.lanes=n,t.stateNode={isHidden:!1},t}function Jm(t,e,n){return t=Kn(6,t,null,e),t.lanes=n,t}function Zm(t,e,n){return e=Kn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function uV(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Dm(0),this.expirationTimes=Dm(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Dm(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function q0(t,e,n,r,i,o,s,a,l){return t=new uV(t,e,n,a,l),e===1?(e=1,o===!0&&(e|=8)):e=0,o=Kn(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},A0(o),t}function dV(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ia,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function yI(t){if(!t)return So;t=t._reactInternals;e:{if(Rs(t)!==t||t.tag!==1)throw Error(Q(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Sn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(Q(171))}if(t.tag===1){var n=t.type;if(Sn(n))return yP(t,n,e)}return e}function wI(t,e,n,r,i,o,s,a,l){return t=q0(n,r,!0,t,i,o,s,a,l),t.context=yI(null),n=t.current,r=vn(),i=ho(n),o=di(r,i),o.callback=e??null,uo(n,o,i),t.current.lanes=i,mu(t,i,r),Pn(t,r),t}function np(t,e,n,r){var i=e.current,o=vn(),s=ho(i);return n=yI(n),e.context===null?e.context=n:e.pendingContext=n,e=di(o,s),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=uo(i,e,s),t!==null&&(fr(t,i,s,o),Xd(t,i,s)),s}function Hf(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function dE(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function G0(t,e){dE(t,e),(t=t.alternate)&&dE(t,e)}function fV(){return null}var xI=typeof reportError=="function"?reportError:function(t){console.error(t)};function Y0(t){this._internalRoot=t}rp.prototype.render=Y0.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(Q(409));np(t,e,null,null)};rp.prototype.unmount=Y0.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;ys(function(){np(null,t,null,null)}),e[vi]=null}};function rp(t){this._internalRoot=t}rp.prototype.unstable_scheduleHydration=function(t){if(t){var e=XS();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Qi.length&&e!==0&&e<Qi[n].priority;n++);Qi.splice(n,0,t),n===0&&ZS(t)}};function K0(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function ip(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function fE(){}function hV(t,e,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var c=Hf(s);o.call(c)}}var s=wI(e,r,t,0,null,!1,!1,"",fE);return t._reactRootContainer=s,t[vi]=s.current,$c(t.nodeType===8?t.parentNode:t),ys(),s}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var c=Hf(l);a.call(c)}}var l=q0(t,0,!1,null,null,!1,!1,"",fE);return t._reactRootContainer=l,t[vi]=l.current,$c(t.nodeType===8?t.parentNode:t),ys(function(){np(e,l,n,r)}),l}function op(t,e,n,r,i){var o=n._reactRootContainer;if(o){var s=o;if(typeof i=="function"){var a=i;i=function(){var l=Hf(s);a.call(l)}}np(e,s,t,i)}else s=hV(n,e,t,i,r);return Hf(s)}KS=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=nc(e.pendingLanes);n!==0&&(p0(e,n|1),Pn(e,_t()),!(Oe&6)&&(Wa=_t()+500,Fo()))}break;case 13:ys(function(){var r=yi(t,1);if(r!==null){var i=vn();fr(r,t,1,i)}}),G0(t,1)}};m0=function(t){if(t.tag===13){var e=yi(t,134217728);if(e!==null){var n=vn();fr(e,t,134217728,n)}G0(t,134217728)}};QS=function(t){if(t.tag===13){var e=ho(t),n=yi(t,e);if(n!==null){var r=vn();fr(n,t,e,r)}G0(t,e)}};XS=function(){return qe};JS=function(t,e){var n=qe;try{return qe=t,e()}finally{qe=n}};dv=function(t,e,n){switch(e){case"input":if(iv(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Kh(r);if(!i)throw Error(Q(90));AS(r),iv(r,i)}}}break;case"textarea":RS(t,n);break;case"select":e=n.value,e!=null&&ba(t,!!n.multiple,e,!1)}};jS=B0;FS=ys;var pV={usingClientEntryPoint:!1,Events:[vu,ca,Kh,LS,VS,B0]},Gl={findFiberByHostInstance:os,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},mV={bundleType:Gl.bundleType,version:Gl.version,rendererPackageName:Gl.rendererPackageName,rendererConfig:Gl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ri.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=BS(t),t===null?null:t.stateNode},findFiberByHostInstance:Gl.findFiberByHostInstance||fV,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var bd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!bd.isDisabled&&bd.supportsFiber)try{Hh=bd.inject(mV),Dr=bd}catch{}}Bn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=pV;Bn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!K0(e))throw Error(Q(200));return dV(t,e,null,n)};Bn.createRoot=function(t,e){if(!K0(t))throw Error(Q(299));var n=!1,r="",i=xI;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=q0(t,1,!1,null,null,n,!1,r,i),t[vi]=e.current,$c(t.nodeType===8?t.parentNode:t),new Y0(e)};Bn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(Q(188)):(t=Object.keys(t).join(","),Error(Q(268,t)));return t=BS(e),t=t===null?null:t.stateNode,t};Bn.flushSync=function(t){return ys(t)};Bn.hydrate=function(t,e,n){if(!ip(e))throw Error(Q(200));return op(null,t,e,!0,n)};Bn.hydrateRoot=function(t,e,n){if(!K0(t))throw Error(Q(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",s=xI;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),e=wI(e,null,t,1,n??null,i,!1,o,s),t[vi]=e.current,$c(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new rp(e)};Bn.render=function(t,e,n){if(!ip(e))throw Error(Q(200));return op(null,t,e,!1,n)};Bn.unmountComponentAtNode=function(t){if(!ip(t))throw Error(Q(40));return t._reactRootContainer?(ys(function(){op(null,null,t,!1,function(){t._reactRootContainer=null,t[vi]=null})}),!0):!1};Bn.unstable_batchedUpdates=B0;Bn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!ip(n))throw Error(Q(200));if(t==null||t._reactInternals===void 0)throw Error(Q(38));return op(t,e,n,!1,r)};Bn.version="18.3.1-next-f1338f8080-20240426";function _I(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(_I)}catch(t){console.error(t)}}_I(),_S.exports=Bn;var $o=_S.exports;const EI=cS($o);var hE=$o;Xg.createRoot=hE.createRoot,Xg.hydrateRoot=hE.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Kc(){return Kc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Kc.apply(this,arguments)}var io;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(io||(io={}));const pE="popstate";function gV(t){t===void 0&&(t={});function e(r,i){let{pathname:o,search:s,hash:a}=r.location;return zv("",{pathname:o,search:s,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:qf(i)}return yV(e,n,null,t)}function ht(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function bI(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function vV(){return Math.random().toString(36).substr(2,8)}function mE(t,e){return{usr:t.state,key:t.key,idx:e}}function zv(t,e,n,r){return n===void 0&&(n=null),Kc({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?dl(e):e,{state:n,key:e&&e.key||r||vV()})}function qf(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function dl(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function yV(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:o=!1}=r,s=i.history,a=io.Pop,l=null,c=u();c==null&&(c=0,s.replaceState(Kc({},s.state,{idx:c}),""));function u(){return(s.state||{idx:null}).idx}function f(){a=io.Pop;let b=u(),x=b==null?null:b-c;c=b,l&&l({action:a,location:y.location,delta:x})}function h(b,x){a=io.Push;let v=zv(y.location,b,x);n&&n(v,b),c=u()+1;let E=mE(v,c),S=y.createHref(v);try{s.pushState(E,"",S)}catch(R){if(R instanceof DOMException&&R.name==="DataCloneError")throw R;i.location.assign(S)}o&&l&&l({action:a,location:y.location,delta:1})}function g(b,x){a=io.Replace;let v=zv(y.location,b,x);n&&n(v,b),c=u();let E=mE(v,c),S=y.createHref(v);s.replaceState(E,"",S),o&&l&&l({action:a,location:y.location,delta:0})}function w(b){let x=i.location.origin!=="null"?i.location.origin:i.location.href,v=typeof b=="string"?b:qf(b);return v=v.replace(/ $/,"%20"),ht(x,"No window.location.(origin|href) available to create URL for href: "+v),new URL(v,x)}let y={get action(){return a},get location(){return t(i,s)},listen(b){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(pE,f),l=b,()=>{i.removeEventListener(pE,f),l=null}},createHref(b){return e(i,b)},createURL:w,encodeLocation(b){let x=w(b);return{pathname:x.pathname,search:x.search,hash:x.hash}},push:h,replace:g,go(b){return s.go(b)}};return y}var gE;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(gE||(gE={}));function wV(t,e,n){return n===void 0&&(n="/"),xV(t,e,n,!1)}function xV(t,e,n,r){let i=typeof e=="string"?dl(e):e,o=za(i.pathname||"/",n);if(o==null)return null;let s=TI(t);_V(s);let a=null;for(let l=0;a==null&&l<s.length;++l){let c=NV(o);a=kV(s[l],c,r)}return a}function TI(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(o,s,a)=>{let l={relativePath:a===void 0?o.path||"":a,caseSensitive:o.caseSensitive===!0,childrenIndex:s,route:o};l.relativePath.startsWith("/")&&(ht(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let c=mo([r,l.relativePath]),u=n.concat(l);o.children&&o.children.length>0&&(ht(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),TI(o.children,e,u,c)),!(o.path==null&&!o.index)&&e.push({path:c,score:IV(c,o.index),routesMeta:u})};return t.forEach((o,s)=>{var a;if(o.path===""||!((a=o.path)!=null&&a.includes("?")))i(o,s);else for(let l of CI(o.path))i(o,s,l)}),e}function CI(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let s=CI(r.join("/")),a=[];return a.push(...s.map(l=>l===""?o:[o,l].join("/"))),i&&a.push(...s),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function _V(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:AV(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const EV=/^:[\w-]+$/,bV=3,TV=2,CV=1,SV=10,PV=-2,vE=t=>t==="*";function IV(t,e){let n=t.split("/"),r=n.length;return n.some(vE)&&(r+=PV),e&&(r+=TV),n.filter(i=>!vE(i)).reduce((i,o)=>i+(EV.test(o)?bV:o===""?CV:SV),r)}function AV(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function kV(t,e,n){n===void 0&&(n=!1);let{routesMeta:r}=t,i={},o="/",s=[];for(let a=0;a<r.length;++a){let l=r[a],c=a===r.length-1,u=o==="/"?e:e.slice(o.length)||"/",f=Gf({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},u),h=l.route;if(!f&&c&&n&&!r[r.length-1].route.index&&(f=Gf({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},u)),!f)return null;Object.assign(i,f.params),s.push({params:i,pathname:mo([o,f.pathname]),pathnameBase:LV(mo([o,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(o=mo([o,f.pathnameBase]))}return s}function Gf(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=RV(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let o=i[0],s=o.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((c,u,f)=>{let{paramName:h,isOptional:g}=u;if(h==="*"){let y=a[f]||"";s=o.slice(0,o.length-y.length).replace(/(.)\/+$/,"$1")}const w=a[f];return g&&!w?c[h]=void 0:c[h]=(w||"").replace(/%2F/g,"/"),c},{}),pathname:o,pathnameBase:s,pattern:t}}function RV(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),bI(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function NV(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return bI(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function za(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function DV(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?dl(t):t;return{pathname:n?n.startsWith("/")?n:MV(n,e):e,search:VV(r),hash:jV(i)}}function MV(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function eg(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function OV(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Q0(t,e){let n=OV(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function X0(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=dl(t):(i=Kc({},t),ht(!i.pathname||!i.pathname.includes("?"),eg("?","pathname","search",i)),ht(!i.pathname||!i.pathname.includes("#"),eg("#","pathname","hash",i)),ht(!i.search||!i.search.includes("#"),eg("#","search","hash",i)));let o=t===""||i.pathname==="",s=o?"/":i.pathname,a;if(s==null)a=n;else{let f=e.length-1;if(!r&&s.startsWith("..")){let h=s.split("/");for(;h[0]==="..";)h.shift(),f-=1;i.pathname=h.join("/")}a=f>=0?e[f]:"/"}let l=DV(i,a),c=s&&s!=="/"&&s.endsWith("/"),u=(o||s===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||u)&&(l.pathname+="/"),l}const mo=t=>t.join("/").replace(/\/\/+/g,"/"),LV=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),VV=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,jV=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function FV(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const SI=["post","put","patch","delete"];new Set(SI);const $V=["get",...SI];new Set($V);/**
 * React Router v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Qc(){return Qc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Qc.apply(this,arguments)}const sp=m.createContext(null),PI=m.createContext(null),Ni=m.createContext(null),ap=m.createContext(null),Di=m.createContext({outlet:null,matches:[],isDataRoute:!1}),II=m.createContext(null);function UV(t,e){let{relative:n}=e===void 0?{}:e;fl()||ht(!1);let{basename:r,navigator:i}=m.useContext(Ni),{hash:o,pathname:s,search:a}=lp(t,{relative:n}),l=s;return r!=="/"&&(l=s==="/"?r:mo([r,s])),i.createHref({pathname:l,search:a,hash:o})}function fl(){return m.useContext(ap)!=null}function hl(){return fl()||ht(!1),m.useContext(ap).location}function AI(t){m.useContext(Ni).static||m.useLayoutEffect(t)}function wu(){let{isDataRoute:t}=m.useContext(Di);return t?t5():BV()}function BV(){fl()||ht(!1);let t=m.useContext(sp),{basename:e,future:n,navigator:r}=m.useContext(Ni),{matches:i}=m.useContext(Di),{pathname:o}=hl(),s=JSON.stringify(Q0(i,n.v7_relativeSplatPath)),a=m.useRef(!1);return AI(()=>{a.current=!0}),m.useCallback(function(c,u){if(u===void 0&&(u={}),!a.current)return;if(typeof c=="number"){r.go(c);return}let f=X0(c,JSON.parse(s),o,u.relative==="path");t==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:mo([e,f.pathname])),(u.replace?r.replace:r.push)(f,u.state,u)},[e,r,s,o,t])}function WV(){let{matches:t}=m.useContext(Di),e=t[t.length-1];return e?e.params:{}}function lp(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=m.useContext(Ni),{matches:i}=m.useContext(Di),{pathname:o}=hl(),s=JSON.stringify(Q0(i,r.v7_relativeSplatPath));return m.useMemo(()=>X0(t,JSON.parse(s),o,n==="path"),[t,s,o,n])}function zV(t,e){return HV(t,e)}function HV(t,e,n,r){fl()||ht(!1);let{navigator:i,static:o}=m.useContext(Ni),{matches:s}=m.useContext(Di),a=s[s.length-1],l=a?a.params:{};a&&a.pathname;let c=a?a.pathnameBase:"/";a&&a.route;let u=hl(),f;if(e){var h;let x=typeof e=="string"?dl(e):e;c==="/"||(h=x.pathname)!=null&&h.startsWith(c)||ht(!1),f=x}else f=u;let g=f.pathname||"/",w=g;if(c!=="/"){let x=c.replace(/^\//,"").split("/");w="/"+g.replace(/^\//,"").split("/").slice(x.length).join("/")}let y=!o&&n&&n.matches&&n.matches.length>0?n.matches:wV(t,{pathname:w}),b=QV(y&&y.map(x=>Object.assign({},x,{params:Object.assign({},l,x.params),pathname:mo([c,i.encodeLocation?i.encodeLocation(x.pathname).pathname:x.pathname]),pathnameBase:x.pathnameBase==="/"?c:mo([c,i.encodeLocation?i.encodeLocation(x.pathnameBase).pathname:x.pathnameBase])})),s,n,r);return e&&b?m.createElement(ap.Provider,{value:{location:Qc({pathname:"/",search:"",hash:"",state:null,key:"default"},f),navigationType:io.Pop}},b):b}function qV(){let t=e5(),e=FV(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},o=null;return m.createElement(m.Fragment,null,m.createElement("h2",null,"Unexpected Application Error!"),m.createElement("h3",{style:{fontStyle:"italic"}},e),n?m.createElement("pre",{style:i},n):null,o)}const GV=m.createElement(qV,null);class YV extends m.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?m.createElement(Di.Provider,{value:this.props.routeContext},m.createElement(II.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function KV(t){let{routeContext:e,match:n,children:r}=t,i=m.useContext(sp);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),m.createElement(Di.Provider,{value:e},r)}function QV(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var o;if(!n)return null;if(n.errors)t=n.matches;else if((o=r)!=null&&o.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let s=t,a=(i=n)==null?void 0:i.errors;if(a!=null){let u=s.findIndex(f=>f.route.id&&(a==null?void 0:a[f.route.id])!==void 0);u>=0||ht(!1),s=s.slice(0,Math.min(s.length,u+1))}let l=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let u=0;u<s.length;u++){let f=s[u];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(c=u),f.route.id){let{loaderData:h,errors:g}=n,w=f.route.loader&&h[f.route.id]===void 0&&(!g||g[f.route.id]===void 0);if(f.route.lazy||w){l=!0,c>=0?s=s.slice(0,c+1):s=[s[0]];break}}}return s.reduceRight((u,f,h)=>{let g,w=!1,y=null,b=null;n&&(g=a&&f.route.id?a[f.route.id]:void 0,y=f.route.errorElement||GV,l&&(c<0&&h===0?(n5("route-fallback",!1),w=!0,b=null):c===h&&(w=!0,b=f.route.hydrateFallbackElement||null)));let x=e.concat(s.slice(0,h+1)),v=()=>{let E;return g?E=y:w?E=b:f.route.Component?E=m.createElement(f.route.Component,null):f.route.element?E=f.route.element:E=u,m.createElement(KV,{match:f,routeContext:{outlet:u,matches:x,isDataRoute:n!=null},children:E})};return n&&(f.route.ErrorBoundary||f.route.errorElement||h===0)?m.createElement(YV,{location:n.location,revalidation:n.revalidation,component:y,error:g,children:v(),routeContext:{outlet:null,matches:x,isDataRoute:!0}}):v()},null)}var kI=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(kI||{}),Yf=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Yf||{});function XV(t){let e=m.useContext(sp);return e||ht(!1),e}function JV(t){let e=m.useContext(PI);return e||ht(!1),e}function ZV(t){let e=m.useContext(Di);return e||ht(!1),e}function RI(t){let e=ZV(),n=e.matches[e.matches.length-1];return n.route.id||ht(!1),n.route.id}function e5(){var t;let e=m.useContext(II),n=JV(Yf.UseRouteError),r=RI(Yf.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function t5(){let{router:t}=XV(kI.UseNavigateStable),e=RI(Yf.UseNavigateStable),n=m.useRef(!1);return AI(()=>{n.current=!0}),m.useCallback(function(i,o){o===void 0&&(o={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,Qc({fromRouteId:e},o)))},[t,e])}const yE={};function n5(t,e,n){!e&&!yE[t]&&(yE[t]=!0)}function r5(t,e){t==null||t.v7_startTransition,(t==null?void 0:t.v7_relativeSplatPath)===void 0&&(!e||e.v7_relativeSplatPath),e&&(e.v7_fetcherPersist,e.v7_normalizeFormMethod,e.v7_partialHydration,e.v7_skipActionErrorRevalidation)}function Hv(t){let{to:e,replace:n,state:r,relative:i}=t;fl()||ht(!1);let{future:o,static:s}=m.useContext(Ni),{matches:a}=m.useContext(Di),{pathname:l}=hl(),c=wu(),u=X0(e,Q0(a,o.v7_relativeSplatPath),l,i==="path"),f=JSON.stringify(u);return m.useEffect(()=>c(JSON.parse(f),{replace:n,state:r,relative:i}),[c,f,i,n,r]),null}function ni(t){ht(!1)}function i5(t){let{basename:e="/",children:n=null,location:r,navigationType:i=io.Pop,navigator:o,static:s=!1,future:a}=t;fl()&&ht(!1);let l=e.replace(/^\/*/,"/"),c=m.useMemo(()=>({basename:l,navigator:o,static:s,future:Qc({v7_relativeSplatPath:!1},a)}),[l,a,o,s]);typeof r=="string"&&(r=dl(r));let{pathname:u="/",search:f="",hash:h="",state:g=null,key:w="default"}=r,y=m.useMemo(()=>{let b=za(u,l);return b==null?null:{location:{pathname:b,search:f,hash:h,state:g,key:w},navigationType:i}},[l,u,f,h,g,w,i]);return y==null?null:m.createElement(Ni.Provider,{value:c},m.createElement(ap.Provider,{children:n,value:y}))}function o5(t){let{children:e,location:n}=t;return zV(qv(e),n)}new Promise(()=>{});function qv(t,e){e===void 0&&(e=[]);let n=[];return m.Children.forEach(t,(r,i)=>{if(!m.isValidElement(r))return;let o=[...e,i];if(r.type===m.Fragment){n.push.apply(n,qv(r.props.children,o));return}r.type!==ni&&ht(!1),!r.props.index||!r.props.children||ht(!1);let s={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(s.children=qv(r.props.children,o)),n.push(s)}),n}/**
 * React Router DOM v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Kf(){return Kf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Kf.apply(this,arguments)}function NI(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function s5(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function a5(t,e){return t.button===0&&(!e||e==="_self")&&!s5(t)}const l5=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],c5=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],u5="6";try{window.__reactRouterVersion=u5}catch{}const d5=m.createContext({isTransitioning:!1}),f5="startTransition",wE=zh[f5];function h5(t){let{basename:e,children:n,future:r,window:i}=t,o=m.useRef();o.current==null&&(o.current=gV({window:i,v5Compat:!0}));let s=o.current,[a,l]=m.useState({action:s.action,location:s.location}),{v7_startTransition:c}=r||{},u=m.useCallback(f=>{c&&wE?wE(()=>l(f)):l(f)},[l,c]);return m.useLayoutEffect(()=>s.listen(u),[s,u]),m.useEffect(()=>r5(r),[r]),m.createElement(i5,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:s,future:r})}const p5=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",m5=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Qf=m.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:o,replace:s,state:a,target:l,to:c,preventScrollReset:u,viewTransition:f}=e,h=NI(e,l5),{basename:g}=m.useContext(Ni),w,y=!1;if(typeof c=="string"&&m5.test(c)&&(w=c,p5))try{let E=new URL(window.location.href),S=c.startsWith("//")?new URL(E.protocol+c):new URL(c),R=za(S.pathname,g);S.origin===E.origin&&R!=null?c=R+S.search+S.hash:y=!0}catch{}let b=UV(c,{relative:i}),x=y5(c,{replace:s,state:a,target:l,preventScrollReset:u,relative:i,viewTransition:f});function v(E){r&&r(E),E.defaultPrevented||x(E)}return m.createElement("a",Kf({},h,{href:w||b,onClick:y||o?r:v,ref:n,target:l}))}),g5=m.forwardRef(function(e,n){let{"aria-current":r="page",caseSensitive:i=!1,className:o="",end:s=!1,style:a,to:l,viewTransition:c,children:u}=e,f=NI(e,c5),h=lp(l,{relative:f.relative}),g=hl(),w=m.useContext(PI),{navigator:y,basename:b}=m.useContext(Ni),x=w!=null&&w5(h)&&c===!0,v=y.encodeLocation?y.encodeLocation(h).pathname:h.pathname,E=g.pathname,S=w&&w.navigation&&w.navigation.location?w.navigation.location.pathname:null;i||(E=E.toLowerCase(),S=S?S.toLowerCase():null,v=v.toLowerCase()),S&&b&&(S=za(S,b)||S);const R=v!=="/"&&v.endsWith("/")?v.length-1:v.length;let D=E===v||!s&&E.startsWith(v)&&E.charAt(R)==="/",P=S!=null&&(S===v||!s&&S.startsWith(v)&&S.charAt(v.length)==="/"),C={isActive:D,isPending:P,isTransitioning:x},I=D?r:void 0,A;typeof o=="function"?A=o(C):A=[o,D?"active":null,P?"pending":null,x?"transitioning":null].filter(Boolean).join(" ");let M=typeof a=="function"?a(C):a;return m.createElement(Qf,Kf({},f,{"aria-current":I,className:A,ref:n,style:M,to:l,viewTransition:c}),typeof u=="function"?u(C):u)});var Gv;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(Gv||(Gv={}));var xE;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(xE||(xE={}));function v5(t){let e=m.useContext(sp);return e||ht(!1),e}function y5(t,e){let{target:n,replace:r,state:i,preventScrollReset:o,relative:s,viewTransition:a}=e===void 0?{}:e,l=wu(),c=hl(),u=lp(t,{relative:s});return m.useCallback(f=>{if(a5(f,n)){f.preventDefault();let h=r!==void 0?r:qf(c)===qf(u);l(t,{replace:h,state:i,preventScrollReset:o,relative:s,viewTransition:a})}},[c,l,u,r,i,n,t,o,s,a])}function w5(t,e){e===void 0&&(e={});let n=m.useContext(d5);n==null&&ht(!1);let{basename:r}=v5(Gv.useViewTransitionState),i=lp(t,{relative:e.relative});if(!n.isTransitioning)return!1;let o=za(n.currentLocation.pathname,r)||n.currentLocation.pathname,s=za(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Gf(i.pathname,s)!=null||Gf(i.pathname,o)!=null}const x5=()=>{};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DI=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},_5=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=t[n++],s=t[n++],a=t[n++],l=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const o=t[n++],s=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},MI={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const o=t[i],s=i+1<t.length,a=s?t[i+1]:0,l=i+2<t.length,c=l?t[i+2]:0,u=o>>2,f=(o&3)<<4|a>>4;let h=(a&15)<<2|c>>6,g=c&63;l||(g=64,s||(h=64)),r.push(n[u],n[f],n[h],n[g])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(DI(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):_5(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const o=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const f=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||a==null||c==null||f==null)throw new E5;const h=o<<2|a>>4;if(r.push(h),c!==64){const g=a<<4&240|c>>2;if(r.push(g),f!==64){const w=c<<6&192|f;r.push(w)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class E5 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const b5=function(t){const e=DI(t);return MI.encodeByteArray(e,!0)},Xf=function(t){return b5(t).replace(/\./g,"")},OI=function(t){try{return MI.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T5(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C5=()=>T5().__FIREBASE_DEFAULTS__,S5=()=>{if(typeof process>"u"||typeof process.env>"u")return;const t={}.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},P5=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&OI(t[1]);return e&&JSON.parse(e)},cp=()=>{try{return x5()||C5()||S5()||P5()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},LI=t=>{var e,n;return(n=(e=cp())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},I5=t=>{const e=LI(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},VI=()=>{var t;return(t=cp())==null?void 0:t.config},jI=t=>{var e;return(e=cp())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A5{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pl(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function FI(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k5(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s={iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}},...t},a="";return[Xf(JSON.stringify(n)),Xf(JSON.stringify(s)),a].join(".")}const xc={};function R5(){const t={prod:[],emulator:[]};for(const e of Object.keys(xc))xc[e]?t.emulator.push(e):t.prod.push(e);return t}function N5(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let _E=!1;function $I(t,e){if(typeof window>"u"||typeof document>"u"||!pl(window.location.host)||xc[t]===e||xc[t]||_E)return;xc[t]=e;function n(h){return`__firebase__banner__${h}`}const r="__firebase__banner",o=R5().prod.length>0;function s(){const h=document.getElementById(r);h&&h.remove()}function a(h){h.style.display="flex",h.style.background="#7faaf0",h.style.position="fixed",h.style.bottom="5px",h.style.left="5px",h.style.padding=".5em",h.style.borderRadius="5px",h.style.alignItems="center"}function l(h,g){h.setAttribute("width","24"),h.setAttribute("id",g),h.setAttribute("height","24"),h.setAttribute("viewBox","0 0 24 24"),h.setAttribute("fill","none"),h.style.marginLeft="-6px"}function c(){const h=document.createElement("span");return h.style.cursor="pointer",h.style.marginLeft="16px",h.style.fontSize="24px",h.innerHTML=" &times;",h.onclick=()=>{_E=!0,s()},h}function u(h,g){h.setAttribute("id",g),h.innerText="Learn more",h.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",h.setAttribute("target","__blank"),h.style.paddingLeft="5px",h.style.textDecoration="underline"}function f(){const h=N5(r),g=n("text"),w=document.getElementById(g)||document.createElement("span"),y=n("learnmore"),b=document.getElementById(y)||document.createElement("a"),x=n("preprendIcon"),v=document.getElementById(x)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(h.created){const E=h.element;a(E),u(b,y);const S=c();l(v,x),E.append(v,w,b,S),document.body.appendChild(E)}o?(w.innerText="Preview backend disconnected.",v.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(v.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,w.innerText="Preview backend running in this workspace."),w.setAttribute("id",g)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",f):f()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ln(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function D5(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ln())}function M5(){var e;const t=(e=cp())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function O5(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function L5(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function V5(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function j5(){const t=ln();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function F5(){return!M5()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function $5(){try{return typeof indexedDB=="object"}catch{return!1}}function U5(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)==null?void 0:o.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B5="FirebaseError";class Mi extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=B5,Object.setPrototypeOf(this,Mi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,xu.prototype.create)}}class xu{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?W5(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new Mi(i,a,r)}}function W5(t,e){return t.replace(z5,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const z5=/\{\$([^}]+)}/g;function H5(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function ws(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const o=t[i],s=e[i];if(EE(o)&&EE(s)){if(!ws(o,s))return!1}else if(o!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function EE(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _u(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function ic(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,o]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(o)}}),e}function oc(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function q5(t,e){const n=new G5(t,e);return n.subscribe.bind(n)}class G5{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");Y5(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=tg),i.error===void 0&&(i.error=tg),i.complete===void 0&&(i.complete=tg);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Y5(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function tg(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tt(t){return t&&t._delegate?t._delegate:t}class xs{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const es="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let K5=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new A5;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(X5(e))try{this.getOrInitializeService({instanceIdentifier:es})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=es){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=es){return this.instances.has(e)}getOptions(e=es){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),i=this.onInitCallbacks.get(r)??new Set;i.add(e),this.onInitCallbacks.set(r,i);const o=this.instances.get(r);return o&&e(o,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Q5(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=es){return this.component?this.component.multipleInstances?e:es:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function Q5(t){return t===es?void 0:t}function X5(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J5{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new K5(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ae;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ae||(Ae={}));const Z5={debug:Ae.DEBUG,verbose:Ae.VERBOSE,info:Ae.INFO,warn:Ae.WARN,error:Ae.ERROR,silent:Ae.SILENT},ej=Ae.INFO,tj={[Ae.DEBUG]:"log",[Ae.VERBOSE]:"log",[Ae.INFO]:"info",[Ae.WARN]:"warn",[Ae.ERROR]:"error"},nj=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=tj[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class J0{constructor(e){this.name=e,this._logLevel=ej,this._logHandler=nj,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ae))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Z5[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ae.DEBUG,...e),this._logHandler(this,Ae.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ae.VERBOSE,...e),this._logHandler(this,Ae.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ae.INFO,...e),this._logHandler(this,Ae.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ae.WARN,...e),this._logHandler(this,Ae.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ae.ERROR,...e),this._logHandler(this,Ae.ERROR,...e)}}const rj=(t,e)=>e.some(n=>t instanceof n);let bE,TE;function ij(){return bE||(bE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function oj(){return TE||(TE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const UI=new WeakMap,Yv=new WeakMap,BI=new WeakMap,ng=new WeakMap,Z0=new WeakMap;function sj(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(go(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&UI.set(n,t)}).catch(()=>{}),Z0.set(e,t),e}function aj(t){if(Yv.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});Yv.set(t,e)}let Kv={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Yv.get(t);if(e==="objectStoreNames")return t.objectStoreNames||BI.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return go(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function lj(t){Kv=t(Kv)}function cj(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(rg(this),e,...n);return BI.set(r,e.sort?e.sort():[e]),go(r)}:oj().includes(t)?function(...e){return t.apply(rg(this),e),go(UI.get(this))}:function(...e){return go(t.apply(rg(this),e))}}function uj(t){return typeof t=="function"?cj(t):(t instanceof IDBTransaction&&aj(t),rj(t,ij())?new Proxy(t,Kv):t)}function go(t){if(t instanceof IDBRequest)return sj(t);if(ng.has(t))return ng.get(t);const e=uj(t);return e!==t&&(ng.set(t,e),Z0.set(e,t)),e}const rg=t=>Z0.get(t);function dj(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const s=indexedDB.open(t,e),a=go(s);return r&&s.addEventListener("upgradeneeded",l=>{r(go(s.result),l.oldVersion,l.newVersion,go(s.transaction),l)}),n&&s.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{o&&l.addEventListener("close",()=>o()),i&&l.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const fj=["get","getKey","getAll","getAllKeys","count"],hj=["put","add","delete","clear"],ig=new Map;function CE(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(ig.get(e))return ig.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=hj.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||fj.includes(n)))return;const o=async function(s,...a){const l=this.transaction(s,i?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),i&&l.done]))[0]};return ig.set(e,o),o}lj(t=>({...t,get:(e,n,r)=>CE(e,n)||t.get(e,n,r),has:(e,n)=>!!CE(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pj{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(mj(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function mj(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Qv="@firebase/app",SE="0.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xi=new J0("@firebase/app"),gj="@firebase/app-compat",vj="@firebase/analytics-compat",yj="@firebase/analytics",wj="@firebase/app-check-compat",xj="@firebase/app-check",_j="@firebase/auth",Ej="@firebase/auth-compat",bj="@firebase/database",Tj="@firebase/data-connect",Cj="@firebase/database-compat",Sj="@firebase/functions",Pj="@firebase/functions-compat",Ij="@firebase/installations",Aj="@firebase/installations-compat",kj="@firebase/messaging",Rj="@firebase/messaging-compat",Nj="@firebase/performance",Dj="@firebase/performance-compat",Mj="@firebase/remote-config",Oj="@firebase/remote-config-compat",Lj="@firebase/storage",Vj="@firebase/storage-compat",jj="@firebase/firestore",Fj="@firebase/ai",$j="@firebase/firestore-compat",Uj="firebase",Bj="12.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xv="[DEFAULT]",Wj={[Qv]:"fire-core",[gj]:"fire-core-compat",[yj]:"fire-analytics",[vj]:"fire-analytics-compat",[xj]:"fire-app-check",[wj]:"fire-app-check-compat",[_j]:"fire-auth",[Ej]:"fire-auth-compat",[bj]:"fire-rtdb",[Tj]:"fire-data-connect",[Cj]:"fire-rtdb-compat",[Sj]:"fire-fn",[Pj]:"fire-fn-compat",[Ij]:"fire-iid",[Aj]:"fire-iid-compat",[kj]:"fire-fcm",[Rj]:"fire-fcm-compat",[Nj]:"fire-perf",[Dj]:"fire-perf-compat",[Mj]:"fire-rc",[Oj]:"fire-rc-compat",[Lj]:"fire-gcs",[Vj]:"fire-gcs-compat",[jj]:"fire-fst",[$j]:"fire-fst-compat",[Fj]:"fire-vertex","fire-js":"fire-js",[Uj]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jf=new Map,zj=new Map,Jv=new Map;function PE(t,e){try{t.container.addComponent(e)}catch(n){xi.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Ha(t){const e=t.name;if(Jv.has(e))return xi.debug(`There were multiple attempts to register component ${e}.`),!1;Jv.set(e,t);for(const n of Jf.values())PE(n,t);for(const n of zj.values())PE(n,t);return!0}function ew(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Mn(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hj={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},vo=new xu("app","Firebase",Hj);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qj{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new xs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw vo.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ml=Bj;function WI(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:Xv,automaticDataCollectionEnabled:!0,...e},i=r.name;if(typeof i!="string"||!i)throw vo.create("bad-app-name",{appName:String(i)});if(n||(n=VI()),!n)throw vo.create("no-options");const o=Jf.get(i);if(o){if(ws(n,o.options)&&ws(r,o.config))return o;throw vo.create("duplicate-app",{appName:i})}const s=new J5(i);for(const l of Jv.values())s.addComponent(l);const a=new qj(n,r,s);return Jf.set(i,a),a}function zI(t=Xv){const e=Jf.get(t);if(!e&&t===Xv&&VI())return WI();if(!e)throw vo.create("no-app",{appName:t});return e}function yo(t,e,n){let r=Wj[t]??t;n&&(r+=`-${n}`);const i=r.match(/\s|\//),o=e.match(/\s|\//);if(i||o){const s=[`Unable to register library "${r}" with version "${e}":`];i&&s.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&o&&s.push("and"),o&&s.push(`version name "${e}" contains illegal characters (whitespace or "/")`),xi.warn(s.join(" "));return}Ha(new xs(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gj="firebase-heartbeat-database",Yj=1,Xc="firebase-heartbeat-store";let og=null;function HI(){return og||(og=dj(Gj,Yj,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Xc)}catch(n){console.warn(n)}}}}).catch(t=>{throw vo.create("idb-open",{originalErrorMessage:t.message})})),og}async function Kj(t){try{const n=(await HI()).transaction(Xc),r=await n.objectStore(Xc).get(qI(t));return await n.done,r}catch(e){if(e instanceof Mi)xi.warn(e.message);else{const n=vo.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});xi.warn(n.message)}}}async function IE(t,e){try{const r=(await HI()).transaction(Xc,"readwrite");await r.objectStore(Xc).put(e,qI(t)),await r.done}catch(n){if(n instanceof Mi)xi.warn(n.message);else{const r=vo.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});xi.warn(r.message)}}}function qI(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qj=1024,Xj=30;class Jj{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new e3(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=AE();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats.length>Xj){const s=t3(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){xi.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=AE(),{heartbeatsToSend:r,unsentEntries:i}=Zj(this._heartbeatsCache.heartbeats),o=Xf(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return xi.warn(n),""}}}function AE(){return new Date().toISOString().substring(0,10)}function Zj(t,e=Qj){const n=[];let r=t.slice();for(const i of t){const o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),kE(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),kE(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class e3{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return $5()?U5().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await Kj(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return IE(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return IE(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function kE(t){return Xf(JSON.stringify({version:2,heartbeats:t})).length}function t3(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n3(t){Ha(new xs("platform-logger",e=>new pj(e),"PRIVATE")),Ha(new xs("heartbeat",e=>new Jj(e),"PRIVATE")),yo(Qv,SE,t),yo(Qv,SE,"esm2020"),yo("fire-js","")}n3("");var r3="firebase",i3="12.1.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */yo(r3,i3,"app");var RE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var wo,GI;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(P,C){function I(){}I.prototype=C.prototype,P.D=C.prototype,P.prototype=new I,P.prototype.constructor=P,P.C=function(A,M,O){for(var N=Array(arguments.length-2),F=2;F<arguments.length;F++)N[F-2]=arguments[F];return C.prototype[M].apply(A,N)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(P,C,I){I||(I=0);var A=Array(16);if(typeof C=="string")for(var M=0;16>M;++M)A[M]=C.charCodeAt(I++)|C.charCodeAt(I++)<<8|C.charCodeAt(I++)<<16|C.charCodeAt(I++)<<24;else for(M=0;16>M;++M)A[M]=C[I++]|C[I++]<<8|C[I++]<<16|C[I++]<<24;C=P.g[0],I=P.g[1],M=P.g[2];var O=P.g[3],N=C+(O^I&(M^O))+A[0]+3614090360&4294967295;C=I+(N<<7&4294967295|N>>>25),N=O+(M^C&(I^M))+A[1]+3905402710&4294967295,O=C+(N<<12&4294967295|N>>>20),N=M+(I^O&(C^I))+A[2]+606105819&4294967295,M=O+(N<<17&4294967295|N>>>15),N=I+(C^M&(O^C))+A[3]+3250441966&4294967295,I=M+(N<<22&4294967295|N>>>10),N=C+(O^I&(M^O))+A[4]+4118548399&4294967295,C=I+(N<<7&4294967295|N>>>25),N=O+(M^C&(I^M))+A[5]+1200080426&4294967295,O=C+(N<<12&4294967295|N>>>20),N=M+(I^O&(C^I))+A[6]+2821735955&4294967295,M=O+(N<<17&4294967295|N>>>15),N=I+(C^M&(O^C))+A[7]+4249261313&4294967295,I=M+(N<<22&4294967295|N>>>10),N=C+(O^I&(M^O))+A[8]+1770035416&4294967295,C=I+(N<<7&4294967295|N>>>25),N=O+(M^C&(I^M))+A[9]+2336552879&4294967295,O=C+(N<<12&4294967295|N>>>20),N=M+(I^O&(C^I))+A[10]+4294925233&4294967295,M=O+(N<<17&4294967295|N>>>15),N=I+(C^M&(O^C))+A[11]+2304563134&4294967295,I=M+(N<<22&4294967295|N>>>10),N=C+(O^I&(M^O))+A[12]+1804603682&4294967295,C=I+(N<<7&4294967295|N>>>25),N=O+(M^C&(I^M))+A[13]+4254626195&4294967295,O=C+(N<<12&4294967295|N>>>20),N=M+(I^O&(C^I))+A[14]+2792965006&4294967295,M=O+(N<<17&4294967295|N>>>15),N=I+(C^M&(O^C))+A[15]+1236535329&4294967295,I=M+(N<<22&4294967295|N>>>10),N=C+(M^O&(I^M))+A[1]+4129170786&4294967295,C=I+(N<<5&4294967295|N>>>27),N=O+(I^M&(C^I))+A[6]+3225465664&4294967295,O=C+(N<<9&4294967295|N>>>23),N=M+(C^I&(O^C))+A[11]+643717713&4294967295,M=O+(N<<14&4294967295|N>>>18),N=I+(O^C&(M^O))+A[0]+3921069994&4294967295,I=M+(N<<20&4294967295|N>>>12),N=C+(M^O&(I^M))+A[5]+3593408605&4294967295,C=I+(N<<5&4294967295|N>>>27),N=O+(I^M&(C^I))+A[10]+38016083&4294967295,O=C+(N<<9&4294967295|N>>>23),N=M+(C^I&(O^C))+A[15]+3634488961&4294967295,M=O+(N<<14&4294967295|N>>>18),N=I+(O^C&(M^O))+A[4]+3889429448&4294967295,I=M+(N<<20&4294967295|N>>>12),N=C+(M^O&(I^M))+A[9]+568446438&4294967295,C=I+(N<<5&4294967295|N>>>27),N=O+(I^M&(C^I))+A[14]+3275163606&4294967295,O=C+(N<<9&4294967295|N>>>23),N=M+(C^I&(O^C))+A[3]+4107603335&4294967295,M=O+(N<<14&4294967295|N>>>18),N=I+(O^C&(M^O))+A[8]+1163531501&4294967295,I=M+(N<<20&4294967295|N>>>12),N=C+(M^O&(I^M))+A[13]+2850285829&4294967295,C=I+(N<<5&4294967295|N>>>27),N=O+(I^M&(C^I))+A[2]+4243563512&4294967295,O=C+(N<<9&4294967295|N>>>23),N=M+(C^I&(O^C))+A[7]+1735328473&4294967295,M=O+(N<<14&4294967295|N>>>18),N=I+(O^C&(M^O))+A[12]+2368359562&4294967295,I=M+(N<<20&4294967295|N>>>12),N=C+(I^M^O)+A[5]+4294588738&4294967295,C=I+(N<<4&4294967295|N>>>28),N=O+(C^I^M)+A[8]+2272392833&4294967295,O=C+(N<<11&4294967295|N>>>21),N=M+(O^C^I)+A[11]+1839030562&4294967295,M=O+(N<<16&4294967295|N>>>16),N=I+(M^O^C)+A[14]+4259657740&4294967295,I=M+(N<<23&4294967295|N>>>9),N=C+(I^M^O)+A[1]+2763975236&4294967295,C=I+(N<<4&4294967295|N>>>28),N=O+(C^I^M)+A[4]+1272893353&4294967295,O=C+(N<<11&4294967295|N>>>21),N=M+(O^C^I)+A[7]+4139469664&4294967295,M=O+(N<<16&4294967295|N>>>16),N=I+(M^O^C)+A[10]+3200236656&4294967295,I=M+(N<<23&4294967295|N>>>9),N=C+(I^M^O)+A[13]+681279174&4294967295,C=I+(N<<4&4294967295|N>>>28),N=O+(C^I^M)+A[0]+3936430074&4294967295,O=C+(N<<11&4294967295|N>>>21),N=M+(O^C^I)+A[3]+3572445317&4294967295,M=O+(N<<16&4294967295|N>>>16),N=I+(M^O^C)+A[6]+76029189&4294967295,I=M+(N<<23&4294967295|N>>>9),N=C+(I^M^O)+A[9]+3654602809&4294967295,C=I+(N<<4&4294967295|N>>>28),N=O+(C^I^M)+A[12]+3873151461&4294967295,O=C+(N<<11&4294967295|N>>>21),N=M+(O^C^I)+A[15]+530742520&4294967295,M=O+(N<<16&4294967295|N>>>16),N=I+(M^O^C)+A[2]+3299628645&4294967295,I=M+(N<<23&4294967295|N>>>9),N=C+(M^(I|~O))+A[0]+4096336452&4294967295,C=I+(N<<6&4294967295|N>>>26),N=O+(I^(C|~M))+A[7]+1126891415&4294967295,O=C+(N<<10&4294967295|N>>>22),N=M+(C^(O|~I))+A[14]+2878612391&4294967295,M=O+(N<<15&4294967295|N>>>17),N=I+(O^(M|~C))+A[5]+4237533241&4294967295,I=M+(N<<21&4294967295|N>>>11),N=C+(M^(I|~O))+A[12]+1700485571&4294967295,C=I+(N<<6&4294967295|N>>>26),N=O+(I^(C|~M))+A[3]+2399980690&4294967295,O=C+(N<<10&4294967295|N>>>22),N=M+(C^(O|~I))+A[10]+4293915773&4294967295,M=O+(N<<15&4294967295|N>>>17),N=I+(O^(M|~C))+A[1]+2240044497&4294967295,I=M+(N<<21&4294967295|N>>>11),N=C+(M^(I|~O))+A[8]+1873313359&4294967295,C=I+(N<<6&4294967295|N>>>26),N=O+(I^(C|~M))+A[15]+4264355552&4294967295,O=C+(N<<10&4294967295|N>>>22),N=M+(C^(O|~I))+A[6]+2734768916&4294967295,M=O+(N<<15&4294967295|N>>>17),N=I+(O^(M|~C))+A[13]+1309151649&4294967295,I=M+(N<<21&4294967295|N>>>11),N=C+(M^(I|~O))+A[4]+4149444226&4294967295,C=I+(N<<6&4294967295|N>>>26),N=O+(I^(C|~M))+A[11]+3174756917&4294967295,O=C+(N<<10&4294967295|N>>>22),N=M+(C^(O|~I))+A[2]+718787259&4294967295,M=O+(N<<15&4294967295|N>>>17),N=I+(O^(M|~C))+A[9]+3951481745&4294967295,P.g[0]=P.g[0]+C&4294967295,P.g[1]=P.g[1]+(M+(N<<21&4294967295|N>>>11))&4294967295,P.g[2]=P.g[2]+M&4294967295,P.g[3]=P.g[3]+O&4294967295}r.prototype.u=function(P,C){C===void 0&&(C=P.length);for(var I=C-this.blockSize,A=this.B,M=this.h,O=0;O<C;){if(M==0)for(;O<=I;)i(this,P,O),O+=this.blockSize;if(typeof P=="string"){for(;O<C;)if(A[M++]=P.charCodeAt(O++),M==this.blockSize){i(this,A),M=0;break}}else for(;O<C;)if(A[M++]=P[O++],M==this.blockSize){i(this,A),M=0;break}}this.h=M,this.o+=C},r.prototype.v=function(){var P=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);P[0]=128;for(var C=1;C<P.length-8;++C)P[C]=0;var I=8*this.o;for(C=P.length-8;C<P.length;++C)P[C]=I&255,I/=256;for(this.u(P),P=Array(16),C=I=0;4>C;++C)for(var A=0;32>A;A+=8)P[I++]=this.g[C]>>>A&255;return P};function o(P,C){var I=a;return Object.prototype.hasOwnProperty.call(I,P)?I[P]:I[P]=C(P)}function s(P,C){this.h=C;for(var I=[],A=!0,M=P.length-1;0<=M;M--){var O=P[M]|0;A&&O==C||(I[M]=O,A=!1)}this.g=I}var a={};function l(P){return-128<=P&&128>P?o(P,function(C){return new s([C|0],0>C?-1:0)}):new s([P|0],0>P?-1:0)}function c(P){if(isNaN(P)||!isFinite(P))return f;if(0>P)return b(c(-P));for(var C=[],I=1,A=0;P>=I;A++)C[A]=P/I|0,I*=4294967296;return new s(C,0)}function u(P,C){if(P.length==0)throw Error("number format error: empty string");if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(P.charAt(0)=="-")return b(u(P.substring(1),C));if(0<=P.indexOf("-"))throw Error('number format error: interior "-" character');for(var I=c(Math.pow(C,8)),A=f,M=0;M<P.length;M+=8){var O=Math.min(8,P.length-M),N=parseInt(P.substring(M,M+O),C);8>O?(O=c(Math.pow(C,O)),A=A.j(O).add(c(N))):(A=A.j(I),A=A.add(c(N)))}return A}var f=l(0),h=l(1),g=l(16777216);t=s.prototype,t.m=function(){if(y(this))return-b(this).m();for(var P=0,C=1,I=0;I<this.g.length;I++){var A=this.i(I);P+=(0<=A?A:4294967296+A)*C,C*=4294967296}return P},t.toString=function(P){if(P=P||10,2>P||36<P)throw Error("radix out of range: "+P);if(w(this))return"0";if(y(this))return"-"+b(this).toString(P);for(var C=c(Math.pow(P,6)),I=this,A="";;){var M=S(I,C).g;I=x(I,M.j(C));var O=((0<I.g.length?I.g[0]:I.h)>>>0).toString(P);if(I=M,w(I))return O+A;for(;6>O.length;)O="0"+O;A=O+A}},t.i=function(P){return 0>P?0:P<this.g.length?this.g[P]:this.h};function w(P){if(P.h!=0)return!1;for(var C=0;C<P.g.length;C++)if(P.g[C]!=0)return!1;return!0}function y(P){return P.h==-1}t.l=function(P){return P=x(this,P),y(P)?-1:w(P)?0:1};function b(P){for(var C=P.g.length,I=[],A=0;A<C;A++)I[A]=~P.g[A];return new s(I,~P.h).add(h)}t.abs=function(){return y(this)?b(this):this},t.add=function(P){for(var C=Math.max(this.g.length,P.g.length),I=[],A=0,M=0;M<=C;M++){var O=A+(this.i(M)&65535)+(P.i(M)&65535),N=(O>>>16)+(this.i(M)>>>16)+(P.i(M)>>>16);A=N>>>16,O&=65535,N&=65535,I[M]=N<<16|O}return new s(I,I[I.length-1]&-2147483648?-1:0)};function x(P,C){return P.add(b(C))}t.j=function(P){if(w(this)||w(P))return f;if(y(this))return y(P)?b(this).j(b(P)):b(b(this).j(P));if(y(P))return b(this.j(b(P)));if(0>this.l(g)&&0>P.l(g))return c(this.m()*P.m());for(var C=this.g.length+P.g.length,I=[],A=0;A<2*C;A++)I[A]=0;for(A=0;A<this.g.length;A++)for(var M=0;M<P.g.length;M++){var O=this.i(A)>>>16,N=this.i(A)&65535,F=P.i(M)>>>16,G=P.i(M)&65535;I[2*A+2*M]+=N*G,v(I,2*A+2*M),I[2*A+2*M+1]+=O*G,v(I,2*A+2*M+1),I[2*A+2*M+1]+=N*F,v(I,2*A+2*M+1),I[2*A+2*M+2]+=O*F,v(I,2*A+2*M+2)}for(A=0;A<C;A++)I[A]=I[2*A+1]<<16|I[2*A];for(A=C;A<2*C;A++)I[A]=0;return new s(I,0)};function v(P,C){for(;(P[C]&65535)!=P[C];)P[C+1]+=P[C]>>>16,P[C]&=65535,C++}function E(P,C){this.g=P,this.h=C}function S(P,C){if(w(C))throw Error("division by zero");if(w(P))return new E(f,f);if(y(P))return C=S(b(P),C),new E(b(C.g),b(C.h));if(y(C))return C=S(P,b(C)),new E(b(C.g),C.h);if(30<P.g.length){if(y(P)||y(C))throw Error("slowDivide_ only works with positive integers.");for(var I=h,A=C;0>=A.l(P);)I=R(I),A=R(A);var M=D(I,1),O=D(A,1);for(A=D(A,2),I=D(I,2);!w(A);){var N=O.add(A);0>=N.l(P)&&(M=M.add(I),O=N),A=D(A,1),I=D(I,1)}return C=x(P,M.j(C)),new E(M,C)}for(M=f;0<=P.l(C);){for(I=Math.max(1,Math.floor(P.m()/C.m())),A=Math.ceil(Math.log(I)/Math.LN2),A=48>=A?1:Math.pow(2,A-48),O=c(I),N=O.j(C);y(N)||0<N.l(P);)I-=A,O=c(I),N=O.j(C);w(O)&&(O=h),M=M.add(O),P=x(P,N)}return new E(M,P)}t.A=function(P){return S(this,P).h},t.and=function(P){for(var C=Math.max(this.g.length,P.g.length),I=[],A=0;A<C;A++)I[A]=this.i(A)&P.i(A);return new s(I,this.h&P.h)},t.or=function(P){for(var C=Math.max(this.g.length,P.g.length),I=[],A=0;A<C;A++)I[A]=this.i(A)|P.i(A);return new s(I,this.h|P.h)},t.xor=function(P){for(var C=Math.max(this.g.length,P.g.length),I=[],A=0;A<C;A++)I[A]=this.i(A)^P.i(A);return new s(I,this.h^P.h)};function R(P){for(var C=P.g.length+1,I=[],A=0;A<C;A++)I[A]=P.i(A)<<1|P.i(A-1)>>>31;return new s(I,P.h)}function D(P,C){var I=C>>5;C%=32;for(var A=P.g.length-I,M=[],O=0;O<A;O++)M[O]=0<C?P.i(O+I)>>>C|P.i(O+I+1)<<32-C:P.i(O+I);return new s(M,P.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,GI=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=c,s.fromString=u,wo=s}).apply(typeof RE<"u"?RE:typeof self<"u"?self:typeof window<"u"?window:{});var Td=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var YI,sc,KI,of,Zv,QI,XI,JI;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(d,_,T){return d==Array.prototype||d==Object.prototype||(d[_]=T.value),d};function n(d){d=[typeof globalThis=="object"&&globalThis,d,typeof window=="object"&&window,typeof self=="object"&&self,typeof Td=="object"&&Td];for(var _=0;_<d.length;++_){var T=d[_];if(T&&T.Math==Math)return T}throw Error("Cannot find global object")}var r=n(this);function i(d,_){if(_)e:{var T=r;d=d.split(".");for(var k=0;k<d.length-1;k++){var V=d[k];if(!(V in T))break e;T=T[V]}d=d[d.length-1],k=T[d],_=_(k),_!=k&&_!=null&&e(T,d,{configurable:!0,writable:!0,value:_})}}function o(d,_){d instanceof String&&(d+="");var T=0,k=!1,V={next:function(){if(!k&&T<d.length){var $=T++;return{value:_($,d[$]),done:!1}}return k=!0,{done:!0,value:void 0}}};return V[Symbol.iterator]=function(){return V},V}i("Array.prototype.values",function(d){return d||function(){return o(this,function(_,T){return T})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var s=s||{},a=this||self;function l(d){var _=typeof d;return _=_!="object"?_:d?Array.isArray(d)?"array":_:"null",_=="array"||_=="object"&&typeof d.length=="number"}function c(d){var _=typeof d;return _=="object"&&d!=null||_=="function"}function u(d,_,T){return d.call.apply(d.bind,arguments)}function f(d,_,T){if(!d)throw Error();if(2<arguments.length){var k=Array.prototype.slice.call(arguments,2);return function(){var V=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(V,k),d.apply(_,V)}}return function(){return d.apply(_,arguments)}}function h(d,_,T){return h=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?u:f,h.apply(null,arguments)}function g(d,_){var T=Array.prototype.slice.call(arguments,1);return function(){var k=T.slice();return k.push.apply(k,arguments),d.apply(this,k)}}function w(d,_){function T(){}T.prototype=_.prototype,d.aa=_.prototype,d.prototype=new T,d.prototype.constructor=d,d.Qb=function(k,V,$){for(var X=Array(arguments.length-2),Ge=2;Ge<arguments.length;Ge++)X[Ge-2]=arguments[Ge];return _.prototype[V].apply(k,X)}}function y(d){const _=d.length;if(0<_){const T=Array(_);for(let k=0;k<_;k++)T[k]=d[k];return T}return[]}function b(d,_){for(let T=1;T<arguments.length;T++){const k=arguments[T];if(l(k)){const V=d.length||0,$=k.length||0;d.length=V+$;for(let X=0;X<$;X++)d[V+X]=k[X]}else d.push(k)}}class x{constructor(_,T){this.i=_,this.j=T,this.h=0,this.g=null}get(){let _;return 0<this.h?(this.h--,_=this.g,this.g=_.next,_.next=null):_=this.i(),_}}function v(d){return/^[\s\xa0]*$/.test(d)}function E(){var d=a.navigator;return d&&(d=d.userAgent)?d:""}function S(d){return S[" "](d),d}S[" "]=function(){};var R=E().indexOf("Gecko")!=-1&&!(E().toLowerCase().indexOf("webkit")!=-1&&E().indexOf("Edge")==-1)&&!(E().indexOf("Trident")!=-1||E().indexOf("MSIE")!=-1)&&E().indexOf("Edge")==-1;function D(d,_,T){for(const k in d)_.call(T,d[k],k,d)}function P(d,_){for(const T in d)_.call(void 0,d[T],T,d)}function C(d){const _={};for(const T in d)_[T]=d[T];return _}const I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function A(d,_){let T,k;for(let V=1;V<arguments.length;V++){k=arguments[V];for(T in k)d[T]=k[T];for(let $=0;$<I.length;$++)T=I[$],Object.prototype.hasOwnProperty.call(k,T)&&(d[T]=k[T])}}function M(d){var _=1;d=d.split(":");const T=[];for(;0<_&&d.length;)T.push(d.shift()),_--;return d.length&&T.push(d.join(":")),T}function O(d){a.setTimeout(()=>{throw d},0)}function N(){var d=j;let _=null;return d.g&&(_=d.g,d.g=d.g.next,d.g||(d.h=null),_.next=null),_}class F{constructor(){this.h=this.g=null}add(_,T){const k=G.get();k.set(_,T),this.h?this.h.next=k:this.g=k,this.h=k}}var G=new x(()=>new K,d=>d.reset());class K{constructor(){this.next=this.g=this.h=null}set(_,T){this.h=_,this.g=T,this.next=null}reset(){this.next=this.g=this.h=null}}let W,L=!1,j=new F,U=()=>{const d=a.Promise.resolve(void 0);W=()=>{d.then(z)}};var z=()=>{for(var d;d=N();){try{d.h.call(d.g)}catch(T){O(T)}var _=G;_.j(d),100>_.h&&(_.h++,d.next=_.g,_.g=d)}L=!1};function B(){this.s=this.s,this.C=this.C}B.prototype.s=!1,B.prototype.ma=function(){this.s||(this.s=!0,this.N())},B.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function H(d,_){this.type=d,this.g=this.target=_,this.defaultPrevented=!1}H.prototype.h=function(){this.defaultPrevented=!0};var Z=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var d=!1,_=Object.defineProperty({},"passive",{get:function(){d=!0}});try{const T=()=>{};a.addEventListener("test",T,_),a.removeEventListener("test",T,_)}catch{}return d}();function ie(d,_){if(H.call(this,d?d.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,d){var T=this.type=d.type,k=d.changedTouches&&d.changedTouches.length?d.changedTouches[0]:null;if(this.target=d.target||d.srcElement,this.g=_,_=d.relatedTarget){if(R){e:{try{S(_.nodeName);var V=!0;break e}catch{}V=!1}V||(_=null)}}else T=="mouseover"?_=d.fromElement:T=="mouseout"&&(_=d.toElement);this.relatedTarget=_,k?(this.clientX=k.clientX!==void 0?k.clientX:k.pageX,this.clientY=k.clientY!==void 0?k.clientY:k.pageY,this.screenX=k.screenX||0,this.screenY=k.screenY||0):(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0),this.button=d.button,this.key=d.key||"",this.ctrlKey=d.ctrlKey,this.altKey=d.altKey,this.shiftKey=d.shiftKey,this.metaKey=d.metaKey,this.pointerId=d.pointerId||0,this.pointerType=typeof d.pointerType=="string"?d.pointerType:ce[d.pointerType]||"",this.state=d.state,this.i=d,d.defaultPrevented&&ie.aa.h.call(this)}}w(ie,H);var ce={2:"touch",3:"pen",4:"mouse"};ie.prototype.h=function(){ie.aa.h.call(this);var d=this.i;d.preventDefault?d.preventDefault():d.returnValue=!1};var J="closure_listenable_"+(1e6*Math.random()|0),re=0;function te(d,_,T,k,V){this.listener=d,this.proxy=null,this.src=_,this.type=T,this.capture=!!k,this.ha=V,this.key=++re,this.da=this.fa=!1}function ee(d){d.da=!0,d.listener=null,d.proxy=null,d.src=null,d.ha=null}function fe(d){this.src=d,this.g={},this.h=0}fe.prototype.add=function(d,_,T,k,V){var $=d.toString();d=this.g[$],d||(d=this.g[$]=[],this.h++);var X=Ke(d,_,k,V);return-1<X?(_=d[X],T||(_.fa=!1)):(_=new te(_,this.src,$,!!k,V),_.fa=T,d.push(_)),_};function Ce(d,_){var T=_.type;if(T in d.g){var k=d.g[T],V=Array.prototype.indexOf.call(k,_,void 0),$;($=0<=V)&&Array.prototype.splice.call(k,V,1),$&&(ee(_),d.g[T].length==0&&(delete d.g[T],d.h--))}}function Ke(d,_,T,k){for(var V=0;V<d.length;++V){var $=d[V];if(!$.da&&$.listener==_&&$.capture==!!T&&$.ha==k)return V}return-1}var st="closure_lm_"+(1e6*Math.random()|0),Vt={};function rr(d,_,T,k,V){if(k&&k.once)return Jr(d,_,T,k,V);if(Array.isArray(_)){for(var $=0;$<_.length;$++)rr(d,_[$],T,k,V);return null}return T=dm(T),d&&d[J]?d.K(_,T,c(k)?!!k.capture:!!k,V):br(d,_,T,!1,k,V)}function br(d,_,T,k,V,$){if(!_)throw Error("Invalid event type");var X=c(V)?!!V.capture:!!V,Ge=cm(d);if(Ge||(d[st]=Ge=new fe(d)),T=Ge.add(_,T,k,X,$),T.proxy)return T;if(k=Sl(),T.proxy=k,k.src=d,k.listener=T,d.addEventListener)Z||(V=X),V===void 0&&(V=!1),d.addEventListener(_.toString(),k,V);else if(d.attachEvent)d.attachEvent(cx(_.toString()),k);else if(d.addListener&&d.removeListener)d.addListener(k);else throw Error("addEventListener and attachEvent are unavailable.");return T}function Sl(){function d(T){return _.call(d.src,d.listener,T)}const _=vO;return d}function Jr(d,_,T,k,V){if(Array.isArray(_)){for(var $=0;$<_.length;$++)Jr(d,_[$],T,k,V);return null}return T=dm(T),d&&d[J]?d.L(_,T,c(k)?!!k.capture:!!k,V):br(d,_,T,!0,k,V)}function zu(d,_,T,k,V){if(Array.isArray(_))for(var $=0;$<_.length;$++)zu(d,_[$],T,k,V);else k=c(k)?!!k.capture:!!k,T=dm(T),d&&d[J]?(d=d.i,_=String(_).toString(),_ in d.g&&($=d.g[_],T=Ke($,T,k,V),-1<T&&(ee($[T]),Array.prototype.splice.call($,T,1),$.length==0&&(delete d.g[_],d.h--)))):d&&(d=cm(d))&&(_=d.g[_.toString()],d=-1,_&&(d=Ke(_,T,k,V)),(T=-1<d?_[d]:null)&&Li(T))}function Li(d){if(typeof d!="number"&&d&&!d.da){var _=d.src;if(_&&_[J])Ce(_.i,d);else{var T=d.type,k=d.proxy;_.removeEventListener?_.removeEventListener(T,k,d.capture):_.detachEvent?_.detachEvent(cx(T),k):_.addListener&&_.removeListener&&_.removeListener(k),(T=cm(_))?(Ce(T,d),T.h==0&&(T.src=null,_[st]=null)):ee(d)}}}function cx(d){return d in Vt?Vt[d]:Vt[d]="on"+d}function vO(d,_){if(d.da)d=!0;else{_=new ie(_,this);var T=d.listener,k=d.ha||d.src;d.fa&&Li(d),d=T.call(k,_)}return d}function cm(d){return d=d[st],d instanceof fe?d:null}var um="__closure_events_fn_"+(1e9*Math.random()>>>0);function dm(d){return typeof d=="function"?d:(d[um]||(d[um]=function(_){return d.handleEvent(_)}),d[um])}function Kt(){B.call(this),this.i=new fe(this),this.M=this,this.F=null}w(Kt,B),Kt.prototype[J]=!0,Kt.prototype.removeEventListener=function(d,_,T,k){zu(this,d,_,T,k)};function un(d,_){var T,k=d.F;if(k)for(T=[];k;k=k.F)T.push(k);if(d=d.M,k=_.type||_,typeof _=="string")_=new H(_,d);else if(_ instanceof H)_.target=_.target||d;else{var V=_;_=new H(k,d),A(_,V)}if(V=!0,T)for(var $=T.length-1;0<=$;$--){var X=_.g=T[$];V=Hu(X,k,!0,_)&&V}if(X=_.g=d,V=Hu(X,k,!0,_)&&V,V=Hu(X,k,!1,_)&&V,T)for($=0;$<T.length;$++)X=_.g=T[$],V=Hu(X,k,!1,_)&&V}Kt.prototype.N=function(){if(Kt.aa.N.call(this),this.i){var d=this.i,_;for(_ in d.g){for(var T=d.g[_],k=0;k<T.length;k++)ee(T[k]);delete d.g[_],d.h--}}this.F=null},Kt.prototype.K=function(d,_,T,k){return this.i.add(String(d),_,!1,T,k)},Kt.prototype.L=function(d,_,T,k){return this.i.add(String(d),_,!0,T,k)};function Hu(d,_,T,k){if(_=d.i.g[String(_)],!_)return!0;_=_.concat();for(var V=!0,$=0;$<_.length;++$){var X=_[$];if(X&&!X.da&&X.capture==T){var Ge=X.listener,Ut=X.ha||X.src;X.fa&&Ce(d.i,X),V=Ge.call(Ut,k)!==!1&&V}}return V&&!k.defaultPrevented}function ux(d,_,T){if(typeof d=="function")T&&(d=h(d,T));else if(d&&typeof d.handleEvent=="function")d=h(d.handleEvent,d);else throw Error("Invalid listener argument");return 2147483647<Number(_)?-1:a.setTimeout(d,_||0)}function dx(d){d.g=ux(()=>{d.g=null,d.i&&(d.i=!1,dx(d))},d.l);const _=d.h;d.h=null,d.m.apply(null,_)}class yO extends B{constructor(_,T){super(),this.m=_,this.l=T,this.h=null,this.i=!1,this.g=null}j(_){this.h=arguments,this.g?this.i=!0:dx(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Pl(d){B.call(this),this.h=d,this.g={}}w(Pl,B);var fx=[];function hx(d){D(d.g,function(_,T){this.g.hasOwnProperty(T)&&Li(_)},d),d.g={}}Pl.prototype.N=function(){Pl.aa.N.call(this),hx(this)},Pl.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var fm=a.JSON.stringify,wO=a.JSON.parse,xO=class{stringify(d){return a.JSON.stringify(d,void 0)}parse(d){return a.JSON.parse(d,void 0)}};function hm(){}hm.prototype.h=null;function px(d){return d.h||(d.h=d.i())}function mx(){}var Il={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function pm(){H.call(this,"d")}w(pm,H);function mm(){H.call(this,"c")}w(mm,H);var Go={},gx=null;function qu(){return gx=gx||new Kt}Go.La="serverreachability";function vx(d){H.call(this,Go.La,d)}w(vx,H);function Al(d){const _=qu();un(_,new vx(_))}Go.STAT_EVENT="statevent";function yx(d,_){H.call(this,Go.STAT_EVENT,d),this.stat=_}w(yx,H);function dn(d){const _=qu();un(_,new yx(_,d))}Go.Ma="timingevent";function wx(d,_){H.call(this,Go.Ma,d),this.size=_}w(wx,H);function kl(d,_){if(typeof d!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){d()},_)}function Rl(){this.g=!0}Rl.prototype.xa=function(){this.g=!1};function _O(d,_,T,k,V,$){d.info(function(){if(d.g)if($)for(var X="",Ge=$.split("&"),Ut=0;Ut<Ge.length;Ut++){var Fe=Ge[Ut].split("=");if(1<Fe.length){var Qt=Fe[0];Fe=Fe[1];var Xt=Qt.split("_");X=2<=Xt.length&&Xt[1]=="type"?X+(Qt+"="+Fe+"&"):X+(Qt+"=redacted&")}}else X=null;else X=$;return"XMLHTTP REQ ("+k+") [attempt "+V+"]: "+_+`
`+T+`
`+X})}function EO(d,_,T,k,V,$,X){d.info(function(){return"XMLHTTP RESP ("+k+") [ attempt "+V+"]: "+_+`
`+T+`
`+$+" "+X})}function $s(d,_,T,k){d.info(function(){return"XMLHTTP TEXT ("+_+"): "+TO(d,T)+(k?" "+k:"")})}function bO(d,_){d.info(function(){return"TIMEOUT: "+_})}Rl.prototype.info=function(){};function TO(d,_){if(!d.g)return _;if(!_)return null;try{var T=JSON.parse(_);if(T){for(d=0;d<T.length;d++)if(Array.isArray(T[d])){var k=T[d];if(!(2>k.length)){var V=k[1];if(Array.isArray(V)&&!(1>V.length)){var $=V[0];if($!="noop"&&$!="stop"&&$!="close")for(var X=1;X<V.length;X++)V[X]=""}}}}return fm(T)}catch{return _}}var Gu={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},xx={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},gm;function Yu(){}w(Yu,hm),Yu.prototype.g=function(){return new XMLHttpRequest},Yu.prototype.i=function(){return{}},gm=new Yu;function Vi(d,_,T,k){this.j=d,this.i=_,this.l=T,this.R=k||1,this.U=new Pl(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new _x}function _x(){this.i=null,this.g="",this.h=!1}var Ex={},vm={};function ym(d,_,T){d.L=1,d.v=Ju(Zr(_)),d.m=T,d.P=!0,bx(d,null)}function bx(d,_){d.F=Date.now(),Ku(d),d.A=Zr(d.v);var T=d.A,k=d.R;Array.isArray(k)||(k=[String(k)]),Vx(T.i,"t",k),d.C=0,T=d.j.J,d.h=new _x,d.g=t_(d.j,T?_:null,!d.m),0<d.O&&(d.M=new yO(h(d.Y,d,d.g),d.O)),_=d.U,T=d.g,k=d.ca;var V="readystatechange";Array.isArray(V)||(V&&(fx[0]=V.toString()),V=fx);for(var $=0;$<V.length;$++){var X=rr(T,V[$],k||_.handleEvent,!1,_.h||_);if(!X)break;_.g[X.key]=X}_=d.H?C(d.H):{},d.m?(d.u||(d.u="POST"),_["Content-Type"]="application/x-www-form-urlencoded",d.g.ea(d.A,d.u,d.m,_)):(d.u="GET",d.g.ea(d.A,d.u,null,_)),Al(),_O(d.i,d.u,d.A,d.l,d.R,d.m)}Vi.prototype.ca=function(d){d=d.target;const _=this.M;_&&ei(d)==3?_.j():this.Y(d)},Vi.prototype.Y=function(d){try{if(d==this.g)e:{const Xt=ei(this.g);var _=this.g.Ba();const Ws=this.g.Z();if(!(3>Xt)&&(Xt!=3||this.g&&(this.h.h||this.g.oa()||zx(this.g)))){this.J||Xt!=4||_==7||(_==8||0>=Ws?Al(3):Al(2)),wm(this);var T=this.g.Z();this.X=T;t:if(Tx(this)){var k=zx(this.g);d="";var V=k.length,$=ei(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Yo(this),Nl(this);var X="";break t}this.h.i=new a.TextDecoder}for(_=0;_<V;_++)this.h.h=!0,d+=this.h.i.decode(k[_],{stream:!($&&_==V-1)});k.length=0,this.h.g+=d,this.C=0,X=this.h.g}else X=this.g.oa();if(this.o=T==200,EO(this.i,this.u,this.A,this.l,this.R,Xt,T),this.o){if(this.T&&!this.K){t:{if(this.g){var Ge,Ut=this.g;if((Ge=Ut.g?Ut.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!v(Ge)){var Fe=Ge;break t}}Fe=null}if(T=Fe)$s(this.i,this.l,T,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,xm(this,T);else{this.o=!1,this.s=3,dn(12),Yo(this),Nl(this);break e}}if(this.P){T=!0;let ir;for(;!this.J&&this.C<X.length;)if(ir=CO(this,X),ir==vm){Xt==4&&(this.s=4,dn(14),T=!1),$s(this.i,this.l,null,"[Incomplete Response]");break}else if(ir==Ex){this.s=4,dn(15),$s(this.i,this.l,X,"[Invalid Chunk]"),T=!1;break}else $s(this.i,this.l,ir,null),xm(this,ir);if(Tx(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Xt!=4||X.length!=0||this.h.h||(this.s=1,dn(16),T=!1),this.o=this.o&&T,!T)$s(this.i,this.l,X,"[Invalid Chunked Response]"),Yo(this),Nl(this);else if(0<X.length&&!this.W){this.W=!0;var Qt=this.j;Qt.g==this&&Qt.ba&&!Qt.M&&(Qt.j.info("Great, no buffering proxy detected. Bytes received: "+X.length),Sm(Qt),Qt.M=!0,dn(11))}}else $s(this.i,this.l,X,null),xm(this,X);Xt==4&&Yo(this),this.o&&!this.J&&(Xt==4?Xx(this.j,this):(this.o=!1,Ku(this)))}else BO(this.g),T==400&&0<X.indexOf("Unknown SID")?(this.s=3,dn(12)):(this.s=0,dn(13)),Yo(this),Nl(this)}}}catch{}finally{}};function Tx(d){return d.g?d.u=="GET"&&d.L!=2&&d.j.Ca:!1}function CO(d,_){var T=d.C,k=_.indexOf(`
`,T);return k==-1?vm:(T=Number(_.substring(T,k)),isNaN(T)?Ex:(k+=1,k+T>_.length?vm:(_=_.slice(k,k+T),d.C=k+T,_)))}Vi.prototype.cancel=function(){this.J=!0,Yo(this)};function Ku(d){d.S=Date.now()+d.I,Cx(d,d.I)}function Cx(d,_){if(d.B!=null)throw Error("WatchDog timer not null");d.B=kl(h(d.ba,d),_)}function wm(d){d.B&&(a.clearTimeout(d.B),d.B=null)}Vi.prototype.ba=function(){this.B=null;const d=Date.now();0<=d-this.S?(bO(this.i,this.A),this.L!=2&&(Al(),dn(17)),Yo(this),this.s=2,Nl(this)):Cx(this,this.S-d)};function Nl(d){d.j.G==0||d.J||Xx(d.j,d)}function Yo(d){wm(d);var _=d.M;_&&typeof _.ma=="function"&&_.ma(),d.M=null,hx(d.U),d.g&&(_=d.g,d.g=null,_.abort(),_.ma())}function xm(d,_){try{var T=d.j;if(T.G!=0&&(T.g==d||_m(T.h,d))){if(!d.K&&_m(T.h,d)&&T.G==3){try{var k=T.Da.g.parse(_)}catch{k=null}if(Array.isArray(k)&&k.length==3){var V=k;if(V[0]==0){e:if(!T.u){if(T.g)if(T.g.F+3e3<d.F)id(T),nd(T);else break e;Cm(T),dn(18)}}else T.za=V[1],0<T.za-T.T&&37500>V[2]&&T.F&&T.v==0&&!T.C&&(T.C=kl(h(T.Za,T),6e3));if(1>=Ix(T.h)&&T.ca){try{T.ca()}catch{}T.ca=void 0}}else Qo(T,11)}else if((d.K||T.g==d)&&id(T),!v(_))for(V=T.Da.g.parse(_),_=0;_<V.length;_++){let Fe=V[_];if(T.T=Fe[0],Fe=Fe[1],T.G==2)if(Fe[0]=="c"){T.K=Fe[1],T.ia=Fe[2];const Qt=Fe[3];Qt!=null&&(T.la=Qt,T.j.info("VER="+T.la));const Xt=Fe[4];Xt!=null&&(T.Aa=Xt,T.j.info("SVER="+T.Aa));const Ws=Fe[5];Ws!=null&&typeof Ws=="number"&&0<Ws&&(k=1.5*Ws,T.L=k,T.j.info("backChannelRequestTimeoutMs_="+k)),k=T;const ir=d.g;if(ir){const sd=ir.g?ir.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(sd){var $=k.h;$.g||sd.indexOf("spdy")==-1&&sd.indexOf("quic")==-1&&sd.indexOf("h2")==-1||($.j=$.l,$.g=new Set,$.h&&(Em($,$.h),$.h=null))}if(k.D){const Pm=ir.g?ir.g.getResponseHeader("X-HTTP-Session-Id"):null;Pm&&(k.ya=Pm,et(k.I,k.D,Pm))}}T.G=3,T.l&&T.l.ua(),T.ba&&(T.R=Date.now()-d.F,T.j.info("Handshake RTT: "+T.R+"ms")),k=T;var X=d;if(k.qa=e_(k,k.J?k.ia:null,k.W),X.K){Ax(k.h,X);var Ge=X,Ut=k.L;Ut&&(Ge.I=Ut),Ge.B&&(wm(Ge),Ku(Ge)),k.g=X}else Kx(k);0<T.i.length&&rd(T)}else Fe[0]!="stop"&&Fe[0]!="close"||Qo(T,7);else T.G==3&&(Fe[0]=="stop"||Fe[0]=="close"?Fe[0]=="stop"?Qo(T,7):Tm(T):Fe[0]!="noop"&&T.l&&T.l.ta(Fe),T.v=0)}}Al(4)}catch{}}var SO=class{constructor(d,_){this.g=d,this.map=_}};function Sx(d){this.l=d||10,a.PerformanceNavigationTiming?(d=a.performance.getEntriesByType("navigation"),d=0<d.length&&(d[0].nextHopProtocol=="hq"||d[0].nextHopProtocol=="h2")):d=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=d?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Px(d){return d.h?!0:d.g?d.g.size>=d.j:!1}function Ix(d){return d.h?1:d.g?d.g.size:0}function _m(d,_){return d.h?d.h==_:d.g?d.g.has(_):!1}function Em(d,_){d.g?d.g.add(_):d.h=_}function Ax(d,_){d.h&&d.h==_?d.h=null:d.g&&d.g.has(_)&&d.g.delete(_)}Sx.prototype.cancel=function(){if(this.i=kx(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const d of this.g.values())d.cancel();this.g.clear()}};function kx(d){if(d.h!=null)return d.i.concat(d.h.D);if(d.g!=null&&d.g.size!==0){let _=d.i;for(const T of d.g.values())_=_.concat(T.D);return _}return y(d.i)}function PO(d){if(d.V&&typeof d.V=="function")return d.V();if(typeof Map<"u"&&d instanceof Map||typeof Set<"u"&&d instanceof Set)return Array.from(d.values());if(typeof d=="string")return d.split("");if(l(d)){for(var _=[],T=d.length,k=0;k<T;k++)_.push(d[k]);return _}_=[],T=0;for(k in d)_[T++]=d[k];return _}function IO(d){if(d.na&&typeof d.na=="function")return d.na();if(!d.V||typeof d.V!="function"){if(typeof Map<"u"&&d instanceof Map)return Array.from(d.keys());if(!(typeof Set<"u"&&d instanceof Set)){if(l(d)||typeof d=="string"){var _=[];d=d.length;for(var T=0;T<d;T++)_.push(T);return _}_=[],T=0;for(const k in d)_[T++]=k;return _}}}function Rx(d,_){if(d.forEach&&typeof d.forEach=="function")d.forEach(_,void 0);else if(l(d)||typeof d=="string")Array.prototype.forEach.call(d,_,void 0);else for(var T=IO(d),k=PO(d),V=k.length,$=0;$<V;$++)_.call(void 0,k[$],T&&T[$],d)}var Nx=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function AO(d,_){if(d){d=d.split("&");for(var T=0;T<d.length;T++){var k=d[T].indexOf("="),V=null;if(0<=k){var $=d[T].substring(0,k);V=d[T].substring(k+1)}else $=d[T];_($,V?decodeURIComponent(V.replace(/\+/g," ")):"")}}}function Ko(d){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,d instanceof Ko){this.h=d.h,Qu(this,d.j),this.o=d.o,this.g=d.g,Xu(this,d.s),this.l=d.l;var _=d.i,T=new Ol;T.i=_.i,_.g&&(T.g=new Map(_.g),T.h=_.h),Dx(this,T),this.m=d.m}else d&&(_=String(d).match(Nx))?(this.h=!1,Qu(this,_[1]||"",!0),this.o=Dl(_[2]||""),this.g=Dl(_[3]||"",!0),Xu(this,_[4]),this.l=Dl(_[5]||"",!0),Dx(this,_[6]||"",!0),this.m=Dl(_[7]||"")):(this.h=!1,this.i=new Ol(null,this.h))}Ko.prototype.toString=function(){var d=[],_=this.j;_&&d.push(Ml(_,Mx,!0),":");var T=this.g;return(T||_=="file")&&(d.push("//"),(_=this.o)&&d.push(Ml(_,Mx,!0),"@"),d.push(encodeURIComponent(String(T)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),T=this.s,T!=null&&d.push(":",String(T))),(T=this.l)&&(this.g&&T.charAt(0)!="/"&&d.push("/"),d.push(Ml(T,T.charAt(0)=="/"?NO:RO,!0))),(T=this.i.toString())&&d.push("?",T),(T=this.m)&&d.push("#",Ml(T,MO)),d.join("")};function Zr(d){return new Ko(d)}function Qu(d,_,T){d.j=T?Dl(_,!0):_,d.j&&(d.j=d.j.replace(/:$/,""))}function Xu(d,_){if(_){if(_=Number(_),isNaN(_)||0>_)throw Error("Bad port number "+_);d.s=_}else d.s=null}function Dx(d,_,T){_ instanceof Ol?(d.i=_,OO(d.i,d.h)):(T||(_=Ml(_,DO)),d.i=new Ol(_,d.h))}function et(d,_,T){d.i.set(_,T)}function Ju(d){return et(d,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),d}function Dl(d,_){return d?_?decodeURI(d.replace(/%25/g,"%2525")):decodeURIComponent(d):""}function Ml(d,_,T){return typeof d=="string"?(d=encodeURI(d).replace(_,kO),T&&(d=d.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d):null}function kO(d){return d=d.charCodeAt(0),"%"+(d>>4&15).toString(16)+(d&15).toString(16)}var Mx=/[#\/\?@]/g,RO=/[#\?:]/g,NO=/[#\?]/g,DO=/[#\?@]/g,MO=/#/g;function Ol(d,_){this.h=this.g=null,this.i=d||null,this.j=!!_}function ji(d){d.g||(d.g=new Map,d.h=0,d.i&&AO(d.i,function(_,T){d.add(decodeURIComponent(_.replace(/\+/g," ")),T)}))}t=Ol.prototype,t.add=function(d,_){ji(this),this.i=null,d=Us(this,d);var T=this.g.get(d);return T||this.g.set(d,T=[]),T.push(_),this.h+=1,this};function Ox(d,_){ji(d),_=Us(d,_),d.g.has(_)&&(d.i=null,d.h-=d.g.get(_).length,d.g.delete(_))}function Lx(d,_){return ji(d),_=Us(d,_),d.g.has(_)}t.forEach=function(d,_){ji(this),this.g.forEach(function(T,k){T.forEach(function(V){d.call(_,V,k,this)},this)},this)},t.na=function(){ji(this);const d=Array.from(this.g.values()),_=Array.from(this.g.keys()),T=[];for(let k=0;k<_.length;k++){const V=d[k];for(let $=0;$<V.length;$++)T.push(_[k])}return T},t.V=function(d){ji(this);let _=[];if(typeof d=="string")Lx(this,d)&&(_=_.concat(this.g.get(Us(this,d))));else{d=Array.from(this.g.values());for(let T=0;T<d.length;T++)_=_.concat(d[T])}return _},t.set=function(d,_){return ji(this),this.i=null,d=Us(this,d),Lx(this,d)&&(this.h-=this.g.get(d).length),this.g.set(d,[_]),this.h+=1,this},t.get=function(d,_){return d?(d=this.V(d),0<d.length?String(d[0]):_):_};function Vx(d,_,T){Ox(d,_),0<T.length&&(d.i=null,d.g.set(Us(d,_),y(T)),d.h+=T.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const d=[],_=Array.from(this.g.keys());for(var T=0;T<_.length;T++){var k=_[T];const $=encodeURIComponent(String(k)),X=this.V(k);for(k=0;k<X.length;k++){var V=$;X[k]!==""&&(V+="="+encodeURIComponent(String(X[k]))),d.push(V)}}return this.i=d.join("&")};function Us(d,_){return _=String(_),d.j&&(_=_.toLowerCase()),_}function OO(d,_){_&&!d.j&&(ji(d),d.i=null,d.g.forEach(function(T,k){var V=k.toLowerCase();k!=V&&(Ox(this,k),Vx(this,V,T))},d)),d.j=_}function LO(d,_){const T=new Rl;if(a.Image){const k=new Image;k.onload=g(Fi,T,"TestLoadImage: loaded",!0,_,k),k.onerror=g(Fi,T,"TestLoadImage: error",!1,_,k),k.onabort=g(Fi,T,"TestLoadImage: abort",!1,_,k),k.ontimeout=g(Fi,T,"TestLoadImage: timeout",!1,_,k),a.setTimeout(function(){k.ontimeout&&k.ontimeout()},1e4),k.src=d}else _(!1)}function VO(d,_){const T=new Rl,k=new AbortController,V=setTimeout(()=>{k.abort(),Fi(T,"TestPingServer: timeout",!1,_)},1e4);fetch(d,{signal:k.signal}).then($=>{clearTimeout(V),$.ok?Fi(T,"TestPingServer: ok",!0,_):Fi(T,"TestPingServer: server error",!1,_)}).catch(()=>{clearTimeout(V),Fi(T,"TestPingServer: error",!1,_)})}function Fi(d,_,T,k,V){try{V&&(V.onload=null,V.onerror=null,V.onabort=null,V.ontimeout=null),k(T)}catch{}}function jO(){this.g=new xO}function FO(d,_,T){const k=T||"";try{Rx(d,function(V,$){let X=V;c(V)&&(X=fm(V)),_.push(k+$+"="+encodeURIComponent(X))})}catch(V){throw _.push(k+"type="+encodeURIComponent("_badmap")),V}}function Zu(d){this.l=d.Ub||null,this.j=d.eb||!1}w(Zu,hm),Zu.prototype.g=function(){return new ed(this.l,this.j)},Zu.prototype.i=function(d){return function(){return d}}({});function ed(d,_){Kt.call(this),this.D=d,this.o=_,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}w(ed,Kt),t=ed.prototype,t.open=function(d,_){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=d,this.A=_,this.readyState=1,Vl(this)},t.send=function(d){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const _={headers:this.u,method:this.B,credentials:this.m,cache:void 0};d&&(_.body=d),(this.D||a).fetch(new Request(this.A,_)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ll(this)),this.readyState=0},t.Sa=function(d){if(this.g&&(this.l=d,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=d.headers,this.readyState=2,Vl(this)),this.g&&(this.readyState=3,Vl(this),this.g)))if(this.responseType==="arraybuffer")d.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in d){if(this.j=d.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;jx(this)}else d.text().then(this.Ra.bind(this),this.ga.bind(this))};function jx(d){d.j.read().then(d.Pa.bind(d)).catch(d.ga.bind(d))}t.Pa=function(d){if(this.g){if(this.o&&d.value)this.response.push(d.value);else if(!this.o){var _=d.value?d.value:new Uint8Array(0);(_=this.v.decode(_,{stream:!d.done}))&&(this.response=this.responseText+=_)}d.done?Ll(this):Vl(this),this.readyState==3&&jx(this)}},t.Ra=function(d){this.g&&(this.response=this.responseText=d,Ll(this))},t.Qa=function(d){this.g&&(this.response=d,Ll(this))},t.ga=function(){this.g&&Ll(this)};function Ll(d){d.readyState=4,d.l=null,d.j=null,d.v=null,Vl(d)}t.setRequestHeader=function(d,_){this.u.append(d,_)},t.getResponseHeader=function(d){return this.h&&this.h.get(d.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const d=[],_=this.h.entries();for(var T=_.next();!T.done;)T=T.value,d.push(T[0]+": "+T[1]),T=_.next();return d.join(`\r
`)};function Vl(d){d.onreadystatechange&&d.onreadystatechange.call(d)}Object.defineProperty(ed.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(d){this.m=d?"include":"same-origin"}});function Fx(d){let _="";return D(d,function(T,k){_+=k,_+=":",_+=T,_+=`\r
`}),_}function bm(d,_,T){e:{for(k in T){var k=!1;break e}k=!0}k||(T=Fx(T),typeof d=="string"?T!=null&&encodeURIComponent(String(T)):et(d,_,T))}function gt(d){Kt.call(this),this.headers=new Map,this.o=d||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}w(gt,Kt);var $O=/^https?$/i,UO=["POST","PUT"];t=gt.prototype,t.Ha=function(d){this.J=d},t.ea=function(d,_,T,k){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+d);_=_?_.toUpperCase():"GET",this.D=d,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():gm.g(),this.v=this.o?px(this.o):px(gm),this.g.onreadystatechange=h(this.Ea,this);try{this.B=!0,this.g.open(_,String(d),!0),this.B=!1}catch($){$x(this,$);return}if(d=T||"",T=new Map(this.headers),k)if(Object.getPrototypeOf(k)===Object.prototype)for(var V in k)T.set(V,k[V]);else if(typeof k.keys=="function"&&typeof k.get=="function")for(const $ of k.keys())T.set($,k.get($));else throw Error("Unknown input type for opt_headers: "+String(k));k=Array.from(T.keys()).find($=>$.toLowerCase()=="content-type"),V=a.FormData&&d instanceof a.FormData,!(0<=Array.prototype.indexOf.call(UO,_,void 0))||k||V||T.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[$,X]of T)this.g.setRequestHeader($,X);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Wx(this),this.u=!0,this.g.send(d),this.u=!1}catch($){$x(this,$)}};function $x(d,_){d.h=!1,d.g&&(d.j=!0,d.g.abort(),d.j=!1),d.l=_,d.m=5,Ux(d),td(d)}function Ux(d){d.A||(d.A=!0,un(d,"complete"),un(d,"error"))}t.abort=function(d){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=d||7,un(this,"complete"),un(this,"abort"),td(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),td(this,!0)),gt.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Bx(this):this.bb())},t.bb=function(){Bx(this)};function Bx(d){if(d.h&&typeof s<"u"&&(!d.v[1]||ei(d)!=4||d.Z()!=2)){if(d.u&&ei(d)==4)ux(d.Ea,0,d);else if(un(d,"readystatechange"),ei(d)==4){d.h=!1;try{const X=d.Z();e:switch(X){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var _=!0;break e;default:_=!1}var T;if(!(T=_)){var k;if(k=X===0){var V=String(d.D).match(Nx)[1]||null;!V&&a.self&&a.self.location&&(V=a.self.location.protocol.slice(0,-1)),k=!$O.test(V?V.toLowerCase():"")}T=k}if(T)un(d,"complete"),un(d,"success");else{d.m=6;try{var $=2<ei(d)?d.g.statusText:""}catch{$=""}d.l=$+" ["+d.Z()+"]",Ux(d)}}finally{td(d)}}}}function td(d,_){if(d.g){Wx(d);const T=d.g,k=d.v[0]?()=>{}:null;d.g=null,d.v=null,_||un(d,"ready");try{T.onreadystatechange=k}catch{}}}function Wx(d){d.I&&(a.clearTimeout(d.I),d.I=null)}t.isActive=function(){return!!this.g};function ei(d){return d.g?d.g.readyState:0}t.Z=function(){try{return 2<ei(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(d){if(this.g){var _=this.g.responseText;return d&&_.indexOf(d)==0&&(_=_.substring(d.length)),wO(_)}};function zx(d){try{if(!d.g)return null;if("response"in d.g)return d.g.response;switch(d.H){case"":case"text":return d.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in d.g)return d.g.mozResponseArrayBuffer}return null}catch{return null}}function BO(d){const _={};d=(d.g&&2<=ei(d)&&d.g.getAllResponseHeaders()||"").split(`\r
`);for(let k=0;k<d.length;k++){if(v(d[k]))continue;var T=M(d[k]);const V=T[0];if(T=T[1],typeof T!="string")continue;T=T.trim();const $=_[V]||[];_[V]=$,$.push(T)}P(_,function(k){return k.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function jl(d,_,T){return T&&T.internalChannelParams&&T.internalChannelParams[d]||_}function Hx(d){this.Aa=0,this.i=[],this.j=new Rl,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=jl("failFast",!1,d),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=jl("baseRetryDelayMs",5e3,d),this.cb=jl("retryDelaySeedMs",1e4,d),this.Wa=jl("forwardChannelMaxRetries",2,d),this.wa=jl("forwardChannelRequestTimeoutMs",2e4,d),this.pa=d&&d.xmlHttpFactory||void 0,this.Xa=d&&d.Tb||void 0,this.Ca=d&&d.useFetchStreams||!1,this.L=void 0,this.J=d&&d.supportsCrossDomainXhr||!1,this.K="",this.h=new Sx(d&&d.concurrentRequestLimit),this.Da=new jO,this.P=d&&d.fastHandshake||!1,this.O=d&&d.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=d&&d.Rb||!1,d&&d.xa&&this.j.xa(),d&&d.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&d&&d.detectBufferingProxy||!1,this.ja=void 0,d&&d.longPollingTimeout&&0<d.longPollingTimeout&&(this.ja=d.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Hx.prototype,t.la=8,t.G=1,t.connect=function(d,_,T,k){dn(0),this.W=d,this.H=_||{},T&&k!==void 0&&(this.H.OSID=T,this.H.OAID=k),this.F=this.X,this.I=e_(this,null,this.W),rd(this)};function Tm(d){if(qx(d),d.G==3){var _=d.U++,T=Zr(d.I);if(et(T,"SID",d.K),et(T,"RID",_),et(T,"TYPE","terminate"),Fl(d,T),_=new Vi(d,d.j,_),_.L=2,_.v=Ju(Zr(T)),T=!1,a.navigator&&a.navigator.sendBeacon)try{T=a.navigator.sendBeacon(_.v.toString(),"")}catch{}!T&&a.Image&&(new Image().src=_.v,T=!0),T||(_.g=t_(_.j,null),_.g.ea(_.v)),_.F=Date.now(),Ku(_)}Zx(d)}function nd(d){d.g&&(Sm(d),d.g.cancel(),d.g=null)}function qx(d){nd(d),d.u&&(a.clearTimeout(d.u),d.u=null),id(d),d.h.cancel(),d.s&&(typeof d.s=="number"&&a.clearTimeout(d.s),d.s=null)}function rd(d){if(!Px(d.h)&&!d.s){d.s=!0;var _=d.Ga;W||U(),L||(W(),L=!0),j.add(_,d),d.B=0}}function WO(d,_){return Ix(d.h)>=d.h.j-(d.s?1:0)?!1:d.s?(d.i=_.D.concat(d.i),!0):d.G==1||d.G==2||d.B>=(d.Va?0:d.Wa)?!1:(d.s=kl(h(d.Ga,d,_),Jx(d,d.B)),d.B++,!0)}t.Ga=function(d){if(this.s)if(this.s=null,this.G==1){if(!d){this.U=Math.floor(1e5*Math.random()),d=this.U++;const V=new Vi(this,this.j,d);let $=this.o;if(this.S&&($?($=C($),A($,this.S)):$=this.S),this.m!==null||this.O||(V.H=$,$=null),this.P)e:{for(var _=0,T=0;T<this.i.length;T++){t:{var k=this.i[T];if("__data__"in k.map&&(k=k.map.__data__,typeof k=="string")){k=k.length;break t}k=void 0}if(k===void 0)break;if(_+=k,4096<_){_=T;break e}if(_===4096||T===this.i.length-1){_=T+1;break e}}_=1e3}else _=1e3;_=Yx(this,V,_),T=Zr(this.I),et(T,"RID",d),et(T,"CVER",22),this.D&&et(T,"X-HTTP-Session-Id",this.D),Fl(this,T),$&&(this.O?_="headers="+encodeURIComponent(String(Fx($)))+"&"+_:this.m&&bm(T,this.m,$)),Em(this.h,V),this.Ua&&et(T,"TYPE","init"),this.P?(et(T,"$req",_),et(T,"SID","null"),V.T=!0,ym(V,T,null)):ym(V,T,_),this.G=2}}else this.G==3&&(d?Gx(this,d):this.i.length==0||Px(this.h)||Gx(this))};function Gx(d,_){var T;_?T=_.l:T=d.U++;const k=Zr(d.I);et(k,"SID",d.K),et(k,"RID",T),et(k,"AID",d.T),Fl(d,k),d.m&&d.o&&bm(k,d.m,d.o),T=new Vi(d,d.j,T,d.B+1),d.m===null&&(T.H=d.o),_&&(d.i=_.D.concat(d.i)),_=Yx(d,T,1e3),T.I=Math.round(.5*d.wa)+Math.round(.5*d.wa*Math.random()),Em(d.h,T),ym(T,k,_)}function Fl(d,_){d.H&&D(d.H,function(T,k){et(_,k,T)}),d.l&&Rx({},function(T,k){et(_,k,T)})}function Yx(d,_,T){T=Math.min(d.i.length,T);var k=d.l?h(d.l.Na,d.l,d):null;e:{var V=d.i;let $=-1;for(;;){const X=["count="+T];$==-1?0<T?($=V[0].g,X.push("ofs="+$)):$=0:X.push("ofs="+$);let Ge=!0;for(let Ut=0;Ut<T;Ut++){let Fe=V[Ut].g;const Qt=V[Ut].map;if(Fe-=$,0>Fe)$=Math.max(0,V[Ut].g-100),Ge=!1;else try{FO(Qt,X,"req"+Fe+"_")}catch{k&&k(Qt)}}if(Ge){k=X.join("&");break e}}}return d=d.i.splice(0,T),_.D=d,k}function Kx(d){if(!d.g&&!d.u){d.Y=1;var _=d.Fa;W||U(),L||(W(),L=!0),j.add(_,d),d.v=0}}function Cm(d){return d.g||d.u||3<=d.v?!1:(d.Y++,d.u=kl(h(d.Fa,d),Jx(d,d.v)),d.v++,!0)}t.Fa=function(){if(this.u=null,Qx(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var d=2*this.R;this.j.info("BP detection timer enabled: "+d),this.A=kl(h(this.ab,this),d)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,dn(10),nd(this),Qx(this))};function Sm(d){d.A!=null&&(a.clearTimeout(d.A),d.A=null)}function Qx(d){d.g=new Vi(d,d.j,"rpc",d.Y),d.m===null&&(d.g.H=d.o),d.g.O=0;var _=Zr(d.qa);et(_,"RID","rpc"),et(_,"SID",d.K),et(_,"AID",d.T),et(_,"CI",d.F?"0":"1"),!d.F&&d.ja&&et(_,"TO",d.ja),et(_,"TYPE","xmlhttp"),Fl(d,_),d.m&&d.o&&bm(_,d.m,d.o),d.L&&(d.g.I=d.L);var T=d.g;d=d.ia,T.L=1,T.v=Ju(Zr(_)),T.m=null,T.P=!0,bx(T,d)}t.Za=function(){this.C!=null&&(this.C=null,nd(this),Cm(this),dn(19))};function id(d){d.C!=null&&(a.clearTimeout(d.C),d.C=null)}function Xx(d,_){var T=null;if(d.g==_){id(d),Sm(d),d.g=null;var k=2}else if(_m(d.h,_))T=_.D,Ax(d.h,_),k=1;else return;if(d.G!=0){if(_.o)if(k==1){T=_.m?_.m.length:0,_=Date.now()-_.F;var V=d.B;k=qu(),un(k,new wx(k,T)),rd(d)}else Kx(d);else if(V=_.s,V==3||V==0&&0<_.X||!(k==1&&WO(d,_)||k==2&&Cm(d)))switch(T&&0<T.length&&(_=d.h,_.i=_.i.concat(T)),V){case 1:Qo(d,5);break;case 4:Qo(d,10);break;case 3:Qo(d,6);break;default:Qo(d,2)}}}function Jx(d,_){let T=d.Ta+Math.floor(Math.random()*d.cb);return d.isActive()||(T*=2),T*_}function Qo(d,_){if(d.j.info("Error code "+_),_==2){var T=h(d.fb,d),k=d.Xa;const V=!k;k=new Ko(k||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Qu(k,"https"),Ju(k),V?LO(k.toString(),T):VO(k.toString(),T)}else dn(2);d.G=0,d.l&&d.l.sa(_),Zx(d),qx(d)}t.fb=function(d){d?(this.j.info("Successfully pinged google.com"),dn(2)):(this.j.info("Failed to ping google.com"),dn(1))};function Zx(d){if(d.G=0,d.ka=[],d.l){const _=kx(d.h);(_.length!=0||d.i.length!=0)&&(b(d.ka,_),b(d.ka,d.i),d.h.i.length=0,y(d.i),d.i.length=0),d.l.ra()}}function e_(d,_,T){var k=T instanceof Ko?Zr(T):new Ko(T);if(k.g!="")_&&(k.g=_+"."+k.g),Xu(k,k.s);else{var V=a.location;k=V.protocol,_=_?_+"."+V.hostname:V.hostname,V=+V.port;var $=new Ko(null);k&&Qu($,k),_&&($.g=_),V&&Xu($,V),T&&($.l=T),k=$}return T=d.D,_=d.ya,T&&_&&et(k,T,_),et(k,"VER",d.la),Fl(d,k),k}function t_(d,_,T){if(_&&!d.J)throw Error("Can't create secondary domain capable XhrIo object.");return _=d.Ca&&!d.pa?new gt(new Zu({eb:T})):new gt(d.pa),_.Ha(d.J),_}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function n_(){}t=n_.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function od(){}od.prototype.g=function(d,_){return new Rn(d,_)};function Rn(d,_){Kt.call(this),this.g=new Hx(_),this.l=d,this.h=_&&_.messageUrlParams||null,d=_&&_.messageHeaders||null,_&&_.clientProtocolHeaderRequired&&(d?d["X-Client-Protocol"]="webchannel":d={"X-Client-Protocol":"webchannel"}),this.g.o=d,d=_&&_.initMessageHeaders||null,_&&_.messageContentType&&(d?d["X-WebChannel-Content-Type"]=_.messageContentType:d={"X-WebChannel-Content-Type":_.messageContentType}),_&&_.va&&(d?d["X-WebChannel-Client-Profile"]=_.va:d={"X-WebChannel-Client-Profile":_.va}),this.g.S=d,(d=_&&_.Sb)&&!v(d)&&(this.g.m=d),this.v=_&&_.supportsCrossDomainXhr||!1,this.u=_&&_.sendRawJson||!1,(_=_&&_.httpSessionIdParam)&&!v(_)&&(this.g.D=_,d=this.h,d!==null&&_ in d&&(d=this.h,_ in d&&delete d[_])),this.j=new Bs(this)}w(Rn,Kt),Rn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Rn.prototype.close=function(){Tm(this.g)},Rn.prototype.o=function(d){var _=this.g;if(typeof d=="string"){var T={};T.__data__=d,d=T}else this.u&&(T={},T.__data__=fm(d),d=T);_.i.push(new SO(_.Ya++,d)),_.G==3&&rd(_)},Rn.prototype.N=function(){this.g.l=null,delete this.j,Tm(this.g),delete this.g,Rn.aa.N.call(this)};function r_(d){pm.call(this),d.__headers__&&(this.headers=d.__headers__,this.statusCode=d.__status__,delete d.__headers__,delete d.__status__);var _=d.__sm__;if(_){e:{for(const T in _){d=T;break e}d=void 0}(this.i=d)&&(d=this.i,_=_!==null&&d in _?_[d]:void 0),this.data=_}else this.data=d}w(r_,pm);function i_(){mm.call(this),this.status=1}w(i_,mm);function Bs(d){this.g=d}w(Bs,n_),Bs.prototype.ua=function(){un(this.g,"a")},Bs.prototype.ta=function(d){un(this.g,new r_(d))},Bs.prototype.sa=function(d){un(this.g,new i_)},Bs.prototype.ra=function(){un(this.g,"b")},od.prototype.createWebChannel=od.prototype.g,Rn.prototype.send=Rn.prototype.o,Rn.prototype.open=Rn.prototype.m,Rn.prototype.close=Rn.prototype.close,JI=function(){return new od},XI=function(){return qu()},QI=Go,Zv={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Gu.NO_ERROR=0,Gu.TIMEOUT=8,Gu.HTTP_ERROR=6,of=Gu,xx.COMPLETE="complete",KI=xx,mx.EventType=Il,Il.OPEN="a",Il.CLOSE="b",Il.ERROR="c",Il.MESSAGE="d",Kt.prototype.listen=Kt.prototype.K,sc=mx,gt.prototype.listenOnce=gt.prototype.L,gt.prototype.getLastError=gt.prototype.Ka,gt.prototype.getLastErrorCode=gt.prototype.Ba,gt.prototype.getStatus=gt.prototype.Z,gt.prototype.getResponseJson=gt.prototype.Oa,gt.prototype.getResponseText=gt.prototype.oa,gt.prototype.send=gt.prototype.ea,gt.prototype.setWithCredentials=gt.prototype.Ha,YI=gt}).apply(typeof Td<"u"?Td:typeof self<"u"?self:typeof window<"u"?window:{});const NE="@firebase/firestore",DE="4.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let nn=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};nn.UNAUTHENTICATED=new nn(null),nn.GOOGLE_CREDENTIALS=new nn("google-credentials-uid"),nn.FIRST_PARTY=new nn("first-party-uid"),nn.MOCK_USER=new nn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let gl="12.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _s=new J0("@firebase/firestore");function ea(){return _s.logLevel}function oe(t,...e){if(_s.logLevel<=Ae.DEBUG){const n=e.map(tw);_s.debug(`Firestore (${gl}): ${t}`,...n)}}function _i(t,...e){if(_s.logLevel<=Ae.ERROR){const n=e.map(tw);_s.error(`Firestore (${gl}): ${t}`,...n)}}function qa(t,...e){if(_s.logLevel<=Ae.WARN){const n=e.map(tw);_s.warn(`Firestore (${gl}): ${t}`,...n)}}function tw(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ge(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,ZI(t,r,n)}function ZI(t,e,n){let r=`FIRESTORE (${gl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw _i(r),new Error(r)}function We(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||ZI(e,i,r)}function _e(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ue extends Mi{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fi{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eA{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class o3{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(nn.UNAUTHENTICATED))}shutdown(){}}class s3{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class a3{constructor(e){this.t=e,this.currentUser=nn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){We(this.o===void 0,42304);let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let o=new fi;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new fi,e.enqueueRetryable(()=>i(this.currentUser))};const s=()=>{const l=o;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{oe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(oe("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new fi)}},0),s()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(oe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(We(typeof r.accessToken=="string",31837,{l:r}),new eA(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return We(e===null||typeof e=="string",2055,{h:e}),new nn(e)}}class l3{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=nn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class c3{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new l3(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(nn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class ME{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class u3{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Mn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){We(this.o===void 0,3512);const r=o=>{o.error!=null&&oe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const s=o.token!==this.m;return this.m=o.token,oe("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const i=o=>{oe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){const o=this.V.getImmediate({optional:!0});o?i(o):oe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new ME(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(We(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new ME(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d3(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nw{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=d3(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%62))}return r}}function ke(t,e){return t<e?-1:t>e?1:0}function ey(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const i=t.charAt(r),o=e.charAt(r);if(i!==o)return sg(i)===sg(o)?ke(i,o):sg(i)?1:-1}return ke(t.length,e.length)}const f3=55296,h3=57343;function sg(t){const e=t.charCodeAt(0);return e>=f3&&e<=h3}function Ga(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OE="__name__";class Sr{constructor(e,n,r){n===void 0?n=0:n>e.length&&ge(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&ge(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Sr.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Sr?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const o=Sr.compareSegments(e.get(i),n.get(i));if(o!==0)return o}return ke(e.length,n.length)}static compareSegments(e,n){const r=Sr.isNumericId(e),i=Sr.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?Sr.extractNumericId(e).compare(Sr.extractNumericId(n)):ey(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return wo.fromString(e.substring(4,e.length-2))}}class rt extends Sr{construct(e,n,r){return new rt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new ue(Y.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new rt(n)}static emptyPath(){return new rt([])}}const p3=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class zt extends Sr{construct(e,n,r){return new zt(e,n,r)}static isValidIdentifier(e){return p3.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),zt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===OE}static keyField(){return new zt([OE])}static fromServerFormat(e){const n=[];let r="",i=0;const o=()=>{if(r.length===0)throw new ue(Y.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let s=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new ue(Y.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new ue(Y.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(s=!s,i++):a!=="."||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new ue(Y.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new zt(n)}static emptyPath(){return new zt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pe{constructor(e){this.path=e}static fromPath(e){return new pe(rt.fromString(e))}static fromName(e){return new pe(rt.fromString(e).popFirst(5))}static empty(){return new pe(rt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&rt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return rt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new pe(new rt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tA(t,e,n){if(!n)throw new ue(Y.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function m3(t,e,n,r){if(e===!0&&r===!0)throw new ue(Y.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function LE(t){if(!pe.isDocumentKey(t))throw new ue(Y.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function VE(t){if(pe.isDocumentKey(t))throw new ue(Y.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function nA(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function rw(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ge(12329,{type:typeof t})}function pr(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ue(Y.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=rw(t);throw new ue(Y.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function It(t,e){const n={typeString:t};return e&&(n.value=e),n}function Eu(t,e){if(!nA(t))throw new ue(Y.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const i=e[r].typeString,o="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const s=t[r];if(i&&typeof s!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(o!==void 0&&s!==o.value){n=`Expected '${r}' field to equal '${o.value}'`;break}}if(n)throw new ue(Y.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jE=-62135596800,FE=1e6;class it{static now(){return it.fromMillis(Date.now())}static fromDate(e){return it.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*FE);return new it(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ue(Y.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ue(Y.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<jE)throw new ue(Y.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ue(Y.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/FE}_compareTo(e){return this.seconds===e.seconds?ke(this.nanoseconds,e.nanoseconds):ke(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:it._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Eu(e,it._jsonSchema))return new it(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-jE;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}it._jsonSchemaVersion="firestore/timestamp/1.0",it._jsonSchema={type:It("string",it._jsonSchemaVersion),seconds:It("number"),nanoseconds:It("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class we{static fromTimestamp(e){return new we(e)}static min(){return new we(new it(0,0))}static max(){return new we(new it(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jc=-1;function g3(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=we.fromTimestamp(r===1e9?new it(n+1,0):new it(n,r));return new Po(i,pe.empty(),e)}function v3(t){return new Po(t.readTime,t.key,Jc)}class Po{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Po(we.min(),pe.empty(),Jc)}static max(){return new Po(we.max(),pe.empty(),Jc)}}function y3(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=pe.comparator(t.documentKey,e.documentKey),n!==0?n:ke(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w3="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class x3{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vl(t){if(t.code!==Y.FAILED_PRECONDITION||t.message!==w3)throw t;oe("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ge(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new q((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof q?n:q.resolve(n)}catch(n){return q.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):q.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):q.reject(n)}static resolve(e){return new q((n,r)=>{n(e)})}static reject(e){return new q((n,r)=>{r(e)})}static waitFor(e){return new q((n,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&n()},l=>r(l))}),s=!0,o===i&&n()})}static or(e){let n=q.resolve(!1);for(const r of e)n=n.next(i=>i?q.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(e,n){return new q((r,i)=>{const o=e.length,s=new Array(o);let a=0;for(let l=0;l<o;l++){const c=l;n(e[c]).next(u=>{s[c]=u,++a,a===o&&r(s)},u=>i(u))}})}static doWhile(e,n){return new q((r,i)=>{const o=()=>{e()===!0?n().next(()=>{o()},i):r()};o()})}}function _3(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function yl(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class up{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}up.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iw=-1;function dp(t){return t==null}function Zf(t){return t===0&&1/t==-1/0}function E3(t){return typeof t=="number"&&Number.isInteger(t)&&!Zf(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rA="";function b3(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=$E(e)),e=T3(t.get(n),e);return $E(e)}function T3(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const o=t.charAt(i);switch(o){case"\0":n+="";break;case rA:n+="";break;default:n+=o}}return n}function $E(t){return t+rA+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UE(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Uo(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function iA(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mt{constructor(e,n){this.comparator=e,this.root=n||Wt.EMPTY}insert(e,n){return new mt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Wt.BLACK,null,null))}remove(e){return new mt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Wt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Cd(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Cd(this.root,e,this.comparator,!1)}getReverseIterator(){return new Cd(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Cd(this.root,e,this.comparator,!0)}}class Cd{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Wt{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??Wt.RED,this.left=i??Wt.EMPTY,this.right=o??Wt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new Wt(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Wt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Wt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Wt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Wt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ge(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ge(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw ge(27949);return e+(this.isRed()?0:1)}}Wt.EMPTY=null,Wt.RED=!0,Wt.BLACK=!1;Wt.EMPTY=new class{constructor(){this.size=0}get key(){throw ge(57766)}get value(){throw ge(16141)}get color(){throw ge(16727)}get left(){throw ge(29726)}get right(){throw ge(36894)}copy(e,n,r,i,o){return this}insert(e,n,r){return new Wt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lt{constructor(e){this.comparator=e,this.data=new mt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new BE(this.data.getIterator())}getIteratorFrom(e){return new BE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Lt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Lt(this.comparator);return n.data=e,n}}class BE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ln{constructor(e){this.fields=e,e.sort(zt.comparator)}static empty(){return new Ln([])}unionWith(e){let n=new Lt(zt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Ln(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Ga(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oA extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new oA("Invalid base64 string: "+o):o}}(e);return new Yt(n)}static fromUint8Array(e){const n=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new Yt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ke(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Yt.EMPTY_BYTE_STRING=new Yt("");const C3=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Io(t){if(We(!!t,39018),typeof t=="string"){let e=0;const n=C3.exec(t);if(We(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:xt(t.seconds),nanos:xt(t.nanos)}}function xt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Ao(t){return typeof t=="string"?Yt.fromBase64String(t):Yt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sA="server_timestamp",aA="__type__",lA="__previous_value__",cA="__local_write_time__";function ow(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[aA])==null?void 0:r.stringValue)===sA}function fp(t){const e=t.mapValue.fields[lA];return ow(e)?fp(e):e}function Zc(t){const e=Io(t.mapValue.fields[cA].timestampValue);return new it(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S3{constructor(e,n,r,i,o,s,a,l,c,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=c,this.isUsingEmulator=u}}const eh="(default)";class eu{constructor(e,n){this.projectId=e,this.database=n||eh}static empty(){return new eu("","")}get isDefaultDatabase(){return this.database===eh}isEqual(e){return e instanceof eu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uA="__type__",dA="__max__",Sd={mapValue:{fields:{__type__:{stringValue:dA}}}},fA="__vector__",th="value";function ko(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?ow(t)?4:I3(t)?9007199254740991:P3(t)?10:11:ge(28295,{value:t})}function zr(t,e){if(t===e)return!0;const n=ko(t);if(n!==ko(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Zc(t).isEqual(Zc(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;const s=Io(i.timestampValue),a=Io(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,o){return Ao(i.bytesValue).isEqual(Ao(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,o){return xt(i.geoPointValue.latitude)===xt(o.geoPointValue.latitude)&&xt(i.geoPointValue.longitude)===xt(o.geoPointValue.longitude)}(t,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return xt(i.integerValue)===xt(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){const s=xt(i.doubleValue),a=xt(o.doubleValue);return s===a?Zf(s)===Zf(a):isNaN(s)&&isNaN(a)}return!1}(t,e);case 9:return Ga(t.arrayValue.values||[],e.arrayValue.values||[],zr);case 10:case 11:return function(i,o){const s=i.mapValue.fields||{},a=o.mapValue.fields||{};if(UE(s)!==UE(a))return!1;for(const l in s)if(s.hasOwnProperty(l)&&(a[l]===void 0||!zr(s[l],a[l])))return!1;return!0}(t,e);default:return ge(52216,{left:t})}}function tu(t,e){return(t.values||[]).find(n=>zr(n,e))!==void 0}function Ya(t,e){if(t===e)return 0;const n=ko(t),r=ko(e);if(n!==r)return ke(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ke(t.booleanValue,e.booleanValue);case 2:return function(o,s){const a=xt(o.integerValue||o.doubleValue),l=xt(s.integerValue||s.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return WE(t.timestampValue,e.timestampValue);case 4:return WE(Zc(t),Zc(e));case 5:return ey(t.stringValue,e.stringValue);case 6:return function(o,s){const a=Ao(o),l=Ao(s);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(o,s){const a=o.split("/"),l=s.split("/");for(let c=0;c<a.length&&c<l.length;c++){const u=ke(a[c],l[c]);if(u!==0)return u}return ke(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,s){const a=ke(xt(o.latitude),xt(s.latitude));return a!==0?a:ke(xt(o.longitude),xt(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return zE(t.arrayValue,e.arrayValue);case 10:return function(o,s){var h,g,w,y;const a=o.fields||{},l=s.fields||{},c=(h=a[th])==null?void 0:h.arrayValue,u=(g=l[th])==null?void 0:g.arrayValue,f=ke(((w=c==null?void 0:c.values)==null?void 0:w.length)||0,((y=u==null?void 0:u.values)==null?void 0:y.length)||0);return f!==0?f:zE(c,u)}(t.mapValue,e.mapValue);case 11:return function(o,s){if(o===Sd.mapValue&&s===Sd.mapValue)return 0;if(o===Sd.mapValue)return 1;if(s===Sd.mapValue)return-1;const a=o.fields||{},l=Object.keys(a),c=s.fields||{},u=Object.keys(c);l.sort(),u.sort();for(let f=0;f<l.length&&f<u.length;++f){const h=ey(l[f],u[f]);if(h!==0)return h;const g=Ya(a[l[f]],c[u[f]]);if(g!==0)return g}return ke(l.length,u.length)}(t.mapValue,e.mapValue);default:throw ge(23264,{he:n})}}function WE(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ke(t,e);const n=Io(t),r=Io(e),i=ke(n.seconds,r.seconds);return i!==0?i:ke(n.nanos,r.nanos)}function zE(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const o=Ya(n[i],r[i]);if(o)return o}return ke(n.length,r.length)}function Ka(t){return ty(t)}function ty(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Io(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Ao(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return pe.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const o of n.values||[])i?i=!1:r+=",",r+=ty(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",o=!0;for(const s of r)o?o=!1:i+=",",i+=`${s}:${ty(n.fields[s])}`;return i+"}"}(t.mapValue):ge(61005,{value:t})}function sf(t){switch(ko(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=fp(t);return e?16+sf(e):16;case 5:return 2*t.stringValue.length;case 6:return Ao(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,o)=>i+sf(o),0)}(t.arrayValue);case 10:case 11:return function(r){let i=0;return Uo(r.fields,(o,s)=>{i+=o.length+sf(s)}),i}(t.mapValue);default:throw ge(13486,{value:t})}}function ny(t){return!!t&&"integerValue"in t}function sw(t){return!!t&&"arrayValue"in t}function HE(t){return!!t&&"nullValue"in t}function qE(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function af(t){return!!t&&"mapValue"in t}function P3(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[uA])==null?void 0:r.stringValue)===fA}function _c(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return Uo(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=_c(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=_c(t.arrayValue.values[n]);return e}return{...t}}function I3(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===dA}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class En{constructor(e){this.value=e}static empty(){return new En({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!af(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=_c(n)}setAll(e){let n=zt.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}s?r[a.lastSegment()]=_c(s):i.push(a.lastSegment())});const o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){const n=this.field(e.popLast());af(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return zr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];af(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Uo(n,(i,o)=>e[i]=o);for(const i of r)delete e[i]}clone(){return new En(_c(this.value))}}function hA(t){const e=[];return Uo(t.fields,(n,r)=>{const i=new zt([n]);if(af(r)){const o=hA(r.mapValue).fields;if(o.length===0)e.push(i);else for(const s of o)e.push(i.child(s))}else e.push(i)}),new Ln(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class on{constructor(e,n,r,i,o,s,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new on(e,0,we.min(),we.min(),we.min(),En.empty(),0)}static newFoundDocument(e,n,r,i){return new on(e,1,n,we.min(),r,i,0)}static newNoDocument(e,n){return new on(e,2,n,we.min(),we.min(),En.empty(),0)}static newUnknownDocument(e,n){return new on(e,3,n,we.min(),we.min(),En.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(we.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=En.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=En.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=we.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof on&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new on(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nh{constructor(e,n){this.position=e,this.inclusive=n}}function GE(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const o=e[i],s=t.position[i];if(o.field.isKeyField()?r=pe.comparator(pe.fromName(s.referenceValue),n.key):r=Ya(s,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function YE(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!zr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rh{constructor(e,n="asc"){this.field=e,this.dir=n}}function A3(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pA{}class Mt extends pA{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new R3(e,n,r):n==="array-contains"?new M3(e,r):n==="in"?new O3(e,r):n==="not-in"?new L3(e,r):n==="array-contains-any"?new V3(e,r):new Mt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new N3(e,r):new D3(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Ya(n,this.value)):n!==null&&ko(this.value)===ko(n)&&this.matchesComparison(Ya(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ge(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Hr extends pA{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Hr(e,n)}matches(e){return mA(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function mA(t){return t.op==="and"}function gA(t){return k3(t)&&mA(t)}function k3(t){for(const e of t.filters)if(e instanceof Hr)return!1;return!0}function ry(t){if(t instanceof Mt)return t.field.canonicalString()+t.op.toString()+Ka(t.value);if(gA(t))return t.filters.map(e=>ry(e)).join(",");{const e=t.filters.map(n=>ry(n)).join(",");return`${t.op}(${e})`}}function vA(t,e){return t instanceof Mt?function(r,i){return i instanceof Mt&&r.op===i.op&&r.field.isEqual(i.field)&&zr(r.value,i.value)}(t,e):t instanceof Hr?function(r,i){return i instanceof Hr&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,a)=>o&&vA(s,i.filters[a]),!0):!1}(t,e):void ge(19439)}function yA(t){return t instanceof Mt?function(n){return`${n.field.canonicalString()} ${n.op} ${Ka(n.value)}`}(t):t instanceof Hr?function(n){return n.op.toString()+" {"+n.getFilters().map(yA).join(" ,")+"}"}(t):"Filter"}class R3 extends Mt{constructor(e,n,r){super(e,n,r),this.key=pe.fromName(r.referenceValue)}matches(e){const n=pe.comparator(e.key,this.key);return this.matchesComparison(n)}}class N3 extends Mt{constructor(e,n){super(e,"in",n),this.keys=wA("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class D3 extends Mt{constructor(e,n){super(e,"not-in",n),this.keys=wA("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function wA(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map(r=>pe.fromName(r.referenceValue))}class M3 extends Mt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return sw(n)&&tu(n.arrayValue,this.value)}}class O3 extends Mt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&tu(this.value.arrayValue,n)}}class L3 extends Mt{constructor(e,n){super(e,"not-in",n)}matches(e){if(tu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!tu(this.value.arrayValue,n)}}class V3 extends Mt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!sw(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>tu(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j3{constructor(e,n=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.Te=null}}function KE(t,e=null,n=[],r=[],i=null,o=null,s=null){return new j3(t,e,n,r,i,o,s)}function aw(t){const e=_e(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>ry(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),dp(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Ka(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Ka(r)).join(",")),e.Te=n}return e.Te}function lw(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!A3(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!vA(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!YE(t.startAt,e.startAt)&&YE(t.endAt,e.endAt)}function iy(t){return pe.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hp{constructor(e,n=null,r=[],i=[],o=null,s="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=l,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function F3(t,e,n,r,i,o,s,a){return new hp(t,e,n,r,i,o,s,a)}function cw(t){return new hp(t)}function QE(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function $3(t){return t.collectionGroup!==null}function Ec(t){const e=_e(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const o of e.explicitOrderBy)e.Ie.push(o),n.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new Lt(zt.comparator);return s.filters.forEach(l=>{l.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.Ie.push(new rh(o,r))}),n.has(zt.keyField().canonicalString())||e.Ie.push(new rh(zt.keyField(),r))}return e.Ie}function Or(t){const e=_e(t);return e.Ee||(e.Ee=U3(e,Ec(t))),e.Ee}function U3(t,e){if(t.limitType==="F")return KE(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const o=i.dir==="desc"?"asc":"desc";return new rh(i.field,o)});const n=t.endAt?new nh(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new nh(t.startAt.position,t.startAt.inclusive):null;return KE(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function oy(t,e,n){return new hp(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function pp(t,e){return lw(Or(t),Or(e))&&t.limitType===e.limitType}function xA(t){return`${aw(Or(t))}|lt:${t.limitType}`}function ta(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>yA(i)).join(", ")}]`),dp(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Ka(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Ka(i)).join(",")),`Target(${r})`}(Or(t))}; limitType=${t.limitType})`}function mp(t,e){return e.isFoundDocument()&&function(r,i){const o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):pe.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(t,e)&&function(r,i){for(const o of Ec(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const o of r.filters)if(!o.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(s,a,l){const c=GE(s,a,l);return s.inclusive?c<=0:c<0}(r.startAt,Ec(r),i)||r.endAt&&!function(s,a,l){const c=GE(s,a,l);return s.inclusive?c>=0:c>0}(r.endAt,Ec(r),i))}(t,e)}function B3(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function _A(t){return(e,n)=>{let r=!1;for(const i of Ec(t)){const o=W3(i,e,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function W3(t,e,n){const r=t.field.isKeyField()?pe.comparator(e.key,n.key):function(o,s,a){const l=s.data.field(o),c=a.data.field(o);return l!==null&&c!==null?Ya(l,c):ge(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return ge(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ns{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Uo(this.inner,(n,r)=>{for(const[i,o]of r)e(i,o)})}isEmpty(){return iA(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z3=new mt(pe.comparator);function Ei(){return z3}const EA=new mt(pe.comparator);function ac(...t){let e=EA;for(const n of t)e=e.insert(n.key,n);return e}function bA(t){let e=EA;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function ls(){return bc()}function TA(){return bc()}function bc(){return new Ns(t=>t.toString(),(t,e)=>t.isEqual(e))}const H3=new mt(pe.comparator),q3=new Lt(pe.comparator);function Re(...t){let e=q3;for(const n of t)e=e.add(n);return e}const G3=new Lt(ke);function Y3(){return G3}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uw(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Zf(e)?"-0":e}}function CA(t){return{integerValue:""+t}}function K3(t,e){return E3(e)?CA(e):uw(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gp{constructor(){this._=void 0}}function Q3(t,e,n){return t instanceof ih?function(i,o){const s={fields:{[aA]:{stringValue:sA},[cA]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&ow(o)&&(o=fp(o)),o&&(s.fields[lA]=o),{mapValue:s}}(n,e):t instanceof nu?PA(t,e):t instanceof ru?IA(t,e):function(i,o){const s=SA(i,o),a=XE(s)+XE(i.Ae);return ny(s)&&ny(i.Ae)?CA(a):uw(i.serializer,a)}(t,e)}function X3(t,e,n){return t instanceof nu?PA(t,e):t instanceof ru?IA(t,e):n}function SA(t,e){return t instanceof oh?function(r){return ny(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}class ih extends gp{}class nu extends gp{constructor(e){super(),this.elements=e}}function PA(t,e){const n=AA(e);for(const r of t.elements)n.some(i=>zr(i,r))||n.push(r);return{arrayValue:{values:n}}}class ru extends gp{constructor(e){super(),this.elements=e}}function IA(t,e){let n=AA(e);for(const r of t.elements)n=n.filter(i=>!zr(i,r));return{arrayValue:{values:n}}}class oh extends gp{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function XE(t){return xt(t.integerValue||t.doubleValue)}function AA(t){return sw(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function J3(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof nu&&i instanceof nu||r instanceof ru&&i instanceof ru?Ga(r.elements,i.elements,zr):r instanceof oh&&i instanceof oh?zr(r.Ae,i.Ae):r instanceof ih&&i instanceof ih}(t.transform,e.transform)}class Z3{constructor(e,n){this.version=e,this.transformResults=n}}class Xn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Xn}static exists(e){return new Xn(void 0,e)}static updateTime(e){return new Xn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function lf(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class vp{}function kA(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new dw(t.key,Xn.none()):new bu(t.key,t.data,Xn.none());{const n=t.data,r=En.empty();let i=new Lt(zt.comparator);for(let o of e.fields)if(!i.has(o)){let s=n.field(o);s===null&&o.length>1&&(o=o.popLast(),s=n.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new Bo(t.key,r,new Ln(i.toArray()),Xn.none())}}function eF(t,e,n){t instanceof bu?function(i,o,s){const a=i.value.clone(),l=ZE(i.fieldTransforms,o,s.transformResults);a.setAll(l),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Bo?function(i,o,s){if(!lf(i.precondition,o))return void o.convertToUnknownDocument(s.version);const a=ZE(i.fieldTransforms,o,s.transformResults),l=o.data;l.setAll(RA(i)),l.setAll(a),o.convertToFoundDocument(s.version,l).setHasCommittedMutations()}(t,e,n):function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function Tc(t,e,n,r){return t instanceof bu?function(o,s,a,l){if(!lf(o.precondition,s))return a;const c=o.value.clone(),u=eb(o.fieldTransforms,l,s);return c.setAll(u),s.convertToFoundDocument(s.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof Bo?function(o,s,a,l){if(!lf(o.precondition,s))return a;const c=eb(o.fieldTransforms,l,s),u=s.data;return u.setAll(RA(o)),u.setAll(c),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),a===null?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(f=>f.field))}(t,e,n,r):function(o,s,a){return lf(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a}(t,e,n)}function tF(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),o=SA(r.transform,i||null);o!=null&&(n===null&&(n=En.empty()),n.set(r.field,o))}return n||null}function JE(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Ga(r,i,(o,s)=>J3(o,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class bu extends vp{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Bo extends vp{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function RA(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function ZE(t,e,n){const r=new Map;We(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let i=0;i<n.length;i++){const o=t[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,X3(s,a,n[i]))}return r}function eb(t,e,n){const r=new Map;for(const i of t){const o=i.transform,s=n.data.field(i.field);r.set(i.field,Q3(o,s,e))}return r}class dw extends vp{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class nF extends vp{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rF{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&eF(o,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Tc(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Tc(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=TA();return this.mutations.forEach(i=>{const o=e.get(i.key),s=o.overlayedDocument;let a=this.applyToLocalView(s,o.mutatedFields);a=n.has(i.key)?null:a;const l=kA(s,a);l!==null&&r.set(i.key,l),s.isValidDocument()||s.convertToNoDocument(we.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Re())}isEqual(e){return this.batchId===e.batchId&&Ga(this.mutations,e.mutations,(n,r)=>JE(n,r))&&Ga(this.baseMutations,e.baseMutations,(n,r)=>JE(n,r))}}class fw{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){We(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let i=function(){return H3}();const o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new fw(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let iF=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oF{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ct,Me;function sF(t){switch(t){case Y.OK:return ge(64938);case Y.CANCELLED:case Y.UNKNOWN:case Y.DEADLINE_EXCEEDED:case Y.RESOURCE_EXHAUSTED:case Y.INTERNAL:case Y.UNAVAILABLE:case Y.UNAUTHENTICATED:return!1;case Y.INVALID_ARGUMENT:case Y.NOT_FOUND:case Y.ALREADY_EXISTS:case Y.PERMISSION_DENIED:case Y.FAILED_PRECONDITION:case Y.ABORTED:case Y.OUT_OF_RANGE:case Y.UNIMPLEMENTED:case Y.DATA_LOSS:return!0;default:return ge(15467,{code:t})}}function NA(t){if(t===void 0)return _i("GRPC error has no .code"),Y.UNKNOWN;switch(t){case Ct.OK:return Y.OK;case Ct.CANCELLED:return Y.CANCELLED;case Ct.UNKNOWN:return Y.UNKNOWN;case Ct.DEADLINE_EXCEEDED:return Y.DEADLINE_EXCEEDED;case Ct.RESOURCE_EXHAUSTED:return Y.RESOURCE_EXHAUSTED;case Ct.INTERNAL:return Y.INTERNAL;case Ct.UNAVAILABLE:return Y.UNAVAILABLE;case Ct.UNAUTHENTICATED:return Y.UNAUTHENTICATED;case Ct.INVALID_ARGUMENT:return Y.INVALID_ARGUMENT;case Ct.NOT_FOUND:return Y.NOT_FOUND;case Ct.ALREADY_EXISTS:return Y.ALREADY_EXISTS;case Ct.PERMISSION_DENIED:return Y.PERMISSION_DENIED;case Ct.FAILED_PRECONDITION:return Y.FAILED_PRECONDITION;case Ct.ABORTED:return Y.ABORTED;case Ct.OUT_OF_RANGE:return Y.OUT_OF_RANGE;case Ct.UNIMPLEMENTED:return Y.UNIMPLEMENTED;case Ct.DATA_LOSS:return Y.DATA_LOSS;default:return ge(39323,{code:t})}}(Me=Ct||(Ct={}))[Me.OK=0]="OK",Me[Me.CANCELLED=1]="CANCELLED",Me[Me.UNKNOWN=2]="UNKNOWN",Me[Me.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Me[Me.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Me[Me.NOT_FOUND=5]="NOT_FOUND",Me[Me.ALREADY_EXISTS=6]="ALREADY_EXISTS",Me[Me.PERMISSION_DENIED=7]="PERMISSION_DENIED",Me[Me.UNAUTHENTICATED=16]="UNAUTHENTICATED",Me[Me.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Me[Me.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Me[Me.ABORTED=10]="ABORTED",Me[Me.OUT_OF_RANGE=11]="OUT_OF_RANGE",Me[Me.UNIMPLEMENTED=12]="UNIMPLEMENTED",Me[Me.INTERNAL=13]="INTERNAL",Me[Me.UNAVAILABLE=14]="UNAVAILABLE",Me[Me.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aF(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lF=new wo([4294967295,4294967295],0);function tb(t){const e=aF().encode(t),n=new GI;return n.update(e),new Uint8Array(n.digest())}function nb(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new wo([n,r],0),new wo([i,o],0)]}class hw{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new lc(`Invalid padding: ${n}`);if(r<0)throw new lc(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new lc(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new lc(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=wo.fromNumber(this.ge)}ye(e,n,r){let i=e.add(n.multiply(wo.fromNumber(r)));return i.compare(lF)===1&&(i=new wo([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=tb(e),[r,i]=nb(n);for(let o=0;o<this.hashCount;o++){const s=this.ye(r,i,o);if(!this.we(s))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new hw(o,i,n);return r.forEach(a=>s.insert(a)),s}insert(e){if(this.ge===0)return;const n=tb(e),[r,i]=nb(n);for(let o=0;o<this.hashCount;o++){const s=this.ye(r,i,o);this.Se(s)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class lc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yp{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Tu.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new yp(we.min(),i,new mt(ke),Ei(),Re())}}class Tu{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Tu(r,n,Re(),Re(),Re())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cf{constructor(e,n,r,i){this.be=e,this.removedTargetIds=n,this.key=r,this.De=i}}class DA{constructor(e,n){this.targetId=e,this.Ce=n}}class MA{constructor(e,n,r=Yt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class rb{constructor(){this.ve=0,this.Fe=ib(),this.Me=Yt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Re(),n=Re(),r=Re();return this.Fe.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:ge(38017,{changeType:o})}}),new Tu(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=ib()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,We(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class cF{constructor(e){this.Ge=e,this.ze=new Map,this.je=Ei(),this.Je=Pd(),this.He=Pd(),this.Ye=new mt(ke)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:ge(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach((r,i)=>{this.rt(i)&&n(i)})}st(e){const n=e.targetId,r=e.Ce.count,i=this.ot(n);if(i){const o=i.target;if(iy(o))if(r===0){const s=new pe(o.path);this.et(n,s,on.newNoDocument(s,we.min()))}else We(r===1,20013,{expectedCount:r});else{const s=this._t(n);if(s!==r){const a=this.ut(e),l=a?this.ct(a,e,s):1;if(l!==0){this.it(n);const c=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,c)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=n;let s,a;try{s=Ao(r).toUint8Array()}catch(l){if(l instanceof oA)return qa("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new hw(s,i,o)}catch(l){return qa(l instanceof lc?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.ge===0?null:a}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let i=0;return r.forEach(o=>{const s=this.Ge.ht(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.et(n,o,null),i++)}),i}Tt(e){const n=new Map;this.ze.forEach((o,s)=>{const a=this.ot(s);if(a){if(o.current&&iy(a.target)){const l=new pe(a.target.path);this.It(l).has(s)||this.Et(s,l)||this.et(s,l,on.newNoDocument(l,e))}o.Be&&(n.set(s,o.ke()),o.qe())}});let r=Re();this.He.forEach((o,s)=>{let a=!0;s.forEachWhile(l=>{const c=this.ot(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(o))}),this.je.forEach((o,s)=>s.setReadTime(e));const i=new yp(e,n,this.Ye,this.je,r);return this.je=Ei(),this.Je=Pd(),this.He=Pd(),this.Ye=new mt(ke),i}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const i=this.nt(e);this.Et(e,n)?i.Qe(n,1):i.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new rb,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new Lt(ke),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new Lt(ke),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||oe("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new rb),this.Ge.getRemoteKeysForTarget(e).forEach(n=>{this.et(e,n,null)})}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Pd(){return new mt(pe.comparator)}function ib(){return new mt(pe.comparator)}const uF=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),dF=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),fF=(()=>({and:"AND",or:"OR"}))();class hF{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function sy(t,e){return t.useProto3Json||dp(e)?e:{value:e}}function sh(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function OA(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function pF(t,e){return sh(t,e.toTimestamp())}function Lr(t){return We(!!t,49232),we.fromTimestamp(function(n){const r=Io(n);return new it(r.seconds,r.nanos)}(t))}function pw(t,e){return ay(t,e).canonicalString()}function ay(t,e){const n=function(i){return new rt(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function LA(t){const e=rt.fromString(t);return We(UA(e),10190,{key:e.toString()}),e}function ly(t,e){return pw(t.databaseId,e.path)}function ag(t,e){const n=LA(e);if(n.get(1)!==t.databaseId.projectId)throw new ue(Y.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new ue(Y.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new pe(jA(n))}function VA(t,e){return pw(t.databaseId,e)}function mF(t){const e=LA(t);return e.length===4?rt.emptyPath():jA(e)}function cy(t){return new rt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function jA(t){return We(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function ob(t,e,n){return{name:ly(t,e),fields:n.value.mapValue.fields}}function gF(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:ge(39313,{state:c})}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(c,u){return c.useProto3Json?(We(u===void 0||typeof u=="string",58123),Yt.fromBase64String(u||"")):(We(u===void 0||u instanceof Buffer||u instanceof Uint8Array,16193),Yt.fromUint8Array(u||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(c){const u=c.code===void 0?Y.UNKNOWN:NA(c.code);return new ue(u,c.message||"")}(s);n=new MA(r,i,o,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=ag(t,r.document.name),o=Lr(r.document.updateTime),s=r.document.createTime?Lr(r.document.createTime):we.min(),a=new En({mapValue:{fields:r.document.fields}}),l=on.newFoundDocument(i,o,s,a),c=r.targetIds||[],u=r.removedTargetIds||[];n=new cf(c,u,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=ag(t,r.document),o=r.readTime?Lr(r.readTime):we.min(),s=on.newNoDocument(i,o),a=r.removedTargetIds||[];n=new cf([],a,s.key,s)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=ag(t,r.document),o=r.removedTargetIds||[];n=new cf([],o,i,null)}else{if(!("filter"in e))return ge(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:o}=r,s=new oF(i,o),a=r.targetId;n=new DA(a,s)}}return n}function vF(t,e){let n;if(e instanceof bu)n={update:ob(t,e.key,e.value)};else if(e instanceof dw)n={delete:ly(t,e.key)};else if(e instanceof Bo)n={update:ob(t,e.key,e.data),updateMask:SF(e.fieldMask)};else{if(!(e instanceof nF))return ge(16599,{Vt:e.type});n={verify:ly(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(o,s){const a=s.transform;if(a instanceof ih)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof nu)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof ru)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof oh)return{fieldPath:s.field.canonicalString(),increment:a.Ae};throw ge(20930,{transform:s.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:pF(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:ge(27497)}(t,e.precondition)),n}function yF(t,e){return t&&t.length>0?(We(e!==void 0,14353),t.map(n=>function(i,o){let s=i.updateTime?Lr(i.updateTime):Lr(o);return s.isEqual(we.min())&&(s=Lr(o)),new Z3(s,i.transformResults||[])}(n,e))):[]}function wF(t,e){return{documents:[VA(t,e.path)]}}function xF(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=VA(t,i);const o=function(c){if(c.length!==0)return $A(Hr.create(c,"and"))}(e.filters);o&&(n.structuredQuery.where=o);const s=function(c){if(c.length!==0)return c.map(u=>function(h){return{field:na(h.field),direction:bF(h.dir)}}(u))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const a=sy(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{ft:n,parent:i}}function _F(t){let e=mF(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){We(r===1,65062);const u=n.from[0];u.allDescendants?i=u.collectionId:e=e.child(u.collectionId)}let o=[];n.where&&(o=function(f){const h=FA(f);return h instanceof Hr&&gA(h)?h.getFilters():[h]}(n.where));let s=[];n.orderBy&&(s=function(f){return f.map(h=>function(w){return new rh(ra(w.field),function(b){switch(b){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(w.direction))}(h))}(n.orderBy));let a=null;n.limit&&(a=function(f){let h;return h=typeof f=="object"?f.value:f,dp(h)?null:h}(n.limit));let l=null;n.startAt&&(l=function(f){const h=!!f.before,g=f.values||[];return new nh(g,h)}(n.startAt));let c=null;return n.endAt&&(c=function(f){const h=!f.before,g=f.values||[];return new nh(g,h)}(n.endAt)),F3(e,i,s,o,a,"F",l,c)}function EF(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ge(28987,{purpose:i})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function FA(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=ra(n.unaryFilter.field);return Mt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=ra(n.unaryFilter.field);return Mt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=ra(n.unaryFilter.field);return Mt.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=ra(n.unaryFilter.field);return Mt.create(s,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ge(61313);default:return ge(60726)}}(t):t.fieldFilter!==void 0?function(n){return Mt.create(ra(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ge(58110);default:return ge(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Hr.create(n.compositeFilter.filters.map(r=>FA(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return ge(1026)}}(n.compositeFilter.op))}(t):ge(30097,{filter:t})}function bF(t){return uF[t]}function TF(t){return dF[t]}function CF(t){return fF[t]}function na(t){return{fieldPath:t.canonicalString()}}function ra(t){return zt.fromServerFormat(t.fieldPath)}function $A(t){return t instanceof Mt?function(n){if(n.op==="=="){if(qE(n.value))return{unaryFilter:{field:na(n.field),op:"IS_NAN"}};if(HE(n.value))return{unaryFilter:{field:na(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(qE(n.value))return{unaryFilter:{field:na(n.field),op:"IS_NOT_NAN"}};if(HE(n.value))return{unaryFilter:{field:na(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:na(n.field),op:TF(n.op),value:n.value}}}(t):t instanceof Hr?function(n){const r=n.getFilters().map(i=>$A(i));return r.length===1?r[0]:{compositeFilter:{op:CF(n.op),filters:r}}}(t):ge(54877,{filter:t})}function SF(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function UA(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oo{constructor(e,n,r,i,o=we.min(),s=we.min(),a=Yt.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new oo(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new oo(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new oo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new oo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PF{constructor(e){this.yt=e}}function IF(t){const e=_F({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?oy(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AF{constructor(){this.Cn=new kF}addToCollectionParentIndex(e,n){return this.Cn.add(n),q.resolve()}getCollectionParents(e,n){return q.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return q.resolve()}deleteFieldIndex(e,n){return q.resolve()}deleteAllFieldIndexes(e){return q.resolve()}createTargetIndexes(e,n){return q.resolve()}getDocumentsMatchingTarget(e,n){return q.resolve(null)}getIndexType(e,n){return q.resolve(0)}getFieldIndexes(e,n){return q.resolve([])}getNextCollectionGroupToUpdate(e){return q.resolve(null)}getMinOffset(e,n){return q.resolve(Po.min())}getMinOffsetFromCollectionGroup(e,n){return q.resolve(Po.min())}updateCollectionGroup(e,n,r){return q.resolve()}updateIndexEntries(e,n){return q.resolve()}}class kF{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Lt(rt.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Lt(rt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sb={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},BA=41943040;class xn{static withCacheSize(e){return new xn(e,xn.DEFAULT_COLLECTION_PERCENTILE,xn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */xn.DEFAULT_COLLECTION_PERCENTILE=10,xn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,xn.DEFAULT=new xn(BA,xn.DEFAULT_COLLECTION_PERCENTILE,xn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),xn.DISABLED=new xn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qa{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Qa(0)}static cr(){return new Qa(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ab="LruGarbageCollector",RF=1048576;function lb([t,e],[n,r]){const i=ke(t,n);return i===0?ke(e,r):i}class NF{constructor(e){this.Ir=e,this.buffer=new Lt(lb),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();lb(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class DF{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){oe(ab,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){yl(n)?oe(ab,"Ignoring IndexedDB error during garbage collection: ",n):await vl(n)}await this.Vr(3e5)})}}class MF{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return q.resolve(up.ce);const r=new NF(n);return this.mr.forEachTarget(e,i=>r.Ar(i.sequenceNumber)).next(()=>this.mr.pr(e,i=>r.Ar(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(oe("LruGarbageCollector","Garbage collection skipped; disabled"),q.resolve(sb)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(oe("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),sb):this.yr(e,n))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,i,o,s,a,l,c;const u=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(f=>(f>this.params.maximumSequenceNumbersToCollect?(oe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${f}`),i=this.params.maximumSequenceNumbersToCollect):i=f,s=Date.now(),this.nthSequenceNumber(e,i))).next(f=>(r=f,a=Date.now(),this.removeTargets(e,r,n))).next(f=>(o=f,l=Date.now(),this.removeOrphanedDocuments(e,r))).next(f=>(c=Date.now(),ea()<=Ae.DEBUG&&oe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-u}ms
	Determined least recently used ${i} in `+(a-s)+`ms
	Removed ${o} targets in `+(l-a)+`ms
	Removed ${f} documents in `+(c-l)+`ms
Total Duration: ${c-u}ms`),q.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:f})))}}function OF(t,e){return new MF(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LF{constructor(){this.changes=new Ns(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,on.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?q.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VF{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jF{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Tc(r.mutation,i,Ln.empty(),it.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Re()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Re()){const i=ls();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(o=>{let s=ac();return o.forEach((a,l)=>{s=s.insert(a,l.overlayedDocument)}),s}))}getOverlayedDocuments(e,n){const r=ls();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Re()))}populateOverlays(e,n,r){const i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{n.set(s,a)})})}computeViews(e,n,r,i){let o=Ei();const s=bc(),a=function(){return bc()}();return n.forEach((l,c)=>{const u=r.get(c.key);i.has(c.key)&&(u===void 0||u.mutation instanceof Bo)?o=o.insert(c.key,c):u!==void 0?(s.set(c.key,u.mutation.getFieldMask()),Tc(u.mutation,c,u.mutation.getFieldMask(),it.now())):s.set(c.key,Ln.empty())}),this.recalculateAndSaveOverlays(e,o).next(l=>(l.forEach((c,u)=>s.set(c,u)),n.forEach((c,u)=>a.set(c,new VF(u,s.get(c)??null))),a))}recalculateAndSaveOverlays(e,n){const r=bc();let i=new mt((s,a)=>s-a),o=Re();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(s=>{for(const a of s)a.keys().forEach(l=>{const c=n.get(l);if(c===null)return;let u=r.get(l)||Ln.empty();u=a.applyToLocalView(c,u),r.set(l,u);const f=(i.get(a.batchId)||Re()).add(l);i=i.insert(a.batchId,f)})}).next(()=>{const s=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),c=l.key,u=l.value,f=TA();u.forEach(h=>{if(!o.has(h)){const g=kA(n.get(h),r.get(h));g!==null&&f.set(h,g),o=o.add(h)}}),s.push(this.documentOverlayCache.saveOverlays(e,c,f))}return q.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(s){return pe.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):$3(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(o=>{const s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):q.resolve(ls());let a=Jc,l=o;return s.next(c=>q.forEach(c,(u,f)=>(a<f.largestBatchId&&(a=f.largestBatchId),o.get(u)?q.resolve():this.remoteDocumentCache.getEntry(e,u).next(h=>{l=l.insert(u,h)}))).next(()=>this.populateOverlays(e,c,o)).next(()=>this.computeViews(e,l,c,Re())).next(u=>({batchId:a,changes:bA(u)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new pe(n)).next(r=>{let i=ac();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const o=n.collectionGroup;let s=ac();return this.indexManager.getCollectionParents(e,o).next(a=>q.forEach(a,l=>{const c=function(f,h){return new hp(h,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,l.child(o));return this.getDocumentsMatchingCollectionQuery(e,c,r,i).next(u=>{u.forEach((f,h)=>{s=s.insert(f,h)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,i))).next(s=>{o.forEach((l,c)=>{const u=c.getKey();s.get(u)===null&&(s=s.insert(u,on.newInvalidDocument(u)))});let a=ac();return s.forEach((l,c)=>{const u=o.get(l);u!==void 0&&Tc(u.mutation,c,Ln.empty(),it.now()),mp(n,c)&&(a=a.insert(l,c))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FF{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return q.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Lr(i.createTime)}}(n)),q.resolve()}getNamedQuery(e,n){return q.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,function(i){return{name:i.name,query:IF(i.bundledQuery),readTime:Lr(i.readTime)}}(n)),q.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $F{constructor(){this.overlays=new mt(pe.comparator),this.qr=new Map}getOverlay(e,n){return q.resolve(this.overlays.get(n))}getOverlays(e,n){const r=ls();return q.forEach(n,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,o)=>{this.St(e,n,o)}),q.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.qr.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.qr.delete(r)),q.resolve()}getOverlaysForCollection(e,n,r){const i=ls(),o=n.length+1,s=new pe(n.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){const l=a.getNext().value,c=l.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===o&&l.largestBatchId>r&&i.set(l.getKey(),l)}return q.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new mt((c,u)=>c-u);const s=this.overlays.getIterator();for(;s.hasNext();){const c=s.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let u=o.get(c.largestBatchId);u===null&&(u=ls(),o=o.insert(c.largestBatchId,u)),u.set(c.getKey(),c)}}const a=ls(),l=o.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,u)=>a.set(c,u)),!(a.size()>=i)););return q.resolve(a)}St(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const s=this.qr.get(i.largestBatchId).delete(r.key);this.qr.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new iF(n,r));let o=this.qr.get(n);o===void 0&&(o=Re(),this.qr.set(n,o)),this.qr.set(n,o.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UF{constructor(){this.sessionToken=Yt.EMPTY_BYTE_STRING}getSessionToken(e){return q.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,q.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mw{constructor(){this.Qr=new Lt(jt.$r),this.Ur=new Lt(jt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new jt(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Gr(new jt(e,n))}zr(e,n){e.forEach(r=>this.removeReference(r,n))}jr(e){const n=new pe(new rt([])),r=new jt(n,e),i=new jt(n,e+1),o=[];return this.Ur.forEachInRange([r,i],s=>{this.Gr(s),o.push(s.key)}),o}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new pe(new rt([])),r=new jt(n,e),i=new jt(n,e+1);let o=Re();return this.Ur.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){const n=new jt(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class jt{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return pe.comparator(e.key,n.key)||ke(e.Yr,n.Yr)}static Kr(e,n){return ke(e.Yr,n.Yr)||pe.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BF{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Lt(jt.$r)}checkEmpty(e){return q.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const o=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new rF(o,n,r,i);this.mutationQueue.push(s);for(const a of i)this.Zr=this.Zr.add(new jt(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return q.resolve(s)}lookupMutationBatch(e,n){return q.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.ei(r),o=i<0?0:i;return q.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return q.resolve(this.mutationQueue.length===0?iw:this.tr-1)}getAllMutationBatches(e){return q.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new jt(n,0),i=new jt(n,Number.POSITIVE_INFINITY),o=[];return this.Zr.forEachInRange([r,i],s=>{const a=this.Xr(s.Yr);o.push(a)}),q.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Lt(ke);return n.forEach(i=>{const o=new jt(i,0),s=new jt(i,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([o,s],a=>{r=r.add(a.Yr)})}),q.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let o=r;pe.isDocumentKey(o)||(o=o.child(""));const s=new jt(new pe(o),0);let a=new Lt(ke);return this.Zr.forEachWhile(l=>{const c=l.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(a=a.add(l.Yr)),!0)},s),q.resolve(this.ti(a))}ti(e){const n=[];return e.forEach(r=>{const i=this.Xr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){We(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return q.forEach(n.mutations,i=>{const o=new jt(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Zr=r})}ir(e){}containsKey(e,n){const r=new jt(n,0),i=this.Zr.firstAfterOrEqual(r);return q.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,q.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WF{constructor(e){this.ri=e,this.docs=function(){return new mt(pe.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),o=i?i.size:0,s=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return q.resolve(r?r.document.mutableCopy():on.newInvalidDocument(n))}getEntries(e,n){let r=Ei();return n.forEach(i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():on.newInvalidDocument(i))}),q.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=Ei();const s=n.path,a=new pe(s.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:c,value:{document:u}}=l.getNext();if(!s.isPrefixOf(c.path))break;c.path.length>s.length+1||y3(v3(u),r)<=0||(i.has(u.key)||mp(n,u))&&(o=o.insert(u.key,u.mutableCopy()))}return q.resolve(o)}getAllFromCollectionGroup(e,n,r,i){ge(9500)}ii(e,n){return q.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new zF(this)}getSize(e){return q.resolve(this.size)}}class zF extends LF{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.Nr.addEntry(e,i)):this.Nr.removeEntry(r)}),q.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HF{constructor(e){this.persistence=e,this.si=new Ns(n=>aw(n),lw),this.lastRemoteSnapshotVersion=we.min(),this.highestTargetId=0,this.oi=0,this._i=new mw,this.targetCount=0,this.ai=Qa.ur()}forEachTarget(e,n){return this.si.forEach((r,i)=>n(i)),q.resolve()}getLastRemoteSnapshotVersion(e){return q.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return q.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),q.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),q.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new Qa(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,q.resolve()}updateTargetData(e,n){return this.Pr(n),q.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,q.resolve()}removeTargets(e,n,r){let i=0;const o=[];return this.si.forEach((s,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.si.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),q.waitFor(o).next(()=>i)}getTargetCount(e){return q.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return q.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),q.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),q.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),q.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return q.resolve(r)}containsKey(e,n){return q.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WA{constructor(e,n){this.ui={},this.overlays={},this.ci=new up(0),this.li=!1,this.li=!0,this.hi=new UF,this.referenceDelegate=e(this),this.Pi=new HF(this),this.indexManager=new AF,this.remoteDocumentCache=function(i){return new WF(i)}(r=>this.referenceDelegate.Ti(r)),this.serializer=new PF(n),this.Ii=new FF(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new $F,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new BF(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){oe("MemoryPersistence","Starting transaction:",e);const i=new qF(this.ci.next());return this.referenceDelegate.Ei(),r(i).next(o=>this.referenceDelegate.di(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Ai(e,n){return q.or(Object.values(this.ui).map(r=>()=>r.containsKey(e,n)))}}class qF extends x3{constructor(e){super(),this.currentSequenceNumber=e}}class gw{constructor(e){this.persistence=e,this.Ri=new mw,this.Vi=null}static mi(e){return new gw(e)}get fi(){if(this.Vi)return this.Vi;throw ge(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),q.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),q.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),q.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach(i=>this.fi.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(o=>this.fi.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return q.forEach(this.fi,r=>{const i=pe.fromPath(r);return this.gi(e,i).next(o=>{o||n.removeEntry(i,we.min())})}).next(()=>(this.Vi=null,n.apply(e)))}updateLimboDocument(e,n){return this.gi(e,n).next(r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())})}Ti(e){return 0}gi(e,n){return q.or([()=>q.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class ah{constructor(e,n){this.persistence=e,this.pi=new Ns(r=>b3(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=OF(this,n)}static mi(e,n){return new ah(e,n)}Ei(){}di(e){return q.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}wr(e){let n=0;return this.pr(e,r=>{n++}).next(()=>n)}pr(e,n){return q.forEach(this.pi,(r,i)=>this.br(e,r,i).next(o=>o?q.resolve():n(i)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),o=i.newChangeBuffer();return i.ii(e,s=>this.br(e,s,n).next(a=>{a||(r++,o.removeEntry(s,we.min()))})).next(()=>o.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),q.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),q.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),q.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),q.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=sf(e.data.value)),n}br(e,n,r){return q.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.pi.get(n);return q.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vw{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=i}static As(e,n){let r=Re(),i=Re();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new vw(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GF{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YF{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return F5()?8:_3(ln())>0?6:4}()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,i){const o={result:null};return this.ys(e,n).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.ws(e,n,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;const s=new GF;return this.Ss(e,n,s).next(a=>{if(o.result=a,this.Vs)return this.bs(e,n,s,a.size)})}).next(()=>o.result)}bs(e,n,r,i){return r.documentReadCount<this.fs?(ea()<=Ae.DEBUG&&oe("QueryEngine","SDK will not create cache indexes for query:",ta(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),q.resolve()):(ea()<=Ae.DEBUG&&oe("QueryEngine","Query:",ta(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.gs*i?(ea()<=Ae.DEBUG&&oe("QueryEngine","The SDK decides to create cache indexes for query:",ta(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Or(n))):q.resolve())}ys(e,n){if(QE(n))return q.resolve(null);let r=Or(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=oy(n,null,"F"),r=Or(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const s=Re(...o);return this.ps.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const c=this.Ds(n,a);return this.Cs(n,c,s,l.readTime)?this.ys(e,oy(n,null,"F")):this.vs(e,c,n,l)}))})))}ws(e,n,r,i){return QE(n)||i.isEqual(we.min())?q.resolve(null):this.ps.getDocuments(e,r).next(o=>{const s=this.Ds(n,o);return this.Cs(n,s,r,i)?q.resolve(null):(ea()<=Ae.DEBUG&&oe("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),ta(n)),this.vs(e,s,n,g3(i,Jc)).next(a=>a))})}Ds(e,n){let r=new Lt(_A(e));return n.forEach((i,o)=>{mp(e,o)&&(r=r.add(o))}),r}Cs(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Ss(e,n,r){return ea()<=Ae.DEBUG&&oe("QueryEngine","Using full collection scan to execute query:",ta(n)),this.ps.getDocumentsMatchingQuery(e,n,Po.min(),r)}vs(e,n,r,i){return this.ps.getDocumentsMatchingQuery(e,r,i).next(o=>(n.forEach(s=>{o=o.insert(s.key,s)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yw="LocalStore",KF=3e8;class QF{constructor(e,n,r,i){this.persistence=e,this.Fs=n,this.serializer=i,this.Ms=new mt(ke),this.xs=new Ns(o=>aw(o),lw),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new jF(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ms))}}function XF(t,e,n,r){return new QF(t,e,n,r)}async function zA(t,e){const n=_e(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n.Bs(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{const s=[],a=[];let l=Re();for(const c of i){s.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}for(const c of o){a.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}return n.localDocuments.getDocuments(r,l).next(c=>({Ls:c,removedBatchIds:s,addedBatchIds:a}))})})}function JF(t,e){const n=_e(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),o=n.Ns.newChangeBuffer({trackRemovals:!0});return function(a,l,c,u){const f=c.batch,h=f.keys();let g=q.resolve();return h.forEach(w=>{g=g.next(()=>u.getEntry(l,w)).next(y=>{const b=c.docVersions.get(w);We(b!==null,48541),y.version.compareTo(b)<0&&(f.applyToRemoteDocument(y,c),y.isValidDocument()&&(y.setReadTime(c.commitVersion),u.addEntry(y)))})}),g.next(()=>a.mutationQueue.removeMutationBatch(l,f))}(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=Re();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(l=l.add(a.batch.mutations[c].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function HA(t){const e=_e(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Pi.getLastRemoteSnapshotVersion(n))}function ZF(t,e){const n=_e(t),r=e.snapshotVersion;let i=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const s=n.Ns.newChangeBuffer({trackRemovals:!0});i=n.Ms;const a=[];e.targetChanges.forEach((u,f)=>{const h=i.get(f);if(!h)return;a.push(n.Pi.removeMatchingKeys(o,u.removedDocuments,f).next(()=>n.Pi.addMatchingKeys(o,u.addedDocuments,f)));let g=h.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(f)!==null?g=g.withResumeToken(Yt.EMPTY_BYTE_STRING,we.min()).withLastLimboFreeSnapshotVersion(we.min()):u.resumeToken.approximateByteSize()>0&&(g=g.withResumeToken(u.resumeToken,r)),i=i.insert(f,g),function(y,b,x){return y.resumeToken.approximateByteSize()===0||b.snapshotVersion.toMicroseconds()-y.snapshotVersion.toMicroseconds()>=KF?!0:x.addedDocuments.size+x.modifiedDocuments.size+x.removedDocuments.size>0}(h,g,u)&&a.push(n.Pi.updateTargetData(o,g))});let l=Ei(),c=Re();if(e.documentUpdates.forEach(u=>{e.resolvedLimboDocuments.has(u)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(o,u))}),a.push(e6(o,s,e.documentUpdates).next(u=>{l=u.ks,c=u.qs})),!r.isEqual(we.min())){const u=n.Pi.getLastRemoteSnapshotVersion(o).next(f=>n.Pi.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(u)}return q.waitFor(a).next(()=>s.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,l,c)).next(()=>l)}).then(o=>(n.Ms=i,o))}function e6(t,e,n){let r=Re(),i=Re();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let s=Ei();return n.forEach((a,l)=>{const c=o.get(a);l.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(we.min())?(e.removeEntry(a,l.readTime),s=s.insert(a,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(l),s=s.insert(a,l)):oe(yw,"Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",l.version)}),{ks:s,qs:i}})}function t6(t,e){const n=_e(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=iw),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function n6(t,e){const n=_e(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Pi.getTargetData(r,e).next(o=>o?(i=o,q.resolve(i)):n.Pi.allocateTargetId(r).next(s=>(i=new oo(e,s,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.Ms.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r})}async function uy(t,e,n){const r=_e(t),i=r.Ms.get(e),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i))}catch(s){if(!yl(s))throw s;oe(yw,`Failed to update sequence numbers for target ${e}: ${s}`)}r.Ms=r.Ms.remove(e),r.xs.delete(i.target)}function cb(t,e,n){const r=_e(t);let i=we.min(),o=Re();return r.persistence.runTransaction("Execute query","readwrite",s=>function(l,c,u){const f=_e(l),h=f.xs.get(u);return h!==void 0?q.resolve(f.Ms.get(h)):f.Pi.getTargetData(c,u)}(r,s,Or(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(s,a.targetId).next(l=>{o=l})}).next(()=>r.Fs.getDocumentsMatchingQuery(s,e,n?i:we.min(),n?o:Re())).next(a=>(r6(r,B3(e),a),{documents:a,Qs:o})))}function r6(t,e,n){let r=t.Os.get(e)||we.min();n.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.Os.set(e,r)}class ub{constructor(){this.activeTargetIds=Y3()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class i6{constructor(){this.Mo=new ub,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new ub,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o6{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const db="ConnectivityMonitor";class fb{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){oe(db,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){oe(db,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Id=null;function dy(){return Id===null?Id=function(){return 268435456+Math.round(2147483648*Math.random())}():Id++,"0x"+Id.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lg="RestConnection",s6={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class a6{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${i}`,this.Wo=this.databaseId.database===eh?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Go(e,n,r,i,o){const s=dy(),a=this.zo(e,n.toUriEncodedString());oe(lg,`Sending RPC '${e}' ${s}:`,a,r);const l={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(l,i,o);const{host:c}=new URL(a),u=pl(c);return this.Jo(e,a,l,r,u).then(f=>(oe(lg,`Received RPC '${e}' ${s}: `,f),f),f=>{throw qa(lg,`RPC '${e}' ${s} failed with error: `,f,"url: ",a,"request:",r),f})}Ho(e,n,r,i,o,s){return this.Go(e,n,r,i,o)}jo(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+gl}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,o)=>e[o]=i),r&&r.headers.forEach((i,o)=>e[o]=i)}zo(e,n){const r=s6[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l6{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const en="WebChannelConnection";class c6 extends a6{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,i,o){const s=dy();return new Promise((a,l)=>{const c=new YI;c.setWithCredentials(!0),c.listenOnce(KI.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case of.NO_ERROR:const f=c.getResponseJson();oe(en,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(f)),a(f);break;case of.TIMEOUT:oe(en,`RPC '${e}' ${s} timed out`),l(new ue(Y.DEADLINE_EXCEEDED,"Request time out"));break;case of.HTTP_ERROR:const h=c.getStatus();if(oe(en,`RPC '${e}' ${s} failed with status:`,h,"response text:",c.getResponseText()),h>0){let g=c.getResponseJson();Array.isArray(g)&&(g=g[0]);const w=g==null?void 0:g.error;if(w&&w.status&&w.message){const y=function(x){const v=x.toLowerCase().replace(/_/g,"-");return Object.values(Y).indexOf(v)>=0?v:Y.UNKNOWN}(w.status);l(new ue(y,w.message))}else l(new ue(Y.UNKNOWN,"Server responded with status "+c.getStatus()))}else l(new ue(Y.UNAVAILABLE,"Connection failed."));break;default:ge(9055,{l_:e,streamId:s,h_:c.getLastErrorCode(),P_:c.getLastError()})}}finally{oe(en,`RPC '${e}' ${s} completed.`)}});const u=JSON.stringify(i);oe(en,`RPC '${e}' ${s} sending request:`,i),c.send(n,"POST",u,r,15)})}T_(e,n,r){const i=dy(),o=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=JI(),a=XI(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.useFetchStreams=!0),this.jo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const u=o.join("");oe(en,`Creating RPC '${e}' stream ${i}: ${u}`,l);const f=s.createWebChannel(u,l);this.I_(f);let h=!1,g=!1;const w=new l6({Yo:b=>{g?oe(en,`Not sending because RPC '${e}' stream ${i} is closed:`,b):(h||(oe(en,`Opening RPC '${e}' stream ${i} transport.`),f.open(),h=!0),oe(en,`RPC '${e}' stream ${i} sending:`,b),f.send(b))},Zo:()=>f.close()}),y=(b,x,v)=>{b.listen(x,E=>{try{v(E)}catch(S){setTimeout(()=>{throw S},0)}})};return y(f,sc.EventType.OPEN,()=>{g||(oe(en,`RPC '${e}' stream ${i} transport opened.`),w.o_())}),y(f,sc.EventType.CLOSE,()=>{g||(g=!0,oe(en,`RPC '${e}' stream ${i} transport closed`),w.a_(),this.E_(f))}),y(f,sc.EventType.ERROR,b=>{g||(g=!0,qa(en,`RPC '${e}' stream ${i} transport errored. Name:`,b.name,"Message:",b.message),w.a_(new ue(Y.UNAVAILABLE,"The operation could not be completed")))}),y(f,sc.EventType.MESSAGE,b=>{var x;if(!g){const v=b.data[0];We(!!v,16349);const E=v,S=(E==null?void 0:E.error)||((x=E[0])==null?void 0:x.error);if(S){oe(en,`RPC '${e}' stream ${i} received error:`,S);const R=S.status;let D=function(I){const A=Ct[I];if(A!==void 0)return NA(A)}(R),P=S.message;D===void 0&&(D=Y.INTERNAL,P="Unknown error status: "+R+" with message "+S.message),g=!0,w.a_(new ue(D,P)),f.close()}else oe(en,`RPC '${e}' stream ${i} received:`,v),w.u_(v)}}),y(a,QI.STAT_EVENT,b=>{b.stat===Zv.PROXY?oe(en,`RPC '${e}' stream ${i} detected buffering proxy`):b.stat===Zv.NOPROXY&&oe(en,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{w.__()},0),w}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(n=>n===e)}}function cg(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wp(t){return new hF(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qA{constructor(e,n,r=1e3,i=1.5,o=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=i,this.R_=o,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),i=Math.max(0,n-r);i>0&&oe("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,i,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hb="PersistentStream";class GA{constructor(e,n,r,i,o,s,a,l){this.Mi=e,this.S_=r,this.b_=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new qA(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===Y.RESOURCE_EXHAUSTED?(_i(n.toString()),_i("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===Y.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.D_===n&&this.G_(r,i)},r=>{e(()=>{const i=new ue(Y.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(i)})})}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo(()=>{r(()=>this.listener.Xo())}),this.stream.t_(()=>{r(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(i=>{r(()=>this.z_(i))}),this.stream.onMessage(i=>{r(()=>++this.F_==1?this.J_(i):this.onNext(i))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return oe(hb,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget(()=>this.D_===e?n():(oe(hb,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class u6 extends GA{constructor(e,n,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=gF(this.serializer,e),r=function(o){if(!("targetChange"in o))return we.min();const s=o.targetChange;return s.targetIds&&s.targetIds.length?we.min():s.readTime?Lr(s.readTime):we.min()}(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=cy(this.serializer),n.addTarget=function(o,s){let a;const l=s.target;if(a=iy(l)?{documents:wF(o,l)}:{query:xF(o,l).ft},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=OA(o,s.resumeToken);const c=sy(o,s.expectedCount);c!==null&&(a.expectedCount=c)}else if(s.snapshotVersion.compareTo(we.min())>0){a.readTime=sh(o,s.snapshotVersion.toTimestamp());const c=sy(o,s.expectedCount);c!==null&&(a.expectedCount=c)}return a}(this.serializer,e);const r=EF(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=cy(this.serializer),n.removeTarget=e,this.q_(n)}}class d6 extends GA{constructor(e,n,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return We(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,We(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){We(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=yF(e.writeResults,e.commitTime),r=Lr(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=cy(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>vF(this.serializer,r))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f6{}class h6 extends f6{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new ue(Y.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Go(e,ay(n,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===Y.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new ue(Y.UNKNOWN,o.toString())})}Ho(e,n,r,i,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Ho(e,ay(n,r),i,s,a,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===Y.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new ue(Y.UNKNOWN,s.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class p6{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(_i(n),this.aa=!1):oe("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Es="RemoteStore";class m6{constructor(e,n,r,i,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=o,this.Aa.Oo(s=>{r.enqueueAndForget(async()=>{Ds(this)&&(oe(Es,"Restarting streams for network reachability change."),await async function(l){const c=_e(l);c.Ea.add(4),await Cu(c),c.Ra.set("Unknown"),c.Ea.delete(4),await xp(c)}(this))})}),this.Ra=new p6(r,i)}}async function xp(t){if(Ds(t))for(const e of t.da)await e(!0)}async function Cu(t){for(const e of t.da)await e(!1)}function YA(t,e){const n=_e(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),Ew(n)?_w(n):wl(n).O_()&&xw(n,e))}function ww(t,e){const n=_e(t),r=wl(n);n.Ia.delete(e),r.O_()&&KA(n,e),n.Ia.size===0&&(r.O_()?r.L_():Ds(n)&&n.Ra.set("Unknown"))}function xw(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(we.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}wl(t).Y_(e)}function KA(t,e){t.Va.Ue(e),wl(t).Z_(e)}function _w(t){t.Va=new cF({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),wl(t).start(),t.Ra.ua()}function Ew(t){return Ds(t)&&!wl(t).x_()&&t.Ia.size>0}function Ds(t){return _e(t).Ea.size===0}function QA(t){t.Va=void 0}async function g6(t){t.Ra.set("Online")}async function v6(t){t.Ia.forEach((e,n)=>{xw(t,e)})}async function y6(t,e){QA(t),Ew(t)?(t.Ra.ha(e),_w(t)):t.Ra.set("Unknown")}async function w6(t,e,n){if(t.Ra.set("Online"),e instanceof MA&&e.state===2&&e.cause)try{await async function(i,o){const s=o.cause;for(const a of o.targetIds)i.Ia.has(a)&&(await i.remoteSyncer.rejectListen(a,s),i.Ia.delete(a),i.Va.removeTarget(a))}(t,e)}catch(r){oe(Es,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await lh(t,r)}else if(e instanceof cf?t.Va.Ze(e):e instanceof DA?t.Va.st(e):t.Va.tt(e),!n.isEqual(we.min()))try{const r=await HA(t.localStore);n.compareTo(r)>=0&&await function(o,s){const a=o.Va.Tt(s);return a.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const u=o.Ia.get(c);u&&o.Ia.set(c,u.withResumeToken(l.resumeToken,s))}}),a.targetMismatches.forEach((l,c)=>{const u=o.Ia.get(l);if(!u)return;o.Ia.set(l,u.withResumeToken(Yt.EMPTY_BYTE_STRING,u.snapshotVersion)),KA(o,l);const f=new oo(u.target,l,c,u.sequenceNumber);xw(o,f)}),o.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){oe(Es,"Failed to raise snapshot:",r),await lh(t,r)}}async function lh(t,e,n){if(!yl(e))throw e;t.Ea.add(1),await Cu(t),t.Ra.set("Offline"),n||(n=()=>HA(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{oe(Es,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await xp(t)})}function XA(t,e){return e().catch(n=>lh(t,n,e))}async function _p(t){const e=_e(t),n=Ro(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:iw;for(;x6(e);)try{const i=await t6(e.localStore,r);if(i===null){e.Ta.length===0&&n.L_();break}r=i.batchId,_6(e,i)}catch(i){await lh(e,i)}JA(e)&&ZA(e)}function x6(t){return Ds(t)&&t.Ta.length<10}function _6(t,e){t.Ta.push(e);const n=Ro(t);n.O_()&&n.X_&&n.ea(e.mutations)}function JA(t){return Ds(t)&&!Ro(t).x_()&&t.Ta.length>0}function ZA(t){Ro(t).start()}async function E6(t){Ro(t).ra()}async function b6(t){const e=Ro(t);for(const n of t.Ta)e.ea(n.mutations)}async function T6(t,e,n){const r=t.Ta.shift(),i=fw.from(r,e,n);await XA(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await _p(t)}async function C6(t,e){e&&Ro(t).X_&&await async function(r,i){if(function(s){return sF(s)&&s!==Y.ABORTED}(i.code)){const o=r.Ta.shift();Ro(r).B_(),await XA(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),await _p(r)}}(t,e),JA(t)&&ZA(t)}async function pb(t,e){const n=_e(t);n.asyncQueue.verifyOperationInProgress(),oe(Es,"RemoteStore received new credentials");const r=Ds(n);n.Ea.add(3),await Cu(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await xp(n)}async function S6(t,e){const n=_e(t);e?(n.Ea.delete(2),await xp(n)):e||(n.Ea.add(2),await Cu(n),n.Ra.set("Unknown"))}function wl(t){return t.ma||(t.ma=function(n,r,i){const o=_e(n);return o.sa(),new u6(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Xo:g6.bind(null,t),t_:v6.bind(null,t),r_:y6.bind(null,t),H_:w6.bind(null,t)}),t.da.push(async e=>{e?(t.ma.B_(),Ew(t)?_w(t):t.Ra.set("Unknown")):(await t.ma.stop(),QA(t))})),t.ma}function Ro(t){return t.fa||(t.fa=function(n,r,i){const o=_e(n);return o.sa(),new d6(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:E6.bind(null,t),r_:C6.bind(null,t),ta:b6.bind(null,t),na:T6.bind(null,t)}),t.da.push(async e=>{e?(t.fa.B_(),await _p(t)):(await t.fa.stop(),t.Ta.length>0&&(oe(Es,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))})),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bw{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new fi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){const s=Date.now()+r,a=new bw(e,n,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ue(Y.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Tw(t,e){if(_i("AsyncQueue",`${e}: ${t}`),yl(t))return new ue(Y.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aa{static emptySet(e){return new Aa(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||pe.comparator(n.key,r.key):(n,r)=>pe.comparator(n.key,r.key),this.keyedMap=ac(),this.sortedSet=new mt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Aa)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Aa;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mb{constructor(){this.ga=new mt(pe.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):ge(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal((n,r)=>{e.push(r)}),e}}class Xa{constructor(e,n,r,i,o,s,a,l,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,i,o){const s=[];return n.forEach(a=>{s.push({type:0,doc:a})}),new Xa(e,n,Aa.emptySet(n),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&pp(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P6{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class I6{constructor(){this.queries=gb(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const i=_e(n),o=i.queries;i.queries=gb(),o.forEach((s,a)=>{for(const l of a.Sa)l.onError(r)})})(this,new ue(Y.ABORTED,"Firestore shutting down"))}}function gb(){return new Ns(t=>xA(t),pp)}async function ek(t,e){const n=_e(t);let r=3;const i=e.query;let o=n.queries.get(i);o?!o.ba()&&e.Da()&&(r=2):(o=new P6,r=e.Da()?0:1);try{switch(r){case 0:o.wa=await n.onListen(i,!0);break;case 1:o.wa=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(s){const a=Tw(s,`Initialization of query '${ta(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,o),o.Sa.push(e),e.va(n.onlineState),o.wa&&e.Fa(o.wa)&&Cw(n)}async function tk(t,e){const n=_e(t),r=e.query;let i=3;const o=n.queries.get(r);if(o){const s=o.Sa.indexOf(e);s>=0&&(o.Sa.splice(s,1),o.Sa.length===0?i=e.Da()?0:1:!o.ba()&&e.Da()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function A6(t,e){const n=_e(t);let r=!1;for(const i of e){const o=i.query,s=n.queries.get(o);if(s){for(const a of s.Sa)a.Fa(i)&&(r=!0);s.wa=i}}r&&Cw(n)}function k6(t,e,n){const r=_e(t),i=r.queries.get(e);if(i)for(const o of i.Sa)o.onError(n);r.queries.delete(e)}function Cw(t){t.Ca.forEach(e=>{e.next()})}var fy,vb;(vb=fy||(fy={})).Ma="default",vb.Cache="cache";class nk{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Xa(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Xa.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==fy.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rk{constructor(e){this.key=e}}class ik{constructor(e){this.key=e}}class R6{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Re(),this.mutatedKeys=Re(),this.eu=_A(e),this.tu=new Aa(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new mb,i=n?n.tu:this.tu;let o=n?n.mutatedKeys:this.mutatedKeys,s=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,c=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((u,f)=>{const h=i.get(u),g=mp(this.query,f)?f:null,w=!!h&&this.mutatedKeys.has(h.key),y=!!g&&(g.hasLocalMutations||this.mutatedKeys.has(g.key)&&g.hasCommittedMutations);let b=!1;h&&g?h.data.isEqual(g.data)?w!==y&&(r.track({type:3,doc:g}),b=!0):this.su(h,g)||(r.track({type:2,doc:g}),b=!0,(l&&this.eu(g,l)>0||c&&this.eu(g,c)<0)&&(a=!0)):!h&&g?(r.track({type:0,doc:g}),b=!0):h&&!g&&(r.track({type:1,doc:h}),b=!0,(l||c)&&(a=!0)),b&&(g?(s=s.add(g),o=y?o.add(u):o.delete(u)):(s=s.delete(u),o=o.delete(u)))}),this.query.limit!==null)for(;s.size>this.query.limit;){const u=this.query.limitType==="F"?s.last():s.first();s=s.delete(u.key),o=o.delete(u.key),r.track({type:1,doc:u})}return{tu:s,iu:r,Cs:a,mutatedKeys:o}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const o=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const s=e.iu.ya();s.sort((u,f)=>function(g,w){const y=b=>{switch(b){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ge(20277,{Rt:b})}};return y(g)-y(w)}(u.type,f.type)||this.eu(u.doc,f.doc)),this.ou(r),i=i??!1;const a=n&&!i?this._u():[],l=this.Xa.size===0&&this.current&&!i?1:0,c=l!==this.Za;return this.Za=l,s.length!==0||c?{snapshot:new Xa(this.query,e.tu,o,s,e.mutatedKeys,l===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:a}:{au:a}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new mb,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(n=>this.Ya=this.Ya.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ya=this.Ya.delete(n)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Re(),this.tu.forEach(r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))});const n=[];return e.forEach(r=>{this.Xa.has(r)||n.push(new ik(r))}),this.Xa.forEach(r=>{e.has(r)||n.push(new rk(r))}),n}cu(e){this.Ya=e.Qs,this.Xa=Re();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Xa.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Sw="SyncEngine";class N6{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class D6{constructor(e){this.key=e,this.hu=!1}}class M6{constructor(e,n,r,i,o,s){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.Pu={},this.Tu=new Ns(a=>xA(a),pp),this.Iu=new Map,this.Eu=new Set,this.du=new mt(pe.comparator),this.Au=new Map,this.Ru=new mw,this.Vu={},this.mu=new Map,this.fu=Qa.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function O6(t,e,n=!0){const r=uk(t);let i;const o=r.Tu.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.lu()):i=await ok(r,e,n,!0),i}async function L6(t,e){const n=uk(t);await ok(n,e,!0,!1)}async function ok(t,e,n,r){const i=await n6(t.localStore,Or(e)),o=i.targetId,s=t.sharedClientState.addLocalQueryTarget(o,n);let a;return r&&(a=await V6(t,e,o,s==="current",i.resumeToken)),t.isPrimaryClient&&n&&YA(t.remoteStore,i),a}async function V6(t,e,n,r,i){t.pu=(f,h,g)=>async function(y,b,x,v){let E=b.view.ru(x);E.Cs&&(E=await cb(y.localStore,b.query,!1).then(({documents:P})=>b.view.ru(P,E)));const S=v&&v.targetChanges.get(b.targetId),R=v&&v.targetMismatches.get(b.targetId)!=null,D=b.view.applyChanges(E,y.isPrimaryClient,S,R);return wb(y,b.targetId,D.au),D.snapshot}(t,f,h,g);const o=await cb(t.localStore,e,!0),s=new R6(e,o.Qs),a=s.ru(o.documents),l=Tu.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),c=s.applyChanges(a,t.isPrimaryClient,l);wb(t,n,c.au);const u=new N6(e,n,s);return t.Tu.set(e,u),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),c.snapshot}async function j6(t,e,n){const r=_e(t),i=r.Tu.get(e),o=r.Iu.get(i.targetId);if(o.length>1)return r.Iu.set(i.targetId,o.filter(s=>!pp(s,e))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await uy(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&ww(r.remoteStore,i.targetId),hy(r,i.targetId)}).catch(vl)):(hy(r,i.targetId),await uy(r.localStore,i.targetId,!0))}async function F6(t,e){const n=_e(t),r=n.Tu.get(e),i=n.Iu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),ww(n.remoteStore,r.targetId))}async function $6(t,e,n){const r=G6(t);try{const i=await function(s,a){const l=_e(s),c=it.now(),u=a.reduce((g,w)=>g.add(w.key),Re());let f,h;return l.persistence.runTransaction("Locally write mutations","readwrite",g=>{let w=Ei(),y=Re();return l.Ns.getEntries(g,u).next(b=>{w=b,w.forEach((x,v)=>{v.isValidDocument()||(y=y.add(x))})}).next(()=>l.localDocuments.getOverlayedDocuments(g,w)).next(b=>{f=b;const x=[];for(const v of a){const E=tF(v,f.get(v.key).overlayedDocument);E!=null&&x.push(new Bo(v.key,E,hA(E.value.mapValue),Xn.exists(!0)))}return l.mutationQueue.addMutationBatch(g,c,x,a)}).next(b=>{h=b;const x=b.applyToLocalDocumentSet(f,y);return l.documentOverlayCache.saveOverlays(g,b.batchId,x)})}).then(()=>({batchId:h.batchId,changes:bA(f)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,a,l){let c=s.Vu[s.currentUser.toKey()];c||(c=new mt(ke)),c=c.insert(a,l),s.Vu[s.currentUser.toKey()]=c}(r,i.batchId,n),await Su(r,i.changes),await _p(r.remoteStore)}catch(i){const o=Tw(i,"Failed to persist write");n.reject(o)}}async function sk(t,e){const n=_e(t);try{const r=await ZF(n.localStore,e);e.targetChanges.forEach((i,o)=>{const s=n.Au.get(o);s&&(We(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?s.hu=!0:i.modifiedDocuments.size>0?We(s.hu,14607):i.removedDocuments.size>0&&(We(s.hu,42227),s.hu=!1))}),await Su(n,r,e)}catch(r){await vl(r)}}function yb(t,e,n){const r=_e(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Tu.forEach((o,s)=>{const a=s.view.va(e);a.snapshot&&i.push(a.snapshot)}),function(s,a){const l=_e(s);l.onlineState=a;let c=!1;l.queries.forEach((u,f)=>{for(const h of f.Sa)h.va(a)&&(c=!0)}),c&&Cw(l)}(r.eventManager,e),i.length&&r.Pu.H_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function U6(t,e,n){const r=_e(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Au.get(e),o=i&&i.key;if(o){let s=new mt(pe.comparator);s=s.insert(o,on.newNoDocument(o,we.min()));const a=Re().add(o),l=new yp(we.min(),new Map,new mt(ke),s,a);await sk(r,l),r.du=r.du.remove(o),r.Au.delete(e),Pw(r)}else await uy(r.localStore,e,!1).then(()=>hy(r,e,n)).catch(vl)}async function B6(t,e){const n=_e(t),r=e.batch.batchId;try{const i=await JF(n.localStore,e);lk(n,r,null),ak(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Su(n,i)}catch(i){await vl(i)}}async function W6(t,e,n){const r=_e(t);try{const i=await function(s,a){const l=_e(s);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let u;return l.mutationQueue.lookupMutationBatch(c,a).next(f=>(We(f!==null,37113),u=f.keys(),l.mutationQueue.removeMutationBatch(c,f))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,u,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,u)).next(()=>l.localDocuments.getDocuments(c,u))})}(r.localStore,e);lk(r,e,n),ak(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Su(r,i)}catch(i){await vl(i)}}function ak(t,e){(t.mu.get(e)||[]).forEach(n=>{n.resolve()}),t.mu.delete(e)}function lk(t,e,n){const r=_e(t);let i=r.Vu[r.currentUser.toKey()];if(i){const o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.Vu[r.currentUser.toKey()]=i}}function hy(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach(r=>{t.Ru.containsKey(r)||ck(t,r)})}function ck(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(ww(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),Pw(t))}function wb(t,e,n){for(const r of n)r instanceof rk?(t.Ru.addReference(r.key,e),z6(t,r)):r instanceof ik?(oe(Sw,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||ck(t,r.key)):ge(19791,{wu:r})}function z6(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(oe(Sw,"New document in limbo: "+n),t.Eu.add(r),Pw(t))}function Pw(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new pe(rt.fromString(e)),r=t.fu.next();t.Au.set(r,new D6(n)),t.du=t.du.insert(n,r),YA(t.remoteStore,new oo(Or(cw(n.path)),r,"TargetPurposeLimboResolution",up.ce))}}async function Su(t,e,n){const r=_e(t),i=[],o=[],s=[];r.Tu.isEmpty()||(r.Tu.forEach((a,l)=>{s.push(r.pu(l,e,n).then(c=>{var u;if((c||n)&&r.isPrimaryClient){const f=c?!c.fromCache:(u=n==null?void 0:n.targetChanges.get(l.targetId))==null?void 0:u.current;r.sharedClientState.updateQueryState(l.targetId,f?"current":"not-current")}if(c){i.push(c);const f=vw.As(l.targetId,c);o.push(f)}}))}),await Promise.all(s),r.Pu.H_(i),await async function(l,c){const u=_e(l);try{await u.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>q.forEach(c,h=>q.forEach(h.Es,g=>u.persistence.referenceDelegate.addReference(f,h.targetId,g)).next(()=>q.forEach(h.ds,g=>u.persistence.referenceDelegate.removeReference(f,h.targetId,g)))))}catch(f){if(!yl(f))throw f;oe(yw,"Failed to update sequence numbers: "+f)}for(const f of c){const h=f.targetId;if(!f.fromCache){const g=u.Ms.get(h),w=g.snapshotVersion,y=g.withLastLimboFreeSnapshotVersion(w);u.Ms=u.Ms.insert(h,y)}}}(r.localStore,o))}async function H6(t,e){const n=_e(t);if(!n.currentUser.isEqual(e)){oe(Sw,"User change. New user:",e.toKey());const r=await zA(n.localStore,e);n.currentUser=e,function(o,s){o.mu.forEach(a=>{a.forEach(l=>{l.reject(new ue(Y.CANCELLED,s))})}),o.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Su(n,r.Ls)}}function q6(t,e){const n=_e(t),r=n.Au.get(e);if(r&&r.hu)return Re().add(r.key);{let i=Re();const o=n.Iu.get(e);if(!o)return i;for(const s of o){const a=n.Tu.get(s);i=i.unionWith(a.view.nu)}return i}}function uk(t){const e=_e(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=sk.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=q6.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=U6.bind(null,e),e.Pu.H_=A6.bind(null,e.eventManager),e.Pu.yu=k6.bind(null,e.eventManager),e}function G6(t){const e=_e(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=B6.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=W6.bind(null,e),e}class ch{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=wp(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return XF(this.persistence,new YF,e.initialUser,this.serializer)}Cu(e){return new WA(gw.mi,this.serializer)}Du(e){return new i6}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}ch.provider={build:()=>new ch};class Y6 extends ch{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){We(this.persistence.referenceDelegate instanceof ah,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new DF(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?xn.withCacheSize(this.cacheSizeBytes):xn.DEFAULT;return new WA(r=>ah.mi(r,n),this.serializer)}}class py{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>yb(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=H6.bind(null,this.syncEngine),await S6(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new I6}()}createDatastore(e){const n=wp(e.databaseInfo.databaseId),r=function(o){return new c6(o)}(e.databaseInfo);return function(o,s,a,l){return new h6(o,s,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,o,s,a){return new m6(r,i,o,s,a)}(this.localStore,this.datastore,e.asyncQueue,n=>yb(this.syncEngine,n,0),function(){return fb.v()?new fb:new o6}())}createSyncEngine(e,n){return function(i,o,s,a,l,c,u){const f=new M6(i,o,s,a,l,c);return u&&(f.gu=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const o=_e(i);oe(Es,"RemoteStore shutting down."),o.Ea.add(5),await Cu(o),o.Aa.shutdown(),o.Ra.set("Unknown")}(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}py.provider={build:()=>new py};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dk{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):_i("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const No="FirestoreClient";class K6{constructor(e,n,r,i,o){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=nn.UNAUTHENTICATED,this.clientId=nw.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,async s=>{oe(No,"Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(oe(No,"Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new fi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Tw(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function ug(t,e){t.asyncQueue.verifyOperationInProgress(),oe(No,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await zA(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function xb(t,e){t.asyncQueue.verifyOperationInProgress();const n=await Q6(t);oe(No,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>pb(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>pb(e.remoteStore,i)),t._onlineComponents=e}async function Q6(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){oe(No,"Using user provided OfflineComponentProvider");try{await ug(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===Y.FAILED_PRECONDITION||i.code===Y.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;qa("Error using user provided cache. Falling back to memory cache: "+n),await ug(t,new ch)}}else oe(No,"Using default OfflineComponentProvider"),await ug(t,new Y6(void 0));return t._offlineComponents}async function fk(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(oe(No,"Using user provided OnlineComponentProvider"),await xb(t,t._uninitializedComponentsProvider._online)):(oe(No,"Using default OnlineComponentProvider"),await xb(t,new py))),t._onlineComponents}function X6(t){return fk(t).then(e=>e.syncEngine)}async function hk(t){const e=await fk(t),n=e.eventManager;return n.onListen=O6.bind(null,e.syncEngine),n.onUnlisten=j6.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=L6.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=F6.bind(null,e.syncEngine),n}function J6(t,e,n={}){const r=new fi;return t.asyncQueue.enqueueAndForget(async()=>function(o,s,a,l,c){const u=new dk({next:h=>{u.Nu(),s.enqueueAndForget(()=>tk(o,f));const g=h.docs.has(a);!g&&h.fromCache?c.reject(new ue(Y.UNAVAILABLE,"Failed to get document because the client is offline.")):g&&h.fromCache&&l&&l.source==="server"?c.reject(new ue(Y.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(h)},error:h=>c.reject(h)}),f=new nk(cw(a.path),u,{includeMetadataChanges:!0,qa:!0});return ek(o,f)}(await hk(t),t.asyncQueue,e,n,r)),r.promise}function Z6(t,e,n={}){const r=new fi;return t.asyncQueue.enqueueAndForget(async()=>function(o,s,a,l,c){const u=new dk({next:h=>{u.Nu(),s.enqueueAndForget(()=>tk(o,f)),h.fromCache&&l.source==="server"?c.reject(new ue(Y.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(h)},error:h=>c.reject(h)}),f=new nk(a,u,{includeMetadataChanges:!0,qa:!0});return ek(o,f)}(await hk(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pk(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _b=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mk="firestore.googleapis.com",Eb=!0;class bb{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ue(Y.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=mk,this.ssl=Eb}else this.host=e.host,this.ssl=e.ssl??Eb;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=BA;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<RF)throw new ue(Y.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}m3("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=pk(e.experimentalLongPollingOptions??{}),function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new ue(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new ue(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new ue(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Ep{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new bb({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ue(Y.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ue(Y.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new bb(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new o3;switch(r.type){case"firstParty":return new c3(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ue(Y.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=_b.get(n);r&&(oe("ComponentProvider","Removing Datastore"),_b.delete(n),r.terminate())}(this),Promise.resolve()}}function e$(t,e,n,r={}){var c;t=pr(t,Ep);const i=pl(e),o=t._getSettings(),s={...o,emulatorOptions:t._getEmulatorOptions()},a=`${e}:${n}`;i&&(FI(`https://${a}`),$I("Firestore",!0)),o.host!==mk&&o.host!==a&&qa("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const l={...o,host:a,ssl:i,emulatorOptions:r};if(!ws(l,s)&&(t._setSettings(l),r.mockUserToken)){let u,f;if(typeof r.mockUserToken=="string")u=r.mockUserToken,f=nn.MOCK_USER;else{u=k5(r.mockUserToken,(c=t._app)==null?void 0:c.options.projectId);const h=r.mockUserToken.sub||r.mockUserToken.user_id;if(!h)throw new ue(Y.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new nn(h)}t._authCredentials=new s3(new eA(u,f))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bp{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new bp(this.firestore,e,this._query)}}class At{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new xo(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new At(this.firestore,e,this._key)}toJSON(){return{type:At._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(Eu(n,At._jsonSchema))return new At(e,r||null,new pe(rt.fromString(n.referencePath)))}}At._jsonSchemaVersion="firestore/documentReference/1.0",At._jsonSchema={type:It("string",At._jsonSchemaVersion),referencePath:It("string")};class xo extends bp{constructor(e,n,r){super(e,n,cw(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new At(this.firestore,null,new pe(e))}withConverter(e){return new xo(this.firestore,e,this._path)}}function Jn(t,e,...n){if(t=Tt(t),tA("collection","path",e),t instanceof Ep){const r=rt.fromString(e,...n);return VE(r),new xo(t,null,r)}{if(!(t instanceof At||t instanceof xo))throw new ue(Y.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(rt.fromString(e,...n));return VE(r),new xo(t.firestore,null,r)}}function bi(t,e,...n){if(t=Tt(t),arguments.length===1&&(e=nw.newId()),tA("doc","path",e),t instanceof Ep){const r=rt.fromString(e,...n);return LE(r),new At(t,null,new pe(r))}{if(!(t instanceof At||t instanceof xo))throw new ue(Y.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(rt.fromString(e,...n));return LE(r),new At(t.firestore,t instanceof xo?t.converter:null,new pe(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tb="AsyncQueue";class Cb{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new qA(this,"async_queue_retry"),this._c=()=>{const r=cg();r&&oe(Tb,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=cg();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=cg();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const n=new fi;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!yl(e))throw e;oe(Tb,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const n=this.ac.then(()=>(this.rc=!0,e().catch(r=>{throw this.nc=r,this.rc=!1,_i("INTERNAL UNHANDLED ERROR: ",Sb(r)),r}).then(r=>(this.rc=!1,r))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const i=bw.createAndSchedule(this,e,n,r,o=>this.hc(o));return this.tc.push(i),i}uc(){this.nc&&ge(47125,{Pc:Sb(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function Sb(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class Ms extends Ep{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new Cb,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Cb(e),this._firestoreClient=void 0,await e}}}function t$(t,e){const n=typeof t=="object"?t:zI(),r=typeof t=="string"?t:e||eh,i=ew(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const o=I5("firestore");o&&e$(i,...o)}return i}function Iw(t){if(t._terminated)throw new ue(Y.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||n$(t),t._firestoreClient}function n$(t){var r,i,o;const e=t._freezeSettings(),n=function(a,l,c,u){return new S3(a,l,c,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,pk(u.experimentalLongPollingOptions),u.useFetchStreams,u.isUsingEmulator)}(t._databaseId,((r=t._app)==null?void 0:r.options.appId)||"",t._persistenceKey,e);t._componentsProvider||(i=e.localCache)!=null&&i._offlineComponentProvider&&((o=e.localCache)!=null&&o._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new K6(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&function(a){const l=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Yn(Yt.fromBase64String(e))}catch(n){throw new ue(Y.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Yn(Yt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Yn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Eu(e,Yn._jsonSchema))return Yn.fromBase64String(e.bytes)}}Yn._jsonSchemaVersion="firestore/bytes/1.0",Yn._jsonSchema={type:It("string",Yn._jsonSchemaVersion),bytes:It("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tp{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ue(Y.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new zt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aw{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vr{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ue(Y.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ue(Y.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return ke(this._lat,e._lat)||ke(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Vr._jsonSchemaVersion}}static fromJSON(e){if(Eu(e,Vr._jsonSchema))return new Vr(e.latitude,e.longitude)}}Vr._jsonSchemaVersion="firestore/geoPoint/1.0",Vr._jsonSchema={type:It("string",Vr._jsonSchemaVersion),latitude:It("number"),longitude:It("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jr{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}(this._values,e._values)}toJSON(){return{type:jr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Eu(e,jr._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new jr(e.vectorValues);throw new ue(Y.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}jr._jsonSchemaVersion="firestore/vectorValue/1.0",jr._jsonSchema={type:It("string",jr._jsonSchemaVersion),vectorValues:It("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r$=/^__.*__$/;class i${constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Bo(e,this.data,this.fieldMask,n,this.fieldTransforms):new bu(e,this.data,n,this.fieldTransforms)}}class gk{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Bo(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function vk(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ge(40011,{Ac:t})}}class kw{constructor(e,n,r,i,o,s){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.Rc(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new kw({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var i;const n=(i=this.path)==null?void 0:i.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){var i;const n=(i=this.path)==null?void 0:i.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return uh(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(vk(this.Ac)&&r$.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class o${constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||wp(e)}Cc(e,n,r,i=!1){return new kw({Ac:e,methodName:n,Dc:r,path:zt.emptyPath(),fc:!1,bc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Rw(t){const e=t._freezeSettings(),n=wp(t._databaseId);return new o$(t._databaseId,!!e.ignoreUndefinedProperties,n)}function yk(t,e,n,r,i,o={}){const s=t.Cc(o.merge||o.mergeFields?2:0,e,n,i);Nw("Data must be an object, but it was:",s,r);const a=wk(r,s);let l,c;if(o.merge)l=new Ln(s.fieldMask),c=s.fieldTransforms;else if(o.mergeFields){const u=[];for(const f of o.mergeFields){const h=my(e,f,n);if(!s.contains(h))throw new ue(Y.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);_k(u,h)||u.push(h)}l=new Ln(u),c=s.fieldTransforms.filter(f=>l.covers(f.field))}else l=null,c=s.fieldTransforms;return new i$(new En(a),l,c)}class Cp extends Aw{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Cp}}function s$(t,e,n,r){const i=t.Cc(1,e,n);Nw("Data must be an object, but it was:",i,r);const o=[],s=En.empty();Uo(r,(l,c)=>{const u=Dw(e,l,n);c=Tt(c);const f=i.yc(u);if(c instanceof Cp)o.push(u);else{const h=Sp(c,f);h!=null&&(o.push(u),s.set(u,h))}});const a=new Ln(o);return new gk(s,a,i.fieldTransforms)}function a$(t,e,n,r,i,o){const s=t.Cc(1,e,n),a=[my(e,r,n)],l=[i];if(o.length%2!=0)throw new ue(Y.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<o.length;h+=2)a.push(my(e,o[h])),l.push(o[h+1]);const c=[],u=En.empty();for(let h=a.length-1;h>=0;--h)if(!_k(c,a[h])){const g=a[h];let w=l[h];w=Tt(w);const y=s.yc(g);if(w instanceof Cp)c.push(g);else{const b=Sp(w,y);b!=null&&(c.push(g),u.set(g,b))}}const f=new Ln(c);return new gk(u,f,s.fieldTransforms)}function Sp(t,e){if(xk(t=Tt(t)))return Nw("Unsupported field value:",e,t),wk(t,e);if(t instanceof Aw)return function(r,i){if(!vk(i.Ac))throw i.Sc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Sc(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(r,i){const o=[];let s=0;for(const a of r){let l=Sp(a,i.wc(s));l==null&&(l={nullValue:"NULL_VALUE"}),o.push(l),s++}return{arrayValue:{values:o}}}(t,e)}return function(r,i){if((r=Tt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return K3(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=it.fromDate(r);return{timestampValue:sh(i.serializer,o)}}if(r instanceof it){const o=new it(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:sh(i.serializer,o)}}if(r instanceof Vr)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Yn)return{bytesValue:OA(i.serializer,r._byteString)};if(r instanceof At){const o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.Sc(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:pw(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof jr)return function(s,a){return{mapValue:{fields:{[uA]:{stringValue:fA},[th]:{arrayValue:{values:s.toArray().map(c=>{if(typeof c!="number")throw a.Sc("VectorValues must only contain numeric values.");return uw(a.serializer,c)})}}}}}}(r,i);throw i.Sc(`Unsupported field value: ${rw(r)}`)}(t,e)}function wk(t,e){const n={};return iA(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Uo(t,(r,i)=>{const o=Sp(i,e.mc(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function xk(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof it||t instanceof Vr||t instanceof Yn||t instanceof At||t instanceof Aw||t instanceof jr)}function Nw(t,e,n){if(!xk(n)||!nA(n)){const r=rw(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function my(t,e,n){if((e=Tt(e))instanceof Tp)return e._internalPath;if(typeof e=="string")return Dw(t,e);throw uh("Field path arguments must be of type string or ",t,!1,void 0,n)}const l$=new RegExp("[~\\*/\\[\\]]");function Dw(t,e,n){if(e.search(l$)>=0)throw uh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Tp(...e.split("."))._internalPath}catch{throw uh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function uh(t,e,n,r,i){const o=r&&!r.isEmpty(),s=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(o||s)&&(l+=" (found",o&&(l+=` in field ${r}`),s&&(l+=` in document ${i}`),l+=")"),new ue(Y.INVALID_ARGUMENT,a+t+l)}function _k(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ek{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new At(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new c$(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(bk("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class c$ extends Ek{data(){return super.data()}}function bk(t,e){return typeof e=="string"?Dw(t,e):e instanceof Tp?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u$(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new ue(Y.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class d${convertValue(e,n="none"){switch(ko(e)){case 0:return null;case 1:return e.booleanValue;case 2:return xt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Ao(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw ge(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Uo(e,(i,o)=>{r[i]=this.convertValue(o,n)}),r}convertVectorValue(e){var r,i,o;const n=(o=(i=(r=e.fields)==null?void 0:r[th].arrayValue)==null?void 0:i.values)==null?void 0:o.map(s=>xt(s.doubleValue));return new jr(n)}convertGeoPoint(e){return new Vr(xt(e.latitude),xt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=fp(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Zc(e));default:return null}}convertTimestamp(e){const n=Io(e);return new it(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=rt.fromString(e);We(UA(r),9688,{name:e});const i=new eu(r.get(1),r.get(3)),o=new pe(r.popFirst(5));return i.isEqual(n)||_i(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tk(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class cc{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class hs extends Ek{constructor(e,n,r,i,o,s){super(e,n,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new uf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(bk("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ue(Y.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=hs._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}hs._jsonSchemaVersion="firestore/documentSnapshot/1.0",hs._jsonSchema={type:It("string",hs._jsonSchemaVersion),bundleSource:It("string","DocumentSnapshot"),bundleName:It("string"),bundle:It("string")};class uf extends hs{data(e={}){return super.data(e)}}class ka{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new cc(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new uf(this._firestore,this._userDataWriter,r.key,r,new cc(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ue(Y.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>{const l=new uf(i._firestore,i._userDataWriter,a.doc.key,a.doc,new cc(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>o||a.type!==3).map(a=>{const l=new uf(i._firestore,i._userDataWriter,a.doc.key,a.doc,new cc(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let c=-1,u=-1;return a.type!==0&&(c=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),a.type!==1&&(s=s.add(a.doc),u=s.indexOf(a.doc.key)),{type:f$(a.type),doc:l,oldIndex:c,newIndex:u}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ue(Y.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=ka._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=nw.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],i=[];return this.docs.forEach(o=>{o._document!==null&&(n.push(o._document),r.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),i.push(o.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function f$(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ge(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pp(t){t=pr(t,At);const e=pr(t.firestore,Ms);return J6(Iw(e),t._key).then(n=>p$(e,t,n))}ka._jsonSchemaVersion="firestore/querySnapshot/1.0",ka._jsonSchema={type:It("string",ka._jsonSchemaVersion),bundleSource:It("string","QuerySnapshot"),bundleName:It("string"),bundle:It("string")};class Ck extends d${constructor(e){super(),this.firestore=e}convertBytes(e){return new Yn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new At(this.firestore,null,n)}}function Ti(t){t=pr(t,bp);const e=pr(t.firestore,Ms),n=Iw(e),r=new Ck(e);return u$(t._query),Z6(n,t._query).then(i=>new ka(e,r,t,i))}function h$(t,e,n){t=pr(t,At);const r=pr(t.firestore,Ms),i=Tk(t.converter,e,n);return Ip(r,[yk(Rw(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,Xn.none())])}function Mw(t,e,n,...r){t=pr(t,At);const i=pr(t.firestore,Ms),o=Rw(i);let s;return s=typeof(e=Tt(e))=="string"||e instanceof Tp?a$(o,"updateDoc",t._key,e,n,r):s$(o,"updateDoc",t._key,e),Ip(i,[s.toMutation(t._key,Xn.exists(!0))])}function gy(t){return Ip(pr(t.firestore,Ms),[new dw(t._key,Xn.none())])}function vy(t,e){const n=pr(t.firestore,Ms),r=bi(t),i=Tk(t.converter,e);return Ip(n,[yk(Rw(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Xn.exists(!1))]).then(()=>r)}function Ip(t,e){return function(r,i){const o=new fi;return r.asyncQueue.enqueueAndForget(async()=>$6(await X6(r),i,o)),o.promise}(Iw(t),e)}function p$(t,e,n){const r=n.docs.get(e._key),i=new Ck(t);return new hs(t,i,e._key,r,new cc(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){gl=i})(ml),Ha(new xs("firestore",(r,{instanceIdentifier:i,options:o})=>{const s=r.getProvider("app").getImmediate(),a=new Ms(new a3(r.getProvider("auth-internal")),new u3(s,r.getProvider("app-check-internal")),function(c,u){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new ue(Y.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new eu(c.options.projectId,u)}(s,i),s);return o={useFetchStreams:n,...o},a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),yo(NE,DE,e),yo(NE,DE,"esm2020")})();function Sk(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const m$=Sk,Pk=new xu("auth","Firebase",Sk());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dh=new J0("@firebase/auth");function g$(t,...e){dh.logLevel<=Ae.WARN&&dh.warn(`Auth (${ml}): ${t}`,...e)}function df(t,...e){dh.logLevel<=Ae.ERROR&&dh.error(`Auth (${ml}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mr(t,...e){throw Ow(t,...e)}function Fr(t,...e){return Ow(t,...e)}function Ik(t,e,n){const r={...m$(),[e]:n};return new xu("auth","Firebase",r).create(e,{appName:t.name})}function $r(t){return Ik(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Ow(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return Pk.create(t,...e)}function he(t,e,...n){if(!t)throw Ow(e,...n)}function li(t){const e="INTERNAL ASSERTION FAILED: "+t;throw df(e),new Error(e)}function Ci(t,e){t||li(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yy(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function v$(){return Pb()==="http:"||Pb()==="https:"}function Pb(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y$(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(v$()||L5()||"connection"in navigator)?navigator.onLine:!0}function w$(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pu{constructor(e,n){this.shortDelay=e,this.longDelay=n,Ci(n>e,"Short delay should be less than long delay!"),this.isMobile=D5()||V5()}get(){return y$()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lw(t,e){Ci(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ak{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;li("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;li("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;li("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x$={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _$=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],E$=new Pu(3e4,6e4);function Oi(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function _r(t,e,n,r,i={}){return kk(t,i,async()=>{let o={},s={};r&&(e==="GET"?s=r:o={body:JSON.stringify(r)});const a=_u({key:t.config.apiKey,...s}).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const c={method:e,headers:l,...o};return O5()||(c.referrerPolicy="no-referrer"),t.emulatorConfig&&pl(t.emulatorConfig.host)&&(c.credentials="include"),Ak.fetch()(await Rk(t,t.config.apiHost,n,a),c)})}async function kk(t,e,n){t._canInitEmulator=!1;const r={...x$,...e};try{const i=new T$(t),o=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const s=await o.json();if("needConfirmation"in s)throw Ad(t,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{const a=o.ok?s.errorMessage:s.error.message,[l,c]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Ad(t,"credential-already-in-use",s);if(l==="EMAIL_EXISTS")throw Ad(t,"email-already-in-use",s);if(l==="USER_DISABLED")throw Ad(t,"user-disabled",s);const u=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw Ik(t,u,c);mr(t,u)}}catch(i){if(i instanceof Mi)throw i;mr(t,"network-request-failed",{message:String(i)})}}async function Iu(t,e,n,r,i={}){const o=await _r(t,e,n,r,i);return"mfaPendingCredential"in o&&mr(t,"multi-factor-auth-required",{_serverResponse:o}),o}async function Rk(t,e,n,r){const i=`${e}${n}?${r}`,o=t,s=o.config.emulator?Lw(t.config,i):`${t.config.apiScheme}://${i}`;return _$.includes(n)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(s).toString():s}function b$(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class T${clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Fr(this.auth,"network-request-failed")),E$.get())})}}function Ad(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Fr(t,e,r);return i.customData._tokenResponse=n,i}function Ib(t){return t!==void 0&&t.enterprise!==void 0}class C${constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return b$(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function S$(t,e){return _r(t,"GET","/v2/recaptchaConfig",Oi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function P$(t,e){return _r(t,"POST","/v1/accounts:delete",e)}async function fh(t,e){return _r(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cc(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function I$(t,e=!1){const n=Tt(t),r=await n.getIdToken(e),i=Vw(r);he(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const o=typeof i.firebase=="object"?i.firebase:void 0,s=o==null?void 0:o.sign_in_provider;return{claims:i,token:r,authTime:Cc(dg(i.auth_time)),issuedAtTime:Cc(dg(i.iat)),expirationTime:Cc(dg(i.exp)),signInProvider:s||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function dg(t){return Number(t)*1e3}function Vw(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return df("JWT malformed, contained fewer than 3 sections"),null;try{const i=OI(n);return i?JSON.parse(i):(df("Failed to decode base64 JWT payload"),null)}catch(i){return df("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function Ab(t){const e=Vw(t);return he(e,"internal-error"),he(typeof e.exp<"u","internal-error"),he(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bs(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Mi&&A$(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function A$({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k${constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wy{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Cc(this.lastLoginAt),this.creationTime=Cc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hh(t){var f;const e=t.auth,n=await t.getIdToken(),r=await bs(t,fh(e,{idToken:n}));he(r==null?void 0:r.users.length,e,"internal-error");const i=r.users[0];t._notifyReloadListener(i);const o=(f=i.providerUserInfo)!=null&&f.length?Nk(i.providerUserInfo):[],s=N$(t.providerData,o),a=t.isAnonymous,l=!(t.email&&i.passwordHash)&&!(s!=null&&s.length),c=a?l:!1,u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new wy(i.createdAt,i.lastLoginAt),isAnonymous:c};Object.assign(t,u)}async function R$(t){const e=Tt(t);await hh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function N$(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function Nk(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function D$(t,e){const n=await kk(t,{},async()=>{const r=_u({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,s=await Rk(t,i,"/v1/token",`key=${o}`),a=await t._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";const l={method:"POST",headers:a,body:r};return t.emulatorConfig&&pl(t.emulatorConfig.host)&&(l.credentials="include"),Ak.fetch()(s,l)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function M$(t,e){return _r(t,"POST","/v2/accounts:revokeToken",Oi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ra{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){he(e.idToken,"internal-error"),he(typeof e.idToken<"u","internal-error"),he(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Ab(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){he(e.length!==0,"internal-error");const n=Ab(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(he(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:o}=await D$(e,n);this.updateTokensAndExpiration(r,i,Number(o))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:o}=n,s=new Ra;return r&&(he(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(he(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&(he(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ra,this.toJSON())}_performRefresh(){return li("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ui(t,e){he(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class ur{constructor({uid:e,auth:n,stsTokenManager:r,...i}){this.providerId="firebase",this.proactiveRefresh=new k$(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new wy(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await bs(this,this.stsTokenManager.getToken(this.auth,e));return he(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return I$(this,e)}reload(){return R$(this)}_assign(e){this!==e&&(he(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new ur({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){he(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await hh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Mn(this.auth.app))return Promise.reject($r(this.auth));const e=await this.getIdToken();return await bs(this,P$(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,i=n.email??void 0,o=n.phoneNumber??void 0,s=n.photoURL??void 0,a=n.tenantId??void 0,l=n._redirectEventId??void 0,c=n.createdAt??void 0,u=n.lastLoginAt??void 0,{uid:f,emailVerified:h,isAnonymous:g,providerData:w,stsTokenManager:y}=n;he(f&&y,e,"internal-error");const b=Ra.fromJSON(this.name,y);he(typeof f=="string",e,"internal-error"),Ui(r,e.name),Ui(i,e.name),he(typeof h=="boolean",e,"internal-error"),he(typeof g=="boolean",e,"internal-error"),Ui(o,e.name),Ui(s,e.name),Ui(a,e.name),Ui(l,e.name),Ui(c,e.name),Ui(u,e.name);const x=new ur({uid:f,auth:e,email:i,emailVerified:h,displayName:r,isAnonymous:g,photoURL:s,phoneNumber:o,tenantId:a,stsTokenManager:b,createdAt:c,lastLoginAt:u});return w&&Array.isArray(w)&&(x.providerData=w.map(v=>({...v}))),l&&(x._redirectEventId=l),x}static async _fromIdTokenResponse(e,n,r=!1){const i=new Ra;i.updateFromServerResponse(n);const o=new ur({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await hh(o),o}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];he(i.localId!==void 0,"internal-error");const o=i.providerUserInfo!==void 0?Nk(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!(o!=null&&o.length),a=new Ra;a.updateFromIdToken(r);const l=new ur({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:s}),c={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new wy(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(o!=null&&o.length)};return Object.assign(l,c),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kb=new Map;function ci(t){Ci(t instanceof Function,"Expected a class definition");let e=kb.get(t);return e?(Ci(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,kb.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dk{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}Dk.type="NONE";const Rb=Dk;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ff(t,e,n){return`firebase:${t}:${e}:${n}`}class Na{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:o}=this.auth;this.fullUserKey=ff(this.userKey,i.apiKey,o),this.fullPersistenceKey=ff("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await fh(this.auth,{idToken:e}).catch(()=>{});return n?ur._fromGetAccountInfoResponse(this.auth,n,e):null}return ur._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Na(ci(Rb),e,r);const i=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let o=i[0]||ci(Rb);const s=ff(r,e.config.apiKey,e.name);let a=null;for(const c of n)try{const u=await c._get(s);if(u){let f;if(typeof u=="string"){const h=await fh(e,{idToken:u}).catch(()=>{});if(!h)break;f=await ur._fromGetAccountInfoResponse(e,h,u)}else f=ur._fromJSON(e,u);c!==o&&(a=f),o=c;break}}catch{}const l=i.filter(c=>c._shouldAllowMigration);return!o._shouldAllowMigration||!l.length?new Na(o,e,r):(o=l[0],a&&await o._set(s,a.toJSON()),await Promise.all(n.map(async c=>{if(c!==o)try{await c._remove(s)}catch{}})),new Na(o,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nb(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Vk(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Mk(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Fk(e))return"Blackberry";if($k(e))return"Webos";if(Ok(e))return"Safari";if((e.includes("chrome/")||Lk(e))&&!e.includes("edge/"))return"Chrome";if(jk(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function Mk(t=ln()){return/firefox\//i.test(t)}function Ok(t=ln()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Lk(t=ln()){return/crios\//i.test(t)}function Vk(t=ln()){return/iemobile/i.test(t)}function jk(t=ln()){return/android/i.test(t)}function Fk(t=ln()){return/blackberry/i.test(t)}function $k(t=ln()){return/webos/i.test(t)}function jw(t=ln()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function O$(t=ln()){var e;return jw(t)&&!!((e=window.navigator)!=null&&e.standalone)}function L$(){return j5()&&document.documentMode===10}function Uk(t=ln()){return jw(t)||jk(t)||$k(t)||Fk(t)||/windows phone/i.test(t)||Vk(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bk(t,e=[]){let n;switch(t){case"Browser":n=Nb(ln());break;case"Worker":n=`${Nb(ln())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${ml}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V${constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=o=>new Promise((s,a)=>{try{const l=e(o);s(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function j$(t,e={}){return _r(t,"GET","/v2/passwordPolicy",Oi(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F$=6;class $${constructor(e){var r;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??F$,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((r=e.allowedNonAlphanumericCharacters)==null?void 0:r.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U${constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Db(this),this.idTokenSubscription=new Db(this),this.beforeStateQueue=new V$(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Pk,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=ci(n)),this._initializationPromise=this.queue(async()=>{var r,i,o;if(!this._deleted&&(this.persistenceManager=await Na.create(this,e),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((i=this._popupRedirectResolver)!=null&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((o=this.currentUser)==null?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await fh(this,{idToken:e}),r=await ur._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var o;if(Mn(this.app)){const s=this.app.settings.authIdToken;return s?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(a,a))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const s=(o=this.redirectUser)==null?void 0:o._redirectEventId,a=r==null?void 0:r._redirectEventId,l=await this.tryRedirectSignIn(e);(!s||s===a)&&(l!=null&&l.user)&&(r=l.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(s){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return he(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await hh(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=w$()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Mn(this.app))return Promise.reject($r(this));const n=e?Tt(e):null;return n&&he(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&he(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Mn(this.app)?Promise.reject($r(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Mn(this.app)?Promise.reject($r(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ci(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await j$(this),n=new $$(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new xu("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await M$(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&ci(e)||this._popupRedirectResolver;he(n,this,"argument-error"),this.redirectPersistenceManager=await Na.create(this,[ci(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const o=typeof n=="function"?n:n.next.bind(n);let s=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(he(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{s=!0,l()}}else{const l=e.addObserver(n);return()=>{s=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return he(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Bk(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var i;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((i=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:i.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){var n;if(Mn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&g$(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function Wo(t){return Tt(t)}class Db{constructor(e){this.auth=e,this.observer=null,this.addObserver=q5(n=>this.observer=n)}get next(){return he(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ap={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function B$(t){Ap=t}function Wk(t){return Ap.loadJS(t)}function W$(){return Ap.recaptchaEnterpriseScript}function z$(){return Ap.gapiScript}function H$(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class q${constructor(){this.enterprise=new G$}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class G${ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const Y$="recaptcha-enterprise",zk="NO_RECAPTCHA";class K${constructor(e){this.type=Y$,this.auth=Wo(e)}async verify(e="verify",n=!1){async function r(o){if(!n){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(s,a)=>{S$(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const c=new C$(l);return o.tenantId==null?o._agentRecaptchaConfig=c:o._tenantRecaptchaConfigs[o.tenantId]=c,s(c.siteKey)}}).catch(l=>{a(l)})})}function i(o,s,a){const l=window.grecaptcha;Ib(l)?l.enterprise.ready(()=>{l.enterprise.execute(o,{action:e}).then(c=>{s(c)}).catch(()=>{s(zk)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new q$().execute("siteKey",{action:"verify"}):new Promise((o,s)=>{r(this.auth).then(a=>{if(!n&&Ib(window.grecaptcha))i(a,o,s);else{if(typeof window>"u"){s(new Error("RecaptchaVerifier is only supported in browser"));return}let l=W$();l.length!==0&&(l+=a),Wk(l).then(()=>{i(a,o,s)}).catch(c=>{s(c)})}}).catch(a=>{s(a)})})}}async function Yl(t,e,n,r=!1,i=!1){const o=new K$(t);let s;if(i)s=zk;else try{s=await o.verify(n)}catch{s=await o.verify(n,!0)}const a={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in a){const l=a.phoneEnrollmentInfo.phoneNumber,c=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:l,recaptchaToken:c,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){const l=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:l,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return r?Object.assign(a,{captchaResp:s}):Object.assign(a,{captchaResponse:s}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function ph(t,e,n,r,i){var o,s;if(i==="EMAIL_PASSWORD_PROVIDER")if((o=t._getRecaptchaConfig())!=null&&o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const a=await Yl(t,e,n,n==="getOobCode");return r(t,a)}else return r(t,e).catch(async a=>{if(a.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const l=await Yl(t,e,n,n==="getOobCode");return r(t,l)}else return Promise.reject(a)});else if(i==="PHONE_PROVIDER")if((s=t._getRecaptchaConfig())!=null&&s.isProviderEnabled("PHONE_PROVIDER")){const a=await Yl(t,e,n);return r(t,a).catch(async l=>{var c;if(((c=t._getRecaptchaConfig())==null?void 0:c.getProviderEnforcementState("PHONE_PROVIDER"))==="AUDIT"&&(l.code==="auth/missing-recaptcha-token"||l.code==="auth/invalid-app-credential")){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${n} flow.`);const u=await Yl(t,e,n,!1,!0);return r(t,u)}return Promise.reject(l)})}else{const a=await Yl(t,e,n,!1,!0);return r(t,a)}else return Promise.reject(i+" provider is not supported.")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q$(t,e){const n=ew(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),o=n.getOptions();if(ws(o,e??{}))return i;mr(i,"already-initialized")}return n.initialize({options:e})}function X$(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(ci);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function J$(t,e,n){const r=Wo(t);he(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!(n!=null&&n.disableWarnings),o=Hk(e),{host:s,port:a}=Z$(e),l=a===null?"":`:${a}`,c={url:`${o}//${s}${l}/`},u=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){he(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),he(ws(c,r.config.emulator)&&ws(u,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=c,r.emulatorConfig=u,r.settings.appVerificationDisabledForTesting=!0,pl(s)?(FI(`${o}//${s}${l}`),$I("Auth",!0)):i||e9()}function Hk(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function Z$(t){const e=Hk(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const o=i[1];return{host:o,port:Mb(r.substr(o.length+1))}}else{const[o,s]=r.split(":");return{host:o,port:Mb(s)}}}function Mb(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function e9(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fw{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return li("not implemented")}_getIdTokenResponse(e){return li("not implemented")}_linkToIdToken(e,n){return li("not implemented")}_getReauthenticationResolver(e){return li("not implemented")}}async function t9(t,e){return _r(t,"POST","/v1/accounts:update",e)}async function n9(t,e){return _r(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function r9(t,e){return Iu(t,"POST","/v1/accounts:signInWithPassword",Oi(t,e))}async function i9(t,e){return _r(t,"POST","/v1/accounts:sendOobCode",Oi(t,e))}async function o9(t,e){return i9(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function s9(t,e){return Iu(t,"POST","/v1/accounts:signInWithEmailLink",Oi(t,e))}async function a9(t,e){return Iu(t,"POST","/v1/accounts:signInWithEmailLink",Oi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iu extends Fw{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new iu(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new iu(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return ph(e,n,"signInWithPassword",r9,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return s9(e,{email:this._email,oobCode:this._password});default:mr(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return ph(e,r,"signUpPassword",n9,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return a9(e,{idToken:n,email:this._email,oobCode:this._password});default:mr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Da(t,e){return Iu(t,"POST","/v1/accounts:signInWithIdp",Oi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l9="http://localhost";class Ts extends Fw{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Ts(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):mr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i,...o}=n;if(!r||!i)return null;const s=new Ts(r,i);return s.idToken=o.idToken||void 0,s.accessToken=o.accessToken||void 0,s.secret=o.secret,s.nonce=o.nonce,s.pendingToken=o.pendingToken||null,s}_getIdTokenResponse(e){const n=this.buildRequest();return Da(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Da(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Da(e,n)}buildRequest(){const e={requestUri:l9,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=_u(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c9(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function u9(t){const e=ic(oc(t)).link,n=e?ic(oc(e)).deep_link_id:null,r=ic(oc(t)).deep_link_id;return(r?ic(oc(r)).link:null)||r||n||e||t}class $w{constructor(e){const n=ic(oc(e)),r=n.apiKey??null,i=n.oobCode??null,o=c9(n.mode??null);he(r&&i&&o,"argument-error"),this.apiKey=r,this.operation=o,this.code=i,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=u9(e);try{return new $w(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xl{constructor(){this.providerId=xl.PROVIDER_ID}static credential(e,n){return iu._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=$w.parseLink(n);return he(r,"argument-error"),iu._fromEmailAndCode(e,r.code,r.tenantId)}}xl.PROVIDER_ID="password";xl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";xl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qk{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Au extends qk{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ji extends Au{constructor(){super("facebook.com")}static credential(e){return Ts._fromParams({providerId:Ji.PROVIDER_ID,signInMethod:Ji.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ji.credentialFromTaggedObject(e)}static credentialFromError(e){return Ji.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ji.credential(e.oauthAccessToken)}catch{return null}}}Ji.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ji.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zi extends Au{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Ts._fromParams({providerId:Zi.PROVIDER_ID,signInMethod:Zi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Zi.credentialFromTaggedObject(e)}static credentialFromError(e){return Zi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Zi.credential(n,r)}catch{return null}}}Zi.GOOGLE_SIGN_IN_METHOD="google.com";Zi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eo extends Au{constructor(){super("github.com")}static credential(e){return Ts._fromParams({providerId:eo.PROVIDER_ID,signInMethod:eo.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return eo.credentialFromTaggedObject(e)}static credentialFromError(e){return eo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return eo.credential(e.oauthAccessToken)}catch{return null}}}eo.GITHUB_SIGN_IN_METHOD="github.com";eo.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class to extends Au{constructor(){super("twitter.com")}static credential(e,n){return Ts._fromParams({providerId:to.PROVIDER_ID,signInMethod:to.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return to.credentialFromTaggedObject(e)}static credentialFromError(e){return to.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return to.credential(n,r)}catch{return null}}}to.TWITTER_SIGN_IN_METHOD="twitter.com";to.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function d9(t,e){return Iu(t,"POST","/v1/accounts:signUp",Oi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cs{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const o=await ur._fromIdTokenResponse(e,r,i),s=Ob(r);return new Cs({user:o,providerId:s,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=Ob(r);return new Cs({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function Ob(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mh extends Mi{constructor(e,n,r,i){super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,mh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new mh(e,n,r,i)}}function Gk(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?mh._fromErrorAndOperation(t,o,e,r):o})}async function f9(t,e,n=!1){const r=await bs(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Cs._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function h9(t,e,n=!1){const{auth:r}=t;if(Mn(r.app))return Promise.reject($r(r));const i="reauthenticate";try{const o=await bs(t,Gk(r,i,e,t),n);he(o.idToken,r,"internal-error");const s=Vw(o.idToken);he(s,r,"internal-error");const{sub:a}=s;return he(t.uid===a,r,"user-mismatch"),Cs._forOperation(t,i,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&mr(r,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yk(t,e,n=!1){if(Mn(t.app))return Promise.reject($r(t));const r="signIn",i=await Gk(t,r,e),o=await Cs._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(o.user),o}async function p9(t,e){return Yk(Wo(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m9(t,e,n){var r;he(((r=n.url)==null?void 0:r.length)>0,t,"invalid-continue-uri"),he(typeof n.dynamicLinkDomain>"u"||n.dynamicLinkDomain.length>0,t,"invalid-dynamic-link-domain"),he(typeof n.linkDomain>"u"||n.linkDomain.length>0,t,"invalid-hosting-link-domain"),e.continueUrl=n.url,e.dynamicLinkDomain=n.dynamicLinkDomain,e.linkDomain=n.linkDomain,e.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(he(n.iOS.bundleId.length>0,t,"missing-ios-bundle-id"),e.iOSBundleId=n.iOS.bundleId),n.android&&(he(n.android.packageName.length>0,t,"missing-android-pkg-name"),e.androidInstallApp=n.android.installApp,e.androidMinimumVersionCode=n.android.minimumVersion,e.androidPackageName=n.android.packageName)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Kk(t){const e=Wo(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function g9(t,e,n){const r=Wo(t),i={requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"};n&&m9(r,i,n),await ph(r,i,"getOobCode",o9,"EMAIL_PASSWORD_PROVIDER")}async function v9(t,e,n){if(Mn(t.app))return Promise.reject($r(t));const r=Wo(t),s=await ph(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",d9,"EMAIL_PASSWORD_PROVIDER").catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&Kk(t),l}),a=await Cs._fromIdTokenResponse(r,"signIn",s);return await r._updateCurrentUser(a.user),a}function y9(t,e,n){return Mn(t.app)?Promise.reject($r(t)):p9(Tt(t),xl.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&Kk(t),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function w9(t,e){return _r(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function x9(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const r=Tt(t),o={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},s=await bs(r,w9(r.auth,o));r.displayName=s.displayName||null,r.photoURL=s.photoUrl||null;const a=r.providerData.find(({providerId:l})=>l==="password");a&&(a.displayName=r.displayName,a.photoURL=r.photoURL),await r._updateTokensIfNecessary(s)}function _9(t,e){const n=Tt(t);return Mn(n.auth.app)?Promise.reject($r(n.auth)):Qk(n,e,null)}function E9(t,e){return Qk(Tt(t),null,e)}async function Qk(t,e,n){const{auth:r}=t,o={idToken:await t.getIdToken(),returnSecureToken:!0};e&&(o.email=e),n&&(o.password=n);const s=await bs(t,t9(r,o));await t._updateTokensIfNecessary(s,!0)}function b9(t,e,n,r){return Tt(t).onIdTokenChanged(e,n,r)}function T9(t,e,n){return Tt(t).beforeAuthStateChanged(e,n)}function C9(t,e,n,r){return Tt(t).onAuthStateChanged(e,n,r)}function S9(t){return Tt(t).signOut()}async function P9(t){return Tt(t).delete()}const gh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xk{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(gh,"1"),this.storage.removeItem(gh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I9=1e3,A9=10;class Jk extends Xk{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Uk(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((s,a,l)=>{this.notifyListeners(s,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const s=this.storage.getItem(r);!n&&this.localCache[r]===s||this.notifyListeners(r,s)},o=this.storage.getItem(r);L$()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,A9):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},I9)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}Jk.type="LOCAL";const k9=Jk;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zk extends Xk{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}Zk.type="SESSION";const eR=Zk;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R9(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kp{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new kp(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:o}=n.data,s=this.handlersMap[i];if(!(s!=null&&s.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(s).map(async c=>c(n.origin,o)),l=await R9(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}kp.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uw(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N9{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,s;return new Promise((a,l)=>{const c=Uw("",20);i.port1.start();const u=setTimeout(()=>{l(new Error("unsupported_event"))},r);s={messageChannel:i,onMessage(f){const h=f;if(h.data.eventId===c)switch(h.data.status){case"ack":clearTimeout(u),o=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),a(h.data.response);break;default:clearTimeout(u),clearTimeout(o),l(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ur(){return window}function D9(t){Ur().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tR(){return typeof Ur().WorkerGlobalScope<"u"&&typeof Ur().importScripts=="function"}async function M9(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function O9(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function L9(){return tR()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nR="firebaseLocalStorageDb",V9=1,vh="firebaseLocalStorage",rR="fbase_key";class ku{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Rp(t,e){return t.transaction([vh],e?"readwrite":"readonly").objectStore(vh)}function j9(){const t=indexedDB.deleteDatabase(nR);return new ku(t).toPromise()}function xy(){const t=indexedDB.open(nR,V9);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(vh,{keyPath:rR})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(vh)?e(r):(r.close(),await j9(),e(await xy()))})})}async function Lb(t,e,n){const r=Rp(t,!0).put({[rR]:e,value:n});return new ku(r).toPromise()}async function F9(t,e){const n=Rp(t,!1).get(e),r=await new ku(n).toPromise();return r===void 0?null:r.value}function Vb(t,e){const n=Rp(t,!0).delete(e);return new ku(n).toPromise()}const $9=800,U9=3;class iR{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await xy(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>U9)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return tR()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=kp._getInstance(L9()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,r;if(this.activeServiceWorker=await M9(),!this.activeServiceWorker)return;this.sender=new N9(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(r=e[0])!=null&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||O9()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await xy();return await Lb(e,gh,"1"),await Vb(e,gh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>Lb(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>F9(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Vb(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const o=Rp(i,!1).getAll();return new ku(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:o}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(o)&&(this.notifyListeners(i,o),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),$9)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}iR.type="LOCAL";const B9=iR;new Pu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W9(t,e){return e?ci(e):(he(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bw extends Fw{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Da(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Da(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Da(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function z9(t){return Yk(t.auth,new Bw(t),t.bypassAuthState)}function H9(t){const{auth:e,user:n}=t;return he(n,e,"internal-error"),h9(n,new Bw(t),t.bypassAuthState)}async function q9(t){const{auth:e,user:n}=t;return he(n,e,"internal-error"),f9(n,new Bw(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oR{constructor(e,n,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:o,error:s,type:a}=e;if(s){this.reject(s);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return z9;case"linkViaPopup":case"linkViaRedirect":return q9;case"reauthViaPopup":case"reauthViaRedirect":return H9;default:mr(this.auth,"internal-error")}}resolve(e){Ci(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ci(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G9=new Pu(2e3,1e4);class ga extends oR{constructor(e,n,r,i,o){super(e,n,i,o),this.provider=r,this.authWindow=null,this.pollId=null,ga.currentPopupAction&&ga.currentPopupAction.cancel(),ga.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return he(e,this.auth,"internal-error"),e}async onExecution(){Ci(this.filter.length===1,"Popup operations only handle one event");const e=Uw();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Fr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(Fr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ga.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if((r=(n=this.authWindow)==null?void 0:n.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Fr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,G9.get())};e()}}ga.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y9="pendingRedirect",hf=new Map;class K9 extends oR{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=hf.get(this.auth._key());if(!e){try{const r=await Q9(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}hf.set(this.auth._key(),e)}return this.bypassAuthState||hf.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Q9(t,e){const n=Z9(e),r=J9(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function X9(t,e){hf.set(t._key(),e)}function J9(t){return ci(t._redirectPersistence)}function Z9(t){return ff(Y9,t.config.apiKey,t.name)}async function eU(t,e,n=!1){if(Mn(t.app))return Promise.reject($r(t));const r=Wo(t),i=W9(r,e),s=await new K9(r,i,n).execute();return s&&!n&&(delete s.user._redirectEventId,await r._persistUserIfCurrent(s.user),await r._setRedirectUser(null,e)),s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tU=10*60*1e3;class nU{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!rU(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!sR(e)){const i=((r=e.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";n.onError(Fr(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=tU&&this.cachedEventUids.clear(),this.cachedEventUids.has(jb(e))}saveEventToCache(e){this.cachedEventUids.add(jb(e)),this.lastProcessedEventTime=Date.now()}}function jb(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function sR({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function rU(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return sR(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iU(t,e={}){return _r(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oU=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,sU=/^https?/;async function aU(t){if(t.config.emulator)return;const{authorizedDomains:e}=await iU(t);for(const n of e)try{if(lU(n))return}catch{}mr(t,"unauthorized-domain")}function lU(t){const e=yy(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const s=new URL(t);return s.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&s.hostname===r}if(!sU.test(n))return!1;if(oU.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cU=new Pu(3e4,6e4);function Fb(){const t=Ur().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function uU(t){return new Promise((e,n)=>{var i,o,s;function r(){Fb(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Fb(),n(Fr(t,"network-request-failed"))},timeout:cU.get()})}if((o=(i=Ur().gapi)==null?void 0:i.iframes)!=null&&o.Iframe)e(gapi.iframes.getContext());else if((s=Ur().gapi)!=null&&s.load)r();else{const a=H$("iframefcb");return Ur()[a]=()=>{gapi.load?r():n(Fr(t,"network-request-failed"))},Wk(`${z$()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw pf=null,e})}let pf=null;function dU(t){return pf=pf||uU(t),pf}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fU=new Pu(5e3,15e3),hU="__/auth/iframe",pU="emulator/auth/iframe",mU={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},gU=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function vU(t){const e=t.config;he(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Lw(e,pU):`https://${t.config.authDomain}/${hU}`,r={apiKey:e.apiKey,appName:t.name,v:ml},i=gU.get(t.config.apiHost);i&&(r.eid=i);const o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${_u(r).slice(1)}`}async function yU(t){const e=await dU(t),n=Ur().gapi;return he(n,t,"internal-error"),e.open({where:document.body,url:vU(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:mU,dontclear:!0},r=>new Promise(async(i,o)=>{await r.restyle({setHideOnLeave:!1});const s=Fr(t,"network-request-failed"),a=Ur().setTimeout(()=>{o(s)},fU.get());function l(){Ur().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{o(s)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wU={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},xU=500,_U=600,EU="_blank",bU="http://localhost";class $b{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function TU(t,e,n,r=xU,i=_U){const o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l={...wU,width:r.toString(),height:i.toString(),top:o,left:s},c=ln().toLowerCase();n&&(a=Lk(c)?EU:n),Mk(c)&&(e=e||bU,l.scrollbars="yes");const u=Object.entries(l).reduce((h,[g,w])=>`${h}${g}=${w},`,"");if(O$(c)&&a!=="_self")return CU(e||"",a),new $b(null);const f=window.open(e||"",a,u);he(f,t,"popup-blocked");try{f.focus()}catch{}return new $b(f)}function CU(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SU="__/auth/handler",PU="emulator/auth/handler",IU=encodeURIComponent("fac");async function Ub(t,e,n,r,i,o){he(t.config.authDomain,t,"auth-domain-config-required"),he(t.config.apiKey,t,"invalid-api-key");const s={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:ml,eventId:i};if(e instanceof qk){e.setDefaultLanguage(t.languageCode),s.providerId=e.providerId||"",H5(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(const[u,f]of Object.entries(o||{}))s[u]=f}if(e instanceof Au){const u=e.getScopes().filter(f=>f!=="");u.length>0&&(s.scopes=u.join(","))}t.tenantId&&(s.tid=t.tenantId);const a=s;for(const u of Object.keys(a))a[u]===void 0&&delete a[u];const l=await t._getAppCheckToken(),c=l?`#${IU}=${encodeURIComponent(l)}`:"";return`${AU(t)}?${_u(a).slice(1)}${c}`}function AU({config:t}){return t.emulator?Lw(t,PU):`https://${t.authDomain}/${SU}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fg="webStorageSupport";class kU{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=eR,this._completeRedirectFn=eU,this._overrideRedirectResult=X9}async _openPopup(e,n,r,i){var s;Ci((s=this.eventManagers[e._key()])==null?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await Ub(e,n,r,yy(),i);return TU(e,o,Uw())}async _openRedirect(e,n,r,i){await this._originValidation(e);const o=await Ub(e,n,r,yy(),i);return D9(o),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:o}=this.eventManagers[n];return i?Promise.resolve(i):(Ci(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await yU(e),r=new nU(e);return n.register("authEvent",i=>(he(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(fg,{type:fg},i=>{var s;const o=(s=i==null?void 0:i[0])==null?void 0:s[fg];o!==void 0&&n(!!o),mr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=aU(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return Uk()||Ok()||jw()}}const RU=kU;var Bb="@firebase/auth",Wb="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NU{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){he(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DU(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function MU(t){Ha(new xs("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;he(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:s,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Bk(t)},c=new U$(r,i,o,l);return X$(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Ha(new xs("auth-internal",e=>{const n=Wo(e.getProvider("auth").getImmediate());return(r=>new NU(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),yo(Bb,Wb,DU(t)),yo(Bb,Wb,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OU=5*60,LU=jI("authIdTokenMaxAge")||OU;let zb=null;const VU=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>LU)return;const i=n==null?void 0:n.token;zb!==i&&(zb=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function jU(t=zI()){const e=ew(t,"auth");if(e.isInitialized())return e.getImmediate();const n=Q$(t,{popupRedirectResolver:RU,persistence:[B9,k9,eR]}),r=jI("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(r,location.origin);if(location.origin===o.origin){const s=VU(o.toString());T9(n,s,()=>s(n.currentUser)),b9(n,a=>s(a))}}const i=LI("auth");return i&&J$(n,`http://${i}`),n}function FU(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}B$({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const o=Fr("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",FU().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});MU("Browser");const $U={apiKey:"AIzaSyB_DoE2lhYw7INy1ucJ3hQwXHBsQrmD-DY",authDomain:"rnf-app.firebaseapp.com",projectId:"rnf-app",storageBucket:"rnf-app.firebasestorage.app",messagingSenderId:"771820334247",appId:"1:771820334247:web:a096ff668dc8963f5b7f82"},aR=WI($U),kt=t$(aR),fn=jU(aR),UU=1;let hg=0;function BU(){return hg=(hg+1)%Number.MAX_VALUE,hg.toString()}const hn={state:{toasts:[]},listeners:[],getState:()=>hn.state,setState:t=>{typeof t=="function"?hn.state=t(hn.state):hn.state={...hn.state,...t},hn.listeners.forEach(e=>e(hn.state))},subscribe:t=>(hn.listeners.push(t),()=>{hn.listeners=hn.listeners.filter(e=>e!==t)})},WU=({...t})=>{const e=BU(),n=i=>hn.setState(o=>({...o,toasts:o.toasts.map(s=>s.id===e?{...s,...i}:s)})),r=()=>hn.setState(i=>({...i,toasts:i.toasts.filter(o=>o.id!==e)}));return hn.setState(i=>({...i,toasts:[{...t,id:e,dismiss:r},...i.toasts].slice(0,UU)})),{id:e,dismiss:r,update:n}};function zo(){const[t,e]=m.useState(hn.getState());return m.useEffect(()=>hn.subscribe(r=>{e(r)}),[]),m.useEffect(()=>{const n=[];return t.toasts.forEach(r=>{if(r.duration===1/0)return;const i=setTimeout(()=>{r.dismiss()},r.duration||5e3);n.push(i)}),()=>{n.forEach(r=>clearTimeout(r))}},[t.toasts]),{toast:WU,toasts:t.toasts}}const lR=m.createContext(null),zU=({children:t})=>{const[e,n]=m.useState(null),[r,i]=m.useState(!0),[o,s]=m.useState(null),{toast:a}=zo();m.useEffect(()=>{const x=C9(fn,async v=>{if(v){n({id:v.uid,uid:v.uid,email:v.email,displayName:v.displayName,photoURL:v.photoURL});const E=bi(kt,`users/${v.uid}/preferences`,"display");try{const S=await Pp(E);S.exists()?s(S.data()):s({theme:"light",units:"metric"})}catch(S){console.error("Failed to load preferences",S),s({theme:"light",units:"metric"})}}else n(null),s(null);i(!1)});return()=>x()},[]);const l=async(x,v)=>{try{await y9(fn,x,v)}catch(E){throw a({title:"Error al iniciar sesión",description:E.message,variant:"destructive"}),E}},c=async(x,v)=>{try{await v9(fn,x,v)}catch(E){throw a({title:"Error al registrarse",description:E.message,variant:"destructive"}),E}},u=async x=>{try{await g9(fn,x)}catch(v){throw a({title:"Error al restablecer contraseña",description:v.message,variant:"destructive"}),v}},f=async()=>{try{await S9(fn),n(null),s(null)}catch(x){throw a({title:"Error al cerrar sesión",description:x.message,variant:"destructive"}),x}},h=async x=>{if(fn.currentUser)try{await _9(fn.currentUser,x),n(v=>v&&{...v,email:x})}catch(v){throw a({title:"Error al actualizar correo",description:v.message,variant:"destructive"}),v}},g=async x=>{if(fn.currentUser)try{await E9(fn.currentUser,x)}catch(v){throw a({title:"Error al actualizar contraseña",description:v.message,variant:"destructive"}),v}},w=async x=>{if(!fn.currentUser)return;const v=bi(kt,`users/${fn.currentUser.uid}/preferences`,"display");try{await h$(v,x),s(x)}catch(E){console.error("Failed to save preferences",E),a({title:"Error al guardar preferencias",description:E.message,variant:"destructive"})}},y=async x=>{if(fn.currentUser)try{await x9(fn.currentUser,x),n(v=>v&&{...v,...x})}catch(v){throw a({title:"Error al actualizar perfil",description:v.message,variant:"destructive"}),v}},b=async()=>{if(fn.currentUser)try{await P9(fn.currentUser),n(null),s(null)}catch(x){throw a({title:"Error al eliminar cuenta",description:x.message,variant:"destructive"}),x}};return p.jsx(lR.Provider,{value:{user:e,login:l,register:c,logout:f,resetPassword:u,updateEmail:h,updatePassword:g,preferences:o,savePreferences:w,updateProfile:y,deleteAccount:b,loadingAuth:r},children:t})},_l=()=>m.useContext(lR);function cR(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=cR(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function uR(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=cR(t))&&(r&&(r+=" "),r+=e);return r}function HU(){for(var t=0,e,n,r="";t<arguments.length;)(e=arguments[t++])&&(n=dR(e))&&(r&&(r+=" "),r+=n);return r}function dR(t){if(typeof t=="string")return t;for(var e,n="",r=0;r<t.length;r++)t[r]&&(e=dR(t[r]))&&(n&&(n+=" "),n+=e);return n}var Ww="-";function qU(t){var e=YU(t),n=t.conflictingClassGroups,r=t.conflictingClassGroupModifiers,i=r===void 0?{}:r;function o(a){var l=a.split(Ww);return l[0]===""&&l.length!==1&&l.shift(),fR(l,e)||GU(a)}function s(a,l){var c=n[a]||[];return l&&i[a]?[].concat(c,i[a]):c}return{getClassGroupId:o,getConflictingClassGroupIds:s}}function fR(t,e){var s;if(t.length===0)return e.classGroupId;var n=t[0],r=e.nextPart.get(n),i=r?fR(t.slice(1),r):void 0;if(i)return i;if(e.validators.length!==0){var o=t.join(Ww);return(s=e.validators.find(function(a){var l=a.validator;return l(o)}))==null?void 0:s.classGroupId}}var Hb=/^\[(.+)\]$/;function GU(t){if(Hb.test(t)){var e=Hb.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}}function YU(t){var e=t.theme,n=t.prefix,r={nextPart:new Map,validators:[]},i=QU(Object.entries(t.classGroups),n);return i.forEach(function(o){var s=o[0],a=o[1];_y(a,r,s,e)}),r}function _y(t,e,n,r){t.forEach(function(i){if(typeof i=="string"){var o=i===""?e:qb(e,i);o.classGroupId=n;return}if(typeof i=="function"){if(KU(i)){_y(i(r),e,n,r);return}e.validators.push({validator:i,classGroupId:n});return}Object.entries(i).forEach(function(s){var a=s[0],l=s[1];_y(l,qb(e,a),n,r)})})}function qb(t,e){var n=t;return e.split(Ww).forEach(function(r){n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n}function KU(t){return t.isThemeGetter}function QU(t,e){return e?t.map(function(n){var r=n[0],i=n[1],o=i.map(function(s){return typeof s=="string"?e+s:typeof s=="object"?Object.fromEntries(Object.entries(s).map(function(a){var l=a[0],c=a[1];return[e+l,c]})):s});return[r,o]}):t}function XU(t){if(t<1)return{get:function(){},set:function(){}};var e=0,n=new Map,r=new Map;function i(o,s){n.set(o,s),e++,e>t&&(e=0,r=n,n=new Map)}return{get:function(s){var a=n.get(s);if(a!==void 0)return a;if((a=r.get(s))!==void 0)return i(s,a),a},set:function(s,a){n.has(s)?n.set(s,a):i(s,a)}}}var hR="!";function JU(t){var e=t.separator||":",n=e.length===1,r=e[0],i=e.length;return function(s){for(var a=[],l=0,c=0,u,f=0;f<s.length;f++){var h=s[f];if(l===0){if(h===r&&(n||s.slice(f,f+i)===e)){a.push(s.slice(c,f)),c=f+i;continue}if(h==="/"){u=f;continue}}h==="["?l++:h==="]"&&l--}var g=a.length===0?s:s.substring(c),w=g.startsWith(hR),y=w?g.substring(1):g,b=u&&u>c?u-c:void 0;return{modifiers:a,hasImportantModifier:w,baseClassName:y,maybePostfixModifierPosition:b}}}function ZU(t){if(t.length<=1)return t;var e=[],n=[];return t.forEach(function(r){var i=r[0]==="[";i?(e.push.apply(e,n.sort().concat([r])),n=[]):n.push(r)}),e.push.apply(e,n.sort()),e}function e7(t){return{cache:XU(t.cacheSize),splitModifiers:JU(t),...qU(t)}}var t7=/\s+/;function n7(t,e){var n=e.splitModifiers,r=e.getClassGroupId,i=e.getConflictingClassGroupIds,o=new Set;return t.trim().split(t7).map(function(s){var a=n(s),l=a.modifiers,c=a.hasImportantModifier,u=a.baseClassName,f=a.maybePostfixModifierPosition,h=r(f?u.substring(0,f):u),g=!!f;if(!h){if(!f)return{isTailwindClass:!1,originalClassName:s};if(h=r(u),!h)return{isTailwindClass:!1,originalClassName:s};g=!1}var w=ZU(l).join(":"),y=c?w+hR:w;return{isTailwindClass:!0,modifierId:y,classGroupId:h,originalClassName:s,hasPostfixModifier:g}}).reverse().filter(function(s){if(!s.isTailwindClass)return!0;var a=s.modifierId,l=s.classGroupId,c=s.hasPostfixModifier,u=a+l;return o.has(u)?!1:(o.add(u),i(l,c).forEach(function(f){return o.add(a+f)}),!0)}).reverse().map(function(s){return s.originalClassName}).join(" ")}function r7(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r,i,o,s=a;function a(c){var u=e[0],f=e.slice(1),h=f.reduce(function(g,w){return w(g)},u());return r=e7(h),i=r.cache.get,o=r.cache.set,s=l,l(c)}function l(c){var u=i(c);if(u)return u;var f=n7(c,r);return o(c,f),f}return function(){return s(HU.apply(null,arguments))}}function tt(t){var e=function(r){return r[t]||[]};return e.isThemeGetter=!0,e}var pR=/^\[(?:([a-z-]+):)?(.+)\]$/i,i7=/^\d+\/\d+$/,o7=new Set(["px","full","screen"]),s7=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,a7=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,l7=/^-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/;function sr(t){return cs(t)||o7.has(t)||i7.test(t)||Ey(t)}function Ey(t){return Os(t,"length",p7)}function c7(t){return Os(t,"size",mR)}function u7(t){return Os(t,"position",mR)}function d7(t){return Os(t,"url",m7)}function kd(t){return Os(t,"number",cs)}function cs(t){return!Number.isNaN(Number(t))}function f7(t){return t.endsWith("%")&&cs(t.slice(0,-1))}function Kl(t){return Gb(t)||Os(t,"number",Gb)}function Ie(t){return pR.test(t)}function Ql(){return!0}function Bi(t){return s7.test(t)}function h7(t){return Os(t,"",g7)}function Os(t,e,n){var r=pR.exec(t);return r?r[1]?r[1]===e:n(r[2]):!1}function p7(t){return a7.test(t)}function mR(){return!1}function m7(t){return t.startsWith("url(")}function Gb(t){return Number.isInteger(Number(t))}function g7(t){return l7.test(t)}function v7(){var t=tt("colors"),e=tt("spacing"),n=tt("blur"),r=tt("brightness"),i=tt("borderColor"),o=tt("borderRadius"),s=tt("borderSpacing"),a=tt("borderWidth"),l=tt("contrast"),c=tt("grayscale"),u=tt("hueRotate"),f=tt("invert"),h=tt("gap"),g=tt("gradientColorStops"),w=tt("gradientColorStopPositions"),y=tt("inset"),b=tt("margin"),x=tt("opacity"),v=tt("padding"),E=tt("saturate"),S=tt("scale"),R=tt("sepia"),D=tt("skew"),P=tt("space"),C=tt("translate"),I=function(){return["auto","contain","none"]},A=function(){return["auto","hidden","clip","visible","scroll"]},M=function(){return["auto",Ie,e]},O=function(){return[Ie,e]},N=function(){return["",sr]},F=function(){return["auto",cs,Ie]},G=function(){return["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"]},K=function(){return["solid","dashed","dotted","double","none"]},W=function(){return["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity","plus-lighter"]},L=function(){return["start","end","center","between","around","evenly","stretch"]},j=function(){return["","0",Ie]},U=function(){return["auto","avoid","all","avoid-page","page","left","right","column"]},z=function(){return[cs,kd]},B=function(){return[cs,Ie]};return{cacheSize:500,theme:{colors:[Ql],spacing:[sr],blur:["none","",Bi,Ie],brightness:z(),borderColor:[t],borderRadius:["none","","full",Bi,Ie],borderSpacing:O(),borderWidth:N(),contrast:z(),grayscale:j(),hueRotate:B(),invert:j(),gap:O(),gradientColorStops:[t],gradientColorStopPositions:[f7,Ey],inset:M(),margin:M(),opacity:z(),padding:O(),saturate:z(),scale:z(),sepia:j(),skew:B(),space:O(),translate:O()},classGroups:{aspect:[{aspect:["auto","square","video",Ie]}],container:["container"],columns:[{columns:[Bi]}],"break-after":[{"break-after":U()}],"break-before":[{"break-before":U()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none"]}],clear:[{clear:["left","right","both","none"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[].concat(G(),[Ie])}],overflow:[{overflow:A()}],"overflow-x":[{"overflow-x":A()}],"overflow-y":[{"overflow-y":A()}],overscroll:[{overscroll:I()}],"overscroll-x":[{"overscroll-x":I()}],"overscroll-y":[{"overscroll-y":I()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[y]}],"inset-x":[{"inset-x":[y]}],"inset-y":[{"inset-y":[y]}],start:[{start:[y]}],end:[{end:[y]}],top:[{top:[y]}],right:[{right:[y]}],bottom:[{bottom:[y]}],left:[{left:[y]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Kl]}],basis:[{basis:M()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Ie]}],grow:[{grow:j()}],shrink:[{shrink:j()}],order:[{order:["first","last","none",Kl]}],"grid-cols":[{"grid-cols":[Ql]}],"col-start-end":[{col:["auto",{span:["full",Kl]},Ie]}],"col-start":[{"col-start":F()}],"col-end":[{"col-end":F()}],"grid-rows":[{"grid-rows":[Ql]}],"row-start-end":[{row:["auto",{span:[Kl]},Ie]}],"row-start":[{"row-start":F()}],"row-end":[{"row-end":F()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Ie]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Ie]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal"].concat(L())}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal"].concat(L(),["baseline"])}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[].concat(L(),["baseline"])}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[v]}],px:[{px:[v]}],py:[{py:[v]}],ps:[{ps:[v]}],pe:[{pe:[v]}],pt:[{pt:[v]}],pr:[{pr:[v]}],pb:[{pb:[v]}],pl:[{pl:[v]}],m:[{m:[b]}],mx:[{mx:[b]}],my:[{my:[b]}],ms:[{ms:[b]}],me:[{me:[b]}],mt:[{mt:[b]}],mr:[{mr:[b]}],mb:[{mb:[b]}],ml:[{ml:[b]}],"space-x":[{"space-x":[P]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[P]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit",Ie,e]}],"min-w":[{"min-w":["min","max","fit",Ie,sr]}],"max-w":[{"max-w":["0","none","full","min","max","fit","prose",{screen:[Bi]},Bi,Ie]}],h:[{h:[Ie,e,"auto","min","max","fit"]}],"min-h":[{"min-h":["min","max","fit",Ie,sr]}],"max-h":[{"max-h":[Ie,e,"min","max","fit"]}],"font-size":[{text:["base",Bi,Ey]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",kd]}],"font-family":[{font:[Ql]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Ie]}],"line-clamp":[{"line-clamp":["none",cs,kd]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Ie,sr]}],"list-image":[{"list-image":["none",Ie]}],"list-style-type":[{list:["none","disc","decimal",Ie]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[x]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[x]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[].concat(K(),["wavy"])}],"text-decoration-thickness":[{decoration:["auto","from-font",sr]}],"underline-offset":[{"underline-offset":["auto",Ie,sr]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],indent:[{indent:O()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ie]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ie]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[x]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[].concat(G(),[u7])}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",c7]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},d7]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[w]}],"gradient-via-pos":[{via:[w]}],"gradient-to-pos":[{to:[w]}],"gradient-from":[{from:[g]}],"gradient-via":[{via:[g]}],"gradient-to":[{to:[g]}],rounded:[{rounded:[o]}],"rounded-s":[{"rounded-s":[o]}],"rounded-e":[{"rounded-e":[o]}],"rounded-t":[{"rounded-t":[o]}],"rounded-r":[{"rounded-r":[o]}],"rounded-b":[{"rounded-b":[o]}],"rounded-l":[{"rounded-l":[o]}],"rounded-ss":[{"rounded-ss":[o]}],"rounded-se":[{"rounded-se":[o]}],"rounded-ee":[{"rounded-ee":[o]}],"rounded-es":[{"rounded-es":[o]}],"rounded-tl":[{"rounded-tl":[o]}],"rounded-tr":[{"rounded-tr":[o]}],"rounded-br":[{"rounded-br":[o]}],"rounded-bl":[{"rounded-bl":[o]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[x]}],"border-style":[{border:[].concat(K(),["hidden"])}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[x]}],"divide-style":[{divide:K()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:[""].concat(K())}],"outline-offset":[{"outline-offset":[Ie,sr]}],"outline-w":[{outline:[sr]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:N()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[x]}],"ring-offset-w":[{"ring-offset":[sr]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",Bi,h7]}],"shadow-color":[{shadow:[Ql]}],opacity:[{opacity:[x]}],"mix-blend":[{"mix-blend":W()}],"bg-blend":[{"bg-blend":W()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",Bi,Ie]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[u]}],invert:[{invert:[f]}],saturate:[{saturate:[E]}],sepia:[{sepia:[R]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[u]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[x]}],"backdrop-saturate":[{"backdrop-saturate":[E]}],"backdrop-sepia":[{"backdrop-sepia":[R]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[s]}],"border-spacing-x":[{"border-spacing-x":[s]}],"border-spacing-y":[{"border-spacing-y":[s]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Ie]}],duration:[{duration:B()}],ease:[{ease:["linear","in","out","in-out",Ie]}],delay:[{delay:B()}],animate:[{animate:["none","spin","ping","pulse","bounce",Ie]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[S]}],"scale-x":[{"scale-x":[S]}],"scale-y":[{"scale-y":[S]}],rotate:[{rotate:[Kl,Ie]}],"translate-x":[{"translate-x":[C]}],"translate-y":[{"translate-y":[C]}],"skew-x":[{"skew-x":[D]}],"skew-y":[{"skew-y":[D]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Ie]}],accent:[{accent:["auto",t]}],appearance:["appearance-none"],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ie]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":O()}],"scroll-mx":[{"scroll-mx":O()}],"scroll-my":[{"scroll-my":O()}],"scroll-ms":[{"scroll-ms":O()}],"scroll-me":[{"scroll-me":O()}],"scroll-mt":[{"scroll-mt":O()}],"scroll-mr":[{"scroll-mr":O()}],"scroll-mb":[{"scroll-mb":O()}],"scroll-ml":[{"scroll-ml":O()}],"scroll-p":[{"scroll-p":O()}],"scroll-px":[{"scroll-px":O()}],"scroll-py":[{"scroll-py":O()}],"scroll-ps":[{"scroll-ps":O()}],"scroll-pe":[{"scroll-pe":O()}],"scroll-pt":[{"scroll-pt":O()}],"scroll-pr":[{"scroll-pr":O()}],"scroll-pb":[{"scroll-pb":O()}],"scroll-pl":[{"scroll-pl":O()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","pinch-zoom","manipulation",{pan:["x","left","right","y","up","down"]}]}],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ie]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[sr,kd]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}}var y7=r7(v7);function Ue(...t){return y7(uR(t))}function Yb(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function w7(...t){return e=>{let n=!1;const r=t.map(i=>{const o=Yb(i,e);return!n&&typeof o=="function"&&(n=!0),o});if(n)return()=>{for(let i=0;i<r.length;i++){const o=r[i];typeof o=="function"?o():Yb(t[i],null)}}}}function lt(...t){return m.useCallback(w7(...t),t)}function Ja(t){const e=_7(t),n=m.forwardRef((r,i)=>{const{children:o,...s}=r,a=m.Children.toArray(o),l=a.find(b7);if(l){const c=l.props.children,u=a.map(f=>f===l?m.Children.count(c)>1?m.Children.only(null):m.isValidElement(c)?c.props.children:null:f);return p.jsx(e,{...s,ref:i,children:m.isValidElement(c)?m.cloneElement(c,void 0,u):null})}return p.jsx(e,{...s,ref:i,children:o})});return n.displayName=`${t}.Slot`,n}var x7=Ja("Slot");function _7(t){const e=m.forwardRef((n,r)=>{const{children:i,...o}=n,s=m.isValidElement(i)?C7(i):void 0,a=lt(s,r);if(m.isValidElement(i)){const l=T7(o,i.props);return i.type!==m.Fragment&&(l.ref=a),m.cloneElement(i,l)}return m.Children.count(i)>1?m.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var E7=Symbol("radix.slottable");function b7(t){return m.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===E7}function T7(t,e){const n={...e};for(const r in e){const i=t[r],o=e[r];/^on[A-Z]/.test(r)?i&&o?n[r]=(...a)=>{const l=o(...a);return i(...a),l}:i&&(n[r]=i):r==="style"?n[r]={...i,...o}:r==="className"&&(n[r]=[i,o].filter(Boolean).join(" "))}return{...t,...n}}function C7(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}const Kb=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,Qb=uR,Np=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return Qb(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:i,defaultVariants:o}=e,s=Object.keys(i).map(c=>{const u=n==null?void 0:n[c],f=o==null?void 0:o[c];if(u===null)return null;const h=Kb(u)||Kb(f);return i[c][h]}),a=n&&Object.entries(n).reduce((c,u)=>{let[f,h]=u;return h===void 0||(c[f]=h),c},{}),l=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((c,u)=>{let{class:f,className:h,...g}=u;return Object.entries(g).every(w=>{let[y,b]=w;return Array.isArray(b)?b.includes({...o,...a}[y]):{...o,...a}[y]===b})?[...c,f,h]:c},[]);return Qb(t,s,l,n==null?void 0:n.class,n==null?void 0:n.className)},by=Np("inline-flex items-center justify-center rounded-lg text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-[#E27DBF] text-white hover:bg-[#FFB1DD]",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-lg px-3",lg:"h-11 rounded-lg px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),be=xe.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...i},o)=>{const s=r?x7:"button";return p.jsx(s,{className:Ue(by({variant:e,size:n,className:t})),ref:o,...i})});be.displayName="Button";const Vn=xe.forwardRef(({className:t,type:e,...n},r)=>p.jsx("input",{type:e,className:Ue("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:shadow-[0_0_0_3px_rgba(226,125,191,0.2)] disabled:cursor-not-allowed disabled:opacity-50",t),ref:r,...n}));Vn.displayName="Input";var S7=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],ze=S7.reduce((t,e)=>{const n=Ja(`Primitive.${e}`),r=m.forwardRef((i,o)=>{const{asChild:s,...a}=i,l=s?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),p.jsx(l,{...a,ref:o})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function gR(t,e){t&&$o.flushSync(()=>t.dispatchEvent(e))}var P7="Label",vR=m.forwardRef((t,e)=>p.jsx(ze.label,{...t,ref:e,onMouseDown:n=>{var i;n.target.closest("button, input, select, textarea")||((i=t.onMouseDown)==null||i.call(t,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));vR.displayName=P7;var yR=vR;const I7=Np("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Rt=xe.forwardRef(({className:t,...e},n)=>p.jsx(yR,{ref:n,className:Ue(I7(),t),...e}));Rt.displayName=yR.displayName;const wR=m.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"}),Dp=m.createContext({}),Mp=m.createContext(null),Op=typeof document<"u",zw=Op?m.useLayoutEffect:m.useEffect,xR=m.createContext({strict:!1}),Hw=t=>t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),A7="framerAppearId",_R="data-"+Hw(A7);function k7(t,e,n,r){const{visualElement:i}=m.useContext(Dp),o=m.useContext(xR),s=m.useContext(Mp),a=m.useContext(wR).reducedMotion,l=m.useRef();r=r||o.renderer,!l.current&&r&&(l.current=r(t,{visualState:e,parent:i,props:n,presenceContext:s,blockInitialAnimation:s?s.initial===!1:!1,reducedMotionConfig:a}));const c=l.current;m.useInsertionEffect(()=>{c&&c.update(n,s)});const u=m.useRef(!!(n[_R]&&!window.HandoffComplete));return zw(()=>{c&&(c.render(),u.current&&c.animationState&&c.animationState.animateChanges())}),m.useEffect(()=>{c&&(c.updateFeatures(),!u.current&&c.animationState&&c.animationState.animateChanges(),u.current&&(u.current=!1,window.HandoffComplete=!0))}),c}function va(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function R7(t,e,n){return m.useCallback(r=>{r&&t.mount&&t.mount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):va(n)&&(n.current=r))},[e])}function ou(t){return typeof t=="string"||Array.isArray(t)}function Lp(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}const qw=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Gw=["initial",...qw];function Vp(t){return Lp(t.animate)||Gw.some(e=>ou(t[e]))}function ER(t){return!!(Vp(t)||t.variants)}function N7(t,e){if(Vp(t)){const{initial:n,animate:r}=t;return{initial:n===!1||ou(n)?n:void 0,animate:ou(r)?r:void 0}}return t.inherit!==!1?e:{}}function D7(t){const{initial:e,animate:n}=N7(t,m.useContext(Dp));return m.useMemo(()=>({initial:e,animate:n}),[Xb(e),Xb(n)])}function Xb(t){return Array.isArray(t)?t.join(" "):t}const Jb={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},su={};for(const t in Jb)su[t]={isEnabled:e=>Jb[t].some(n=>!!e[n])};function M7(t){for(const e in t)su[e]={...su[e],...t[e]}}const Yw=m.createContext({}),bR=m.createContext({}),O7=Symbol.for("motionComponentSymbol");function L7({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:i}){t&&M7(t);function o(a,l){let c;const u={...m.useContext(wR),...a,layoutId:V7(a)},{isStatic:f}=u,h=D7(a),g=r(a,f);if(!f&&Op){h.visualElement=k7(i,g,u,e);const w=m.useContext(bR),y=m.useContext(xR).strict;h.visualElement&&(c=h.visualElement.loadFeatures(u,y,t,w))}return m.createElement(Dp.Provider,{value:h},c&&h.visualElement?m.createElement(c,{visualElement:h.visualElement,...u}):null,n(i,a,R7(g,h.visualElement,l),g,f,h.visualElement))}const s=m.forwardRef(o);return s[O7]=i,s}function V7({layoutId:t}){const e=m.useContext(Yw).id;return e&&t!==void 0?e+"-"+t:t}function j7(t){function e(r,i={}){return L7(t(r,i))}if(typeof Proxy>"u")return e;const n=new Map;return new Proxy(e,{get:(r,i)=>(n.has(i)||n.set(i,e(i)),n.get(i))})}const F7=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Kw(t){return typeof t!="string"||t.includes("-")?!1:!!(F7.indexOf(t)>-1||/[A-Z]/.test(t))}const yh={};function $7(t){Object.assign(yh,t)}const Ru=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Ls=new Set(Ru);function TR(t,{layout:e,layoutId:n}){return Ls.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!yh[t]||t==="opacity")}const An=t=>!!(t&&t.getVelocity),U7={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},B7=Ru.length;function W7(t,{enableHardwareAcceleration:e=!0,allowTransformNone:n=!0},r,i){let o="";for(let s=0;s<B7;s++){const a=Ru[s];if(t[a]!==void 0){const l=U7[a]||a;o+=`${l}(${t[a]}) `}}return e&&!t.z&&(o+="translateZ(0)"),o=o.trim(),i?o=i(t,r?"":o):n&&r&&(o="none"),o}const CR=t=>e=>typeof e=="string"&&e.startsWith(t),SR=CR("--"),Ty=CR("var(--"),z7=/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,H7=(t,e)=>e&&typeof t=="number"?e.transform(t):t,Do=(t,e,n)=>Math.min(Math.max(n,t),e),Vs={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Sc={...Vs,transform:t=>Do(0,1,t)},Rd={...Vs,default:1},Pc=t=>Math.round(t*1e5)/1e5,jp=/(-)?([\d]*\.?[\d])+/g,PR=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,q7=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function Nu(t){return typeof t=="string"}const Du=t=>({test:e=>Nu(e)&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),zi=Du("deg"),Br=Du("%"),me=Du("px"),G7=Du("vh"),Y7=Du("vw"),Zb={...Br,parse:t=>Br.parse(t)/100,transform:t=>Br.transform(t*100)},eT={...Vs,transform:Math.round},IR={borderWidth:me,borderTopWidth:me,borderRightWidth:me,borderBottomWidth:me,borderLeftWidth:me,borderRadius:me,radius:me,borderTopLeftRadius:me,borderTopRightRadius:me,borderBottomRightRadius:me,borderBottomLeftRadius:me,width:me,maxWidth:me,height:me,maxHeight:me,size:me,top:me,right:me,bottom:me,left:me,padding:me,paddingTop:me,paddingRight:me,paddingBottom:me,paddingLeft:me,margin:me,marginTop:me,marginRight:me,marginBottom:me,marginLeft:me,rotate:zi,rotateX:zi,rotateY:zi,rotateZ:zi,scale:Rd,scaleX:Rd,scaleY:Rd,scaleZ:Rd,skew:zi,skewX:zi,skewY:zi,distance:me,translateX:me,translateY:me,translateZ:me,x:me,y:me,z:me,perspective:me,transformPerspective:me,opacity:Sc,originX:Zb,originY:Zb,originZ:me,zIndex:eT,fillOpacity:Sc,strokeOpacity:Sc,numOctaves:eT};function Qw(t,e,n,r){const{style:i,vars:o,transform:s,transformOrigin:a}=t;let l=!1,c=!1,u=!0;for(const f in e){const h=e[f];if(SR(f)){o[f]=h;continue}const g=IR[f],w=H7(h,g);if(Ls.has(f)){if(l=!0,s[f]=w,!u)continue;h!==(g.default||0)&&(u=!1)}else f.startsWith("origin")?(c=!0,a[f]=w):i[f]=w}if(e.transform||(l||r?i.transform=W7(t.transform,n,u,r):i.transform&&(i.transform="none")),c){const{originX:f="50%",originY:h="50%",originZ:g=0}=a;i.transformOrigin=`${f} ${h} ${g}`}}const Xw=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function AR(t,e,n){for(const r in e)!An(e[r])&&!TR(r,n)&&(t[r]=e[r])}function K7({transformTemplate:t},e,n){return m.useMemo(()=>{const r=Xw();return Qw(r,e,{enableHardwareAcceleration:!n},t),Object.assign({},r.vars,r.style)},[e])}function Q7(t,e,n){const r=t.style||{},i={};return AR(i,r,t),Object.assign(i,K7(t,e,n)),t.transformValues?t.transformValues(i):i}function X7(t,e,n){const r={},i=Q7(t,e,n);return t.drag&&t.dragListener!==!1&&(r.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(r.tabIndex=0),r.style=i,r}const J7=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function wh(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||J7.has(t)}let kR=t=>!wh(t);function Z7(t){t&&(kR=e=>e.startsWith("on")?!wh(e):t(e))}try{Z7(require("@emotion/is-prop-valid").default)}catch{}function e8(t,e,n){const r={};for(const i in t)i==="values"&&typeof t.values=="object"||(kR(i)||n===!0&&wh(i)||!e&&!wh(i)||t.draggable&&i.startsWith("onDrag"))&&(r[i]=t[i]);return r}function tT(t,e,n){return typeof t=="string"?t:me.transform(e+n*t)}function t8(t,e,n){const r=tT(e,t.x,t.width),i=tT(n,t.y,t.height);return`${r} ${i}`}const n8={offset:"stroke-dashoffset",array:"stroke-dasharray"},r8={offset:"strokeDashoffset",array:"strokeDasharray"};function i8(t,e,n=1,r=0,i=!0){t.pathLength=1;const o=i?n8:r8;t[o.offset]=me.transform(-r);const s=me.transform(e),a=me.transform(n);t[o.array]=`${s} ${a}`}function Jw(t,{attrX:e,attrY:n,attrScale:r,originX:i,originY:o,pathLength:s,pathSpacing:a=1,pathOffset:l=0,...c},u,f,h){if(Qw(t,c,u,h),f){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:g,style:w,dimensions:y}=t;g.transform&&(y&&(w.transform=g.transform),delete g.transform),y&&(i!==void 0||o!==void 0||w.transform)&&(w.transformOrigin=t8(y,i!==void 0?i:.5,o!==void 0?o:.5)),e!==void 0&&(g.x=e),n!==void 0&&(g.y=n),r!==void 0&&(g.scale=r),s!==void 0&&i8(g,s,a,l,!1)}const RR=()=>({...Xw(),attrs:{}}),Zw=t=>typeof t=="string"&&t.toLowerCase()==="svg";function o8(t,e,n,r){const i=m.useMemo(()=>{const o=RR();return Jw(o,e,{enableHardwareAcceleration:!1},Zw(r),t.transformTemplate),{...o.attrs,style:{...o.style}}},[e]);if(t.style){const o={};AR(o,t.style,t),i.style={...o,...i.style}}return i}function s8(t=!1){return(n,r,i,{latestValues:o},s)=>{const l=(Kw(n)?o8:X7)(r,o,s,n),u={...e8(r,typeof n=="string",t),...l,ref:i},{children:f}=r,h=m.useMemo(()=>An(f)?f.get():f,[f]);return m.createElement(n,{...u,children:h})}}function NR(t,{style:e,vars:n},r,i){Object.assign(t.style,e,i&&i.getProjectionStyles(r));for(const o in n)t.style.setProperty(o,n[o])}const DR=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function MR(t,e,n,r){NR(t,e,void 0,r);for(const i in e.attrs)t.setAttribute(DR.has(i)?i:Hw(i),e.attrs[i])}function e1(t,e){const{style:n}=t,r={};for(const i in n)(An(n[i])||e.style&&An(e.style[i])||TR(i,t))&&(r[i]=n[i]);return r}function OR(t,e){const n=e1(t,e);for(const r in t)if(An(t[r])||An(e[r])){const i=Ru.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;n[i]=t[r]}return n}function t1(t,e,n,r={},i={}){return typeof e=="function"&&(e=e(n!==void 0?n:t.custom,r,i)),typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"&&(e=e(n!==void 0?n:t.custom,r,i)),e}function LR(t){const e=m.useRef(null);return e.current===null&&(e.current=t()),e.current}const xh=t=>Array.isArray(t),a8=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),l8=t=>xh(t)?t[t.length-1]||0:t;function mf(t){const e=An(t)?t.get():t;return a8(e)?e.toValue():e}function c8({scrapeMotionValuesFromProps:t,createRenderState:e,onMount:n},r,i,o){const s={latestValues:u8(r,i,o,t),renderState:e()};return n&&(s.mount=a=>n(r,a,s)),s}const VR=t=>(e,n)=>{const r=m.useContext(Dp),i=m.useContext(Mp),o=()=>c8(t,e,r,i);return n?o():LR(o)};function u8(t,e,n,r){const i={},o=r(t,{});for(const h in o)i[h]=mf(o[h]);let{initial:s,animate:a}=t;const l=Vp(t),c=ER(t);e&&c&&!l&&t.inherit!==!1&&(s===void 0&&(s=e.initial),a===void 0&&(a=e.animate));let u=n?n.initial===!1:!1;u=u||s===!1;const f=u?a:s;return f&&typeof f!="boolean"&&!Lp(f)&&(Array.isArray(f)?f:[f]).forEach(g=>{const w=t1(t,g);if(!w)return;const{transitionEnd:y,transition:b,...x}=w;for(const v in x){let E=x[v];if(Array.isArray(E)){const S=u?E.length-1:0;E=E[S]}E!==null&&(i[v]=E)}for(const v in y)i[v]=y[v]}),i}const yt=t=>t;class nT{constructor(){this.order=[],this.scheduled=new Set}add(e){if(!this.scheduled.has(e))return this.scheduled.add(e),this.order.push(e),!0}remove(e){const n=this.order.indexOf(e);n!==-1&&(this.order.splice(n,1),this.scheduled.delete(e))}clear(){this.order.length=0,this.scheduled.clear()}}function d8(t){let e=new nT,n=new nT,r=0,i=!1,o=!1;const s=new WeakSet,a={schedule:(l,c=!1,u=!1)=>{const f=u&&i,h=f?e:n;return c&&s.add(l),h.add(l)&&f&&i&&(r=e.order.length),l},cancel:l=>{n.remove(l),s.delete(l)},process:l=>{if(i){o=!0;return}if(i=!0,[e,n]=[n,e],n.clear(),r=e.order.length,r)for(let c=0;c<r;c++){const u=e.order[c];u(l),s.has(u)&&(a.schedule(u),t())}i=!1,o&&(o=!1,a.process(l))}};return a}const Nd=["prepare","read","update","preRender","render","postRender"],f8=40;function h8(t,e){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},o=Nd.reduce((f,h)=>(f[h]=d8(()=>n=!0),f),{}),s=f=>o[f].process(i),a=()=>{const f=performance.now();n=!1,i.delta=r?1e3/60:Math.max(Math.min(f-i.timestamp,f8),1),i.timestamp=f,i.isProcessing=!0,Nd.forEach(s),i.isProcessing=!1,n&&e&&(r=!1,t(a))},l=()=>{n=!0,r=!0,i.isProcessing||t(a)};return{schedule:Nd.reduce((f,h)=>{const g=o[h];return f[h]=(w,y=!1,b=!1)=>(n||l(),g.schedule(w,y,b)),f},{}),cancel:f=>Nd.forEach(h=>o[h].cancel(f)),state:i,steps:o}}const{schedule:Xe,cancel:Si,state:tn,steps:pg}=h8(typeof requestAnimationFrame<"u"?requestAnimationFrame:yt,!0),p8={useVisualState:VR({scrapeMotionValuesFromProps:OR,createRenderState:RR,onMount:(t,e,{renderState:n,latestValues:r})=>{Xe.read(()=>{try{n.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{n.dimensions={x:0,y:0,width:0,height:0}}}),Xe.render(()=>{Jw(n,r,{enableHardwareAcceleration:!1},Zw(e.tagName),t.transformTemplate),MR(e,n)})}})},m8={useVisualState:VR({scrapeMotionValuesFromProps:e1,createRenderState:Xw})};function g8(t,{forwardMotionProps:e=!1},n,r){return{...Kw(t)?p8:m8,preloadedFeatures:n,useRender:s8(e),createVisualElement:r,Component:t}}function ui(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}const jR=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1;function Fp(t,e="page"){return{point:{x:t[e+"X"],y:t[e+"Y"]}}}const v8=t=>e=>jR(e)&&t(e,Fp(e));function hi(t,e,n,r){return ui(t,e,v8(n),r)}const y8=(t,e)=>n=>e(t(n)),_o=(...t)=>t.reduce(y8);function FR(t){let e=null;return()=>{const n=()=>{e=null};return e===null?(e=t,n):!1}}const rT=FR("dragHorizontal"),iT=FR("dragVertical");function $R(t){let e=!1;if(t==="y")e=iT();else if(t==="x")e=rT();else{const n=rT(),r=iT();n&&r?e=()=>{n(),r()}:(n&&n(),r&&r())}return e}function UR(){const t=$R(!0);return t?(t(),!1):!0}class Ho{constructor(e){this.isMounted=!1,this.node=e}update(){}}function oT(t,e){const n="pointer"+(e?"enter":"leave"),r="onHover"+(e?"Start":"End"),i=(o,s)=>{if(o.pointerType==="touch"||UR())return;const a=t.getProps();t.animationState&&a.whileHover&&t.animationState.setActive("whileHover",e),a[r]&&Xe.update(()=>a[r](o,s))};return hi(t.current,n,i,{passive:!t.getProps()[r]})}class w8 extends Ho{mount(){this.unmount=_o(oT(this.node,!0),oT(this.node,!1))}unmount(){}}class x8 extends Ho{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=_o(ui(this.node.current,"focus",()=>this.onFocus()),ui(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const BR=(t,e)=>e?t===e?!0:BR(t,e.parentElement):!1;function mg(t,e){if(!e)return;const n=new PointerEvent("pointer"+t);e(n,Fp(n))}class _8 extends Ho{constructor(){super(...arguments),this.removeStartListeners=yt,this.removeEndListeners=yt,this.removeAccessibleListeners=yt,this.startPointerPress=(e,n)=>{if(this.isPressing)return;this.removeEndListeners();const r=this.node.getProps(),o=hi(window,"pointerup",(a,l)=>{if(!this.checkPressEnd())return;const{onTap:c,onTapCancel:u,globalTapTarget:f}=this.node.getProps();Xe.update(()=>{!f&&!BR(this.node.current,a.target)?u&&u(a,l):c&&c(a,l)})},{passive:!(r.onTap||r.onPointerUp)}),s=hi(window,"pointercancel",(a,l)=>this.cancelPress(a,l),{passive:!(r.onTapCancel||r.onPointerCancel)});this.removeEndListeners=_o(o,s),this.startPress(e,n)},this.startAccessiblePress=()=>{const e=o=>{if(o.key!=="Enter"||this.isPressing)return;const s=a=>{a.key!=="Enter"||!this.checkPressEnd()||mg("up",(l,c)=>{const{onTap:u}=this.node.getProps();u&&Xe.update(()=>u(l,c))})};this.removeEndListeners(),this.removeEndListeners=ui(this.node.current,"keyup",s),mg("down",(a,l)=>{this.startPress(a,l)})},n=ui(this.node.current,"keydown",e),r=()=>{this.isPressing&&mg("cancel",(o,s)=>this.cancelPress(o,s))},i=ui(this.node.current,"blur",r);this.removeAccessibleListeners=_o(n,i)}}startPress(e,n){this.isPressing=!0;const{onTapStart:r,whileTap:i}=this.node.getProps();i&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),r&&Xe.update(()=>r(e,n))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!UR()}cancelPress(e,n){if(!this.checkPressEnd())return;const{onTapCancel:r}=this.node.getProps();r&&Xe.update(()=>r(e,n))}mount(){const e=this.node.getProps(),n=hi(e.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(e.onTapStart||e.onPointerStart)}),r=ui(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=_o(n,r)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const Cy=new WeakMap,gg=new WeakMap,E8=t=>{const e=Cy.get(t.target);e&&e(t)},b8=t=>{t.forEach(E8)};function T8({root:t,...e}){const n=t||document;gg.has(n)||gg.set(n,{});const r=gg.get(n),i=JSON.stringify(e);return r[i]||(r[i]=new IntersectionObserver(b8,{root:t,...e})),r[i]}function C8(t,e,n){const r=T8(e);return Cy.set(t,n),r.observe(t),()=>{Cy.delete(t),r.unobserve(t)}}const S8={some:0,all:1};class P8 extends Ho{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:o}=e,s={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:S8[i]},a=l=>{const{isIntersecting:c}=l;if(this.isInView===c||(this.isInView=c,o&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:u,onViewportLeave:f}=this.node.getProps(),h=c?u:f;h&&h(l)};return C8(this.node.current,s,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(I8(e,n))&&this.startObserver()}unmount(){}}function I8({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const A8={inView:{Feature:P8},tap:{Feature:_8},focus:{Feature:x8},hover:{Feature:w8}};function WR(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}function k8(t){const e={};return t.values.forEach((n,r)=>e[r]=n.get()),e}function R8(t){const e={};return t.values.forEach((n,r)=>e[r]=n.getVelocity()),e}function $p(t,e,n){const r=t.getProps();return t1(r,e,n!==void 0?n:r.custom,k8(t),R8(t))}let N8=yt,n1=yt;const Eo=t=>t*1e3,pi=t=>t/1e3,D8={current:!1},zR=t=>Array.isArray(t)&&typeof t[0]=="number";function HR(t){return!!(!t||typeof t=="string"&&qR[t]||zR(t)||Array.isArray(t)&&t.every(HR))}const uc=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,qR={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:uc([0,.65,.55,1]),circOut:uc([.55,0,1,.45]),backIn:uc([.31,.01,.66,-.59]),backOut:uc([.33,1.53,.69,.99])};function GR(t){if(t)return zR(t)?uc(t):Array.isArray(t)?t.map(GR):qR[t]}function M8(t,e,n,{delay:r=0,duration:i,repeat:o=0,repeatType:s="loop",ease:a,times:l}={}){const c={[e]:n};l&&(c.offset=l);const u=GR(a);return Array.isArray(u)&&(c.easing=u),t.animate(c,{delay:r,duration:i,easing:Array.isArray(u)?"linear":u,fill:"both",iterations:o+1,direction:s==="reverse"?"alternate":"normal"})}function O8(t,{repeat:e,repeatType:n="loop"}){const r=e&&n!=="loop"&&e%2===1?0:t.length-1;return t[r]}const YR=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,L8=1e-7,V8=12;function j8(t,e,n,r,i){let o,s,a=0;do s=e+(n-e)/2,o=YR(s,r,i)-t,o>0?n=s:e=s;while(Math.abs(o)>L8&&++a<V8);return s}function Mu(t,e,n,r){if(t===e&&n===r)return yt;const i=o=>j8(o,0,1,t,n);return o=>o===0||o===1?o:YR(i(o),e,r)}const F8=Mu(.42,0,1,1),$8=Mu(0,0,.58,1),KR=Mu(.42,0,.58,1),U8=t=>Array.isArray(t)&&typeof t[0]!="number",QR=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,XR=t=>e=>1-t(1-e),r1=t=>1-Math.sin(Math.acos(t)),JR=XR(r1),B8=QR(r1),ZR=Mu(.33,1.53,.69,.99),i1=XR(ZR),W8=QR(i1),z8=t=>(t*=2)<1?.5*i1(t):.5*(2-Math.pow(2,-10*(t-1))),H8={linear:yt,easeIn:F8,easeInOut:KR,easeOut:$8,circIn:r1,circInOut:B8,circOut:JR,backIn:i1,backInOut:W8,backOut:ZR,anticipate:z8},sT=t=>{if(Array.isArray(t)){n1(t.length===4);const[e,n,r,i]=t;return Mu(e,n,r,i)}else if(typeof t=="string")return H8[t];return t},o1=(t,e)=>n=>!!(Nu(n)&&q7.test(n)&&n.startsWith(t)||e&&Object.prototype.hasOwnProperty.call(n,e)),e2=(t,e,n)=>r=>{if(!Nu(r))return r;const[i,o,s,a]=r.match(jp);return{[t]:parseFloat(i),[e]:parseFloat(o),[n]:parseFloat(s),alpha:a!==void 0?parseFloat(a):1}},q8=t=>Do(0,255,t),vg={...Vs,transform:t=>Math.round(q8(t))},us={test:o1("rgb","red"),parse:e2("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+vg.transform(t)+", "+vg.transform(e)+", "+vg.transform(n)+", "+Pc(Sc.transform(r))+")"};function G8(t){let e="",n="",r="",i="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),i=t.substring(4,5),e+=e,n+=n,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const Sy={test:o1("#"),parse:G8,transform:us.transform},ya={test:o1("hsl","hue"),parse:e2("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+Br.transform(Pc(e))+", "+Br.transform(Pc(n))+", "+Pc(Sc.transform(r))+")"},pn={test:t=>us.test(t)||Sy.test(t)||ya.test(t),parse:t=>us.test(t)?us.parse(t):ya.test(t)?ya.parse(t):Sy.parse(t),transform:t=>Nu(t)?t:t.hasOwnProperty("red")?us.transform(t):ya.transform(t)},ut=(t,e,n)=>-n*t+n*e+t;function yg(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function Y8({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let i=0,o=0,s=0;if(!e)i=o=s=n;else{const a=n<.5?n*(1+e):n+e-n*e,l=2*n-a;i=yg(l,a,t+1/3),o=yg(l,a,t),s=yg(l,a,t-1/3)}return{red:Math.round(i*255),green:Math.round(o*255),blue:Math.round(s*255),alpha:r}}const wg=(t,e,n)=>{const r=t*t;return Math.sqrt(Math.max(0,n*(e*e-r)+r))},K8=[Sy,us,ya],Q8=t=>K8.find(e=>e.test(t));function aT(t){const e=Q8(t);let n=e.parse(t);return e===ya&&(n=Y8(n)),n}const t2=(t,e)=>{const n=aT(t),r=aT(e),i={...n};return o=>(i.red=wg(n.red,r.red,o),i.green=wg(n.green,r.green,o),i.blue=wg(n.blue,r.blue,o),i.alpha=ut(n.alpha,r.alpha,o),us.transform(i))};function X8(t){var e,n;return isNaN(t)&&Nu(t)&&(((e=t.match(jp))===null||e===void 0?void 0:e.length)||0)+(((n=t.match(PR))===null||n===void 0?void 0:n.length)||0)>0}const n2={regex:z7,countKey:"Vars",token:"${v}",parse:yt},r2={regex:PR,countKey:"Colors",token:"${c}",parse:pn.parse},i2={regex:jp,countKey:"Numbers",token:"${n}",parse:Vs.parse};function xg(t,{regex:e,countKey:n,token:r,parse:i}){const o=t.tokenised.match(e);o&&(t["num"+n]=o.length,t.tokenised=t.tokenised.replace(e,r),t.values.push(...o.map(i)))}function _h(t){const e=t.toString(),n={value:e,tokenised:e,values:[],numVars:0,numColors:0,numNumbers:0};return n.value.includes("var(--")&&xg(n,n2),xg(n,r2),xg(n,i2),n}function o2(t){return _h(t).values}function s2(t){const{values:e,numColors:n,numVars:r,tokenised:i}=_h(t),o=e.length;return s=>{let a=i;for(let l=0;l<o;l++)l<r?a=a.replace(n2.token,s[l]):l<r+n?a=a.replace(r2.token,pn.transform(s[l])):a=a.replace(i2.token,Pc(s[l]));return a}}const J8=t=>typeof t=="number"?0:t;function Z8(t){const e=o2(t);return s2(t)(e.map(J8))}const Mo={test:X8,parse:o2,createTransformer:s2,getAnimatableNone:Z8},a2=(t,e)=>n=>`${n>0?e:t}`;function l2(t,e){return typeof t=="number"?n=>ut(t,e,n):pn.test(t)?t2(t,e):t.startsWith("var(")?a2(t,e):u2(t,e)}const c2=(t,e)=>{const n=[...t],r=n.length,i=t.map((o,s)=>l2(o,e[s]));return o=>{for(let s=0;s<r;s++)n[s]=i[s](o);return n}},eB=(t,e)=>{const n={...t,...e},r={};for(const i in n)t[i]!==void 0&&e[i]!==void 0&&(r[i]=l2(t[i],e[i]));return i=>{for(const o in r)n[o]=r[o](i);return n}},u2=(t,e)=>{const n=Mo.createTransformer(e),r=_h(t),i=_h(e);return r.numVars===i.numVars&&r.numColors===i.numColors&&r.numNumbers>=i.numNumbers?_o(c2(r.values,i.values),n):a2(t,e)},au=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r},lT=(t,e)=>n=>ut(t,e,n);function tB(t){return typeof t=="number"?lT:typeof t=="string"?pn.test(t)?t2:u2:Array.isArray(t)?c2:typeof t=="object"?eB:lT}function nB(t,e,n){const r=[],i=n||tB(t[0]),o=t.length-1;for(let s=0;s<o;s++){let a=i(t[s],t[s+1]);if(e){const l=Array.isArray(e)?e[s]||yt:e;a=_o(l,a)}r.push(a)}return r}function d2(t,e,{clamp:n=!0,ease:r,mixer:i}={}){const o=t.length;if(n1(o===e.length),o===1)return()=>e[0];t[0]>t[o-1]&&(t=[...t].reverse(),e=[...e].reverse());const s=nB(e,r,i),a=s.length,l=c=>{let u=0;if(a>1)for(;u<t.length-2&&!(c<t[u+1]);u++);const f=au(t[u],t[u+1],c);return s[u](f)};return n?c=>l(Do(t[0],t[o-1],c)):l}function rB(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const i=au(0,e,r);t.push(ut(n,1,i))}}function iB(t){const e=[0];return rB(e,t.length-1),e}function oB(t,e){return t.map(n=>n*e)}function sB(t,e){return t.map(()=>e||KR).splice(0,t.length-1)}function Eh({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const i=U8(r)?r.map(sT):sT(r),o={done:!1,value:e[0]},s=oB(n&&n.length===e.length?n:iB(e),t),a=d2(s,e,{ease:Array.isArray(i)?i:sB(e,i)});return{calculatedDuration:t,next:l=>(o.value=a(l),o.done=l>=t,o)}}function f2(t,e){return e?t*(1e3/e):0}const aB=5;function h2(t,e,n){const r=Math.max(e-aB,0);return f2(n-t(r),e-r)}const _g=.001,lB=.01,cT=10,cB=.05,uB=1;function dB({duration:t=800,bounce:e=.25,velocity:n=0,mass:r=1}){let i,o;N8(t<=Eo(cT));let s=1-e;s=Do(cB,uB,s),t=Do(lB,cT,pi(t)),s<1?(i=c=>{const u=c*s,f=u*t,h=u-n,g=Py(c,s),w=Math.exp(-f);return _g-h/g*w},o=c=>{const f=c*s*t,h=f*n+n,g=Math.pow(s,2)*Math.pow(c,2)*t,w=Math.exp(-f),y=Py(Math.pow(c,2),s);return(-i(c)+_g>0?-1:1)*((h-g)*w)/y}):(i=c=>{const u=Math.exp(-c*t),f=(c-n)*t+1;return-_g+u*f},o=c=>{const u=Math.exp(-c*t),f=(n-c)*(t*t);return u*f});const a=5/t,l=hB(i,o,a);if(t=Eo(t),isNaN(l))return{stiffness:100,damping:10,duration:t};{const c=Math.pow(l,2)*r;return{stiffness:c,damping:s*2*Math.sqrt(r*c),duration:t}}}const fB=12;function hB(t,e,n){let r=n;for(let i=1;i<fB;i++)r=r-t(r)/e(r);return r}function Py(t,e){return t*Math.sqrt(1-e*e)}const pB=["duration","bounce"],mB=["stiffness","damping","mass"];function uT(t,e){return e.some(n=>t[n]!==void 0)}function gB(t){let e={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...t};if(!uT(t,mB)&&uT(t,pB)){const n=dB(t);e={...e,...n,mass:1},e.isResolvedFromDuration=!0}return e}function p2({keyframes:t,restDelta:e,restSpeed:n,...r}){const i=t[0],o=t[t.length-1],s={done:!1,value:i},{stiffness:a,damping:l,mass:c,duration:u,velocity:f,isResolvedFromDuration:h}=gB({...r,velocity:-pi(r.velocity||0)}),g=f||0,w=l/(2*Math.sqrt(a*c)),y=o-i,b=pi(Math.sqrt(a/c)),x=Math.abs(y)<5;n||(n=x?.01:2),e||(e=x?.005:.5);let v;if(w<1){const E=Py(b,w);v=S=>{const R=Math.exp(-w*b*S);return o-R*((g+w*b*y)/E*Math.sin(E*S)+y*Math.cos(E*S))}}else if(w===1)v=E=>o-Math.exp(-b*E)*(y+(g+b*y)*E);else{const E=b*Math.sqrt(w*w-1);v=S=>{const R=Math.exp(-w*b*S),D=Math.min(E*S,300);return o-R*((g+w*b*y)*Math.sinh(D)+E*y*Math.cosh(D))/E}}return{calculatedDuration:h&&u||null,next:E=>{const S=v(E);if(h)s.done=E>=u;else{let R=g;E!==0&&(w<1?R=h2(v,E,S):R=0);const D=Math.abs(R)<=n,P=Math.abs(o-S)<=e;s.done=D&&P}return s.value=s.done?o:S,s}}}function dT({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:o=500,modifyTarget:s,min:a,max:l,restDelta:c=.5,restSpeed:u}){const f=t[0],h={done:!1,value:f},g=C=>a!==void 0&&C<a||l!==void 0&&C>l,w=C=>a===void 0?l:l===void 0||Math.abs(a-C)<Math.abs(l-C)?a:l;let y=n*e;const b=f+y,x=s===void 0?b:s(b);x!==b&&(y=x-f);const v=C=>-y*Math.exp(-C/r),E=C=>x+v(C),S=C=>{const I=v(C),A=E(C);h.done=Math.abs(I)<=c,h.value=h.done?x:A};let R,D;const P=C=>{g(h.value)&&(R=C,D=p2({keyframes:[h.value,w(h.value)],velocity:h2(E,C,h.value),damping:i,stiffness:o,restDelta:c,restSpeed:u}))};return P(0),{calculatedDuration:null,next:C=>{let I=!1;return!D&&R===void 0&&(I=!0,S(C),P(C)),R!==void 0&&C>R?D.next(C-R):(!I&&S(C),h)}}}const vB=t=>{const e=({timestamp:n})=>t(n);return{start:()=>Xe.update(e,!0),stop:()=>Si(e),now:()=>tn.isProcessing?tn.timestamp:performance.now()}},fT=2e4;function hT(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<fT;)e+=n,r=t.next(e);return e>=fT?1/0:e}const yB={decay:dT,inertia:dT,tween:Eh,keyframes:Eh,spring:p2};function bh({autoplay:t=!0,delay:e=0,driver:n=vB,keyframes:r,type:i="keyframes",repeat:o=0,repeatDelay:s=0,repeatType:a="loop",onPlay:l,onStop:c,onComplete:u,onUpdate:f,...h}){let g=1,w=!1,y,b;const x=()=>{b=new Promise(z=>{y=z})};x();let v;const E=yB[i]||Eh;let S;E!==Eh&&typeof r[0]!="number"&&(S=d2([0,100],r,{clamp:!1}),r=[0,100]);const R=E({...h,keyframes:r});let D;a==="mirror"&&(D=E({...h,keyframes:[...r].reverse(),velocity:-(h.velocity||0)}));let P="idle",C=null,I=null,A=null;R.calculatedDuration===null&&o&&(R.calculatedDuration=hT(R));const{calculatedDuration:M}=R;let O=1/0,N=1/0;M!==null&&(O=M+s,N=O*(o+1)-s);let F=0;const G=z=>{if(I===null)return;g>0&&(I=Math.min(I,z)),g<0&&(I=Math.min(z-N/g,I)),C!==null?F=C:F=Math.round(z-I)*g;const B=F-e*(g>=0?1:-1),H=g>=0?B<0:B>N;F=Math.max(B,0),P==="finished"&&C===null&&(F=N);let Z=F,ie=R;if(o){const te=Math.min(F,N)/O;let ee=Math.floor(te),fe=te%1;!fe&&te>=1&&(fe=1),fe===1&&ee--,ee=Math.min(ee,o+1),!!(ee%2)&&(a==="reverse"?(fe=1-fe,s&&(fe-=s/O)):a==="mirror"&&(ie=D)),Z=Do(0,1,fe)*O}const ce=H?{done:!1,value:r[0]}:ie.next(Z);S&&(ce.value=S(ce.value));let{done:J}=ce;!H&&M!==null&&(J=g>=0?F>=N:F<=0);const re=C===null&&(P==="finished"||P==="running"&&J);return f&&f(ce.value),re&&L(),ce},K=()=>{v&&v.stop(),v=void 0},W=()=>{P="idle",K(),y(),x(),I=A=null},L=()=>{P="finished",u&&u(),K(),y()},j=()=>{if(w)return;v||(v=n(G));const z=v.now();l&&l(),C!==null?I=z-C:(!I||P==="finished")&&(I=z),P==="finished"&&x(),A=I,C=null,P="running",v.start()};t&&j();const U={then(z,B){return b.then(z,B)},get time(){return pi(F)},set time(z){z=Eo(z),F=z,C!==null||!v||g===0?C=z:I=v.now()-z/g},get duration(){const z=R.calculatedDuration===null?hT(R):R.calculatedDuration;return pi(z)},get speed(){return g},set speed(z){z===g||!v||(g=z,U.time=pi(F))},get state(){return P},play:j,pause:()=>{P="paused",C=F},stop:()=>{w=!0,P!=="idle"&&(P="idle",c&&c(),W())},cancel:()=>{A!==null&&G(A),W()},complete:()=>{P="finished"},sample:z=>(I=0,G(z))};return U}function wB(t){let e;return()=>(e===void 0&&(e=t()),e)}const xB=wB(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),_B=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),Dd=10,EB=2e4,bB=(t,e)=>e.type==="spring"||t==="backgroundColor"||!HR(e.ease);function TB(t,e,{onUpdate:n,onComplete:r,...i}){if(!(xB()&&_B.has(e)&&!i.repeatDelay&&i.repeatType!=="mirror"&&i.damping!==0&&i.type!=="inertia"))return!1;let s=!1,a,l,c=!1;const u=()=>{l=new Promise(E=>{a=E})};u();let{keyframes:f,duration:h=300,ease:g,times:w}=i;if(bB(e,i)){const E=bh({...i,repeat:0,delay:0});let S={done:!1,value:f[0]};const R=[];let D=0;for(;!S.done&&D<EB;)S=E.sample(D),R.push(S.value),D+=Dd;w=void 0,f=R,h=D-Dd,g="linear"}const y=M8(t.owner.current,e,f,{...i,duration:h,ease:g,times:w}),b=()=>{c=!1,y.cancel()},x=()=>{c=!0,Xe.update(b),a(),u()};return y.onfinish=()=>{c||(t.set(O8(f,i)),r&&r(),x())},{then(E,S){return l.then(E,S)},attachTimeline(E){return y.timeline=E,y.onfinish=null,yt},get time(){return pi(y.currentTime||0)},set time(E){y.currentTime=Eo(E)},get speed(){return y.playbackRate},set speed(E){y.playbackRate=E},get duration(){return pi(h)},play:()=>{s||(y.play(),Si(b))},pause:()=>y.pause(),stop:()=>{if(s=!0,y.playState==="idle")return;const{currentTime:E}=y;if(E){const S=bh({...i,autoplay:!1});t.setWithVelocity(S.sample(E-Dd).value,S.sample(E).value,Dd)}x()},complete:()=>{c||y.finish()},cancel:x}}function CB({keyframes:t,delay:e,onUpdate:n,onComplete:r}){const i=()=>(n&&n(t[t.length-1]),r&&r(),{time:0,speed:1,duration:0,play:yt,pause:yt,stop:yt,then:o=>(o(),Promise.resolve()),cancel:yt,complete:yt});return e?bh({keyframes:[0,1],duration:0,delay:e,onComplete:i}):i()}const SB={type:"spring",stiffness:500,damping:25,restSpeed:10},PB=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),IB={type:"keyframes",duration:.8},AB={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},kB=(t,{keyframes:e})=>e.length>2?IB:Ls.has(t)?t.startsWith("scale")?PB(e[1]):SB:AB,Iy=(t,e)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(Mo.test(e)||e==="0")&&!e.startsWith("url(")),RB=new Set(["brightness","contrast","saturate","opacity"]);function NB(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(jp)||[];if(!r)return t;const i=n.replace(r,"");let o=RB.has(e)?1:0;return r!==n&&(o*=100),e+"("+o+i+")"}const DB=/([a-z-]*)\(.*?\)/g,Ay={...Mo,getAnimatableNone:t=>{const e=t.match(DB);return e?e.map(NB).join(" "):t}},MB={...IR,color:pn,backgroundColor:pn,outlineColor:pn,fill:pn,stroke:pn,borderColor:pn,borderTopColor:pn,borderRightColor:pn,borderBottomColor:pn,borderLeftColor:pn,filter:Ay,WebkitFilter:Ay},s1=t=>MB[t];function m2(t,e){let n=s1(t);return n!==Ay&&(n=Mo),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const g2=t=>/^0[^.\s]+$/.test(t);function OB(t){if(typeof t=="number")return t===0;if(t!==null)return t==="none"||t==="0"||g2(t)}function LB(t,e,n,r){const i=Iy(e,n);let o;Array.isArray(n)?o=[...n]:o=[null,n];const s=r.from!==void 0?r.from:t.get();let a;const l=[];for(let c=0;c<o.length;c++)o[c]===null&&(o[c]=c===0?s:o[c-1]),OB(o[c])&&l.push(c),typeof o[c]=="string"&&o[c]!=="none"&&o[c]!=="0"&&(a=o[c]);if(i&&l.length&&a)for(let c=0;c<l.length;c++){const u=l[c];o[u]=m2(e,a)}return o}function VB({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:o,repeatType:s,repeatDelay:a,from:l,elapsed:c,...u}){return!!Object.keys(u).length}function a1(t,e){return t[e]||t.default||t}const jB={skipAnimations:!1},l1=(t,e,n,r={})=>i=>{const o=a1(r,t)||{},s=o.delay||r.delay||0;let{elapsed:a=0}=r;a=a-Eo(s);const l=LB(e,t,n,o),c=l[0],u=l[l.length-1],f=Iy(t,c),h=Iy(t,u);let g={keyframes:l,velocity:e.getVelocity(),ease:"easeOut",...o,delay:-a,onUpdate:w=>{e.set(w),o.onUpdate&&o.onUpdate(w)},onComplete:()=>{i(),o.onComplete&&o.onComplete()}};if(VB(o)||(g={...g,...kB(t,g)}),g.duration&&(g.duration=Eo(g.duration)),g.repeatDelay&&(g.repeatDelay=Eo(g.repeatDelay)),!f||!h||D8.current||o.type===!1||jB.skipAnimations)return CB(g);if(!r.isHandoff&&e.owner&&e.owner.current instanceof HTMLElement&&!e.owner.getProps().onUpdate){const w=TB(e,t,g);if(w)return w}return bh(g)};function Th(t){return!!(An(t)&&t.add)}const v2=t=>/^\-?\d*\.?\d+$/.test(t);function c1(t,e){t.indexOf(e)===-1&&t.push(e)}function u1(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class d1{constructor(){this.subscriptions=[]}add(e){return c1(this.subscriptions,e),()=>u1(this.subscriptions,e)}notify(e,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,n,r);else for(let o=0;o<i;o++){const s=this.subscriptions[o];s&&s(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const FB=t=>!isNaN(parseFloat(t));class $B{constructor(e,n={}){this.version="10.18.0",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(r,i=!0)=>{this.prev=this.current,this.current=r;const{delta:o,timestamp:s}=tn;this.lastUpdated!==s&&(this.timeDelta=o,this.lastUpdated=s,Xe.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>Xe.postRender(this.velocityCheck),this.velocityCheck=({timestamp:r})=>{r!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=e,this.canTrackVelocity=FB(this.current),this.owner=n.owner}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new d1);const r=this.events[e].add(n);return e==="change"?()=>{r(),Xe.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=e,this.timeDelta=r}jump(e){this.updateAndNotify(e),this.prev=e,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?f2(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Za(t,e){return new $B(t,e)}const y2=t=>e=>e.test(t),UB={test:t=>t==="auto",parse:t=>t},w2=[Vs,me,Br,zi,Y7,G7,UB],Xl=t=>w2.find(y2(t)),BB=[...w2,pn,Mo],WB=t=>BB.find(y2(t));function zB(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,Za(n))}function HB(t,e){const n=$p(t,e);let{transitionEnd:r={},transition:i={},...o}=n?t.makeTargetAnimatable(n,!1):{};o={...o,...r};for(const s in o){const a=l8(o[s]);zB(t,s,a)}}function qB(t,e,n){var r,i;const o=Object.keys(e).filter(a=>!t.hasValue(a)),s=o.length;if(s)for(let a=0;a<s;a++){const l=o[a],c=e[l];let u=null;Array.isArray(c)&&(u=c[0]),u===null&&(u=(i=(r=n[l])!==null&&r!==void 0?r:t.readValue(l))!==null&&i!==void 0?i:e[l]),u!=null&&(typeof u=="string"&&(v2(u)||g2(u))?u=parseFloat(u):!WB(u)&&Mo.test(c)&&(u=m2(l,c)),t.addValue(l,Za(u,{owner:t})),n[l]===void 0&&(n[l]=u),u!==null&&t.setBaseTarget(l,u))}}function GB(t,e){return e?(e[t]||e.default||e).from:void 0}function YB(t,e,n){const r={};for(const i in t){const o=GB(i,e);if(o!==void 0)r[i]=o;else{const s=n.getValue(i);s&&(r[i]=s.get())}}return r}function KB({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function QB(t,e){const n=t.get();if(Array.isArray(e)){for(let r=0;r<e.length;r++)if(e[r]!==n)return!0}else return n!==e}function x2(t,e,{delay:n=0,transitionOverride:r,type:i}={}){let{transition:o=t.getDefaultTransition(),transitionEnd:s,...a}=t.makeTargetAnimatable(e);const l=t.getValue("willChange");r&&(o=r);const c=[],u=i&&t.animationState&&t.animationState.getState()[i];for(const f in a){const h=t.getValue(f),g=a[f];if(!h||g===void 0||u&&KB(u,f))continue;const w={delay:n,elapsed:0,...a1(o||{},f)};if(window.HandoffAppearAnimations){const x=t.getProps()[_R];if(x){const v=window.HandoffAppearAnimations(x,f,h,Xe);v!==null&&(w.elapsed=v,w.isHandoff=!0)}}let y=!w.isHandoff&&!QB(h,g);if(w.type==="spring"&&(h.getVelocity()||w.velocity)&&(y=!1),h.animation&&(y=!1),y)continue;h.start(l1(f,h,g,t.shouldReduceMotion&&Ls.has(f)?{type:!1}:w));const b=h.animation;Th(l)&&(l.add(f),b.then(()=>l.remove(f))),c.push(b)}return s&&Promise.all(c).then(()=>{s&&HB(t,s)}),c}function ky(t,e,n={}){const r=$p(t,e,n.custom);let{transition:i=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(i=n.transitionOverride);const o=r?()=>Promise.all(x2(t,r,n)):()=>Promise.resolve(),s=t.variantChildren&&t.variantChildren.size?(l=0)=>{const{delayChildren:c=0,staggerChildren:u,staggerDirection:f}=i;return XB(t,e,c+l,u,f,n)}:()=>Promise.resolve(),{when:a}=i;if(a){const[l,c]=a==="beforeChildren"?[o,s]:[s,o];return l().then(()=>c())}else return Promise.all([o(),s(n.delay)])}function XB(t,e,n=0,r=0,i=1,o){const s=[],a=(t.variantChildren.size-1)*r,l=i===1?(c=0)=>c*r:(c=0)=>a-c*r;return Array.from(t.variantChildren).sort(JB).forEach((c,u)=>{c.notify("AnimationStart",e),s.push(ky(c,e,{...o,delay:n+l(u)}).then(()=>c.notify("AnimationComplete",e)))}),Promise.all(s)}function JB(t,e){return t.sortNodePosition(e)}function ZB(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const i=e.map(o=>ky(t,o,n));r=Promise.all(i)}else if(typeof e=="string")r=ky(t,e,n);else{const i=typeof e=="function"?$p(t,e,n.custom):e;r=Promise.all(x2(t,i,n))}return r.then(()=>t.notify("AnimationComplete",e))}const eW=[...qw].reverse(),tW=qw.length;function nW(t){return e=>Promise.all(e.map(({animation:n,options:r})=>ZB(t,n,r)))}function rW(t){let e=nW(t);const n=oW();let r=!0;const i=(l,c)=>{const u=$p(t,c);if(u){const{transition:f,transitionEnd:h,...g}=u;l={...l,...g,...h}}return l};function o(l){e=l(t)}function s(l,c){const u=t.getProps(),f=t.getVariantContext(!0)||{},h=[],g=new Set;let w={},y=1/0;for(let x=0;x<tW;x++){const v=eW[x],E=n[v],S=u[v]!==void 0?u[v]:f[v],R=ou(S),D=v===c?E.isActive:null;D===!1&&(y=x);let P=S===f[v]&&S!==u[v]&&R;if(P&&r&&t.manuallyAnimateOnMount&&(P=!1),E.protectedKeys={...w},!E.isActive&&D===null||!S&&!E.prevProp||Lp(S)||typeof S=="boolean")continue;let I=iW(E.prevProp,S)||v===c&&E.isActive&&!P&&R||x>y&&R,A=!1;const M=Array.isArray(S)?S:[S];let O=M.reduce(i,{});D===!1&&(O={});const{prevResolvedValues:N={}}=E,F={...N,...O},G=K=>{I=!0,g.has(K)&&(A=!0,g.delete(K)),E.needsAnimating[K]=!0};for(const K in F){const W=O[K],L=N[K];if(w.hasOwnProperty(K))continue;let j=!1;xh(W)&&xh(L)?j=!WR(W,L):j=W!==L,j?W!==void 0?G(K):g.add(K):W!==void 0&&g.has(K)?G(K):E.protectedKeys[K]=!0}E.prevProp=S,E.prevResolvedValues=O,E.isActive&&(w={...w,...O}),r&&t.blockInitialAnimation&&(I=!1),I&&(!P||A)&&h.push(...M.map(K=>({animation:K,options:{type:v,...l}})))}if(g.size){const x={};g.forEach(v=>{const E=t.getBaseTarget(v);E!==void 0&&(x[v]=E)}),h.push({animation:x})}let b=!!h.length;return r&&(u.initial===!1||u.initial===u.animate)&&!t.manuallyAnimateOnMount&&(b=!1),r=!1,b?e(h):Promise.resolve()}function a(l,c,u){var f;if(n[l].isActive===c)return Promise.resolve();(f=t.variantChildren)===null||f===void 0||f.forEach(g=>{var w;return(w=g.animationState)===null||w===void 0?void 0:w.setActive(l,c)}),n[l].isActive=c;const h=s(u,l);for(const g in n)n[g].protectedKeys={};return h}return{animateChanges:s,setActive:a,setAnimateFunction:o,getState:()=>n}}function iW(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!WR(e,t):!1}function Xo(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function oW(){return{animate:Xo(!0),whileInView:Xo(),whileHover:Xo(),whileTap:Xo(),whileDrag:Xo(),whileFocus:Xo(),exit:Xo()}}class sW extends Ho{constructor(e){super(e),e.animationState||(e.animationState=rW(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();this.unmount(),Lp(e)&&(this.unmount=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){}}let aW=0;class lW extends Ho{constructor(){super(...arguments),this.id=aW++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n,custom:r}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===i)return;const o=this.node.animationState.setActive("exit",!e,{custom:r??this.node.getProps().custom});n&&!e&&o.then(()=>n(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const cW={animation:{Feature:sW},exit:{Feature:lW}},pT=(t,e)=>Math.abs(t-e);function uW(t,e){const n=pT(t.x,e.x),r=pT(t.y,e.y);return Math.sqrt(n**2+r**2)}class _2{constructor(e,n,{transformPagePoint:r,contextWindow:i,dragSnapToOrigin:o=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const f=bg(this.lastMoveEventInfo,this.history),h=this.startEvent!==null,g=uW(f.offset,{x:0,y:0})>=3;if(!h&&!g)return;const{point:w}=f,{timestamp:y}=tn;this.history.push({...w,timestamp:y});const{onStart:b,onMove:x}=this.handlers;h||(b&&b(this.lastMoveEvent,f),this.startEvent=this.lastMoveEvent),x&&x(this.lastMoveEvent,f)},this.handlePointerMove=(f,h)=>{this.lastMoveEvent=f,this.lastMoveEventInfo=Eg(h,this.transformPagePoint),Xe.update(this.updatePoint,!0)},this.handlePointerUp=(f,h)=>{this.end();const{onEnd:g,onSessionEnd:w,resumeAnimation:y}=this.handlers;if(this.dragSnapToOrigin&&y&&y(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const b=bg(f.type==="pointercancel"?this.lastMoveEventInfo:Eg(h,this.transformPagePoint),this.history);this.startEvent&&g&&g(f,b),w&&w(f,b)},!jR(e))return;this.dragSnapToOrigin=o,this.handlers=n,this.transformPagePoint=r,this.contextWindow=i||window;const s=Fp(e),a=Eg(s,this.transformPagePoint),{point:l}=a,{timestamp:c}=tn;this.history=[{...l,timestamp:c}];const{onSessionStart:u}=n;u&&u(e,bg(a,this.history)),this.removeListeners=_o(hi(this.contextWindow,"pointermove",this.handlePointerMove),hi(this.contextWindow,"pointerup",this.handlePointerUp),hi(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Si(this.updatePoint)}}function Eg(t,e){return e?{point:e(t.point)}:t}function mT(t,e){return{x:t.x-e.x,y:t.y-e.y}}function bg({point:t},e){return{point:t,delta:mT(t,E2(e)),offset:mT(t,dW(e)),velocity:fW(e,.1)}}function dW(t){return t[0]}function E2(t){return t[t.length-1]}function fW(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const i=E2(t);for(;n>=0&&(r=t[n],!(i.timestamp-r.timestamp>Eo(e)));)n--;if(!r)return{x:0,y:0};const o=pi(i.timestamp-r.timestamp);if(o===0)return{x:0,y:0};const s={x:(i.x-r.x)/o,y:(i.y-r.y)/o};return s.x===1/0&&(s.x=0),s.y===1/0&&(s.y=0),s}function Un(t){return t.max-t.min}function Ry(t,e=0,n=.01){return Math.abs(t-e)<=n}function gT(t,e,n,r=.5){t.origin=r,t.originPoint=ut(e.min,e.max,t.origin),t.scale=Un(n)/Un(e),(Ry(t.scale,1,1e-4)||isNaN(t.scale))&&(t.scale=1),t.translate=ut(n.min,n.max,t.origin)-t.originPoint,(Ry(t.translate)||isNaN(t.translate))&&(t.translate=0)}function Ic(t,e,n,r){gT(t.x,e.x,n.x,r?r.originX:void 0),gT(t.y,e.y,n.y,r?r.originY:void 0)}function vT(t,e,n){t.min=n.min+e.min,t.max=t.min+Un(e)}function hW(t,e,n){vT(t.x,e.x,n.x),vT(t.y,e.y,n.y)}function yT(t,e,n){t.min=e.min-n.min,t.max=t.min+Un(e)}function Ac(t,e,n){yT(t.x,e.x,n.x),yT(t.y,e.y,n.y)}function pW(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?ut(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?ut(n,t,r.max):Math.min(t,n)),t}function wT(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function mW(t,{top:e,left:n,bottom:r,right:i}){return{x:wT(t.x,n,i),y:wT(t.y,e,r)}}function xT(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function gW(t,e){return{x:xT(t.x,e.x),y:xT(t.y,e.y)}}function vW(t,e){let n=.5;const r=Un(t),i=Un(e);return i>r?n=au(e.min,e.max-r,t.min):r>i&&(n=au(t.min,t.max-i,e.min)),Do(0,1,n)}function yW(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const Ny=.35;function wW(t=Ny){return t===!1?t=0:t===!0&&(t=Ny),{x:_T(t,"left","right"),y:_T(t,"top","bottom")}}function _T(t,e,n){return{min:ET(t,e),max:ET(t,n)}}function ET(t,e){return typeof t=="number"?t:t[e]||0}const bT=()=>({translate:0,scale:1,origin:0,originPoint:0}),wa=()=>({x:bT(),y:bT()}),TT=()=>({min:0,max:0}),St=()=>({x:TT(),y:TT()});function Hn(t){return[t("x"),t("y")]}function b2({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function xW({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function _W(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function Tg(t){return t===void 0||t===1}function Dy({scale:t,scaleX:e,scaleY:n}){return!Tg(t)||!Tg(e)||!Tg(n)}function ts(t){return Dy(t)||T2(t)||t.z||t.rotate||t.rotateX||t.rotateY}function T2(t){return CT(t.x)||CT(t.y)}function CT(t){return t&&t!=="0%"}function Ch(t,e,n){const r=t-n,i=e*r;return n+i}function ST(t,e,n,r,i){return i!==void 0&&(t=Ch(t,i,r)),Ch(t,n,r)+e}function My(t,e=0,n=1,r,i){t.min=ST(t.min,e,n,r,i),t.max=ST(t.max,e,n,r,i)}function C2(t,{x:e,y:n}){My(t.x,e.translate,e.scale,e.originPoint),My(t.y,n.translate,n.scale,n.originPoint)}function EW(t,e,n,r=!1){const i=n.length;if(!i)return;e.x=e.y=1;let o,s;for(let a=0;a<i;a++){o=n[a],s=o.projectionDelta;const l=o.instance;l&&l.style&&l.style.display==="contents"||(r&&o.options.layoutScroll&&o.scroll&&o!==o.root&&xa(t,{x:-o.scroll.offset.x,y:-o.scroll.offset.y}),s&&(e.x*=s.x.scale,e.y*=s.y.scale,C2(t,s)),r&&ts(o.latestValues)&&xa(t,o.latestValues))}e.x=PT(e.x),e.y=PT(e.y)}function PT(t){return Number.isInteger(t)||t>1.0000000000001||t<.999999999999?t:1}function Ki(t,e){t.min=t.min+e,t.max=t.max+e}function IT(t,e,[n,r,i]){const o=e[i]!==void 0?e[i]:.5,s=ut(t.min,t.max,o);My(t,e[n],e[r],s,e.scale)}const bW=["x","scaleX","originX"],TW=["y","scaleY","originY"];function xa(t,e){IT(t.x,e,bW),IT(t.y,e,TW)}function S2(t,e){return b2(_W(t.getBoundingClientRect(),e))}function CW(t,e,n){const r=S2(t,n),{scroll:i}=e;return i&&(Ki(r.x,i.offset.x),Ki(r.y,i.offset.y)),r}const P2=({current:t})=>t?t.ownerDocument.defaultView:null,SW=new WeakMap;class PW{constructor(e){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=St(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const i=u=>{const{dragSnapToOrigin:f}=this.getProps();f?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Fp(u,"page").point)},o=(u,f)=>{const{drag:h,dragPropagation:g,onDragStart:w}=this.getProps();if(h&&!g&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=$R(h),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Hn(b=>{let x=this.getAxisMotionValue(b).get()||0;if(Br.test(x)){const{projection:v}=this.visualElement;if(v&&v.layout){const E=v.layout.layoutBox[b];E&&(x=Un(E)*(parseFloat(x)/100))}}this.originPoint[b]=x}),w&&Xe.update(()=>w(u,f),!1,!0);const{animationState:y}=this.visualElement;y&&y.setActive("whileDrag",!0)},s=(u,f)=>{const{dragPropagation:h,dragDirectionLock:g,onDirectionLock:w,onDrag:y}=this.getProps();if(!h&&!this.openGlobalLock)return;const{offset:b}=f;if(g&&this.currentDirection===null){this.currentDirection=IW(b),this.currentDirection!==null&&w&&w(this.currentDirection);return}this.updateAxis("x",f.point,b),this.updateAxis("y",f.point,b),this.visualElement.render(),y&&y(u,f)},a=(u,f)=>this.stop(u,f),l=()=>Hn(u=>{var f;return this.getAnimationState(u)==="paused"&&((f=this.getAxisMotionValue(u).animation)===null||f===void 0?void 0:f.play())}),{dragSnapToOrigin:c}=this.getProps();this.panSession=new _2(e,{onSessionStart:i,onStart:o,onMove:s,onSessionEnd:a,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:c,contextWindow:P2(this.visualElement)})}stop(e,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:i}=n;this.startAnimation(i);const{onDragEnd:o}=this.getProps();o&&Xe.update(()=>o(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:i}=this.getProps();if(!r||!Md(e,i,this.currentDirection))return;const o=this.getAxisMotionValue(e);let s=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(s=pW(s,this.constraints[e],this.elastic[e])),o.set(s)}resolveConstraints(){var e;const{dragConstraints:n,dragElastic:r}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,o=this.constraints;n&&va(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&i?this.constraints=mW(i.layoutBox,n):this.constraints=!1,this.elastic=wW(r),o!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&Hn(s=>{this.getAxisMotionValue(s)&&(this.constraints[s]=yW(i.layoutBox[s],this.constraints[s]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!va(e))return!1;const r=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const o=CW(r,i.root,this.visualElement.getTransformPagePoint());let s=gW(i.layout.layoutBox,o);if(n){const a=n(xW(s));this.hasMutatedConstraints=!!a,a&&(s=b2(a))}return s}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:o,dragSnapToOrigin:s,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},c=Hn(u=>{if(!Md(u,n,this.currentDirection))return;let f=l&&l[u]||{};s&&(f={min:0,max:0});const h=i?200:1e6,g=i?40:1e7,w={type:"inertia",velocity:r?e[u]:0,bounceStiffness:h,bounceDamping:g,timeConstant:750,restDelta:1,restSpeed:10,...o,...f};return this.startAxisValueAnimation(u,w)});return Promise.all(c).then(a)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return r.start(l1(e,r,0,n))}stopAnimation(){Hn(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Hn(e=>{var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(e){const n="_drag"+e.toUpperCase(),r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){Hn(n=>{const{drag:r}=this.getProps();if(!Md(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,o=this.getAxisMotionValue(n);if(i&&i.layout){const{min:s,max:a}=i.layout.layoutBox[n];o.set(e[n]-ut(s,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!va(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};Hn(s=>{const a=this.getAxisMotionValue(s);if(a){const l=a.get();i[s]=vW({min:l,max:l},this.constraints[s])}});const{transformTemplate:o}=this.visualElement.getProps();this.visualElement.current.style.transform=o?o({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Hn(s=>{if(!Md(s,e,null))return;const a=this.getAxisMotionValue(s),{min:l,max:c}=this.constraints[s];a.set(ut(l,c,i[s]))})}addListeners(){if(!this.visualElement.current)return;SW.set(this.visualElement,this);const e=this.visualElement.current,n=hi(e,"pointerdown",l=>{const{drag:c,dragListener:u=!0}=this.getProps();c&&u&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();va(l)&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,o=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),r();const s=ui(window,"resize",()=>this.scalePositionWithinConstraints()),a=i.addEventListener("didUpdate",({delta:l,hasLayoutChanged:c})=>{this.isDragging&&c&&(Hn(u=>{const f=this.getAxisMotionValue(u);f&&(this.originPoint[u]+=l[u].translate,f.set(f.get()+l[u].translate))}),this.visualElement.render())});return()=>{s(),n(),o(),a&&a()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:o=!1,dragElastic:s=Ny,dragMomentum:a=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:o,dragElastic:s,dragMomentum:a}}}function Md(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function IW(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class AW extends Ho{constructor(e){super(e),this.removeGroupControls=yt,this.removeListeners=yt,this.controls=new PW(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||yt}unmount(){this.removeGroupControls(),this.removeListeners()}}const AT=t=>(e,n)=>{t&&Xe.update(()=>t(e,n))};class kW extends Ho{constructor(){super(...arguments),this.removePointerDownListener=yt}onPointerDown(e){this.session=new _2(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:P2(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:AT(e),onStart:AT(n),onMove:r,onEnd:(o,s)=>{delete this.session,i&&Xe.update(()=>i(o,s))}}}mount(){this.removePointerDownListener=hi(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function RW(){const t=m.useContext(Mp);if(t===null)return[!0,null];const{isPresent:e,onExitComplete:n,register:r}=t,i=m.useId();return m.useEffect(()=>r(i),[]),!e&&n?[!1,()=>n&&n(i)]:[!0]}const gf={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function kT(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Jl={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(me.test(t))t=parseFloat(t);else return t;const n=kT(t,e.target.x),r=kT(t,e.target.y);return`${n}% ${r}%`}},NW={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,i=Mo.parse(t);if(i.length>5)return r;const o=Mo.createTransformer(t),s=typeof i[0]!="number"?1:0,a=n.x.scale*e.x,l=n.y.scale*e.y;i[0+s]/=a,i[1+s]/=l;const c=ut(a,l,.5);return typeof i[2+s]=="number"&&(i[2+s]/=c),typeof i[3+s]=="number"&&(i[3+s]/=c),o(i)}};class DW extends xe.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:o}=e;$7(MW),o&&(n.group&&n.group.add(o),r&&r.register&&i&&r.register(o),o.root.didUpdate(),o.addEventListener("animationComplete",()=>{this.safeToRemove()}),o.setOptions({...o.options,onExitComplete:()=>this.safeToRemove()})),gf.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:i,isPresent:o}=this.props,s=r.projection;return s&&(s.isPresent=o,i||e.layoutDependency!==n||n===void 0?s.willUpdate():this.safeToRemove(),e.isPresent!==o&&(o?s.promote():s.relegate()||Xe.postRender(()=>{const a=s.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),queueMicrotask(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=e;i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function I2(t){const[e,n]=RW(),r=m.useContext(Yw);return xe.createElement(DW,{...t,layoutGroup:r,switchLayoutGroup:m.useContext(bR),isPresent:e,safeToRemove:n})}const MW={borderRadius:{...Jl,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Jl,borderTopRightRadius:Jl,borderBottomLeftRadius:Jl,borderBottomRightRadius:Jl,boxShadow:NW},A2=["TopLeft","TopRight","BottomLeft","BottomRight"],OW=A2.length,RT=t=>typeof t=="string"?parseFloat(t):t,NT=t=>typeof t=="number"||me.test(t);function LW(t,e,n,r,i,o){i?(t.opacity=ut(0,n.opacity!==void 0?n.opacity:1,VW(r)),t.opacityExit=ut(e.opacity!==void 0?e.opacity:1,0,jW(r))):o&&(t.opacity=ut(e.opacity!==void 0?e.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let s=0;s<OW;s++){const a=`border${A2[s]}Radius`;let l=DT(e,a),c=DT(n,a);if(l===void 0&&c===void 0)continue;l||(l=0),c||(c=0),l===0||c===0||NT(l)===NT(c)?(t[a]=Math.max(ut(RT(l),RT(c),r),0),(Br.test(c)||Br.test(l))&&(t[a]+="%")):t[a]=c}(e.rotate||n.rotate)&&(t.rotate=ut(e.rotate||0,n.rotate||0,r))}function DT(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const VW=k2(0,.5,JR),jW=k2(.5,.95,yt);function k2(t,e,n){return r=>r<t?0:r>e?1:n(au(t,e,r))}function MT(t,e){t.min=e.min,t.max=e.max}function zn(t,e){MT(t.x,e.x),MT(t.y,e.y)}function OT(t,e,n,r,i){return t-=e,t=Ch(t,1/n,r),i!==void 0&&(t=Ch(t,1/i,r)),t}function FW(t,e=0,n=1,r=.5,i,o=t,s=t){if(Br.test(e)&&(e=parseFloat(e),e=ut(s.min,s.max,e/100)-s.min),typeof e!="number")return;let a=ut(o.min,o.max,r);t===o&&(a-=e),t.min=OT(t.min,e,n,a,i),t.max=OT(t.max,e,n,a,i)}function LT(t,e,[n,r,i],o,s){FW(t,e[n],e[r],e[i],e.scale,o,s)}const $W=["x","scaleX","originX"],UW=["y","scaleY","originY"];function VT(t,e,n,r){LT(t.x,e,$W,n?n.x:void 0,r?r.x:void 0),LT(t.y,e,UW,n?n.y:void 0,r?r.y:void 0)}function jT(t){return t.translate===0&&t.scale===1}function R2(t){return jT(t.x)&&jT(t.y)}function BW(t,e){return t.x.min===e.x.min&&t.x.max===e.x.max&&t.y.min===e.y.min&&t.y.max===e.y.max}function N2(t,e){return Math.round(t.x.min)===Math.round(e.x.min)&&Math.round(t.x.max)===Math.round(e.x.max)&&Math.round(t.y.min)===Math.round(e.y.min)&&Math.round(t.y.max)===Math.round(e.y.max)}function FT(t){return Un(t.x)/Un(t.y)}class WW{constructor(){this.members=[]}add(e){c1(this.members,e),e.scheduleRender()}remove(e){if(u1(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(i=>e===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const o=this.members[i];if(o.isPresent!==!1){r=o;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function $T(t,e,n){let r="";const i=t.x.translate/e.x,o=t.y.translate/e.y;if((i||o)&&(r=`translate3d(${i}px, ${o}px, 0) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{rotate:l,rotateX:c,rotateY:u}=n;l&&(r+=`rotate(${l}deg) `),c&&(r+=`rotateX(${c}deg) `),u&&(r+=`rotateY(${u}deg) `)}const s=t.x.scale*e.x,a=t.y.scale*e.y;return(s!==1||a!==1)&&(r+=`scale(${s}, ${a})`),r||"none"}const zW=(t,e)=>t.depth-e.depth;class HW{constructor(){this.children=[],this.isDirty=!1}add(e){c1(this.children,e),this.isDirty=!0}remove(e){u1(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(zW),this.isDirty=!1,this.children.forEach(e)}}function qW(t,e){const n=performance.now(),r=({timestamp:i})=>{const o=i-n;o>=e&&(Si(r),t(o-e))};return Xe.read(r,!0),()=>Si(r)}function GW(t){window.MotionDebug&&window.MotionDebug.record(t)}function YW(t){return t instanceof SVGElement&&t.tagName!=="svg"}function KW(t,e,n){const r=An(t)?t:Za(t);return r.start(l1("",r,e,n)),r.animation}const UT=["","X","Y","Z"],QW={visibility:"hidden"},BT=1e3;let XW=0;const ns={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function D2({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(s={},a=e==null?void 0:e()){this.id=XW++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,ns.totalNodes=ns.resolvedTargetDeltas=ns.recalculatedProjection=0,this.nodes.forEach(ez),this.nodes.forEach(oz),this.nodes.forEach(sz),this.nodes.forEach(tz),GW(ns)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=s,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new HW)}addEventListener(s,a){return this.eventHandlers.has(s)||this.eventHandlers.set(s,new d1),this.eventHandlers.get(s).add(a)}notifyListeners(s,...a){const l=this.eventHandlers.get(s);l&&l.notify(...a)}hasListeners(s){return this.eventHandlers.has(s)}mount(s,a=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=YW(s),this.instance=s;const{layoutId:l,layout:c,visualElement:u}=this.options;if(u&&!u.current&&u.mount(s),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),a&&(c||l)&&(this.isLayoutDirty=!0),t){let f;const h=()=>this.root.updateBlockedByResize=!1;t(s,()=>{this.root.updateBlockedByResize=!0,f&&f(),f=qW(h,250),gf.hasAnimatedSinceResize&&(gf.hasAnimatedSinceResize=!1,this.nodes.forEach(zT))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&u&&(l||c)&&this.addEventListener("didUpdate",({delta:f,hasLayoutChanged:h,hasRelativeTargetChanged:g,layout:w})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const y=this.options.transition||u.getDefaultTransition()||dz,{onLayoutAnimationStart:b,onLayoutAnimationComplete:x}=u.getProps(),v=!this.targetLayout||!N2(this.targetLayout,w)||g,E=!h&&g;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||E||h&&(v||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(f,E);const S={...a1(y,"layout"),onPlay:b,onComplete:x};(u.shouldReduceMotion||this.options.layoutRoot)&&(S.delay=0,S.type=!1),this.startAnimation(S)}else h||zT(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=w})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const s=this.getStack();s&&s.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Si(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(az),this.animationId++)}getTransformTemplate(){const{visualElement:s}=this.options;return s&&s.getProps().transformTemplate}willUpdate(s=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let u=0;u<this.path.length;u++){const f=this.path[u];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),s&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(WT);return}this.isUpdating||this.nodes.forEach(rz),this.isUpdating=!1,this.nodes.forEach(iz),this.nodes.forEach(JW),this.nodes.forEach(ZW),this.clearAllSnapshots();const a=performance.now();tn.delta=Do(0,1e3/60,a-tn.timestamp),tn.timestamp=a,tn.isProcessing=!0,pg.update.process(tn),pg.preRender.process(tn),pg.render.process(tn),tn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(nz),this.sharedNodes.forEach(lz)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Xe.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Xe.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const s=this.layout;this.layout=this.measure(!1),this.layoutCorrected=St(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,s?s.layoutBox:void 0)}updateScroll(s="measure"){let a=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===s&&(a=!1),a&&(this.scroll={animationId:this.root.animationId,phase:s,isRoot:r(this.instance),offset:n(this.instance)})}resetTransform(){if(!i)return;const s=this.isLayoutDirty||this.shouldResetTransform,a=this.projectionDelta&&!R2(this.projectionDelta),l=this.getTransformTemplate(),c=l?l(this.latestValues,""):void 0,u=c!==this.prevTransformTemplateValue;s&&(a||ts(this.latestValues)||u)&&(i(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(s=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return s&&(l=this.removeTransform(l)),fz(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:s}=this.options;if(!s)return St();const a=s.measureViewportBox(),{scroll:l}=this.root;return l&&(Ki(a.x,l.offset.x),Ki(a.y,l.offset.y)),a}removeElementScroll(s){const a=St();zn(a,s);for(let l=0;l<this.path.length;l++){const c=this.path[l],{scroll:u,options:f}=c;if(c!==this.root&&u&&f.layoutScroll){if(u.isRoot){zn(a,s);const{scroll:h}=this.root;h&&(Ki(a.x,-h.offset.x),Ki(a.y,-h.offset.y))}Ki(a.x,u.offset.x),Ki(a.y,u.offset.y)}}return a}applyTransform(s,a=!1){const l=St();zn(l,s);for(let c=0;c<this.path.length;c++){const u=this.path[c];!a&&u.options.layoutScroll&&u.scroll&&u!==u.root&&xa(l,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),ts(u.latestValues)&&xa(l,u.latestValues)}return ts(this.latestValues)&&xa(l,this.latestValues),l}removeTransform(s){const a=St();zn(a,s);for(let l=0;l<this.path.length;l++){const c=this.path[l];if(!c.instance||!ts(c.latestValues))continue;Dy(c.latestValues)&&c.updateSnapshot();const u=St(),f=c.measurePageBox();zn(u,f),VT(a,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,u)}return ts(this.latestValues)&&VT(a,this.latestValues),a}setTargetDelta(s){this.targetDelta=s,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(s){this.options={...this.options,...s,crossfade:s.crossfade!==void 0?s.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==tn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(s=!1){var a;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==l;if(!(s||c&&this.isSharedProjectionDirty||this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:f,layoutId:h}=this.options;if(!(!this.layout||!(f||h))){if(this.resolvedRelativeTargetAt=tn.timestamp,!this.targetDelta&&!this.relativeTarget){const g=this.getClosestProjectingParent();g&&g.layout&&this.animationProgress!==1?(this.relativeParent=g,this.forceRelativeParentToResolveTarget(),this.relativeTarget=St(),this.relativeTargetOrigin=St(),Ac(this.relativeTargetOrigin,this.layout.layoutBox,g.layout.layoutBox),zn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=St(),this.targetWithTransforms=St()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),hW(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):zn(this.target,this.layout.layoutBox),C2(this.target,this.targetDelta)):zn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const g=this.getClosestProjectingParent();g&&!!g.resumingFrom==!!this.resumingFrom&&!g.options.layoutScroll&&g.target&&this.animationProgress!==1?(this.relativeParent=g,this.forceRelativeParentToResolveTarget(),this.relativeTarget=St(),this.relativeTargetOrigin=St(),Ac(this.relativeTargetOrigin,this.target,g.target),zn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}ns.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||Dy(this.parent.latestValues)||T2(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var s;const a=this.getLead(),l=!!this.resumingFrom||this!==a;let c=!0;if((this.isProjectionDirty||!((s=this.parent)===null||s===void 0)&&s.isProjectionDirty)&&(c=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===tn.timestamp&&(c=!1),c)return;const{layout:u,layoutId:f}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||f))return;zn(this.layoutCorrected,this.layout.layoutBox);const h=this.treeScale.x,g=this.treeScale.y;EW(this.layoutCorrected,this.treeScale,this.path,l),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox);const{target:w}=a;if(!w){this.projectionTransform&&(this.projectionDelta=wa(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=wa(),this.projectionDeltaWithTransform=wa());const y=this.projectionTransform;Ic(this.projectionDelta,this.layoutCorrected,w,this.latestValues),this.projectionTransform=$T(this.projectionDelta,this.treeScale),(this.projectionTransform!==y||this.treeScale.x!==h||this.treeScale.y!==g)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",w)),ns.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(s=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),s){const a=this.getStack();a&&a.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(s,a=!1){const l=this.snapshot,c=l?l.latestValues:{},u={...this.latestValues},f=wa();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const h=St(),g=l?l.source:void 0,w=this.layout?this.layout.source:void 0,y=g!==w,b=this.getStack(),x=!b||b.members.length<=1,v=!!(y&&!x&&this.options.crossfade===!0&&!this.path.some(uz));this.animationProgress=0;let E;this.mixTargetDelta=S=>{const R=S/1e3;HT(f.x,s.x,R),HT(f.y,s.y,R),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Ac(h,this.layout.layoutBox,this.relativeParent.layout.layoutBox),cz(this.relativeTarget,this.relativeTargetOrigin,h,R),E&&BW(this.relativeTarget,E)&&(this.isProjectionDirty=!1),E||(E=St()),zn(E,this.relativeTarget)),y&&(this.animationValues=u,LW(u,c,this.latestValues,R,v,x)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=R},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(s){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Si(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Xe.update(()=>{gf.hasAnimatedSinceResize=!0,this.currentAnimation=KW(0,BT,{...s,onUpdate:a=>{this.mixTargetDelta(a),s.onUpdate&&s.onUpdate(a)},onComplete:()=>{s.onComplete&&s.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const s=this.getStack();s&&s.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(BT),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const s=this.getLead();let{targetWithTransforms:a,target:l,layout:c,latestValues:u}=s;if(!(!a||!l||!c)){if(this!==s&&this.layout&&c&&M2(this.options.animationType,this.layout.layoutBox,c.layoutBox)){l=this.target||St();const f=Un(this.layout.layoutBox.x);l.x.min=s.target.x.min,l.x.max=l.x.min+f;const h=Un(this.layout.layoutBox.y);l.y.min=s.target.y.min,l.y.max=l.y.min+h}zn(a,l),xa(a,u),Ic(this.projectionDeltaWithTransform,this.layoutCorrected,a,u)}}registerSharedNode(s,a){this.sharedNodes.has(s)||this.sharedNodes.set(s,new WW),this.sharedNodes.get(s).add(a);const c=a.options.initialPromotionConfig;a.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(a):void 0})}isLead(){const s=this.getStack();return s?s.lead===this:!0}getLead(){var s;const{layoutId:a}=this.options;return a?((s=this.getStack())===null||s===void 0?void 0:s.lead)||this:this}getPrevLead(){var s;const{layoutId:a}=this.options;return a?(s=this.getStack())===null||s===void 0?void 0:s.prevLead:void 0}getStack(){const{layoutId:s}=this.options;if(s)return this.root.sharedNodes.get(s)}promote({needsReset:s,transition:a,preserveFollowOpacity:l}={}){const c=this.getStack();c&&c.promote(this,l),s&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const s=this.getStack();return s?s.relegate(this):!1}resetRotation(){const{visualElement:s}=this.options;if(!s)return;let a=!1;const{latestValues:l}=s;if((l.rotate||l.rotateX||l.rotateY||l.rotateZ)&&(a=!0),!a)return;const c={};for(let u=0;u<UT.length;u++){const f="rotate"+UT[u];l[f]&&(c[f]=l[f],s.setStaticValue(f,0))}s.render();for(const u in c)s.setStaticValue(u,c[u]);s.scheduleRender()}getProjectionStyles(s){var a,l;if(!this.instance||this.isSVG)return;if(!this.isVisible)return QW;const c={visibility:""},u=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,c.opacity="",c.pointerEvents=mf(s==null?void 0:s.pointerEvents)||"",c.transform=u?u(this.latestValues,""):"none",c;const f=this.getLead();if(!this.projectionDelta||!this.layout||!f.target){const y={};return this.options.layoutId&&(y.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,y.pointerEvents=mf(s==null?void 0:s.pointerEvents)||""),this.hasProjected&&!ts(this.latestValues)&&(y.transform=u?u({},""):"none",this.hasProjected=!1),y}const h=f.animationValues||f.latestValues;this.applyTransformsToTarget(),c.transform=$T(this.projectionDeltaWithTransform,this.treeScale,h),u&&(c.transform=u(h,c.transform));const{x:g,y:w}=this.projectionDelta;c.transformOrigin=`${g.origin*100}% ${w.origin*100}% 0`,f.animationValues?c.opacity=f===this?(l=(a=h.opacity)!==null&&a!==void 0?a:this.latestValues.opacity)!==null&&l!==void 0?l:1:this.preserveOpacity?this.latestValues.opacity:h.opacityExit:c.opacity=f===this?h.opacity!==void 0?h.opacity:"":h.opacityExit!==void 0?h.opacityExit:0;for(const y in yh){if(h[y]===void 0)continue;const{correct:b,applyTo:x}=yh[y],v=c.transform==="none"?h[y]:b(h[y],f);if(x){const E=x.length;for(let S=0;S<E;S++)c[x[S]]=v}else c[y]=v}return this.options.layoutId&&(c.pointerEvents=f===this?mf(s==null?void 0:s.pointerEvents)||"":"none"),c}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(s=>{var a;return(a=s.currentAnimation)===null||a===void 0?void 0:a.stop()}),this.root.nodes.forEach(WT),this.root.sharedNodes.clear()}}}function JW(t){t.updateLayout()}function ZW(t){var e;const n=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=t.layout,{animationType:o}=t.options,s=n.source!==t.layout.source;o==="size"?Hn(f=>{const h=s?n.measuredBox[f]:n.layoutBox[f],g=Un(h);h.min=r[f].min,h.max=h.min+g}):M2(o,n.layoutBox,r)&&Hn(f=>{const h=s?n.measuredBox[f]:n.layoutBox[f],g=Un(r[f]);h.max=h.min+g,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[f].max=t.relativeTarget[f].min+g)});const a=wa();Ic(a,r,n.layoutBox);const l=wa();s?Ic(l,t.applyTransform(i,!0),n.measuredBox):Ic(l,r,n.layoutBox);const c=!R2(a);let u=!1;if(!t.resumeFrom){const f=t.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:h,layout:g}=f;if(h&&g){const w=St();Ac(w,n.layoutBox,h.layoutBox);const y=St();Ac(y,r,g.layoutBox),N2(w,y)||(u=!0),f.options.layoutRoot&&(t.relativeTarget=y,t.relativeTargetOrigin=w,t.relativeParent=f)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:l,layoutDelta:a,hasLayoutChanged:c,hasRelativeTargetChanged:u})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function ez(t){ns.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function tz(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function nz(t){t.clearSnapshot()}function WT(t){t.clearMeasurements()}function rz(t){t.isLayoutDirty=!1}function iz(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function zT(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function oz(t){t.resolveTargetDelta()}function sz(t){t.calcProjection()}function az(t){t.resetRotation()}function lz(t){t.removeLeadSnapshot()}function HT(t,e,n){t.translate=ut(e.translate,0,n),t.scale=ut(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function qT(t,e,n,r){t.min=ut(e.min,n.min,r),t.max=ut(e.max,n.max,r)}function cz(t,e,n,r){qT(t.x,e.x,n.x,r),qT(t.y,e.y,n.y,r)}function uz(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const dz={duration:.45,ease:[.4,0,.1,1]},GT=t=>typeof navigator<"u"&&navigator.userAgent.toLowerCase().includes(t),YT=GT("applewebkit/")&&!GT("chrome/")?Math.round:yt;function KT(t){t.min=YT(t.min),t.max=YT(t.max)}function fz(t){KT(t.x),KT(t.y)}function M2(t,e,n){return t==="position"||t==="preserve-aspect"&&!Ry(FT(e),FT(n),.2)}const hz=D2({attachResizeListener:(t,e)=>ui(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Cg={current:void 0},O2=D2({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Cg.current){const t=new hz({});t.mount(window),t.setOptions({layoutScroll:!0}),Cg.current=t}return Cg.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),pz={pan:{Feature:kW},drag:{Feature:AW,ProjectionNode:O2,MeasureLayout:I2}},mz=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function gz(t){const e=mz.exec(t);if(!e)return[,];const[,n,r]=e;return[n,r]}function Oy(t,e,n=1){const[r,i]=gz(t);if(!r)return;const o=window.getComputedStyle(e).getPropertyValue(r);if(o){const s=o.trim();return v2(s)?parseFloat(s):s}else return Ty(i)?Oy(i,e,n+1):i}function vz(t,{...e},n){const r=t.current;if(!(r instanceof Element))return{target:e,transitionEnd:n};n&&(n={...n}),t.values.forEach(i=>{const o=i.get();if(!Ty(o))return;const s=Oy(o,r);s&&i.set(s)});for(const i in e){const o=e[i];if(!Ty(o))continue;const s=Oy(o,r);s&&(e[i]=s,n||(n={}),n[i]===void 0&&(n[i]=o))}return{target:e,transitionEnd:n}}const yz=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),L2=t=>yz.has(t),wz=t=>Object.keys(t).some(L2),QT=t=>t===Vs||t===me,XT=(t,e)=>parseFloat(t.split(", ")[e]),JT=(t,e)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const i=r.match(/^matrix3d\((.+)\)$/);if(i)return XT(i[1],e);{const o=r.match(/^matrix\((.+)\)$/);return o?XT(o[1],t):0}},xz=new Set(["x","y","z"]),_z=Ru.filter(t=>!xz.has(t));function Ez(t){const e=[];return _z.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e.length&&t.render(),e}const el={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:JT(4,13),y:JT(5,14)};el.translateX=el.x;el.translateY=el.y;const bz=(t,e,n)=>{const r=e.measureViewportBox(),i=e.current,o=getComputedStyle(i),{display:s}=o,a={};s==="none"&&e.setStaticValue("display",t.display||"block"),n.forEach(c=>{a[c]=el[c](r,o)}),e.render();const l=e.measureViewportBox();return n.forEach(c=>{const u=e.getValue(c);u&&u.jump(a[c]),t[c]=el[c](l,o)}),t},Tz=(t,e,n={},r={})=>{e={...e},r={...r};const i=Object.keys(e).filter(L2);let o=[],s=!1;const a=[];if(i.forEach(l=>{const c=t.getValue(l);if(!t.hasValue(l))return;let u=n[l],f=Xl(u);const h=e[l];let g;if(xh(h)){const w=h.length,y=h[0]===null?1:0;u=h[y],f=Xl(u);for(let b=y;b<w&&h[b]!==null;b++)g?n1(Xl(h[b])===g):g=Xl(h[b])}else g=Xl(h);if(f!==g)if(QT(f)&&QT(g)){const w=c.get();typeof w=="string"&&c.set(parseFloat(w)),typeof h=="string"?e[l]=parseFloat(h):Array.isArray(h)&&g===me&&(e[l]=h.map(parseFloat))}else f!=null&&f.transform&&(g!=null&&g.transform)&&(u===0||h===0)?u===0?c.set(g.transform(u)):e[l]=f.transform(h):(s||(o=Ez(t),s=!0),a.push(l),r[l]=r[l]!==void 0?r[l]:e[l],c.jump(h))}),a.length){const l=a.indexOf("height")>=0?window.pageYOffset:null,c=bz(e,t,a);return o.length&&o.forEach(([u,f])=>{t.getValue(u).set(f)}),t.render(),Op&&l!==null&&window.scrollTo({top:l}),{target:c,transitionEnd:r}}else return{target:e,transitionEnd:r}};function Cz(t,e,n,r){return wz(e)?Tz(t,e,n,r):{target:e,transitionEnd:r}}const Sz=(t,e,n,r)=>{const i=vz(t,e,r);return e=i.target,r=i.transitionEnd,Cz(t,e,n,r)},Ly={current:null},V2={current:!1};function Pz(){if(V2.current=!0,!!Op)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>Ly.current=t.matches;t.addListener(e),e()}else Ly.current=!1}function Iz(t,e,n){const{willChange:r}=e;for(const i in e){const o=e[i],s=n[i];if(An(o))t.addValue(i,o),Th(r)&&r.add(i);else if(An(s))t.addValue(i,Za(o,{owner:t})),Th(r)&&r.remove(i);else if(s!==o)if(t.hasValue(i)){const a=t.getValue(i);!a.hasAnimated&&a.set(o)}else{const a=t.getStaticValue(i);t.addValue(i,Za(a!==void 0?a:o,{owner:t}))}}for(const i in n)e[i]===void 0&&t.removeValue(i);return e}const ZT=new WeakMap,j2=Object.keys(su),Az=j2.length,eC=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],kz=Gw.length;class Rz{constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:i,visualState:o},s={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>Xe.render(this.render,!1,!0);const{latestValues:a,renderState:l}=o;this.latestValues=a,this.baseTarget={...a},this.initialValues=n.initial?{...a}:{},this.renderState=l,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=s,this.isControllingVariants=Vp(n),this.isVariantNode=ER(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:c,...u}=this.scrapeMotionValuesFromProps(n,{});for(const f in u){const h=u[f];a[f]!==void 0&&An(h)&&(h.set(a[f],!1),Th(c)&&c.add(f))}}scrapeMotionValuesFromProps(e,n){return{}}mount(e){this.current=e,ZT.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),V2.current||Pz(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Ly.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){ZT.delete(this.current),this.projection&&this.projection.unmount(),Si(this.notifyUpdate),Si(this.render),this.valueSubscriptions.forEach(e=>e()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features)this.features[e].unmount();this.current=null}bindToMotionValue(e,n){const r=Ls.has(e),i=n.on("change",s=>{this.latestValues[e]=s,this.props.onUpdate&&Xe.update(this.notifyUpdate,!1,!0),r&&this.projection&&(this.projection.isTransformDirty=!0)}),o=n.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(e,()=>{i(),o()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}loadFeatures({children:e,...n},r,i,o){let s,a;for(let l=0;l<Az;l++){const c=j2[l],{isEnabled:u,Feature:f,ProjectionNode:h,MeasureLayout:g}=su[c];h&&(s=h),u(n)&&(!this.features[c]&&f&&(this.features[c]=new f(this)),g&&(a=g))}if((this.type==="html"||this.type==="svg")&&!this.projection&&s){this.projection=new s(this.latestValues,this.parent&&this.parent.projection);const{layoutId:l,layout:c,drag:u,dragConstraints:f,layoutScroll:h,layoutRoot:g}=n;this.projection.setOptions({layoutId:l,layout:c,alwaysMeasureLayout:!!u||f&&va(f),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof c=="string"?c:"both",initialPromotionConfig:o,layoutScroll:h,layoutRoot:g})}return a}updateFeatures(){for(const e in this.features){const n=this.features[e];n.isMounted?n.update():(n.mount(),n.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):St()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}makeTargetAnimatable(e,n=!0){return this.makeTargetAnimatableFromInstance(e,this.props,n)}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<eC.length;r++){const i=eC[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const o=e["on"+i];o&&(this.propEventSubscriptions[i]=this.on(i,o))}this.prevMotionValues=Iz(this,this.scrapeMotionValuesFromProps(e,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(e=!1){if(e)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const r=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(r.initial=this.props.initial),r}const n={};for(let r=0;r<kz;r++){const i=Gw[r],o=this.props[i];(ou(o)||o===!1)&&(n[i]=o)}return n}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){n!==this.values.get(e)&&(this.removeValue(e),this.bindToMotionValue(e,n)),this.values.set(e,n),this.latestValues[e]=n.get()}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=Za(n,{owner:this}),this.addValue(e,r)),r}readValue(e){var n;return this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(n=this.getBaseTargetFromProps(this.props,e))!==null&&n!==void 0?n:this.readValueFromInstance(this.current,e,this.options)}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:r}=this.props,i=typeof r=="string"||typeof r=="object"?(n=t1(this.props,r))===null||n===void 0?void 0:n[e]:void 0;if(r&&i!==void 0)return i;const o=this.getBaseTargetFromProps(this.props,e);return o!==void 0&&!An(o)?o:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new d1),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class F2 extends Rz{sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}makeTargetAnimatableFromInstance({transition:e,transitionEnd:n,...r},{transformValues:i},o){let s=YB(r,e||{},this);if(i&&(n&&(n=i(n)),r&&(r=i(r)),s&&(s=i(s))),o){qB(this,r,s);const a=Sz(this,r,s,n);n=a.transitionEnd,r=a.target}return{transition:e,transitionEnd:n,...r}}}function Nz(t){return window.getComputedStyle(t)}class Dz extends F2{constructor(){super(...arguments),this.type="html"}readValueFromInstance(e,n){if(Ls.has(n)){const r=s1(n);return r&&r.default||0}else{const r=Nz(e),i=(SR(n)?r.getPropertyValue(n):r[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:n}){return S2(e,n)}build(e,n,r,i){Qw(e,n,r,i.transformTemplate)}scrapeMotionValuesFromProps(e,n){return e1(e,n)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;An(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}renderInstance(e,n,r,i){NR(e,n,r,i)}}class Mz extends F2{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Ls.has(n)){const r=s1(n);return r&&r.default||0}return n=DR.has(n)?n:Hw(n),e.getAttribute(n)}measureInstanceViewportBox(){return St()}scrapeMotionValuesFromProps(e,n){return OR(e,n)}build(e,n,r,i){Jw(e,n,r,this.isSVGTag,i.transformTemplate)}renderInstance(e,n,r,i){MR(e,n,r,i)}mount(e){this.isSVGTag=Zw(e.tagName),super.mount(e)}}const Oz=(t,e)=>Kw(t)?new Mz(e,{enableHardwareAcceleration:!1}):new Dz(e,{enableHardwareAcceleration:!0}),Lz={layout:{ProjectionNode:O2,MeasureLayout:I2}},Vz={...cW,...A8,...pz,...Lz},Ee=j7((t,e)=>g8(t,e,Vz,Oz));function $2(){const t=m.useRef(!1);return zw(()=>(t.current=!0,()=>{t.current=!1}),[]),t}function jz(){const t=$2(),[e,n]=m.useState(0),r=m.useCallback(()=>{t.current&&n(e+1)},[e]);return[m.useCallback(()=>Xe.postRender(r),[r]),e]}class Fz extends m.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=n.offsetHeight||0,r.width=n.offsetWidth||0,r.top=n.offsetTop,r.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function $z({children:t,isPresent:e}){const n=m.useId(),r=m.useRef(null),i=m.useRef({width:0,height:0,top:0,left:0});return m.useInsertionEffect(()=>{const{width:o,height:s,top:a,left:l}=i.current;if(e||!r.current||!o||!s)return;r.current.dataset.motionPopId=n;const c=document.createElement("style");return document.head.appendChild(c),c.sheet&&c.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${o}px !important;
            height: ${s}px !important;
            top: ${a}px !important;
            left: ${l}px !important;
          }
        `),()=>{document.head.removeChild(c)}},[e]),m.createElement(Fz,{isPresent:e,childRef:r,sizeRef:i},m.cloneElement(t,{ref:r}))}const Sg=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:i,presenceAffectsLayout:o,mode:s})=>{const a=LR(Uz),l=m.useId(),c=m.useMemo(()=>({id:l,initial:e,isPresent:n,custom:i,onExitComplete:u=>{a.set(u,!0);for(const f of a.values())if(!f)return;r&&r()},register:u=>(a.set(u,!1),()=>a.delete(u))}),o?void 0:[n]);return m.useMemo(()=>{a.forEach((u,f)=>a.set(f,!1))},[n]),m.useEffect(()=>{!n&&!a.size&&r&&r()},[n]),s==="popLayout"&&(t=m.createElement($z,{isPresent:n},t)),m.createElement(Mp.Provider,{value:c},t)};function Uz(){return new Map}function Bz(t){return m.useEffect(()=>()=>t(),[])}const rs=t=>t.key||"";function Wz(t,e){t.forEach(n=>{const r=rs(n);e.set(r,n)})}function zz(t){const e=[];return m.Children.forEach(t,n=>{m.isValidElement(n)&&e.push(n)}),e}const tC=({children:t,custom:e,initial:n=!0,onExitComplete:r,exitBeforeEnter:i,presenceAffectsLayout:o=!0,mode:s="sync"})=>{const a=m.useContext(Yw).forceRender||jz()[0],l=$2(),c=zz(t);let u=c;const f=m.useRef(new Map).current,h=m.useRef(u),g=m.useRef(new Map).current,w=m.useRef(!0);if(zw(()=>{w.current=!1,Wz(c,g),h.current=u}),Bz(()=>{w.current=!0,g.clear(),f.clear()}),w.current)return m.createElement(m.Fragment,null,u.map(v=>m.createElement(Sg,{key:rs(v),isPresent:!0,initial:n?void 0:!1,presenceAffectsLayout:o,mode:s},v)));u=[...u];const y=h.current.map(rs),b=c.map(rs),x=y.length;for(let v=0;v<x;v++){const E=y[v];b.indexOf(E)===-1&&!f.has(E)&&f.set(E,void 0)}return s==="wait"&&f.size&&(u=[]),f.forEach((v,E)=>{if(b.indexOf(E)!==-1)return;const S=g.get(E);if(!S)return;const R=y.indexOf(E);let D=v;if(!D){const P=()=>{f.delete(E);const C=Array.from(g.keys()).filter(I=>!b.includes(I));if(C.forEach(I=>g.delete(I)),h.current=c.filter(I=>{const A=rs(I);return A===E||C.includes(A)}),!f.size){if(l.current===!1)return;a(),r&&r()}};D=m.createElement(Sg,{key:rs(S),isPresent:!1,onExitComplete:P,custom:e,presenceAffectsLayout:o,mode:s},S),f.set(E,D)}u.splice(R,0,D)}),u=u.map(v=>{const E=v.key;return f.has(E)?v:m.createElement(Sg,{key:rs(v),isPresent:!0,presenceAffectsLayout:o,mode:s},v)}),m.createElement(m.Fragment,null,f.size?u:u.map(v=>m.cloneElement(v)))};var Hz={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const qz=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Le=(t,e)=>{const n=m.forwardRef(({color:r="currentColor",size:i=24,strokeWidth:o=2,absoluteStrokeWidth:s,children:a,...l},c)=>m.createElement("svg",{ref:c,...Hz,width:i,height:i,stroke:r,strokeWidth:s?Number(o)*24/Number(i):o,className:`lucide lucide-${qz(t)}`,...l},[...e.map(([u,f])=>m.createElement(u,f)),...(Array.isArray(a)?a:[a])||[]]));return n.displayName=`${t}`,n},U2=Le("Archive",[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]]),Gz=Le("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]),Yz=Le("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]),nC=Le("CalendarDays",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]]),Kz=Le("CalendarPlus",[["path",{d:"M21 13V6a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h8",key:"3spt84"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}],["line",{x1:"19",x2:"19",y1:"16",y2:"22",key:"1ttwzi"}],["line",{x1:"16",x2:"22",y1:"19",y2:"19",key:"1g9955"}]]),Qz=Le("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]),Xz=Le("CheckSquare",[["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}],["path",{d:"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11",key:"1jnkn4"}]]),Sh=Le("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]),Jz=Le("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),Zz=Le("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]),eH=Le("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),tH=Le("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]),nH=Le("Droplets",[["path",{d:"M7 16.3c2.2 0 4-1.83 4-4.05 0-1.16-.57-2.26-1.71-3.19S7.29 6.75 7 5.3c-.29 1.45-1.14 2.84-2.29 3.76S3 11.1 3 12.25c0 2.22 1.8 4.05 4 4.05z",key:"1ptgy4"}],["path",{d:"M12.56 6.6A10.97 10.97 0 0 0 14 3.02c.5 2.5 2 4.9 4 6.5s3 3.5 3 5.5a6.98 6.98 0 0 1-11.91 4.97",key:"1sl1rz"}]]),f1=Le("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]),lu=Le("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),rH=Le("FilePlus",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"12",x2:"12",y1:"18",y2:"12",key:"1tsf04"}],["line",{x1:"9",x2:"15",y1:"15",y2:"15",key:"110plj"}]]),iH=Le("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]),rC=Le("KeyRound",[["path",{d:"M2 18v3c0 .6.4 1 1 1h4v-3h3v-3h2l1.4-1.4a6.5 6.5 0 1 0-4-4Z",key:"167ctg"}],["circle",{cx:"16.5",cy:"7.5",r:".5",key:"1kog09"}]]),oH=Le("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]),sH=Le("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]),aH=Le("Maximize",[["path",{d:"M8 3H5a2 2 0 0 0-2 2v3",key:"1dcmit"}],["path",{d:"M21 8V5a2 2 0 0 0-2-2h-3",key:"1e4gt3"}],["path",{d:"M3 16v3a2 2 0 0 0 2 2h3",key:"wsl5sc"}],["path",{d:"M16 21h3a2 2 0 0 0 2-2v-3",key:"18trek"}]]),lH=Le("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",key:"1xcu5"}],["circle",{cx:"17.5",cy:"10.5",r:".5",key:"736e4u"}],["circle",{cx:"8.5",cy:"7.5",r:".5",key:"clrty"}],["circle",{cx:"6.5",cy:"12.5",r:".5",key:"1s4xz9"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]),Vy=Le("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.5 3.5a2.12 2.12 0 0 1 3 3L7 19l-4 1 1-4Z",key:"ymcmye"}]]),Ph=Le("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]]),jy=Le("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),B2=Le("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]),cH=Le("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]),uH=Le("Thermometer",[["path",{d:"M14 4v10.54a4 4 0 1 1-4 0V4a2 2 0 0 1 4 0Z",key:"17jzev"}]]),Ih=Le("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),dH=Le("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]),fH=Le("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),cu=Le("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]),h1=Le("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),hH=()=>{const[t,e]=m.useState(!0),[n,r]=m.useState(""),[i,o]=m.useState(""),[s,a]=m.useState(""),{login:l,register:c,resetPassword:u}=_l(),f=wu(),{toast:h}=zo(),[g,w]=m.useState(!1),y=async x=>{x.preventDefault(),w(!0);try{if(t)await l(n,i),h({title:"Inicio de sesión exitoso",description:"Bienvenida de nuevo."}),f("/");else{if(i!==s){h({title:"Error de registro",description:"Las contraseñas no coinciden.",variant:"destructive"}),w(!1);return}await c(n,i),h({title:"Registro exitoso",description:"Tu cuenta ha sido creada."}),f("/")}}catch(v){h({title:t?"Error al iniciar sesión":"Error al registrarse",description:v.message,variant:"destructive"}),w(!1)}},b=async()=>{if(!n){h({title:"Correo requerido",description:"Introduce tu correo para restablecer la contraseña.",variant:"destructive"});return}try{await u(n),h({title:"Correo enviado",description:"Revisa tu bandeja para restablecer la contraseña."})}catch(x){h({title:"Error",description:x.message,variant:"destructive"})}};return p.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-pink-50 via-purple-50 to-indigo-50 flex flex-col justify-center items-center p-4",children:[p.jsxs(Ee.div,{className:"w-full max-w-md bg-white/80 backdrop-blur-md shadow-xl rounded-xl p-8 sm:p-10",initial:{opacity:0,y:-30},animate:{opacity:1,y:0},transition:{duration:.6,ease:"easeOut"},children:[p.jsxs("div",{className:"text-center mb-8",children:[p.jsx(Ee.h1,{className:"text-3xl sm:text-4xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-rose-400 via-pink-400 to-fuchsia-500 py-2 mb-2",initial:{opacity:0},animate:{opacity:1},transition:{delay:.2,duration:.5},children:"FertiliApp"}),p.jsx("p",{className:"text-gray-600 text-lg",children:t?"Inicia sesión para continuar":"Crea tu cuenta"})]}),p.jsxs("form",{onSubmit:y,className:"space-y-6",children:[p.jsxs("div",{className:"space-y-2",children:[p.jsxs(Rt,{htmlFor:"email",className:"flex items-center text-gray-700 text-lg",children:[p.jsx(sH,{className:"mr-2 h-5 w-5 text-pink-400"})," Correo Electrónico"]}),p.jsx(Vn,{id:"email",type:"email",value:n,onChange:x=>r(x.target.value),placeholder:"tu@email.com",required:!0,className:"bg-gray-50 border-gray-200 text-gray-800 placeholder-gray-400 focus:ring-pink-500 focus:border-pink-500 text-base py-3 px-4"})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsxs(Rt,{htmlFor:"password",className:"flex items-center text-gray-700 text-lg",children:[p.jsx(rC,{className:"mr-2 h-5 w-5 text-rose-400"})," Contraseña"]}),p.jsx(Vn,{id:"password",type:"password",value:i,onChange:x=>o(x.target.value),placeholder:"••••••••",required:!0,className:"bg-gray-50 border-gray-200 text-gray-800 placeholder-gray-400 focus:ring-pink-500 focus:border-pink-500 text-base py-3 px-4"})]}),t&&p.jsx("div",{className:"text-right",children:p.jsx(be,{variant:"link",type:"button",onClick:b,className:"text-pink-600 hover:text-pink-500 text-sm",children:"¿Olvidaste tu contraseña?"})}),!t&&p.jsxs("div",{className:"space-y-2",children:[p.jsxs(Rt,{htmlFor:"confirmPassword",className:"flex items-center text-gray-700 text-lg",children:[p.jsx(rC,{className:"mr-2 h-5 w-5 text-rose-400"})," Confirmar Contraseña"]}),p.jsx(Vn,{id:"confirmPassword",type:"password",value:s,onChange:x=>a(x.target.value),placeholder:"••••••••",required:!0,className:"bg-gray-50 border-gray-200 text-gray-800 placeholder-gray-400 focus:ring-pink-500 focus:border-pink-500 text-base py-3 px-4"})]}),p.jsx(be,{type:"submit",disabled:g,className:"w-full bg-gradient-to-r from-pink-500 to-fuchsia-600 hover:from-pink-600 hover:to-fuchsia-700 text-white font-semibold py-3 text-lg shadow-md hover:shadow-lg transition-all duration-300 transform hover:scale-105 flex items-center justify-center",children:g?p.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white"}):t?p.jsxs(p.Fragment,{children:[p.jsx(oH,{className:"mr-2 h-5 w-5"})," Iniciar Sesión"]}):p.jsxs(p.Fragment,{children:[p.jsx(dH,{className:"mr-2 h-5 w-5"})," Registrarse"]})})]}),p.jsx("div",{className:"mt-8 text-center",children:p.jsx(be,{variant:"link",onClick:()=>e(!t),className:"text-pink-600 hover:text-pink-500 text-base",children:t?"¿No tienes cuenta? Regístrate":"¿Ya tienes cuenta? Inicia sesión"})})]}),p.jsx("footer",{className:"w-full max-w-md mt-12 text-center text-gray-500 text-sm",children:p.jsxs("p",{children:["© ",new Date().getFullYear()," FertiliApp. Todos los derechos reservados."]})})]})},vf=xe.forwardRef(({className:t,...e},n)=>p.jsx("textarea",{className:Ue("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:n,...e}));vf.displayName="Textarea";function pH(t,e){const n=m.createContext(e),r=o=>{const{children:s,...a}=o,l=m.useMemo(()=>a,Object.values(a));return p.jsx(n.Provider,{value:l,children:s})};r.displayName=t+"Provider";function i(o){const s=m.useContext(n);if(s)return s;if(e!==void 0)return e;throw new Error(`\`${o}\` must be used within \`${t}\``)}return[r,i]}function js(t,e=[]){let n=[];function r(o,s){const a=m.createContext(s),l=n.length;n=[...n,s];const c=f=>{var x;const{scope:h,children:g,...w}=f,y=((x=h==null?void 0:h[t])==null?void 0:x[l])||a,b=m.useMemo(()=>w,Object.values(w));return p.jsx(y.Provider,{value:b,children:g})};c.displayName=o+"Provider";function u(f,h){var y;const g=((y=h==null?void 0:h[t])==null?void 0:y[l])||a,w=m.useContext(g);if(w)return w;if(s!==void 0)return s;throw new Error(`\`${f}\` must be used within \`${o}\``)}return[c,u]}const i=()=>{const o=n.map(s=>m.createContext(s));return function(a){const l=(a==null?void 0:a[t])||o;return m.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return i.scopeName=t,[r,mH(i,...e)]}function mH(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(o){const s=r.reduce((a,{useScope:l,scopeName:c})=>{const f=l(o)[`__scope${c}`];return{...a,...f}},{});return m.useMemo(()=>({[`__scope${e.scopeName}`]:s}),[s])}};return n.scopeName=e.scopeName,n}function $e(t,e,{checkForDefaultPrevented:n=!0}={}){return function(i){if(t==null||t(i),n===!1||!i.defaultPrevented)return e==null?void 0:e(i)}}var qr=globalThis!=null&&globalThis.document?m.useLayoutEffect:()=>{},gH=zh[" useInsertionEffect ".trim().toString()]||qr;function Up({prop:t,defaultProp:e,onChange:n=()=>{},caller:r}){const[i,o,s]=vH({defaultProp:e,onChange:n}),a=t!==void 0,l=a?t:i;{const u=m.useRef(t!==void 0);m.useEffect(()=>{const f=u.current;f!==a&&console.warn(`${r} is changing from ${f?"controlled":"uncontrolled"} to ${a?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),u.current=a},[a,r])}const c=m.useCallback(u=>{var f;if(a){const h=yH(u)?u(t):u;h!==t&&((f=s.current)==null||f.call(s,h))}else o(u)},[a,t,o,s]);return[l,c]}function vH({defaultProp:t,onChange:e}){const[n,r]=m.useState(t),i=m.useRef(n),o=m.useRef(e);return gH(()=>{o.current=e},[e]),m.useEffect(()=>{var s;i.current!==n&&((s=o.current)==null||s.call(o,n),i.current=n)},[n,i]),[n,r,o]}function yH(t){return typeof t=="function"}function wH(t){const e=m.useRef({value:t,previous:t});return m.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}function W2(t){const[e,n]=m.useState(void 0);return qr(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const o=i[0];let s,a;if("borderBoxSize"in o){const l=o.borderBoxSize,c=Array.isArray(l)?l[0]:l;s=c.inlineSize,a=c.blockSize}else s=t.offsetWidth,a=t.offsetHeight;n({width:s,height:a})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}function xH(t,e){return m.useReducer((n,r)=>e[n][r]??n,t)}var tr=t=>{const{present:e,children:n}=t,r=_H(e),i=typeof n=="function"?n({present:r.isPresent}):m.Children.only(n),o=lt(r.ref,EH(i));return typeof n=="function"||r.isPresent?m.cloneElement(i,{ref:o}):null};tr.displayName="Presence";function _H(t){const[e,n]=m.useState(),r=m.useRef(null),i=m.useRef(t),o=m.useRef("none"),s=t?"mounted":"unmounted",[a,l]=xH(s,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return m.useEffect(()=>{const c=Od(r.current);o.current=a==="mounted"?c:"none"},[a]),qr(()=>{const c=r.current,u=i.current;if(u!==t){const h=o.current,g=Od(c);t?l("MOUNT"):g==="none"||(c==null?void 0:c.display)==="none"?l("UNMOUNT"):l(u&&h!==g?"ANIMATION_OUT":"UNMOUNT"),i.current=t}},[t,l]),qr(()=>{if(e){let c;const u=e.ownerDocument.defaultView??window,f=g=>{const y=Od(r.current).includes(g.animationName);if(g.target===e&&y&&(l("ANIMATION_END"),!i.current)){const b=e.style.animationFillMode;e.style.animationFillMode="forwards",c=u.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=b)})}},h=g=>{g.target===e&&(o.current=Od(r.current))};return e.addEventListener("animationstart",h),e.addEventListener("animationcancel",f),e.addEventListener("animationend",f),()=>{u.clearTimeout(c),e.removeEventListener("animationstart",h),e.removeEventListener("animationcancel",f),e.removeEventListener("animationend",f)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:m.useCallback(c=>{r.current=c?getComputedStyle(c):null,n(c)},[])}}function Od(t){return(t==null?void 0:t.animationName)||"none"}function EH(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var Bp="Checkbox",[bH,vne]=js(Bp),[TH,p1]=bH(Bp);function CH(t){const{__scopeCheckbox:e,checked:n,children:r,defaultChecked:i,disabled:o,form:s,name:a,onCheckedChange:l,required:c,value:u="on",internal_do_not_use_render:f}=t,[h,g]=Up({prop:n,defaultProp:i??!1,onChange:l,caller:Bp}),[w,y]=m.useState(null),[b,x]=m.useState(null),v=m.useRef(!1),E=w?!!s||!!w.closest("form"):!0,S={checked:h,disabled:o,setChecked:g,control:w,setControl:y,name:a,form:s,value:u,hasConsumerStoppedPropagationRef:v,required:c,defaultChecked:bo(i)?!1:i,isFormControl:E,bubbleInput:b,setBubbleInput:x};return p.jsx(TH,{scope:e,...S,children:SH(f)?f(S):r})}var z2="CheckboxTrigger",H2=m.forwardRef(({__scopeCheckbox:t,onKeyDown:e,onClick:n,...r},i)=>{const{control:o,value:s,disabled:a,checked:l,required:c,setControl:u,setChecked:f,hasConsumerStoppedPropagationRef:h,isFormControl:g,bubbleInput:w}=p1(z2,t),y=lt(i,u),b=m.useRef(l);return m.useEffect(()=>{const x=o==null?void 0:o.form;if(x){const v=()=>f(b.current);return x.addEventListener("reset",v),()=>x.removeEventListener("reset",v)}},[o,f]),p.jsx(ze.button,{type:"button",role:"checkbox","aria-checked":bo(l)?"mixed":l,"aria-required":c,"data-state":Q2(l),"data-disabled":a?"":void 0,disabled:a,value:s,...r,ref:y,onKeyDown:$e(e,x=>{x.key==="Enter"&&x.preventDefault()}),onClick:$e(n,x=>{f(v=>bo(v)?!0:!v),w&&g&&(h.current=x.isPropagationStopped(),h.current||x.stopPropagation())})})});H2.displayName=z2;var m1=m.forwardRef((t,e)=>{const{__scopeCheckbox:n,name:r,checked:i,defaultChecked:o,required:s,disabled:a,value:l,onCheckedChange:c,form:u,...f}=t;return p.jsx(CH,{__scopeCheckbox:n,checked:i,defaultChecked:o,disabled:a,required:s,onCheckedChange:c,name:r,form:u,value:l,internal_do_not_use_render:({isFormControl:h})=>p.jsxs(p.Fragment,{children:[p.jsx(H2,{...f,ref:e,__scopeCheckbox:n}),h&&p.jsx(K2,{__scopeCheckbox:n})]})})});m1.displayName=Bp;var q2="CheckboxIndicator",G2=m.forwardRef((t,e)=>{const{__scopeCheckbox:n,forceMount:r,...i}=t,o=p1(q2,n);return p.jsx(tr,{present:r||bo(o.checked)||o.checked===!0,children:p.jsx(ze.span,{"data-state":Q2(o.checked),"data-disabled":o.disabled?"":void 0,...i,ref:e,style:{pointerEvents:"none",...t.style}})})});G2.displayName=q2;var Y2="CheckboxBubbleInput",K2=m.forwardRef(({__scopeCheckbox:t,...e},n)=>{const{control:r,hasConsumerStoppedPropagationRef:i,checked:o,defaultChecked:s,required:a,disabled:l,name:c,value:u,form:f,bubbleInput:h,setBubbleInput:g}=p1(Y2,t),w=lt(n,g),y=wH(o),b=W2(r);m.useEffect(()=>{const v=h;if(!v)return;const E=window.HTMLInputElement.prototype,R=Object.getOwnPropertyDescriptor(E,"checked").set,D=!i.current;if(y!==o&&R){const P=new Event("click",{bubbles:D});v.indeterminate=bo(o),R.call(v,bo(o)?!1:o),v.dispatchEvent(P)}},[h,y,o,i]);const x=m.useRef(bo(o)?!1:o);return p.jsx(ze.input,{type:"checkbox","aria-hidden":!0,defaultChecked:s??x.current,required:a,disabled:l,name:c,value:u,form:f,...e,tabIndex:-1,ref:w,style:{...e.style,...b,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});K2.displayName=Y2;function SH(t){return typeof t=="function"}function bo(t){return t==="indeterminate"}function Q2(t){return bo(t)?"indeterminate":t?"checked":"unchecked"}const X2=xe.forwardRef(({className:t,...e},n)=>p.jsx(m1,{ref:n,className:Ue("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",t),...e,children:p.jsx(G2,{className:Ue("flex items-center justify-center text-current"),children:p.jsx(Sh,{className:"h-4 w-4"})})}));X2.displayName=m1.displayName;function gr(t){"@babel/helpers - typeof";return gr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gr(t)}function Je(t){if(t===null||t===!0||t===!1)return NaN;var e=Number(t);return isNaN(e)?e:e<0?Math.ceil(e):Math.floor(e)}function de(t,e){if(e.length<t)throw new TypeError(t+" argument"+(t>1?"s":"")+" required, but only "+e.length+" present")}function ve(t){de(1,arguments);var e=Object.prototype.toString.call(t);return t instanceof Date||gr(t)==="object"&&e==="[object Date]"?new Date(t.getTime()):typeof t=="number"||e==="[object Number]"?new Date(t):((typeof t=="string"||e==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}function Dt(t,e){de(2,arguments);var n=ve(t),r=Je(e);return isNaN(r)?new Date(NaN):(r&&n.setDate(n.getDate()+r),n)}function vr(t,e){de(2,arguments);var n=ve(t),r=Je(e);if(isNaN(r))return new Date(NaN);if(!r)return n;var i=n.getDate(),o=new Date(n.getTime());o.setMonth(n.getMonth()+r+1,0);var s=o.getDate();return i>=s?o:(n.setFullYear(o.getFullYear(),o.getMonth(),i),n)}function PH(t,e){de(2,arguments);var n=ve(t).getTime(),r=Je(e);return new Date(n+r)}var IH={};function Kr(){return IH}function Gr(t,e){var n,r,i,o,s,a,l,c;de(1,arguments);var u=Kr(),f=Je((n=(r=(i=(o=e==null?void 0:e.weekStartsOn)!==null&&o!==void 0?o:e==null||(s=e.locale)===null||s===void 0||(a=s.options)===null||a===void 0?void 0:a.weekStartsOn)!==null&&i!==void 0?i:u.weekStartsOn)!==null&&r!==void 0?r:(l=u.locale)===null||l===void 0||(c=l.options)===null||c===void 0?void 0:c.weekStartsOn)!==null&&n!==void 0?n:0);if(!(f>=0&&f<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var h=ve(t),g=h.getDay(),w=(g<f?7:0)+g-f;return h.setDate(h.getDate()-w),h.setHours(0,0,0,0),h}function Ss(t){return de(1,arguments),Gr(t,{weekStartsOn:1})}function AH(t){de(1,arguments);var e=ve(t),n=e.getFullYear(),r=new Date(0);r.setFullYear(n+1,0,4),r.setHours(0,0,0,0);var i=Ss(r),o=new Date(0);o.setFullYear(n,0,4),o.setHours(0,0,0,0);var s=Ss(o);return e.getTime()>=i.getTime()?n+1:e.getTime()>=s.getTime()?n:n-1}function kH(t){de(1,arguments);var e=AH(t),n=new Date(0);n.setFullYear(e,0,4),n.setHours(0,0,0,0);var r=Ss(n);return r}function tl(t){var e=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return e.setUTCFullYear(t.getFullYear()),t.getTime()-e.getTime()}function Se(t){de(1,arguments);var e=ve(t);return e.setHours(0,0,0,0),e}var RH=864e5;function Nr(t,e){de(2,arguments);var n=Se(t),r=Se(e),i=n.getTime()-tl(n),o=r.getTime()-tl(r);return Math.round((i-o)/RH)}function Fy(t,e){de(2,arguments);var n=Je(e),r=n*7;return Dt(t,r)}function NH(t,e){de(2,arguments);var n=Je(e);return vr(t,n*12)}function DH(t){de(1,arguments);var e;if(t&&typeof t.forEach=="function")e=t;else if(gr(t)==="object"&&t!==null)e=Array.prototype.slice.call(t);else return new Date(NaN);var n;return e.forEach(function(r){var i=ve(r);(n===void 0||n<i||isNaN(Number(i)))&&(n=i)}),n||new Date(NaN)}function MH(t){de(1,arguments);var e;if(t&&typeof t.forEach=="function")e=t;else if(gr(t)==="object"&&t!==null)e=Array.prototype.slice.call(t);else return new Date(NaN);var n;return e.forEach(function(r){var i=ve(r);(n===void 0||n>i||isNaN(i.getDate()))&&(n=i)}),n||new Date(NaN)}function OH(t,e){de(2,arguments);var n=ve(t),r=ve(e),i=n.getTime()-r.getTime();return i<0?-1:i>0?1:i}var g1=6e4,v1=36e5,LH=1e3;function Tn(t,e){de(2,arguments);var n=Se(t),r=Se(e);return n.getTime()===r.getTime()}function y1(t){return de(1,arguments),t instanceof Date||gr(t)==="object"&&Object.prototype.toString.call(t)==="[object Date]"}function VH(t){if(de(1,arguments),!y1(t)&&typeof t!="number")return!1;var e=ve(t);return!isNaN(Number(e))}function uu(t,e){de(2,arguments);var n=ve(t),r=ve(e),i=n.getFullYear()-r.getFullYear(),o=n.getMonth()-r.getMonth();return i*12+o}var jH=6048e5;function FH(t,e,n){de(2,arguments);var r=Gr(t,n),i=Gr(e,n),o=r.getTime()-tl(r),s=i.getTime()-tl(i);return Math.round((o-s)/jH)}function iC(t,e){var n=t.getFullYear()-e.getFullYear()||t.getMonth()-e.getMonth()||t.getDate()-e.getDate()||t.getHours()-e.getHours()||t.getMinutes()-e.getMinutes()||t.getSeconds()-e.getSeconds()||t.getMilliseconds()-e.getMilliseconds();return n<0?-1:n>0?1:n}function To(t,e){de(2,arguments);var n=ve(t),r=ve(e),i=iC(n,r),o=Math.abs(Nr(n,r));n.setDate(n.getDate()-i*o);var s=+(iC(n,r)===-i),a=i*(o-s);return a===0?0:a}function w1(t){de(1,arguments);var e=ve(t),n=e.getMonth();return e.setFullYear(e.getFullYear(),n+1,0),e.setHours(23,59,59,999),e}function In(t){de(1,arguments);var e=ve(t);return e.setDate(1),e.setHours(0,0,0,0),e}function $H(t){de(1,arguments);var e=ve(t),n=new Date(0);return n.setFullYear(e.getFullYear(),0,1),n.setHours(0,0,0,0),n}function x1(t,e){var n,r,i,o,s,a,l,c;de(1,arguments);var u=Kr(),f=Je((n=(r=(i=(o=e==null?void 0:e.weekStartsOn)!==null&&o!==void 0?o:e==null||(s=e.locale)===null||s===void 0||(a=s.options)===null||a===void 0?void 0:a.weekStartsOn)!==null&&i!==void 0?i:u.weekStartsOn)!==null&&r!==void 0?r:(l=u.locale)===null||l===void 0||(c=l.options)===null||c===void 0?void 0:c.weekStartsOn)!==null&&n!==void 0?n:0);if(!(f>=0&&f<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var h=ve(t),g=h.getDay(),w=(g<f?-7:0)+6-(g-f);return h.setDate(h.getDate()+w),h.setHours(23,59,59,999),h}function J2(t){return de(1,arguments),x1(t,{weekStartsOn:1})}function Z2(t,e){de(2,arguments);var n=Je(e);return PH(t,-n)}var UH=864e5;function BH(t){de(1,arguments);var e=ve(t),n=e.getTime();e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0);var r=e.getTime(),i=n-r;return Math.floor(i/UH)+1}function nl(t){de(1,arguments);var e=1,n=ve(t),r=n.getUTCDay(),i=(r<e?7:0)+r-e;return n.setUTCDate(n.getUTCDate()-i),n.setUTCHours(0,0,0,0),n}function eN(t){de(1,arguments);var e=ve(t),n=e.getUTCFullYear(),r=new Date(0);r.setUTCFullYear(n+1,0,4),r.setUTCHours(0,0,0,0);var i=nl(r),o=new Date(0);o.setUTCFullYear(n,0,4),o.setUTCHours(0,0,0,0);var s=nl(o);return e.getTime()>=i.getTime()?n+1:e.getTime()>=s.getTime()?n:n-1}function WH(t){de(1,arguments);var e=eN(t),n=new Date(0);n.setUTCFullYear(e,0,4),n.setUTCHours(0,0,0,0);var r=nl(n);return r}var zH=6048e5;function tN(t){de(1,arguments);var e=ve(t),n=nl(e).getTime()-WH(e).getTime();return Math.round(n/zH)+1}function Ps(t,e){var n,r,i,o,s,a,l,c;de(1,arguments);var u=Kr(),f=Je((n=(r=(i=(o=e==null?void 0:e.weekStartsOn)!==null&&o!==void 0?o:e==null||(s=e.locale)===null||s===void 0||(a=s.options)===null||a===void 0?void 0:a.weekStartsOn)!==null&&i!==void 0?i:u.weekStartsOn)!==null&&r!==void 0?r:(l=u.locale)===null||l===void 0||(c=l.options)===null||c===void 0?void 0:c.weekStartsOn)!==null&&n!==void 0?n:0);if(!(f>=0&&f<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var h=ve(t),g=h.getUTCDay(),w=(g<f?7:0)+g-f;return h.setUTCDate(h.getUTCDate()-w),h.setUTCHours(0,0,0,0),h}function _1(t,e){var n,r,i,o,s,a,l,c;de(1,arguments);var u=ve(t),f=u.getUTCFullYear(),h=Kr(),g=Je((n=(r=(i=(o=e==null?void 0:e.firstWeekContainsDate)!==null&&o!==void 0?o:e==null||(s=e.locale)===null||s===void 0||(a=s.options)===null||a===void 0?void 0:a.firstWeekContainsDate)!==null&&i!==void 0?i:h.firstWeekContainsDate)!==null&&r!==void 0?r:(l=h.locale)===null||l===void 0||(c=l.options)===null||c===void 0?void 0:c.firstWeekContainsDate)!==null&&n!==void 0?n:1);if(!(g>=1&&g<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var w=new Date(0);w.setUTCFullYear(f+1,0,g),w.setUTCHours(0,0,0,0);var y=Ps(w,e),b=new Date(0);b.setUTCFullYear(f,0,g),b.setUTCHours(0,0,0,0);var x=Ps(b,e);return u.getTime()>=y.getTime()?f+1:u.getTime()>=x.getTime()?f:f-1}function HH(t,e){var n,r,i,o,s,a,l,c;de(1,arguments);var u=Kr(),f=Je((n=(r=(i=(o=e==null?void 0:e.firstWeekContainsDate)!==null&&o!==void 0?o:e==null||(s=e.locale)===null||s===void 0||(a=s.options)===null||a===void 0?void 0:a.firstWeekContainsDate)!==null&&i!==void 0?i:u.firstWeekContainsDate)!==null&&r!==void 0?r:(l=u.locale)===null||l===void 0||(c=l.options)===null||c===void 0?void 0:c.firstWeekContainsDate)!==null&&n!==void 0?n:1),h=_1(t,e),g=new Date(0);g.setUTCFullYear(h,0,f),g.setUTCHours(0,0,0,0);var w=Ps(g,e);return w}var qH=6048e5;function nN(t,e){de(1,arguments);var n=ve(t),r=Ps(n,e).getTime()-HH(n,e).getTime();return Math.round(r/qH)+1}function He(t,e){for(var n=t<0?"-":"",r=Math.abs(t).toString();r.length<e;)r="0"+r;return n+r}var GH={y:function(e,n){var r=e.getUTCFullYear(),i=r>0?r:1-r;return He(n==="yy"?i%100:i,n.length)},M:function(e,n){var r=e.getUTCMonth();return n==="M"?String(r+1):He(r+1,2)},d:function(e,n){return He(e.getUTCDate(),n.length)},a:function(e,n){var r=e.getUTCHours()/12>=1?"pm":"am";switch(n){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h:function(e,n){return He(e.getUTCHours()%12||12,n.length)},H:function(e,n){return He(e.getUTCHours(),n.length)},m:function(e,n){return He(e.getUTCMinutes(),n.length)},s:function(e,n){return He(e.getUTCSeconds(),n.length)},S:function(e,n){var r=n.length,i=e.getUTCMilliseconds(),o=Math.floor(i*Math.pow(10,r-3));return He(o,n.length)}};const Wi=GH;var Hs={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},YH={G:function(e,n,r){var i=e.getUTCFullYear()>0?1:0;switch(n){case"G":case"GG":case"GGG":return r.era(i,{width:"abbreviated"});case"GGGGG":return r.era(i,{width:"narrow"});case"GGGG":default:return r.era(i,{width:"wide"})}},y:function(e,n,r){if(n==="yo"){var i=e.getUTCFullYear(),o=i>0?i:1-i;return r.ordinalNumber(o,{unit:"year"})}return Wi.y(e,n)},Y:function(e,n,r,i){var o=_1(e,i),s=o>0?o:1-o;if(n==="YY"){var a=s%100;return He(a,2)}return n==="Yo"?r.ordinalNumber(s,{unit:"year"}):He(s,n.length)},R:function(e,n){var r=eN(e);return He(r,n.length)},u:function(e,n){var r=e.getUTCFullYear();return He(r,n.length)},Q:function(e,n,r){var i=Math.ceil((e.getUTCMonth()+1)/3);switch(n){case"Q":return String(i);case"QQ":return He(i,2);case"Qo":return r.ordinalNumber(i,{unit:"quarter"});case"QQQ":return r.quarter(i,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(i,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(i,{width:"wide",context:"formatting"})}},q:function(e,n,r){var i=Math.ceil((e.getUTCMonth()+1)/3);switch(n){case"q":return String(i);case"qq":return He(i,2);case"qo":return r.ordinalNumber(i,{unit:"quarter"});case"qqq":return r.quarter(i,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(i,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(i,{width:"wide",context:"standalone"})}},M:function(e,n,r){var i=e.getUTCMonth();switch(n){case"M":case"MM":return Wi.M(e,n);case"Mo":return r.ordinalNumber(i+1,{unit:"month"});case"MMM":return r.month(i,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(i,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(i,{width:"wide",context:"formatting"})}},L:function(e,n,r){var i=e.getUTCMonth();switch(n){case"L":return String(i+1);case"LL":return He(i+1,2);case"Lo":return r.ordinalNumber(i+1,{unit:"month"});case"LLL":return r.month(i,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(i,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(i,{width:"wide",context:"standalone"})}},w:function(e,n,r,i){var o=nN(e,i);return n==="wo"?r.ordinalNumber(o,{unit:"week"}):He(o,n.length)},I:function(e,n,r){var i=tN(e);return n==="Io"?r.ordinalNumber(i,{unit:"week"}):He(i,n.length)},d:function(e,n,r){return n==="do"?r.ordinalNumber(e.getUTCDate(),{unit:"date"}):Wi.d(e,n)},D:function(e,n,r){var i=BH(e);return n==="Do"?r.ordinalNumber(i,{unit:"dayOfYear"}):He(i,n.length)},E:function(e,n,r){var i=e.getUTCDay();switch(n){case"E":case"EE":case"EEE":return r.day(i,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(i,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(i,{width:"short",context:"formatting"});case"EEEE":default:return r.day(i,{width:"wide",context:"formatting"})}},e:function(e,n,r,i){var o=e.getUTCDay(),s=(o-i.weekStartsOn+8)%7||7;switch(n){case"e":return String(s);case"ee":return He(s,2);case"eo":return r.ordinalNumber(s,{unit:"day"});case"eee":return r.day(o,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(o,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(o,{width:"short",context:"formatting"});case"eeee":default:return r.day(o,{width:"wide",context:"formatting"})}},c:function(e,n,r,i){var o=e.getUTCDay(),s=(o-i.weekStartsOn+8)%7||7;switch(n){case"c":return String(s);case"cc":return He(s,n.length);case"co":return r.ordinalNumber(s,{unit:"day"});case"ccc":return r.day(o,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(o,{width:"narrow",context:"standalone"});case"cccccc":return r.day(o,{width:"short",context:"standalone"});case"cccc":default:return r.day(o,{width:"wide",context:"standalone"})}},i:function(e,n,r){var i=e.getUTCDay(),o=i===0?7:i;switch(n){case"i":return String(o);case"ii":return He(o,n.length);case"io":return r.ordinalNumber(o,{unit:"day"});case"iii":return r.day(i,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(i,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(i,{width:"short",context:"formatting"});case"iiii":default:return r.day(i,{width:"wide",context:"formatting"})}},a:function(e,n,r){var i=e.getUTCHours(),o=i/12>=1?"pm":"am";switch(n){case"a":case"aa":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(o,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(o,{width:"wide",context:"formatting"})}},b:function(e,n,r){var i=e.getUTCHours(),o;switch(i===12?o=Hs.noon:i===0?o=Hs.midnight:o=i/12>=1?"pm":"am",n){case"b":case"bb":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(o,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(o,{width:"wide",context:"formatting"})}},B:function(e,n,r){var i=e.getUTCHours(),o;switch(i>=17?o=Hs.evening:i>=12?o=Hs.afternoon:i>=4?o=Hs.morning:o=Hs.night,n){case"B":case"BB":case"BBB":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(o,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(o,{width:"wide",context:"formatting"})}},h:function(e,n,r){if(n==="ho"){var i=e.getUTCHours()%12;return i===0&&(i=12),r.ordinalNumber(i,{unit:"hour"})}return Wi.h(e,n)},H:function(e,n,r){return n==="Ho"?r.ordinalNumber(e.getUTCHours(),{unit:"hour"}):Wi.H(e,n)},K:function(e,n,r){var i=e.getUTCHours()%12;return n==="Ko"?r.ordinalNumber(i,{unit:"hour"}):He(i,n.length)},k:function(e,n,r){var i=e.getUTCHours();return i===0&&(i=24),n==="ko"?r.ordinalNumber(i,{unit:"hour"}):He(i,n.length)},m:function(e,n,r){return n==="mo"?r.ordinalNumber(e.getUTCMinutes(),{unit:"minute"}):Wi.m(e,n)},s:function(e,n,r){return n==="so"?r.ordinalNumber(e.getUTCSeconds(),{unit:"second"}):Wi.s(e,n)},S:function(e,n){return Wi.S(e,n)},X:function(e,n,r,i){var o=i._originalDate||e,s=o.getTimezoneOffset();if(s===0)return"Z";switch(n){case"X":return sC(s);case"XXXX":case"XX":return is(s);case"XXXXX":case"XXX":default:return is(s,":")}},x:function(e,n,r,i){var o=i._originalDate||e,s=o.getTimezoneOffset();switch(n){case"x":return sC(s);case"xxxx":case"xx":return is(s);case"xxxxx":case"xxx":default:return is(s,":")}},O:function(e,n,r,i){var o=i._originalDate||e,s=o.getTimezoneOffset();switch(n){case"O":case"OO":case"OOO":return"GMT"+oC(s,":");case"OOOO":default:return"GMT"+is(s,":")}},z:function(e,n,r,i){var o=i._originalDate||e,s=o.getTimezoneOffset();switch(n){case"z":case"zz":case"zzz":return"GMT"+oC(s,":");case"zzzz":default:return"GMT"+is(s,":")}},t:function(e,n,r,i){var o=i._originalDate||e,s=Math.floor(o.getTime()/1e3);return He(s,n.length)},T:function(e,n,r,i){var o=i._originalDate||e,s=o.getTime();return He(s,n.length)}};function oC(t,e){var n=t>0?"-":"+",r=Math.abs(t),i=Math.floor(r/60),o=r%60;if(o===0)return n+String(i);var s=e||"";return n+String(i)+s+He(o,2)}function sC(t,e){if(t%60===0){var n=t>0?"-":"+";return n+He(Math.abs(t)/60,2)}return is(t,e)}function is(t,e){var n=e||"",r=t>0?"-":"+",i=Math.abs(t),o=He(Math.floor(i/60),2),s=He(i%60,2);return r+o+n+s}const KH=YH;var aC=function(e,n){switch(e){case"P":return n.date({width:"short"});case"PP":return n.date({width:"medium"});case"PPP":return n.date({width:"long"});case"PPPP":default:return n.date({width:"full"})}},rN=function(e,n){switch(e){case"p":return n.time({width:"short"});case"pp":return n.time({width:"medium"});case"ppp":return n.time({width:"long"});case"pppp":default:return n.time({width:"full"})}},QH=function(e,n){var r=e.match(/(P+)(p+)?/)||[],i=r[1],o=r[2];if(!o)return aC(e,n);var s;switch(i){case"P":s=n.dateTime({width:"short"});break;case"PP":s=n.dateTime({width:"medium"});break;case"PPP":s=n.dateTime({width:"long"});break;case"PPPP":default:s=n.dateTime({width:"full"});break}return s.replace("{{date}}",aC(i,n)).replace("{{time}}",rN(o,n))},XH={p:rN,P:QH};const $y=XH;var JH=["D","DD"],ZH=["YY","YYYY"];function iN(t){return JH.indexOf(t)!==-1}function oN(t){return ZH.indexOf(t)!==-1}function Ah(t,e,n){if(t==="YYYY")throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(e,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(t==="YY")throw new RangeError("Use `yy` instead of `YY` (in `".concat(e,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(t==="D")throw new RangeError("Use `d` instead of `D` (in `".concat(e,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(t==="DD")throw new RangeError("Use `dd` instead of `DD` (in `".concat(e,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}var eq={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},tq=function(e,n,r){var i,o=eq[e];return typeof o=="string"?i=o:n===1?i=o.one:i=o.other.replace("{{count}}",n.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+i:i+" ago":i};const nq=tq;function Ma(t){return function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.width?String(e.width):t.defaultWidth,r=t.formats[n]||t.formats[t.defaultWidth];return r}}var rq={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},iq={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},oq={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},sq={date:Ma({formats:rq,defaultWidth:"full"}),time:Ma({formats:iq,defaultWidth:"full"}),dateTime:Ma({formats:oq,defaultWidth:"full"})};const aq=sq;var lq={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},cq=function(e,n,r,i){return lq[e]};const uq=cq;function Ir(t){return function(e,n){var r=n!=null&&n.context?String(n.context):"standalone",i;if(r==="formatting"&&t.formattingValues){var o=t.defaultFormattingWidth||t.defaultWidth,s=n!=null&&n.width?String(n.width):o;i=t.formattingValues[s]||t.formattingValues[o]}else{var a=t.defaultWidth,l=n!=null&&n.width?String(n.width):t.defaultWidth;i=t.values[l]||t.values[a]}var c=t.argumentCallback?t.argumentCallback(e):e;return i[c]}}var dq={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},fq={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},hq={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},pq={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},mq={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},gq={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},vq=function(e,n){var r=Number(e),i=r%100;if(i>20||i<10)switch(i%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},yq={ordinalNumber:vq,era:Ir({values:dq,defaultWidth:"wide"}),quarter:Ir({values:fq,defaultWidth:"wide",argumentCallback:function(e){return e-1}}),month:Ir({values:hq,defaultWidth:"wide"}),day:Ir({values:pq,defaultWidth:"wide"}),dayPeriod:Ir({values:mq,defaultWidth:"wide",formattingValues:gq,defaultFormattingWidth:"wide"})};const wq=yq;function Ar(t){return function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=n.width,i=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],o=e.match(i);if(!o)return null;var s=o[0],a=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],l=Array.isArray(a)?_q(a,function(f){return f.test(s)}):xq(a,function(f){return f.test(s)}),c;c=t.valueCallback?t.valueCallback(l):l,c=n.valueCallback?n.valueCallback(c):c;var u=e.slice(s.length);return{value:c,rest:u}}}function xq(t,e){for(var n in t)if(t.hasOwnProperty(n)&&e(t[n]))return n}function _q(t,e){for(var n=0;n<t.length;n++)if(e(t[n]))return n}function sN(t){return function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=e.match(t.matchPattern);if(!r)return null;var i=r[0],o=e.match(t.parsePattern);if(!o)return null;var s=t.valueCallback?t.valueCallback(o[0]):o[0];s=n.valueCallback?n.valueCallback(s):s;var a=e.slice(i.length);return{value:s,rest:a}}}var Eq=/^(\d+)(th|st|nd|rd)?/i,bq=/\d+/i,Tq={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Cq={any:[/^b/i,/^(a|c)/i]},Sq={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Pq={any:[/1/i,/2/i,/3/i,/4/i]},Iq={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Aq={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},kq={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Rq={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Nq={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Dq={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Mq={ordinalNumber:sN({matchPattern:Eq,parsePattern:bq,valueCallback:function(e){return parseInt(e,10)}}),era:Ar({matchPatterns:Tq,defaultMatchWidth:"wide",parsePatterns:Cq,defaultParseWidth:"any"}),quarter:Ar({matchPatterns:Sq,defaultMatchWidth:"wide",parsePatterns:Pq,defaultParseWidth:"any",valueCallback:function(e){return e+1}}),month:Ar({matchPatterns:Iq,defaultMatchWidth:"wide",parsePatterns:Aq,defaultParseWidth:"any"}),day:Ar({matchPatterns:kq,defaultMatchWidth:"wide",parsePatterns:Rq,defaultParseWidth:"any"}),dayPeriod:Ar({matchPatterns:Nq,defaultMatchWidth:"any",parsePatterns:Dq,defaultParseWidth:"any"})};const Oq=Mq;var Lq={code:"en-US",formatDistance:nq,formatLong:aq,formatRelative:uq,localize:wq,match:Oq,options:{weekStartsOn:0,firstWeekContainsDate:1}};const E1=Lq;var Vq=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,jq=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Fq=/^'([^]*?)'?$/,$q=/''/g,Uq=/[a-zA-Z]/;function Te(t,e,n){var r,i,o,s,a,l,c,u,f,h,g,w,y,b,x,v,E,S;de(2,arguments);var R=String(e),D=Kr(),P=(r=(i=n==null?void 0:n.locale)!==null&&i!==void 0?i:D.locale)!==null&&r!==void 0?r:E1,C=Je((o=(s=(a=(l=n==null?void 0:n.firstWeekContainsDate)!==null&&l!==void 0?l:n==null||(c=n.locale)===null||c===void 0||(u=c.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&a!==void 0?a:D.firstWeekContainsDate)!==null&&s!==void 0?s:(f=D.locale)===null||f===void 0||(h=f.options)===null||h===void 0?void 0:h.firstWeekContainsDate)!==null&&o!==void 0?o:1);if(!(C>=1&&C<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var I=Je((g=(w=(y=(b=n==null?void 0:n.weekStartsOn)!==null&&b!==void 0?b:n==null||(x=n.locale)===null||x===void 0||(v=x.options)===null||v===void 0?void 0:v.weekStartsOn)!==null&&y!==void 0?y:D.weekStartsOn)!==null&&w!==void 0?w:(E=D.locale)===null||E===void 0||(S=E.options)===null||S===void 0?void 0:S.weekStartsOn)!==null&&g!==void 0?g:0);if(!(I>=0&&I<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!P.localize)throw new RangeError("locale must contain localize property");if(!P.formatLong)throw new RangeError("locale must contain formatLong property");var A=ve(t);if(!VH(A))throw new RangeError("Invalid time value");var M=tl(A),O=Z2(A,M),N={firstWeekContainsDate:C,weekStartsOn:I,locale:P,_originalDate:A},F=R.match(jq).map(function(G){var K=G[0];if(K==="p"||K==="P"){var W=$y[K];return W(G,P.formatLong)}return G}).join("").match(Vq).map(function(G){if(G==="''")return"'";var K=G[0];if(K==="'")return Bq(G);var W=KH[K];if(W)return!(n!=null&&n.useAdditionalWeekYearTokens)&&oN(G)&&Ah(G,e,String(t)),!(n!=null&&n.useAdditionalDayOfYearTokens)&&iN(G)&&Ah(G,e,String(t)),W(O,G,P.localize,N);if(K.match(Uq))throw new RangeError("Format string contains an unescaped latin alphabet character `"+K+"`");return G}).join("");return F}function Bq(t){var e=t.match(Fq);return e?e[1].replace($q,"'"):t}function Wq(t,e){if(t==null)throw new TypeError("assign requires that input parameter not be null or undefined");for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}function zq(t){de(1,arguments);var e=ve(t),n=e.getFullYear(),r=e.getMonth(),i=new Date(0);return i.setFullYear(n,r+1,0),i.setHours(0,0,0,0),i.getDate()}var Hq=6048e5;function qq(t){de(1,arguments);var e=ve(t),n=Ss(e).getTime()-kH(e).getTime();return Math.round(n/Hq)+1}function Gq(t){de(1,arguments);var e=ve(t),n=e.getTime();return n}function Yq(t){return de(1,arguments),Math.floor(Gq(t)/1e3)}function Kq(t,e){var n,r,i,o,s,a,l,c;de(1,arguments);var u=ve(t),f=u.getFullYear(),h=Kr(),g=Je((n=(r=(i=(o=e==null?void 0:e.firstWeekContainsDate)!==null&&o!==void 0?o:e==null||(s=e.locale)===null||s===void 0||(a=s.options)===null||a===void 0?void 0:a.firstWeekContainsDate)!==null&&i!==void 0?i:h.firstWeekContainsDate)!==null&&r!==void 0?r:(l=h.locale)===null||l===void 0||(c=l.options)===null||c===void 0?void 0:c.firstWeekContainsDate)!==null&&n!==void 0?n:1);if(!(g>=1&&g<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var w=new Date(0);w.setFullYear(f+1,0,g),w.setHours(0,0,0,0);var y=Gr(w,e),b=new Date(0);b.setFullYear(f,0,g),b.setHours(0,0,0,0);var x=Gr(b,e);return u.getTime()>=y.getTime()?f+1:u.getTime()>=x.getTime()?f:f-1}function Qq(t,e){var n,r,i,o,s,a,l,c;de(1,arguments);var u=Kr(),f=Je((n=(r=(i=(o=e==null?void 0:e.firstWeekContainsDate)!==null&&o!==void 0?o:e==null||(s=e.locale)===null||s===void 0||(a=s.options)===null||a===void 0?void 0:a.firstWeekContainsDate)!==null&&i!==void 0?i:u.firstWeekContainsDate)!==null&&r!==void 0?r:(l=u.locale)===null||l===void 0||(c=l.options)===null||c===void 0?void 0:c.firstWeekContainsDate)!==null&&n!==void 0?n:1),h=Kq(t,e),g=new Date(0);g.setFullYear(h,0,f),g.setHours(0,0,0,0);var w=Gr(g,e);return w}var Xq=6048e5;function Jq(t,e){de(1,arguments);var n=ve(t),r=Gr(n,e).getTime()-Qq(n,e).getTime();return Math.round(r/Xq)+1}function Zq(t){de(1,arguments);var e=ve(t),n=e.getMonth();return e.setFullYear(e.getFullYear(),n+1,0),e.setHours(0,0,0,0),e}function eG(t,e){return de(1,arguments),FH(Zq(t),In(t),e)+1}function kh(t,e){de(2,arguments);var n=ve(t),r=ve(e);return n.getTime()>r.getTime()}function aN(t,e){de(2,arguments);var n=ve(t),r=ve(e);return n.getTime()<r.getTime()}function lC(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function tG(t,e){if(t){if(typeof t=="string")return lC(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?lC(t,e):void 0}}function cC(t,e){var n=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=tG(t))||e&&t&&typeof t.length=="number"){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(c){throw c},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var o,s=!0,a=!1;return{s:function(){n=n.call(t)},n:function(){var c=n.next();return s=c.done,c},e:function(c){a=!0,o=c},f:function(){try{s||n.return==null||n.return()}finally{if(a)throw o}}}}function se(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Uy(t,e){return Uy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},Uy(t,e)}function Ve(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Uy(t,e)}function Rh(t){return Rh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Rh(t)}function lN(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(lN=function(){return!!t})()}function nG(t,e){if(e&&(gr(e)=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return se(t)}function je(t){var e=lN();return function(){var n,r=Rh(t);if(e){var i=Rh(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return nG(this,n)}}function Ne(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function rG(t,e){if(gr(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(gr(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function cN(t){var e=rG(t,"string");return gr(e)=="symbol"?e:e+""}function uC(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,cN(r.key),r)}}function De(t,e,n){return e&&uC(t.prototype,e),n&&uC(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function ne(t,e,n){return(e=cN(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var iG=10,uN=function(){function t(){Ne(this,t),ne(this,"priority",void 0),ne(this,"subPriority",0)}return De(t,[{key:"validate",value:function(n,r){return!0}}]),t}(),oG=function(t){Ve(n,t);var e=je(n);function n(r,i,o,s,a){var l;return Ne(this,n),l=e.call(this),l.value=r,l.validateValue=i,l.setValue=o,l.priority=s,a&&(l.subPriority=a),l}return De(n,[{key:"validate",value:function(i,o){return this.validateValue(i,this.value,o)}},{key:"set",value:function(i,o,s){return this.setValue(i,o,this.value,s)}}]),n}(uN),sG=function(t){Ve(n,t);var e=je(n);function n(){var r;Ne(this,n);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o)),ne(se(r),"priority",iG),ne(se(r),"subPriority",-1),r}return De(n,[{key:"set",value:function(i,o){if(o.timestampIsSet)return i;var s=new Date(0);return s.setFullYear(i.getUTCFullYear(),i.getUTCMonth(),i.getUTCDate()),s.setHours(i.getUTCHours(),i.getUTCMinutes(),i.getUTCSeconds(),i.getUTCMilliseconds()),s}}]),n}(uN),Be=function(){function t(){Ne(this,t),ne(this,"incompatibleTokens",void 0),ne(this,"priority",void 0),ne(this,"subPriority",void 0)}return De(t,[{key:"run",value:function(n,r,i,o){var s=this.parse(n,r,i,o);return s?{setter:new oG(s.value,this.validate,this.set,this.priority,this.subPriority),rest:s.rest}:null}},{key:"validate",value:function(n,r,i){return!0}}]),t}(),aG=function(t){Ve(n,t);var e=je(n);function n(){var r;Ne(this,n);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o)),ne(se(r),"priority",140),ne(se(r),"incompatibleTokens",["R","u","t","T"]),r}return De(n,[{key:"parse",value:function(i,o,s){switch(o){case"G":case"GG":case"GGG":return s.era(i,{width:"abbreviated"})||s.era(i,{width:"narrow"});case"GGGGG":return s.era(i,{width:"narrow"});case"GGGG":default:return s.era(i,{width:"wide"})||s.era(i,{width:"abbreviated"})||s.era(i,{width:"narrow"})}}},{key:"set",value:function(i,o,s){return o.era=s,i.setUTCFullYear(s,0,1),i.setUTCHours(0,0,0,0),i}}]),n}(Be),Et={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},kr={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function bt(t,e){return t&&{value:e(t.value),rest:t.rest}}function dt(t,e){var n=e.match(t);return n?{value:parseInt(n[0],10),rest:e.slice(n[0].length)}:null}function Rr(t,e){var n=e.match(t);if(!n)return null;if(n[0]==="Z")return{value:0,rest:e.slice(1)};var r=n[1]==="+"?1:-1,i=n[2]?parseInt(n[2],10):0,o=n[3]?parseInt(n[3],10):0,s=n[5]?parseInt(n[5],10):0;return{value:r*(i*v1+o*g1+s*LH),rest:e.slice(n[0].length)}}function dN(t){return dt(Et.anyDigitsSigned,t)}function wt(t,e){switch(t){case 1:return dt(Et.singleDigit,e);case 2:return dt(Et.twoDigits,e);case 3:return dt(Et.threeDigits,e);case 4:return dt(Et.fourDigits,e);default:return dt(new RegExp("^\\d{1,"+t+"}"),e)}}function Nh(t,e){switch(t){case 1:return dt(Et.singleDigitSigned,e);case 2:return dt(Et.twoDigitsSigned,e);case 3:return dt(Et.threeDigitsSigned,e);case 4:return dt(Et.fourDigitsSigned,e);default:return dt(new RegExp("^-?\\d{1,"+t+"}"),e)}}function b1(t){switch(t){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function fN(t,e){var n=e>0,r=n?e:1-e,i;if(r<=50)i=t||100;else{var o=r+50,s=Math.floor(o/100)*100,a=t>=o%100;i=t+s-(a?100:0)}return n?i:1-i}function hN(t){return t%400===0||t%4===0&&t%100!==0}var lG=function(t){Ve(n,t);var e=je(n);function n(){var r;Ne(this,n);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o)),ne(se(r),"priority",130),ne(se(r),"incompatibleTokens",["Y","R","u","w","I","i","e","c","t","T"]),r}return De(n,[{key:"parse",value:function(i,o,s){var a=function(c){return{year:c,isTwoDigitYear:o==="yy"}};switch(o){case"y":return bt(wt(4,i),a);case"yo":return bt(s.ordinalNumber(i,{unit:"year"}),a);default:return bt(wt(o.length,i),a)}}},{key:"validate",value:function(i,o){return o.isTwoDigitYear||o.year>0}},{key:"set",value:function(i,o,s){var a=i.getUTCFullYear();if(s.isTwoDigitYear){var l=fN(s.year,a);return i.setUTCFullYear(l,0,1),i.setUTCHours(0,0,0,0),i}var c=!("era"in o)||o.era===1?s.year:1-s.year;return i.setUTCFullYear(c,0,1),i.setUTCHours(0,0,0,0),i}}]),n}(Be),cG=function(t){Ve(n,t);var e=je(n);function n(){var r;Ne(this,n);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o)),ne(se(r),"priority",130),ne(se(r),"incompatibleTokens",["y","R","u","Q","q","M","L","I","d","D","i","t","T"]),r}return De(n,[{key:"parse",value:function(i,o,s){var a=function(c){return{year:c,isTwoDigitYear:o==="YY"}};switch(o){case"Y":return bt(wt(4,i),a);case"Yo":return bt(s.ordinalNumber(i,{unit:"year"}),a);default:return bt(wt(o.length,i),a)}}},{key:"validate",value:function(i,o){return o.isTwoDigitYear||o.year>0}},{key:"set",value:function(i,o,s,a){var l=_1(i,a);if(s.isTwoDigitYear){var c=fN(s.year,l);return i.setUTCFullYear(c,0,a.firstWeekContainsDate),i.setUTCHours(0,0,0,0),Ps(i,a)}var u=!("era"in o)||o.era===1?s.year:1-s.year;return i.setUTCFullYear(u,0,a.firstWeekContainsDate),i.setUTCHours(0,0,0,0),Ps(i,a)}}]),n}(Be),uG=function(t){Ve(n,t);var e=je(n);function n(){var r;Ne(this,n);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o)),ne(se(r),"priority",130),ne(se(r),"incompatibleTokens",["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"]),r}return De(n,[{key:"parse",value:function(i,o){return Nh(o==="R"?4:o.length,i)}},{key:"set",value:function(i,o,s){var a=new Date(0);return a.setUTCFullYear(s,0,4),a.setUTCHours(0,0,0,0),nl(a)}}]),n}(Be),dG=function(t){Ve(n,t);var e=je(n);function n(){var r;Ne(this,n);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o)),ne(se(r),"priority",130),ne(se(r),"incompatibleTokens",["G","y","Y","R","w","I","i","e","c","t","T"]),r}return De(n,[{key:"parse",value:function(i,o){return Nh(o==="u"?4:o.length,i)}},{key:"set",value:function(i,o,s){return i.setUTCFullYear(s,0,1),i.setUTCHours(0,0,0,0),i}}]),n}(Be),fG=function(t){Ve(n,t);var e=je(n);function n(){var r;Ne(this,n);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o)),ne(se(r),"priority",120),ne(se(r),"incompatibleTokens",["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"]),r}return De(n,[{key:"parse",value:function(i,o,s){switch(o){case"Q":case"QQ":return wt(o.length,i);case"Qo":return s.ordinalNumber(i,{unit:"quarter"});case"QQQ":return s.quarter(i,{width:"abbreviated",context:"formatting"})||s.quarter(i,{width:"narrow",context:"formatting"});case"QQQQQ":return s.quarter(i,{width:"narrow",context:"formatting"});case"QQQQ":default:return s.quarter(i,{width:"wide",context:"formatting"})||s.quarter(i,{width:"abbreviated",context:"formatting"})||s.quarter(i,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(i,o){return o>=1&&o<=4}},{key:"set",value:function(i,o,s){return i.setUTCMonth((s-1)*3,1),i.setUTCHours(0,0,0,0),i}}]),n}(Be),hG=function(t){Ve(n,t);var e=je(n);function n(){var r;Ne(this,n);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o)),ne(se(r),"priority",120),ne(se(r),"incompatibleTokens",["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"]),r}return De(n,[{key:"parse",value:function(i,o,s){switch(o){case"q":case"qq":return wt(o.length,i);case"qo":return s.ordinalNumber(i,{unit:"quarter"});case"qqq":return s.quarter(i,{width:"abbreviated",context:"standalone"})||s.quarter(i,{width:"narrow",context:"standalone"});case"qqqqq":return s.quarter(i,{width:"narrow",context:"standalone"});case"qqqq":default:return s.quarter(i,{width:"wide",context:"standalone"})||s.quarter(i,{width:"abbreviated",context:"standalone"})||s.quarter(i,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(i,o){return o>=1&&o<=4}},{key:"set",value:function(i,o,s){return i.setUTCMonth((s-1)*3,1),i.setUTCHours(0,0,0,0),i}}]),n}(Be),pG=function(t){Ve(n,t);var e=je(n);function n(){var r;Ne(this,n);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o)),ne(se(r),"incompatibleTokens",["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]),ne(se(r),"priority",110),r}return De(n,[{key:"parse",value:function(i,o,s){var a=function(c){return c-1};switch(o){case"M":return bt(dt(Et.month,i),a);case"MM":return bt(wt(2,i),a);case"Mo":return bt(s.ordinalNumber(i,{unit:"month"}),a);case"MMM":return s.month(i,{width:"abbreviated",context:"formatting"})||s.month(i,{width:"narrow",context:"formatting"});case"MMMMM":return s.month(i,{width:"narrow",context:"formatting"});case"MMMM":default:return s.month(i,{width:"wide",context:"formatting"})||s.month(i,{width:"abbreviated",context:"formatting"})||s.month(i,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(i,o){return o>=0&&o<=11}},{key:"set",value:function(i,o,s){return i.setUTCMonth(s,1),i.setUTCHours(0,0,0,0),i}}]),n}(Be),mG=function(t){Ve(n,t);var e=je(n);function n(){var r;Ne(this,n);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o)),ne(se(r),"priority",110),ne(se(r),"incompatibleTokens",["Y","R","q","Q","M","w","I","D","i","e","c","t","T"]),r}return De(n,[{key:"parse",value:function(i,o,s){var a=function(c){return c-1};switch(o){case"L":return bt(dt(Et.month,i),a);case"LL":return bt(wt(2,i),a);case"Lo":return bt(s.ordinalNumber(i,{unit:"month"}),a);case"LLL":return s.month(i,{width:"abbreviated",context:"standalone"})||s.month(i,{width:"narrow",context:"standalone"});case"LLLLL":return s.month(i,{width:"narrow",context:"standalone"});case"LLLL":default:return s.month(i,{width:"wide",context:"standalone"})||s.month(i,{width:"abbreviated",context:"standalone"})||s.month(i,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(i,o){return o>=0&&o<=11}},{key:"set",value:function(i,o,s){return i.setUTCMonth(s,1),i.setUTCHours(0,0,0,0),i}}]),n}(Be);function gG(t,e,n){de(2,arguments);var r=ve(t),i=Je(e),o=nN(r,n)-i;return r.setUTCDate(r.getUTCDate()-o*7),r}var vG=function(t){Ve(n,t);var e=je(n);function n(){var r;Ne(this,n);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o)),ne(se(r),"priority",100),ne(se(r),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","i","t","T"]),r}return De(n,[{key:"parse",value:function(i,o,s){switch(o){case"w":return dt(Et.week,i);case"wo":return s.ordinalNumber(i,{unit:"week"});default:return wt(o.length,i)}}},{key:"validate",value:function(i,o){return o>=1&&o<=53}},{key:"set",value:function(i,o,s,a){return Ps(gG(i,s,a),a)}}]),n}(Be);function yG(t,e){de(2,arguments);var n=ve(t),r=Je(e),i=tN(n)-r;return n.setUTCDate(n.getUTCDate()-i*7),n}var wG=function(t){Ve(n,t);var e=je(n);function n(){var r;Ne(this,n);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o)),ne(se(r),"priority",100),ne(se(r),"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"]),r}return De(n,[{key:"parse",value:function(i,o,s){switch(o){case"I":return dt(Et.week,i);case"Io":return s.ordinalNumber(i,{unit:"week"});default:return wt(o.length,i)}}},{key:"validate",value:function(i,o){return o>=1&&o<=53}},{key:"set",value:function(i,o,s){return nl(yG(i,s))}}]),n}(Be),xG=[31,28,31,30,31,30,31,31,30,31,30,31],_G=[31,29,31,30,31,30,31,31,30,31,30,31],EG=function(t){Ve(n,t);var e=je(n);function n(){var r;Ne(this,n);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o)),ne(se(r),"priority",90),ne(se(r),"subPriority",1),ne(se(r),"incompatibleTokens",["Y","R","q","Q","w","I","D","i","e","c","t","T"]),r}return De(n,[{key:"parse",value:function(i,o,s){switch(o){case"d":return dt(Et.date,i);case"do":return s.ordinalNumber(i,{unit:"date"});default:return wt(o.length,i)}}},{key:"validate",value:function(i,o){var s=i.getUTCFullYear(),a=hN(s),l=i.getUTCMonth();return a?o>=1&&o<=_G[l]:o>=1&&o<=xG[l]}},{key:"set",value:function(i,o,s){return i.setUTCDate(s),i.setUTCHours(0,0,0,0),i}}]),n}(Be),bG=function(t){Ve(n,t);var e=je(n);function n(){var r;Ne(this,n);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o)),ne(se(r),"priority",90),ne(se(r),"subpriority",1),ne(se(r),"incompatibleTokens",["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"]),r}return De(n,[{key:"parse",value:function(i,o,s){switch(o){case"D":case"DD":return dt(Et.dayOfYear,i);case"Do":return s.ordinalNumber(i,{unit:"date"});default:return wt(o.length,i)}}},{key:"validate",value:function(i,o){var s=i.getUTCFullYear(),a=hN(s);return a?o>=1&&o<=366:o>=1&&o<=365}},{key:"set",value:function(i,o,s){return i.setUTCMonth(0,s),i.setUTCHours(0,0,0,0),i}}]),n}(Be);function T1(t,e,n){var r,i,o,s,a,l,c,u;de(2,arguments);var f=Kr(),h=Je((r=(i=(o=(s=n==null?void 0:n.weekStartsOn)!==null&&s!==void 0?s:n==null||(a=n.locale)===null||a===void 0||(l=a.options)===null||l===void 0?void 0:l.weekStartsOn)!==null&&o!==void 0?o:f.weekStartsOn)!==null&&i!==void 0?i:(c=f.locale)===null||c===void 0||(u=c.options)===null||u===void 0?void 0:u.weekStartsOn)!==null&&r!==void 0?r:0);if(!(h>=0&&h<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var g=ve(t),w=Je(e),y=g.getUTCDay(),b=w%7,x=(b+7)%7,v=(x<h?7:0)+w-y;return g.setUTCDate(g.getUTCDate()+v),g}var TG=function(t){Ve(n,t);var e=je(n);function n(){var r;Ne(this,n);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o)),ne(se(r),"priority",90),ne(se(r),"incompatibleTokens",["D","i","e","c","t","T"]),r}return De(n,[{key:"parse",value:function(i,o,s){switch(o){case"E":case"EE":case"EEE":return s.day(i,{width:"abbreviated",context:"formatting"})||s.day(i,{width:"short",context:"formatting"})||s.day(i,{width:"narrow",context:"formatting"});case"EEEEE":return s.day(i,{width:"narrow",context:"formatting"});case"EEEEEE":return s.day(i,{width:"short",context:"formatting"})||s.day(i,{width:"narrow",context:"formatting"});case"EEEE":default:return s.day(i,{width:"wide",context:"formatting"})||s.day(i,{width:"abbreviated",context:"formatting"})||s.day(i,{width:"short",context:"formatting"})||s.day(i,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(i,o){return o>=0&&o<=6}},{key:"set",value:function(i,o,s,a){return i=T1(i,s,a),i.setUTCHours(0,0,0,0),i}}]),n}(Be),CG=function(t){Ve(n,t);var e=je(n);function n(){var r;Ne(this,n);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o)),ne(se(r),"priority",90),ne(se(r),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"]),r}return De(n,[{key:"parse",value:function(i,o,s,a){var l=function(u){var f=Math.floor((u-1)/7)*7;return(u+a.weekStartsOn+6)%7+f};switch(o){case"e":case"ee":return bt(wt(o.length,i),l);case"eo":return bt(s.ordinalNumber(i,{unit:"day"}),l);case"eee":return s.day(i,{width:"abbreviated",context:"formatting"})||s.day(i,{width:"short",context:"formatting"})||s.day(i,{width:"narrow",context:"formatting"});case"eeeee":return s.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return s.day(i,{width:"short",context:"formatting"})||s.day(i,{width:"narrow",context:"formatting"});case"eeee":default:return s.day(i,{width:"wide",context:"formatting"})||s.day(i,{width:"abbreviated",context:"formatting"})||s.day(i,{width:"short",context:"formatting"})||s.day(i,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(i,o){return o>=0&&o<=6}},{key:"set",value:function(i,o,s,a){return i=T1(i,s,a),i.setUTCHours(0,0,0,0),i}}]),n}(Be),SG=function(t){Ve(n,t);var e=je(n);function n(){var r;Ne(this,n);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o)),ne(se(r),"priority",90),ne(se(r),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"]),r}return De(n,[{key:"parse",value:function(i,o,s,a){var l=function(u){var f=Math.floor((u-1)/7)*7;return(u+a.weekStartsOn+6)%7+f};switch(o){case"c":case"cc":return bt(wt(o.length,i),l);case"co":return bt(s.ordinalNumber(i,{unit:"day"}),l);case"ccc":return s.day(i,{width:"abbreviated",context:"standalone"})||s.day(i,{width:"short",context:"standalone"})||s.day(i,{width:"narrow",context:"standalone"});case"ccccc":return s.day(i,{width:"narrow",context:"standalone"});case"cccccc":return s.day(i,{width:"short",context:"standalone"})||s.day(i,{width:"narrow",context:"standalone"});case"cccc":default:return s.day(i,{width:"wide",context:"standalone"})||s.day(i,{width:"abbreviated",context:"standalone"})||s.day(i,{width:"short",context:"standalone"})||s.day(i,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(i,o){return o>=0&&o<=6}},{key:"set",value:function(i,o,s,a){return i=T1(i,s,a),i.setUTCHours(0,0,0,0),i}}]),n}(Be);function PG(t,e){de(2,arguments);var n=Je(e);n%7===0&&(n=n-7);var r=1,i=ve(t),o=i.getUTCDay(),s=n%7,a=(s+7)%7,l=(a<r?7:0)+n-o;return i.setUTCDate(i.getUTCDate()+l),i}var IG=function(t){Ve(n,t);var e=je(n);function n(){var r;Ne(this,n);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o)),ne(se(r),"priority",90),ne(se(r),"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"]),r}return De(n,[{key:"parse",value:function(i,o,s){var a=function(c){return c===0?7:c};switch(o){case"i":case"ii":return wt(o.length,i);case"io":return s.ordinalNumber(i,{unit:"day"});case"iii":return bt(s.day(i,{width:"abbreviated",context:"formatting"})||s.day(i,{width:"short",context:"formatting"})||s.day(i,{width:"narrow",context:"formatting"}),a);case"iiiii":return bt(s.day(i,{width:"narrow",context:"formatting"}),a);case"iiiiii":return bt(s.day(i,{width:"short",context:"formatting"})||s.day(i,{width:"narrow",context:"formatting"}),a);case"iiii":default:return bt(s.day(i,{width:"wide",context:"formatting"})||s.day(i,{width:"abbreviated",context:"formatting"})||s.day(i,{width:"short",context:"formatting"})||s.day(i,{width:"narrow",context:"formatting"}),a)}}},{key:"validate",value:function(i,o){return o>=1&&o<=7}},{key:"set",value:function(i,o,s){return i=PG(i,s),i.setUTCHours(0,0,0,0),i}}]),n}(Be),AG=function(t){Ve(n,t);var e=je(n);function n(){var r;Ne(this,n);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o)),ne(se(r),"priority",80),ne(se(r),"incompatibleTokens",["b","B","H","k","t","T"]),r}return De(n,[{key:"parse",value:function(i,o,s){switch(o){case"a":case"aa":case"aaa":return s.dayPeriod(i,{width:"abbreviated",context:"formatting"})||s.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaaa":return s.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return s.dayPeriod(i,{width:"wide",context:"formatting"})||s.dayPeriod(i,{width:"abbreviated",context:"formatting"})||s.dayPeriod(i,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(i,o,s){return i.setUTCHours(b1(s),0,0,0),i}}]),n}(Be),kG=function(t){Ve(n,t);var e=je(n);function n(){var r;Ne(this,n);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o)),ne(se(r),"priority",80),ne(se(r),"incompatibleTokens",["a","B","H","k","t","T"]),r}return De(n,[{key:"parse",value:function(i,o,s){switch(o){case"b":case"bb":case"bbb":return s.dayPeriod(i,{width:"abbreviated",context:"formatting"})||s.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbbb":return s.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return s.dayPeriod(i,{width:"wide",context:"formatting"})||s.dayPeriod(i,{width:"abbreviated",context:"formatting"})||s.dayPeriod(i,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(i,o,s){return i.setUTCHours(b1(s),0,0,0),i}}]),n}(Be),RG=function(t){Ve(n,t);var e=je(n);function n(){var r;Ne(this,n);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o)),ne(se(r),"priority",80),ne(se(r),"incompatibleTokens",["a","b","t","T"]),r}return De(n,[{key:"parse",value:function(i,o,s){switch(o){case"B":case"BB":case"BBB":return s.dayPeriod(i,{width:"abbreviated",context:"formatting"})||s.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBBB":return s.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return s.dayPeriod(i,{width:"wide",context:"formatting"})||s.dayPeriod(i,{width:"abbreviated",context:"formatting"})||s.dayPeriod(i,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(i,o,s){return i.setUTCHours(b1(s),0,0,0),i}}]),n}(Be),NG=function(t){Ve(n,t);var e=je(n);function n(){var r;Ne(this,n);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o)),ne(se(r),"priority",70),ne(se(r),"incompatibleTokens",["H","K","k","t","T"]),r}return De(n,[{key:"parse",value:function(i,o,s){switch(o){case"h":return dt(Et.hour12h,i);case"ho":return s.ordinalNumber(i,{unit:"hour"});default:return wt(o.length,i)}}},{key:"validate",value:function(i,o){return o>=1&&o<=12}},{key:"set",value:function(i,o,s){var a=i.getUTCHours()>=12;return a&&s<12?i.setUTCHours(s+12,0,0,0):!a&&s===12?i.setUTCHours(0,0,0,0):i.setUTCHours(s,0,0,0),i}}]),n}(Be),DG=function(t){Ve(n,t);var e=je(n);function n(){var r;Ne(this,n);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o)),ne(se(r),"priority",70),ne(se(r),"incompatibleTokens",["a","b","h","K","k","t","T"]),r}return De(n,[{key:"parse",value:function(i,o,s){switch(o){case"H":return dt(Et.hour23h,i);case"Ho":return s.ordinalNumber(i,{unit:"hour"});default:return wt(o.length,i)}}},{key:"validate",value:function(i,o){return o>=0&&o<=23}},{key:"set",value:function(i,o,s){return i.setUTCHours(s,0,0,0),i}}]),n}(Be),MG=function(t){Ve(n,t);var e=je(n);function n(){var r;Ne(this,n);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o)),ne(se(r),"priority",70),ne(se(r),"incompatibleTokens",["h","H","k","t","T"]),r}return De(n,[{key:"parse",value:function(i,o,s){switch(o){case"K":return dt(Et.hour11h,i);case"Ko":return s.ordinalNumber(i,{unit:"hour"});default:return wt(o.length,i)}}},{key:"validate",value:function(i,o){return o>=0&&o<=11}},{key:"set",value:function(i,o,s){var a=i.getUTCHours()>=12;return a&&s<12?i.setUTCHours(s+12,0,0,0):i.setUTCHours(s,0,0,0),i}}]),n}(Be),OG=function(t){Ve(n,t);var e=je(n);function n(){var r;Ne(this,n);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o)),ne(se(r),"priority",70),ne(se(r),"incompatibleTokens",["a","b","h","H","K","t","T"]),r}return De(n,[{key:"parse",value:function(i,o,s){switch(o){case"k":return dt(Et.hour24h,i);case"ko":return s.ordinalNumber(i,{unit:"hour"});default:return wt(o.length,i)}}},{key:"validate",value:function(i,o){return o>=1&&o<=24}},{key:"set",value:function(i,o,s){var a=s<=24?s%24:s;return i.setUTCHours(a,0,0,0),i}}]),n}(Be),LG=function(t){Ve(n,t);var e=je(n);function n(){var r;Ne(this,n);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o)),ne(se(r),"priority",60),ne(se(r),"incompatibleTokens",["t","T"]),r}return De(n,[{key:"parse",value:function(i,o,s){switch(o){case"m":return dt(Et.minute,i);case"mo":return s.ordinalNumber(i,{unit:"minute"});default:return wt(o.length,i)}}},{key:"validate",value:function(i,o){return o>=0&&o<=59}},{key:"set",value:function(i,o,s){return i.setUTCMinutes(s,0,0),i}}]),n}(Be),VG=function(t){Ve(n,t);var e=je(n);function n(){var r;Ne(this,n);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o)),ne(se(r),"priority",50),ne(se(r),"incompatibleTokens",["t","T"]),r}return De(n,[{key:"parse",value:function(i,o,s){switch(o){case"s":return dt(Et.second,i);case"so":return s.ordinalNumber(i,{unit:"second"});default:return wt(o.length,i)}}},{key:"validate",value:function(i,o){return o>=0&&o<=59}},{key:"set",value:function(i,o,s){return i.setUTCSeconds(s,0),i}}]),n}(Be),jG=function(t){Ve(n,t);var e=je(n);function n(){var r;Ne(this,n);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o)),ne(se(r),"priority",30),ne(se(r),"incompatibleTokens",["t","T"]),r}return De(n,[{key:"parse",value:function(i,o){var s=function(l){return Math.floor(l*Math.pow(10,-o.length+3))};return bt(wt(o.length,i),s)}},{key:"set",value:function(i,o,s){return i.setUTCMilliseconds(s),i}}]),n}(Be),FG=function(t){Ve(n,t);var e=je(n);function n(){var r;Ne(this,n);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o)),ne(se(r),"priority",10),ne(se(r),"incompatibleTokens",["t","T","x"]),r}return De(n,[{key:"parse",value:function(i,o){switch(o){case"X":return Rr(kr.basicOptionalMinutes,i);case"XX":return Rr(kr.basic,i);case"XXXX":return Rr(kr.basicOptionalSeconds,i);case"XXXXX":return Rr(kr.extendedOptionalSeconds,i);case"XXX":default:return Rr(kr.extended,i)}}},{key:"set",value:function(i,o,s){return o.timestampIsSet?i:new Date(i.getTime()-s)}}]),n}(Be),$G=function(t){Ve(n,t);var e=je(n);function n(){var r;Ne(this,n);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o)),ne(se(r),"priority",10),ne(se(r),"incompatibleTokens",["t","T","X"]),r}return De(n,[{key:"parse",value:function(i,o){switch(o){case"x":return Rr(kr.basicOptionalMinutes,i);case"xx":return Rr(kr.basic,i);case"xxxx":return Rr(kr.basicOptionalSeconds,i);case"xxxxx":return Rr(kr.extendedOptionalSeconds,i);case"xxx":default:return Rr(kr.extended,i)}}},{key:"set",value:function(i,o,s){return o.timestampIsSet?i:new Date(i.getTime()-s)}}]),n}(Be),UG=function(t){Ve(n,t);var e=je(n);function n(){var r;Ne(this,n);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o)),ne(se(r),"priority",40),ne(se(r),"incompatibleTokens","*"),r}return De(n,[{key:"parse",value:function(i){return dN(i)}},{key:"set",value:function(i,o,s){return[new Date(s*1e3),{timestampIsSet:!0}]}}]),n}(Be),BG=function(t){Ve(n,t);var e=je(n);function n(){var r;Ne(this,n);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o)),ne(se(r),"priority",20),ne(se(r),"incompatibleTokens","*"),r}return De(n,[{key:"parse",value:function(i){return dN(i)}},{key:"set",value:function(i,o,s){return[new Date(s),{timestampIsSet:!0}]}}]),n}(Be),WG={G:new aG,y:new lG,Y:new cG,R:new uG,u:new dG,Q:new fG,q:new hG,M:new pG,L:new mG,w:new vG,I:new wG,d:new EG,D:new bG,E:new TG,e:new CG,c:new SG,i:new IG,a:new AG,b:new kG,B:new RG,h:new NG,H:new DG,K:new MG,k:new OG,m:new LG,s:new VG,S:new jG,X:new FG,x:new $G,t:new UG,T:new BG},zG=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,HG=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,qG=/^'([^]*?)'?$/,GG=/''/g,YG=/\S/,KG=/[a-zA-Z]/;function QG(t,e,n,r){var i,o,s,a,l,c,u,f,h,g,w,y,b,x,v,E,S,R;de(3,arguments);var D=String(t),P=String(e),C=Kr(),I=(i=(o=r==null?void 0:r.locale)!==null&&o!==void 0?o:C.locale)!==null&&i!==void 0?i:E1;if(!I.match)throw new RangeError("locale must contain match property");var A=Je((s=(a=(l=(c=r==null?void 0:r.firstWeekContainsDate)!==null&&c!==void 0?c:r==null||(u=r.locale)===null||u===void 0||(f=u.options)===null||f===void 0?void 0:f.firstWeekContainsDate)!==null&&l!==void 0?l:C.firstWeekContainsDate)!==null&&a!==void 0?a:(h=C.locale)===null||h===void 0||(g=h.options)===null||g===void 0?void 0:g.firstWeekContainsDate)!==null&&s!==void 0?s:1);if(!(A>=1&&A<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var M=Je((w=(y=(b=(x=r==null?void 0:r.weekStartsOn)!==null&&x!==void 0?x:r==null||(v=r.locale)===null||v===void 0||(E=v.options)===null||E===void 0?void 0:E.weekStartsOn)!==null&&b!==void 0?b:C.weekStartsOn)!==null&&y!==void 0?y:(S=C.locale)===null||S===void 0||(R=S.options)===null||R===void 0?void 0:R.weekStartsOn)!==null&&w!==void 0?w:0);if(!(M>=0&&M<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(P==="")return D===""?ve(n):new Date(NaN);var O={firstWeekContainsDate:A,weekStartsOn:M,locale:I},N=[new sG],F=P.match(HG).map(function(re){var te=re[0];if(te in $y){var ee=$y[te];return ee(re,I.formatLong)}return re}).join("").match(zG),G=[],K=cC(F),W;try{var L=function(){var te=W.value;!(r!=null&&r.useAdditionalWeekYearTokens)&&oN(te)&&Ah(te,P,t),!(r!=null&&r.useAdditionalDayOfYearTokens)&&iN(te)&&Ah(te,P,t);var ee=te[0],fe=WG[ee];if(fe){var Ce=fe.incompatibleTokens;if(Array.isArray(Ce)){var Ke=G.find(function(Vt){return Ce.includes(Vt.token)||Vt.token===ee});if(Ke)throw new RangeError("The format string mustn't contain `".concat(Ke.fullToken,"` and `").concat(te,"` at the same time"))}else if(fe.incompatibleTokens==="*"&&G.length>0)throw new RangeError("The format string mustn't contain `".concat(te,"` and any other token at the same time"));G.push({token:ee,fullToken:te});var st=fe.run(D,te,I.match,O);if(!st)return{v:new Date(NaN)};N.push(st.setter),D=st.rest}else{if(ee.match(KG))throw new RangeError("Format string contains an unescaped latin alphabet character `"+ee+"`");if(te==="''"?te="'":ee==="'"&&(te=XG(te)),D.indexOf(te)===0)D=D.slice(te.length);else return{v:new Date(NaN)}}};for(K.s();!(W=K.n()).done;){var j=L();if(gr(j)==="object")return j.v}}catch(re){K.e(re)}finally{K.f()}if(D.length>0&&YG.test(D))return new Date(NaN);var U=N.map(function(re){return re.priority}).sort(function(re,te){return te-re}).filter(function(re,te,ee){return ee.indexOf(re)===te}).map(function(re){return N.filter(function(te){return te.priority===re}).sort(function(te,ee){return ee.subPriority-te.subPriority})}).map(function(re){return re[0]}),z=ve(n);if(isNaN(z.getTime()))return new Date(NaN);var B=Z2(z,tl(z)),H={},Z=cC(U),ie;try{for(Z.s();!(ie=Z.n()).done;){var ce=ie.value;if(!ce.validate(B,O))return new Date(NaN);var J=ce.set(B,H,O);Array.isArray(J)?(B=J[0],Wq(H,J[1])):B=J}}catch(re){Z.e(re)}finally{Z.f()}return B}function XG(t){return t.match(qG)[1].replace(GG,"'")}function C1(t,e){de(2,arguments);var n=ve(t),r=ve(e);return n.getFullYear()===r.getFullYear()&&n.getMonth()===r.getMonth()}function JG(t,e){de(2,arguments);var n=ve(t),r=ve(e);return n.getFullYear()===r.getFullYear()}function Pg(t,e){de(2,arguments);var n=Je(e);return Dt(t,-n)}function le(t,e){var n;de(1,arguments);var r=Je((n=e==null?void 0:e.additionalDigits)!==null&&n!==void 0?n:2);if(r!==2&&r!==1&&r!==0)throw new RangeError("additionalDigits must be 0, 1 or 2");if(!(typeof t=="string"||Object.prototype.toString.call(t)==="[object String]"))return new Date(NaN);var i=nY(t),o;if(i.date){var s=rY(i.date,r);o=iY(s.restDateString,s.year)}if(!o||isNaN(o.getTime()))return new Date(NaN);var a=o.getTime(),l=0,c;if(i.time&&(l=oY(i.time),isNaN(l)))return new Date(NaN);if(i.timezone){if(c=sY(i.timezone),isNaN(c))return new Date(NaN)}else{var u=new Date(a+l),f=new Date(0);return f.setFullYear(u.getUTCFullYear(),u.getUTCMonth(),u.getUTCDate()),f.setHours(u.getUTCHours(),u.getUTCMinutes(),u.getUTCSeconds(),u.getUTCMilliseconds()),f}return new Date(a+l+c)}var Ld={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},ZG=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,eY=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,tY=/^([+-])(\d{2})(?::?(\d{2}))?$/;function nY(t){var e={},n=t.split(Ld.dateTimeDelimiter),r;if(n.length>2)return e;if(/:/.test(n[0])?r=n[0]:(e.date=n[0],r=n[1],Ld.timeZoneDelimiter.test(e.date)&&(e.date=t.split(Ld.timeZoneDelimiter)[0],r=t.substr(e.date.length,t.length))),r){var i=Ld.timezone.exec(r);i?(e.time=r.replace(i[1],""),e.timezone=i[1]):e.time=r}return e}function rY(t,e){var n=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+e)+"})|(\\d{2}|[+-]\\d{"+(2+e)+"})$)"),r=t.match(n);if(!r)return{year:NaN,restDateString:""};var i=r[1]?parseInt(r[1]):null,o=r[2]?parseInt(r[2]):null;return{year:o===null?i:o*100,restDateString:t.slice((r[1]||r[2]).length)}}function iY(t,e){if(e===null)return new Date(NaN);var n=t.match(ZG);if(!n)return new Date(NaN);var r=!!n[4],i=Zl(n[1]),o=Zl(n[2])-1,s=Zl(n[3]),a=Zl(n[4]),l=Zl(n[5])-1;if(r)return dY(e,a,l)?aY(e,a,l):new Date(NaN);var c=new Date(0);return!cY(e,o,s)||!uY(e,i)?new Date(NaN):(c.setUTCFullYear(e,o,Math.max(i,s)),c)}function Zl(t){return t?parseInt(t):1}function oY(t){var e=t.match(eY);if(!e)return NaN;var n=Ig(e[1]),r=Ig(e[2]),i=Ig(e[3]);return fY(n,r,i)?n*v1+r*g1+i*1e3:NaN}function Ig(t){return t&&parseFloat(t.replace(",","."))||0}function sY(t){if(t==="Z")return 0;var e=t.match(tY);if(!e)return 0;var n=e[1]==="+"?-1:1,r=parseInt(e[2]),i=e[3]&&parseInt(e[3])||0;return hY(r,i)?n*(r*v1+i*g1):NaN}function aY(t,e,n){var r=new Date(0);r.setUTCFullYear(t,0,4);var i=r.getUTCDay()||7,o=(e-1)*7+n+1-i;return r.setUTCDate(r.getUTCDate()+o),r}var lY=[31,null,31,30,31,30,31,31,30,31,30,31];function pN(t){return t%400===0||t%4===0&&t%100!==0}function cY(t,e,n){return e>=0&&e<=11&&n>=1&&n<=(lY[e]||(pN(t)?29:28))}function uY(t,e){return e>=1&&e<=(pN(t)?366:365)}function dY(t,e,n){return e>=1&&e<=53&&n>=0&&n<=6}function fY(t,e,n){return t===24?e===0&&n===0:n>=0&&n<60&&e>=0&&e<60&&t>=0&&t<25}function hY(t,e){return e>=0&&e<=59}function Ag(t,e){de(2,arguments);var n=ve(t),r=Je(e),i=n.getFullYear(),o=n.getDate(),s=new Date(0);s.setFullYear(i,r,15),s.setHours(0,0,0,0);var a=zq(s);return n.setMonth(r,Math.min(o,a)),n}function dC(t,e){de(2,arguments);var n=ve(t),r=Je(e);return isNaN(n.getTime())?new Date(NaN):(n.setFullYear(r),n)}var pY={lessThanXSeconds:{one:"menos de un segundo",other:"menos de {{count}} segundos"},xSeconds:{one:"1 segundo",other:"{{count}} segundos"},halfAMinute:"medio minuto",lessThanXMinutes:{one:"menos de un minuto",other:"menos de {{count}} minutos"},xMinutes:{one:"1 minuto",other:"{{count}} minutos"},aboutXHours:{one:"alrededor de 1 hora",other:"alrededor de {{count}} horas"},xHours:{one:"1 hora",other:"{{count}} horas"},xDays:{one:"1 día",other:"{{count}} días"},aboutXWeeks:{one:"alrededor de 1 semana",other:"alrededor de {{count}} semanas"},xWeeks:{one:"1 semana",other:"{{count}} semanas"},aboutXMonths:{one:"alrededor de 1 mes",other:"alrededor de {{count}} meses"},xMonths:{one:"1 mes",other:"{{count}} meses"},aboutXYears:{one:"alrededor de 1 año",other:"alrededor de {{count}} años"},xYears:{one:"1 año",other:"{{count}} años"},overXYears:{one:"más de 1 año",other:"más de {{count}} años"},almostXYears:{one:"casi 1 año",other:"casi {{count}} años"}},mY=function(e,n,r){var i,o=pY[e];return typeof o=="string"?i=o:n===1?i=o.one:i=o.other.replace("{{count}}",n.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"en "+i:"hace "+i:i};const gY=mY;var vY={full:"EEEE, d 'de' MMMM 'de' y",long:"d 'de' MMMM 'de' y",medium:"d MMM y",short:"dd/MM/y"},yY={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},wY={full:"{{date}} 'a las' {{time}}",long:"{{date}} 'a las' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},xY={date:Ma({formats:vY,defaultWidth:"full"}),time:Ma({formats:yY,defaultWidth:"full"}),dateTime:Ma({formats:wY,defaultWidth:"full"})};const _Y=xY;var EY={lastWeek:"'el' eeee 'pasado a la' p",yesterday:"'ayer a la' p",today:"'hoy a la' p",tomorrow:"'mañana a la' p",nextWeek:"eeee 'a la' p",other:"P"},bY={lastWeek:"'el' eeee 'pasado a las' p",yesterday:"'ayer a las' p",today:"'hoy a las' p",tomorrow:"'mañana a las' p",nextWeek:"eeee 'a las' p",other:"P"},TY=function(e,n,r,i){return n.getUTCHours()!==1?bY[e]:EY[e]};const CY=TY;var SY={narrow:["AC","DC"],abbreviated:["AC","DC"],wide:["antes de cristo","después de cristo"]},PY={narrow:["1","2","3","4"],abbreviated:["T1","T2","T3","T4"],wide:["1º trimestre","2º trimestre","3º trimestre","4º trimestre"]},IY={narrow:["e","f","m","a","m","j","j","a","s","o","n","d"],abbreviated:["ene","feb","mar","abr","may","jun","jul","ago","sep","oct","nov","dic"],wide:["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre"]},AY={narrow:["d","l","m","m","j","v","s"],short:["do","lu","ma","mi","ju","vi","sá"],abbreviated:["dom","lun","mar","mié","jue","vie","sáb"],wide:["domingo","lunes","martes","miércoles","jueves","viernes","sábado"]},kY={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"mañana",afternoon:"tarde",evening:"tarde",night:"noche"},abbreviated:{am:"AM",pm:"PM",midnight:"medianoche",noon:"mediodia",morning:"mañana",afternoon:"tarde",evening:"tarde",night:"noche"},wide:{am:"a.m.",pm:"p.m.",midnight:"medianoche",noon:"mediodia",morning:"mañana",afternoon:"tarde",evening:"tarde",night:"noche"}},RY={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"de la mañana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"},abbreviated:{am:"AM",pm:"PM",midnight:"medianoche",noon:"mediodia",morning:"de la mañana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"},wide:{am:"a.m.",pm:"p.m.",midnight:"medianoche",noon:"mediodia",morning:"de la mañana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"}},NY=function(e,n){var r=Number(e);return r+"º"},DY={ordinalNumber:NY,era:Ir({values:SY,defaultWidth:"wide"}),quarter:Ir({values:PY,defaultWidth:"wide",argumentCallback:function(e){return Number(e)-1}}),month:Ir({values:IY,defaultWidth:"wide"}),day:Ir({values:AY,defaultWidth:"wide"}),dayPeriod:Ir({values:kY,defaultWidth:"wide",formattingValues:RY,defaultFormattingWidth:"wide"})};const MY=DY;var OY=/^(\d+)(º)?/i,LY=/\d+/i,VY={narrow:/^(ac|dc|a|d)/i,abbreviated:/^(a\.?\s?c\.?|a\.?\s?e\.?\s?c\.?|d\.?\s?c\.?|e\.?\s?c\.?)/i,wide:/^(antes de cristo|antes de la era com[uú]n|despu[eé]s de cristo|era com[uú]n)/i},jY={any:[/^ac/i,/^dc/i],wide:[/^(antes de cristo|antes de la era com[uú]n)/i,/^(despu[eé]s de cristo|era com[uú]n)/i]},FY={narrow:/^[1234]/i,abbreviated:/^T[1234]/i,wide:/^[1234](º)? trimestre/i},$Y={any:[/1/i,/2/i,/3/i,/4/i]},UY={narrow:/^[efmajsond]/i,abbreviated:/^(ene|feb|mar|abr|may|jun|jul|ago|sep|oct|nov|dic)/i,wide:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i},BY={narrow:[/^e/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^en/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i]},WY={narrow:/^[dlmjvs]/i,short:/^(do|lu|ma|mi|ju|vi|s[áa])/i,abbreviated:/^(dom|lun|mar|mi[ée]|jue|vie|s[áa]b)/i,wide:/^(domingo|lunes|martes|mi[ée]rcoles|jueves|viernes|s[áa]bado)/i},zY={narrow:[/^d/i,/^l/i,/^m/i,/^m/i,/^j/i,/^v/i,/^s/i],any:[/^do/i,/^lu/i,/^ma/i,/^mi/i,/^ju/i,/^vi/i,/^sa/i]},HY={narrow:/^(a|p|mn|md|(de la|a las) (mañana|tarde|noche))/i,any:/^([ap]\.?\s?m\.?|medianoche|mediodia|(de la|a las) (mañana|tarde|noche))/i},qY={any:{am:/^a/i,pm:/^p/i,midnight:/^mn/i,noon:/^md/i,morning:/mañana/i,afternoon:/tarde/i,evening:/tarde/i,night:/noche/i}},GY={ordinalNumber:sN({matchPattern:OY,parsePattern:LY,valueCallback:function(e){return parseInt(e,10)}}),era:Ar({matchPatterns:VY,defaultMatchWidth:"wide",parsePatterns:jY,defaultParseWidth:"any"}),quarter:Ar({matchPatterns:FY,defaultMatchWidth:"wide",parsePatterns:$Y,defaultParseWidth:"any",valueCallback:function(e){return e+1}}),month:Ar({matchPatterns:UY,defaultMatchWidth:"wide",parsePatterns:BY,defaultParseWidth:"any"}),day:Ar({matchPatterns:WY,defaultMatchWidth:"wide",parsePatterns:zY,defaultParseWidth:"any"}),dayPeriod:Ar({matchPatterns:HY,defaultMatchWidth:"any",parsePatterns:qY,defaultParseWidth:"any"})};const YY=GY;var KY={code:"es",formatDistance:gY,formatLong:_Y,formatRelative:CY,localize:MY,match:YY,options:{weekStartsOn:1,firstWeekContainsDate:1}};const rl=KY;var ye=function(){return ye=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},ye.apply(this,arguments)};function QY(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function mN(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,o;r<i;r++)(o||!(r in e))&&(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return t.concat(o||Array.prototype.slice.call(e))}function Ou(t){return t.mode==="multiple"}function Lu(t){return t.mode==="range"}function Wp(t){return t.mode==="single"}var XY={root:"rdp",multiple_months:"rdp-multiple_months",with_weeknumber:"rdp-with_weeknumber",vhidden:"rdp-vhidden",button_reset:"rdp-button_reset",button:"rdp-button",caption:"rdp-caption",caption_start:"rdp-caption_start",caption_end:"rdp-caption_end",caption_between:"rdp-caption_between",caption_label:"rdp-caption_label",caption_dropdowns:"rdp-caption_dropdowns",dropdown:"rdp-dropdown",dropdown_month:"rdp-dropdown_month",dropdown_year:"rdp-dropdown_year",dropdown_icon:"rdp-dropdown_icon",months:"rdp-months",month:"rdp-month",table:"rdp-table",tbody:"rdp-tbody",tfoot:"rdp-tfoot",head:"rdp-head",head_row:"rdp-head_row",head_cell:"rdp-head_cell",nav:"rdp-nav",nav_button:"rdp-nav_button",nav_button_previous:"rdp-nav_button_previous",nav_button_next:"rdp-nav_button_next",nav_icon:"rdp-nav_icon",row:"rdp-row",weeknumber:"rdp-weeknumber",cell:"rdp-cell",day:"rdp-day",day_today:"rdp-day_today",day_outside:"rdp-day_outside",day_selected:"rdp-day_selected",day_disabled:"rdp-day_disabled",day_hidden:"rdp-day_hidden",day_range_start:"rdp-day_range_start",day_range_end:"rdp-day_range_end",day_range_middle:"rdp-day_range_middle"};function JY(t,e){return Te(t,"LLLL y",e)}function ZY(t,e){return Te(t,"d",e)}function eK(t,e){return Te(t,"LLLL",e)}function tK(t){return"".concat(t)}function nK(t,e){return Te(t,"cccccc",e)}function rK(t,e){return Te(t,"yyyy",e)}var iK=Object.freeze({__proto__:null,formatCaption:JY,formatDay:ZY,formatMonthCaption:eK,formatWeekNumber:tK,formatWeekdayName:nK,formatYearCaption:rK}),oK=function(t,e,n){return Te(t,"do MMMM (EEEE)",n)},sK=function(){return"Month: "},aK=function(){return"Go to next month"},lK=function(){return"Go to previous month"},cK=function(t,e){return Te(t,"cccc",e)},uK=function(t){return"Week n. ".concat(t)},dK=function(){return"Year: "},fK=Object.freeze({__proto__:null,labelDay:oK,labelMonthDropdown:sK,labelNext:aK,labelPrevious:lK,labelWeekNumber:uK,labelWeekday:cK,labelYearDropdown:dK});function hK(){var t="buttons",e=XY,n=E1,r={},i={},o=1,s={},a=new Date;return{captionLayout:t,classNames:e,formatters:iK,labels:fK,locale:n,modifiersClassNames:r,modifiers:i,numberOfMonths:o,styles:s,today:a,mode:"default"}}function pK(t){var e=t.fromYear,n=t.toYear,r=t.fromMonth,i=t.toMonth,o=t.fromDate,s=t.toDate;return r?o=In(r):e&&(o=new Date(e,0,1)),i?s=w1(i):n&&(s=new Date(n,11,31)),{fromDate:o?Se(o):void 0,toDate:s?Se(s):void 0}}var gN=m.createContext(void 0);function mK(t){var e,n=t.initialProps,r=hK(),i=pK(n),o=i.fromDate,s=i.toDate,a=(e=n.captionLayout)!==null&&e!==void 0?e:r.captionLayout;a!=="buttons"&&(!o||!s)&&(a="buttons");var l;(Wp(n)||Ou(n)||Lu(n))&&(l=n.onSelect);var c=ye(ye(ye({},r),n),{captionLayout:a,classNames:ye(ye({},r.classNames),n.classNames),components:ye({},n.components),formatters:ye(ye({},r.formatters),n.formatters),fromDate:o,labels:ye(ye({},r.labels),n.labels),mode:n.mode||r.mode,modifiers:ye(ye({},r.modifiers),n.modifiers),modifiersClassNames:ye(ye({},r.modifiersClassNames),n.modifiersClassNames),onSelect:l,styles:ye(ye({},r.styles),n.styles),toDate:s});return p.jsx(gN.Provider,{value:c,children:t.children})}function Ze(){var t=m.useContext(gN);if(!t)throw new Error("useDayPicker must be used within a DayPickerProvider.");return t}function vN(t){var e=Ze(),n=e.locale,r=e.classNames,i=e.styles,o=e.formatters.formatCaption;return p.jsx("div",{className:r.caption_label,style:i.caption_label,"aria-live":"polite",role:"presentation",id:t.id,children:o(t.displayMonth,{locale:n})})}function gK(t){return p.jsx("svg",ye({width:"8px",height:"8px",viewBox:"0 0 120 120","data-testid":"iconDropdown"},t,{children:p.jsx("path",{d:"M4.22182541,48.2218254 C8.44222828,44.0014225 15.2388494,43.9273804 19.5496459,47.9996989 L19.7781746,48.2218254 L60,88.443 L100.221825,48.2218254 C104.442228,44.0014225 111.238849,43.9273804 115.549646,47.9996989 L115.778175,48.2218254 C119.998577,52.4422283 120.07262,59.2388494 116.000301,63.5496459 L115.778175,63.7781746 L67.7781746,111.778175 C63.5577717,115.998577 56.7611506,116.07262 52.4503541,112.000301 L52.2218254,111.778175 L4.22182541,63.7781746 C-0.0739418023,59.4824074 -0.0739418023,52.5175926 4.22182541,48.2218254 Z",fill:"currentColor",fillRule:"nonzero"})}))}function yN(t){var e,n,r=t.onChange,i=t.value,o=t.children,s=t.caption,a=t.className,l=t.style,c=Ze(),u=(n=(e=c.components)===null||e===void 0?void 0:e.IconDropdown)!==null&&n!==void 0?n:gK;return p.jsxs("div",{className:a,style:l,children:[p.jsx("span",{className:c.classNames.vhidden,children:t["aria-label"]}),p.jsx("select",{name:t.name,"aria-label":t["aria-label"],className:c.classNames.dropdown,style:c.styles.dropdown,value:i,onChange:r,children:o}),p.jsxs("div",{className:c.classNames.caption_label,style:c.styles.caption_label,"aria-hidden":"true",children:[s,p.jsx(u,{className:c.classNames.dropdown_icon,style:c.styles.dropdown_icon})]})]})}function vK(t){var e,n=Ze(),r=n.fromDate,i=n.toDate,o=n.styles,s=n.locale,a=n.formatters.formatMonthCaption,l=n.classNames,c=n.components,u=n.labels.labelMonthDropdown;if(!r)return p.jsx(p.Fragment,{});if(!i)return p.jsx(p.Fragment,{});var f=[];if(JG(r,i))for(var h=In(r),g=r.getMonth();g<=i.getMonth();g++)f.push(Ag(h,g));else for(var h=In(new Date),g=0;g<=11;g++)f.push(Ag(h,g));var w=function(b){var x=Number(b.target.value),v=Ag(In(t.displayMonth),x);t.onChange(v)},y=(e=c==null?void 0:c.Dropdown)!==null&&e!==void 0?e:yN;return p.jsx(y,{name:"months","aria-label":u(),className:l.dropdown_month,style:o.dropdown_month,onChange:w,value:t.displayMonth.getMonth(),caption:a(t.displayMonth,{locale:s}),children:f.map(function(b){return p.jsx("option",{value:b.getMonth(),children:a(b,{locale:s})},b.getMonth())})})}function yK(t){var e,n=t.displayMonth,r=Ze(),i=r.fromDate,o=r.toDate,s=r.locale,a=r.styles,l=r.classNames,c=r.components,u=r.formatters.formatYearCaption,f=r.labels.labelYearDropdown,h=[];if(!i)return p.jsx(p.Fragment,{});if(!o)return p.jsx(p.Fragment,{});for(var g=i.getFullYear(),w=o.getFullYear(),y=g;y<=w;y++)h.push(dC($H(new Date),y));var b=function(v){var E=dC(In(n),Number(v.target.value));t.onChange(E)},x=(e=c==null?void 0:c.Dropdown)!==null&&e!==void 0?e:yN;return p.jsx(x,{name:"years","aria-label":f(),className:l.dropdown_year,style:a.dropdown_year,onChange:b,value:n.getFullYear(),caption:u(n,{locale:s}),children:h.map(function(v){return p.jsx("option",{value:v.getFullYear(),children:u(v,{locale:s})},v.getFullYear())})})}function wK(t,e){var n=m.useState(t),r=n[0],i=n[1],o=e===void 0?r:e;return[o,i]}function xK(t){var e=t.month,n=t.defaultMonth,r=t.today,i=e||n||r||new Date,o=t.toDate,s=t.fromDate,a=t.numberOfMonths,l=a===void 0?1:a;if(o&&uu(o,i)<0){var c=-1*(l-1);i=vr(o,c)}return s&&uu(i,s)<0&&(i=s),In(i)}function _K(){var t=Ze(),e=xK(t),n=wK(e,t.month),r=n[0],i=n[1],o=function(s){var a;if(!t.disableNavigation){var l=In(s);i(l),(a=t.onMonthChange)===null||a===void 0||a.call(t,l)}};return[r,o]}function EK(t,e){for(var n=e.reverseMonths,r=e.numberOfMonths,i=In(t),o=In(vr(i,r)),s=uu(o,i),a=[],l=0;l<s;l++){var c=vr(i,l);a.push(c)}return n&&(a=a.reverse()),a}function bK(t,e){if(!e.disableNavigation){var n=e.toDate,r=e.pagedNavigation,i=e.numberOfMonths,o=i===void 0?1:i,s=r?o:1,a=In(t);if(!n)return vr(a,s);var l=uu(n,t);if(!(l<o))return vr(a,s)}}function TK(t,e){if(!e.disableNavigation){var n=e.fromDate,r=e.pagedNavigation,i=e.numberOfMonths,o=i===void 0?1:i,s=r?o:1,a=In(t);if(!n)return vr(a,-s);var l=uu(a,n);if(!(l<=0))return vr(a,-s)}}var wN=m.createContext(void 0);function CK(t){var e=Ze(),n=_K(),r=n[0],i=n[1],o=EK(r,e),s=bK(r,e),a=TK(r,e),l=function(f){return o.some(function(h){return C1(f,h)})},c=function(f,h){l(f)||(h&&aN(f,h)?i(vr(f,1+e.numberOfMonths*-1)):i(f))},u={currentMonth:r,displayMonths:o,goToMonth:i,goToDate:c,previousMonth:a,nextMonth:s,isDateDisplayed:l};return p.jsx(wN.Provider,{value:u,children:t.children})}function Vu(){var t=m.useContext(wN);if(!t)throw new Error("useNavigation must be used within a NavigationProvider");return t}function fC(t){var e,n=Ze(),r=n.classNames,i=n.styles,o=n.components,s=Vu().goToMonth,a=function(u){s(vr(u,t.displayIndex?-t.displayIndex:0))},l=(e=o==null?void 0:o.CaptionLabel)!==null&&e!==void 0?e:vN,c=p.jsx(l,{id:t.id,displayMonth:t.displayMonth});return p.jsxs("div",{className:r.caption_dropdowns,style:i.caption_dropdowns,children:[p.jsx("div",{className:r.vhidden,children:c}),p.jsx(vK,{onChange:a,displayMonth:t.displayMonth}),p.jsx(yK,{onChange:a,displayMonth:t.displayMonth})]})}function SK(t){return p.jsx("svg",ye({width:"16px",height:"16px",viewBox:"0 0 120 120"},t,{children:p.jsx("path",{d:"M69.490332,3.34314575 C72.6145263,0.218951416 77.6798462,0.218951416 80.8040405,3.34314575 C83.8617626,6.40086786 83.9268205,11.3179931 80.9992143,14.4548388 L80.8040405,14.6568542 L35.461,60 L80.8040405,105.343146 C83.8617626,108.400868 83.9268205,113.317993 80.9992143,116.454839 L80.8040405,116.656854 C77.7463184,119.714576 72.8291931,119.779634 69.6923475,116.852028 L69.490332,116.656854 L18.490332,65.6568542 C15.4326099,62.5991321 15.367552,57.6820069 18.2951583,54.5451612 L18.490332,54.3431458 L69.490332,3.34314575 Z",fill:"currentColor",fillRule:"nonzero"})}))}function PK(t){return p.jsx("svg",ye({width:"16px",height:"16px",viewBox:"0 0 120 120"},t,{children:p.jsx("path",{d:"M49.8040405,3.34314575 C46.6798462,0.218951416 41.6145263,0.218951416 38.490332,3.34314575 C35.4326099,6.40086786 35.367552,11.3179931 38.2951583,14.4548388 L38.490332,14.6568542 L83.8333725,60 L38.490332,105.343146 C35.4326099,108.400868 35.367552,113.317993 38.2951583,116.454839 L38.490332,116.656854 C41.5480541,119.714576 46.4651794,119.779634 49.602025,116.852028 L49.8040405,116.656854 L100.804041,65.6568542 C103.861763,62.5991321 103.926821,57.6820069 100.999214,54.5451612 L100.804041,54.3431458 L49.8040405,3.34314575 Z",fill:"currentColor"})}))}var Dh=m.forwardRef(function(t,e){var n=Ze(),r=n.classNames,i=n.styles,o=[r.button_reset,r.button];t.className&&o.push(t.className);var s=o.join(" "),a=ye(ye({},i.button_reset),i.button);return t.style&&Object.assign(a,t.style),p.jsx("button",ye({},t,{ref:e,type:"button",className:s,style:a}))});function IK(t){var e,n,r=Ze(),i=r.dir,o=r.locale,s=r.classNames,a=r.styles,l=r.labels,c=l.labelPrevious,u=l.labelNext,f=r.components;if(!t.nextMonth&&!t.previousMonth)return p.jsx(p.Fragment,{});var h=c(t.previousMonth,{locale:o}),g=[s.nav_button,s.nav_button_previous].join(" "),w=u(t.nextMonth,{locale:o}),y=[s.nav_button,s.nav_button_next].join(" "),b=(e=f==null?void 0:f.IconRight)!==null&&e!==void 0?e:PK,x=(n=f==null?void 0:f.IconLeft)!==null&&n!==void 0?n:SK;return p.jsxs("div",{className:s.nav,style:a.nav,children:[!t.hidePrevious&&p.jsx(Dh,{name:"previous-month","aria-label":h,className:g,style:a.nav_button_previous,disabled:!t.previousMonth,onClick:t.onPreviousClick,children:i==="rtl"?p.jsx(b,{className:s.nav_icon,style:a.nav_icon}):p.jsx(x,{className:s.nav_icon,style:a.nav_icon})}),!t.hideNext&&p.jsx(Dh,{name:"next-month","aria-label":w,className:y,style:a.nav_button_next,disabled:!t.nextMonth,onClick:t.onNextClick,children:i==="rtl"?p.jsx(x,{className:s.nav_icon,style:a.nav_icon}):p.jsx(b,{className:s.nav_icon,style:a.nav_icon})})]})}function hC(t){var e=Ze().numberOfMonths,n=Vu(),r=n.previousMonth,i=n.nextMonth,o=n.goToMonth,s=n.displayMonths,a=s.findIndex(function(w){return C1(t.displayMonth,w)}),l=a===0,c=a===s.length-1,u=e>1&&(l||!c),f=e>1&&(c||!l),h=function(){r&&o(r)},g=function(){i&&o(i)};return p.jsx(IK,{displayMonth:t.displayMonth,hideNext:u,hidePrevious:f,nextMonth:i,previousMonth:r,onPreviousClick:h,onNextClick:g})}function AK(t){var e,n=Ze(),r=n.classNames,i=n.disableNavigation,o=n.styles,s=n.captionLayout,a=n.components,l=(e=a==null?void 0:a.CaptionLabel)!==null&&e!==void 0?e:vN,c;return i?c=p.jsx(l,{id:t.id,displayMonth:t.displayMonth}):s==="dropdown"?c=p.jsx(fC,{displayMonth:t.displayMonth,id:t.id}):s==="dropdown-buttons"?c=p.jsxs(p.Fragment,{children:[p.jsx(fC,{displayMonth:t.displayMonth,displayIndex:t.displayIndex,id:t.id}),p.jsx(hC,{displayMonth:t.displayMonth,displayIndex:t.displayIndex,id:t.id})]}):c=p.jsxs(p.Fragment,{children:[p.jsx(l,{id:t.id,displayMonth:t.displayMonth,displayIndex:t.displayIndex}),p.jsx(hC,{displayMonth:t.displayMonth,id:t.id})]}),p.jsx("div",{className:r.caption,style:o.caption,children:c})}function kK(t){var e=Ze(),n=e.footer,r=e.styles,i=e.classNames.tfoot;return n?p.jsx("tfoot",{className:i,style:r.tfoot,children:p.jsx("tr",{children:p.jsx("td",{colSpan:8,children:n})})}):p.jsx(p.Fragment,{})}function RK(t,e,n){for(var r=n?Ss(new Date):Gr(new Date,{locale:t,weekStartsOn:e}),i=[],o=0;o<7;o++){var s=Dt(r,o);i.push(s)}return i}function NK(){var t=Ze(),e=t.classNames,n=t.styles,r=t.showWeekNumber,i=t.locale,o=t.weekStartsOn,s=t.ISOWeek,a=t.formatters.formatWeekdayName,l=t.labels.labelWeekday,c=RK(i,o,s);return p.jsxs("tr",{style:n.head_row,className:e.head_row,children:[r&&p.jsx("td",{style:n.head_cell,className:e.head_cell}),c.map(function(u,f){return p.jsx("th",{scope:"col",className:e.head_cell,style:n.head_cell,"aria-label":l(u,{locale:i}),children:a(u,{locale:i})},f)})]})}function DK(){var t,e=Ze(),n=e.classNames,r=e.styles,i=e.components,o=(t=i==null?void 0:i.HeadRow)!==null&&t!==void 0?t:NK;return p.jsx("thead",{style:r.head,className:n.head,children:p.jsx(o,{})})}function MK(t){var e=Ze(),n=e.locale,r=e.formatters.formatDay;return p.jsx(p.Fragment,{children:r(t.date,{locale:n})})}var S1=m.createContext(void 0);function OK(t){if(!Ou(t.initialProps)){var e={selected:void 0,modifiers:{disabled:[]}};return p.jsx(S1.Provider,{value:e,children:t.children})}return p.jsx(LK,{initialProps:t.initialProps,children:t.children})}function LK(t){var e=t.initialProps,n=t.children,r=e.selected,i=e.min,o=e.max,s=function(c,u,f){var h,g;(h=e.onDayClick)===null||h===void 0||h.call(e,c,u,f);var w=!!(u.selected&&i&&(r==null?void 0:r.length)===i);if(!w){var y=!!(!u.selected&&o&&(r==null?void 0:r.length)===o);if(!y){var b=r?mN([],r,!0):[];if(u.selected){var x=b.findIndex(function(v){return Tn(c,v)});b.splice(x,1)}else b.push(c);(g=e.onSelect)===null||g===void 0||g.call(e,b,c,u,f)}}},a={disabled:[]};r&&a.disabled.push(function(c){var u=o&&r.length>o-1,f=r.some(function(h){return Tn(h,c)});return!!(u&&!f)});var l={selected:r,onDayClick:s,modifiers:a};return p.jsx(S1.Provider,{value:l,children:n})}function P1(){var t=m.useContext(S1);if(!t)throw new Error("useSelectMultiple must be used within a SelectMultipleProvider");return t}function VK(t,e){var n=e||{},r=n.from,i=n.to;return r&&i?Tn(i,t)&&Tn(r,t)?void 0:Tn(i,t)?{from:i,to:void 0}:Tn(r,t)?void 0:kh(r,t)?{from:t,to:i}:{from:r,to:t}:i?kh(t,i)?{from:i,to:t}:{from:t,to:i}:r?aN(t,r)?{from:t,to:r}:{from:r,to:t}:{from:t,to:void 0}}var I1=m.createContext(void 0);function jK(t){if(!Lu(t.initialProps)){var e={selected:void 0,modifiers:{range_start:[],range_end:[],range_middle:[],disabled:[]}};return p.jsx(I1.Provider,{value:e,children:t.children})}return p.jsx(FK,{initialProps:t.initialProps,children:t.children})}function FK(t){var e=t.initialProps,n=t.children,r=e.selected,i=r||{},o=i.from,s=i.to,a=e.min,l=e.max,c=function(g,w,y){var b,x;(b=e.onDayClick)===null||b===void 0||b.call(e,g,w,y);var v=VK(g,r);(x=e.onSelect)===null||x===void 0||x.call(e,v,g,w,y)},u={range_start:[],range_end:[],range_middle:[],disabled:[]};if(o?(u.range_start=[o],s?(u.range_end=[s],Tn(o,s)||(u.range_middle=[{after:o,before:s}])):u.range_end=[o]):s&&(u.range_start=[s],u.range_end=[s]),a&&(o&&!s&&u.disabled.push({after:Pg(o,a-1),before:Dt(o,a-1)}),o&&s&&u.disabled.push({after:o,before:Dt(o,a-1)}),!o&&s&&u.disabled.push({after:Pg(s,a-1),before:Dt(s,a-1)})),l){if(o&&!s&&(u.disabled.push({before:Dt(o,-l+1)}),u.disabled.push({after:Dt(o,l-1)})),o&&s){var f=Nr(s,o)+1,h=l-f;u.disabled.push({before:Pg(o,h)}),u.disabled.push({after:Dt(s,h)})}!o&&s&&(u.disabled.push({before:Dt(s,-l+1)}),u.disabled.push({after:Dt(s,l-1)}))}return p.jsx(I1.Provider,{value:{selected:r,onDayClick:c,modifiers:u},children:n})}function A1(){var t=m.useContext(I1);if(!t)throw new Error("useSelectRange must be used within a SelectRangeProvider");return t}function yf(t){return Array.isArray(t)?mN([],t,!0):t!==void 0?[t]:[]}function $K(t){var e={};return Object.entries(t).forEach(function(n){var r=n[0],i=n[1];e[r]=yf(i)}),e}var yr;(function(t){t.Outside="outside",t.Disabled="disabled",t.Selected="selected",t.Hidden="hidden",t.Today="today",t.RangeStart="range_start",t.RangeEnd="range_end",t.RangeMiddle="range_middle"})(yr||(yr={}));var UK=yr.Selected,ti=yr.Disabled,BK=yr.Hidden,WK=yr.Today,kg=yr.RangeEnd,Rg=yr.RangeMiddle,Ng=yr.RangeStart,zK=yr.Outside;function HK(t,e,n){var r,i=(r={},r[UK]=yf(t.selected),r[ti]=yf(t.disabled),r[BK]=yf(t.hidden),r[WK]=[t.today],r[kg]=[],r[Rg]=[],r[Ng]=[],r[zK]=[],r);return t.fromDate&&i[ti].push({before:t.fromDate}),t.toDate&&i[ti].push({after:t.toDate}),Ou(t)?i[ti]=i[ti].concat(e.modifiers[ti]):Lu(t)&&(i[ti]=i[ti].concat(n.modifiers[ti]),i[Ng]=n.modifiers[Ng],i[Rg]=n.modifiers[Rg],i[kg]=n.modifiers[kg]),i}var xN=m.createContext(void 0);function qK(t){var e=Ze(),n=P1(),r=A1(),i=HK(e,n,r),o=$K(e.modifiers),s=ye(ye({},i),o);return p.jsx(xN.Provider,{value:s,children:t.children})}function _N(){var t=m.useContext(xN);if(!t)throw new Error("useModifiers must be used within a ModifiersProvider");return t}function GK(t){return!!(t&&typeof t=="object"&&"before"in t&&"after"in t)}function YK(t){return!!(t&&typeof t=="object"&&"from"in t)}function KK(t){return!!(t&&typeof t=="object"&&"after"in t)}function QK(t){return!!(t&&typeof t=="object"&&"before"in t)}function XK(t){return!!(t&&typeof t=="object"&&"dayOfWeek"in t)}function JK(t,e){var n,r=e.from,i=e.to;if(r&&i){var o=Nr(i,r)<0;o&&(n=[i,r],r=n[0],i=n[1]);var s=Nr(t,r)>=0&&Nr(i,t)>=0;return s}return i?Tn(i,t):r?Tn(r,t):!1}function ZK(t){return y1(t)}function eQ(t){return Array.isArray(t)&&t.every(y1)}function tQ(t,e){return e.some(function(n){if(typeof n=="boolean")return n;if(ZK(n))return Tn(t,n);if(eQ(n))return n.includes(t);if(YK(n))return JK(t,n);if(XK(n))return n.dayOfWeek.includes(t.getDay());if(GK(n)){var r=Nr(n.before,t),i=Nr(n.after,t),o=r>0,s=i<0,a=kh(n.before,n.after);return a?s&&o:o||s}return KK(n)?Nr(t,n.after)>0:QK(n)?Nr(n.before,t)>0:typeof n=="function"?n(t):!1})}function k1(t,e,n){var r=Object.keys(e).reduce(function(o,s){var a=e[s];return tQ(t,a)&&o.push(s),o},[]),i={};return r.forEach(function(o){return i[o]=!0}),n&&!C1(t,n)&&(i.outside=!0),i}function nQ(t,e){for(var n=In(t[0]),r=w1(t[t.length-1]),i,o,s=n;s<=r;){var a=k1(s,e),l=!a.disabled&&!a.hidden;if(!l){s=Dt(s,1);continue}if(a.selected)return s;a.today&&!o&&(o=s),i||(i=s),s=Dt(s,1)}return o||i}var rQ=365;function EN(t,e){var n=e.moveBy,r=e.direction,i=e.context,o=e.modifiers,s=e.retry,a=s===void 0?{count:0,lastFocused:t}:s,l=i.weekStartsOn,c=i.fromDate,u=i.toDate,f=i.locale,h={day:Dt,week:Fy,month:vr,year:NH,startOfWeek:function(b){return i.ISOWeek?Ss(b):Gr(b,{locale:f,weekStartsOn:l})},endOfWeek:function(b){return i.ISOWeek?J2(b):x1(b,{locale:f,weekStartsOn:l})}},g=h[n](t,r==="after"?1:-1);r==="before"&&c?g=DH([c,g]):r==="after"&&u&&(g=MH([u,g]));var w=!0;if(o){var y=k1(g,o);w=!y.disabled&&!y.hidden}return w?g:a.count>rQ?a.lastFocused:EN(g,{moveBy:n,direction:r,context:i,modifiers:o,retry:ye(ye({},a),{count:a.count+1})})}var bN=m.createContext(void 0);function iQ(t){var e=Vu(),n=_N(),r=m.useState(),i=r[0],o=r[1],s=m.useState(),a=s[0],l=s[1],c=nQ(e.displayMonths,n),u=i??(a&&e.isDateDisplayed(a))?a:c,f=function(){l(i),o(void 0)},h=function(b){o(b)},g=Ze(),w=function(b,x){if(i){var v=EN(i,{moveBy:b,direction:x,context:g,modifiers:n});Tn(i,v)||(e.goToDate(v,i),h(v))}},y={focusedDay:i,focusTarget:u,blur:f,focus:h,focusDayAfter:function(){return w("day","after")},focusDayBefore:function(){return w("day","before")},focusWeekAfter:function(){return w("week","after")},focusWeekBefore:function(){return w("week","before")},focusMonthBefore:function(){return w("month","before")},focusMonthAfter:function(){return w("month","after")},focusYearBefore:function(){return w("year","before")},focusYearAfter:function(){return w("year","after")},focusStartOfWeek:function(){return w("startOfWeek","before")},focusEndOfWeek:function(){return w("endOfWeek","after")}};return p.jsx(bN.Provider,{value:y,children:t.children})}function R1(){var t=m.useContext(bN);if(!t)throw new Error("useFocusContext must be used within a FocusProvider");return t}function oQ(t,e){var n=_N(),r=k1(t,n,e);return r}var N1=m.createContext(void 0);function sQ(t){if(!Wp(t.initialProps)){var e={selected:void 0};return p.jsx(N1.Provider,{value:e,children:t.children})}return p.jsx(aQ,{initialProps:t.initialProps,children:t.children})}function aQ(t){var e=t.initialProps,n=t.children,r=function(o,s,a){var l,c,u;if((l=e.onDayClick)===null||l===void 0||l.call(e,o,s,a),s.selected&&!e.required){(c=e.onSelect)===null||c===void 0||c.call(e,void 0,o,s,a);return}(u=e.onSelect)===null||u===void 0||u.call(e,o,o,s,a)},i={selected:e.selected,onDayClick:r};return p.jsx(N1.Provider,{value:i,children:n})}function TN(){var t=m.useContext(N1);if(!t)throw new Error("useSelectSingle must be used within a SelectSingleProvider");return t}function lQ(t,e){var n=Ze(),r=TN(),i=P1(),o=A1(),s=R1(),a=s.focusDayAfter,l=s.focusDayBefore,c=s.focusWeekAfter,u=s.focusWeekBefore,f=s.blur,h=s.focus,g=s.focusMonthBefore,w=s.focusMonthAfter,y=s.focusYearBefore,b=s.focusYearAfter,x=s.focusStartOfWeek,v=s.focusEndOfWeek,E=function(W){var L,j,U,z;Wp(n)?(L=r.onDayClick)===null||L===void 0||L.call(r,t,e,W):Ou(n)?(j=i.onDayClick)===null||j===void 0||j.call(i,t,e,W):Lu(n)?(U=o.onDayClick)===null||U===void 0||U.call(o,t,e,W):(z=n.onDayClick)===null||z===void 0||z.call(n,t,e,W)},S=function(W){var L;h(t),(L=n.onDayFocus)===null||L===void 0||L.call(n,t,e,W)},R=function(W){var L;f(),(L=n.onDayBlur)===null||L===void 0||L.call(n,t,e,W)},D=function(W){var L;(L=n.onDayMouseEnter)===null||L===void 0||L.call(n,t,e,W)},P=function(W){var L;(L=n.onDayMouseLeave)===null||L===void 0||L.call(n,t,e,W)},C=function(W){var L;(L=n.onDayPointerEnter)===null||L===void 0||L.call(n,t,e,W)},I=function(W){var L;(L=n.onDayPointerLeave)===null||L===void 0||L.call(n,t,e,W)},A=function(W){var L;(L=n.onDayTouchCancel)===null||L===void 0||L.call(n,t,e,W)},M=function(W){var L;(L=n.onDayTouchEnd)===null||L===void 0||L.call(n,t,e,W)},O=function(W){var L;(L=n.onDayTouchMove)===null||L===void 0||L.call(n,t,e,W)},N=function(W){var L;(L=n.onDayTouchStart)===null||L===void 0||L.call(n,t,e,W)},F=function(W){var L;(L=n.onDayKeyUp)===null||L===void 0||L.call(n,t,e,W)},G=function(W){var L;switch(W.key){case"ArrowLeft":W.preventDefault(),W.stopPropagation(),n.dir==="rtl"?a():l();break;case"ArrowRight":W.preventDefault(),W.stopPropagation(),n.dir==="rtl"?l():a();break;case"ArrowDown":W.preventDefault(),W.stopPropagation(),c();break;case"ArrowUp":W.preventDefault(),W.stopPropagation(),u();break;case"PageUp":W.preventDefault(),W.stopPropagation(),W.shiftKey?y():g();break;case"PageDown":W.preventDefault(),W.stopPropagation(),W.shiftKey?b():w();break;case"Home":W.preventDefault(),W.stopPropagation(),x();break;case"End":W.preventDefault(),W.stopPropagation(),v();break}(L=n.onDayKeyDown)===null||L===void 0||L.call(n,t,e,W)},K={onClick:E,onFocus:S,onBlur:R,onKeyDown:G,onKeyUp:F,onMouseEnter:D,onMouseLeave:P,onPointerEnter:C,onPointerLeave:I,onTouchCancel:A,onTouchEnd:M,onTouchMove:O,onTouchStart:N};return K}function cQ(){var t=Ze(),e=TN(),n=P1(),r=A1(),i=Wp(t)?e.selected:Ou(t)?n.selected:Lu(t)?r.selected:void 0;return i}function uQ(t){return Object.values(yr).includes(t)}function dQ(t,e){var n=[t.classNames.day];return Object.keys(e).forEach(function(r){var i=t.modifiersClassNames[r];if(i)n.push(i);else if(uQ(r)){var o=t.classNames["day_".concat(r)];o&&n.push(o)}}),n}function fQ(t,e){var n=ye({},t.styles.day);return Object.keys(e).forEach(function(r){var i;n=ye(ye({},n),(i=t.modifiersStyles)===null||i===void 0?void 0:i[r])}),n}function hQ(t,e,n){var r,i,o,s=Ze(),a=R1(),l=oQ(t,e),c=lQ(t,l),u=cQ(),f=!!(s.onDayClick||s.mode!=="default");m.useEffect(function(){var D;l.outside||a.focusedDay&&f&&Tn(a.focusedDay,t)&&((D=n.current)===null||D===void 0||D.focus())},[a.focusedDay,t,n,f,l.outside]);var h=dQ(s,l).join(" "),g=fQ(s,l),w=!!(l.outside&&!s.showOutsideDays||l.hidden),y=(o=(i=s.components)===null||i===void 0?void 0:i.DayContent)!==null&&o!==void 0?o:MK,b=p.jsx(y,{date:t,displayMonth:e,activeModifiers:l}),x={style:g,className:h,children:b,role:"gridcell"},v=a.focusTarget&&Tn(a.focusTarget,t)&&!l.outside,E=a.focusedDay&&Tn(a.focusedDay,t),S=ye(ye(ye({},x),(r={disabled:l.disabled,role:"gridcell"},r["aria-selected"]=l.selected,r.tabIndex=E||v?0:-1,r)),c),R={isButton:f,isHidden:w,activeModifiers:l,selectedDays:u,buttonProps:S,divProps:x};return R}function pQ(t){var e=m.useRef(null),n=hQ(t.date,t.displayMonth,e);return n.isHidden?p.jsx("div",{role:"gridcell"}):n.isButton?p.jsx(Dh,ye({name:"day",ref:e},n.buttonProps)):p.jsx("div",ye({},n.divProps))}function mQ(t){var e=t.number,n=t.dates,r=Ze(),i=r.onWeekNumberClick,o=r.styles,s=r.classNames,a=r.locale,l=r.labels.labelWeekNumber,c=r.formatters.formatWeekNumber,u=c(Number(e),{locale:a});if(!i)return p.jsx("span",{className:s.weeknumber,style:o.weeknumber,children:u});var f=l(Number(e),{locale:a}),h=function(g){i(e,n,g)};return p.jsx(Dh,{name:"week-number","aria-label":f,className:s.weeknumber,style:o.weeknumber,onClick:h,children:u})}function gQ(t){var e,n,r=Ze(),i=r.styles,o=r.classNames,s=r.showWeekNumber,a=r.components,l=(e=a==null?void 0:a.Day)!==null&&e!==void 0?e:pQ,c=(n=a==null?void 0:a.WeekNumber)!==null&&n!==void 0?n:mQ,u;return s&&(u=p.jsx("td",{className:o.cell,style:i.cell,children:p.jsx(c,{number:t.weekNumber,dates:t.dates})})),p.jsxs("tr",{className:o.row,style:i.row,children:[u,t.dates.map(function(f){return p.jsx("td",{className:o.cell,style:i.cell,role:"presentation",children:p.jsx(l,{displayMonth:t.displayMonth,date:f})},Yq(f))})]})}function pC(t,e,n){for(var r=n!=null&&n.ISOWeek?J2(e):x1(e,n),i=n!=null&&n.ISOWeek?Ss(t):Gr(t,n),o=Nr(r,i),s=[],a=0;a<=o;a++)s.push(Dt(i,a));var l=s.reduce(function(c,u){var f=n!=null&&n.ISOWeek?qq(u):Jq(u,n),h=c.find(function(g){return g.weekNumber===f});return h?(h.dates.push(u),c):(c.push({weekNumber:f,dates:[u]}),c)},[]);return l}function vQ(t,e){var n=pC(In(t),w1(t),e);if(e!=null&&e.useFixedWeeks){var r=eG(t,e);if(r<6){var i=n[n.length-1],o=i.dates[i.dates.length-1],s=Fy(o,6-r),a=pC(Fy(o,1),s,e);n.push.apply(n,a)}}return n}function yQ(t){var e,n,r,i=Ze(),o=i.locale,s=i.classNames,a=i.styles,l=i.hideHead,c=i.fixedWeeks,u=i.components,f=i.weekStartsOn,h=i.firstWeekContainsDate,g=i.ISOWeek,w=vQ(t.displayMonth,{useFixedWeeks:!!c,ISOWeek:g,locale:o,weekStartsOn:f,firstWeekContainsDate:h}),y=(e=u==null?void 0:u.Head)!==null&&e!==void 0?e:DK,b=(n=u==null?void 0:u.Row)!==null&&n!==void 0?n:gQ,x=(r=u==null?void 0:u.Footer)!==null&&r!==void 0?r:kK;return p.jsxs("table",{id:t.id,className:s.table,style:a.table,role:"grid","aria-labelledby":t["aria-labelledby"],children:[!l&&p.jsx(y,{}),p.jsx("tbody",{className:s.tbody,style:a.tbody,children:w.map(function(v){return p.jsx(b,{displayMonth:t.displayMonth,dates:v.dates,weekNumber:v.weekNumber},v.weekNumber)})}),p.jsx(x,{displayMonth:t.displayMonth})]})}function wQ(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}var xQ=wQ()?m.useLayoutEffect:m.useEffect,Dg=!1,_Q=0;function mC(){return"react-day-picker-".concat(++_Q)}function EQ(t){var e,n=t??(Dg?mC():null),r=m.useState(n),i=r[0],o=r[1];return xQ(function(){i===null&&o(mC())},[]),m.useEffect(function(){Dg===!1&&(Dg=!0)},[]),(e=t??i)!==null&&e!==void 0?e:void 0}function bQ(t){var e,n,r=Ze(),i=r.dir,o=r.classNames,s=r.styles,a=r.components,l=Vu().displayMonths,c=EQ(r.id?"".concat(r.id,"-").concat(t.displayIndex):void 0),u=r.id?"".concat(r.id,"-grid-").concat(t.displayIndex):void 0,f=[o.month],h=s.month,g=t.displayIndex===0,w=t.displayIndex===l.length-1,y=!g&&!w;i==="rtl"&&(e=[g,w],w=e[0],g=e[1]),g&&(f.push(o.caption_start),h=ye(ye({},h),s.caption_start)),w&&(f.push(o.caption_end),h=ye(ye({},h),s.caption_end)),y&&(f.push(o.caption_between),h=ye(ye({},h),s.caption_between));var b=(n=a==null?void 0:a.Caption)!==null&&n!==void 0?n:AK;return p.jsxs("div",{className:f.join(" "),style:h,children:[p.jsx(b,{id:c,displayMonth:t.displayMonth,displayIndex:t.displayIndex}),p.jsx(yQ,{id:u,"aria-labelledby":c,displayMonth:t.displayMonth})]},t.displayIndex)}function TQ(t){var e=Ze(),n=e.classNames,r=e.styles;return p.jsx("div",{className:n.months,style:r.months,children:t.children})}function CQ(t){var e,n,r=t.initialProps,i=Ze(),o=R1(),s=Vu(),a=m.useState(!1),l=a[0],c=a[1];m.useEffect(function(){i.initialFocus&&o.focusTarget&&(l||(o.focus(o.focusTarget),c(!0)))},[i.initialFocus,l,o.focus,o.focusTarget,o]);var u=[i.classNames.root,i.className];i.numberOfMonths>1&&u.push(i.classNames.multiple_months),i.showWeekNumber&&u.push(i.classNames.with_weeknumber);var f=ye(ye({},i.styles.root),i.style),h=Object.keys(r).filter(function(w){return w.startsWith("data-")}).reduce(function(w,y){var b;return ye(ye({},w),(b={},b[y]=r[y],b))},{}),g=(n=(e=r.components)===null||e===void 0?void 0:e.Months)!==null&&n!==void 0?n:TQ;return p.jsx("div",ye({className:u.join(" "),style:f,dir:i.dir,id:i.id,nonce:r.nonce,title:r.title,lang:r.lang},h,{children:p.jsx(g,{children:s.displayMonths.map(function(w,y){return p.jsx(bQ,{displayIndex:y,displayMonth:w},y)})})}))}function SQ(t){var e=t.children,n=QY(t,["children"]);return p.jsx(mK,{initialProps:n,children:p.jsx(CK,{children:p.jsx(sQ,{initialProps:n,children:p.jsx(OK,{initialProps:n,children:p.jsx(jK,{initialProps:n,children:p.jsx(qK,{children:p.jsx(iQ,{children:e})})})})})})})}function PQ(t){return p.jsx(SQ,ye({},t,{children:p.jsx(CQ,{initialProps:t})}))}function CN({className:t,classNames:e,showOutsideDays:n=!0,...r}){return p.jsx(PQ,{showOutsideDays:n,className:Ue("p-3",t),classNames:{months:"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0",month:"space-y-4",caption:"flex justify-center pt-1 relative items-center",caption_label:"text-sm font-medium",nav:"space-x-1 flex items-center",nav_button:Ue(by({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-y-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:"h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20",day:Ue(by({variant:"ghost"}),"h-9 w-9 p-0 font-normal aria-selected:opacity-100"),day_selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",day_today:"bg-accent text-accent-foreground",day_outside:"text-muted-foreground opacity-50",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible",...e},components:{IconLeft:({...i})=>p.jsx(Zz,{className:"h-4 w-4"}),IconRight:({...i})=>p.jsx(eH,{className:"h-4 w-4"})},...r})}CN.displayName="Calendar";function Ht(t){const e=m.useRef(t);return m.useEffect(()=>{e.current=t}),m.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function IQ(t,e=globalThis==null?void 0:globalThis.document){const n=Ht(t);m.useEffect(()=>{const r=i=>{i.key==="Escape"&&n(i)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var AQ="DismissableLayer",By="dismissableLayer.update",kQ="dismissableLayer.pointerDownOutside",RQ="dismissableLayer.focusOutside",gC,SN=m.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),zp=m.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:o,onInteractOutside:s,onDismiss:a,...l}=t,c=m.useContext(SN),[u,f]=m.useState(null),h=(u==null?void 0:u.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,g]=m.useState({}),w=lt(e,P=>f(P)),y=Array.from(c.layers),[b]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),x=y.indexOf(b),v=u?y.indexOf(u):-1,E=c.layersWithOutsidePointerEventsDisabled.size>0,S=v>=x,R=DQ(P=>{const C=P.target,I=[...c.branches].some(A=>A.contains(C));!S||I||(i==null||i(P),s==null||s(P),P.defaultPrevented||a==null||a())},h),D=MQ(P=>{const C=P.target;[...c.branches].some(A=>A.contains(C))||(o==null||o(P),s==null||s(P),P.defaultPrevented||a==null||a())},h);return IQ(P=>{v===c.layers.size-1&&(r==null||r(P),!P.defaultPrevented&&a&&(P.preventDefault(),a()))},h),m.useEffect(()=>{if(u)return n&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(gC=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(u)),c.layers.add(u),vC(),()=>{n&&c.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=gC)}},[u,h,n,c]),m.useEffect(()=>()=>{u&&(c.layers.delete(u),c.layersWithOutsidePointerEventsDisabled.delete(u),vC())},[u,c]),m.useEffect(()=>{const P=()=>g({});return document.addEventListener(By,P),()=>document.removeEventListener(By,P)},[]),p.jsx(ze.div,{...l,ref:w,style:{pointerEvents:E?S?"auto":"none":void 0,...t.style},onFocusCapture:$e(t.onFocusCapture,D.onFocusCapture),onBlurCapture:$e(t.onBlurCapture,D.onBlurCapture),onPointerDownCapture:$e(t.onPointerDownCapture,R.onPointerDownCapture)})});zp.displayName=AQ;var NQ="DismissableLayerBranch",PN=m.forwardRef((t,e)=>{const n=m.useContext(SN),r=m.useRef(null),i=lt(e,r);return m.useEffect(()=>{const o=r.current;if(o)return n.branches.add(o),()=>{n.branches.delete(o)}},[n.branches]),p.jsx(ze.div,{...t,ref:i})});PN.displayName=NQ;function DQ(t,e=globalThis==null?void 0:globalThis.document){const n=Ht(t),r=m.useRef(!1),i=m.useRef(()=>{});return m.useEffect(()=>{const o=a=>{if(a.target&&!r.current){let l=function(){IN(kQ,n,c,{discrete:!0})};const c={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=l,e.addEventListener("click",i.current,{once:!0})):l()}else e.removeEventListener("click",i.current);r.current=!1},s=window.setTimeout(()=>{e.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(s),e.removeEventListener("pointerdown",o),e.removeEventListener("click",i.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function MQ(t,e=globalThis==null?void 0:globalThis.document){const n=Ht(t),r=m.useRef(!1);return m.useEffect(()=>{const i=o=>{o.target&&!r.current&&IN(RQ,n,{originalEvent:o},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function vC(){const t=new CustomEvent(By);document.dispatchEvent(t)}function IN(t,e,n,{discrete:r}){const i=n.originalEvent.target,o=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&i.addEventListener(t,e,{once:!0}),r?gR(i,o):i.dispatchEvent(o)}var OQ=zp,LQ=PN,Mg=0;function AN(){m.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??yC()),document.body.insertAdjacentElement("beforeend",t[1]??yC()),Mg++,()=>{Mg===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),Mg--}},[])}function yC(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var Og="focusScope.autoFocusOnMount",Lg="focusScope.autoFocusOnUnmount",wC={bubbles:!1,cancelable:!0},VQ="FocusScope",D1=m.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:i,onUnmountAutoFocus:o,...s}=t,[a,l]=m.useState(null),c=Ht(i),u=Ht(o),f=m.useRef(null),h=lt(e,y=>l(y)),g=m.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;m.useEffect(()=>{if(r){let y=function(E){if(g.paused||!a)return;const S=E.target;a.contains(S)?f.current=S:Hi(f.current,{select:!0})},b=function(E){if(g.paused||!a)return;const S=E.relatedTarget;S!==null&&(a.contains(S)||Hi(f.current,{select:!0}))},x=function(E){if(document.activeElement===document.body)for(const R of E)R.removedNodes.length>0&&Hi(a)};document.addEventListener("focusin",y),document.addEventListener("focusout",b);const v=new MutationObserver(x);return a&&v.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",y),document.removeEventListener("focusout",b),v.disconnect()}}},[r,a,g.paused]),m.useEffect(()=>{if(a){_C.add(g);const y=document.activeElement;if(!a.contains(y)){const x=new CustomEvent(Og,wC);a.addEventListener(Og,c),a.dispatchEvent(x),x.defaultPrevented||(jQ(WQ(kN(a)),{select:!0}),document.activeElement===y&&Hi(a))}return()=>{a.removeEventListener(Og,c),setTimeout(()=>{const x=new CustomEvent(Lg,wC);a.addEventListener(Lg,u),a.dispatchEvent(x),x.defaultPrevented||Hi(y??document.body,{select:!0}),a.removeEventListener(Lg,u),_C.remove(g)},0)}}},[a,c,u,g]);const w=m.useCallback(y=>{if(!n&&!r||g.paused)return;const b=y.key==="Tab"&&!y.altKey&&!y.ctrlKey&&!y.metaKey,x=document.activeElement;if(b&&x){const v=y.currentTarget,[E,S]=FQ(v);E&&S?!y.shiftKey&&x===S?(y.preventDefault(),n&&Hi(E,{select:!0})):y.shiftKey&&x===E&&(y.preventDefault(),n&&Hi(S,{select:!0})):x===v&&y.preventDefault()}},[n,r,g.paused]);return p.jsx(ze.div,{tabIndex:-1,...s,ref:h,onKeyDown:w})});D1.displayName=VQ;function jQ(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(Hi(r,{select:e}),document.activeElement!==n)return}function FQ(t){const e=kN(t),n=xC(e,t),r=xC(e.reverse(),t);return[n,r]}function kN(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function xC(t,e){for(const n of t)if(!$Q(n,{upTo:e}))return n}function $Q(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function UQ(t){return t instanceof HTMLInputElement&&"select"in t}function Hi(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&UQ(t)&&e&&t.select()}}var _C=BQ();function BQ(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=EC(t,e),t.unshift(e)},remove(e){var n;t=EC(t,e),(n=t[0])==null||n.resume()}}}function EC(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function WQ(t){return t.filter(e=>e.tagName!=="A")}var zQ=zh[" useId ".trim().toString()]||(()=>{}),HQ=0;function wf(t){const[e,n]=m.useState(zQ());return qr(()=>{t||n(r=>r??String(HQ++))},[t]),t||(e?`radix-${e}`:"")}const qQ=["top","right","bottom","left"],Oo=Math.min,Dn=Math.max,Mh=Math.round,Vd=Math.floor,Wr=t=>({x:t,y:t}),GQ={left:"right",right:"left",bottom:"top",top:"bottom"},YQ={start:"end",end:"start"};function Wy(t,e,n){return Dn(t,Oo(e,n))}function Pi(t,e){return typeof t=="function"?t(e):t}function Ii(t){return t.split("-")[0]}function El(t){return t.split("-")[1]}function M1(t){return t==="x"?"y":"x"}function O1(t){return t==="y"?"height":"width"}function mi(t){return["top","bottom"].includes(Ii(t))?"y":"x"}function L1(t){return M1(mi(t))}function KQ(t,e,n){n===void 0&&(n=!1);const r=El(t),i=L1(t),o=O1(i);let s=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[o]>e.floating[o]&&(s=Oh(s)),[s,Oh(s)]}function QQ(t){const e=Oh(t);return[zy(t),e,zy(e)]}function zy(t){return t.replace(/start|end/g,e=>YQ[e])}function XQ(t,e,n){const r=["left","right"],i=["right","left"],o=["top","bottom"],s=["bottom","top"];switch(t){case"top":case"bottom":return n?e?i:r:e?r:i;case"left":case"right":return e?o:s;default:return[]}}function JQ(t,e,n,r){const i=El(t);let o=XQ(Ii(t),n==="start",r);return i&&(o=o.map(s=>s+"-"+i),e&&(o=o.concat(o.map(zy)))),o}function Oh(t){return t.replace(/left|right|bottom|top/g,e=>GQ[e])}function ZQ(t){return{top:0,right:0,bottom:0,left:0,...t}}function RN(t){return typeof t!="number"?ZQ(t):{top:t,right:t,bottom:t,left:t}}function Lh(t){const{x:e,y:n,width:r,height:i}=t;return{width:r,height:i,top:n,left:e,right:e+r,bottom:n+i,x:e,y:n}}function bC(t,e,n){let{reference:r,floating:i}=t;const o=mi(e),s=L1(e),a=O1(s),l=Ii(e),c=o==="y",u=r.x+r.width/2-i.width/2,f=r.y+r.height/2-i.height/2,h=r[a]/2-i[a]/2;let g;switch(l){case"top":g={x:u,y:r.y-i.height};break;case"bottom":g={x:u,y:r.y+r.height};break;case"right":g={x:r.x+r.width,y:f};break;case"left":g={x:r.x-i.width,y:f};break;default:g={x:r.x,y:r.y}}switch(El(e)){case"start":g[s]-=h*(n&&c?-1:1);break;case"end":g[s]+=h*(n&&c?-1:1);break}return g}const eX=async(t,e,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:o=[],platform:s}=n,a=o.filter(Boolean),l=await(s.isRTL==null?void 0:s.isRTL(e));let c=await s.getElementRects({reference:t,floating:e,strategy:i}),{x:u,y:f}=bC(c,r,l),h=r,g={},w=0;for(let y=0;y<a.length;y++){const{name:b,fn:x}=a[y],{x:v,y:E,data:S,reset:R}=await x({x:u,y:f,initialPlacement:r,placement:h,strategy:i,middlewareData:g,rects:c,platform:s,elements:{reference:t,floating:e}});u=v??u,f=E??f,g={...g,[b]:{...g[b],...S}},R&&w<=50&&(w++,typeof R=="object"&&(R.placement&&(h=R.placement),R.rects&&(c=R.rects===!0?await s.getElementRects({reference:t,floating:e,strategy:i}):R.rects),{x:u,y:f}=bC(c,h,l)),y=-1)}return{x:u,y:f,placement:h,strategy:i,middlewareData:g}};async function du(t,e){var n;e===void 0&&(e={});const{x:r,y:i,platform:o,rects:s,elements:a,strategy:l}=t,{boundary:c="clippingAncestors",rootBoundary:u="viewport",elementContext:f="floating",altBoundary:h=!1,padding:g=0}=Pi(e,t),w=RN(g),b=a[h?f==="floating"?"reference":"floating":f],x=Lh(await o.getClippingRect({element:(n=await(o.isElement==null?void 0:o.isElement(b)))==null||n?b:b.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(a.floating)),boundary:c,rootBoundary:u,strategy:l})),v=f==="floating"?{x:r,y:i,width:s.floating.width,height:s.floating.height}:s.reference,E=await(o.getOffsetParent==null?void 0:o.getOffsetParent(a.floating)),S=await(o.isElement==null?void 0:o.isElement(E))?await(o.getScale==null?void 0:o.getScale(E))||{x:1,y:1}:{x:1,y:1},R=Lh(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:v,offsetParent:E,strategy:l}):v);return{top:(x.top-R.top+w.top)/S.y,bottom:(R.bottom-x.bottom+w.bottom)/S.y,left:(x.left-R.left+w.left)/S.x,right:(R.right-x.right+w.right)/S.x}}const tX=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:i,rects:o,platform:s,elements:a,middlewareData:l}=e,{element:c,padding:u=0}=Pi(t,e)||{};if(c==null)return{};const f=RN(u),h={x:n,y:r},g=L1(i),w=O1(g),y=await s.getDimensions(c),b=g==="y",x=b?"top":"left",v=b?"bottom":"right",E=b?"clientHeight":"clientWidth",S=o.reference[w]+o.reference[g]-h[g]-o.floating[w],R=h[g]-o.reference[g],D=await(s.getOffsetParent==null?void 0:s.getOffsetParent(c));let P=D?D[E]:0;(!P||!await(s.isElement==null?void 0:s.isElement(D)))&&(P=a.floating[E]||o.floating[w]);const C=S/2-R/2,I=P/2-y[w]/2-1,A=Oo(f[x],I),M=Oo(f[v],I),O=A,N=P-y[w]-M,F=P/2-y[w]/2+C,G=Wy(O,F,N),K=!l.arrow&&El(i)!=null&&F!==G&&o.reference[w]/2-(F<O?A:M)-y[w]/2<0,W=K?F<O?F-O:F-N:0;return{[g]:h[g]+W,data:{[g]:G,centerOffset:F-G-W,...K&&{alignmentOffset:W}},reset:K}}}),nX=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:i,middlewareData:o,rects:s,initialPlacement:a,platform:l,elements:c}=e,{mainAxis:u=!0,crossAxis:f=!0,fallbackPlacements:h,fallbackStrategy:g="bestFit",fallbackAxisSideDirection:w="none",flipAlignment:y=!0,...b}=Pi(t,e);if((n=o.arrow)!=null&&n.alignmentOffset)return{};const x=Ii(i),v=mi(a),E=Ii(a)===a,S=await(l.isRTL==null?void 0:l.isRTL(c.floating)),R=h||(E||!y?[Oh(a)]:QQ(a)),D=w!=="none";!h&&D&&R.push(...JQ(a,y,w,S));const P=[a,...R],C=await du(e,b),I=[];let A=((r=o.flip)==null?void 0:r.overflows)||[];if(u&&I.push(C[x]),f){const G=KQ(i,s,S);I.push(C[G[0]],C[G[1]])}if(A=[...A,{placement:i,overflows:I}],!I.every(G=>G<=0)){var M,O;const G=(((M=o.flip)==null?void 0:M.index)||0)+1,K=P[G];if(K){var N;const L=f==="alignment"?v!==mi(K):!1,j=((N=A[0])==null?void 0:N.overflows[0])>0;if(!L||j)return{data:{index:G,overflows:A},reset:{placement:K}}}let W=(O=A.filter(L=>L.overflows[0]<=0).sort((L,j)=>L.overflows[1]-j.overflows[1])[0])==null?void 0:O.placement;if(!W)switch(g){case"bestFit":{var F;const L=(F=A.filter(j=>{if(D){const U=mi(j.placement);return U===v||U==="y"}return!0}).map(j=>[j.placement,j.overflows.filter(U=>U>0).reduce((U,z)=>U+z,0)]).sort((j,U)=>j[1]-U[1])[0])==null?void 0:F[0];L&&(W=L);break}case"initialPlacement":W=a;break}if(i!==W)return{reset:{placement:W}}}return{}}}};function TC(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function CC(t){return qQ.some(e=>t[e]>=0)}const rX=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...i}=Pi(t,e);switch(r){case"referenceHidden":{const o=await du(e,{...i,elementContext:"reference"}),s=TC(o,n.reference);return{data:{referenceHiddenOffsets:s,referenceHidden:CC(s)}}}case"escaped":{const o=await du(e,{...i,altBoundary:!0}),s=TC(o,n.floating);return{data:{escapedOffsets:s,escaped:CC(s)}}}default:return{}}}}};async function iX(t,e){const{placement:n,platform:r,elements:i}=t,o=await(r.isRTL==null?void 0:r.isRTL(i.floating)),s=Ii(n),a=El(n),l=mi(n)==="y",c=["left","top"].includes(s)?-1:1,u=o&&l?-1:1,f=Pi(e,t);let{mainAxis:h,crossAxis:g,alignmentAxis:w}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return a&&typeof w=="number"&&(g=a==="end"?w*-1:w),l?{x:g*u,y:h*c}:{x:h*c,y:g*u}}const oX=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:i,y:o,placement:s,middlewareData:a}=e,l=await iX(e,t);return s===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:i+l.x,y:o+l.y,data:{...l,placement:s}}}}},sX=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:i}=e,{mainAxis:o=!0,crossAxis:s=!1,limiter:a={fn:b=>{let{x,y:v}=b;return{x,y:v}}},...l}=Pi(t,e),c={x:n,y:r},u=await du(e,l),f=mi(Ii(i)),h=M1(f);let g=c[h],w=c[f];if(o){const b=h==="y"?"top":"left",x=h==="y"?"bottom":"right",v=g+u[b],E=g-u[x];g=Wy(v,g,E)}if(s){const b=f==="y"?"top":"left",x=f==="y"?"bottom":"right",v=w+u[b],E=w-u[x];w=Wy(v,w,E)}const y=a.fn({...e,[h]:g,[f]:w});return{...y,data:{x:y.x-n,y:y.y-r,enabled:{[h]:o,[f]:s}}}}}},aX=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:i,rects:o,middlewareData:s}=e,{offset:a=0,mainAxis:l=!0,crossAxis:c=!0}=Pi(t,e),u={x:n,y:r},f=mi(i),h=M1(f);let g=u[h],w=u[f];const y=Pi(a,e),b=typeof y=="number"?{mainAxis:y,crossAxis:0}:{mainAxis:0,crossAxis:0,...y};if(l){const E=h==="y"?"height":"width",S=o.reference[h]-o.floating[E]+b.mainAxis,R=o.reference[h]+o.reference[E]-b.mainAxis;g<S?g=S:g>R&&(g=R)}if(c){var x,v;const E=h==="y"?"width":"height",S=["top","left"].includes(Ii(i)),R=o.reference[f]-o.floating[E]+(S&&((x=s.offset)==null?void 0:x[f])||0)+(S?0:b.crossAxis),D=o.reference[f]+o.reference[E]+(S?0:((v=s.offset)==null?void 0:v[f])||0)-(S?b.crossAxis:0);w<R?w=R:w>D&&(w=D)}return{[h]:g,[f]:w}}}},lX=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:i,rects:o,platform:s,elements:a}=e,{apply:l=()=>{},...c}=Pi(t,e),u=await du(e,c),f=Ii(i),h=El(i),g=mi(i)==="y",{width:w,height:y}=o.floating;let b,x;f==="top"||f==="bottom"?(b=f,x=h===(await(s.isRTL==null?void 0:s.isRTL(a.floating))?"start":"end")?"left":"right"):(x=f,b=h==="end"?"top":"bottom");const v=y-u.top-u.bottom,E=w-u.left-u.right,S=Oo(y-u[b],v),R=Oo(w-u[x],E),D=!e.middlewareData.shift;let P=S,C=R;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(C=E),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(P=v),D&&!h){const A=Dn(u.left,0),M=Dn(u.right,0),O=Dn(u.top,0),N=Dn(u.bottom,0);g?C=w-2*(A!==0||M!==0?A+M:Dn(u.left,u.right)):P=y-2*(O!==0||N!==0?O+N:Dn(u.top,u.bottom))}await l({...e,availableWidth:C,availableHeight:P});const I=await s.getDimensions(a.floating);return w!==I.width||y!==I.height?{reset:{rects:!0}}:{}}}};function Hp(){return typeof window<"u"}function bl(t){return NN(t)?(t.nodeName||"").toLowerCase():"#document"}function Fn(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Qr(t){var e;return(e=(NN(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function NN(t){return Hp()?t instanceof Node||t instanceof Fn(t).Node:!1}function wr(t){return Hp()?t instanceof Element||t instanceof Fn(t).Element:!1}function Yr(t){return Hp()?t instanceof HTMLElement||t instanceof Fn(t).HTMLElement:!1}function SC(t){return!Hp()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Fn(t).ShadowRoot}function ju(t){const{overflow:e,overflowX:n,overflowY:r,display:i}=xr(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!["inline","contents"].includes(i)}function cX(t){return["table","td","th"].includes(bl(t))}function qp(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function V1(t){const e=j1(),n=wr(t)?xr(t):t;return["transform","translate","scale","rotate","perspective"].some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function uX(t){let e=Lo(t);for(;Yr(e)&&!il(e);){if(V1(e))return e;if(qp(e))return null;e=Lo(e)}return null}function j1(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function il(t){return["html","body","#document"].includes(bl(t))}function xr(t){return Fn(t).getComputedStyle(t)}function Gp(t){return wr(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Lo(t){if(bl(t)==="html")return t;const e=t.assignedSlot||t.parentNode||SC(t)&&t.host||Qr(t);return SC(e)?e.host:e}function DN(t){const e=Lo(t);return il(e)?t.ownerDocument?t.ownerDocument.body:t.body:Yr(e)&&ju(e)?e:DN(e)}function fu(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const i=DN(t),o=i===((r=t.ownerDocument)==null?void 0:r.body),s=Fn(i);if(o){const a=Hy(s);return e.concat(s,s.visualViewport||[],ju(i)?i:[],a&&n?fu(a):[])}return e.concat(i,fu(i,[],n))}function Hy(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function MN(t){const e=xr(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=Yr(t),o=i?t.offsetWidth:n,s=i?t.offsetHeight:r,a=Mh(n)!==o||Mh(r)!==s;return a&&(n=o,r=s),{width:n,height:r,$:a}}function F1(t){return wr(t)?t:t.contextElement}function Oa(t){const e=F1(t);if(!Yr(e))return Wr(1);const n=e.getBoundingClientRect(),{width:r,height:i,$:o}=MN(e);let s=(o?Mh(n.width):n.width)/r,a=(o?Mh(n.height):n.height)/i;return(!s||!Number.isFinite(s))&&(s=1),(!a||!Number.isFinite(a))&&(a=1),{x:s,y:a}}const dX=Wr(0);function ON(t){const e=Fn(t);return!j1()||!e.visualViewport?dX:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function fX(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==Fn(t)?!1:e}function Is(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const i=t.getBoundingClientRect(),o=F1(t);let s=Wr(1);e&&(r?wr(r)&&(s=Oa(r)):s=Oa(t));const a=fX(o,n,r)?ON(o):Wr(0);let l=(i.left+a.x)/s.x,c=(i.top+a.y)/s.y,u=i.width/s.x,f=i.height/s.y;if(o){const h=Fn(o),g=r&&wr(r)?Fn(r):r;let w=h,y=Hy(w);for(;y&&r&&g!==w;){const b=Oa(y),x=y.getBoundingClientRect(),v=xr(y),E=x.left+(y.clientLeft+parseFloat(v.paddingLeft))*b.x,S=x.top+(y.clientTop+parseFloat(v.paddingTop))*b.y;l*=b.x,c*=b.y,u*=b.x,f*=b.y,l+=E,c+=S,w=Fn(y),y=Hy(w)}}return Lh({width:u,height:f,x:l,y:c})}function $1(t,e){const n=Gp(t).scrollLeft;return e?e.left+n:Is(Qr(t)).left+n}function LN(t,e,n){n===void 0&&(n=!1);const r=t.getBoundingClientRect(),i=r.left+e.scrollLeft-(n?0:$1(t,r)),o=r.top+e.scrollTop;return{x:i,y:o}}function hX(t){let{elements:e,rect:n,offsetParent:r,strategy:i}=t;const o=i==="fixed",s=Qr(r),a=e?qp(e.floating):!1;if(r===s||a&&o)return n;let l={scrollLeft:0,scrollTop:0},c=Wr(1);const u=Wr(0),f=Yr(r);if((f||!f&&!o)&&((bl(r)!=="body"||ju(s))&&(l=Gp(r)),Yr(r))){const g=Is(r);c=Oa(r),u.x=g.x+r.clientLeft,u.y=g.y+r.clientTop}const h=s&&!f&&!o?LN(s,l,!0):Wr(0);return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-l.scrollLeft*c.x+u.x+h.x,y:n.y*c.y-l.scrollTop*c.y+u.y+h.y}}function pX(t){return Array.from(t.getClientRects())}function mX(t){const e=Qr(t),n=Gp(t),r=t.ownerDocument.body,i=Dn(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),o=Dn(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let s=-n.scrollLeft+$1(t);const a=-n.scrollTop;return xr(r).direction==="rtl"&&(s+=Dn(e.clientWidth,r.clientWidth)-i),{width:i,height:o,x:s,y:a}}function gX(t,e){const n=Fn(t),r=Qr(t),i=n.visualViewport;let o=r.clientWidth,s=r.clientHeight,a=0,l=0;if(i){o=i.width,s=i.height;const c=j1();(!c||c&&e==="fixed")&&(a=i.offsetLeft,l=i.offsetTop)}return{width:o,height:s,x:a,y:l}}function vX(t,e){const n=Is(t,!0,e==="fixed"),r=n.top+t.clientTop,i=n.left+t.clientLeft,o=Yr(t)?Oa(t):Wr(1),s=t.clientWidth*o.x,a=t.clientHeight*o.y,l=i*o.x,c=r*o.y;return{width:s,height:a,x:l,y:c}}function PC(t,e,n){let r;if(e==="viewport")r=gX(t,n);else if(e==="document")r=mX(Qr(t));else if(wr(e))r=vX(e,n);else{const i=ON(t);r={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return Lh(r)}function VN(t,e){const n=Lo(t);return n===e||!wr(n)||il(n)?!1:xr(n).position==="fixed"||VN(n,e)}function yX(t,e){const n=e.get(t);if(n)return n;let r=fu(t,[],!1).filter(a=>wr(a)&&bl(a)!=="body"),i=null;const o=xr(t).position==="fixed";let s=o?Lo(t):t;for(;wr(s)&&!il(s);){const a=xr(s),l=V1(s);!l&&a.position==="fixed"&&(i=null),(o?!l&&!i:!l&&a.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||ju(s)&&!l&&VN(t,s))?r=r.filter(u=>u!==s):i=a,s=Lo(s)}return e.set(t,r),r}function wX(t){let{element:e,boundary:n,rootBoundary:r,strategy:i}=t;const s=[...n==="clippingAncestors"?qp(e)?[]:yX(e,this._c):[].concat(n),r],a=s[0],l=s.reduce((c,u)=>{const f=PC(e,u,i);return c.top=Dn(f.top,c.top),c.right=Oo(f.right,c.right),c.bottom=Oo(f.bottom,c.bottom),c.left=Dn(f.left,c.left),c},PC(e,a,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function xX(t){const{width:e,height:n}=MN(t);return{width:e,height:n}}function _X(t,e,n){const r=Yr(e),i=Qr(e),o=n==="fixed",s=Is(t,!0,o,e);let a={scrollLeft:0,scrollTop:0};const l=Wr(0);function c(){l.x=$1(i)}if(r||!r&&!o)if((bl(e)!=="body"||ju(i))&&(a=Gp(e)),r){const g=Is(e,!0,o,e);l.x=g.x+e.clientLeft,l.y=g.y+e.clientTop}else i&&c();o&&!r&&i&&c();const u=i&&!r&&!o?LN(i,a):Wr(0),f=s.left+a.scrollLeft-l.x-u.x,h=s.top+a.scrollTop-l.y-u.y;return{x:f,y:h,width:s.width,height:s.height}}function Vg(t){return xr(t).position==="static"}function IC(t,e){if(!Yr(t)||xr(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return Qr(t)===n&&(n=n.ownerDocument.body),n}function jN(t,e){const n=Fn(t);if(qp(t))return n;if(!Yr(t)){let i=Lo(t);for(;i&&!il(i);){if(wr(i)&&!Vg(i))return i;i=Lo(i)}return n}let r=IC(t,e);for(;r&&cX(r)&&Vg(r);)r=IC(r,e);return r&&il(r)&&Vg(r)&&!V1(r)?n:r||uX(t)||n}const EX=async function(t){const e=this.getOffsetParent||jN,n=this.getDimensions,r=await n(t.floating);return{reference:_X(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function bX(t){return xr(t).direction==="rtl"}const TX={convertOffsetParentRelativeRectToViewportRelativeRect:hX,getDocumentElement:Qr,getClippingRect:wX,getOffsetParent:jN,getElementRects:EX,getClientRects:pX,getDimensions:xX,getScale:Oa,isElement:wr,isRTL:bX};function FN(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function CX(t,e){let n=null,r;const i=Qr(t);function o(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function s(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),o();const c=t.getBoundingClientRect(),{left:u,top:f,width:h,height:g}=c;if(a||e(),!h||!g)return;const w=Vd(f),y=Vd(i.clientWidth-(u+h)),b=Vd(i.clientHeight-(f+g)),x=Vd(u),E={rootMargin:-w+"px "+-y+"px "+-b+"px "+-x+"px",threshold:Dn(0,Oo(1,l))||1};let S=!0;function R(D){const P=D[0].intersectionRatio;if(P!==l){if(!S)return s();P?s(!1,P):r=setTimeout(()=>{s(!1,1e-7)},1e3)}P===1&&!FN(c,t.getBoundingClientRect())&&s(),S=!1}try{n=new IntersectionObserver(R,{...E,root:i.ownerDocument})}catch{n=new IntersectionObserver(R,E)}n.observe(t)}return s(!0),o}function $N(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:o=!0,elementResize:s=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,c=F1(t),u=i||o?[...c?fu(c):[],...fu(e)]:[];u.forEach(x=>{i&&x.addEventListener("scroll",n,{passive:!0}),o&&x.addEventListener("resize",n)});const f=c&&a?CX(c,n):null;let h=-1,g=null;s&&(g=new ResizeObserver(x=>{let[v]=x;v&&v.target===c&&g&&(g.unobserve(e),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var E;(E=g)==null||E.observe(e)})),n()}),c&&!l&&g.observe(c),g.observe(e));let w,y=l?Is(t):null;l&&b();function b(){const x=Is(t);y&&!FN(y,x)&&n(),y=x,w=requestAnimationFrame(b)}return n(),()=>{var x;u.forEach(v=>{i&&v.removeEventListener("scroll",n),o&&v.removeEventListener("resize",n)}),f==null||f(),(x=g)==null||x.disconnect(),g=null,l&&cancelAnimationFrame(w)}}const SX=oX,PX=sX,IX=nX,AX=lX,kX=rX,AC=tX,RX=aX,NX=(t,e,n)=>{const r=new Map,i={platform:TX,...n},o={...i.platform,_c:r};return eX(t,e,{...i,platform:o})};var xf=typeof document<"u"?m.useLayoutEffect:m.useEffect;function Vh(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,i;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!Vh(t[r],e[r]))return!1;return!0}if(i=Object.keys(t),n=i.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,i[r]))return!1;for(r=n;r--!==0;){const o=i[r];if(!(o==="_owner"&&t.$$typeof)&&!Vh(t[o],e[o]))return!1}return!0}return t!==t&&e!==e}function UN(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function kC(t,e){const n=UN(t);return Math.round(e*n)/n}function jg(t){const e=m.useRef(t);return xf(()=>{e.current=t}),e}function BN(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:o,floating:s}={},transform:a=!0,whileElementsMounted:l,open:c}=t,[u,f]=m.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[h,g]=m.useState(r);Vh(h,r)||g(r);const[w,y]=m.useState(null),[b,x]=m.useState(null),v=m.useCallback(L=>{L!==D.current&&(D.current=L,y(L))},[]),E=m.useCallback(L=>{L!==P.current&&(P.current=L,x(L))},[]),S=o||w,R=s||b,D=m.useRef(null),P=m.useRef(null),C=m.useRef(u),I=l!=null,A=jg(l),M=jg(i),O=jg(c),N=m.useCallback(()=>{if(!D.current||!P.current)return;const L={placement:e,strategy:n,middleware:h};M.current&&(L.platform=M.current),NX(D.current,P.current,L).then(j=>{const U={...j,isPositioned:O.current!==!1};F.current&&!Vh(C.current,U)&&(C.current=U,$o.flushSync(()=>{f(U)}))})},[h,e,n,M,O]);xf(()=>{c===!1&&C.current.isPositioned&&(C.current.isPositioned=!1,f(L=>({...L,isPositioned:!1})))},[c]);const F=m.useRef(!1);xf(()=>(F.current=!0,()=>{F.current=!1}),[]),xf(()=>{if(S&&(D.current=S),R&&(P.current=R),S&&R){if(A.current)return A.current(S,R,N);N()}},[S,R,N,A,I]);const G=m.useMemo(()=>({reference:D,floating:P,setReference:v,setFloating:E}),[v,E]),K=m.useMemo(()=>({reference:S,floating:R}),[S,R]),W=m.useMemo(()=>{const L={position:n,left:0,top:0};if(!K.floating)return L;const j=kC(K.floating,u.x),U=kC(K.floating,u.y);return a?{...L,transform:"translate("+j+"px, "+U+"px)",...UN(K.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:j,top:U}},[n,a,K.floating,u.x,u.y]);return m.useMemo(()=>({...u,update:N,refs:G,elements:K,floatingStyles:W}),[u,N,G,K,W])}const DX=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:i}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?AC({element:r.current,padding:i}).fn(n):{}:r?AC({element:r,padding:i}).fn(n):{}}}},WN=(t,e)=>({...SX(t),options:[t,e]}),zN=(t,e)=>({...PX(t),options:[t,e]}),HN=(t,e)=>({...RX(t),options:[t,e]}),qN=(t,e)=>({...IX(t),options:[t,e]}),GN=(t,e)=>({...AX(t),options:[t,e]}),YN=(t,e)=>({...kX(t),options:[t,e]}),KN=(t,e)=>({...DX(t),options:[t,e]});var MX="Arrow",QN=m.forwardRef((t,e)=>{const{children:n,width:r=10,height:i=5,...o}=t;return p.jsx(ze.svg,{...o,ref:e,width:r,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:p.jsx("polygon",{points:"0,0 30,0 15,10"})})});QN.displayName=MX;var OX=QN,U1="Popper",[XN,JN]=js(U1),[LX,ZN]=XN(U1),eD=t=>{const{__scopePopper:e,children:n}=t,[r,i]=m.useState(null);return p.jsx(LX,{scope:e,anchor:r,onAnchorChange:i,children:n})};eD.displayName=U1;var tD="PopperAnchor",nD=m.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...i}=t,o=ZN(tD,n),s=m.useRef(null),a=lt(e,s);return m.useEffect(()=>{o.onAnchorChange((r==null?void 0:r.current)||s.current)}),r?null:p.jsx(ze.div,{...i,ref:a})});nD.displayName=tD;var B1="PopperContent",[VX,jX]=XN(B1),rD=m.forwardRef((t,e)=>{var J,re,te,ee,fe,Ce;const{__scopePopper:n,side:r="bottom",sideOffset:i=0,align:o="center",alignOffset:s=0,arrowPadding:a=0,avoidCollisions:l=!0,collisionBoundary:c=[],collisionPadding:u=0,sticky:f="partial",hideWhenDetached:h=!1,updatePositionStrategy:g="optimized",onPlaced:w,...y}=t,b=ZN(B1,n),[x,v]=m.useState(null),E=lt(e,Ke=>v(Ke)),[S,R]=m.useState(null),D=W2(S),P=(D==null?void 0:D.width)??0,C=(D==null?void 0:D.height)??0,I=r+(o!=="center"?"-"+o:""),A=typeof u=="number"?u:{top:0,right:0,bottom:0,left:0,...u},M=Array.isArray(c)?c:[c],O=M.length>0,N={padding:A,boundary:M.filter($X),altBoundary:O},{refs:F,floatingStyles:G,placement:K,isPositioned:W,middlewareData:L}=BN({strategy:"fixed",placement:I,whileElementsMounted:(...Ke)=>$N(...Ke,{animationFrame:g==="always"}),elements:{reference:b.anchor},middleware:[WN({mainAxis:i+C,alignmentAxis:s}),l&&zN({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?HN():void 0,...N}),l&&qN({...N}),GN({...N,apply:({elements:Ke,rects:st,availableWidth:Vt,availableHeight:rr})=>{const{width:br,height:Sl}=st.reference,Jr=Ke.floating.style;Jr.setProperty("--radix-popper-available-width",`${Vt}px`),Jr.setProperty("--radix-popper-available-height",`${rr}px`),Jr.setProperty("--radix-popper-anchor-width",`${br}px`),Jr.setProperty("--radix-popper-anchor-height",`${Sl}px`)}}),S&&KN({element:S,padding:a}),UX({arrowWidth:P,arrowHeight:C}),h&&YN({strategy:"referenceHidden",...N})]}),[j,U]=sD(K),z=Ht(w);qr(()=>{W&&(z==null||z())},[W,z]);const B=(J=L.arrow)==null?void 0:J.x,H=(re=L.arrow)==null?void 0:re.y,Z=((te=L.arrow)==null?void 0:te.centerOffset)!==0,[ie,ce]=m.useState();return qr(()=>{x&&ce(window.getComputedStyle(x).zIndex)},[x]),p.jsx("div",{ref:F.setFloating,"data-radix-popper-content-wrapper":"",style:{...G,transform:W?G.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ie,"--radix-popper-transform-origin":[(ee=L.transformOrigin)==null?void 0:ee.x,(fe=L.transformOrigin)==null?void 0:fe.y].join(" "),...((Ce=L.hide)==null?void 0:Ce.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:p.jsx(VX,{scope:n,placedSide:j,onArrowChange:R,arrowX:B,arrowY:H,shouldHideArrow:Z,children:p.jsx(ze.div,{"data-side":j,"data-align":U,...y,ref:E,style:{...y.style,animation:W?void 0:"none"}})})})});rD.displayName=B1;var iD="PopperArrow",FX={top:"bottom",right:"left",bottom:"top",left:"right"},oD=m.forwardRef(function(e,n){const{__scopePopper:r,...i}=e,o=jX(iD,r),s=FX[o.placedSide];return p.jsx("span",{ref:o.onArrowChange,style:{position:"absolute",left:o.arrowX,top:o.arrowY,[s]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[o.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[o.placedSide],visibility:o.shouldHideArrow?"hidden":void 0},children:p.jsx(OX,{...i,ref:n,style:{...i.style,display:"block"}})})});oD.displayName=iD;function $X(t){return t!==null}var UX=t=>({name:"transformOrigin",options:t,fn(e){var b,x,v;const{placement:n,rects:r,middlewareData:i}=e,s=((b=i.arrow)==null?void 0:b.centerOffset)!==0,a=s?0:t.arrowWidth,l=s?0:t.arrowHeight,[c,u]=sD(n),f={start:"0%",center:"50%",end:"100%"}[u],h=(((x=i.arrow)==null?void 0:x.x)??0)+a/2,g=(((v=i.arrow)==null?void 0:v.y)??0)+l/2;let w="",y="";return c==="bottom"?(w=s?f:`${h}px`,y=`${-l}px`):c==="top"?(w=s?f:`${h}px`,y=`${r.floating.height+l}px`):c==="right"?(w=`${-l}px`,y=s?f:`${g}px`):c==="left"&&(w=`${r.floating.width+l}px`,y=s?f:`${g}px`),{data:{x:w,y}}}});function sD(t){const[e,n="center"]=t.split("-");return[e,n]}var BX=eD,aD=nD,WX=rD,zX=oD,HX="Portal",Yp=m.forwardRef((t,e)=>{var a;const{container:n,...r}=t,[i,o]=m.useState(!1);qr(()=>o(!0),[]);const s=n||i&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return s?EI.createPortal(p.jsx(ze.div,{...r,ref:e}),s):null});Yp.displayName=HX;var qX=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},qs=new WeakMap,jd=new WeakMap,Fd={},Fg=0,lD=function(t){return t&&(t.host||lD(t.parentNode))},GX=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=lD(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},YX=function(t,e,n,r){var i=GX(e,Array.isArray(t)?t:[t]);Fd[n]||(Fd[n]=new WeakMap);var o=Fd[n],s=[],a=new Set,l=new Set(i),c=function(f){!f||a.has(f)||(a.add(f),c(f.parentNode))};i.forEach(c);var u=function(f){!f||l.has(f)||Array.prototype.forEach.call(f.children,function(h){if(a.has(h))u(h);else try{var g=h.getAttribute(r),w=g!==null&&g!=="false",y=(qs.get(h)||0)+1,b=(o.get(h)||0)+1;qs.set(h,y),o.set(h,b),s.push(h),y===1&&w&&jd.set(h,!0),b===1&&h.setAttribute(n,"true"),w||h.setAttribute(r,"true")}catch(x){console.error("aria-hidden: cannot operate on ",h,x)}})};return u(e),a.clear(),Fg++,function(){s.forEach(function(f){var h=qs.get(f)-1,g=o.get(f)-1;qs.set(f,h),o.set(f,g),h||(jd.has(f)||f.removeAttribute(r),jd.delete(f)),g||f.removeAttribute(n)}),Fg--,Fg||(qs=new WeakMap,qs=new WeakMap,jd=new WeakMap,Fd={})}},W1=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),i=e||qX(t);return i?(r.push.apply(r,Array.from(i.querySelectorAll("[aria-live], script"))),YX(r,i,n,"aria-hidden")):function(){return null}},sn=function(){return sn=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},sn.apply(this,arguments)};function z1(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function cD(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,o;r<i;r++)(o||!(r in e))&&(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return t.concat(o||Array.prototype.slice.call(e))}var kc="right-scroll-bar-position",Rc="width-before-scroll-bar",KX="with-scroll-bars-hidden",QX="--removed-body-scroll-bar-size";function $g(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function XX(t,e){var n=m.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var i=n.value;i!==r&&(n.value=r,n.callback(r,i))}}}})[0];return n.callback=e,n.facade}var JX=typeof window<"u"?m.useLayoutEffect:m.useEffect,RC=new WeakMap;function uD(t,e){var n=XX(e||null,function(r){return t.forEach(function(i){return $g(i,r)})});return JX(function(){var r=RC.get(n);if(r){var i=new Set(r),o=new Set(t),s=n.current;i.forEach(function(a){o.has(a)||$g(a,null)}),o.forEach(function(a){i.has(a)||$g(a,s)})}RC.set(n,t)},[t]),n}function ZX(t){return t}function eJ(t,e){e===void 0&&(e=ZX);var n=[],r=!1,i={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(o){var s=e(o,r);return n.push(s),function(){n=n.filter(function(a){return a!==s})}},assignSyncMedium:function(o){for(r=!0;n.length;){var s=n;n=[],s.forEach(o)}n={push:function(a){return o(a)},filter:function(){return n}}},assignMedium:function(o){r=!0;var s=[];if(n.length){var a=n;n=[],a.forEach(o),s=n}var l=function(){var u=s;s=[],u.forEach(o)},c=function(){return Promise.resolve().then(l)};c(),n={push:function(u){s.push(u),c()},filter:function(u){return s=s.filter(u),n}}}};return i}function dD(t){t===void 0&&(t={});var e=eJ(null);return e.options=sn({async:!0,ssr:!1},t),e}var fD=function(t){var e=t.sideCar,n=z1(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return m.createElement(r,sn({},n))};fD.isSideCarExport=!0;function hD(t,e){return t.useMedium(e),fD}var pD=dD(),Ug=function(){},Kp=m.forwardRef(function(t,e){var n=m.useRef(null),r=m.useState({onScrollCapture:Ug,onWheelCapture:Ug,onTouchMoveCapture:Ug}),i=r[0],o=r[1],s=t.forwardProps,a=t.children,l=t.className,c=t.removeScrollBar,u=t.enabled,f=t.shards,h=t.sideCar,g=t.noRelative,w=t.noIsolation,y=t.inert,b=t.allowPinchZoom,x=t.as,v=x===void 0?"div":x,E=t.gapMode,S=z1(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),R=h,D=uD([n,e]),P=sn(sn({},S),i);return m.createElement(m.Fragment,null,u&&m.createElement(R,{sideCar:pD,removeScrollBar:c,shards:f,noRelative:g,noIsolation:w,inert:y,setCallbacks:o,allowPinchZoom:!!b,lockRef:n,gapMode:E}),s?m.cloneElement(m.Children.only(a),sn(sn({},P),{ref:D})):m.createElement(v,sn({},P,{className:l,ref:D}),a))});Kp.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Kp.classNames={fullWidth:Rc,zeroRight:kc};var NC,tJ=function(){if(NC)return NC;if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function nJ(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=tJ();return e&&t.setAttribute("nonce",e),t}function rJ(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function iJ(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var oJ=function(){var t=0,e=null;return{add:function(n){t==0&&(e=nJ())&&(rJ(e,n),iJ(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},sJ=function(){var t=oJ();return function(e,n){m.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},H1=function(){var t=sJ(),e=function(n){var r=n.styles,i=n.dynamic;return t(r,i),null};return e},aJ={left:0,top:0,right:0,gap:0},Bg=function(t){return parseInt(t||"",10)||0},lJ=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],i=e[t==="padding"?"paddingRight":"marginRight"];return[Bg(n),Bg(r),Bg(i)]},cJ=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return aJ;var e=lJ(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},uJ=H1(),La="data-scroll-locked",dJ=function(t,e,n,r){var i=t.left,o=t.top,s=t.right,a=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(KX,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(a,"px ").concat(r,`;
  }
  body[`).concat(La,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(o,`px;
    padding-right: `).concat(s,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(a,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(kc,` {
    right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(Rc,` {
    margin-right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(kc," .").concat(kc,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Rc," .").concat(Rc,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(La,`] {
    `).concat(QX,": ").concat(a,`px;
  }
`)},DC=function(){var t=parseInt(document.body.getAttribute(La)||"0",10);return isFinite(t)?t:0},fJ=function(){m.useEffect(function(){return document.body.setAttribute(La,(DC()+1).toString()),function(){var t=DC()-1;t<=0?document.body.removeAttribute(La):document.body.setAttribute(La,t.toString())}},[])},mD=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,i=r===void 0?"margin":r;fJ();var o=m.useMemo(function(){return cJ(i)},[i]);return m.createElement(uJ,{styles:dJ(o,!e,i,n?"":"!important")})},qy=!1;if(typeof window<"u")try{var $d=Object.defineProperty({},"passive",{get:function(){return qy=!0,!0}});window.addEventListener("test",$d,$d),window.removeEventListener("test",$d,$d)}catch{qy=!1}var Gs=qy?{passive:!1}:!1,hJ=function(t){return t.tagName==="TEXTAREA"},gD=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!hJ(t)&&n[e]==="visible")},pJ=function(t){return gD(t,"overflowY")},mJ=function(t){return gD(t,"overflowX")},MC=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var i=vD(t,r);if(i){var o=yD(t,r),s=o[1],a=o[2];if(s>a)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},gJ=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},vJ=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},vD=function(t,e){return t==="v"?pJ(e):mJ(e)},yD=function(t,e){return t==="v"?gJ(e):vJ(e)},yJ=function(t,e){return t==="h"&&e==="rtl"?-1:1},wJ=function(t,e,n,r,i){var o=yJ(t,window.getComputedStyle(e).direction),s=o*r,a=n.target,l=e.contains(a),c=!1,u=s>0,f=0,h=0;do{var g=yD(t,a),w=g[0],y=g[1],b=g[2],x=y-b-o*w;(w||x)&&vD(t,a)&&(f+=x,h+=w),a=a.parentNode.host||a.parentNode}while(!l&&a!==document.body||l&&(e.contains(a)||e===a));return(u&&(i&&Math.abs(f)<1||!i&&s>f)||!u&&(i&&Math.abs(h)<1||!i&&-s>h))&&(c=!0),c},Ud=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},OC=function(t){return[t.deltaX,t.deltaY]},LC=function(t){return t&&"current"in t?t.current:t},xJ=function(t,e){return t[0]===e[0]&&t[1]===e[1]},_J=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},EJ=0,Ys=[];function bJ(t){var e=m.useRef([]),n=m.useRef([0,0]),r=m.useRef(),i=m.useState(EJ++)[0],o=m.useState(H1)[0],s=m.useRef(t);m.useEffect(function(){s.current=t},[t]),m.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(i));var y=cD([t.lockRef.current],(t.shards||[]).map(LC),!0).filter(Boolean);return y.forEach(function(b){return b.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),y.forEach(function(b){return b.classList.remove("allow-interactivity-".concat(i))})}}},[t.inert,t.lockRef.current,t.shards]);var a=m.useCallback(function(y,b){if("touches"in y&&y.touches.length===2||y.type==="wheel"&&y.ctrlKey)return!s.current.allowPinchZoom;var x=Ud(y),v=n.current,E="deltaX"in y?y.deltaX:v[0]-x[0],S="deltaY"in y?y.deltaY:v[1]-x[1],R,D=y.target,P=Math.abs(E)>Math.abs(S)?"h":"v";if("touches"in y&&P==="h"&&D.type==="range")return!1;var C=MC(P,D);if(!C)return!0;if(C?R=P:(R=P==="v"?"h":"v",C=MC(P,D)),!C)return!1;if(!r.current&&"changedTouches"in y&&(E||S)&&(r.current=R),!R)return!0;var I=r.current||R;return wJ(I,b,y,I==="h"?E:S,!0)},[]),l=m.useCallback(function(y){var b=y;if(!(!Ys.length||Ys[Ys.length-1]!==o)){var x="deltaY"in b?OC(b):Ud(b),v=e.current.filter(function(R){return R.name===b.type&&(R.target===b.target||b.target===R.shadowParent)&&xJ(R.delta,x)})[0];if(v&&v.should){b.cancelable&&b.preventDefault();return}if(!v){var E=(s.current.shards||[]).map(LC).filter(Boolean).filter(function(R){return R.contains(b.target)}),S=E.length>0?a(b,E[0]):!s.current.noIsolation;S&&b.cancelable&&b.preventDefault()}}},[]),c=m.useCallback(function(y,b,x,v){var E={name:y,delta:b,target:x,should:v,shadowParent:TJ(x)};e.current.push(E),setTimeout(function(){e.current=e.current.filter(function(S){return S!==E})},1)},[]),u=m.useCallback(function(y){n.current=Ud(y),r.current=void 0},[]),f=m.useCallback(function(y){c(y.type,OC(y),y.target,a(y,t.lockRef.current))},[]),h=m.useCallback(function(y){c(y.type,Ud(y),y.target,a(y,t.lockRef.current))},[]);m.useEffect(function(){return Ys.push(o),t.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:h}),document.addEventListener("wheel",l,Gs),document.addEventListener("touchmove",l,Gs),document.addEventListener("touchstart",u,Gs),function(){Ys=Ys.filter(function(y){return y!==o}),document.removeEventListener("wheel",l,Gs),document.removeEventListener("touchmove",l,Gs),document.removeEventListener("touchstart",u,Gs)}},[]);var g=t.removeScrollBar,w=t.inert;return m.createElement(m.Fragment,null,w?m.createElement(o,{styles:_J(i)}):null,g?m.createElement(mD,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function TJ(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const CJ=hD(pD,bJ);var wD=m.forwardRef(function(t,e){return m.createElement(Kp,sn({},t,{ref:e,sideCar:CJ}))});wD.classNames=Kp.classNames;const xD=wD;var Qp="Popover",[_D,yne]=js(Qp,[JN]),Fu=JN(),[SJ,qo]=_D(Qp),ED=t=>{const{__scopePopover:e,children:n,open:r,defaultOpen:i,onOpenChange:o,modal:s=!1}=t,a=Fu(e),l=m.useRef(null),[c,u]=m.useState(!1),[f,h]=Up({prop:r,defaultProp:i??!1,onChange:o,caller:Qp});return p.jsx(BX,{...a,children:p.jsx(SJ,{scope:e,contentId:wf(),triggerRef:l,open:f,onOpenChange:h,onOpenToggle:m.useCallback(()=>h(g=>!g),[h]),hasCustomAnchor:c,onCustomAnchorAdd:m.useCallback(()=>u(!0),[]),onCustomAnchorRemove:m.useCallback(()=>u(!1),[]),modal:s,children:n})})};ED.displayName=Qp;var bD="PopoverAnchor",PJ=m.forwardRef((t,e)=>{const{__scopePopover:n,...r}=t,i=qo(bD,n),o=Fu(n),{onCustomAnchorAdd:s,onCustomAnchorRemove:a}=i;return m.useEffect(()=>(s(),()=>a()),[s,a]),p.jsx(aD,{...o,...r,ref:e})});PJ.displayName=bD;var TD="PopoverTrigger",CD=m.forwardRef((t,e)=>{const{__scopePopover:n,...r}=t,i=qo(TD,n),o=Fu(n),s=lt(e,i.triggerRef),a=p.jsx(ze.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":kD(i.open),...r,ref:s,onClick:$e(t.onClick,i.onOpenToggle)});return i.hasCustomAnchor?a:p.jsx(aD,{asChild:!0,...o,children:a})});CD.displayName=TD;var q1="PopoverPortal",[IJ,AJ]=_D(q1,{forceMount:void 0}),SD=t=>{const{__scopePopover:e,forceMount:n,children:r,container:i}=t,o=qo(q1,e);return p.jsx(IJ,{scope:e,forceMount:n,children:p.jsx(tr,{present:n||o.open,children:p.jsx(Yp,{asChild:!0,container:i,children:r})})})};SD.displayName=q1;var ol="PopoverContent",PD=m.forwardRef((t,e)=>{const n=AJ(ol,t.__scopePopover),{forceMount:r=n.forceMount,...i}=t,o=qo(ol,t.__scopePopover);return p.jsx(tr,{present:r||o.open,children:o.modal?p.jsx(RJ,{...i,ref:e}):p.jsx(NJ,{...i,ref:e})})});PD.displayName=ol;var kJ=Ja("PopoverContent.RemoveScroll"),RJ=m.forwardRef((t,e)=>{const n=qo(ol,t.__scopePopover),r=m.useRef(null),i=lt(e,r),o=m.useRef(!1);return m.useEffect(()=>{const s=r.current;if(s)return W1(s)},[]),p.jsx(xD,{as:kJ,allowPinchZoom:!0,children:p.jsx(ID,{...t,ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:$e(t.onCloseAutoFocus,s=>{var a;s.preventDefault(),o.current||(a=n.triggerRef.current)==null||a.focus()}),onPointerDownOutside:$e(t.onPointerDownOutside,s=>{const a=s.detail.originalEvent,l=a.button===0&&a.ctrlKey===!0,c=a.button===2||l;o.current=c},{checkForDefaultPrevented:!1}),onFocusOutside:$e(t.onFocusOutside,s=>s.preventDefault(),{checkForDefaultPrevented:!1})})})}),NJ=m.forwardRef((t,e)=>{const n=qo(ol,t.__scopePopover),r=m.useRef(!1),i=m.useRef(!1);return p.jsx(ID,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{var s,a;(s=t.onCloseAutoFocus)==null||s.call(t,o),o.defaultPrevented||(r.current||(a=n.triggerRef.current)==null||a.focus(),o.preventDefault()),r.current=!1,i.current=!1},onInteractOutside:o=>{var l,c;(l=t.onInteractOutside)==null||l.call(t,o),o.defaultPrevented||(r.current=!0,o.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const s=o.target;((c=n.triggerRef.current)==null?void 0:c.contains(s))&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&i.current&&o.preventDefault()}})}),ID=m.forwardRef((t,e)=>{const{__scopePopover:n,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:o,disableOutsidePointerEvents:s,onEscapeKeyDown:a,onPointerDownOutside:l,onFocusOutside:c,onInteractOutside:u,...f}=t,h=qo(ol,n),g=Fu(n);return AN(),p.jsx(D1,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:o,children:p.jsx(zp,{asChild:!0,disableOutsidePointerEvents:s,onInteractOutside:u,onEscapeKeyDown:a,onPointerDownOutside:l,onFocusOutside:c,onDismiss:()=>h.onOpenChange(!1),children:p.jsx(WX,{"data-state":kD(h.open),role:"dialog",id:h.contentId,...g,...f,ref:e,style:{...f.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),AD="PopoverClose",DJ=m.forwardRef((t,e)=>{const{__scopePopover:n,...r}=t,i=qo(AD,n);return p.jsx(ze.button,{type:"button",...r,ref:e,onClick:$e(t.onClick,()=>i.onOpenChange(!1))})});DJ.displayName=AD;var MJ="PopoverArrow",OJ=m.forwardRef((t,e)=>{const{__scopePopover:n,...r}=t,i=Fu(n);return p.jsx(zX,{...i,...r,ref:e})});OJ.displayName=MJ;function kD(t){return t?"open":"closed"}var LJ=ED,VJ=CD,jJ=SD,RD=PD;const FJ=LJ,$J=VJ,ND=xe.forwardRef(({className:t,align:e="center",sideOffset:n=4,...r},i)=>p.jsx(jJ,{children:p.jsx(RD,{ref:i,align:e,sideOffset:n,className:Ue("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...r})}));ND.displayName=RD.displayName;function Ye(){return Ye=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ye.apply(null,arguments)}function VC(t,[e,n]){return Math.min(n,Math.max(e,t))}function gn(t,e,{checkForDefaultPrevented:n=!0}={}){return function(i){if(t==null||t(i),n===!1||!i.defaultPrevented)return e==null?void 0:e(i)}}function G1(t,e=[]){let n=[];function r(o,s){const a=m.createContext(s),l=n.length;n=[...n,s];function c(f){const{scope:h,children:g,...w}=f,y=(h==null?void 0:h[t][l])||a,b=m.useMemo(()=>w,Object.values(w));return m.createElement(y.Provider,{value:b},g)}function u(f,h){const g=(h==null?void 0:h[t][l])||a,w=m.useContext(g);if(w)return w;if(s!==void 0)return s;throw new Error(`\`${f}\` must be used within \`${o}\``)}return c.displayName=o+"Provider",[c,u]}const i=()=>{const o=n.map(s=>m.createContext(s));return function(a){const l=(a==null?void 0:a[t])||o;return m.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return i.scopeName=t,[r,UJ(i,...e)]}function UJ(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(o){const s=r.reduce((a,{useScope:l,scopeName:c})=>{const f=l(o)[`__scope${c}`];return{...a,...f}},{});return m.useMemo(()=>({[`__scope${e.scopeName}`]:s}),[s])}};return n.scopeName=e.scopeName,n}function BJ(t,e){typeof t=="function"?t(e):t!=null&&(t.current=e)}function DD(...t){return e=>t.forEach(n=>BJ(n,e))}function kn(...t){return m.useCallback(DD(...t),t)}const hu=m.forwardRef((t,e)=>{const{children:n,...r}=t,i=m.Children.toArray(n),o=i.find(zJ);if(o){const s=o.props.children,a=i.map(l=>l===o?m.Children.count(s)>1?m.Children.only(null):m.isValidElement(s)?s.props.children:null:l);return m.createElement(Gy,Ye({},r,{ref:e}),m.isValidElement(s)?m.cloneElement(s,void 0,a):null)}return m.createElement(Gy,Ye({},r,{ref:e}),n)});hu.displayName="Slot";const Gy=m.forwardRef((t,e)=>{const{children:n,...r}=t;return m.isValidElement(n)?m.cloneElement(n,{...HJ(r,n.props),ref:e?DD(e,n.ref):n.ref}):m.Children.count(n)>1?m.Children.only(null):null});Gy.displayName="SlotClone";const WJ=({children:t})=>m.createElement(m.Fragment,null,t);function zJ(t){return m.isValidElement(t)&&t.type===WJ}function HJ(t,e){const n={...e};for(const r in e){const i=t[r],o=e[r];/^on[A-Z]/.test(r)?i&&o?n[r]=(...a)=>{o(...a),i(...a)}:i&&(n[r]=i):r==="style"?n[r]={...i,...o}:r==="className"&&(n[r]=[i,o].filter(Boolean).join(" "))}return{...t,...n}}function qJ(t){const e=t+"CollectionProvider",[n,r]=G1(e),[i,o]=n(e,{collectionRef:{current:null},itemMap:new Map}),s=g=>{const{scope:w,children:y}=g,b=xe.useRef(null),x=xe.useRef(new Map).current;return xe.createElement(i,{scope:w,itemMap:x,collectionRef:b},y)},a=t+"CollectionSlot",l=xe.forwardRef((g,w)=>{const{scope:y,children:b}=g,x=o(a,y),v=kn(w,x.collectionRef);return xe.createElement(hu,{ref:v},b)}),c=t+"CollectionItemSlot",u="data-radix-collection-item",f=xe.forwardRef((g,w)=>{const{scope:y,children:b,...x}=g,v=xe.useRef(null),E=kn(w,v),S=o(c,y);return xe.useEffect(()=>(S.itemMap.set(v,{ref:v,...x}),()=>void S.itemMap.delete(v))),xe.createElement(hu,{[u]:"",ref:E},b)});function h(g){const w=o(t+"CollectionConsumer",g);return xe.useCallback(()=>{const b=w.collectionRef.current;if(!b)return[];const x=Array.from(b.querySelectorAll(`[${u}]`));return Array.from(w.itemMap.values()).sort((S,R)=>x.indexOf(S.ref.current)-x.indexOf(R.ref.current))},[w.collectionRef,w.itemMap])}return[{Provider:s,Slot:l,ItemSlot:f},h,r]}const GJ=m.createContext(void 0);function YJ(t){const e=m.useContext(GJ);return t||e||"ltr"}const KJ=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],cn=KJ.reduce((t,e)=>{const n=m.forwardRef((r,i)=>{const{asChild:o,...s}=r,a=o?hu:e;return m.useEffect(()=>{window[Symbol.for("radix-ui")]=!0},[]),m.createElement(a,Ye({},s,{ref:i}))});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{});function QJ(t,e){t&&$o.flushSync(()=>t.dispatchEvent(e))}function Ai(t){const e=m.useRef(t);return m.useEffect(()=>{e.current=t}),m.useMemo(()=>(...n)=>{var r;return(r=e.current)===null||r===void 0?void 0:r.call(e,...n)},[])}function XJ(t,e=globalThis==null?void 0:globalThis.document){const n=Ai(t);m.useEffect(()=>{const r=i=>{i.key==="Escape"&&n(i)};return e.addEventListener("keydown",r),()=>e.removeEventListener("keydown",r)},[n,e])}const Yy="dismissableLayer.update",JJ="dismissableLayer.pointerDownOutside",ZJ="dismissableLayer.focusOutside";let jC;const eZ=m.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),tZ=m.forwardRef((t,e)=>{var n;const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:s,onInteractOutside:a,onDismiss:l,...c}=t,u=m.useContext(eZ),[f,h]=m.useState(null),g=(n=f==null?void 0:f.ownerDocument)!==null&&n!==void 0?n:globalThis==null?void 0:globalThis.document,[,w]=m.useState({}),y=kn(e,C=>h(C)),b=Array.from(u.layers),[x]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),v=b.indexOf(x),E=f?b.indexOf(f):-1,S=u.layersWithOutsidePointerEventsDisabled.size>0,R=E>=v,D=nZ(C=>{const I=C.target,A=[...u.branches].some(M=>M.contains(I));!R||A||(o==null||o(C),a==null||a(C),C.defaultPrevented||l==null||l())},g),P=rZ(C=>{const I=C.target;[...u.branches].some(M=>M.contains(I))||(s==null||s(C),a==null||a(C),C.defaultPrevented||l==null||l())},g);return XJ(C=>{E===u.layers.size-1&&(i==null||i(C),!C.defaultPrevented&&l&&(C.preventDefault(),l()))},g),m.useEffect(()=>{if(f)return r&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(jC=g.body.style.pointerEvents,g.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(f)),u.layers.add(f),FC(),()=>{r&&u.layersWithOutsidePointerEventsDisabled.size===1&&(g.body.style.pointerEvents=jC)}},[f,g,r,u]),m.useEffect(()=>()=>{f&&(u.layers.delete(f),u.layersWithOutsidePointerEventsDisabled.delete(f),FC())},[f,u]),m.useEffect(()=>{const C=()=>w({});return document.addEventListener(Yy,C),()=>document.removeEventListener(Yy,C)},[]),m.createElement(cn.div,Ye({},c,{ref:y,style:{pointerEvents:S?R?"auto":"none":void 0,...t.style},onFocusCapture:gn(t.onFocusCapture,P.onFocusCapture),onBlurCapture:gn(t.onBlurCapture,P.onBlurCapture),onPointerDownCapture:gn(t.onPointerDownCapture,D.onPointerDownCapture)}))});function nZ(t,e=globalThis==null?void 0:globalThis.document){const n=Ai(t),r=m.useRef(!1),i=m.useRef(()=>{});return m.useEffect(()=>{const o=a=>{if(a.target&&!r.current){let u=function(){MD(JJ,n,c,{discrete:!0})};var l=u;const c={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=u,e.addEventListener("click",i.current,{once:!0})):u()}else e.removeEventListener("click",i.current);r.current=!1},s=window.setTimeout(()=>{e.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(s),e.removeEventListener("pointerdown",o),e.removeEventListener("click",i.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function rZ(t,e=globalThis==null?void 0:globalThis.document){const n=Ai(t),r=m.useRef(!1);return m.useEffect(()=>{const i=o=>{o.target&&!r.current&&MD(ZJ,n,{originalEvent:o},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function FC(){const t=new CustomEvent(Yy);document.dispatchEvent(t)}function MD(t,e,n,{discrete:r}){const i=n.originalEvent.target,o=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&i.addEventListener(t,e,{once:!0}),r?QJ(i,o):i.dispatchEvent(o)}let Wg=0;function iZ(){m.useEffect(()=>{var t,e;const n=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",(t=n[0])!==null&&t!==void 0?t:$C()),document.body.insertAdjacentElement("beforeend",(e=n[1])!==null&&e!==void 0?e:$C()),Wg++,()=>{Wg===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(r=>r.remove()),Wg--}},[])}function $C(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.cssText="outline: none; opacity: 0; position: fixed; pointer-events: none",t}const zg="focusScope.autoFocusOnMount",Hg="focusScope.autoFocusOnUnmount",UC={bubbles:!1,cancelable:!0},oZ=m.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:i,onUnmountAutoFocus:o,...s}=t,[a,l]=m.useState(null),c=Ai(i),u=Ai(o),f=m.useRef(null),h=kn(e,y=>l(y)),g=m.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;m.useEffect(()=>{if(r){let v=function(D){if(g.paused||!a)return;const P=D.target;a.contains(P)?f.current=P:qi(f.current,{select:!0})},E=function(D){if(g.paused||!a)return;const P=D.relatedTarget;P!==null&&(a.contains(P)||qi(f.current,{select:!0}))},S=function(D){if(document.activeElement===document.body)for(const C of D)C.removedNodes.length>0&&qi(a)};var y=v,b=E,x=S;document.addEventListener("focusin",v),document.addEventListener("focusout",E);const R=new MutationObserver(S);return a&&R.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",v),document.removeEventListener("focusout",E),R.disconnect()}}},[r,a,g.paused]),m.useEffect(()=>{if(a){WC.add(g);const y=document.activeElement;if(!a.contains(y)){const x=new CustomEvent(zg,UC);a.addEventListener(zg,c),a.dispatchEvent(x),x.defaultPrevented||(sZ(dZ(OD(a)),{select:!0}),document.activeElement===y&&qi(a))}return()=>{a.removeEventListener(zg,c),setTimeout(()=>{const x=new CustomEvent(Hg,UC);a.addEventListener(Hg,u),a.dispatchEvent(x),x.defaultPrevented||qi(y??document.body,{select:!0}),a.removeEventListener(Hg,u),WC.remove(g)},0)}}},[a,c,u,g]);const w=m.useCallback(y=>{if(!n&&!r||g.paused)return;const b=y.key==="Tab"&&!y.altKey&&!y.ctrlKey&&!y.metaKey,x=document.activeElement;if(b&&x){const v=y.currentTarget,[E,S]=aZ(v);E&&S?!y.shiftKey&&x===S?(y.preventDefault(),n&&qi(E,{select:!0})):y.shiftKey&&x===E&&(y.preventDefault(),n&&qi(S,{select:!0})):x===v&&y.preventDefault()}},[n,r,g.paused]);return m.createElement(cn.div,Ye({tabIndex:-1},s,{ref:h,onKeyDown:w}))});function sZ(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(qi(r,{select:e}),document.activeElement!==n)return}function aZ(t){const e=OD(t),n=BC(e,t),r=BC(e.reverse(),t);return[n,r]}function OD(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function BC(t,e){for(const n of t)if(!lZ(n,{upTo:e}))return n}function lZ(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function cZ(t){return t instanceof HTMLInputElement&&"select"in t}function qi(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&cZ(t)&&e&&t.select()}}const WC=uZ();function uZ(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=zC(t,e),t.unshift(e)},remove(e){var n;t=zC(t,e),(n=t[0])===null||n===void 0||n.resume()}}}function zC(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function dZ(t){return t.filter(e=>e.tagName!=="A")}const ki=globalThis!=null&&globalThis.document?m.useLayoutEffect:()=>{},fZ=zh["useId".toString()]||(()=>{});let hZ=0;function LD(t){const[e,n]=m.useState(fZ());return ki(()=>{t||n(r=>r??String(hZ++))},[t]),t||(e?`radix-${e}`:"")}function pZ(t){const[e,n]=m.useState(void 0);return ki(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const o=i[0];let s,a;if("borderBoxSize"in o){const l=o.borderBoxSize,c=Array.isArray(l)?l[0]:l;s=c.inlineSize,a=c.blockSize}else s=t.offsetWidth,a=t.offsetHeight;n({width:s,height:a})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}const VD="Popper",[jD,FD]=G1(VD),[mZ,$D]=jD(VD),gZ=t=>{const{__scopePopper:e,children:n}=t,[r,i]=m.useState(null);return m.createElement(mZ,{scope:e,anchor:r,onAnchorChange:i},n)},vZ="PopperAnchor",yZ=m.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...i}=t,o=$D(vZ,n),s=m.useRef(null),a=kn(e,s);return m.useEffect(()=>{o.onAnchorChange((r==null?void 0:r.current)||s.current)}),r?null:m.createElement(cn.div,Ye({},i,{ref:a}))}),UD="PopperContent",[wZ,wne]=jD(UD),xZ=m.forwardRef((t,e)=>{var n,r,i,o,s,a,l,c;const{__scopePopper:u,side:f="bottom",sideOffset:h=0,align:g="center",alignOffset:w=0,arrowPadding:y=0,avoidCollisions:b=!0,collisionBoundary:x=[],collisionPadding:v=0,sticky:E="partial",hideWhenDetached:S=!1,updatePositionStrategy:R="optimized",onPlaced:D,...P}=t,C=$D(UD,u),[I,A]=m.useState(null),M=kn(e,Vt=>A(Vt)),[O,N]=m.useState(null),F=pZ(O),G=(n=F==null?void 0:F.width)!==null&&n!==void 0?n:0,K=(r=F==null?void 0:F.height)!==null&&r!==void 0?r:0,W=f+(g!=="center"?"-"+g:""),L=typeof v=="number"?v:{top:0,right:0,bottom:0,left:0,...v},j=Array.isArray(x)?x:[x],U=j.length>0,z={padding:L,boundary:j.filter(_Z),altBoundary:U},{refs:B,floatingStyles:H,placement:Z,isPositioned:ie,middlewareData:ce}=BN({strategy:"fixed",placement:W,whileElementsMounted:(...Vt)=>$N(...Vt,{animationFrame:R==="always"}),elements:{reference:C.anchor},middleware:[WN({mainAxis:h+K,alignmentAxis:w}),b&&zN({mainAxis:!0,crossAxis:!1,limiter:E==="partial"?HN():void 0,...z}),b&&qN({...z}),GN({...z,apply:({elements:Vt,rects:rr,availableWidth:br,availableHeight:Sl})=>{const{width:Jr,height:zu}=rr.reference,Li=Vt.floating.style;Li.setProperty("--radix-popper-available-width",`${br}px`),Li.setProperty("--radix-popper-available-height",`${Sl}px`),Li.setProperty("--radix-popper-anchor-width",`${Jr}px`),Li.setProperty("--radix-popper-anchor-height",`${zu}px`)}}),O&&KN({element:O,padding:y}),EZ({arrowWidth:G,arrowHeight:K}),S&&YN({strategy:"referenceHidden",...z})]}),[J,re]=BD(Z),te=Ai(D);ki(()=>{ie&&(te==null||te())},[ie,te]);const ee=(i=ce.arrow)===null||i===void 0?void 0:i.x,fe=(o=ce.arrow)===null||o===void 0?void 0:o.y,Ce=((s=ce.arrow)===null||s===void 0?void 0:s.centerOffset)!==0,[Ke,st]=m.useState();return ki(()=>{I&&st(window.getComputedStyle(I).zIndex)},[I]),m.createElement("div",{ref:B.setFloating,"data-radix-popper-content-wrapper":"",style:{...H,transform:ie?H.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Ke,"--radix-popper-transform-origin":[(a=ce.transformOrigin)===null||a===void 0?void 0:a.x,(l=ce.transformOrigin)===null||l===void 0?void 0:l.y].join(" ")},dir:t.dir},m.createElement(wZ,{scope:u,placedSide:J,onArrowChange:N,arrowX:ee,arrowY:fe,shouldHideArrow:Ce},m.createElement(cn.div,Ye({"data-side":J,"data-align":re},P,{ref:M,style:{...P.style,animation:ie?void 0:"none",opacity:(c=ce.hide)!==null&&c!==void 0&&c.referenceHidden?0:void 0}}))))});function _Z(t){return t!==null}const EZ=t=>({name:"transformOrigin",options:t,fn(e){var n,r,i,o,s;const{placement:a,rects:l,middlewareData:c}=e,f=((n=c.arrow)===null||n===void 0?void 0:n.centerOffset)!==0,h=f?0:t.arrowWidth,g=f?0:t.arrowHeight,[w,y]=BD(a),b={start:"0%",center:"50%",end:"100%"}[y],x=((r=(i=c.arrow)===null||i===void 0?void 0:i.x)!==null&&r!==void 0?r:0)+h/2,v=((o=(s=c.arrow)===null||s===void 0?void 0:s.y)!==null&&o!==void 0?o:0)+g/2;let E="",S="";return w==="bottom"?(E=f?b:`${x}px`,S=`${-g}px`):w==="top"?(E=f?b:`${x}px`,S=`${l.floating.height+g}px`):w==="right"?(E=`${-g}px`,S=f?b:`${v}px`):w==="left"&&(E=`${l.floating.width+g}px`,S=f?b:`${v}px`),{data:{x:E,y:S}}}});function BD(t){const[e,n="center"]=t.split("-");return[e,n]}const bZ=gZ,TZ=yZ,CZ=xZ,SZ=m.forwardRef((t,e)=>{var n;const{container:r=globalThis==null||(n=globalThis.document)===null||n===void 0?void 0:n.body,...i}=t;return r?EI.createPortal(m.createElement(cn.div,Ye({},i,{ref:e})),r):null});function HC({prop:t,defaultProp:e,onChange:n=()=>{}}){const[r,i]=PZ({defaultProp:e,onChange:n}),o=t!==void 0,s=o?t:r,a=Ai(n),l=m.useCallback(c=>{if(o){const f=typeof c=="function"?c(t):c;f!==t&&a(f)}else i(c)},[o,t,i,a]);return[s,l]}function PZ({defaultProp:t,onChange:e}){const n=m.useState(t),[r]=n,i=m.useRef(r),o=Ai(e);return m.useEffect(()=>{i.current!==r&&(o(r),i.current=r)},[r,i,o]),n}function IZ(t){const e=m.useRef({value:t,previous:t});return m.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}const AZ=m.forwardRef((t,e)=>m.createElement(cn.span,Ye({},t,{ref:e,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...t.style}})));var WD=dD(),qg=function(){},Xp=m.forwardRef(function(t,e){var n=m.useRef(null),r=m.useState({onScrollCapture:qg,onWheelCapture:qg,onTouchMoveCapture:qg}),i=r[0],o=r[1],s=t.forwardProps,a=t.children,l=t.className,c=t.removeScrollBar,u=t.enabled,f=t.shards,h=t.sideCar,g=t.noIsolation,w=t.inert,y=t.allowPinchZoom,b=t.as,x=b===void 0?"div":b,v=z1(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as"]),E=h,S=uD([n,e]),R=sn(sn({},v),i);return m.createElement(m.Fragment,null,u&&m.createElement(E,{sideCar:WD,removeScrollBar:c,shards:f,noIsolation:g,inert:w,setCallbacks:o,allowPinchZoom:!!y,lockRef:n}),s?m.cloneElement(m.Children.only(a),sn(sn({},R),{ref:S})):m.createElement(x,sn({},R,{className:l,ref:S}),a))});Xp.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Xp.classNames={fullWidth:Rc,zeroRight:kc};var Ky=!1;if(typeof window<"u")try{var Bd=Object.defineProperty({},"passive",{get:function(){return Ky=!0,!0}});window.addEventListener("test",Bd,Bd),window.removeEventListener("test",Bd,Bd)}catch{Ky=!1}var Ks=Ky?{passive:!1}:!1,kZ=function(t){return t.tagName==="TEXTAREA"},zD=function(t,e){var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!kZ(t)&&n[e]==="visible")},RZ=function(t){return zD(t,"overflowY")},NZ=function(t){return zD(t,"overflowX")},qC=function(t,e){var n=e;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var r=HD(t,n);if(r){var i=qD(t,n),o=i[1],s=i[2];if(o>s)return!0}n=n.parentNode}while(n&&n!==document.body);return!1},DZ=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},MZ=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},HD=function(t,e){return t==="v"?RZ(e):NZ(e)},qD=function(t,e){return t==="v"?DZ(e):MZ(e)},OZ=function(t,e){return t==="h"&&e==="rtl"?-1:1},LZ=function(t,e,n,r,i){var o=OZ(t,window.getComputedStyle(e).direction),s=o*r,a=n.target,l=e.contains(a),c=!1,u=s>0,f=0,h=0;do{var g=qD(t,a),w=g[0],y=g[1],b=g[2],x=y-b-o*w;(w||x)&&HD(t,a)&&(f+=x,h+=w),a=a.parentNode}while(!l&&a!==document.body||l&&(e.contains(a)||e===a));return(u&&(i&&f===0||!i&&s>f)||!u&&(i&&h===0||!i&&-s>h))&&(c=!0),c},Wd=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},GC=function(t){return[t.deltaX,t.deltaY]},YC=function(t){return t&&"current"in t?t.current:t},VZ=function(t,e){return t[0]===e[0]&&t[1]===e[1]},jZ=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},FZ=0,Qs=[];function $Z(t){var e=m.useRef([]),n=m.useRef([0,0]),r=m.useRef(),i=m.useState(FZ++)[0],o=m.useState(function(){return H1()})[0],s=m.useRef(t);m.useEffect(function(){s.current=t},[t]),m.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(i));var y=cD([t.lockRef.current],(t.shards||[]).map(YC),!0).filter(Boolean);return y.forEach(function(b){return b.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),y.forEach(function(b){return b.classList.remove("allow-interactivity-".concat(i))})}}},[t.inert,t.lockRef.current,t.shards]);var a=m.useCallback(function(y,b){if("touches"in y&&y.touches.length===2)return!s.current.allowPinchZoom;var x=Wd(y),v=n.current,E="deltaX"in y?y.deltaX:v[0]-x[0],S="deltaY"in y?y.deltaY:v[1]-x[1],R,D=y.target,P=Math.abs(E)>Math.abs(S)?"h":"v";if("touches"in y&&P==="h"&&D.type==="range")return!1;var C=qC(P,D);if(!C)return!0;if(C?R=P:(R=P==="v"?"h":"v",C=qC(P,D)),!C)return!1;if(!r.current&&"changedTouches"in y&&(E||S)&&(r.current=R),!R)return!0;var I=r.current||R;return LZ(I,b,y,I==="h"?E:S,!0)},[]),l=m.useCallback(function(y){var b=y;if(!(!Qs.length||Qs[Qs.length-1]!==o)){var x="deltaY"in b?GC(b):Wd(b),v=e.current.filter(function(R){return R.name===b.type&&R.target===b.target&&VZ(R.delta,x)})[0];if(v&&v.should){b.cancelable&&b.preventDefault();return}if(!v){var E=(s.current.shards||[]).map(YC).filter(Boolean).filter(function(R){return R.contains(b.target)}),S=E.length>0?a(b,E[0]):!s.current.noIsolation;S&&b.cancelable&&b.preventDefault()}}},[]),c=m.useCallback(function(y,b,x,v){var E={name:y,delta:b,target:x,should:v};e.current.push(E),setTimeout(function(){e.current=e.current.filter(function(S){return S!==E})},1)},[]),u=m.useCallback(function(y){n.current=Wd(y),r.current=void 0},[]),f=m.useCallback(function(y){c(y.type,GC(y),y.target,a(y,t.lockRef.current))},[]),h=m.useCallback(function(y){c(y.type,Wd(y),y.target,a(y,t.lockRef.current))},[]);m.useEffect(function(){return Qs.push(o),t.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:h}),document.addEventListener("wheel",l,Ks),document.addEventListener("touchmove",l,Ks),document.addEventListener("touchstart",u,Ks),function(){Qs=Qs.filter(function(y){return y!==o}),document.removeEventListener("wheel",l,Ks),document.removeEventListener("touchmove",l,Ks),document.removeEventListener("touchstart",u,Ks)}},[]);var g=t.removeScrollBar,w=t.inert;return m.createElement(m.Fragment,null,w?m.createElement(o,{styles:jZ(i)}):null,g?m.createElement(mD,{gapMode:"margin"}):null)}const UZ=hD(WD,$Z);var GD=m.forwardRef(function(t,e){return m.createElement(Xp,sn({},t,{ref:e,sideCar:UZ}))});GD.classNames=Xp.classNames;const BZ=GD,WZ=[" ","Enter","ArrowUp","ArrowDown"],zZ=[" ","Enter"],Jp="Select",[Zp,Y1,HZ]=qJ(Jp),[Tl,xne]=G1(Jp,[HZ,FD]),K1=FD(),[qZ,Fs]=Tl(Jp),[GZ,YZ]=Tl(Jp),KZ=t=>{const{__scopeSelect:e,children:n,open:r,defaultOpen:i,onOpenChange:o,value:s,defaultValue:a,onValueChange:l,dir:c,name:u,autoComplete:f,disabled:h,required:g}=t,w=K1(e),[y,b]=m.useState(null),[x,v]=m.useState(null),[E,S]=m.useState(!1),R=YJ(c),[D=!1,P]=HC({prop:r,defaultProp:i,onChange:o}),[C,I]=HC({prop:s,defaultProp:a,onChange:l}),A=m.useRef(null),M=y?!!y.closest("form"):!0,[O,N]=m.useState(new Set),F=Array.from(O).map(G=>G.props.value).join(";");return m.createElement(bZ,w,m.createElement(qZ,{required:g,scope:e,trigger:y,onTriggerChange:b,valueNode:x,onValueNodeChange:v,valueNodeHasChildren:E,onValueNodeHasChildrenChange:S,contentId:LD(),value:C,onValueChange:I,open:D,onOpenChange:P,dir:R,triggerPointerDownPosRef:A,disabled:h},m.createElement(Zp.Provider,{scope:e},m.createElement(GZ,{scope:t.__scopeSelect,onNativeOptionAdd:m.useCallback(G=>{N(K=>new Set(K).add(G))},[]),onNativeOptionRemove:m.useCallback(G=>{N(K=>{const W=new Set(K);return W.delete(G),W})},[])},n)),M?m.createElement(XD,{key:F,"aria-hidden":!0,required:g,tabIndex:-1,name:u,autoComplete:f,value:C,onChange:G=>I(G.target.value),disabled:h},C===void 0?m.createElement("option",{value:""}):null,Array.from(O)):null))},QZ="SelectTrigger",XZ=m.forwardRef((t,e)=>{const{__scopeSelect:n,disabled:r=!1,...i}=t,o=K1(n),s=Fs(QZ,n),a=s.disabled||r,l=kn(e,s.onTriggerChange),c=Y1(n),[u,f,h]=JD(w=>{const y=c().filter(v=>!v.disabled),b=y.find(v=>v.value===s.value),x=ZD(y,w,b);x!==void 0&&s.onValueChange(x.value)}),g=()=>{a||(s.onOpenChange(!0),h())};return m.createElement(TZ,Ye({asChild:!0},o),m.createElement(cn.button,Ye({type:"button",role:"combobox","aria-controls":s.contentId,"aria-expanded":s.open,"aria-required":s.required,"aria-autocomplete":"none",dir:s.dir,"data-state":s.open?"open":"closed",disabled:a,"data-disabled":a?"":void 0,"data-placeholder":QD(s.value)?"":void 0},i,{ref:l,onClick:gn(i.onClick,w=>{w.currentTarget.focus()}),onPointerDown:gn(i.onPointerDown,w=>{const y=w.target;y.hasPointerCapture(w.pointerId)&&y.releasePointerCapture(w.pointerId),w.button===0&&w.ctrlKey===!1&&(g(),s.triggerPointerDownPosRef.current={x:Math.round(w.pageX),y:Math.round(w.pageY)},w.preventDefault())}),onKeyDown:gn(i.onKeyDown,w=>{const y=u.current!=="";!(w.ctrlKey||w.altKey||w.metaKey)&&w.key.length===1&&f(w.key),!(y&&w.key===" ")&&WZ.includes(w.key)&&(g(),w.preventDefault())})})))}),JZ="SelectValue",ZZ=m.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:i,children:o,placeholder:s="",...a}=t,l=Fs(JZ,n),{onValueNodeHasChildrenChange:c}=l,u=o!==void 0,f=kn(e,l.onValueNodeChange);return ki(()=>{c(u)},[c,u]),m.createElement(cn.span,Ye({},a,{ref:f,style:{pointerEvents:"none"}}),QD(l.value)?m.createElement(m.Fragment,null,s):o)}),eee=m.forwardRef((t,e)=>{const{__scopeSelect:n,children:r,...i}=t;return m.createElement(cn.span,Ye({"aria-hidden":!0},i,{ref:e}),r||"▼")}),tee=t=>m.createElement(SZ,Ye({asChild:!0},t)),sl="SelectContent",nee=m.forwardRef((t,e)=>{const n=Fs(sl,t.__scopeSelect),[r,i]=m.useState();if(ki(()=>{i(new DocumentFragment)},[]),!n.open){const o=r;return o?$o.createPortal(m.createElement(YD,{scope:t.__scopeSelect},m.createElement(Zp.Slot,{scope:t.__scopeSelect},m.createElement("div",null,t.children))),o):null}return m.createElement(ree,Ye({},t,{ref:e}))}),ii=10,[YD,em]=Tl(sl),ree=m.forwardRef((t,e)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:o,onPointerDownOutside:s,side:a,sideOffset:l,align:c,alignOffset:u,arrowPadding:f,collisionBoundary:h,collisionPadding:g,sticky:w,hideWhenDetached:y,avoidCollisions:b,...x}=t,v=Fs(sl,n),[E,S]=m.useState(null),[R,D]=m.useState(null),P=kn(e,J=>S(J)),[C,I]=m.useState(null),[A,M]=m.useState(null),O=Y1(n),[N,F]=m.useState(!1),G=m.useRef(!1);m.useEffect(()=>{if(E)return W1(E)},[E]),iZ();const K=m.useCallback(J=>{const[re,...te]=O().map(Ce=>Ce.ref.current),[ee]=te.slice(-1),fe=document.activeElement;for(const Ce of J)if(Ce===fe||(Ce==null||Ce.scrollIntoView({block:"nearest"}),Ce===re&&R&&(R.scrollTop=0),Ce===ee&&R&&(R.scrollTop=R.scrollHeight),Ce==null||Ce.focus(),document.activeElement!==fe))return},[O,R]),W=m.useCallback(()=>K([C,E]),[K,C,E]);m.useEffect(()=>{N&&W()},[N,W]);const{onOpenChange:L,triggerPointerDownPosRef:j}=v;m.useEffect(()=>{if(E){let J={x:0,y:0};const re=ee=>{var fe,Ce,Ke,st;J={x:Math.abs(Math.round(ee.pageX)-((fe=(Ce=j.current)===null||Ce===void 0?void 0:Ce.x)!==null&&fe!==void 0?fe:0)),y:Math.abs(Math.round(ee.pageY)-((Ke=(st=j.current)===null||st===void 0?void 0:st.y)!==null&&Ke!==void 0?Ke:0))}},te=ee=>{J.x<=10&&J.y<=10?ee.preventDefault():E.contains(ee.target)||L(!1),document.removeEventListener("pointermove",re),j.current=null};return j.current!==null&&(document.addEventListener("pointermove",re),document.addEventListener("pointerup",te,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",re),document.removeEventListener("pointerup",te,{capture:!0})}}},[E,L,j]),m.useEffect(()=>{const J=()=>L(!1);return window.addEventListener("blur",J),window.addEventListener("resize",J),()=>{window.removeEventListener("blur",J),window.removeEventListener("resize",J)}},[L]);const[U,z]=JD(J=>{const re=O().filter(fe=>!fe.disabled),te=re.find(fe=>fe.ref.current===document.activeElement),ee=ZD(re,J,te);ee&&setTimeout(()=>ee.ref.current.focus())}),B=m.useCallback((J,re,te)=>{const ee=!G.current&&!te;(v.value!==void 0&&v.value===re||ee)&&(I(J),ee&&(G.current=!0))},[v.value]),H=m.useCallback(()=>E==null?void 0:E.focus(),[E]),Z=m.useCallback((J,re,te)=>{const ee=!G.current&&!te;(v.value!==void 0&&v.value===re||ee)&&M(J)},[v.value]),ie=r==="popper"?KC:iee,ce=ie===KC?{side:a,sideOffset:l,align:c,alignOffset:u,arrowPadding:f,collisionBoundary:h,collisionPadding:g,sticky:w,hideWhenDetached:y,avoidCollisions:b}:{};return m.createElement(YD,{scope:n,content:E,viewport:R,onViewportChange:D,itemRefCallback:B,selectedItem:C,onItemLeave:H,itemTextRefCallback:Z,focusSelectedItem:W,selectedItemText:A,position:r,isPositioned:N,searchRef:U},m.createElement(BZ,{as:hu,allowPinchZoom:!0},m.createElement(oZ,{asChild:!0,trapped:v.open,onMountAutoFocus:J=>{J.preventDefault()},onUnmountAutoFocus:gn(i,J=>{var re;(re=v.trigger)===null||re===void 0||re.focus({preventScroll:!0}),J.preventDefault()})},m.createElement(tZ,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:o,onPointerDownOutside:s,onFocusOutside:J=>J.preventDefault(),onDismiss:()=>v.onOpenChange(!1)},m.createElement(ie,Ye({role:"listbox",id:v.contentId,"data-state":v.open?"open":"closed",dir:v.dir,onContextMenu:J=>J.preventDefault()},x,ce,{onPlaced:()=>F(!0),ref:P,style:{display:"flex",flexDirection:"column",outline:"none",...x.style},onKeyDown:gn(x.onKeyDown,J=>{const re=J.ctrlKey||J.altKey||J.metaKey;if(J.key==="Tab"&&J.preventDefault(),!re&&J.key.length===1&&z(J.key),["ArrowUp","ArrowDown","Home","End"].includes(J.key)){let ee=O().filter(fe=>!fe.disabled).map(fe=>fe.ref.current);if(["ArrowUp","End"].includes(J.key)&&(ee=ee.slice().reverse()),["ArrowUp","ArrowDown"].includes(J.key)){const fe=J.target,Ce=ee.indexOf(fe);ee=ee.slice(Ce+1)}setTimeout(()=>K(ee)),J.preventDefault()}})}))))))}),iee=m.forwardRef((t,e)=>{const{__scopeSelect:n,onPlaced:r,...i}=t,o=Fs(sl,n),s=em(sl,n),[a,l]=m.useState(null),[c,u]=m.useState(null),f=kn(e,P=>u(P)),h=Y1(n),g=m.useRef(!1),w=m.useRef(!0),{viewport:y,selectedItem:b,selectedItemText:x,focusSelectedItem:v}=s,E=m.useCallback(()=>{if(o.trigger&&o.valueNode&&a&&c&&y&&b&&x){const P=o.trigger.getBoundingClientRect(),C=c.getBoundingClientRect(),I=o.valueNode.getBoundingClientRect(),A=x.getBoundingClientRect();if(o.dir!=="rtl"){const fe=A.left-C.left,Ce=I.left-fe,Ke=P.left-Ce,st=P.width+Ke,Vt=Math.max(st,C.width),rr=window.innerWidth-ii,br=VC(Ce,[ii,rr-Vt]);a.style.minWidth=st+"px",a.style.left=br+"px"}else{const fe=C.right-A.right,Ce=window.innerWidth-I.right-fe,Ke=window.innerWidth-P.right-Ce,st=P.width+Ke,Vt=Math.max(st,C.width),rr=window.innerWidth-ii,br=VC(Ce,[ii,rr-Vt]);a.style.minWidth=st+"px",a.style.right=br+"px"}const M=h(),O=window.innerHeight-ii*2,N=y.scrollHeight,F=window.getComputedStyle(c),G=parseInt(F.borderTopWidth,10),K=parseInt(F.paddingTop,10),W=parseInt(F.borderBottomWidth,10),L=parseInt(F.paddingBottom,10),j=G+K+N+L+W,U=Math.min(b.offsetHeight*5,j),z=window.getComputedStyle(y),B=parseInt(z.paddingTop,10),H=parseInt(z.paddingBottom,10),Z=P.top+P.height/2-ii,ie=O-Z,ce=b.offsetHeight/2,J=b.offsetTop+ce,re=G+K+J,te=j-re;if(re<=Z){const fe=b===M[M.length-1].ref.current;a.style.bottom="0px";const Ce=c.clientHeight-y.offsetTop-y.offsetHeight,Ke=Math.max(ie,ce+(fe?H:0)+Ce+W),st=re+Ke;a.style.height=st+"px"}else{const fe=b===M[0].ref.current;a.style.top="0px";const Ke=Math.max(Z,G+y.offsetTop+(fe?B:0)+ce)+te;a.style.height=Ke+"px",y.scrollTop=re-Z+y.offsetTop}a.style.margin=`${ii}px 0`,a.style.minHeight=U+"px",a.style.maxHeight=O+"px",r==null||r(),requestAnimationFrame(()=>g.current=!0)}},[h,o.trigger,o.valueNode,a,c,y,b,x,o.dir,r]);ki(()=>E(),[E]);const[S,R]=m.useState();ki(()=>{c&&R(window.getComputedStyle(c).zIndex)},[c]);const D=m.useCallback(P=>{P&&w.current===!0&&(E(),v==null||v(),w.current=!1)},[E,v]);return m.createElement(oee,{scope:n,contentWrapper:a,shouldExpandOnScrollRef:g,onScrollButtonChange:D},m.createElement("div",{ref:l,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:S}},m.createElement(cn.div,Ye({},i,{ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}}))))}),KC=m.forwardRef((t,e)=>{const{__scopeSelect:n,align:r="start",collisionPadding:i=ii,...o}=t,s=K1(n);return m.createElement(CZ,Ye({},s,o,{ref:e,align:r,collisionPadding:i,style:{boxSizing:"border-box",...o.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}}))}),[oee,see]=Tl(sl,{}),QC="SelectViewport",aee=m.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=em(QC,n),o=see(QC,n),s=kn(e,i.onViewportChange),a=m.useRef(0);return m.createElement(m.Fragment,null,m.createElement("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"}}),m.createElement(Zp.Slot,{scope:n},m.createElement(cn.div,Ye({"data-radix-select-viewport":"",role:"presentation"},r,{ref:s,style:{position:"relative",flex:1,overflow:"auto",...r.style},onScroll:gn(r.onScroll,l=>{const c=l.currentTarget,{contentWrapper:u,shouldExpandOnScrollRef:f}=o;if(f!=null&&f.current&&u){const h=Math.abs(a.current-c.scrollTop);if(h>0){const g=window.innerHeight-ii*2,w=parseFloat(u.style.minHeight),y=parseFloat(u.style.height),b=Math.max(w,y);if(b<g){const x=b+h,v=Math.min(g,x),E=x-v;u.style.height=v+"px",u.style.bottom==="0px"&&(c.scrollTop=E>0?E:0,u.style.justifyContent="flex-end")}}}a.current=c.scrollTop})}))))}),lee="SelectGroup",[_ne,cee]=Tl(lee),uee="SelectLabel",dee=m.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=cee(uee,n);return m.createElement(cn.div,Ye({id:i.id},r,{ref:e}))}),Qy="SelectItem",[fee,KD]=Tl(Qy),hee=m.forwardRef((t,e)=>{const{__scopeSelect:n,value:r,disabled:i=!1,textValue:o,...s}=t,a=Fs(Qy,n),l=em(Qy,n),c=a.value===r,[u,f]=m.useState(o??""),[h,g]=m.useState(!1),w=kn(e,x=>{var v;return(v=l.itemRefCallback)===null||v===void 0?void 0:v.call(l,x,r,i)}),y=LD(),b=()=>{i||(a.onValueChange(r),a.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return m.createElement(fee,{scope:n,value:r,disabled:i,textId:y,isSelected:c,onItemTextChange:m.useCallback(x=>{f(v=>{var E;return v||((E=x==null?void 0:x.textContent)!==null&&E!==void 0?E:"").trim()})},[])},m.createElement(Zp.ItemSlot,{scope:n,value:r,disabled:i,textValue:u},m.createElement(cn.div,Ye({role:"option","aria-labelledby":y,"data-highlighted":h?"":void 0,"aria-selected":c&&h,"data-state":c?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1},s,{ref:w,onFocus:gn(s.onFocus,()=>g(!0)),onBlur:gn(s.onBlur,()=>g(!1)),onPointerUp:gn(s.onPointerUp,b),onPointerMove:gn(s.onPointerMove,x=>{if(i){var v;(v=l.onItemLeave)===null||v===void 0||v.call(l)}else x.currentTarget.focus({preventScroll:!0})}),onPointerLeave:gn(s.onPointerLeave,x=>{if(x.currentTarget===document.activeElement){var v;(v=l.onItemLeave)===null||v===void 0||v.call(l)}}),onKeyDown:gn(s.onKeyDown,x=>{var v;((v=l.searchRef)===null||v===void 0?void 0:v.current)!==""&&x.key===" "||(zZ.includes(x.key)&&b(),x.key===" "&&x.preventDefault())})}))))}),zd="SelectItemText",pee=m.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:i,...o}=t,s=Fs(zd,n),a=em(zd,n),l=KD(zd,n),c=YZ(zd,n),[u,f]=m.useState(null),h=kn(e,x=>f(x),l.onItemTextChange,x=>{var v;return(v=a.itemTextRefCallback)===null||v===void 0?void 0:v.call(a,x,l.value,l.disabled)}),g=u==null?void 0:u.textContent,w=m.useMemo(()=>m.createElement("option",{key:l.value,value:l.value,disabled:l.disabled},g),[l.disabled,l.value,g]),{onNativeOptionAdd:y,onNativeOptionRemove:b}=c;return ki(()=>(y(w),()=>b(w)),[y,b,w]),m.createElement(m.Fragment,null,m.createElement(cn.span,Ye({id:l.textId},o,{ref:h})),l.isSelected&&s.valueNode&&!s.valueNodeHasChildren?$o.createPortal(o.children,s.valueNode):null)}),mee="SelectItemIndicator",gee=m.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return KD(mee,n).isSelected?m.createElement(cn.span,Ye({"aria-hidden":!0},r,{ref:e})):null}),vee=m.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return m.createElement(cn.div,Ye({"aria-hidden":!0},r,{ref:e}))});function QD(t){return t===""||t===void 0}const XD=m.forwardRef((t,e)=>{const{value:n,...r}=t,i=m.useRef(null),o=kn(e,i),s=IZ(n);return m.useEffect(()=>{const a=i.current,l=window.HTMLSelectElement.prototype,u=Object.getOwnPropertyDescriptor(l,"value").set;if(s!==n&&u){const f=new Event("change",{bubbles:!0});u.call(a,n),a.dispatchEvent(f)}},[s,n]),m.createElement(AZ,{asChild:!0},m.createElement("select",Ye({},r,{ref:o,defaultValue:n})))});XD.displayName="BubbleSelect";function JD(t){const e=Ai(t),n=m.useRef(""),r=m.useRef(0),i=m.useCallback(s=>{const a=n.current+s;e(a),function l(c){n.current=c,window.clearTimeout(r.current),c!==""&&(r.current=window.setTimeout(()=>l(""),1e3))}(a)},[e]),o=m.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return m.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,i,o]}function ZD(t,e,n){const i=e.length>1&&Array.from(e).every(c=>c===e[0])?e[0]:e,o=n?t.indexOf(n):-1;let s=yee(t,Math.max(o,0));i.length===1&&(s=s.filter(c=>c!==n));const l=s.find(c=>c.textValue.toLowerCase().startsWith(i.toLowerCase()));return l!==n?l:void 0}function yee(t,e){return t.map((n,r)=>t[(e+r)%t.length])}const wee=KZ,eM=XZ,xee=ZZ,_ee=eee,Eee=tee,tM=nee,bee=aee,nM=dee,rM=hee,Tee=pee,Cee=gee,iM=vee,Xy=wee,Jy=xee,jh=xe.forwardRef(({className:t,children:e,...n},r)=>p.jsxs(eM,{ref:r,className:Ue("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 focus:shadow-[0_0_0_3px_rgba(226,125,191,0.2)] disabled:cursor-not-allowed disabled:opacity-50",t),...n,children:[e,p.jsx(_ee,{asChild:!0,children:p.jsx(Jz,{className:"h-4 w-4 opacity-50"})})]}));jh.displayName=eM.displayName;const Fh=xe.forwardRef(({className:t,children:e,position:n="popper",...r},i)=>p.jsx(Eee,{children:p.jsx(tM,{ref:i,className:Ue("relative z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...r,children:p.jsx(bee,{className:Ue("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e})})}));Fh.displayName=tM.displayName;const See=xe.forwardRef(({className:t,...e},n)=>p.jsx(nM,{ref:n,className:Ue("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...e}));See.displayName=nM.displayName;const _a=xe.forwardRef(({className:t,children:e,...n},r)=>p.jsxs(rM,{ref:r,className:Ue("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[p.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:p.jsx(Cee,{children:p.jsx(Sh,{className:"h-4 w-4"})})}),p.jsx(Tee,{children:e})]}));_a.displayName=rM.displayName;const Pee=xe.forwardRef(({className:t,...e},n)=>p.jsx(iM,{ref:n,className:Ue("-mx-1 my-1 h-px bg-muted",t),...e}));Pee.displayName=iM.displayName;const Ea={NONE:{value:"none",label:"Sin Símbolo",color:"transparent",textColor:"#e2e8f0"},MENSTRUATION:{value:"red",label:"Menstruación",color:"bg-red-500",textColor:"#e2e8f0"},FERTILE:{value:"white",label:"Fértil (Moco)",color:"bg-white",textColor:"#e2e8f0"},INFERTILE:{value:"green",label:"Infértil (Sin Moco)",color:"bg-green-500",textColor:"#e2e8f0"},SPOTTING:{value:"spot",label:"Spotting",color:"bg-pink-300",textColor:"#e2e8f0",pattern:"spotting-pattern"}},oM=Object.values(Ea),Q1=t=>oM.find(n=>n.value===t)||Ea.NONE,Iee=({date:t,setDate:e,time:n,setTime:r,temperatureRaw:i,setTemperatureRaw:o,temperatureCorrected:s,setTemperatureCorrected:a,useCorrected:l,setUseCorrected:c,mucusSensation:u,setMucusSensation:f,mucusAppearance:h,setMucusAppearance:g,fertilitySymbol:w,setFertilitySymbol:y,observations:b,setObservations:x,ignored:v,setIgnored:E,isProcessing:S,isEditing:R,initialData:D,cycleStartDate:P,cycleEndDate:C})=>{const[I,A]=m.useState(!1);m.useEffect(()=>{R&&D&&(e(D.timestamp?le(D.timestamp):le(D.isoDate)),r(D.timestamp?Te(le(D.timestamp),"HH:mm"):""),o(D.temperature_raw??""),a(D.temperature_corrected??""),c(D.use_corrected??!1),f(D.mucus_sensation??""),g(D.mucus_appearance??""),y(D.fertility_symbol??"none"),x(D.observations??""),E(D.ignored??!1))},[R,D]);const M=Se(le(P)),O=C?Se(le(C)):Dt(M,45),N=[{before:M},{after:O}];return p.jsxs(p.Fragment,{children:[p.jsxs("div",{className:"space-y-2",children:[p.jsxs(Rt,{htmlFor:"date",className:"flex items-center text-gray-700 text-lg",children:[p.jsx(nC,{className:"mr-2 h-5 w-5 text-pink-400"}),"Fecha del Registro"]}),p.jsxs(FJ,{open:I,onOpenChange:A,children:[p.jsx($J,{asChild:!0,children:p.jsxs(be,{variant:"outline",className:Ue("w-full justify-start text-left font-normal bg-gray-50 border-gray-200 text-gray-800 hover:bg-gray-100 hover:text-gray-800",!t&&"text-muted-foreground"),disabled:S,children:[p.jsx(nC,{className:"mr-2 h-4 w-4"}),t?Te(t,"PPP",{locale:rl}):p.jsx("span",{children:"Selecciona una fecha"})]})}),p.jsx(ND,{className:"w-auto p-0 bg-gray-50 border-gray-200 text-gray-800",align:"start",children:p.jsx(CN,{mode:"single",selected:t,onSelect:F=>{e(Se(F||new Date)),A(!1)},initialFocus:!0,locale:rl,disabled:S?()=>!0:N,className:"[&_button]:text-gray-800 [&_button:hover]:bg-gray-100 [&_button[aria-selected=true]]:bg-pink-500"})})]})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsxs(Rt,{htmlFor:"temperatureRaw",className:"flex items-center text-gray-700 text-lg",children:[p.jsx(uH,{className:"mr-2 h-5 w-5 text-rose-400"}),R?"Temperatura Original (°C)":"Temperatura Basal (°C)"," ",p.jsx("span",{className:"text-sm text-gray-700 ml-1",children:"(Opcional)"})]}),p.jsx(Vn,{id:"temperatureRaw",type:"number",step:"0.01",min:"34.0",max:"40.0",value:i,onChange:F=>o(F.target.value),placeholder:"Ej: 36.50",className:"bg-gray-50 border-gray-200 text-gray-800 placeholder-gray-400 focus:ring-pink-500 focus:border-pink-500 text-base",disabled:S||R&&(D==null?void 0:D.temperature_raw)!==null&&(D==null?void 0:D.temperature_raw)!==void 0,readOnly:R&&(D==null?void 0:D.temperature_raw)!==null&&(D==null?void 0:D.temperature_raw)!==void 0}),p.jsxs("div",{className:"space-y-2",children:[p.jsxs(Rt,{htmlFor:"time",className:"flex items-center text-gray-700 text-lg",children:[p.jsx(tH,{className:"mr-2 h-5 w-5 text-rose-400"}),"Hora de la Temperatura ",p.jsx("span",{className:"text-sm text-gray-700 ml-1",children:"(Opcional)"})]}),p.jsx(Vn,{id:"time",type:"time",value:n,onChange:F=>r(F.target.value),className:"bg-gray-50 border-gray-200 text-gray-800 placeholder-gray-400 focus:ring-pink-500 focus:border-pink-500 text-base",disabled:S})]})]}),R&&p.jsxs("div",{children:[p.jsxs("div",{className:"space-y-3 p-4 border border-gray-200 rounded-md bg-gray-50",children:[p.jsxs(Rt,{htmlFor:"temperatureCorrected",className:"flex items-center text-gray-700 text-md",children:[p.jsx(Ph,{className:"mr-2 h-4 w-4 text-amber-400"}),"Temperatura Corregida (°C) ",p.jsx("span",{className:"text-sm text-gray-500 ml-1",children:"(Opcional)"})]}),p.jsx("div",{className:"flex items-center space-x-2"}),p.jsx(Vn,{id:"temperatureCorrected",type:"number",step:"0.01",min:"34.0",max:"40.0",value:s,onChange:F=>{a(F.target.value),F.target.value!==""&&c(!0)},placeholder:"Ej: 36.65",className:"bg-gray-50 border-gray-200 text-gray-800 placeholder-gray-400 focus:ring-pink-500 focus:border-pink-500 text-base",disabled:S}),p.jsx("button",{type:"button",onClick:()=>{a(""),c(!1)},className:"absolute right-2 transform -translate-y-20 text-rose-400  hover:text-rose-400",title:"Eliminar corrección",children:"X"})]}),p.jsxs("div",{className:"flex items-center space-x-2 mt-2",children:[p.jsx(X2,{id:"useCorrected",checked:l,onCheckedChange:c,className:"data-[state=checked]:bg-pink-500 data-[state=checked]:text-white border-gray-500",disabled:S||s===""}),p.jsx(Rt,{htmlFor:"useCorrected",className:"text-sm text-gray-500",children:"Usar corrección en la gráfica"})]}),p.jsxs(be,{type:"button",variant:v?"outline":"destructive",size:"sm",onClick:()=>E(!v),className:"mt-2 hover:bg-rose-200/20",disabled:S,children:[v?p.jsx(lu,{className:"mr-1 h-4 w-4"}):p.jsx(f1,{className:"mr-1 h-4 w-4"}),v?"Restaurar":"Despreciar"]})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsxs(Rt,{htmlFor:"fertilitySymbol",className:"flex items-center text-gray-700 text-lg",children:[p.jsx(lH,{className:"mr-2 h-5 w-5 text-teal-400"}),"Símbolo de Fertilidad"]}),p.jsxs(Xy,{value:w,onValueChange:y,disabled:S,children:[p.jsx(jh,{className:"w-full bg-gray-50 border-gray-200 text-gray-800 hover:bg-gray-100 hover:text-gray-800",children:p.jsx(Jy,{placeholder:"Selecciona un símbolo"})}),p.jsx(Fh,{className:"bg-gray-50 border-gray-200 text-gray-800",children:oM.map(F=>p.jsx(_a,{value:F.value,className:"hover:bg-gray-100 focus:bg-gray-100",children:p.jsxs("div",{className:"flex items-center",children:[p.jsx("span",{className:`w-4 h-4 rounded-full mr-2 ${F.color} ${F.pattern?"pattern-bg":""}`}),F.label]})},F.value))})]})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsxs(Rt,{htmlFor:"mucusSensation",className:"flex items-center text-gray-700 text-lg",children:[p.jsx(nH,{className:"mr-2 h-5 w-5 text-sky-400"}),"Sensación del Moco Cervical"]}),p.jsx(vf,{id:"mucusSensation",value:u,onChange:F=>f(F.target.value),placeholder:"Describe la sensación (ej: Seca, Húmeda, Mojada)",className:"bg-gray-50 border-gray-200 text-gray-800 placeholder-gray-400 focus:ring-pink-500 focus:border-pink-500 text-base min-h-[80px]",disabled:S})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsxs(Rt,{htmlFor:"mucusAppearance",className:"flex items-center text-gray-700 text-lg",children:[p.jsx(lu,{className:"mr-2 h-5 w-5 text-amber-400"}),"Apariencia del Moco Cervical"]}),p.jsx(vf,{id:"mucusAppearance",value:h,onChange:F=>g(F.target.value),placeholder:"Describe la apariencia (ej: Pegajoso, Elástico)",className:"bg-gray-50 border-gray-200 text-gray-800 placeholder-gray-400 focus:ring-pink-500 focus:border-pink-500 text-base min-h-[80px]",disabled:S})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsxs(Rt,{htmlFor:"observations",className:"flex items-center text-gray-700 text-lg",children:[p.jsx(Xz,{className:"mr-2 h-5 w-5 text-indigo-400"}),"Observaciones Adicionales"]}),p.jsx(vf,{id:"observations",value:b,onChange:F=>x(F.target.value),placeholder:"Anota cualquier otra observación relevante (ej: Dolor, medicación)",className:"bg-gray-50 border-gray-200 text-gray-800 placeholder-gray-400 focus:ring-pink-500 focus:border-pink-500 text-base min-h-[80px]",disabled:S})]})]})},Aee=({onCancel:t,isProcessing:e,isEditing:n})=>p.jsxs("div",{className:"flex space-x-4 pt-4",children:[t&&p.jsxs(be,{type:"button",onClick:t,variant:"outline",className:"w-full border-gray-300 text-gray-700 hover:bg-gray-100 font-semibold py-3 text-lg",disabled:e,children:[p.jsx(cu,{className:"mr-2 h-5 w-5"}),"Cancelar"]}),p.jsxs(be,{type:"submit",className:"w-full bg-gradient-to-r from-pink-500 to-fuchsia-600 hover:from-pink-600 hover:to-fuchsia-700 text-white font-semibold py-3 text-lg shadow-md hover:shadow-lg transition-all duration-300 transform hover:scale-102",disabled:e,children:[e?p.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white mr-2"}):p.jsx(cH,{className:"mr-2 h-5 w-5"}),n?"Actualizar Registro":"Guardar"]})]}),kee=(t,e,n,r,i)=>{const[o,s]=m.useState(e!=null&&e.isoDate?le(e.isoDate):Se(new Date)),[a,l]=m.useState((e==null?void 0:e.temperature_raw)===null||(e==null?void 0:e.temperature_raw)===void 0?"":String(e.temperature_raw)),[c,u]=m.useState(e!=null&&e.timestamp?Te(le(e.timestamp),"HH:mm"):Te(new Date,"HH:mm")),[f,h]=m.useState((e==null?void 0:e.temperature_corrected)===null||(e==null?void 0:e.temperature_corrected)===void 0?"":String(e.temperature_corrected)),[g,w]=m.useState((e==null?void 0:e.use_corrected)||!1),[y,b]=m.useState((e==null?void 0:e.mucusSensation)||""),[x,v]=m.useState((e==null?void 0:e.mucusAppearance)||""),[E,S]=m.useState((e==null?void 0:e.fertility_symbol)||Ea.NONE.value),[R,D]=m.useState((e==null?void 0:e.observations)||""),[P,C]=m.useState((e==null?void 0:e.ignored)||!1),{toast:I}=zo();return m.useEffect(()=>{e?(s(le(e.isoDate)),l(e.temperature_raw===null||e.temperature_raw===void 0?"":String(e.temperature_raw)),u(e.timestamp?Te(le(e.timestamp),"HH:mm"):""),h(e.temperature_corrected===null||e.temperature_corrected===void 0?"":String(e.temperature_corrected)),w(e.use_corrected||!1),b(e.mucusSensation||""),v(e.mucusAppearance||""),S(e.fertility_symbol||Ea.NONE.value),D(e.observations||""),C(e.ignored||!1)):(s(Se(new Date)),l(""),u(Te(new Date,"HH:mm")),h(""),w(!1),b(""),v(""),S(Ea.NONE.value),D(""),C(!1))},[e]),{date:o,setDate:s,temperatureRaw:a,setTemperatureRaw:l,time:c,setTime:u,temperatureCorrected:f,setTemperatureCorrected:h,useCorrected:g,setUseCorrected:w,mucusSensation:y,setMucusSensation:b,mucusAppearance:x,setMucusAppearance:v,fertilitySymbol:E,setFertilitySymbol:S,observations:R,setObservations:D,ignored:P,setIgnored:C,handleSubmit:M=>{if(M.preventDefault(),!o){I({title:"Error",description:"La fecha es obligatoria.",variant:"destructive"});return}const O=Se(le(r)),N=i?Se(le(i)):Dt(O,45);if(o<O||o>N){I({title:"Error",description:"La fecha debe estar dentro del ciclo.",variant:"destructive"});return}const F=Te(o,"yyyy-MM-dd");t({isoDate:F,time:c,temperature_raw:a===""?null:parseFloat(a),temperature_corrected:f===""?null:parseFloat(f),use_corrected:g,mucusSensation:y,mucusAppearance:x,fertility_symbol:E,observations:R,ignored:P}),n||(s(Se(new Date)),l(""),u(Te(new Date,"HH:mm")),h(""),w(!1),b(""),v(""),S(Ea.NONE.value),D(""))}}},X1=({onSubmit:t,initialData:e,onCancel:n,cycleStartDate:r,cycleEndDate:i,isProcessing:o,isEditing:s=!1})=>{const a=m.useRef(null);m.useEffect(()=>{const N=a.current;if(!N)return;const F=G=>{G.target&&"scrollIntoView"in G.target&&setTimeout(()=>{G.target.scrollIntoView({behavior:"smooth",block:"center"})},50)};return N.addEventListener("focusin",F),()=>N.removeEventListener("focusin",F)},[]);const{date:l,setDate:c,time:u,setTime:f,temperatureRaw:h,setTemperatureRaw:g,temperatureCorrected:w,setTemperatureCorrected:y,useCorrected:b,setUseCorrected:x,mucusSensation:v,setMucusSensation:E,mucusAppearance:S,setMucusAppearance:R,fertilitySymbol:D,setFertilitySymbol:P,observations:C,setObservations:I,ignored:A,setIgnored:M,handleSubmit:O}=kee(t,e,s,r,i);return p.jsxs(Ee.form,{ref:a,onSubmit:O,className:"space-y-6 bg-white p-4 sm:p-6 rounded-xl border border-[#FFB1DD]/50 shadow w-full",initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5},children:[p.jsxs("div",{className:"flex justify-between items-center mb-6",children:[p.jsx("h2",{className:"text-2xl font-semibold text-[#292a46]",children:s?"Editar Registro":"Añadir Registro"}),n&&p.jsx(be,{type:"button",onClick:n,variant:"ghost",size:"icon",className:"text-gray-700 hover:text-pink-500 hover:bg-pink-50",children:p.jsx(cu,{className:"h-6 w-6"})})]}),p.jsx(Iee,{date:l,setDate:c,time:u,setTime:f,temperatureRaw:h,setTemperatureRaw:g,temperatureCorrected:w,setTemperatureCorrected:y,useCorrected:b,setUseCorrected:x,mucusSensation:v,setMucusSensation:E,mucusAppearance:S,setMucusAppearance:R,fertilitySymbol:D,setFertilitySymbol:P,observations:C,setObservations:I,ignored:A,setIgnored:M,isProcessing:o,isEditing:s,initialData:e,cycleStartDate:r,cycleEndDate:i}),p.jsx(Aee,{onCancel:n,isProcessing:o,isEditing:s})]})};var tm="Dialog",[sM,Ene]=js(tm),[Ree,Er]=sM(tm),aM=t=>{const{__scopeDialog:e,children:n,open:r,defaultOpen:i,onOpenChange:o,modal:s=!0}=t,a=m.useRef(null),l=m.useRef(null),[c,u]=Up({prop:r,defaultProp:i??!1,onChange:o,caller:tm});return p.jsx(Ree,{scope:e,triggerRef:a,contentRef:l,contentId:wf(),titleId:wf(),descriptionId:wf(),open:c,onOpenChange:u,onOpenToggle:m.useCallback(()=>u(f=>!f),[u]),modal:s,children:n})};aM.displayName=tm;var lM="DialogTrigger",Nee=m.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=Er(lM,n),o=lt(e,i.triggerRef);return p.jsx(ze.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":ex(i.open),...r,ref:o,onClick:$e(t.onClick,i.onOpenToggle)})});Nee.displayName=lM;var J1="DialogPortal",[Dee,cM]=sM(J1,{forceMount:void 0}),uM=t=>{const{__scopeDialog:e,forceMount:n,children:r,container:i}=t,o=Er(J1,e);return p.jsx(Dee,{scope:e,forceMount:n,children:m.Children.map(r,s=>p.jsx(tr,{present:n||o.open,children:p.jsx(Yp,{asChild:!0,container:i,children:s})}))})};uM.displayName=J1;var $h="DialogOverlay",dM=m.forwardRef((t,e)=>{const n=cM($h,t.__scopeDialog),{forceMount:r=n.forceMount,...i}=t,o=Er($h,t.__scopeDialog);return o.modal?p.jsx(tr,{present:r||o.open,children:p.jsx(Oee,{...i,ref:e})}):null});dM.displayName=$h;var Mee=Ja("DialogOverlay.RemoveScroll"),Oee=m.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=Er($h,n);return p.jsx(xD,{as:Mee,allowPinchZoom:!0,shards:[i.contentRef],children:p.jsx(ze.div,{"data-state":ex(i.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),As="DialogContent",fM=m.forwardRef((t,e)=>{const n=cM(As,t.__scopeDialog),{forceMount:r=n.forceMount,...i}=t,o=Er(As,t.__scopeDialog);return p.jsx(tr,{present:r||o.open,children:o.modal?p.jsx(Lee,{...i,ref:e}):p.jsx(Vee,{...i,ref:e})})});fM.displayName=As;var Lee=m.forwardRef((t,e)=>{const n=Er(As,t.__scopeDialog),r=m.useRef(null),i=lt(e,n.contentRef,r);return m.useEffect(()=>{const o=r.current;if(o)return W1(o)},[]),p.jsx(hM,{...t,ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:$e(t.onCloseAutoFocus,o=>{var s;o.preventDefault(),(s=n.triggerRef.current)==null||s.focus()}),onPointerDownOutside:$e(t.onPointerDownOutside,o=>{const s=o.detail.originalEvent,a=s.button===0&&s.ctrlKey===!0;(s.button===2||a)&&o.preventDefault()}),onFocusOutside:$e(t.onFocusOutside,o=>o.preventDefault())})}),Vee=m.forwardRef((t,e)=>{const n=Er(As,t.__scopeDialog),r=m.useRef(!1),i=m.useRef(!1);return p.jsx(hM,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{var s,a;(s=t.onCloseAutoFocus)==null||s.call(t,o),o.defaultPrevented||(r.current||(a=n.triggerRef.current)==null||a.focus(),o.preventDefault()),r.current=!1,i.current=!1},onInteractOutside:o=>{var l,c;(l=t.onInteractOutside)==null||l.call(t,o),o.defaultPrevented||(r.current=!0,o.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const s=o.target;((c=n.triggerRef.current)==null?void 0:c.contains(s))&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&i.current&&o.preventDefault()}})}),hM=m.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:o,...s}=t,a=Er(As,n),l=m.useRef(null),c=lt(e,l);return AN(),p.jsxs(p.Fragment,{children:[p.jsx(D1,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:o,children:p.jsx(zp,{role:"dialog",id:a.contentId,"aria-describedby":a.descriptionId,"aria-labelledby":a.titleId,"data-state":ex(a.open),...s,ref:c,onDismiss:()=>a.onOpenChange(!1)})}),p.jsxs(p.Fragment,{children:[p.jsx(jee,{titleId:a.titleId}),p.jsx($ee,{contentRef:l,descriptionId:a.descriptionId})]})]})}),Z1="DialogTitle",pM=m.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=Er(Z1,n);return p.jsx(ze.h2,{id:i.titleId,...r,ref:e})});pM.displayName=Z1;var mM="DialogDescription",gM=m.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=Er(mM,n);return p.jsx(ze.p,{id:i.descriptionId,...r,ref:e})});gM.displayName=mM;var vM="DialogClose",yM=m.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=Er(vM,n);return p.jsx(ze.button,{type:"button",...r,ref:e,onClick:$e(t.onClick,()=>i.onOpenChange(!1))})});yM.displayName=vM;function ex(t){return t?"open":"closed"}var wM="DialogTitleWarning",[bne,xM]=pH(wM,{contentName:As,titleName:Z1,docsSlug:"dialog"}),jee=({titleId:t})=>{const e=xM(wM),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return m.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},Fee="DialogDescriptionWarning",$ee=({contentRef:t,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${xM(Fee).contentName}}.`;return m.useEffect(()=>{var o;const i=(o=t.current)==null?void 0:o.getAttribute("aria-describedby");e&&i&&(document.getElementById(e)||console.warn(r))},[r,t,e]),null},Uee=aM,Bee=uM,_M=dM,EM=fM,bM=pM,TM=gM,Wee=yM;const $u=Uee,zee=Bee,CM=xe.forwardRef(({className:t,...e},n)=>p.jsx(_M,{ref:n,className:Ue("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));CM.displayName=_M.displayName;const Cl=xe.forwardRef(({className:t,children:e,hideClose:n,...r},i)=>p.jsxs(zee,{children:[p.jsx(CM,{}),p.jsxs(EM,{ref:i,className:Ue("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...r,children:[e,!n&&p.jsxs(Wee,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[p.jsx(h1,{className:"h-4 w-4"}),p.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Cl.displayName=EM.displayName;const nm=({className:t,...e})=>p.jsx("div",{className:Ue("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});nm.displayName="DialogHeader";const rm=({className:t,...e})=>p.jsx("div",{className:Ue("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});rm.displayName="DialogFooter";const im=xe.forwardRef(({className:t,...e},n)=>p.jsx(bM,{ref:n,className:Ue("text-lg font-semibold leading-none tracking-tight",t),...e}));im.displayName=bM.displayName;const om=xe.forwardRef(({className:t,...e},n)=>p.jsx(TM,{ref:n,className:Ue("text-sm text-muted-foreground",t),...e}));om.displayName=TM.displayName;function Uu(t,e){m.useEffect(()=>{if(!t)return;const n=crypto.randomUUID?crypto.randomUUID():Math.random().toString(36).slice(2),r=i=>{i.state&&i.state.overlay===n&&e()};return window.history.pushState({overlay:n},""),window.addEventListener("popstate",r),()=>{window.removeEventListener("popstate",r),window.history.state&&window.history.state.overlay===n&&window.history.back()}},[t,e])}const Hee=(t,e)=>{if(!t||!e)return 0;const n=Se(le(t)),r=Se(le(e));return To(n,r)+1},Gg=(t,e)=>!t||!Array.isArray(t)||!e?[]:[...t].sort((r,i)=>{const o=r.timestamp?le(r.timestamp):r.iso_date?le(r.iso_date):0,s=i.timestamp?le(i.timestamp):i.iso_date?le(i.iso_date):0;return OH(o,s)}).map(r=>({...r,id:r.id,isoDate:r.iso_date||(r.timestamp?Te(le(r.timestamp),"yyyy-MM-dd"):null),date:r.timestamp?Te(le(r.timestamp),"dd/MM"):r.iso_date?Te(le(r.iso_date),"dd/MM"):"N/A",cycleDay:Hee(r.iso_date||r.timestamp,e),temperature_raw:r.temperature_raw,temperature_corrected:r.temperature_corrected,use_corrected:r.use_corrected,mucusSensation:r.mucus_sensation,mucusAppearance:r.mucus_appearance,fertility_symbol:r.fertility_symbol,observations:r.observations,ignored:r.ignored,temperature_chart:r.temperature_chart??(r.use_corrected?r.temperature_corrected??r.temperature_raw:r.temperature_raw??r.temperature_corrected),timestamp:r.timestamp})),qee=async t=>{const e=Jn(kt,`users/${t}/cycles`),n=await Ti(e);if(n.empty)return null;const r=n.docs.map(l=>({id:l.id,...l.data()})).filter(l=>l.end_date===null||l.end_date===void 0).sort((l,c)=>(c.start_date||"").localeCompare(l.start_date||""));if(r.length>1&&console.warn(`Se detectaron ${r.length} ciclos abiertos. Se usará el más reciente.`),r.length===0)return null;const i=r[0],o=Jn(kt,`users/${t}/cycles/${i.id}/entries`),a=(await Ti(o)).docs.map(l=>({id:l.id,...l.data()}));return{id:i.id,startDate:i.start_date,endDate:i.end_date,data:a}},Gee=async(t,e)=>{const n=Jn(kt,`users/${t}/cycles`),i=(await Ti(n)).docs.map(s=>({id:s.id,...s.data()})).filter(s=>s.end_date!==null&&s.end_date!==void 0||e&&s.start_date&&s.start_date<e).sort((s,a)=>(a.start_date||"").localeCompare(s.start_date||""));return await Promise.all(i.map(async s=>{const a=Jn(kt,`users/${t}/cycles/${s.id}/entries`),c=(await Ti(a)).docs.map(u=>({id:u.id,...u.data()}));return{id:s.id,startDate:s.start_date,endDate:s.end_date,needsCompletion:!s.end_date,data:c}}))},XC=async(t,e)=>{const n=bi(kt,`users/${t}/cycles/${e}`),r=await Pp(n);if(!r.exists())return null;const i=r.data(),o=Jn(kt,`users/${t}/cycles/${e}/entries`),a=(await Ti(o)).docs.map(l=>({id:l.id,...l.data()}));return{id:e,startDate:i.start_date,endDate:i.end_date,data:a}},JC=async(t,e)=>{const n=Jn(kt,`users/${t}/cycles`),r=await Ti(n),i=le(e);if(r.docs.some(a=>{const l=a.data(),c=l.start_date?le(l.start_date):null,u=l.end_date?le(l.end_date):null;return c&&i>=c&&(!u||i<=u)}))throw new Error("Cycle dates overlap with an existing cycle");return{id:(await vy(Jn(kt,`users/${t}/cycles`),{user_id:t,start_date:e,end_date:null})).id,start_date:e}},Yee=async t=>{const e=t.user_id,n=t.timestamp??new Date().toISOString(),r={timestamp:n,temperature_raw:t.temperature_raw,temperature_corrected:t.temperature_corrected,use_corrected:t.use_corrected,temperature_chart:t.temperature_chart,mucus_sensation:t.mucus_sensation,mucus_appearance:t.mucus_appearance,fertility_symbol:t.fertility_symbol,observations:t.observations,ignored:t.ignored},i=Jn(kt,`users/${e}/cycles`),o=await Ti(i),s=le(n),a=o.docs.filter(c=>{const u=c.data(),f=u.start_date?le(u.start_date):null,h=u.end_date?le(u.end_date):null;return f&&s>=f&&(!h||s<=h)});let l=null;return a.length>1?l=a.sort((c,u)=>{const f=le(c.data().start_date);return le(u.data().start_date)-f})[0]:a.length===1&&(l=a[0]),l?{id:(await vy(Jn(kt,`users/${e}/cycles/${l.id}/entries`),r)).id}:t.cycle_id?{id:(await vy(Jn(kt,`users/${e}/cycles/${t.cycle_id}/entries`),r)).id}:{id:null}},ZC=async(t,e,n,r)=>{const i=bi(kt,`users/${t}/cycles/${e}/entries/${n}`),o={temperature_raw:r.temperature_raw,temperature_corrected:r.temperature_corrected,use_corrected:r.use_corrected,temperature_chart:r.temperature_chart,mucus_sensation:r.mucus_sensation,mucus_appearance:r.mucus_appearance,fertility_symbol:r.fertility_symbol,observations:r.observations,ignored:r.ignored};return r.timestamp&&(o.timestamp=r.timestamp),await Mw(i,o),{id:n}},Kee=async(t,e,n)=>{await gy(bi(kt,`users/${t}/cycles/${e}/entries/${n}`))},Qee=async(t,e,n)=>{const r=bi(kt,`users/${e}/cycles/${t}`);if(!(await Pp(r)).exists())throw new Error("Cycle not found");await Mw(r,{end_date:n})},eS=async(t,e,n,r)=>{const i=bi(kt,`users/${e}/cycles/${t}`),o=await Pp(i);if(!o.exists())throw new Error("Cycle not found");const s=o.data(),a=n??s.start_date,l=r!==void 0?r:s.end_date,c=a?le(a):null,u=l?le(l):null,f=Jn(kt,`users/${e}/cycles`);if((await Ti(f)).docs.some(y=>{if(y.id===t)return!1;const b=y.data(),x=b.start_date?le(b.start_date):null,v=b.end_date?le(b.end_date):null;if(!x)return!1;const E=v??new Date("9999-12-31"),S=u??new Date("9999-12-31");return c<=E&&x<=S}))throw new Error("Cycle dates overlap with an existing cycle");const w={};n!==void 0&&(w.start_date=n),r!==void 0&&(w.end_date=r),await Mw(i,w)},Xee=async(t,e)=>{const n=Jn(kt,`users/${t}/cycles/${e}/entries`),r=await Ti(n);await Promise.all(r.docs.map(i=>gy(i.ref))),await gy(bi(kt,`users/${t}/cycles/${e}`))},tS=(t,e)=>{if(!e)return t;const n=Se(le(e));return t.filter(r=>le(r.isoDate)<=n)},Xs=t=>t?typeof t=="string"?Te(Se(le(t)),"yyyy-MM-dd"):typeof t.toDate=="function"?Te(Se(t.toDate()),"yyyy-MM-dd"):Te(Se(new Date(t)),"yyyy-MM-dd"):null,Bu=(t=null)=>{const{user:e}=_l(),{toast:n}=zo(),[r,i]=m.useState({id:null,startDate:null,data:[]}),[o,s]=m.useState([]),[a,l]=m.useState(!0),c=m.useCallback(async()=>{if(!(e!=null&&e.uid)){console.log("No user found, skipping cycle data load"),l(!1);return}console.log("Loading cycle data for user:",e.uid),l(!0);try{let v;if(t?(console.log("Loading specific cycle:",t),v=await XC(e.uid,t),v||(v={id:t,startDate:Te(Se(new Date),"yyyy-MM-dd"),data:[]})):(console.log("Loading current cycle"),v=await qee(e.uid)),console.log("Cycle loaded:",v),v){const S=Xs(v.startDate),R=Xs(v.endDate);i({...v,startDate:S,endDate:R,data:Gg(v.data,S)})}else i({id:null,startDate:null,data:[]});console.log("Loading archived cycles");const E=await Gee(e.uid,v?v.startDate:null);s(E.map(S=>{const R=Xs(S.startDate),D=Xs(S.endDate),P=Gg(S.data||[],R),C=tS(P,D);return{...S,startDate:R??Te(Se(new Date),"yyyy-MM-dd"),endDate:D,needsCompletion:S.needsCompletion,data:C}}))}catch(v){console.error("Error in loadCycleData:",v),v.code==="permission-denied"&&console.error("Firebase permissions error. Check Firestore rules."),i({id:null,startDate:null,data:[]}),s([])}finally{l(!1)}},[e,t]);m.useEffect(()=>{c()},[c]);const u=m.useCallback(async(v,E)=>{if(!(e!=null&&e.uid)||!r.id)throw console.error("User or currentCycle.id is missing"),new Error("User or currentCycle.id is missing");console.log("Adding/updating data point:",v,"editing:",E),l(!0);try{const S=v.time&&v.time.trim()!==""?v.time:Te(new Date,"HH:mm"),R=QG(`${v.isoDate} ${S}`,"yyyy-MM-dd HH:mm",new Date),D=v.temperature_raw===""||v.temperature_raw===null||v.temperature_raw===void 0?null:parseFloat(v.temperature_raw),P=v.temperature_corrected===""||v.temperature_corrected===null||v.temperature_corrected===void 0?null:parseFloat(v.temperature_corrected),C=v.use_corrected||!1,I=C?P??D:D??P,A={cycle_id:r.id,user_id:e.uid,timestamp:Te(R,"yyyy-MM-dd'T'HH:mm:ssXXX"),temperature_raw:D,temperature_corrected:P,use_corrected:C,temperature_chart:I,mucus_sensation:v.mucusSensation||null,mucus_appearance:v.mucusAppearance||null,fertility_symbol:v.fertility_symbol==="none"?null:v.fertility_symbol,observations:v.observations||null,ignored:E?v.ignored??E.ignored:v.ignored||!1};E?(console.log("Updating existing record:",E.id),await ZC(e.uid,r.id,E.id,A)):(console.log("Creating new record"),await Yee(A)),console.log("Data point saved successfully"),await c()}catch(S){throw console.error("Error adding/updating data point:",S),S}finally{l(!1)}},[e,r.id,c]),f=m.useCallback(async v=>{if(!(!(e!=null&&e.uid)||!r.id)){console.log("Deleting record:",v),l(!0);try{await Kee(e.uid,r.id,v),await c(),console.log("Record deleted successfully")}catch(E){throw console.error("Error deleting record:",E),E}finally{l(!1)}}},[e,r.id,c]),h=m.useCallback(async(v,E)=>{if(e!=null&&e.uid){console.log("Toggling ignore for record:",E,"in cycle:",v),l(!0);try{const S=v===r.id?r:o.find(P=>P.id===v);if(!S)throw new Error("Cycle not found for toggling ignore state.");const R=S.data.find(P=>P.id===E);if(!R)throw new Error("Record not found for toggling ignore state.");const D=!R.ignored;await ZC(e.uid,v,E,{ignored:D}),await c(),console.log("Record ignore status toggled successfully")}catch(S){throw console.error("Error toggling ignore state:",S),S}finally{l(!1)}}},[e,r,o,c]),g=m.useCallback(async v=>{if(e!=null&&e.uid){console.log("Starting new cycle with date:",v),l(!0);try{const E=Se(v?le(v):new Date);if(r.id){const D=Te(Dt(E,-1),"yyyy-MM-dd");await Qee(r.id,e.uid,D)}const S=Te(E,"yyyy-MM-dd"),R=await JC(e.uid,S);i({id:R.id,startDate:R.start_date,data:[]}),await c(),console.log("New cycle started successfully")}catch(E){throw console.error("Error starting new cycle:",E),n({title:"Error",description:"No se pudo archivar el ciclo.",variant:"destructive"}),E}finally{l(!1)}}},[e,r,c,n]),w=m.useCallback(async(v,E)=>{if(e!=null&&e.uid){if(!E){n({title:"Error",description:"La fecha de fin es obligatoria.",variant:"destructive"});return}console.log("Adding archived cycle:",v,E),l(!0);try{const S=await JC(e.uid,v);await eS(S.id,e.uid,void 0,E),await c(),console.log("Archived cycle added successfully")}catch(S){console.error("Error adding archived cycle:",S);const R=S.message&&S.message.includes("overlap")?"Las fechas coinciden con otro ciclo.":"No se pudo crear el ciclo.";throw n({title:"Error",description:R,variant:"destructive"}),S}finally{l(!1)}}},[e,c,n]),y=m.useCallback(async v=>{if(e!=null&&e.uid){console.log("Deleting cycle:",v),l(!0);try{await Xee(e.uid,v),await c(),console.log("Cycle deleted successfully")}catch(E){throw console.error("Error deleting cycle:",E),n({title:"Error",description:"No se pudo eliminar el ciclo.",variant:"destructive"}),E}finally{l(!1)}}},[e,c,n]),b=m.useCallback(async(v,E,S)=>{if(e!=null&&e.uid){console.log("Updating cycle dates:",v,E,S),l(!0);try{await eS(v,e.uid,E,S),await c(),console.log("Cycle dates updated successfully")}catch(R){console.error("Error updating cycle dates:",R);const D=R.message&&R.message.includes("overlap")?"Las fechas coinciden con otro ciclo.":"No se pudieron actualizar las fechas.";throw n({title:"Error",description:D,variant:"destructive"}),R}finally{l(!1)}}},[e,c,n]),x=m.useCallback(async v=>{if(!(e!=null&&e.uid))return null;console.log("Fetching cycle by ID:",v),l(!0);try{const E=await XC(e.uid,v);if(!E)return null;const S=Xs(E.startDate),R=Xs(E.endDate),D=Gg(E.data||[],S),P=tS(D,R),C={...E,startDate:S??Te(Se(new Date),"yyyy-MM-dd"),endDate:R,data:P};return console.log("Cycle fetched successfully:",C),C}catch(E){return console.error("Error fetching cycle by ID:",E),null}finally{l(!1)}},[e]);return{currentCycle:r,archivedCycles:o,addOrUpdateDataPoint:u,deleteRecord:f,startNewCycle:g,updateCycleDates:b,isLoading:a,getCycleById:x,refreshData:c,toggleIgnoreRecord:h,addArchivedCycle:w,deleteCycle:y}},Jee=({cycleData:t})=>{const e=t.records||[],n=o=>{switch(o){case"red":return{main:"#ef4444",light:"#fee2e2",glow:"rgba(239, 68, 68, 0.3)"};case"white":return{main:"#f8fafc",light:"#ffe4e6",glow:"rgba(248, 250, 252, 0.3)"};case"green":return{main:"#22c55e",light:"#d1fae5",glow:"rgba(34, 197, 94, 0.3)"};case"spot":return{main:"#ec4899",light:"#fce7f3",glow:"rgba(236, 72, 153, 0.3)"};default:return{main:"#d1d5db",light:"#f8fafc",glow:"rgba(209, 213, 219, 0.3)"}}},i=(()=>{const o=Math.max(t.currentDay,28),s=40;return Array.from({length:o},(a,l)=>{const c=l+1,u=e.find(b=>b.cycleDay===c),f=l/o*2*Math.PI-Math.PI/2,h=50+s*Math.cos(f),g=50+s*Math.sin(f);let w=c<=t.currentDay&&u?n(u.fertility_symbol):{main:"#e5e7eb",light:"#f1f5f9",glow:"rgba(229, 231, 235, 0.3)"};const y=c===t.currentDay;return y&&!u&&(w={main:"#3b82f6",light:"#bfdbfe",glow:"rgba(59, 130, 246, 0.4)"}),{x:h,y:g,day:c,colors:w,isActive:c<=t.currentDay,isToday:y}})})();return p.jsxs("div",{className:"relative min-h-screen",children:[p.jsxs(Ee.div,{className:"px-6 pt-14 pb-6 text-center",initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.4},children:[p.jsx("h1",{className:"text-2xl font-bold text-gray-800 mb-2",children:new Date().toLocaleDateString("es-ES",{weekday:"long",day:"numeric",month:"long"})}),p.jsxs("p",{className:"text-base font-medium text-pink-700 bg-white/20 backdrop-blur-sm rounded-full px-4 py-2 inline-block",children:["Día ",t.currentDay," del ciclo"]})]}),p.jsxs(Ee.div,{className:"px-6",initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{duration:.4,delay:.1},children:[p.jsx("div",{className:"text-center mb-8",children:p.jsxs(Ee.div,{className:"relative inline-flex items-center justify-center w-80 h-80 mb-8",initial:{scale:0},animate:{scale:1},transition:{type:"spring",stiffness:200,damping:15,delay:.3},children:[p.jsxs("svg",{className:"w-full h-full",viewBox:"0 0 100 100",children:[p.jsx("circle",{cx:"50",cy:"50",r:"20",fill:"none",stroke:"rgba(255, 255, 255, 0.2)",strokeWidth:"0.5"}),[7,14,21,28].map(o=>{const s=o/28*2*Math.PI-Math.PI/2,a=50+45*Math.cos(s),l=50+45*Math.sin(s),c=50+55*Math.cos(s),u=50+55*Math.sin(s);return p.jsx("line",{x1:a,y1:l,x2:c,y2:u,stroke:"rgba(255, 255, 255, 0.3)",strokeWidth:"0.5"},o)}),i.map((o,s)=>p.jsxs("g",{children:[p.jsx("circle",{cx:o.x+.5,cy:o.y+.5,r:o.isToday?5:3.5,fill:"rgba(0, 0, 0, 0.2)",opacity:o.isActive?1:.5}),p.jsx(Ee.circle,{cx:o.x,cy:o.y,r:o.isToday?5:3.5,fill:o.isActive?o.isToday?o.colors.light:o.colors.main:"#e5e7eb",stroke:o.colors.border||(o.isActive?"rgba(255,255,255,0.4)":"#cbd5e1"),strokeWidth:o.colors.border?.8:(o.isActive,1),initial:{scale:0,opacity:0},animate:{scale:1,opacity:1},transition:{duration:.6,delay:.8+s*.02,type:"spring",stiffness:400,damping:25},style:{filter:o.isActive?"drop-shadow(0 2px 4px rgba(0,0,0,0.3))":"drop-shadow(0 1px 2px rgba(0,0,0,0.2))"}}),o.isActive&&p.jsx(Ee.circle,{cx:o.x,cy:o.y,r:"0.8",fill:(o.colors.main==="#ffffff","#e5e7eb"),initial:{scale:0},animate:{scale:1},transition:{duration:.3,delay:1.2+s*.02}})]},s))]}),p.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center",children:[p.jsxs(Ee.div,{className:"text-center bg-white/10 backdrop-blur-md rounded-full p-6",initial:{opacity:0,scale:.5},animate:{opacity:1,scale:1},transition:{delay:1,type:"spring",stiffness:200},style:{filter:"drop-shadow(0 4px 6px rgba(0,0,0,0.1))"},children:[p.jsx("span",{className:"text-5xl font-bold text-pink-700 block",children:t.currentDay}),p.jsx("span",{className:"text-sm text-pink-700 font-medium mt-1 block",children:"día del ciclo"})]}),p.jsx(Ee.div,{className:"mt-4 px-4 py-2 bg-white/20 backdrop-blur-sm rounded-full border border-white/30",initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:1.3},style:{filter:"drop-shadow(0 2px 4px rgba(0,0,0,0.1))"},children:p.jsx("span",{className:"text-xs font-semibold text-gray-800",children:t.currentDay<=7?"Menstrual":t.currentDay<=14?"Folicular":t.currentDay<=21?"Ovulatoria":"Lútea"})})]})]})}),p.jsxs(Ee.div,{className:"bg-white/80 backdrop-blur-md rounded-3xl p-6 mb-6 mx-2",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4,delay:.5},style:{filter:"drop-shadow(0 4px 12px rgba(0,0,0,0.1))"},children:[p.jsx("h3",{className:"text-sm font-bold text-gray-800 mb-4 text-center",children:"Símbolos de fertilidad"}),p.jsx("div",{className:"grid grid-cols-2 gap-4",children:[{color:"#ef4444",label:"Menstrual",symbol:"red"},{color:"#f8fafc",label:"Fértil",symbol:"white"},{color:"#22c55e",label:"Infértil",symbol:"green"},{color:"#ec4899",label:"Spotting",symbol:"spot"}].map(o=>p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsxs("div",{className:"relative",children:[p.jsx("div",{className:"w-5 h-5 rounded-full shadow-md",style:{backgroundColor:o.color,border:o.stroke?`1px solid ${o.stroke}`:"1px solid rgba(0,0,0,0.1)"}}),p.jsx("div",{className:"absolute inset-0 rounded-full bg-white",style:{width:"8px",height:"8px",top:"50%",left:"50%",transform:"translate(-50%, -50%)",backgroundColor:o.stroke&&o.color==="#f8fafc"?"#6b7280":"white",opacity:o.color==="#f8fafc"?1:.8}})]}),p.jsx("span",{className:"text-sm font-medium text-gray-800",children:o.label})]},o.symbol))}),p.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-200 flex items-center justify-center gap-3",children:[p.jsx("div",{className:"w-5 h-5 rounded-full bg-[#bfdbfe] shadow-md relative",children:p.jsx("div",{className:"absolute inset-0 rounded-full bg-white w-2 h-2 top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2"})}),p.jsx("span",{className:"text-sm font-medium text-gray-800",children:"Día actual"})]})]}),p.jsxs(Ee.div,{className:"bg-white/60 backdrop-blur-md rounded-3xl p-6 text-sm text-gray-800 mx-2 mb-32",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4,delay:.6},style:{filter:"drop-shadow(0 4px 12px rgba(0,0,0,0.1))"},children:[p.jsxs("h3",{className:"font-bold mb-4 text-gray-900 flex items-center gap-2",children:[p.jsx("div",{className:"w-3 h-3 bg-pink-500 rounded-full shadow-sm"}),"Información del ciclo"]}),p.jsxs("div",{className:"space-y-3",children:[p.jsxs("div",{className:"flex justify-between items-center",children:[p.jsx("span",{className:"font-semibold text-pink-800",children:"CPM:"}),p.jsx("span",{className:"text-gray-600 bg-gray-100 px-3 py-1 rounded-full text-xs",children:"Datos incompletos"})]}),p.jsxs("div",{className:"flex justify-between items-center",children:[p.jsx("span",{className:"font-semibold text-pink-800",children:"T-8:"}),p.jsx("span",{className:"text-gray-600 bg-gray-100 px-3 py-1 rounded-full text-xs",children:"Datos incompletos"})]})]})]})]})]})},Zee=({onAddRecord:t,onAddCycle:e})=>{const[n,r]=m.useState(!1);return p.jsxs("div",{className:"fixed bottom-8 right-6 flex flex-col items-end space-y-4 z-50",children:[n&&p.jsxs(p.Fragment,{children:[p.jsx(Ee.button,{onClick:t,className:"w-14 h-14 rounded-full bg-gradient-to-br from-pink-500 to-rose-500 text-white shadow-xl flex items-center justify-center",whileTap:{scale:.95},whileHover:{scale:1.05},initial:{opacity:0,y:20,scale:.8},animate:{opacity:1,y:0,scale:1},style:{filter:"drop-shadow(0 8px 16px rgba(236, 72, 153, 0.3))"},children:p.jsx(rH,{className:"h-6 w-6"})}),p.jsx(Ee.button,{onClick:e,className:"w-14 h-14 rounded-full bg-gradient-to-br from-purple-500 to-indigo-500 text-white shadow-xl flex items-center justify-center",whileTap:{scale:.95},whileHover:{scale:1.05},initial:{opacity:0,y:20,scale:.8},animate:{opacity:1,y:0,scale:1},style:{filter:"drop-shadow(0 8px 16px rgba(147, 51, 234, 0.3))"},children:p.jsx(Kz,{className:"h-6 w-6"})})]}),p.jsx(Ee.button,{onClick:()=>r(!n),className:"w-16 h-16 bg-gradient-to-br from-pink-500 to-rose-500 text-white rounded-full shadow-xl flex items-center justify-center",whileTap:{scale:.95},whileHover:{scale:1.05},initial:{scale:0},animate:{scale:1},style:{filter:"drop-shadow(0 8px 20px rgba(236, 72, 153, 0.4))"},children:p.jsx(jy,{className:"h-7 w-7"})})]})},ete=()=>{const{currentCycle:t,addOrUpdateDataPoint:e,startNewCycle:n,isLoading:r}=Bu(),[i,o]=m.useState(!1),[s,a]=m.useState(!1);if(Uu(i,()=>o(!1)),r)return p.jsx("div",{className:"min-h-screen bg-gradient-to-br from-rose-50 via-pink-50 to-rose-100 flex items-center justify-center",children:p.jsx("p",{className:"text-center text-gray-600 text-lg",children:"Cargando..."})});if(!(t!=null&&t.id))return p.jsx("div",{className:"min-h-screen bg-gradient-to-br from-rose-50 via-pink-50 to-rose-100 flex items-center justify-center",children:p.jsx("p",{className:"text-center text-gray-600 text-lg",children:"No hay ciclo activo."})});const l=To(Se(new Date),le(t.startDate))+1,c=async u=>{a(!0);try{await e(u),o(!1)}finally{a(!1)}};return p.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-rose-50 via-pink-50 to-rose-100 relative overflow-x-hidden",children:[p.jsx("div",{className:"max-w-md mx-auto",children:p.jsx(Ee.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},transition:{duration:.3},children:p.jsx(Jee,{cycleData:{...t,currentDay:l,records:t.data}})})}),p.jsx($u,{open:i,onOpenChange:u=>o(u),children:p.jsx(Cl,{hideClose:!0,className:"bg-white border-pink-100 text-gray-800 w-[90vw] sm:w-auto max-w-md sm:max-w-lg md:max-w-xl max-h-[85vh] overflow-y-auto p-4 sm:p-6 rounded-2xl",children:p.jsx(X1,{onSubmit:c,onCancel:()=>o(!1),cycleStartDate:t.startDate,cycleEndDate:t.endDate,isProcessing:s})})}),p.jsx(Zee,{onAddRecord:()=>o(!0),onAddCycle:()=>n()})]})},tte=Np("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors",{variants:{variant:{default:"bg-primary text-primary-foreground border-transparent",secondary:"bg-secondary text-secondary-foreground border-transparent",destructive:"bg-destructive text-destructive-foreground border-transparent",outline:"text-foreground"}},defaultVariants:{variant:"default"}}),SM=m.forwardRef(({className:t,variant:e,...n},r)=>p.jsx("div",{ref:r,className:Ue(tte({variant:e}),t),...n}));SM.displayName="Badge";const _f=({isOpen:t,onClose:e,onConfirm:n,initialStartDate:r,initialEndDate:i,includeEndDate:o=!0,title:s="Editar Fechas del Ciclo",description:a})=>{const[l,c]=m.useState(r||""),[u,f]=m.useState(i||""),[h,g]=m.useState("");Uu(t,e),m.useEffect(()=>{c(r||""),f(i||"")},[r,i]);const w=()=>{if(o&&!u){g("La fecha de fin es obligatoria");return}n(o?{startDate:l,endDate:u}:{startDate:l})};return p.jsx($u,{open:t,onOpenChange:e,children:p.jsxs(Cl,{className:"bg-white border-pink-100 text-gray-800",children:[p.jsxs(nm,{children:[p.jsx(im,{children:s}),p.jsx(om,{className:"text-gray-600",children:a??(o?"Modifica la fecha de inicio y fin del ciclo.":"Modifica la fecha de inicio del ciclo.")})]}),p.jsxs("div",{className:"my-4 space-y-4",children:[p.jsxs("div",{children:[p.jsx("label",{htmlFor:"startDate",className:"text-gray-700 text-sm",children:"Inicio del ciclo"}),p.jsx(Vn,{id:"startDate",type:"date",value:l,onChange:y=>c(y.target.value),className:"bg-gray-50 border-gray-200 text-gray-800"})]}),o&&p.jsxs("div",{children:[p.jsx("label",{htmlFor:"endDate",className:"text-gray-700 text-sm",children:"Fin del ciclo"}),p.jsx(Vn,{id:"endDate",type:"date",value:u||"",onChange:y=>{f(y.target.value),g("")},className:"bg-gray-50 border-gray-200 text-gray-800"}),h&&p.jsx("p",{className:"text-red-500 text-sm mt-1",children:h})]})]}),p.jsxs(rm,{className:"sm:justify-end",children:[p.jsx(be,{variant:"outline",onClick:e,className:"border-gray-300 text-gray-700 hover:bg-gray-100",children:"Cancelar"}),p.jsx(be,{variant:"primary",onClick:w,className:"bg-pink-600 hover:bg-pink-700 text-white",children:"Guardar"})]})]})})},nte=()=>{const{currentCycle:t,archivedCycles:e,isLoading:n,addArchivedCycle:r,updateCycleDates:i,deleteCycle:o}=Bu(),[s,a]=m.useState(!1),[l,c]=m.useState(null),u=async({startDate:y,endDate:b})=>{try{await r(y,b),a(!1)}catch{}},f=async({startDate:y,endDate:b})=>{if(l)try{await i(l.id,y,b),c(null)}catch{}},h=y=>{window.confirm("¿Eliminar este ciclo?")&&o(y)},g=t.id?[{...t,isCurrent:!0,needsCompletion:!t.endDate},...e]:e;if(n)return p.jsx("div",{className:"text-center text-slate-300 p-8",children:"Cargando ciclos archivados..."});if(!g||g.length===0)return p.jsxs(Ee.div,{className:"text-center text-slate-400 py-10 flex flex-col items-center",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:[p.jsx(U2,{className:"w-24 h-24 text-slate-500 mb-6"}),p.jsx("h2",{className:"text-2xl font-semibold text-slate-200 mb-4",children:"No hay ciclos archivados"}),p.jsx("p",{className:"text-lg",children:"Cuando inicies un nuevo ciclo, el anterior aparecerá aquí."}),p.jsxs("div",{className:"flex gap-4 mt-8",children:[p.jsx(be,{asChild:!0,className:"bg-gradient-to-r from-pink-500 to-fuchsia-600 hover:from-pink-600 hover:to-fuchsia-700 text-white",children:p.jsx(Qf,{to:"/",children:"Volver al Ciclo Actual"})}),p.jsxs(be,{onClick:()=>a(!0),className:"bg-pink-600 hover:bg-pink-700 text-white",children:[p.jsx(jy,{className:"mr-2 h-4 w-4"})," Crear Ciclo"]})]}),p.jsx(_f,{isOpen:s,onClose:()=>a(!1),onConfirm:u,title:"Añadir Ciclo Anterior",description:"Ingresa las fechas de un ciclo previo para añadir registros."})]});const w=[...g].sort((y,b)=>le(b.startDate)-le(y.startDate));return p.jsxs("div",{className:"w-full max-w-4xl mx-auto",children:[p.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center mb-8",children:[p.jsx(Ee.h1,{className:"text-3xl sm:text-4xl font-bold text-slate-500 mb-4 sm:mb-0",initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5},children:"Mis Ciclos"}),p.jsxs(be,{onClick:()=>a(!0),className:"bg-pink-600 hover:bg-pink-700 text-white",children:[p.jsx(jy,{className:"mr-2 h-4 w-4"})," Añadir Ciclo"]})]}),p.jsx(Ee.ul,{className:"space-y-6",variants:{hidden:{opacity:0},show:{opacity:1,transition:{staggerChildren:.1}}},initial:"hidden",animate:"show",children:w.map(y=>{const b=y.endDate?Te(le(y.endDate),"dd MMM yyyy",{locale:rl}):"Sin fecha fin",x=y.data?y.data.length:0;return y.needsCompletion,p.jsx(Ee.li,{className:"bg-white/70 backdrop-blur-md ring-1 ring-[#FFB1DD]/50 shadow-xl rounded-xl p-6 hover:shadow-2xl transition-shadow duration-300",variants:{hidden:{opacity:0,y:20},show:{opacity:1,y:0}},children:p.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center",children:[p.jsxs("div",{children:[p.jsxs("h2",{className:"text-xl font-semibold text-pink-400 mb-1",children:["Ciclo: ",Te(le(y.startDate),"dd MMM yyyy",{locale:rl})," - ",b,y.isCurrent&&p.jsx(SM,{className:"ml-2 bg-pink-500 text-white",children:"Ciclo actual"})]}),p.jsxs("p",{className:"text-sm text-slate-400",children:[x," registro",x!==1?"s":""]})]}),p.jsxs("div",{className:"flex gap-2 mt-4 sm:mt-0",children:[p.jsx(be,{asChild:!0,variant:"outline",className:"border-pink-500 text-pink-400 hover:bg-pink-500/20 hover:text-pink-300",children:p.jsxs(Qf,{to:y.isCurrent?"/":`/cycle/${y.id}`,children:[p.jsx(lu,{className:"mr-2 h-4 w-4"})," Ver"]})}),p.jsxs(be,{variant:"destructive",onClick:()=>h(y.id),children:[p.jsx(Ih,{className:"mr-2 h-4 w-4"})," Eliminar"]})]})]})},y.id)})}),p.jsx(_f,{isOpen:s,onClose:()=>a(!1),onConfirm:u,title:"Añadir Ciclo Anterior",description:"Ingresa las fechas de un ciclo previo para añadir registros."}),p.jsx(_f,{isOpen:!!l,onClose:()=>c(null),onConfirm:f,initialStartDate:l==null?void 0:l.startDate,initialEndDate:l==null?void 0:l.endDate,title:"Editar Fechas del Ciclo",description:"Actualiza las fechas del ciclo."})]})},rte=({padding:t,chartWidth:e,chartHeight:n,tempMin:r,tempMax:i,tempRange:o,getY:s,getX:a,allDataPoints:l=[],responsiveFontSize:c,isFullScreen:u,showLeftLabels:f=!0})=>{const h={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.3,ease:"easeOut"}}},g=[];if(o>0){const w=o<=2.5?.1:.5;for(let y=r;y<=i+1e-9;y+=w)g.push(parseFloat(y.toFixed(1)))}else for(let w=35;w<=37.5+1e-9;w+=.5)g.push(parseFloat(w.toFixed(1)));return p.jsxs(p.Fragment,{children:[p.jsxs("defs",{children:[p.jsxs("linearGradient",{id:"bgGradient",x1:"0%",y1:"0%",x2:"0%",y2:"100%",children:[p.jsx("stop",{offset:"0%",stopColor:"rgba(252, 231, 243, 0.3)"}),p.jsx("stop",{offset:"50%",stopColor:"rgba(255, 255, 255, 0.8)"}),p.jsx("stop",{offset:"100%",stopColor:"rgba(252, 231, 243, 0.2)"})]}),p.jsxs("filter",{id:"softGlow",x:"-50%",y:"-50%",width:"200%",height:"200%",children:[p.jsx("feGaussianBlur",{stdDeviation:"1",result:"coloredBlur"}),p.jsxs("feMerge",{children:[p.jsx("feMergeNode",{in:"coloredBlur"}),p.jsx("feMergeNode",{in:"SourceGraphic"})]})]})]}),p.jsx("rect",{x:t.left,y:t.top,width:e-t.left-t.right,height:n-t.top-t.bottom,fill:"url(#bgGradient)",opacity:.4}),g.map((w,y)=>{const b=s(w),x=w.toFixed(1).endsWith(".0")||w.toFixed(1).endsWith(".5"),v=x?w.toFixed(1):`.${w.toFixed(1).split(".")[1]}`;return p.jsxs(Ee.g,{variants:h,children:[p.jsx("line",{x1:t.left,y1:b,x2:e-t.right,y2:b,stroke:x?"rgba(244, 114, 182, 0.25)":"rgba(244, 114, 182, 0.15)",strokeWidth:x?1.5:1,strokeDasharray:x?"0":"3,3",style:{filter:x?"drop-shadow(0 1px 2px rgba(244, 114, 182, 0.1))":"none"}}),f&&p.jsx("text",{x:t.left-c(1),y:b+c(.35),textAnchor:"end",fontSize:c(x?1:.9),fontWeight:x?"600":"500",fill:x?"#E91E63":"#EC4899",style:{filter:"drop-shadow(0 1px 1px rgba(255, 255, 255, 0.8))",fontFamily:'-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif'},children:v}),p.jsx("text",{x:e-t.right+c(1),y:b+c(.35),textAnchor:"start",fontSize:c(x?1:.9),fontWeight:x?"600":"500",fill:x?"#E91E63":"#EC4899",style:{filter:"drop-shadow(0 1px 1px rgba(255, 255, 255, 0.8))",fontFamily:'-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif'},children:v})]},`temp-tick-${y}`)}),l.map((w,y)=>{const b=a(y);return p.jsx("line",{x1:b,y1:t.top,x2:b,y2:n-t.bottom,stroke:"rgba(244, 114, 182, 0.12)",strokeWidth:.8,style:{filter:"drop-shadow(0 0 1px rgba(244, 114, 182, 0.1))"}},`day-grid-${y}`)}),f&&p.jsxs(Ee.g,{variants:h,children:[p.jsx("rect",{x:t.left-c(.2),y:t.top-c(.2),width:c(2.8),height:c(2),rx:c(.3),fill:"rgba(244, 114, 182, 0.1)",stroke:"rgba(244, 114, 182, 0.2)",strokeWidth:.5}),p.jsx("text",{x:t.left+c(1.2),y:t.top+c(1.1),textAnchor:"middle",fontSize:c(1.3),fontWeight:"700",fill:"#E91E63",style:{filter:"drop-shadow(0 1px 2px rgba(255, 255, 255, 0.8))",fontFamily:'-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif'},children:"°C"})]}),p.jsx("rect",{x:t.left,y:t.top,width:e-t.left-t.right,height:n-t.top-t.bottom,fill:"none",stroke:"rgba(244, 114, 182, 0.2)",strokeWidth:1.5,rx:8,style:{filter:"drop-shadow(0 2px 4px rgba(244, 114, 182, 0.1))"}})]})},ite=({data:t,allDataPoints:e,getX:n,getY:r,baselineY:i,temperatureField:o="temperature"})=>{if(!t||t.length<2)return null;let s="",a=null;return e.forEach((l,c)=>{const u=t.find(f=>f.id===l.id);if(u&&u[o]!==null&&u[o]!==void 0&&!u.ignored){const f=n(c),h=r(u[o]);a!==null&&c===a+1?s+=` L ${f} ${h}`:s+=`${s?" ":""}M ${f} ${h}`,a=c}}),s.includes("L")?p.jsx(p.Fragment,{children:p.jsx(Ee.path,{d:s,fill:"none",stroke:"url(#tempLineGradientChart)",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round",initial:{pathLength:0,opacity:0},animate:{pathLength:1,opacity:1},transition:{duration:.2,ease:"easeInOut"}})}):null},nS="#1E40AF",rS="#059669",iS="#BE185D",ote="rgba(30, 64, 175, 0.08)",ste="rgba(5, 150, 105, 0.08)",ate="rgba(190, 24, 93, 0.08)",lte=t=>{if(!t)return"";const[e,n]=t.split("/");return`${parseInt(e,10)}/${parseInt(n,10)}`},Yg=(t="",e,n,r="–")=>{if(!t)return[r,""];if(t.length<=e)return[t,""];if(n)return[t.slice(0,e),""];const i=t.indexOf(" ",e);return i===-1?[t.slice(0,e),t.slice(e)]:[t.slice(0,i),t.slice(i+1)]},Kg=(t="",e,n="–")=>t?t.split(/\s+/).slice(0,e).join(" "):n,cte=({data:t,getX:e,getY:n,isFullScreen:r,orientation:i,responsiveFontSize:o,onPointInteraction:s,clearActivePoint:a,activePoint:l,padding:c,chartHeight:u,chartWidth:f,temperatureField:h="temperature_chart",textRowHeight:g})=>{const w={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.4,ease:"easeOut"}}},y={hidden:{opacity:0,scale:.5},visible:{opacity:1,scale:1,transition:{duration:.5,ease:"easeOut",type:"spring",stiffness:100}}},b=u-c.bottom,x=b+g*1,v=b+g*2,E=b+g*3,S=b+g*(r?5:4.5),R=b+g*(r?7:6),D=b+g*(r?9:7.5),P=f-c.left-c.right,C=g*(r?2:1.5);return p.jsxs(p.Fragment,{children:[p.jsxs("defs",{children:[p.jsx("filter",{id:"rowShadow",x:"-10%",y:"-10%",width:"120%",height:"120%",children:p.jsx("feDropShadow",{dx:"0",dy:"1",stdDeviation:"2",floodColor:"rgba(244, 114, 182, 0.15)"})}),p.jsxs("linearGradient",{id:"sensationGradient",x1:"0%",y1:"0%",x2:"100%",y2:"0%",children:[p.jsx("stop",{offset:"0%",stopColor:ote}),p.jsx("stop",{offset:"100%",stopColor:"rgba(30, 64, 175, 0.02)"})]}),p.jsxs("linearGradient",{id:"appearanceGradient",x1:"0%",y1:"0%",x2:"100%",y2:"0%",children:[p.jsx("stop",{offset:"0%",stopColor:ste}),p.jsx("stop",{offset:"100%",stopColor:"rgba(5, 150, 105, 0.02)"})]}),p.jsxs("linearGradient",{id:"observationGradient",x1:"0%",y1:"0%",x2:"100%",y2:"0%",children:[p.jsx("stop",{offset:"0%",stopColor:ate}),p.jsx("stop",{offset:"100%",stopColor:"rgba(190, 24, 93, 0.02)"})]})]}),p.jsxs("g",{children:[p.jsx("rect",{x:c.left,y:S-C/2,width:P,height:C,fill:"url(#sensationGradient)",rx:6,style:{filter:"url(#rowShadow)"}}),p.jsx("rect",{x:c.left,y:R-C/2,width:P,height:C,fill:"url(#appearanceGradient)",rx:6,style:{filter:"url(#rowShadow)"}}),p.jsx("rect",{x:c.left,y:D-C/2,width:P,height:C,fill:"url(#observationGradient)",rx:6,style:{filter:"url(#rowShadow)"}})]}),(!r||i!=="portrait")&&p.jsx(Ee.g,{variants:w,children:[{label:"Fecha",row:1,color:r?"#374151":"#6B7280"},{label:"Día",row:2,color:r?"#374151":"#6B7280"},{label:"Símbolo",row:3,color:r?"#374151":"#6B7280"},{label:"Sens.",row:r?5:4.5,color:nS},{label:"Apar.",row:r?7:6,color:rS},{label:"Observ.",row:r?9:7.5,color:iS}].map(({label:I,row:A,color:M})=>p.jsx("text",{x:c.left-o(1.5),y:b+g*A,textAnchor:"end",fontSize:o(.95),fontWeight:"600",fill:M,style:{filter:"drop-shadow(0 1px 1px rgba(255, 255, 255, 0.8))",fontFamily:'-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif'},children:I},I))}),t.map((I,A)=>{const M=e(A),O=I[h]!=null?n(I[h]):b,N=r?"#374151":"#6B7280",F=I[h]!=null,G=F||I.mucus_sensation||I.mucus_appearance||I.fertility_symbol,K=String(I.id||"").startsWith("placeholder-"),W=!G||K?{}:{pointerEvents:"all",style:{cursor:"pointer"},onMouseEnter:ee=>s(I,A,ee),onClick:ee=>s(I,A,ee)},L=Q1(I.fertility_symbol);let j="transparent";if(L!=null&&L.color){const ee=L.color.replace(/^bg-/,"");ee==="red-500"?j="#ef4444":ee==="white"?j="#ffffff":ee==="green-500"?j="#22c55e":ee==="pink-300"&&(j="#f9a8d4")}const U=o(r?1.4:1.6),z=I.isoDate?kh(Se(le(I.isoDate)),Se(new Date)):!1,B=r?4:9,H=2,[Z,ie]=Yg(r?Kg(I.mucus_sensation,H,z?"":"–"):I.mucus_sensation,B,!1,z?"":"–"),[ce,J]=Yg(r?Kg(I.mucus_appearance,H,z?"":"–"):I.mucus_appearance,B,!1,z?"":"–"),[re,te]=Yg(r?Kg(I.observations,H,""):I.observations,B,!1,"");return p.jsxs(Ee.g,{variants:w,...W,children:[F&&p.jsxs(Ee.g,{variants:y,children:[p.jsx("circle",{cx:M,cy:O,r:8,fill:"rgba(244, 114, 182, 0.15)",opacity:.6}),p.jsx("circle",{cx:M,cy:O,r:5,fill:I.ignored?"white":"url(#tempPointGradient)",stroke:I.use_corrected?"#F59E0B":"#E91E63",strokeWidth:I.ignored?2:2.5,style:{filter:"drop-shadow(0 2px 4px rgba(244, 114, 182, 0.3))",cursor:"pointer"},pointerEvents:"all",onMouseEnter:ee=>s(I,A,ee),onTouchStart:ee=>s(I,A,ee),onClick:ee=>s(I,A,ee)}),!I.ignored&&p.jsx("circle",{cx:M,cy:O,r:2,fill:"rgba(255, 255, 255, 0.8)"})]}),p.jsx("defs",{children:p.jsxs("radialGradient",{id:"tempPointGradient",cx:"30%",cy:"30%",children:[p.jsx("stop",{offset:"0%",stopColor:"#F472B6"}),p.jsx("stop",{offset:"70%",stopColor:"#E91E63"}),p.jsx("stop",{offset:"100%",stopColor:"#C2185B"})]})}),p.jsx("text",{x:M,y:x,textAnchor:"middle",fontSize:o(.95),fontWeight:"600",fill:N,style:{fontFamily:'-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif'},children:lte(I.date)}),p.jsx("text",{x:M,y:v,textAnchor:"middle",fontSize:o(.9),fontWeight:"500",fill:N,style:{fontFamily:'-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif'},children:I.cycleDay}),!K&&(L.value!=="none"?p.jsx("rect",{x:M-U/2,y:E-U*.75,width:U,height:U,fill:L.pattern==="spotting-pattern"?"url(#spotting-pattern-chart)":j,stroke:L.value==="white"?"#E91E63":"rgba(233, 30, 99, 0.3)",strokeWidth:L.value==="white"?1.5:1,rx:U*.25,style:{filter:"drop-shadow(0 1px 2px rgba(244, 114, 182, 0.2))"}}):p.jsx("text",{x:M,y:E,textAnchor:"middle",fontSize:o(.9),fill:N,fontWeight:"400",children:"–"})),p.jsxs("text",{x:M,y:S,textAnchor:"middle",fontSize:o(.85),fontWeight:"600",fill:nS,style:{fontFamily:'-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif'},children:[p.jsx("tspan",{x:M,dy:0,children:Z}),ie&&p.jsx("tspan",{x:M,dy:o(1),children:ie})]}),p.jsxs("text",{x:M,y:R,textAnchor:"middle",fontSize:o(.85),fontWeight:"600",fill:rS,style:{fontFamily:'-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif'},children:[p.jsx("tspan",{x:M,dy:0,children:ce}),J&&p.jsx("tspan",{x:M,dy:o(1),children:J})]}),p.jsxs("text",{x:M,y:D,textAnchor:"middle",fontSize:o(.85),fontWeight:"600",fill:iS,style:{fontFamily:'-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif'},children:[p.jsx("tspan",{x:M,dy:0,children:re}),te&&p.jsx("tspan",{x:M,dy:o(1),children:te})]})]},`pt-${A}-${I.isoDate||I.timestamp}`)})]})},ute=({point:t,position:e,chartWidth:n,chartHeight:r,onToggleIgnore:i,onEdit:o,onClose:s})=>{if(!t)return null;const a=130,l=120;let c=e.clientX+10,u=e.clientY+10;c+a>n&&(c=e.clientX-a-10),u+l>r&&(u=e.clientY-l-10),c<0&&(c=5),u<0&&(u=5);const f=t.temperature_chart,h=Q1(t.fertility_symbol),g=t.timestamp||t.isoDate;return p.jsxs(Ee.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},transition:{duration:.15},className:"absolute bg-white/80 border border-[#E27DBF] text-[#1F2937] p-2 rounded-lg shadow z-50",style:{top:u,left:c,width:a,minHeight:l},children:[p.jsx(be,{variant:"ghost",size:"icon",onClick:s,className:"absolute top-1 right-1 text-[#E27DBF] hover:bg-[#FFB1DD]",children:p.jsx(cu,{size:16})}),p.jsxs("p",{className:"font-semibold text-sm text-[#E27DBF] mb-1",children:[g?Te(le(g),"d/M",{locale:rl}):"Fecha",` (Día ${t.cycleDay||"N/A"})`]}),f!=null&&p.jsxs("p",{className:"text-xs mb-1",children:[p.jsx("span",{className:"font-medium",children:"T:"})," ",parseFloat(f).toFixed(2),"°C",t.use_corrected&&p.jsx("span",{className:"inline-block ml-1 align-middle text-[#FF0000]",children:"·"})]}),p.jsxs("div",{className:"flex items-center mb-1",children:[h&&h.value!=="none"&&p.jsx("span",{className:`w-3 h-3 rounded-full mr-1 ${h.color} ${h.pattern?"pattern-bg":""} ${h.value==="white"?"border border-gray-300":""}`}),p.jsx("p",{className:"text-xs",children:h?h.label:"-"})]}),p.jsxs("p",{className:"text-xs mb-1",children:[p.jsx("span",{className:"font-medium",children:"Sens.:"})," ",t.mucus_sensation||"-"]}),p.jsxs("p",{className:"text-xs",children:[p.jsx("span",{className:"font-medium",children:"Apar.:"})," ",t.mucus_appearance||"-"]}),t.id&&!String(t.id).startsWith("placeholder-")&&p.jsxs("div",{className:"flex justify-center space-x-1 mt-1",children:[p.jsx(be,{onClick:()=>{o&&o(t),s&&s()},variant:"outline",size:"icon",className:"text-[#393C65] hover:text-[#E27DBF] hover:bg-[#E27DBF]/10 ",children:p.jsx(Vy,{className:"h-4 w-4"})}),p.jsx(be,{onClick:()=>i(t.id),variant:t.ignored?"outline":"destructive",size:"icon",className:"hover:bg-[#FFB1DD]/20",children:t.ignored?p.jsx(lu,{className:"h-4 w-4"}):p.jsx(f1,{className:"h-4 w-4"})})]})]})},dte="#1E40AF",fte="#059669",hte="#BE185D",pte=({padding:t,chartHeight:e,tempMin:n,tempMax:r,tempRange:i,getY:o,responsiveFontSize:s,textRowHeight:a,isFullScreen:l})=>{const c={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.4,ease:"easeOut"}}},u=[];if(i>0){const h=i<=2.5?.1:.5;for(let g=n;g<=r+1e-9;g+=h)u.push(parseFloat(g.toFixed(1)))}else for(let h=35;h<=37.5+1e-9;h+=.5)u.push(parseFloat(h.toFixed(1)));const f=e-t.bottom;return p.jsxs("svg",{width:t.left,height:e,className:"font-sans pointer-events-none",children:[p.jsxs("defs",{children:[p.jsxs("linearGradient",{id:"legendBgGradient",x1:"0%",y1:"0%",x2:"100%",y2:"0%",children:[p.jsx("stop",{offset:"0%",stopColor:"rgba(255, 255, 255, 0.95)"}),p.jsx("stop",{offset:"100%",stopColor:"rgba(252, 231, 243, 0.8)"})]}),p.jsx("filter",{id:"legendShadow",x:"-20%",y:"-20%",width:"140%",height:"140%",children:p.jsx("feDropShadow",{dx:"2",dy:"2",stdDeviation:"3",floodColor:"rgba(244, 114, 182, 0.15)"})})]}),p.jsx("rect",{x:0,y:f+a*.5,width:t.left,height:a*(l?9.5:8),fill:"url(#legendBgGradient)",rx:8,style:{filter:"url(#legendShadow)"}}),u.map((h,g)=>{const w=o(h),y=h.toFixed(1).endsWith(".0")||h.toFixed(1).endsWith(".5"),b=y?h.toFixed(1):`.${h.toFixed(1).split(".")[1]}`;return p.jsx(Ee.text,{variants:c,x:t.left-s(1),y:w+s(.35),textAnchor:"end",fontSize:s(y?1:.9),fontWeight:y?"600":"500",fill:y?"#E91E63":"#EC4899",style:{filter:"drop-shadow(0 1px 1px rgba(255, 255, 255, 0.8))",fontFamily:'-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif'},children:b},`temp-tick-fixed-${g}`)}),p.jsxs(Ee.g,{variants:c,children:[p.jsx("rect",{x:t.left-s(.3),y:t.top-s(.3),width:s(3),height:s(2.2),rx:s(.4),fill:"rgba(244, 114, 182, 0.12)",stroke:"rgba(244, 114, 182, 0.25)",strokeWidth:1,style:{filter:"drop-shadow(0 2px 4px rgba(244, 114, 182, 0.1))"}}),p.jsx("text",{x:t.left+s(1.2),y:t.top+s(1.2),textAnchor:"middle",fontSize:s(1.4),fontWeight:"700",fill:"#E91E63",style:{filter:"drop-shadow(0 1px 2px rgba(255, 255, 255, 0.8))",fontFamily:'-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif'},children:"°C"})]}),p.jsx(Ee.g,{variants:c,children:[{label:"Fecha",row:1,color:l?"#374151":"#6B7280"},{label:"Día",row:2,color:l?"#374151":"#6B7280"},{label:"Símbolo",row:3,color:l?"#374151":"#6B7280"},{label:"Sens.",row:l?5:4.5,color:dte},{label:"Apar.",row:l?7:6,color:fte},{label:"Observ.",row:l?9:7.5,color:hte}].map(({label:h,row:g,color:w})=>p.jsx("text",{x:t.left-s(1.5),y:f+a*g,textAnchor:"end",fontSize:s(.95),fontWeight:"600",fill:w,style:{filter:"drop-shadow(0 1px 1px rgba(255, 255, 255, 0.8))",fontFamily:'-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif'},children:h},h))})]})},oS=35.5,sS=37.5,mte=(t,e,n,r,i,o=5)=>{const s=m.useRef(null),a=m.useRef(null),[l,c]=m.useState({width:600,height:400}),[u,f]=m.useState(null),[h,g]=m.useState({x:0,y:0}),w=m.useMemo(()=>t.map(j=>({...j,displayTemperature:j.temperature_chart})),[t]);m.useEffect(()=>{const j=()=>{if(!s.current)return;let z=s.current.clientWidth>0?s.current.clientWidth:600,B,H;if(e)if(z=window.innerWidth,n==="portrait"){const Z=Math.max(30,z*.05);B=(z-Z)/o*t.length,H=window.innerHeight}else B=z/o*t.length,H=window.innerHeight;else B=z/o*t.length,H=450;c({width:B,height:H})};j(),window.addEventListener("resize",j);let U;return e&&s.current&&(U=new ResizeObserver(j),U.observe(document.documentElement)),()=>{window.removeEventListener("resize",j),U&&U.disconnect()}},[e,t.length,o,n]);const y=m.useMemo(()=>w.filter(j=>j&&j.isoDate&&!j.ignored&&j.displayTemperature!==null&&j.displayTemperature!==void 0),[w]),b=m.useMemo(()=>w.filter(j=>j&&j.isoDate),[w]),{baselineTemp:x,baselineStartIndex:v}=m.useMemo(()=>{const j=U=>U&&U.displayTemperature!=null&&!U.ignored;for(let U=0;U<w.length;U++){const z=w[U];if(!j(z))continue;const B=[];for(let H=U-1;H>=0&&B.length<6;H--){const Z=w[H];j(Z)&&B.unshift({index:H,temp:Z.displayTemperature})}if(!(B.length<6)&&B.every(H=>H.temp<z.displayTemperature)){const H=Math.max(...B.map(ie=>ie.temp)),Z=B.find(ie=>ie.temp===H).index;return{baselineTemp:H,baselineStartIndex:Z}}}return{baselineTemp:null,baselineStartIndex:null}},[w]),{tempMin:E,tempMax:S}=m.useMemo(()=>{const j=y.map(B=>B.displayTemperature).filter(B=>B!=null);if(j.length===0)return{tempMin:oS,tempMax:sS};let U=Math.min(...j,oS),z=Math.max(...j,sS);if(U=Math.floor(U*2)/2,z=Math.ceil(z*2)/2,z-U<2){const B=(U+z)/2;U=B-1,z=B+1}return{tempMin:U,tempMax:z}},[y]),R=S-E,D=l.width,P=l.height,C=9,I=(j=1)=>{if(!e)return C*j;const U=Math.min(D,P);return Math.max(8,Math.min(C*j,U/(b.length>0?40/j:40)))},A=I(e?1.5:1.8),O=A*5,N={top:e?Math.max(20,P*.05):20,right:e?Math.max(30,D*.05):50,bottom:(e?Math.max(60,P*.2):60)+O,left:e?Math.max(30,D*.05):50},F=j=>{if(j==null||R===0)return P-N.bottom;const U=P-N.top-N.bottom;return U<=0?P-N.bottom:P-N.bottom-(j-E)/R*U},G=j=>{const U=e?10:20,z=e?25:0,B=D-N.left-N.right-U-z*(b.length-1);if(B<=0)return N.left+U+z*j;const H=b.length>1?b.length-1:1;return H===0||b.length===0?N.left+U+z*j:N.left+U+j*(B/(b.length===1?1:H))+z*j},K=(j,U,z)=>{if(!j||String(j.id).startsWith("placeholder-")){W();return}const B=s.current.getBoundingClientRect();let H,Z;if(z.type.startsWith("touch")){const J=z.changedTouches[0];H=J.clientX,Z=J.clientY}else H=z.clientX,Z=z.clientY;const ie=G(U),ce=F(j.displayTemperature);g({svgX:ie,svgY:ce,clientX:H-B.left+s.current.scrollLeft,clientY:Z-B.top+s.current.scrollTop}),f(j)};m.useEffect(()=>{const j=U=>{var z;if(a.current&&!a.current.contains(U.target)){const B=(z=s.current)==null?void 0:z.querySelectorAll("circle, text, rect");let H=!1;if(B){for(let Z of B)if(Z.contains(U.target)){H=!0;break}}H||f(null)}};return u&&(document.addEventListener("mousedown",j),document.addEventListener("touchstart",j)),()=>{document.removeEventListener("mousedown",j),document.removeEventListener("touchstart",j)}},[u]);const W=()=>{f(null)};return{chartRef:s,tooltipRef:a,dimensions:l,activePoint:u,tooltipPosition:h,processedData:w,validDataForLine:y,allDataPoints:b,tempMin:E,tempMax:S,tempRange:R,padding:N,textRowHeight:A,setActivePoint:f,getY:F,getX:G,handlePointInteraction:K,clearActivePoint:W,handleToggleIgnore:j=>{r&&j&&(r(i,j),f(null))},responsiveFontSize:I,baselineTemp:x,baselineStartIndex:v}},PM=({data:t,isFullScreen:e,orientation:n,onToggleIgnore:r,onEdit:i,cycleId:o,initialScrollIndex:s=0,visibleDays:a=5,showInterpretation:l=!1})=>{const{chartRef:c,tooltipRef:u,dimensions:f,activePoint:h,tooltipPosition:g,allDataPoints:w,validDataForLine:y,tempMin:b,tempMax:x,tempRange:v,padding:E,textRowHeight:S,getY:R,getX:D,handlePointInteraction:P,handleToggleIgnore:C,responsiveFontSize:I,clearActivePoint:A,setActivePoint:M,baselineTemp:O,baselineStartIndex:N}=mte(t,e,n,r,o,a);if(!w||w.length===0)return p.jsxs("div",{className:"text-center p-8",children:[p.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-gradient-to-br from-pink-100 to-rose-100 rounded-full mb-4",children:p.jsx("svg",{className:"w-8 h-8 text-pink-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})})}),p.jsx("p",{className:"text-slate-400 font-medium",children:"No hay datos para mostrar en el gráfico"})]});const F=f.width,G=f.height,K=O!=null?R(O):null,W=O!=null?D(N):null,L={hidden:{opacity:0,y:20},visible:{opacity:1,y:0}},j={hidden:{opacity:0,scale:.95},visible:{opacity:1,scale:1}};return m.useEffect(()=>{if(!c.current)return;const U=c.current.clientWidth/a;c.current.scrollLeft=Math.max(0,U*s)},[s,a,f.width,n]),p.jsxs(Ee.div,{className:"relative",variants:L,initial:"hidden",animate:"visible",children:[(!e||n==="portrait")&&p.jsx("div",{className:"absolute left-0 top-0 h-full bg-transparent pointer-events-none z-10",style:{width:E.left},children:p.jsx(pte,{padding:E,chartHeight:G,tempMin:b,tempMax:x,tempRange:v,getY:R,responsiveFontSize:I,textRowHeight:S,isFullScreen:e})}),p.jsxs(Ee.div,{ref:c,className:`relative p-0 rounded-2xl ${e?"w-full h-full bg-gradient-to-br from-white via-pink-50/30 to-rose-50/20 flex items-center justify-start overflow-x-auto overflow-y-hidden":"bg-gradient-to-br from-white via-pink-50/30 to-rose-50/20 overflow-x-auto overflow-y-hidden border border-pink-100/50"}`,style:{boxShadow:e?"inset 0 1px 3px rgba(244, 114, 182, 0.1)":"0 8px 32px rgba(244, 114, 182, 0.12), 0 2px 8px rgba(244, 114, 182, 0.08)"},variants:j,children:[p.jsxs(Ee.svg,{width:F,height:G,className:"font-sans flex-shrink-0",viewBox:`0 0 ${F} ${G}`,preserveAspectRatio:"xMidYMid meet",children:[p.jsxs("defs",{children:[p.jsxs("linearGradient",{id:"tempLineGradientChart",x1:"0%",y1:"0%",x2:"100%",y2:"0%",children:[p.jsx("stop",{offset:"0%",stopColor:"#F472B6"}),p.jsx("stop",{offset:"50%",stopColor:"#EC4899"}),p.jsx("stop",{offset:"100%",stopColor:"#E91E63"})]}),p.jsxs("linearGradient",{id:"tempAreaGradientChart",x1:"0%",y1:"0%",x2:"0%",y2:"100%",children:[p.jsx("stop",{offset:"0%",stopColor:"rgba(244,114,182,0.25)"}),p.jsx("stop",{offset:"50%",stopColor:"rgba(236,72,153,0.15)"}),p.jsx("stop",{offset:"100%",stopColor:"rgba(233,30,99,0.05)"})]}),p.jsxs("pattern",{id:"spotting-pattern-chart",patternUnits:"userSpaceOnUse",width:"8",height:"8",children:[p.jsx("circle",{cx:"2",cy:"2",r:"1.5",fill:"rgba(239,68,68,0.8)"}),p.jsx("circle",{cx:"6",cy:"6",r:"1.5",fill:"rgba(239,68,68,0.6)"})]}),p.jsxs("filter",{id:"chartShadow",x:"-50%",y:"-50%",width:"200%",height:"200%",children:[p.jsx("feGaussianBlur",{stdDeviation:"2",result:"coloredBlur"}),p.jsxs("feMerge",{children:[p.jsx("feMergeNode",{in:"coloredBlur"}),p.jsx("feMergeNode",{in:"SourceGraphic"})]})]}),p.jsxs("filter",{id:"baselineGlow",x:"-50%",y:"-50%",width:"200%",height:"200%",children:[p.jsx("feGaussianBlur",{stdDeviation:"1.5",result:"coloredBlur"}),p.jsxs("feMerge",{children:[p.jsx("feMergeNode",{in:"coloredBlur"}),p.jsx("feMergeNode",{in:"SourceGraphic"})]})]})]}),p.jsx("rect",{width:"100%",height:"100%",fill:"transparent"}),p.jsx(rte,{padding:E,chartWidth:F,chartHeight:G,tempMin:b,tempMax:x,tempRange:v,getY:R,getX:D,allDataPoints:w,responsiveFontSize:I,isFullScreen:e,showLeftLabels:e&&n==="landscape"}),p.jsx(ite,{data:y,allDataPoints:w,getX:D,getY:R,baselineY:G-E.bottom,temperatureField:"displayTemperature"}),l&&O!=null&&p.jsx(Ee.line,{x1:W,y1:K,x2:F-E.right,y2:K,stroke:"#F59E0B",strokeWidth:3,strokeDasharray:"6 4",style:{filter:"url(#baselineGlow)"},initial:{opacity:0,pathLength:0},animate:{opacity:1,pathLength:1},transition:{duration:1,ease:"easeInOut"}}),p.jsx(cte,{data:w,getX:D,getY:R,isFullScreen:e,orientation:n,responsiveFontSize:I,onPointInteraction:P,clearActivePoint:A,activePoint:h,padding:E,chartHeight:G,chartWidth:F,temperatureField:"displayTemperature",textRowHeight:S})]}),h&&p.jsx(Ee.div,{ref:u,initial:{opacity:0,scale:.9,y:10},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.9,y:10},transition:{duration:.2,ease:"easeOut"},children:p.jsx(ute,{point:h,position:g,chartWidth:F,chartHeight:G,onToggleIgnore:C,onEdit:i,onClose:A})})]})]})};var gte=m.createContext(void 0);function vte(t){const e=m.useContext(gte);return t||e||"ltr"}function yte(t,[e,n]){return Math.min(n,Math.max(e,t))}function wte(t,e){return m.useReducer((n,r)=>e[n][r]??n,t)}var tx="ScrollArea",[IM,Tne]=js(tx),[xte,nr]=IM(tx),AM=m.forwardRef((t,e)=>{const{__scopeScrollArea:n,type:r="hover",dir:i,scrollHideDelay:o=600,...s}=t,[a,l]=m.useState(null),[c,u]=m.useState(null),[f,h]=m.useState(null),[g,w]=m.useState(null),[y,b]=m.useState(null),[x,v]=m.useState(0),[E,S]=m.useState(0),[R,D]=m.useState(!1),[P,C]=m.useState(!1),I=lt(e,M=>l(M)),A=vte(i);return p.jsx(xte,{scope:n,type:r,dir:A,scrollHideDelay:o,scrollArea:a,viewport:c,onViewportChange:u,content:f,onContentChange:h,scrollbarX:g,onScrollbarXChange:w,scrollbarXEnabled:R,onScrollbarXEnabledChange:D,scrollbarY:y,onScrollbarYChange:b,scrollbarYEnabled:P,onScrollbarYEnabledChange:C,onCornerWidthChange:v,onCornerHeightChange:S,children:p.jsx(ze.div,{dir:A,...s,ref:I,style:{position:"relative","--radix-scroll-area-corner-width":x+"px","--radix-scroll-area-corner-height":E+"px",...t.style}})})});AM.displayName=tx;var kM="ScrollAreaViewport",RM=m.forwardRef((t,e)=>{const{__scopeScrollArea:n,children:r,nonce:i,...o}=t,s=nr(kM,n),a=m.useRef(null),l=lt(e,a,s.onViewportChange);return p.jsxs(p.Fragment,{children:[p.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:i}),p.jsx(ze.div,{"data-radix-scroll-area-viewport":"",...o,ref:l,style:{overflowX:s.scrollbarXEnabled?"scroll":"hidden",overflowY:s.scrollbarYEnabled?"scroll":"hidden",...t.style},children:p.jsx("div",{ref:s.onContentChange,style:{minWidth:"100%",display:"table"},children:r})})]})});RM.displayName=kM;var Xr="ScrollAreaScrollbar",nx=m.forwardRef((t,e)=>{const{forceMount:n,...r}=t,i=nr(Xr,t.__scopeScrollArea),{onScrollbarXEnabledChange:o,onScrollbarYEnabledChange:s}=i,a=t.orientation==="horizontal";return m.useEffect(()=>(a?o(!0):s(!0),()=>{a?o(!1):s(!1)}),[a,o,s]),i.type==="hover"?p.jsx(_te,{...r,ref:e,forceMount:n}):i.type==="scroll"?p.jsx(Ete,{...r,ref:e,forceMount:n}):i.type==="auto"?p.jsx(NM,{...r,ref:e,forceMount:n}):i.type==="always"?p.jsx(rx,{...r,ref:e}):null});nx.displayName=Xr;var _te=m.forwardRef((t,e)=>{const{forceMount:n,...r}=t,i=nr(Xr,t.__scopeScrollArea),[o,s]=m.useState(!1);return m.useEffect(()=>{const a=i.scrollArea;let l=0;if(a){const c=()=>{window.clearTimeout(l),s(!0)},u=()=>{l=window.setTimeout(()=>s(!1),i.scrollHideDelay)};return a.addEventListener("pointerenter",c),a.addEventListener("pointerleave",u),()=>{window.clearTimeout(l),a.removeEventListener("pointerenter",c),a.removeEventListener("pointerleave",u)}}},[i.scrollArea,i.scrollHideDelay]),p.jsx(tr,{present:n||o,children:p.jsx(NM,{"data-state":o?"visible":"hidden",...r,ref:e})})}),Ete=m.forwardRef((t,e)=>{const{forceMount:n,...r}=t,i=nr(Xr,t.__scopeScrollArea),o=t.orientation==="horizontal",s=am(()=>l("SCROLL_END"),100),[a,l]=wte("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return m.useEffect(()=>{if(a==="idle"){const c=window.setTimeout(()=>l("HIDE"),i.scrollHideDelay);return()=>window.clearTimeout(c)}},[a,i.scrollHideDelay,l]),m.useEffect(()=>{const c=i.viewport,u=o?"scrollLeft":"scrollTop";if(c){let f=c[u];const h=()=>{const g=c[u];f!==g&&(l("SCROLL"),s()),f=g};return c.addEventListener("scroll",h),()=>c.removeEventListener("scroll",h)}},[i.viewport,o,l,s]),p.jsx(tr,{present:n||a!=="hidden",children:p.jsx(rx,{"data-state":a==="hidden"?"hidden":"visible",...r,ref:e,onPointerEnter:$e(t.onPointerEnter,()=>l("POINTER_ENTER")),onPointerLeave:$e(t.onPointerLeave,()=>l("POINTER_LEAVE"))})})}),NM=m.forwardRef((t,e)=>{const n=nr(Xr,t.__scopeScrollArea),{forceMount:r,...i}=t,[o,s]=m.useState(!1),a=t.orientation==="horizontal",l=am(()=>{if(n.viewport){const c=n.viewport.offsetWidth<n.viewport.scrollWidth,u=n.viewport.offsetHeight<n.viewport.scrollHeight;s(a?c:u)}},10);return al(n.viewport,l),al(n.content,l),p.jsx(tr,{present:r||o,children:p.jsx(rx,{"data-state":o?"visible":"hidden",...i,ref:e})})}),rx=m.forwardRef((t,e)=>{const{orientation:n="vertical",...r}=t,i=nr(Xr,t.__scopeScrollArea),o=m.useRef(null),s=m.useRef(0),[a,l]=m.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),c=VM(a.viewport,a.content),u={...r,sizes:a,onSizesChange:l,hasThumb:c>0&&c<1,onThumbChange:h=>o.current=h,onThumbPointerUp:()=>s.current=0,onThumbPointerDown:h=>s.current=h};function f(h,g){return Ite(h,s.current,a,g)}return n==="horizontal"?p.jsx(bte,{...u,ref:e,onThumbPositionChange:()=>{if(i.viewport&&o.current){const h=i.viewport.scrollLeft,g=aS(h,a,i.dir);o.current.style.transform=`translate3d(${g}px, 0, 0)`}},onWheelScroll:h=>{i.viewport&&(i.viewport.scrollLeft=h)},onDragScroll:h=>{i.viewport&&(i.viewport.scrollLeft=f(h,i.dir))}}):n==="vertical"?p.jsx(Tte,{...u,ref:e,onThumbPositionChange:()=>{if(i.viewport&&o.current){const h=i.viewport.scrollTop,g=aS(h,a);o.current.style.transform=`translate3d(0, ${g}px, 0)`}},onWheelScroll:h=>{i.viewport&&(i.viewport.scrollTop=h)},onDragScroll:h=>{i.viewport&&(i.viewport.scrollTop=f(h))}}):null}),bte=m.forwardRef((t,e)=>{const{sizes:n,onSizesChange:r,...i}=t,o=nr(Xr,t.__scopeScrollArea),[s,a]=m.useState(),l=m.useRef(null),c=lt(e,l,o.onScrollbarXChange);return m.useEffect(()=>{l.current&&a(getComputedStyle(l.current))},[l]),p.jsx(MM,{"data-orientation":"horizontal",...i,ref:c,sizes:n,style:{bottom:0,left:o.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:o.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":sm(n)+"px",...t.style},onThumbPointerDown:u=>t.onThumbPointerDown(u.x),onDragScroll:u=>t.onDragScroll(u.x),onWheelScroll:(u,f)=>{if(o.viewport){const h=o.viewport.scrollLeft+u.deltaX;t.onWheelScroll(h),FM(h,f)&&u.preventDefault()}},onResize:()=>{l.current&&o.viewport&&s&&r({content:o.viewport.scrollWidth,viewport:o.viewport.offsetWidth,scrollbar:{size:l.current.clientWidth,paddingStart:Bh(s.paddingLeft),paddingEnd:Bh(s.paddingRight)}})}})}),Tte=m.forwardRef((t,e)=>{const{sizes:n,onSizesChange:r,...i}=t,o=nr(Xr,t.__scopeScrollArea),[s,a]=m.useState(),l=m.useRef(null),c=lt(e,l,o.onScrollbarYChange);return m.useEffect(()=>{l.current&&a(getComputedStyle(l.current))},[l]),p.jsx(MM,{"data-orientation":"vertical",...i,ref:c,sizes:n,style:{top:0,right:o.dir==="ltr"?0:void 0,left:o.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":sm(n)+"px",...t.style},onThumbPointerDown:u=>t.onThumbPointerDown(u.y),onDragScroll:u=>t.onDragScroll(u.y),onWheelScroll:(u,f)=>{if(o.viewport){const h=o.viewport.scrollTop+u.deltaY;t.onWheelScroll(h),FM(h,f)&&u.preventDefault()}},onResize:()=>{l.current&&o.viewport&&s&&r({content:o.viewport.scrollHeight,viewport:o.viewport.offsetHeight,scrollbar:{size:l.current.clientHeight,paddingStart:Bh(s.paddingTop),paddingEnd:Bh(s.paddingBottom)}})}})}),[Cte,DM]=IM(Xr),MM=m.forwardRef((t,e)=>{const{__scopeScrollArea:n,sizes:r,hasThumb:i,onThumbChange:o,onThumbPointerUp:s,onThumbPointerDown:a,onThumbPositionChange:l,onDragScroll:c,onWheelScroll:u,onResize:f,...h}=t,g=nr(Xr,n),[w,y]=m.useState(null),b=lt(e,I=>y(I)),x=m.useRef(null),v=m.useRef(""),E=g.viewport,S=r.content-r.viewport,R=Ht(u),D=Ht(l),P=am(f,10);function C(I){if(x.current){const A=I.clientX-x.current.left,M=I.clientY-x.current.top;c({x:A,y:M})}}return m.useEffect(()=>{const I=A=>{const M=A.target;(w==null?void 0:w.contains(M))&&R(A,S)};return document.addEventListener("wheel",I,{passive:!1}),()=>document.removeEventListener("wheel",I,{passive:!1})},[E,w,S,R]),m.useEffect(D,[r,D]),al(w,P),al(g.content,P),p.jsx(Cte,{scope:n,scrollbar:w,hasThumb:i,onThumbChange:Ht(o),onThumbPointerUp:Ht(s),onThumbPositionChange:D,onThumbPointerDown:Ht(a),children:p.jsx(ze.div,{...h,ref:b,style:{position:"absolute",...h.style},onPointerDown:$e(t.onPointerDown,I=>{I.button===0&&(I.target.setPointerCapture(I.pointerId),x.current=w.getBoundingClientRect(),v.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",g.viewport&&(g.viewport.style.scrollBehavior="auto"),C(I))}),onPointerMove:$e(t.onPointerMove,C),onPointerUp:$e(t.onPointerUp,I=>{const A=I.target;A.hasPointerCapture(I.pointerId)&&A.releasePointerCapture(I.pointerId),document.body.style.webkitUserSelect=v.current,g.viewport&&(g.viewport.style.scrollBehavior=""),x.current=null})})})}),Uh="ScrollAreaThumb",OM=m.forwardRef((t,e)=>{const{forceMount:n,...r}=t,i=DM(Uh,t.__scopeScrollArea);return p.jsx(tr,{present:n||i.hasThumb,children:p.jsx(Ste,{ref:e,...r})})}),Ste=m.forwardRef((t,e)=>{const{__scopeScrollArea:n,style:r,...i}=t,o=nr(Uh,n),s=DM(Uh,n),{onThumbPositionChange:a}=s,l=lt(e,f=>s.onThumbChange(f)),c=m.useRef(void 0),u=am(()=>{c.current&&(c.current(),c.current=void 0)},100);return m.useEffect(()=>{const f=o.viewport;if(f){const h=()=>{if(u(),!c.current){const g=Ate(f,a);c.current=g,a()}};return a(),f.addEventListener("scroll",h),()=>f.removeEventListener("scroll",h)}},[o.viewport,u,a]),p.jsx(ze.div,{"data-state":s.hasThumb?"visible":"hidden",...i,ref:l,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...r},onPointerDownCapture:$e(t.onPointerDownCapture,f=>{const g=f.target.getBoundingClientRect(),w=f.clientX-g.left,y=f.clientY-g.top;s.onThumbPointerDown({x:w,y})}),onPointerUp:$e(t.onPointerUp,s.onThumbPointerUp)})});OM.displayName=Uh;var ix="ScrollAreaCorner",LM=m.forwardRef((t,e)=>{const n=nr(ix,t.__scopeScrollArea),r=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&r?p.jsx(Pte,{...t,ref:e}):null});LM.displayName=ix;var Pte=m.forwardRef((t,e)=>{const{__scopeScrollArea:n,...r}=t,i=nr(ix,n),[o,s]=m.useState(0),[a,l]=m.useState(0),c=!!(o&&a);return al(i.scrollbarX,()=>{var f;const u=((f=i.scrollbarX)==null?void 0:f.offsetHeight)||0;i.onCornerHeightChange(u),l(u)}),al(i.scrollbarY,()=>{var f;const u=((f=i.scrollbarY)==null?void 0:f.offsetWidth)||0;i.onCornerWidthChange(u),s(u)}),c?p.jsx(ze.div,{...r,ref:e,style:{width:o,height:a,position:"absolute",right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:0,...t.style}}):null});function Bh(t){return t?parseInt(t,10):0}function VM(t,e){const n=t/e;return isNaN(n)?0:n}function sm(t){const e=VM(t.viewport,t.content),n=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,r=(t.scrollbar.size-n)*e;return Math.max(r,18)}function Ite(t,e,n,r="ltr"){const i=sm(n),o=i/2,s=e||o,a=i-s,l=n.scrollbar.paddingStart+s,c=n.scrollbar.size-n.scrollbar.paddingEnd-a,u=n.content-n.viewport,f=r==="ltr"?[0,u]:[u*-1,0];return jM([l,c],f)(t)}function aS(t,e,n="ltr"){const r=sm(e),i=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,o=e.scrollbar.size-i,s=e.content-e.viewport,a=o-r,l=n==="ltr"?[0,s]:[s*-1,0],c=yte(t,l);return jM([0,s],[0,a])(c)}function jM(t,e){return n=>{if(t[0]===t[1]||e[0]===e[1])return e[0];const r=(e[1]-e[0])/(t[1]-t[0]);return e[0]+r*(n-t[0])}}function FM(t,e){return t>0&&t<e}var Ate=(t,e=()=>{})=>{let n={left:t.scrollLeft,top:t.scrollTop},r=0;return function i(){const o={left:t.scrollLeft,top:t.scrollTop},s=n.left!==o.left,a=n.top!==o.top;(s||a)&&e(),n=o,r=window.requestAnimationFrame(i)}(),()=>window.cancelAnimationFrame(r)};function am(t,e){const n=Ht(t),r=m.useRef(0);return m.useEffect(()=>()=>window.clearTimeout(r.current),[]),m.useCallback(()=>{window.clearTimeout(r.current),r.current=window.setTimeout(n,e)},[n,e])}function al(t,e){const n=Ht(e);qr(()=>{let r=0;if(t){const i=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(n)});return i.observe(t),()=>{window.cancelAnimationFrame(r),i.unobserve(t)}}},[t,n])}var $M=AM,kte=RM,Rte=LM;const UM=xe.forwardRef(({className:t,children:e,...n},r)=>p.jsxs($M,{ref:r,className:Ue("relative overflow-hidden",t),...n,children:[p.jsx(kte,{className:"h-full w-full rounded-[inherit]",children:e}),p.jsx(BM,{}),p.jsx(Rte,{})]}));UM.displayName=$M.displayName;const BM=xe.forwardRef(({className:t,orientation:e="vertical",...n},r)=>p.jsx(nx,{ref:r,orientation:e,className:Ue("flex touch-none select-none transition-colors",e==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",e==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",t),...n,children:p.jsx(OM,{className:"relative flex-1 rounded-full bg-border"})}));BM.displayName=nx.displayName;const WM=({records:t,onEdit:e,onDelete:n,onClose:r,isArchiveView:i=!1,isProcessing:o})=>{if(!t||t.length===0)return p.jsxs(Ee.div,{className:"text-center text-[#6B7280] p-8 bg-white rounded-xl shadow",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},children:[p.jsx("p",{className:"text-xl mb-4",children:"No hay registros para mostrar."}),r&&!i&&p.jsxs(be,{onClick:r,variant:"outline",className:"border-gray-300 hover:bg-gray-100 text-gray-700",children:[p.jsx(cu,{className:"mr-2 h-5 w-5"}),"Cerrar"]})]});const s=[...t].sort((a,l)=>{const c=a.timestamp?le(a.timestamp):a.isoDate?le(a.isoDate):0,u=l.timestamp?le(l.timestamp):l.isoDate?le(l.isoDate):0;return c-u});return p.jsxs(Ee.div,{className:"w-full bg-white/70 backdrop-blur-md p-4 sm:p-6 rounded-xl ring-1 ring-[#FFB1DD]/20 shadow-xl",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},children:[p.jsxs("div",{className:"flex justify-between items-center mb-6",children:[p.jsx("h2",{className:"text-2xl font-semibold text-gray-800",children:i?"Registros del Ciclo":"Mis Registros"}),r&&!i&&p.jsx(be,{onClick:r,variant:"ghost",size:"icon",className:"text-gray-700 hover:text-pink-500 hover:bg-pink-50",children:p.jsx(cu,{className:"h-6 w-6"})})]}),p.jsx(UM,{className:"pr-4",children:p.jsx("ul",{className:"space-y-4",children:s.map(a=>{const l=Q1(a.fertility_symbol),c=a.timestamp||a.isoDate,u=a.timestamp?Te(le(a.timestamp),"HH:mm"):null;return p.jsxs(Ee.li,{className:"bg-white/80 backdrop-blur-md ring-1 ring-[#FFB1DD]/50 border border-[#FFB1DD]/80 shadow-lg rounded-lg p-4 flex flex-col sm:flex-row justify-between items-start sm:items-center hover:shadow-xl transition-shadow duration-300",style:{boxShadow:"0 2px 6px rgba(0,0,0,0.05)"},layout:!0,initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,x:-20},transition:{duration:.2},children:[p.jsxs("div",{className:"flex-grow mb-3 sm:mb-0",children:[p.jsxs("h3",{className:"text-lg font-semibold text-pink-500 mb-1 ",children:[c?Te(le(c),"dd/MM/yyyy",{locale:rl}):"Fecha no disponible"," (Día ",a.cycleDay||"N/A",")"]}),a.temperature_raw!=null&&p.jsxs("p",{className:"text-sm text-[#6B7280]",children:[p.jsx("span",{className:"font-semibold",children:"Original:"})," ",a.temperature_raw.toFixed(2),"°C",u&&p.jsx("span",{className:"ml-2 text-xs text-[#9CA3AF]",children:u}),a.temperature_corrected!=null&&!a.use_corrected&&p.jsx(Sh,{className:"inline h-4 w-4 text-[#E27DBF] ml-1"})]}),a.temperature_corrected!=null&&p.jsxs("p",{className:"text-sm text-[#6B7280]",children:[p.jsx("span",{className:"font-semibold",children:"Corregida:"})," ",a.temperature_corrected.toFixed(2),"°C",a.use_corrected&&p.jsx(Sh,{className:"inline h-4 w-4 text-emerald-400 ml-1"})]}),p.jsxs("div",{className:"flex items-center mt-1",children:[l&&l.value!=="none"&&p.jsx("span",{className:`w-4 h-4 rounded-full mr-2 ${l.color} ${l.pattern?"pattern-bg":""} ${l.value==="white"?"border border-gray-300":""}`}),p.jsx("p",{className:`text-sm ${l?l.textColor:"text-[#6B7280]"}`,children:l?l.label:"Sin Símbolo"})]}),p.jsxs("p",{className:"text-sm text-[#6B7280] mt-1",children:[p.jsx("span",{className:"font-semibold",children:"Sensación:"})," ",a.mucus_sensation||"N/A"]}),p.jsxs("p",{className:"text-sm text-[#6B7280]",children:[p.jsx("span",{className:"font-semibold",children:"Apariencia:"})," ",a.mucus_appearance||"N/A"]}),a.observations&&p.jsxs("p",{className:"text-sm text-[#6B7280] mt-1 italic",children:[p.jsx("span",{className:"font-semibold",children:"Observaciones:"})," ",a.observations]}),a.ignored&&p.jsx("p",{className:"text-xs text-rose-400 mt-1",children:"(Registro despreciado)"})]}),!i&&e&&n&&p.jsxs("div",{className:"flex space-x-2 self-end sm:self-center",children:[p.jsxs(be,{variant:"outline",size:"sm",onClick:()=>e(a),className:"border-sky-500 text-sky-400 hover:bg-sky-500/20 hover:text-sky-300",disabled:o,children:[p.jsx(Vy,{className:"mr-1 h-4 w-4"})," Editar"]}),p.jsxs(be,{variant:"destructive",size:"sm",onClick:()=>n(a.id),className:"bg-rose-600 hover:bg-rose-700",disabled:o,children:[p.jsx(Ih,{className:"mr-1 h-4 w-4"})," Eliminar"]})]}),i&&e&&n&&p.jsxs("div",{className:"flex space-x-2 self-end sm:self-center",children:[p.jsxs(be,{variant:"outline",size:"sm",onClick:()=>e(a),className:"border-sky-500 text-sky-400 hover:bg-sky-500/20 hover:text-sky-300",disabled:o,children:[p.jsx(Vy,{className:"mr-1 h-4 w-4"})," Editar"]}),p.jsxs(be,{variant:"destructive",size:"sm",onClick:()=>n(a.id),className:"bg-rose-600 hover:bg-rose-700",disabled:o,children:[p.jsx(Ih,{className:"mr-1 h-4 w-4"})," Eliminar"]})]})]},a.id||c)})})})]})},zM=({isOpen:t,onClose:e,onConfirm:n,recordDate:r})=>(Uu(t,e),p.jsx($u,{open:t,onOpenChange:e,children:p.jsxs(Cl,{className:"bg-slate-800 border-slate-700 text-slate-50",children:[p.jsxs(nm,{children:[p.jsx(im,{children:"Confirmar Eliminación"}),p.jsxs(om,{className:"text-slate-400",children:["¿Estás seguro de que quieres eliminar el registro del ",r,"? Esta acción no se puede deshacer."]})]}),p.jsxs(rm,{className:"sm:justify-end",children:[p.jsx(be,{variant:"outline",onClick:e,className:"border-slate-600 hover:bg-slate-700",children:"Cancelar"}),p.jsx(be,{variant:"destructive",onClick:n,children:"Eliminar"})]})]})}));function HM(t,e){if(!t||!e)return[];const n=typeof t=="string"?le(t):t;return[...Array(e)].map((r,i)=>{const o=Dt(n,i),s=Te(o,"yyyy-MM-dd"),a=Te(o,"dd/MM"),l=To(Se(o),Se(n))+1;return{date:a,isoDate:s,cycleDay:l,temperature:null,mucusSensation:null,mucusAppearance:null,id:`placeholder-${s}`,ignored:!1}})}const Nte=()=>{const[t,e]=m.useState(!1),[n,r]=m.useState("portrait"),i=m.useCallback(async(l="portrait")=>{const c=document.documentElement;try{c.requestFullscreen?await c.requestFullscreen():c.mozRequestFullScreen?await c.mozRequestFullScreen():c.webkitRequestFullscreen?await c.webkitRequestFullscreen():c.msRequestFullscreen&&await c.msRequestFullscreen(),typeof window<"u"&&window.screen&&window.screen.orientation&&window.screen.orientation.lock&&await window.screen.orientation.lock(`${l}-primary`).catch(()=>{}),r(l)}catch{}},[]),o=m.useCallback(async()=>{try{document.exitFullscreen?await document.exitFullscreen():document.mozCancelFullScreen?await document.mozCancelFullScreen():document.webkitExitFullscreen?await document.webkitExitFullscreen():document.msExitFullscreen&&await document.msExitFullscreen(),typeof window<"u"&&window.screen&&window.screen.orientation&&window.screen.orientation.unlock&&window.screen.orientation.unlock()}catch{}},[]),s=m.useCallback(async()=>{t?await o():await i(n)},[t,i,o,n]),a=m.useCallback(async()=>{const l=n==="portrait"?"landscape":"portrait";t?window.screen&&window.screen.orientation&&window.screen.orientation.lock&&await window.screen.orientation.lock(`${l}-primary`).catch(()=>{}):await i(l),r(l)},[n,t,i]);return m.useEffect(()=>{const l=()=>{const c=!!(document.fullscreenElement||document.webkitIsFullScreen||document.mozFullScreenElement||document.msFullscreenElement);e(c),!c&&typeof window<"u"&&window.screen&&window.screen.orientation&&window.screen.orientation.unlock&&window.screen.orientation.unlock()};return document.addEventListener("fullscreenchange",l),document.addEventListener("webkitfullscreenchange",l),document.addEventListener("mozfullscreenchange",l),document.addEventListener("MSFullscreenChange",l),()=>{document.removeEventListener("fullscreenchange",l),document.removeEventListener("webkitfullscreenchange",l),document.removeEventListener("mozfullscreenchange",l),document.removeEventListener("MSFullscreenChange",l)}},[]),{isFullScreen:t,orientation:n,toggleFullScreen:s,rotateScreen:a}},qM=28,Dte=({cycleData:t,addOrUpdateDataPointForCycle:e,deleteRecordForCycle:n,toggleIgnoreRecordForCycle:r,isFullScreen:i,toggleFullScreen:o,orientation:s,rotateScreen:a,showInterpretation:l,setShowInterpretation:c,chartDisplayData:u,showForm:f,setShowForm:h,editingRecord:g,setEditingRecord:w,recordToDelete:y,setRecordToDelete:b,isProcessing:x,toast:v,onEditCycleDates:E,onDeleteCycle:S})=>{Uu(f||g,()=>{h(!1),w(null)});const R=s==="landscape"?qM:5,D=I=>{const A=()=>{w(I),h(!0)};i?(o(),setTimeout(A,300)):A()},P=I=>{const A=t.data.find(M=>M.id===I);b(A)},C=()=>{y&&n(y.id)};return p.jsxs("div",{className:`w-full ${i?"h-full overflow-hidden":"max-w-4xl mx-auto"}`,children:[p.jsxs(Ee.div,{className:"flex items-center justify-between mb-8",initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5},children:[!i&&p.jsx(be,{variant:"outline",asChild:!0,className:"mt-4 sm:mt-0 border-pink-500 text-pink-400 hover:bg-pink-500/20 hover:text-pink-300",children:p.jsxs(Qf,{to:"/archived-cycles",children:[p.jsx(Gz,{className:"mr-2 h-4 w-4"})," Mis Ciclos"]})}),!i&&p.jsxs("h1",{className:"text-2xl sm:text-3xl font-bold hover:text-pink-300 text-center",children:["Detalle del Ciclo (",Te(le(t.startDate),"dd/MM/yyyy"),")"]}),!i&&p.jsxs("div",{className:"flex gap-2 mt-4 sm:mt-0",children:[p.jsxs(be,{variant:"outline",onClick:E,className:"border-pink-500 text-pink-400 hover:bg-pink-500/20 hover:text-pink-300",children:[p.jsx(Ph,{className:"mr-2 h-4 w-4"})," Editar Fechas"]}),p.jsxs(be,{variant:"destructive",onClick:S,children:[p.jsx(Ih,{className:"mr-2 h-4 w-4"})," Eliminar Ciclo"]})]})]}),p.jsx(tC,{children:!f&&(u.length>0||i)&&p.jsxs(Ee.div,{initial:{opacity:0,scale:i?1:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:i?1:.9},transition:{duration:.5},className:`shadow-2xl rounded-xl ${i?"w-full h-full p-0 fixed inset-0 z-50 bg-white":"p-4 sm:p-6 mb-4 bg-white/70 backdrop-blur-md ring-1 ring-[#FFB1DD]/50"} relative`,style:{boxShadow:"0 4px 8px rgba(0,0,0,0.04)"},children:[!i&&p.jsx("h2",{className:"text-xl font-medium text-[#393C65] mb-4 bg-white bg-opacity-90 px-4 py-2 rounded-md",children:"Gráfica"}),p.jsx(PM,{data:u,isFullScreen:i,orientation:s,onToggleIgnore:r,onEdit:D,cycleId:t.id,showInterpretation:l,visibleDays:R}),p.jsxs(be,{onClick:()=>c(I=>!I),variant:"ghost",size:"sm",className:`absolute ${i?"top-4 right-20":"top-2 right-20"} flex items-center font-semibold py-1 px-2 rounded-lg transition-colors ${l?"bg-[#E27DBF] text-white hover:bg-[#d46ab3]":"bg-transparent text-[#393C65] hover:bg-[#E27DBF]/20"}`,children:[l?p.jsx(f1,{className:"mr-2 h-4 w-4"}):p.jsx(lu,{className:"mr-2 h-4 w-4"}),l?"Ocultar":"Interpretar"]}),p.jsx(be,{onClick:a,variant:"ghost",size:"icon",className:`absolute ${i?"top-4 right-12 text-white bg-slate-700/50 hover:bg-slate-600/70":"top-2 right-12 text-slate-400 hover:text-slate-200 hover:bg-slate-700/50"}`,title:"Cambiar orientación",children:p.jsx(B2,{className:"h-5 w-5"})}),p.jsx(be,{onClick:o,variant:"ghost",size:"icon",className:`absolute ${i?"top-4 right-4 text-white bg-slate-700/50 hover:bg-slate-600/70":"top-2 right-2 text-slate-400 hover:text-slate-200 hover:bg-slate-700/50"}`,title:i?"Salir de Pantalla Completa":"Ver en Pantalla Completa",children:i?p.jsx(h1,{className:"h-6 w-6"}):p.jsx(aH,{className:"h-5 w-5"})})]})}),!i&&p.jsxs(p.Fragment,{children:[p.jsx(tC,{children:f&&p.jsx(Ee.div,{initial:{opacity:0,y:20,height:0},animate:{opacity:1,y:0,height:"auto"},exit:{opacity:0,y:20,height:0},transition:{duration:.3},className:"overflow-hidden mb-8",children:p.jsx(X1,{onSubmit:e,initialData:g,onCancel:()=>{h(!1),w(null)},cycleStartDate:t.startDate,cycleEndDate:t.endDate,isProcessing:x,isEditing:!!g})},"data-entry-form-detail")}),!f&&p.jsx("div",{className:"my-8",children:p.jsxs(be,{onClick:()=>{w(null),h(!0)},className:"w-full sm:w-auto bg-gradient-to-r from-pink-500 to-fuchsia-600 hover:from-pink-600 hover:to-fuchsia-700 text-white font-semibold py-3 px-6 rounded-lg shadow-lg hover:shadow-xl transition-all duration-300 transform hover:scale-105 flex items-center justify-center text-lg",disabled:x,children:[p.jsx(Ph,{className:"mr-2 h-5 w-5"})," Añadir registro en este ciclo"]})}),p.jsx(WM,{records:t.data,onEdit:D,onDelete:P,isArchiveView:!0,isProcessing:x})]}),p.jsx(zM,{isOpen:!!y,onClose:()=>b(null),onConfirm:C,recordDate:y?Te(le(y.isoDate),"dd/MM/yyyy"):"",isProcessing:x})]})},Mte=()=>{const{cycleId:t}=WV(),e=wu(),{user:n}=_l(),{getCycleById:r,isLoading:i,refreshData:o,toggleIgnoreRecord:s,updateCycleDates:a,deleteCycle:l}=Bu(t),[c,u]=m.useState(null),{toast:f}=zo(),[h,g]=m.useState(null),[w,y]=m.useState(!1),[b,x]=m.useState(null),[v,E]=m.useState(!1),{isFullScreen:S,toggleFullScreen:R,orientation:D,rotateScreen:P}=Nte(),[C,I]=m.useState(!1),[A,M]=m.useState(!1);m.useEffect(()=>{(async()=>{if(n){let H=await r(t);if(!H){const Z=localStorage.getItem(`fertilityData_cycle_${n.uid}_${t}`);if(Z){const ie=JSON.parse(Z);H={...ie,data:N(ie.data||[],ie.startDate)}}}H?u(H):(f({title:"Error",description:"No se pudo cargar el ciclo.",variant:"destructive"}),e("/archived-cycles"))}})()},[t,n,r,f,e]);const O=(B,H)=>{const Z=Se(le(B)),ie=Se(le(H));return To(Z,ie)+1},N=(B,H)=>!B||!Array.isArray(B)||!H?[]:[...B].sort((ie,ce)=>le(ie.isoDate)-le(ce.isoDate)).map(ie=>({...ie,ignored:ie.ignored||!1,cycleDay:O(ie.isoDate,H)})),F=B=>{if(!n||!B||!B.id)return;const H={...B,data:B.data.map(({cycleDay:Z,...ie})=>ie)};localStorage.setItem(`fertilityData_cycle_${n.uid}_${B.id}`,JSON.stringify(H))},G=B=>{if(!c||!n)return;I(!0);const H=B.temperature_raw,Z=B.temperature_corrected,ce=B.use_corrected||!1?Z??H:H??Z;let J;const re={...B,temperature_chart:ce,isoDate:Te(Se(le(B.isoDate)),"yyyy-MM-dd"),cycleDay:O(B.isoDate,c.startDate),ignored:h?B.ignored??h.ignored:B.ignored||!1};if(h)J=c.data.map(fe=>fe.id===h.id?{...fe,...re,id:h.id}:fe);else{const fe={...re,id:crypto.randomUUID?crypto.randomUUID():Math.random().toString(36).slice(2)};J=[...c.data,fe]}const te=N(J,c.startDate),ee={...c,data:te};F(ee),u(ee),f({title:h?"Registro actualizado":"Nuevo registro añadido",description:"Datos para el ciclo actualizados."}),y(!1),g(null),I(!1),o()},K=B=>{if(!c||!n)return;I(!0);const H=c.data.filter(ce=>ce.id!==B),Z=N(H,c.startDate),ie={...c,data:Z};F(ie),u(ie),f({title:"Registro eliminado",description:"El registro ha sido eliminado del ciclo.",variant:"destructive"}),x(null),I(!1),o()},W=(B,H)=>{if(!c||!n||c.id!==B)return;I(!0),s(B,H),u(ie=>{if(!ie)return null;const ce=ie.data.map(te=>te.id===H?{...te,ignored:!te.ignored}:te),J=N(ce,ie.startDate),re={...ie,data:J};return F(re),re});const Z=c.data.find(ie=>ie.id===H);f({title:`Registro ${Z&&!Z.ignored?"despreciado":"restaurado"}`,description:`El registro del ${Z?Te(le(Z.isoDate),"dd/MM/yyyy"):""} ha sido ${Z&&!Z.ignored?"marcado como despreciado":"restaurado"}.`}),I(!1)},L=async({startDate:B,endDate:H})=>{if(!(!c||!n)){I(!0);try{await a(c.id,B,H);const Z=await r(c.id);Z&&(F(Z),u(Z)),f({title:"Fechas actualizadas",description:"Las fechas del ciclo han sido modificadas."}),E(!1)}catch(Z){console.error(Z)}I(!1)}},j=async()=>{if(!(!c||!n)&&window.confirm("¿Eliminar este ciclo?")){I(!0);try{await l(c.id),f({title:"Ciclo eliminado",description:"El ciclo ha sido eliminado."}),e("/archived-cycles")}catch(B){console.error(B)}I(!1)}},U=m.useCallback(()=>{if(!c||!c.startDate)return[];const B=le(c.startDate),H=c.data.reduce((re,te)=>{const ee=le(te.isoDate);return ee>re?ee:re},B),Z=c.endDate?le(c.endDate):null;let ie;if(Z)ie=To(Se(Z),B)+1;else{const re=Se(new Date),te=H>re?H:re,ee=To(Se(te),B);ie=Math.max(qM,ee+1)}return HM(B,ie).map(re=>{const te=c.data.find(ee=>ee.isoDate===re.isoDate);return te?{...te,date:re.date}:re})},[c]);if(i||!c)return p.jsx("div",{className:"text-center text-slate-300 p-8",children:"Cargando detalles del ciclo..."});const z=U();return p.jsxs(p.Fragment,{children:[p.jsx(Dte,{cycleData:c,addOrUpdateDataPointForCycle:G,deleteRecordForCycle:K,toggleIgnoreRecordForCycle:W,isFullScreen:S,toggleFullScreen:R,orientation:D,rotateScreen:P,showInterpretation:A,setShowInterpretation:M,chartDisplayData:z,showForm:w,setShowForm:y,editingRecord:h,setEditingRecord:g,recordToDelete:b,setRecordToDelete:x,isProcessing:C,toast:f,onEditCycleDates:()=>E(!0),onDeleteCycle:j}),p.jsx(_f,{isOpen:v,onClose:()=>E(!1),onConfirm:L,initialStartDate:c.startDate,initialEndDate:c.endDate})]})},Ote=()=>{const{user:t,updateEmail:e,updatePassword:n,preferences:r,savePreferences:i,logout:o,updateProfile:s,deleteAccount:a}=_l(),l=wu(),{toast:c}=zo(),[u,f]=m.useState((t==null?void 0:t.email)||""),[h,g]=m.useState(""),[w,y]=m.useState((t==null?void 0:t.displayName)||""),[b,x]=m.useState((t==null?void 0:t.photoURL)||""),[v,E]=m.useState((r==null?void 0:r.theme)||"light"),[S,R]=m.useState((r==null?void 0:r.units)||"metric"),[D,P]=m.useState(!1),[C,I]=m.useState(!1),[A,M]=m.useState(!1),[O,N]=m.useState(!1),[F,G]=m.useState(!1),[K,W]=m.useState(!1),[L,j]=m.useState(!1);m.useEffect(()=>{f((t==null?void 0:t.email)||""),y((t==null?void 0:t.displayName)||""),x((t==null?void 0:t.photoURL)||"")},[t]),m.useEffect(()=>{r&&(E(r.theme||"light"),R(r.units||"metric"))},[r]);const U=async ce=>{ce.preventDefault(),P(!0);try{await e(u),c({title:"Correo actualizado"})}finally{P(!1)}},z=async ce=>{if(ce.preventDefault(),!!h){I(!0);try{await n(h),g(""),c({title:"Contraseña actualizada"})}finally{I(!1)}}},B=async ce=>{ce.preventDefault(),M(!0);try{await s({displayName:w,photoURL:b}),c({title:"Perfil actualizado"})}finally{M(!1)}},H=async ce=>{ce.preventDefault(),N(!0);try{await i({theme:v,units:S}),c({title:"Preferencias guardadas"})}finally{N(!1)}},Z=async()=>{G(!0);try{await o(),l("/auth")}finally{G(!1)}},ie=async()=>{W(!0);try{await a(),l("/auth")}finally{W(!1),j(!1)}};return p.jsxs("div",{className:"max-w-md mx-auto space-y-8",children:[p.jsxs("form",{onSubmit:U,className:"space-y-2",children:[p.jsx(Rt,{htmlFor:"email",children:"Correo"}),p.jsx(Vn,{id:"email",type:"email",required:!0,value:u,onChange:ce=>f(ce.target.value)}),p.jsx(be,{type:"submit",className:"mt-2",disabled:D,children:D?"Actualizando...":"Actualizar correo"})]}),p.jsxs("form",{onSubmit:z,className:"space-y-2",children:[p.jsx(Rt,{htmlFor:"password",children:"Contraseña nueva"}),p.jsx(Vn,{id:"password",type:"password",required:!0,minLength:6,value:h,onChange:ce=>g(ce.target.value)}),p.jsx(be,{type:"submit",className:"mt-2",disabled:C,children:C?"Actualizando...":"Actualizar contraseña"})]}),p.jsxs("form",{onSubmit:B,className:"space-y-2",children:[p.jsx(Rt,{htmlFor:"name",children:"Nombre"}),p.jsx(Vn,{id:"name",required:!0,value:w,onChange:ce=>y(ce.target.value)}),p.jsx(Rt,{htmlFor:"avatar",children:"URL del avatar"}),p.jsx(Vn,{id:"avatar",type:"url",value:b,onChange:ce=>x(ce.target.value)}),p.jsx(be,{type:"submit",className:"mt-2",disabled:A,children:A?"Guardando...":"Actualizar perfil"})]}),p.jsxs("form",{onSubmit:H,className:"space-y-4",children:[p.jsxs("div",{className:"space-y-2",children:[p.jsx(Rt,{children:"Tema"}),p.jsxs(Xy,{value:v,onValueChange:E,children:[p.jsx(jh,{children:p.jsx(Jy,{placeholder:"Tema"})}),p.jsxs(Fh,{children:[p.jsx(_a,{value:"light",children:"Claro"}),p.jsx(_a,{value:"dark",children:"Oscuro"})]})]})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx(Rt,{children:"Unidades"}),p.jsxs(Xy,{value:S,onValueChange:R,children:[p.jsx(jh,{children:p.jsx(Jy,{placeholder:"Unidades"})}),p.jsxs(Fh,{children:[p.jsx(_a,{value:"metric",children:"Métrico"}),p.jsx(_a,{value:"imperial",children:"Imperial"})]})]})]}),p.jsx(be,{type:"submit",disabled:O,children:O?"Guardando...":"Guardar preferencias"})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx(be,{variant:"outline",onClick:Z,disabled:F,className:"w-full",children:F?"Cerrando...":"Cerrar sesión"}),p.jsx(be,{variant:"destructive",onClick:()=>j(!0),className:"w-full",children:"Eliminar cuenta"})]}),p.jsx($u,{open:L,onOpenChange:j,children:p.jsxs(Cl,{children:[p.jsxs(nm,{children:[p.jsx(im,{children:"¿Eliminar cuenta?"}),p.jsx(om,{children:"Esta acción es irreversible. Todos tus datos serán eliminados."})]}),p.jsxs(rm,{children:[p.jsx(be,{variant:"outline",onClick:()=>j(!1),disabled:K,children:"Cancelar"}),p.jsx(be,{variant:"destructive",onClick:ie,disabled:K,children:K?"Eliminando...":"Eliminar"})]})]})})]})},Lte=()=>{const{currentCycle:t}=Bu(),[e,n]=m.useState("portrait");if(m.useEffect(()=>{const y=()=>{n(window.innerWidth>window.innerHeight?"landscape":"portrait")};return y(),window.addEventListener("resize",y),window.addEventListener("orientationchange",y),()=>{window.removeEventListener("resize",y),window.removeEventListener("orientationchange",y)}},[]),!(t!=null&&t.id))return p.jsx("p",{className:"text-center text-gray-500",children:"No hay ciclo activo."});const r=28,i=10,o=le(t.startDate),s=t.data.reduce((y,b)=>{const x=le(b.isoDate);return x>y?x:y},o),a=Se(new Date),l=s>a?s:a,c=To(Se(l),o),u=Math.max(r,c+1),h=HM(o,u).map(y=>{const b=t.data.find(x=>x.isoDate===y.isoDate);return b?{...b,date:y.date}:y}),g=e==="portrait"?i:u;let w=0;if(e!=="landscape"){const y=To(new Date,Se(o)),b=Math.min(Math.max(y,0),u-1);let x=Math.min(u,b+1);b<g-1&&(x=Math.min(u,g)),w=Math.max(0,x-g)}return p.jsxs("div",{className:"relative w-full h-full",children:[p.jsx("button",{onClick:()=>n(e==="portrait"?"landscape":"portrait"),className:"absolute top-4 right-4 z-10 bg-white/80 hover:bg-white text-gray-700 p-2 rounded-full shadow","aria-label":"Rotar gráfico",children:p.jsx(B2,{className:"w-5 h-5"})}),p.jsx(PM,{data:h,isFullScreen:!0,orientation:e,cycleId:t.id,initialScrollIndex:w,visibleDays:g})]})},Vte=()=>{const{currentCycle:t,addOrUpdateDataPoint:e,deleteRecord:n,isLoading:r}=Bu(),{toast:i}=zo(),[o,s]=m.useState(!1),[a,l]=m.useState(null),[c,u]=m.useState(null),[f,h]=m.useState(!1);Uu(o||!!a,()=>{s(!1),l(null)});const g=x=>{l(x),s(!0)},w=x=>{const v=t.data.find(E=>E.id===x);u(v)},y=async x=>{h(!0);try{await e(x,a),s(!1),l(null)}catch{i({title:"Error",description:"No se pudo guardar el registro",variant:"destructive"})}finally{h(!1)}},b=async()=>{if(c){h(!0);try{await n(c.id),u(null)}catch{i({title:"Error",description:"No se pudo eliminar el registro",variant:"destructive"})}finally{h(!1)}}};return r?p.jsx("p",{className:"text-center text-gray-500",children:"Cargando..."}):t!=null&&t.id?p.jsxs("div",{className:"max-w-4xl mx-auto",children:[p.jsx("div",{className:"my-4",children:p.jsxs(be,{onClick:()=>{l(null),s(!0)},className:"w-full sm:w-auto bg-gradient-to-r from-pink-500 to-fuchsia-600 hover:from-pink-600 hover:to-fuchsia-700 text-white",disabled:f,children:[p.jsx(Ph,{className:"mr-2 h-4 w-4"})," Añadir registro"]})}),p.jsx(WM,{records:t.data,onEdit:g,onDelete:w,isProcessing:f}),p.jsx($u,{open:o,onOpenChange:x=>{s(x),x||l(null)},children:p.jsx(Cl,{hideClose:!0,className:"bg-white border-pink-100 text-gray-800 w-[90vw] sm:w-auto max-w-md sm:max-w-lg md:max-w-xl max-h-[85vh] overflow-y-auto p-4 sm:p-6 rounded-2xl",children:p.jsx(X1,{onSubmit:y,onCancel:()=>{s(!1),l(null)},initialData:a,cycleStartDate:t.startDate,cycleEndDate:t.endDate,isProcessing:f,isEditing:!!a})})}),p.jsx(zM,{isOpen:!!c,onClose:()=>u(null),onConfirm:b,recordDate:c?Te(le(c.isoDate),"dd/MM/yyyy"):"",isProcessing:f})]}):p.jsx("p",{className:"text-center text-gray-500",children:"No hay ciclo activo."})},jte=()=>{const t=[{to:"/records",label:"Mis registros",icon:Qz},{to:"/chart",label:"Gráfica",icon:Yz},{to:"/",label:"Ciclo actual",icon:iH},{to:"/archived-cycles",label:"Mis ciclos",icon:U2},{to:"/settings",label:"Cuenta",icon:fH}];return p.jsx("nav",{className:"fixed bottom-0 left-0 right-0 bg-white border-t border-gray-100 z-50 pb-[env(safe-area-inset-bottom)]",children:p.jsx("ul",{className:"flex justify-around items-center max-w-md mx-auto",children:t.map(({to:e,label:n,icon:r})=>p.jsx("li",{children:p.jsxs(g5,{to:e,className:({isActive:i})=>`flex flex-col items-center py-2 px-3 rounded-lg transition-colors duration-200 ${i?"text-pink-600":"text-gray-400 hover:text-gray-600"}`,children:[p.jsx(r,{className:"h-5 w-5"}),p.jsx("span",{className:"text-xs mt-1",children:n})]})},e))})})},Js=({children:t})=>p.jsxs("div",{className:"min-h-screen flex flex-col",children:[p.jsx("main",{className:"flex-grow w-full pt-0 pb-[calc(6rem+env(safe-area-inset-bottom))]",children:t}),p.jsx(jte,{})]});function Fte(t){const e=t+"CollectionProvider",[n,r]=js(e),[i,o]=n(e,{collectionRef:{current:null},itemMap:new Map}),s=y=>{const{scope:b,children:x}=y,v=xe.useRef(null),E=xe.useRef(new Map).current;return p.jsx(i,{scope:b,itemMap:E,collectionRef:v,children:x})};s.displayName=e;const a=t+"CollectionSlot",l=Ja(a),c=xe.forwardRef((y,b)=>{const{scope:x,children:v}=y,E=o(a,x),S=lt(b,E.collectionRef);return p.jsx(l,{ref:S,children:v})});c.displayName=a;const u=t+"CollectionItemSlot",f="data-radix-collection-item",h=Ja(u),g=xe.forwardRef((y,b)=>{const{scope:x,children:v,...E}=y,S=xe.useRef(null),R=lt(b,S),D=o(u,x);return xe.useEffect(()=>(D.itemMap.set(S,{ref:S,...E}),()=>void D.itemMap.delete(S))),p.jsx(h,{[f]:"",ref:R,children:v})});g.displayName=u;function w(y){const b=o(t+"CollectionConsumer",y);return xe.useCallback(()=>{const v=b.collectionRef.current;if(!v)return[];const E=Array.from(v.querySelectorAll(`[${f}]`));return Array.from(b.itemMap.values()).sort((D,P)=>E.indexOf(D.ref.current)-E.indexOf(P.ref.current))},[b.collectionRef,b.itemMap])}return[{Provider:s,Slot:c,ItemSlot:g},w,r]}var $te=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),Ute="VisuallyHidden",ox=m.forwardRef((t,e)=>p.jsx(ze.span,{...t,ref:e,style:{...$te,...t.style}}));ox.displayName=Ute;var sx="ToastProvider",[ax,Bte,Wte]=Fte("Toast"),[GM,Cne]=js("Toast",[Wte]),[zte,lm]=GM(sx),YM=t=>{const{__scopeToast:e,label:n="Notification",duration:r=5e3,swipeDirection:i="right",swipeThreshold:o=50,children:s}=t,[a,l]=m.useState(null),[c,u]=m.useState(0),f=m.useRef(!1),h=m.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${sx}\`. Expected non-empty \`string\`.`),p.jsx(ax.Provider,{scope:e,children:p.jsx(zte,{scope:e,label:n,duration:r,swipeDirection:i,swipeThreshold:o,toastCount:c,viewport:a,onViewportChange:l,onToastAdd:m.useCallback(()=>u(g=>g+1),[]),onToastRemove:m.useCallback(()=>u(g=>g-1),[]),isFocusedToastEscapeKeyDownRef:f,isClosePausedRef:h,children:s})})};YM.displayName=sx;var KM="ToastViewport",Hte=["F8"],Zy="toast.viewportPause",e0="toast.viewportResume",QM=m.forwardRef((t,e)=>{const{__scopeToast:n,hotkey:r=Hte,label:i="Notifications ({hotkey})",...o}=t,s=lm(KM,n),a=Bte(n),l=m.useRef(null),c=m.useRef(null),u=m.useRef(null),f=m.useRef(null),h=lt(e,f,s.onViewportChange),g=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),w=s.toastCount>0;m.useEffect(()=>{const b=x=>{var E;r.length!==0&&r.every(S=>x[S]||x.code===S)&&((E=f.current)==null||E.focus())};return document.addEventListener("keydown",b),()=>document.removeEventListener("keydown",b)},[r]),m.useEffect(()=>{const b=l.current,x=f.current;if(w&&b&&x){const v=()=>{if(!s.isClosePausedRef.current){const D=new CustomEvent(Zy);x.dispatchEvent(D),s.isClosePausedRef.current=!0}},E=()=>{if(s.isClosePausedRef.current){const D=new CustomEvent(e0);x.dispatchEvent(D),s.isClosePausedRef.current=!1}},S=D=>{!b.contains(D.relatedTarget)&&E()},R=()=>{b.contains(document.activeElement)||E()};return b.addEventListener("focusin",v),b.addEventListener("focusout",S),b.addEventListener("pointermove",v),b.addEventListener("pointerleave",R),window.addEventListener("blur",v),window.addEventListener("focus",E),()=>{b.removeEventListener("focusin",v),b.removeEventListener("focusout",S),b.removeEventListener("pointermove",v),b.removeEventListener("pointerleave",R),window.removeEventListener("blur",v),window.removeEventListener("focus",E)}}},[w,s.isClosePausedRef]);const y=m.useCallback(({tabbingDirection:b})=>{const v=a().map(E=>{const S=E.ref.current,R=[S,...ine(S)];return b==="forwards"?R:R.reverse()});return(b==="forwards"?v.reverse():v).flat()},[a]);return m.useEffect(()=>{const b=f.current;if(b){const x=v=>{var R,D,P;const E=v.altKey||v.ctrlKey||v.metaKey;if(v.key==="Tab"&&!E){const C=document.activeElement,I=v.shiftKey;if(v.target===b&&I){(R=c.current)==null||R.focus();return}const O=y({tabbingDirection:I?"backwards":"forwards"}),N=O.findIndex(F=>F===C);Qg(O.slice(N+1))?v.preventDefault():I?(D=c.current)==null||D.focus():(P=u.current)==null||P.focus()}};return b.addEventListener("keydown",x),()=>b.removeEventListener("keydown",x)}},[a,y]),p.jsxs(LQ,{ref:l,role:"region","aria-label":i.replace("{hotkey}",g),tabIndex:-1,style:{pointerEvents:w?void 0:"none"},children:[w&&p.jsx(t0,{ref:c,onFocusFromOutsideViewport:()=>{const b=y({tabbingDirection:"forwards"});Qg(b)}}),p.jsx(ax.Slot,{scope:n,children:p.jsx(ze.ol,{tabIndex:-1,...o,ref:h})}),w&&p.jsx(t0,{ref:u,onFocusFromOutsideViewport:()=>{const b=y({tabbingDirection:"backwards"});Qg(b)}})]})});QM.displayName=KM;var XM="ToastFocusProxy",t0=m.forwardRef((t,e)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...i}=t,o=lm(XM,n);return p.jsx(ox,{"aria-hidden":!0,tabIndex:0,...i,ref:e,style:{position:"fixed"},onFocus:s=>{var c;const a=s.relatedTarget;!((c=o.viewport)!=null&&c.contains(a))&&r()}})});t0.displayName=XM;var Wu="Toast",qte="toast.swipeStart",Gte="toast.swipeMove",Yte="toast.swipeCancel",Kte="toast.swipeEnd",JM=m.forwardRef((t,e)=>{const{forceMount:n,open:r,defaultOpen:i,onOpenChange:o,...s}=t,[a,l]=Up({prop:r,defaultProp:i??!0,onChange:o,caller:Wu});return p.jsx(tr,{present:n||a,children:p.jsx(Jte,{open:a,...s,ref:e,onClose:()=>l(!1),onPause:Ht(t.onPause),onResume:Ht(t.onResume),onSwipeStart:$e(t.onSwipeStart,c=>{c.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:$e(t.onSwipeMove,c=>{const{x:u,y:f}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","move"),c.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${u}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${f}px`)}),onSwipeCancel:$e(t.onSwipeCancel,c=>{c.currentTarget.setAttribute("data-swipe","cancel"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:$e(t.onSwipeEnd,c=>{const{x:u,y:f}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","end"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${u}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${f}px`),l(!1)})})})});JM.displayName=Wu;var[Qte,Xte]=GM(Wu,{onClose(){}}),Jte=m.forwardRef((t,e)=>{const{__scopeToast:n,type:r="foreground",duration:i,open:o,onClose:s,onEscapeKeyDown:a,onPause:l,onResume:c,onSwipeStart:u,onSwipeMove:f,onSwipeCancel:h,onSwipeEnd:g,...w}=t,y=lm(Wu,n),[b,x]=m.useState(null),v=lt(e,F=>x(F)),E=m.useRef(null),S=m.useRef(null),R=i||y.duration,D=m.useRef(0),P=m.useRef(R),C=m.useRef(0),{onToastAdd:I,onToastRemove:A}=y,M=Ht(()=>{var G;(b==null?void 0:b.contains(document.activeElement))&&((G=y.viewport)==null||G.focus()),s()}),O=m.useCallback(F=>{!F||F===1/0||(window.clearTimeout(C.current),D.current=new Date().getTime(),C.current=window.setTimeout(M,F))},[M]);m.useEffect(()=>{const F=y.viewport;if(F){const G=()=>{O(P.current),c==null||c()},K=()=>{const W=new Date().getTime()-D.current;P.current=P.current-W,window.clearTimeout(C.current),l==null||l()};return F.addEventListener(Zy,K),F.addEventListener(e0,G),()=>{F.removeEventListener(Zy,K),F.removeEventListener(e0,G)}}},[y.viewport,R,l,c,O]),m.useEffect(()=>{o&&!y.isClosePausedRef.current&&O(R)},[o,R,y.isClosePausedRef,O]),m.useEffect(()=>(I(),()=>A()),[I,A]);const N=m.useMemo(()=>b?oO(b):null,[b]);return y.viewport?p.jsxs(p.Fragment,{children:[N&&p.jsx(Zte,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:N}),p.jsx(Qte,{scope:n,onClose:M,children:$o.createPortal(p.jsx(ax.ItemSlot,{scope:n,children:p.jsx(OQ,{asChild:!0,onEscapeKeyDown:$e(a,()=>{y.isFocusedToastEscapeKeyDownRef.current||M(),y.isFocusedToastEscapeKeyDownRef.current=!1}),children:p.jsx(ze.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":o?"open":"closed","data-swipe-direction":y.swipeDirection,...w,ref:v,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:$e(t.onKeyDown,F=>{F.key==="Escape"&&(a==null||a(F.nativeEvent),F.nativeEvent.defaultPrevented||(y.isFocusedToastEscapeKeyDownRef.current=!0,M()))}),onPointerDown:$e(t.onPointerDown,F=>{F.button===0&&(E.current={x:F.clientX,y:F.clientY})}),onPointerMove:$e(t.onPointerMove,F=>{if(!E.current)return;const G=F.clientX-E.current.x,K=F.clientY-E.current.y,W=!!S.current,L=["left","right"].includes(y.swipeDirection),j=["left","up"].includes(y.swipeDirection)?Math.min:Math.max,U=L?j(0,G):0,z=L?0:j(0,K),B=F.pointerType==="touch"?10:2,H={x:U,y:z},Z={originalEvent:F,delta:H};W?(S.current=H,Hd(Gte,f,Z,{discrete:!1})):lS(H,y.swipeDirection,B)?(S.current=H,Hd(qte,u,Z,{discrete:!1}),F.target.setPointerCapture(F.pointerId)):(Math.abs(G)>B||Math.abs(K)>B)&&(E.current=null)}),onPointerUp:$e(t.onPointerUp,F=>{const G=S.current,K=F.target;if(K.hasPointerCapture(F.pointerId)&&K.releasePointerCapture(F.pointerId),S.current=null,E.current=null,G){const W=F.currentTarget,L={originalEvent:F,delta:G};lS(G,y.swipeDirection,y.swipeThreshold)?Hd(Kte,g,L,{discrete:!0}):Hd(Yte,h,L,{discrete:!0}),W.addEventListener("click",j=>j.preventDefault(),{once:!0})}})})})}),y.viewport)})]}):null}),Zte=t=>{const{__scopeToast:e,children:n,...r}=t,i=lm(Wu,e),[o,s]=m.useState(!1),[a,l]=m.useState(!1);return nne(()=>s(!0)),m.useEffect(()=>{const c=window.setTimeout(()=>l(!0),1e3);return()=>window.clearTimeout(c)},[]),a?null:p.jsx(Yp,{asChild:!0,children:p.jsx(ox,{...r,children:o&&p.jsxs(p.Fragment,{children:[i.label," ",n]})})})},ene="ToastTitle",ZM=m.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return p.jsx(ze.div,{...r,ref:e})});ZM.displayName=ene;var tne="ToastDescription",eO=m.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return p.jsx(ze.div,{...r,ref:e})});eO.displayName=tne;var tO="ToastAction",nO=m.forwardRef((t,e)=>{const{altText:n,...r}=t;return n.trim()?p.jsx(iO,{altText:n,asChild:!0,children:p.jsx(lx,{...r,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${tO}\`. Expected non-empty \`string\`.`),null)});nO.displayName=tO;var rO="ToastClose",lx=m.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t,i=Xte(rO,n);return p.jsx(iO,{asChild:!0,children:p.jsx(ze.button,{type:"button",...r,ref:e,onClick:$e(t.onClick,i.onClose)})})});lx.displayName=rO;var iO=m.forwardRef((t,e)=>{const{__scopeToast:n,altText:r,...i}=t;return p.jsx(ze.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...i,ref:e})});function oO(t){const e=[];return Array.from(t.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&e.push(r.textContent),rne(r)){const i=r.ariaHidden||r.hidden||r.style.display==="none",o=r.dataset.radixToastAnnounceExclude==="";if(!i)if(o){const s=r.dataset.radixToastAnnounceAlt;s&&e.push(s)}else e.push(...oO(r))}}),e}function Hd(t,e,n,{discrete:r}){const i=n.originalEvent.currentTarget,o=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:n});e&&i.addEventListener(t,e,{once:!0}),r?gR(i,o):i.dispatchEvent(o)}var lS=(t,e,n=0)=>{const r=Math.abs(t.x),i=Math.abs(t.y),o=r>i;return e==="left"||e==="right"?o&&r>n:!o&&i>n};function nne(t=()=>{}){const e=Ht(t);qr(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[e])}function rne(t){return t.nodeType===t.ELEMENT_NODE}function ine(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function Qg(t){const e=document.activeElement;return t.some(n=>n===e?!0:(n.focus(),document.activeElement!==e))}var one=YM,sO=QM,aO=JM,lO=ZM,cO=eO,uO=nO,dO=lx;const sne=one,fO=xe.forwardRef(({className:t,...e},n)=>p.jsx(sO,{ref:n,className:Ue("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));fO.displayName=sO.displayName;const ane=Np("data-[swipe=move]:transition-none group relative pointer-events-auto flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full data-[state=closed]:slide-out-to-right-full",{variants:{variant:{default:"bg-background border",destructive:"group destructive border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),hO=xe.forwardRef(({className:t,variant:e,...n},r)=>p.jsx(aO,{ref:r,className:Ue(ane({variant:e}),t),...n}));hO.displayName=aO.displayName;const lne=xe.forwardRef(({className:t,...e},n)=>p.jsx(uO,{ref:n,className:Ue("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-destructive/30 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...e}));lne.displayName=uO.displayName;const pO=xe.forwardRef(({className:t,...e},n)=>p.jsx(dO,{ref:n,className:Ue("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:p.jsx(h1,{className:"h-4 w-4"})}));pO.displayName=dO.displayName;const mO=xe.forwardRef(({className:t,...e},n)=>p.jsx(lO,{ref:n,className:Ue("text-sm font-semibold",t),...e}));mO.displayName=lO.displayName;const gO=xe.forwardRef(({className:t,...e},n)=>p.jsx(cO,{ref:n,className:Ue("text-sm opacity-90",t),...e}));gO.displayName=cO.displayName;function cne(){const{toasts:t}=zo();return p.jsxs(sne,{children:[t.map(({id:e,title:n,description:r,action:i,...o})=>p.jsxs(hO,{...o,children:[p.jsxs("div",{className:"grid gap-1",children:[n&&p.jsx(mO,{children:n}),r&&p.jsx(gO,{children:r})]}),i,p.jsx(pO,{})]},e)),p.jsx(fO,{})]})}function Zs({children:t}){const{user:e}=_l();return e?t:p.jsx(Hv,{to:"/auth",replace:!0})}function une(){const{user:t,loadingAuth:e}=_l();return e?p.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gradient-to-br from-pink-50 via-purple-50 to-indigo-50 space-y-4",children:[p.jsx(Ee.div,{className:"w-8 h-8 rounded-full bg-pink-500/80",animate:{opacity:[.4,1,.4]},transition:{duration:1.2,repeat:1/0}}),p.jsx(Ee.p,{className:"text-pink-600 font-medium",initial:{opacity:0},animate:{opacity:1},transition:{delay:.2},children:"Cargando aplicación..."})]}):p.jsxs(o5,{children:[p.jsx(ni,{path:"/auth",element:t?p.jsx(Hv,{to:"/",replace:!0}):p.jsx(hH,{})}),p.jsx(ni,{path:"/",element:p.jsx(Zs,{children:p.jsx(Js,{children:p.jsx(ete,{})})})}),p.jsx(ni,{path:"/chart",element:p.jsx(Zs,{children:p.jsx(Js,{children:p.jsx(Lte,{})})})}),p.jsx(ni,{path:"/records",element:p.jsx(Zs,{children:p.jsx(Js,{children:p.jsx(Vte,{})})})}),p.jsx(ni,{path:"/archived-cycles",element:p.jsx(Zs,{children:p.jsx(Js,{children:p.jsx(nte,{})})})}),p.jsx(ni,{path:"/settings",element:p.jsx(Zs,{children:p.jsx(Js,{children:p.jsx(Ote,{})})})}),p.jsx(ni,{path:"/cycle/:cycleId",element:p.jsx(Zs,{children:p.jsx(Js,{children:p.jsx(Mte,{})})})}),p.jsx(ni,{path:"*",element:p.jsx(Hv,{to:t?"/":"/auth",replace:!0})})]})}function dne(){return p.jsx(h5,{children:p.jsxs(zU,{children:[p.jsx(une,{}),p.jsx(cne,{})]})})}Xg.createRoot(document.getElementById("root")).render(p.jsx(xe.StrictMode,{children:p.jsx(dne,{})}));"serviceWorker"in navigator&&window.addEventListener("load",()=>{const t="/sw.js";navigator.serviceWorker.register(t)});
