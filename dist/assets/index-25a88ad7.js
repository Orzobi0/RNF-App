function rL(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(t,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();function hS(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var pS={exports:{}},Vh={},mS={exports:{}},Pe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mu=Symbol.for("react.element"),iL=Symbol.for("react.portal"),oL=Symbol.for("react.fragment"),sL=Symbol.for("react.strict_mode"),aL=Symbol.for("react.profiler"),lL=Symbol.for("react.provider"),cL=Symbol.for("react.context"),uL=Symbol.for("react.forward_ref"),dL=Symbol.for("react.suspense"),fL=Symbol.for("react.memo"),hL=Symbol.for("react.lazy"),rx=Symbol.iterator;function pL(t){return t===null||typeof t!="object"?null:(t=rx&&t[rx]||t["@@iterator"],typeof t=="function"?t:null)}var gS={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},vS=Object.assign,yS={};function tl(t,e,n){this.props=t,this.context=e,this.refs=yS,this.updater=n||gS}tl.prototype.isReactComponent={};tl.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};tl.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function wS(){}wS.prototype=tl.prototype;function Ky(t,e,n){this.props=t,this.context=e,this.refs=yS,this.updater=n||gS}var Qy=Ky.prototype=new wS;Qy.constructor=Ky;vS(Qy,tl.prototype);Qy.isPureReactComponent=!0;var ix=Array.isArray,_S=Object.prototype.hasOwnProperty,Xy={current:null},xS={key:!0,ref:!0,__self:!0,__source:!0};function ES(t,e,n){var r,i={},o=null,s=null;if(e!=null)for(r in e.ref!==void 0&&(s=e.ref),e.key!==void 0&&(o=""+e.key),e)_S.call(e,r)&&!xS.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:mu,type:t,key:o,ref:s,props:i,_owner:Xy.current}}function mL(t,e){return{$$typeof:mu,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Jy(t){return typeof t=="object"&&t!==null&&t.$$typeof===mu}function gL(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var ox=/\/+/g;function Em(t,e){return typeof t=="object"&&t!==null&&t.key!=null?gL(""+t.key):e.toString(36)}function Yd(t,e,n,r,i){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var s=!1;if(t===null)s=!0;else switch(o){case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case mu:case iL:s=!0}}if(s)return s=t,i=i(s),t=r===""?"."+Em(s,0):r,ix(i)?(n="",t!=null&&(n=t.replace(ox,"$&/")+"/"),Yd(i,e,n,"",function(c){return c})):i!=null&&(Jy(i)&&(i=mL(i,n+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(ox,"$&/")+"/")+t)),e.push(i)),1;if(s=0,r=r===""?".":r+":",ix(t))for(var a=0;a<t.length;a++){o=t[a];var l=r+Em(o,a);s+=Yd(o,e,n,l,i)}else if(l=pL(t),typeof l=="function")for(t=l.call(t),a=0;!(o=t.next()).done;)o=o.value,l=r+Em(o,a++),s+=Yd(o,e,n,l,i);else if(o==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return s}function cd(t,e,n){if(t==null)return t;var r=[],i=0;return Yd(t,r,"","",function(o){return e.call(n,o,i++)}),r}function vL(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var mn={current:null},Kd={transition:null},yL={ReactCurrentDispatcher:mn,ReactCurrentBatchConfig:Kd,ReactCurrentOwner:Xy};function bS(){throw Error("act(...) is not supported in production builds of React.")}Pe.Children={map:cd,forEach:function(t,e,n){cd(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return cd(t,function(){e++}),e},toArray:function(t){return cd(t,function(e){return e})||[]},only:function(t){if(!Jy(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Pe.Component=tl;Pe.Fragment=oL;Pe.Profiler=aL;Pe.PureComponent=Ky;Pe.StrictMode=sL;Pe.Suspense=dL;Pe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=yL;Pe.act=bS;Pe.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=vS({},t.props),i=t.key,o=t.ref,s=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,s=Xy.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)_S.call(e,l)&&!xS.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:mu,type:t.type,key:i,ref:o,props:r,_owner:s}};Pe.createContext=function(t){return t={$$typeof:cL,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:lL,_context:t},t.Consumer=t};Pe.createElement=ES;Pe.createFactory=function(t){var e=ES.bind(null,t);return e.type=t,e};Pe.createRef=function(){return{current:null}};Pe.forwardRef=function(t){return{$$typeof:uL,render:t}};Pe.isValidElement=Jy;Pe.lazy=function(t){return{$$typeof:hL,_payload:{_status:-1,_result:t},_init:vL}};Pe.memo=function(t,e){return{$$typeof:fL,type:t,compare:e===void 0?null:e}};Pe.startTransition=function(t){var e=Kd.transition;Kd.transition={};try{t()}finally{Kd.transition=e}};Pe.unstable_act=bS;Pe.useCallback=function(t,e){return mn.current.useCallback(t,e)};Pe.useContext=function(t){return mn.current.useContext(t)};Pe.useDebugValue=function(){};Pe.useDeferredValue=function(t){return mn.current.useDeferredValue(t)};Pe.useEffect=function(t,e){return mn.current.useEffect(t,e)};Pe.useId=function(){return mn.current.useId()};Pe.useImperativeHandle=function(t,e,n){return mn.current.useImperativeHandle(t,e,n)};Pe.useInsertionEffect=function(t,e){return mn.current.useInsertionEffect(t,e)};Pe.useLayoutEffect=function(t,e){return mn.current.useLayoutEffect(t,e)};Pe.useMemo=function(t,e){return mn.current.useMemo(t,e)};Pe.useReducer=function(t,e,n){return mn.current.useReducer(t,e,n)};Pe.useRef=function(t){return mn.current.useRef(t)};Pe.useState=function(t){return mn.current.useState(t)};Pe.useSyncExternalStore=function(t,e,n){return mn.current.useSyncExternalStore(t,e,n)};Pe.useTransition=function(){return mn.current.useTransition()};Pe.version="18.3.1";mS.exports=Pe;var m=mS.exports;const _e=hS(m),jh=rL({__proto__:null,default:_e},[m]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wL=m,_L=Symbol.for("react.element"),xL=Symbol.for("react.fragment"),EL=Object.prototype.hasOwnProperty,bL=wL.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,TL={key:!0,ref:!0,__self:!0,__source:!0};function TS(t,e,n){var r,i={},o=null,s=null;n!==void 0&&(o=""+n),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(s=e.ref);for(r in e)EL.call(e,r)&&!TL.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:_L,type:t,key:o,ref:s,props:i,_owner:bL.current}}Vh.Fragment=xL;Vh.jsx=TS;Vh.jsxs=TS;pS.exports=Vh;var p=pS.exports,Gg={},CS={exports:{}},jn={},SS={exports:{}},PS={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(L,V){var $=L.length;L.push(V);e:for(;0<$;){var F=$-1>>>1,W=L[F];if(0<i(W,V))L[F]=V,L[$]=W,$=F;else break e}}function n(L){return L.length===0?null:L[0]}function r(L){if(L.length===0)return null;var V=L[0],$=L.pop();if($!==V){L[0]=$;e:for(var F=0,W=L.length,K=W>>>1;F<K;){var oe=2*(F+1)-1,pe=L[oe],ce=oe+1,X=L[ce];if(0>i(pe,$))ce<W&&0>i(X,pe)?(L[F]=X,L[ce]=$,F=ce):(L[F]=pe,L[oe]=$,F=oe);else if(ce<W&&0>i(X,$))L[F]=X,L[ce]=$,F=ce;else break e}}return V}function i(L,V){var $=L.sortIndex-V.sortIndex;return $!==0?$:L.id-V.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,a=s.now();t.unstable_now=function(){return s.now()-a}}var l=[],c=[],u=1,f=null,h=3,g=!1,w=!1,v=!1,E=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(L){for(var V=n(c);V!==null;){if(V.callback===null)r(c);else if(V.startTime<=L)r(c),V.sortIndex=V.expirationTime,e(l,V);else break;V=n(c)}}function I(L){if(v=!1,b(L),!w)if(n(l)!==null)w=!0,Y(N);else{var V=n(c);V!==null&&z(I,V.startTime-L)}}function N(L,V){w=!1,v&&(v=!1,_(C),C=-1),g=!0;var $=h;try{for(b(V),f=n(l);f!==null&&(!(f.expirationTime>V)||L&&!M());){var F=f.callback;if(typeof F=="function"){f.callback=null,h=f.priorityLevel;var W=F(f.expirationTime<=V);V=t.unstable_now(),typeof W=="function"?f.callback=W:f===n(l)&&r(l),b(V)}else r(l);f=n(l)}if(f!==null)var K=!0;else{var oe=n(c);oe!==null&&z(I,oe.startTime-V),K=!1}return K}finally{f=null,h=$,g=!1}}var O=!1,S=null,C=-1,P=5,A=-1;function M(){return!(t.unstable_now()-A<P)}function D(){if(S!==null){var L=t.unstable_now();A=L;var V=!0;try{V=S(!0,L)}finally{V?k():(O=!1,S=null)}}else O=!1}var k;if(typeof y=="function")k=function(){y(D)};else if(typeof MessageChannel<"u"){var B=new MessageChannel,G=B.port2;B.port1.onmessage=D,k=function(){G.postMessage(null)}}else k=function(){E(D,0)};function Y(L){S=L,O||(O=!0,k())}function z(L,V){C=E(function(){L(t.unstable_now())},V)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(L){L.callback=null},t.unstable_continueExecution=function(){w||g||(w=!0,Y(N))},t.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<L?Math.floor(1e3/L):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(L){switch(h){case 1:case 2:case 3:var V=3;break;default:V=h}var $=h;h=V;try{return L()}finally{h=$}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(L,V){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var $=h;h=L;try{return V()}finally{h=$}},t.unstable_scheduleCallback=function(L,V,$){var F=t.unstable_now();switch(typeof $=="object"&&$!==null?($=$.delay,$=typeof $=="number"&&0<$?F+$:F):$=F,L){case 1:var W=-1;break;case 2:W=250;break;case 5:W=1073741823;break;case 4:W=1e4;break;default:W=5e3}return W=$+W,L={id:u++,callback:V,priorityLevel:L,startTime:$,expirationTime:W,sortIndex:-1},$>F?(L.sortIndex=$,e(c,L),n(l)===null&&L===n(c)&&(v?(_(C),C=-1):v=!0,z(I,$-F))):(L.sortIndex=W,e(l,L),w||g||(w=!0,Y(N))),L},t.unstable_shouldYield=M,t.unstable_wrapCallback=function(L){var V=h;return function(){var $=h;h=V;try{return L.apply(this,arguments)}finally{h=$}}}})(PS);SS.exports=PS;var CL=SS.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var SL=m,Ln=CL;function Q(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var IS=new Set,Rc={};function Ps(t,e){ka(t,e),ka(t+"Capture",e)}function ka(t,e){for(Rc[t]=e,t=0;t<e.length;t++)IS.add(e[t])}var di=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Yg=Object.prototype.hasOwnProperty,PL=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,sx={},ax={};function IL(t){return Yg.call(ax,t)?!0:Yg.call(sx,t)?!1:PL.test(t)?ax[t]=!0:(sx[t]=!0,!1)}function AL(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function RL(t,e,n,r){if(e===null||typeof e>"u"||AL(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function gn(t,e,n,r,i,o,s){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=s}var Ht={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Ht[t]=new gn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Ht[e]=new gn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Ht[t]=new gn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Ht[t]=new gn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Ht[t]=new gn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Ht[t]=new gn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Ht[t]=new gn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Ht[t]=new gn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Ht[t]=new gn(t,5,!1,t.toLowerCase(),null,!1,!1)});var Zy=/[\-:]([a-z])/g;function e0(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Zy,e0);Ht[e]=new gn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Zy,e0);Ht[e]=new gn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Zy,e0);Ht[e]=new gn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Ht[t]=new gn(t,1,!1,t.toLowerCase(),null,!1,!1)});Ht.xlinkHref=new gn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Ht[t]=new gn(t,1,!1,t.toLowerCase(),null,!0,!0)});function t0(t,e,n,r){var i=Ht.hasOwnProperty(e)?Ht[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(RL(e,n,i,r)&&(n=null),r||i===null?IL(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Ci=SL.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ud=Symbol.for("react.element"),Zs=Symbol.for("react.portal"),ea=Symbol.for("react.fragment"),n0=Symbol.for("react.strict_mode"),Kg=Symbol.for("react.profiler"),AS=Symbol.for("react.provider"),RS=Symbol.for("react.context"),r0=Symbol.for("react.forward_ref"),Qg=Symbol.for("react.suspense"),Xg=Symbol.for("react.suspense_list"),i0=Symbol.for("react.memo"),Ui=Symbol.for("react.lazy"),kS=Symbol.for("react.offscreen"),lx=Symbol.iterator;function Ll(t){return t===null||typeof t!="object"?null:(t=lx&&t[lx]||t["@@iterator"],typeof t=="function"?t:null)}var ht=Object.assign,bm;function Xl(t){if(bm===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);bm=e&&e[1]||""}return`
`+bm+t}var Tm=!1;function Cm(t,e){if(!t||Tm)return"";Tm=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),o=r.stack.split(`
`),s=i.length-1,a=o.length-1;1<=s&&0<=a&&i[s]!==o[a];)a--;for(;1<=s&&0<=a;s--,a--)if(i[s]!==o[a]){if(s!==1||a!==1)do if(s--,a--,0>a||i[s]!==o[a]){var l=`
`+i[s].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=s&&0<=a);break}}}finally{Tm=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Xl(t):""}function kL(t){switch(t.tag){case 5:return Xl(t.type);case 16:return Xl("Lazy");case 13:return Xl("Suspense");case 19:return Xl("SuspenseList");case 0:case 2:case 15:return t=Cm(t.type,!1),t;case 11:return t=Cm(t.type.render,!1),t;case 1:return t=Cm(t.type,!0),t;default:return""}}function Jg(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case ea:return"Fragment";case Zs:return"Portal";case Kg:return"Profiler";case n0:return"StrictMode";case Qg:return"Suspense";case Xg:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case RS:return(t.displayName||"Context")+".Consumer";case AS:return(t._context.displayName||"Context")+".Provider";case r0:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case i0:return e=t.displayName||null,e!==null?e:Jg(t.type)||"Memo";case Ui:e=t._payload,t=t._init;try{return Jg(t(e))}catch{}}return null}function NL(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Jg(e);case 8:return e===n0?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function xo(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function NS(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function DL(t){var e=NS(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(s){r=""+s,o.call(this,s)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function dd(t){t._valueTracker||(t._valueTracker=DL(t))}function DS(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=NS(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function bf(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Zg(t,e){var n=e.checked;return ht({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function cx(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=xo(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function MS(t,e){e=e.checked,e!=null&&t0(t,"checked",e,!1)}function ev(t,e){MS(t,e);var n=xo(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?tv(t,e.type,n):e.hasOwnProperty("defaultValue")&&tv(t,e.type,xo(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function ux(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function tv(t,e,n){(e!=="number"||bf(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Jl=Array.isArray;function va(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+xo(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function nv(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(Q(91));return ht({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function dx(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(Q(92));if(Jl(n)){if(1<n.length)throw Error(Q(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:xo(n)}}function OS(t,e){var n=xo(e.value),r=xo(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function fx(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function LS(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function rv(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?LS(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var fd,VS=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(fd=fd||document.createElement("div"),fd.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=fd.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function kc(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var lc={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ML=["Webkit","ms","Moz","O"];Object.keys(lc).forEach(function(t){ML.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),lc[e]=lc[t]})});function jS(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||lc.hasOwnProperty(t)&&lc[t]?(""+e).trim():e+"px"}function FS(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=jS(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var OL=ht({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function iv(t,e){if(e){if(OL[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(Q(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(Q(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(Q(61))}if(e.style!=null&&typeof e.style!="object")throw Error(Q(62))}}function ov(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var sv=null;function o0(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var av=null,ya=null,wa=null;function hx(t){if(t=yu(t)){if(typeof av!="function")throw Error(Q(280));var e=t.stateNode;e&&(e=Wh(e),av(t.stateNode,t.type,e))}}function $S(t){ya?wa?wa.push(t):wa=[t]:ya=t}function US(){if(ya){var t=ya,e=wa;if(wa=ya=null,hx(t),e)for(t=0;t<e.length;t++)hx(e[t])}}function BS(t,e){return t(e)}function WS(){}var Sm=!1;function zS(t,e,n){if(Sm)return t(e,n);Sm=!0;try{return BS(t,e,n)}finally{Sm=!1,(ya!==null||wa!==null)&&(WS(),US())}}function Nc(t,e){var n=t.stateNode;if(n===null)return null;var r=Wh(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(Q(231,e,typeof n));return n}var lv=!1;if(di)try{var Vl={};Object.defineProperty(Vl,"passive",{get:function(){lv=!0}}),window.addEventListener("test",Vl,Vl),window.removeEventListener("test",Vl,Vl)}catch{lv=!1}function LL(t,e,n,r,i,o,s,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(u){this.onError(u)}}var cc=!1,Tf=null,Cf=!1,cv=null,VL={onError:function(t){cc=!0,Tf=t}};function jL(t,e,n,r,i,o,s,a,l){cc=!1,Tf=null,LL.apply(VL,arguments)}function FL(t,e,n,r,i,o,s,a,l){if(jL.apply(this,arguments),cc){if(cc){var c=Tf;cc=!1,Tf=null}else throw Error(Q(198));Cf||(Cf=!0,cv=c)}}function Is(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function HS(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function px(t){if(Is(t)!==t)throw Error(Q(188))}function $L(t){var e=t.alternate;if(!e){if(e=Is(t),e===null)throw Error(Q(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return px(i),t;if(o===r)return px(i),e;o=o.sibling}throw Error(Q(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,a=i.child;a;){if(a===n){s=!0,n=i,r=o;break}if(a===r){s=!0,r=i,n=o;break}a=a.sibling}if(!s){for(a=o.child;a;){if(a===n){s=!0,n=o,r=i;break}if(a===r){s=!0,r=o,n=i;break}a=a.sibling}if(!s)throw Error(Q(189))}}if(n.alternate!==r)throw Error(Q(190))}if(n.tag!==3)throw Error(Q(188));return n.stateNode.current===n?t:e}function qS(t){return t=$L(t),t!==null?GS(t):null}function GS(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=GS(t);if(e!==null)return e;t=t.sibling}return null}var YS=Ln.unstable_scheduleCallback,mx=Ln.unstable_cancelCallback,UL=Ln.unstable_shouldYield,BL=Ln.unstable_requestPaint,_t=Ln.unstable_now,WL=Ln.unstable_getCurrentPriorityLevel,s0=Ln.unstable_ImmediatePriority,KS=Ln.unstable_UserBlockingPriority,Sf=Ln.unstable_NormalPriority,zL=Ln.unstable_LowPriority,QS=Ln.unstable_IdlePriority,Fh=null,Ar=null;function HL(t){if(Ar&&typeof Ar.onCommitFiberRoot=="function")try{Ar.onCommitFiberRoot(Fh,t,void 0,(t.current.flags&128)===128)}catch{}}var ar=Math.clz32?Math.clz32:YL,qL=Math.log,GL=Math.LN2;function YL(t){return t>>>=0,t===0?32:31-(qL(t)/GL|0)|0}var hd=64,pd=4194304;function Zl(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Pf(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,o=t.pingedLanes,s=n&268435455;if(s!==0){var a=s&~i;a!==0?r=Zl(a):(o&=s,o!==0&&(r=Zl(o)))}else s=n&~i,s!==0?r=Zl(s):o!==0&&(r=Zl(o));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,o=e&-e,i>=o||i===16&&(o&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-ar(e),i=1<<n,r|=t[n],e&=~i;return r}function KL(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function QL(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,o=t.pendingLanes;0<o;){var s=31-ar(o),a=1<<s,l=i[s];l===-1?(!(a&n)||a&r)&&(i[s]=KL(a,e)):l<=e&&(t.expiredLanes|=a),o&=~a}}function uv(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function XS(){var t=hd;return hd<<=1,!(hd&4194240)&&(hd=64),t}function Pm(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function gu(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-ar(e),t[e]=n}function XL(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-ar(n),o=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~o}}function a0(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-ar(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var qe=0;function JS(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var ZS,l0,eP,tP,nP,dv=!1,md=[],to=null,no=null,ro=null,Dc=new Map,Mc=new Map,zi=[],JL="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function gx(t,e){switch(t){case"focusin":case"focusout":to=null;break;case"dragenter":case"dragleave":no=null;break;case"mouseover":case"mouseout":ro=null;break;case"pointerover":case"pointerout":Dc.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Mc.delete(e.pointerId)}}function jl(t,e,n,r,i,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},e!==null&&(e=yu(e),e!==null&&l0(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function ZL(t,e,n,r,i){switch(e){case"focusin":return to=jl(to,t,e,n,r,i),!0;case"dragenter":return no=jl(no,t,e,n,r,i),!0;case"mouseover":return ro=jl(ro,t,e,n,r,i),!0;case"pointerover":var o=i.pointerId;return Dc.set(o,jl(Dc.get(o)||null,t,e,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,Mc.set(o,jl(Mc.get(o)||null,t,e,n,r,i)),!0}return!1}function rP(t){var e=ts(t.target);if(e!==null){var n=Is(e);if(n!==null){if(e=n.tag,e===13){if(e=HS(n),e!==null){t.blockedOn=e,nP(t.priority,function(){eP(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Qd(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=fv(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);sv=r,n.target.dispatchEvent(r),sv=null}else return e=yu(n),e!==null&&l0(e),t.blockedOn=n,!1;e.shift()}return!0}function vx(t,e,n){Qd(t)&&n.delete(e)}function e4(){dv=!1,to!==null&&Qd(to)&&(to=null),no!==null&&Qd(no)&&(no=null),ro!==null&&Qd(ro)&&(ro=null),Dc.forEach(vx),Mc.forEach(vx)}function Fl(t,e){t.blockedOn===e&&(t.blockedOn=null,dv||(dv=!0,Ln.unstable_scheduleCallback(Ln.unstable_NormalPriority,e4)))}function Oc(t){function e(i){return Fl(i,t)}if(0<md.length){Fl(md[0],t);for(var n=1;n<md.length;n++){var r=md[n];r.blockedOn===t&&(r.blockedOn=null)}}for(to!==null&&Fl(to,t),no!==null&&Fl(no,t),ro!==null&&Fl(ro,t),Dc.forEach(e),Mc.forEach(e),n=0;n<zi.length;n++)r=zi[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<zi.length&&(n=zi[0],n.blockedOn===null);)rP(n),n.blockedOn===null&&zi.shift()}var _a=Ci.ReactCurrentBatchConfig,If=!0;function t4(t,e,n,r){var i=qe,o=_a.transition;_a.transition=null;try{qe=1,c0(t,e,n,r)}finally{qe=i,_a.transition=o}}function n4(t,e,n,r){var i=qe,o=_a.transition;_a.transition=null;try{qe=4,c0(t,e,n,r)}finally{qe=i,_a.transition=o}}function c0(t,e,n,r){if(If){var i=fv(t,e,n,r);if(i===null)Vm(t,e,r,Af,n),gx(t,r);else if(ZL(i,t,e,n,r))r.stopPropagation();else if(gx(t,r),e&4&&-1<JL.indexOf(t)){for(;i!==null;){var o=yu(i);if(o!==null&&ZS(o),o=fv(t,e,n,r),o===null&&Vm(t,e,r,Af,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else Vm(t,e,r,null,n)}}var Af=null;function fv(t,e,n,r){if(Af=null,t=o0(r),t=ts(t),t!==null)if(e=Is(t),e===null)t=null;else if(n=e.tag,n===13){if(t=HS(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Af=t,null}function iP(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(WL()){case s0:return 1;case KS:return 4;case Sf:case zL:return 16;case QS:return 536870912;default:return 16}default:return 16}}var Qi=null,u0=null,Xd=null;function oP(){if(Xd)return Xd;var t,e=u0,n=e.length,r,i="value"in Qi?Qi.value:Qi.textContent,o=i.length;for(t=0;t<n&&e[t]===i[t];t++);var s=n-t;for(r=1;r<=s&&e[n-r]===i[o-r];r++);return Xd=i.slice(t,1<r?1-r:void 0)}function Jd(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function gd(){return!0}function yx(){return!1}function Fn(t){function e(n,r,i,o,s){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=s,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(o):o[a]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?gd:yx,this.isPropagationStopped=yx,this}return ht(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=gd)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=gd)},persist:function(){},isPersistent:gd}),e}var nl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},d0=Fn(nl),vu=ht({},nl,{view:0,detail:0}),r4=Fn(vu),Im,Am,$l,$h=ht({},vu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:f0,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==$l&&($l&&t.type==="mousemove"?(Im=t.screenX-$l.screenX,Am=t.screenY-$l.screenY):Am=Im=0,$l=t),Im)},movementY:function(t){return"movementY"in t?t.movementY:Am}}),wx=Fn($h),i4=ht({},$h,{dataTransfer:0}),o4=Fn(i4),s4=ht({},vu,{relatedTarget:0}),Rm=Fn(s4),a4=ht({},nl,{animationName:0,elapsedTime:0,pseudoElement:0}),l4=Fn(a4),c4=ht({},nl,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),u4=Fn(c4),d4=ht({},nl,{data:0}),_x=Fn(d4),f4={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},h4={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},p4={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function m4(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=p4[t])?!!e[t]:!1}function f0(){return m4}var g4=ht({},vu,{key:function(t){if(t.key){var e=f4[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Jd(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?h4[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:f0,charCode:function(t){return t.type==="keypress"?Jd(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Jd(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),v4=Fn(g4),y4=ht({},$h,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),xx=Fn(y4),w4=ht({},vu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:f0}),_4=Fn(w4),x4=ht({},nl,{propertyName:0,elapsedTime:0,pseudoElement:0}),E4=Fn(x4),b4=ht({},$h,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),T4=Fn(b4),C4=[9,13,27,32],h0=di&&"CompositionEvent"in window,uc=null;di&&"documentMode"in document&&(uc=document.documentMode);var S4=di&&"TextEvent"in window&&!uc,sP=di&&(!h0||uc&&8<uc&&11>=uc),Ex=String.fromCharCode(32),bx=!1;function aP(t,e){switch(t){case"keyup":return C4.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function lP(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ta=!1;function P4(t,e){switch(t){case"compositionend":return lP(e);case"keypress":return e.which!==32?null:(bx=!0,Ex);case"textInput":return t=e.data,t===Ex&&bx?null:t;default:return null}}function I4(t,e){if(ta)return t==="compositionend"||!h0&&aP(t,e)?(t=oP(),Xd=u0=Qi=null,ta=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return sP&&e.locale!=="ko"?null:e.data;default:return null}}var A4={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Tx(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!A4[t.type]:e==="textarea"}function cP(t,e,n,r){$S(r),e=Rf(e,"onChange"),0<e.length&&(n=new d0("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var dc=null,Lc=null;function R4(t){_P(t,0)}function Uh(t){var e=ia(t);if(DS(e))return t}function k4(t,e){if(t==="change")return e}var uP=!1;if(di){var km;if(di){var Nm="oninput"in document;if(!Nm){var Cx=document.createElement("div");Cx.setAttribute("oninput","return;"),Nm=typeof Cx.oninput=="function"}km=Nm}else km=!1;uP=km&&(!document.documentMode||9<document.documentMode)}function Sx(){dc&&(dc.detachEvent("onpropertychange",dP),Lc=dc=null)}function dP(t){if(t.propertyName==="value"&&Uh(Lc)){var e=[];cP(e,Lc,t,o0(t)),zS(R4,e)}}function N4(t,e,n){t==="focusin"?(Sx(),dc=e,Lc=n,dc.attachEvent("onpropertychange",dP)):t==="focusout"&&Sx()}function D4(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Uh(Lc)}function M4(t,e){if(t==="click")return Uh(e)}function O4(t,e){if(t==="input"||t==="change")return Uh(e)}function L4(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var ur=typeof Object.is=="function"?Object.is:L4;function Vc(t,e){if(ur(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Yg.call(e,i)||!ur(t[i],e[i]))return!1}return!0}function Px(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Ix(t,e){var n=Px(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Px(n)}}function fP(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?fP(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function hP(){for(var t=window,e=bf();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=bf(t.document)}return e}function p0(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function V4(t){var e=hP(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&fP(n.ownerDocument.documentElement,n)){if(r!==null&&p0(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!t.extend&&o>r&&(i=r,r=o,o=i),i=Ix(n,o);var s=Ix(n,r);i&&s&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==s.node||t.focusOffset!==s.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),o>r?(t.addRange(e),t.extend(s.node,s.offset)):(e.setEnd(s.node,s.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var j4=di&&"documentMode"in document&&11>=document.documentMode,na=null,hv=null,fc=null,pv=!1;function Ax(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;pv||na==null||na!==bf(r)||(r=na,"selectionStart"in r&&p0(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),fc&&Vc(fc,r)||(fc=r,r=Rf(hv,"onSelect"),0<r.length&&(e=new d0("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=na)))}function vd(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var ra={animationend:vd("Animation","AnimationEnd"),animationiteration:vd("Animation","AnimationIteration"),animationstart:vd("Animation","AnimationStart"),transitionend:vd("Transition","TransitionEnd")},Dm={},pP={};di&&(pP=document.createElement("div").style,"AnimationEvent"in window||(delete ra.animationend.animation,delete ra.animationiteration.animation,delete ra.animationstart.animation),"TransitionEvent"in window||delete ra.transitionend.transition);function Bh(t){if(Dm[t])return Dm[t];if(!ra[t])return t;var e=ra[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in pP)return Dm[t]=e[n];return t}var mP=Bh("animationend"),gP=Bh("animationiteration"),vP=Bh("animationstart"),yP=Bh("transitionend"),wP=new Map,Rx="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Do(t,e){wP.set(t,e),Ps(e,[t])}for(var Mm=0;Mm<Rx.length;Mm++){var Om=Rx[Mm],F4=Om.toLowerCase(),$4=Om[0].toUpperCase()+Om.slice(1);Do(F4,"on"+$4)}Do(mP,"onAnimationEnd");Do(gP,"onAnimationIteration");Do(vP,"onAnimationStart");Do("dblclick","onDoubleClick");Do("focusin","onFocus");Do("focusout","onBlur");Do(yP,"onTransitionEnd");ka("onMouseEnter",["mouseout","mouseover"]);ka("onMouseLeave",["mouseout","mouseover"]);ka("onPointerEnter",["pointerout","pointerover"]);ka("onPointerLeave",["pointerout","pointerover"]);Ps("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ps("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ps("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ps("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ps("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ps("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ec="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),U4=new Set("cancel close invalid load scroll toggle".split(" ").concat(ec));function kx(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,FL(r,e,void 0,t),t.currentTarget=null}function _P(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var o=void 0;if(e)for(var s=r.length-1;0<=s;s--){var a=r[s],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==o&&i.isPropagationStopped())break e;kx(i,a,c),o=l}else for(s=0;s<r.length;s++){if(a=r[s],l=a.instance,c=a.currentTarget,a=a.listener,l!==o&&i.isPropagationStopped())break e;kx(i,a,c),o=l}}}if(Cf)throw t=cv,Cf=!1,cv=null,t}function rt(t,e){var n=e[wv];n===void 0&&(n=e[wv]=new Set);var r=t+"__bubble";n.has(r)||(xP(e,t,2,!1),n.add(r))}function Lm(t,e,n){var r=0;e&&(r|=4),xP(n,t,r,e)}var yd="_reactListening"+Math.random().toString(36).slice(2);function jc(t){if(!t[yd]){t[yd]=!0,IS.forEach(function(n){n!=="selectionchange"&&(U4.has(n)||Lm(n,!1,t),Lm(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[yd]||(e[yd]=!0,Lm("selectionchange",!1,e))}}function xP(t,e,n,r){switch(iP(e)){case 1:var i=t4;break;case 4:i=n4;break;default:i=c0}n=i.bind(null,e,n,t),i=void 0,!lv||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Vm(t,e,n,r,i){var o=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(s===4)for(s=r.return;s!==null;){var l=s.tag;if((l===3||l===4)&&(l=s.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;s=s.return}for(;a!==null;){if(s=ts(a),s===null)return;if(l=s.tag,l===5||l===6){r=o=s;continue e}a=a.parentNode}}r=r.return}zS(function(){var c=o,u=o0(n),f=[];e:{var h=wP.get(t);if(h!==void 0){var g=d0,w=t;switch(t){case"keypress":if(Jd(n)===0)break e;case"keydown":case"keyup":g=v4;break;case"focusin":w="focus",g=Rm;break;case"focusout":w="blur",g=Rm;break;case"beforeblur":case"afterblur":g=Rm;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=wx;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=o4;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=_4;break;case mP:case gP:case vP:g=l4;break;case yP:g=E4;break;case"scroll":g=r4;break;case"wheel":g=T4;break;case"copy":case"cut":case"paste":g=u4;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=xx}var v=(e&4)!==0,E=!v&&t==="scroll",_=v?h!==null?h+"Capture":null:h;v=[];for(var y=c,b;y!==null;){b=y;var I=b.stateNode;if(b.tag===5&&I!==null&&(b=I,_!==null&&(I=Nc(y,_),I!=null&&v.push(Fc(y,I,b)))),E)break;y=y.return}0<v.length&&(h=new g(h,w,null,n,u),f.push({event:h,listeners:v}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",g=t==="mouseout"||t==="pointerout",h&&n!==sv&&(w=n.relatedTarget||n.fromElement)&&(ts(w)||w[fi]))break e;if((g||h)&&(h=u.window===u?u:(h=u.ownerDocument)?h.defaultView||h.parentWindow:window,g?(w=n.relatedTarget||n.toElement,g=c,w=w?ts(w):null,w!==null&&(E=Is(w),w!==E||w.tag!==5&&w.tag!==6)&&(w=null)):(g=null,w=c),g!==w)){if(v=wx,I="onMouseLeave",_="onMouseEnter",y="mouse",(t==="pointerout"||t==="pointerover")&&(v=xx,I="onPointerLeave",_="onPointerEnter",y="pointer"),E=g==null?h:ia(g),b=w==null?h:ia(w),h=new v(I,y+"leave",g,n,u),h.target=E,h.relatedTarget=b,I=null,ts(u)===c&&(v=new v(_,y+"enter",w,n,u),v.target=b,v.relatedTarget=E,I=v),E=I,g&&w)t:{for(v=g,_=w,y=0,b=v;b;b=$s(b))y++;for(b=0,I=_;I;I=$s(I))b++;for(;0<y-b;)v=$s(v),y--;for(;0<b-y;)_=$s(_),b--;for(;y--;){if(v===_||_!==null&&v===_.alternate)break t;v=$s(v),_=$s(_)}v=null}else v=null;g!==null&&Nx(f,h,g,v,!1),w!==null&&E!==null&&Nx(f,E,w,v,!0)}}e:{if(h=c?ia(c):window,g=h.nodeName&&h.nodeName.toLowerCase(),g==="select"||g==="input"&&h.type==="file")var N=k4;else if(Tx(h))if(uP)N=O4;else{N=D4;var O=N4}else(g=h.nodeName)&&g.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(N=M4);if(N&&(N=N(t,c))){cP(f,N,n,u);break e}O&&O(t,h,c),t==="focusout"&&(O=h._wrapperState)&&O.controlled&&h.type==="number"&&tv(h,"number",h.value)}switch(O=c?ia(c):window,t){case"focusin":(Tx(O)||O.contentEditable==="true")&&(na=O,hv=c,fc=null);break;case"focusout":fc=hv=na=null;break;case"mousedown":pv=!0;break;case"contextmenu":case"mouseup":case"dragend":pv=!1,Ax(f,n,u);break;case"selectionchange":if(j4)break;case"keydown":case"keyup":Ax(f,n,u)}var S;if(h0)e:{switch(t){case"compositionstart":var C="onCompositionStart";break e;case"compositionend":C="onCompositionEnd";break e;case"compositionupdate":C="onCompositionUpdate";break e}C=void 0}else ta?aP(t,n)&&(C="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(C="onCompositionStart");C&&(sP&&n.locale!=="ko"&&(ta||C!=="onCompositionStart"?C==="onCompositionEnd"&&ta&&(S=oP()):(Qi=u,u0="value"in Qi?Qi.value:Qi.textContent,ta=!0)),O=Rf(c,C),0<O.length&&(C=new _x(C,t,null,n,u),f.push({event:C,listeners:O}),S?C.data=S:(S=lP(n),S!==null&&(C.data=S)))),(S=S4?P4(t,n):I4(t,n))&&(c=Rf(c,"onBeforeInput"),0<c.length&&(u=new _x("onBeforeInput","beforeinput",null,n,u),f.push({event:u,listeners:c}),u.data=S))}_P(f,e)})}function Fc(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Rf(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=Nc(t,n),o!=null&&r.unshift(Fc(t,o,i)),o=Nc(t,e),o!=null&&r.push(Fc(t,o,i))),t=t.return}return r}function $s(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Nx(t,e,n,r,i){for(var o=e._reactName,s=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,i?(l=Nc(n,o),l!=null&&s.unshift(Fc(n,l,a))):i||(l=Nc(n,o),l!=null&&s.push(Fc(n,l,a)))),n=n.return}s.length!==0&&t.push({event:e,listeners:s})}var B4=/\r\n?/g,W4=/\u0000|\uFFFD/g;function Dx(t){return(typeof t=="string"?t:""+t).replace(B4,`
`).replace(W4,"")}function wd(t,e,n){if(e=Dx(e),Dx(t)!==e&&n)throw Error(Q(425))}function kf(){}var mv=null,gv=null;function vv(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var yv=typeof setTimeout=="function"?setTimeout:void 0,z4=typeof clearTimeout=="function"?clearTimeout:void 0,Mx=typeof Promise=="function"?Promise:void 0,H4=typeof queueMicrotask=="function"?queueMicrotask:typeof Mx<"u"?function(t){return Mx.resolve(null).then(t).catch(q4)}:yv;function q4(t){setTimeout(function(){throw t})}function jm(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Oc(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Oc(e)}function io(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Ox(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var rl=Math.random().toString(36).slice(2),br="__reactFiber$"+rl,$c="__reactProps$"+rl,fi="__reactContainer$"+rl,wv="__reactEvents$"+rl,G4="__reactListeners$"+rl,Y4="__reactHandles$"+rl;function ts(t){var e=t[br];if(e)return e;for(var n=t.parentNode;n;){if(e=n[fi]||n[br]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Ox(t);t!==null;){if(n=t[br])return n;t=Ox(t)}return e}t=n,n=t.parentNode}return null}function yu(t){return t=t[br]||t[fi],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function ia(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(Q(33))}function Wh(t){return t[$c]||null}var _v=[],oa=-1;function Mo(t){return{current:t}}function ot(t){0>oa||(t.current=_v[oa],_v[oa]=null,oa--)}function Xe(t,e){oa++,_v[oa]=t.current,t.current=e}var Eo={},on=Mo(Eo),En=Mo(!1),us=Eo;function Na(t,e){var n=t.type.contextTypes;if(!n)return Eo;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=e[o];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function bn(t){return t=t.childContextTypes,t!=null}function Nf(){ot(En),ot(on)}function Lx(t,e,n){if(on.current!==Eo)throw Error(Q(168));Xe(on,e),Xe(En,n)}function EP(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(Q(108,NL(t)||"Unknown",i));return ht({},n,r)}function Df(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Eo,us=on.current,Xe(on,t),Xe(En,En.current),!0}function Vx(t,e,n){var r=t.stateNode;if(!r)throw Error(Q(169));n?(t=EP(t,e,us),r.__reactInternalMemoizedMergedChildContext=t,ot(En),ot(on),Xe(on,t)):ot(En),Xe(En,n)}var Zr=null,zh=!1,Fm=!1;function bP(t){Zr===null?Zr=[t]:Zr.push(t)}function K4(t){zh=!0,bP(t)}function Oo(){if(!Fm&&Zr!==null){Fm=!0;var t=0,e=qe;try{var n=Zr;for(qe=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Zr=null,zh=!1}catch(i){throw Zr!==null&&(Zr=Zr.slice(t+1)),YS(s0,Oo),i}finally{qe=e,Fm=!1}}return null}var sa=[],aa=0,Mf=null,Of=0,Bn=[],Wn=0,ds=null,ei=1,ti="";function Yo(t,e){sa[aa++]=Of,sa[aa++]=Mf,Mf=t,Of=e}function TP(t,e,n){Bn[Wn++]=ei,Bn[Wn++]=ti,Bn[Wn++]=ds,ds=t;var r=ei;t=ti;var i=32-ar(r)-1;r&=~(1<<i),n+=1;var o=32-ar(e)+i;if(30<o){var s=i-i%5;o=(r&(1<<s)-1).toString(32),r>>=s,i-=s,ei=1<<32-ar(e)+i|n<<i|r,ti=o+t}else ei=1<<o|n<<i|r,ti=t}function m0(t){t.return!==null&&(Yo(t,1),TP(t,1,0))}function g0(t){for(;t===Mf;)Mf=sa[--aa],sa[aa]=null,Of=sa[--aa],sa[aa]=null;for(;t===ds;)ds=Bn[--Wn],Bn[Wn]=null,ti=Bn[--Wn],Bn[Wn]=null,ei=Bn[--Wn],Bn[Wn]=null}var Mn=null,Nn=null,at=!1,or=null;function CP(t,e){var n=qn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function jx(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Mn=t,Nn=io(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Mn=t,Nn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=ds!==null?{id:ei,overflow:ti}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=qn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Mn=t,Nn=null,!0):!1;default:return!1}}function xv(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Ev(t){if(at){var e=Nn;if(e){var n=e;if(!jx(t,e)){if(xv(t))throw Error(Q(418));e=io(n.nextSibling);var r=Mn;e&&jx(t,e)?CP(r,n):(t.flags=t.flags&-4097|2,at=!1,Mn=t)}}else{if(xv(t))throw Error(Q(418));t.flags=t.flags&-4097|2,at=!1,Mn=t}}}function Fx(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Mn=t}function _d(t){if(t!==Mn)return!1;if(!at)return Fx(t),at=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!vv(t.type,t.memoizedProps)),e&&(e=Nn)){if(xv(t))throw SP(),Error(Q(418));for(;e;)CP(t,e),e=io(e.nextSibling)}if(Fx(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(Q(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Nn=io(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Nn=null}}else Nn=Mn?io(t.stateNode.nextSibling):null;return!0}function SP(){for(var t=Nn;t;)t=io(t.nextSibling)}function Da(){Nn=Mn=null,at=!1}function v0(t){or===null?or=[t]:or.push(t)}var Q4=Ci.ReactCurrentBatchConfig;function Ul(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(Q(309));var r=n.stateNode}if(!r)throw Error(Q(147,t));var i=r,o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(s){var a=i.refs;s===null?delete a[o]:a[o]=s},e._stringRef=o,e)}if(typeof t!="string")throw Error(Q(284));if(!n._owner)throw Error(Q(290,t))}return t}function xd(t,e){throw t=Object.prototype.toString.call(e),Error(Q(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function $x(t){var e=t._init;return e(t._payload)}function PP(t){function e(_,y){if(t){var b=_.deletions;b===null?(_.deletions=[y],_.flags|=16):b.push(y)}}function n(_,y){if(!t)return null;for(;y!==null;)e(_,y),y=y.sibling;return null}function r(_,y){for(_=new Map;y!==null;)y.key!==null?_.set(y.key,y):_.set(y.index,y),y=y.sibling;return _}function i(_,y){return _=lo(_,y),_.index=0,_.sibling=null,_}function o(_,y,b){return _.index=b,t?(b=_.alternate,b!==null?(b=b.index,b<y?(_.flags|=2,y):b):(_.flags|=2,y)):(_.flags|=1048576,y)}function s(_){return t&&_.alternate===null&&(_.flags|=2),_}function a(_,y,b,I){return y===null||y.tag!==6?(y=qm(b,_.mode,I),y.return=_,y):(y=i(y,b),y.return=_,y)}function l(_,y,b,I){var N=b.type;return N===ea?u(_,y,b.props.children,I,b.key):y!==null&&(y.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===Ui&&$x(N)===y.type)?(I=i(y,b.props),I.ref=Ul(_,y,b),I.return=_,I):(I=sf(b.type,b.key,b.props,null,_.mode,I),I.ref=Ul(_,y,b),I.return=_,I)}function c(_,y,b,I){return y===null||y.tag!==4||y.stateNode.containerInfo!==b.containerInfo||y.stateNode.implementation!==b.implementation?(y=Gm(b,_.mode,I),y.return=_,y):(y=i(y,b.children||[]),y.return=_,y)}function u(_,y,b,I,N){return y===null||y.tag!==7?(y=ls(b,_.mode,I,N),y.return=_,y):(y=i(y,b),y.return=_,y)}function f(_,y,b){if(typeof y=="string"&&y!==""||typeof y=="number")return y=qm(""+y,_.mode,b),y.return=_,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case ud:return b=sf(y.type,y.key,y.props,null,_.mode,b),b.ref=Ul(_,null,y),b.return=_,b;case Zs:return y=Gm(y,_.mode,b),y.return=_,y;case Ui:var I=y._init;return f(_,I(y._payload),b)}if(Jl(y)||Ll(y))return y=ls(y,_.mode,b,null),y.return=_,y;xd(_,y)}return null}function h(_,y,b,I){var N=y!==null?y.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return N!==null?null:a(_,y,""+b,I);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case ud:return b.key===N?l(_,y,b,I):null;case Zs:return b.key===N?c(_,y,b,I):null;case Ui:return N=b._init,h(_,y,N(b._payload),I)}if(Jl(b)||Ll(b))return N!==null?null:u(_,y,b,I,null);xd(_,b)}return null}function g(_,y,b,I,N){if(typeof I=="string"&&I!==""||typeof I=="number")return _=_.get(b)||null,a(y,_,""+I,N);if(typeof I=="object"&&I!==null){switch(I.$$typeof){case ud:return _=_.get(I.key===null?b:I.key)||null,l(y,_,I,N);case Zs:return _=_.get(I.key===null?b:I.key)||null,c(y,_,I,N);case Ui:var O=I._init;return g(_,y,b,O(I._payload),N)}if(Jl(I)||Ll(I))return _=_.get(b)||null,u(y,_,I,N,null);xd(y,I)}return null}function w(_,y,b,I){for(var N=null,O=null,S=y,C=y=0,P=null;S!==null&&C<b.length;C++){S.index>C?(P=S,S=null):P=S.sibling;var A=h(_,S,b[C],I);if(A===null){S===null&&(S=P);break}t&&S&&A.alternate===null&&e(_,S),y=o(A,y,C),O===null?N=A:O.sibling=A,O=A,S=P}if(C===b.length)return n(_,S),at&&Yo(_,C),N;if(S===null){for(;C<b.length;C++)S=f(_,b[C],I),S!==null&&(y=o(S,y,C),O===null?N=S:O.sibling=S,O=S);return at&&Yo(_,C),N}for(S=r(_,S);C<b.length;C++)P=g(S,_,C,b[C],I),P!==null&&(t&&P.alternate!==null&&S.delete(P.key===null?C:P.key),y=o(P,y,C),O===null?N=P:O.sibling=P,O=P);return t&&S.forEach(function(M){return e(_,M)}),at&&Yo(_,C),N}function v(_,y,b,I){var N=Ll(b);if(typeof N!="function")throw Error(Q(150));if(b=N.call(b),b==null)throw Error(Q(151));for(var O=N=null,S=y,C=y=0,P=null,A=b.next();S!==null&&!A.done;C++,A=b.next()){S.index>C?(P=S,S=null):P=S.sibling;var M=h(_,S,A.value,I);if(M===null){S===null&&(S=P);break}t&&S&&M.alternate===null&&e(_,S),y=o(M,y,C),O===null?N=M:O.sibling=M,O=M,S=P}if(A.done)return n(_,S),at&&Yo(_,C),N;if(S===null){for(;!A.done;C++,A=b.next())A=f(_,A.value,I),A!==null&&(y=o(A,y,C),O===null?N=A:O.sibling=A,O=A);return at&&Yo(_,C),N}for(S=r(_,S);!A.done;C++,A=b.next())A=g(S,_,C,A.value,I),A!==null&&(t&&A.alternate!==null&&S.delete(A.key===null?C:A.key),y=o(A,y,C),O===null?N=A:O.sibling=A,O=A);return t&&S.forEach(function(D){return e(_,D)}),at&&Yo(_,C),N}function E(_,y,b,I){if(typeof b=="object"&&b!==null&&b.type===ea&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case ud:e:{for(var N=b.key,O=y;O!==null;){if(O.key===N){if(N=b.type,N===ea){if(O.tag===7){n(_,O.sibling),y=i(O,b.props.children),y.return=_,_=y;break e}}else if(O.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===Ui&&$x(N)===O.type){n(_,O.sibling),y=i(O,b.props),y.ref=Ul(_,O,b),y.return=_,_=y;break e}n(_,O);break}else e(_,O);O=O.sibling}b.type===ea?(y=ls(b.props.children,_.mode,I,b.key),y.return=_,_=y):(I=sf(b.type,b.key,b.props,null,_.mode,I),I.ref=Ul(_,y,b),I.return=_,_=I)}return s(_);case Zs:e:{for(O=b.key;y!==null;){if(y.key===O)if(y.tag===4&&y.stateNode.containerInfo===b.containerInfo&&y.stateNode.implementation===b.implementation){n(_,y.sibling),y=i(y,b.children||[]),y.return=_,_=y;break e}else{n(_,y);break}else e(_,y);y=y.sibling}y=Gm(b,_.mode,I),y.return=_,_=y}return s(_);case Ui:return O=b._init,E(_,y,O(b._payload),I)}if(Jl(b))return w(_,y,b,I);if(Ll(b))return v(_,y,b,I);xd(_,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,y!==null&&y.tag===6?(n(_,y.sibling),y=i(y,b),y.return=_,_=y):(n(_,y),y=qm(b,_.mode,I),y.return=_,_=y),s(_)):n(_,y)}return E}var Ma=PP(!0),IP=PP(!1),Lf=Mo(null),Vf=null,la=null,y0=null;function w0(){y0=la=Vf=null}function _0(t){var e=Lf.current;ot(Lf),t._currentValue=e}function bv(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function xa(t,e){Vf=t,y0=la=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(_n=!0),t.firstContext=null)}function Yn(t){var e=t._currentValue;if(y0!==t)if(t={context:t,memoizedValue:e,next:null},la===null){if(Vf===null)throw Error(Q(308));la=t,Vf.dependencies={lanes:0,firstContext:t}}else la=la.next=t;return e}var ns=null;function x0(t){ns===null?ns=[t]:ns.push(t)}function AP(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,x0(e)):(n.next=i.next,i.next=n),e.interleaved=n,hi(t,r)}function hi(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Bi=!1;function E0(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function RP(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function oi(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function oo(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Ve&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,hi(t,n)}return i=r.interleaved,i===null?(e.next=e,x0(r)):(e.next=i.next,i.next=e),r.interleaved=e,hi(t,n)}function Zd(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,a0(t,n)}}function Ux(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=s:o=o.next=s,n=n.next}while(n!==null);o===null?i=o=e:o=o.next=e}else i=o=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function jf(t,e,n,r){var i=t.updateQueue;Bi=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,c=l.next;l.next=null,s===null?o=c:s.next=c,s=l;var u=t.alternate;u!==null&&(u=u.updateQueue,a=u.lastBaseUpdate,a!==s&&(a===null?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(o!==null){var f=i.baseState;s=0,u=c=l=null,a=o;do{var h=a.lane,g=a.eventTime;if((r&h)===h){u!==null&&(u=u.next={eventTime:g,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var w=t,v=a;switch(h=e,g=n,v.tag){case 1:if(w=v.payload,typeof w=="function"){f=w.call(g,f,h);break e}f=w;break e;case 3:w.flags=w.flags&-65537|128;case 0:if(w=v.payload,h=typeof w=="function"?w.call(g,f,h):w,h==null)break e;f=ht({},f,h);break e;case 2:Bi=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,h=i.effects,h===null?i.effects=[a]:h.push(a))}else g={eventTime:g,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},u===null?(c=u=g,l=f):u=u.next=g,s|=h;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;h=a,a=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(1);if(u===null&&(l=f),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,e=i.shared.interleaved,e!==null){i=e;do s|=i.lane,i=i.next;while(i!==e)}else o===null&&(i.shared.lanes=0);hs|=s,t.lanes=s,t.memoizedState=f}}function Bx(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(Q(191,i));i.call(r)}}}var wu={},Rr=Mo(wu),Uc=Mo(wu),Bc=Mo(wu);function rs(t){if(t===wu)throw Error(Q(174));return t}function b0(t,e){switch(Xe(Bc,e),Xe(Uc,t),Xe(Rr,wu),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:rv(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=rv(e,t)}ot(Rr),Xe(Rr,e)}function Oa(){ot(Rr),ot(Uc),ot(Bc)}function kP(t){rs(Bc.current);var e=rs(Rr.current),n=rv(e,t.type);e!==n&&(Xe(Uc,t),Xe(Rr,n))}function T0(t){Uc.current===t&&(ot(Rr),ot(Uc))}var ct=Mo(0);function Ff(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var $m=[];function C0(){for(var t=0;t<$m.length;t++)$m[t]._workInProgressVersionPrimary=null;$m.length=0}var ef=Ci.ReactCurrentDispatcher,Um=Ci.ReactCurrentBatchConfig,fs=0,ft=null,Rt=null,Ot=null,$f=!1,hc=!1,Wc=0,X4=0;function Qt(){throw Error(Q(321))}function S0(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!ur(t[n],e[n]))return!1;return!0}function P0(t,e,n,r,i,o){if(fs=o,ft=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,ef.current=t===null||t.memoizedState===null?tV:nV,t=n(r,i),hc){o=0;do{if(hc=!1,Wc=0,25<=o)throw Error(Q(301));o+=1,Ot=Rt=null,e.updateQueue=null,ef.current=rV,t=n(r,i)}while(hc)}if(ef.current=Uf,e=Rt!==null&&Rt.next!==null,fs=0,Ot=Rt=ft=null,$f=!1,e)throw Error(Q(300));return t}function I0(){var t=Wc!==0;return Wc=0,t}function xr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ot===null?ft.memoizedState=Ot=t:Ot=Ot.next=t,Ot}function Kn(){if(Rt===null){var t=ft.alternate;t=t!==null?t.memoizedState:null}else t=Rt.next;var e=Ot===null?ft.memoizedState:Ot.next;if(e!==null)Ot=e,Rt=t;else{if(t===null)throw Error(Q(310));Rt=t,t={memoizedState:Rt.memoizedState,baseState:Rt.baseState,baseQueue:Rt.baseQueue,queue:Rt.queue,next:null},Ot===null?ft.memoizedState=Ot=t:Ot=Ot.next=t}return Ot}function zc(t,e){return typeof e=="function"?e(t):e}function Bm(t){var e=Kn(),n=e.queue;if(n===null)throw Error(Q(311));n.lastRenderedReducer=t;var r=Rt,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var a=s=null,l=null,c=o;do{var u=c.lane;if((fs&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var f={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=f,s=r):l=l.next=f,ft.lanes|=u,hs|=u}c=c.next}while(c!==null&&c!==o);l===null?s=r:l.next=a,ur(r,e.memoizedState)||(_n=!0),e.memoizedState=r,e.baseState=s,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do o=i.lane,ft.lanes|=o,hs|=o,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Wm(t){var e=Kn(),n=e.queue;if(n===null)throw Error(Q(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,o=e.memoizedState;if(i!==null){n.pending=null;var s=i=i.next;do o=t(o,s.action),s=s.next;while(s!==i);ur(o,e.memoizedState)||(_n=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),n.lastRenderedState=o}return[o,r]}function NP(){}function DP(t,e){var n=ft,r=Kn(),i=e(),o=!ur(r.memoizedState,i);if(o&&(r.memoizedState=i,_n=!0),r=r.queue,A0(LP.bind(null,n,r,t),[t]),r.getSnapshot!==e||o||Ot!==null&&Ot.memoizedState.tag&1){if(n.flags|=2048,Hc(9,OP.bind(null,n,r,i,e),void 0,null),Vt===null)throw Error(Q(349));fs&30||MP(n,e,i)}return i}function MP(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=ft.updateQueue,e===null?(e={lastEffect:null,stores:null},ft.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function OP(t,e,n,r){e.value=n,e.getSnapshot=r,VP(e)&&jP(t)}function LP(t,e,n){return n(function(){VP(e)&&jP(t)})}function VP(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!ur(t,n)}catch{return!0}}function jP(t){var e=hi(t,1);e!==null&&lr(e,t,1,-1)}function Wx(t){var e=xr();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:zc,lastRenderedState:t},e.queue=t,t=t.dispatch=eV.bind(null,ft,t),[e.memoizedState,t]}function Hc(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=ft.updateQueue,e===null?(e={lastEffect:null,stores:null},ft.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function FP(){return Kn().memoizedState}function tf(t,e,n,r){var i=xr();ft.flags|=t,i.memoizedState=Hc(1|e,n,void 0,r===void 0?null:r)}function Hh(t,e,n,r){var i=Kn();r=r===void 0?null:r;var o=void 0;if(Rt!==null){var s=Rt.memoizedState;if(o=s.destroy,r!==null&&S0(r,s.deps)){i.memoizedState=Hc(e,n,o,r);return}}ft.flags|=t,i.memoizedState=Hc(1|e,n,o,r)}function zx(t,e){return tf(8390656,8,t,e)}function A0(t,e){return Hh(2048,8,t,e)}function $P(t,e){return Hh(4,2,t,e)}function UP(t,e){return Hh(4,4,t,e)}function BP(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function WP(t,e,n){return n=n!=null?n.concat([t]):null,Hh(4,4,BP.bind(null,e,t),n)}function R0(){}function zP(t,e){var n=Kn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&S0(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function HP(t,e){var n=Kn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&S0(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function qP(t,e,n){return fs&21?(ur(n,e)||(n=XS(),ft.lanes|=n,hs|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,_n=!0),t.memoizedState=n)}function J4(t,e){var n=qe;qe=n!==0&&4>n?n:4,t(!0);var r=Um.transition;Um.transition={};try{t(!1),e()}finally{qe=n,Um.transition=r}}function GP(){return Kn().memoizedState}function Z4(t,e,n){var r=ao(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},YP(t))KP(e,n);else if(n=AP(t,e,n,r),n!==null){var i=pn();lr(n,t,r,i),QP(n,e,r)}}function eV(t,e,n){var r=ao(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(YP(t))KP(e,i);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var s=e.lastRenderedState,a=o(s,n);if(i.hasEagerState=!0,i.eagerState=a,ur(a,s)){var l=e.interleaved;l===null?(i.next=i,x0(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=AP(t,e,i,r),n!==null&&(i=pn(),lr(n,t,r,i),QP(n,e,r))}}function YP(t){var e=t.alternate;return t===ft||e!==null&&e===ft}function KP(t,e){hc=$f=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function QP(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,a0(t,n)}}var Uf={readContext:Yn,useCallback:Qt,useContext:Qt,useEffect:Qt,useImperativeHandle:Qt,useInsertionEffect:Qt,useLayoutEffect:Qt,useMemo:Qt,useReducer:Qt,useRef:Qt,useState:Qt,useDebugValue:Qt,useDeferredValue:Qt,useTransition:Qt,useMutableSource:Qt,useSyncExternalStore:Qt,useId:Qt,unstable_isNewReconciler:!1},tV={readContext:Yn,useCallback:function(t,e){return xr().memoizedState=[t,e===void 0?null:e],t},useContext:Yn,useEffect:zx,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,tf(4194308,4,BP.bind(null,e,t),n)},useLayoutEffect:function(t,e){return tf(4194308,4,t,e)},useInsertionEffect:function(t,e){return tf(4,2,t,e)},useMemo:function(t,e){var n=xr();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=xr();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=Z4.bind(null,ft,t),[r.memoizedState,t]},useRef:function(t){var e=xr();return t={current:t},e.memoizedState=t},useState:Wx,useDebugValue:R0,useDeferredValue:function(t){return xr().memoizedState=t},useTransition:function(){var t=Wx(!1),e=t[0];return t=J4.bind(null,t[1]),xr().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=ft,i=xr();if(at){if(n===void 0)throw Error(Q(407));n=n()}else{if(n=e(),Vt===null)throw Error(Q(349));fs&30||MP(r,e,n)}i.memoizedState=n;var o={value:n,getSnapshot:e};return i.queue=o,zx(LP.bind(null,r,o,t),[t]),r.flags|=2048,Hc(9,OP.bind(null,r,o,n,e),void 0,null),n},useId:function(){var t=xr(),e=Vt.identifierPrefix;if(at){var n=ti,r=ei;n=(r&~(1<<32-ar(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Wc++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=X4++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},nV={readContext:Yn,useCallback:zP,useContext:Yn,useEffect:A0,useImperativeHandle:WP,useInsertionEffect:$P,useLayoutEffect:UP,useMemo:HP,useReducer:Bm,useRef:FP,useState:function(){return Bm(zc)},useDebugValue:R0,useDeferredValue:function(t){var e=Kn();return qP(e,Rt.memoizedState,t)},useTransition:function(){var t=Bm(zc)[0],e=Kn().memoizedState;return[t,e]},useMutableSource:NP,useSyncExternalStore:DP,useId:GP,unstable_isNewReconciler:!1},rV={readContext:Yn,useCallback:zP,useContext:Yn,useEffect:A0,useImperativeHandle:WP,useInsertionEffect:$P,useLayoutEffect:UP,useMemo:HP,useReducer:Wm,useRef:FP,useState:function(){return Wm(zc)},useDebugValue:R0,useDeferredValue:function(t){var e=Kn();return Rt===null?e.memoizedState=t:qP(e,Rt.memoizedState,t)},useTransition:function(){var t=Wm(zc)[0],e=Kn().memoizedState;return[t,e]},useMutableSource:NP,useSyncExternalStore:DP,useId:GP,unstable_isNewReconciler:!1};function rr(t,e){if(t&&t.defaultProps){e=ht({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Tv(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:ht({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var qh={isMounted:function(t){return(t=t._reactInternals)?Is(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=pn(),i=ao(t),o=oi(r,i);o.payload=e,n!=null&&(o.callback=n),e=oo(t,o,i),e!==null&&(lr(e,t,i,r),Zd(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=pn(),i=ao(t),o=oi(r,i);o.tag=1,o.payload=e,n!=null&&(o.callback=n),e=oo(t,o,i),e!==null&&(lr(e,t,i,r),Zd(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=pn(),r=ao(t),i=oi(n,r);i.tag=2,e!=null&&(i.callback=e),e=oo(t,i,r),e!==null&&(lr(e,t,r,n),Zd(e,t,r))}};function Hx(t,e,n,r,i,o,s){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,o,s):e.prototype&&e.prototype.isPureReactComponent?!Vc(n,r)||!Vc(i,o):!0}function XP(t,e,n){var r=!1,i=Eo,o=e.contextType;return typeof o=="object"&&o!==null?o=Yn(o):(i=bn(e)?us:on.current,r=e.contextTypes,o=(r=r!=null)?Na(t,i):Eo),e=new e(n,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=qh,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=o),e}function qx(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&qh.enqueueReplaceState(e,e.state,null)}function Cv(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},E0(t);var o=e.contextType;typeof o=="object"&&o!==null?i.context=Yn(o):(o=bn(e)?us:on.current,i.context=Na(t,o)),i.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(Tv(t,e,o,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&qh.enqueueReplaceState(i,i.state,null),jf(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function La(t,e){try{var n="",r=e;do n+=kL(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:i,digest:null}}function zm(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Sv(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var iV=typeof WeakMap=="function"?WeakMap:Map;function JP(t,e,n){n=oi(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Wf||(Wf=!0,Lv=r),Sv(t,e)},n}function ZP(t,e,n){n=oi(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){Sv(t,e)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){Sv(t,e),typeof r!="function"&&(so===null?so=new Set([this]):so.add(this));var s=e.stack;this.componentDidCatch(e.value,{componentStack:s!==null?s:""})}),n}function Gx(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new iV;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=yV.bind(null,t,e,n),e.then(t,t))}function Yx(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Kx(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=oi(-1,1),e.tag=2,oo(n,e,1))),n.lanes|=1),t)}var oV=Ci.ReactCurrentOwner,_n=!1;function fn(t,e,n,r){e.child=t===null?IP(e,null,n,r):Ma(e,t.child,n,r)}function Qx(t,e,n,r,i){n=n.render;var o=e.ref;return xa(e,i),r=P0(t,e,n,r,o,i),n=I0(),t!==null&&!_n?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,pi(t,e,i)):(at&&n&&m0(e),e.flags|=1,fn(t,e,r,i),e.child)}function Xx(t,e,n,r,i){if(t===null){var o=n.type;return typeof o=="function"&&!j0(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=o,eI(t,e,o,r,i)):(t=sf(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,!(t.lanes&i)){var s=o.memoizedProps;if(n=n.compare,n=n!==null?n:Vc,n(s,r)&&t.ref===e.ref)return pi(t,e,i)}return e.flags|=1,t=lo(o,r),t.ref=e.ref,t.return=e,e.child=t}function eI(t,e,n,r,i){if(t!==null){var o=t.memoizedProps;if(Vc(o,r)&&t.ref===e.ref)if(_n=!1,e.pendingProps=r=o,(t.lanes&i)!==0)t.flags&131072&&(_n=!0);else return e.lanes=t.lanes,pi(t,e,i)}return Pv(t,e,n,r,i)}function tI(t,e,n){var r=e.pendingProps,i=r.children,o=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Xe(ua,Rn),Rn|=n;else{if(!(n&1073741824))return t=o!==null?o.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Xe(ua,Rn),Rn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,Xe(ua,Rn),Rn|=r}else o!==null?(r=o.baseLanes|n,e.memoizedState=null):r=n,Xe(ua,Rn),Rn|=r;return fn(t,e,i,n),e.child}function nI(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Pv(t,e,n,r,i){var o=bn(n)?us:on.current;return o=Na(e,o),xa(e,i),n=P0(t,e,n,r,o,i),r=I0(),t!==null&&!_n?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,pi(t,e,i)):(at&&r&&m0(e),e.flags|=1,fn(t,e,n,i),e.child)}function Jx(t,e,n,r,i){if(bn(n)){var o=!0;Df(e)}else o=!1;if(xa(e,i),e.stateNode===null)nf(t,e),XP(e,n,r),Cv(e,n,r,i),r=!0;else if(t===null){var s=e.stateNode,a=e.memoizedProps;s.props=a;var l=s.context,c=n.contextType;typeof c=="object"&&c!==null?c=Yn(c):(c=bn(n)?us:on.current,c=Na(e,c));var u=n.getDerivedStateFromProps,f=typeof u=="function"||typeof s.getSnapshotBeforeUpdate=="function";f||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==r||l!==c)&&qx(e,s,r,c),Bi=!1;var h=e.memoizedState;s.state=h,jf(e,r,s,i),l=e.memoizedState,a!==r||h!==l||En.current||Bi?(typeof u=="function"&&(Tv(e,n,u,r),l=e.memoizedState),(a=Bi||Hx(e,n,a,r,h,l,c))?(f||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(e.flags|=4194308)):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),s.props=r,s.state=l,s.context=c,r=a):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{s=e.stateNode,RP(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:rr(e.type,a),s.props=c,f=e.pendingProps,h=s.context,l=n.contextType,typeof l=="object"&&l!==null?l=Yn(l):(l=bn(n)?us:on.current,l=Na(e,l));var g=n.getDerivedStateFromProps;(u=typeof g=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==f||h!==l)&&qx(e,s,r,l),Bi=!1,h=e.memoizedState,s.state=h,jf(e,r,s,i);var w=e.memoizedState;a!==f||h!==w||En.current||Bi?(typeof g=="function"&&(Tv(e,n,g,r),w=e.memoizedState),(c=Bi||Hx(e,n,c,r,h,w,l)||!1)?(u||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,w,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,w,l)),typeof s.componentDidUpdate=="function"&&(e.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=w),s.props=r,s.state=w,s.context=l,r=c):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),r=!1)}return Iv(t,e,n,r,o,i)}function Iv(t,e,n,r,i,o){nI(t,e);var s=(e.flags&128)!==0;if(!r&&!s)return i&&Vx(e,n,!1),pi(t,e,o);r=e.stateNode,oV.current=e;var a=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&s?(e.child=Ma(e,t.child,null,o),e.child=Ma(e,null,a,o)):fn(t,e,a,o),e.memoizedState=r.state,i&&Vx(e,n,!0),e.child}function rI(t){var e=t.stateNode;e.pendingContext?Lx(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Lx(t,e.context,!1),b0(t,e.containerInfo)}function Zx(t,e,n,r,i){return Da(),v0(i),e.flags|=256,fn(t,e,n,r),e.child}var Av={dehydrated:null,treeContext:null,retryLane:0};function Rv(t){return{baseLanes:t,cachePool:null,transitions:null}}function iI(t,e,n){var r=e.pendingProps,i=ct.current,o=!1,s=(e.flags&128)!==0,a;if((a=s)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(o=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Xe(ct,i&1),t===null)return Ev(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(s=r.children,t=r.fallback,o?(r=e.mode,o=e.child,s={mode:"hidden",children:s},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=s):o=Kh(s,r,0,null),t=ls(t,r,n,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=Rv(n),e.memoizedState=Av,t):k0(e,s));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return sV(t,e,s,r,a,i,n);if(o){o=r.fallback,s=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(s&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=lo(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?o=lo(a,o):(o=ls(o,s,n,null),o.flags|=2),o.return=e,r.return=e,r.sibling=o,e.child=r,r=o,o=e.child,s=t.child.memoizedState,s=s===null?Rv(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},o.memoizedState=s,o.childLanes=t.childLanes&~n,e.memoizedState=Av,r}return o=t.child,t=o.sibling,r=lo(o,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function k0(t,e){return e=Kh({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Ed(t,e,n,r){return r!==null&&v0(r),Ma(e,t.child,null,n),t=k0(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function sV(t,e,n,r,i,o,s){if(n)return e.flags&256?(e.flags&=-257,r=zm(Error(Q(422))),Ed(t,e,s,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(o=r.fallback,i=e.mode,r=Kh({mode:"visible",children:r.children},i,0,null),o=ls(o,i,s,null),o.flags|=2,r.return=e,o.return=e,r.sibling=o,e.child=r,e.mode&1&&Ma(e,t.child,null,s),e.child.memoizedState=Rv(s),e.memoizedState=Av,o);if(!(e.mode&1))return Ed(t,e,s,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,o=Error(Q(419)),r=zm(o,r,void 0),Ed(t,e,s,r)}if(a=(s&t.childLanes)!==0,_n||a){if(r=Vt,r!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|s)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,hi(t,i),lr(r,t,i,-1))}return V0(),r=zm(Error(Q(421))),Ed(t,e,s,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=wV.bind(null,t),i._reactRetry=e,null):(t=o.treeContext,Nn=io(i.nextSibling),Mn=e,at=!0,or=null,t!==null&&(Bn[Wn++]=ei,Bn[Wn++]=ti,Bn[Wn++]=ds,ei=t.id,ti=t.overflow,ds=e),e=k0(e,r.children),e.flags|=4096,e)}function eE(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),bv(t.return,e,n)}function Hm(t,e,n,r,i){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function oI(t,e,n){var r=e.pendingProps,i=r.revealOrder,o=r.tail;if(fn(t,e,r.children,n),r=ct.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&eE(t,n,e);else if(t.tag===19)eE(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Xe(ct,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Ff(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Hm(e,!1,i,n,o);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Ff(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Hm(e,!0,n,null,o);break;case"together":Hm(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function nf(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function pi(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),hs|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(Q(153));if(e.child!==null){for(t=e.child,n=lo(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=lo(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function aV(t,e,n){switch(e.tag){case 3:rI(e),Da();break;case 5:kP(e);break;case 1:bn(e.type)&&Df(e);break;case 4:b0(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Xe(Lf,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Xe(ct,ct.current&1),e.flags|=128,null):n&e.child.childLanes?iI(t,e,n):(Xe(ct,ct.current&1),t=pi(t,e,n),t!==null?t.sibling:null);Xe(ct,ct.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return oI(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Xe(ct,ct.current),r)break;return null;case 22:case 23:return e.lanes=0,tI(t,e,n)}return pi(t,e,n)}var sI,kv,aI,lI;sI=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};kv=function(){};aI=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,rs(Rr.current);var o=null;switch(n){case"input":i=Zg(t,i),r=Zg(t,r),o=[];break;case"select":i=ht({},i,{value:void 0}),r=ht({},r,{value:void 0}),o=[];break;case"textarea":i=nv(t,i),r=nv(t,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=kf)}iv(n,r);var s;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var a=i[c];for(s in a)a.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Rc.hasOwnProperty(c)?o||(o=[]):(o=o||[]).push(c,null));for(c in r){var l=r[c];if(a=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(s in a)!a.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in l)l.hasOwnProperty(s)&&a[s]!==l[s]&&(n||(n={}),n[s]=l[s])}else n||(o||(o=[]),o.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(o=o||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(o=o||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Rc.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&rt("scroll",t),o||a===l||(o=[])):(o=o||[]).push(c,l))}n&&(o=o||[]).push("style",n);var c=o;(e.updateQueue=c)&&(e.flags|=4)}};lI=function(t,e,n,r){n!==r&&(e.flags|=4)};function Bl(t,e){if(!at)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Xt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function lV(t,e,n){var r=e.pendingProps;switch(g0(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Xt(e),null;case 1:return bn(e.type)&&Nf(),Xt(e),null;case 3:return r=e.stateNode,Oa(),ot(En),ot(on),C0(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(_d(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,or!==null&&(Fv(or),or=null))),kv(t,e),Xt(e),null;case 5:T0(e);var i=rs(Bc.current);if(n=e.type,t!==null&&e.stateNode!=null)aI(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(Q(166));return Xt(e),null}if(t=rs(Rr.current),_d(e)){r=e.stateNode,n=e.type;var o=e.memoizedProps;switch(r[br]=e,r[$c]=o,t=(e.mode&1)!==0,n){case"dialog":rt("cancel",r),rt("close",r);break;case"iframe":case"object":case"embed":rt("load",r);break;case"video":case"audio":for(i=0;i<ec.length;i++)rt(ec[i],r);break;case"source":rt("error",r);break;case"img":case"image":case"link":rt("error",r),rt("load",r);break;case"details":rt("toggle",r);break;case"input":cx(r,o),rt("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},rt("invalid",r);break;case"textarea":dx(r,o),rt("invalid",r)}iv(n,o),i=null;for(var s in o)if(o.hasOwnProperty(s)){var a=o[s];s==="children"?typeof a=="string"?r.textContent!==a&&(o.suppressHydrationWarning!==!0&&wd(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(o.suppressHydrationWarning!==!0&&wd(r.textContent,a,t),i=["children",""+a]):Rc.hasOwnProperty(s)&&a!=null&&s==="onScroll"&&rt("scroll",r)}switch(n){case"input":dd(r),ux(r,o,!0);break;case"textarea":dd(r),fx(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=kf)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=LS(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=s.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=s.createElement(n,{is:r.is}):(t=s.createElement(n),n==="select"&&(s=t,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):t=s.createElementNS(t,n),t[br]=e,t[$c]=r,sI(t,e,!1,!1),e.stateNode=t;e:{switch(s=ov(n,r),n){case"dialog":rt("cancel",t),rt("close",t),i=r;break;case"iframe":case"object":case"embed":rt("load",t),i=r;break;case"video":case"audio":for(i=0;i<ec.length;i++)rt(ec[i],t);i=r;break;case"source":rt("error",t),i=r;break;case"img":case"image":case"link":rt("error",t),rt("load",t),i=r;break;case"details":rt("toggle",t),i=r;break;case"input":cx(t,r),i=Zg(t,r),rt("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=ht({},r,{value:void 0}),rt("invalid",t);break;case"textarea":dx(t,r),i=nv(t,r),rt("invalid",t);break;default:i=r}iv(n,i),a=i;for(o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="style"?FS(t,l):o==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&VS(t,l)):o==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&kc(t,l):typeof l=="number"&&kc(t,""+l):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(Rc.hasOwnProperty(o)?l!=null&&o==="onScroll"&&rt("scroll",t):l!=null&&t0(t,o,l,s))}switch(n){case"input":dd(t),ux(t,r,!1);break;case"textarea":dd(t),fx(t);break;case"option":r.value!=null&&t.setAttribute("value",""+xo(r.value));break;case"select":t.multiple=!!r.multiple,o=r.value,o!=null?va(t,!!r.multiple,o,!1):r.defaultValue!=null&&va(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=kf)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Xt(e),null;case 6:if(t&&e.stateNode!=null)lI(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(Q(166));if(n=rs(Bc.current),rs(Rr.current),_d(e)){if(r=e.stateNode,n=e.memoizedProps,r[br]=e,(o=r.nodeValue!==n)&&(t=Mn,t!==null))switch(t.tag){case 3:wd(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&wd(r.nodeValue,n,(t.mode&1)!==0)}o&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[br]=e,e.stateNode=r}return Xt(e),null;case 13:if(ot(ct),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(at&&Nn!==null&&e.mode&1&&!(e.flags&128))SP(),Da(),e.flags|=98560,o=!1;else if(o=_d(e),r!==null&&r.dehydrated!==null){if(t===null){if(!o)throw Error(Q(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(Q(317));o[br]=e}else Da(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Xt(e),o=!1}else or!==null&&(Fv(or),or=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||ct.current&1?kt===0&&(kt=3):V0())),e.updateQueue!==null&&(e.flags|=4),Xt(e),null);case 4:return Oa(),kv(t,e),t===null&&jc(e.stateNode.containerInfo),Xt(e),null;case 10:return _0(e.type._context),Xt(e),null;case 17:return bn(e.type)&&Nf(),Xt(e),null;case 19:if(ot(ct),o=e.memoizedState,o===null)return Xt(e),null;if(r=(e.flags&128)!==0,s=o.rendering,s===null)if(r)Bl(o,!1);else{if(kt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(s=Ff(t),s!==null){for(e.flags|=128,Bl(o,!1),r=s.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)o=n,t=r,o.flags&=14680066,s=o.alternate,s===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,t=s.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Xe(ct,ct.current&1|2),e.child}t=t.sibling}o.tail!==null&&_t()>Va&&(e.flags|=128,r=!0,Bl(o,!1),e.lanes=4194304)}else{if(!r)if(t=Ff(s),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Bl(o,!0),o.tail===null&&o.tailMode==="hidden"&&!s.alternate&&!at)return Xt(e),null}else 2*_t()-o.renderingStartTime>Va&&n!==1073741824&&(e.flags|=128,r=!0,Bl(o,!1),e.lanes=4194304);o.isBackwards?(s.sibling=e.child,e.child=s):(n=o.last,n!==null?n.sibling=s:e.child=s,o.last=s)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=_t(),e.sibling=null,n=ct.current,Xe(ct,r?n&1|2:n&1),e):(Xt(e),null);case 22:case 23:return L0(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Rn&1073741824&&(Xt(e),e.subtreeFlags&6&&(e.flags|=8192)):Xt(e),null;case 24:return null;case 25:return null}throw Error(Q(156,e.tag))}function cV(t,e){switch(g0(e),e.tag){case 1:return bn(e.type)&&Nf(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Oa(),ot(En),ot(on),C0(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return T0(e),null;case 13:if(ot(ct),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(Q(340));Da()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return ot(ct),null;case 4:return Oa(),null;case 10:return _0(e.type._context),null;case 22:case 23:return L0(),null;case 24:return null;default:return null}}var bd=!1,tn=!1,uV=typeof WeakSet=="function"?WeakSet:Set,ie=null;function ca(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){gt(t,e,r)}else n.current=null}function Nv(t,e,n){try{n()}catch(r){gt(t,e,r)}}var tE=!1;function dV(t,e){if(mv=If,t=hP(),p0(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var s=0,a=-1,l=-1,c=0,u=0,f=t,h=null;t:for(;;){for(var g;f!==n||i!==0&&f.nodeType!==3||(a=s+i),f!==o||r!==0&&f.nodeType!==3||(l=s+r),f.nodeType===3&&(s+=f.nodeValue.length),(g=f.firstChild)!==null;)h=f,f=g;for(;;){if(f===t)break t;if(h===n&&++c===i&&(a=s),h===o&&++u===r&&(l=s),(g=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=g}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(gv={focusedElem:t,selectionRange:n},If=!1,ie=e;ie!==null;)if(e=ie,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,ie=t;else for(;ie!==null;){e=ie;try{var w=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(w!==null){var v=w.memoizedProps,E=w.memoizedState,_=e.stateNode,y=_.getSnapshotBeforeUpdate(e.elementType===e.type?v:rr(e.type,v),E);_.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var b=e.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Q(163))}}catch(I){gt(e,e.return,I)}if(t=e.sibling,t!==null){t.return=e.return,ie=t;break}ie=e.return}return w=tE,tE=!1,w}function pc(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var o=i.destroy;i.destroy=void 0,o!==void 0&&Nv(e,n,o)}i=i.next}while(i!==r)}}function Gh(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Dv(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function cI(t){var e=t.alternate;e!==null&&(t.alternate=null,cI(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[br],delete e[$c],delete e[wv],delete e[G4],delete e[Y4])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function uI(t){return t.tag===5||t.tag===3||t.tag===4}function nE(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||uI(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Mv(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=kf));else if(r!==4&&(t=t.child,t!==null))for(Mv(t,e,n),t=t.sibling;t!==null;)Mv(t,e,n),t=t.sibling}function Ov(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Ov(t,e,n),t=t.sibling;t!==null;)Ov(t,e,n),t=t.sibling}var $t=null,ir=!1;function Mi(t,e,n){for(n=n.child;n!==null;)dI(t,e,n),n=n.sibling}function dI(t,e,n){if(Ar&&typeof Ar.onCommitFiberUnmount=="function")try{Ar.onCommitFiberUnmount(Fh,n)}catch{}switch(n.tag){case 5:tn||ca(n,e);case 6:var r=$t,i=ir;$t=null,Mi(t,e,n),$t=r,ir=i,$t!==null&&(ir?(t=$t,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):$t.removeChild(n.stateNode));break;case 18:$t!==null&&(ir?(t=$t,n=n.stateNode,t.nodeType===8?jm(t.parentNode,n):t.nodeType===1&&jm(t,n),Oc(t)):jm($t,n.stateNode));break;case 4:r=$t,i=ir,$t=n.stateNode.containerInfo,ir=!0,Mi(t,e,n),$t=r,ir=i;break;case 0:case 11:case 14:case 15:if(!tn&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,s=o.destroy;o=o.tag,s!==void 0&&(o&2||o&4)&&Nv(n,e,s),i=i.next}while(i!==r)}Mi(t,e,n);break;case 1:if(!tn&&(ca(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){gt(n,e,a)}Mi(t,e,n);break;case 21:Mi(t,e,n);break;case 22:n.mode&1?(tn=(r=tn)||n.memoizedState!==null,Mi(t,e,n),tn=r):Mi(t,e,n);break;default:Mi(t,e,n)}}function rE(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new uV),e.forEach(function(r){var i=_V.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function tr(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=t,s=e,a=s;e:for(;a!==null;){switch(a.tag){case 5:$t=a.stateNode,ir=!1;break e;case 3:$t=a.stateNode.containerInfo,ir=!0;break e;case 4:$t=a.stateNode.containerInfo,ir=!0;break e}a=a.return}if($t===null)throw Error(Q(160));dI(o,s,i),$t=null,ir=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){gt(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)fI(e,t),e=e.sibling}function fI(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(tr(e,t),_r(t),r&4){try{pc(3,t,t.return),Gh(3,t)}catch(v){gt(t,t.return,v)}try{pc(5,t,t.return)}catch(v){gt(t,t.return,v)}}break;case 1:tr(e,t),_r(t),r&512&&n!==null&&ca(n,n.return);break;case 5:if(tr(e,t),_r(t),r&512&&n!==null&&ca(n,n.return),t.flags&32){var i=t.stateNode;try{kc(i,"")}catch(v){gt(t,t.return,v)}}if(r&4&&(i=t.stateNode,i!=null)){var o=t.memoizedProps,s=n!==null?n.memoizedProps:o,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&o.type==="radio"&&o.name!=null&&MS(i,o),ov(a,s);var c=ov(a,o);for(s=0;s<l.length;s+=2){var u=l[s],f=l[s+1];u==="style"?FS(i,f):u==="dangerouslySetInnerHTML"?VS(i,f):u==="children"?kc(i,f):t0(i,u,f,c)}switch(a){case"input":ev(i,o);break;case"textarea":OS(i,o);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var g=o.value;g!=null?va(i,!!o.multiple,g,!1):h!==!!o.multiple&&(o.defaultValue!=null?va(i,!!o.multiple,o.defaultValue,!0):va(i,!!o.multiple,o.multiple?[]:"",!1))}i[$c]=o}catch(v){gt(t,t.return,v)}}break;case 6:if(tr(e,t),_r(t),r&4){if(t.stateNode===null)throw Error(Q(162));i=t.stateNode,o=t.memoizedProps;try{i.nodeValue=o}catch(v){gt(t,t.return,v)}}break;case 3:if(tr(e,t),_r(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Oc(e.containerInfo)}catch(v){gt(t,t.return,v)}break;case 4:tr(e,t),_r(t);break;case 13:tr(e,t),_r(t),i=t.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(M0=_t())),r&4&&rE(t);break;case 22:if(u=n!==null&&n.memoizedState!==null,t.mode&1?(tn=(c=tn)||u,tr(e,t),tn=c):tr(e,t),_r(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!u&&t.mode&1)for(ie=t,u=t.child;u!==null;){for(f=ie=u;ie!==null;){switch(h=ie,g=h.child,h.tag){case 0:case 11:case 14:case 15:pc(4,h,h.return);break;case 1:ca(h,h.return);var w=h.stateNode;if(typeof w.componentWillUnmount=="function"){r=h,n=h.return;try{e=r,w.props=e.memoizedProps,w.state=e.memoizedState,w.componentWillUnmount()}catch(v){gt(r,n,v)}}break;case 5:ca(h,h.return);break;case 22:if(h.memoizedState!==null){oE(f);continue}}g!==null?(g.return=h,ie=g):oE(f)}u=u.sibling}e:for(u=null,f=t;;){if(f.tag===5){if(u===null){u=f;try{i=f.stateNode,c?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(a=f.stateNode,l=f.memoizedProps.style,s=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=jS("display",s))}catch(v){gt(t,t.return,v)}}}else if(f.tag===6){if(u===null)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(v){gt(t,t.return,v)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;u===f&&(u=null),f=f.return}u===f&&(u=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:tr(e,t),_r(t),r&4&&rE(t);break;case 21:break;default:tr(e,t),_r(t)}}function _r(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(uI(n)){var r=n;break e}n=n.return}throw Error(Q(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(kc(i,""),r.flags&=-33);var o=nE(t);Ov(t,o,i);break;case 3:case 4:var s=r.stateNode.containerInfo,a=nE(t);Mv(t,a,s);break;default:throw Error(Q(161))}}catch(l){gt(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function fV(t,e,n){ie=t,hI(t)}function hI(t,e,n){for(var r=(t.mode&1)!==0;ie!==null;){var i=ie,o=i.child;if(i.tag===22&&r){var s=i.memoizedState!==null||bd;if(!s){var a=i.alternate,l=a!==null&&a.memoizedState!==null||tn;a=bd;var c=tn;if(bd=s,(tn=l)&&!c)for(ie=i;ie!==null;)s=ie,l=s.child,s.tag===22&&s.memoizedState!==null?sE(i):l!==null?(l.return=s,ie=l):sE(i);for(;o!==null;)ie=o,hI(o),o=o.sibling;ie=i,bd=a,tn=c}iE(t)}else i.subtreeFlags&8772&&o!==null?(o.return=i,ie=o):iE(t)}}function iE(t){for(;ie!==null;){var e=ie;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:tn||Gh(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!tn)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:rr(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&Bx(e,o,r);break;case 3:var s=e.updateQueue;if(s!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Bx(e,s,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var f=u.dehydrated;f!==null&&Oc(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Q(163))}tn||e.flags&512&&Dv(e)}catch(h){gt(e,e.return,h)}}if(e===t){ie=null;break}if(n=e.sibling,n!==null){n.return=e.return,ie=n;break}ie=e.return}}function oE(t){for(;ie!==null;){var e=ie;if(e===t){ie=null;break}var n=e.sibling;if(n!==null){n.return=e.return,ie=n;break}ie=e.return}}function sE(t){for(;ie!==null;){var e=ie;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Gh(4,e)}catch(l){gt(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){gt(e,i,l)}}var o=e.return;try{Dv(e)}catch(l){gt(e,o,l)}break;case 5:var s=e.return;try{Dv(e)}catch(l){gt(e,s,l)}}}catch(l){gt(e,e.return,l)}if(e===t){ie=null;break}var a=e.sibling;if(a!==null){a.return=e.return,ie=a;break}ie=e.return}}var hV=Math.ceil,Bf=Ci.ReactCurrentDispatcher,N0=Ci.ReactCurrentOwner,Gn=Ci.ReactCurrentBatchConfig,Ve=0,Vt=null,St=null,zt=0,Rn=0,ua=Mo(0),kt=0,qc=null,hs=0,Yh=0,D0=0,mc=null,yn=null,M0=0,Va=1/0,Xr=null,Wf=!1,Lv=null,so=null,Td=!1,Xi=null,zf=0,gc=0,Vv=null,rf=-1,of=0;function pn(){return Ve&6?_t():rf!==-1?rf:rf=_t()}function ao(t){return t.mode&1?Ve&2&&zt!==0?zt&-zt:Q4.transition!==null?(of===0&&(of=XS()),of):(t=qe,t!==0||(t=window.event,t=t===void 0?16:iP(t.type)),t):1}function lr(t,e,n,r){if(50<gc)throw gc=0,Vv=null,Error(Q(185));gu(t,n,r),(!(Ve&2)||t!==Vt)&&(t===Vt&&(!(Ve&2)&&(Yh|=n),kt===4&&Hi(t,zt)),Tn(t,r),n===1&&Ve===0&&!(e.mode&1)&&(Va=_t()+500,zh&&Oo()))}function Tn(t,e){var n=t.callbackNode;QL(t,e);var r=Pf(t,t===Vt?zt:0);if(r===0)n!==null&&mx(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&mx(n),e===1)t.tag===0?K4(aE.bind(null,t)):bP(aE.bind(null,t)),H4(function(){!(Ve&6)&&Oo()}),n=null;else{switch(JS(r)){case 1:n=s0;break;case 4:n=KS;break;case 16:n=Sf;break;case 536870912:n=QS;break;default:n=Sf}n=xI(n,pI.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function pI(t,e){if(rf=-1,of=0,Ve&6)throw Error(Q(327));var n=t.callbackNode;if(Ea()&&t.callbackNode!==n)return null;var r=Pf(t,t===Vt?zt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Hf(t,r);else{e=r;var i=Ve;Ve|=2;var o=gI();(Vt!==t||zt!==e)&&(Xr=null,Va=_t()+500,as(t,e));do try{gV();break}catch(a){mI(t,a)}while(1);w0(),Bf.current=o,Ve=i,St!==null?e=0:(Vt=null,zt=0,e=kt)}if(e!==0){if(e===2&&(i=uv(t),i!==0&&(r=i,e=jv(t,i))),e===1)throw n=qc,as(t,0),Hi(t,r),Tn(t,_t()),n;if(e===6)Hi(t,r);else{if(i=t.current.alternate,!(r&30)&&!pV(i)&&(e=Hf(t,r),e===2&&(o=uv(t),o!==0&&(r=o,e=jv(t,o))),e===1))throw n=qc,as(t,0),Hi(t,r),Tn(t,_t()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(Q(345));case 2:Ko(t,yn,Xr);break;case 3:if(Hi(t,r),(r&130023424)===r&&(e=M0+500-_t(),10<e)){if(Pf(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){pn(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=yv(Ko.bind(null,t,yn,Xr),e);break}Ko(t,yn,Xr);break;case 4:if(Hi(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var s=31-ar(r);o=1<<s,s=e[s],s>i&&(i=s),r&=~o}if(r=i,r=_t()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*hV(r/1960))-r,10<r){t.timeoutHandle=yv(Ko.bind(null,t,yn,Xr),r);break}Ko(t,yn,Xr);break;case 5:Ko(t,yn,Xr);break;default:throw Error(Q(329))}}}return Tn(t,_t()),t.callbackNode===n?pI.bind(null,t):null}function jv(t,e){var n=mc;return t.current.memoizedState.isDehydrated&&(as(t,e).flags|=256),t=Hf(t,e),t!==2&&(e=yn,yn=n,e!==null&&Fv(e)),t}function Fv(t){yn===null?yn=t:yn.push.apply(yn,t)}function pV(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!ur(o(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Hi(t,e){for(e&=~D0,e&=~Yh,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-ar(e),r=1<<n;t[n]=-1,e&=~r}}function aE(t){if(Ve&6)throw Error(Q(327));Ea();var e=Pf(t,0);if(!(e&1))return Tn(t,_t()),null;var n=Hf(t,e);if(t.tag!==0&&n===2){var r=uv(t);r!==0&&(e=r,n=jv(t,r))}if(n===1)throw n=qc,as(t,0),Hi(t,e),Tn(t,_t()),n;if(n===6)throw Error(Q(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Ko(t,yn,Xr),Tn(t,_t()),null}function O0(t,e){var n=Ve;Ve|=1;try{return t(e)}finally{Ve=n,Ve===0&&(Va=_t()+500,zh&&Oo())}}function ps(t){Xi!==null&&Xi.tag===0&&!(Ve&6)&&Ea();var e=Ve;Ve|=1;var n=Gn.transition,r=qe;try{if(Gn.transition=null,qe=1,t)return t()}finally{qe=r,Gn.transition=n,Ve=e,!(Ve&6)&&Oo()}}function L0(){Rn=ua.current,ot(ua)}function as(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,z4(n)),St!==null)for(n=St.return;n!==null;){var r=n;switch(g0(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Nf();break;case 3:Oa(),ot(En),ot(on),C0();break;case 5:T0(r);break;case 4:Oa();break;case 13:ot(ct);break;case 19:ot(ct);break;case 10:_0(r.type._context);break;case 22:case 23:L0()}n=n.return}if(Vt=t,St=t=lo(t.current,null),zt=Rn=e,kt=0,qc=null,D0=Yh=hs=0,yn=mc=null,ns!==null){for(e=0;e<ns.length;e++)if(n=ns[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var s=o.next;o.next=i,r.next=s}n.pending=r}ns=null}return t}function mI(t,e){do{var n=St;try{if(w0(),ef.current=Uf,$f){for(var r=ft.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}$f=!1}if(fs=0,Ot=Rt=ft=null,hc=!1,Wc=0,N0.current=null,n===null||n.return===null){kt=1,qc=e,St=null;break}e:{var o=t,s=n.return,a=n,l=e;if(e=zt,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=a,f=u.tag;if(!(u.mode&1)&&(f===0||f===11||f===15)){var h=u.alternate;h?(u.updateQueue=h.updateQueue,u.memoizedState=h.memoizedState,u.lanes=h.lanes):(u.updateQueue=null,u.memoizedState=null)}var g=Yx(s);if(g!==null){g.flags&=-257,Kx(g,s,a,o,e),g.mode&1&&Gx(o,c,e),e=g,l=c;var w=e.updateQueue;if(w===null){var v=new Set;v.add(l),e.updateQueue=v}else w.add(l);break e}else{if(!(e&1)){Gx(o,c,e),V0();break e}l=Error(Q(426))}}else if(at&&a.mode&1){var E=Yx(s);if(E!==null){!(E.flags&65536)&&(E.flags|=256),Kx(E,s,a,o,e),v0(La(l,a));break e}}o=l=La(l,a),kt!==4&&(kt=2),mc===null?mc=[o]:mc.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var _=JP(o,l,e);Ux(o,_);break e;case 1:a=l;var y=o.type,b=o.stateNode;if(!(o.flags&128)&&(typeof y.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(so===null||!so.has(b)))){o.flags|=65536,e&=-e,o.lanes|=e;var I=ZP(o,a,e);Ux(o,I);break e}}o=o.return}while(o!==null)}yI(n)}catch(N){e=N,St===n&&n!==null&&(St=n=n.return);continue}break}while(1)}function gI(){var t=Bf.current;return Bf.current=Uf,t===null?Uf:t}function V0(){(kt===0||kt===3||kt===2)&&(kt=4),Vt===null||!(hs&268435455)&&!(Yh&268435455)||Hi(Vt,zt)}function Hf(t,e){var n=Ve;Ve|=2;var r=gI();(Vt!==t||zt!==e)&&(Xr=null,as(t,e));do try{mV();break}catch(i){mI(t,i)}while(1);if(w0(),Ve=n,Bf.current=r,St!==null)throw Error(Q(261));return Vt=null,zt=0,kt}function mV(){for(;St!==null;)vI(St)}function gV(){for(;St!==null&&!UL();)vI(St)}function vI(t){var e=_I(t.alternate,t,Rn);t.memoizedProps=t.pendingProps,e===null?yI(t):St=e,N0.current=null}function yI(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=cV(n,e),n!==null){n.flags&=32767,St=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{kt=6,St=null;return}}else if(n=lV(n,e,Rn),n!==null){St=n;return}if(e=e.sibling,e!==null){St=e;return}St=e=t}while(e!==null);kt===0&&(kt=5)}function Ko(t,e,n){var r=qe,i=Gn.transition;try{Gn.transition=null,qe=1,vV(t,e,n,r)}finally{Gn.transition=i,qe=r}return null}function vV(t,e,n,r){do Ea();while(Xi!==null);if(Ve&6)throw Error(Q(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(Q(177));t.callbackNode=null,t.callbackPriority=0;var o=n.lanes|n.childLanes;if(XL(t,o),t===Vt&&(St=Vt=null,zt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Td||(Td=!0,xI(Sf,function(){return Ea(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=Gn.transition,Gn.transition=null;var s=qe;qe=1;var a=Ve;Ve|=4,N0.current=null,dV(t,n),fI(n,t),V4(gv),If=!!mv,gv=mv=null,t.current=n,fV(n),BL(),Ve=a,qe=s,Gn.transition=o}else t.current=n;if(Td&&(Td=!1,Xi=t,zf=i),o=t.pendingLanes,o===0&&(so=null),HL(n.stateNode),Tn(t,_t()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Wf)throw Wf=!1,t=Lv,Lv=null,t;return zf&1&&t.tag!==0&&Ea(),o=t.pendingLanes,o&1?t===Vv?gc++:(gc=0,Vv=t):gc=0,Oo(),null}function Ea(){if(Xi!==null){var t=JS(zf),e=Gn.transition,n=qe;try{if(Gn.transition=null,qe=16>t?16:t,Xi===null)var r=!1;else{if(t=Xi,Xi=null,zf=0,Ve&6)throw Error(Q(331));var i=Ve;for(Ve|=4,ie=t.current;ie!==null;){var o=ie,s=o.child;if(ie.flags&16){var a=o.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(ie=c;ie!==null;){var u=ie;switch(u.tag){case 0:case 11:case 15:pc(8,u,o)}var f=u.child;if(f!==null)f.return=u,ie=f;else for(;ie!==null;){u=ie;var h=u.sibling,g=u.return;if(cI(u),u===c){ie=null;break}if(h!==null){h.return=g,ie=h;break}ie=g}}}var w=o.alternate;if(w!==null){var v=w.child;if(v!==null){w.child=null;do{var E=v.sibling;v.sibling=null,v=E}while(v!==null)}}ie=o}}if(o.subtreeFlags&2064&&s!==null)s.return=o,ie=s;else e:for(;ie!==null;){if(o=ie,o.flags&2048)switch(o.tag){case 0:case 11:case 15:pc(9,o,o.return)}var _=o.sibling;if(_!==null){_.return=o.return,ie=_;break e}ie=o.return}}var y=t.current;for(ie=y;ie!==null;){s=ie;var b=s.child;if(s.subtreeFlags&2064&&b!==null)b.return=s,ie=b;else e:for(s=y;ie!==null;){if(a=ie,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Gh(9,a)}}catch(N){gt(a,a.return,N)}if(a===s){ie=null;break e}var I=a.sibling;if(I!==null){I.return=a.return,ie=I;break e}ie=a.return}}if(Ve=i,Oo(),Ar&&typeof Ar.onPostCommitFiberRoot=="function")try{Ar.onPostCommitFiberRoot(Fh,t)}catch{}r=!0}return r}finally{qe=n,Gn.transition=e}}return!1}function lE(t,e,n){e=La(n,e),e=JP(t,e,1),t=oo(t,e,1),e=pn(),t!==null&&(gu(t,1,e),Tn(t,e))}function gt(t,e,n){if(t.tag===3)lE(t,t,n);else for(;e!==null;){if(e.tag===3){lE(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(so===null||!so.has(r))){t=La(n,t),t=ZP(e,t,1),e=oo(e,t,1),t=pn(),e!==null&&(gu(e,1,t),Tn(e,t));break}}e=e.return}}function yV(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=pn(),t.pingedLanes|=t.suspendedLanes&n,Vt===t&&(zt&n)===n&&(kt===4||kt===3&&(zt&130023424)===zt&&500>_t()-M0?as(t,0):D0|=n),Tn(t,e)}function wI(t,e){e===0&&(t.mode&1?(e=pd,pd<<=1,!(pd&130023424)&&(pd=4194304)):e=1);var n=pn();t=hi(t,e),t!==null&&(gu(t,e,n),Tn(t,n))}function wV(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),wI(t,n)}function _V(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(Q(314))}r!==null&&r.delete(e),wI(t,n)}var _I;_I=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||En.current)_n=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return _n=!1,aV(t,e,n);_n=!!(t.flags&131072)}else _n=!1,at&&e.flags&1048576&&TP(e,Of,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;nf(t,e),t=e.pendingProps;var i=Na(e,on.current);xa(e,n),i=P0(null,e,r,t,i,n);var o=I0();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,bn(r)?(o=!0,Df(e)):o=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,E0(e),i.updater=qh,e.stateNode=i,i._reactInternals=e,Cv(e,r,t,n),e=Iv(null,e,r,!0,o,n)):(e.tag=0,at&&o&&m0(e),fn(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(nf(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=EV(r),t=rr(r,t),i){case 0:e=Pv(null,e,r,t,n);break e;case 1:e=Jx(null,e,r,t,n);break e;case 11:e=Qx(null,e,r,t,n);break e;case 14:e=Xx(null,e,r,rr(r.type,t),n);break e}throw Error(Q(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:rr(r,i),Pv(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:rr(r,i),Jx(t,e,r,i,n);case 3:e:{if(rI(e),t===null)throw Error(Q(387));r=e.pendingProps,o=e.memoizedState,i=o.element,RP(t,e),jf(e,r,null,n);var s=e.memoizedState;if(r=s.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){i=La(Error(Q(423)),e),e=Zx(t,e,r,n,i);break e}else if(r!==i){i=La(Error(Q(424)),e),e=Zx(t,e,r,n,i);break e}else for(Nn=io(e.stateNode.containerInfo.firstChild),Mn=e,at=!0,or=null,n=IP(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Da(),r===i){e=pi(t,e,n);break e}fn(t,e,r,n)}e=e.child}return e;case 5:return kP(e),t===null&&Ev(e),r=e.type,i=e.pendingProps,o=t!==null?t.memoizedProps:null,s=i.children,vv(r,i)?s=null:o!==null&&vv(r,o)&&(e.flags|=32),nI(t,e),fn(t,e,s,n),e.child;case 6:return t===null&&Ev(e),null;case 13:return iI(t,e,n);case 4:return b0(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Ma(e,null,r,n):fn(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:rr(r,i),Qx(t,e,r,i,n);case 7:return fn(t,e,e.pendingProps,n),e.child;case 8:return fn(t,e,e.pendingProps.children,n),e.child;case 12:return fn(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,o=e.memoizedProps,s=i.value,Xe(Lf,r._currentValue),r._currentValue=s,o!==null)if(ur(o.value,s)){if(o.children===i.children&&!En.current){e=pi(t,e,n);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var a=o.dependencies;if(a!==null){s=o.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(o.tag===1){l=oi(-1,n&-n),l.tag=2;var c=o.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),bv(o.return,n,e),a.lanes|=n;break}l=l.next}}else if(o.tag===10)s=o.type===e.type?null:o.child;else if(o.tag===18){if(s=o.return,s===null)throw Error(Q(341));s.lanes|=n,a=s.alternate,a!==null&&(a.lanes|=n),bv(s,n,e),s=o.sibling}else s=o.child;if(s!==null)s.return=o;else for(s=o;s!==null;){if(s===e){s=null;break}if(o=s.sibling,o!==null){o.return=s.return,s=o;break}s=s.return}o=s}fn(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,xa(e,n),i=Yn(i),r=r(i),e.flags|=1,fn(t,e,r,n),e.child;case 14:return r=e.type,i=rr(r,e.pendingProps),i=rr(r.type,i),Xx(t,e,r,i,n);case 15:return eI(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:rr(r,i),nf(t,e),e.tag=1,bn(r)?(t=!0,Df(e)):t=!1,xa(e,n),XP(e,r,i),Cv(e,r,i,n),Iv(null,e,r,!0,t,n);case 19:return oI(t,e,n);case 22:return tI(t,e,n)}throw Error(Q(156,e.tag))};function xI(t,e){return YS(t,e)}function xV(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function qn(t,e,n,r){return new xV(t,e,n,r)}function j0(t){return t=t.prototype,!(!t||!t.isReactComponent)}function EV(t){if(typeof t=="function")return j0(t)?1:0;if(t!=null){if(t=t.$$typeof,t===r0)return 11;if(t===i0)return 14}return 2}function lo(t,e){var n=t.alternate;return n===null?(n=qn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function sf(t,e,n,r,i,o){var s=2;if(r=t,typeof t=="function")j0(t)&&(s=1);else if(typeof t=="string")s=5;else e:switch(t){case ea:return ls(n.children,i,o,e);case n0:s=8,i|=8;break;case Kg:return t=qn(12,n,e,i|2),t.elementType=Kg,t.lanes=o,t;case Qg:return t=qn(13,n,e,i),t.elementType=Qg,t.lanes=o,t;case Xg:return t=qn(19,n,e,i),t.elementType=Xg,t.lanes=o,t;case kS:return Kh(n,i,o,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case AS:s=10;break e;case RS:s=9;break e;case r0:s=11;break e;case i0:s=14;break e;case Ui:s=16,r=null;break e}throw Error(Q(130,t==null?t:typeof t,""))}return e=qn(s,n,e,i),e.elementType=t,e.type=r,e.lanes=o,e}function ls(t,e,n,r){return t=qn(7,t,r,e),t.lanes=n,t}function Kh(t,e,n,r){return t=qn(22,t,r,e),t.elementType=kS,t.lanes=n,t.stateNode={isHidden:!1},t}function qm(t,e,n){return t=qn(6,t,null,e),t.lanes=n,t}function Gm(t,e,n){return e=qn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function bV(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Pm(0),this.expirationTimes=Pm(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Pm(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function F0(t,e,n,r,i,o,s,a,l){return t=new bV(t,e,n,a,l),e===1?(e=1,o===!0&&(e|=8)):e=0,o=qn(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},E0(o),t}function TV(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Zs,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function EI(t){if(!t)return Eo;t=t._reactInternals;e:{if(Is(t)!==t||t.tag!==1)throw Error(Q(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(bn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(Q(171))}if(t.tag===1){var n=t.type;if(bn(n))return EP(t,n,e)}return e}function bI(t,e,n,r,i,o,s,a,l){return t=F0(n,r,!0,t,i,o,s,a,l),t.context=EI(null),n=t.current,r=pn(),i=ao(n),o=oi(r,i),o.callback=e??null,oo(n,o,i),t.current.lanes=i,gu(t,i,r),Tn(t,r),t}function Qh(t,e,n,r){var i=e.current,o=pn(),s=ao(i);return n=EI(n),e.context===null?e.context=n:e.pendingContext=n,e=oi(o,s),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=oo(i,e,s),t!==null&&(lr(t,i,s,o),Zd(t,i,s)),s}function qf(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function cE(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function $0(t,e){cE(t,e),(t=t.alternate)&&cE(t,e)}function CV(){return null}var TI=typeof reportError=="function"?reportError:function(t){console.error(t)};function U0(t){this._internalRoot=t}Xh.prototype.render=U0.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(Q(409));Qh(t,e,null,null)};Xh.prototype.unmount=U0.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;ps(function(){Qh(null,t,null,null)}),e[fi]=null}};function Xh(t){this._internalRoot=t}Xh.prototype.unstable_scheduleHydration=function(t){if(t){var e=tP();t={blockedOn:null,target:t,priority:e};for(var n=0;n<zi.length&&e!==0&&e<zi[n].priority;n++);zi.splice(n,0,t),n===0&&rP(t)}};function B0(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Jh(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function uE(){}function SV(t,e,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var c=qf(s);o.call(c)}}var s=bI(e,r,t,0,null,!1,!1,"",uE);return t._reactRootContainer=s,t[fi]=s.current,jc(t.nodeType===8?t.parentNode:t),ps(),s}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var c=qf(l);a.call(c)}}var l=F0(t,0,!1,null,null,!1,!1,"",uE);return t._reactRootContainer=l,t[fi]=l.current,jc(t.nodeType===8?t.parentNode:t),ps(function(){Qh(e,l,n,r)}),l}function Zh(t,e,n,r,i){var o=n._reactRootContainer;if(o){var s=o;if(typeof i=="function"){var a=i;i=function(){var l=qf(s);a.call(l)}}Qh(e,s,t,i)}else s=SV(n,e,t,i,r);return qf(s)}ZS=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Zl(e.pendingLanes);n!==0&&(a0(e,n|1),Tn(e,_t()),!(Ve&6)&&(Va=_t()+500,Oo()))}break;case 13:ps(function(){var r=hi(t,1);if(r!==null){var i=pn();lr(r,t,1,i)}}),$0(t,1)}};l0=function(t){if(t.tag===13){var e=hi(t,134217728);if(e!==null){var n=pn();lr(e,t,134217728,n)}$0(t,134217728)}};eP=function(t){if(t.tag===13){var e=ao(t),n=hi(t,e);if(n!==null){var r=pn();lr(n,t,e,r)}$0(t,e)}};tP=function(){return qe};nP=function(t,e){var n=qe;try{return qe=t,e()}finally{qe=n}};av=function(t,e,n){switch(e){case"input":if(ev(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Wh(r);if(!i)throw Error(Q(90));DS(r),ev(r,i)}}}break;case"textarea":OS(t,n);break;case"select":e=n.value,e!=null&&va(t,!!n.multiple,e,!1)}};BS=O0;WS=ps;var PV={usingClientEntryPoint:!1,Events:[yu,ia,Wh,$S,US,O0]},Wl={findFiberByHostInstance:ts,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},IV={bundleType:Wl.bundleType,version:Wl.version,rendererPackageName:Wl.rendererPackageName,rendererConfig:Wl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ci.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=qS(t),t===null?null:t.stateNode},findFiberByHostInstance:Wl.findFiberByHostInstance||CV,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Cd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Cd.isDisabled&&Cd.supportsFiber)try{Fh=Cd.inject(IV),Ar=Cd}catch{}}jn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=PV;jn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!B0(e))throw Error(Q(200));return TV(t,e,null,n)};jn.createRoot=function(t,e){if(!B0(t))throw Error(Q(299));var n=!1,r="",i=TI;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=F0(t,1,!1,null,null,n,!1,r,i),t[fi]=e.current,jc(t.nodeType===8?t.parentNode:t),new U0(e)};jn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(Q(188)):(t=Object.keys(t).join(","),Error(Q(268,t)));return t=qS(e),t=t===null?null:t.stateNode,t};jn.flushSync=function(t){return ps(t)};jn.hydrate=function(t,e,n){if(!Jh(e))throw Error(Q(200));return Zh(null,t,e,!0,n)};jn.hydrateRoot=function(t,e,n){if(!B0(t))throw Error(Q(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",s=TI;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),e=bI(e,null,t,1,n??null,i,!1,o,s),t[fi]=e.current,jc(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Xh(e)};jn.render=function(t,e,n){if(!Jh(e))throw Error(Q(200));return Zh(null,t,e,!1,n)};jn.unmountComponentAtNode=function(t){if(!Jh(t))throw Error(Q(40));return t._reactRootContainer?(ps(function(){Zh(null,null,t,!1,function(){t._reactRootContainer=null,t[fi]=null})}),!0):!1};jn.unstable_batchedUpdates=O0;jn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Jh(n))throw Error(Q(200));if(t==null||t._reactInternals===void 0)throw Error(Q(38));return Zh(t,e,n,!1,r)};jn.version="18.3.1-next-f1338f8080-20240426";function CI(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(CI)}catch(t){console.error(t)}}CI(),CS.exports=jn;var Lo=CS.exports;const SI=hS(Lo);var dE=Lo;Gg.createRoot=dE.createRoot,Gg.hydrateRoot=dE.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Gc(){return Gc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Gc.apply(this,arguments)}var Ji;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Ji||(Ji={}));const fE="popstate";function AV(t){t===void 0&&(t={});function e(r,i){let{pathname:o,search:s,hash:a}=r.location;return $v("",{pathname:o,search:s,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Gf(i)}return kV(e,n,null,t)}function bt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function PI(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function RV(){return Math.random().toString(36).substr(2,8)}function hE(t,e){return{usr:t.state,key:t.key,idx:e}}function $v(t,e,n,r){return n===void 0&&(n=null),Gc({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?il(e):e,{state:n,key:e&&e.key||r||RV()})}function Gf(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function il(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function kV(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:o=!1}=r,s=i.history,a=Ji.Pop,l=null,c=u();c==null&&(c=0,s.replaceState(Gc({},s.state,{idx:c}),""));function u(){return(s.state||{idx:null}).idx}function f(){a=Ji.Pop;let E=u(),_=E==null?null:E-c;c=E,l&&l({action:a,location:v.location,delta:_})}function h(E,_){a=Ji.Push;let y=$v(v.location,E,_);n&&n(y,E),c=u()+1;let b=hE(y,c),I=v.createHref(y);try{s.pushState(b,"",I)}catch(N){if(N instanceof DOMException&&N.name==="DataCloneError")throw N;i.location.assign(I)}o&&l&&l({action:a,location:v.location,delta:1})}function g(E,_){a=Ji.Replace;let y=$v(v.location,E,_);n&&n(y,E),c=u();let b=hE(y,c),I=v.createHref(y);s.replaceState(b,"",I),o&&l&&l({action:a,location:v.location,delta:0})}function w(E){let _=i.location.origin!=="null"?i.location.origin:i.location.href,y=typeof E=="string"?E:Gf(E);return y=y.replace(/ $/,"%20"),bt(_,"No window.location.(origin|href) available to create URL for href: "+y),new URL(y,_)}let v={get action(){return a},get location(){return t(i,s)},listen(E){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(fE,f),l=E,()=>{i.removeEventListener(fE,f),l=null}},createHref(E){return e(i,E)},createURL:w,encodeLocation(E){let _=w(E);return{pathname:_.pathname,search:_.search,hash:_.hash}},push:h,replace:g,go(E){return s.go(E)}};return v}var pE;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(pE||(pE={}));function NV(t,e,n){return n===void 0&&(n="/"),DV(t,e,n,!1)}function DV(t,e,n,r){let i=typeof e=="string"?il(e):e,o=W0(i.pathname||"/",n);if(o==null)return null;let s=II(t);MV(s);let a=null;for(let l=0;a==null&&l<s.length;++l){let c=HV(o);a=WV(s[l],c,r)}return a}function II(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(o,s,a)=>{let l={relativePath:a===void 0?o.path||"":a,caseSensitive:o.caseSensitive===!0,childrenIndex:s,route:o};l.relativePath.startsWith("/")&&(bt(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let c=co([r,l.relativePath]),u=n.concat(l);o.children&&o.children.length>0&&(bt(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),II(o.children,e,u,c)),!(o.path==null&&!o.index)&&e.push({path:c,score:UV(c,o.index),routesMeta:u})};return t.forEach((o,s)=>{var a;if(o.path===""||!((a=o.path)!=null&&a.includes("?")))i(o,s);else for(let l of AI(o.path))i(o,s,l)}),e}function AI(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let s=AI(r.join("/")),a=[];return a.push(...s.map(l=>l===""?o:[o,l].join("/"))),i&&a.push(...s),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function MV(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:BV(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const OV=/^:[\w-]+$/,LV=3,VV=2,jV=1,FV=10,$V=-2,mE=t=>t==="*";function UV(t,e){let n=t.split("/"),r=n.length;return n.some(mE)&&(r+=$V),e&&(r+=VV),n.filter(i=>!mE(i)).reduce((i,o)=>i+(OV.test(o)?LV:o===""?jV:FV),r)}function BV(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function WV(t,e,n){n===void 0&&(n=!1);let{routesMeta:r}=t,i={},o="/",s=[];for(let a=0;a<r.length;++a){let l=r[a],c=a===r.length-1,u=o==="/"?e:e.slice(o.length)||"/",f=gE({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},u),h=l.route;if(!f&&c&&n&&!r[r.length-1].route.index&&(f=gE({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},u)),!f)return null;Object.assign(i,f.params),s.push({params:i,pathname:co([o,f.pathname]),pathnameBase:KV(co([o,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(o=co([o,f.pathnameBase]))}return s}function gE(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=zV(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let o=i[0],s=o.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((c,u,f)=>{let{paramName:h,isOptional:g}=u;if(h==="*"){let v=a[f]||"";s=o.slice(0,o.length-v.length).replace(/(.)\/+$/,"$1")}const w=a[f];return g&&!w?c[h]=void 0:c[h]=(w||"").replace(/%2F/g,"/"),c},{}),pathname:o,pathnameBase:s,pattern:t}}function zV(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),PI(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function HV(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return PI(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function W0(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function qV(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?il(t):t;return{pathname:n?n.startsWith("/")?n:GV(n,e):e,search:QV(r),hash:XV(i)}}function GV(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Ym(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function YV(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function z0(t,e){let n=YV(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function H0(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=il(t):(i=Gc({},t),bt(!i.pathname||!i.pathname.includes("?"),Ym("?","pathname","search",i)),bt(!i.pathname||!i.pathname.includes("#"),Ym("#","pathname","hash",i)),bt(!i.search||!i.search.includes("#"),Ym("#","search","hash",i)));let o=t===""||i.pathname==="",s=o?"/":i.pathname,a;if(s==null)a=n;else{let f=e.length-1;if(!r&&s.startsWith("..")){let h=s.split("/");for(;h[0]==="..";)h.shift(),f-=1;i.pathname=h.join("/")}a=f>=0?e[f]:"/"}let l=qV(i,a),c=s&&s!=="/"&&s.endsWith("/"),u=(o||s===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||u)&&(l.pathname+="/"),l}const co=t=>t.join("/").replace(/\/\/+/g,"/"),KV=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),QV=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,XV=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function JV(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const RI=["post","put","patch","delete"];new Set(RI);const ZV=["get",...RI];new Set(ZV);/**
 * React Router v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Yc(){return Yc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Yc.apply(this,arguments)}const q0=m.createContext(null),e5=m.createContext(null),Vo=m.createContext(null),ep=m.createContext(null),Si=m.createContext({outlet:null,matches:[],isDataRoute:!1}),kI=m.createContext(null);function t5(t,e){let{relative:n}=e===void 0?{}:e;ol()||bt(!1);let{basename:r,navigator:i}=m.useContext(Vo),{hash:o,pathname:s,search:a}=DI(t,{relative:n}),l=s;return r!=="/"&&(l=s==="/"?r:co([r,s])),i.createHref({pathname:l,search:a,hash:o})}function ol(){return m.useContext(ep)!=null}function sl(){return ol()||bt(!1),m.useContext(ep).location}function NI(t){m.useContext(Vo).static||m.useLayoutEffect(t)}function _u(){let{isDataRoute:t}=m.useContext(Si);return t?m5():n5()}function n5(){ol()||bt(!1);let t=m.useContext(q0),{basename:e,future:n,navigator:r}=m.useContext(Vo),{matches:i}=m.useContext(Si),{pathname:o}=sl(),s=JSON.stringify(z0(i,n.v7_relativeSplatPath)),a=m.useRef(!1);return NI(()=>{a.current=!0}),m.useCallback(function(c,u){if(u===void 0&&(u={}),!a.current)return;if(typeof c=="number"){r.go(c);return}let f=H0(c,JSON.parse(s),o,u.relative==="path");t==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:co([e,f.pathname])),(u.replace?r.replace:r.push)(f,u.state,u)},[e,r,s,o,t])}function r5(){let{matches:t}=m.useContext(Si),e=t[t.length-1];return e?e.params:{}}function DI(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=m.useContext(Vo),{matches:i}=m.useContext(Si),{pathname:o}=sl(),s=JSON.stringify(z0(i,r.v7_relativeSplatPath));return m.useMemo(()=>H0(t,JSON.parse(s),o,n==="path"),[t,s,o,n])}function i5(t,e){return o5(t,e)}function o5(t,e,n,r){ol()||bt(!1);let{navigator:i,static:o}=m.useContext(Vo),{matches:s}=m.useContext(Si),a=s[s.length-1],l=a?a.params:{};a&&a.pathname;let c=a?a.pathnameBase:"/";a&&a.route;let u=sl(),f;if(e){var h;let _=typeof e=="string"?il(e):e;c==="/"||(h=_.pathname)!=null&&h.startsWith(c)||bt(!1),f=_}else f=u;let g=f.pathname||"/",w=g;if(c!=="/"){let _=c.replace(/^\//,"").split("/");w="/"+g.replace(/^\//,"").split("/").slice(_.length).join("/")}let v=!o&&n&&n.matches&&n.matches.length>0?n.matches:NV(t,{pathname:w}),E=u5(v&&v.map(_=>Object.assign({},_,{params:Object.assign({},l,_.params),pathname:co([c,i.encodeLocation?i.encodeLocation(_.pathname).pathname:_.pathname]),pathnameBase:_.pathnameBase==="/"?c:co([c,i.encodeLocation?i.encodeLocation(_.pathnameBase).pathname:_.pathnameBase])})),s,n,r);return e&&E?m.createElement(ep.Provider,{value:{location:Yc({pathname:"/",search:"",hash:"",state:null,key:"default"},f),navigationType:Ji.Pop}},E):E}function s5(){let t=p5(),e=JV(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},o=null;return m.createElement(m.Fragment,null,m.createElement("h2",null,"Unexpected Application Error!"),m.createElement("h3",{style:{fontStyle:"italic"}},e),n?m.createElement("pre",{style:i},n):null,o)}const a5=m.createElement(s5,null);class l5 extends m.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?m.createElement(Si.Provider,{value:this.props.routeContext},m.createElement(kI.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function c5(t){let{routeContext:e,match:n,children:r}=t,i=m.useContext(q0);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),m.createElement(Si.Provider,{value:e},r)}function u5(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var o;if(!n)return null;if(n.errors)t=n.matches;else if((o=r)!=null&&o.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let s=t,a=(i=n)==null?void 0:i.errors;if(a!=null){let u=s.findIndex(f=>f.route.id&&(a==null?void 0:a[f.route.id])!==void 0);u>=0||bt(!1),s=s.slice(0,Math.min(s.length,u+1))}let l=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let u=0;u<s.length;u++){let f=s[u];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(c=u),f.route.id){let{loaderData:h,errors:g}=n,w=f.route.loader&&h[f.route.id]===void 0&&(!g||g[f.route.id]===void 0);if(f.route.lazy||w){l=!0,c>=0?s=s.slice(0,c+1):s=[s[0]];break}}}return s.reduceRight((u,f,h)=>{let g,w=!1,v=null,E=null;n&&(g=a&&f.route.id?a[f.route.id]:void 0,v=f.route.errorElement||a5,l&&(c<0&&h===0?(g5("route-fallback",!1),w=!0,E=null):c===h&&(w=!0,E=f.route.hydrateFallbackElement||null)));let _=e.concat(s.slice(0,h+1)),y=()=>{let b;return g?b=v:w?b=E:f.route.Component?b=m.createElement(f.route.Component,null):f.route.element?b=f.route.element:b=u,m.createElement(c5,{match:f,routeContext:{outlet:u,matches:_,isDataRoute:n!=null},children:b})};return n&&(f.route.ErrorBoundary||f.route.errorElement||h===0)?m.createElement(l5,{location:n.location,revalidation:n.revalidation,component:v,error:g,children:y(),routeContext:{outlet:null,matches:_,isDataRoute:!0}}):y()},null)}var MI=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(MI||{}),Yf=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Yf||{});function d5(t){let e=m.useContext(q0);return e||bt(!1),e}function f5(t){let e=m.useContext(e5);return e||bt(!1),e}function h5(t){let e=m.useContext(Si);return e||bt(!1),e}function OI(t){let e=h5(),n=e.matches[e.matches.length-1];return n.route.id||bt(!1),n.route.id}function p5(){var t;let e=m.useContext(kI),n=f5(Yf.UseRouteError),r=OI(Yf.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function m5(){let{router:t}=d5(MI.UseNavigateStable),e=OI(Yf.UseNavigateStable),n=m.useRef(!1);return NI(()=>{n.current=!0}),m.useCallback(function(i,o){o===void 0&&(o={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,Yc({fromRouteId:e},o)))},[t,e])}const vE={};function g5(t,e,n){!e&&!vE[t]&&(vE[t]=!0)}function v5(t,e){t==null||t.v7_startTransition,(t==null?void 0:t.v7_relativeSplatPath)===void 0&&(!e||e.v7_relativeSplatPath),e&&(e.v7_fetcherPersist,e.v7_normalizeFormMethod,e.v7_partialHydration,e.v7_skipActionErrorRevalidation)}function Uv(t){let{to:e,replace:n,state:r,relative:i}=t;ol()||bt(!1);let{future:o,static:s}=m.useContext(Vo),{matches:a}=m.useContext(Si),{pathname:l}=sl(),c=_u(),u=H0(e,z0(a,o.v7_relativeSplatPath),l,i==="path"),f=JSON.stringify(u);return m.useEffect(()=>c(JSON.parse(f),{replace:n,state:r,relative:i}),[c,f,i,n,r]),null}function Ys(t){bt(!1)}function y5(t){let{basename:e="/",children:n=null,location:r,navigationType:i=Ji.Pop,navigator:o,static:s=!1,future:a}=t;ol()&&bt(!1);let l=e.replace(/^\/*/,"/"),c=m.useMemo(()=>({basename:l,navigator:o,static:s,future:Yc({v7_relativeSplatPath:!1},a)}),[l,a,o,s]);typeof r=="string"&&(r=il(r));let{pathname:u="/",search:f="",hash:h="",state:g=null,key:w="default"}=r,v=m.useMemo(()=>{let E=W0(u,l);return E==null?null:{location:{pathname:E,search:f,hash:h,state:g,key:w},navigationType:i}},[l,u,f,h,g,w,i]);return v==null?null:m.createElement(Vo.Provider,{value:c},m.createElement(ep.Provider,{children:n,value:v}))}function w5(t){let{children:e,location:n}=t;return i5(Bv(e),n)}new Promise(()=>{});function Bv(t,e){e===void 0&&(e=[]);let n=[];return m.Children.forEach(t,(r,i)=>{if(!m.isValidElement(r))return;let o=[...e,i];if(r.type===m.Fragment){n.push.apply(n,Bv(r.props.children,o));return}r.type!==Ys&&bt(!1),!r.props.index||!r.props.children||bt(!1);let s={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(s.children=Bv(r.props.children,o)),n.push(s)}),n}/**
 * React Router DOM v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Wv(){return Wv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Wv.apply(this,arguments)}function _5(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function x5(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function E5(t,e){return t.button===0&&(!e||e==="_self")&&!x5(t)}const b5=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],T5="6";try{window.__reactRouterVersion=T5}catch{}const C5="startTransition",yE=jh[C5];function S5(t){let{basename:e,children:n,future:r,window:i}=t,o=m.useRef();o.current==null&&(o.current=AV({window:i,v5Compat:!0}));let s=o.current,[a,l]=m.useState({action:s.action,location:s.location}),{v7_startTransition:c}=r||{},u=m.useCallback(f=>{c&&yE?yE(()=>l(f)):l(f)},[l,c]);return m.useLayoutEffect(()=>s.listen(u),[s,u]),m.useEffect(()=>v5(r),[r]),m.createElement(y5,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:s,future:r})}const P5=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",I5=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Kc=m.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:o,replace:s,state:a,target:l,to:c,preventScrollReset:u,viewTransition:f}=e,h=_5(e,b5),{basename:g}=m.useContext(Vo),w,v=!1;if(typeof c=="string"&&I5.test(c)&&(w=c,P5))try{let b=new URL(window.location.href),I=c.startsWith("//")?new URL(b.protocol+c):new URL(c),N=W0(I.pathname,g);I.origin===b.origin&&N!=null?c=N+I.search+I.hash:v=!0}catch{}let E=t5(c,{relative:i}),_=A5(c,{replace:s,state:a,target:l,preventScrollReset:u,relative:i,viewTransition:f});function y(b){r&&r(b),b.defaultPrevented||_(b)}return m.createElement("a",Wv({},h,{href:w||E,onClick:v||o?r:y,ref:n,target:l}))});var wE;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(wE||(wE={}));var _E;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(_E||(_E={}));function A5(t,e){let{target:n,replace:r,state:i,preventScrollReset:o,relative:s,viewTransition:a}=e===void 0?{}:e,l=_u(),c=sl(),u=DI(t,{relative:s});return m.useCallback(f=>{if(E5(f,n)){f.preventDefault();let h=r!==void 0?r:Gf(c)===Gf(u);l(t,{replace:h,state:i,preventScrollReset:o,relative:s,viewTransition:a})}},[c,l,u,r,i,n,t,o,s,a])}const R5=()=>{};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LI=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},k5=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=t[n++],s=t[n++],a=t[n++],l=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const o=t[n++],s=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},VI={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const o=t[i],s=i+1<t.length,a=s?t[i+1]:0,l=i+2<t.length,c=l?t[i+2]:0,u=o>>2,f=(o&3)<<4|a>>4;let h=(a&15)<<2|c>>6,g=c&63;l||(g=64,s||(h=64)),r.push(n[u],n[f],n[h],n[g])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(LI(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):k5(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const o=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const f=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||a==null||c==null||f==null)throw new N5;const h=o<<2|a>>4;if(r.push(h),c!==64){const g=a<<4&240|c>>2;if(r.push(g),f!==64){const w=c<<6&192|f;r.push(w)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class N5 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const D5=function(t){const e=LI(t);return VI.encodeByteArray(e,!0)},Kf=function(t){return D5(t).replace(/\./g,"")},jI=function(t){try{return VI.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M5(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O5=()=>M5().__FIREBASE_DEFAULTS__,L5=()=>{if(typeof process>"u"||typeof process.env>"u")return;const t={}.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},V5=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&jI(t[1]);return e&&JSON.parse(e)},tp=()=>{try{return R5()||O5()||L5()||V5()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},FI=t=>{var e,n;return(n=(e=tp())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},j5=t=>{const e=FI(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},$I=()=>{var t;return(t=tp())==null?void 0:t.config},UI=t=>{var e;return(e=tp())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F5{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function al(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function BI(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $5(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s={iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}},...t},a="";return[Kf(JSON.stringify(n)),Kf(JSON.stringify(s)),a].join(".")}const vc={};function U5(){const t={prod:[],emulator:[]};for(const e of Object.keys(vc))vc[e]?t.emulator.push(e):t.prod.push(e);return t}function B5(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let xE=!1;function WI(t,e){if(typeof window>"u"||typeof document>"u"||!al(window.location.host)||vc[t]===e||vc[t]||xE)return;vc[t]=e;function n(h){return`__firebase__banner__${h}`}const r="__firebase__banner",o=U5().prod.length>0;function s(){const h=document.getElementById(r);h&&h.remove()}function a(h){h.style.display="flex",h.style.background="#7faaf0",h.style.position="fixed",h.style.bottom="5px",h.style.left="5px",h.style.padding=".5em",h.style.borderRadius="5px",h.style.alignItems="center"}function l(h,g){h.setAttribute("width","24"),h.setAttribute("id",g),h.setAttribute("height","24"),h.setAttribute("viewBox","0 0 24 24"),h.setAttribute("fill","none"),h.style.marginLeft="-6px"}function c(){const h=document.createElement("span");return h.style.cursor="pointer",h.style.marginLeft="16px",h.style.fontSize="24px",h.innerHTML=" &times;",h.onclick=()=>{xE=!0,s()},h}function u(h,g){h.setAttribute("id",g),h.innerText="Learn more",h.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",h.setAttribute("target","__blank"),h.style.paddingLeft="5px",h.style.textDecoration="underline"}function f(){const h=B5(r),g=n("text"),w=document.getElementById(g)||document.createElement("span"),v=n("learnmore"),E=document.getElementById(v)||document.createElement("a"),_=n("preprendIcon"),y=document.getElementById(_)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(h.created){const b=h.element;a(b),u(E,v);const I=c();l(y,_),b.append(y,w,E,I),document.body.appendChild(b)}o?(w.innerText="Preview backend disconnected.",y.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(y.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,w.innerText="Preview backend running in this workspace."),w.setAttribute("id",g)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",f):f()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function W5(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(sn())}function z5(){var e;const t=(e=tp())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function H5(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function q5(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function G5(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Y5(){const t=sn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function K5(){return!z5()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Q5(){try{return typeof indexedDB=="object"}catch{return!1}}function X5(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)==null?void 0:o.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J5="FirebaseError";class Pi extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=J5,Object.setPrototypeOf(this,Pi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,xu.prototype.create)}}class xu{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?Z5(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new Pi(i,a,r)}}function Z5(t,e){return t.replace(ej,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const ej=/\{\$([^}]+)}/g;function tj(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function ms(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const o=t[i],s=e[i];if(EE(o)&&EE(s)){if(!ms(o,s))return!1}else if(o!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function EE(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Eu(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function tc(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,o]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(o)}}),e}function nc(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function nj(t,e){const n=new rj(t,e);return n.subscribe.bind(n)}class rj{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");ij(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Km),i.error===void 0&&(i.error=Km),i.complete===void 0&&(i.complete=Km);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function ij(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Km(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jt(t){return t&&t._delegate?t._delegate:t}class gs{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qo="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let oj=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new F5;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(aj(e))try{this.getOrInitializeService({instanceIdentifier:Qo})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=Qo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Qo){return this.instances.has(e)}getOptions(e=Qo){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),i=this.onInitCallbacks.get(r)??new Set;i.add(e),this.onInitCallbacks.set(r,i);const o=this.instances.get(r);return o&&e(o,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:sj(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Qo){return this.component?this.component.multipleInstances?e:Qo:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function sj(t){return t===Qo?void 0:t}function aj(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lj{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new oj(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Re;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Re||(Re={}));const cj={debug:Re.DEBUG,verbose:Re.VERBOSE,info:Re.INFO,warn:Re.WARN,error:Re.ERROR,silent:Re.SILENT},uj=Re.INFO,dj={[Re.DEBUG]:"log",[Re.VERBOSE]:"log",[Re.INFO]:"info",[Re.WARN]:"warn",[Re.ERROR]:"error"},fj=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=dj[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class G0{constructor(e){this.name=e,this._logLevel=uj,this._logHandler=fj,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Re))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?cj[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Re.DEBUG,...e),this._logHandler(this,Re.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Re.VERBOSE,...e),this._logHandler(this,Re.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Re.INFO,...e),this._logHandler(this,Re.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Re.WARN,...e),this._logHandler(this,Re.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Re.ERROR,...e),this._logHandler(this,Re.ERROR,...e)}}const hj=(t,e)=>e.some(n=>t instanceof n);let bE,TE;function pj(){return bE||(bE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function mj(){return TE||(TE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const zI=new WeakMap,zv=new WeakMap,HI=new WeakMap,Qm=new WeakMap,Y0=new WeakMap;function gj(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(uo(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&zI.set(n,t)}).catch(()=>{}),Y0.set(e,t),e}function vj(t){if(zv.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});zv.set(t,e)}let Hv={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return zv.get(t);if(e==="objectStoreNames")return t.objectStoreNames||HI.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return uo(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function yj(t){Hv=t(Hv)}function wj(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Xm(this),e,...n);return HI.set(r,e.sort?e.sort():[e]),uo(r)}:mj().includes(t)?function(...e){return t.apply(Xm(this),e),uo(zI.get(this))}:function(...e){return uo(t.apply(Xm(this),e))}}function _j(t){return typeof t=="function"?wj(t):(t instanceof IDBTransaction&&vj(t),hj(t,pj())?new Proxy(t,Hv):t)}function uo(t){if(t instanceof IDBRequest)return gj(t);if(Qm.has(t))return Qm.get(t);const e=_j(t);return e!==t&&(Qm.set(t,e),Y0.set(e,t)),e}const Xm=t=>Y0.get(t);function xj(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const s=indexedDB.open(t,e),a=uo(s);return r&&s.addEventListener("upgradeneeded",l=>{r(uo(s.result),l.oldVersion,l.newVersion,uo(s.transaction),l)}),n&&s.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{o&&l.addEventListener("close",()=>o()),i&&l.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const Ej=["get","getKey","getAll","getAllKeys","count"],bj=["put","add","delete","clear"],Jm=new Map;function CE(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Jm.get(e))return Jm.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=bj.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||Ej.includes(n)))return;const o=async function(s,...a){const l=this.transaction(s,i?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),i&&l.done]))[0]};return Jm.set(e,o),o}yj(t=>({...t,get:(e,n,r)=>CE(e,n)||t.get(e,n,r),has:(e,n)=>!!CE(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tj{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Cj(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function Cj(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const qv="@firebase/app",SE="0.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mi=new G0("@firebase/app"),Sj="@firebase/app-compat",Pj="@firebase/analytics-compat",Ij="@firebase/analytics",Aj="@firebase/app-check-compat",Rj="@firebase/app-check",kj="@firebase/auth",Nj="@firebase/auth-compat",Dj="@firebase/database",Mj="@firebase/data-connect",Oj="@firebase/database-compat",Lj="@firebase/functions",Vj="@firebase/functions-compat",jj="@firebase/installations",Fj="@firebase/installations-compat",$j="@firebase/messaging",Uj="@firebase/messaging-compat",Bj="@firebase/performance",Wj="@firebase/performance-compat",zj="@firebase/remote-config",Hj="@firebase/remote-config-compat",qj="@firebase/storage",Gj="@firebase/storage-compat",Yj="@firebase/firestore",Kj="@firebase/ai",Qj="@firebase/firestore-compat",Xj="firebase",Jj="12.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gv="[DEFAULT]",Zj={[qv]:"fire-core",[Sj]:"fire-core-compat",[Ij]:"fire-analytics",[Pj]:"fire-analytics-compat",[Rj]:"fire-app-check",[Aj]:"fire-app-check-compat",[kj]:"fire-auth",[Nj]:"fire-auth-compat",[Dj]:"fire-rtdb",[Mj]:"fire-data-connect",[Oj]:"fire-rtdb-compat",[Lj]:"fire-fn",[Vj]:"fire-fn-compat",[jj]:"fire-iid",[Fj]:"fire-iid-compat",[$j]:"fire-fcm",[Uj]:"fire-fcm-compat",[Bj]:"fire-perf",[Wj]:"fire-perf-compat",[zj]:"fire-rc",[Hj]:"fire-rc-compat",[qj]:"fire-gcs",[Gj]:"fire-gcs-compat",[Yj]:"fire-fst",[Qj]:"fire-fst-compat",[Kj]:"fire-vertex","fire-js":"fire-js",[Xj]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qf=new Map,e3=new Map,Yv=new Map;function PE(t,e){try{t.container.addComponent(e)}catch(n){mi.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function ja(t){const e=t.name;if(Yv.has(e))return mi.debug(`There were multiple attempts to register component ${e}.`),!1;Yv.set(e,t);for(const n of Qf.values())PE(n,t);for(const n of e3.values())PE(n,t);return!0}function K0(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function zn(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t3={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},fo=new xu("app","Firebase",t3);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n3{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new gs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw fo.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ll=Jj;function qI(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:Gv,automaticDataCollectionEnabled:!0,...e},i=r.name;if(typeof i!="string"||!i)throw fo.create("bad-app-name",{appName:String(i)});if(n||(n=$I()),!n)throw fo.create("no-options");const o=Qf.get(i);if(o){if(ms(n,o.options)&&ms(r,o.config))return o;throw fo.create("duplicate-app",{appName:i})}const s=new lj(i);for(const l of Yv.values())s.addComponent(l);const a=new n3(n,r,s);return Qf.set(i,a),a}function GI(t=Gv){const e=Qf.get(t);if(!e&&t===Gv&&$I())return qI();if(!e)throw fo.create("no-app",{appName:t});return e}function ho(t,e,n){let r=Zj[t]??t;n&&(r+=`-${n}`);const i=r.match(/\s|\//),o=e.match(/\s|\//);if(i||o){const s=[`Unable to register library "${r}" with version "${e}":`];i&&s.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&o&&s.push("and"),o&&s.push(`version name "${e}" contains illegal characters (whitespace or "/")`),mi.warn(s.join(" "));return}ja(new gs(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r3="firebase-heartbeat-database",i3=1,Qc="firebase-heartbeat-store";let Zm=null;function YI(){return Zm||(Zm=xj(r3,i3,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Qc)}catch(n){console.warn(n)}}}}).catch(t=>{throw fo.create("idb-open",{originalErrorMessage:t.message})})),Zm}async function o3(t){try{const n=(await YI()).transaction(Qc),r=await n.objectStore(Qc).get(KI(t));return await n.done,r}catch(e){if(e instanceof Pi)mi.warn(e.message);else{const n=fo.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});mi.warn(n.message)}}}async function IE(t,e){try{const r=(await YI()).transaction(Qc,"readwrite");await r.objectStore(Qc).put(e,KI(t)),await r.done}catch(n){if(n instanceof Pi)mi.warn(n.message);else{const r=fo.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});mi.warn(r.message)}}}function KI(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s3=1024,a3=30;class l3{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new u3(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=AE();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats.length>a3){const s=d3(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){mi.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=AE(),{heartbeatsToSend:r,unsentEntries:i}=c3(this._heartbeatsCache.heartbeats),o=Kf(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return mi.warn(n),""}}}function AE(){return new Date().toISOString().substring(0,10)}function c3(t,e=s3){const n=[];let r=t.slice();for(const i of t){const o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),RE(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),RE(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class u3{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Q5()?X5().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await o3(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return IE(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return IE(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function RE(t){return Kf(JSON.stringify({version:2,heartbeats:t})).length}function d3(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f3(t){ja(new gs("platform-logger",e=>new Tj(e),"PRIVATE")),ja(new gs("heartbeat",e=>new l3(e),"PRIVATE")),ho(qv,SE,t),ho(qv,SE,"esm2020"),ho("fire-js","")}f3("");var h3="firebase",p3="12.1.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ho(h3,p3,"app");var kE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var po,QI;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(S,C){function P(){}P.prototype=C.prototype,S.D=C.prototype,S.prototype=new P,S.prototype.constructor=S,S.C=function(A,M,D){for(var k=Array(arguments.length-2),B=2;B<arguments.length;B++)k[B-2]=arguments[B];return C.prototype[M].apply(A,k)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(S,C,P){P||(P=0);var A=Array(16);if(typeof C=="string")for(var M=0;16>M;++M)A[M]=C.charCodeAt(P++)|C.charCodeAt(P++)<<8|C.charCodeAt(P++)<<16|C.charCodeAt(P++)<<24;else for(M=0;16>M;++M)A[M]=C[P++]|C[P++]<<8|C[P++]<<16|C[P++]<<24;C=S.g[0],P=S.g[1],M=S.g[2];var D=S.g[3],k=C+(D^P&(M^D))+A[0]+3614090360&4294967295;C=P+(k<<7&4294967295|k>>>25),k=D+(M^C&(P^M))+A[1]+3905402710&4294967295,D=C+(k<<12&4294967295|k>>>20),k=M+(P^D&(C^P))+A[2]+606105819&4294967295,M=D+(k<<17&4294967295|k>>>15),k=P+(C^M&(D^C))+A[3]+3250441966&4294967295,P=M+(k<<22&4294967295|k>>>10),k=C+(D^P&(M^D))+A[4]+4118548399&4294967295,C=P+(k<<7&4294967295|k>>>25),k=D+(M^C&(P^M))+A[5]+1200080426&4294967295,D=C+(k<<12&4294967295|k>>>20),k=M+(P^D&(C^P))+A[6]+2821735955&4294967295,M=D+(k<<17&4294967295|k>>>15),k=P+(C^M&(D^C))+A[7]+4249261313&4294967295,P=M+(k<<22&4294967295|k>>>10),k=C+(D^P&(M^D))+A[8]+1770035416&4294967295,C=P+(k<<7&4294967295|k>>>25),k=D+(M^C&(P^M))+A[9]+2336552879&4294967295,D=C+(k<<12&4294967295|k>>>20),k=M+(P^D&(C^P))+A[10]+4294925233&4294967295,M=D+(k<<17&4294967295|k>>>15),k=P+(C^M&(D^C))+A[11]+2304563134&4294967295,P=M+(k<<22&4294967295|k>>>10),k=C+(D^P&(M^D))+A[12]+1804603682&4294967295,C=P+(k<<7&4294967295|k>>>25),k=D+(M^C&(P^M))+A[13]+4254626195&4294967295,D=C+(k<<12&4294967295|k>>>20),k=M+(P^D&(C^P))+A[14]+2792965006&4294967295,M=D+(k<<17&4294967295|k>>>15),k=P+(C^M&(D^C))+A[15]+1236535329&4294967295,P=M+(k<<22&4294967295|k>>>10),k=C+(M^D&(P^M))+A[1]+4129170786&4294967295,C=P+(k<<5&4294967295|k>>>27),k=D+(P^M&(C^P))+A[6]+3225465664&4294967295,D=C+(k<<9&4294967295|k>>>23),k=M+(C^P&(D^C))+A[11]+643717713&4294967295,M=D+(k<<14&4294967295|k>>>18),k=P+(D^C&(M^D))+A[0]+3921069994&4294967295,P=M+(k<<20&4294967295|k>>>12),k=C+(M^D&(P^M))+A[5]+3593408605&4294967295,C=P+(k<<5&4294967295|k>>>27),k=D+(P^M&(C^P))+A[10]+38016083&4294967295,D=C+(k<<9&4294967295|k>>>23),k=M+(C^P&(D^C))+A[15]+3634488961&4294967295,M=D+(k<<14&4294967295|k>>>18),k=P+(D^C&(M^D))+A[4]+3889429448&4294967295,P=M+(k<<20&4294967295|k>>>12),k=C+(M^D&(P^M))+A[9]+568446438&4294967295,C=P+(k<<5&4294967295|k>>>27),k=D+(P^M&(C^P))+A[14]+3275163606&4294967295,D=C+(k<<9&4294967295|k>>>23),k=M+(C^P&(D^C))+A[3]+4107603335&4294967295,M=D+(k<<14&4294967295|k>>>18),k=P+(D^C&(M^D))+A[8]+1163531501&4294967295,P=M+(k<<20&4294967295|k>>>12),k=C+(M^D&(P^M))+A[13]+2850285829&4294967295,C=P+(k<<5&4294967295|k>>>27),k=D+(P^M&(C^P))+A[2]+4243563512&4294967295,D=C+(k<<9&4294967295|k>>>23),k=M+(C^P&(D^C))+A[7]+1735328473&4294967295,M=D+(k<<14&4294967295|k>>>18),k=P+(D^C&(M^D))+A[12]+2368359562&4294967295,P=M+(k<<20&4294967295|k>>>12),k=C+(P^M^D)+A[5]+4294588738&4294967295,C=P+(k<<4&4294967295|k>>>28),k=D+(C^P^M)+A[8]+2272392833&4294967295,D=C+(k<<11&4294967295|k>>>21),k=M+(D^C^P)+A[11]+1839030562&4294967295,M=D+(k<<16&4294967295|k>>>16),k=P+(M^D^C)+A[14]+4259657740&4294967295,P=M+(k<<23&4294967295|k>>>9),k=C+(P^M^D)+A[1]+2763975236&4294967295,C=P+(k<<4&4294967295|k>>>28),k=D+(C^P^M)+A[4]+1272893353&4294967295,D=C+(k<<11&4294967295|k>>>21),k=M+(D^C^P)+A[7]+4139469664&4294967295,M=D+(k<<16&4294967295|k>>>16),k=P+(M^D^C)+A[10]+3200236656&4294967295,P=M+(k<<23&4294967295|k>>>9),k=C+(P^M^D)+A[13]+681279174&4294967295,C=P+(k<<4&4294967295|k>>>28),k=D+(C^P^M)+A[0]+3936430074&4294967295,D=C+(k<<11&4294967295|k>>>21),k=M+(D^C^P)+A[3]+3572445317&4294967295,M=D+(k<<16&4294967295|k>>>16),k=P+(M^D^C)+A[6]+76029189&4294967295,P=M+(k<<23&4294967295|k>>>9),k=C+(P^M^D)+A[9]+3654602809&4294967295,C=P+(k<<4&4294967295|k>>>28),k=D+(C^P^M)+A[12]+3873151461&4294967295,D=C+(k<<11&4294967295|k>>>21),k=M+(D^C^P)+A[15]+530742520&4294967295,M=D+(k<<16&4294967295|k>>>16),k=P+(M^D^C)+A[2]+3299628645&4294967295,P=M+(k<<23&4294967295|k>>>9),k=C+(M^(P|~D))+A[0]+4096336452&4294967295,C=P+(k<<6&4294967295|k>>>26),k=D+(P^(C|~M))+A[7]+1126891415&4294967295,D=C+(k<<10&4294967295|k>>>22),k=M+(C^(D|~P))+A[14]+2878612391&4294967295,M=D+(k<<15&4294967295|k>>>17),k=P+(D^(M|~C))+A[5]+4237533241&4294967295,P=M+(k<<21&4294967295|k>>>11),k=C+(M^(P|~D))+A[12]+1700485571&4294967295,C=P+(k<<6&4294967295|k>>>26),k=D+(P^(C|~M))+A[3]+2399980690&4294967295,D=C+(k<<10&4294967295|k>>>22),k=M+(C^(D|~P))+A[10]+4293915773&4294967295,M=D+(k<<15&4294967295|k>>>17),k=P+(D^(M|~C))+A[1]+2240044497&4294967295,P=M+(k<<21&4294967295|k>>>11),k=C+(M^(P|~D))+A[8]+1873313359&4294967295,C=P+(k<<6&4294967295|k>>>26),k=D+(P^(C|~M))+A[15]+4264355552&4294967295,D=C+(k<<10&4294967295|k>>>22),k=M+(C^(D|~P))+A[6]+2734768916&4294967295,M=D+(k<<15&4294967295|k>>>17),k=P+(D^(M|~C))+A[13]+1309151649&4294967295,P=M+(k<<21&4294967295|k>>>11),k=C+(M^(P|~D))+A[4]+4149444226&4294967295,C=P+(k<<6&4294967295|k>>>26),k=D+(P^(C|~M))+A[11]+3174756917&4294967295,D=C+(k<<10&4294967295|k>>>22),k=M+(C^(D|~P))+A[2]+718787259&4294967295,M=D+(k<<15&4294967295|k>>>17),k=P+(D^(M|~C))+A[9]+3951481745&4294967295,S.g[0]=S.g[0]+C&4294967295,S.g[1]=S.g[1]+(M+(k<<21&4294967295|k>>>11))&4294967295,S.g[2]=S.g[2]+M&4294967295,S.g[3]=S.g[3]+D&4294967295}r.prototype.u=function(S,C){C===void 0&&(C=S.length);for(var P=C-this.blockSize,A=this.B,M=this.h,D=0;D<C;){if(M==0)for(;D<=P;)i(this,S,D),D+=this.blockSize;if(typeof S=="string"){for(;D<C;)if(A[M++]=S.charCodeAt(D++),M==this.blockSize){i(this,A),M=0;break}}else for(;D<C;)if(A[M++]=S[D++],M==this.blockSize){i(this,A),M=0;break}}this.h=M,this.o+=C},r.prototype.v=function(){var S=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);S[0]=128;for(var C=1;C<S.length-8;++C)S[C]=0;var P=8*this.o;for(C=S.length-8;C<S.length;++C)S[C]=P&255,P/=256;for(this.u(S),S=Array(16),C=P=0;4>C;++C)for(var A=0;32>A;A+=8)S[P++]=this.g[C]>>>A&255;return S};function o(S,C){var P=a;return Object.prototype.hasOwnProperty.call(P,S)?P[S]:P[S]=C(S)}function s(S,C){this.h=C;for(var P=[],A=!0,M=S.length-1;0<=M;M--){var D=S[M]|0;A&&D==C||(P[M]=D,A=!1)}this.g=P}var a={};function l(S){return-128<=S&&128>S?o(S,function(C){return new s([C|0],0>C?-1:0)}):new s([S|0],0>S?-1:0)}function c(S){if(isNaN(S)||!isFinite(S))return f;if(0>S)return E(c(-S));for(var C=[],P=1,A=0;S>=P;A++)C[A]=S/P|0,P*=4294967296;return new s(C,0)}function u(S,C){if(S.length==0)throw Error("number format error: empty string");if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(S.charAt(0)=="-")return E(u(S.substring(1),C));if(0<=S.indexOf("-"))throw Error('number format error: interior "-" character');for(var P=c(Math.pow(C,8)),A=f,M=0;M<S.length;M+=8){var D=Math.min(8,S.length-M),k=parseInt(S.substring(M,M+D),C);8>D?(D=c(Math.pow(C,D)),A=A.j(D).add(c(k))):(A=A.j(P),A=A.add(c(k)))}return A}var f=l(0),h=l(1),g=l(16777216);t=s.prototype,t.m=function(){if(v(this))return-E(this).m();for(var S=0,C=1,P=0;P<this.g.length;P++){var A=this.i(P);S+=(0<=A?A:4294967296+A)*C,C*=4294967296}return S},t.toString=function(S){if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(w(this))return"0";if(v(this))return"-"+E(this).toString(S);for(var C=c(Math.pow(S,6)),P=this,A="";;){var M=I(P,C).g;P=_(P,M.j(C));var D=((0<P.g.length?P.g[0]:P.h)>>>0).toString(S);if(P=M,w(P))return D+A;for(;6>D.length;)D="0"+D;A=D+A}},t.i=function(S){return 0>S?0:S<this.g.length?this.g[S]:this.h};function w(S){if(S.h!=0)return!1;for(var C=0;C<S.g.length;C++)if(S.g[C]!=0)return!1;return!0}function v(S){return S.h==-1}t.l=function(S){return S=_(this,S),v(S)?-1:w(S)?0:1};function E(S){for(var C=S.g.length,P=[],A=0;A<C;A++)P[A]=~S.g[A];return new s(P,~S.h).add(h)}t.abs=function(){return v(this)?E(this):this},t.add=function(S){for(var C=Math.max(this.g.length,S.g.length),P=[],A=0,M=0;M<=C;M++){var D=A+(this.i(M)&65535)+(S.i(M)&65535),k=(D>>>16)+(this.i(M)>>>16)+(S.i(M)>>>16);A=k>>>16,D&=65535,k&=65535,P[M]=k<<16|D}return new s(P,P[P.length-1]&-2147483648?-1:0)};function _(S,C){return S.add(E(C))}t.j=function(S){if(w(this)||w(S))return f;if(v(this))return v(S)?E(this).j(E(S)):E(E(this).j(S));if(v(S))return E(this.j(E(S)));if(0>this.l(g)&&0>S.l(g))return c(this.m()*S.m());for(var C=this.g.length+S.g.length,P=[],A=0;A<2*C;A++)P[A]=0;for(A=0;A<this.g.length;A++)for(var M=0;M<S.g.length;M++){var D=this.i(A)>>>16,k=this.i(A)&65535,B=S.i(M)>>>16,G=S.i(M)&65535;P[2*A+2*M]+=k*G,y(P,2*A+2*M),P[2*A+2*M+1]+=D*G,y(P,2*A+2*M+1),P[2*A+2*M+1]+=k*B,y(P,2*A+2*M+1),P[2*A+2*M+2]+=D*B,y(P,2*A+2*M+2)}for(A=0;A<C;A++)P[A]=P[2*A+1]<<16|P[2*A];for(A=C;A<2*C;A++)P[A]=0;return new s(P,0)};function y(S,C){for(;(S[C]&65535)!=S[C];)S[C+1]+=S[C]>>>16,S[C]&=65535,C++}function b(S,C){this.g=S,this.h=C}function I(S,C){if(w(C))throw Error("division by zero");if(w(S))return new b(f,f);if(v(S))return C=I(E(S),C),new b(E(C.g),E(C.h));if(v(C))return C=I(S,E(C)),new b(E(C.g),C.h);if(30<S.g.length){if(v(S)||v(C))throw Error("slowDivide_ only works with positive integers.");for(var P=h,A=C;0>=A.l(S);)P=N(P),A=N(A);var M=O(P,1),D=O(A,1);for(A=O(A,2),P=O(P,2);!w(A);){var k=D.add(A);0>=k.l(S)&&(M=M.add(P),D=k),A=O(A,1),P=O(P,1)}return C=_(S,M.j(C)),new b(M,C)}for(M=f;0<=S.l(C);){for(P=Math.max(1,Math.floor(S.m()/C.m())),A=Math.ceil(Math.log(P)/Math.LN2),A=48>=A?1:Math.pow(2,A-48),D=c(P),k=D.j(C);v(k)||0<k.l(S);)P-=A,D=c(P),k=D.j(C);w(D)&&(D=h),M=M.add(D),S=_(S,k)}return new b(M,S)}t.A=function(S){return I(this,S).h},t.and=function(S){for(var C=Math.max(this.g.length,S.g.length),P=[],A=0;A<C;A++)P[A]=this.i(A)&S.i(A);return new s(P,this.h&S.h)},t.or=function(S){for(var C=Math.max(this.g.length,S.g.length),P=[],A=0;A<C;A++)P[A]=this.i(A)|S.i(A);return new s(P,this.h|S.h)},t.xor=function(S){for(var C=Math.max(this.g.length,S.g.length),P=[],A=0;A<C;A++)P[A]=this.i(A)^S.i(A);return new s(P,this.h^S.h)};function N(S){for(var C=S.g.length+1,P=[],A=0;A<C;A++)P[A]=S.i(A)<<1|S.i(A-1)>>>31;return new s(P,S.h)}function O(S,C){var P=C>>5;C%=32;for(var A=S.g.length-P,M=[],D=0;D<A;D++)M[D]=0<C?S.i(D+P)>>>C|S.i(D+P+1)<<32-C:S.i(D+P);return new s(M,S.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,QI=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=c,s.fromString=u,po=s}).apply(typeof kE<"u"?kE:typeof self<"u"?self:typeof window<"u"?window:{});var Sd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var XI,rc,JI,af,Kv,ZI,eA,tA;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(d,x,T){return d==Array.prototype||d==Object.prototype||(d[x]=T.value),d};function n(d){d=[typeof globalThis=="object"&&globalThis,d,typeof window=="object"&&window,typeof self=="object"&&self,typeof Sd=="object"&&Sd];for(var x=0;x<d.length;++x){var T=d[x];if(T&&T.Math==Math)return T}throw Error("Cannot find global object")}var r=n(this);function i(d,x){if(x)e:{var T=r;d=d.split(".");for(var R=0;R<d.length-1;R++){var j=d[R];if(!(j in T))break e;T=T[j]}d=d[d.length-1],R=T[d],x=x(R),x!=R&&x!=null&&e(T,d,{configurable:!0,writable:!0,value:x})}}function o(d,x){d instanceof String&&(d+="");var T=0,R=!1,j={next:function(){if(!R&&T<d.length){var U=T++;return{value:x(U,d[U]),done:!1}}return R=!0,{done:!0,value:void 0}}};return j[Symbol.iterator]=function(){return j},j}i("Array.prototype.values",function(d){return d||function(){return o(this,function(x,T){return T})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var s=s||{},a=this||self;function l(d){var x=typeof d;return x=x!="object"?x:d?Array.isArray(d)?"array":x:"null",x=="array"||x=="object"&&typeof d.length=="number"}function c(d){var x=typeof d;return x=="object"&&d!=null||x=="function"}function u(d,x,T){return d.call.apply(d.bind,arguments)}function f(d,x,T){if(!d)throw Error();if(2<arguments.length){var R=Array.prototype.slice.call(arguments,2);return function(){var j=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(j,R),d.apply(x,j)}}return function(){return d.apply(x,arguments)}}function h(d,x,T){return h=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?u:f,h.apply(null,arguments)}function g(d,x){var T=Array.prototype.slice.call(arguments,1);return function(){var R=T.slice();return R.push.apply(R,arguments),d.apply(this,R)}}function w(d,x){function T(){}T.prototype=x.prototype,d.aa=x.prototype,d.prototype=new T,d.prototype.constructor=d,d.Qb=function(R,j,U){for(var J=Array(arguments.length-2),Ge=2;Ge<arguments.length;Ge++)J[Ge-2]=arguments[Ge];return x.prototype[j].apply(R,J)}}function v(d){const x=d.length;if(0<x){const T=Array(x);for(let R=0;R<x;R++)T[R]=d[R];return T}return[]}function E(d,x){for(let T=1;T<arguments.length;T++){const R=arguments[T];if(l(R)){const j=d.length||0,U=R.length||0;d.length=j+U;for(let J=0;J<U;J++)d[j+J]=R[J]}else d.push(R)}}class _{constructor(x,T){this.i=x,this.j=T,this.h=0,this.g=null}get(){let x;return 0<this.h?(this.h--,x=this.g,this.g=x.next,x.next=null):x=this.i(),x}}function y(d){return/^[\s\xa0]*$/.test(d)}function b(){var d=a.navigator;return d&&(d=d.userAgent)?d:""}function I(d){return I[" "](d),d}I[" "]=function(){};var N=b().indexOf("Gecko")!=-1&&!(b().toLowerCase().indexOf("webkit")!=-1&&b().indexOf("Edge")==-1)&&!(b().indexOf("Trident")!=-1||b().indexOf("MSIE")!=-1)&&b().indexOf("Edge")==-1;function O(d,x,T){for(const R in d)x.call(T,d[R],R,d)}function S(d,x){for(const T in d)x.call(void 0,d[T],T,d)}function C(d){const x={};for(const T in d)x[T]=d[T];return x}const P="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function A(d,x){let T,R;for(let j=1;j<arguments.length;j++){R=arguments[j];for(T in R)d[T]=R[T];for(let U=0;U<P.length;U++)T=P[U],Object.prototype.hasOwnProperty.call(R,T)&&(d[T]=R[T])}}function M(d){var x=1;d=d.split(":");const T=[];for(;0<x&&d.length;)T.push(d.shift()),x--;return d.length&&T.push(d.join(":")),T}function D(d){a.setTimeout(()=>{throw d},0)}function k(){var d=V;let x=null;return d.g&&(x=d.g,d.g=d.g.next,d.g||(d.h=null),x.next=null),x}class B{constructor(){this.h=this.g=null}add(x,T){const R=G.get();R.set(x,T),this.h?this.h.next=R:this.g=R,this.h=R}}var G=new _(()=>new Y,d=>d.reset());class Y{constructor(){this.next=this.g=this.h=null}set(x,T){this.h=x,this.g=T,this.next=null}reset(){this.next=this.g=this.h=null}}let z,L=!1,V=new B,$=()=>{const d=a.Promise.resolve(void 0);z=()=>{d.then(F)}};var F=()=>{for(var d;d=k();){try{d.h.call(d.g)}catch(T){D(T)}var x=G;x.j(d),100>x.h&&(x.h++,d.next=x.g,x.g=d)}L=!1};function W(){this.s=this.s,this.C=this.C}W.prototype.s=!1,W.prototype.ma=function(){this.s||(this.s=!0,this.N())},W.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function K(d,x){this.type=d,this.g=this.target=x,this.defaultPrevented=!1}K.prototype.h=function(){this.defaultPrevented=!0};var oe=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var d=!1,x=Object.defineProperty({},"passive",{get:function(){d=!0}});try{const T=()=>{};a.addEventListener("test",T,x),a.removeEventListener("test",T,x)}catch{}return d}();function pe(d,x){if(K.call(this,d?d.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,d){var T=this.type=d.type,R=d.changedTouches&&d.changedTouches.length?d.changedTouches[0]:null;if(this.target=d.target||d.srcElement,this.g=x,x=d.relatedTarget){if(N){e:{try{I(x.nodeName);var j=!0;break e}catch{}j=!1}j||(x=null)}}else T=="mouseover"?x=d.fromElement:T=="mouseout"&&(x=d.toElement);this.relatedTarget=x,R?(this.clientX=R.clientX!==void 0?R.clientX:R.pageX,this.clientY=R.clientY!==void 0?R.clientY:R.pageY,this.screenX=R.screenX||0,this.screenY=R.screenY||0):(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0),this.button=d.button,this.key=d.key||"",this.ctrlKey=d.ctrlKey,this.altKey=d.altKey,this.shiftKey=d.shiftKey,this.metaKey=d.metaKey,this.pointerId=d.pointerId||0,this.pointerType=typeof d.pointerType=="string"?d.pointerType:ce[d.pointerType]||"",this.state=d.state,this.i=d,d.defaultPrevented&&pe.aa.h.call(this)}}w(pe,K);var ce={2:"touch",3:"pen",4:"mouse"};pe.prototype.h=function(){pe.aa.h.call(this);var d=this.i;d.preventDefault?d.preventDefault():d.returnValue=!1};var X="closure_listenable_"+(1e6*Math.random()|0),ae=0;function le(d,x,T,R,j){this.listener=d,this.proxy=null,this.src=x,this.type=T,this.capture=!!R,this.ha=j,this.key=++ae,this.da=this.fa=!1}function re(d){d.da=!0,d.listener=null,d.proxy=null,d.src=null,d.ha=null}function me(d){this.src=d,this.g={},this.h=0}me.prototype.add=function(d,x,T,R,j){var U=d.toString();d=this.g[U],d||(d=this.g[U]=[],this.h++);var J=Ke(d,x,R,j);return-1<J?(x=d[J],T||(x.fa=!1)):(x=new le(x,this.src,U,!!R,j),x.fa=T,d.push(x)),x};function Ce(d,x){var T=x.type;if(T in d.g){var R=d.g[T],j=Array.prototype.indexOf.call(R,x,void 0),U;(U=0<=j)&&Array.prototype.splice.call(R,j,1),U&&(re(x),d.g[T].length==0&&(delete d.g[T],d.h--))}}function Ke(d,x,T,R){for(var j=0;j<d.length;++j){var U=d[j];if(!U.da&&U.listener==x&&U.capture==!!T&&U.ha==R)return j}return-1}var st="closure_lm_"+(1e6*Math.random()|0),Dt={};function Zn(d,x,T,R,j){if(R&&R.once)return Gr(d,x,T,R,j);if(Array.isArray(x)){for(var U=0;U<x.length;U++)Zn(d,x[U],T,R,j);return null}return T=om(T),d&&d[X]?d.K(x,T,c(R)?!!R.capture:!!R,j):wr(d,x,T,!1,R,j)}function wr(d,x,T,R,j,U){if(!x)throw Error("Invalid event type");var J=c(j)?!!j.capture:!!j,Ge=rm(d);if(Ge||(d[st]=Ge=new me(d)),T=Ge.add(x,T,R,J,U),T.proxy)return T;if(R=El(),T.proxy=R,R.src=d,R.listener=T,d.addEventListener)oe||(j=J),j===void 0&&(j=!1),d.addEventListener(x.toString(),R,j);else if(d.attachEvent)d.attachEvent(a_(x.toString()),R);else if(d.addListener&&d.removeListener)d.addListener(R);else throw Error("addEventListener and attachEvent are unavailable.");return T}function El(){function d(T){return x.call(d.src,d.listener,T)}const x=RO;return d}function Gr(d,x,T,R,j){if(Array.isArray(x)){for(var U=0;U<x.length;U++)Gr(d,x[U],T,R,j);return null}return T=om(T),d&&d[X]?d.L(x,T,c(R)?!!R.capture:!!R,j):wr(d,x,T,!0,R,j)}function qu(d,x,T,R,j){if(Array.isArray(x))for(var U=0;U<x.length;U++)qu(d,x[U],T,R,j);else R=c(R)?!!R.capture:!!R,T=om(T),d&&d[X]?(d=d.i,x=String(x).toString(),x in d.g&&(U=d.g[x],T=Ke(U,T,R,j),-1<T&&(re(U[T]),Array.prototype.splice.call(U,T,1),U.length==0&&(delete d.g[x],d.h--)))):d&&(d=rm(d))&&(x=d.g[x.toString()],d=-1,x&&(d=Ke(x,T,R,j)),(T=-1<d?x[d]:null)&&Ri(T))}function Ri(d){if(typeof d!="number"&&d&&!d.da){var x=d.src;if(x&&x[X])Ce(x.i,d);else{var T=d.type,R=d.proxy;x.removeEventListener?x.removeEventListener(T,R,d.capture):x.detachEvent?x.detachEvent(a_(T),R):x.addListener&&x.removeListener&&x.removeListener(R),(T=rm(x))?(Ce(T,d),T.h==0&&(T.src=null,x[st]=null)):re(d)}}}function a_(d){return d in Dt?Dt[d]:Dt[d]="on"+d}function RO(d,x){if(d.da)d=!0;else{x=new pe(x,this);var T=d.listener,R=d.ha||d.src;d.fa&&Ri(d),d=T.call(R,x)}return d}function rm(d){return d=d[st],d instanceof me?d:null}var im="__closure_events_fn_"+(1e9*Math.random()>>>0);function om(d){return typeof d=="function"?d:(d[im]||(d[im]=function(x){return d.handleEvent(x)}),d[im])}function Gt(){W.call(this),this.i=new me(this),this.M=this,this.F=null}w(Gt,W),Gt.prototype[X]=!0,Gt.prototype.removeEventListener=function(d,x,T,R){qu(this,d,x,T,R)};function ln(d,x){var T,R=d.F;if(R)for(T=[];R;R=R.F)T.push(R);if(d=d.M,R=x.type||x,typeof x=="string")x=new K(x,d);else if(x instanceof K)x.target=x.target||d;else{var j=x;x=new K(R,d),A(x,j)}if(j=!0,T)for(var U=T.length-1;0<=U;U--){var J=x.g=T[U];j=Gu(J,R,!0,x)&&j}if(J=x.g=d,j=Gu(J,R,!0,x)&&j,j=Gu(J,R,!1,x)&&j,T)for(U=0;U<T.length;U++)J=x.g=T[U],j=Gu(J,R,!1,x)&&j}Gt.prototype.N=function(){if(Gt.aa.N.call(this),this.i){var d=this.i,x;for(x in d.g){for(var T=d.g[x],R=0;R<T.length;R++)re(T[R]);delete d.g[x],d.h--}}this.F=null},Gt.prototype.K=function(d,x,T,R){return this.i.add(String(d),x,!1,T,R)},Gt.prototype.L=function(d,x,T,R){return this.i.add(String(d),x,!0,T,R)};function Gu(d,x,T,R){if(x=d.i.g[String(x)],!x)return!0;x=x.concat();for(var j=!0,U=0;U<x.length;++U){var J=x[U];if(J&&!J.da&&J.capture==T){var Ge=J.listener,Ft=J.ha||J.src;J.fa&&Ce(d.i,J),j=Ge.call(Ft,R)!==!1&&j}}return j&&!R.defaultPrevented}function l_(d,x,T){if(typeof d=="function")T&&(d=h(d,T));else if(d&&typeof d.handleEvent=="function")d=h(d.handleEvent,d);else throw Error("Invalid listener argument");return 2147483647<Number(x)?-1:a.setTimeout(d,x||0)}function c_(d){d.g=l_(()=>{d.g=null,d.i&&(d.i=!1,c_(d))},d.l);const x=d.h;d.h=null,d.m.apply(null,x)}class kO extends W{constructor(x,T){super(),this.m=x,this.l=T,this.h=null,this.i=!1,this.g=null}j(x){this.h=arguments,this.g?this.i=!0:c_(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function bl(d){W.call(this),this.h=d,this.g={}}w(bl,W);var u_=[];function d_(d){O(d.g,function(x,T){this.g.hasOwnProperty(T)&&Ri(x)},d),d.g={}}bl.prototype.N=function(){bl.aa.N.call(this),d_(this)},bl.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var sm=a.JSON.stringify,NO=a.JSON.parse,DO=class{stringify(d){return a.JSON.stringify(d,void 0)}parse(d){return a.JSON.parse(d,void 0)}};function am(){}am.prototype.h=null;function f_(d){return d.h||(d.h=d.i())}function h_(){}var Tl={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function lm(){K.call(this,"d")}w(lm,K);function cm(){K.call(this,"c")}w(cm,K);var Wo={},p_=null;function Yu(){return p_=p_||new Gt}Wo.La="serverreachability";function m_(d){K.call(this,Wo.La,d)}w(m_,K);function Cl(d){const x=Yu();ln(x,new m_(x))}Wo.STAT_EVENT="statevent";function g_(d,x){K.call(this,Wo.STAT_EVENT,d),this.stat=x}w(g_,K);function cn(d){const x=Yu();ln(x,new g_(x,d))}Wo.Ma="timingevent";function v_(d,x){K.call(this,Wo.Ma,d),this.size=x}w(v_,K);function Sl(d,x){if(typeof d!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){d()},x)}function Pl(){this.g=!0}Pl.prototype.xa=function(){this.g=!1};function MO(d,x,T,R,j,U){d.info(function(){if(d.g)if(U)for(var J="",Ge=U.split("&"),Ft=0;Ft<Ge.length;Ft++){var $e=Ge[Ft].split("=");if(1<$e.length){var Yt=$e[0];$e=$e[1];var Kt=Yt.split("_");J=2<=Kt.length&&Kt[1]=="type"?J+(Yt+"="+$e+"&"):J+(Yt+"=redacted&")}}else J=null;else J=U;return"XMLHTTP REQ ("+R+") [attempt "+j+"]: "+x+`
`+T+`
`+J})}function OO(d,x,T,R,j,U,J){d.info(function(){return"XMLHTTP RESP ("+R+") [ attempt "+j+"]: "+x+`
`+T+`
`+U+" "+J})}function Ls(d,x,T,R){d.info(function(){return"XMLHTTP TEXT ("+x+"): "+VO(d,T)+(R?" "+R:"")})}function LO(d,x){d.info(function(){return"TIMEOUT: "+x})}Pl.prototype.info=function(){};function VO(d,x){if(!d.g)return x;if(!x)return null;try{var T=JSON.parse(x);if(T){for(d=0;d<T.length;d++)if(Array.isArray(T[d])){var R=T[d];if(!(2>R.length)){var j=R[1];if(Array.isArray(j)&&!(1>j.length)){var U=j[0];if(U!="noop"&&U!="stop"&&U!="close")for(var J=1;J<j.length;J++)j[J]=""}}}}return sm(T)}catch{return x}}var Ku={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},y_={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},um;function Qu(){}w(Qu,am),Qu.prototype.g=function(){return new XMLHttpRequest},Qu.prototype.i=function(){return{}},um=new Qu;function ki(d,x,T,R){this.j=d,this.i=x,this.l=T,this.R=R||1,this.U=new bl(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new w_}function w_(){this.i=null,this.g="",this.h=!1}var __={},dm={};function fm(d,x,T){d.L=1,d.v=ed(Yr(x)),d.m=T,d.P=!0,x_(d,null)}function x_(d,x){d.F=Date.now(),Xu(d),d.A=Yr(d.v);var T=d.A,R=d.R;Array.isArray(R)||(R=[String(R)]),O_(T.i,"t",R),d.C=0,T=d.j.J,d.h=new w_,d.g=Z_(d.j,T?x:null,!d.m),0<d.O&&(d.M=new kO(h(d.Y,d,d.g),d.O)),x=d.U,T=d.g,R=d.ca;var j="readystatechange";Array.isArray(j)||(j&&(u_[0]=j.toString()),j=u_);for(var U=0;U<j.length;U++){var J=Zn(T,j[U],R||x.handleEvent,!1,x.h||x);if(!J)break;x.g[J.key]=J}x=d.H?C(d.H):{},d.m?(d.u||(d.u="POST"),x["Content-Type"]="application/x-www-form-urlencoded",d.g.ea(d.A,d.u,d.m,x)):(d.u="GET",d.g.ea(d.A,d.u,null,x)),Cl(),MO(d.i,d.u,d.A,d.l,d.R,d.m)}ki.prototype.ca=function(d){d=d.target;const x=this.M;x&&Kr(d)==3?x.j():this.Y(d)},ki.prototype.Y=function(d){try{if(d==this.g)e:{const Kt=Kr(this.g);var x=this.g.Ba();const Fs=this.g.Z();if(!(3>Kt)&&(Kt!=3||this.g&&(this.h.h||this.g.oa()||B_(this.g)))){this.J||Kt!=4||x==7||(x==8||0>=Fs?Cl(3):Cl(2)),hm(this);var T=this.g.Z();this.X=T;t:if(E_(this)){var R=B_(this.g);d="";var j=R.length,U=Kr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){zo(this),Il(this);var J="";break t}this.h.i=new a.TextDecoder}for(x=0;x<j;x++)this.h.h=!0,d+=this.h.i.decode(R[x],{stream:!(U&&x==j-1)});R.length=0,this.h.g+=d,this.C=0,J=this.h.g}else J=this.g.oa();if(this.o=T==200,OO(this.i,this.u,this.A,this.l,this.R,Kt,T),this.o){if(this.T&&!this.K){t:{if(this.g){var Ge,Ft=this.g;if((Ge=Ft.g?Ft.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!y(Ge)){var $e=Ge;break t}}$e=null}if(T=$e)Ls(this.i,this.l,T,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,pm(this,T);else{this.o=!1,this.s=3,cn(12),zo(this),Il(this);break e}}if(this.P){T=!0;let er;for(;!this.J&&this.C<J.length;)if(er=jO(this,J),er==dm){Kt==4&&(this.s=4,cn(14),T=!1),Ls(this.i,this.l,null,"[Incomplete Response]");break}else if(er==__){this.s=4,cn(15),Ls(this.i,this.l,J,"[Invalid Chunk]"),T=!1;break}else Ls(this.i,this.l,er,null),pm(this,er);if(E_(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Kt!=4||J.length!=0||this.h.h||(this.s=1,cn(16),T=!1),this.o=this.o&&T,!T)Ls(this.i,this.l,J,"[Invalid Chunked Response]"),zo(this),Il(this);else if(0<J.length&&!this.W){this.W=!0;var Yt=this.j;Yt.g==this&&Yt.ba&&!Yt.M&&(Yt.j.info("Great, no buffering proxy detected. Bytes received: "+J.length),_m(Yt),Yt.M=!0,cn(11))}}else Ls(this.i,this.l,J,null),pm(this,J);Kt==4&&zo(this),this.o&&!this.J&&(Kt==4?K_(this.j,this):(this.o=!1,Xu(this)))}else tL(this.g),T==400&&0<J.indexOf("Unknown SID")?(this.s=3,cn(12)):(this.s=0,cn(13)),zo(this),Il(this)}}}catch{}finally{}};function E_(d){return d.g?d.u=="GET"&&d.L!=2&&d.j.Ca:!1}function jO(d,x){var T=d.C,R=x.indexOf(`
`,T);return R==-1?dm:(T=Number(x.substring(T,R)),isNaN(T)?__:(R+=1,R+T>x.length?dm:(x=x.slice(R,R+T),d.C=R+T,x)))}ki.prototype.cancel=function(){this.J=!0,zo(this)};function Xu(d){d.S=Date.now()+d.I,b_(d,d.I)}function b_(d,x){if(d.B!=null)throw Error("WatchDog timer not null");d.B=Sl(h(d.ba,d),x)}function hm(d){d.B&&(a.clearTimeout(d.B),d.B=null)}ki.prototype.ba=function(){this.B=null;const d=Date.now();0<=d-this.S?(LO(this.i,this.A),this.L!=2&&(Cl(),cn(17)),zo(this),this.s=2,Il(this)):b_(this,this.S-d)};function Il(d){d.j.G==0||d.J||K_(d.j,d)}function zo(d){hm(d);var x=d.M;x&&typeof x.ma=="function"&&x.ma(),d.M=null,d_(d.U),d.g&&(x=d.g,d.g=null,x.abort(),x.ma())}function pm(d,x){try{var T=d.j;if(T.G!=0&&(T.g==d||mm(T.h,d))){if(!d.K&&mm(T.h,d)&&T.G==3){try{var R=T.Da.g.parse(x)}catch{R=null}if(Array.isArray(R)&&R.length==3){var j=R;if(j[0]==0){e:if(!T.u){if(T.g)if(T.g.F+3e3<d.F)sd(T),id(T);else break e;wm(T),cn(18)}}else T.za=j[1],0<T.za-T.T&&37500>j[2]&&T.F&&T.v==0&&!T.C&&(T.C=Sl(h(T.Za,T),6e3));if(1>=S_(T.h)&&T.ca){try{T.ca()}catch{}T.ca=void 0}}else qo(T,11)}else if((d.K||T.g==d)&&sd(T),!y(x))for(j=T.Da.g.parse(x),x=0;x<j.length;x++){let $e=j[x];if(T.T=$e[0],$e=$e[1],T.G==2)if($e[0]=="c"){T.K=$e[1],T.ia=$e[2];const Yt=$e[3];Yt!=null&&(T.la=Yt,T.j.info("VER="+T.la));const Kt=$e[4];Kt!=null&&(T.Aa=Kt,T.j.info("SVER="+T.Aa));const Fs=$e[5];Fs!=null&&typeof Fs=="number"&&0<Fs&&(R=1.5*Fs,T.L=R,T.j.info("backChannelRequestTimeoutMs_="+R)),R=T;const er=d.g;if(er){const ld=er.g?er.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ld){var U=R.h;U.g||ld.indexOf("spdy")==-1&&ld.indexOf("quic")==-1&&ld.indexOf("h2")==-1||(U.j=U.l,U.g=new Set,U.h&&(gm(U,U.h),U.h=null))}if(R.D){const xm=er.g?er.g.getResponseHeader("X-HTTP-Session-Id"):null;xm&&(R.ya=xm,tt(R.I,R.D,xm))}}T.G=3,T.l&&T.l.ua(),T.ba&&(T.R=Date.now()-d.F,T.j.info("Handshake RTT: "+T.R+"ms")),R=T;var J=d;if(R.qa=J_(R,R.J?R.ia:null,R.W),J.K){P_(R.h,J);var Ge=J,Ft=R.L;Ft&&(Ge.I=Ft),Ge.B&&(hm(Ge),Xu(Ge)),R.g=J}else G_(R);0<T.i.length&&od(T)}else $e[0]!="stop"&&$e[0]!="close"||qo(T,7);else T.G==3&&($e[0]=="stop"||$e[0]=="close"?$e[0]=="stop"?qo(T,7):ym(T):$e[0]!="noop"&&T.l&&T.l.ta($e),T.v=0)}}Cl(4)}catch{}}var FO=class{constructor(d,x){this.g=d,this.map=x}};function T_(d){this.l=d||10,a.PerformanceNavigationTiming?(d=a.performance.getEntriesByType("navigation"),d=0<d.length&&(d[0].nextHopProtocol=="hq"||d[0].nextHopProtocol=="h2")):d=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=d?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function C_(d){return d.h?!0:d.g?d.g.size>=d.j:!1}function S_(d){return d.h?1:d.g?d.g.size:0}function mm(d,x){return d.h?d.h==x:d.g?d.g.has(x):!1}function gm(d,x){d.g?d.g.add(x):d.h=x}function P_(d,x){d.h&&d.h==x?d.h=null:d.g&&d.g.has(x)&&d.g.delete(x)}T_.prototype.cancel=function(){if(this.i=I_(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const d of this.g.values())d.cancel();this.g.clear()}};function I_(d){if(d.h!=null)return d.i.concat(d.h.D);if(d.g!=null&&d.g.size!==0){let x=d.i;for(const T of d.g.values())x=x.concat(T.D);return x}return v(d.i)}function $O(d){if(d.V&&typeof d.V=="function")return d.V();if(typeof Map<"u"&&d instanceof Map||typeof Set<"u"&&d instanceof Set)return Array.from(d.values());if(typeof d=="string")return d.split("");if(l(d)){for(var x=[],T=d.length,R=0;R<T;R++)x.push(d[R]);return x}x=[],T=0;for(R in d)x[T++]=d[R];return x}function UO(d){if(d.na&&typeof d.na=="function")return d.na();if(!d.V||typeof d.V!="function"){if(typeof Map<"u"&&d instanceof Map)return Array.from(d.keys());if(!(typeof Set<"u"&&d instanceof Set)){if(l(d)||typeof d=="string"){var x=[];d=d.length;for(var T=0;T<d;T++)x.push(T);return x}x=[],T=0;for(const R in d)x[T++]=R;return x}}}function A_(d,x){if(d.forEach&&typeof d.forEach=="function")d.forEach(x,void 0);else if(l(d)||typeof d=="string")Array.prototype.forEach.call(d,x,void 0);else for(var T=UO(d),R=$O(d),j=R.length,U=0;U<j;U++)x.call(void 0,R[U],T&&T[U],d)}var R_=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function BO(d,x){if(d){d=d.split("&");for(var T=0;T<d.length;T++){var R=d[T].indexOf("="),j=null;if(0<=R){var U=d[T].substring(0,R);j=d[T].substring(R+1)}else U=d[T];x(U,j?decodeURIComponent(j.replace(/\+/g," ")):"")}}}function Ho(d){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,d instanceof Ho){this.h=d.h,Ju(this,d.j),this.o=d.o,this.g=d.g,Zu(this,d.s),this.l=d.l;var x=d.i,T=new kl;T.i=x.i,x.g&&(T.g=new Map(x.g),T.h=x.h),k_(this,T),this.m=d.m}else d&&(x=String(d).match(R_))?(this.h=!1,Ju(this,x[1]||"",!0),this.o=Al(x[2]||""),this.g=Al(x[3]||"",!0),Zu(this,x[4]),this.l=Al(x[5]||"",!0),k_(this,x[6]||"",!0),this.m=Al(x[7]||"")):(this.h=!1,this.i=new kl(null,this.h))}Ho.prototype.toString=function(){var d=[],x=this.j;x&&d.push(Rl(x,N_,!0),":");var T=this.g;return(T||x=="file")&&(d.push("//"),(x=this.o)&&d.push(Rl(x,N_,!0),"@"),d.push(encodeURIComponent(String(T)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),T=this.s,T!=null&&d.push(":",String(T))),(T=this.l)&&(this.g&&T.charAt(0)!="/"&&d.push("/"),d.push(Rl(T,T.charAt(0)=="/"?HO:zO,!0))),(T=this.i.toString())&&d.push("?",T),(T=this.m)&&d.push("#",Rl(T,GO)),d.join("")};function Yr(d){return new Ho(d)}function Ju(d,x,T){d.j=T?Al(x,!0):x,d.j&&(d.j=d.j.replace(/:$/,""))}function Zu(d,x){if(x){if(x=Number(x),isNaN(x)||0>x)throw Error("Bad port number "+x);d.s=x}else d.s=null}function k_(d,x,T){x instanceof kl?(d.i=x,YO(d.i,d.h)):(T||(x=Rl(x,qO)),d.i=new kl(x,d.h))}function tt(d,x,T){d.i.set(x,T)}function ed(d){return tt(d,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),d}function Al(d,x){return d?x?decodeURI(d.replace(/%25/g,"%2525")):decodeURIComponent(d):""}function Rl(d,x,T){return typeof d=="string"?(d=encodeURI(d).replace(x,WO),T&&(d=d.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d):null}function WO(d){return d=d.charCodeAt(0),"%"+(d>>4&15).toString(16)+(d&15).toString(16)}var N_=/[#\/\?@]/g,zO=/[#\?:]/g,HO=/[#\?]/g,qO=/[#\?@]/g,GO=/#/g;function kl(d,x){this.h=this.g=null,this.i=d||null,this.j=!!x}function Ni(d){d.g||(d.g=new Map,d.h=0,d.i&&BO(d.i,function(x,T){d.add(decodeURIComponent(x.replace(/\+/g," ")),T)}))}t=kl.prototype,t.add=function(d,x){Ni(this),this.i=null,d=Vs(this,d);var T=this.g.get(d);return T||this.g.set(d,T=[]),T.push(x),this.h+=1,this};function D_(d,x){Ni(d),x=Vs(d,x),d.g.has(x)&&(d.i=null,d.h-=d.g.get(x).length,d.g.delete(x))}function M_(d,x){return Ni(d),x=Vs(d,x),d.g.has(x)}t.forEach=function(d,x){Ni(this),this.g.forEach(function(T,R){T.forEach(function(j){d.call(x,j,R,this)},this)},this)},t.na=function(){Ni(this);const d=Array.from(this.g.values()),x=Array.from(this.g.keys()),T=[];for(let R=0;R<x.length;R++){const j=d[R];for(let U=0;U<j.length;U++)T.push(x[R])}return T},t.V=function(d){Ni(this);let x=[];if(typeof d=="string")M_(this,d)&&(x=x.concat(this.g.get(Vs(this,d))));else{d=Array.from(this.g.values());for(let T=0;T<d.length;T++)x=x.concat(d[T])}return x},t.set=function(d,x){return Ni(this),this.i=null,d=Vs(this,d),M_(this,d)&&(this.h-=this.g.get(d).length),this.g.set(d,[x]),this.h+=1,this},t.get=function(d,x){return d?(d=this.V(d),0<d.length?String(d[0]):x):x};function O_(d,x,T){D_(d,x),0<T.length&&(d.i=null,d.g.set(Vs(d,x),v(T)),d.h+=T.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const d=[],x=Array.from(this.g.keys());for(var T=0;T<x.length;T++){var R=x[T];const U=encodeURIComponent(String(R)),J=this.V(R);for(R=0;R<J.length;R++){var j=U;J[R]!==""&&(j+="="+encodeURIComponent(String(J[R]))),d.push(j)}}return this.i=d.join("&")};function Vs(d,x){return x=String(x),d.j&&(x=x.toLowerCase()),x}function YO(d,x){x&&!d.j&&(Ni(d),d.i=null,d.g.forEach(function(T,R){var j=R.toLowerCase();R!=j&&(D_(this,R),O_(this,j,T))},d)),d.j=x}function KO(d,x){const T=new Pl;if(a.Image){const R=new Image;R.onload=g(Di,T,"TestLoadImage: loaded",!0,x,R),R.onerror=g(Di,T,"TestLoadImage: error",!1,x,R),R.onabort=g(Di,T,"TestLoadImage: abort",!1,x,R),R.ontimeout=g(Di,T,"TestLoadImage: timeout",!1,x,R),a.setTimeout(function(){R.ontimeout&&R.ontimeout()},1e4),R.src=d}else x(!1)}function QO(d,x){const T=new Pl,R=new AbortController,j=setTimeout(()=>{R.abort(),Di(T,"TestPingServer: timeout",!1,x)},1e4);fetch(d,{signal:R.signal}).then(U=>{clearTimeout(j),U.ok?Di(T,"TestPingServer: ok",!0,x):Di(T,"TestPingServer: server error",!1,x)}).catch(()=>{clearTimeout(j),Di(T,"TestPingServer: error",!1,x)})}function Di(d,x,T,R,j){try{j&&(j.onload=null,j.onerror=null,j.onabort=null,j.ontimeout=null),R(T)}catch{}}function XO(){this.g=new DO}function JO(d,x,T){const R=T||"";try{A_(d,function(j,U){let J=j;c(j)&&(J=sm(j)),x.push(R+U+"="+encodeURIComponent(J))})}catch(j){throw x.push(R+"type="+encodeURIComponent("_badmap")),j}}function td(d){this.l=d.Ub||null,this.j=d.eb||!1}w(td,am),td.prototype.g=function(){return new nd(this.l,this.j)},td.prototype.i=function(d){return function(){return d}}({});function nd(d,x){Gt.call(this),this.D=d,this.o=x,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}w(nd,Gt),t=nd.prototype,t.open=function(d,x){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=d,this.A=x,this.readyState=1,Dl(this)},t.send=function(d){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const x={headers:this.u,method:this.B,credentials:this.m,cache:void 0};d&&(x.body=d),(this.D||a).fetch(new Request(this.A,x)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Nl(this)),this.readyState=0},t.Sa=function(d){if(this.g&&(this.l=d,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=d.headers,this.readyState=2,Dl(this)),this.g&&(this.readyState=3,Dl(this),this.g)))if(this.responseType==="arraybuffer")d.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in d){if(this.j=d.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;L_(this)}else d.text().then(this.Ra.bind(this),this.ga.bind(this))};function L_(d){d.j.read().then(d.Pa.bind(d)).catch(d.ga.bind(d))}t.Pa=function(d){if(this.g){if(this.o&&d.value)this.response.push(d.value);else if(!this.o){var x=d.value?d.value:new Uint8Array(0);(x=this.v.decode(x,{stream:!d.done}))&&(this.response=this.responseText+=x)}d.done?Nl(this):Dl(this),this.readyState==3&&L_(this)}},t.Ra=function(d){this.g&&(this.response=this.responseText=d,Nl(this))},t.Qa=function(d){this.g&&(this.response=d,Nl(this))},t.ga=function(){this.g&&Nl(this)};function Nl(d){d.readyState=4,d.l=null,d.j=null,d.v=null,Dl(d)}t.setRequestHeader=function(d,x){this.u.append(d,x)},t.getResponseHeader=function(d){return this.h&&this.h.get(d.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const d=[],x=this.h.entries();for(var T=x.next();!T.done;)T=T.value,d.push(T[0]+": "+T[1]),T=x.next();return d.join(`\r
`)};function Dl(d){d.onreadystatechange&&d.onreadystatechange.call(d)}Object.defineProperty(nd.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(d){this.m=d?"include":"same-origin"}});function V_(d){let x="";return O(d,function(T,R){x+=R,x+=":",x+=T,x+=`\r
`}),x}function vm(d,x,T){e:{for(R in T){var R=!1;break e}R=!0}R||(T=V_(T),typeof d=="string"?T!=null&&encodeURIComponent(String(T)):tt(d,x,T))}function mt(d){Gt.call(this),this.headers=new Map,this.o=d||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}w(mt,Gt);var ZO=/^https?$/i,eL=["POST","PUT"];t=mt.prototype,t.Ha=function(d){this.J=d},t.ea=function(d,x,T,R){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+d);x=x?x.toUpperCase():"GET",this.D=d,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():um.g(),this.v=this.o?f_(this.o):f_(um),this.g.onreadystatechange=h(this.Ea,this);try{this.B=!0,this.g.open(x,String(d),!0),this.B=!1}catch(U){j_(this,U);return}if(d=T||"",T=new Map(this.headers),R)if(Object.getPrototypeOf(R)===Object.prototype)for(var j in R)T.set(j,R[j]);else if(typeof R.keys=="function"&&typeof R.get=="function")for(const U of R.keys())T.set(U,R.get(U));else throw Error("Unknown input type for opt_headers: "+String(R));R=Array.from(T.keys()).find(U=>U.toLowerCase()=="content-type"),j=a.FormData&&d instanceof a.FormData,!(0<=Array.prototype.indexOf.call(eL,x,void 0))||R||j||T.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[U,J]of T)this.g.setRequestHeader(U,J);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{U_(this),this.u=!0,this.g.send(d),this.u=!1}catch(U){j_(this,U)}};function j_(d,x){d.h=!1,d.g&&(d.j=!0,d.g.abort(),d.j=!1),d.l=x,d.m=5,F_(d),rd(d)}function F_(d){d.A||(d.A=!0,ln(d,"complete"),ln(d,"error"))}t.abort=function(d){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=d||7,ln(this,"complete"),ln(this,"abort"),rd(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),rd(this,!0)),mt.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?$_(this):this.bb())},t.bb=function(){$_(this)};function $_(d){if(d.h&&typeof s<"u"&&(!d.v[1]||Kr(d)!=4||d.Z()!=2)){if(d.u&&Kr(d)==4)l_(d.Ea,0,d);else if(ln(d,"readystatechange"),Kr(d)==4){d.h=!1;try{const J=d.Z();e:switch(J){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var x=!0;break e;default:x=!1}var T;if(!(T=x)){var R;if(R=J===0){var j=String(d.D).match(R_)[1]||null;!j&&a.self&&a.self.location&&(j=a.self.location.protocol.slice(0,-1)),R=!ZO.test(j?j.toLowerCase():"")}T=R}if(T)ln(d,"complete"),ln(d,"success");else{d.m=6;try{var U=2<Kr(d)?d.g.statusText:""}catch{U=""}d.l=U+" ["+d.Z()+"]",F_(d)}}finally{rd(d)}}}}function rd(d,x){if(d.g){U_(d);const T=d.g,R=d.v[0]?()=>{}:null;d.g=null,d.v=null,x||ln(d,"ready");try{T.onreadystatechange=R}catch{}}}function U_(d){d.I&&(a.clearTimeout(d.I),d.I=null)}t.isActive=function(){return!!this.g};function Kr(d){return d.g?d.g.readyState:0}t.Z=function(){try{return 2<Kr(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(d){if(this.g){var x=this.g.responseText;return d&&x.indexOf(d)==0&&(x=x.substring(d.length)),NO(x)}};function B_(d){try{if(!d.g)return null;if("response"in d.g)return d.g.response;switch(d.H){case"":case"text":return d.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in d.g)return d.g.mozResponseArrayBuffer}return null}catch{return null}}function tL(d){const x={};d=(d.g&&2<=Kr(d)&&d.g.getAllResponseHeaders()||"").split(`\r
`);for(let R=0;R<d.length;R++){if(y(d[R]))continue;var T=M(d[R]);const j=T[0];if(T=T[1],typeof T!="string")continue;T=T.trim();const U=x[j]||[];x[j]=U,U.push(T)}S(x,function(R){return R.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ml(d,x,T){return T&&T.internalChannelParams&&T.internalChannelParams[d]||x}function W_(d){this.Aa=0,this.i=[],this.j=new Pl,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ml("failFast",!1,d),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ml("baseRetryDelayMs",5e3,d),this.cb=Ml("retryDelaySeedMs",1e4,d),this.Wa=Ml("forwardChannelMaxRetries",2,d),this.wa=Ml("forwardChannelRequestTimeoutMs",2e4,d),this.pa=d&&d.xmlHttpFactory||void 0,this.Xa=d&&d.Tb||void 0,this.Ca=d&&d.useFetchStreams||!1,this.L=void 0,this.J=d&&d.supportsCrossDomainXhr||!1,this.K="",this.h=new T_(d&&d.concurrentRequestLimit),this.Da=new XO,this.P=d&&d.fastHandshake||!1,this.O=d&&d.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=d&&d.Rb||!1,d&&d.xa&&this.j.xa(),d&&d.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&d&&d.detectBufferingProxy||!1,this.ja=void 0,d&&d.longPollingTimeout&&0<d.longPollingTimeout&&(this.ja=d.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=W_.prototype,t.la=8,t.G=1,t.connect=function(d,x,T,R){cn(0),this.W=d,this.H=x||{},T&&R!==void 0&&(this.H.OSID=T,this.H.OAID=R),this.F=this.X,this.I=J_(this,null,this.W),od(this)};function ym(d){if(z_(d),d.G==3){var x=d.U++,T=Yr(d.I);if(tt(T,"SID",d.K),tt(T,"RID",x),tt(T,"TYPE","terminate"),Ol(d,T),x=new ki(d,d.j,x),x.L=2,x.v=ed(Yr(T)),T=!1,a.navigator&&a.navigator.sendBeacon)try{T=a.navigator.sendBeacon(x.v.toString(),"")}catch{}!T&&a.Image&&(new Image().src=x.v,T=!0),T||(x.g=Z_(x.j,null),x.g.ea(x.v)),x.F=Date.now(),Xu(x)}X_(d)}function id(d){d.g&&(_m(d),d.g.cancel(),d.g=null)}function z_(d){id(d),d.u&&(a.clearTimeout(d.u),d.u=null),sd(d),d.h.cancel(),d.s&&(typeof d.s=="number"&&a.clearTimeout(d.s),d.s=null)}function od(d){if(!C_(d.h)&&!d.s){d.s=!0;var x=d.Ga;z||$(),L||(z(),L=!0),V.add(x,d),d.B=0}}function nL(d,x){return S_(d.h)>=d.h.j-(d.s?1:0)?!1:d.s?(d.i=x.D.concat(d.i),!0):d.G==1||d.G==2||d.B>=(d.Va?0:d.Wa)?!1:(d.s=Sl(h(d.Ga,d,x),Q_(d,d.B)),d.B++,!0)}t.Ga=function(d){if(this.s)if(this.s=null,this.G==1){if(!d){this.U=Math.floor(1e5*Math.random()),d=this.U++;const j=new ki(this,this.j,d);let U=this.o;if(this.S&&(U?(U=C(U),A(U,this.S)):U=this.S),this.m!==null||this.O||(j.H=U,U=null),this.P)e:{for(var x=0,T=0;T<this.i.length;T++){t:{var R=this.i[T];if("__data__"in R.map&&(R=R.map.__data__,typeof R=="string")){R=R.length;break t}R=void 0}if(R===void 0)break;if(x+=R,4096<x){x=T;break e}if(x===4096||T===this.i.length-1){x=T+1;break e}}x=1e3}else x=1e3;x=q_(this,j,x),T=Yr(this.I),tt(T,"RID",d),tt(T,"CVER",22),this.D&&tt(T,"X-HTTP-Session-Id",this.D),Ol(this,T),U&&(this.O?x="headers="+encodeURIComponent(String(V_(U)))+"&"+x:this.m&&vm(T,this.m,U)),gm(this.h,j),this.Ua&&tt(T,"TYPE","init"),this.P?(tt(T,"$req",x),tt(T,"SID","null"),j.T=!0,fm(j,T,null)):fm(j,T,x),this.G=2}}else this.G==3&&(d?H_(this,d):this.i.length==0||C_(this.h)||H_(this))};function H_(d,x){var T;x?T=x.l:T=d.U++;const R=Yr(d.I);tt(R,"SID",d.K),tt(R,"RID",T),tt(R,"AID",d.T),Ol(d,R),d.m&&d.o&&vm(R,d.m,d.o),T=new ki(d,d.j,T,d.B+1),d.m===null&&(T.H=d.o),x&&(d.i=x.D.concat(d.i)),x=q_(d,T,1e3),T.I=Math.round(.5*d.wa)+Math.round(.5*d.wa*Math.random()),gm(d.h,T),fm(T,R,x)}function Ol(d,x){d.H&&O(d.H,function(T,R){tt(x,R,T)}),d.l&&A_({},function(T,R){tt(x,R,T)})}function q_(d,x,T){T=Math.min(d.i.length,T);var R=d.l?h(d.l.Na,d.l,d):null;e:{var j=d.i;let U=-1;for(;;){const J=["count="+T];U==-1?0<T?(U=j[0].g,J.push("ofs="+U)):U=0:J.push("ofs="+U);let Ge=!0;for(let Ft=0;Ft<T;Ft++){let $e=j[Ft].g;const Yt=j[Ft].map;if($e-=U,0>$e)U=Math.max(0,j[Ft].g-100),Ge=!1;else try{JO(Yt,J,"req"+$e+"_")}catch{R&&R(Yt)}}if(Ge){R=J.join("&");break e}}}return d=d.i.splice(0,T),x.D=d,R}function G_(d){if(!d.g&&!d.u){d.Y=1;var x=d.Fa;z||$(),L||(z(),L=!0),V.add(x,d),d.v=0}}function wm(d){return d.g||d.u||3<=d.v?!1:(d.Y++,d.u=Sl(h(d.Fa,d),Q_(d,d.v)),d.v++,!0)}t.Fa=function(){if(this.u=null,Y_(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var d=2*this.R;this.j.info("BP detection timer enabled: "+d),this.A=Sl(h(this.ab,this),d)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,cn(10),id(this),Y_(this))};function _m(d){d.A!=null&&(a.clearTimeout(d.A),d.A=null)}function Y_(d){d.g=new ki(d,d.j,"rpc",d.Y),d.m===null&&(d.g.H=d.o),d.g.O=0;var x=Yr(d.qa);tt(x,"RID","rpc"),tt(x,"SID",d.K),tt(x,"AID",d.T),tt(x,"CI",d.F?"0":"1"),!d.F&&d.ja&&tt(x,"TO",d.ja),tt(x,"TYPE","xmlhttp"),Ol(d,x),d.m&&d.o&&vm(x,d.m,d.o),d.L&&(d.g.I=d.L);var T=d.g;d=d.ia,T.L=1,T.v=ed(Yr(x)),T.m=null,T.P=!0,x_(T,d)}t.Za=function(){this.C!=null&&(this.C=null,id(this),wm(this),cn(19))};function sd(d){d.C!=null&&(a.clearTimeout(d.C),d.C=null)}function K_(d,x){var T=null;if(d.g==x){sd(d),_m(d),d.g=null;var R=2}else if(mm(d.h,x))T=x.D,P_(d.h,x),R=1;else return;if(d.G!=0){if(x.o)if(R==1){T=x.m?x.m.length:0,x=Date.now()-x.F;var j=d.B;R=Yu(),ln(R,new v_(R,T)),od(d)}else G_(d);else if(j=x.s,j==3||j==0&&0<x.X||!(R==1&&nL(d,x)||R==2&&wm(d)))switch(T&&0<T.length&&(x=d.h,x.i=x.i.concat(T)),j){case 1:qo(d,5);break;case 4:qo(d,10);break;case 3:qo(d,6);break;default:qo(d,2)}}}function Q_(d,x){let T=d.Ta+Math.floor(Math.random()*d.cb);return d.isActive()||(T*=2),T*x}function qo(d,x){if(d.j.info("Error code "+x),x==2){var T=h(d.fb,d),R=d.Xa;const j=!R;R=new Ho(R||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Ju(R,"https"),ed(R),j?KO(R.toString(),T):QO(R.toString(),T)}else cn(2);d.G=0,d.l&&d.l.sa(x),X_(d),z_(d)}t.fb=function(d){d?(this.j.info("Successfully pinged google.com"),cn(2)):(this.j.info("Failed to ping google.com"),cn(1))};function X_(d){if(d.G=0,d.ka=[],d.l){const x=I_(d.h);(x.length!=0||d.i.length!=0)&&(E(d.ka,x),E(d.ka,d.i),d.h.i.length=0,v(d.i),d.i.length=0),d.l.ra()}}function J_(d,x,T){var R=T instanceof Ho?Yr(T):new Ho(T);if(R.g!="")x&&(R.g=x+"."+R.g),Zu(R,R.s);else{var j=a.location;R=j.protocol,x=x?x+"."+j.hostname:j.hostname,j=+j.port;var U=new Ho(null);R&&Ju(U,R),x&&(U.g=x),j&&Zu(U,j),T&&(U.l=T),R=U}return T=d.D,x=d.ya,T&&x&&tt(R,T,x),tt(R,"VER",d.la),Ol(d,R),R}function Z_(d,x,T){if(x&&!d.J)throw Error("Can't create secondary domain capable XhrIo object.");return x=d.Ca&&!d.pa?new mt(new td({eb:T})):new mt(d.pa),x.Ha(d.J),x}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function ex(){}t=ex.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function ad(){}ad.prototype.g=function(d,x){return new In(d,x)};function In(d,x){Gt.call(this),this.g=new W_(x),this.l=d,this.h=x&&x.messageUrlParams||null,d=x&&x.messageHeaders||null,x&&x.clientProtocolHeaderRequired&&(d?d["X-Client-Protocol"]="webchannel":d={"X-Client-Protocol":"webchannel"}),this.g.o=d,d=x&&x.initMessageHeaders||null,x&&x.messageContentType&&(d?d["X-WebChannel-Content-Type"]=x.messageContentType:d={"X-WebChannel-Content-Type":x.messageContentType}),x&&x.va&&(d?d["X-WebChannel-Client-Profile"]=x.va:d={"X-WebChannel-Client-Profile":x.va}),this.g.S=d,(d=x&&x.Sb)&&!y(d)&&(this.g.m=d),this.v=x&&x.supportsCrossDomainXhr||!1,this.u=x&&x.sendRawJson||!1,(x=x&&x.httpSessionIdParam)&&!y(x)&&(this.g.D=x,d=this.h,d!==null&&x in d&&(d=this.h,x in d&&delete d[x])),this.j=new js(this)}w(In,Gt),In.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},In.prototype.close=function(){ym(this.g)},In.prototype.o=function(d){var x=this.g;if(typeof d=="string"){var T={};T.__data__=d,d=T}else this.u&&(T={},T.__data__=sm(d),d=T);x.i.push(new FO(x.Ya++,d)),x.G==3&&od(x)},In.prototype.N=function(){this.g.l=null,delete this.j,ym(this.g),delete this.g,In.aa.N.call(this)};function tx(d){lm.call(this),d.__headers__&&(this.headers=d.__headers__,this.statusCode=d.__status__,delete d.__headers__,delete d.__status__);var x=d.__sm__;if(x){e:{for(const T in x){d=T;break e}d=void 0}(this.i=d)&&(d=this.i,x=x!==null&&d in x?x[d]:void 0),this.data=x}else this.data=d}w(tx,lm);function nx(){cm.call(this),this.status=1}w(nx,cm);function js(d){this.g=d}w(js,ex),js.prototype.ua=function(){ln(this.g,"a")},js.prototype.ta=function(d){ln(this.g,new tx(d))},js.prototype.sa=function(d){ln(this.g,new nx)},js.prototype.ra=function(){ln(this.g,"b")},ad.prototype.createWebChannel=ad.prototype.g,In.prototype.send=In.prototype.o,In.prototype.open=In.prototype.m,In.prototype.close=In.prototype.close,tA=function(){return new ad},eA=function(){return Yu()},ZI=Wo,Kv={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ku.NO_ERROR=0,Ku.TIMEOUT=8,Ku.HTTP_ERROR=6,af=Ku,y_.COMPLETE="complete",JI=y_,h_.EventType=Tl,Tl.OPEN="a",Tl.CLOSE="b",Tl.ERROR="c",Tl.MESSAGE="d",Gt.prototype.listen=Gt.prototype.K,rc=h_,mt.prototype.listenOnce=mt.prototype.L,mt.prototype.getLastError=mt.prototype.Ka,mt.prototype.getLastErrorCode=mt.prototype.Ba,mt.prototype.getStatus=mt.prototype.Z,mt.prototype.getResponseJson=mt.prototype.Oa,mt.prototype.getResponseText=mt.prototype.oa,mt.prototype.send=mt.prototype.ea,mt.prototype.setWithCredentials=mt.prototype.Ha,XI=mt}).apply(typeof Sd<"u"?Sd:typeof self<"u"?self:typeof window<"u"?window:{});const NE="@firebase/firestore",DE="4.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class en{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}en.UNAUTHENTICATED=new en(null),en.GOOGLE_CREDENTIALS=new en("google-credentials-uid"),en.FIRST_PARTY=new en("first-party-uid"),en.MOCK_USER=new en("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let cl="12.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vs=new G0("@firebase/firestore");function Ks(){return vs.logLevel}function te(t,...e){if(vs.logLevel<=Re.DEBUG){const n=e.map(Q0);vs.debug(`Firestore (${cl}): ${t}`,...n)}}function gi(t,...e){if(vs.logLevel<=Re.ERROR){const n=e.map(Q0);vs.error(`Firestore (${cl}): ${t}`,...n)}}function Fa(t,...e){if(vs.logLevel<=Re.WARN){const n=e.map(Q0);vs.warn(`Firestore (${cl}): ${t}`,...n)}}function Q0(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ve(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,nA(t,r,n)}function nA(t,e,n){let r=`FIRESTORE (${cl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw gi(r),new Error(r)}function We(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||nA(e,i,r)}function Ee(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Z extends Pi{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class si{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rA{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class m3{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(en.UNAUTHENTICATED))}shutdown(){}}class g3{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class v3{constructor(e){this.t=e,this.currentUser=en.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){We(this.o===void 0,42304);let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let o=new si;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new si,e.enqueueRetryable(()=>i(this.currentUser))};const s=()=>{const l=o;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{te("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(te("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new si)}},0),s()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(te("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(We(typeof r.accessToken=="string",31837,{l:r}),new rA(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return We(e===null||typeof e=="string",2055,{h:e}),new en(e)}}class y3{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=en.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class w3{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new y3(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(en.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class ME{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class _3{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,zn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){We(this.o===void 0,3512);const r=o=>{o.error!=null&&te("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const s=o.token!==this.m;return this.m=o.token,te("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const i=o=>{te("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){const o=this.V.getImmediate({optional:!0});o?i(o):te("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new ME(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(We(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new ME(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x3(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X0{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=x3(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%62))}return r}}function ke(t,e){return t<e?-1:t>e?1:0}function Qv(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const i=t.charAt(r),o=e.charAt(r);if(i!==o)return eg(i)===eg(o)?ke(i,o):eg(i)?1:-1}return ke(t.length,e.length)}const E3=55296,b3=57343;function eg(t){const e=t.charCodeAt(0);return e>=E3&&e<=b3}function $a(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OE="__name__";class Er{constructor(e,n,r){n===void 0?n=0:n>e.length&&ve(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&ve(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Er.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Er?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const o=Er.compareSegments(e.get(i),n.get(i));if(o!==0)return o}return ke(e.length,n.length)}static compareSegments(e,n){const r=Er.isNumericId(e),i=Er.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?Er.extractNumericId(e).compare(Er.extractNumericId(n)):Qv(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return po.fromString(e.substring(4,e.length-2))}}class Qe extends Er{construct(e,n,r){return new Qe(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Z(H.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Qe(n)}static emptyPath(){return new Qe([])}}const T3=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Bt extends Er{construct(e,n,r){return new Bt(e,n,r)}static isValidIdentifier(e){return T3.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Bt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===OE}static keyField(){return new Bt([OE])}static fromServerFormat(e){const n=[];let r="",i=0;const o=()=>{if(r.length===0)throw new Z(H.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let s=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new Z(H.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new Z(H.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(s=!s,i++):a!=="."||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new Z(H.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Bt(n)}static emptyPath(){return new Bt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class de{constructor(e){this.path=e}static fromPath(e){return new de(Qe.fromString(e))}static fromName(e){return new de(Qe.fromString(e).popFirst(5))}static empty(){return new de(Qe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Qe.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Qe.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new de(new Qe(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iA(t,e,n){if(!n)throw new Z(H.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function C3(t,e,n,r){if(e===!0&&r===!0)throw new Z(H.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function LE(t){if(!de.isDocumentKey(t))throw new Z(H.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function VE(t){if(de.isDocumentKey(t))throw new Z(H.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function oA(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function np(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ve(12329,{type:typeof t})}function vi(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Z(H.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=np(t);throw new Z(H.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function It(t,e){const n={typeString:t};return e&&(n.value=e),n}function bu(t,e){if(!oA(t))throw new Z(H.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const i=e[r].typeString,o="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const s=t[r];if(i&&typeof s!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(o!==void 0&&s!==o.value){n=`Expected '${r}' field to equal '${o.value}'`;break}}if(n)throw new Z(H.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jE=-62135596800,FE=1e6;class it{static now(){return it.fromMillis(Date.now())}static fromDate(e){return it.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*FE);return new it(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Z(H.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Z(H.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<jE)throw new Z(H.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Z(H.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/FE}_compareTo(e){return this.seconds===e.seconds?ke(this.nanoseconds,e.nanoseconds):ke(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:it._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(bu(e,it._jsonSchema))return new it(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-jE;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}it._jsonSchemaVersion="firestore/timestamp/1.0",it._jsonSchema={type:It("string",it._jsonSchemaVersion),seconds:It("number"),nanoseconds:It("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xe{static fromTimestamp(e){return new xe(e)}static min(){return new xe(new it(0,0))}static max(){return new xe(new it(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xc=-1;function S3(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=xe.fromTimestamp(r===1e9?new it(n+1,0):new it(n,r));return new bo(i,de.empty(),e)}function P3(t){return new bo(t.readTime,t.key,Xc)}class bo{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new bo(xe.min(),de.empty(),Xc)}static max(){return new bo(xe.max(),de.empty(),Xc)}}function I3(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=de.comparator(t.documentKey,e.documentKey),n!==0?n:ke(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A3="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class R3{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ul(t){if(t.code!==H.FAILED_PRECONDITION||t.message!==A3)throw t;te("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ve(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new q((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof q?n:q.resolve(n)}catch(n){return q.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):q.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):q.reject(n)}static resolve(e){return new q((n,r)=>{n(e)})}static reject(e){return new q((n,r)=>{r(e)})}static waitFor(e){return new q((n,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&n()},l=>r(l))}),s=!0,o===i&&n()})}static or(e){let n=q.resolve(!1);for(const r of e)n=n.next(i=>i?q.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(e,n){return new q((r,i)=>{const o=e.length,s=new Array(o);let a=0;for(let l=0;l<o;l++){const c=l;n(e[c]).next(u=>{s[c]=u,++a,a===o&&r(s)},u=>i(u))}})}static doWhile(e,n){return new q((r,i)=>{const o=()=>{e()===!0?n().next(()=>{o()},i):r()};o()})}}function k3(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function dl(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rp{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}rp.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J0=-1;function ip(t){return t==null}function Xf(t){return t===0&&1/t==-1/0}function N3(t){return typeof t=="number"&&Number.isInteger(t)&&!Xf(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sA="";function D3(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=$E(e)),e=M3(t.get(n),e);return $E(e)}function M3(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const o=t.charAt(i);switch(o){case"\0":n+="";break;case sA:n+="";break;default:n+=o}}return n}function $E(t){return t+sA+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UE(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function jo(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function aA(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pt{constructor(e,n){this.comparator=e,this.root=n||Ut.EMPTY}insert(e,n){return new pt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Ut.BLACK,null,null))}remove(e){return new pt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ut.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Pd(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Pd(this.root,e,this.comparator,!1)}getReverseIterator(){return new Pd(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Pd(this.root,e,this.comparator,!0)}}class Pd{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ut{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??Ut.RED,this.left=i??Ut.EMPTY,this.right=o??Ut.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new Ut(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Ut.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Ut.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ut.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ut.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ve(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ve(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw ve(27949);return e+(this.isRed()?0:1)}}Ut.EMPTY=null,Ut.RED=!0,Ut.BLACK=!1;Ut.EMPTY=new class{constructor(){this.size=0}get key(){throw ve(57766)}get value(){throw ve(16141)}get color(){throw ve(16727)}get left(){throw ve(29726)}get right(){throw ve(36894)}copy(e,n,r,i,o){return this}insert(e,n,r){return new Ut(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nt{constructor(e){this.comparator=e,this.data=new pt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new BE(this.data.getIterator())}getIteratorFrom(e){return new BE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Nt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Nt(this.comparator);return n.data=e,n}}class BE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dn{constructor(e){this.fields=e,e.sort(Bt.comparator)}static empty(){return new Dn([])}unionWith(e){let n=new Nt(Bt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Dn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return $a(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lA extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new lA("Invalid base64 string: "+o):o}}(e);return new qt(n)}static fromUint8Array(e){const n=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new qt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ke(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}qt.EMPTY_BYTE_STRING=new qt("");const O3=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function To(t){if(We(!!t,39018),typeof t=="string"){let e=0;const n=O3.exec(t);if(We(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:wt(t.seconds),nanos:wt(t.nanos)}}function wt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Co(t){return typeof t=="string"?qt.fromBase64String(t):qt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cA="server_timestamp",uA="__type__",dA="__previous_value__",fA="__local_write_time__";function Z0(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[uA])==null?void 0:r.stringValue)===cA}function op(t){const e=t.mapValue.fields[dA];return Z0(e)?op(e):e}function Jc(t){const e=To(t.mapValue.fields[fA].timestampValue);return new it(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L3{constructor(e,n,r,i,o,s,a,l,c,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=c,this.isUsingEmulator=u}}const Jf="(default)";class Zc{constructor(e,n){this.projectId=e,this.database=n||Jf}static empty(){return new Zc("","")}get isDefaultDatabase(){return this.database===Jf}isEqual(e){return e instanceof Zc&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hA="__type__",pA="__max__",Id={mapValue:{fields:{__type__:{stringValue:pA}}}},mA="__vector__",Zf="value";function So(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Z0(t)?4:j3(t)?9007199254740991:V3(t)?10:11:ve(28295,{value:t})}function $r(t,e){if(t===e)return!0;const n=So(t);if(n!==So(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Jc(t).isEqual(Jc(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;const s=To(i.timestampValue),a=To(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,o){return Co(i.bytesValue).isEqual(Co(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,o){return wt(i.geoPointValue.latitude)===wt(o.geoPointValue.latitude)&&wt(i.geoPointValue.longitude)===wt(o.geoPointValue.longitude)}(t,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return wt(i.integerValue)===wt(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){const s=wt(i.doubleValue),a=wt(o.doubleValue);return s===a?Xf(s)===Xf(a):isNaN(s)&&isNaN(a)}return!1}(t,e);case 9:return $a(t.arrayValue.values||[],e.arrayValue.values||[],$r);case 10:case 11:return function(i,o){const s=i.mapValue.fields||{},a=o.mapValue.fields||{};if(UE(s)!==UE(a))return!1;for(const l in s)if(s.hasOwnProperty(l)&&(a[l]===void 0||!$r(s[l],a[l])))return!1;return!0}(t,e);default:return ve(52216,{left:t})}}function eu(t,e){return(t.values||[]).find(n=>$r(n,e))!==void 0}function Ua(t,e){if(t===e)return 0;const n=So(t),r=So(e);if(n!==r)return ke(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ke(t.booleanValue,e.booleanValue);case 2:return function(o,s){const a=wt(o.integerValue||o.doubleValue),l=wt(s.integerValue||s.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return WE(t.timestampValue,e.timestampValue);case 4:return WE(Jc(t),Jc(e));case 5:return Qv(t.stringValue,e.stringValue);case 6:return function(o,s){const a=Co(o),l=Co(s);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(o,s){const a=o.split("/"),l=s.split("/");for(let c=0;c<a.length&&c<l.length;c++){const u=ke(a[c],l[c]);if(u!==0)return u}return ke(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,s){const a=ke(wt(o.latitude),wt(s.latitude));return a!==0?a:ke(wt(o.longitude),wt(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return zE(t.arrayValue,e.arrayValue);case 10:return function(o,s){var h,g,w,v;const a=o.fields||{},l=s.fields||{},c=(h=a[Zf])==null?void 0:h.arrayValue,u=(g=l[Zf])==null?void 0:g.arrayValue,f=ke(((w=c==null?void 0:c.values)==null?void 0:w.length)||0,((v=u==null?void 0:u.values)==null?void 0:v.length)||0);return f!==0?f:zE(c,u)}(t.mapValue,e.mapValue);case 11:return function(o,s){if(o===Id.mapValue&&s===Id.mapValue)return 0;if(o===Id.mapValue)return 1;if(s===Id.mapValue)return-1;const a=o.fields||{},l=Object.keys(a),c=s.fields||{},u=Object.keys(c);l.sort(),u.sort();for(let f=0;f<l.length&&f<u.length;++f){const h=Qv(l[f],u[f]);if(h!==0)return h;const g=Ua(a[l[f]],c[u[f]]);if(g!==0)return g}return ke(l.length,u.length)}(t.mapValue,e.mapValue);default:throw ve(23264,{he:n})}}function WE(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ke(t,e);const n=To(t),r=To(e),i=ke(n.seconds,r.seconds);return i!==0?i:ke(n.nanos,r.nanos)}function zE(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const o=Ua(n[i],r[i]);if(o)return o}return ke(n.length,r.length)}function Ba(t){return Xv(t)}function Xv(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=To(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Co(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return de.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const o of n.values||[])i?i=!1:r+=",",r+=Xv(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",o=!0;for(const s of r)o?o=!1:i+=",",i+=`${s}:${Xv(n.fields[s])}`;return i+"}"}(t.mapValue):ve(61005,{value:t})}function lf(t){switch(So(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=op(t);return e?16+lf(e):16;case 5:return 2*t.stringValue.length;case 6:return Co(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,o)=>i+lf(o),0)}(t.arrayValue);case 10:case 11:return function(r){let i=0;return jo(r.fields,(o,s)=>{i+=o.length+lf(s)}),i}(t.mapValue);default:throw ve(13486,{value:t})}}function HE(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Jv(t){return!!t&&"integerValue"in t}function ew(t){return!!t&&"arrayValue"in t}function qE(t){return!!t&&"nullValue"in t}function GE(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function cf(t){return!!t&&"mapValue"in t}function V3(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[hA])==null?void 0:r.stringValue)===mA}function yc(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return jo(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=yc(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=yc(t.arrayValue.values[n]);return e}return{...t}}function j3(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===pA}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wn{constructor(e){this.value=e}static empty(){return new wn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!cf(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=yc(n)}setAll(e){let n=Bt.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}s?r[a.lastSegment()]=yc(s):i.push(a.lastSegment())});const o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){const n=this.field(e.popLast());cf(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return $r(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];cf(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){jo(n,(i,o)=>e[i]=o);for(const i of r)delete e[i]}clone(){return new wn(yc(this.value))}}function gA(t){const e=[];return jo(t.fields,(n,r)=>{const i=new Bt([n]);if(cf(r)){const o=gA(r.mapValue).fields;if(o.length===0)e.push(i);else for(const s of o)e.push(i.child(s))}else e.push(i)}),new Dn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nn{constructor(e,n,r,i,o,s,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new nn(e,0,xe.min(),xe.min(),xe.min(),wn.empty(),0)}static newFoundDocument(e,n,r,i){return new nn(e,1,n,xe.min(),r,i,0)}static newNoDocument(e,n){return new nn(e,2,n,xe.min(),xe.min(),wn.empty(),0)}static newUnknownDocument(e,n){return new nn(e,3,n,xe.min(),xe.min(),wn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(xe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=wn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=wn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=xe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof nn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new nn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eh{constructor(e,n){this.position=e,this.inclusive=n}}function YE(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const o=e[i],s=t.position[i];if(o.field.isKeyField()?r=de.comparator(de.fromName(s.referenceValue),n.key):r=Ua(s,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function KE(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!$r(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class th{constructor(e,n="asc"){this.field=e,this.dir=n}}function F3(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vA{}class Pt extends vA{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new U3(e,n,r):n==="array-contains"?new z3(e,r):n==="in"?new H3(e,r):n==="not-in"?new q3(e,r):n==="array-contains-any"?new G3(e,r):new Pt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new B3(e,r):new W3(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Ua(n,this.value)):n!==null&&So(this.value)===So(n)&&this.matchesComparison(Ua(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ve(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class dr extends vA{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new dr(e,n)}matches(e){return yA(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function yA(t){return t.op==="and"}function wA(t){return $3(t)&&yA(t)}function $3(t){for(const e of t.filters)if(e instanceof dr)return!1;return!0}function Zv(t){if(t instanceof Pt)return t.field.canonicalString()+t.op.toString()+Ba(t.value);if(wA(t))return t.filters.map(e=>Zv(e)).join(",");{const e=t.filters.map(n=>Zv(n)).join(",");return`${t.op}(${e})`}}function _A(t,e){return t instanceof Pt?function(r,i){return i instanceof Pt&&r.op===i.op&&r.field.isEqual(i.field)&&$r(r.value,i.value)}(t,e):t instanceof dr?function(r,i){return i instanceof dr&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,a)=>o&&_A(s,i.filters[a]),!0):!1}(t,e):void ve(19439)}function xA(t){return t instanceof Pt?function(n){return`${n.field.canonicalString()} ${n.op} ${Ba(n.value)}`}(t):t instanceof dr?function(n){return n.op.toString()+" {"+n.getFilters().map(xA).join(" ,")+"}"}(t):"Filter"}class U3 extends Pt{constructor(e,n,r){super(e,n,r),this.key=de.fromName(r.referenceValue)}matches(e){const n=de.comparator(e.key,this.key);return this.matchesComparison(n)}}class B3 extends Pt{constructor(e,n){super(e,"in",n),this.keys=EA("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class W3 extends Pt{constructor(e,n){super(e,"not-in",n),this.keys=EA("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function EA(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map(r=>de.fromName(r.referenceValue))}class z3 extends Pt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return ew(n)&&eu(n.arrayValue,this.value)}}class H3 extends Pt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&eu(this.value.arrayValue,n)}}class q3 extends Pt{constructor(e,n){super(e,"not-in",n)}matches(e){if(eu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!eu(this.value.arrayValue,n)}}class G3 extends Pt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!ew(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>eu(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y3{constructor(e,n=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.Te=null}}function QE(t,e=null,n=[],r=[],i=null,o=null,s=null){return new Y3(t,e,n,r,i,o,s)}function tw(t){const e=Ee(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Zv(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),ip(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Ba(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Ba(r)).join(",")),e.Te=n}return e.Te}function nw(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!F3(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!_A(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!KE(t.startAt,e.startAt)&&KE(t.endAt,e.endAt)}function ey(t){return de.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tu{constructor(e,n=null,r=[],i=[],o=null,s="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=l,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function K3(t,e,n,r,i,o,s,a){return new Tu(t,e,n,r,i,o,s,a)}function rw(t){return new Tu(t)}function XE(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function bA(t){return t.collectionGroup!==null}function wc(t){const e=Ee(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const o of e.explicitOrderBy)e.Ie.push(o),n.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new Nt(Bt.comparator);return s.filters.forEach(l=>{l.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.Ie.push(new th(o,r))}),n.has(Bt.keyField().canonicalString())||e.Ie.push(new th(Bt.keyField(),r))}return e.Ie}function kr(t){const e=Ee(t);return e.Ee||(e.Ee=Q3(e,wc(t))),e.Ee}function Q3(t,e){if(t.limitType==="F")return QE(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const o=i.dir==="desc"?"asc":"desc";return new th(i.field,o)});const n=t.endAt?new eh(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new eh(t.startAt.position,t.startAt.inclusive):null;return QE(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function ty(t,e){const n=t.filters.concat([e]);return new Tu(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function ny(t,e,n){return new Tu(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function sp(t,e){return nw(kr(t),kr(e))&&t.limitType===e.limitType}function TA(t){return`${tw(kr(t))}|lt:${t.limitType}`}function Qs(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>xA(i)).join(", ")}]`),ip(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Ba(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Ba(i)).join(",")),`Target(${r})`}(kr(t))}; limitType=${t.limitType})`}function ap(t,e){return e.isFoundDocument()&&function(r,i){const o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):de.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(t,e)&&function(r,i){for(const o of wc(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const o of r.filters)if(!o.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(s,a,l){const c=YE(s,a,l);return s.inclusive?c<=0:c<0}(r.startAt,wc(r),i)||r.endAt&&!function(s,a,l){const c=YE(s,a,l);return s.inclusive?c>=0:c>0}(r.endAt,wc(r),i))}(t,e)}function X3(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function CA(t){return(e,n)=>{let r=!1;for(const i of wc(t)){const o=J3(i,e,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function J3(t,e,n){const r=t.field.isKeyField()?de.comparator(e.key,n.key):function(o,s,a){const l=s.data.field(o),c=a.data.field(o);return l!==null&&c!==null?Ua(l,c):ve(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return ve(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class As{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){jo(this.inner,(n,r)=>{for(const[i,o]of r)e(i,o)})}isEmpty(){return aA(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z3=new pt(de.comparator);function yi(){return Z3}const SA=new pt(de.comparator);function ic(...t){let e=SA;for(const n of t)e=e.insert(n.key,n);return e}function PA(t){let e=SA;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function is(){return _c()}function IA(){return _c()}function _c(){return new As(t=>t.toString(),(t,e)=>t.isEqual(e))}const eF=new pt(de.comparator),tF=new Nt(de.comparator);function Ne(...t){let e=tF;for(const n of t)e=e.add(n);return e}const nF=new Nt(ke);function rF(){return nF}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iw(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Xf(e)?"-0":e}}function AA(t){return{integerValue:""+t}}function iF(t,e){return N3(e)?AA(e):iw(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lp{constructor(){this._=void 0}}function oF(t,e,n){return t instanceof nh?function(i,o){const s={fields:{[uA]:{stringValue:cA},[fA]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&Z0(o)&&(o=op(o)),o&&(s.fields[dA]=o),{mapValue:s}}(n,e):t instanceof tu?kA(t,e):t instanceof nu?NA(t,e):function(i,o){const s=RA(i,o),a=JE(s)+JE(i.Ae);return Jv(s)&&Jv(i.Ae)?AA(a):iw(i.serializer,a)}(t,e)}function sF(t,e,n){return t instanceof tu?kA(t,e):t instanceof nu?NA(t,e):n}function RA(t,e){return t instanceof rh?function(r){return Jv(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}class nh extends lp{}class tu extends lp{constructor(e){super(),this.elements=e}}function kA(t,e){const n=DA(e);for(const r of t.elements)n.some(i=>$r(i,r))||n.push(r);return{arrayValue:{values:n}}}class nu extends lp{constructor(e){super(),this.elements=e}}function NA(t,e){let n=DA(e);for(const r of t.elements)n=n.filter(i=>!$r(i,r));return{arrayValue:{values:n}}}class rh extends lp{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function JE(t){return wt(t.integerValue||t.doubleValue)}function DA(t){return ew(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function aF(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof tu&&i instanceof tu||r instanceof nu&&i instanceof nu?$a(r.elements,i.elements,$r):r instanceof rh&&i instanceof rh?$r(r.Ae,i.Ae):r instanceof nh&&i instanceof nh}(t.transform,e.transform)}class lF{constructor(e,n){this.version=e,this.transformResults=n}}class cr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new cr}static exists(e){return new cr(void 0,e)}static updateTime(e){return new cr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function uf(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class cp{}function MA(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new ow(t.key,cr.none()):new Cu(t.key,t.data,cr.none());{const n=t.data,r=wn.empty();let i=new Nt(Bt.comparator);for(let o of e.fields)if(!i.has(o)){let s=n.field(o);s===null&&o.length>1&&(o=o.popLast(),s=n.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new Fo(t.key,r,new Dn(i.toArray()),cr.none())}}function cF(t,e,n){t instanceof Cu?function(i,o,s){const a=i.value.clone(),l=eb(i.fieldTransforms,o,s.transformResults);a.setAll(l),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Fo?function(i,o,s){if(!uf(i.precondition,o))return void o.convertToUnknownDocument(s.version);const a=eb(i.fieldTransforms,o,s.transformResults),l=o.data;l.setAll(OA(i)),l.setAll(a),o.convertToFoundDocument(s.version,l).setHasCommittedMutations()}(t,e,n):function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function xc(t,e,n,r){return t instanceof Cu?function(o,s,a,l){if(!uf(o.precondition,s))return a;const c=o.value.clone(),u=tb(o.fieldTransforms,l,s);return c.setAll(u),s.convertToFoundDocument(s.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof Fo?function(o,s,a,l){if(!uf(o.precondition,s))return a;const c=tb(o.fieldTransforms,l,s),u=s.data;return u.setAll(OA(o)),u.setAll(c),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),a===null?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(f=>f.field))}(t,e,n,r):function(o,s,a){return uf(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a}(t,e,n)}function uF(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),o=RA(r.transform,i||null);o!=null&&(n===null&&(n=wn.empty()),n.set(r.field,o))}return n||null}function ZE(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&$a(r,i,(o,s)=>aF(o,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Cu extends cp{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Fo extends cp{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function OA(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function eb(t,e,n){const r=new Map;We(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let i=0;i<n.length;i++){const o=t[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,sF(s,a,n[i]))}return r}function tb(t,e,n){const r=new Map;for(const i of t){const o=i.transform,s=n.data.field(i.field);r.set(i.field,oF(o,s,e))}return r}class ow extends cp{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class dF extends cp{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fF{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&cF(o,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=xc(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=xc(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=IA();return this.mutations.forEach(i=>{const o=e.get(i.key),s=o.overlayedDocument;let a=this.applyToLocalView(s,o.mutatedFields);a=n.has(i.key)?null:a;const l=MA(s,a);l!==null&&r.set(i.key,l),s.isValidDocument()||s.convertToNoDocument(xe.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Ne())}isEqual(e){return this.batchId===e.batchId&&$a(this.mutations,e.mutations,(n,r)=>ZE(n,r))&&$a(this.baseMutations,e.baseMutations,(n,r)=>ZE(n,r))}}class sw{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){We(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let i=function(){return eF}();const o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new sw(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let hF=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pF{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Tt,Le;function mF(t){switch(t){case H.OK:return ve(64938);case H.CANCELLED:case H.UNKNOWN:case H.DEADLINE_EXCEEDED:case H.RESOURCE_EXHAUSTED:case H.INTERNAL:case H.UNAVAILABLE:case H.UNAUTHENTICATED:return!1;case H.INVALID_ARGUMENT:case H.NOT_FOUND:case H.ALREADY_EXISTS:case H.PERMISSION_DENIED:case H.FAILED_PRECONDITION:case H.ABORTED:case H.OUT_OF_RANGE:case H.UNIMPLEMENTED:case H.DATA_LOSS:return!0;default:return ve(15467,{code:t})}}function LA(t){if(t===void 0)return gi("GRPC error has no .code"),H.UNKNOWN;switch(t){case Tt.OK:return H.OK;case Tt.CANCELLED:return H.CANCELLED;case Tt.UNKNOWN:return H.UNKNOWN;case Tt.DEADLINE_EXCEEDED:return H.DEADLINE_EXCEEDED;case Tt.RESOURCE_EXHAUSTED:return H.RESOURCE_EXHAUSTED;case Tt.INTERNAL:return H.INTERNAL;case Tt.UNAVAILABLE:return H.UNAVAILABLE;case Tt.UNAUTHENTICATED:return H.UNAUTHENTICATED;case Tt.INVALID_ARGUMENT:return H.INVALID_ARGUMENT;case Tt.NOT_FOUND:return H.NOT_FOUND;case Tt.ALREADY_EXISTS:return H.ALREADY_EXISTS;case Tt.PERMISSION_DENIED:return H.PERMISSION_DENIED;case Tt.FAILED_PRECONDITION:return H.FAILED_PRECONDITION;case Tt.ABORTED:return H.ABORTED;case Tt.OUT_OF_RANGE:return H.OUT_OF_RANGE;case Tt.UNIMPLEMENTED:return H.UNIMPLEMENTED;case Tt.DATA_LOSS:return H.DATA_LOSS;default:return ve(39323,{code:t})}}(Le=Tt||(Tt={}))[Le.OK=0]="OK",Le[Le.CANCELLED=1]="CANCELLED",Le[Le.UNKNOWN=2]="UNKNOWN",Le[Le.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Le[Le.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Le[Le.NOT_FOUND=5]="NOT_FOUND",Le[Le.ALREADY_EXISTS=6]="ALREADY_EXISTS",Le[Le.PERMISSION_DENIED=7]="PERMISSION_DENIED",Le[Le.UNAUTHENTICATED=16]="UNAUTHENTICATED",Le[Le.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Le[Le.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Le[Le.ABORTED=10]="ABORTED",Le[Le.OUT_OF_RANGE=11]="OUT_OF_RANGE",Le[Le.UNIMPLEMENTED=12]="UNIMPLEMENTED",Le[Le.INTERNAL=13]="INTERNAL",Le[Le.UNAVAILABLE=14]="UNAVAILABLE",Le[Le.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gF(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vF=new po([4294967295,4294967295],0);function nb(t){const e=gF().encode(t),n=new QI;return n.update(e),new Uint8Array(n.digest())}function rb(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new po([n,r],0),new po([i,o],0)]}class aw{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new oc(`Invalid padding: ${n}`);if(r<0)throw new oc(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new oc(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new oc(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=po.fromNumber(this.ge)}ye(e,n,r){let i=e.add(n.multiply(po.fromNumber(r)));return i.compare(vF)===1&&(i=new po([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=nb(e),[r,i]=rb(n);for(let o=0;o<this.hashCount;o++){const s=this.ye(r,i,o);if(!this.we(s))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new aw(o,i,n);return r.forEach(a=>s.insert(a)),s}insert(e){if(this.ge===0)return;const n=nb(e),[r,i]=rb(n);for(let o=0;o<this.hashCount;o++){const s=this.ye(r,i,o);this.Se(s)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class oc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class up{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Su.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new up(xe.min(),i,new pt(ke),yi(),Ne())}}class Su{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Su(r,n,Ne(),Ne(),Ne())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class df{constructor(e,n,r,i){this.be=e,this.removedTargetIds=n,this.key=r,this.De=i}}class VA{constructor(e,n){this.targetId=e,this.Ce=n}}class jA{constructor(e,n,r=qt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class ib{constructor(){this.ve=0,this.Fe=ob(),this.Me=qt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Ne(),n=Ne(),r=Ne();return this.Fe.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:ve(38017,{changeType:o})}}),new Su(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=ob()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,We(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class yF{constructor(e){this.Ge=e,this.ze=new Map,this.je=yi(),this.Je=Ad(),this.He=Ad(),this.Ye=new pt(ke)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:ve(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach((r,i)=>{this.rt(i)&&n(i)})}st(e){const n=e.targetId,r=e.Ce.count,i=this.ot(n);if(i){const o=i.target;if(ey(o))if(r===0){const s=new de(o.path);this.et(n,s,nn.newNoDocument(s,xe.min()))}else We(r===1,20013,{expectedCount:r});else{const s=this._t(n);if(s!==r){const a=this.ut(e),l=a?this.ct(a,e,s):1;if(l!==0){this.it(n);const c=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,c)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=n;let s,a;try{s=Co(r).toUint8Array()}catch(l){if(l instanceof lA)return Fa("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new aw(s,i,o)}catch(l){return Fa(l instanceof oc?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.ge===0?null:a}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let i=0;return r.forEach(o=>{const s=this.Ge.ht(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.et(n,o,null),i++)}),i}Tt(e){const n=new Map;this.ze.forEach((o,s)=>{const a=this.ot(s);if(a){if(o.current&&ey(a.target)){const l=new de(a.target.path);this.It(l).has(s)||this.Et(s,l)||this.et(s,l,nn.newNoDocument(l,e))}o.Be&&(n.set(s,o.ke()),o.qe())}});let r=Ne();this.He.forEach((o,s)=>{let a=!0;s.forEachWhile(l=>{const c=this.ot(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(o))}),this.je.forEach((o,s)=>s.setReadTime(e));const i=new up(e,n,this.Ye,this.je,r);return this.je=yi(),this.Je=Ad(),this.He=Ad(),this.Ye=new pt(ke),i}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const i=this.nt(e);this.Et(e,n)?i.Qe(n,1):i.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new ib,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new Nt(ke),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new Nt(ke),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||te("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new ib),this.Ge.getRemoteKeysForTarget(e).forEach(n=>{this.et(e,n,null)})}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Ad(){return new pt(de.comparator)}function ob(){return new pt(de.comparator)}const wF=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),_F=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),xF=(()=>({and:"AND",or:"OR"}))();class EF{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function ry(t,e){return t.useProto3Json||ip(e)?e:{value:e}}function ih(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function FA(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function bF(t,e){return ih(t,e.toTimestamp())}function Nr(t){return We(!!t,49232),xe.fromTimestamp(function(n){const r=To(n);return new it(r.seconds,r.nanos)}(t))}function lw(t,e){return iy(t,e).canonicalString()}function iy(t,e){const n=function(i){return new Qe(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function $A(t){const e=Qe.fromString(t);return We(HA(e),10190,{key:e.toString()}),e}function oy(t,e){return lw(t.databaseId,e.path)}function tg(t,e){const n=$A(e);if(n.get(1)!==t.databaseId.projectId)throw new Z(H.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Z(H.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new de(BA(n))}function UA(t,e){return lw(t.databaseId,e)}function TF(t){const e=$A(t);return e.length===4?Qe.emptyPath():BA(e)}function sy(t){return new Qe(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function BA(t){return We(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function sb(t,e,n){return{name:oy(t,e),fields:n.value.mapValue.fields}}function CF(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:ve(39313,{state:c})}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(c,u){return c.useProto3Json?(We(u===void 0||typeof u=="string",58123),qt.fromBase64String(u||"")):(We(u===void 0||u instanceof Buffer||u instanceof Uint8Array,16193),qt.fromUint8Array(u||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(c){const u=c.code===void 0?H.UNKNOWN:LA(c.code);return new Z(u,c.message||"")}(s);n=new jA(r,i,o,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=tg(t,r.document.name),o=Nr(r.document.updateTime),s=r.document.createTime?Nr(r.document.createTime):xe.min(),a=new wn({mapValue:{fields:r.document.fields}}),l=nn.newFoundDocument(i,o,s,a),c=r.targetIds||[],u=r.removedTargetIds||[];n=new df(c,u,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=tg(t,r.document),o=r.readTime?Nr(r.readTime):xe.min(),s=nn.newNoDocument(i,o),a=r.removedTargetIds||[];n=new df([],a,s.key,s)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=tg(t,r.document),o=r.removedTargetIds||[];n=new df([],o,i,null)}else{if(!("filter"in e))return ve(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:o}=r,s=new pF(i,o),a=r.targetId;n=new VA(a,s)}}return n}function SF(t,e){let n;if(e instanceof Cu)n={update:sb(t,e.key,e.value)};else if(e instanceof ow)n={delete:oy(t,e.key)};else if(e instanceof Fo)n={update:sb(t,e.key,e.data),updateMask:OF(e.fieldMask)};else{if(!(e instanceof dF))return ve(16599,{Vt:e.type});n={verify:oy(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(o,s){const a=s.transform;if(a instanceof nh)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof tu)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof nu)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof rh)return{fieldPath:s.field.canonicalString(),increment:a.Ae};throw ve(20930,{transform:s.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:bF(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:ve(27497)}(t,e.precondition)),n}function PF(t,e){return t&&t.length>0?(We(e!==void 0,14353),t.map(n=>function(i,o){let s=i.updateTime?Nr(i.updateTime):Nr(o);return s.isEqual(xe.min())&&(s=Nr(o)),new lF(s,i.transformResults||[])}(n,e))):[]}function IF(t,e){return{documents:[UA(t,e.path)]}}function AF(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=UA(t,i);const o=function(c){if(c.length!==0)return zA(dr.create(c,"and"))}(e.filters);o&&(n.structuredQuery.where=o);const s=function(c){if(c.length!==0)return c.map(u=>function(h){return{field:Xs(h.field),direction:NF(h.dir)}}(u))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const a=ry(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{ft:n,parent:i}}function RF(t){let e=TF(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){We(r===1,65062);const u=n.from[0];u.allDescendants?i=u.collectionId:e=e.child(u.collectionId)}let o=[];n.where&&(o=function(f){const h=WA(f);return h instanceof dr&&wA(h)?h.getFilters():[h]}(n.where));let s=[];n.orderBy&&(s=function(f){return f.map(h=>function(w){return new th(Js(w.field),function(E){switch(E){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(w.direction))}(h))}(n.orderBy));let a=null;n.limit&&(a=function(f){let h;return h=typeof f=="object"?f.value:f,ip(h)?null:h}(n.limit));let l=null;n.startAt&&(l=function(f){const h=!!f.before,g=f.values||[];return new eh(g,h)}(n.startAt));let c=null;return n.endAt&&(c=function(f){const h=!f.before,g=f.values||[];return new eh(g,h)}(n.endAt)),K3(e,i,s,o,a,"F",l,c)}function kF(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ve(28987,{purpose:i})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function WA(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Js(n.unaryFilter.field);return Pt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Js(n.unaryFilter.field);return Pt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Js(n.unaryFilter.field);return Pt.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=Js(n.unaryFilter.field);return Pt.create(s,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ve(61313);default:return ve(60726)}}(t):t.fieldFilter!==void 0?function(n){return Pt.create(Js(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ve(58110);default:return ve(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return dr.create(n.compositeFilter.filters.map(r=>WA(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return ve(1026)}}(n.compositeFilter.op))}(t):ve(30097,{filter:t})}function NF(t){return wF[t]}function DF(t){return _F[t]}function MF(t){return xF[t]}function Xs(t){return{fieldPath:t.canonicalString()}}function Js(t){return Bt.fromServerFormat(t.fieldPath)}function zA(t){return t instanceof Pt?function(n){if(n.op==="=="){if(GE(n.value))return{unaryFilter:{field:Xs(n.field),op:"IS_NAN"}};if(qE(n.value))return{unaryFilter:{field:Xs(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(GE(n.value))return{unaryFilter:{field:Xs(n.field),op:"IS_NOT_NAN"}};if(qE(n.value))return{unaryFilter:{field:Xs(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Xs(n.field),op:DF(n.op),value:n.value}}}(t):t instanceof dr?function(n){const r=n.getFilters().map(i=>zA(i));return r.length===1?r[0]:{compositeFilter:{op:MF(n.op),filters:r}}}(t):ve(54877,{filter:t})}function OF(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function HA(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zi{constructor(e,n,r,i,o=xe.min(),s=xe.min(),a=qt.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new Zi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Zi(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Zi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Zi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LF{constructor(e){this.yt=e}}function VF(t){const e=RF({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?ny(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jF{constructor(){this.Cn=new FF}addToCollectionParentIndex(e,n){return this.Cn.add(n),q.resolve()}getCollectionParents(e,n){return q.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return q.resolve()}deleteFieldIndex(e,n){return q.resolve()}deleteAllFieldIndexes(e){return q.resolve()}createTargetIndexes(e,n){return q.resolve()}getDocumentsMatchingTarget(e,n){return q.resolve(null)}getIndexType(e,n){return q.resolve(0)}getFieldIndexes(e,n){return q.resolve([])}getNextCollectionGroupToUpdate(e){return q.resolve(null)}getMinOffset(e,n){return q.resolve(bo.min())}getMinOffsetFromCollectionGroup(e,n){return q.resolve(bo.min())}updateCollectionGroup(e,n,r){return q.resolve()}updateIndexEntries(e,n){return q.resolve()}}class FF{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Nt(Qe.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Nt(Qe.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ab={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},qA=41943040;class vn{static withCacheSize(e){return new vn(e,vn.DEFAULT_COLLECTION_PERCENTILE,vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */vn.DEFAULT_COLLECTION_PERCENTILE=10,vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,vn.DEFAULT=new vn(qA,vn.DEFAULT_COLLECTION_PERCENTILE,vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),vn.DISABLED=new vn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wa{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Wa(0)}static cr(){return new Wa(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lb="LruGarbageCollector",$F=1048576;function cb([t,e],[n,r]){const i=ke(t,n);return i===0?ke(e,r):i}class UF{constructor(e){this.Ir=e,this.buffer=new Nt(cb),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();cb(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class BF{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){te(lb,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){dl(n)?te(lb,"Ignoring IndexedDB error during garbage collection: ",n):await ul(n)}await this.Vr(3e5)})}}class WF{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return q.resolve(rp.ce);const r=new UF(n);return this.mr.forEachTarget(e,i=>r.Ar(i.sequenceNumber)).next(()=>this.mr.pr(e,i=>r.Ar(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(te("LruGarbageCollector","Garbage collection skipped; disabled"),q.resolve(ab)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(te("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),ab):this.yr(e,n))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,i,o,s,a,l,c;const u=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(f=>(f>this.params.maximumSequenceNumbersToCollect?(te("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${f}`),i=this.params.maximumSequenceNumbersToCollect):i=f,s=Date.now(),this.nthSequenceNumber(e,i))).next(f=>(r=f,a=Date.now(),this.removeTargets(e,r,n))).next(f=>(o=f,l=Date.now(),this.removeOrphanedDocuments(e,r))).next(f=>(c=Date.now(),Ks()<=Re.DEBUG&&te("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-u}ms
	Determined least recently used ${i} in `+(a-s)+`ms
	Removed ${o} targets in `+(l-a)+`ms
	Removed ${f} documents in `+(c-l)+`ms
Total Duration: ${c-u}ms`),q.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:f})))}}function zF(t,e){return new WF(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HF{constructor(){this.changes=new As(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,nn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?q.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qF{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GF{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&xc(r.mutation,i,Dn.empty(),it.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Ne()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Ne()){const i=is();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(o=>{let s=ic();return o.forEach((a,l)=>{s=s.insert(a,l.overlayedDocument)}),s}))}getOverlayedDocuments(e,n){const r=is();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Ne()))}populateOverlays(e,n,r){const i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{n.set(s,a)})})}computeViews(e,n,r,i){let o=yi();const s=_c(),a=function(){return _c()}();return n.forEach((l,c)=>{const u=r.get(c.key);i.has(c.key)&&(u===void 0||u.mutation instanceof Fo)?o=o.insert(c.key,c):u!==void 0?(s.set(c.key,u.mutation.getFieldMask()),xc(u.mutation,c,u.mutation.getFieldMask(),it.now())):s.set(c.key,Dn.empty())}),this.recalculateAndSaveOverlays(e,o).next(l=>(l.forEach((c,u)=>s.set(c,u)),n.forEach((c,u)=>a.set(c,new qF(u,s.get(c)??null))),a))}recalculateAndSaveOverlays(e,n){const r=_c();let i=new pt((s,a)=>s-a),o=Ne();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(s=>{for(const a of s)a.keys().forEach(l=>{const c=n.get(l);if(c===null)return;let u=r.get(l)||Dn.empty();u=a.applyToLocalView(c,u),r.set(l,u);const f=(i.get(a.batchId)||Ne()).add(l);i=i.insert(a.batchId,f)})}).next(()=>{const s=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),c=l.key,u=l.value,f=IA();u.forEach(h=>{if(!o.has(h)){const g=MA(n.get(h),r.get(h));g!==null&&f.set(h,g),o=o.add(h)}}),s.push(this.documentOverlayCache.saveOverlays(e,c,f))}return q.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(s){return de.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):bA(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(o=>{const s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):q.resolve(is());let a=Xc,l=o;return s.next(c=>q.forEach(c,(u,f)=>(a<f.largestBatchId&&(a=f.largestBatchId),o.get(u)?q.resolve():this.remoteDocumentCache.getEntry(e,u).next(h=>{l=l.insert(u,h)}))).next(()=>this.populateOverlays(e,c,o)).next(()=>this.computeViews(e,l,c,Ne())).next(u=>({batchId:a,changes:PA(u)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new de(n)).next(r=>{let i=ic();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const o=n.collectionGroup;let s=ic();return this.indexManager.getCollectionParents(e,o).next(a=>q.forEach(a,l=>{const c=function(f,h){return new Tu(h,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,l.child(o));return this.getDocumentsMatchingCollectionQuery(e,c,r,i).next(u=>{u.forEach((f,h)=>{s=s.insert(f,h)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,i))).next(s=>{o.forEach((l,c)=>{const u=c.getKey();s.get(u)===null&&(s=s.insert(u,nn.newInvalidDocument(u)))});let a=ic();return s.forEach((l,c)=>{const u=o.get(l);u!==void 0&&xc(u.mutation,c,Dn.empty(),it.now()),ap(n,c)&&(a=a.insert(l,c))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YF{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return q.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Nr(i.createTime)}}(n)),q.resolve()}getNamedQuery(e,n){return q.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,function(i){return{name:i.name,query:VF(i.bundledQuery),readTime:Nr(i.readTime)}}(n)),q.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KF{constructor(){this.overlays=new pt(de.comparator),this.qr=new Map}getOverlay(e,n){return q.resolve(this.overlays.get(n))}getOverlays(e,n){const r=is();return q.forEach(n,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,o)=>{this.St(e,n,o)}),q.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.qr.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.qr.delete(r)),q.resolve()}getOverlaysForCollection(e,n,r){const i=is(),o=n.length+1,s=new de(n.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){const l=a.getNext().value,c=l.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===o&&l.largestBatchId>r&&i.set(l.getKey(),l)}return q.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new pt((c,u)=>c-u);const s=this.overlays.getIterator();for(;s.hasNext();){const c=s.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let u=o.get(c.largestBatchId);u===null&&(u=is(),o=o.insert(c.largestBatchId,u)),u.set(c.getKey(),c)}}const a=is(),l=o.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,u)=>a.set(c,u)),!(a.size()>=i)););return q.resolve(a)}St(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const s=this.qr.get(i.largestBatchId).delete(r.key);this.qr.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new hF(n,r));let o=this.qr.get(n);o===void 0&&(o=Ne(),this.qr.set(n,o)),this.qr.set(n,o.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QF{constructor(){this.sessionToken=qt.EMPTY_BYTE_STRING}getSessionToken(e){return q.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,q.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cw{constructor(){this.Qr=new Nt(Mt.$r),this.Ur=new Nt(Mt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new Mt(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Gr(new Mt(e,n))}zr(e,n){e.forEach(r=>this.removeReference(r,n))}jr(e){const n=new de(new Qe([])),r=new Mt(n,e),i=new Mt(n,e+1),o=[];return this.Ur.forEachInRange([r,i],s=>{this.Gr(s),o.push(s.key)}),o}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new de(new Qe([])),r=new Mt(n,e),i=new Mt(n,e+1);let o=Ne();return this.Ur.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){const n=new Mt(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Mt{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return de.comparator(e.key,n.key)||ke(e.Yr,n.Yr)}static Kr(e,n){return ke(e.Yr,n.Yr)||de.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XF{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Nt(Mt.$r)}checkEmpty(e){return q.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const o=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new fF(o,n,r,i);this.mutationQueue.push(s);for(const a of i)this.Zr=this.Zr.add(new Mt(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return q.resolve(s)}lookupMutationBatch(e,n){return q.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.ei(r),o=i<0?0:i;return q.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return q.resolve(this.mutationQueue.length===0?J0:this.tr-1)}getAllMutationBatches(e){return q.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Mt(n,0),i=new Mt(n,Number.POSITIVE_INFINITY),o=[];return this.Zr.forEachInRange([r,i],s=>{const a=this.Xr(s.Yr);o.push(a)}),q.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Nt(ke);return n.forEach(i=>{const o=new Mt(i,0),s=new Mt(i,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([o,s],a=>{r=r.add(a.Yr)})}),q.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let o=r;de.isDocumentKey(o)||(o=o.child(""));const s=new Mt(new de(o),0);let a=new Nt(ke);return this.Zr.forEachWhile(l=>{const c=l.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(a=a.add(l.Yr)),!0)},s),q.resolve(this.ti(a))}ti(e){const n=[];return e.forEach(r=>{const i=this.Xr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){We(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return q.forEach(n.mutations,i=>{const o=new Mt(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Zr=r})}ir(e){}containsKey(e,n){const r=new Mt(n,0),i=this.Zr.firstAfterOrEqual(r);return q.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,q.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JF{constructor(e){this.ri=e,this.docs=function(){return new pt(de.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),o=i?i.size:0,s=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return q.resolve(r?r.document.mutableCopy():nn.newInvalidDocument(n))}getEntries(e,n){let r=yi();return n.forEach(i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():nn.newInvalidDocument(i))}),q.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=yi();const s=n.path,a=new de(s.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:c,value:{document:u}}=l.getNext();if(!s.isPrefixOf(c.path))break;c.path.length>s.length+1||I3(P3(u),r)<=0||(i.has(u.key)||ap(n,u))&&(o=o.insert(u.key,u.mutableCopy()))}return q.resolve(o)}getAllFromCollectionGroup(e,n,r,i){ve(9500)}ii(e,n){return q.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new ZF(this)}getSize(e){return q.resolve(this.size)}}class ZF extends HF{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.Nr.addEntry(e,i)):this.Nr.removeEntry(r)}),q.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e6{constructor(e){this.persistence=e,this.si=new As(n=>tw(n),nw),this.lastRemoteSnapshotVersion=xe.min(),this.highestTargetId=0,this.oi=0,this._i=new cw,this.targetCount=0,this.ai=Wa.ur()}forEachTarget(e,n){return this.si.forEach((r,i)=>n(i)),q.resolve()}getLastRemoteSnapshotVersion(e){return q.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return q.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),q.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),q.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new Wa(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,q.resolve()}updateTargetData(e,n){return this.Pr(n),q.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,q.resolve()}removeTargets(e,n,r){let i=0;const o=[];return this.si.forEach((s,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.si.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),q.waitFor(o).next(()=>i)}getTargetCount(e){return q.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return q.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),q.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),q.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),q.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return q.resolve(r)}containsKey(e,n){return q.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GA{constructor(e,n){this.ui={},this.overlays={},this.ci=new rp(0),this.li=!1,this.li=!0,this.hi=new QF,this.referenceDelegate=e(this),this.Pi=new e6(this),this.indexManager=new jF,this.remoteDocumentCache=function(i){return new JF(i)}(r=>this.referenceDelegate.Ti(r)),this.serializer=new LF(n),this.Ii=new YF(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new KF,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new XF(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){te("MemoryPersistence","Starting transaction:",e);const i=new t6(this.ci.next());return this.referenceDelegate.Ei(),r(i).next(o=>this.referenceDelegate.di(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Ai(e,n){return q.or(Object.values(this.ui).map(r=>()=>r.containsKey(e,n)))}}class t6 extends R3{constructor(e){super(),this.currentSequenceNumber=e}}class uw{constructor(e){this.persistence=e,this.Ri=new cw,this.Vi=null}static mi(e){return new uw(e)}get fi(){if(this.Vi)return this.Vi;throw ve(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),q.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),q.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),q.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach(i=>this.fi.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(o=>this.fi.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return q.forEach(this.fi,r=>{const i=de.fromPath(r);return this.gi(e,i).next(o=>{o||n.removeEntry(i,xe.min())})}).next(()=>(this.Vi=null,n.apply(e)))}updateLimboDocument(e,n){return this.gi(e,n).next(r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())})}Ti(e){return 0}gi(e,n){return q.or([()=>q.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class oh{constructor(e,n){this.persistence=e,this.pi=new As(r=>D3(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=zF(this,n)}static mi(e,n){return new oh(e,n)}Ei(){}di(e){return q.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}wr(e){let n=0;return this.pr(e,r=>{n++}).next(()=>n)}pr(e,n){return q.forEach(this.pi,(r,i)=>this.br(e,r,i).next(o=>o?q.resolve():n(i)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),o=i.newChangeBuffer();return i.ii(e,s=>this.br(e,s,n).next(a=>{a||(r++,o.removeEntry(s,xe.min()))})).next(()=>o.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),q.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),q.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),q.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),q.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=lf(e.data.value)),n}br(e,n,r){return q.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.pi.get(n);return q.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dw{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=i}static As(e,n){let r=Ne(),i=Ne();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new dw(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n6{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r6{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return K5()?8:k3(sn())>0?6:4}()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,i){const o={result:null};return this.ys(e,n).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.ws(e,n,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;const s=new n6;return this.Ss(e,n,s).next(a=>{if(o.result=a,this.Vs)return this.bs(e,n,s,a.size)})}).next(()=>o.result)}bs(e,n,r,i){return r.documentReadCount<this.fs?(Ks()<=Re.DEBUG&&te("QueryEngine","SDK will not create cache indexes for query:",Qs(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),q.resolve()):(Ks()<=Re.DEBUG&&te("QueryEngine","Query:",Qs(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.gs*i?(Ks()<=Re.DEBUG&&te("QueryEngine","The SDK decides to create cache indexes for query:",Qs(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,kr(n))):q.resolve())}ys(e,n){if(XE(n))return q.resolve(null);let r=kr(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=ny(n,null,"F"),r=kr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const s=Ne(...o);return this.ps.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const c=this.Ds(n,a);return this.Cs(n,c,s,l.readTime)?this.ys(e,ny(n,null,"F")):this.vs(e,c,n,l)}))})))}ws(e,n,r,i){return XE(n)||i.isEqual(xe.min())?q.resolve(null):this.ps.getDocuments(e,r).next(o=>{const s=this.Ds(n,o);return this.Cs(n,s,r,i)?q.resolve(null):(Ks()<=Re.DEBUG&&te("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Qs(n)),this.vs(e,s,n,S3(i,Xc)).next(a=>a))})}Ds(e,n){let r=new Nt(CA(e));return n.forEach((i,o)=>{ap(e,o)&&(r=r.add(o))}),r}Cs(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Ss(e,n,r){return Ks()<=Re.DEBUG&&te("QueryEngine","Using full collection scan to execute query:",Qs(n)),this.ps.getDocumentsMatchingQuery(e,n,bo.min(),r)}vs(e,n,r,i){return this.ps.getDocumentsMatchingQuery(e,r,i).next(o=>(n.forEach(s=>{o=o.insert(s.key,s)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fw="LocalStore",i6=3e8;class o6{constructor(e,n,r,i){this.persistence=e,this.Fs=n,this.serializer=i,this.Ms=new pt(ke),this.xs=new As(o=>tw(o),nw),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new GF(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ms))}}function s6(t,e,n,r){return new o6(t,e,n,r)}async function YA(t,e){const n=Ee(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n.Bs(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{const s=[],a=[];let l=Ne();for(const c of i){s.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}for(const c of o){a.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}return n.localDocuments.getDocuments(r,l).next(c=>({Ls:c,removedBatchIds:s,addedBatchIds:a}))})})}function a6(t,e){const n=Ee(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),o=n.Ns.newChangeBuffer({trackRemovals:!0});return function(a,l,c,u){const f=c.batch,h=f.keys();let g=q.resolve();return h.forEach(w=>{g=g.next(()=>u.getEntry(l,w)).next(v=>{const E=c.docVersions.get(w);We(E!==null,48541),v.version.compareTo(E)<0&&(f.applyToRemoteDocument(v,c),v.isValidDocument()&&(v.setReadTime(c.commitVersion),u.addEntry(v)))})}),g.next(()=>a.mutationQueue.removeMutationBatch(l,f))}(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=Ne();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(l=l.add(a.batch.mutations[c].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function KA(t){const e=Ee(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Pi.getLastRemoteSnapshotVersion(n))}function l6(t,e){const n=Ee(t),r=e.snapshotVersion;let i=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const s=n.Ns.newChangeBuffer({trackRemovals:!0});i=n.Ms;const a=[];e.targetChanges.forEach((u,f)=>{const h=i.get(f);if(!h)return;a.push(n.Pi.removeMatchingKeys(o,u.removedDocuments,f).next(()=>n.Pi.addMatchingKeys(o,u.addedDocuments,f)));let g=h.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(f)!==null?g=g.withResumeToken(qt.EMPTY_BYTE_STRING,xe.min()).withLastLimboFreeSnapshotVersion(xe.min()):u.resumeToken.approximateByteSize()>0&&(g=g.withResumeToken(u.resumeToken,r)),i=i.insert(f,g),function(v,E,_){return v.resumeToken.approximateByteSize()===0||E.snapshotVersion.toMicroseconds()-v.snapshotVersion.toMicroseconds()>=i6?!0:_.addedDocuments.size+_.modifiedDocuments.size+_.removedDocuments.size>0}(h,g,u)&&a.push(n.Pi.updateTargetData(o,g))});let l=yi(),c=Ne();if(e.documentUpdates.forEach(u=>{e.resolvedLimboDocuments.has(u)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(o,u))}),a.push(c6(o,s,e.documentUpdates).next(u=>{l=u.ks,c=u.qs})),!r.isEqual(xe.min())){const u=n.Pi.getLastRemoteSnapshotVersion(o).next(f=>n.Pi.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(u)}return q.waitFor(a).next(()=>s.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,l,c)).next(()=>l)}).then(o=>(n.Ms=i,o))}function c6(t,e,n){let r=Ne(),i=Ne();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let s=yi();return n.forEach((a,l)=>{const c=o.get(a);l.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(xe.min())?(e.removeEntry(a,l.readTime),s=s.insert(a,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(l),s=s.insert(a,l)):te(fw,"Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",l.version)}),{ks:s,qs:i}})}function u6(t,e){const n=Ee(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=J0),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function d6(t,e){const n=Ee(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Pi.getTargetData(r,e).next(o=>o?(i=o,q.resolve(i)):n.Pi.allocateTargetId(r).next(s=>(i=new Zi(e,s,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.Ms.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r})}async function ay(t,e,n){const r=Ee(t),i=r.Ms.get(e),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i))}catch(s){if(!dl(s))throw s;te(fw,`Failed to update sequence numbers for target ${e}: ${s}`)}r.Ms=r.Ms.remove(e),r.xs.delete(i.target)}function ub(t,e,n){const r=Ee(t);let i=xe.min(),o=Ne();return r.persistence.runTransaction("Execute query","readwrite",s=>function(l,c,u){const f=Ee(l),h=f.xs.get(u);return h!==void 0?q.resolve(f.Ms.get(h)):f.Pi.getTargetData(c,u)}(r,s,kr(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(s,a.targetId).next(l=>{o=l})}).next(()=>r.Fs.getDocumentsMatchingQuery(s,e,n?i:xe.min(),n?o:Ne())).next(a=>(f6(r,X3(e),a),{documents:a,Qs:o})))}function f6(t,e,n){let r=t.Os.get(e)||xe.min();n.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.Os.set(e,r)}class db{constructor(){this.activeTargetIds=rF()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class h6{constructor(){this.Mo=new db,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new db,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p6{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fb="ConnectivityMonitor";class hb{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){te(fb,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){te(fb,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Rd=null;function ly(){return Rd===null?Rd=function(){return 268435456+Math.round(2147483648*Math.random())}():Rd++,"0x"+Rd.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ng="RestConnection",m6={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class g6{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${i}`,this.Wo=this.databaseId.database===Jf?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Go(e,n,r,i,o){const s=ly(),a=this.zo(e,n.toUriEncodedString());te(ng,`Sending RPC '${e}' ${s}:`,a,r);const l={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(l,i,o);const{host:c}=new URL(a),u=al(c);return this.Jo(e,a,l,r,u).then(f=>(te(ng,`Received RPC '${e}' ${s}: `,f),f),f=>{throw Fa(ng,`RPC '${e}' ${s} failed with error: `,f,"url: ",a,"request:",r),f})}Ho(e,n,r,i,o,s){return this.Go(e,n,r,i,o)}jo(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+cl}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,o)=>e[o]=i),r&&r.headers.forEach((i,o)=>e[o]=i)}zo(e,n){const r=m6[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v6{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jt="WebChannelConnection";class y6 extends g6{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,i,o){const s=ly();return new Promise((a,l)=>{const c=new XI;c.setWithCredentials(!0),c.listenOnce(JI.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case af.NO_ERROR:const f=c.getResponseJson();te(Jt,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(f)),a(f);break;case af.TIMEOUT:te(Jt,`RPC '${e}' ${s} timed out`),l(new Z(H.DEADLINE_EXCEEDED,"Request time out"));break;case af.HTTP_ERROR:const h=c.getStatus();if(te(Jt,`RPC '${e}' ${s} failed with status:`,h,"response text:",c.getResponseText()),h>0){let g=c.getResponseJson();Array.isArray(g)&&(g=g[0]);const w=g==null?void 0:g.error;if(w&&w.status&&w.message){const v=function(_){const y=_.toLowerCase().replace(/_/g,"-");return Object.values(H).indexOf(y)>=0?y:H.UNKNOWN}(w.status);l(new Z(v,w.message))}else l(new Z(H.UNKNOWN,"Server responded with status "+c.getStatus()))}else l(new Z(H.UNAVAILABLE,"Connection failed."));break;default:ve(9055,{l_:e,streamId:s,h_:c.getLastErrorCode(),P_:c.getLastError()})}}finally{te(Jt,`RPC '${e}' ${s} completed.`)}});const u=JSON.stringify(i);te(Jt,`RPC '${e}' ${s} sending request:`,i),c.send(n,"POST",u,r,15)})}T_(e,n,r){const i=ly(),o=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=tA(),a=eA(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.useFetchStreams=!0),this.jo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const u=o.join("");te(Jt,`Creating RPC '${e}' stream ${i}: ${u}`,l);const f=s.createWebChannel(u,l);this.I_(f);let h=!1,g=!1;const w=new v6({Yo:E=>{g?te(Jt,`Not sending because RPC '${e}' stream ${i} is closed:`,E):(h||(te(Jt,`Opening RPC '${e}' stream ${i} transport.`),f.open(),h=!0),te(Jt,`RPC '${e}' stream ${i} sending:`,E),f.send(E))},Zo:()=>f.close()}),v=(E,_,y)=>{E.listen(_,b=>{try{y(b)}catch(I){setTimeout(()=>{throw I},0)}})};return v(f,rc.EventType.OPEN,()=>{g||(te(Jt,`RPC '${e}' stream ${i} transport opened.`),w.o_())}),v(f,rc.EventType.CLOSE,()=>{g||(g=!0,te(Jt,`RPC '${e}' stream ${i} transport closed`),w.a_(),this.E_(f))}),v(f,rc.EventType.ERROR,E=>{g||(g=!0,Fa(Jt,`RPC '${e}' stream ${i} transport errored. Name:`,E.name,"Message:",E.message),w.a_(new Z(H.UNAVAILABLE,"The operation could not be completed")))}),v(f,rc.EventType.MESSAGE,E=>{var _;if(!g){const y=E.data[0];We(!!y,16349);const b=y,I=(b==null?void 0:b.error)||((_=b[0])==null?void 0:_.error);if(I){te(Jt,`RPC '${e}' stream ${i} received error:`,I);const N=I.status;let O=function(P){const A=Tt[P];if(A!==void 0)return LA(A)}(N),S=I.message;O===void 0&&(O=H.INTERNAL,S="Unknown error status: "+N+" with message "+I.message),g=!0,w.a_(new Z(O,S)),f.close()}else te(Jt,`RPC '${e}' stream ${i} received:`,y),w.u_(y)}}),v(a,ZI.STAT_EVENT,E=>{E.stat===Kv.PROXY?te(Jt,`RPC '${e}' stream ${i} detected buffering proxy`):E.stat===Kv.NOPROXY&&te(Jt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{w.__()},0),w}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(n=>n===e)}}function rg(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dp(t){return new EF(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QA{constructor(e,n,r=1e3,i=1.5,o=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=i,this.R_=o,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),i=Math.max(0,n-r);i>0&&te("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,i,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pb="PersistentStream";class XA{constructor(e,n,r,i,o,s,a,l){this.Mi=e,this.S_=r,this.b_=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new QA(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===H.RESOURCE_EXHAUSTED?(gi(n.toString()),gi("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===H.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.D_===n&&this.G_(r,i)},r=>{e(()=>{const i=new Z(H.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(i)})})}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo(()=>{r(()=>this.listener.Xo())}),this.stream.t_(()=>{r(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(i=>{r(()=>this.z_(i))}),this.stream.onMessage(i=>{r(()=>++this.F_==1?this.J_(i):this.onNext(i))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return te(pb,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget(()=>this.D_===e?n():(te(pb,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class w6 extends XA{constructor(e,n,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=CF(this.serializer,e),r=function(o){if(!("targetChange"in o))return xe.min();const s=o.targetChange;return s.targetIds&&s.targetIds.length?xe.min():s.readTime?Nr(s.readTime):xe.min()}(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=sy(this.serializer),n.addTarget=function(o,s){let a;const l=s.target;if(a=ey(l)?{documents:IF(o,l)}:{query:AF(o,l).ft},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=FA(o,s.resumeToken);const c=ry(o,s.expectedCount);c!==null&&(a.expectedCount=c)}else if(s.snapshotVersion.compareTo(xe.min())>0){a.readTime=ih(o,s.snapshotVersion.toTimestamp());const c=ry(o,s.expectedCount);c!==null&&(a.expectedCount=c)}return a}(this.serializer,e);const r=kF(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=sy(this.serializer),n.removeTarget=e,this.q_(n)}}class _6 extends XA{constructor(e,n,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return We(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,We(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){We(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=PF(e.writeResults,e.commitTime),r=Nr(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=sy(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>SF(this.serializer,r))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x6{}class E6 extends x6{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new Z(H.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Go(e,iy(n,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===H.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Z(H.UNKNOWN,o.toString())})}Ho(e,n,r,i,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Ho(e,iy(n,r),i,s,a,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===H.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Z(H.UNKNOWN,s.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class b6{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(gi(n),this.aa=!1):te("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ys="RemoteStore";class T6{constructor(e,n,r,i,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=o,this.Aa.Oo(s=>{r.enqueueAndForget(async()=>{Rs(this)&&(te(ys,"Restarting streams for network reachability change."),await async function(l){const c=Ee(l);c.Ea.add(4),await Pu(c),c.Ra.set("Unknown"),c.Ea.delete(4),await fp(c)}(this))})}),this.Ra=new b6(r,i)}}async function fp(t){if(Rs(t))for(const e of t.da)await e(!0)}async function Pu(t){for(const e of t.da)await e(!1)}function JA(t,e){const n=Ee(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),gw(n)?mw(n):fl(n).O_()&&pw(n,e))}function hw(t,e){const n=Ee(t),r=fl(n);n.Ia.delete(e),r.O_()&&ZA(n,e),n.Ia.size===0&&(r.O_()?r.L_():Rs(n)&&n.Ra.set("Unknown"))}function pw(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(xe.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}fl(t).Y_(e)}function ZA(t,e){t.Va.Ue(e),fl(t).Z_(e)}function mw(t){t.Va=new yF({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),fl(t).start(),t.Ra.ua()}function gw(t){return Rs(t)&&!fl(t).x_()&&t.Ia.size>0}function Rs(t){return Ee(t).Ea.size===0}function eR(t){t.Va=void 0}async function C6(t){t.Ra.set("Online")}async function S6(t){t.Ia.forEach((e,n)=>{pw(t,e)})}async function P6(t,e){eR(t),gw(t)?(t.Ra.ha(e),mw(t)):t.Ra.set("Unknown")}async function I6(t,e,n){if(t.Ra.set("Online"),e instanceof jA&&e.state===2&&e.cause)try{await async function(i,o){const s=o.cause;for(const a of o.targetIds)i.Ia.has(a)&&(await i.remoteSyncer.rejectListen(a,s),i.Ia.delete(a),i.Va.removeTarget(a))}(t,e)}catch(r){te(ys,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await sh(t,r)}else if(e instanceof df?t.Va.Ze(e):e instanceof VA?t.Va.st(e):t.Va.tt(e),!n.isEqual(xe.min()))try{const r=await KA(t.localStore);n.compareTo(r)>=0&&await function(o,s){const a=o.Va.Tt(s);return a.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const u=o.Ia.get(c);u&&o.Ia.set(c,u.withResumeToken(l.resumeToken,s))}}),a.targetMismatches.forEach((l,c)=>{const u=o.Ia.get(l);if(!u)return;o.Ia.set(l,u.withResumeToken(qt.EMPTY_BYTE_STRING,u.snapshotVersion)),ZA(o,l);const f=new Zi(u.target,l,c,u.sequenceNumber);pw(o,f)}),o.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){te(ys,"Failed to raise snapshot:",r),await sh(t,r)}}async function sh(t,e,n){if(!dl(e))throw e;t.Ea.add(1),await Pu(t),t.Ra.set("Offline"),n||(n=()=>KA(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{te(ys,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await fp(t)})}function tR(t,e){return e().catch(n=>sh(t,n,e))}async function hp(t){const e=Ee(t),n=Po(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:J0;for(;A6(e);)try{const i=await u6(e.localStore,r);if(i===null){e.Ta.length===0&&n.L_();break}r=i.batchId,R6(e,i)}catch(i){await sh(e,i)}nR(e)&&rR(e)}function A6(t){return Rs(t)&&t.Ta.length<10}function R6(t,e){t.Ta.push(e);const n=Po(t);n.O_()&&n.X_&&n.ea(e.mutations)}function nR(t){return Rs(t)&&!Po(t).x_()&&t.Ta.length>0}function rR(t){Po(t).start()}async function k6(t){Po(t).ra()}async function N6(t){const e=Po(t);for(const n of t.Ta)e.ea(n.mutations)}async function D6(t,e,n){const r=t.Ta.shift(),i=sw.from(r,e,n);await tR(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await hp(t)}async function M6(t,e){e&&Po(t).X_&&await async function(r,i){if(function(s){return mF(s)&&s!==H.ABORTED}(i.code)){const o=r.Ta.shift();Po(r).B_(),await tR(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),await hp(r)}}(t,e),nR(t)&&rR(t)}async function mb(t,e){const n=Ee(t);n.asyncQueue.verifyOperationInProgress(),te(ys,"RemoteStore received new credentials");const r=Rs(n);n.Ea.add(3),await Pu(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await fp(n)}async function O6(t,e){const n=Ee(t);e?(n.Ea.delete(2),await fp(n)):e||(n.Ea.add(2),await Pu(n),n.Ra.set("Unknown"))}function fl(t){return t.ma||(t.ma=function(n,r,i){const o=Ee(n);return o.sa(),new w6(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Xo:C6.bind(null,t),t_:S6.bind(null,t),r_:P6.bind(null,t),H_:I6.bind(null,t)}),t.da.push(async e=>{e?(t.ma.B_(),gw(t)?mw(t):t.Ra.set("Unknown")):(await t.ma.stop(),eR(t))})),t.ma}function Po(t){return t.fa||(t.fa=function(n,r,i){const o=Ee(n);return o.sa(),new _6(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:k6.bind(null,t),r_:M6.bind(null,t),ta:N6.bind(null,t),na:D6.bind(null,t)}),t.da.push(async e=>{e?(t.fa.B_(),await hp(t)):(await t.fa.stop(),t.Ta.length>0&&(te(ys,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))})),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vw{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new si,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){const s=Date.now()+r,a=new vw(e,n,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Z(H.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function yw(t,e){if(gi("AsyncQueue",`${e}: ${t}`),dl(t))return new Z(H.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ba{static emptySet(e){return new ba(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||de.comparator(n.key,r.key):(n,r)=>de.comparator(n.key,r.key),this.keyedMap=ic(),this.sortedSet=new pt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof ba)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new ba;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gb{constructor(){this.ga=new pt(de.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):ve(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal((n,r)=>{e.push(r)}),e}}class za{constructor(e,n,r,i,o,s,a,l,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,i,o){const s=[];return n.forEach(a=>{s.push({type:0,doc:a})}),new za(e,n,ba.emptySet(n),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&sp(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L6{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class V6{constructor(){this.queries=vb(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const i=Ee(n),o=i.queries;i.queries=vb(),o.forEach((s,a)=>{for(const l of a.Sa)l.onError(r)})})(this,new Z(H.ABORTED,"Firestore shutting down"))}}function vb(){return new As(t=>TA(t),sp)}async function iR(t,e){const n=Ee(t);let r=3;const i=e.query;let o=n.queries.get(i);o?!o.ba()&&e.Da()&&(r=2):(o=new L6,r=e.Da()?0:1);try{switch(r){case 0:o.wa=await n.onListen(i,!0);break;case 1:o.wa=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(s){const a=yw(s,`Initialization of query '${Qs(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,o),o.Sa.push(e),e.va(n.onlineState),o.wa&&e.Fa(o.wa)&&ww(n)}async function oR(t,e){const n=Ee(t),r=e.query;let i=3;const o=n.queries.get(r);if(o){const s=o.Sa.indexOf(e);s>=0&&(o.Sa.splice(s,1),o.Sa.length===0?i=e.Da()?0:1:!o.ba()&&e.Da()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function j6(t,e){const n=Ee(t);let r=!1;for(const i of e){const o=i.query,s=n.queries.get(o);if(s){for(const a of s.Sa)a.Fa(i)&&(r=!0);s.wa=i}}r&&ww(n)}function F6(t,e,n){const r=Ee(t),i=r.queries.get(e);if(i)for(const o of i.Sa)o.onError(n);r.queries.delete(e)}function ww(t){t.Ca.forEach(e=>{e.next()})}var cy,yb;(yb=cy||(cy={})).Ma="default",yb.Cache="cache";class sR{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new za(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=za.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==cy.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aR{constructor(e){this.key=e}}class lR{constructor(e){this.key=e}}class $6{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Ne(),this.mutatedKeys=Ne(),this.eu=CA(e),this.tu=new ba(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new gb,i=n?n.tu:this.tu;let o=n?n.mutatedKeys:this.mutatedKeys,s=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,c=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((u,f)=>{const h=i.get(u),g=ap(this.query,f)?f:null,w=!!h&&this.mutatedKeys.has(h.key),v=!!g&&(g.hasLocalMutations||this.mutatedKeys.has(g.key)&&g.hasCommittedMutations);let E=!1;h&&g?h.data.isEqual(g.data)?w!==v&&(r.track({type:3,doc:g}),E=!0):this.su(h,g)||(r.track({type:2,doc:g}),E=!0,(l&&this.eu(g,l)>0||c&&this.eu(g,c)<0)&&(a=!0)):!h&&g?(r.track({type:0,doc:g}),E=!0):h&&!g&&(r.track({type:1,doc:h}),E=!0,(l||c)&&(a=!0)),E&&(g?(s=s.add(g),o=v?o.add(u):o.delete(u)):(s=s.delete(u),o=o.delete(u)))}),this.query.limit!==null)for(;s.size>this.query.limit;){const u=this.query.limitType==="F"?s.last():s.first();s=s.delete(u.key),o=o.delete(u.key),r.track({type:1,doc:u})}return{tu:s,iu:r,Cs:a,mutatedKeys:o}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const o=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const s=e.iu.ya();s.sort((u,f)=>function(g,w){const v=E=>{switch(E){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ve(20277,{Rt:E})}};return v(g)-v(w)}(u.type,f.type)||this.eu(u.doc,f.doc)),this.ou(r),i=i??!1;const a=n&&!i?this._u():[],l=this.Xa.size===0&&this.current&&!i?1:0,c=l!==this.Za;return this.Za=l,s.length!==0||c?{snapshot:new za(this.query,e.tu,o,s,e.mutatedKeys,l===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:a}:{au:a}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new gb,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(n=>this.Ya=this.Ya.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ya=this.Ya.delete(n)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Ne(),this.tu.forEach(r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))});const n=[];return e.forEach(r=>{this.Xa.has(r)||n.push(new lR(r))}),this.Xa.forEach(r=>{e.has(r)||n.push(new aR(r))}),n}cu(e){this.Ya=e.Qs,this.Xa=Ne();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return za.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const _w="SyncEngine";class U6{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class B6{constructor(e){this.key=e,this.hu=!1}}class W6{constructor(e,n,r,i,o,s){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.Pu={},this.Tu=new As(a=>TA(a),sp),this.Iu=new Map,this.Eu=new Set,this.du=new pt(de.comparator),this.Au=new Map,this.Ru=new cw,this.Vu={},this.mu=new Map,this.fu=Wa.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function z6(t,e,n=!0){const r=pR(t);let i;const o=r.Tu.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.lu()):i=await cR(r,e,n,!0),i}async function H6(t,e){const n=pR(t);await cR(n,e,!0,!1)}async function cR(t,e,n,r){const i=await d6(t.localStore,kr(e)),o=i.targetId,s=t.sharedClientState.addLocalQueryTarget(o,n);let a;return r&&(a=await q6(t,e,o,s==="current",i.resumeToken)),t.isPrimaryClient&&n&&JA(t.remoteStore,i),a}async function q6(t,e,n,r,i){t.pu=(f,h,g)=>async function(v,E,_,y){let b=E.view.ru(_);b.Cs&&(b=await ub(v.localStore,E.query,!1).then(({documents:S})=>E.view.ru(S,b)));const I=y&&y.targetChanges.get(E.targetId),N=y&&y.targetMismatches.get(E.targetId)!=null,O=E.view.applyChanges(b,v.isPrimaryClient,I,N);return _b(v,E.targetId,O.au),O.snapshot}(t,f,h,g);const o=await ub(t.localStore,e,!0),s=new $6(e,o.Qs),a=s.ru(o.documents),l=Su.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),c=s.applyChanges(a,t.isPrimaryClient,l);_b(t,n,c.au);const u=new U6(e,n,s);return t.Tu.set(e,u),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),c.snapshot}async function G6(t,e,n){const r=Ee(t),i=r.Tu.get(e),o=r.Iu.get(i.targetId);if(o.length>1)return r.Iu.set(i.targetId,o.filter(s=>!sp(s,e))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await ay(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&hw(r.remoteStore,i.targetId),uy(r,i.targetId)}).catch(ul)):(uy(r,i.targetId),await ay(r.localStore,i.targetId,!0))}async function Y6(t,e){const n=Ee(t),r=n.Tu.get(e),i=n.Iu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),hw(n.remoteStore,r.targetId))}async function K6(t,e,n){const r=n$(t);try{const i=await function(s,a){const l=Ee(s),c=it.now(),u=a.reduce((g,w)=>g.add(w.key),Ne());let f,h;return l.persistence.runTransaction("Locally write mutations","readwrite",g=>{let w=yi(),v=Ne();return l.Ns.getEntries(g,u).next(E=>{w=E,w.forEach((_,y)=>{y.isValidDocument()||(v=v.add(_))})}).next(()=>l.localDocuments.getOverlayedDocuments(g,w)).next(E=>{f=E;const _=[];for(const y of a){const b=uF(y,f.get(y.key).overlayedDocument);b!=null&&_.push(new Fo(y.key,b,gA(b.value.mapValue),cr.exists(!0)))}return l.mutationQueue.addMutationBatch(g,c,_,a)}).next(E=>{h=E;const _=E.applyToLocalDocumentSet(f,v);return l.documentOverlayCache.saveOverlays(g,E.batchId,_)})}).then(()=>({batchId:h.batchId,changes:PA(f)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,a,l){let c=s.Vu[s.currentUser.toKey()];c||(c=new pt(ke)),c=c.insert(a,l),s.Vu[s.currentUser.toKey()]=c}(r,i.batchId,n),await Iu(r,i.changes),await hp(r.remoteStore)}catch(i){const o=yw(i,"Failed to persist write");n.reject(o)}}async function uR(t,e){const n=Ee(t);try{const r=await l6(n.localStore,e);e.targetChanges.forEach((i,o)=>{const s=n.Au.get(o);s&&(We(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?s.hu=!0:i.modifiedDocuments.size>0?We(s.hu,14607):i.removedDocuments.size>0&&(We(s.hu,42227),s.hu=!1))}),await Iu(n,r,e)}catch(r){await ul(r)}}function wb(t,e,n){const r=Ee(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Tu.forEach((o,s)=>{const a=s.view.va(e);a.snapshot&&i.push(a.snapshot)}),function(s,a){const l=Ee(s);l.onlineState=a;let c=!1;l.queries.forEach((u,f)=>{for(const h of f.Sa)h.va(a)&&(c=!0)}),c&&ww(l)}(r.eventManager,e),i.length&&r.Pu.H_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function Q6(t,e,n){const r=Ee(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Au.get(e),o=i&&i.key;if(o){let s=new pt(de.comparator);s=s.insert(o,nn.newNoDocument(o,xe.min()));const a=Ne().add(o),l=new up(xe.min(),new Map,new pt(ke),s,a);await uR(r,l),r.du=r.du.remove(o),r.Au.delete(e),xw(r)}else await ay(r.localStore,e,!1).then(()=>uy(r,e,n)).catch(ul)}async function X6(t,e){const n=Ee(t),r=e.batch.batchId;try{const i=await a6(n.localStore,e);fR(n,r,null),dR(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Iu(n,i)}catch(i){await ul(i)}}async function J6(t,e,n){const r=Ee(t);try{const i=await function(s,a){const l=Ee(s);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let u;return l.mutationQueue.lookupMutationBatch(c,a).next(f=>(We(f!==null,37113),u=f.keys(),l.mutationQueue.removeMutationBatch(c,f))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,u,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,u)).next(()=>l.localDocuments.getDocuments(c,u))})}(r.localStore,e);fR(r,e,n),dR(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Iu(r,i)}catch(i){await ul(i)}}function dR(t,e){(t.mu.get(e)||[]).forEach(n=>{n.resolve()}),t.mu.delete(e)}function fR(t,e,n){const r=Ee(t);let i=r.Vu[r.currentUser.toKey()];if(i){const o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.Vu[r.currentUser.toKey()]=i}}function uy(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach(r=>{t.Ru.containsKey(r)||hR(t,r)})}function hR(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(hw(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),xw(t))}function _b(t,e,n){for(const r of n)r instanceof aR?(t.Ru.addReference(r.key,e),Z6(t,r)):r instanceof lR?(te(_w,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||hR(t,r.key)):ve(19791,{wu:r})}function Z6(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(te(_w,"New document in limbo: "+n),t.Eu.add(r),xw(t))}function xw(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new de(Qe.fromString(e)),r=t.fu.next();t.Au.set(r,new B6(n)),t.du=t.du.insert(n,r),JA(t.remoteStore,new Zi(kr(rw(n.path)),r,"TargetPurposeLimboResolution",rp.ce))}}async function Iu(t,e,n){const r=Ee(t),i=[],o=[],s=[];r.Tu.isEmpty()||(r.Tu.forEach((a,l)=>{s.push(r.pu(l,e,n).then(c=>{var u;if((c||n)&&r.isPrimaryClient){const f=c?!c.fromCache:(u=n==null?void 0:n.targetChanges.get(l.targetId))==null?void 0:u.current;r.sharedClientState.updateQueryState(l.targetId,f?"current":"not-current")}if(c){i.push(c);const f=dw.As(l.targetId,c);o.push(f)}}))}),await Promise.all(s),r.Pu.H_(i),await async function(l,c){const u=Ee(l);try{await u.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>q.forEach(c,h=>q.forEach(h.Es,g=>u.persistence.referenceDelegate.addReference(f,h.targetId,g)).next(()=>q.forEach(h.ds,g=>u.persistence.referenceDelegate.removeReference(f,h.targetId,g)))))}catch(f){if(!dl(f))throw f;te(fw,"Failed to update sequence numbers: "+f)}for(const f of c){const h=f.targetId;if(!f.fromCache){const g=u.Ms.get(h),w=g.snapshotVersion,v=g.withLastLimboFreeSnapshotVersion(w);u.Ms=u.Ms.insert(h,v)}}}(r.localStore,o))}async function e$(t,e){const n=Ee(t);if(!n.currentUser.isEqual(e)){te(_w,"User change. New user:",e.toKey());const r=await YA(n.localStore,e);n.currentUser=e,function(o,s){o.mu.forEach(a=>{a.forEach(l=>{l.reject(new Z(H.CANCELLED,s))})}),o.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Iu(n,r.Ls)}}function t$(t,e){const n=Ee(t),r=n.Au.get(e);if(r&&r.hu)return Ne().add(r.key);{let i=Ne();const o=n.Iu.get(e);if(!o)return i;for(const s of o){const a=n.Tu.get(s);i=i.unionWith(a.view.nu)}return i}}function pR(t){const e=Ee(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=uR.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=t$.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Q6.bind(null,e),e.Pu.H_=j6.bind(null,e.eventManager),e.Pu.yu=F6.bind(null,e.eventManager),e}function n$(t){const e=Ee(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=X6.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=J6.bind(null,e),e}class ah{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=dp(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return s6(this.persistence,new r6,e.initialUser,this.serializer)}Cu(e){return new GA(uw.mi,this.serializer)}Du(e){return new h6}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}ah.provider={build:()=>new ah};class r$ extends ah{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){We(this.persistence.referenceDelegate instanceof oh,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new BF(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?vn.withCacheSize(this.cacheSizeBytes):vn.DEFAULT;return new GA(r=>oh.mi(r,n),this.serializer)}}class dy{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>wb(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=e$.bind(null,this.syncEngine),await O6(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new V6}()}createDatastore(e){const n=dp(e.databaseInfo.databaseId),r=function(o){return new y6(o)}(e.databaseInfo);return function(o,s,a,l){return new E6(o,s,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,o,s,a){return new T6(r,i,o,s,a)}(this.localStore,this.datastore,e.asyncQueue,n=>wb(this.syncEngine,n,0),function(){return hb.v()?new hb:new p6}())}createSyncEngine(e,n){return function(i,o,s,a,l,c,u){const f=new W6(i,o,s,a,l,c);return u&&(f.gu=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const o=Ee(i);te(ys,"RemoteStore shutting down."),o.Ea.add(5),await Pu(o),o.Aa.shutdown(),o.Ra.set("Unknown")}(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}dy.provider={build:()=>new dy};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mR{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):gi("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Io="FirestoreClient";class i${constructor(e,n,r,i,o){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=en.UNAUTHENTICATED,this.clientId=X0.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,async s=>{te(Io,"Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(te(Io,"Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new si;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=yw(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function ig(t,e){t.asyncQueue.verifyOperationInProgress(),te(Io,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await YA(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function xb(t,e){t.asyncQueue.verifyOperationInProgress();const n=await o$(t);te(Io,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>mb(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>mb(e.remoteStore,i)),t._onlineComponents=e}async function o$(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){te(Io,"Using user provided OfflineComponentProvider");try{await ig(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===H.FAILED_PRECONDITION||i.code===H.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;Fa("Error using user provided cache. Falling back to memory cache: "+n),await ig(t,new ah)}}else te(Io,"Using default OfflineComponentProvider"),await ig(t,new r$(void 0));return t._offlineComponents}async function gR(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(te(Io,"Using user provided OnlineComponentProvider"),await xb(t,t._uninitializedComponentsProvider._online)):(te(Io,"Using default OnlineComponentProvider"),await xb(t,new dy))),t._onlineComponents}function s$(t){return gR(t).then(e=>e.syncEngine)}async function vR(t){const e=await gR(t),n=e.eventManager;return n.onListen=z6.bind(null,e.syncEngine),n.onUnlisten=G6.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=H6.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=Y6.bind(null,e.syncEngine),n}function a$(t,e,n={}){const r=new si;return t.asyncQueue.enqueueAndForget(async()=>function(o,s,a,l,c){const u=new mR({next:h=>{u.Nu(),s.enqueueAndForget(()=>oR(o,f));const g=h.docs.has(a);!g&&h.fromCache?c.reject(new Z(H.UNAVAILABLE,"Failed to get document because the client is offline.")):g&&h.fromCache&&l&&l.source==="server"?c.reject(new Z(H.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(h)},error:h=>c.reject(h)}),f=new sR(rw(a.path),u,{includeMetadataChanges:!0,qa:!0});return iR(o,f)}(await vR(t),t.asyncQueue,e,n,r)),r.promise}function l$(t,e,n={}){const r=new si;return t.asyncQueue.enqueueAndForget(async()=>function(o,s,a,l,c){const u=new mR({next:h=>{u.Nu(),s.enqueueAndForget(()=>oR(o,f)),h.fromCache&&l.source==="server"?c.reject(new Z(H.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(h)},error:h=>c.reject(h)}),f=new sR(a,u,{includeMetadataChanges:!0,qa:!0});return iR(o,f)}(await vR(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yR(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eb=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wR="firestore.googleapis.com",bb=!0;class Tb{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new Z(H.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=wR,this.ssl=bb}else this.host=e.host,this.ssl=e.ssl??bb;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=qA;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<$F)throw new Z(H.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}C3("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=yR(e.experimentalLongPollingOptions??{}),function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new Z(H.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new Z(H.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new Z(H.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class pp{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Tb({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Z(H.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Z(H.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Tb(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new m3;switch(r.type){case"firstParty":return new w3(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Z(H.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=Eb.get(n);r&&(te("ComponentProvider","Removing Datastore"),Eb.delete(n),r.terminate())}(this),Promise.resolve()}}function c$(t,e,n,r={}){var c;t=vi(t,pp);const i=al(e),o=t._getSettings(),s={...o,emulatorOptions:t._getEmulatorOptions()},a=`${e}:${n}`;i&&(BI(`https://${a}`),WI("Firestore",!0)),o.host!==wR&&o.host!==a&&Fa("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const l={...o,host:a,ssl:i,emulatorOptions:r};if(!ms(l,s)&&(t._setSettings(l),r.mockUserToken)){let u,f;if(typeof r.mockUserToken=="string")u=r.mockUserToken,f=en.MOCK_USER;else{u=$5(r.mockUserToken,(c=t._app)==null?void 0:c.options.projectId);const h=r.mockUserToken.sub||r.mockUserToken.user_id;if(!h)throw new Z(H.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new en(h)}t._authCredentials=new g3(new rA(u,f))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hl{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new hl(this.firestore,e,this._query)}}class At{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new mo(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new At(this.firestore,e,this._key)}toJSON(){return{type:At._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(bu(n,At._jsonSchema))return new At(e,r||null,new de(Qe.fromString(n.referencePath)))}}At._jsonSchemaVersion="firestore/documentReference/1.0",At._jsonSchema={type:It("string",At._jsonSchemaVersion),referencePath:It("string")};class mo extends hl{constructor(e,n,r){super(e,n,rw(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new At(this.firestore,null,new de(e))}withConverter(e){return new mo(this.firestore,e,this._path)}}function ws(t,e,...n){if(t=jt(t),iA("collection","path",e),t instanceof pp){const r=Qe.fromString(e,...n);return VE(r),new mo(t,null,r)}{if(!(t instanceof At||t instanceof mo))throw new Z(H.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Qe.fromString(e,...n));return VE(r),new mo(t.firestore,null,r)}}function pl(t,e,...n){if(t=jt(t),arguments.length===1&&(e=X0.newId()),iA("doc","path",e),t instanceof pp){const r=Qe.fromString(e,...n);return LE(r),new At(t,null,new de(r))}{if(!(t instanceof At||t instanceof mo))throw new Z(H.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Qe.fromString(e,...n));return LE(r),new At(t.firestore,t instanceof mo?t.converter:null,new de(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cb="AsyncQueue";class Sb{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new QA(this,"async_queue_retry"),this._c=()=>{const r=rg();r&&te(Cb,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=rg();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=rg();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const n=new si;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!dl(e))throw e;te(Cb,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const n=this.ac.then(()=>(this.rc=!0,e().catch(r=>{throw this.nc=r,this.rc=!1,gi("INTERNAL UNHANDLED ERROR: ",Pb(r)),r}).then(r=>(this.rc=!1,r))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const i=vw.createAndSchedule(this,e,n,r,o=>this.hc(o));return this.tc.push(i),i}uc(){this.nc&&ve(47125,{Pc:Pb(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function Pb(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class ml extends pp{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new Sb,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Sb(e),this._firestoreClient=void 0,await e}}}function u$(t,e){const n=typeof t=="object"?t:GI(),r=typeof t=="string"?t:e||Jf,i=K0(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const o=j5("firestore");o&&c$(i,...o)}return i}function Ew(t){if(t._terminated)throw new Z(H.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||d$(t),t._firestoreClient}function d$(t){var r,i,o;const e=t._freezeSettings(),n=function(a,l,c,u){return new L3(a,l,c,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,yR(u.experimentalLongPollingOptions),u.useFetchStreams,u.isUsingEmulator)}(t._databaseId,((r=t._app)==null?void 0:r.options.appId)||"",t._persistenceKey,e);t._componentsProvider||(i=e.localCache)!=null&&i._offlineComponentProvider&&((o=e.localCache)!=null&&o._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new i$(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&function(a){const l=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Hn(qt.fromBase64String(e))}catch(n){throw new Z(H.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Hn(qt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Hn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(bu(e,Hn._jsonSchema))return Hn.fromBase64String(e.bytes)}}Hn._jsonSchemaVersion="firestore/bytes/1.0",Hn._jsonSchema={type:It("string",Hn._jsonSchemaVersion),bytes:It("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mp{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Z(H.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Bt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bw{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dr{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Z(H.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Z(H.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return ke(this._lat,e._lat)||ke(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Dr._jsonSchemaVersion}}static fromJSON(e){if(bu(e,Dr._jsonSchema))return new Dr(e.latitude,e.longitude)}}Dr._jsonSchemaVersion="firestore/geoPoint/1.0",Dr._jsonSchema={type:It("string",Dr._jsonSchemaVersion),latitude:It("number"),longitude:It("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mr{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}(this._values,e._values)}toJSON(){return{type:Mr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(bu(e,Mr._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new Mr(e.vectorValues);throw new Z(H.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Mr._jsonSchemaVersion="firestore/vectorValue/1.0",Mr._jsonSchema={type:It("string",Mr._jsonSchemaVersion),vectorValues:It("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f$=/^__.*__$/;class h${constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Fo(e,this.data,this.fieldMask,n,this.fieldTransforms):new Cu(e,this.data,n,this.fieldTransforms)}}class _R{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Fo(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function xR(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ve(40011,{Ac:t})}}class Tw{constructor(e,n,r,i,o,s){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.Rc(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Tw({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var i;const n=(i=this.path)==null?void 0:i.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){var i;const n=(i=this.path)==null?void 0:i.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return lh(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(xR(this.Ac)&&f$.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class p${constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||dp(e)}Cc(e,n,r,i=!1){return new Tw({Ac:e,methodName:n,Dc:r,path:Bt.emptyPath(),fc:!1,bc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Cw(t){const e=t._freezeSettings(),n=dp(t._databaseId);return new p$(t._databaseId,!!e.ignoreUndefinedProperties,n)}function m$(t,e,n,r,i,o={}){const s=t.Cc(o.merge||o.mergeFields?2:0,e,n,i);Sw("Data must be an object, but it was:",s,r);const a=ER(r,s);let l,c;if(o.merge)l=new Dn(s.fieldMask),c=s.fieldTransforms;else if(o.mergeFields){const u=[];for(const f of o.mergeFields){const h=fy(e,f,n);if(!s.contains(h))throw new Z(H.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);TR(u,h)||u.push(h)}l=new Dn(u),c=s.fieldTransforms.filter(f=>l.covers(f.field))}else l=null,c=s.fieldTransforms;return new h$(new wn(a),l,c)}class gp extends bw{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof gp}}function g$(t,e,n,r){const i=t.Cc(1,e,n);Sw("Data must be an object, but it was:",i,r);const o=[],s=wn.empty();jo(r,(l,c)=>{const u=Pw(e,l,n);c=jt(c);const f=i.yc(u);if(c instanceof gp)o.push(u);else{const h=Au(c,f);h!=null&&(o.push(u),s.set(u,h))}});const a=new Dn(o);return new _R(s,a,i.fieldTransforms)}function v$(t,e,n,r,i,o){const s=t.Cc(1,e,n),a=[fy(e,r,n)],l=[i];if(o.length%2!=0)throw new Z(H.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<o.length;h+=2)a.push(fy(e,o[h])),l.push(o[h+1]);const c=[],u=wn.empty();for(let h=a.length-1;h>=0;--h)if(!TR(c,a[h])){const g=a[h];let w=l[h];w=jt(w);const v=s.yc(g);if(w instanceof gp)c.push(g);else{const E=Au(w,v);E!=null&&(c.push(g),u.set(g,E))}}const f=new Dn(c);return new _R(u,f,s.fieldTransforms)}function y$(t,e,n,r=!1){return Au(n,t.Cc(r?4:3,e))}function Au(t,e){if(bR(t=jt(t)))return Sw("Unsupported field value:",e,t),ER(t,e);if(t instanceof bw)return function(r,i){if(!xR(i.Ac))throw i.Sc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Sc(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(r,i){const o=[];let s=0;for(const a of r){let l=Au(a,i.wc(s));l==null&&(l={nullValue:"NULL_VALUE"}),o.push(l),s++}return{arrayValue:{values:o}}}(t,e)}return function(r,i){if((r=jt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return iF(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=it.fromDate(r);return{timestampValue:ih(i.serializer,o)}}if(r instanceof it){const o=new it(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:ih(i.serializer,o)}}if(r instanceof Dr)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Hn)return{bytesValue:FA(i.serializer,r._byteString)};if(r instanceof At){const o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.Sc(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:lw(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Mr)return function(s,a){return{mapValue:{fields:{[hA]:{stringValue:mA},[Zf]:{arrayValue:{values:s.toArray().map(c=>{if(typeof c!="number")throw a.Sc("VectorValues must only contain numeric values.");return iw(a.serializer,c)})}}}}}}(r,i);throw i.Sc(`Unsupported field value: ${np(r)}`)}(t,e)}function ER(t,e){const n={};return aA(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):jo(t,(r,i)=>{const o=Au(i,e.mc(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function bR(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof it||t instanceof Dr||t instanceof Hn||t instanceof At||t instanceof bw||t instanceof Mr)}function Sw(t,e,n){if(!bR(n)||!oA(n)){const r=np(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function fy(t,e,n){if((e=jt(e))instanceof mp)return e._internalPath;if(typeof e=="string")return Pw(t,e);throw lh("Field path arguments must be of type string or ",t,!1,void 0,n)}const w$=new RegExp("[~\\*/\\[\\]]");function Pw(t,e,n){if(e.search(w$)>=0)throw lh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new mp(...e.split("."))._internalPath}catch{throw lh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function lh(t,e,n,r,i){const o=r&&!r.isEmpty(),s=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(o||s)&&(l+=" (found",o&&(l+=` in field ${r}`),s&&(l+=` in document ${i}`),l+=")"),new Z(H.INVALID_ARGUMENT,a+t+l)}function TR(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CR{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new At(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new _$(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Iw("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class _$ extends CR{data(){return super.data()}}function Iw(t,e){return typeof e=="string"?Pw(t,e):e instanceof mp?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x$(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Z(H.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Aw{}class E$ extends Aw{}function ru(t,e,...n){let r=[];e instanceof Aw&&r.push(e),r=r.concat(n),function(o){const s=o.filter(l=>l instanceof Rw).length,a=o.filter(l=>l instanceof vp).length;if(s>1||s>0&&a>0)throw new Z(H.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class vp extends E${constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new vp(e,n,r)}_apply(e){const n=this._parse(e);return SR(e._query,n),new hl(e.firestore,e.converter,ty(e._query,n))}_parse(e){const n=Cw(e.firestore);return function(o,s,a,l,c,u,f){let h;if(c.isKeyField()){if(u==="array-contains"||u==="array-contains-any")throw new Z(H.INVALID_ARGUMENT,`Invalid Query. You can't perform '${u}' queries on documentId().`);if(u==="in"||u==="not-in"){Ab(f,u);const w=[];for(const v of f)w.push(Ib(l,o,v));h={arrayValue:{values:w}}}else h=Ib(l,o,f)}else u!=="in"&&u!=="not-in"&&u!=="array-contains-any"||Ab(f,u),h=y$(a,s,f,u==="in"||u==="not-in");return Pt.create(c,u,h)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function go(t,e,n){const r=e,i=Iw("where",t);return vp._create(i,r,n)}class Rw extends Aw{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Rw(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:dr.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,o){let s=i;const a=o.getFlattenedFilters();for(const l of a)SR(s,l),s=ty(s,l)}(e._query,n),new hl(e.firestore,e.converter,ty(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function Ib(t,e,n){if(typeof(n=jt(n))=="string"){if(n==="")throw new Z(H.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!bA(e)&&n.indexOf("/")!==-1)throw new Z(H.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Qe.fromString(n));if(!de.isDocumentKey(r))throw new Z(H.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return HE(t,new de(r))}if(n instanceof At)return HE(t,n._key);throw new Z(H.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${np(n)}.`)}function Ab(t,e){if(!Array.isArray(t)||t.length===0)throw new Z(H.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function SR(t,e){const n=function(i,o){for(const s of i)for(const a of s.getFlattenedFilters())if(o.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new Z(H.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Z(H.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class b${convertValue(e,n="none"){switch(So(e)){case 0:return null;case 1:return e.booleanValue;case 2:return wt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Co(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw ve(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return jo(e,(i,o)=>{r[i]=this.convertValue(o,n)}),r}convertVectorValue(e){var r,i,o;const n=(o=(i=(r=e.fields)==null?void 0:r[Zf].arrayValue)==null?void 0:i.values)==null?void 0:o.map(s=>wt(s.doubleValue));return new Mr(n)}convertGeoPoint(e){return new Dr(wt(e.latitude),wt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=op(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Jc(e));default:return null}}convertTimestamp(e){const n=To(e);return new it(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Qe.fromString(e);We(HA(r),9688,{name:e});const i=new Zc(r.get(1),r.get(3)),o=new de(r.popFirst(5));return i.isEqual(n)||gi(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T$(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class sc{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class cs extends CR{constructor(e,n,r,i,o,s){super(e,n,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new ff(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Iw("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Z(H.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=cs._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}cs._jsonSchemaVersion="firestore/documentSnapshot/1.0",cs._jsonSchema={type:It("string",cs._jsonSchemaVersion),bundleSource:It("string","DocumentSnapshot"),bundleName:It("string"),bundle:It("string")};class ff extends cs{data(e={}){return super.data(e)}}class Ta{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new sc(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new ff(this._firestore,this._userDataWriter,r.key,r,new sc(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Z(H.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>{const l=new ff(i._firestore,i._userDataWriter,a.doc.key,a.doc,new sc(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>o||a.type!==3).map(a=>{const l=new ff(i._firestore,i._userDataWriter,a.doc.key,a.doc,new sc(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let c=-1,u=-1;return a.type!==0&&(c=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),a.type!==1&&(s=s.add(a.doc),u=s.indexOf(a.doc.key)),{type:C$(a.type),doc:l,oldIndex:c,newIndex:u}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Z(H.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Ta._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=X0.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],i=[];return this.docs.forEach(o=>{o._document!==null&&(n.push(o._document),r.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),i.push(o.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function C$(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ve(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kw(t){t=vi(t,At);const e=vi(t.firestore,ml);return a$(Ew(e),t._key).then(n=>P$(e,t,n))}Ta._jsonSchemaVersion="firestore/querySnapshot/1.0",Ta._jsonSchema={type:It("string",Ta._jsonSchemaVersion),bundleSource:It("string","QuerySnapshot"),bundleName:It("string"),bundle:It("string")};class PR extends b${constructor(e){super(),this.firestore=e}convertBytes(e){return new Hn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new At(this.firestore,null,n)}}function iu(t){t=vi(t,hl);const e=vi(t.firestore,ml),n=Ew(e),r=new PR(e);return x$(t._query),l$(n,t._query).then(i=>new Ta(e,r,t,i))}function Nw(t,e,n,...r){t=vi(t,At);const i=vi(t.firestore,ml),o=Cw(i);let s;return s=typeof(e=jt(e))=="string"||e instanceof mp?v$(o,"updateDoc",t._key,e,n,r):g$(o,"updateDoc",t._key,e),Dw(i,[s.toMutation(t._key,cr.exists(!0))])}function S$(t){return Dw(vi(t.firestore,ml),[new ow(t._key,cr.none())])}function IR(t,e){const n=vi(t.firestore,ml),r=pl(t),i=T$(t.converter,e);return Dw(n,[m$(Cw(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,cr.exists(!1))]).then(()=>r)}function Dw(t,e){return function(r,i){const o=new si;return r.asyncQueue.enqueueAndForget(async()=>K6(await s$(r),i,o)),o.promise}(Ew(t),e)}function P$(t,e,n){const r=n.docs.get(e._key),i=new PR(t);return new cs(t,i,e._key,r,new sc(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){cl=i})(ll),ja(new gs("firestore",(r,{instanceIdentifier:i,options:o})=>{const s=r.getProvider("app").getImmediate(),a=new ml(new v3(r.getProvider("auth-internal")),new _3(s,r.getProvider("app-check-internal")),function(c,u){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new Z(H.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Zc(c.options.projectId,u)}(s,i),s);return o={useFetchStreams:n,...o},a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),ho(NE,DE,e),ho(NE,DE,"esm2020")})();function AR(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const I$=AR,RR=new xu("auth","Firebase",AR());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ch=new G0("@firebase/auth");function A$(t,...e){ch.logLevel<=Re.WARN&&ch.warn(`Auth (${ll}): ${t}`,...e)}function hf(t,...e){ch.logLevel<=Re.ERROR&&ch.error(`Auth (${ll}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fr(t,...e){throw Mw(t,...e)}function Or(t,...e){return Mw(t,...e)}function kR(t,e,n){const r={...I$(),[e]:n};return new xu("auth","Firebase",r).create(e,{appName:t.name})}function ai(t){return kR(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Mw(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return RR.create(t,...e)}function fe(t,e,...n){if(!t)throw Mw(e,...n)}function ni(t){const e="INTERNAL ASSERTION FAILED: "+t;throw hf(e),new Error(e)}function wi(t,e){t||ni(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hy(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function R$(){return Rb()==="http:"||Rb()==="https:"}function Rb(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k$(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(R$()||q5()||"connection"in navigator)?navigator.onLine:!0}function N$(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ru{constructor(e,n){this.shortDelay=e,this.longDelay=n,wi(n>e,"Short delay should be less than long delay!"),this.isMobile=W5()||G5()}get(){return k$()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ow(t,e){wi(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NR{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ni("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ni("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ni("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D$={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M$=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],O$=new Ru(3e4,6e4);function Ii(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function Ai(t,e,n,r,i={}){return DR(t,i,async()=>{let o={},s={};r&&(e==="GET"?s=r:o={body:JSON.stringify(r)});const a=Eu({key:t.config.apiKey,...s}).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const c={method:e,headers:l,...o};return H5()||(c.referrerPolicy="no-referrer"),t.emulatorConfig&&al(t.emulatorConfig.host)&&(c.credentials="include"),NR.fetch()(await MR(t,t.config.apiHost,n,a),c)})}async function DR(t,e,n){t._canInitEmulator=!1;const r={...D$,...e};try{const i=new V$(t),o=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const s=await o.json();if("needConfirmation"in s)throw kd(t,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{const a=o.ok?s.errorMessage:s.error.message,[l,c]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw kd(t,"credential-already-in-use",s);if(l==="EMAIL_EXISTS")throw kd(t,"email-already-in-use",s);if(l==="USER_DISABLED")throw kd(t,"user-disabled",s);const u=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw kR(t,u,c);fr(t,u)}}catch(i){if(i instanceof Pi)throw i;fr(t,"network-request-failed",{message:String(i)})}}async function ku(t,e,n,r,i={}){const o=await Ai(t,e,n,r,i);return"mfaPendingCredential"in o&&fr(t,"multi-factor-auth-required",{_serverResponse:o}),o}async function MR(t,e,n,r){const i=`${e}${n}?${r}`,o=t,s=o.config.emulator?Ow(t.config,i):`${t.config.apiScheme}://${i}`;return M$.includes(n)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(s).toString():s}function L$(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class V${clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Or(this.auth,"network-request-failed")),O$.get())})}}function kd(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Or(t,e,r);return i.customData._tokenResponse=n,i}function kb(t){return t!==void 0&&t.enterprise!==void 0}class j${constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return L$(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function F$(t,e){return Ai(t,"GET","/v2/recaptchaConfig",Ii(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $$(t,e){return Ai(t,"POST","/v1/accounts:delete",e)}async function uh(t,e){return Ai(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ec(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function U$(t,e=!1){const n=jt(t),r=await n.getIdToken(e),i=Lw(r);fe(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const o=typeof i.firebase=="object"?i.firebase:void 0,s=o==null?void 0:o.sign_in_provider;return{claims:i,token:r,authTime:Ec(og(i.auth_time)),issuedAtTime:Ec(og(i.iat)),expirationTime:Ec(og(i.exp)),signInProvider:s||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function og(t){return Number(t)*1e3}function Lw(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return hf("JWT malformed, contained fewer than 3 sections"),null;try{const i=jI(n);return i?JSON.parse(i):(hf("Failed to decode base64 JWT payload"),null)}catch(i){return hf("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function Nb(t){const e=Lw(t);return fe(e,"internal-error"),fe(typeof e.exp<"u","internal-error"),fe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ou(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Pi&&B$(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function B$({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W${constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class py{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ec(this.lastLoginAt),this.creationTime=Ec(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dh(t){var f;const e=t.auth,n=await t.getIdToken(),r=await ou(t,uh(e,{idToken:n}));fe(r==null?void 0:r.users.length,e,"internal-error");const i=r.users[0];t._notifyReloadListener(i);const o=(f=i.providerUserInfo)!=null&&f.length?OR(i.providerUserInfo):[],s=H$(t.providerData,o),a=t.isAnonymous,l=!(t.email&&i.passwordHash)&&!(s!=null&&s.length),c=a?l:!1,u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new py(i.createdAt,i.lastLoginAt),isAnonymous:c};Object.assign(t,u)}async function z$(t){const e=jt(t);await dh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function H$(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function OR(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function q$(t,e){const n=await DR(t,{},async()=>{const r=Eu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,s=await MR(t,i,"/v1/token",`key=${o}`),a=await t._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";const l={method:"POST",headers:a,body:r};return t.emulatorConfig&&al(t.emulatorConfig.host)&&(l.credentials="include"),NR.fetch()(s,l)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function G$(t,e){return Ai(t,"POST","/v2/accounts:revokeToken",Ii(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ca{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){fe(e.idToken,"internal-error"),fe(typeof e.idToken<"u","internal-error"),fe(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Nb(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){fe(e.length!==0,"internal-error");const n=Nb(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(fe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:o}=await q$(e,n);this.updateTokensAndExpiration(r,i,Number(o))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:o}=n,s=new Ca;return r&&(fe(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(fe(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&(fe(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ca,this.toJSON())}_performRefresh(){return ni("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oi(t,e){fe(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class sr{constructor({uid:e,auth:n,stsTokenManager:r,...i}){this.providerId="firebase",this.proactiveRefresh=new W$(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new py(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await ou(this,this.stsTokenManager.getToken(this.auth,e));return fe(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return U$(this,e)}reload(){return z$(this)}_assign(e){this!==e&&(fe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new sr({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){fe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await dh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(zn(this.auth.app))return Promise.reject(ai(this.auth));const e=await this.getIdToken();return await ou(this,$$(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,i=n.email??void 0,o=n.phoneNumber??void 0,s=n.photoURL??void 0,a=n.tenantId??void 0,l=n._redirectEventId??void 0,c=n.createdAt??void 0,u=n.lastLoginAt??void 0,{uid:f,emailVerified:h,isAnonymous:g,providerData:w,stsTokenManager:v}=n;fe(f&&v,e,"internal-error");const E=Ca.fromJSON(this.name,v);fe(typeof f=="string",e,"internal-error"),Oi(r,e.name),Oi(i,e.name),fe(typeof h=="boolean",e,"internal-error"),fe(typeof g=="boolean",e,"internal-error"),Oi(o,e.name),Oi(s,e.name),Oi(a,e.name),Oi(l,e.name),Oi(c,e.name),Oi(u,e.name);const _=new sr({uid:f,auth:e,email:i,emailVerified:h,displayName:r,isAnonymous:g,photoURL:s,phoneNumber:o,tenantId:a,stsTokenManager:E,createdAt:c,lastLoginAt:u});return w&&Array.isArray(w)&&(_.providerData=w.map(y=>({...y}))),l&&(_._redirectEventId=l),_}static async _fromIdTokenResponse(e,n,r=!1){const i=new Ca;i.updateFromServerResponse(n);const o=new sr({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await dh(o),o}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];fe(i.localId!==void 0,"internal-error");const o=i.providerUserInfo!==void 0?OR(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!(o!=null&&o.length),a=new Ca;a.updateFromIdToken(r);const l=new sr({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:s}),c={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new py(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(o!=null&&o.length)};return Object.assign(l,c),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Db=new Map;function ri(t){wi(t instanceof Function,"Expected a class definition");let e=Db.get(t);return e?(wi(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,Db.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LR{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}LR.type="NONE";const Mb=LR;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pf(t,e,n){return`firebase:${t}:${e}:${n}`}class Sa{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:o}=this.auth;this.fullUserKey=pf(this.userKey,i.apiKey,o),this.fullPersistenceKey=pf("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await uh(this.auth,{idToken:e}).catch(()=>{});return n?sr._fromGetAccountInfoResponse(this.auth,n,e):null}return sr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Sa(ri(Mb),e,r);const i=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let o=i[0]||ri(Mb);const s=pf(r,e.config.apiKey,e.name);let a=null;for(const c of n)try{const u=await c._get(s);if(u){let f;if(typeof u=="string"){const h=await uh(e,{idToken:u}).catch(()=>{});if(!h)break;f=await sr._fromGetAccountInfoResponse(e,h,u)}else f=sr._fromJSON(e,u);c!==o&&(a=f),o=c;break}}catch{}const l=i.filter(c=>c._shouldAllowMigration);return!o._shouldAllowMigration||!l.length?new Sa(o,e,r):(o=l[0],a&&await o._set(s,a.toJSON()),await Promise.all(n.map(async c=>{if(c!==o)try{await c._remove(s)}catch{}})),new Sa(o,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ob(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if($R(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(VR(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(BR(e))return"Blackberry";if(WR(e))return"Webos";if(jR(e))return"Safari";if((e.includes("chrome/")||FR(e))&&!e.includes("edge/"))return"Chrome";if(UR(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function VR(t=sn()){return/firefox\//i.test(t)}function jR(t=sn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function FR(t=sn()){return/crios\//i.test(t)}function $R(t=sn()){return/iemobile/i.test(t)}function UR(t=sn()){return/android/i.test(t)}function BR(t=sn()){return/blackberry/i.test(t)}function WR(t=sn()){return/webos/i.test(t)}function Vw(t=sn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function Y$(t=sn()){var e;return Vw(t)&&!!((e=window.navigator)!=null&&e.standalone)}function K$(){return Y5()&&document.documentMode===10}function zR(t=sn()){return Vw(t)||UR(t)||WR(t)||BR(t)||/windows phone/i.test(t)||$R(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HR(t,e=[]){let n;switch(t){case"Browser":n=Ob(sn());break;case"Worker":n=`${Ob(sn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${ll}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q${constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=o=>new Promise((s,a)=>{try{const l=e(o);s(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function X$(t,e={}){return Ai(t,"GET","/v2/passwordPolicy",Ii(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J$=6;class Z${constructor(e){var r;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??J$,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((r=e.allowedNonAlphanumericCharacters)==null?void 0:r.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e9{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Lb(this),this.idTokenSubscription=new Lb(this),this.beforeStateQueue=new Q$(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=RR,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=ri(n)),this._initializationPromise=this.queue(async()=>{var r,i,o;if(!this._deleted&&(this.persistenceManager=await Sa.create(this,e),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((i=this._popupRedirectResolver)!=null&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((o=this.currentUser)==null?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await uh(this,{idToken:e}),r=await sr._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var o;if(zn(this.app)){const s=this.app.settings.authIdToken;return s?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(a,a))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const s=(o=this.redirectUser)==null?void 0:o._redirectEventId,a=r==null?void 0:r._redirectEventId,l=await this.tryRedirectSignIn(e);(!s||s===a)&&(l!=null&&l.user)&&(r=l.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(s){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return fe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await dh(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=N$()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(zn(this.app))return Promise.reject(ai(this));const n=e?jt(e):null;return n&&fe(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&fe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return zn(this.app)?Promise.reject(ai(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return zn(this.app)?Promise.reject(ai(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ri(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await X$(this),n=new Z$(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new xu("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await G$(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&ri(e)||this._popupRedirectResolver;fe(n,this,"argument-error"),this.redirectPersistenceManager=await Sa.create(this,[ri(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const o=typeof n=="function"?n:n.next.bind(n);let s=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(fe(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{s=!0,l()}}else{const l=e.addObserver(n);return()=>{s=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return fe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=HR(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var i;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((i=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:i.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){var n;if(zn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&A$(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function $o(t){return jt(t)}class Lb{constructor(e){this.auth=e,this.observer=null,this.addObserver=nj(n=>this.observer=n)}get next(){return fe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let yp={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function t9(t){yp=t}function qR(t){return yp.loadJS(t)}function n9(){return yp.recaptchaEnterpriseScript}function r9(){return yp.gapiScript}function i9(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class o9{constructor(){this.enterprise=new s9}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class s9{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const a9="recaptcha-enterprise",GR="NO_RECAPTCHA";class l9{constructor(e){this.type=a9,this.auth=$o(e)}async verify(e="verify",n=!1){async function r(o){if(!n){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(s,a)=>{F$(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const c=new j$(l);return o.tenantId==null?o._agentRecaptchaConfig=c:o._tenantRecaptchaConfigs[o.tenantId]=c,s(c.siteKey)}}).catch(l=>{a(l)})})}function i(o,s,a){const l=window.grecaptcha;kb(l)?l.enterprise.ready(()=>{l.enterprise.execute(o,{action:e}).then(c=>{s(c)}).catch(()=>{s(GR)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new o9().execute("siteKey",{action:"verify"}):new Promise((o,s)=>{r(this.auth).then(a=>{if(!n&&kb(window.grecaptcha))i(a,o,s);else{if(typeof window>"u"){s(new Error("RecaptchaVerifier is only supported in browser"));return}let l=n9();l.length!==0&&(l+=a),qR(l).then(()=>{i(a,o,s)}).catch(c=>{s(c)})}}).catch(a=>{s(a)})})}}async function zl(t,e,n,r=!1,i=!1){const o=new l9(t);let s;if(i)s=GR;else try{s=await o.verify(n)}catch{s=await o.verify(n,!0)}const a={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in a){const l=a.phoneEnrollmentInfo.phoneNumber,c=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:l,recaptchaToken:c,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){const l=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:l,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return r?Object.assign(a,{captchaResp:s}):Object.assign(a,{captchaResponse:s}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function fh(t,e,n,r,i){var o,s;if(i==="EMAIL_PASSWORD_PROVIDER")if((o=t._getRecaptchaConfig())!=null&&o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const a=await zl(t,e,n,n==="getOobCode");return r(t,a)}else return r(t,e).catch(async a=>{if(a.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const l=await zl(t,e,n,n==="getOobCode");return r(t,l)}else return Promise.reject(a)});else if(i==="PHONE_PROVIDER")if((s=t._getRecaptchaConfig())!=null&&s.isProviderEnabled("PHONE_PROVIDER")){const a=await zl(t,e,n);return r(t,a).catch(async l=>{var c;if(((c=t._getRecaptchaConfig())==null?void 0:c.getProviderEnforcementState("PHONE_PROVIDER"))==="AUDIT"&&(l.code==="auth/missing-recaptcha-token"||l.code==="auth/invalid-app-credential")){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${n} flow.`);const u=await zl(t,e,n,!1,!0);return r(t,u)}return Promise.reject(l)})}else{const a=await zl(t,e,n,!1,!0);return r(t,a)}else return Promise.reject(i+" provider is not supported.")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c9(t,e){const n=K0(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),o=n.getOptions();if(ms(o,e??{}))return i;fr(i,"already-initialized")}return n.initialize({options:e})}function u9(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(ri);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function d9(t,e,n){const r=$o(t);fe(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!(n!=null&&n.disableWarnings),o=YR(e),{host:s,port:a}=f9(e),l=a===null?"":`:${a}`,c={url:`${o}//${s}${l}/`},u=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){fe(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),fe(ms(c,r.config.emulator)&&ms(u,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=c,r.emulatorConfig=u,r.settings.appVerificationDisabledForTesting=!0,al(s)?(BI(`${o}//${s}${l}`),WI("Auth",!0)):i||h9()}function YR(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function f9(t){const e=YR(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const o=i[1];return{host:o,port:Vb(r.substr(o.length+1))}}else{const[o,s]=r.split(":");return{host:o,port:Vb(s)}}}function Vb(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function h9(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jw{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return ni("not implemented")}_getIdTokenResponse(e){return ni("not implemented")}_linkToIdToken(e,n){return ni("not implemented")}_getReauthenticationResolver(e){return ni("not implemented")}}async function p9(t,e){return Ai(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function m9(t,e){return ku(t,"POST","/v1/accounts:signInWithPassword",Ii(t,e))}async function g9(t,e){return Ai(t,"POST","/v1/accounts:sendOobCode",Ii(t,e))}async function v9(t,e){return g9(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function y9(t,e){return ku(t,"POST","/v1/accounts:signInWithEmailLink",Ii(t,e))}async function w9(t,e){return ku(t,"POST","/v1/accounts:signInWithEmailLink",Ii(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class su extends jw{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new su(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new su(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return fh(e,n,"signInWithPassword",m9,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return y9(e,{email:this._email,oobCode:this._password});default:fr(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return fh(e,r,"signUpPassword",p9,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return w9(e,{idToken:n,email:this._email,oobCode:this._password});default:fr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Pa(t,e){return ku(t,"POST","/v1/accounts:signInWithIdp",Ii(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _9="http://localhost";class _s extends jw{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new _s(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):fr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i,...o}=n;if(!r||!i)return null;const s=new _s(r,i);return s.idToken=o.idToken||void 0,s.accessToken=o.accessToken||void 0,s.secret=o.secret,s.nonce=o.nonce,s.pendingToken=o.pendingToken||null,s}_getIdTokenResponse(e){const n=this.buildRequest();return Pa(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Pa(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Pa(e,n)}buildRequest(){const e={requestUri:_9,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Eu(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x9(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function E9(t){const e=tc(nc(t)).link,n=e?tc(nc(e)).deep_link_id:null,r=tc(nc(t)).deep_link_id;return(r?tc(nc(r)).link:null)||r||n||e||t}class Fw{constructor(e){const n=tc(nc(e)),r=n.apiKey??null,i=n.oobCode??null,o=x9(n.mode??null);fe(r&&i&&o,"argument-error"),this.apiKey=r,this.operation=o,this.code=i,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=E9(e);try{return new Fw(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gl{constructor(){this.providerId=gl.PROVIDER_ID}static credential(e,n){return su._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=Fw.parseLink(n);return fe(r,"argument-error"),su._fromEmailAndCode(e,r.code,r.tenantId)}}gl.PROVIDER_ID="password";gl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";gl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KR{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nu extends KR{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qi extends Nu{constructor(){super("facebook.com")}static credential(e){return _s._fromParams({providerId:qi.PROVIDER_ID,signInMethod:qi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return qi.credentialFromTaggedObject(e)}static credentialFromError(e){return qi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return qi.credential(e.oauthAccessToken)}catch{return null}}}qi.FACEBOOK_SIGN_IN_METHOD="facebook.com";qi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gi extends Nu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return _s._fromParams({providerId:Gi.PROVIDER_ID,signInMethod:Gi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Gi.credentialFromTaggedObject(e)}static credentialFromError(e){return Gi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Gi.credential(n,r)}catch{return null}}}Gi.GOOGLE_SIGN_IN_METHOD="google.com";Gi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yi extends Nu{constructor(){super("github.com")}static credential(e){return _s._fromParams({providerId:Yi.PROVIDER_ID,signInMethod:Yi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Yi.credentialFromTaggedObject(e)}static credentialFromError(e){return Yi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Yi.credential(e.oauthAccessToken)}catch{return null}}}Yi.GITHUB_SIGN_IN_METHOD="github.com";Yi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ki extends Nu{constructor(){super("twitter.com")}static credential(e,n){return _s._fromParams({providerId:Ki.PROVIDER_ID,signInMethod:Ki.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Ki.credentialFromTaggedObject(e)}static credentialFromError(e){return Ki.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Ki.credential(n,r)}catch{return null}}}Ki.TWITTER_SIGN_IN_METHOD="twitter.com";Ki.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function b9(t,e){return ku(t,"POST","/v1/accounts:signUp",Ii(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xs{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const o=await sr._fromIdTokenResponse(e,r,i),s=jb(r);return new xs({user:o,providerId:s,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=jb(r);return new xs({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function jb(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hh extends Pi{constructor(e,n,r,i){super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,hh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new hh(e,n,r,i)}}function QR(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?hh._fromErrorAndOperation(t,o,e,r):o})}async function T9(t,e,n=!1){const r=await ou(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return xs._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function C9(t,e,n=!1){const{auth:r}=t;if(zn(r.app))return Promise.reject(ai(r));const i="reauthenticate";try{const o=await ou(t,QR(r,i,e,t),n);fe(o.idToken,r,"internal-error");const s=Lw(o.idToken);fe(s,r,"internal-error");const{sub:a}=s;return fe(t.uid===a,r,"user-mismatch"),xs._forOperation(t,i,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&fr(r,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function XR(t,e,n=!1){if(zn(t.app))return Promise.reject(ai(t));const r="signIn",i=await QR(t,r,e),o=await xs._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(o.user),o}async function S9(t,e){return XR($o(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P9(t,e,n){var r;fe(((r=n.url)==null?void 0:r.length)>0,t,"invalid-continue-uri"),fe(typeof n.dynamicLinkDomain>"u"||n.dynamicLinkDomain.length>0,t,"invalid-dynamic-link-domain"),fe(typeof n.linkDomain>"u"||n.linkDomain.length>0,t,"invalid-hosting-link-domain"),e.continueUrl=n.url,e.dynamicLinkDomain=n.dynamicLinkDomain,e.linkDomain=n.linkDomain,e.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(fe(n.iOS.bundleId.length>0,t,"missing-ios-bundle-id"),e.iOSBundleId=n.iOS.bundleId),n.android&&(fe(n.android.packageName.length>0,t,"missing-android-pkg-name"),e.androidInstallApp=n.android.installApp,e.androidMinimumVersionCode=n.android.minimumVersion,e.androidPackageName=n.android.packageName)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JR(t){const e=$o(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function I9(t,e,n){const r=$o(t),i={requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"};n&&P9(r,i,n),await fh(r,i,"getOobCode",v9,"EMAIL_PASSWORD_PROVIDER")}async function A9(t,e,n){if(zn(t.app))return Promise.reject(ai(t));const r=$o(t),s=await fh(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",b9,"EMAIL_PASSWORD_PROVIDER").catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&JR(t),l}),a=await xs._fromIdTokenResponse(r,"signIn",s);return await r._updateCurrentUser(a.user),a}function R9(t,e,n){return zn(t.app)?Promise.reject(ai(t)):S9(jt(t),gl.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&JR(t),r})}function k9(t,e,n,r){return jt(t).onIdTokenChanged(e,n,r)}function N9(t,e,n){return jt(t).beforeAuthStateChanged(e,n)}function D9(t,e,n,r){return jt(t).onAuthStateChanged(e,n,r)}function M9(t){return jt(t).signOut()}const ph="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZR{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(ph,"1"),this.storage.removeItem(ph),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O9=1e3,L9=10;class ek extends ZR{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=zR(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((s,a,l)=>{this.notifyListeners(s,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const s=this.storage.getItem(r);!n&&this.localCache[r]===s||this.notifyListeners(r,s)},o=this.storage.getItem(r);K$()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,L9):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},O9)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}ek.type="LOCAL";const V9=ek;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tk extends ZR{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}tk.type="SESSION";const nk=tk;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j9(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wp{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new wp(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:o}=n.data,s=this.handlersMap[i];if(!(s!=null&&s.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(s).map(async c=>c(n.origin,o)),l=await j9(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}wp.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $w(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F9{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,s;return new Promise((a,l)=>{const c=$w("",20);i.port1.start();const u=setTimeout(()=>{l(new Error("unsupported_event"))},r);s={messageChannel:i,onMessage(f){const h=f;if(h.data.eventId===c)switch(h.data.status){case"ack":clearTimeout(u),o=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),a(h.data.response);break;default:clearTimeout(u),clearTimeout(o),l(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lr(){return window}function $9(t){Lr().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rk(){return typeof Lr().WorkerGlobalScope<"u"&&typeof Lr().importScripts=="function"}async function U9(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function B9(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function W9(){return rk()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ik="firebaseLocalStorageDb",z9=1,mh="firebaseLocalStorage",ok="fbase_key";class Du{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function _p(t,e){return t.transaction([mh],e?"readwrite":"readonly").objectStore(mh)}function H9(){const t=indexedDB.deleteDatabase(ik);return new Du(t).toPromise()}function my(){const t=indexedDB.open(ik,z9);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(mh,{keyPath:ok})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(mh)?e(r):(r.close(),await H9(),e(await my()))})})}async function Fb(t,e,n){const r=_p(t,!0).put({[ok]:e,value:n});return new Du(r).toPromise()}async function q9(t,e){const n=_p(t,!1).get(e),r=await new Du(n).toPromise();return r===void 0?null:r.value}function $b(t,e){const n=_p(t,!0).delete(e);return new Du(n).toPromise()}const G9=800,Y9=3;class sk{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await my(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>Y9)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return rk()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=wp._getInstance(W9()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,r;if(this.activeServiceWorker=await U9(),!this.activeServiceWorker)return;this.sender=new F9(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(r=e[0])!=null&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||B9()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await my();return await Fb(e,ph,"1"),await $b(e,ph),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>Fb(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>q9(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>$b(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const o=_p(i,!1).getAll();return new Du(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:o}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(o)&&(this.notifyListeners(i,o),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),G9)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}sk.type="LOCAL";const K9=sk;new Ru(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q9(t,e){return e?ri(e):(fe(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uw extends jw{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Pa(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Pa(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Pa(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function X9(t){return XR(t.auth,new Uw(t),t.bypassAuthState)}function J9(t){const{auth:e,user:n}=t;return fe(n,e,"internal-error"),C9(n,new Uw(t),t.bypassAuthState)}async function Z9(t){const{auth:e,user:n}=t;return fe(n,e,"internal-error"),T9(n,new Uw(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ak{constructor(e,n,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:o,error:s,type:a}=e;if(s){this.reject(s);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return X9;case"linkViaPopup":case"linkViaRedirect":return Z9;case"reauthViaPopup":case"reauthViaRedirect":return J9;default:fr(this.auth,"internal-error")}}resolve(e){wi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){wi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eU=new Ru(2e3,1e4);class da extends ak{constructor(e,n,r,i,o){super(e,n,i,o),this.provider=r,this.authWindow=null,this.pollId=null,da.currentPopupAction&&da.currentPopupAction.cancel(),da.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return fe(e,this.auth,"internal-error"),e}async onExecution(){wi(this.filter.length===1,"Popup operations only handle one event");const e=$w();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Or(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(Or(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,da.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if((r=(n=this.authWindow)==null?void 0:n.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Or(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,eU.get())};e()}}da.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tU="pendingRedirect",mf=new Map;class nU extends ak{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=mf.get(this.auth._key());if(!e){try{const r=await rU(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}mf.set(this.auth._key(),e)}return this.bypassAuthState||mf.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function rU(t,e){const n=sU(e),r=oU(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function iU(t,e){mf.set(t._key(),e)}function oU(t){return ri(t._redirectPersistence)}function sU(t){return pf(tU,t.config.apiKey,t.name)}async function aU(t,e,n=!1){if(zn(t.app))return Promise.reject(ai(t));const r=$o(t),i=Q9(r,e),s=await new nU(r,i,n).execute();return s&&!n&&(delete s.user._redirectEventId,await r._persistUserIfCurrent(s.user),await r._setRedirectUser(null,e)),s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lU=10*60*1e3;class cU{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!uU(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!lk(e)){const i=((r=e.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";n.onError(Or(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=lU&&this.cachedEventUids.clear(),this.cachedEventUids.has(Ub(e))}saveEventToCache(e){this.cachedEventUids.add(Ub(e)),this.lastProcessedEventTime=Date.now()}}function Ub(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function lk({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function uU(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return lk(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dU(t,e={}){return Ai(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fU=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,hU=/^https?/;async function pU(t){if(t.config.emulator)return;const{authorizedDomains:e}=await dU(t);for(const n of e)try{if(mU(n))return}catch{}fr(t,"unauthorized-domain")}function mU(t){const e=hy(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const s=new URL(t);return s.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&s.hostname===r}if(!hU.test(n))return!1;if(fU.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gU=new Ru(3e4,6e4);function Bb(){const t=Lr().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function vU(t){return new Promise((e,n)=>{var i,o,s;function r(){Bb(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Bb(),n(Or(t,"network-request-failed"))},timeout:gU.get()})}if((o=(i=Lr().gapi)==null?void 0:i.iframes)!=null&&o.Iframe)e(gapi.iframes.getContext());else if((s=Lr().gapi)!=null&&s.load)r();else{const a=i9("iframefcb");return Lr()[a]=()=>{gapi.load?r():n(Or(t,"network-request-failed"))},qR(`${r9()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw gf=null,e})}let gf=null;function yU(t){return gf=gf||vU(t),gf}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wU=new Ru(5e3,15e3),_U="__/auth/iframe",xU="emulator/auth/iframe",EU={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},bU=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function TU(t){const e=t.config;fe(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Ow(e,xU):`https://${t.config.authDomain}/${_U}`,r={apiKey:e.apiKey,appName:t.name,v:ll},i=bU.get(t.config.apiHost);i&&(r.eid=i);const o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${Eu(r).slice(1)}`}async function CU(t){const e=await yU(t),n=Lr().gapi;return fe(n,t,"internal-error"),e.open({where:document.body,url:TU(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:EU,dontclear:!0},r=>new Promise(async(i,o)=>{await r.restyle({setHideOnLeave:!1});const s=Or(t,"network-request-failed"),a=Lr().setTimeout(()=>{o(s)},wU.get());function l(){Lr().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{o(s)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SU={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},PU=500,IU=600,AU="_blank",RU="http://localhost";class Wb{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function kU(t,e,n,r=PU,i=IU){const o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l={...SU,width:r.toString(),height:i.toString(),top:o,left:s},c=sn().toLowerCase();n&&(a=FR(c)?AU:n),VR(c)&&(e=e||RU,l.scrollbars="yes");const u=Object.entries(l).reduce((h,[g,w])=>`${h}${g}=${w},`,"");if(Y$(c)&&a!=="_self")return NU(e||"",a),new Wb(null);const f=window.open(e||"",a,u);fe(f,t,"popup-blocked");try{f.focus()}catch{}return new Wb(f)}function NU(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DU="__/auth/handler",MU="emulator/auth/handler",OU=encodeURIComponent("fac");async function zb(t,e,n,r,i,o){fe(t.config.authDomain,t,"auth-domain-config-required"),fe(t.config.apiKey,t,"invalid-api-key");const s={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:ll,eventId:i};if(e instanceof KR){e.setDefaultLanguage(t.languageCode),s.providerId=e.providerId||"",tj(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(const[u,f]of Object.entries(o||{}))s[u]=f}if(e instanceof Nu){const u=e.getScopes().filter(f=>f!=="");u.length>0&&(s.scopes=u.join(","))}t.tenantId&&(s.tid=t.tenantId);const a=s;for(const u of Object.keys(a))a[u]===void 0&&delete a[u];const l=await t._getAppCheckToken(),c=l?`#${OU}=${encodeURIComponent(l)}`:"";return`${LU(t)}?${Eu(a).slice(1)}${c}`}function LU({config:t}){return t.emulator?Ow(t,MU):`https://${t.authDomain}/${DU}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sg="webStorageSupport";class VU{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=nk,this._completeRedirectFn=aU,this._overrideRedirectResult=iU}async _openPopup(e,n,r,i){var s;wi((s=this.eventManagers[e._key()])==null?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await zb(e,n,r,hy(),i);return kU(e,o,$w())}async _openRedirect(e,n,r,i){await this._originValidation(e);const o=await zb(e,n,r,hy(),i);return $9(o),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:o}=this.eventManagers[n];return i?Promise.resolve(i):(wi(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await CU(e),r=new cU(e);return n.register("authEvent",i=>(fe(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(sg,{type:sg},i=>{var s;const o=(s=i==null?void 0:i[0])==null?void 0:s[sg];o!==void 0&&n(!!o),fr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=pU(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return zR()||jR()||Vw()}}const jU=VU;var Hb="@firebase/auth",qb="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FU{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){fe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $U(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function UU(t){ja(new gs("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;fe(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:s,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:HR(t)},c=new e9(r,i,o,l);return u9(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),ja(new gs("auth-internal",e=>{const n=$o(e.getProvider("auth").getImmediate());return(r=>new FU(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),ho(Hb,qb,$U(t)),ho(Hb,qb,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BU=5*60,WU=UI("authIdTokenMaxAge")||BU;let Gb=null;const zU=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>WU)return;const i=n==null?void 0:n.token;Gb!==i&&(Gb=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function HU(t=GI()){const e=K0(t,"auth");if(e.isInitialized())return e.getImmediate();const n=c9(t,{popupRedirectResolver:jU,persistence:[K9,V9,nk]}),r=UI("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(r,location.origin);if(location.origin===o.origin){const s=zU(o.toString());N9(n,s,()=>s(n.currentUser)),k9(n,a=>s(a))}}const i=FI("auth");return i&&d9(n,`http://${i}`),n}function qU(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}t9({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const o=Or("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",qU().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});UU("Browser");const GU={apiKey:"AIzaSyB_DoE2lhYw7INy1ucJ3hQwXHBsQrmD-DY",authDomain:"rnf-app.firebaseapp.com",projectId:"rnf-app",storageBucket:"rnf-app.firebasestorage.app",messagingSenderId:"771820334247",appId:"1:771820334247:web:a096ff668dc8963f5b7f82"},ck=qI(GU),Qn=u$(ck),Hl=HU(ck),uk=m.createContext(null),YU=({children:t})=>{const[e,n]=m.useState(null),[r,i]=m.useState(!0);m.useEffect(()=>{const c=D9(Hl,u=>{n(u?{id:u.uid,uid:u.uid,email:u.email}:null),i(!1)});return()=>c()},[]);const o=async(c,u)=>{await R9(Hl,c,u)},s=async(c,u)=>{await A9(Hl,c,u)},a=async c=>{await I9(Hl,c)},l=async()=>{await M9(Hl),n(null)};return p.jsx(uk.Provider,{value:{user:e,login:o,register:s,logout:l,resetPassword:a,loadingAuth:r},children:t})},vl=()=>m.useContext(uk);function dk(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=dk(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function fk(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=dk(t))&&(r&&(r+=" "),r+=e);return r}function KU(){for(var t=0,e,n,r="";t<arguments.length;)(e=arguments[t++])&&(n=hk(e))&&(r&&(r+=" "),r+=n);return r}function hk(t){if(typeof t=="string")return t;for(var e,n="",r=0;r<t.length;r++)t[r]&&(e=hk(t[r]))&&(n&&(n+=" "),n+=e);return n}var Bw="-";function QU(t){var e=JU(t),n=t.conflictingClassGroups,r=t.conflictingClassGroupModifiers,i=r===void 0?{}:r;function o(a){var l=a.split(Bw);return l[0]===""&&l.length!==1&&l.shift(),pk(l,e)||XU(a)}function s(a,l){var c=n[a]||[];return l&&i[a]?[].concat(c,i[a]):c}return{getClassGroupId:o,getConflictingClassGroupIds:s}}function pk(t,e){var s;if(t.length===0)return e.classGroupId;var n=t[0],r=e.nextPart.get(n),i=r?pk(t.slice(1),r):void 0;if(i)return i;if(e.validators.length!==0){var o=t.join(Bw);return(s=e.validators.find(function(a){var l=a.validator;return l(o)}))==null?void 0:s.classGroupId}}var Yb=/^\[(.+)\]$/;function XU(t){if(Yb.test(t)){var e=Yb.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}}function JU(t){var e=t.theme,n=t.prefix,r={nextPart:new Map,validators:[]},i=e7(Object.entries(t.classGroups),n);return i.forEach(function(o){var s=o[0],a=o[1];gy(a,r,s,e)}),r}function gy(t,e,n,r){t.forEach(function(i){if(typeof i=="string"){var o=i===""?e:Kb(e,i);o.classGroupId=n;return}if(typeof i=="function"){if(ZU(i)){gy(i(r),e,n,r);return}e.validators.push({validator:i,classGroupId:n});return}Object.entries(i).forEach(function(s){var a=s[0],l=s[1];gy(l,Kb(e,a),n,r)})})}function Kb(t,e){var n=t;return e.split(Bw).forEach(function(r){n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n}function ZU(t){return t.isThemeGetter}function e7(t,e){return e?t.map(function(n){var r=n[0],i=n[1],o=i.map(function(s){return typeof s=="string"?e+s:typeof s=="object"?Object.fromEntries(Object.entries(s).map(function(a){var l=a[0],c=a[1];return[e+l,c]})):s});return[r,o]}):t}function t7(t){if(t<1)return{get:function(){},set:function(){}};var e=0,n=new Map,r=new Map;function i(o,s){n.set(o,s),e++,e>t&&(e=0,r=n,n=new Map)}return{get:function(s){var a=n.get(s);if(a!==void 0)return a;if((a=r.get(s))!==void 0)return i(s,a),a},set:function(s,a){n.has(s)?n.set(s,a):i(s,a)}}}var mk="!";function n7(t){var e=t.separator||":",n=e.length===1,r=e[0],i=e.length;return function(s){for(var a=[],l=0,c=0,u,f=0;f<s.length;f++){var h=s[f];if(l===0){if(h===r&&(n||s.slice(f,f+i)===e)){a.push(s.slice(c,f)),c=f+i;continue}if(h==="/"){u=f;continue}}h==="["?l++:h==="]"&&l--}var g=a.length===0?s:s.substring(c),w=g.startsWith(mk),v=w?g.substring(1):g,E=u&&u>c?u-c:void 0;return{modifiers:a,hasImportantModifier:w,baseClassName:v,maybePostfixModifierPosition:E}}}function r7(t){if(t.length<=1)return t;var e=[],n=[];return t.forEach(function(r){var i=r[0]==="[";i?(e.push.apply(e,n.sort().concat([r])),n=[]):n.push(r)}),e.push.apply(e,n.sort()),e}function i7(t){return{cache:t7(t.cacheSize),splitModifiers:n7(t),...QU(t)}}var o7=/\s+/;function s7(t,e){var n=e.splitModifiers,r=e.getClassGroupId,i=e.getConflictingClassGroupIds,o=new Set;return t.trim().split(o7).map(function(s){var a=n(s),l=a.modifiers,c=a.hasImportantModifier,u=a.baseClassName,f=a.maybePostfixModifierPosition,h=r(f?u.substring(0,f):u),g=!!f;if(!h){if(!f)return{isTailwindClass:!1,originalClassName:s};if(h=r(u),!h)return{isTailwindClass:!1,originalClassName:s};g=!1}var w=r7(l).join(":"),v=c?w+mk:w;return{isTailwindClass:!0,modifierId:v,classGroupId:h,originalClassName:s,hasPostfixModifier:g}}).reverse().filter(function(s){if(!s.isTailwindClass)return!0;var a=s.modifierId,l=s.classGroupId,c=s.hasPostfixModifier,u=a+l;return o.has(u)?!1:(o.add(u),i(l,c).forEach(function(f){return o.add(a+f)}),!0)}).reverse().map(function(s){return s.originalClassName}).join(" ")}function a7(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r,i,o,s=a;function a(c){var u=e[0],f=e.slice(1),h=f.reduce(function(g,w){return w(g)},u());return r=i7(h),i=r.cache.get,o=r.cache.set,s=l,l(c)}function l(c){var u=i(c);if(u)return u;var f=s7(c,r);return o(c,f),f}return function(){return s(KU.apply(null,arguments))}}function nt(t){var e=function(r){return r[t]||[]};return e.isThemeGetter=!0,e}var gk=/^\[(?:([a-z-]+):)?(.+)\]$/i,l7=/^\d+\/\d+$/,c7=new Set(["px","full","screen"]),u7=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,d7=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,f7=/^-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/;function nr(t){return os(t)||c7.has(t)||l7.test(t)||vy(t)}function vy(t){return ks(t,"length",y7)}function h7(t){return ks(t,"size",vk)}function p7(t){return ks(t,"position",vk)}function m7(t){return ks(t,"url",w7)}function Nd(t){return ks(t,"number",os)}function os(t){return!Number.isNaN(Number(t))}function g7(t){return t.endsWith("%")&&os(t.slice(0,-1))}function ql(t){return Qb(t)||ks(t,"number",Qb)}function Ae(t){return gk.test(t)}function Gl(){return!0}function Li(t){return u7.test(t)}function v7(t){return ks(t,"",_7)}function ks(t,e,n){var r=gk.exec(t);return r?r[1]?r[1]===e:n(r[2]):!1}function y7(t){return d7.test(t)}function vk(){return!1}function w7(t){return t.startsWith("url(")}function Qb(t){return Number.isInteger(Number(t))}function _7(t){return f7.test(t)}function x7(){var t=nt("colors"),e=nt("spacing"),n=nt("blur"),r=nt("brightness"),i=nt("borderColor"),o=nt("borderRadius"),s=nt("borderSpacing"),a=nt("borderWidth"),l=nt("contrast"),c=nt("grayscale"),u=nt("hueRotate"),f=nt("invert"),h=nt("gap"),g=nt("gradientColorStops"),w=nt("gradientColorStopPositions"),v=nt("inset"),E=nt("margin"),_=nt("opacity"),y=nt("padding"),b=nt("saturate"),I=nt("scale"),N=nt("sepia"),O=nt("skew"),S=nt("space"),C=nt("translate"),P=function(){return["auto","contain","none"]},A=function(){return["auto","hidden","clip","visible","scroll"]},M=function(){return["auto",Ae,e]},D=function(){return[Ae,e]},k=function(){return["",nr]},B=function(){return["auto",os,Ae]},G=function(){return["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"]},Y=function(){return["solid","dashed","dotted","double","none"]},z=function(){return["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity","plus-lighter"]},L=function(){return["start","end","center","between","around","evenly","stretch"]},V=function(){return["","0",Ae]},$=function(){return["auto","avoid","all","avoid-page","page","left","right","column"]},F=function(){return[os,Nd]},W=function(){return[os,Ae]};return{cacheSize:500,theme:{colors:[Gl],spacing:[nr],blur:["none","",Li,Ae],brightness:F(),borderColor:[t],borderRadius:["none","","full",Li,Ae],borderSpacing:D(),borderWidth:k(),contrast:F(),grayscale:V(),hueRotate:W(),invert:V(),gap:D(),gradientColorStops:[t],gradientColorStopPositions:[g7,vy],inset:M(),margin:M(),opacity:F(),padding:D(),saturate:F(),scale:F(),sepia:V(),skew:W(),space:D(),translate:D()},classGroups:{aspect:[{aspect:["auto","square","video",Ae]}],container:["container"],columns:[{columns:[Li]}],"break-after":[{"break-after":$()}],"break-before":[{"break-before":$()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none"]}],clear:[{clear:["left","right","both","none"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[].concat(G(),[Ae])}],overflow:[{overflow:A()}],"overflow-x":[{"overflow-x":A()}],"overflow-y":[{"overflow-y":A()}],overscroll:[{overscroll:P()}],"overscroll-x":[{"overscroll-x":P()}],"overscroll-y":[{"overscroll-y":P()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[v]}],"inset-x":[{"inset-x":[v]}],"inset-y":[{"inset-y":[v]}],start:[{start:[v]}],end:[{end:[v]}],top:[{top:[v]}],right:[{right:[v]}],bottom:[{bottom:[v]}],left:[{left:[v]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",ql]}],basis:[{basis:M()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Ae]}],grow:[{grow:V()}],shrink:[{shrink:V()}],order:[{order:["first","last","none",ql]}],"grid-cols":[{"grid-cols":[Gl]}],"col-start-end":[{col:["auto",{span:["full",ql]},Ae]}],"col-start":[{"col-start":B()}],"col-end":[{"col-end":B()}],"grid-rows":[{"grid-rows":[Gl]}],"row-start-end":[{row:["auto",{span:[ql]},Ae]}],"row-start":[{"row-start":B()}],"row-end":[{"row-end":B()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Ae]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Ae]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal"].concat(L())}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal"].concat(L(),["baseline"])}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[].concat(L(),["baseline"])}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[y]}],px:[{px:[y]}],py:[{py:[y]}],ps:[{ps:[y]}],pe:[{pe:[y]}],pt:[{pt:[y]}],pr:[{pr:[y]}],pb:[{pb:[y]}],pl:[{pl:[y]}],m:[{m:[E]}],mx:[{mx:[E]}],my:[{my:[E]}],ms:[{ms:[E]}],me:[{me:[E]}],mt:[{mt:[E]}],mr:[{mr:[E]}],mb:[{mb:[E]}],ml:[{ml:[E]}],"space-x":[{"space-x":[S]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[S]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit",Ae,e]}],"min-w":[{"min-w":["min","max","fit",Ae,nr]}],"max-w":[{"max-w":["0","none","full","min","max","fit","prose",{screen:[Li]},Li,Ae]}],h:[{h:[Ae,e,"auto","min","max","fit"]}],"min-h":[{"min-h":["min","max","fit",Ae,nr]}],"max-h":[{"max-h":[Ae,e,"min","max","fit"]}],"font-size":[{text:["base",Li,vy]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Nd]}],"font-family":[{font:[Gl]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Ae]}],"line-clamp":[{"line-clamp":["none",os,Nd]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Ae,nr]}],"list-image":[{"list-image":["none",Ae]}],"list-style-type":[{list:["none","disc","decimal",Ae]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[_]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[_]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[].concat(Y(),["wavy"])}],"text-decoration-thickness":[{decoration:["auto","from-font",nr]}],"underline-offset":[{"underline-offset":["auto",Ae,nr]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],indent:[{indent:D()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ae]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ae]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[_]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[].concat(G(),[p7])}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",h7]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},m7]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[w]}],"gradient-via-pos":[{via:[w]}],"gradient-to-pos":[{to:[w]}],"gradient-from":[{from:[g]}],"gradient-via":[{via:[g]}],"gradient-to":[{to:[g]}],rounded:[{rounded:[o]}],"rounded-s":[{"rounded-s":[o]}],"rounded-e":[{"rounded-e":[o]}],"rounded-t":[{"rounded-t":[o]}],"rounded-r":[{"rounded-r":[o]}],"rounded-b":[{"rounded-b":[o]}],"rounded-l":[{"rounded-l":[o]}],"rounded-ss":[{"rounded-ss":[o]}],"rounded-se":[{"rounded-se":[o]}],"rounded-ee":[{"rounded-ee":[o]}],"rounded-es":[{"rounded-es":[o]}],"rounded-tl":[{"rounded-tl":[o]}],"rounded-tr":[{"rounded-tr":[o]}],"rounded-br":[{"rounded-br":[o]}],"rounded-bl":[{"rounded-bl":[o]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[_]}],"border-style":[{border:[].concat(Y(),["hidden"])}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[_]}],"divide-style":[{divide:Y()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:[""].concat(Y())}],"outline-offset":[{"outline-offset":[Ae,nr]}],"outline-w":[{outline:[nr]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:k()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[_]}],"ring-offset-w":[{"ring-offset":[nr]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",Li,v7]}],"shadow-color":[{shadow:[Gl]}],opacity:[{opacity:[_]}],"mix-blend":[{"mix-blend":z()}],"bg-blend":[{"bg-blend":z()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",Li,Ae]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[u]}],invert:[{invert:[f]}],saturate:[{saturate:[b]}],sepia:[{sepia:[N]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[u]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[_]}],"backdrop-saturate":[{"backdrop-saturate":[b]}],"backdrop-sepia":[{"backdrop-sepia":[N]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[s]}],"border-spacing-x":[{"border-spacing-x":[s]}],"border-spacing-y":[{"border-spacing-y":[s]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Ae]}],duration:[{duration:W()}],ease:[{ease:["linear","in","out","in-out",Ae]}],delay:[{delay:W()}],animate:[{animate:["none","spin","ping","pulse","bounce",Ae]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[I]}],"scale-x":[{"scale-x":[I]}],"scale-y":[{"scale-y":[I]}],rotate:[{rotate:[ql,Ae]}],"translate-x":[{"translate-x":[C]}],"translate-y":[{"translate-y":[C]}],"skew-x":[{"skew-x":[O]}],"skew-y":[{"skew-y":[O]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Ae]}],accent:[{accent:["auto",t]}],appearance:["appearance-none"],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ae]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":D()}],"scroll-mx":[{"scroll-mx":D()}],"scroll-my":[{"scroll-my":D()}],"scroll-ms":[{"scroll-ms":D()}],"scroll-me":[{"scroll-me":D()}],"scroll-mt":[{"scroll-mt":D()}],"scroll-mr":[{"scroll-mr":D()}],"scroll-mb":[{"scroll-mb":D()}],"scroll-ml":[{"scroll-ml":D()}],"scroll-p":[{"scroll-p":D()}],"scroll-px":[{"scroll-px":D()}],"scroll-py":[{"scroll-py":D()}],"scroll-ps":[{"scroll-ps":D()}],"scroll-pe":[{"scroll-pe":D()}],"scroll-pt":[{"scroll-pt":D()}],"scroll-pr":[{"scroll-pr":D()}],"scroll-pb":[{"scroll-pb":D()}],"scroll-pl":[{"scroll-pl":D()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","pinch-zoom","manipulation",{pan:["x","left","right","y","up","down"]}]}],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ae]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[nr,Nd]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}}var E7=a7(x7);function De(...t){return E7(fk(t))}function Xb(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function b7(...t){return e=>{let n=!1;const r=t.map(i=>{const o=Xb(i,e);return!n&&typeof o=="function"&&(n=!0),o});if(n)return()=>{for(let i=0;i<r.length;i++){const o=r[i];typeof o=="function"?o():Xb(t[i],null)}}}}function lt(...t){return m.useCallback(b7(...t),t)}function Ha(t){const e=C7(t),n=m.forwardRef((r,i)=>{const{children:o,...s}=r,a=m.Children.toArray(o),l=a.find(P7);if(l){const c=l.props.children,u=a.map(f=>f===l?m.Children.count(c)>1?m.Children.only(null):m.isValidElement(c)?c.props.children:null:f);return p.jsx(e,{...s,ref:i,children:m.isValidElement(c)?m.cloneElement(c,void 0,u):null})}return p.jsx(e,{...s,ref:i,children:o})});return n.displayName=`${t}.Slot`,n}var T7=Ha("Slot");function C7(t){const e=m.forwardRef((n,r)=>{const{children:i,...o}=n,s=m.isValidElement(i)?A7(i):void 0,a=lt(s,r);if(m.isValidElement(i)){const l=I7(o,i.props);return i.type!==m.Fragment&&(l.ref=a),m.cloneElement(i,l)}return m.Children.count(i)>1?m.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var S7=Symbol("radix.slottable");function P7(t){return m.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===S7}function I7(t,e){const n={...e};for(const r in e){const i=t[r],o=e[r];/^on[A-Z]/.test(r)?i&&o?n[r]=(...a)=>{const l=o(...a);return i(...a),l}:i&&(n[r]=i):r==="style"?n[r]={...i,...o}:r==="className"&&(n[r]=[i,o].filter(Boolean).join(" "))}return{...t,...n}}function A7(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}const Jb=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,Zb=fk,Mu=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return Zb(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:i,defaultVariants:o}=e,s=Object.keys(i).map(c=>{const u=n==null?void 0:n[c],f=o==null?void 0:o[c];if(u===null)return null;const h=Jb(u)||Jb(f);return i[c][h]}),a=n&&Object.entries(n).reduce((c,u)=>{let[f,h]=u;return h===void 0||(c[f]=h),c},{}),l=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((c,u)=>{let{class:f,className:h,...g}=u;return Object.entries(g).every(w=>{let[v,E]=w;return Array.isArray(E)?E.includes({...o,...a}[v]):{...o,...a}[v]===E})?[...c,f,h]:c},[]);return Zb(t,s,l,n==null?void 0:n.class,n==null?void 0:n.className)},yy=Mu("inline-flex items-center justify-center rounded-lg text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-[#E27DBF] text-white hover:bg-[#FFB1DD]",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-lg px-3",lg:"h-11 rounded-lg px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),Te=_e.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...i},o)=>{const s=r?T7:"button";return p.jsx(s,{className:De(yy({variant:e,size:n,className:t})),ref:o,...i})});Te.displayName="Button";const Vr=_e.forwardRef(({className:t,type:e,...n},r)=>p.jsx("input",{type:e,className:De("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:shadow-[0_0_0_3px_rgba(226,125,191,0.2)] disabled:cursor-not-allowed disabled:opacity-50",t),ref:r,...n}));Vr.displayName="Input";var R7=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],ze=R7.reduce((t,e)=>{const n=Ha(`Primitive.${e}`),r=m.forwardRef((i,o)=>{const{asChild:s,...a}=i,l=s?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),p.jsx(l,{...a,ref:o})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function yk(t,e){t&&Lo.flushSync(()=>t.dispatchEvent(e))}var k7="Label",wk=m.forwardRef((t,e)=>p.jsx(ze.label,{...t,ref:e,onMouseDown:n=>{var i;n.target.closest("button, input, select, textarea")||((i=t.onMouseDown)==null||i.call(t,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));wk.displayName=k7;var _k=wk;const N7=Mu("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),An=_e.forwardRef(({className:t,...e},n)=>p.jsx(_k,{ref:n,className:De(N7(),t),...e}));An.displayName=_k.displayName;const D7=1;let ag=0;function M7(){return ag=(ag+1)%Number.MAX_VALUE,ag.toString()}const un={state:{toasts:[]},listeners:[],getState:()=>un.state,setState:t=>{typeof t=="function"?un.state=t(un.state):un.state={...un.state,...t},un.listeners.forEach(e=>e(un.state))},subscribe:t=>(un.listeners.push(t),()=>{un.listeners=un.listeners.filter(e=>e!==t)})},O7=({...t})=>{const e=M7(),n=i=>un.setState(o=>({...o,toasts:o.toasts.map(s=>s.id===e?{...s,...i}:s)})),r=()=>un.setState(i=>({...i,toasts:i.toasts.filter(o=>o.id!==e)}));return un.setState(i=>({...i,toasts:[{...t,id:e,dismiss:r},...i.toasts].slice(0,D7)})),{id:e,dismiss:r,update:n}};function yl(){const[t,e]=m.useState(un.getState());return m.useEffect(()=>un.subscribe(r=>{e(r)}),[]),m.useEffect(()=>{const n=[];return t.toasts.forEach(r=>{if(r.duration===1/0)return;const i=setTimeout(()=>{r.dismiss()},r.duration||5e3);n.push(i)}),()=>{n.forEach(r=>clearTimeout(r))}},[t.toasts]),{toast:O7,toasts:t.toasts}}const xk=m.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"}),xp=m.createContext({}),Ep=m.createContext(null),bp=typeof document<"u",Ww=bp?m.useLayoutEffect:m.useEffect,Ek=m.createContext({strict:!1}),zw=t=>t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),L7="framerAppearId",bk="data-"+zw(L7);function V7(t,e,n,r){const{visualElement:i}=m.useContext(xp),o=m.useContext(Ek),s=m.useContext(Ep),a=m.useContext(xk).reducedMotion,l=m.useRef();r=r||o.renderer,!l.current&&r&&(l.current=r(t,{visualState:e,parent:i,props:n,presenceContext:s,blockInitialAnimation:s?s.initial===!1:!1,reducedMotionConfig:a}));const c=l.current;m.useInsertionEffect(()=>{c&&c.update(n,s)});const u=m.useRef(!!(n[bk]&&!window.HandoffComplete));return Ww(()=>{c&&(c.render(),u.current&&c.animationState&&c.animationState.animateChanges())}),m.useEffect(()=>{c&&(c.updateFeatures(),!u.current&&c.animationState&&c.animationState.animateChanges(),u.current&&(u.current=!1,window.HandoffComplete=!0))}),c}function fa(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function j7(t,e,n){return m.useCallback(r=>{r&&t.mount&&t.mount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):fa(n)&&(n.current=r))},[e])}function au(t){return typeof t=="string"||Array.isArray(t)}function Tp(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}const Hw=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],qw=["initial",...Hw];function Cp(t){return Tp(t.animate)||qw.some(e=>au(t[e]))}function Tk(t){return!!(Cp(t)||t.variants)}function F7(t,e){if(Cp(t)){const{initial:n,animate:r}=t;return{initial:n===!1||au(n)?n:void 0,animate:au(r)?r:void 0}}return t.inherit!==!1?e:{}}function $7(t){const{initial:e,animate:n}=F7(t,m.useContext(xp));return m.useMemo(()=>({initial:e,animate:n}),[eT(e),eT(n)])}function eT(t){return Array.isArray(t)?t.join(" "):t}const tT={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},lu={};for(const t in tT)lu[t]={isEnabled:e=>tT[t].some(n=>!!e[n])};function U7(t){for(const e in t)lu[e]={...lu[e],...t[e]}}const Gw=m.createContext({}),Ck=m.createContext({}),B7=Symbol.for("motionComponentSymbol");function W7({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:i}){t&&U7(t);function o(a,l){let c;const u={...m.useContext(xk),...a,layoutId:z7(a)},{isStatic:f}=u,h=$7(a),g=r(a,f);if(!f&&bp){h.visualElement=V7(i,g,u,e);const w=m.useContext(Ck),v=m.useContext(Ek).strict;h.visualElement&&(c=h.visualElement.loadFeatures(u,v,t,w))}return m.createElement(xp.Provider,{value:h},c&&h.visualElement?m.createElement(c,{visualElement:h.visualElement,...u}):null,n(i,a,j7(g,h.visualElement,l),g,f,h.visualElement))}const s=m.forwardRef(o);return s[B7]=i,s}function z7({layoutId:t}){const e=m.useContext(Gw).id;return e&&t!==void 0?e+"-"+t:t}function H7(t){function e(r,i={}){return W7(t(r,i))}if(typeof Proxy>"u")return e;const n=new Map;return new Proxy(e,{get:(r,i)=>(n.has(i)||n.set(i,e(i)),n.get(i))})}const q7=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Yw(t){return typeof t!="string"||t.includes("-")?!1:!!(q7.indexOf(t)>-1||/[A-Z]/.test(t))}const gh={};function G7(t){Object.assign(gh,t)}const Ou=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Ns=new Set(Ou);function Sk(t,{layout:e,layoutId:n}){return Ns.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!gh[t]||t==="opacity")}const Sn=t=>!!(t&&t.getVelocity),Y7={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},K7=Ou.length;function Q7(t,{enableHardwareAcceleration:e=!0,allowTransformNone:n=!0},r,i){let o="";for(let s=0;s<K7;s++){const a=Ou[s];if(t[a]!==void 0){const l=Y7[a]||a;o+=`${l}(${t[a]}) `}}return e&&!t.z&&(o+="translateZ(0)"),o=o.trim(),i?o=i(t,r?"":o):n&&r&&(o="none"),o}const Pk=t=>e=>typeof e=="string"&&e.startsWith(t),Ik=Pk("--"),wy=Pk("var(--"),X7=/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,J7=(t,e)=>e&&typeof t=="number"?e.transform(t):t,Ao=(t,e,n)=>Math.min(Math.max(n,t),e),Ds={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},bc={...Ds,transform:t=>Ao(0,1,t)},Dd={...Ds,default:1},Tc=t=>Math.round(t*1e5)/1e5,Sp=/(-)?([\d]*\.?[\d])+/g,Ak=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,Z7=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function Lu(t){return typeof t=="string"}const Vu=t=>({test:e=>Lu(e)&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),ji=Vu("deg"),jr=Vu("%"),ge=Vu("px"),e8=Vu("vh"),t8=Vu("vw"),nT={...jr,parse:t=>jr.parse(t)/100,transform:t=>jr.transform(t*100)},rT={...Ds,transform:Math.round},Rk={borderWidth:ge,borderTopWidth:ge,borderRightWidth:ge,borderBottomWidth:ge,borderLeftWidth:ge,borderRadius:ge,radius:ge,borderTopLeftRadius:ge,borderTopRightRadius:ge,borderBottomRightRadius:ge,borderBottomLeftRadius:ge,width:ge,maxWidth:ge,height:ge,maxHeight:ge,size:ge,top:ge,right:ge,bottom:ge,left:ge,padding:ge,paddingTop:ge,paddingRight:ge,paddingBottom:ge,paddingLeft:ge,margin:ge,marginTop:ge,marginRight:ge,marginBottom:ge,marginLeft:ge,rotate:ji,rotateX:ji,rotateY:ji,rotateZ:ji,scale:Dd,scaleX:Dd,scaleY:Dd,scaleZ:Dd,skew:ji,skewX:ji,skewY:ji,distance:ge,translateX:ge,translateY:ge,translateZ:ge,x:ge,y:ge,z:ge,perspective:ge,transformPerspective:ge,opacity:bc,originX:nT,originY:nT,originZ:ge,zIndex:rT,fillOpacity:bc,strokeOpacity:bc,numOctaves:rT};function Kw(t,e,n,r){const{style:i,vars:o,transform:s,transformOrigin:a}=t;let l=!1,c=!1,u=!0;for(const f in e){const h=e[f];if(Ik(f)){o[f]=h;continue}const g=Rk[f],w=J7(h,g);if(Ns.has(f)){if(l=!0,s[f]=w,!u)continue;h!==(g.default||0)&&(u=!1)}else f.startsWith("origin")?(c=!0,a[f]=w):i[f]=w}if(e.transform||(l||r?i.transform=Q7(t.transform,n,u,r):i.transform&&(i.transform="none")),c){const{originX:f="50%",originY:h="50%",originZ:g=0}=a;i.transformOrigin=`${f} ${h} ${g}`}}const Qw=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function kk(t,e,n){for(const r in e)!Sn(e[r])&&!Sk(r,n)&&(t[r]=e[r])}function n8({transformTemplate:t},e,n){return m.useMemo(()=>{const r=Qw();return Kw(r,e,{enableHardwareAcceleration:!n},t),Object.assign({},r.vars,r.style)},[e])}function r8(t,e,n){const r=t.style||{},i={};return kk(i,r,t),Object.assign(i,n8(t,e,n)),t.transformValues?t.transformValues(i):i}function i8(t,e,n){const r={},i=r8(t,e,n);return t.drag&&t.dragListener!==!1&&(r.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(r.tabIndex=0),r.style=i,r}const o8=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function vh(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||o8.has(t)}let Nk=t=>!vh(t);function s8(t){t&&(Nk=e=>e.startsWith("on")?!vh(e):t(e))}try{s8(require("@emotion/is-prop-valid").default)}catch{}function a8(t,e,n){const r={};for(const i in t)i==="values"&&typeof t.values=="object"||(Nk(i)||n===!0&&vh(i)||!e&&!vh(i)||t.draggable&&i.startsWith("onDrag"))&&(r[i]=t[i]);return r}function iT(t,e,n){return typeof t=="string"?t:ge.transform(e+n*t)}function l8(t,e,n){const r=iT(e,t.x,t.width),i=iT(n,t.y,t.height);return`${r} ${i}`}const c8={offset:"stroke-dashoffset",array:"stroke-dasharray"},u8={offset:"strokeDashoffset",array:"strokeDasharray"};function d8(t,e,n=1,r=0,i=!0){t.pathLength=1;const o=i?c8:u8;t[o.offset]=ge.transform(-r);const s=ge.transform(e),a=ge.transform(n);t[o.array]=`${s} ${a}`}function Xw(t,{attrX:e,attrY:n,attrScale:r,originX:i,originY:o,pathLength:s,pathSpacing:a=1,pathOffset:l=0,...c},u,f,h){if(Kw(t,c,u,h),f){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:g,style:w,dimensions:v}=t;g.transform&&(v&&(w.transform=g.transform),delete g.transform),v&&(i!==void 0||o!==void 0||w.transform)&&(w.transformOrigin=l8(v,i!==void 0?i:.5,o!==void 0?o:.5)),e!==void 0&&(g.x=e),n!==void 0&&(g.y=n),r!==void 0&&(g.scale=r),s!==void 0&&d8(g,s,a,l,!1)}const Dk=()=>({...Qw(),attrs:{}}),Jw=t=>typeof t=="string"&&t.toLowerCase()==="svg";function f8(t,e,n,r){const i=m.useMemo(()=>{const o=Dk();return Xw(o,e,{enableHardwareAcceleration:!1},Jw(r),t.transformTemplate),{...o.attrs,style:{...o.style}}},[e]);if(t.style){const o={};kk(o,t.style,t),i.style={...o,...i.style}}return i}function h8(t=!1){return(n,r,i,{latestValues:o},s)=>{const l=(Yw(n)?f8:i8)(r,o,s,n),u={...a8(r,typeof n=="string",t),...l,ref:i},{children:f}=r,h=m.useMemo(()=>Sn(f)?f.get():f,[f]);return m.createElement(n,{...u,children:h})}}function Mk(t,{style:e,vars:n},r,i){Object.assign(t.style,e,i&&i.getProjectionStyles(r));for(const o in n)t.style.setProperty(o,n[o])}const Ok=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function Lk(t,e,n,r){Mk(t,e,void 0,r);for(const i in e.attrs)t.setAttribute(Ok.has(i)?i:zw(i),e.attrs[i])}function Zw(t,e){const{style:n}=t,r={};for(const i in n)(Sn(n[i])||e.style&&Sn(e.style[i])||Sk(i,t))&&(r[i]=n[i]);return r}function Vk(t,e){const n=Zw(t,e);for(const r in t)if(Sn(t[r])||Sn(e[r])){const i=Ou.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;n[i]=t[r]}return n}function e1(t,e,n,r={},i={}){return typeof e=="function"&&(e=e(n!==void 0?n:t.custom,r,i)),typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"&&(e=e(n!==void 0?n:t.custom,r,i)),e}function jk(t){const e=m.useRef(null);return e.current===null&&(e.current=t()),e.current}const yh=t=>Array.isArray(t),p8=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),m8=t=>yh(t)?t[t.length-1]||0:t;function vf(t){const e=Sn(t)?t.get():t;return p8(e)?e.toValue():e}function g8({scrapeMotionValuesFromProps:t,createRenderState:e,onMount:n},r,i,o){const s={latestValues:v8(r,i,o,t),renderState:e()};return n&&(s.mount=a=>n(r,a,s)),s}const Fk=t=>(e,n)=>{const r=m.useContext(xp),i=m.useContext(Ep),o=()=>g8(t,e,r,i);return n?o():jk(o)};function v8(t,e,n,r){const i={},o=r(t,{});for(const h in o)i[h]=vf(o[h]);let{initial:s,animate:a}=t;const l=Cp(t),c=Tk(t);e&&c&&!l&&t.inherit!==!1&&(s===void 0&&(s=e.initial),a===void 0&&(a=e.animate));let u=n?n.initial===!1:!1;u=u||s===!1;const f=u?a:s;return f&&typeof f!="boolean"&&!Tp(f)&&(Array.isArray(f)?f:[f]).forEach(g=>{const w=e1(t,g);if(!w)return;const{transitionEnd:v,transition:E,..._}=w;for(const y in _){let b=_[y];if(Array.isArray(b)){const I=u?b.length-1:0;b=b[I]}b!==null&&(i[y]=b)}for(const y in v)i[y]=v[y]}),i}const vt=t=>t;class oT{constructor(){this.order=[],this.scheduled=new Set}add(e){if(!this.scheduled.has(e))return this.scheduled.add(e),this.order.push(e),!0}remove(e){const n=this.order.indexOf(e);n!==-1&&(this.order.splice(n,1),this.scheduled.delete(e))}clear(){this.order.length=0,this.scheduled.clear()}}function y8(t){let e=new oT,n=new oT,r=0,i=!1,o=!1;const s=new WeakSet,a={schedule:(l,c=!1,u=!1)=>{const f=u&&i,h=f?e:n;return c&&s.add(l),h.add(l)&&f&&i&&(r=e.order.length),l},cancel:l=>{n.remove(l),s.delete(l)},process:l=>{if(i){o=!0;return}if(i=!0,[e,n]=[n,e],n.clear(),r=e.order.length,r)for(let c=0;c<r;c++){const u=e.order[c];u(l),s.has(u)&&(a.schedule(u),t())}i=!1,o&&(o=!1,a.process(l))}};return a}const Md=["prepare","read","update","preRender","render","postRender"],w8=40;function _8(t,e){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},o=Md.reduce((f,h)=>(f[h]=y8(()=>n=!0),f),{}),s=f=>o[f].process(i),a=()=>{const f=performance.now();n=!1,i.delta=r?1e3/60:Math.max(Math.min(f-i.timestamp,w8),1),i.timestamp=f,i.isProcessing=!0,Md.forEach(s),i.isProcessing=!1,n&&e&&(r=!1,t(a))},l=()=>{n=!0,r=!0,i.isProcessing||t(a)};return{schedule:Md.reduce((f,h)=>{const g=o[h];return f[h]=(w,v=!1,E=!1)=>(n||l(),g.schedule(w,v,E)),f},{}),cancel:f=>Md.forEach(h=>o[h].cancel(f)),state:i,steps:o}}const{schedule:Je,cancel:_i,state:Zt,steps:lg}=_8(typeof requestAnimationFrame<"u"?requestAnimationFrame:vt,!0),x8={useVisualState:Fk({scrapeMotionValuesFromProps:Vk,createRenderState:Dk,onMount:(t,e,{renderState:n,latestValues:r})=>{Je.read(()=>{try{n.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{n.dimensions={x:0,y:0,width:0,height:0}}}),Je.render(()=>{Xw(n,r,{enableHardwareAcceleration:!1},Jw(e.tagName),t.transformTemplate),Lk(e,n)})}})},E8={useVisualState:Fk({scrapeMotionValuesFromProps:Zw,createRenderState:Qw})};function b8(t,{forwardMotionProps:e=!1},n,r){return{...Yw(t)?x8:E8,preloadedFeatures:n,useRender:h8(e),createVisualElement:r,Component:t}}function ii(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}const $k=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1;function Pp(t,e="page"){return{point:{x:t[e+"X"],y:t[e+"Y"]}}}const T8=t=>e=>$k(e)&&t(e,Pp(e));function li(t,e,n,r){return ii(t,e,T8(n),r)}const C8=(t,e)=>n=>e(t(n)),vo=(...t)=>t.reduce(C8);function Uk(t){let e=null;return()=>{const n=()=>{e=null};return e===null?(e=t,n):!1}}const sT=Uk("dragHorizontal"),aT=Uk("dragVertical");function Bk(t){let e=!1;if(t==="y")e=aT();else if(t==="x")e=sT();else{const n=sT(),r=aT();n&&r?e=()=>{n(),r()}:(n&&n(),r&&r())}return e}function Wk(){const t=Bk(!0);return t?(t(),!1):!0}class Uo{constructor(e){this.isMounted=!1,this.node=e}update(){}}function lT(t,e){const n="pointer"+(e?"enter":"leave"),r="onHover"+(e?"Start":"End"),i=(o,s)=>{if(o.pointerType==="touch"||Wk())return;const a=t.getProps();t.animationState&&a.whileHover&&t.animationState.setActive("whileHover",e),a[r]&&Je.update(()=>a[r](o,s))};return li(t.current,n,i,{passive:!t.getProps()[r]})}class S8 extends Uo{mount(){this.unmount=vo(lT(this.node,!0),lT(this.node,!1))}unmount(){}}class P8 extends Uo{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=vo(ii(this.node.current,"focus",()=>this.onFocus()),ii(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const zk=(t,e)=>e?t===e?!0:zk(t,e.parentElement):!1;function cg(t,e){if(!e)return;const n=new PointerEvent("pointer"+t);e(n,Pp(n))}class I8 extends Uo{constructor(){super(...arguments),this.removeStartListeners=vt,this.removeEndListeners=vt,this.removeAccessibleListeners=vt,this.startPointerPress=(e,n)=>{if(this.isPressing)return;this.removeEndListeners();const r=this.node.getProps(),o=li(window,"pointerup",(a,l)=>{if(!this.checkPressEnd())return;const{onTap:c,onTapCancel:u,globalTapTarget:f}=this.node.getProps();Je.update(()=>{!f&&!zk(this.node.current,a.target)?u&&u(a,l):c&&c(a,l)})},{passive:!(r.onTap||r.onPointerUp)}),s=li(window,"pointercancel",(a,l)=>this.cancelPress(a,l),{passive:!(r.onTapCancel||r.onPointerCancel)});this.removeEndListeners=vo(o,s),this.startPress(e,n)},this.startAccessiblePress=()=>{const e=o=>{if(o.key!=="Enter"||this.isPressing)return;const s=a=>{a.key!=="Enter"||!this.checkPressEnd()||cg("up",(l,c)=>{const{onTap:u}=this.node.getProps();u&&Je.update(()=>u(l,c))})};this.removeEndListeners(),this.removeEndListeners=ii(this.node.current,"keyup",s),cg("down",(a,l)=>{this.startPress(a,l)})},n=ii(this.node.current,"keydown",e),r=()=>{this.isPressing&&cg("cancel",(o,s)=>this.cancelPress(o,s))},i=ii(this.node.current,"blur",r);this.removeAccessibleListeners=vo(n,i)}}startPress(e,n){this.isPressing=!0;const{onTapStart:r,whileTap:i}=this.node.getProps();i&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),r&&Je.update(()=>r(e,n))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!Wk()}cancelPress(e,n){if(!this.checkPressEnd())return;const{onTapCancel:r}=this.node.getProps();r&&Je.update(()=>r(e,n))}mount(){const e=this.node.getProps(),n=li(e.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(e.onTapStart||e.onPointerStart)}),r=ii(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=vo(n,r)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const _y=new WeakMap,ug=new WeakMap,A8=t=>{const e=_y.get(t.target);e&&e(t)},R8=t=>{t.forEach(A8)};function k8({root:t,...e}){const n=t||document;ug.has(n)||ug.set(n,{});const r=ug.get(n),i=JSON.stringify(e);return r[i]||(r[i]=new IntersectionObserver(R8,{root:t,...e})),r[i]}function N8(t,e,n){const r=k8(e);return _y.set(t,n),r.observe(t),()=>{_y.delete(t),r.unobserve(t)}}const D8={some:0,all:1};class M8 extends Uo{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:o}=e,s={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:D8[i]},a=l=>{const{isIntersecting:c}=l;if(this.isInView===c||(this.isInView=c,o&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:u,onViewportLeave:f}=this.node.getProps(),h=c?u:f;h&&h(l)};return N8(this.node.current,s,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(O8(e,n))&&this.startObserver()}unmount(){}}function O8({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const L8={inView:{Feature:M8},tap:{Feature:I8},focus:{Feature:P8},hover:{Feature:S8}};function Hk(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}function V8(t){const e={};return t.values.forEach((n,r)=>e[r]=n.get()),e}function j8(t){const e={};return t.values.forEach((n,r)=>e[r]=n.getVelocity()),e}function Ip(t,e,n){const r=t.getProps();return e1(r,e,n!==void 0?n:r.custom,V8(t),j8(t))}let F8=vt,t1=vt;const yo=t=>t*1e3,ci=t=>t/1e3,$8={current:!1},qk=t=>Array.isArray(t)&&typeof t[0]=="number";function Gk(t){return!!(!t||typeof t=="string"&&Yk[t]||qk(t)||Array.isArray(t)&&t.every(Gk))}const ac=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,Yk={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:ac([0,.65,.55,1]),circOut:ac([.55,0,1,.45]),backIn:ac([.31,.01,.66,-.59]),backOut:ac([.33,1.53,.69,.99])};function Kk(t){if(t)return qk(t)?ac(t):Array.isArray(t)?t.map(Kk):Yk[t]}function U8(t,e,n,{delay:r=0,duration:i,repeat:o=0,repeatType:s="loop",ease:a,times:l}={}){const c={[e]:n};l&&(c.offset=l);const u=Kk(a);return Array.isArray(u)&&(c.easing=u),t.animate(c,{delay:r,duration:i,easing:Array.isArray(u)?"linear":u,fill:"both",iterations:o+1,direction:s==="reverse"?"alternate":"normal"})}function B8(t,{repeat:e,repeatType:n="loop"}){const r=e&&n!=="loop"&&e%2===1?0:t.length-1;return t[r]}const Qk=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,W8=1e-7,z8=12;function H8(t,e,n,r,i){let o,s,a=0;do s=e+(n-e)/2,o=Qk(s,r,i)-t,o>0?n=s:e=s;while(Math.abs(o)>W8&&++a<z8);return s}function ju(t,e,n,r){if(t===e&&n===r)return vt;const i=o=>H8(o,0,1,t,n);return o=>o===0||o===1?o:Qk(i(o),e,r)}const q8=ju(.42,0,1,1),G8=ju(0,0,.58,1),Xk=ju(.42,0,.58,1),Y8=t=>Array.isArray(t)&&typeof t[0]!="number",Jk=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,Zk=t=>e=>1-t(1-e),n1=t=>1-Math.sin(Math.acos(t)),e2=Zk(n1),K8=Jk(n1),t2=ju(.33,1.53,.69,.99),r1=Zk(t2),Q8=Jk(r1),X8=t=>(t*=2)<1?.5*r1(t):.5*(2-Math.pow(2,-10*(t-1))),J8={linear:vt,easeIn:q8,easeInOut:Xk,easeOut:G8,circIn:n1,circInOut:K8,circOut:e2,backIn:r1,backInOut:Q8,backOut:t2,anticipate:X8},cT=t=>{if(Array.isArray(t)){t1(t.length===4);const[e,n,r,i]=t;return ju(e,n,r,i)}else if(typeof t=="string")return J8[t];return t},i1=(t,e)=>n=>!!(Lu(n)&&Z7.test(n)&&n.startsWith(t)||e&&Object.prototype.hasOwnProperty.call(n,e)),n2=(t,e,n)=>r=>{if(!Lu(r))return r;const[i,o,s,a]=r.match(Sp);return{[t]:parseFloat(i),[e]:parseFloat(o),[n]:parseFloat(s),alpha:a!==void 0?parseFloat(a):1}},Z8=t=>Ao(0,255,t),dg={...Ds,transform:t=>Math.round(Z8(t))},ss={test:i1("rgb","red"),parse:n2("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+dg.transform(t)+", "+dg.transform(e)+", "+dg.transform(n)+", "+Tc(bc.transform(r))+")"};function eB(t){let e="",n="",r="",i="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),i=t.substring(4,5),e+=e,n+=n,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const xy={test:i1("#"),parse:eB,transform:ss.transform},ha={test:i1("hsl","hue"),parse:n2("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+jr.transform(Tc(e))+", "+jr.transform(Tc(n))+", "+Tc(bc.transform(r))+")"},dn={test:t=>ss.test(t)||xy.test(t)||ha.test(t),parse:t=>ss.test(t)?ss.parse(t):ha.test(t)?ha.parse(t):xy.parse(t),transform:t=>Lu(t)?t:t.hasOwnProperty("red")?ss.transform(t):ha.transform(t)},ut=(t,e,n)=>-n*t+n*e+t;function fg(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function tB({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let i=0,o=0,s=0;if(!e)i=o=s=n;else{const a=n<.5?n*(1+e):n+e-n*e,l=2*n-a;i=fg(l,a,t+1/3),o=fg(l,a,t),s=fg(l,a,t-1/3)}return{red:Math.round(i*255),green:Math.round(o*255),blue:Math.round(s*255),alpha:r}}const hg=(t,e,n)=>{const r=t*t;return Math.sqrt(Math.max(0,n*(e*e-r)+r))},nB=[xy,ss,ha],rB=t=>nB.find(e=>e.test(t));function uT(t){const e=rB(t);let n=e.parse(t);return e===ha&&(n=tB(n)),n}const r2=(t,e)=>{const n=uT(t),r=uT(e),i={...n};return o=>(i.red=hg(n.red,r.red,o),i.green=hg(n.green,r.green,o),i.blue=hg(n.blue,r.blue,o),i.alpha=ut(n.alpha,r.alpha,o),ss.transform(i))};function iB(t){var e,n;return isNaN(t)&&Lu(t)&&(((e=t.match(Sp))===null||e===void 0?void 0:e.length)||0)+(((n=t.match(Ak))===null||n===void 0?void 0:n.length)||0)>0}const i2={regex:X7,countKey:"Vars",token:"${v}",parse:vt},o2={regex:Ak,countKey:"Colors",token:"${c}",parse:dn.parse},s2={regex:Sp,countKey:"Numbers",token:"${n}",parse:Ds.parse};function pg(t,{regex:e,countKey:n,token:r,parse:i}){const o=t.tokenised.match(e);o&&(t["num"+n]=o.length,t.tokenised=t.tokenised.replace(e,r),t.values.push(...o.map(i)))}function wh(t){const e=t.toString(),n={value:e,tokenised:e,values:[],numVars:0,numColors:0,numNumbers:0};return n.value.includes("var(--")&&pg(n,i2),pg(n,o2),pg(n,s2),n}function a2(t){return wh(t).values}function l2(t){const{values:e,numColors:n,numVars:r,tokenised:i}=wh(t),o=e.length;return s=>{let a=i;for(let l=0;l<o;l++)l<r?a=a.replace(i2.token,s[l]):l<r+n?a=a.replace(o2.token,dn.transform(s[l])):a=a.replace(s2.token,Tc(s[l]));return a}}const oB=t=>typeof t=="number"?0:t;function sB(t){const e=a2(t);return l2(t)(e.map(oB))}const Ro={test:iB,parse:a2,createTransformer:l2,getAnimatableNone:sB},c2=(t,e)=>n=>`${n>0?e:t}`;function u2(t,e){return typeof t=="number"?n=>ut(t,e,n):dn.test(t)?r2(t,e):t.startsWith("var(")?c2(t,e):f2(t,e)}const d2=(t,e)=>{const n=[...t],r=n.length,i=t.map((o,s)=>u2(o,e[s]));return o=>{for(let s=0;s<r;s++)n[s]=i[s](o);return n}},aB=(t,e)=>{const n={...t,...e},r={};for(const i in n)t[i]!==void 0&&e[i]!==void 0&&(r[i]=u2(t[i],e[i]));return i=>{for(const o in r)n[o]=r[o](i);return n}},f2=(t,e)=>{const n=Ro.createTransformer(e),r=wh(t),i=wh(e);return r.numVars===i.numVars&&r.numColors===i.numColors&&r.numNumbers>=i.numNumbers?vo(d2(r.values,i.values),n):c2(t,e)},cu=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r},dT=(t,e)=>n=>ut(t,e,n);function lB(t){return typeof t=="number"?dT:typeof t=="string"?dn.test(t)?r2:f2:Array.isArray(t)?d2:typeof t=="object"?aB:dT}function cB(t,e,n){const r=[],i=n||lB(t[0]),o=t.length-1;for(let s=0;s<o;s++){let a=i(t[s],t[s+1]);if(e){const l=Array.isArray(e)?e[s]||vt:e;a=vo(l,a)}r.push(a)}return r}function h2(t,e,{clamp:n=!0,ease:r,mixer:i}={}){const o=t.length;if(t1(o===e.length),o===1)return()=>e[0];t[0]>t[o-1]&&(t=[...t].reverse(),e=[...e].reverse());const s=cB(e,r,i),a=s.length,l=c=>{let u=0;if(a>1)for(;u<t.length-2&&!(c<t[u+1]);u++);const f=cu(t[u],t[u+1],c);return s[u](f)};return n?c=>l(Ao(t[0],t[o-1],c)):l}function uB(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const i=cu(0,e,r);t.push(ut(n,1,i))}}function dB(t){const e=[0];return uB(e,t.length-1),e}function fB(t,e){return t.map(n=>n*e)}function hB(t,e){return t.map(()=>e||Xk).splice(0,t.length-1)}function _h({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const i=Y8(r)?r.map(cT):cT(r),o={done:!1,value:e[0]},s=fB(n&&n.length===e.length?n:dB(e),t),a=h2(s,e,{ease:Array.isArray(i)?i:hB(e,i)});return{calculatedDuration:t,next:l=>(o.value=a(l),o.done=l>=t,o)}}function p2(t,e){return e?t*(1e3/e):0}const pB=5;function m2(t,e,n){const r=Math.max(e-pB,0);return p2(n-t(r),e-r)}const mg=.001,mB=.01,fT=10,gB=.05,vB=1;function yB({duration:t=800,bounce:e=.25,velocity:n=0,mass:r=1}){let i,o;F8(t<=yo(fT));let s=1-e;s=Ao(gB,vB,s),t=Ao(mB,fT,ci(t)),s<1?(i=c=>{const u=c*s,f=u*t,h=u-n,g=Ey(c,s),w=Math.exp(-f);return mg-h/g*w},o=c=>{const f=c*s*t,h=f*n+n,g=Math.pow(s,2)*Math.pow(c,2)*t,w=Math.exp(-f),v=Ey(Math.pow(c,2),s);return(-i(c)+mg>0?-1:1)*((h-g)*w)/v}):(i=c=>{const u=Math.exp(-c*t),f=(c-n)*t+1;return-mg+u*f},o=c=>{const u=Math.exp(-c*t),f=(n-c)*(t*t);return u*f});const a=5/t,l=_B(i,o,a);if(t=yo(t),isNaN(l))return{stiffness:100,damping:10,duration:t};{const c=Math.pow(l,2)*r;return{stiffness:c,damping:s*2*Math.sqrt(r*c),duration:t}}}const wB=12;function _B(t,e,n){let r=n;for(let i=1;i<wB;i++)r=r-t(r)/e(r);return r}function Ey(t,e){return t*Math.sqrt(1-e*e)}const xB=["duration","bounce"],EB=["stiffness","damping","mass"];function hT(t,e){return e.some(n=>t[n]!==void 0)}function bB(t){let e={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...t};if(!hT(t,EB)&&hT(t,xB)){const n=yB(t);e={...e,...n,mass:1},e.isResolvedFromDuration=!0}return e}function g2({keyframes:t,restDelta:e,restSpeed:n,...r}){const i=t[0],o=t[t.length-1],s={done:!1,value:i},{stiffness:a,damping:l,mass:c,duration:u,velocity:f,isResolvedFromDuration:h}=bB({...r,velocity:-ci(r.velocity||0)}),g=f||0,w=l/(2*Math.sqrt(a*c)),v=o-i,E=ci(Math.sqrt(a/c)),_=Math.abs(v)<5;n||(n=_?.01:2),e||(e=_?.005:.5);let y;if(w<1){const b=Ey(E,w);y=I=>{const N=Math.exp(-w*E*I);return o-N*((g+w*E*v)/b*Math.sin(b*I)+v*Math.cos(b*I))}}else if(w===1)y=b=>o-Math.exp(-E*b)*(v+(g+E*v)*b);else{const b=E*Math.sqrt(w*w-1);y=I=>{const N=Math.exp(-w*E*I),O=Math.min(b*I,300);return o-N*((g+w*E*v)*Math.sinh(O)+b*v*Math.cosh(O))/b}}return{calculatedDuration:h&&u||null,next:b=>{const I=y(b);if(h)s.done=b>=u;else{let N=g;b!==0&&(w<1?N=m2(y,b,I):N=0);const O=Math.abs(N)<=n,S=Math.abs(o-I)<=e;s.done=O&&S}return s.value=s.done?o:I,s}}}function pT({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:o=500,modifyTarget:s,min:a,max:l,restDelta:c=.5,restSpeed:u}){const f=t[0],h={done:!1,value:f},g=C=>a!==void 0&&C<a||l!==void 0&&C>l,w=C=>a===void 0?l:l===void 0||Math.abs(a-C)<Math.abs(l-C)?a:l;let v=n*e;const E=f+v,_=s===void 0?E:s(E);_!==E&&(v=_-f);const y=C=>-v*Math.exp(-C/r),b=C=>_+y(C),I=C=>{const P=y(C),A=b(C);h.done=Math.abs(P)<=c,h.value=h.done?_:A};let N,O;const S=C=>{g(h.value)&&(N=C,O=g2({keyframes:[h.value,w(h.value)],velocity:m2(b,C,h.value),damping:i,stiffness:o,restDelta:c,restSpeed:u}))};return S(0),{calculatedDuration:null,next:C=>{let P=!1;return!O&&N===void 0&&(P=!0,I(C),S(C)),N!==void 0&&C>N?O.next(C-N):(!P&&I(C),h)}}}const TB=t=>{const e=({timestamp:n})=>t(n);return{start:()=>Je.update(e,!0),stop:()=>_i(e),now:()=>Zt.isProcessing?Zt.timestamp:performance.now()}},mT=2e4;function gT(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<mT;)e+=n,r=t.next(e);return e>=mT?1/0:e}const CB={decay:pT,inertia:pT,tween:_h,keyframes:_h,spring:g2};function xh({autoplay:t=!0,delay:e=0,driver:n=TB,keyframes:r,type:i="keyframes",repeat:o=0,repeatDelay:s=0,repeatType:a="loop",onPlay:l,onStop:c,onComplete:u,onUpdate:f,...h}){let g=1,w=!1,v,E;const _=()=>{E=new Promise(F=>{v=F})};_();let y;const b=CB[i]||_h;let I;b!==_h&&typeof r[0]!="number"&&(I=h2([0,100],r,{clamp:!1}),r=[0,100]);const N=b({...h,keyframes:r});let O;a==="mirror"&&(O=b({...h,keyframes:[...r].reverse(),velocity:-(h.velocity||0)}));let S="idle",C=null,P=null,A=null;N.calculatedDuration===null&&o&&(N.calculatedDuration=gT(N));const{calculatedDuration:M}=N;let D=1/0,k=1/0;M!==null&&(D=M+s,k=D*(o+1)-s);let B=0;const G=F=>{if(P===null)return;g>0&&(P=Math.min(P,F)),g<0&&(P=Math.min(F-k/g,P)),C!==null?B=C:B=Math.round(F-P)*g;const W=B-e*(g>=0?1:-1),K=g>=0?W<0:W>k;B=Math.max(W,0),S==="finished"&&C===null&&(B=k);let oe=B,pe=N;if(o){const le=Math.min(B,k)/D;let re=Math.floor(le),me=le%1;!me&&le>=1&&(me=1),me===1&&re--,re=Math.min(re,o+1),!!(re%2)&&(a==="reverse"?(me=1-me,s&&(me-=s/D)):a==="mirror"&&(pe=O)),oe=Ao(0,1,me)*D}const ce=K?{done:!1,value:r[0]}:pe.next(oe);I&&(ce.value=I(ce.value));let{done:X}=ce;!K&&M!==null&&(X=g>=0?B>=k:B<=0);const ae=C===null&&(S==="finished"||S==="running"&&X);return f&&f(ce.value),ae&&L(),ce},Y=()=>{y&&y.stop(),y=void 0},z=()=>{S="idle",Y(),v(),_(),P=A=null},L=()=>{S="finished",u&&u(),Y(),v()},V=()=>{if(w)return;y||(y=n(G));const F=y.now();l&&l(),C!==null?P=F-C:(!P||S==="finished")&&(P=F),S==="finished"&&_(),A=P,C=null,S="running",y.start()};t&&V();const $={then(F,W){return E.then(F,W)},get time(){return ci(B)},set time(F){F=yo(F),B=F,C!==null||!y||g===0?C=F:P=y.now()-F/g},get duration(){const F=N.calculatedDuration===null?gT(N):N.calculatedDuration;return ci(F)},get speed(){return g},set speed(F){F===g||!y||(g=F,$.time=ci(B))},get state(){return S},play:V,pause:()=>{S="paused",C=B},stop:()=>{w=!0,S!=="idle"&&(S="idle",c&&c(),z())},cancel:()=>{A!==null&&G(A),z()},complete:()=>{S="finished"},sample:F=>(P=0,G(F))};return $}function SB(t){let e;return()=>(e===void 0&&(e=t()),e)}const PB=SB(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),IB=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),Od=10,AB=2e4,RB=(t,e)=>e.type==="spring"||t==="backgroundColor"||!Gk(e.ease);function kB(t,e,{onUpdate:n,onComplete:r,...i}){if(!(PB()&&IB.has(e)&&!i.repeatDelay&&i.repeatType!=="mirror"&&i.damping!==0&&i.type!=="inertia"))return!1;let s=!1,a,l,c=!1;const u=()=>{l=new Promise(b=>{a=b})};u();let{keyframes:f,duration:h=300,ease:g,times:w}=i;if(RB(e,i)){const b=xh({...i,repeat:0,delay:0});let I={done:!1,value:f[0]};const N=[];let O=0;for(;!I.done&&O<AB;)I=b.sample(O),N.push(I.value),O+=Od;w=void 0,f=N,h=O-Od,g="linear"}const v=U8(t.owner.current,e,f,{...i,duration:h,ease:g,times:w}),E=()=>{c=!1,v.cancel()},_=()=>{c=!0,Je.update(E),a(),u()};return v.onfinish=()=>{c||(t.set(B8(f,i)),r&&r(),_())},{then(b,I){return l.then(b,I)},attachTimeline(b){return v.timeline=b,v.onfinish=null,vt},get time(){return ci(v.currentTime||0)},set time(b){v.currentTime=yo(b)},get speed(){return v.playbackRate},set speed(b){v.playbackRate=b},get duration(){return ci(h)},play:()=>{s||(v.play(),_i(E))},pause:()=>v.pause(),stop:()=>{if(s=!0,v.playState==="idle")return;const{currentTime:b}=v;if(b){const I=xh({...i,autoplay:!1});t.setWithVelocity(I.sample(b-Od).value,I.sample(b).value,Od)}_()},complete:()=>{c||v.finish()},cancel:_}}function NB({keyframes:t,delay:e,onUpdate:n,onComplete:r}){const i=()=>(n&&n(t[t.length-1]),r&&r(),{time:0,speed:1,duration:0,play:vt,pause:vt,stop:vt,then:o=>(o(),Promise.resolve()),cancel:vt,complete:vt});return e?xh({keyframes:[0,1],duration:0,delay:e,onComplete:i}):i()}const DB={type:"spring",stiffness:500,damping:25,restSpeed:10},MB=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),OB={type:"keyframes",duration:.8},LB={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},VB=(t,{keyframes:e})=>e.length>2?OB:Ns.has(t)?t.startsWith("scale")?MB(e[1]):DB:LB,by=(t,e)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(Ro.test(e)||e==="0")&&!e.startsWith("url(")),jB=new Set(["brightness","contrast","saturate","opacity"]);function FB(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(Sp)||[];if(!r)return t;const i=n.replace(r,"");let o=jB.has(e)?1:0;return r!==n&&(o*=100),e+"("+o+i+")"}const $B=/([a-z-]*)\(.*?\)/g,Ty={...Ro,getAnimatableNone:t=>{const e=t.match($B);return e?e.map(FB).join(" "):t}},UB={...Rk,color:dn,backgroundColor:dn,outlineColor:dn,fill:dn,stroke:dn,borderColor:dn,borderTopColor:dn,borderRightColor:dn,borderBottomColor:dn,borderLeftColor:dn,filter:Ty,WebkitFilter:Ty},o1=t=>UB[t];function v2(t,e){let n=o1(t);return n!==Ty&&(n=Ro),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const y2=t=>/^0[^.\s]+$/.test(t);function BB(t){if(typeof t=="number")return t===0;if(t!==null)return t==="none"||t==="0"||y2(t)}function WB(t,e,n,r){const i=by(e,n);let o;Array.isArray(n)?o=[...n]:o=[null,n];const s=r.from!==void 0?r.from:t.get();let a;const l=[];for(let c=0;c<o.length;c++)o[c]===null&&(o[c]=c===0?s:o[c-1]),BB(o[c])&&l.push(c),typeof o[c]=="string"&&o[c]!=="none"&&o[c]!=="0"&&(a=o[c]);if(i&&l.length&&a)for(let c=0;c<l.length;c++){const u=l[c];o[u]=v2(e,a)}return o}function zB({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:o,repeatType:s,repeatDelay:a,from:l,elapsed:c,...u}){return!!Object.keys(u).length}function s1(t,e){return t[e]||t.default||t}const HB={skipAnimations:!1},a1=(t,e,n,r={})=>i=>{const o=s1(r,t)||{},s=o.delay||r.delay||0;let{elapsed:a=0}=r;a=a-yo(s);const l=WB(e,t,n,o),c=l[0],u=l[l.length-1],f=by(t,c),h=by(t,u);let g={keyframes:l,velocity:e.getVelocity(),ease:"easeOut",...o,delay:-a,onUpdate:w=>{e.set(w),o.onUpdate&&o.onUpdate(w)},onComplete:()=>{i(),o.onComplete&&o.onComplete()}};if(zB(o)||(g={...g,...VB(t,g)}),g.duration&&(g.duration=yo(g.duration)),g.repeatDelay&&(g.repeatDelay=yo(g.repeatDelay)),!f||!h||$8.current||o.type===!1||HB.skipAnimations)return NB(g);if(!r.isHandoff&&e.owner&&e.owner.current instanceof HTMLElement&&!e.owner.getProps().onUpdate){const w=kB(e,t,g);if(w)return w}return xh(g)};function Eh(t){return!!(Sn(t)&&t.add)}const w2=t=>/^\-?\d*\.?\d+$/.test(t);function l1(t,e){t.indexOf(e)===-1&&t.push(e)}function c1(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class u1{constructor(){this.subscriptions=[]}add(e){return l1(this.subscriptions,e),()=>c1(this.subscriptions,e)}notify(e,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,n,r);else for(let o=0;o<i;o++){const s=this.subscriptions[o];s&&s(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const qB=t=>!isNaN(parseFloat(t));class GB{constructor(e,n={}){this.version="10.18.0",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(r,i=!0)=>{this.prev=this.current,this.current=r;const{delta:o,timestamp:s}=Zt;this.lastUpdated!==s&&(this.timeDelta=o,this.lastUpdated=s,Je.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>Je.postRender(this.velocityCheck),this.velocityCheck=({timestamp:r})=>{r!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=e,this.canTrackVelocity=qB(this.current),this.owner=n.owner}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new u1);const r=this.events[e].add(n);return e==="change"?()=>{r(),Je.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=e,this.timeDelta=r}jump(e){this.updateAndNotify(e),this.prev=e,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?p2(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function qa(t,e){return new GB(t,e)}const _2=t=>e=>e.test(t),YB={test:t=>t==="auto",parse:t=>t},x2=[Ds,ge,jr,ji,t8,e8,YB],Yl=t=>x2.find(_2(t)),KB=[...x2,dn,Ro],QB=t=>KB.find(_2(t));function XB(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,qa(n))}function JB(t,e){const n=Ip(t,e);let{transitionEnd:r={},transition:i={},...o}=n?t.makeTargetAnimatable(n,!1):{};o={...o,...r};for(const s in o){const a=m8(o[s]);XB(t,s,a)}}function ZB(t,e,n){var r,i;const o=Object.keys(e).filter(a=>!t.hasValue(a)),s=o.length;if(s)for(let a=0;a<s;a++){const l=o[a],c=e[l];let u=null;Array.isArray(c)&&(u=c[0]),u===null&&(u=(i=(r=n[l])!==null&&r!==void 0?r:t.readValue(l))!==null&&i!==void 0?i:e[l]),u!=null&&(typeof u=="string"&&(w2(u)||y2(u))?u=parseFloat(u):!QB(u)&&Ro.test(c)&&(u=v2(l,c)),t.addValue(l,qa(u,{owner:t})),n[l]===void 0&&(n[l]=u),u!==null&&t.setBaseTarget(l,u))}}function eW(t,e){return e?(e[t]||e.default||e).from:void 0}function tW(t,e,n){const r={};for(const i in t){const o=eW(i,e);if(o!==void 0)r[i]=o;else{const s=n.getValue(i);s&&(r[i]=s.get())}}return r}function nW({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function rW(t,e){const n=t.get();if(Array.isArray(e)){for(let r=0;r<e.length;r++)if(e[r]!==n)return!0}else return n!==e}function E2(t,e,{delay:n=0,transitionOverride:r,type:i}={}){let{transition:o=t.getDefaultTransition(),transitionEnd:s,...a}=t.makeTargetAnimatable(e);const l=t.getValue("willChange");r&&(o=r);const c=[],u=i&&t.animationState&&t.animationState.getState()[i];for(const f in a){const h=t.getValue(f),g=a[f];if(!h||g===void 0||u&&nW(u,f))continue;const w={delay:n,elapsed:0,...s1(o||{},f)};if(window.HandoffAppearAnimations){const _=t.getProps()[bk];if(_){const y=window.HandoffAppearAnimations(_,f,h,Je);y!==null&&(w.elapsed=y,w.isHandoff=!0)}}let v=!w.isHandoff&&!rW(h,g);if(w.type==="spring"&&(h.getVelocity()||w.velocity)&&(v=!1),h.animation&&(v=!1),v)continue;h.start(a1(f,h,g,t.shouldReduceMotion&&Ns.has(f)?{type:!1}:w));const E=h.animation;Eh(l)&&(l.add(f),E.then(()=>l.remove(f))),c.push(E)}return s&&Promise.all(c).then(()=>{s&&JB(t,s)}),c}function Cy(t,e,n={}){const r=Ip(t,e,n.custom);let{transition:i=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(i=n.transitionOverride);const o=r?()=>Promise.all(E2(t,r,n)):()=>Promise.resolve(),s=t.variantChildren&&t.variantChildren.size?(l=0)=>{const{delayChildren:c=0,staggerChildren:u,staggerDirection:f}=i;return iW(t,e,c+l,u,f,n)}:()=>Promise.resolve(),{when:a}=i;if(a){const[l,c]=a==="beforeChildren"?[o,s]:[s,o];return l().then(()=>c())}else return Promise.all([o(),s(n.delay)])}function iW(t,e,n=0,r=0,i=1,o){const s=[],a=(t.variantChildren.size-1)*r,l=i===1?(c=0)=>c*r:(c=0)=>a-c*r;return Array.from(t.variantChildren).sort(oW).forEach((c,u)=>{c.notify("AnimationStart",e),s.push(Cy(c,e,{...o,delay:n+l(u)}).then(()=>c.notify("AnimationComplete",e)))}),Promise.all(s)}function oW(t,e){return t.sortNodePosition(e)}function sW(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const i=e.map(o=>Cy(t,o,n));r=Promise.all(i)}else if(typeof e=="string")r=Cy(t,e,n);else{const i=typeof e=="function"?Ip(t,e,n.custom):e;r=Promise.all(E2(t,i,n))}return r.then(()=>t.notify("AnimationComplete",e))}const aW=[...Hw].reverse(),lW=Hw.length;function cW(t){return e=>Promise.all(e.map(({animation:n,options:r})=>sW(t,n,r)))}function uW(t){let e=cW(t);const n=fW();let r=!0;const i=(l,c)=>{const u=Ip(t,c);if(u){const{transition:f,transitionEnd:h,...g}=u;l={...l,...g,...h}}return l};function o(l){e=l(t)}function s(l,c){const u=t.getProps(),f=t.getVariantContext(!0)||{},h=[],g=new Set;let w={},v=1/0;for(let _=0;_<lW;_++){const y=aW[_],b=n[y],I=u[y]!==void 0?u[y]:f[y],N=au(I),O=y===c?b.isActive:null;O===!1&&(v=_);let S=I===f[y]&&I!==u[y]&&N;if(S&&r&&t.manuallyAnimateOnMount&&(S=!1),b.protectedKeys={...w},!b.isActive&&O===null||!I&&!b.prevProp||Tp(I)||typeof I=="boolean")continue;let P=dW(b.prevProp,I)||y===c&&b.isActive&&!S&&N||_>v&&N,A=!1;const M=Array.isArray(I)?I:[I];let D=M.reduce(i,{});O===!1&&(D={});const{prevResolvedValues:k={}}=b,B={...k,...D},G=Y=>{P=!0,g.has(Y)&&(A=!0,g.delete(Y)),b.needsAnimating[Y]=!0};for(const Y in B){const z=D[Y],L=k[Y];if(w.hasOwnProperty(Y))continue;let V=!1;yh(z)&&yh(L)?V=!Hk(z,L):V=z!==L,V?z!==void 0?G(Y):g.add(Y):z!==void 0&&g.has(Y)?G(Y):b.protectedKeys[Y]=!0}b.prevProp=I,b.prevResolvedValues=D,b.isActive&&(w={...w,...D}),r&&t.blockInitialAnimation&&(P=!1),P&&(!S||A)&&h.push(...M.map(Y=>({animation:Y,options:{type:y,...l}})))}if(g.size){const _={};g.forEach(y=>{const b=t.getBaseTarget(y);b!==void 0&&(_[y]=b)}),h.push({animation:_})}let E=!!h.length;return r&&(u.initial===!1||u.initial===u.animate)&&!t.manuallyAnimateOnMount&&(E=!1),r=!1,E?e(h):Promise.resolve()}function a(l,c,u){var f;if(n[l].isActive===c)return Promise.resolve();(f=t.variantChildren)===null||f===void 0||f.forEach(g=>{var w;return(w=g.animationState)===null||w===void 0?void 0:w.setActive(l,c)}),n[l].isActive=c;const h=s(u,l);for(const g in n)n[g].protectedKeys={};return h}return{animateChanges:s,setActive:a,setAnimateFunction:o,getState:()=>n}}function dW(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!Hk(e,t):!1}function Go(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function fW(){return{animate:Go(!0),whileInView:Go(),whileHover:Go(),whileTap:Go(),whileDrag:Go(),whileFocus:Go(),exit:Go()}}class hW extends Uo{constructor(e){super(e),e.animationState||(e.animationState=uW(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();this.unmount(),Tp(e)&&(this.unmount=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){}}let pW=0;class mW extends Uo{constructor(){super(...arguments),this.id=pW++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n,custom:r}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===i)return;const o=this.node.animationState.setActive("exit",!e,{custom:r??this.node.getProps().custom});n&&!e&&o.then(()=>n(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const gW={animation:{Feature:hW},exit:{Feature:mW}},vT=(t,e)=>Math.abs(t-e);function vW(t,e){const n=vT(t.x,e.x),r=vT(t.y,e.y);return Math.sqrt(n**2+r**2)}class b2{constructor(e,n,{transformPagePoint:r,contextWindow:i,dragSnapToOrigin:o=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const f=vg(this.lastMoveEventInfo,this.history),h=this.startEvent!==null,g=vW(f.offset,{x:0,y:0})>=3;if(!h&&!g)return;const{point:w}=f,{timestamp:v}=Zt;this.history.push({...w,timestamp:v});const{onStart:E,onMove:_}=this.handlers;h||(E&&E(this.lastMoveEvent,f),this.startEvent=this.lastMoveEvent),_&&_(this.lastMoveEvent,f)},this.handlePointerMove=(f,h)=>{this.lastMoveEvent=f,this.lastMoveEventInfo=gg(h,this.transformPagePoint),Je.update(this.updatePoint,!0)},this.handlePointerUp=(f,h)=>{this.end();const{onEnd:g,onSessionEnd:w,resumeAnimation:v}=this.handlers;if(this.dragSnapToOrigin&&v&&v(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const E=vg(f.type==="pointercancel"?this.lastMoveEventInfo:gg(h,this.transformPagePoint),this.history);this.startEvent&&g&&g(f,E),w&&w(f,E)},!$k(e))return;this.dragSnapToOrigin=o,this.handlers=n,this.transformPagePoint=r,this.contextWindow=i||window;const s=Pp(e),a=gg(s,this.transformPagePoint),{point:l}=a,{timestamp:c}=Zt;this.history=[{...l,timestamp:c}];const{onSessionStart:u}=n;u&&u(e,vg(a,this.history)),this.removeListeners=vo(li(this.contextWindow,"pointermove",this.handlePointerMove),li(this.contextWindow,"pointerup",this.handlePointerUp),li(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),_i(this.updatePoint)}}function gg(t,e){return e?{point:e(t.point)}:t}function yT(t,e){return{x:t.x-e.x,y:t.y-e.y}}function vg({point:t},e){return{point:t,delta:yT(t,T2(e)),offset:yT(t,yW(e)),velocity:wW(e,.1)}}function yW(t){return t[0]}function T2(t){return t[t.length-1]}function wW(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const i=T2(t);for(;n>=0&&(r=t[n],!(i.timestamp-r.timestamp>yo(e)));)n--;if(!r)return{x:0,y:0};const o=ci(i.timestamp-r.timestamp);if(o===0)return{x:0,y:0};const s={x:(i.x-r.x)/o,y:(i.y-r.y)/o};return s.x===1/0&&(s.x=0),s.y===1/0&&(s.y=0),s}function Vn(t){return t.max-t.min}function Sy(t,e=0,n=.01){return Math.abs(t-e)<=n}function wT(t,e,n,r=.5){t.origin=r,t.originPoint=ut(e.min,e.max,t.origin),t.scale=Vn(n)/Vn(e),(Sy(t.scale,1,1e-4)||isNaN(t.scale))&&(t.scale=1),t.translate=ut(n.min,n.max,t.origin)-t.originPoint,(Sy(t.translate)||isNaN(t.translate))&&(t.translate=0)}function Cc(t,e,n,r){wT(t.x,e.x,n.x,r?r.originX:void 0),wT(t.y,e.y,n.y,r?r.originY:void 0)}function _T(t,e,n){t.min=n.min+e.min,t.max=t.min+Vn(e)}function _W(t,e,n){_T(t.x,e.x,n.x),_T(t.y,e.y,n.y)}function xT(t,e,n){t.min=e.min-n.min,t.max=t.min+Vn(e)}function Sc(t,e,n){xT(t.x,e.x,n.x),xT(t.y,e.y,n.y)}function xW(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?ut(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?ut(n,t,r.max):Math.min(t,n)),t}function ET(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function EW(t,{top:e,left:n,bottom:r,right:i}){return{x:ET(t.x,n,i),y:ET(t.y,e,r)}}function bT(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function bW(t,e){return{x:bT(t.x,e.x),y:bT(t.y,e.y)}}function TW(t,e){let n=.5;const r=Vn(t),i=Vn(e);return i>r?n=cu(e.min,e.max-r,t.min):r>i&&(n=cu(t.min,t.max-i,e.min)),Ao(0,1,n)}function CW(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const Py=.35;function SW(t=Py){return t===!1?t=0:t===!0&&(t=Py),{x:TT(t,"left","right"),y:TT(t,"top","bottom")}}function TT(t,e,n){return{min:CT(t,e),max:CT(t,n)}}function CT(t,e){return typeof t=="number"?t:t[e]||0}const ST=()=>({translate:0,scale:1,origin:0,originPoint:0}),pa=()=>({x:ST(),y:ST()}),PT=()=>({min:0,max:0}),Ct=()=>({x:PT(),y:PT()});function Un(t){return[t("x"),t("y")]}function C2({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function PW({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function IW(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function yg(t){return t===void 0||t===1}function Iy({scale:t,scaleX:e,scaleY:n}){return!yg(t)||!yg(e)||!yg(n)}function Xo(t){return Iy(t)||S2(t)||t.z||t.rotate||t.rotateX||t.rotateY}function S2(t){return IT(t.x)||IT(t.y)}function IT(t){return t&&t!=="0%"}function bh(t,e,n){const r=t-n,i=e*r;return n+i}function AT(t,e,n,r,i){return i!==void 0&&(t=bh(t,i,r)),bh(t,n,r)+e}function Ay(t,e=0,n=1,r,i){t.min=AT(t.min,e,n,r,i),t.max=AT(t.max,e,n,r,i)}function P2(t,{x:e,y:n}){Ay(t.x,e.translate,e.scale,e.originPoint),Ay(t.y,n.translate,n.scale,n.originPoint)}function AW(t,e,n,r=!1){const i=n.length;if(!i)return;e.x=e.y=1;let o,s;for(let a=0;a<i;a++){o=n[a],s=o.projectionDelta;const l=o.instance;l&&l.style&&l.style.display==="contents"||(r&&o.options.layoutScroll&&o.scroll&&o!==o.root&&ma(t,{x:-o.scroll.offset.x,y:-o.scroll.offset.y}),s&&(e.x*=s.x.scale,e.y*=s.y.scale,P2(t,s)),r&&Xo(o.latestValues)&&ma(t,o.latestValues))}e.x=RT(e.x),e.y=RT(e.y)}function RT(t){return Number.isInteger(t)||t>1.0000000000001||t<.999999999999?t:1}function Wi(t,e){t.min=t.min+e,t.max=t.max+e}function kT(t,e,[n,r,i]){const o=e[i]!==void 0?e[i]:.5,s=ut(t.min,t.max,o);Ay(t,e[n],e[r],s,e.scale)}const RW=["x","scaleX","originX"],kW=["y","scaleY","originY"];function ma(t,e){kT(t.x,e,RW),kT(t.y,e,kW)}function I2(t,e){return C2(IW(t.getBoundingClientRect(),e))}function NW(t,e,n){const r=I2(t,n),{scroll:i}=e;return i&&(Wi(r.x,i.offset.x),Wi(r.y,i.offset.y)),r}const A2=({current:t})=>t?t.ownerDocument.defaultView:null,DW=new WeakMap;class MW{constructor(e){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Ct(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const i=u=>{const{dragSnapToOrigin:f}=this.getProps();f?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Pp(u,"page").point)},o=(u,f)=>{const{drag:h,dragPropagation:g,onDragStart:w}=this.getProps();if(h&&!g&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=Bk(h),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Un(E=>{let _=this.getAxisMotionValue(E).get()||0;if(jr.test(_)){const{projection:y}=this.visualElement;if(y&&y.layout){const b=y.layout.layoutBox[E];b&&(_=Vn(b)*(parseFloat(_)/100))}}this.originPoint[E]=_}),w&&Je.update(()=>w(u,f),!1,!0);const{animationState:v}=this.visualElement;v&&v.setActive("whileDrag",!0)},s=(u,f)=>{const{dragPropagation:h,dragDirectionLock:g,onDirectionLock:w,onDrag:v}=this.getProps();if(!h&&!this.openGlobalLock)return;const{offset:E}=f;if(g&&this.currentDirection===null){this.currentDirection=OW(E),this.currentDirection!==null&&w&&w(this.currentDirection);return}this.updateAxis("x",f.point,E),this.updateAxis("y",f.point,E),this.visualElement.render(),v&&v(u,f)},a=(u,f)=>this.stop(u,f),l=()=>Un(u=>{var f;return this.getAnimationState(u)==="paused"&&((f=this.getAxisMotionValue(u).animation)===null||f===void 0?void 0:f.play())}),{dragSnapToOrigin:c}=this.getProps();this.panSession=new b2(e,{onSessionStart:i,onStart:o,onMove:s,onSessionEnd:a,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:c,contextWindow:A2(this.visualElement)})}stop(e,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:i}=n;this.startAnimation(i);const{onDragEnd:o}=this.getProps();o&&Je.update(()=>o(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:i}=this.getProps();if(!r||!Ld(e,i,this.currentDirection))return;const o=this.getAxisMotionValue(e);let s=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(s=xW(s,this.constraints[e],this.elastic[e])),o.set(s)}resolveConstraints(){var e;const{dragConstraints:n,dragElastic:r}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,o=this.constraints;n&&fa(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&i?this.constraints=EW(i.layoutBox,n):this.constraints=!1,this.elastic=SW(r),o!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&Un(s=>{this.getAxisMotionValue(s)&&(this.constraints[s]=CW(i.layoutBox[s],this.constraints[s]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!fa(e))return!1;const r=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const o=NW(r,i.root,this.visualElement.getTransformPagePoint());let s=bW(i.layout.layoutBox,o);if(n){const a=n(PW(s));this.hasMutatedConstraints=!!a,a&&(s=C2(a))}return s}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:o,dragSnapToOrigin:s,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},c=Un(u=>{if(!Ld(u,n,this.currentDirection))return;let f=l&&l[u]||{};s&&(f={min:0,max:0});const h=i?200:1e6,g=i?40:1e7,w={type:"inertia",velocity:r?e[u]:0,bounceStiffness:h,bounceDamping:g,timeConstant:750,restDelta:1,restSpeed:10,...o,...f};return this.startAxisValueAnimation(u,w)});return Promise.all(c).then(a)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return r.start(a1(e,r,0,n))}stopAnimation(){Un(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Un(e=>{var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(e){const n="_drag"+e.toUpperCase(),r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){Un(n=>{const{drag:r}=this.getProps();if(!Ld(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,o=this.getAxisMotionValue(n);if(i&&i.layout){const{min:s,max:a}=i.layout.layoutBox[n];o.set(e[n]-ut(s,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!fa(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};Un(s=>{const a=this.getAxisMotionValue(s);if(a){const l=a.get();i[s]=TW({min:l,max:l},this.constraints[s])}});const{transformTemplate:o}=this.visualElement.getProps();this.visualElement.current.style.transform=o?o({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Un(s=>{if(!Ld(s,e,null))return;const a=this.getAxisMotionValue(s),{min:l,max:c}=this.constraints[s];a.set(ut(l,c,i[s]))})}addListeners(){if(!this.visualElement.current)return;DW.set(this.visualElement,this);const e=this.visualElement.current,n=li(e,"pointerdown",l=>{const{drag:c,dragListener:u=!0}=this.getProps();c&&u&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();fa(l)&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,o=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),r();const s=ii(window,"resize",()=>this.scalePositionWithinConstraints()),a=i.addEventListener("didUpdate",({delta:l,hasLayoutChanged:c})=>{this.isDragging&&c&&(Un(u=>{const f=this.getAxisMotionValue(u);f&&(this.originPoint[u]+=l[u].translate,f.set(f.get()+l[u].translate))}),this.visualElement.render())});return()=>{s(),n(),o(),a&&a()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:o=!1,dragElastic:s=Py,dragMomentum:a=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:o,dragElastic:s,dragMomentum:a}}}function Ld(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function OW(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class LW extends Uo{constructor(e){super(e),this.removeGroupControls=vt,this.removeListeners=vt,this.controls=new MW(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||vt}unmount(){this.removeGroupControls(),this.removeListeners()}}const NT=t=>(e,n)=>{t&&Je.update(()=>t(e,n))};class VW extends Uo{constructor(){super(...arguments),this.removePointerDownListener=vt}onPointerDown(e){this.session=new b2(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:A2(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:NT(e),onStart:NT(n),onMove:r,onEnd:(o,s)=>{delete this.session,i&&Je.update(()=>i(o,s))}}}mount(){this.removePointerDownListener=li(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function jW(){const t=m.useContext(Ep);if(t===null)return[!0,null];const{isPresent:e,onExitComplete:n,register:r}=t,i=m.useId();return m.useEffect(()=>r(i),[]),!e&&n?[!1,()=>n&&n(i)]:[!0]}const yf={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function DT(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Kl={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(ge.test(t))t=parseFloat(t);else return t;const n=DT(t,e.target.x),r=DT(t,e.target.y);return`${n}% ${r}%`}},FW={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,i=Ro.parse(t);if(i.length>5)return r;const o=Ro.createTransformer(t),s=typeof i[0]!="number"?1:0,a=n.x.scale*e.x,l=n.y.scale*e.y;i[0+s]/=a,i[1+s]/=l;const c=ut(a,l,.5);return typeof i[2+s]=="number"&&(i[2+s]/=c),typeof i[3+s]=="number"&&(i[3+s]/=c),o(i)}};class $W extends _e.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:o}=e;G7(UW),o&&(n.group&&n.group.add(o),r&&r.register&&i&&r.register(o),o.root.didUpdate(),o.addEventListener("animationComplete",()=>{this.safeToRemove()}),o.setOptions({...o.options,onExitComplete:()=>this.safeToRemove()})),yf.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:i,isPresent:o}=this.props,s=r.projection;return s&&(s.isPresent=o,i||e.layoutDependency!==n||n===void 0?s.willUpdate():this.safeToRemove(),e.isPresent!==o&&(o?s.promote():s.relegate()||Je.postRender(()=>{const a=s.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),queueMicrotask(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=e;i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function R2(t){const[e,n]=jW(),r=m.useContext(Gw);return _e.createElement($W,{...t,layoutGroup:r,switchLayoutGroup:m.useContext(Ck),isPresent:e,safeToRemove:n})}const UW={borderRadius:{...Kl,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Kl,borderTopRightRadius:Kl,borderBottomLeftRadius:Kl,borderBottomRightRadius:Kl,boxShadow:FW},k2=["TopLeft","TopRight","BottomLeft","BottomRight"],BW=k2.length,MT=t=>typeof t=="string"?parseFloat(t):t,OT=t=>typeof t=="number"||ge.test(t);function WW(t,e,n,r,i,o){i?(t.opacity=ut(0,n.opacity!==void 0?n.opacity:1,zW(r)),t.opacityExit=ut(e.opacity!==void 0?e.opacity:1,0,HW(r))):o&&(t.opacity=ut(e.opacity!==void 0?e.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let s=0;s<BW;s++){const a=`border${k2[s]}Radius`;let l=LT(e,a),c=LT(n,a);if(l===void 0&&c===void 0)continue;l||(l=0),c||(c=0),l===0||c===0||OT(l)===OT(c)?(t[a]=Math.max(ut(MT(l),MT(c),r),0),(jr.test(c)||jr.test(l))&&(t[a]+="%")):t[a]=c}(e.rotate||n.rotate)&&(t.rotate=ut(e.rotate||0,n.rotate||0,r))}function LT(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const zW=N2(0,.5,e2),HW=N2(.5,.95,vt);function N2(t,e,n){return r=>r<t?0:r>e?1:n(cu(t,e,r))}function VT(t,e){t.min=e.min,t.max=e.max}function $n(t,e){VT(t.x,e.x),VT(t.y,e.y)}function jT(t,e,n,r,i){return t-=e,t=bh(t,1/n,r),i!==void 0&&(t=bh(t,1/i,r)),t}function qW(t,e=0,n=1,r=.5,i,o=t,s=t){if(jr.test(e)&&(e=parseFloat(e),e=ut(s.min,s.max,e/100)-s.min),typeof e!="number")return;let a=ut(o.min,o.max,r);t===o&&(a-=e),t.min=jT(t.min,e,n,a,i),t.max=jT(t.max,e,n,a,i)}function FT(t,e,[n,r,i],o,s){qW(t,e[n],e[r],e[i],e.scale,o,s)}const GW=["x","scaleX","originX"],YW=["y","scaleY","originY"];function $T(t,e,n,r){FT(t.x,e,GW,n?n.x:void 0,r?r.x:void 0),FT(t.y,e,YW,n?n.y:void 0,r?r.y:void 0)}function UT(t){return t.translate===0&&t.scale===1}function D2(t){return UT(t.x)&&UT(t.y)}function KW(t,e){return t.x.min===e.x.min&&t.x.max===e.x.max&&t.y.min===e.y.min&&t.y.max===e.y.max}function M2(t,e){return Math.round(t.x.min)===Math.round(e.x.min)&&Math.round(t.x.max)===Math.round(e.x.max)&&Math.round(t.y.min)===Math.round(e.y.min)&&Math.round(t.y.max)===Math.round(e.y.max)}function BT(t){return Vn(t.x)/Vn(t.y)}class QW{constructor(){this.members=[]}add(e){l1(this.members,e),e.scheduleRender()}remove(e){if(c1(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(i=>e===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const o=this.members[i];if(o.isPresent!==!1){r=o;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function WT(t,e,n){let r="";const i=t.x.translate/e.x,o=t.y.translate/e.y;if((i||o)&&(r=`translate3d(${i}px, ${o}px, 0) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{rotate:l,rotateX:c,rotateY:u}=n;l&&(r+=`rotate(${l}deg) `),c&&(r+=`rotateX(${c}deg) `),u&&(r+=`rotateY(${u}deg) `)}const s=t.x.scale*e.x,a=t.y.scale*e.y;return(s!==1||a!==1)&&(r+=`scale(${s}, ${a})`),r||"none"}const XW=(t,e)=>t.depth-e.depth;class JW{constructor(){this.children=[],this.isDirty=!1}add(e){l1(this.children,e),this.isDirty=!0}remove(e){c1(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(XW),this.isDirty=!1,this.children.forEach(e)}}function ZW(t,e){const n=performance.now(),r=({timestamp:i})=>{const o=i-n;o>=e&&(_i(r),t(o-e))};return Je.read(r,!0),()=>_i(r)}function ez(t){window.MotionDebug&&window.MotionDebug.record(t)}function tz(t){return t instanceof SVGElement&&t.tagName!=="svg"}function nz(t,e,n){const r=Sn(t)?t:qa(t);return r.start(a1("",r,e,n)),r.animation}const zT=["","X","Y","Z"],rz={visibility:"hidden"},HT=1e3;let iz=0;const Jo={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function O2({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(s={},a=e==null?void 0:e()){this.id=iz++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Jo.totalNodes=Jo.resolvedTargetDeltas=Jo.recalculatedProjection=0,this.nodes.forEach(az),this.nodes.forEach(fz),this.nodes.forEach(hz),this.nodes.forEach(lz),ez(Jo)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=s,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new JW)}addEventListener(s,a){return this.eventHandlers.has(s)||this.eventHandlers.set(s,new u1),this.eventHandlers.get(s).add(a)}notifyListeners(s,...a){const l=this.eventHandlers.get(s);l&&l.notify(...a)}hasListeners(s){return this.eventHandlers.has(s)}mount(s,a=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=tz(s),this.instance=s;const{layoutId:l,layout:c,visualElement:u}=this.options;if(u&&!u.current&&u.mount(s),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),a&&(c||l)&&(this.isLayoutDirty=!0),t){let f;const h=()=>this.root.updateBlockedByResize=!1;t(s,()=>{this.root.updateBlockedByResize=!0,f&&f(),f=ZW(h,250),yf.hasAnimatedSinceResize&&(yf.hasAnimatedSinceResize=!1,this.nodes.forEach(GT))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&u&&(l||c)&&this.addEventListener("didUpdate",({delta:f,hasLayoutChanged:h,hasRelativeTargetChanged:g,layout:w})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const v=this.options.transition||u.getDefaultTransition()||yz,{onLayoutAnimationStart:E,onLayoutAnimationComplete:_}=u.getProps(),y=!this.targetLayout||!M2(this.targetLayout,w)||g,b=!h&&g;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||b||h&&(y||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(f,b);const I={...s1(v,"layout"),onPlay:E,onComplete:_};(u.shouldReduceMotion||this.options.layoutRoot)&&(I.delay=0,I.type=!1),this.startAnimation(I)}else h||GT(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=w})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const s=this.getStack();s&&s.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,_i(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(pz),this.animationId++)}getTransformTemplate(){const{visualElement:s}=this.options;return s&&s.getProps().transformTemplate}willUpdate(s=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let u=0;u<this.path.length;u++){const f=this.path[u];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),s&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(qT);return}this.isUpdating||this.nodes.forEach(uz),this.isUpdating=!1,this.nodes.forEach(dz),this.nodes.forEach(oz),this.nodes.forEach(sz),this.clearAllSnapshots();const a=performance.now();Zt.delta=Ao(0,1e3/60,a-Zt.timestamp),Zt.timestamp=a,Zt.isProcessing=!0,lg.update.process(Zt),lg.preRender.process(Zt),lg.render.process(Zt),Zt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(cz),this.sharedNodes.forEach(mz)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Je.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Je.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const s=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Ct(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,s?s.layoutBox:void 0)}updateScroll(s="measure"){let a=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===s&&(a=!1),a&&(this.scroll={animationId:this.root.animationId,phase:s,isRoot:r(this.instance),offset:n(this.instance)})}resetTransform(){if(!i)return;const s=this.isLayoutDirty||this.shouldResetTransform,a=this.projectionDelta&&!D2(this.projectionDelta),l=this.getTransformTemplate(),c=l?l(this.latestValues,""):void 0,u=c!==this.prevTransformTemplateValue;s&&(a||Xo(this.latestValues)||u)&&(i(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(s=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return s&&(l=this.removeTransform(l)),wz(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:s}=this.options;if(!s)return Ct();const a=s.measureViewportBox(),{scroll:l}=this.root;return l&&(Wi(a.x,l.offset.x),Wi(a.y,l.offset.y)),a}removeElementScroll(s){const a=Ct();$n(a,s);for(let l=0;l<this.path.length;l++){const c=this.path[l],{scroll:u,options:f}=c;if(c!==this.root&&u&&f.layoutScroll){if(u.isRoot){$n(a,s);const{scroll:h}=this.root;h&&(Wi(a.x,-h.offset.x),Wi(a.y,-h.offset.y))}Wi(a.x,u.offset.x),Wi(a.y,u.offset.y)}}return a}applyTransform(s,a=!1){const l=Ct();$n(l,s);for(let c=0;c<this.path.length;c++){const u=this.path[c];!a&&u.options.layoutScroll&&u.scroll&&u!==u.root&&ma(l,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),Xo(u.latestValues)&&ma(l,u.latestValues)}return Xo(this.latestValues)&&ma(l,this.latestValues),l}removeTransform(s){const a=Ct();$n(a,s);for(let l=0;l<this.path.length;l++){const c=this.path[l];if(!c.instance||!Xo(c.latestValues))continue;Iy(c.latestValues)&&c.updateSnapshot();const u=Ct(),f=c.measurePageBox();$n(u,f),$T(a,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,u)}return Xo(this.latestValues)&&$T(a,this.latestValues),a}setTargetDelta(s){this.targetDelta=s,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(s){this.options={...this.options,...s,crossfade:s.crossfade!==void 0?s.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Zt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(s=!1){var a;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==l;if(!(s||c&&this.isSharedProjectionDirty||this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:f,layoutId:h}=this.options;if(!(!this.layout||!(f||h))){if(this.resolvedRelativeTargetAt=Zt.timestamp,!this.targetDelta&&!this.relativeTarget){const g=this.getClosestProjectingParent();g&&g.layout&&this.animationProgress!==1?(this.relativeParent=g,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ct(),this.relativeTargetOrigin=Ct(),Sc(this.relativeTargetOrigin,this.layout.layoutBox,g.layout.layoutBox),$n(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=Ct(),this.targetWithTransforms=Ct()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),_W(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):$n(this.target,this.layout.layoutBox),P2(this.target,this.targetDelta)):$n(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const g=this.getClosestProjectingParent();g&&!!g.resumingFrom==!!this.resumingFrom&&!g.options.layoutScroll&&g.target&&this.animationProgress!==1?(this.relativeParent=g,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ct(),this.relativeTargetOrigin=Ct(),Sc(this.relativeTargetOrigin,this.target,g.target),$n(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Jo.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||Iy(this.parent.latestValues)||S2(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var s;const a=this.getLead(),l=!!this.resumingFrom||this!==a;let c=!0;if((this.isProjectionDirty||!((s=this.parent)===null||s===void 0)&&s.isProjectionDirty)&&(c=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===Zt.timestamp&&(c=!1),c)return;const{layout:u,layoutId:f}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||f))return;$n(this.layoutCorrected,this.layout.layoutBox);const h=this.treeScale.x,g=this.treeScale.y;AW(this.layoutCorrected,this.treeScale,this.path,l),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox);const{target:w}=a;if(!w){this.projectionTransform&&(this.projectionDelta=pa(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=pa(),this.projectionDeltaWithTransform=pa());const v=this.projectionTransform;Cc(this.projectionDelta,this.layoutCorrected,w,this.latestValues),this.projectionTransform=WT(this.projectionDelta,this.treeScale),(this.projectionTransform!==v||this.treeScale.x!==h||this.treeScale.y!==g)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",w)),Jo.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(s=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),s){const a=this.getStack();a&&a.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(s,a=!1){const l=this.snapshot,c=l?l.latestValues:{},u={...this.latestValues},f=pa();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const h=Ct(),g=l?l.source:void 0,w=this.layout?this.layout.source:void 0,v=g!==w,E=this.getStack(),_=!E||E.members.length<=1,y=!!(v&&!_&&this.options.crossfade===!0&&!this.path.some(vz));this.animationProgress=0;let b;this.mixTargetDelta=I=>{const N=I/1e3;YT(f.x,s.x,N),YT(f.y,s.y,N),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Sc(h,this.layout.layoutBox,this.relativeParent.layout.layoutBox),gz(this.relativeTarget,this.relativeTargetOrigin,h,N),b&&KW(this.relativeTarget,b)&&(this.isProjectionDirty=!1),b||(b=Ct()),$n(b,this.relativeTarget)),v&&(this.animationValues=u,WW(u,c,this.latestValues,N,y,_)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=N},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(s){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(_i(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Je.update(()=>{yf.hasAnimatedSinceResize=!0,this.currentAnimation=nz(0,HT,{...s,onUpdate:a=>{this.mixTargetDelta(a),s.onUpdate&&s.onUpdate(a)},onComplete:()=>{s.onComplete&&s.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const s=this.getStack();s&&s.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(HT),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const s=this.getLead();let{targetWithTransforms:a,target:l,layout:c,latestValues:u}=s;if(!(!a||!l||!c)){if(this!==s&&this.layout&&c&&L2(this.options.animationType,this.layout.layoutBox,c.layoutBox)){l=this.target||Ct();const f=Vn(this.layout.layoutBox.x);l.x.min=s.target.x.min,l.x.max=l.x.min+f;const h=Vn(this.layout.layoutBox.y);l.y.min=s.target.y.min,l.y.max=l.y.min+h}$n(a,l),ma(a,u),Cc(this.projectionDeltaWithTransform,this.layoutCorrected,a,u)}}registerSharedNode(s,a){this.sharedNodes.has(s)||this.sharedNodes.set(s,new QW),this.sharedNodes.get(s).add(a);const c=a.options.initialPromotionConfig;a.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(a):void 0})}isLead(){const s=this.getStack();return s?s.lead===this:!0}getLead(){var s;const{layoutId:a}=this.options;return a?((s=this.getStack())===null||s===void 0?void 0:s.lead)||this:this}getPrevLead(){var s;const{layoutId:a}=this.options;return a?(s=this.getStack())===null||s===void 0?void 0:s.prevLead:void 0}getStack(){const{layoutId:s}=this.options;if(s)return this.root.sharedNodes.get(s)}promote({needsReset:s,transition:a,preserveFollowOpacity:l}={}){const c=this.getStack();c&&c.promote(this,l),s&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const s=this.getStack();return s?s.relegate(this):!1}resetRotation(){const{visualElement:s}=this.options;if(!s)return;let a=!1;const{latestValues:l}=s;if((l.rotate||l.rotateX||l.rotateY||l.rotateZ)&&(a=!0),!a)return;const c={};for(let u=0;u<zT.length;u++){const f="rotate"+zT[u];l[f]&&(c[f]=l[f],s.setStaticValue(f,0))}s.render();for(const u in c)s.setStaticValue(u,c[u]);s.scheduleRender()}getProjectionStyles(s){var a,l;if(!this.instance||this.isSVG)return;if(!this.isVisible)return rz;const c={visibility:""},u=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,c.opacity="",c.pointerEvents=vf(s==null?void 0:s.pointerEvents)||"",c.transform=u?u(this.latestValues,""):"none",c;const f=this.getLead();if(!this.projectionDelta||!this.layout||!f.target){const v={};return this.options.layoutId&&(v.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,v.pointerEvents=vf(s==null?void 0:s.pointerEvents)||""),this.hasProjected&&!Xo(this.latestValues)&&(v.transform=u?u({},""):"none",this.hasProjected=!1),v}const h=f.animationValues||f.latestValues;this.applyTransformsToTarget(),c.transform=WT(this.projectionDeltaWithTransform,this.treeScale,h),u&&(c.transform=u(h,c.transform));const{x:g,y:w}=this.projectionDelta;c.transformOrigin=`${g.origin*100}% ${w.origin*100}% 0`,f.animationValues?c.opacity=f===this?(l=(a=h.opacity)!==null&&a!==void 0?a:this.latestValues.opacity)!==null&&l!==void 0?l:1:this.preserveOpacity?this.latestValues.opacity:h.opacityExit:c.opacity=f===this?h.opacity!==void 0?h.opacity:"":h.opacityExit!==void 0?h.opacityExit:0;for(const v in gh){if(h[v]===void 0)continue;const{correct:E,applyTo:_}=gh[v],y=c.transform==="none"?h[v]:E(h[v],f);if(_){const b=_.length;for(let I=0;I<b;I++)c[_[I]]=y}else c[v]=y}return this.options.layoutId&&(c.pointerEvents=f===this?vf(s==null?void 0:s.pointerEvents)||"":"none"),c}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(s=>{var a;return(a=s.currentAnimation)===null||a===void 0?void 0:a.stop()}),this.root.nodes.forEach(qT),this.root.sharedNodes.clear()}}}function oz(t){t.updateLayout()}function sz(t){var e;const n=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=t.layout,{animationType:o}=t.options,s=n.source!==t.layout.source;o==="size"?Un(f=>{const h=s?n.measuredBox[f]:n.layoutBox[f],g=Vn(h);h.min=r[f].min,h.max=h.min+g}):L2(o,n.layoutBox,r)&&Un(f=>{const h=s?n.measuredBox[f]:n.layoutBox[f],g=Vn(r[f]);h.max=h.min+g,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[f].max=t.relativeTarget[f].min+g)});const a=pa();Cc(a,r,n.layoutBox);const l=pa();s?Cc(l,t.applyTransform(i,!0),n.measuredBox):Cc(l,r,n.layoutBox);const c=!D2(a);let u=!1;if(!t.resumeFrom){const f=t.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:h,layout:g}=f;if(h&&g){const w=Ct();Sc(w,n.layoutBox,h.layoutBox);const v=Ct();Sc(v,r,g.layoutBox),M2(w,v)||(u=!0),f.options.layoutRoot&&(t.relativeTarget=v,t.relativeTargetOrigin=w,t.relativeParent=f)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:l,layoutDelta:a,hasLayoutChanged:c,hasRelativeTargetChanged:u})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function az(t){Jo.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function lz(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function cz(t){t.clearSnapshot()}function qT(t){t.clearMeasurements()}function uz(t){t.isLayoutDirty=!1}function dz(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function GT(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function fz(t){t.resolveTargetDelta()}function hz(t){t.calcProjection()}function pz(t){t.resetRotation()}function mz(t){t.removeLeadSnapshot()}function YT(t,e,n){t.translate=ut(e.translate,0,n),t.scale=ut(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function KT(t,e,n,r){t.min=ut(e.min,n.min,r),t.max=ut(e.max,n.max,r)}function gz(t,e,n,r){KT(t.x,e.x,n.x,r),KT(t.y,e.y,n.y,r)}function vz(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const yz={duration:.45,ease:[.4,0,.1,1]},QT=t=>typeof navigator<"u"&&navigator.userAgent.toLowerCase().includes(t),XT=QT("applewebkit/")&&!QT("chrome/")?Math.round:vt;function JT(t){t.min=XT(t.min),t.max=XT(t.max)}function wz(t){JT(t.x),JT(t.y)}function L2(t,e,n){return t==="position"||t==="preserve-aspect"&&!Sy(BT(e),BT(n),.2)}const _z=O2({attachResizeListener:(t,e)=>ii(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),wg={current:void 0},V2=O2({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!wg.current){const t=new _z({});t.mount(window),t.setOptions({layoutScroll:!0}),wg.current=t}return wg.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),xz={pan:{Feature:VW},drag:{Feature:LW,ProjectionNode:V2,MeasureLayout:R2}},Ez=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function bz(t){const e=Ez.exec(t);if(!e)return[,];const[,n,r]=e;return[n,r]}function Ry(t,e,n=1){const[r,i]=bz(t);if(!r)return;const o=window.getComputedStyle(e).getPropertyValue(r);if(o){const s=o.trim();return w2(s)?parseFloat(s):s}else return wy(i)?Ry(i,e,n+1):i}function Tz(t,{...e},n){const r=t.current;if(!(r instanceof Element))return{target:e,transitionEnd:n};n&&(n={...n}),t.values.forEach(i=>{const o=i.get();if(!wy(o))return;const s=Ry(o,r);s&&i.set(s)});for(const i in e){const o=e[i];if(!wy(o))continue;const s=Ry(o,r);s&&(e[i]=s,n||(n={}),n[i]===void 0&&(n[i]=o))}return{target:e,transitionEnd:n}}const Cz=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),j2=t=>Cz.has(t),Sz=t=>Object.keys(t).some(j2),ZT=t=>t===Ds||t===ge,eC=(t,e)=>parseFloat(t.split(", ")[e]),tC=(t,e)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const i=r.match(/^matrix3d\((.+)\)$/);if(i)return eC(i[1],e);{const o=r.match(/^matrix\((.+)\)$/);return o?eC(o[1],t):0}},Pz=new Set(["x","y","z"]),Iz=Ou.filter(t=>!Pz.has(t));function Az(t){const e=[];return Iz.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e.length&&t.render(),e}const Ga={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:tC(4,13),y:tC(5,14)};Ga.translateX=Ga.x;Ga.translateY=Ga.y;const Rz=(t,e,n)=>{const r=e.measureViewportBox(),i=e.current,o=getComputedStyle(i),{display:s}=o,a={};s==="none"&&e.setStaticValue("display",t.display||"block"),n.forEach(c=>{a[c]=Ga[c](r,o)}),e.render();const l=e.measureViewportBox();return n.forEach(c=>{const u=e.getValue(c);u&&u.jump(a[c]),t[c]=Ga[c](l,o)}),t},kz=(t,e,n={},r={})=>{e={...e},r={...r};const i=Object.keys(e).filter(j2);let o=[],s=!1;const a=[];if(i.forEach(l=>{const c=t.getValue(l);if(!t.hasValue(l))return;let u=n[l],f=Yl(u);const h=e[l];let g;if(yh(h)){const w=h.length,v=h[0]===null?1:0;u=h[v],f=Yl(u);for(let E=v;E<w&&h[E]!==null;E++)g?t1(Yl(h[E])===g):g=Yl(h[E])}else g=Yl(h);if(f!==g)if(ZT(f)&&ZT(g)){const w=c.get();typeof w=="string"&&c.set(parseFloat(w)),typeof h=="string"?e[l]=parseFloat(h):Array.isArray(h)&&g===ge&&(e[l]=h.map(parseFloat))}else f!=null&&f.transform&&(g!=null&&g.transform)&&(u===0||h===0)?u===0?c.set(g.transform(u)):e[l]=f.transform(h):(s||(o=Az(t),s=!0),a.push(l),r[l]=r[l]!==void 0?r[l]:e[l],c.jump(h))}),a.length){const l=a.indexOf("height")>=0?window.pageYOffset:null,c=Rz(e,t,a);return o.length&&o.forEach(([u,f])=>{t.getValue(u).set(f)}),t.render(),bp&&l!==null&&window.scrollTo({top:l}),{target:c,transitionEnd:r}}else return{target:e,transitionEnd:r}};function Nz(t,e,n,r){return Sz(e)?kz(t,e,n,r):{target:e,transitionEnd:r}}const Dz=(t,e,n,r)=>{const i=Tz(t,e,r);return e=i.target,r=i.transitionEnd,Nz(t,e,n,r)},ky={current:null},F2={current:!1};function Mz(){if(F2.current=!0,!!bp)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>ky.current=t.matches;t.addListener(e),e()}else ky.current=!1}function Oz(t,e,n){const{willChange:r}=e;for(const i in e){const o=e[i],s=n[i];if(Sn(o))t.addValue(i,o),Eh(r)&&r.add(i);else if(Sn(s))t.addValue(i,qa(o,{owner:t})),Eh(r)&&r.remove(i);else if(s!==o)if(t.hasValue(i)){const a=t.getValue(i);!a.hasAnimated&&a.set(o)}else{const a=t.getStaticValue(i);t.addValue(i,qa(a!==void 0?a:o,{owner:t}))}}for(const i in n)e[i]===void 0&&t.removeValue(i);return e}const nC=new WeakMap,$2=Object.keys(lu),Lz=$2.length,rC=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],Vz=qw.length;class jz{constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:i,visualState:o},s={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>Je.render(this.render,!1,!0);const{latestValues:a,renderState:l}=o;this.latestValues=a,this.baseTarget={...a},this.initialValues=n.initial?{...a}:{},this.renderState=l,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=s,this.isControllingVariants=Cp(n),this.isVariantNode=Tk(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:c,...u}=this.scrapeMotionValuesFromProps(n,{});for(const f in u){const h=u[f];a[f]!==void 0&&Sn(h)&&(h.set(a[f],!1),Eh(c)&&c.add(f))}}scrapeMotionValuesFromProps(e,n){return{}}mount(e){this.current=e,nC.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),F2.current||Mz(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:ky.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){nC.delete(this.current),this.projection&&this.projection.unmount(),_i(this.notifyUpdate),_i(this.render),this.valueSubscriptions.forEach(e=>e()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features)this.features[e].unmount();this.current=null}bindToMotionValue(e,n){const r=Ns.has(e),i=n.on("change",s=>{this.latestValues[e]=s,this.props.onUpdate&&Je.update(this.notifyUpdate,!1,!0),r&&this.projection&&(this.projection.isTransformDirty=!0)}),o=n.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(e,()=>{i(),o()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}loadFeatures({children:e,...n},r,i,o){let s,a;for(let l=0;l<Lz;l++){const c=$2[l],{isEnabled:u,Feature:f,ProjectionNode:h,MeasureLayout:g}=lu[c];h&&(s=h),u(n)&&(!this.features[c]&&f&&(this.features[c]=new f(this)),g&&(a=g))}if((this.type==="html"||this.type==="svg")&&!this.projection&&s){this.projection=new s(this.latestValues,this.parent&&this.parent.projection);const{layoutId:l,layout:c,drag:u,dragConstraints:f,layoutScroll:h,layoutRoot:g}=n;this.projection.setOptions({layoutId:l,layout:c,alwaysMeasureLayout:!!u||f&&fa(f),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof c=="string"?c:"both",initialPromotionConfig:o,layoutScroll:h,layoutRoot:g})}return a}updateFeatures(){for(const e in this.features){const n=this.features[e];n.isMounted?n.update():(n.mount(),n.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Ct()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}makeTargetAnimatable(e,n=!0){return this.makeTargetAnimatableFromInstance(e,this.props,n)}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<rC.length;r++){const i=rC[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const o=e["on"+i];o&&(this.propEventSubscriptions[i]=this.on(i,o))}this.prevMotionValues=Oz(this,this.scrapeMotionValuesFromProps(e,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(e=!1){if(e)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const r=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(r.initial=this.props.initial),r}const n={};for(let r=0;r<Vz;r++){const i=qw[r],o=this.props[i];(au(o)||o===!1)&&(n[i]=o)}return n}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){n!==this.values.get(e)&&(this.removeValue(e),this.bindToMotionValue(e,n)),this.values.set(e,n),this.latestValues[e]=n.get()}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=qa(n,{owner:this}),this.addValue(e,r)),r}readValue(e){var n;return this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(n=this.getBaseTargetFromProps(this.props,e))!==null&&n!==void 0?n:this.readValueFromInstance(this.current,e,this.options)}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:r}=this.props,i=typeof r=="string"||typeof r=="object"?(n=e1(this.props,r))===null||n===void 0?void 0:n[e]:void 0;if(r&&i!==void 0)return i;const o=this.getBaseTargetFromProps(this.props,e);return o!==void 0&&!Sn(o)?o:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new u1),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class U2 extends jz{sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}makeTargetAnimatableFromInstance({transition:e,transitionEnd:n,...r},{transformValues:i},o){let s=tW(r,e||{},this);if(i&&(n&&(n=i(n)),r&&(r=i(r)),s&&(s=i(s))),o){ZB(this,r,s);const a=Dz(this,r,s,n);n=a.transitionEnd,r=a.target}return{transition:e,transitionEnd:n,...r}}}function Fz(t){return window.getComputedStyle(t)}class $z extends U2{constructor(){super(...arguments),this.type="html"}readValueFromInstance(e,n){if(Ns.has(n)){const r=o1(n);return r&&r.default||0}else{const r=Fz(e),i=(Ik(n)?r.getPropertyValue(n):r[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:n}){return I2(e,n)}build(e,n,r,i){Kw(e,n,r,i.transformTemplate)}scrapeMotionValuesFromProps(e,n){return Zw(e,n)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Sn(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}renderInstance(e,n,r,i){Mk(e,n,r,i)}}class Uz extends U2{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Ns.has(n)){const r=o1(n);return r&&r.default||0}return n=Ok.has(n)?n:zw(n),e.getAttribute(n)}measureInstanceViewportBox(){return Ct()}scrapeMotionValuesFromProps(e,n){return Vk(e,n)}build(e,n,r,i){Xw(e,n,r,this.isSVGTag,i.transformTemplate)}renderInstance(e,n,r,i){Lk(e,n,r,i)}mount(e){this.isSVGTag=Jw(e.tagName),super.mount(e)}}const Bz=(t,e)=>Yw(t)?new Uz(e,{enableHardwareAcceleration:!1}):new $z(e,{enableHardwareAcceleration:!0}),Wz={layout:{ProjectionNode:V2,MeasureLayout:R2}},zz={...gW,...L8,...xz,...Wz},be=H7((t,e)=>b8(t,e,zz,Bz));function B2(){const t=m.useRef(!1);return Ww(()=>(t.current=!0,()=>{t.current=!1}),[]),t}function Hz(){const t=B2(),[e,n]=m.useState(0),r=m.useCallback(()=>{t.current&&n(e+1)},[e]);return[m.useCallback(()=>Je.postRender(r),[r]),e]}class qz extends m.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=n.offsetHeight||0,r.width=n.offsetWidth||0,r.top=n.offsetTop,r.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function Gz({children:t,isPresent:e}){const n=m.useId(),r=m.useRef(null),i=m.useRef({width:0,height:0,top:0,left:0});return m.useInsertionEffect(()=>{const{width:o,height:s,top:a,left:l}=i.current;if(e||!r.current||!o||!s)return;r.current.dataset.motionPopId=n;const c=document.createElement("style");return document.head.appendChild(c),c.sheet&&c.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${o}px !important;
            height: ${s}px !important;
            top: ${a}px !important;
            left: ${l}px !important;
          }
        `),()=>{document.head.removeChild(c)}},[e]),m.createElement(qz,{isPresent:e,childRef:r,sizeRef:i},m.cloneElement(t,{ref:r}))}const _g=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:i,presenceAffectsLayout:o,mode:s})=>{const a=jk(Yz),l=m.useId(),c=m.useMemo(()=>({id:l,initial:e,isPresent:n,custom:i,onExitComplete:u=>{a.set(u,!0);for(const f of a.values())if(!f)return;r&&r()},register:u=>(a.set(u,!1),()=>a.delete(u))}),o?void 0:[n]);return m.useMemo(()=>{a.forEach((u,f)=>a.set(f,!1))},[n]),m.useEffect(()=>{!n&&!a.size&&r&&r()},[n]),s==="popLayout"&&(t=m.createElement(Gz,{isPresent:n},t)),m.createElement(Ep.Provider,{value:c},t)};function Yz(){return new Map}function Kz(t){return m.useEffect(()=>()=>t(),[])}const Zo=t=>t.key||"";function Qz(t,e){t.forEach(n=>{const r=Zo(n);e.set(r,n)})}function Xz(t){const e=[];return m.Children.forEach(t,n=>{m.isValidElement(n)&&e.push(n)}),e}const Pc=({children:t,custom:e,initial:n=!0,onExitComplete:r,exitBeforeEnter:i,presenceAffectsLayout:o=!0,mode:s="sync"})=>{const a=m.useContext(Gw).forceRender||Hz()[0],l=B2(),c=Xz(t);let u=c;const f=m.useRef(new Map).current,h=m.useRef(u),g=m.useRef(new Map).current,w=m.useRef(!0);if(Ww(()=>{w.current=!1,Qz(c,g),h.current=u}),Kz(()=>{w.current=!0,g.clear(),f.clear()}),w.current)return m.createElement(m.Fragment,null,u.map(y=>m.createElement(_g,{key:Zo(y),isPresent:!0,initial:n?void 0:!1,presenceAffectsLayout:o,mode:s},y)));u=[...u];const v=h.current.map(Zo),E=c.map(Zo),_=v.length;for(let y=0;y<_;y++){const b=v[y];E.indexOf(b)===-1&&!f.has(b)&&f.set(b,void 0)}return s==="wait"&&f.size&&(u=[]),f.forEach((y,b)=>{if(E.indexOf(b)!==-1)return;const I=g.get(b);if(!I)return;const N=v.indexOf(b);let O=y;if(!O){const S=()=>{f.delete(b);const C=Array.from(g.keys()).filter(P=>!E.includes(P));if(C.forEach(P=>g.delete(P)),h.current=c.filter(P=>{const A=Zo(P);return A===b||C.includes(A)}),!f.size){if(l.current===!1)return;a(),r&&r()}};O=m.createElement(_g,{key:Zo(I),isPresent:!1,onExitComplete:S,custom:e,presenceAffectsLayout:o,mode:s},I),f.set(b,O)}u.splice(N,0,O)}),u=u.map(y=>{const b=y.key;return f.has(b)?y:m.createElement(_g,{key:Zo(y),isPresent:!0,presenceAffectsLayout:o,mode:s},y)}),m.createElement(m.Fragment,null,f.size?u:u.map(y=>m.cloneElement(y)))};var Jz={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const Zz=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Ie=(t,e)=>{const n=m.forwardRef(({color:r="currentColor",size:i=24,strokeWidth:o=2,absoluteStrokeWidth:s,children:a,...l},c)=>m.createElement("svg",{ref:c,...Jz,width:i,height:i,stroke:r,strokeWidth:s?Number(o)*24/Number(i):o,className:`lucide lucide-${Zz(t)}`,...l},[...e.map(([u,f])=>m.createElement(u,f)),...(Array.isArray(a)?a:[a])||[]]));return n.displayName=`${t}`,n},W2=Ie("Archive",[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]]),eH=Ie("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]),iC=Ie("CalendarDays",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]]),tH=Ie("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]),nH=Ie("CheckSquare",[["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}],["path",{d:"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11",key:"1jnkn4"}]]),Th=Ie("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]),rH=Ie("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),iH=Ie("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]),oH=Ie("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),sH=Ie("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]),aH=Ie("Droplets",[["path",{d:"M7 16.3c2.2 0 4-1.83 4-4.05 0-1.16-.57-2.26-1.71-3.19S7.29 6.75 7 5.3c-.29 1.45-1.14 2.84-2.29 3.76S3 11.1 3 12.25c0 2.22 1.8 4.05 4 4.05z",key:"1ptgy4"}],["path",{d:"M12.56 6.6A10.97 10.97 0 0 0 14 3.02c.5 2.5 2 4.9 4 6.5s3 3.5 3 5.5a6.98 6.98 0 0 1-11.91 4.97",key:"1sl1rz"}]]),lH=Ie("Egg",[["path",{d:"M12 22c6.23-.05 7.87-5.57 7.5-10-.36-4.34-3.95-9.96-7.5-10-3.55.04-7.14 5.66-7.5 10-.37 4.43 1.27 9.95 7.5 10z",key:"1c39pg"}]]),Ap=Ie("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]),Ya=Ie("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),cH=Ie("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]),uH=Ie("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]),oC=Ie("KeyRound",[["path",{d:"M2 18v3c0 .6.4 1 1 1h4v-3h3v-3h2l1.4-1.4a6.5 6.5 0 1 0-4-4Z",key:"167ctg"}],["circle",{cx:"16.5",cy:"7.5",r:".5",key:"1kog09"}]]),dH=Ie("List",[["line",{x1:"8",x2:"21",y1:"6",y2:"6",key:"7ey8pc"}],["line",{x1:"8",x2:"21",y1:"12",y2:"12",key:"rjfblc"}],["line",{x1:"8",x2:"21",y1:"18",y2:"18",key:"c3b1m8"}],["line",{x1:"3",x2:"3.01",y1:"6",y2:"6",key:"1g7gq3"}],["line",{x1:"3",x2:"3.01",y1:"12",y2:"12",key:"1pjlvk"}],["line",{x1:"3",x2:"3.01",y1:"18",y2:"18",key:"28t2mc"}]]),fH=Ie("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]),hH=Ie("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]),pH=Ie("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]),z2=Ie("Maximize",[["path",{d:"M8 3H5a2 2 0 0 0-2 2v3",key:"1dcmit"}],["path",{d:"M21 8V5a2 2 0 0 0-2-2h-3",key:"1e4gt3"}],["path",{d:"M3 16v3a2 2 0 0 0 2 2h3",key:"wsl5sc"}],["path",{d:"M16 21h3a2 2 0 0 0 2-2v-3",key:"18trek"}]]),mH=Ie("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]),gH=Ie("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",key:"1xcu5"}],["circle",{cx:"17.5",cy:"10.5",r:".5",key:"736e4u"}],["circle",{cx:"8.5",cy:"7.5",r:".5",key:"clrty"}],["circle",{cx:"6.5",cy:"12.5",r:".5",key:"1s4xz9"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]),Ny=Ie("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.5 3.5a2.12 2.12 0 0 1 3 3L7 19l-4 1 1-4Z",key:"ymcmye"}]]),Dy=Ie("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]]),vH=Ie("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),yH=Ie("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]),wH=Ie("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]),_H=Ie("Thermometer",[["path",{d:"M14 4v10.54a4 4 0 1 1-4 0V4a2 2 0 0 1 4 0Z",key:"17jzev"}]]),xH=Ie("Timer",[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]]),sC=Ie("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),aC=Ie("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]),EH=Ie("UserCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]]),bH=Ie("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]),uu=Ie("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]),Fu=Ie("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),TH=()=>{const[t,e]=m.useState(!0),[n,r]=m.useState(""),[i,o]=m.useState(""),[s,a]=m.useState(""),{login:l,register:c,resetPassword:u}=vl(),f=_u(),{toast:h}=yl(),[g,w]=m.useState(!1),v=async _=>{_.preventDefault(),w(!0);try{if(t)await l(n,i),h({title:"Inicio de sesin exitoso",description:"Bienvenida de nuevo."}),f("/");else{if(i!==s){h({title:"Error de registro",description:"Las contraseas no coinciden.",variant:"destructive"}),w(!1);return}await c(n,i),h({title:"Registro exitoso",description:"Tu cuenta ha sido creada."}),f("/")}}catch(y){h({title:t?"Error al iniciar sesin":"Error al registrarse",description:y.message,variant:"destructive"}),w(!1)}},E=async()=>{if(!n){h({title:"Correo requerido",description:"Introduce tu correo para restablecer la contrasea.",variant:"destructive"});return}try{await u(n),h({title:"Correo enviado",description:"Revisa tu bandeja para restablecer la contrasea."})}catch(_){h({title:"Error",description:_.message,variant:"destructive"})}};return p.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-pink-50 via-purple-50 to-indigo-50 flex flex-col justify-center items-center p-4",children:[p.jsxs(be.div,{className:"w-full max-w-md bg-white/80 backdrop-blur-md shadow-xl rounded-xl p-8 sm:p-10",initial:{opacity:0,y:-30},animate:{opacity:1,y:0},transition:{duration:.6,ease:"easeOut"},children:[p.jsxs("div",{className:"text-center mb-8",children:[p.jsx(be.h1,{className:"text-3xl sm:text-4xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-rose-400 via-pink-400 to-fuchsia-500 py-2 mb-2",initial:{opacity:0},animate:{opacity:1},transition:{delay:.2,duration:.5},children:"FertiliApp"}),p.jsx("p",{className:"text-gray-600 text-lg",children:t?"Inicia sesin para continuar":"Crea tu cuenta"})]}),p.jsxs("form",{onSubmit:v,className:"space-y-6",children:[p.jsxs("div",{className:"space-y-2",children:[p.jsxs(An,{htmlFor:"email",className:"flex items-center text-gray-700 text-lg",children:[p.jsx(pH,{className:"mr-2 h-5 w-5 text-pink-400"})," Correo Electrnico"]}),p.jsx(Vr,{id:"email",type:"email",value:n,onChange:_=>r(_.target.value),placeholder:"tu@email.com",required:!0,className:"bg-gray-50 border-gray-200 text-gray-800 placeholder-gray-400 focus:ring-pink-500 focus:border-pink-500 text-base py-3 px-4"})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsxs(An,{htmlFor:"password",className:"flex items-center text-gray-700 text-lg",children:[p.jsx(oC,{className:"mr-2 h-5 w-5 text-rose-400"})," Contrasea"]}),p.jsx(Vr,{id:"password",type:"password",value:i,onChange:_=>o(_.target.value),placeholder:"",required:!0,className:"bg-gray-50 border-gray-200 text-gray-800 placeholder-gray-400 focus:ring-pink-500 focus:border-pink-500 text-base py-3 px-4"})]}),t&&p.jsx("div",{className:"text-right",children:p.jsx(Te,{variant:"link",type:"button",onClick:E,className:"text-pink-600 hover:text-pink-500 text-sm",children:"Olvidaste tu contrasea?"})}),!t&&p.jsxs("div",{className:"space-y-2",children:[p.jsxs(An,{htmlFor:"confirmPassword",className:"flex items-center text-gray-700 text-lg",children:[p.jsx(oC,{className:"mr-2 h-5 w-5 text-rose-400"})," Confirmar Contrasea"]}),p.jsx(Vr,{id:"confirmPassword",type:"password",value:s,onChange:_=>a(_.target.value),placeholder:"",required:!0,className:"bg-gray-50 border-gray-200 text-gray-800 placeholder-gray-400 focus:ring-pink-500 focus:border-pink-500 text-base py-3 px-4"})]}),p.jsx(Te,{type:"submit",disabled:g,className:"w-full bg-gradient-to-r from-pink-500 to-fuchsia-600 hover:from-pink-600 hover:to-fuchsia-700 text-white font-semibold py-3 text-lg shadow-md hover:shadow-lg transition-all duration-300 transform hover:scale-105 flex items-center justify-center",children:g?p.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white"}):t?p.jsxs(p.Fragment,{children:[p.jsx(fH,{className:"mr-2 h-5 w-5"})," Iniciar Sesin"]}):p.jsxs(p.Fragment,{children:[p.jsx(bH,{className:"mr-2 h-5 w-5"})," Registrarse"]})})]}),p.jsx("div",{className:"mt-8 text-center",children:p.jsx(Te,{variant:"link",onClick:()=>e(!t),className:"text-pink-600 hover:text-pink-500 text-base",children:t?"No tienes cuenta? Regstrate":"Ya tienes cuenta? Inicia sesin"})})]}),p.jsx("footer",{className:"w-full max-w-md mt-12 text-center text-gray-500 text-sm",children:p.jsxs("p",{children:[" ",new Date().getFullYear()," FertiliApp. Todos los derechos reservados."]})})]})},CH=({padding:t,chartWidth:e,chartHeight:n,tempMin:r,tempMax:i,tempRange:o,getY:s,getX:a,allDataPoints:l=[],responsiveFontSize:c,isFullScreen:u,showLeftLabels:f=!0})=>{const h={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.3,ease:"easeOut"}}},g=[];if(o>0){const w=o<=2.5?.1:.5;for(let v=r;v<=i+1e-9;v+=w)g.push(parseFloat(v.toFixed(1)))}else for(let w=35;w<=37.5+1e-9;w+=.5)g.push(parseFloat(w.toFixed(1)));return p.jsxs(p.Fragment,{children:[p.jsxs("defs",{children:[p.jsxs("linearGradient",{id:"bgGradient",x1:"0%",y1:"0%",x2:"0%",y2:"100%",children:[p.jsx("stop",{offset:"0%",stopColor:"rgba(252, 231, 243, 0.3)"}),p.jsx("stop",{offset:"50%",stopColor:"rgba(255, 255, 255, 0.8)"}),p.jsx("stop",{offset:"100%",stopColor:"rgba(252, 231, 243, 0.2)"})]}),p.jsxs("filter",{id:"softGlow",x:"-50%",y:"-50%",width:"200%",height:"200%",children:[p.jsx("feGaussianBlur",{stdDeviation:"1",result:"coloredBlur"}),p.jsxs("feMerge",{children:[p.jsx("feMergeNode",{in:"coloredBlur"}),p.jsx("feMergeNode",{in:"SourceGraphic"})]})]})]}),p.jsx("rect",{x:t.left,y:t.top,width:e-t.left-t.right,height:n-t.top-t.bottom,fill:"url(#bgGradient)",opacity:.4}),g.map((w,v)=>{const E=s(w),_=w.toFixed(1).endsWith(".0")||w.toFixed(1).endsWith(".5"),y=_?w.toFixed(1):`.${w.toFixed(1).split(".")[1]}`;return p.jsxs(be.g,{variants:h,children:[p.jsx("line",{x1:t.left,y1:E,x2:e-t.right,y2:E,stroke:_?"rgba(244, 114, 182, 0.25)":"rgba(244, 114, 182, 0.15)",strokeWidth:_?1.5:1,strokeDasharray:_?"0":"3,3",style:{filter:_?"drop-shadow(0 1px 2px rgba(244, 114, 182, 0.1))":"none"}}),f&&p.jsx("text",{x:t.left-c(1),y:E+c(.35),textAnchor:"end",fontSize:c(_?1:.9),fontWeight:_?"600":"500",fill:_?"#E91E63":"#EC4899",style:{filter:"drop-shadow(0 1px 1px rgba(255, 255, 255, 0.8))",fontFamily:'-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif'},children:y}),p.jsx("text",{x:e-t.right+c(1),y:E+c(.35),textAnchor:"start",fontSize:c(_?1:.9),fontWeight:_?"600":"500",fill:_?"#E91E63":"#EC4899",style:{filter:"drop-shadow(0 1px 1px rgba(255, 255, 255, 0.8))",fontFamily:'-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif'},children:y})]},`temp-tick-${v}`)}),l.map((w,v)=>{const E=a(v);return p.jsx("line",{x1:E,y1:t.top,x2:E,y2:n-t.bottom,stroke:"rgba(244, 114, 182, 0.12)",strokeWidth:.8,style:{filter:"drop-shadow(0 0 1px rgba(244, 114, 182, 0.1))"}},`day-grid-${v}`)}),f&&p.jsxs(be.g,{variants:h,children:[p.jsx("rect",{x:t.left-c(.2),y:t.top-c(.2),width:c(2.8),height:c(2),rx:c(.3),fill:"rgba(244, 114, 182, 0.1)",stroke:"rgba(244, 114, 182, 0.2)",strokeWidth:.5}),p.jsx("text",{x:t.left+c(1.2),y:t.top+c(1.1),textAnchor:"middle",fontSize:c(1.3),fontWeight:"700",fill:"#E91E63",style:{filter:"drop-shadow(0 1px 2px rgba(255, 255, 255, 0.8))",fontFamily:'-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif'},children:"C"})]}),p.jsx("rect",{x:t.left,y:t.top,width:e-t.left-t.right,height:n-t.top-t.bottom,fill:"none",stroke:"rgba(244, 114, 182, 0.2)",strokeWidth:1.5,rx:8,style:{filter:"drop-shadow(0 2px 4px rgba(244, 114, 182, 0.1))"}})]})},SH=({data:t,allDataPoints:e,getX:n,getY:r,baselineY:i,temperatureField:o="temperature"})=>{if(!t||t.length<2)return null;let s="",a=null;return e.forEach((l,c)=>{const u=t.find(f=>f.id===l.id);if(u&&u[o]!==null&&u[o]!==void 0&&!u.ignored){const f=n(c),h=r(u[o]);a!==null&&c===a+1?s+=` L ${f} ${h}`:s+=`${s?" ":""}M ${f} ${h}`,a=c}}),s.includes("L")?p.jsx(p.Fragment,{children:p.jsx(be.path,{d:s,fill:"none",stroke:"url(#tempLineGradientChart)",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round",initial:{pathLength:0,opacity:0},animate:{pathLength:1,opacity:1},transition:{duration:.2,ease:"easeInOut"}})}):null};function hr(t){"@babel/helpers - typeof";return hr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hr(t)}function Ze(t){if(t===null||t===!0||t===!1)return NaN;var e=Number(t);return isNaN(e)?e:e<0?Math.ceil(e):Math.floor(e)}function se(t,e){if(e.length<t)throw new TypeError(t+" argument"+(t>1?"s":"")+" required, but only "+e.length+" present")}function ye(t){se(1,arguments);var e=Object.prototype.toString.call(t);return t instanceof Date||hr(t)==="object"&&e==="[object Date]"?new Date(t.getTime()):typeof t=="number"||e==="[object Number]"?new Date(t):((typeof t=="string"||e==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}function Lt(t,e){se(2,arguments);var n=ye(t),r=Ze(e);return isNaN(r)?new Date(NaN):(r&&n.setDate(n.getDate()+r),n)}function pr(t,e){se(2,arguments);var n=ye(t),r=Ze(e);if(isNaN(r))return new Date(NaN);if(!r)return n;var i=n.getDate(),o=new Date(n.getTime());o.setMonth(n.getMonth()+r+1,0);var s=o.getDate();return i>=s?o:(n.setFullYear(o.getFullYear(),o.getMonth(),i),n)}function PH(t,e){se(2,arguments);var n=ye(t).getTime(),r=Ze(e);return new Date(n+r)}var IH={};function zr(){return IH}function Ur(t,e){var n,r,i,o,s,a,l,c;se(1,arguments);var u=zr(),f=Ze((n=(r=(i=(o=e==null?void 0:e.weekStartsOn)!==null&&o!==void 0?o:e==null||(s=e.locale)===null||s===void 0||(a=s.options)===null||a===void 0?void 0:a.weekStartsOn)!==null&&i!==void 0?i:u.weekStartsOn)!==null&&r!==void 0?r:(l=u.locale)===null||l===void 0||(c=l.options)===null||c===void 0?void 0:c.weekStartsOn)!==null&&n!==void 0?n:0);if(!(f>=0&&f<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var h=ye(t),g=h.getDay(),w=(g<f?7:0)+g-f;return h.setDate(h.getDate()-w),h.setHours(0,0,0,0),h}function Es(t){return se(1,arguments),Ur(t,{weekStartsOn:1})}function AH(t){se(1,arguments);var e=ye(t),n=e.getFullYear(),r=new Date(0);r.setFullYear(n+1,0,4),r.setHours(0,0,0,0);var i=Es(r),o=new Date(0);o.setFullYear(n,0,4),o.setHours(0,0,0,0);var s=Es(o);return e.getTime()>=i.getTime()?n+1:e.getTime()>=s.getTime()?n:n-1}function RH(t){se(1,arguments);var e=AH(t),n=new Date(0);n.setFullYear(e,0,4),n.setHours(0,0,0,0);var r=Es(n);return r}function Ka(t){var e=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return e.setUTCFullYear(t.getFullYear()),t.getTime()-e.getTime()}function Se(t){se(1,arguments);var e=ye(t);return e.setHours(0,0,0,0),e}var kH=864e5;function Ir(t,e){se(2,arguments);var n=Se(t),r=Se(e),i=n.getTime()-Ka(n),o=r.getTime()-Ka(r);return Math.round((i-o)/kH)}function My(t,e){se(2,arguments);var n=Ze(e),r=n*7;return Lt(t,r)}function NH(t,e){se(2,arguments);var n=Ze(e);return pr(t,n*12)}function DH(t){se(1,arguments);var e;if(t&&typeof t.forEach=="function")e=t;else if(hr(t)==="object"&&t!==null)e=Array.prototype.slice.call(t);else return new Date(NaN);var n;return e.forEach(function(r){var i=ye(r);(n===void 0||n<i||isNaN(Number(i)))&&(n=i)}),n||new Date(NaN)}function MH(t){se(1,arguments);var e;if(t&&typeof t.forEach=="function")e=t;else if(hr(t)==="object"&&t!==null)e=Array.prototype.slice.call(t);else return new Date(NaN);var n;return e.forEach(function(r){var i=ye(r);(n===void 0||n>i||isNaN(i.getDate()))&&(n=i)}),n||new Date(NaN)}function OH(t,e){se(2,arguments);var n=ye(t),r=ye(e),i=n.getTime()-r.getTime();return i<0?-1:i>0?1:i}var d1=6e4,f1=36e5,LH=1e3;function xn(t,e){se(2,arguments);var n=Se(t),r=Se(e);return n.getTime()===r.getTime()}function h1(t){return se(1,arguments),t instanceof Date||hr(t)==="object"&&Object.prototype.toString.call(t)==="[object Date]"}function VH(t){if(se(1,arguments),!h1(t)&&typeof t!="number")return!1;var e=ye(t);return!isNaN(Number(e))}function du(t,e){se(2,arguments);var n=ye(t),r=ye(e),i=n.getFullYear()-r.getFullYear(),o=n.getMonth()-r.getMonth();return i*12+o}var jH=6048e5;function FH(t,e,n){se(2,arguments);var r=Ur(t,n),i=Ur(e,n),o=r.getTime()-Ka(r),s=i.getTime()-Ka(i);return Math.round((o-s)/jH)}function lC(t,e){var n=t.getFullYear()-e.getFullYear()||t.getMonth()-e.getMonth()||t.getDate()-e.getDate()||t.getHours()-e.getHours()||t.getMinutes()-e.getMinutes()||t.getSeconds()-e.getSeconds()||t.getMilliseconds()-e.getMilliseconds();return n<0?-1:n>0?1:n}function wo(t,e){se(2,arguments);var n=ye(t),r=ye(e),i=lC(n,r),o=Math.abs(Ir(n,r));n.setDate(n.getDate()-i*o);var s=+(lC(n,r)===-i),a=i*(o-s);return a===0?0:a}function p1(t){se(1,arguments);var e=ye(t),n=e.getMonth();return e.setFullYear(e.getFullYear(),n+1,0),e.setHours(23,59,59,999),e}function Cn(t){se(1,arguments);var e=ye(t);return e.setDate(1),e.setHours(0,0,0,0),e}function $H(t){se(1,arguments);var e=ye(t),n=new Date(0);return n.setFullYear(e.getFullYear(),0,1),n.setHours(0,0,0,0),n}function m1(t,e){var n,r,i,o,s,a,l,c;se(1,arguments);var u=zr(),f=Ze((n=(r=(i=(o=e==null?void 0:e.weekStartsOn)!==null&&o!==void 0?o:e==null||(s=e.locale)===null||s===void 0||(a=s.options)===null||a===void 0?void 0:a.weekStartsOn)!==null&&i!==void 0?i:u.weekStartsOn)!==null&&r!==void 0?r:(l=u.locale)===null||l===void 0||(c=l.options)===null||c===void 0?void 0:c.weekStartsOn)!==null&&n!==void 0?n:0);if(!(f>=0&&f<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var h=ye(t),g=h.getDay(),w=(g<f?-7:0)+6-(g-f);return h.setDate(h.getDate()+w),h.setHours(23,59,59,999),h}function H2(t){return se(1,arguments),m1(t,{weekStartsOn:1})}function q2(t,e){se(2,arguments);var n=Ze(e);return PH(t,-n)}var UH=864e5;function BH(t){se(1,arguments);var e=ye(t),n=e.getTime();e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0);var r=e.getTime(),i=n-r;return Math.floor(i/UH)+1}function Qa(t){se(1,arguments);var e=1,n=ye(t),r=n.getUTCDay(),i=(r<e?7:0)+r-e;return n.setUTCDate(n.getUTCDate()-i),n.setUTCHours(0,0,0,0),n}function G2(t){se(1,arguments);var e=ye(t),n=e.getUTCFullYear(),r=new Date(0);r.setUTCFullYear(n+1,0,4),r.setUTCHours(0,0,0,0);var i=Qa(r),o=new Date(0);o.setUTCFullYear(n,0,4),o.setUTCHours(0,0,0,0);var s=Qa(o);return e.getTime()>=i.getTime()?n+1:e.getTime()>=s.getTime()?n:n-1}function WH(t){se(1,arguments);var e=G2(t),n=new Date(0);n.setUTCFullYear(e,0,4),n.setUTCHours(0,0,0,0);var r=Qa(n);return r}var zH=6048e5;function Y2(t){se(1,arguments);var e=ye(t),n=Qa(e).getTime()-WH(e).getTime();return Math.round(n/zH)+1}function bs(t,e){var n,r,i,o,s,a,l,c;se(1,arguments);var u=zr(),f=Ze((n=(r=(i=(o=e==null?void 0:e.weekStartsOn)!==null&&o!==void 0?o:e==null||(s=e.locale)===null||s===void 0||(a=s.options)===null||a===void 0?void 0:a.weekStartsOn)!==null&&i!==void 0?i:u.weekStartsOn)!==null&&r!==void 0?r:(l=u.locale)===null||l===void 0||(c=l.options)===null||c===void 0?void 0:c.weekStartsOn)!==null&&n!==void 0?n:0);if(!(f>=0&&f<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var h=ye(t),g=h.getUTCDay(),w=(g<f?7:0)+g-f;return h.setUTCDate(h.getUTCDate()-w),h.setUTCHours(0,0,0,0),h}function g1(t,e){var n,r,i,o,s,a,l,c;se(1,arguments);var u=ye(t),f=u.getUTCFullYear(),h=zr(),g=Ze((n=(r=(i=(o=e==null?void 0:e.firstWeekContainsDate)!==null&&o!==void 0?o:e==null||(s=e.locale)===null||s===void 0||(a=s.options)===null||a===void 0?void 0:a.firstWeekContainsDate)!==null&&i!==void 0?i:h.firstWeekContainsDate)!==null&&r!==void 0?r:(l=h.locale)===null||l===void 0||(c=l.options)===null||c===void 0?void 0:c.firstWeekContainsDate)!==null&&n!==void 0?n:1);if(!(g>=1&&g<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var w=new Date(0);w.setUTCFullYear(f+1,0,g),w.setUTCHours(0,0,0,0);var v=bs(w,e),E=new Date(0);E.setUTCFullYear(f,0,g),E.setUTCHours(0,0,0,0);var _=bs(E,e);return u.getTime()>=v.getTime()?f+1:u.getTime()>=_.getTime()?f:f-1}function HH(t,e){var n,r,i,o,s,a,l,c;se(1,arguments);var u=zr(),f=Ze((n=(r=(i=(o=e==null?void 0:e.firstWeekContainsDate)!==null&&o!==void 0?o:e==null||(s=e.locale)===null||s===void 0||(a=s.options)===null||a===void 0?void 0:a.firstWeekContainsDate)!==null&&i!==void 0?i:u.firstWeekContainsDate)!==null&&r!==void 0?r:(l=u.locale)===null||l===void 0||(c=l.options)===null||c===void 0?void 0:c.firstWeekContainsDate)!==null&&n!==void 0?n:1),h=g1(t,e),g=new Date(0);g.setUTCFullYear(h,0,f),g.setUTCHours(0,0,0,0);var w=bs(g,e);return w}var qH=6048e5;function K2(t,e){se(1,arguments);var n=ye(t),r=bs(n,e).getTime()-HH(n,e).getTime();return Math.round(r/qH)+1}function He(t,e){for(var n=t<0?"-":"",r=Math.abs(t).toString();r.length<e;)r="0"+r;return n+r}var GH={y:function(e,n){var r=e.getUTCFullYear(),i=r>0?r:1-r;return He(n==="yy"?i%100:i,n.length)},M:function(e,n){var r=e.getUTCMonth();return n==="M"?String(r+1):He(r+1,2)},d:function(e,n){return He(e.getUTCDate(),n.length)},a:function(e,n){var r=e.getUTCHours()/12>=1?"pm":"am";switch(n){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h:function(e,n){return He(e.getUTCHours()%12||12,n.length)},H:function(e,n){return He(e.getUTCHours(),n.length)},m:function(e,n){return He(e.getUTCMinutes(),n.length)},s:function(e,n){return He(e.getUTCSeconds(),n.length)},S:function(e,n){var r=n.length,i=e.getUTCMilliseconds(),o=Math.floor(i*Math.pow(10,r-3));return He(o,n.length)}};const Vi=GH;var Us={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},YH={G:function(e,n,r){var i=e.getUTCFullYear()>0?1:0;switch(n){case"G":case"GG":case"GGG":return r.era(i,{width:"abbreviated"});case"GGGGG":return r.era(i,{width:"narrow"});case"GGGG":default:return r.era(i,{width:"wide"})}},y:function(e,n,r){if(n==="yo"){var i=e.getUTCFullYear(),o=i>0?i:1-i;return r.ordinalNumber(o,{unit:"year"})}return Vi.y(e,n)},Y:function(e,n,r,i){var o=g1(e,i),s=o>0?o:1-o;if(n==="YY"){var a=s%100;return He(a,2)}return n==="Yo"?r.ordinalNumber(s,{unit:"year"}):He(s,n.length)},R:function(e,n){var r=G2(e);return He(r,n.length)},u:function(e,n){var r=e.getUTCFullYear();return He(r,n.length)},Q:function(e,n,r){var i=Math.ceil((e.getUTCMonth()+1)/3);switch(n){case"Q":return String(i);case"QQ":return He(i,2);case"Qo":return r.ordinalNumber(i,{unit:"quarter"});case"QQQ":return r.quarter(i,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(i,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(i,{width:"wide",context:"formatting"})}},q:function(e,n,r){var i=Math.ceil((e.getUTCMonth()+1)/3);switch(n){case"q":return String(i);case"qq":return He(i,2);case"qo":return r.ordinalNumber(i,{unit:"quarter"});case"qqq":return r.quarter(i,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(i,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(i,{width:"wide",context:"standalone"})}},M:function(e,n,r){var i=e.getUTCMonth();switch(n){case"M":case"MM":return Vi.M(e,n);case"Mo":return r.ordinalNumber(i+1,{unit:"month"});case"MMM":return r.month(i,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(i,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(i,{width:"wide",context:"formatting"})}},L:function(e,n,r){var i=e.getUTCMonth();switch(n){case"L":return String(i+1);case"LL":return He(i+1,2);case"Lo":return r.ordinalNumber(i+1,{unit:"month"});case"LLL":return r.month(i,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(i,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(i,{width:"wide",context:"standalone"})}},w:function(e,n,r,i){var o=K2(e,i);return n==="wo"?r.ordinalNumber(o,{unit:"week"}):He(o,n.length)},I:function(e,n,r){var i=Y2(e);return n==="Io"?r.ordinalNumber(i,{unit:"week"}):He(i,n.length)},d:function(e,n,r){return n==="do"?r.ordinalNumber(e.getUTCDate(),{unit:"date"}):Vi.d(e,n)},D:function(e,n,r){var i=BH(e);return n==="Do"?r.ordinalNumber(i,{unit:"dayOfYear"}):He(i,n.length)},E:function(e,n,r){var i=e.getUTCDay();switch(n){case"E":case"EE":case"EEE":return r.day(i,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(i,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(i,{width:"short",context:"formatting"});case"EEEE":default:return r.day(i,{width:"wide",context:"formatting"})}},e:function(e,n,r,i){var o=e.getUTCDay(),s=(o-i.weekStartsOn+8)%7||7;switch(n){case"e":return String(s);case"ee":return He(s,2);case"eo":return r.ordinalNumber(s,{unit:"day"});case"eee":return r.day(o,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(o,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(o,{width:"short",context:"formatting"});case"eeee":default:return r.day(o,{width:"wide",context:"formatting"})}},c:function(e,n,r,i){var o=e.getUTCDay(),s=(o-i.weekStartsOn+8)%7||7;switch(n){case"c":return String(s);case"cc":return He(s,n.length);case"co":return r.ordinalNumber(s,{unit:"day"});case"ccc":return r.day(o,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(o,{width:"narrow",context:"standalone"});case"cccccc":return r.day(o,{width:"short",context:"standalone"});case"cccc":default:return r.day(o,{width:"wide",context:"standalone"})}},i:function(e,n,r){var i=e.getUTCDay(),o=i===0?7:i;switch(n){case"i":return String(o);case"ii":return He(o,n.length);case"io":return r.ordinalNumber(o,{unit:"day"});case"iii":return r.day(i,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(i,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(i,{width:"short",context:"formatting"});case"iiii":default:return r.day(i,{width:"wide",context:"formatting"})}},a:function(e,n,r){var i=e.getUTCHours(),o=i/12>=1?"pm":"am";switch(n){case"a":case"aa":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(o,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(o,{width:"wide",context:"formatting"})}},b:function(e,n,r){var i=e.getUTCHours(),o;switch(i===12?o=Us.noon:i===0?o=Us.midnight:o=i/12>=1?"pm":"am",n){case"b":case"bb":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(o,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(o,{width:"wide",context:"formatting"})}},B:function(e,n,r){var i=e.getUTCHours(),o;switch(i>=17?o=Us.evening:i>=12?o=Us.afternoon:i>=4?o=Us.morning:o=Us.night,n){case"B":case"BB":case"BBB":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(o,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(o,{width:"wide",context:"formatting"})}},h:function(e,n,r){if(n==="ho"){var i=e.getUTCHours()%12;return i===0&&(i=12),r.ordinalNumber(i,{unit:"hour"})}return Vi.h(e,n)},H:function(e,n,r){return n==="Ho"?r.ordinalNumber(e.getUTCHours(),{unit:"hour"}):Vi.H(e,n)},K:function(e,n,r){var i=e.getUTCHours()%12;return n==="Ko"?r.ordinalNumber(i,{unit:"hour"}):He(i,n.length)},k:function(e,n,r){var i=e.getUTCHours();return i===0&&(i=24),n==="ko"?r.ordinalNumber(i,{unit:"hour"}):He(i,n.length)},m:function(e,n,r){return n==="mo"?r.ordinalNumber(e.getUTCMinutes(),{unit:"minute"}):Vi.m(e,n)},s:function(e,n,r){return n==="so"?r.ordinalNumber(e.getUTCSeconds(),{unit:"second"}):Vi.s(e,n)},S:function(e,n){return Vi.S(e,n)},X:function(e,n,r,i){var o=i._originalDate||e,s=o.getTimezoneOffset();if(s===0)return"Z";switch(n){case"X":return uC(s);case"XXXX":case"XX":return es(s);case"XXXXX":case"XXX":default:return es(s,":")}},x:function(e,n,r,i){var o=i._originalDate||e,s=o.getTimezoneOffset();switch(n){case"x":return uC(s);case"xxxx":case"xx":return es(s);case"xxxxx":case"xxx":default:return es(s,":")}},O:function(e,n,r,i){var o=i._originalDate||e,s=o.getTimezoneOffset();switch(n){case"O":case"OO":case"OOO":return"GMT"+cC(s,":");case"OOOO":default:return"GMT"+es(s,":")}},z:function(e,n,r,i){var o=i._originalDate||e,s=o.getTimezoneOffset();switch(n){case"z":case"zz":case"zzz":return"GMT"+cC(s,":");case"zzzz":default:return"GMT"+es(s,":")}},t:function(e,n,r,i){var o=i._originalDate||e,s=Math.floor(o.getTime()/1e3);return He(s,n.length)},T:function(e,n,r,i){var o=i._originalDate||e,s=o.getTime();return He(s,n.length)}};function cC(t,e){var n=t>0?"-":"+",r=Math.abs(t),i=Math.floor(r/60),o=r%60;if(o===0)return n+String(i);var s=e||"";return n+String(i)+s+He(o,2)}function uC(t,e){if(t%60===0){var n=t>0?"-":"+";return n+He(Math.abs(t)/60,2)}return es(t,e)}function es(t,e){var n=e||"",r=t>0?"-":"+",i=Math.abs(t),o=He(Math.floor(i/60),2),s=He(i%60,2);return r+o+n+s}const KH=YH;var dC=function(e,n){switch(e){case"P":return n.date({width:"short"});case"PP":return n.date({width:"medium"});case"PPP":return n.date({width:"long"});case"PPPP":default:return n.date({width:"full"})}},Q2=function(e,n){switch(e){case"p":return n.time({width:"short"});case"pp":return n.time({width:"medium"});case"ppp":return n.time({width:"long"});case"pppp":default:return n.time({width:"full"})}},QH=function(e,n){var r=e.match(/(P+)(p+)?/)||[],i=r[1],o=r[2];if(!o)return dC(e,n);var s;switch(i){case"P":s=n.dateTime({width:"short"});break;case"PP":s=n.dateTime({width:"medium"});break;case"PPP":s=n.dateTime({width:"long"});break;case"PPPP":default:s=n.dateTime({width:"full"});break}return s.replace("{{date}}",dC(i,n)).replace("{{time}}",Q2(o,n))},XH={p:Q2,P:QH};const Oy=XH;var JH=["D","DD"],ZH=["YY","YYYY"];function X2(t){return JH.indexOf(t)!==-1}function J2(t){return ZH.indexOf(t)!==-1}function Ch(t,e,n){if(t==="YYYY")throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(e,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(t==="YY")throw new RangeError("Use `yy` instead of `YY` (in `".concat(e,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(t==="D")throw new RangeError("Use `d` instead of `D` (in `".concat(e,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(t==="DD")throw new RangeError("Use `dd` instead of `DD` (in `".concat(e,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}var eq={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},tq=function(e,n,r){var i,o=eq[e];return typeof o=="string"?i=o:n===1?i=o.one:i=o.other.replace("{{count}}",n.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+i:i+" ago":i};const nq=tq;function Ia(t){return function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.width?String(e.width):t.defaultWidth,r=t.formats[n]||t.formats[t.defaultWidth];return r}}var rq={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},iq={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},oq={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},sq={date:Ia({formats:rq,defaultWidth:"full"}),time:Ia({formats:iq,defaultWidth:"full"}),dateTime:Ia({formats:oq,defaultWidth:"full"})};const aq=sq;var lq={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},cq=function(e,n,r,i){return lq[e]};const uq=cq;function Tr(t){return function(e,n){var r=n!=null&&n.context?String(n.context):"standalone",i;if(r==="formatting"&&t.formattingValues){var o=t.defaultFormattingWidth||t.defaultWidth,s=n!=null&&n.width?String(n.width):o;i=t.formattingValues[s]||t.formattingValues[o]}else{var a=t.defaultWidth,l=n!=null&&n.width?String(n.width):t.defaultWidth;i=t.values[l]||t.values[a]}var c=t.argumentCallback?t.argumentCallback(e):e;return i[c]}}var dq={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},fq={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},hq={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},pq={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},mq={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},gq={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},vq=function(e,n){var r=Number(e),i=r%100;if(i>20||i<10)switch(i%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},yq={ordinalNumber:vq,era:Tr({values:dq,defaultWidth:"wide"}),quarter:Tr({values:fq,defaultWidth:"wide",argumentCallback:function(e){return e-1}}),month:Tr({values:hq,defaultWidth:"wide"}),day:Tr({values:pq,defaultWidth:"wide"}),dayPeriod:Tr({values:mq,defaultWidth:"wide",formattingValues:gq,defaultFormattingWidth:"wide"})};const wq=yq;function Cr(t){return function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=n.width,i=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],o=e.match(i);if(!o)return null;var s=o[0],a=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],l=Array.isArray(a)?xq(a,function(f){return f.test(s)}):_q(a,function(f){return f.test(s)}),c;c=t.valueCallback?t.valueCallback(l):l,c=n.valueCallback?n.valueCallback(c):c;var u=e.slice(s.length);return{value:c,rest:u}}}function _q(t,e){for(var n in t)if(t.hasOwnProperty(n)&&e(t[n]))return n}function xq(t,e){for(var n=0;n<t.length;n++)if(e(t[n]))return n}function Z2(t){return function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=e.match(t.matchPattern);if(!r)return null;var i=r[0],o=e.match(t.parsePattern);if(!o)return null;var s=t.valueCallback?t.valueCallback(o[0]):o[0];s=n.valueCallback?n.valueCallback(s):s;var a=e.slice(i.length);return{value:s,rest:a}}}var Eq=/^(\d+)(th|st|nd|rd)?/i,bq=/\d+/i,Tq={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Cq={any:[/^b/i,/^(a|c)/i]},Sq={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Pq={any:[/1/i,/2/i,/3/i,/4/i]},Iq={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Aq={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Rq={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},kq={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Nq={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Dq={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Mq={ordinalNumber:Z2({matchPattern:Eq,parsePattern:bq,valueCallback:function(e){return parseInt(e,10)}}),era:Cr({matchPatterns:Tq,defaultMatchWidth:"wide",parsePatterns:Cq,defaultParseWidth:"any"}),quarter:Cr({matchPatterns:Sq,defaultMatchWidth:"wide",parsePatterns:Pq,defaultParseWidth:"any",valueCallback:function(e){return e+1}}),month:Cr({matchPatterns:Iq,defaultMatchWidth:"wide",parsePatterns:Aq,defaultParseWidth:"any"}),day:Cr({matchPatterns:Rq,defaultMatchWidth:"wide",parsePatterns:kq,defaultParseWidth:"any"}),dayPeriod:Cr({matchPatterns:Nq,defaultMatchWidth:"any",parsePatterns:Dq,defaultParseWidth:"any"})};const Oq=Mq;var Lq={code:"en-US",formatDistance:nq,formatLong:aq,formatRelative:uq,localize:wq,match:Oq,options:{weekStartsOn:0,firstWeekContainsDate:1}};const v1=Lq;var Vq=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,jq=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Fq=/^'([^]*?)'?$/,$q=/''/g,Uq=/[a-zA-Z]/;function he(t,e,n){var r,i,o,s,a,l,c,u,f,h,g,w,v,E,_,y,b,I;se(2,arguments);var N=String(e),O=zr(),S=(r=(i=n==null?void 0:n.locale)!==null&&i!==void 0?i:O.locale)!==null&&r!==void 0?r:v1,C=Ze((o=(s=(a=(l=n==null?void 0:n.firstWeekContainsDate)!==null&&l!==void 0?l:n==null||(c=n.locale)===null||c===void 0||(u=c.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&a!==void 0?a:O.firstWeekContainsDate)!==null&&s!==void 0?s:(f=O.locale)===null||f===void 0||(h=f.options)===null||h===void 0?void 0:h.firstWeekContainsDate)!==null&&o!==void 0?o:1);if(!(C>=1&&C<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var P=Ze((g=(w=(v=(E=n==null?void 0:n.weekStartsOn)!==null&&E!==void 0?E:n==null||(_=n.locale)===null||_===void 0||(y=_.options)===null||y===void 0?void 0:y.weekStartsOn)!==null&&v!==void 0?v:O.weekStartsOn)!==null&&w!==void 0?w:(b=O.locale)===null||b===void 0||(I=b.options)===null||I===void 0?void 0:I.weekStartsOn)!==null&&g!==void 0?g:0);if(!(P>=0&&P<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!S.localize)throw new RangeError("locale must contain localize property");if(!S.formatLong)throw new RangeError("locale must contain formatLong property");var A=ye(t);if(!VH(A))throw new RangeError("Invalid time value");var M=Ka(A),D=q2(A,M),k={firstWeekContainsDate:C,weekStartsOn:P,locale:S,_originalDate:A},B=N.match(jq).map(function(G){var Y=G[0];if(Y==="p"||Y==="P"){var z=Oy[Y];return z(G,S.formatLong)}return G}).join("").match(Vq).map(function(G){if(G==="''")return"'";var Y=G[0];if(Y==="'")return Bq(G);var z=KH[Y];if(z)return!(n!=null&&n.useAdditionalWeekYearTokens)&&J2(G)&&Ch(G,e,String(t)),!(n!=null&&n.useAdditionalDayOfYearTokens)&&X2(G)&&Ch(G,e,String(t)),z(D,G,S.localize,k);if(Y.match(Uq))throw new RangeError("Format string contains an unescaped latin alphabet character `"+Y+"`");return G}).join("");return B}function Bq(t){var e=t.match(Fq);return e?e[1].replace($q,"'"):t}function Wq(t,e){if(t==null)throw new TypeError("assign requires that input parameter not be null or undefined");for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}function zq(t){se(1,arguments);var e=ye(t),n=e.getFullYear(),r=e.getMonth(),i=new Date(0);return i.setFullYear(n,r+1,0),i.setHours(0,0,0,0),i.getDate()}var Hq=6048e5;function qq(t){se(1,arguments);var e=ye(t),n=Es(e).getTime()-RH(e).getTime();return Math.round(n/Hq)+1}function Gq(t){se(1,arguments);var e=ye(t),n=e.getTime();return n}function Yq(t){return se(1,arguments),Math.floor(Gq(t)/1e3)}function Kq(t,e){var n,r,i,o,s,a,l,c;se(1,arguments);var u=ye(t),f=u.getFullYear(),h=zr(),g=Ze((n=(r=(i=(o=e==null?void 0:e.firstWeekContainsDate)!==null&&o!==void 0?o:e==null||(s=e.locale)===null||s===void 0||(a=s.options)===null||a===void 0?void 0:a.firstWeekContainsDate)!==null&&i!==void 0?i:h.firstWeekContainsDate)!==null&&r!==void 0?r:(l=h.locale)===null||l===void 0||(c=l.options)===null||c===void 0?void 0:c.firstWeekContainsDate)!==null&&n!==void 0?n:1);if(!(g>=1&&g<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var w=new Date(0);w.setFullYear(f+1,0,g),w.setHours(0,0,0,0);var v=Ur(w,e),E=new Date(0);E.setFullYear(f,0,g),E.setHours(0,0,0,0);var _=Ur(E,e);return u.getTime()>=v.getTime()?f+1:u.getTime()>=_.getTime()?f:f-1}function Qq(t,e){var n,r,i,o,s,a,l,c;se(1,arguments);var u=zr(),f=Ze((n=(r=(i=(o=e==null?void 0:e.firstWeekContainsDate)!==null&&o!==void 0?o:e==null||(s=e.locale)===null||s===void 0||(a=s.options)===null||a===void 0?void 0:a.firstWeekContainsDate)!==null&&i!==void 0?i:u.firstWeekContainsDate)!==null&&r!==void 0?r:(l=u.locale)===null||l===void 0||(c=l.options)===null||c===void 0?void 0:c.firstWeekContainsDate)!==null&&n!==void 0?n:1),h=Kq(t,e),g=new Date(0);g.setFullYear(h,0,f),g.setHours(0,0,0,0);var w=Ur(g,e);return w}var Xq=6048e5;function Jq(t,e){se(1,arguments);var n=ye(t),r=Ur(n,e).getTime()-Qq(n,e).getTime();return Math.round(r/Xq)+1}function Zq(t){se(1,arguments);var e=ye(t),n=e.getMonth();return e.setFullYear(e.getFullYear(),n+1,0),e.setHours(0,0,0,0),e}function eG(t,e){return se(1,arguments),FH(Zq(t),Cn(t),e)+1}function Sh(t,e){se(2,arguments);var n=ye(t),r=ye(e);return n.getTime()>r.getTime()}function eN(t,e){se(2,arguments);var n=ye(t),r=ye(e);return n.getTime()<r.getTime()}function fC(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function tG(t,e){if(t){if(typeof t=="string")return fC(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?fC(t,e):void 0}}function hC(t,e){var n=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=tG(t))||e&&t&&typeof t.length=="number"){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(c){throw c},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var o,s=!0,a=!1;return{s:function(){n=n.call(t)},n:function(){var c=n.next();return s=c.done,c},e:function(c){a=!0,o=c},f:function(){try{s||n.return==null||n.return()}finally{if(a)throw o}}}}function ne(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Ly(t,e){return Ly=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},Ly(t,e)}function je(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ly(t,e)}function Ph(t){return Ph=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Ph(t)}function tN(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(tN=function(){return!!t})()}function nG(t,e){if(e&&(hr(e)=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ne(t)}function Fe(t){var e=tN();return function(){var n,r=Ph(t);if(e){var i=Ph(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return nG(this,n)}}function Me(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function rG(t,e){if(hr(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(hr(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function nN(t){var e=rG(t,"string");return hr(e)=="symbol"?e:e+""}function pC(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,nN(r.key),r)}}function Oe(t,e,n){return e&&pC(t.prototype,e),n&&pC(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function ee(t,e,n){return(e=nN(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var iG=10,rN=function(){function t(){Me(this,t),ee(this,"priority",void 0),ee(this,"subPriority",0)}return Oe(t,[{key:"validate",value:function(n,r){return!0}}]),t}(),oG=function(t){je(n,t);var e=Fe(n);function n(r,i,o,s,a){var l;return Me(this,n),l=e.call(this),l.value=r,l.validateValue=i,l.setValue=o,l.priority=s,a&&(l.subPriority=a),l}return Oe(n,[{key:"validate",value:function(i,o){return this.validateValue(i,this.value,o)}},{key:"set",value:function(i,o,s){return this.setValue(i,o,this.value,s)}}]),n}(rN),sG=function(t){je(n,t);var e=Fe(n);function n(){var r;Me(this,n);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o)),ee(ne(r),"priority",iG),ee(ne(r),"subPriority",-1),r}return Oe(n,[{key:"set",value:function(i,o){if(o.timestampIsSet)return i;var s=new Date(0);return s.setFullYear(i.getUTCFullYear(),i.getUTCMonth(),i.getUTCDate()),s.setHours(i.getUTCHours(),i.getUTCMinutes(),i.getUTCSeconds(),i.getUTCMilliseconds()),s}}]),n}(rN),Be=function(){function t(){Me(this,t),ee(this,"incompatibleTokens",void 0),ee(this,"priority",void 0),ee(this,"subPriority",void 0)}return Oe(t,[{key:"run",value:function(n,r,i,o){var s=this.parse(n,r,i,o);return s?{setter:new oG(s.value,this.validate,this.set,this.priority,this.subPriority),rest:s.rest}:null}},{key:"validate",value:function(n,r,i){return!0}}]),t}(),aG=function(t){je(n,t);var e=Fe(n);function n(){var r;Me(this,n);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o)),ee(ne(r),"priority",140),ee(ne(r),"incompatibleTokens",["R","u","t","T"]),r}return Oe(n,[{key:"parse",value:function(i,o,s){switch(o){case"G":case"GG":case"GGG":return s.era(i,{width:"abbreviated"})||s.era(i,{width:"narrow"});case"GGGGG":return s.era(i,{width:"narrow"});case"GGGG":default:return s.era(i,{width:"wide"})||s.era(i,{width:"abbreviated"})||s.era(i,{width:"narrow"})}}},{key:"set",value:function(i,o,s){return o.era=s,i.setUTCFullYear(s,0,1),i.setUTCHours(0,0,0,0),i}}]),n}(Be),xt={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},Sr={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function Et(t,e){return t&&{value:e(t.value),rest:t.rest}}function dt(t,e){var n=e.match(t);return n?{value:parseInt(n[0],10),rest:e.slice(n[0].length)}:null}function Pr(t,e){var n=e.match(t);if(!n)return null;if(n[0]==="Z")return{value:0,rest:e.slice(1)};var r=n[1]==="+"?1:-1,i=n[2]?parseInt(n[2],10):0,o=n[3]?parseInt(n[3],10):0,s=n[5]?parseInt(n[5],10):0;return{value:r*(i*f1+o*d1+s*LH),rest:e.slice(n[0].length)}}function iN(t){return dt(xt.anyDigitsSigned,t)}function yt(t,e){switch(t){case 1:return dt(xt.singleDigit,e);case 2:return dt(xt.twoDigits,e);case 3:return dt(xt.threeDigits,e);case 4:return dt(xt.fourDigits,e);default:return dt(new RegExp("^\\d{1,"+t+"}"),e)}}function Ih(t,e){switch(t){case 1:return dt(xt.singleDigitSigned,e);case 2:return dt(xt.twoDigitsSigned,e);case 3:return dt(xt.threeDigitsSigned,e);case 4:return dt(xt.fourDigitsSigned,e);default:return dt(new RegExp("^-?\\d{1,"+t+"}"),e)}}function y1(t){switch(t){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function oN(t,e){var n=e>0,r=n?e:1-e,i;if(r<=50)i=t||100;else{var o=r+50,s=Math.floor(o/100)*100,a=t>=o%100;i=t+s-(a?100:0)}return n?i:1-i}function sN(t){return t%400===0||t%4===0&&t%100!==0}var lG=function(t){je(n,t);var e=Fe(n);function n(){var r;Me(this,n);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o)),ee(ne(r),"priority",130),ee(ne(r),"incompatibleTokens",["Y","R","u","w","I","i","e","c","t","T"]),r}return Oe(n,[{key:"parse",value:function(i,o,s){var a=function(c){return{year:c,isTwoDigitYear:o==="yy"}};switch(o){case"y":return Et(yt(4,i),a);case"yo":return Et(s.ordinalNumber(i,{unit:"year"}),a);default:return Et(yt(o.length,i),a)}}},{key:"validate",value:function(i,o){return o.isTwoDigitYear||o.year>0}},{key:"set",value:function(i,o,s){var a=i.getUTCFullYear();if(s.isTwoDigitYear){var l=oN(s.year,a);return i.setUTCFullYear(l,0,1),i.setUTCHours(0,0,0,0),i}var c=!("era"in o)||o.era===1?s.year:1-s.year;return i.setUTCFullYear(c,0,1),i.setUTCHours(0,0,0,0),i}}]),n}(Be),cG=function(t){je(n,t);var e=Fe(n);function n(){var r;Me(this,n);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o)),ee(ne(r),"priority",130),ee(ne(r),"incompatibleTokens",["y","R","u","Q","q","M","L","I","d","D","i","t","T"]),r}return Oe(n,[{key:"parse",value:function(i,o,s){var a=function(c){return{year:c,isTwoDigitYear:o==="YY"}};switch(o){case"Y":return Et(yt(4,i),a);case"Yo":return Et(s.ordinalNumber(i,{unit:"year"}),a);default:return Et(yt(o.length,i),a)}}},{key:"validate",value:function(i,o){return o.isTwoDigitYear||o.year>0}},{key:"set",value:function(i,o,s,a){var l=g1(i,a);if(s.isTwoDigitYear){var c=oN(s.year,l);return i.setUTCFullYear(c,0,a.firstWeekContainsDate),i.setUTCHours(0,0,0,0),bs(i,a)}var u=!("era"in o)||o.era===1?s.year:1-s.year;return i.setUTCFullYear(u,0,a.firstWeekContainsDate),i.setUTCHours(0,0,0,0),bs(i,a)}}]),n}(Be),uG=function(t){je(n,t);var e=Fe(n);function n(){var r;Me(this,n);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o)),ee(ne(r),"priority",130),ee(ne(r),"incompatibleTokens",["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"]),r}return Oe(n,[{key:"parse",value:function(i,o){return Ih(o==="R"?4:o.length,i)}},{key:"set",value:function(i,o,s){var a=new Date(0);return a.setUTCFullYear(s,0,4),a.setUTCHours(0,0,0,0),Qa(a)}}]),n}(Be),dG=function(t){je(n,t);var e=Fe(n);function n(){var r;Me(this,n);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o)),ee(ne(r),"priority",130),ee(ne(r),"incompatibleTokens",["G","y","Y","R","w","I","i","e","c","t","T"]),r}return Oe(n,[{key:"parse",value:function(i,o){return Ih(o==="u"?4:o.length,i)}},{key:"set",value:function(i,o,s){return i.setUTCFullYear(s,0,1),i.setUTCHours(0,0,0,0),i}}]),n}(Be),fG=function(t){je(n,t);var e=Fe(n);function n(){var r;Me(this,n);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o)),ee(ne(r),"priority",120),ee(ne(r),"incompatibleTokens",["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"]),r}return Oe(n,[{key:"parse",value:function(i,o,s){switch(o){case"Q":case"QQ":return yt(o.length,i);case"Qo":return s.ordinalNumber(i,{unit:"quarter"});case"QQQ":return s.quarter(i,{width:"abbreviated",context:"formatting"})||s.quarter(i,{width:"narrow",context:"formatting"});case"QQQQQ":return s.quarter(i,{width:"narrow",context:"formatting"});case"QQQQ":default:return s.quarter(i,{width:"wide",context:"formatting"})||s.quarter(i,{width:"abbreviated",context:"formatting"})||s.quarter(i,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(i,o){return o>=1&&o<=4}},{key:"set",value:function(i,o,s){return i.setUTCMonth((s-1)*3,1),i.setUTCHours(0,0,0,0),i}}]),n}(Be),hG=function(t){je(n,t);var e=Fe(n);function n(){var r;Me(this,n);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o)),ee(ne(r),"priority",120),ee(ne(r),"incompatibleTokens",["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"]),r}return Oe(n,[{key:"parse",value:function(i,o,s){switch(o){case"q":case"qq":return yt(o.length,i);case"qo":return s.ordinalNumber(i,{unit:"quarter"});case"qqq":return s.quarter(i,{width:"abbreviated",context:"standalone"})||s.quarter(i,{width:"narrow",context:"standalone"});case"qqqqq":return s.quarter(i,{width:"narrow",context:"standalone"});case"qqqq":default:return s.quarter(i,{width:"wide",context:"standalone"})||s.quarter(i,{width:"abbreviated",context:"standalone"})||s.quarter(i,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(i,o){return o>=1&&o<=4}},{key:"set",value:function(i,o,s){return i.setUTCMonth((s-1)*3,1),i.setUTCHours(0,0,0,0),i}}]),n}(Be),pG=function(t){je(n,t);var e=Fe(n);function n(){var r;Me(this,n);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o)),ee(ne(r),"incompatibleTokens",["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]),ee(ne(r),"priority",110),r}return Oe(n,[{key:"parse",value:function(i,o,s){var a=function(c){return c-1};switch(o){case"M":return Et(dt(xt.month,i),a);case"MM":return Et(yt(2,i),a);case"Mo":return Et(s.ordinalNumber(i,{unit:"month"}),a);case"MMM":return s.month(i,{width:"abbreviated",context:"formatting"})||s.month(i,{width:"narrow",context:"formatting"});case"MMMMM":return s.month(i,{width:"narrow",context:"formatting"});case"MMMM":default:return s.month(i,{width:"wide",context:"formatting"})||s.month(i,{width:"abbreviated",context:"formatting"})||s.month(i,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(i,o){return o>=0&&o<=11}},{key:"set",value:function(i,o,s){return i.setUTCMonth(s,1),i.setUTCHours(0,0,0,0),i}}]),n}(Be),mG=function(t){je(n,t);var e=Fe(n);function n(){var r;Me(this,n);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o)),ee(ne(r),"priority",110),ee(ne(r),"incompatibleTokens",["Y","R","q","Q","M","w","I","D","i","e","c","t","T"]),r}return Oe(n,[{key:"parse",value:function(i,o,s){var a=function(c){return c-1};switch(o){case"L":return Et(dt(xt.month,i),a);case"LL":return Et(yt(2,i),a);case"Lo":return Et(s.ordinalNumber(i,{unit:"month"}),a);case"LLL":return s.month(i,{width:"abbreviated",context:"standalone"})||s.month(i,{width:"narrow",context:"standalone"});case"LLLLL":return s.month(i,{width:"narrow",context:"standalone"});case"LLLL":default:return s.month(i,{width:"wide",context:"standalone"})||s.month(i,{width:"abbreviated",context:"standalone"})||s.month(i,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(i,o){return o>=0&&o<=11}},{key:"set",value:function(i,o,s){return i.setUTCMonth(s,1),i.setUTCHours(0,0,0,0),i}}]),n}(Be);function gG(t,e,n){se(2,arguments);var r=ye(t),i=Ze(e),o=K2(r,n)-i;return r.setUTCDate(r.getUTCDate()-o*7),r}var vG=function(t){je(n,t);var e=Fe(n);function n(){var r;Me(this,n);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o)),ee(ne(r),"priority",100),ee(ne(r),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","i","t","T"]),r}return Oe(n,[{key:"parse",value:function(i,o,s){switch(o){case"w":return dt(xt.week,i);case"wo":return s.ordinalNumber(i,{unit:"week"});default:return yt(o.length,i)}}},{key:"validate",value:function(i,o){return o>=1&&o<=53}},{key:"set",value:function(i,o,s,a){return bs(gG(i,s,a),a)}}]),n}(Be);function yG(t,e){se(2,arguments);var n=ye(t),r=Ze(e),i=Y2(n)-r;return n.setUTCDate(n.getUTCDate()-i*7),n}var wG=function(t){je(n,t);var e=Fe(n);function n(){var r;Me(this,n);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o)),ee(ne(r),"priority",100),ee(ne(r),"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"]),r}return Oe(n,[{key:"parse",value:function(i,o,s){switch(o){case"I":return dt(xt.week,i);case"Io":return s.ordinalNumber(i,{unit:"week"});default:return yt(o.length,i)}}},{key:"validate",value:function(i,o){return o>=1&&o<=53}},{key:"set",value:function(i,o,s){return Qa(yG(i,s))}}]),n}(Be),_G=[31,28,31,30,31,30,31,31,30,31,30,31],xG=[31,29,31,30,31,30,31,31,30,31,30,31],EG=function(t){je(n,t);var e=Fe(n);function n(){var r;Me(this,n);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o)),ee(ne(r),"priority",90),ee(ne(r),"subPriority",1),ee(ne(r),"incompatibleTokens",["Y","R","q","Q","w","I","D","i","e","c","t","T"]),r}return Oe(n,[{key:"parse",value:function(i,o,s){switch(o){case"d":return dt(xt.date,i);case"do":return s.ordinalNumber(i,{unit:"date"});default:return yt(o.length,i)}}},{key:"validate",value:function(i,o){var s=i.getUTCFullYear(),a=sN(s),l=i.getUTCMonth();return a?o>=1&&o<=xG[l]:o>=1&&o<=_G[l]}},{key:"set",value:function(i,o,s){return i.setUTCDate(s),i.setUTCHours(0,0,0,0),i}}]),n}(Be),bG=function(t){je(n,t);var e=Fe(n);function n(){var r;Me(this,n);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o)),ee(ne(r),"priority",90),ee(ne(r),"subpriority",1),ee(ne(r),"incompatibleTokens",["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"]),r}return Oe(n,[{key:"parse",value:function(i,o,s){switch(o){case"D":case"DD":return dt(xt.dayOfYear,i);case"Do":return s.ordinalNumber(i,{unit:"date"});default:return yt(o.length,i)}}},{key:"validate",value:function(i,o){var s=i.getUTCFullYear(),a=sN(s);return a?o>=1&&o<=366:o>=1&&o<=365}},{key:"set",value:function(i,o,s){return i.setUTCMonth(0,s),i.setUTCHours(0,0,0,0),i}}]),n}(Be);function w1(t,e,n){var r,i,o,s,a,l,c,u;se(2,arguments);var f=zr(),h=Ze((r=(i=(o=(s=n==null?void 0:n.weekStartsOn)!==null&&s!==void 0?s:n==null||(a=n.locale)===null||a===void 0||(l=a.options)===null||l===void 0?void 0:l.weekStartsOn)!==null&&o!==void 0?o:f.weekStartsOn)!==null&&i!==void 0?i:(c=f.locale)===null||c===void 0||(u=c.options)===null||u===void 0?void 0:u.weekStartsOn)!==null&&r!==void 0?r:0);if(!(h>=0&&h<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var g=ye(t),w=Ze(e),v=g.getUTCDay(),E=w%7,_=(E+7)%7,y=(_<h?7:0)+w-v;return g.setUTCDate(g.getUTCDate()+y),g}var TG=function(t){je(n,t);var e=Fe(n);function n(){var r;Me(this,n);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o)),ee(ne(r),"priority",90),ee(ne(r),"incompatibleTokens",["D","i","e","c","t","T"]),r}return Oe(n,[{key:"parse",value:function(i,o,s){switch(o){case"E":case"EE":case"EEE":return s.day(i,{width:"abbreviated",context:"formatting"})||s.day(i,{width:"short",context:"formatting"})||s.day(i,{width:"narrow",context:"formatting"});case"EEEEE":return s.day(i,{width:"narrow",context:"formatting"});case"EEEEEE":return s.day(i,{width:"short",context:"formatting"})||s.day(i,{width:"narrow",context:"formatting"});case"EEEE":default:return s.day(i,{width:"wide",context:"formatting"})||s.day(i,{width:"abbreviated",context:"formatting"})||s.day(i,{width:"short",context:"formatting"})||s.day(i,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(i,o){return o>=0&&o<=6}},{key:"set",value:function(i,o,s,a){return i=w1(i,s,a),i.setUTCHours(0,0,0,0),i}}]),n}(Be),CG=function(t){je(n,t);var e=Fe(n);function n(){var r;Me(this,n);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o)),ee(ne(r),"priority",90),ee(ne(r),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"]),r}return Oe(n,[{key:"parse",value:function(i,o,s,a){var l=function(u){var f=Math.floor((u-1)/7)*7;return(u+a.weekStartsOn+6)%7+f};switch(o){case"e":case"ee":return Et(yt(o.length,i),l);case"eo":return Et(s.ordinalNumber(i,{unit:"day"}),l);case"eee":return s.day(i,{width:"abbreviated",context:"formatting"})||s.day(i,{width:"short",context:"formatting"})||s.day(i,{width:"narrow",context:"formatting"});case"eeeee":return s.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return s.day(i,{width:"short",context:"formatting"})||s.day(i,{width:"narrow",context:"formatting"});case"eeee":default:return s.day(i,{width:"wide",context:"formatting"})||s.day(i,{width:"abbreviated",context:"formatting"})||s.day(i,{width:"short",context:"formatting"})||s.day(i,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(i,o){return o>=0&&o<=6}},{key:"set",value:function(i,o,s,a){return i=w1(i,s,a),i.setUTCHours(0,0,0,0),i}}]),n}(Be),SG=function(t){je(n,t);var e=Fe(n);function n(){var r;Me(this,n);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o)),ee(ne(r),"priority",90),ee(ne(r),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"]),r}return Oe(n,[{key:"parse",value:function(i,o,s,a){var l=function(u){var f=Math.floor((u-1)/7)*7;return(u+a.weekStartsOn+6)%7+f};switch(o){case"c":case"cc":return Et(yt(o.length,i),l);case"co":return Et(s.ordinalNumber(i,{unit:"day"}),l);case"ccc":return s.day(i,{width:"abbreviated",context:"standalone"})||s.day(i,{width:"short",context:"standalone"})||s.day(i,{width:"narrow",context:"standalone"});case"ccccc":return s.day(i,{width:"narrow",context:"standalone"});case"cccccc":return s.day(i,{width:"short",context:"standalone"})||s.day(i,{width:"narrow",context:"standalone"});case"cccc":default:return s.day(i,{width:"wide",context:"standalone"})||s.day(i,{width:"abbreviated",context:"standalone"})||s.day(i,{width:"short",context:"standalone"})||s.day(i,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(i,o){return o>=0&&o<=6}},{key:"set",value:function(i,o,s,a){return i=w1(i,s,a),i.setUTCHours(0,0,0,0),i}}]),n}(Be);function PG(t,e){se(2,arguments);var n=Ze(e);n%7===0&&(n=n-7);var r=1,i=ye(t),o=i.getUTCDay(),s=n%7,a=(s+7)%7,l=(a<r?7:0)+n-o;return i.setUTCDate(i.getUTCDate()+l),i}var IG=function(t){je(n,t);var e=Fe(n);function n(){var r;Me(this,n);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o)),ee(ne(r),"priority",90),ee(ne(r),"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"]),r}return Oe(n,[{key:"parse",value:function(i,o,s){var a=function(c){return c===0?7:c};switch(o){case"i":case"ii":return yt(o.length,i);case"io":return s.ordinalNumber(i,{unit:"day"});case"iii":return Et(s.day(i,{width:"abbreviated",context:"formatting"})||s.day(i,{width:"short",context:"formatting"})||s.day(i,{width:"narrow",context:"formatting"}),a);case"iiiii":return Et(s.day(i,{width:"narrow",context:"formatting"}),a);case"iiiiii":return Et(s.day(i,{width:"short",context:"formatting"})||s.day(i,{width:"narrow",context:"formatting"}),a);case"iiii":default:return Et(s.day(i,{width:"wide",context:"formatting"})||s.day(i,{width:"abbreviated",context:"formatting"})||s.day(i,{width:"short",context:"formatting"})||s.day(i,{width:"narrow",context:"formatting"}),a)}}},{key:"validate",value:function(i,o){return o>=1&&o<=7}},{key:"set",value:function(i,o,s){return i=PG(i,s),i.setUTCHours(0,0,0,0),i}}]),n}(Be),AG=function(t){je(n,t);var e=Fe(n);function n(){var r;Me(this,n);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o)),ee(ne(r),"priority",80),ee(ne(r),"incompatibleTokens",["b","B","H","k","t","T"]),r}return Oe(n,[{key:"parse",value:function(i,o,s){switch(o){case"a":case"aa":case"aaa":return s.dayPeriod(i,{width:"abbreviated",context:"formatting"})||s.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaaa":return s.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return s.dayPeriod(i,{width:"wide",context:"formatting"})||s.dayPeriod(i,{width:"abbreviated",context:"formatting"})||s.dayPeriod(i,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(i,o,s){return i.setUTCHours(y1(s),0,0,0),i}}]),n}(Be),RG=function(t){je(n,t);var e=Fe(n);function n(){var r;Me(this,n);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o)),ee(ne(r),"priority",80),ee(ne(r),"incompatibleTokens",["a","B","H","k","t","T"]),r}return Oe(n,[{key:"parse",value:function(i,o,s){switch(o){case"b":case"bb":case"bbb":return s.dayPeriod(i,{width:"abbreviated",context:"formatting"})||s.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbbb":return s.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return s.dayPeriod(i,{width:"wide",context:"formatting"})||s.dayPeriod(i,{width:"abbreviated",context:"formatting"})||s.dayPeriod(i,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(i,o,s){return i.setUTCHours(y1(s),0,0,0),i}}]),n}(Be),kG=function(t){je(n,t);var e=Fe(n);function n(){var r;Me(this,n);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o)),ee(ne(r),"priority",80),ee(ne(r),"incompatibleTokens",["a","b","t","T"]),r}return Oe(n,[{key:"parse",value:function(i,o,s){switch(o){case"B":case"BB":case"BBB":return s.dayPeriod(i,{width:"abbreviated",context:"formatting"})||s.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBBB":return s.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return s.dayPeriod(i,{width:"wide",context:"formatting"})||s.dayPeriod(i,{width:"abbreviated",context:"formatting"})||s.dayPeriod(i,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(i,o,s){return i.setUTCHours(y1(s),0,0,0),i}}]),n}(Be),NG=function(t){je(n,t);var e=Fe(n);function n(){var r;Me(this,n);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o)),ee(ne(r),"priority",70),ee(ne(r),"incompatibleTokens",["H","K","k","t","T"]),r}return Oe(n,[{key:"parse",value:function(i,o,s){switch(o){case"h":return dt(xt.hour12h,i);case"ho":return s.ordinalNumber(i,{unit:"hour"});default:return yt(o.length,i)}}},{key:"validate",value:function(i,o){return o>=1&&o<=12}},{key:"set",value:function(i,o,s){var a=i.getUTCHours()>=12;return a&&s<12?i.setUTCHours(s+12,0,0,0):!a&&s===12?i.setUTCHours(0,0,0,0):i.setUTCHours(s,0,0,0),i}}]),n}(Be),DG=function(t){je(n,t);var e=Fe(n);function n(){var r;Me(this,n);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o)),ee(ne(r),"priority",70),ee(ne(r),"incompatibleTokens",["a","b","h","K","k","t","T"]),r}return Oe(n,[{key:"parse",value:function(i,o,s){switch(o){case"H":return dt(xt.hour23h,i);case"Ho":return s.ordinalNumber(i,{unit:"hour"});default:return yt(o.length,i)}}},{key:"validate",value:function(i,o){return o>=0&&o<=23}},{key:"set",value:function(i,o,s){return i.setUTCHours(s,0,0,0),i}}]),n}(Be),MG=function(t){je(n,t);var e=Fe(n);function n(){var r;Me(this,n);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o)),ee(ne(r),"priority",70),ee(ne(r),"incompatibleTokens",["h","H","k","t","T"]),r}return Oe(n,[{key:"parse",value:function(i,o,s){switch(o){case"K":return dt(xt.hour11h,i);case"Ko":return s.ordinalNumber(i,{unit:"hour"});default:return yt(o.length,i)}}},{key:"validate",value:function(i,o){return o>=0&&o<=11}},{key:"set",value:function(i,o,s){var a=i.getUTCHours()>=12;return a&&s<12?i.setUTCHours(s+12,0,0,0):i.setUTCHours(s,0,0,0),i}}]),n}(Be),OG=function(t){je(n,t);var e=Fe(n);function n(){var r;Me(this,n);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o)),ee(ne(r),"priority",70),ee(ne(r),"incompatibleTokens",["a","b","h","H","K","t","T"]),r}return Oe(n,[{key:"parse",value:function(i,o,s){switch(o){case"k":return dt(xt.hour24h,i);case"ko":return s.ordinalNumber(i,{unit:"hour"});default:return yt(o.length,i)}}},{key:"validate",value:function(i,o){return o>=1&&o<=24}},{key:"set",value:function(i,o,s){var a=s<=24?s%24:s;return i.setUTCHours(a,0,0,0),i}}]),n}(Be),LG=function(t){je(n,t);var e=Fe(n);function n(){var r;Me(this,n);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o)),ee(ne(r),"priority",60),ee(ne(r),"incompatibleTokens",["t","T"]),r}return Oe(n,[{key:"parse",value:function(i,o,s){switch(o){case"m":return dt(xt.minute,i);case"mo":return s.ordinalNumber(i,{unit:"minute"});default:return yt(o.length,i)}}},{key:"validate",value:function(i,o){return o>=0&&o<=59}},{key:"set",value:function(i,o,s){return i.setUTCMinutes(s,0,0),i}}]),n}(Be),VG=function(t){je(n,t);var e=Fe(n);function n(){var r;Me(this,n);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o)),ee(ne(r),"priority",50),ee(ne(r),"incompatibleTokens",["t","T"]),r}return Oe(n,[{key:"parse",value:function(i,o,s){switch(o){case"s":return dt(xt.second,i);case"so":return s.ordinalNumber(i,{unit:"second"});default:return yt(o.length,i)}}},{key:"validate",value:function(i,o){return o>=0&&o<=59}},{key:"set",value:function(i,o,s){return i.setUTCSeconds(s,0),i}}]),n}(Be),jG=function(t){je(n,t);var e=Fe(n);function n(){var r;Me(this,n);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o)),ee(ne(r),"priority",30),ee(ne(r),"incompatibleTokens",["t","T"]),r}return Oe(n,[{key:"parse",value:function(i,o){var s=function(l){return Math.floor(l*Math.pow(10,-o.length+3))};return Et(yt(o.length,i),s)}},{key:"set",value:function(i,o,s){return i.setUTCMilliseconds(s),i}}]),n}(Be),FG=function(t){je(n,t);var e=Fe(n);function n(){var r;Me(this,n);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o)),ee(ne(r),"priority",10),ee(ne(r),"incompatibleTokens",["t","T","x"]),r}return Oe(n,[{key:"parse",value:function(i,o){switch(o){case"X":return Pr(Sr.basicOptionalMinutes,i);case"XX":return Pr(Sr.basic,i);case"XXXX":return Pr(Sr.basicOptionalSeconds,i);case"XXXXX":return Pr(Sr.extendedOptionalSeconds,i);case"XXX":default:return Pr(Sr.extended,i)}}},{key:"set",value:function(i,o,s){return o.timestampIsSet?i:new Date(i.getTime()-s)}}]),n}(Be),$G=function(t){je(n,t);var e=Fe(n);function n(){var r;Me(this,n);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o)),ee(ne(r),"priority",10),ee(ne(r),"incompatibleTokens",["t","T","X"]),r}return Oe(n,[{key:"parse",value:function(i,o){switch(o){case"x":return Pr(Sr.basicOptionalMinutes,i);case"xx":return Pr(Sr.basic,i);case"xxxx":return Pr(Sr.basicOptionalSeconds,i);case"xxxxx":return Pr(Sr.extendedOptionalSeconds,i);case"xxx":default:return Pr(Sr.extended,i)}}},{key:"set",value:function(i,o,s){return o.timestampIsSet?i:new Date(i.getTime()-s)}}]),n}(Be),UG=function(t){je(n,t);var e=Fe(n);function n(){var r;Me(this,n);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o)),ee(ne(r),"priority",40),ee(ne(r),"incompatibleTokens","*"),r}return Oe(n,[{key:"parse",value:function(i){return iN(i)}},{key:"set",value:function(i,o,s){return[new Date(s*1e3),{timestampIsSet:!0}]}}]),n}(Be),BG=function(t){je(n,t);var e=Fe(n);function n(){var r;Me(this,n);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o)),ee(ne(r),"priority",20),ee(ne(r),"incompatibleTokens","*"),r}return Oe(n,[{key:"parse",value:function(i){return iN(i)}},{key:"set",value:function(i,o,s){return[new Date(s),{timestampIsSet:!0}]}}]),n}(Be),WG={G:new aG,y:new lG,Y:new cG,R:new uG,u:new dG,Q:new fG,q:new hG,M:new pG,L:new mG,w:new vG,I:new wG,d:new EG,D:new bG,E:new TG,e:new CG,c:new SG,i:new IG,a:new AG,b:new RG,B:new kG,h:new NG,H:new DG,K:new MG,k:new OG,m:new LG,s:new VG,S:new jG,X:new FG,x:new $G,t:new UG,T:new BG},zG=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,HG=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,qG=/^'([^]*?)'?$/,GG=/''/g,YG=/\S/,KG=/[a-zA-Z]/;function QG(t,e,n,r){var i,o,s,a,l,c,u,f,h,g,w,v,E,_,y,b,I,N;se(3,arguments);var O=String(t),S=String(e),C=zr(),P=(i=(o=r==null?void 0:r.locale)!==null&&o!==void 0?o:C.locale)!==null&&i!==void 0?i:v1;if(!P.match)throw new RangeError("locale must contain match property");var A=Ze((s=(a=(l=(c=r==null?void 0:r.firstWeekContainsDate)!==null&&c!==void 0?c:r==null||(u=r.locale)===null||u===void 0||(f=u.options)===null||f===void 0?void 0:f.firstWeekContainsDate)!==null&&l!==void 0?l:C.firstWeekContainsDate)!==null&&a!==void 0?a:(h=C.locale)===null||h===void 0||(g=h.options)===null||g===void 0?void 0:g.firstWeekContainsDate)!==null&&s!==void 0?s:1);if(!(A>=1&&A<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var M=Ze((w=(v=(E=(_=r==null?void 0:r.weekStartsOn)!==null&&_!==void 0?_:r==null||(y=r.locale)===null||y===void 0||(b=y.options)===null||b===void 0?void 0:b.weekStartsOn)!==null&&E!==void 0?E:C.weekStartsOn)!==null&&v!==void 0?v:(I=C.locale)===null||I===void 0||(N=I.options)===null||N===void 0?void 0:N.weekStartsOn)!==null&&w!==void 0?w:0);if(!(M>=0&&M<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(S==="")return O===""?ye(n):new Date(NaN);var D={firstWeekContainsDate:A,weekStartsOn:M,locale:P},k=[new sG],B=S.match(HG).map(function(ae){var le=ae[0];if(le in Oy){var re=Oy[le];return re(ae,P.formatLong)}return ae}).join("").match(zG),G=[],Y=hC(B),z;try{var L=function(){var le=z.value;!(r!=null&&r.useAdditionalWeekYearTokens)&&J2(le)&&Ch(le,S,t),!(r!=null&&r.useAdditionalDayOfYearTokens)&&X2(le)&&Ch(le,S,t);var re=le[0],me=WG[re];if(me){var Ce=me.incompatibleTokens;if(Array.isArray(Ce)){var Ke=G.find(function(Dt){return Ce.includes(Dt.token)||Dt.token===re});if(Ke)throw new RangeError("The format string mustn't contain `".concat(Ke.fullToken,"` and `").concat(le,"` at the same time"))}else if(me.incompatibleTokens==="*"&&G.length>0)throw new RangeError("The format string mustn't contain `".concat(le,"` and any other token at the same time"));G.push({token:re,fullToken:le});var st=me.run(O,le,P.match,D);if(!st)return{v:new Date(NaN)};k.push(st.setter),O=st.rest}else{if(re.match(KG))throw new RangeError("Format string contains an unescaped latin alphabet character `"+re+"`");if(le==="''"?le="'":re==="'"&&(le=XG(le)),O.indexOf(le)===0)O=O.slice(le.length);else return{v:new Date(NaN)}}};for(Y.s();!(z=Y.n()).done;){var V=L();if(hr(V)==="object")return V.v}}catch(ae){Y.e(ae)}finally{Y.f()}if(O.length>0&&YG.test(O))return new Date(NaN);var $=k.map(function(ae){return ae.priority}).sort(function(ae,le){return le-ae}).filter(function(ae,le,re){return re.indexOf(ae)===le}).map(function(ae){return k.filter(function(le){return le.priority===ae}).sort(function(le,re){return re.subPriority-le.subPriority})}).map(function(ae){return ae[0]}),F=ye(n);if(isNaN(F.getTime()))return new Date(NaN);var W=q2(F,Ka(F)),K={},oe=hC($),pe;try{for(oe.s();!(pe=oe.n()).done;){var ce=pe.value;if(!ce.validate(W,D))return new Date(NaN);var X=ce.set(W,K,D);Array.isArray(X)?(W=X[0],Wq(K,X[1])):W=X}}catch(ae){oe.e(ae)}finally{oe.f()}return W}function XG(t){return t.match(qG)[1].replace(GG,"'")}function _1(t,e){se(2,arguments);var n=ye(t),r=ye(e);return n.getFullYear()===r.getFullYear()&&n.getMonth()===r.getMonth()}function JG(t,e){se(2,arguments);var n=ye(t),r=ye(e);return n.getFullYear()===r.getFullYear()}function xg(t,e){se(2,arguments);var n=Ze(e);return Lt(t,-n)}function ue(t,e){var n;se(1,arguments);var r=Ze((n=e==null?void 0:e.additionalDigits)!==null&&n!==void 0?n:2);if(r!==2&&r!==1&&r!==0)throw new RangeError("additionalDigits must be 0, 1 or 2");if(!(typeof t=="string"||Object.prototype.toString.call(t)==="[object String]"))return new Date(NaN);var i=nY(t),o;if(i.date){var s=rY(i.date,r);o=iY(s.restDateString,s.year)}if(!o||isNaN(o.getTime()))return new Date(NaN);var a=o.getTime(),l=0,c;if(i.time&&(l=oY(i.time),isNaN(l)))return new Date(NaN);if(i.timezone){if(c=sY(i.timezone),isNaN(c))return new Date(NaN)}else{var u=new Date(a+l),f=new Date(0);return f.setFullYear(u.getUTCFullYear(),u.getUTCMonth(),u.getUTCDate()),f.setHours(u.getUTCHours(),u.getUTCMinutes(),u.getUTCSeconds(),u.getUTCMilliseconds()),f}return new Date(a+l+c)}var Vd={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},ZG=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,eY=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,tY=/^([+-])(\d{2})(?::?(\d{2}))?$/;function nY(t){var e={},n=t.split(Vd.dateTimeDelimiter),r;if(n.length>2)return e;if(/:/.test(n[0])?r=n[0]:(e.date=n[0],r=n[1],Vd.timeZoneDelimiter.test(e.date)&&(e.date=t.split(Vd.timeZoneDelimiter)[0],r=t.substr(e.date.length,t.length))),r){var i=Vd.timezone.exec(r);i?(e.time=r.replace(i[1],""),e.timezone=i[1]):e.time=r}return e}function rY(t,e){var n=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+e)+"})|(\\d{2}|[+-]\\d{"+(2+e)+"})$)"),r=t.match(n);if(!r)return{year:NaN,restDateString:""};var i=r[1]?parseInt(r[1]):null,o=r[2]?parseInt(r[2]):null;return{year:o===null?i:o*100,restDateString:t.slice((r[1]||r[2]).length)}}function iY(t,e){if(e===null)return new Date(NaN);var n=t.match(ZG);if(!n)return new Date(NaN);var r=!!n[4],i=Ql(n[1]),o=Ql(n[2])-1,s=Ql(n[3]),a=Ql(n[4]),l=Ql(n[5])-1;if(r)return dY(e,a,l)?aY(e,a,l):new Date(NaN);var c=new Date(0);return!cY(e,o,s)||!uY(e,i)?new Date(NaN):(c.setUTCFullYear(e,o,Math.max(i,s)),c)}function Ql(t){return t?parseInt(t):1}function oY(t){var e=t.match(eY);if(!e)return NaN;var n=Eg(e[1]),r=Eg(e[2]),i=Eg(e[3]);return fY(n,r,i)?n*f1+r*d1+i*1e3:NaN}function Eg(t){return t&&parseFloat(t.replace(",","."))||0}function sY(t){if(t==="Z")return 0;var e=t.match(tY);if(!e)return 0;var n=e[1]==="+"?-1:1,r=parseInt(e[2]),i=e[3]&&parseInt(e[3])||0;return hY(r,i)?n*(r*f1+i*d1):NaN}function aY(t,e,n){var r=new Date(0);r.setUTCFullYear(t,0,4);var i=r.getUTCDay()||7,o=(e-1)*7+n+1-i;return r.setUTCDate(r.getUTCDate()+o),r}var lY=[31,null,31,30,31,30,31,31,30,31,30,31];function aN(t){return t%400===0||t%4===0&&t%100!==0}function cY(t,e,n){return e>=0&&e<=11&&n>=1&&n<=(lY[e]||(aN(t)?29:28))}function uY(t,e){return e>=1&&e<=(aN(t)?366:365)}function dY(t,e,n){return e>=1&&e<=53&&n>=0&&n<=6}function fY(t,e,n){return t===24?e===0&&n===0:n>=0&&n<60&&e>=0&&e<60&&t>=0&&t<25}function hY(t,e){return e>=0&&e<=59}function bg(t,e){se(2,arguments);var n=ye(t),r=Ze(e),i=n.getFullYear(),o=n.getDate(),s=new Date(0);s.setFullYear(i,r,15),s.setHours(0,0,0,0);var a=zq(s);return n.setMonth(r,Math.min(o,a)),n}function mC(t,e){se(2,arguments);var n=ye(t),r=Ze(e);return isNaN(n.getTime())?new Date(NaN):(n.setFullYear(r),n)}const ga={NONE:{value:"none",label:"Sin Smbolo",color:"transparent",textColor:"#e2e8f0"},MENSTRUATION:{value:"red",label:"Menstruacin",color:"bg-red-500",textColor:"#e2e8f0"},FERTILE:{value:"white",label:"Frtil (Moco)",color:"bg-white",textColor:"#e2e8f0"},INFERTILE:{value:"green",label:"Infrtil (Sin Moco)",color:"bg-green-500",textColor:"#e2e8f0"},SPOTTING:{value:"spot",label:"Spotting",color:"bg-pink-300",textColor:"#e2e8f0",pattern:"spotting-pattern"}},lN=Object.values(ga),x1=t=>lN.find(n=>n.value===t)||ga.NONE,gC="#1E40AF",vC="#059669",yC="#BE185D",pY="rgba(30, 64, 175, 0.08)",mY="rgba(5, 150, 105, 0.08)",gY="rgba(190, 24, 93, 0.08)",vY=t=>{if(!t)return"";const[e,n]=t.split("/");return`${parseInt(e,10)}/${parseInt(n,10)}`},Tg=(t="",e,n,r="")=>{if(!t)return[r,""];if(t.length<=e)return[t,""];if(n)return[t.slice(0,e),""];const i=t.indexOf(" ",e);return i===-1?[t.slice(0,e),t.slice(e)]:[t.slice(0,i),t.slice(i+1)]},Cg=(t="",e,n="")=>t?t.split(/\s+/).slice(0,e).join(" "):n,yY=({data:t,getX:e,getY:n,isFullScreen:r,orientation:i,responsiveFontSize:o,onPointInteraction:s,clearActivePoint:a,activePoint:l,padding:c,chartHeight:u,chartWidth:f,temperatureField:h="temperature_chart",textRowHeight:g})=>{const w={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.4,ease:"easeOut"}}},v={hidden:{opacity:0,scale:.5},visible:{opacity:1,scale:1,transition:{duration:.5,ease:"easeOut",type:"spring",stiffness:100}}},E=u-c.bottom,_=E+g*1,y=E+g*2,b=E+g*3,I=E+g*(r?5:4.5),N=E+g*(r?7:6),O=E+g*(r?9:7.5),S=f-c.left-c.right,C=g*(r?2:1.5);return p.jsxs(p.Fragment,{children:[p.jsxs("defs",{children:[p.jsx("filter",{id:"rowShadow",x:"-10%",y:"-10%",width:"120%",height:"120%",children:p.jsx("feDropShadow",{dx:"0",dy:"1",stdDeviation:"2",floodColor:"rgba(244, 114, 182, 0.15)"})}),p.jsxs("linearGradient",{id:"sensationGradient",x1:"0%",y1:"0%",x2:"100%",y2:"0%",children:[p.jsx("stop",{offset:"0%",stopColor:pY}),p.jsx("stop",{offset:"100%",stopColor:"rgba(30, 64, 175, 0.02)"})]}),p.jsxs("linearGradient",{id:"appearanceGradient",x1:"0%",y1:"0%",x2:"100%",y2:"0%",children:[p.jsx("stop",{offset:"0%",stopColor:mY}),p.jsx("stop",{offset:"100%",stopColor:"rgba(5, 150, 105, 0.02)"})]}),p.jsxs("linearGradient",{id:"observationGradient",x1:"0%",y1:"0%",x2:"100%",y2:"0%",children:[p.jsx("stop",{offset:"0%",stopColor:gY}),p.jsx("stop",{offset:"100%",stopColor:"rgba(190, 24, 93, 0.02)"})]})]}),p.jsxs("g",{children:[p.jsx("rect",{x:c.left,y:I-C/2,width:S,height:C,fill:"url(#sensationGradient)",rx:6,style:{filter:"url(#rowShadow)"}}),p.jsx("rect",{x:c.left,y:N-C/2,width:S,height:C,fill:"url(#appearanceGradient)",rx:6,style:{filter:"url(#rowShadow)"}}),p.jsx("rect",{x:c.left,y:O-C/2,width:S,height:C,fill:"url(#observationGradient)",rx:6,style:{filter:"url(#rowShadow)"}})]}),(!r||i!=="portrait")&&p.jsx(be.g,{variants:w,children:[{label:"Fecha",row:1,color:r?"#374151":"#6B7280"},{label:"Da",row:2,color:r?"#374151":"#6B7280"},{label:"Smbolo",row:3,color:r?"#374151":"#6B7280"},{label:"Sens.",row:r?5:4.5,color:gC},{label:"Apar.",row:r?7:6,color:vC},{label:"Observ.",row:r?9:7.5,color:yC}].map(({label:P,row:A,color:M})=>p.jsx("text",{x:c.left-o(1.5),y:E+g*A,textAnchor:"end",fontSize:o(.95),fontWeight:"600",fill:M,style:{filter:"drop-shadow(0 1px 1px rgba(255, 255, 255, 0.8))",fontFamily:'-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif'},children:P},P))}),t.map((P,A)=>{const M=e(A),D=P[h]!=null?n(P[h]):E,k=r?"#374151":"#6B7280",B=P[h]!=null,G=B||P.mucus_sensation||P.mucus_appearance||P.fertility_symbol,Y=String(P.id||"").startsWith("placeholder-"),z=!G||Y?{}:{pointerEvents:"all",style:{cursor:"pointer"},onMouseEnter:re=>s(P,A,re),onClick:re=>s(P,A,re)},L=x1(P.fertility_symbol);let V="transparent";if(L!=null&&L.color){const re=L.color.replace(/^bg-/,"");re==="red-500"?V="#ef4444":re==="white"?V="#ffffff":re==="green-500"?V="#22c55e":re==="pink-300"&&(V="#f9a8d4")}const $=o(r?1.4:1.6),F=P.isoDate?Sh(Se(ue(P.isoDate)),Se(new Date)):!1,W=r?4:9,K=2,[oe,pe]=Tg(r?Cg(P.mucus_sensation,K,F?"":""):P.mucus_sensation,W,!1,F?"":""),[ce,X]=Tg(r?Cg(P.mucus_appearance,K,F?"":""):P.mucus_appearance,W,!1,F?"":""),[ae,le]=Tg(r?Cg(P.observations,K,""):P.observations,W,!1,"");return p.jsxs(be.g,{variants:w,...z,children:[B&&p.jsxs(be.g,{variants:v,children:[p.jsx("circle",{cx:M,cy:D,r:8,fill:"rgba(244, 114, 182, 0.15)",opacity:.6}),p.jsx("circle",{cx:M,cy:D,r:5,fill:P.ignored?"white":"url(#tempPointGradient)",stroke:P.use_corrected?"#F59E0B":"#E91E63",strokeWidth:P.ignored?2:2.5,style:{filter:"drop-shadow(0 2px 4px rgba(244, 114, 182, 0.3))",cursor:"pointer"},pointerEvents:"all",onMouseEnter:re=>s(P,A,re),onTouchStart:re=>s(P,A,re),onClick:re=>s(P,A,re)}),!P.ignored&&p.jsx("circle",{cx:M,cy:D,r:2,fill:"rgba(255, 255, 255, 0.8)"})]}),p.jsx("defs",{children:p.jsxs("radialGradient",{id:"tempPointGradient",cx:"30%",cy:"30%",children:[p.jsx("stop",{offset:"0%",stopColor:"#F472B6"}),p.jsx("stop",{offset:"70%",stopColor:"#E91E63"}),p.jsx("stop",{offset:"100%",stopColor:"#C2185B"})]})}),p.jsx("text",{x:M,y:_,textAnchor:"middle",fontSize:o(.95),fontWeight:"600",fill:k,style:{fontFamily:'-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif'},children:vY(P.date)}),p.jsx("text",{x:M,y,textAnchor:"middle",fontSize:o(.9),fontWeight:"500",fill:k,style:{fontFamily:'-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif'},children:P.cycleDay}),!Y&&(L.value!=="none"?p.jsx("rect",{x:M-$/2,y:b-$*.75,width:$,height:$,fill:L.pattern==="spotting-pattern"?"url(#spotting-pattern-chart)":V,stroke:L.value==="white"?"#E91E63":"rgba(233, 30, 99, 0.3)",strokeWidth:L.value==="white"?1.5:1,rx:$*.25,style:{filter:"drop-shadow(0 1px 2px rgba(244, 114, 182, 0.2))"}}):p.jsx("text",{x:M,y:b,textAnchor:"middle",fontSize:o(.9),fill:k,fontWeight:"400",children:""})),p.jsxs("text",{x:M,y:I,textAnchor:"middle",fontSize:o(.85),fontWeight:"600",fill:gC,style:{fontFamily:'-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif'},children:[p.jsx("tspan",{x:M,dy:0,children:oe}),pe&&p.jsx("tspan",{x:M,dy:o(1),children:pe})]}),p.jsxs("text",{x:M,y:N,textAnchor:"middle",fontSize:o(.85),fontWeight:"600",fill:vC,style:{fontFamily:'-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif'},children:[p.jsx("tspan",{x:M,dy:0,children:ce}),X&&p.jsx("tspan",{x:M,dy:o(1),children:X})]}),p.jsxs("text",{x:M,y:O,textAnchor:"middle",fontSize:o(.85),fontWeight:"600",fill:yC,style:{fontFamily:'-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif'},children:[p.jsx("tspan",{x:M,dy:0,children:ae}),le&&p.jsx("tspan",{x:M,dy:o(1),children:le})]})]},`pt-${A}-${P.isoDate||P.timestamp}`)})]})};var wY={lessThanXSeconds:{one:"menos de un segundo",other:"menos de {{count}} segundos"},xSeconds:{one:"1 segundo",other:"{{count}} segundos"},halfAMinute:"medio minuto",lessThanXMinutes:{one:"menos de un minuto",other:"menos de {{count}} minutos"},xMinutes:{one:"1 minuto",other:"{{count}} minutos"},aboutXHours:{one:"alrededor de 1 hora",other:"alrededor de {{count}} horas"},xHours:{one:"1 hora",other:"{{count}} horas"},xDays:{one:"1 da",other:"{{count}} das"},aboutXWeeks:{one:"alrededor de 1 semana",other:"alrededor de {{count}} semanas"},xWeeks:{one:"1 semana",other:"{{count}} semanas"},aboutXMonths:{one:"alrededor de 1 mes",other:"alrededor de {{count}} meses"},xMonths:{one:"1 mes",other:"{{count}} meses"},aboutXYears:{one:"alrededor de 1 ao",other:"alrededor de {{count}} aos"},xYears:{one:"1 ao",other:"{{count}} aos"},overXYears:{one:"ms de 1 ao",other:"ms de {{count}} aos"},almostXYears:{one:"casi 1 ao",other:"casi {{count}} aos"}},_Y=function(e,n,r){var i,o=wY[e];return typeof o=="string"?i=o:n===1?i=o.one:i=o.other.replace("{{count}}",n.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"en "+i:"hace "+i:i};const xY=_Y;var EY={full:"EEEE, d 'de' MMMM 'de' y",long:"d 'de' MMMM 'de' y",medium:"d MMM y",short:"dd/MM/y"},bY={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},TY={full:"{{date}} 'a las' {{time}}",long:"{{date}} 'a las' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},CY={date:Ia({formats:EY,defaultWidth:"full"}),time:Ia({formats:bY,defaultWidth:"full"}),dateTime:Ia({formats:TY,defaultWidth:"full"})};const SY=CY;var PY={lastWeek:"'el' eeee 'pasado a la' p",yesterday:"'ayer a la' p",today:"'hoy a la' p",tomorrow:"'maana a la' p",nextWeek:"eeee 'a la' p",other:"P"},IY={lastWeek:"'el' eeee 'pasado a las' p",yesterday:"'ayer a las' p",today:"'hoy a las' p",tomorrow:"'maana a las' p",nextWeek:"eeee 'a las' p",other:"P"},AY=function(e,n,r,i){return n.getUTCHours()!==1?IY[e]:PY[e]};const RY=AY;var kY={narrow:["AC","DC"],abbreviated:["AC","DC"],wide:["antes de cristo","despus de cristo"]},NY={narrow:["1","2","3","4"],abbreviated:["T1","T2","T3","T4"],wide:["1 trimestre","2 trimestre","3 trimestre","4 trimestre"]},DY={narrow:["e","f","m","a","m","j","j","a","s","o","n","d"],abbreviated:["ene","feb","mar","abr","may","jun","jul","ago","sep","oct","nov","dic"],wide:["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre"]},MY={narrow:["d","l","m","m","j","v","s"],short:["do","lu","ma","mi","ju","vi","s"],abbreviated:["dom","lun","mar","mi","jue","vie","sb"],wide:["domingo","lunes","martes","mircoles","jueves","viernes","sbado"]},OY={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"maana",afternoon:"tarde",evening:"tarde",night:"noche"},abbreviated:{am:"AM",pm:"PM",midnight:"medianoche",noon:"mediodia",morning:"maana",afternoon:"tarde",evening:"tarde",night:"noche"},wide:{am:"a.m.",pm:"p.m.",midnight:"medianoche",noon:"mediodia",morning:"maana",afternoon:"tarde",evening:"tarde",night:"noche"}},LY={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"de la maana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"},abbreviated:{am:"AM",pm:"PM",midnight:"medianoche",noon:"mediodia",morning:"de la maana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"},wide:{am:"a.m.",pm:"p.m.",midnight:"medianoche",noon:"mediodia",morning:"de la maana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"}},VY=function(e,n){var r=Number(e);return r+""},jY={ordinalNumber:VY,era:Tr({values:kY,defaultWidth:"wide"}),quarter:Tr({values:NY,defaultWidth:"wide",argumentCallback:function(e){return Number(e)-1}}),month:Tr({values:DY,defaultWidth:"wide"}),day:Tr({values:MY,defaultWidth:"wide"}),dayPeriod:Tr({values:OY,defaultWidth:"wide",formattingValues:LY,defaultFormattingWidth:"wide"})};const FY=jY;var $Y=/^(\d+)()?/i,UY=/\d+/i,BY={narrow:/^(ac|dc|a|d)/i,abbreviated:/^(a\.?\s?c\.?|a\.?\s?e\.?\s?c\.?|d\.?\s?c\.?|e\.?\s?c\.?)/i,wide:/^(antes de cristo|antes de la era com[u]n|despu[e]s de cristo|era com[u]n)/i},WY={any:[/^ac/i,/^dc/i],wide:[/^(antes de cristo|antes de la era com[u]n)/i,/^(despu[e]s de cristo|era com[u]n)/i]},zY={narrow:/^[1234]/i,abbreviated:/^T[1234]/i,wide:/^[1234]()? trimestre/i},HY={any:[/1/i,/2/i,/3/i,/4/i]},qY={narrow:/^[efmajsond]/i,abbreviated:/^(ene|feb|mar|abr|may|jun|jul|ago|sep|oct|nov|dic)/i,wide:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i},GY={narrow:[/^e/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^en/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i]},YY={narrow:/^[dlmjvs]/i,short:/^(do|lu|ma|mi|ju|vi|s[a])/i,abbreviated:/^(dom|lun|mar|mi[e]|jue|vie|s[a]b)/i,wide:/^(domingo|lunes|martes|mi[e]rcoles|jueves|viernes|s[a]bado)/i},KY={narrow:[/^d/i,/^l/i,/^m/i,/^m/i,/^j/i,/^v/i,/^s/i],any:[/^do/i,/^lu/i,/^ma/i,/^mi/i,/^ju/i,/^vi/i,/^sa/i]},QY={narrow:/^(a|p|mn|md|(de la|a las) (maana|tarde|noche))/i,any:/^([ap]\.?\s?m\.?|medianoche|mediodia|(de la|a las) (maana|tarde|noche))/i},XY={any:{am:/^a/i,pm:/^p/i,midnight:/^mn/i,noon:/^md/i,morning:/maana/i,afternoon:/tarde/i,evening:/tarde/i,night:/noche/i}},JY={ordinalNumber:Z2({matchPattern:$Y,parsePattern:UY,valueCallback:function(e){return parseInt(e,10)}}),era:Cr({matchPatterns:BY,defaultMatchWidth:"wide",parsePatterns:WY,defaultParseWidth:"any"}),quarter:Cr({matchPatterns:zY,defaultMatchWidth:"wide",parsePatterns:HY,defaultParseWidth:"any",valueCallback:function(e){return e+1}}),month:Cr({matchPatterns:qY,defaultMatchWidth:"wide",parsePatterns:GY,defaultParseWidth:"any"}),day:Cr({matchPatterns:YY,defaultMatchWidth:"wide",parsePatterns:KY,defaultParseWidth:"any"}),dayPeriod:Cr({matchPatterns:QY,defaultMatchWidth:"any",parsePatterns:XY,defaultParseWidth:"any"})};const ZY=JY;var eK={code:"es",formatDistance:xY,formatLong:SY,formatRelative:RY,localize:FY,match:ZY,options:{weekStartsOn:1,firstWeekContainsDate:1}};const eo=eK,tK=({point:t,position:e,chartWidth:n,chartHeight:r,onToggleIgnore:i,onEdit:o,onClose:s})=>{if(!t)return null;const a=130,l=120;let c=e.clientX+10,u=e.clientY+10;c+a>n&&(c=e.clientX-a-10),u+l>r&&(u=e.clientY-l-10),c<0&&(c=5),u<0&&(u=5);const f=t.temperature_chart,h=x1(t.fertility_symbol),g=t.timestamp||t.isoDate;return p.jsxs(be.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},transition:{duration:.15},className:"absolute bg-white/80 border border-[#E27DBF] text-[#1F2937] p-2 rounded-lg shadow z-50",style:{top:u,left:c,width:a,minHeight:l},children:[p.jsx(Te,{variant:"ghost",size:"icon",onClick:s,className:"absolute top-1 right-1 text-[#E27DBF] hover:bg-[#FFB1DD]",children:p.jsx(uu,{size:16})}),p.jsxs("p",{className:"font-semibold text-sm text-[#E27DBF] mb-1",children:[g?he(ue(g),"d/M",{locale:eo}):"Fecha",` (Da ${t.cycleDay||"N/A"})`]}),f!=null&&p.jsxs("p",{className:"text-xs mb-1",children:[p.jsx("span",{className:"font-medium",children:"T:"})," ",parseFloat(f).toFixed(2),"C",t.use_corrected&&p.jsx("span",{className:"inline-block ml-1 align-middle text-[#FF0000]",children:""})]}),p.jsxs("div",{className:"flex items-center mb-1",children:[h&&h.value!=="none"&&p.jsx("span",{className:`w-3 h-3 rounded-full mr-1 ${h.color} ${h.pattern?"pattern-bg":""} ${h.value==="white"?"border border-gray-300":""}`}),p.jsx("p",{className:"text-xs",children:h?h.label:"-"})]}),p.jsxs("p",{className:"text-xs mb-1",children:[p.jsx("span",{className:"font-medium",children:"Sens.:"})," ",t.mucus_sensation||"-"]}),p.jsxs("p",{className:"text-xs",children:[p.jsx("span",{className:"font-medium",children:"Apar.:"})," ",t.mucus_appearance||"-"]}),t.id&&!String(t.id).startsWith("placeholder-")&&p.jsxs("div",{className:"flex justify-center space-x-1 mt-1",children:[p.jsx(Te,{onClick:()=>{o&&o(t),s&&s()},variant:"outline",size:"icon",className:"text-[#393C65] hover:text-[#E27DBF] hover:bg-[#E27DBF]/10 ",children:p.jsx(Ny,{className:"h-4 w-4"})}),p.jsx(Te,{onClick:()=>i(t.id),variant:t.ignored?"outline":"destructive",size:"icon",className:"hover:bg-[#FFB1DD]/20",children:t.ignored?p.jsx(Ya,{className:"h-4 w-4"}):p.jsx(Ap,{className:"h-4 w-4"})})]})]})},nK="#1E40AF",rK="#059669",iK="#BE185D",oK=({padding:t,chartHeight:e,tempMin:n,tempMax:r,tempRange:i,getY:o,responsiveFontSize:s,textRowHeight:a,isFullScreen:l})=>{const c={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.4,ease:"easeOut"}}},u=[];if(i>0){const h=i<=2.5?.1:.5;for(let g=n;g<=r+1e-9;g+=h)u.push(parseFloat(g.toFixed(1)))}else for(let h=35;h<=37.5+1e-9;h+=.5)u.push(parseFloat(h.toFixed(1)));const f=e-t.bottom;return p.jsxs("svg",{width:t.left,height:e,className:"font-sans pointer-events-none",children:[p.jsxs("defs",{children:[p.jsxs("linearGradient",{id:"legendBgGradient",x1:"0%",y1:"0%",x2:"100%",y2:"0%",children:[p.jsx("stop",{offset:"0%",stopColor:"rgba(255, 255, 255, 0.95)"}),p.jsx("stop",{offset:"100%",stopColor:"rgba(252, 231, 243, 0.8)"})]}),p.jsx("filter",{id:"legendShadow",x:"-20%",y:"-20%",width:"140%",height:"140%",children:p.jsx("feDropShadow",{dx:"2",dy:"2",stdDeviation:"3",floodColor:"rgba(244, 114, 182, 0.15)"})})]}),p.jsx("rect",{x:0,y:f+a*.5,width:t.left,height:a*(l?9.5:8),fill:"url(#legendBgGradient)",rx:8,style:{filter:"url(#legendShadow)"}}),u.map((h,g)=>{const w=o(h),v=h.toFixed(1).endsWith(".0")||h.toFixed(1).endsWith(".5"),E=v?h.toFixed(1):`.${h.toFixed(1).split(".")[1]}`;return p.jsx(be.text,{variants:c,x:t.left-s(1),y:w+s(.35),textAnchor:"end",fontSize:s(v?1:.9),fontWeight:v?"600":"500",fill:v?"#E91E63":"#EC4899",style:{filter:"drop-shadow(0 1px 1px rgba(255, 255, 255, 0.8))",fontFamily:'-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif'},children:E},`temp-tick-fixed-${g}`)}),p.jsxs(be.g,{variants:c,children:[p.jsx("rect",{x:t.left-s(.3),y:t.top-s(.3),width:s(3),height:s(2.2),rx:s(.4),fill:"rgba(244, 114, 182, 0.12)",stroke:"rgba(244, 114, 182, 0.25)",strokeWidth:1,style:{filter:"drop-shadow(0 2px 4px rgba(244, 114, 182, 0.1))"}}),p.jsx("text",{x:t.left+s(1.2),y:t.top+s(1.2),textAnchor:"middle",fontSize:s(1.4),fontWeight:"700",fill:"#E91E63",style:{filter:"drop-shadow(0 1px 2px rgba(255, 255, 255, 0.8))",fontFamily:'-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif'},children:"C"})]}),p.jsx(be.g,{variants:c,children:[{label:"Fecha",row:1,color:l?"#374151":"#6B7280"},{label:"Da",row:2,color:l?"#374151":"#6B7280"},{label:"Smbolo",row:3,color:l?"#374151":"#6B7280"},{label:"Sens.",row:l?5:4.5,color:nK},{label:"Apar.",row:l?7:6,color:rK},{label:"Observ.",row:l?9:7.5,color:iK}].map(({label:h,row:g,color:w})=>p.jsx("text",{x:t.left-s(1.5),y:f+a*g,textAnchor:"end",fontSize:s(.95),fontWeight:"600",fill:w,style:{filter:"drop-shadow(0 1px 1px rgba(255, 255, 255, 0.8))",fontFamily:'-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif'},children:h},h))})]})},wC=35.5,_C=37.5,sK=(t,e,n,r,i,o=5)=>{const s=m.useRef(null),a=m.useRef(null),[l,c]=m.useState({width:600,height:400}),[u,f]=m.useState(null),[h,g]=m.useState({x:0,y:0}),w=m.useMemo(()=>t.map(V=>({...V,displayTemperature:V.temperature_chart})),[t]);m.useEffect(()=>{const V=()=>{if(!s.current)return;let F=s.current.clientWidth>0?s.current.clientWidth:600,W,K;if(e)if(F=window.innerWidth,n==="portrait"){const oe=Math.max(30,F*.05);W=(F-oe)/o*t.length,K=window.innerHeight}else W=F/o*t.length,K=window.innerHeight;else W=F/o*t.length,K=450;c({width:W,height:K})};V(),window.addEventListener("resize",V);let $;return e&&s.current&&($=new ResizeObserver(V),$.observe(document.documentElement)),()=>{window.removeEventListener("resize",V),$&&$.disconnect()}},[e,t.length,o,n]);const v=m.useMemo(()=>w.filter(V=>V&&V.isoDate&&!V.ignored&&V.displayTemperature!==null&&V.displayTemperature!==void 0),[w]),E=m.useMemo(()=>w.filter(V=>V&&V.isoDate),[w]),{baselineTemp:_,baselineStartIndex:y}=m.useMemo(()=>{const V=$=>$&&$.displayTemperature!=null&&!$.ignored;for(let $=0;$<w.length;$++){const F=w[$];if(!V(F))continue;const W=[];for(let K=$-1;K>=0&&W.length<6;K--){const oe=w[K];V(oe)&&W.unshift({index:K,temp:oe.displayTemperature})}if(!(W.length<6)&&W.every(K=>K.temp<F.displayTemperature)){const K=Math.max(...W.map(pe=>pe.temp)),oe=W.find(pe=>pe.temp===K).index;return{baselineTemp:K,baselineStartIndex:oe}}}return{baselineTemp:null,baselineStartIndex:null}},[w]),{tempMin:b,tempMax:I}=m.useMemo(()=>{const V=v.map(W=>W.displayTemperature).filter(W=>W!=null);if(V.length===0)return{tempMin:wC,tempMax:_C};let $=Math.min(...V,wC),F=Math.max(...V,_C);if($=Math.floor($*2)/2,F=Math.ceil(F*2)/2,F-$<2){const W=($+F)/2;$=W-1,F=W+1}return{tempMin:$,tempMax:F}},[v]),N=I-b,O=l.width,S=l.height,C=9,P=(V=1)=>{if(!e)return C*V;const $=Math.min(O,S);return Math.max(8,Math.min(C*V,$/(E.length>0?40/V:40)))},A=P(e?1.5:1.8),D=A*5,k={top:e?Math.max(20,S*.05):20,right:e?Math.max(30,O*.05):50,bottom:(e?Math.max(60,S*.2):60)+D,left:e?Math.max(30,O*.05):50},B=V=>{if(V==null||N===0)return S-k.bottom;const $=S-k.top-k.bottom;return $<=0?S-k.bottom:S-k.bottom-(V-b)/N*$},G=V=>{const $=e?10:20,F=e?25:0,W=O-k.left-k.right-$-F*(E.length-1);if(W<=0)return k.left+$+F*V;const K=E.length>1?E.length-1:1;return K===0||E.length===0?k.left+$+F*V:k.left+$+V*(W/(E.length===1?1:K))+F*V},Y=(V,$,F)=>{if(!V||String(V.id).startsWith("placeholder-")){z();return}const W=s.current.getBoundingClientRect();let K,oe;if(F.type.startsWith("touch")){const X=F.changedTouches[0];K=X.clientX,oe=X.clientY}else K=F.clientX,oe=F.clientY;const pe=G($),ce=B(V.displayTemperature);g({svgX:pe,svgY:ce,clientX:K-W.left+s.current.scrollLeft,clientY:oe-W.top+s.current.scrollTop}),f(V)};m.useEffect(()=>{const V=$=>{var F;if(a.current&&!a.current.contains($.target)){const W=(F=s.current)==null?void 0:F.querySelectorAll("circle, text, rect");let K=!1;if(W){for(let oe of W)if(oe.contains($.target)){K=!0;break}}K||f(null)}};return u&&(document.addEventListener("mousedown",V),document.addEventListener("touchstart",V)),()=>{document.removeEventListener("mousedown",V),document.removeEventListener("touchstart",V)}},[u]);const z=()=>{f(null)};return{chartRef:s,tooltipRef:a,dimensions:l,activePoint:u,tooltipPosition:h,processedData:w,validDataForLine:v,allDataPoints:E,tempMin:b,tempMax:I,tempRange:N,padding:k,textRowHeight:A,setActivePoint:f,getY:B,getX:G,handlePointInteraction:Y,clearActivePoint:z,handleToggleIgnore:V=>{r&&V&&(r(i,V),f(null))},responsiveFontSize:P,baselineTemp:_,baselineStartIndex:y}},cN=({data:t,isFullScreen:e,orientation:n,onToggleIgnore:r,onEdit:i,cycleId:o,initialScrollIndex:s=0,visibleDays:a=5,showInterpretation:l=!1})=>{const{chartRef:c,tooltipRef:u,dimensions:f,activePoint:h,tooltipPosition:g,allDataPoints:w,validDataForLine:v,tempMin:E,tempMax:_,tempRange:y,padding:b,textRowHeight:I,getY:N,getX:O,handlePointInteraction:S,handleToggleIgnore:C,responsiveFontSize:P,clearActivePoint:A,setActivePoint:M,baselineTemp:D,baselineStartIndex:k}=sK(t,e,n,r,o,a);if(!w||w.length===0)return p.jsxs("div",{className:"text-center p-8",children:[p.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-gradient-to-br from-pink-100 to-rose-100 rounded-full mb-4",children:p.jsx("svg",{className:"w-8 h-8 text-pink-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})})}),p.jsx("p",{className:"text-slate-400 font-medium",children:"No hay datos para mostrar en el grfico"})]});const B=f.width,G=f.height,Y=D!=null?N(D):null,z=D!=null?O(k):null,L={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.6,ease:"easeOut",staggerChildren:.1}}},V={hidden:{opacity:0,scale:.95},visible:{opacity:1,scale:1,transition:{duration:.5,ease:"easeOut"}}};return m.useEffect(()=>{if(e||!c.current)return;const $=c.current.clientWidth/a;c.current.scrollLeft=Math.max(0,$*s)},[e,s,a,f.width,n]),p.jsxs(be.div,{className:"relative",variants:L,initial:"hidden",animate:"visible",children:[(!e||n==="portrait")&&p.jsx("div",{className:"absolute left-0 top-0 h-full bg-transparent pointer-events-none z-10",style:{width:b.left},children:p.jsx(oK,{padding:b,chartHeight:G,tempMin:E,tempMax:_,tempRange:y,getY:N,responsiveFontSize:P,textRowHeight:I,isFullScreen:e})}),p.jsxs(be.div,{ref:c,className:`relative p-0 rounded-2xl ${e?"w-full h-full bg-gradient-to-br from-white via-pink-50/30 to-rose-50/20 flex items-center justify-start overflow-x-auto overflow-y-hidden":"bg-gradient-to-br from-white via-pink-50/30 to-rose-50/20 overflow-x-auto overflow-y-hidden border border-pink-100/50"}`,style:{boxShadow:e?"inset 0 1px 3px rgba(244, 114, 182, 0.1)":"0 8px 32px rgba(244, 114, 182, 0.12), 0 2px 8px rgba(244, 114, 182, 0.08)"},variants:V,children:[p.jsxs(be.svg,{width:B,height:G,className:"font-sans flex-shrink-0",viewBox:`0 0 ${B} ${G}`,preserveAspectRatio:"xMidYMid meet",children:[p.jsxs("defs",{children:[p.jsxs("linearGradient",{id:"tempLineGradientChart",x1:"0%",y1:"0%",x2:"100%",y2:"0%",children:[p.jsx("stop",{offset:"0%",stopColor:"#F472B6"}),p.jsx("stop",{offset:"50%",stopColor:"#EC4899"}),p.jsx("stop",{offset:"100%",stopColor:"#E91E63"})]}),p.jsxs("linearGradient",{id:"tempAreaGradientChart",x1:"0%",y1:"0%",x2:"0%",y2:"100%",children:[p.jsx("stop",{offset:"0%",stopColor:"rgba(244,114,182,0.25)"}),p.jsx("stop",{offset:"50%",stopColor:"rgba(236,72,153,0.15)"}),p.jsx("stop",{offset:"100%",stopColor:"rgba(233,30,99,0.05)"})]}),p.jsxs("pattern",{id:"spotting-pattern-chart",patternUnits:"userSpaceOnUse",width:"8",height:"8",children:[p.jsx("circle",{cx:"2",cy:"2",r:"1.5",fill:"rgba(239,68,68,0.8)"}),p.jsx("circle",{cx:"6",cy:"6",r:"1.5",fill:"rgba(239,68,68,0.6)"})]}),p.jsxs("filter",{id:"chartShadow",x:"-50%",y:"-50%",width:"200%",height:"200%",children:[p.jsx("feGaussianBlur",{stdDeviation:"2",result:"coloredBlur"}),p.jsxs("feMerge",{children:[p.jsx("feMergeNode",{in:"coloredBlur"}),p.jsx("feMergeNode",{in:"SourceGraphic"})]})]}),p.jsxs("filter",{id:"baselineGlow",x:"-50%",y:"-50%",width:"200%",height:"200%",children:[p.jsx("feGaussianBlur",{stdDeviation:"1.5",result:"coloredBlur"}),p.jsxs("feMerge",{children:[p.jsx("feMergeNode",{in:"coloredBlur"}),p.jsx("feMergeNode",{in:"SourceGraphic"})]})]})]}),p.jsx("rect",{width:"100%",height:"100%",fill:"transparent"}),p.jsx(CH,{padding:b,chartWidth:B,chartHeight:G,tempMin:E,tempMax:_,tempRange:y,getY:N,getX:O,allDataPoints:w,responsiveFontSize:P,isFullScreen:e,showLeftLabels:e&&n==="landscape"}),p.jsx(SH,{data:v,allDataPoints:w,getX:O,getY:N,baselineY:G-b.bottom,temperatureField:"displayTemperature"}),l&&D!=null&&p.jsx(be.line,{x1:z,y1:Y,x2:B-b.right,y2:Y,stroke:"#F59E0B",strokeWidth:3,strokeDasharray:"6 4",style:{filter:"url(#baselineGlow)"},initial:{opacity:0,pathLength:0},animate:{opacity:1,pathLength:1},transition:{duration:1,ease:"easeInOut"}}),p.jsx(yY,{data:w,getX:O,getY:N,isFullScreen:e,orientation:n,responsiveFontSize:P,onPointInteraction:S,clearActivePoint:A,activePoint:h,padding:b,chartHeight:G,chartWidth:B,temperatureField:"displayTemperature",textRowHeight:I})]}),h&&p.jsx(be.div,{ref:u,initial:{opacity:0,scale:.9,y:10},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.9,y:10},transition:{duration:.2,ease:"easeOut"},children:p.jsx(tK,{point:h,position:g,chartWidth:B,chartHeight:G,onToggleIgnore:C,onEdit:i,onClose:A})})]})]})},wf=_e.forwardRef(({className:t,...e},n)=>p.jsx("textarea",{className:De("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:n,...e}));wf.displayName="Textarea";function aK(t,e){const n=m.createContext(e),r=o=>{const{children:s,...a}=o,l=m.useMemo(()=>a,Object.values(a));return p.jsx(n.Provider,{value:l,children:s})};r.displayName=t+"Provider";function i(o){const s=m.useContext(n);if(s)return s;if(e!==void 0)return e;throw new Error(`\`${o}\` must be used within \`${t}\``)}return[r,i]}function Ms(t,e=[]){let n=[];function r(o,s){const a=m.createContext(s),l=n.length;n=[...n,s];const c=f=>{var _;const{scope:h,children:g,...w}=f,v=((_=h==null?void 0:h[t])==null?void 0:_[l])||a,E=m.useMemo(()=>w,Object.values(w));return p.jsx(v.Provider,{value:E,children:g})};c.displayName=o+"Provider";function u(f,h){var v;const g=((v=h==null?void 0:h[t])==null?void 0:v[l])||a,w=m.useContext(g);if(w)return w;if(s!==void 0)return s;throw new Error(`\`${f}\` must be used within \`${o}\``)}return[c,u]}const i=()=>{const o=n.map(s=>m.createContext(s));return function(a){const l=(a==null?void 0:a[t])||o;return m.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return i.scopeName=t,[r,lK(i,...e)]}function lK(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(o){const s=r.reduce((a,{useScope:l,scopeName:c})=>{const f=l(o)[`__scope${c}`];return{...a,...f}},{});return m.useMemo(()=>({[`__scope${e.scopeName}`]:s}),[s])}};return n.scopeName=e.scopeName,n}function Ue(t,e,{checkForDefaultPrevented:n=!0}={}){return function(i){if(t==null||t(i),n===!1||!i.defaultPrevented)return e==null?void 0:e(i)}}var Br=globalThis!=null&&globalThis.document?m.useLayoutEffect:()=>{},cK=jh[" useInsertionEffect ".trim().toString()]||Br;function Rp({prop:t,defaultProp:e,onChange:n=()=>{},caller:r}){const[i,o,s]=uK({defaultProp:e,onChange:n}),a=t!==void 0,l=a?t:i;{const u=m.useRef(t!==void 0);m.useEffect(()=>{const f=u.current;f!==a&&console.warn(`${r} is changing from ${f?"controlled":"uncontrolled"} to ${a?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),u.current=a},[a,r])}const c=m.useCallback(u=>{var f;if(a){const h=dK(u)?u(t):u;h!==t&&((f=s.current)==null||f.call(s,h))}else o(u)},[a,t,o,s]);return[l,c]}function uK({defaultProp:t,onChange:e}){const[n,r]=m.useState(t),i=m.useRef(n),o=m.useRef(e);return cK(()=>{o.current=e},[e]),m.useEffect(()=>{var s;i.current!==n&&((s=o.current)==null||s.call(o,n),i.current=n)},[n,i]),[n,r,o]}function dK(t){return typeof t=="function"}function fK(t){const e=m.useRef({value:t,previous:t});return m.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}function uN(t){const[e,n]=m.useState(void 0);return Br(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const o=i[0];let s,a;if("borderBoxSize"in o){const l=o.borderBoxSize,c=Array.isArray(l)?l[0]:l;s=c.inlineSize,a=c.blockSize}else s=t.offsetWidth,a=t.offsetHeight;n({width:s,height:a})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}function hK(t,e){return m.useReducer((n,r)=>e[n][r]??n,t)}var Xn=t=>{const{present:e,children:n}=t,r=pK(e),i=typeof n=="function"?n({present:r.isPresent}):m.Children.only(n),o=lt(r.ref,mK(i));return typeof n=="function"||r.isPresent?m.cloneElement(i,{ref:o}):null};Xn.displayName="Presence";function pK(t){const[e,n]=m.useState(),r=m.useRef(null),i=m.useRef(t),o=m.useRef("none"),s=t?"mounted":"unmounted",[a,l]=hK(s,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return m.useEffect(()=>{const c=jd(r.current);o.current=a==="mounted"?c:"none"},[a]),Br(()=>{const c=r.current,u=i.current;if(u!==t){const h=o.current,g=jd(c);t?l("MOUNT"):g==="none"||(c==null?void 0:c.display)==="none"?l("UNMOUNT"):l(u&&h!==g?"ANIMATION_OUT":"UNMOUNT"),i.current=t}},[t,l]),Br(()=>{if(e){let c;const u=e.ownerDocument.defaultView??window,f=g=>{const v=jd(r.current).includes(g.animationName);if(g.target===e&&v&&(l("ANIMATION_END"),!i.current)){const E=e.style.animationFillMode;e.style.animationFillMode="forwards",c=u.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=E)})}},h=g=>{g.target===e&&(o.current=jd(r.current))};return e.addEventListener("animationstart",h),e.addEventListener("animationcancel",f),e.addEventListener("animationend",f),()=>{u.clearTimeout(c),e.removeEventListener("animationstart",h),e.removeEventListener("animationcancel",f),e.removeEventListener("animationend",f)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:m.useCallback(c=>{r.current=c?getComputedStyle(c):null,n(c)},[])}}function jd(t){return(t==null?void 0:t.animationName)||"none"}function mK(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var kp="Checkbox",[gK,kne]=Ms(kp),[vK,E1]=gK(kp);function yK(t){const{__scopeCheckbox:e,checked:n,children:r,defaultChecked:i,disabled:o,form:s,name:a,onCheckedChange:l,required:c,value:u="on",internal_do_not_use_render:f}=t,[h,g]=Rp({prop:n,defaultProp:i??!1,onChange:l,caller:kp}),[w,v]=m.useState(null),[E,_]=m.useState(null),y=m.useRef(!1),b=w?!!s||!!w.closest("form"):!0,I={checked:h,disabled:o,setChecked:g,control:w,setControl:v,name:a,form:s,value:u,hasConsumerStoppedPropagationRef:y,required:c,defaultChecked:_o(i)?!1:i,isFormControl:b,bubbleInput:E,setBubbleInput:_};return p.jsx(vK,{scope:e,...I,children:wK(f)?f(I):r})}var dN="CheckboxTrigger",fN=m.forwardRef(({__scopeCheckbox:t,onKeyDown:e,onClick:n,...r},i)=>{const{control:o,value:s,disabled:a,checked:l,required:c,setControl:u,setChecked:f,hasConsumerStoppedPropagationRef:h,isFormControl:g,bubbleInput:w}=E1(dN,t),v=lt(i,u),E=m.useRef(l);return m.useEffect(()=>{const _=o==null?void 0:o.form;if(_){const y=()=>f(E.current);return _.addEventListener("reset",y),()=>_.removeEventListener("reset",y)}},[o,f]),p.jsx(ze.button,{type:"button",role:"checkbox","aria-checked":_o(l)?"mixed":l,"aria-required":c,"data-state":vN(l),"data-disabled":a?"":void 0,disabled:a,value:s,...r,ref:v,onKeyDown:Ue(e,_=>{_.key==="Enter"&&_.preventDefault()}),onClick:Ue(n,_=>{f(y=>_o(y)?!0:!y),w&&g&&(h.current=_.isPropagationStopped(),h.current||_.stopPropagation())})})});fN.displayName=dN;var b1=m.forwardRef((t,e)=>{const{__scopeCheckbox:n,name:r,checked:i,defaultChecked:o,required:s,disabled:a,value:l,onCheckedChange:c,form:u,...f}=t;return p.jsx(yK,{__scopeCheckbox:n,checked:i,defaultChecked:o,disabled:a,required:s,onCheckedChange:c,name:r,form:u,value:l,internal_do_not_use_render:({isFormControl:h})=>p.jsxs(p.Fragment,{children:[p.jsx(fN,{...f,ref:e,__scopeCheckbox:n}),h&&p.jsx(gN,{__scopeCheckbox:n})]})})});b1.displayName=kp;var hN="CheckboxIndicator",pN=m.forwardRef((t,e)=>{const{__scopeCheckbox:n,forceMount:r,...i}=t,o=E1(hN,n);return p.jsx(Xn,{present:r||_o(o.checked)||o.checked===!0,children:p.jsx(ze.span,{"data-state":vN(o.checked),"data-disabled":o.disabled?"":void 0,...i,ref:e,style:{pointerEvents:"none",...t.style}})})});pN.displayName=hN;var mN="CheckboxBubbleInput",gN=m.forwardRef(({__scopeCheckbox:t,...e},n)=>{const{control:r,hasConsumerStoppedPropagationRef:i,checked:o,defaultChecked:s,required:a,disabled:l,name:c,value:u,form:f,bubbleInput:h,setBubbleInput:g}=E1(mN,t),w=lt(n,g),v=fK(o),E=uN(r);m.useEffect(()=>{const y=h;if(!y)return;const b=window.HTMLInputElement.prototype,N=Object.getOwnPropertyDescriptor(b,"checked").set,O=!i.current;if(v!==o&&N){const S=new Event("click",{bubbles:O});y.indeterminate=_o(o),N.call(y,_o(o)?!1:o),y.dispatchEvent(S)}},[h,v,o,i]);const _=m.useRef(_o(o)?!1:o);return p.jsx(ze.input,{type:"checkbox","aria-hidden":!0,defaultChecked:s??_.current,required:a,disabled:l,name:c,value:u,form:f,...e,tabIndex:-1,ref:w,style:{...e.style,...E,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});gN.displayName=mN;function wK(t){return typeof t=="function"}function _o(t){return t==="indeterminate"}function vN(t){return _o(t)?"indeterminate":t?"checked":"unchecked"}const yN=_e.forwardRef(({className:t,...e},n)=>p.jsx(b1,{ref:n,className:De("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",t),...e,children:p.jsx(pN,{className:De("flex items-center justify-center text-current"),children:p.jsx(Th,{className:"h-4 w-4"})})}));yN.displayName=b1.displayName;var we=function(){return we=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},we.apply(this,arguments)};function _K(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function wN(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,o;r<i;r++)(o||!(r in e))&&(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return t.concat(o||Array.prototype.slice.call(e))}function $u(t){return t.mode==="multiple"}function Uu(t){return t.mode==="range"}function Np(t){return t.mode==="single"}var xK={root:"rdp",multiple_months:"rdp-multiple_months",with_weeknumber:"rdp-with_weeknumber",vhidden:"rdp-vhidden",button_reset:"rdp-button_reset",button:"rdp-button",caption:"rdp-caption",caption_start:"rdp-caption_start",caption_end:"rdp-caption_end",caption_between:"rdp-caption_between",caption_label:"rdp-caption_label",caption_dropdowns:"rdp-caption_dropdowns",dropdown:"rdp-dropdown",dropdown_month:"rdp-dropdown_month",dropdown_year:"rdp-dropdown_year",dropdown_icon:"rdp-dropdown_icon",months:"rdp-months",month:"rdp-month",table:"rdp-table",tbody:"rdp-tbody",tfoot:"rdp-tfoot",head:"rdp-head",head_row:"rdp-head_row",head_cell:"rdp-head_cell",nav:"rdp-nav",nav_button:"rdp-nav_button",nav_button_previous:"rdp-nav_button_previous",nav_button_next:"rdp-nav_button_next",nav_icon:"rdp-nav_icon",row:"rdp-row",weeknumber:"rdp-weeknumber",cell:"rdp-cell",day:"rdp-day",day_today:"rdp-day_today",day_outside:"rdp-day_outside",day_selected:"rdp-day_selected",day_disabled:"rdp-day_disabled",day_hidden:"rdp-day_hidden",day_range_start:"rdp-day_range_start",day_range_end:"rdp-day_range_end",day_range_middle:"rdp-day_range_middle"};function EK(t,e){return he(t,"LLLL y",e)}function bK(t,e){return he(t,"d",e)}function TK(t,e){return he(t,"LLLL",e)}function CK(t){return"".concat(t)}function SK(t,e){return he(t,"cccccc",e)}function PK(t,e){return he(t,"yyyy",e)}var IK=Object.freeze({__proto__:null,formatCaption:EK,formatDay:bK,formatMonthCaption:TK,formatWeekNumber:CK,formatWeekdayName:SK,formatYearCaption:PK}),AK=function(t,e,n){return he(t,"do MMMM (EEEE)",n)},RK=function(){return"Month: "},kK=function(){return"Go to next month"},NK=function(){return"Go to previous month"},DK=function(t,e){return he(t,"cccc",e)},MK=function(t){return"Week n. ".concat(t)},OK=function(){return"Year: "},LK=Object.freeze({__proto__:null,labelDay:AK,labelMonthDropdown:RK,labelNext:kK,labelPrevious:NK,labelWeekNumber:MK,labelWeekday:DK,labelYearDropdown:OK});function VK(){var t="buttons",e=xK,n=v1,r={},i={},o=1,s={},a=new Date;return{captionLayout:t,classNames:e,formatters:IK,labels:LK,locale:n,modifiersClassNames:r,modifiers:i,numberOfMonths:o,styles:s,today:a,mode:"default"}}function jK(t){var e=t.fromYear,n=t.toYear,r=t.fromMonth,i=t.toMonth,o=t.fromDate,s=t.toDate;return r?o=Cn(r):e&&(o=new Date(e,0,1)),i?s=p1(i):n&&(s=new Date(n,11,31)),{fromDate:o?Se(o):void 0,toDate:s?Se(s):void 0}}var _N=m.createContext(void 0);function FK(t){var e,n=t.initialProps,r=VK(),i=jK(n),o=i.fromDate,s=i.toDate,a=(e=n.captionLayout)!==null&&e!==void 0?e:r.captionLayout;a!=="buttons"&&(!o||!s)&&(a="buttons");var l;(Np(n)||$u(n)||Uu(n))&&(l=n.onSelect);var c=we(we(we({},r),n),{captionLayout:a,classNames:we(we({},r.classNames),n.classNames),components:we({},n.components),formatters:we(we({},r.formatters),n.formatters),fromDate:o,labels:we(we({},r.labels),n.labels),mode:n.mode||r.mode,modifiers:we(we({},r.modifiers),n.modifiers),modifiersClassNames:we(we({},r.modifiersClassNames),n.modifiersClassNames),onSelect:l,styles:we(we({},r.styles),n.styles),toDate:s});return p.jsx(_N.Provider,{value:c,children:t.children})}function et(){var t=m.useContext(_N);if(!t)throw new Error("useDayPicker must be used within a DayPickerProvider.");return t}function xN(t){var e=et(),n=e.locale,r=e.classNames,i=e.styles,o=e.formatters.formatCaption;return p.jsx("div",{className:r.caption_label,style:i.caption_label,"aria-live":"polite",role:"presentation",id:t.id,children:o(t.displayMonth,{locale:n})})}function $K(t){return p.jsx("svg",we({width:"8px",height:"8px",viewBox:"0 0 120 120","data-testid":"iconDropdown"},t,{children:p.jsx("path",{d:"M4.22182541,48.2218254 C8.44222828,44.0014225 15.2388494,43.9273804 19.5496459,47.9996989 L19.7781746,48.2218254 L60,88.443 L100.221825,48.2218254 C104.442228,44.0014225 111.238849,43.9273804 115.549646,47.9996989 L115.778175,48.2218254 C119.998577,52.4422283 120.07262,59.2388494 116.000301,63.5496459 L115.778175,63.7781746 L67.7781746,111.778175 C63.5577717,115.998577 56.7611506,116.07262 52.4503541,112.000301 L52.2218254,111.778175 L4.22182541,63.7781746 C-0.0739418023,59.4824074 -0.0739418023,52.5175926 4.22182541,48.2218254 Z",fill:"currentColor",fillRule:"nonzero"})}))}function EN(t){var e,n,r=t.onChange,i=t.value,o=t.children,s=t.caption,a=t.className,l=t.style,c=et(),u=(n=(e=c.components)===null||e===void 0?void 0:e.IconDropdown)!==null&&n!==void 0?n:$K;return p.jsxs("div",{className:a,style:l,children:[p.jsx("span",{className:c.classNames.vhidden,children:t["aria-label"]}),p.jsx("select",{name:t.name,"aria-label":t["aria-label"],className:c.classNames.dropdown,style:c.styles.dropdown,value:i,onChange:r,children:o}),p.jsxs("div",{className:c.classNames.caption_label,style:c.styles.caption_label,"aria-hidden":"true",children:[s,p.jsx(u,{className:c.classNames.dropdown_icon,style:c.styles.dropdown_icon})]})]})}function UK(t){var e,n=et(),r=n.fromDate,i=n.toDate,o=n.styles,s=n.locale,a=n.formatters.formatMonthCaption,l=n.classNames,c=n.components,u=n.labels.labelMonthDropdown;if(!r)return p.jsx(p.Fragment,{});if(!i)return p.jsx(p.Fragment,{});var f=[];if(JG(r,i))for(var h=Cn(r),g=r.getMonth();g<=i.getMonth();g++)f.push(bg(h,g));else for(var h=Cn(new Date),g=0;g<=11;g++)f.push(bg(h,g));var w=function(E){var _=Number(E.target.value),y=bg(Cn(t.displayMonth),_);t.onChange(y)},v=(e=c==null?void 0:c.Dropdown)!==null&&e!==void 0?e:EN;return p.jsx(v,{name:"months","aria-label":u(),className:l.dropdown_month,style:o.dropdown_month,onChange:w,value:t.displayMonth.getMonth(),caption:a(t.displayMonth,{locale:s}),children:f.map(function(E){return p.jsx("option",{value:E.getMonth(),children:a(E,{locale:s})},E.getMonth())})})}function BK(t){var e,n=t.displayMonth,r=et(),i=r.fromDate,o=r.toDate,s=r.locale,a=r.styles,l=r.classNames,c=r.components,u=r.formatters.formatYearCaption,f=r.labels.labelYearDropdown,h=[];if(!i)return p.jsx(p.Fragment,{});if(!o)return p.jsx(p.Fragment,{});for(var g=i.getFullYear(),w=o.getFullYear(),v=g;v<=w;v++)h.push(mC($H(new Date),v));var E=function(y){var b=mC(Cn(n),Number(y.target.value));t.onChange(b)},_=(e=c==null?void 0:c.Dropdown)!==null&&e!==void 0?e:EN;return p.jsx(_,{name:"years","aria-label":f(),className:l.dropdown_year,style:a.dropdown_year,onChange:E,value:n.getFullYear(),caption:u(n,{locale:s}),children:h.map(function(y){return p.jsx("option",{value:y.getFullYear(),children:u(y,{locale:s})},y.getFullYear())})})}function WK(t,e){var n=m.useState(t),r=n[0],i=n[1],o=e===void 0?r:e;return[o,i]}function zK(t){var e=t.month,n=t.defaultMonth,r=t.today,i=e||n||r||new Date,o=t.toDate,s=t.fromDate,a=t.numberOfMonths,l=a===void 0?1:a;if(o&&du(o,i)<0){var c=-1*(l-1);i=pr(o,c)}return s&&du(i,s)<0&&(i=s),Cn(i)}function HK(){var t=et(),e=zK(t),n=WK(e,t.month),r=n[0],i=n[1],o=function(s){var a;if(!t.disableNavigation){var l=Cn(s);i(l),(a=t.onMonthChange)===null||a===void 0||a.call(t,l)}};return[r,o]}function qK(t,e){for(var n=e.reverseMonths,r=e.numberOfMonths,i=Cn(t),o=Cn(pr(i,r)),s=du(o,i),a=[],l=0;l<s;l++){var c=pr(i,l);a.push(c)}return n&&(a=a.reverse()),a}function GK(t,e){if(!e.disableNavigation){var n=e.toDate,r=e.pagedNavigation,i=e.numberOfMonths,o=i===void 0?1:i,s=r?o:1,a=Cn(t);if(!n)return pr(a,s);var l=du(n,t);if(!(l<o))return pr(a,s)}}function YK(t,e){if(!e.disableNavigation){var n=e.fromDate,r=e.pagedNavigation,i=e.numberOfMonths,o=i===void 0?1:i,s=r?o:1,a=Cn(t);if(!n)return pr(a,-s);var l=du(a,n);if(!(l<=0))return pr(a,-s)}}var bN=m.createContext(void 0);function KK(t){var e=et(),n=HK(),r=n[0],i=n[1],o=qK(r,e),s=GK(r,e),a=YK(r,e),l=function(f){return o.some(function(h){return _1(f,h)})},c=function(f,h){l(f)||(h&&eN(f,h)?i(pr(f,1+e.numberOfMonths*-1)):i(f))},u={currentMonth:r,displayMonths:o,goToMonth:i,goToDate:c,previousMonth:a,nextMonth:s,isDateDisplayed:l};return p.jsx(bN.Provider,{value:u,children:t.children})}function Bu(){var t=m.useContext(bN);if(!t)throw new Error("useNavigation must be used within a NavigationProvider");return t}function xC(t){var e,n=et(),r=n.classNames,i=n.styles,o=n.components,s=Bu().goToMonth,a=function(u){s(pr(u,t.displayIndex?-t.displayIndex:0))},l=(e=o==null?void 0:o.CaptionLabel)!==null&&e!==void 0?e:xN,c=p.jsx(l,{id:t.id,displayMonth:t.displayMonth});return p.jsxs("div",{className:r.caption_dropdowns,style:i.caption_dropdowns,children:[p.jsx("div",{className:r.vhidden,children:c}),p.jsx(UK,{onChange:a,displayMonth:t.displayMonth}),p.jsx(BK,{onChange:a,displayMonth:t.displayMonth})]})}function QK(t){return p.jsx("svg",we({width:"16px",height:"16px",viewBox:"0 0 120 120"},t,{children:p.jsx("path",{d:"M69.490332,3.34314575 C72.6145263,0.218951416 77.6798462,0.218951416 80.8040405,3.34314575 C83.8617626,6.40086786 83.9268205,11.3179931 80.9992143,14.4548388 L80.8040405,14.6568542 L35.461,60 L80.8040405,105.343146 C83.8617626,108.400868 83.9268205,113.317993 80.9992143,116.454839 L80.8040405,116.656854 C77.7463184,119.714576 72.8291931,119.779634 69.6923475,116.852028 L69.490332,116.656854 L18.490332,65.6568542 C15.4326099,62.5991321 15.367552,57.6820069 18.2951583,54.5451612 L18.490332,54.3431458 L69.490332,3.34314575 Z",fill:"currentColor",fillRule:"nonzero"})}))}function XK(t){return p.jsx("svg",we({width:"16px",height:"16px",viewBox:"0 0 120 120"},t,{children:p.jsx("path",{d:"M49.8040405,3.34314575 C46.6798462,0.218951416 41.6145263,0.218951416 38.490332,3.34314575 C35.4326099,6.40086786 35.367552,11.3179931 38.2951583,14.4548388 L38.490332,14.6568542 L83.8333725,60 L38.490332,105.343146 C35.4326099,108.400868 35.367552,113.317993 38.2951583,116.454839 L38.490332,116.656854 C41.5480541,119.714576 46.4651794,119.779634 49.602025,116.852028 L49.8040405,116.656854 L100.804041,65.6568542 C103.861763,62.5991321 103.926821,57.6820069 100.999214,54.5451612 L100.804041,54.3431458 L49.8040405,3.34314575 Z",fill:"currentColor"})}))}var Ah=m.forwardRef(function(t,e){var n=et(),r=n.classNames,i=n.styles,o=[r.button_reset,r.button];t.className&&o.push(t.className);var s=o.join(" "),a=we(we({},i.button_reset),i.button);return t.style&&Object.assign(a,t.style),p.jsx("button",we({},t,{ref:e,type:"button",className:s,style:a}))});function JK(t){var e,n,r=et(),i=r.dir,o=r.locale,s=r.classNames,a=r.styles,l=r.labels,c=l.labelPrevious,u=l.labelNext,f=r.components;if(!t.nextMonth&&!t.previousMonth)return p.jsx(p.Fragment,{});var h=c(t.previousMonth,{locale:o}),g=[s.nav_button,s.nav_button_previous].join(" "),w=u(t.nextMonth,{locale:o}),v=[s.nav_button,s.nav_button_next].join(" "),E=(e=f==null?void 0:f.IconRight)!==null&&e!==void 0?e:XK,_=(n=f==null?void 0:f.IconLeft)!==null&&n!==void 0?n:QK;return p.jsxs("div",{className:s.nav,style:a.nav,children:[!t.hidePrevious&&p.jsx(Ah,{name:"previous-month","aria-label":h,className:g,style:a.nav_button_previous,disabled:!t.previousMonth,onClick:t.onPreviousClick,children:i==="rtl"?p.jsx(E,{className:s.nav_icon,style:a.nav_icon}):p.jsx(_,{className:s.nav_icon,style:a.nav_icon})}),!t.hideNext&&p.jsx(Ah,{name:"next-month","aria-label":w,className:v,style:a.nav_button_next,disabled:!t.nextMonth,onClick:t.onNextClick,children:i==="rtl"?p.jsx(_,{className:s.nav_icon,style:a.nav_icon}):p.jsx(E,{className:s.nav_icon,style:a.nav_icon})})]})}function EC(t){var e=et().numberOfMonths,n=Bu(),r=n.previousMonth,i=n.nextMonth,o=n.goToMonth,s=n.displayMonths,a=s.findIndex(function(w){return _1(t.displayMonth,w)}),l=a===0,c=a===s.length-1,u=e>1&&(l||!c),f=e>1&&(c||!l),h=function(){r&&o(r)},g=function(){i&&o(i)};return p.jsx(JK,{displayMonth:t.displayMonth,hideNext:u,hidePrevious:f,nextMonth:i,previousMonth:r,onPreviousClick:h,onNextClick:g})}function ZK(t){var e,n=et(),r=n.classNames,i=n.disableNavigation,o=n.styles,s=n.captionLayout,a=n.components,l=(e=a==null?void 0:a.CaptionLabel)!==null&&e!==void 0?e:xN,c;return i?c=p.jsx(l,{id:t.id,displayMonth:t.displayMonth}):s==="dropdown"?c=p.jsx(xC,{displayMonth:t.displayMonth,id:t.id}):s==="dropdown-buttons"?c=p.jsxs(p.Fragment,{children:[p.jsx(xC,{displayMonth:t.displayMonth,displayIndex:t.displayIndex,id:t.id}),p.jsx(EC,{displayMonth:t.displayMonth,displayIndex:t.displayIndex,id:t.id})]}):c=p.jsxs(p.Fragment,{children:[p.jsx(l,{id:t.id,displayMonth:t.displayMonth,displayIndex:t.displayIndex}),p.jsx(EC,{displayMonth:t.displayMonth,id:t.id})]}),p.jsx("div",{className:r.caption,style:o.caption,children:c})}function eQ(t){var e=et(),n=e.footer,r=e.styles,i=e.classNames.tfoot;return n?p.jsx("tfoot",{className:i,style:r.tfoot,children:p.jsx("tr",{children:p.jsx("td",{colSpan:8,children:n})})}):p.jsx(p.Fragment,{})}function tQ(t,e,n){for(var r=n?Es(new Date):Ur(new Date,{locale:t,weekStartsOn:e}),i=[],o=0;o<7;o++){var s=Lt(r,o);i.push(s)}return i}function nQ(){var t=et(),e=t.classNames,n=t.styles,r=t.showWeekNumber,i=t.locale,o=t.weekStartsOn,s=t.ISOWeek,a=t.formatters.formatWeekdayName,l=t.labels.labelWeekday,c=tQ(i,o,s);return p.jsxs("tr",{style:n.head_row,className:e.head_row,children:[r&&p.jsx("td",{style:n.head_cell,className:e.head_cell}),c.map(function(u,f){return p.jsx("th",{scope:"col",className:e.head_cell,style:n.head_cell,"aria-label":l(u,{locale:i}),children:a(u,{locale:i})},f)})]})}function rQ(){var t,e=et(),n=e.classNames,r=e.styles,i=e.components,o=(t=i==null?void 0:i.HeadRow)!==null&&t!==void 0?t:nQ;return p.jsx("thead",{style:r.head,className:n.head,children:p.jsx(o,{})})}function iQ(t){var e=et(),n=e.locale,r=e.formatters.formatDay;return p.jsx(p.Fragment,{children:r(t.date,{locale:n})})}var T1=m.createContext(void 0);function oQ(t){if(!$u(t.initialProps)){var e={selected:void 0,modifiers:{disabled:[]}};return p.jsx(T1.Provider,{value:e,children:t.children})}return p.jsx(sQ,{initialProps:t.initialProps,children:t.children})}function sQ(t){var e=t.initialProps,n=t.children,r=e.selected,i=e.min,o=e.max,s=function(c,u,f){var h,g;(h=e.onDayClick)===null||h===void 0||h.call(e,c,u,f);var w=!!(u.selected&&i&&(r==null?void 0:r.length)===i);if(!w){var v=!!(!u.selected&&o&&(r==null?void 0:r.length)===o);if(!v){var E=r?wN([],r,!0):[];if(u.selected){var _=E.findIndex(function(y){return xn(c,y)});E.splice(_,1)}else E.push(c);(g=e.onSelect)===null||g===void 0||g.call(e,E,c,u,f)}}},a={disabled:[]};r&&a.disabled.push(function(c){var u=o&&r.length>o-1,f=r.some(function(h){return xn(h,c)});return!!(u&&!f)});var l={selected:r,onDayClick:s,modifiers:a};return p.jsx(T1.Provider,{value:l,children:n})}function C1(){var t=m.useContext(T1);if(!t)throw new Error("useSelectMultiple must be used within a SelectMultipleProvider");return t}function aQ(t,e){var n=e||{},r=n.from,i=n.to;return r&&i?xn(i,t)&&xn(r,t)?void 0:xn(i,t)?{from:i,to:void 0}:xn(r,t)?void 0:Sh(r,t)?{from:t,to:i}:{from:r,to:t}:i?Sh(t,i)?{from:i,to:t}:{from:t,to:i}:r?eN(t,r)?{from:t,to:r}:{from:r,to:t}:{from:t,to:void 0}}var S1=m.createContext(void 0);function lQ(t){if(!Uu(t.initialProps)){var e={selected:void 0,modifiers:{range_start:[],range_end:[],range_middle:[],disabled:[]}};return p.jsx(S1.Provider,{value:e,children:t.children})}return p.jsx(cQ,{initialProps:t.initialProps,children:t.children})}function cQ(t){var e=t.initialProps,n=t.children,r=e.selected,i=r||{},o=i.from,s=i.to,a=e.min,l=e.max,c=function(g,w,v){var E,_;(E=e.onDayClick)===null||E===void 0||E.call(e,g,w,v);var y=aQ(g,r);(_=e.onSelect)===null||_===void 0||_.call(e,y,g,w,v)},u={range_start:[],range_end:[],range_middle:[],disabled:[]};if(o?(u.range_start=[o],s?(u.range_end=[s],xn(o,s)||(u.range_middle=[{after:o,before:s}])):u.range_end=[o]):s&&(u.range_start=[s],u.range_end=[s]),a&&(o&&!s&&u.disabled.push({after:xg(o,a-1),before:Lt(o,a-1)}),o&&s&&u.disabled.push({after:o,before:Lt(o,a-1)}),!o&&s&&u.disabled.push({after:xg(s,a-1),before:Lt(s,a-1)})),l){if(o&&!s&&(u.disabled.push({before:Lt(o,-l+1)}),u.disabled.push({after:Lt(o,l-1)})),o&&s){var f=Ir(s,o)+1,h=l-f;u.disabled.push({before:xg(o,h)}),u.disabled.push({after:Lt(s,h)})}!o&&s&&(u.disabled.push({before:Lt(s,-l+1)}),u.disabled.push({after:Lt(s,l-1)}))}return p.jsx(S1.Provider,{value:{selected:r,onDayClick:c,modifiers:u},children:n})}function P1(){var t=m.useContext(S1);if(!t)throw new Error("useSelectRange must be used within a SelectRangeProvider");return t}function _f(t){return Array.isArray(t)?wN([],t,!0):t!==void 0?[t]:[]}function uQ(t){var e={};return Object.entries(t).forEach(function(n){var r=n[0],i=n[1];e[r]=_f(i)}),e}var mr;(function(t){t.Outside="outside",t.Disabled="disabled",t.Selected="selected",t.Hidden="hidden",t.Today="today",t.RangeStart="range_start",t.RangeEnd="range_end",t.RangeMiddle="range_middle"})(mr||(mr={}));var dQ=mr.Selected,Qr=mr.Disabled,fQ=mr.Hidden,hQ=mr.Today,Sg=mr.RangeEnd,Pg=mr.RangeMiddle,Ig=mr.RangeStart,pQ=mr.Outside;function mQ(t,e,n){var r,i=(r={},r[dQ]=_f(t.selected),r[Qr]=_f(t.disabled),r[fQ]=_f(t.hidden),r[hQ]=[t.today],r[Sg]=[],r[Pg]=[],r[Ig]=[],r[pQ]=[],r);return t.fromDate&&i[Qr].push({before:t.fromDate}),t.toDate&&i[Qr].push({after:t.toDate}),$u(t)?i[Qr]=i[Qr].concat(e.modifiers[Qr]):Uu(t)&&(i[Qr]=i[Qr].concat(n.modifiers[Qr]),i[Ig]=n.modifiers[Ig],i[Pg]=n.modifiers[Pg],i[Sg]=n.modifiers[Sg]),i}var TN=m.createContext(void 0);function gQ(t){var e=et(),n=C1(),r=P1(),i=mQ(e,n,r),o=uQ(e.modifiers),s=we(we({},i),o);return p.jsx(TN.Provider,{value:s,children:t.children})}function CN(){var t=m.useContext(TN);if(!t)throw new Error("useModifiers must be used within a ModifiersProvider");return t}function vQ(t){return!!(t&&typeof t=="object"&&"before"in t&&"after"in t)}function yQ(t){return!!(t&&typeof t=="object"&&"from"in t)}function wQ(t){return!!(t&&typeof t=="object"&&"after"in t)}function _Q(t){return!!(t&&typeof t=="object"&&"before"in t)}function xQ(t){return!!(t&&typeof t=="object"&&"dayOfWeek"in t)}function EQ(t,e){var n,r=e.from,i=e.to;if(r&&i){var o=Ir(i,r)<0;o&&(n=[i,r],r=n[0],i=n[1]);var s=Ir(t,r)>=0&&Ir(i,t)>=0;return s}return i?xn(i,t):r?xn(r,t):!1}function bQ(t){return h1(t)}function TQ(t){return Array.isArray(t)&&t.every(h1)}function CQ(t,e){return e.some(function(n){if(typeof n=="boolean")return n;if(bQ(n))return xn(t,n);if(TQ(n))return n.includes(t);if(yQ(n))return EQ(t,n);if(xQ(n))return n.dayOfWeek.includes(t.getDay());if(vQ(n)){var r=Ir(n.before,t),i=Ir(n.after,t),o=r>0,s=i<0,a=Sh(n.before,n.after);return a?s&&o:o||s}return wQ(n)?Ir(t,n.after)>0:_Q(n)?Ir(n.before,t)>0:typeof n=="function"?n(t):!1})}function I1(t,e,n){var r=Object.keys(e).reduce(function(o,s){var a=e[s];return CQ(t,a)&&o.push(s),o},[]),i={};return r.forEach(function(o){return i[o]=!0}),n&&!_1(t,n)&&(i.outside=!0),i}function SQ(t,e){for(var n=Cn(t[0]),r=p1(t[t.length-1]),i,o,s=n;s<=r;){var a=I1(s,e),l=!a.disabled&&!a.hidden;if(!l){s=Lt(s,1);continue}if(a.selected)return s;a.today&&!o&&(o=s),i||(i=s),s=Lt(s,1)}return o||i}var PQ=365;function SN(t,e){var n=e.moveBy,r=e.direction,i=e.context,o=e.modifiers,s=e.retry,a=s===void 0?{count:0,lastFocused:t}:s,l=i.weekStartsOn,c=i.fromDate,u=i.toDate,f=i.locale,h={day:Lt,week:My,month:pr,year:NH,startOfWeek:function(E){return i.ISOWeek?Es(E):Ur(E,{locale:f,weekStartsOn:l})},endOfWeek:function(E){return i.ISOWeek?H2(E):m1(E,{locale:f,weekStartsOn:l})}},g=h[n](t,r==="after"?1:-1);r==="before"&&c?g=DH([c,g]):r==="after"&&u&&(g=MH([u,g]));var w=!0;if(o){var v=I1(g,o);w=!v.disabled&&!v.hidden}return w?g:a.count>PQ?a.lastFocused:SN(g,{moveBy:n,direction:r,context:i,modifiers:o,retry:we(we({},a),{count:a.count+1})})}var PN=m.createContext(void 0);function IQ(t){var e=Bu(),n=CN(),r=m.useState(),i=r[0],o=r[1],s=m.useState(),a=s[0],l=s[1],c=SQ(e.displayMonths,n),u=i??(a&&e.isDateDisplayed(a))?a:c,f=function(){l(i),o(void 0)},h=function(E){o(E)},g=et(),w=function(E,_){if(i){var y=SN(i,{moveBy:E,direction:_,context:g,modifiers:n});xn(i,y)||(e.goToDate(y,i),h(y))}},v={focusedDay:i,focusTarget:u,blur:f,focus:h,focusDayAfter:function(){return w("day","after")},focusDayBefore:function(){return w("day","before")},focusWeekAfter:function(){return w("week","after")},focusWeekBefore:function(){return w("week","before")},focusMonthBefore:function(){return w("month","before")},focusMonthAfter:function(){return w("month","after")},focusYearBefore:function(){return w("year","before")},focusYearAfter:function(){return w("year","after")},focusStartOfWeek:function(){return w("startOfWeek","before")},focusEndOfWeek:function(){return w("endOfWeek","after")}};return p.jsx(PN.Provider,{value:v,children:t.children})}function A1(){var t=m.useContext(PN);if(!t)throw new Error("useFocusContext must be used within a FocusProvider");return t}function AQ(t,e){var n=CN(),r=I1(t,n,e);return r}var R1=m.createContext(void 0);function RQ(t){if(!Np(t.initialProps)){var e={selected:void 0};return p.jsx(R1.Provider,{value:e,children:t.children})}return p.jsx(kQ,{initialProps:t.initialProps,children:t.children})}function kQ(t){var e=t.initialProps,n=t.children,r=function(o,s,a){var l,c,u;if((l=e.onDayClick)===null||l===void 0||l.call(e,o,s,a),s.selected&&!e.required){(c=e.onSelect)===null||c===void 0||c.call(e,void 0,o,s,a);return}(u=e.onSelect)===null||u===void 0||u.call(e,o,o,s,a)},i={selected:e.selected,onDayClick:r};return p.jsx(R1.Provider,{value:i,children:n})}function IN(){var t=m.useContext(R1);if(!t)throw new Error("useSelectSingle must be used within a SelectSingleProvider");return t}function NQ(t,e){var n=et(),r=IN(),i=C1(),o=P1(),s=A1(),a=s.focusDayAfter,l=s.focusDayBefore,c=s.focusWeekAfter,u=s.focusWeekBefore,f=s.blur,h=s.focus,g=s.focusMonthBefore,w=s.focusMonthAfter,v=s.focusYearBefore,E=s.focusYearAfter,_=s.focusStartOfWeek,y=s.focusEndOfWeek,b=function(z){var L,V,$,F;Np(n)?(L=r.onDayClick)===null||L===void 0||L.call(r,t,e,z):$u(n)?(V=i.onDayClick)===null||V===void 0||V.call(i,t,e,z):Uu(n)?($=o.onDayClick)===null||$===void 0||$.call(o,t,e,z):(F=n.onDayClick)===null||F===void 0||F.call(n,t,e,z)},I=function(z){var L;h(t),(L=n.onDayFocus)===null||L===void 0||L.call(n,t,e,z)},N=function(z){var L;f(),(L=n.onDayBlur)===null||L===void 0||L.call(n,t,e,z)},O=function(z){var L;(L=n.onDayMouseEnter)===null||L===void 0||L.call(n,t,e,z)},S=function(z){var L;(L=n.onDayMouseLeave)===null||L===void 0||L.call(n,t,e,z)},C=function(z){var L;(L=n.onDayPointerEnter)===null||L===void 0||L.call(n,t,e,z)},P=function(z){var L;(L=n.onDayPointerLeave)===null||L===void 0||L.call(n,t,e,z)},A=function(z){var L;(L=n.onDayTouchCancel)===null||L===void 0||L.call(n,t,e,z)},M=function(z){var L;(L=n.onDayTouchEnd)===null||L===void 0||L.call(n,t,e,z)},D=function(z){var L;(L=n.onDayTouchMove)===null||L===void 0||L.call(n,t,e,z)},k=function(z){var L;(L=n.onDayTouchStart)===null||L===void 0||L.call(n,t,e,z)},B=function(z){var L;(L=n.onDayKeyUp)===null||L===void 0||L.call(n,t,e,z)},G=function(z){var L;switch(z.key){case"ArrowLeft":z.preventDefault(),z.stopPropagation(),n.dir==="rtl"?a():l();break;case"ArrowRight":z.preventDefault(),z.stopPropagation(),n.dir==="rtl"?l():a();break;case"ArrowDown":z.preventDefault(),z.stopPropagation(),c();break;case"ArrowUp":z.preventDefault(),z.stopPropagation(),u();break;case"PageUp":z.preventDefault(),z.stopPropagation(),z.shiftKey?v():g();break;case"PageDown":z.preventDefault(),z.stopPropagation(),z.shiftKey?E():w();break;case"Home":z.preventDefault(),z.stopPropagation(),_();break;case"End":z.preventDefault(),z.stopPropagation(),y();break}(L=n.onDayKeyDown)===null||L===void 0||L.call(n,t,e,z)},Y={onClick:b,onFocus:I,onBlur:N,onKeyDown:G,onKeyUp:B,onMouseEnter:O,onMouseLeave:S,onPointerEnter:C,onPointerLeave:P,onTouchCancel:A,onTouchEnd:M,onTouchMove:D,onTouchStart:k};return Y}function DQ(){var t=et(),e=IN(),n=C1(),r=P1(),i=Np(t)?e.selected:$u(t)?n.selected:Uu(t)?r.selected:void 0;return i}function MQ(t){return Object.values(mr).includes(t)}function OQ(t,e){var n=[t.classNames.day];return Object.keys(e).forEach(function(r){var i=t.modifiersClassNames[r];if(i)n.push(i);else if(MQ(r)){var o=t.classNames["day_".concat(r)];o&&n.push(o)}}),n}function LQ(t,e){var n=we({},t.styles.day);return Object.keys(e).forEach(function(r){var i;n=we(we({},n),(i=t.modifiersStyles)===null||i===void 0?void 0:i[r])}),n}function VQ(t,e,n){var r,i,o,s=et(),a=A1(),l=AQ(t,e),c=NQ(t,l),u=DQ(),f=!!(s.onDayClick||s.mode!=="default");m.useEffect(function(){var O;l.outside||a.focusedDay&&f&&xn(a.focusedDay,t)&&((O=n.current)===null||O===void 0||O.focus())},[a.focusedDay,t,n,f,l.outside]);var h=OQ(s,l).join(" "),g=LQ(s,l),w=!!(l.outside&&!s.showOutsideDays||l.hidden),v=(o=(i=s.components)===null||i===void 0?void 0:i.DayContent)!==null&&o!==void 0?o:iQ,E=p.jsx(v,{date:t,displayMonth:e,activeModifiers:l}),_={style:g,className:h,children:E,role:"gridcell"},y=a.focusTarget&&xn(a.focusTarget,t)&&!l.outside,b=a.focusedDay&&xn(a.focusedDay,t),I=we(we(we({},_),(r={disabled:l.disabled,role:"gridcell"},r["aria-selected"]=l.selected,r.tabIndex=b||y?0:-1,r)),c),N={isButton:f,isHidden:w,activeModifiers:l,selectedDays:u,buttonProps:I,divProps:_};return N}function jQ(t){var e=m.useRef(null),n=VQ(t.date,t.displayMonth,e);return n.isHidden?p.jsx("div",{role:"gridcell"}):n.isButton?p.jsx(Ah,we({name:"day",ref:e},n.buttonProps)):p.jsx("div",we({},n.divProps))}function FQ(t){var e=t.number,n=t.dates,r=et(),i=r.onWeekNumberClick,o=r.styles,s=r.classNames,a=r.locale,l=r.labels.labelWeekNumber,c=r.formatters.formatWeekNumber,u=c(Number(e),{locale:a});if(!i)return p.jsx("span",{className:s.weeknumber,style:o.weeknumber,children:u});var f=l(Number(e),{locale:a}),h=function(g){i(e,n,g)};return p.jsx(Ah,{name:"week-number","aria-label":f,className:s.weeknumber,style:o.weeknumber,onClick:h,children:u})}function $Q(t){var e,n,r=et(),i=r.styles,o=r.classNames,s=r.showWeekNumber,a=r.components,l=(e=a==null?void 0:a.Day)!==null&&e!==void 0?e:jQ,c=(n=a==null?void 0:a.WeekNumber)!==null&&n!==void 0?n:FQ,u;return s&&(u=p.jsx("td",{className:o.cell,style:i.cell,children:p.jsx(c,{number:t.weekNumber,dates:t.dates})})),p.jsxs("tr",{className:o.row,style:i.row,children:[u,t.dates.map(function(f){return p.jsx("td",{className:o.cell,style:i.cell,role:"presentation",children:p.jsx(l,{displayMonth:t.displayMonth,date:f})},Yq(f))})]})}function bC(t,e,n){for(var r=n!=null&&n.ISOWeek?H2(e):m1(e,n),i=n!=null&&n.ISOWeek?Es(t):Ur(t,n),o=Ir(r,i),s=[],a=0;a<=o;a++)s.push(Lt(i,a));var l=s.reduce(function(c,u){var f=n!=null&&n.ISOWeek?qq(u):Jq(u,n),h=c.find(function(g){return g.weekNumber===f});return h?(h.dates.push(u),c):(c.push({weekNumber:f,dates:[u]}),c)},[]);return l}function UQ(t,e){var n=bC(Cn(t),p1(t),e);if(e!=null&&e.useFixedWeeks){var r=eG(t,e);if(r<6){var i=n[n.length-1],o=i.dates[i.dates.length-1],s=My(o,6-r),a=bC(My(o,1),s,e);n.push.apply(n,a)}}return n}function BQ(t){var e,n,r,i=et(),o=i.locale,s=i.classNames,a=i.styles,l=i.hideHead,c=i.fixedWeeks,u=i.components,f=i.weekStartsOn,h=i.firstWeekContainsDate,g=i.ISOWeek,w=UQ(t.displayMonth,{useFixedWeeks:!!c,ISOWeek:g,locale:o,weekStartsOn:f,firstWeekContainsDate:h}),v=(e=u==null?void 0:u.Head)!==null&&e!==void 0?e:rQ,E=(n=u==null?void 0:u.Row)!==null&&n!==void 0?n:$Q,_=(r=u==null?void 0:u.Footer)!==null&&r!==void 0?r:eQ;return p.jsxs("table",{id:t.id,className:s.table,style:a.table,role:"grid","aria-labelledby":t["aria-labelledby"],children:[!l&&p.jsx(v,{}),p.jsx("tbody",{className:s.tbody,style:a.tbody,children:w.map(function(y){return p.jsx(E,{displayMonth:t.displayMonth,dates:y.dates,weekNumber:y.weekNumber},y.weekNumber)})}),p.jsx(_,{displayMonth:t.displayMonth})]})}function WQ(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}var zQ=WQ()?m.useLayoutEffect:m.useEffect,Ag=!1,HQ=0;function TC(){return"react-day-picker-".concat(++HQ)}function qQ(t){var e,n=t??(Ag?TC():null),r=m.useState(n),i=r[0],o=r[1];return zQ(function(){i===null&&o(TC())},[]),m.useEffect(function(){Ag===!1&&(Ag=!0)},[]),(e=t??i)!==null&&e!==void 0?e:void 0}function GQ(t){var e,n,r=et(),i=r.dir,o=r.classNames,s=r.styles,a=r.components,l=Bu().displayMonths,c=qQ(r.id?"".concat(r.id,"-").concat(t.displayIndex):void 0),u=r.id?"".concat(r.id,"-grid-").concat(t.displayIndex):void 0,f=[o.month],h=s.month,g=t.displayIndex===0,w=t.displayIndex===l.length-1,v=!g&&!w;i==="rtl"&&(e=[g,w],w=e[0],g=e[1]),g&&(f.push(o.caption_start),h=we(we({},h),s.caption_start)),w&&(f.push(o.caption_end),h=we(we({},h),s.caption_end)),v&&(f.push(o.caption_between),h=we(we({},h),s.caption_between));var E=(n=a==null?void 0:a.Caption)!==null&&n!==void 0?n:ZK;return p.jsxs("div",{className:f.join(" "),style:h,children:[p.jsx(E,{id:c,displayMonth:t.displayMonth,displayIndex:t.displayIndex}),p.jsx(BQ,{id:u,"aria-labelledby":c,displayMonth:t.displayMonth})]},t.displayIndex)}function YQ(t){var e=et(),n=e.classNames,r=e.styles;return p.jsx("div",{className:n.months,style:r.months,children:t.children})}function KQ(t){var e,n,r=t.initialProps,i=et(),o=A1(),s=Bu(),a=m.useState(!1),l=a[0],c=a[1];m.useEffect(function(){i.initialFocus&&o.focusTarget&&(l||(o.focus(o.focusTarget),c(!0)))},[i.initialFocus,l,o.focus,o.focusTarget,o]);var u=[i.classNames.root,i.className];i.numberOfMonths>1&&u.push(i.classNames.multiple_months),i.showWeekNumber&&u.push(i.classNames.with_weeknumber);var f=we(we({},i.styles.root),i.style),h=Object.keys(r).filter(function(w){return w.startsWith("data-")}).reduce(function(w,v){var E;return we(we({},w),(E={},E[v]=r[v],E))},{}),g=(n=(e=r.components)===null||e===void 0?void 0:e.Months)!==null&&n!==void 0?n:YQ;return p.jsx("div",we({className:u.join(" "),style:f,dir:i.dir,id:i.id,nonce:r.nonce,title:r.title,lang:r.lang},h,{children:p.jsx(g,{children:s.displayMonths.map(function(w,v){return p.jsx(GQ,{displayIndex:v,displayMonth:w},v)})})}))}function QQ(t){var e=t.children,n=_K(t,["children"]);return p.jsx(FK,{initialProps:n,children:p.jsx(KK,{children:p.jsx(RQ,{initialProps:n,children:p.jsx(oQ,{initialProps:n,children:p.jsx(lQ,{initialProps:n,children:p.jsx(gQ,{children:p.jsx(IQ,{children:e})})})})})})})}function XQ(t){return p.jsx(QQ,we({},t,{children:p.jsx(KQ,{initialProps:t})}))}function AN({className:t,classNames:e,showOutsideDays:n=!0,...r}){return p.jsx(XQ,{showOutsideDays:n,className:De("p-3",t),classNames:{months:"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0",month:"space-y-4",caption:"flex justify-center pt-1 relative items-center",caption_label:"text-sm font-medium",nav:"space-x-1 flex items-center",nav_button:De(yy({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-y-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:"h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20",day:De(yy({variant:"ghost"}),"h-9 w-9 p-0 font-normal aria-selected:opacity-100"),day_selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",day_today:"bg-accent text-accent-foreground",day_outside:"text-muted-foreground opacity-50",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible",...e},components:{IconLeft:({...i})=>p.jsx(iH,{className:"h-4 w-4"}),IconRight:({...i})=>p.jsx(oH,{className:"h-4 w-4"})},...r})}AN.displayName="Calendar";function Wt(t){const e=m.useRef(t);return m.useEffect(()=>{e.current=t}),m.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function JQ(t,e=globalThis==null?void 0:globalThis.document){const n=Wt(t);m.useEffect(()=>{const r=i=>{i.key==="Escape"&&n(i)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var ZQ="DismissableLayer",Vy="dismissableLayer.update",eX="dismissableLayer.pointerDownOutside",tX="dismissableLayer.focusOutside",CC,RN=m.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Dp=m.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:o,onInteractOutside:s,onDismiss:a,...l}=t,c=m.useContext(RN),[u,f]=m.useState(null),h=(u==null?void 0:u.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,g]=m.useState({}),w=lt(e,S=>f(S)),v=Array.from(c.layers),[E]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),_=v.indexOf(E),y=u?v.indexOf(u):-1,b=c.layersWithOutsidePointerEventsDisabled.size>0,I=y>=_,N=rX(S=>{const C=S.target,P=[...c.branches].some(A=>A.contains(C));!I||P||(i==null||i(S),s==null||s(S),S.defaultPrevented||a==null||a())},h),O=iX(S=>{const C=S.target;[...c.branches].some(A=>A.contains(C))||(o==null||o(S),s==null||s(S),S.defaultPrevented||a==null||a())},h);return JQ(S=>{y===c.layers.size-1&&(r==null||r(S),!S.defaultPrevented&&a&&(S.preventDefault(),a()))},h),m.useEffect(()=>{if(u)return n&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(CC=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(u)),c.layers.add(u),SC(),()=>{n&&c.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=CC)}},[u,h,n,c]),m.useEffect(()=>()=>{u&&(c.layers.delete(u),c.layersWithOutsidePointerEventsDisabled.delete(u),SC())},[u,c]),m.useEffect(()=>{const S=()=>g({});return document.addEventListener(Vy,S),()=>document.removeEventListener(Vy,S)},[]),p.jsx(ze.div,{...l,ref:w,style:{pointerEvents:b?I?"auto":"none":void 0,...t.style},onFocusCapture:Ue(t.onFocusCapture,O.onFocusCapture),onBlurCapture:Ue(t.onBlurCapture,O.onBlurCapture),onPointerDownCapture:Ue(t.onPointerDownCapture,N.onPointerDownCapture)})});Dp.displayName=ZQ;var nX="DismissableLayerBranch",kN=m.forwardRef((t,e)=>{const n=m.useContext(RN),r=m.useRef(null),i=lt(e,r);return m.useEffect(()=>{const o=r.current;if(o)return n.branches.add(o),()=>{n.branches.delete(o)}},[n.branches]),p.jsx(ze.div,{...t,ref:i})});kN.displayName=nX;function rX(t,e=globalThis==null?void 0:globalThis.document){const n=Wt(t),r=m.useRef(!1),i=m.useRef(()=>{});return m.useEffect(()=>{const o=a=>{if(a.target&&!r.current){let l=function(){NN(eX,n,c,{discrete:!0})};const c={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=l,e.addEventListener("click",i.current,{once:!0})):l()}else e.removeEventListener("click",i.current);r.current=!1},s=window.setTimeout(()=>{e.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(s),e.removeEventListener("pointerdown",o),e.removeEventListener("click",i.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function iX(t,e=globalThis==null?void 0:globalThis.document){const n=Wt(t),r=m.useRef(!1);return m.useEffect(()=>{const i=o=>{o.target&&!r.current&&NN(tX,n,{originalEvent:o},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function SC(){const t=new CustomEvent(Vy);document.dispatchEvent(t)}function NN(t,e,n,{discrete:r}){const i=n.originalEvent.target,o=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&i.addEventListener(t,e,{once:!0}),r?yk(i,o):i.dispatchEvent(o)}var oX=Dp,sX=kN,Rg=0;function DN(){m.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??PC()),document.body.insertAdjacentElement("beforeend",t[1]??PC()),Rg++,()=>{Rg===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),Rg--}},[])}function PC(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var kg="focusScope.autoFocusOnMount",Ng="focusScope.autoFocusOnUnmount",IC={bubbles:!1,cancelable:!0},aX="FocusScope",k1=m.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:i,onUnmountAutoFocus:o,...s}=t,[a,l]=m.useState(null),c=Wt(i),u=Wt(o),f=m.useRef(null),h=lt(e,v=>l(v)),g=m.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;m.useEffect(()=>{if(r){let v=function(b){if(g.paused||!a)return;const I=b.target;a.contains(I)?f.current=I:Fi(f.current,{select:!0})},E=function(b){if(g.paused||!a)return;const I=b.relatedTarget;I!==null&&(a.contains(I)||Fi(f.current,{select:!0}))},_=function(b){if(document.activeElement===document.body)for(const N of b)N.removedNodes.length>0&&Fi(a)};document.addEventListener("focusin",v),document.addEventListener("focusout",E);const y=new MutationObserver(_);return a&&y.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",v),document.removeEventListener("focusout",E),y.disconnect()}}},[r,a,g.paused]),m.useEffect(()=>{if(a){RC.add(g);const v=document.activeElement;if(!a.contains(v)){const _=new CustomEvent(kg,IC);a.addEventListener(kg,c),a.dispatchEvent(_),_.defaultPrevented||(lX(hX(MN(a)),{select:!0}),document.activeElement===v&&Fi(a))}return()=>{a.removeEventListener(kg,c),setTimeout(()=>{const _=new CustomEvent(Ng,IC);a.addEventListener(Ng,u),a.dispatchEvent(_),_.defaultPrevented||Fi(v??document.body,{select:!0}),a.removeEventListener(Ng,u),RC.remove(g)},0)}}},[a,c,u,g]);const w=m.useCallback(v=>{if(!n&&!r||g.paused)return;const E=v.key==="Tab"&&!v.altKey&&!v.ctrlKey&&!v.metaKey,_=document.activeElement;if(E&&_){const y=v.currentTarget,[b,I]=cX(y);b&&I?!v.shiftKey&&_===I?(v.preventDefault(),n&&Fi(b,{select:!0})):v.shiftKey&&_===b&&(v.preventDefault(),n&&Fi(I,{select:!0})):_===y&&v.preventDefault()}},[n,r,g.paused]);return p.jsx(ze.div,{tabIndex:-1,...s,ref:h,onKeyDown:w})});k1.displayName=aX;function lX(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(Fi(r,{select:e}),document.activeElement!==n)return}function cX(t){const e=MN(t),n=AC(e,t),r=AC(e.reverse(),t);return[n,r]}function MN(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function AC(t,e){for(const n of t)if(!uX(n,{upTo:e}))return n}function uX(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function dX(t){return t instanceof HTMLInputElement&&"select"in t}function Fi(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&dX(t)&&e&&t.select()}}var RC=fX();function fX(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=kC(t,e),t.unshift(e)},remove(e){var n;t=kC(t,e),(n=t[0])==null||n.resume()}}}function kC(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function hX(t){return t.filter(e=>e.tagName!=="A")}var pX=jh[" useId ".trim().toString()]||(()=>{}),mX=0;function xf(t){const[e,n]=m.useState(pX());return Br(()=>{t||n(r=>r??String(mX++))},[t]),t||(e?`radix-${e}`:"")}const gX=["top","right","bottom","left"],ko=Math.min,kn=Math.max,Rh=Math.round,Fd=Math.floor,Fr=t=>({x:t,y:t}),vX={left:"right",right:"left",bottom:"top",top:"bottom"},yX={start:"end",end:"start"};function jy(t,e,n){return kn(t,ko(e,n))}function xi(t,e){return typeof t=="function"?t(e):t}function Ei(t){return t.split("-")[0]}function wl(t){return t.split("-")[1]}function N1(t){return t==="x"?"y":"x"}function D1(t){return t==="y"?"height":"width"}function ui(t){return["top","bottom"].includes(Ei(t))?"y":"x"}function M1(t){return N1(ui(t))}function wX(t,e,n){n===void 0&&(n=!1);const r=wl(t),i=M1(t),o=D1(i);let s=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[o]>e.floating[o]&&(s=kh(s)),[s,kh(s)]}function _X(t){const e=kh(t);return[Fy(t),e,Fy(e)]}function Fy(t){return t.replace(/start|end/g,e=>yX[e])}function xX(t,e,n){const r=["left","right"],i=["right","left"],o=["top","bottom"],s=["bottom","top"];switch(t){case"top":case"bottom":return n?e?i:r:e?r:i;case"left":case"right":return e?o:s;default:return[]}}function EX(t,e,n,r){const i=wl(t);let o=xX(Ei(t),n==="start",r);return i&&(o=o.map(s=>s+"-"+i),e&&(o=o.concat(o.map(Fy)))),o}function kh(t){return t.replace(/left|right|bottom|top/g,e=>vX[e])}function bX(t){return{top:0,right:0,bottom:0,left:0,...t}}function ON(t){return typeof t!="number"?bX(t):{top:t,right:t,bottom:t,left:t}}function Nh(t){const{x:e,y:n,width:r,height:i}=t;return{width:r,height:i,top:n,left:e,right:e+r,bottom:n+i,x:e,y:n}}function NC(t,e,n){let{reference:r,floating:i}=t;const o=ui(e),s=M1(e),a=D1(s),l=Ei(e),c=o==="y",u=r.x+r.width/2-i.width/2,f=r.y+r.height/2-i.height/2,h=r[a]/2-i[a]/2;let g;switch(l){case"top":g={x:u,y:r.y-i.height};break;case"bottom":g={x:u,y:r.y+r.height};break;case"right":g={x:r.x+r.width,y:f};break;case"left":g={x:r.x-i.width,y:f};break;default:g={x:r.x,y:r.y}}switch(wl(e)){case"start":g[s]-=h*(n&&c?-1:1);break;case"end":g[s]+=h*(n&&c?-1:1);break}return g}const TX=async(t,e,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:o=[],platform:s}=n,a=o.filter(Boolean),l=await(s.isRTL==null?void 0:s.isRTL(e));let c=await s.getElementRects({reference:t,floating:e,strategy:i}),{x:u,y:f}=NC(c,r,l),h=r,g={},w=0;for(let v=0;v<a.length;v++){const{name:E,fn:_}=a[v],{x:y,y:b,data:I,reset:N}=await _({x:u,y:f,initialPlacement:r,placement:h,strategy:i,middlewareData:g,rects:c,platform:s,elements:{reference:t,floating:e}});u=y??u,f=b??f,g={...g,[E]:{...g[E],...I}},N&&w<=50&&(w++,typeof N=="object"&&(N.placement&&(h=N.placement),N.rects&&(c=N.rects===!0?await s.getElementRects({reference:t,floating:e,strategy:i}):N.rects),{x:u,y:f}=NC(c,h,l)),v=-1)}return{x:u,y:f,placement:h,strategy:i,middlewareData:g}};async function fu(t,e){var n;e===void 0&&(e={});const{x:r,y:i,platform:o,rects:s,elements:a,strategy:l}=t,{boundary:c="clippingAncestors",rootBoundary:u="viewport",elementContext:f="floating",altBoundary:h=!1,padding:g=0}=xi(e,t),w=ON(g),E=a[h?f==="floating"?"reference":"floating":f],_=Nh(await o.getClippingRect({element:(n=await(o.isElement==null?void 0:o.isElement(E)))==null||n?E:E.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(a.floating)),boundary:c,rootBoundary:u,strategy:l})),y=f==="floating"?{x:r,y:i,width:s.floating.width,height:s.floating.height}:s.reference,b=await(o.getOffsetParent==null?void 0:o.getOffsetParent(a.floating)),I=await(o.isElement==null?void 0:o.isElement(b))?await(o.getScale==null?void 0:o.getScale(b))||{x:1,y:1}:{x:1,y:1},N=Nh(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:y,offsetParent:b,strategy:l}):y);return{top:(_.top-N.top+w.top)/I.y,bottom:(N.bottom-_.bottom+w.bottom)/I.y,left:(_.left-N.left+w.left)/I.x,right:(N.right-_.right+w.right)/I.x}}const CX=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:i,rects:o,platform:s,elements:a,middlewareData:l}=e,{element:c,padding:u=0}=xi(t,e)||{};if(c==null)return{};const f=ON(u),h={x:n,y:r},g=M1(i),w=D1(g),v=await s.getDimensions(c),E=g==="y",_=E?"top":"left",y=E?"bottom":"right",b=E?"clientHeight":"clientWidth",I=o.reference[w]+o.reference[g]-h[g]-o.floating[w],N=h[g]-o.reference[g],O=await(s.getOffsetParent==null?void 0:s.getOffsetParent(c));let S=O?O[b]:0;(!S||!await(s.isElement==null?void 0:s.isElement(O)))&&(S=a.floating[b]||o.floating[w]);const C=I/2-N/2,P=S/2-v[w]/2-1,A=ko(f[_],P),M=ko(f[y],P),D=A,k=S-v[w]-M,B=S/2-v[w]/2+C,G=jy(D,B,k),Y=!l.arrow&&wl(i)!=null&&B!==G&&o.reference[w]/2-(B<D?A:M)-v[w]/2<0,z=Y?B<D?B-D:B-k:0;return{[g]:h[g]+z,data:{[g]:G,centerOffset:B-G-z,...Y&&{alignmentOffset:z}},reset:Y}}}),SX=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:i,middlewareData:o,rects:s,initialPlacement:a,platform:l,elements:c}=e,{mainAxis:u=!0,crossAxis:f=!0,fallbackPlacements:h,fallbackStrategy:g="bestFit",fallbackAxisSideDirection:w="none",flipAlignment:v=!0,...E}=xi(t,e);if((n=o.arrow)!=null&&n.alignmentOffset)return{};const _=Ei(i),y=ui(a),b=Ei(a)===a,I=await(l.isRTL==null?void 0:l.isRTL(c.floating)),N=h||(b||!v?[kh(a)]:_X(a)),O=w!=="none";!h&&O&&N.push(...EX(a,v,w,I));const S=[a,...N],C=await fu(e,E),P=[];let A=((r=o.flip)==null?void 0:r.overflows)||[];if(u&&P.push(C[_]),f){const G=wX(i,s,I);P.push(C[G[0]],C[G[1]])}if(A=[...A,{placement:i,overflows:P}],!P.every(G=>G<=0)){var M,D;const G=(((M=o.flip)==null?void 0:M.index)||0)+1,Y=S[G];if(Y){var k;const L=f==="alignment"?y!==ui(Y):!1,V=((k=A[0])==null?void 0:k.overflows[0])>0;if(!L||V)return{data:{index:G,overflows:A},reset:{placement:Y}}}let z=(D=A.filter(L=>L.overflows[0]<=0).sort((L,V)=>L.overflows[1]-V.overflows[1])[0])==null?void 0:D.placement;if(!z)switch(g){case"bestFit":{var B;const L=(B=A.filter(V=>{if(O){const $=ui(V.placement);return $===y||$==="y"}return!0}).map(V=>[V.placement,V.overflows.filter($=>$>0).reduce(($,F)=>$+F,0)]).sort((V,$)=>V[1]-$[1])[0])==null?void 0:B[0];L&&(z=L);break}case"initialPlacement":z=a;break}if(i!==z)return{reset:{placement:z}}}return{}}}};function DC(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function MC(t){return gX.some(e=>t[e]>=0)}const PX=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...i}=xi(t,e);switch(r){case"referenceHidden":{const o=await fu(e,{...i,elementContext:"reference"}),s=DC(o,n.reference);return{data:{referenceHiddenOffsets:s,referenceHidden:MC(s)}}}case"escaped":{const o=await fu(e,{...i,altBoundary:!0}),s=DC(o,n.floating);return{data:{escapedOffsets:s,escaped:MC(s)}}}default:return{}}}}};async function IX(t,e){const{placement:n,platform:r,elements:i}=t,o=await(r.isRTL==null?void 0:r.isRTL(i.floating)),s=Ei(n),a=wl(n),l=ui(n)==="y",c=["left","top"].includes(s)?-1:1,u=o&&l?-1:1,f=xi(e,t);let{mainAxis:h,crossAxis:g,alignmentAxis:w}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return a&&typeof w=="number"&&(g=a==="end"?w*-1:w),l?{x:g*u,y:h*c}:{x:h*c,y:g*u}}const AX=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:i,y:o,placement:s,middlewareData:a}=e,l=await IX(e,t);return s===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:i+l.x,y:o+l.y,data:{...l,placement:s}}}}},RX=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:i}=e,{mainAxis:o=!0,crossAxis:s=!1,limiter:a={fn:E=>{let{x:_,y}=E;return{x:_,y}}},...l}=xi(t,e),c={x:n,y:r},u=await fu(e,l),f=ui(Ei(i)),h=N1(f);let g=c[h],w=c[f];if(o){const E=h==="y"?"top":"left",_=h==="y"?"bottom":"right",y=g+u[E],b=g-u[_];g=jy(y,g,b)}if(s){const E=f==="y"?"top":"left",_=f==="y"?"bottom":"right",y=w+u[E],b=w-u[_];w=jy(y,w,b)}const v=a.fn({...e,[h]:g,[f]:w});return{...v,data:{x:v.x-n,y:v.y-r,enabled:{[h]:o,[f]:s}}}}}},kX=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:i,rects:o,middlewareData:s}=e,{offset:a=0,mainAxis:l=!0,crossAxis:c=!0}=xi(t,e),u={x:n,y:r},f=ui(i),h=N1(f);let g=u[h],w=u[f];const v=xi(a,e),E=typeof v=="number"?{mainAxis:v,crossAxis:0}:{mainAxis:0,crossAxis:0,...v};if(l){const b=h==="y"?"height":"width",I=o.reference[h]-o.floating[b]+E.mainAxis,N=o.reference[h]+o.reference[b]-E.mainAxis;g<I?g=I:g>N&&(g=N)}if(c){var _,y;const b=h==="y"?"width":"height",I=["top","left"].includes(Ei(i)),N=o.reference[f]-o.floating[b]+(I&&((_=s.offset)==null?void 0:_[f])||0)+(I?0:E.crossAxis),O=o.reference[f]+o.reference[b]+(I?0:((y=s.offset)==null?void 0:y[f])||0)-(I?E.crossAxis:0);w<N?w=N:w>O&&(w=O)}return{[h]:g,[f]:w}}}},NX=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:i,rects:o,platform:s,elements:a}=e,{apply:l=()=>{},...c}=xi(t,e),u=await fu(e,c),f=Ei(i),h=wl(i),g=ui(i)==="y",{width:w,height:v}=o.floating;let E,_;f==="top"||f==="bottom"?(E=f,_=h===(await(s.isRTL==null?void 0:s.isRTL(a.floating))?"start":"end")?"left":"right"):(_=f,E=h==="end"?"top":"bottom");const y=v-u.top-u.bottom,b=w-u.left-u.right,I=ko(v-u[E],y),N=ko(w-u[_],b),O=!e.middlewareData.shift;let S=I,C=N;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(C=b),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(S=y),O&&!h){const A=kn(u.left,0),M=kn(u.right,0),D=kn(u.top,0),k=kn(u.bottom,0);g?C=w-2*(A!==0||M!==0?A+M:kn(u.left,u.right)):S=v-2*(D!==0||k!==0?D+k:kn(u.top,u.bottom))}await l({...e,availableWidth:C,availableHeight:S});const P=await s.getDimensions(a.floating);return w!==P.width||v!==P.height?{reset:{rects:!0}}:{}}}};function Mp(){return typeof window<"u"}function _l(t){return LN(t)?(t.nodeName||"").toLowerCase():"#document"}function On(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Hr(t){var e;return(e=(LN(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function LN(t){return Mp()?t instanceof Node||t instanceof On(t).Node:!1}function gr(t){return Mp()?t instanceof Element||t instanceof On(t).Element:!1}function Wr(t){return Mp()?t instanceof HTMLElement||t instanceof On(t).HTMLElement:!1}function OC(t){return!Mp()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof On(t).ShadowRoot}function Wu(t){const{overflow:e,overflowX:n,overflowY:r,display:i}=vr(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!["inline","contents"].includes(i)}function DX(t){return["table","td","th"].includes(_l(t))}function Op(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function O1(t){const e=L1(),n=gr(t)?vr(t):t;return["transform","translate","scale","rotate","perspective"].some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function MX(t){let e=No(t);for(;Wr(e)&&!Xa(e);){if(O1(e))return e;if(Op(e))return null;e=No(e)}return null}function L1(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Xa(t){return["html","body","#document"].includes(_l(t))}function vr(t){return On(t).getComputedStyle(t)}function Lp(t){return gr(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function No(t){if(_l(t)==="html")return t;const e=t.assignedSlot||t.parentNode||OC(t)&&t.host||Hr(t);return OC(e)?e.host:e}function VN(t){const e=No(t);return Xa(e)?t.ownerDocument?t.ownerDocument.body:t.body:Wr(e)&&Wu(e)?e:VN(e)}function hu(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const i=VN(t),o=i===((r=t.ownerDocument)==null?void 0:r.body),s=On(i);if(o){const a=$y(s);return e.concat(s,s.visualViewport||[],Wu(i)?i:[],a&&n?hu(a):[])}return e.concat(i,hu(i,[],n))}function $y(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function jN(t){const e=vr(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=Wr(t),o=i?t.offsetWidth:n,s=i?t.offsetHeight:r,a=Rh(n)!==o||Rh(r)!==s;return a&&(n=o,r=s),{width:n,height:r,$:a}}function V1(t){return gr(t)?t:t.contextElement}function Aa(t){const e=V1(t);if(!Wr(e))return Fr(1);const n=e.getBoundingClientRect(),{width:r,height:i,$:o}=jN(e);let s=(o?Rh(n.width):n.width)/r,a=(o?Rh(n.height):n.height)/i;return(!s||!Number.isFinite(s))&&(s=1),(!a||!Number.isFinite(a))&&(a=1),{x:s,y:a}}const OX=Fr(0);function FN(t){const e=On(t);return!L1()||!e.visualViewport?OX:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function LX(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==On(t)?!1:e}function Ts(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const i=t.getBoundingClientRect(),o=V1(t);let s=Fr(1);e&&(r?gr(r)&&(s=Aa(r)):s=Aa(t));const a=LX(o,n,r)?FN(o):Fr(0);let l=(i.left+a.x)/s.x,c=(i.top+a.y)/s.y,u=i.width/s.x,f=i.height/s.y;if(o){const h=On(o),g=r&&gr(r)?On(r):r;let w=h,v=$y(w);for(;v&&r&&g!==w;){const E=Aa(v),_=v.getBoundingClientRect(),y=vr(v),b=_.left+(v.clientLeft+parseFloat(y.paddingLeft))*E.x,I=_.top+(v.clientTop+parseFloat(y.paddingTop))*E.y;l*=E.x,c*=E.y,u*=E.x,f*=E.y,l+=b,c+=I,w=On(v),v=$y(w)}}return Nh({width:u,height:f,x:l,y:c})}function j1(t,e){const n=Lp(t).scrollLeft;return e?e.left+n:Ts(Hr(t)).left+n}function $N(t,e,n){n===void 0&&(n=!1);const r=t.getBoundingClientRect(),i=r.left+e.scrollLeft-(n?0:j1(t,r)),o=r.top+e.scrollTop;return{x:i,y:o}}function VX(t){let{elements:e,rect:n,offsetParent:r,strategy:i}=t;const o=i==="fixed",s=Hr(r),a=e?Op(e.floating):!1;if(r===s||a&&o)return n;let l={scrollLeft:0,scrollTop:0},c=Fr(1);const u=Fr(0),f=Wr(r);if((f||!f&&!o)&&((_l(r)!=="body"||Wu(s))&&(l=Lp(r)),Wr(r))){const g=Ts(r);c=Aa(r),u.x=g.x+r.clientLeft,u.y=g.y+r.clientTop}const h=s&&!f&&!o?$N(s,l,!0):Fr(0);return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-l.scrollLeft*c.x+u.x+h.x,y:n.y*c.y-l.scrollTop*c.y+u.y+h.y}}function jX(t){return Array.from(t.getClientRects())}function FX(t){const e=Hr(t),n=Lp(t),r=t.ownerDocument.body,i=kn(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),o=kn(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let s=-n.scrollLeft+j1(t);const a=-n.scrollTop;return vr(r).direction==="rtl"&&(s+=kn(e.clientWidth,r.clientWidth)-i),{width:i,height:o,x:s,y:a}}function $X(t,e){const n=On(t),r=Hr(t),i=n.visualViewport;let o=r.clientWidth,s=r.clientHeight,a=0,l=0;if(i){o=i.width,s=i.height;const c=L1();(!c||c&&e==="fixed")&&(a=i.offsetLeft,l=i.offsetTop)}return{width:o,height:s,x:a,y:l}}function UX(t,e){const n=Ts(t,!0,e==="fixed"),r=n.top+t.clientTop,i=n.left+t.clientLeft,o=Wr(t)?Aa(t):Fr(1),s=t.clientWidth*o.x,a=t.clientHeight*o.y,l=i*o.x,c=r*o.y;return{width:s,height:a,x:l,y:c}}function LC(t,e,n){let r;if(e==="viewport")r=$X(t,n);else if(e==="document")r=FX(Hr(t));else if(gr(e))r=UX(e,n);else{const i=FN(t);r={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return Nh(r)}function UN(t,e){const n=No(t);return n===e||!gr(n)||Xa(n)?!1:vr(n).position==="fixed"||UN(n,e)}function BX(t,e){const n=e.get(t);if(n)return n;let r=hu(t,[],!1).filter(a=>gr(a)&&_l(a)!=="body"),i=null;const o=vr(t).position==="fixed";let s=o?No(t):t;for(;gr(s)&&!Xa(s);){const a=vr(s),l=O1(s);!l&&a.position==="fixed"&&(i=null),(o?!l&&!i:!l&&a.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||Wu(s)&&!l&&UN(t,s))?r=r.filter(u=>u!==s):i=a,s=No(s)}return e.set(t,r),r}function WX(t){let{element:e,boundary:n,rootBoundary:r,strategy:i}=t;const s=[...n==="clippingAncestors"?Op(e)?[]:BX(e,this._c):[].concat(n),r],a=s[0],l=s.reduce((c,u)=>{const f=LC(e,u,i);return c.top=kn(f.top,c.top),c.right=ko(f.right,c.right),c.bottom=ko(f.bottom,c.bottom),c.left=kn(f.left,c.left),c},LC(e,a,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function zX(t){const{width:e,height:n}=jN(t);return{width:e,height:n}}function HX(t,e,n){const r=Wr(e),i=Hr(e),o=n==="fixed",s=Ts(t,!0,o,e);let a={scrollLeft:0,scrollTop:0};const l=Fr(0);function c(){l.x=j1(i)}if(r||!r&&!o)if((_l(e)!=="body"||Wu(i))&&(a=Lp(e)),r){const g=Ts(e,!0,o,e);l.x=g.x+e.clientLeft,l.y=g.y+e.clientTop}else i&&c();o&&!r&&i&&c();const u=i&&!r&&!o?$N(i,a):Fr(0),f=s.left+a.scrollLeft-l.x-u.x,h=s.top+a.scrollTop-l.y-u.y;return{x:f,y:h,width:s.width,height:s.height}}function Dg(t){return vr(t).position==="static"}function VC(t,e){if(!Wr(t)||vr(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return Hr(t)===n&&(n=n.ownerDocument.body),n}function BN(t,e){const n=On(t);if(Op(t))return n;if(!Wr(t)){let i=No(t);for(;i&&!Xa(i);){if(gr(i)&&!Dg(i))return i;i=No(i)}return n}let r=VC(t,e);for(;r&&DX(r)&&Dg(r);)r=VC(r,e);return r&&Xa(r)&&Dg(r)&&!O1(r)?n:r||MX(t)||n}const qX=async function(t){const e=this.getOffsetParent||BN,n=this.getDimensions,r=await n(t.floating);return{reference:HX(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function GX(t){return vr(t).direction==="rtl"}const YX={convertOffsetParentRelativeRectToViewportRelativeRect:VX,getDocumentElement:Hr,getClippingRect:WX,getOffsetParent:BN,getElementRects:qX,getClientRects:jX,getDimensions:zX,getScale:Aa,isElement:gr,isRTL:GX};function WN(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function KX(t,e){let n=null,r;const i=Hr(t);function o(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function s(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),o();const c=t.getBoundingClientRect(),{left:u,top:f,width:h,height:g}=c;if(a||e(),!h||!g)return;const w=Fd(f),v=Fd(i.clientWidth-(u+h)),E=Fd(i.clientHeight-(f+g)),_=Fd(u),b={rootMargin:-w+"px "+-v+"px "+-E+"px "+-_+"px",threshold:kn(0,ko(1,l))||1};let I=!0;function N(O){const S=O[0].intersectionRatio;if(S!==l){if(!I)return s();S?s(!1,S):r=setTimeout(()=>{s(!1,1e-7)},1e3)}S===1&&!WN(c,t.getBoundingClientRect())&&s(),I=!1}try{n=new IntersectionObserver(N,{...b,root:i.ownerDocument})}catch{n=new IntersectionObserver(N,b)}n.observe(t)}return s(!0),o}function zN(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:o=!0,elementResize:s=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,c=V1(t),u=i||o?[...c?hu(c):[],...hu(e)]:[];u.forEach(_=>{i&&_.addEventListener("scroll",n,{passive:!0}),o&&_.addEventListener("resize",n)});const f=c&&a?KX(c,n):null;let h=-1,g=null;s&&(g=new ResizeObserver(_=>{let[y]=_;y&&y.target===c&&g&&(g.unobserve(e),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var b;(b=g)==null||b.observe(e)})),n()}),c&&!l&&g.observe(c),g.observe(e));let w,v=l?Ts(t):null;l&&E();function E(){const _=Ts(t);v&&!WN(v,_)&&n(),v=_,w=requestAnimationFrame(E)}return n(),()=>{var _;u.forEach(y=>{i&&y.removeEventListener("scroll",n),o&&y.removeEventListener("resize",n)}),f==null||f(),(_=g)==null||_.disconnect(),g=null,l&&cancelAnimationFrame(w)}}const QX=AX,XX=RX,JX=SX,ZX=NX,eJ=PX,jC=CX,tJ=kX,nJ=(t,e,n)=>{const r=new Map,i={platform:YX,...n},o={...i.platform,_c:r};return TX(t,e,{...i,platform:o})};var Ef=typeof document<"u"?m.useLayoutEffect:m.useEffect;function Dh(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,i;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!Dh(t[r],e[r]))return!1;return!0}if(i=Object.keys(t),n=i.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,i[r]))return!1;for(r=n;r--!==0;){const o=i[r];if(!(o==="_owner"&&t.$$typeof)&&!Dh(t[o],e[o]))return!1}return!0}return t!==t&&e!==e}function HN(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function FC(t,e){const n=HN(t);return Math.round(e*n)/n}function Mg(t){const e=m.useRef(t);return Ef(()=>{e.current=t}),e}function qN(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:o,floating:s}={},transform:a=!0,whileElementsMounted:l,open:c}=t,[u,f]=m.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[h,g]=m.useState(r);Dh(h,r)||g(r);const[w,v]=m.useState(null),[E,_]=m.useState(null),y=m.useCallback(L=>{L!==O.current&&(O.current=L,v(L))},[]),b=m.useCallback(L=>{L!==S.current&&(S.current=L,_(L))},[]),I=o||w,N=s||E,O=m.useRef(null),S=m.useRef(null),C=m.useRef(u),P=l!=null,A=Mg(l),M=Mg(i),D=Mg(c),k=m.useCallback(()=>{if(!O.current||!S.current)return;const L={placement:e,strategy:n,middleware:h};M.current&&(L.platform=M.current),nJ(O.current,S.current,L).then(V=>{const $={...V,isPositioned:D.current!==!1};B.current&&!Dh(C.current,$)&&(C.current=$,Lo.flushSync(()=>{f($)}))})},[h,e,n,M,D]);Ef(()=>{c===!1&&C.current.isPositioned&&(C.current.isPositioned=!1,f(L=>({...L,isPositioned:!1})))},[c]);const B=m.useRef(!1);Ef(()=>(B.current=!0,()=>{B.current=!1}),[]),Ef(()=>{if(I&&(O.current=I),N&&(S.current=N),I&&N){if(A.current)return A.current(I,N,k);k()}},[I,N,k,A,P]);const G=m.useMemo(()=>({reference:O,floating:S,setReference:y,setFloating:b}),[y,b]),Y=m.useMemo(()=>({reference:I,floating:N}),[I,N]),z=m.useMemo(()=>{const L={position:n,left:0,top:0};if(!Y.floating)return L;const V=FC(Y.floating,u.x),$=FC(Y.floating,u.y);return a?{...L,transform:"translate("+V+"px, "+$+"px)",...HN(Y.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:V,top:$}},[n,a,Y.floating,u.x,u.y]);return m.useMemo(()=>({...u,update:k,refs:G,elements:Y,floatingStyles:z}),[u,k,G,Y,z])}const rJ=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:i}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?jC({element:r.current,padding:i}).fn(n):{}:r?jC({element:r,padding:i}).fn(n):{}}}},GN=(t,e)=>({...QX(t),options:[t,e]}),YN=(t,e)=>({...XX(t),options:[t,e]}),KN=(t,e)=>({...tJ(t),options:[t,e]}),QN=(t,e)=>({...JX(t),options:[t,e]}),XN=(t,e)=>({...ZX(t),options:[t,e]}),JN=(t,e)=>({...eJ(t),options:[t,e]}),ZN=(t,e)=>({...rJ(t),options:[t,e]});var iJ="Arrow",eD=m.forwardRef((t,e)=>{const{children:n,width:r=10,height:i=5,...o}=t;return p.jsx(ze.svg,{...o,ref:e,width:r,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:p.jsx("polygon",{points:"0,0 30,0 15,10"})})});eD.displayName=iJ;var oJ=eD,F1="Popper",[tD,nD]=Ms(F1),[sJ,rD]=tD(F1),iD=t=>{const{__scopePopper:e,children:n}=t,[r,i]=m.useState(null);return p.jsx(sJ,{scope:e,anchor:r,onAnchorChange:i,children:n})};iD.displayName=F1;var oD="PopperAnchor",sD=m.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...i}=t,o=rD(oD,n),s=m.useRef(null),a=lt(e,s);return m.useEffect(()=>{o.onAnchorChange((r==null?void 0:r.current)||s.current)}),r?null:p.jsx(ze.div,{...i,ref:a})});sD.displayName=oD;var $1="PopperContent",[aJ,lJ]=tD($1),aD=m.forwardRef((t,e)=>{var X,ae,le,re,me,Ce;const{__scopePopper:n,side:r="bottom",sideOffset:i=0,align:o="center",alignOffset:s=0,arrowPadding:a=0,avoidCollisions:l=!0,collisionBoundary:c=[],collisionPadding:u=0,sticky:f="partial",hideWhenDetached:h=!1,updatePositionStrategy:g="optimized",onPlaced:w,...v}=t,E=rD($1,n),[_,y]=m.useState(null),b=lt(e,Ke=>y(Ke)),[I,N]=m.useState(null),O=uN(I),S=(O==null?void 0:O.width)??0,C=(O==null?void 0:O.height)??0,P=r+(o!=="center"?"-"+o:""),A=typeof u=="number"?u:{top:0,right:0,bottom:0,left:0,...u},M=Array.isArray(c)?c:[c],D=M.length>0,k={padding:A,boundary:M.filter(uJ),altBoundary:D},{refs:B,floatingStyles:G,placement:Y,isPositioned:z,middlewareData:L}=qN({strategy:"fixed",placement:P,whileElementsMounted:(...Ke)=>zN(...Ke,{animationFrame:g==="always"}),elements:{reference:E.anchor},middleware:[GN({mainAxis:i+C,alignmentAxis:s}),l&&YN({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?KN():void 0,...k}),l&&QN({...k}),XN({...k,apply:({elements:Ke,rects:st,availableWidth:Dt,availableHeight:Zn})=>{const{width:wr,height:El}=st.reference,Gr=Ke.floating.style;Gr.setProperty("--radix-popper-available-width",`${Dt}px`),Gr.setProperty("--radix-popper-available-height",`${Zn}px`),Gr.setProperty("--radix-popper-anchor-width",`${wr}px`),Gr.setProperty("--radix-popper-anchor-height",`${El}px`)}}),I&&ZN({element:I,padding:a}),dJ({arrowWidth:S,arrowHeight:C}),h&&JN({strategy:"referenceHidden",...k})]}),[V,$]=uD(Y),F=Wt(w);Br(()=>{z&&(F==null||F())},[z,F]);const W=(X=L.arrow)==null?void 0:X.x,K=(ae=L.arrow)==null?void 0:ae.y,oe=((le=L.arrow)==null?void 0:le.centerOffset)!==0,[pe,ce]=m.useState();return Br(()=>{_&&ce(window.getComputedStyle(_).zIndex)},[_]),p.jsx("div",{ref:B.setFloating,"data-radix-popper-content-wrapper":"",style:{...G,transform:z?G.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:pe,"--radix-popper-transform-origin":[(re=L.transformOrigin)==null?void 0:re.x,(me=L.transformOrigin)==null?void 0:me.y].join(" "),...((Ce=L.hide)==null?void 0:Ce.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:p.jsx(aJ,{scope:n,placedSide:V,onArrowChange:N,arrowX:W,arrowY:K,shouldHideArrow:oe,children:p.jsx(ze.div,{"data-side":V,"data-align":$,...v,ref:b,style:{...v.style,animation:z?void 0:"none"}})})})});aD.displayName=$1;var lD="PopperArrow",cJ={top:"bottom",right:"left",bottom:"top",left:"right"},cD=m.forwardRef(function(e,n){const{__scopePopper:r,...i}=e,o=lJ(lD,r),s=cJ[o.placedSide];return p.jsx("span",{ref:o.onArrowChange,style:{position:"absolute",left:o.arrowX,top:o.arrowY,[s]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[o.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[o.placedSide],visibility:o.shouldHideArrow?"hidden":void 0},children:p.jsx(oJ,{...i,ref:n,style:{...i.style,display:"block"}})})});cD.displayName=lD;function uJ(t){return t!==null}var dJ=t=>({name:"transformOrigin",options:t,fn(e){var E,_,y;const{placement:n,rects:r,middlewareData:i}=e,s=((E=i.arrow)==null?void 0:E.centerOffset)!==0,a=s?0:t.arrowWidth,l=s?0:t.arrowHeight,[c,u]=uD(n),f={start:"0%",center:"50%",end:"100%"}[u],h=(((_=i.arrow)==null?void 0:_.x)??0)+a/2,g=(((y=i.arrow)==null?void 0:y.y)??0)+l/2;let w="",v="";return c==="bottom"?(w=s?f:`${h}px`,v=`${-l}px`):c==="top"?(w=s?f:`${h}px`,v=`${r.floating.height+l}px`):c==="right"?(w=`${-l}px`,v=s?f:`${g}px`):c==="left"&&(w=`${r.floating.width+l}px`,v=s?f:`${g}px`),{data:{x:w,y:v}}}});function uD(t){const[e,n="center"]=t.split("-");return[e,n]}var fJ=iD,dD=sD,hJ=aD,pJ=cD,mJ="Portal",Vp=m.forwardRef((t,e)=>{var a;const{container:n,...r}=t,[i,o]=m.useState(!1);Br(()=>o(!0),[]);const s=n||i&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return s?SI.createPortal(p.jsx(ze.div,{...r,ref:e}),s):null});Vp.displayName=mJ;var gJ=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},Bs=new WeakMap,$d=new WeakMap,Ud={},Og=0,fD=function(t){return t&&(t.host||fD(t.parentNode))},vJ=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=fD(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},yJ=function(t,e,n,r){var i=vJ(e,Array.isArray(t)?t:[t]);Ud[n]||(Ud[n]=new WeakMap);var o=Ud[n],s=[],a=new Set,l=new Set(i),c=function(f){!f||a.has(f)||(a.add(f),c(f.parentNode))};i.forEach(c);var u=function(f){!f||l.has(f)||Array.prototype.forEach.call(f.children,function(h){if(a.has(h))u(h);else try{var g=h.getAttribute(r),w=g!==null&&g!=="false",v=(Bs.get(h)||0)+1,E=(o.get(h)||0)+1;Bs.set(h,v),o.set(h,E),s.push(h),v===1&&w&&$d.set(h,!0),E===1&&h.setAttribute(n,"true"),w||h.setAttribute(r,"true")}catch(_){console.error("aria-hidden: cannot operate on ",h,_)}})};return u(e),a.clear(),Og++,function(){s.forEach(function(f){var h=Bs.get(f)-1,g=o.get(f)-1;Bs.set(f,h),o.set(f,g),h||($d.has(f)||f.removeAttribute(r),$d.delete(f)),g||f.removeAttribute(n)}),Og--,Og||(Bs=new WeakMap,Bs=new WeakMap,$d=new WeakMap,Ud={})}},U1=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),i=e||gJ(t);return i?(r.push.apply(r,Array.from(i.querySelectorAll("[aria-live], script"))),yJ(r,i,n,"aria-hidden")):function(){return null}},rn=function(){return rn=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},rn.apply(this,arguments)};function B1(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function hD(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,o;r<i;r++)(o||!(r in e))&&(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return t.concat(o||Array.prototype.slice.call(e))}var Ic="right-scroll-bar-position",Ac="width-before-scroll-bar",wJ="with-scroll-bars-hidden",_J="--removed-body-scroll-bar-size";function Lg(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function xJ(t,e){var n=m.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var i=n.value;i!==r&&(n.value=r,n.callback(r,i))}}}})[0];return n.callback=e,n.facade}var EJ=typeof window<"u"?m.useLayoutEffect:m.useEffect,$C=new WeakMap;function pD(t,e){var n=xJ(e||null,function(r){return t.forEach(function(i){return Lg(i,r)})});return EJ(function(){var r=$C.get(n);if(r){var i=new Set(r),o=new Set(t),s=n.current;i.forEach(function(a){o.has(a)||Lg(a,null)}),o.forEach(function(a){i.has(a)||Lg(a,s)})}$C.set(n,t)},[t]),n}function bJ(t){return t}function TJ(t,e){e===void 0&&(e=bJ);var n=[],r=!1,i={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(o){var s=e(o,r);return n.push(s),function(){n=n.filter(function(a){return a!==s})}},assignSyncMedium:function(o){for(r=!0;n.length;){var s=n;n=[],s.forEach(o)}n={push:function(a){return o(a)},filter:function(){return n}}},assignMedium:function(o){r=!0;var s=[];if(n.length){var a=n;n=[],a.forEach(o),s=n}var l=function(){var u=s;s=[],u.forEach(o)},c=function(){return Promise.resolve().then(l)};c(),n={push:function(u){s.push(u),c()},filter:function(u){return s=s.filter(u),n}}}};return i}function mD(t){t===void 0&&(t={});var e=TJ(null);return e.options=rn({async:!0,ssr:!1},t),e}var gD=function(t){var e=t.sideCar,n=B1(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return m.createElement(r,rn({},n))};gD.isSideCarExport=!0;function vD(t,e){return t.useMedium(e),gD}var yD=mD(),Vg=function(){},jp=m.forwardRef(function(t,e){var n=m.useRef(null),r=m.useState({onScrollCapture:Vg,onWheelCapture:Vg,onTouchMoveCapture:Vg}),i=r[0],o=r[1],s=t.forwardProps,a=t.children,l=t.className,c=t.removeScrollBar,u=t.enabled,f=t.shards,h=t.sideCar,g=t.noRelative,w=t.noIsolation,v=t.inert,E=t.allowPinchZoom,_=t.as,y=_===void 0?"div":_,b=t.gapMode,I=B1(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),N=h,O=pD([n,e]),S=rn(rn({},I),i);return m.createElement(m.Fragment,null,u&&m.createElement(N,{sideCar:yD,removeScrollBar:c,shards:f,noRelative:g,noIsolation:w,inert:v,setCallbacks:o,allowPinchZoom:!!E,lockRef:n,gapMode:b}),s?m.cloneElement(m.Children.only(a),rn(rn({},S),{ref:O})):m.createElement(y,rn({},S,{className:l,ref:O}),a))});jp.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};jp.classNames={fullWidth:Ac,zeroRight:Ic};var UC,CJ=function(){if(UC)return UC;if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function SJ(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=CJ();return e&&t.setAttribute("nonce",e),t}function PJ(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function IJ(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var AJ=function(){var t=0,e=null;return{add:function(n){t==0&&(e=SJ())&&(PJ(e,n),IJ(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},RJ=function(){var t=AJ();return function(e,n){m.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},W1=function(){var t=RJ(),e=function(n){var r=n.styles,i=n.dynamic;return t(r,i),null};return e},kJ={left:0,top:0,right:0,gap:0},jg=function(t){return parseInt(t||"",10)||0},NJ=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],i=e[t==="padding"?"paddingRight":"marginRight"];return[jg(n),jg(r),jg(i)]},DJ=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return kJ;var e=NJ(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},MJ=W1(),Ra="data-scroll-locked",OJ=function(t,e,n,r){var i=t.left,o=t.top,s=t.right,a=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(wJ,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(a,"px ").concat(r,`;
  }
  body[`).concat(Ra,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(o,`px;
    padding-right: `).concat(s,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(a,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Ic,` {
    right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(Ac,` {
    margin-right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(Ic," .").concat(Ic,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Ac," .").concat(Ac,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Ra,`] {
    `).concat(_J,": ").concat(a,`px;
  }
`)},BC=function(){var t=parseInt(document.body.getAttribute(Ra)||"0",10);return isFinite(t)?t:0},LJ=function(){m.useEffect(function(){return document.body.setAttribute(Ra,(BC()+1).toString()),function(){var t=BC()-1;t<=0?document.body.removeAttribute(Ra):document.body.setAttribute(Ra,t.toString())}},[])},wD=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,i=r===void 0?"margin":r;LJ();var o=m.useMemo(function(){return DJ(i)},[i]);return m.createElement(MJ,{styles:OJ(o,!e,i,n?"":"!important")})},Uy=!1;if(typeof window<"u")try{var Bd=Object.defineProperty({},"passive",{get:function(){return Uy=!0,!0}});window.addEventListener("test",Bd,Bd),window.removeEventListener("test",Bd,Bd)}catch{Uy=!1}var Ws=Uy?{passive:!1}:!1,VJ=function(t){return t.tagName==="TEXTAREA"},_D=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!VJ(t)&&n[e]==="visible")},jJ=function(t){return _D(t,"overflowY")},FJ=function(t){return _D(t,"overflowX")},WC=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var i=xD(t,r);if(i){var o=ED(t,r),s=o[1],a=o[2];if(s>a)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},$J=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},UJ=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},xD=function(t,e){return t==="v"?jJ(e):FJ(e)},ED=function(t,e){return t==="v"?$J(e):UJ(e)},BJ=function(t,e){return t==="h"&&e==="rtl"?-1:1},WJ=function(t,e,n,r,i){var o=BJ(t,window.getComputedStyle(e).direction),s=o*r,a=n.target,l=e.contains(a),c=!1,u=s>0,f=0,h=0;do{var g=ED(t,a),w=g[0],v=g[1],E=g[2],_=v-E-o*w;(w||_)&&xD(t,a)&&(f+=_,h+=w),a=a.parentNode.host||a.parentNode}while(!l&&a!==document.body||l&&(e.contains(a)||e===a));return(u&&(i&&Math.abs(f)<1||!i&&s>f)||!u&&(i&&Math.abs(h)<1||!i&&-s>h))&&(c=!0),c},Wd=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},zC=function(t){return[t.deltaX,t.deltaY]},HC=function(t){return t&&"current"in t?t.current:t},zJ=function(t,e){return t[0]===e[0]&&t[1]===e[1]},HJ=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},qJ=0,zs=[];function GJ(t){var e=m.useRef([]),n=m.useRef([0,0]),r=m.useRef(),i=m.useState(qJ++)[0],o=m.useState(W1)[0],s=m.useRef(t);m.useEffect(function(){s.current=t},[t]),m.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(i));var v=hD([t.lockRef.current],(t.shards||[]).map(HC),!0).filter(Boolean);return v.forEach(function(E){return E.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),v.forEach(function(E){return E.classList.remove("allow-interactivity-".concat(i))})}}},[t.inert,t.lockRef.current,t.shards]);var a=m.useCallback(function(v,E){if("touches"in v&&v.touches.length===2||v.type==="wheel"&&v.ctrlKey)return!s.current.allowPinchZoom;var _=Wd(v),y=n.current,b="deltaX"in v?v.deltaX:y[0]-_[0],I="deltaY"in v?v.deltaY:y[1]-_[1],N,O=v.target,S=Math.abs(b)>Math.abs(I)?"h":"v";if("touches"in v&&S==="h"&&O.type==="range")return!1;var C=WC(S,O);if(!C)return!0;if(C?N=S:(N=S==="v"?"h":"v",C=WC(S,O)),!C)return!1;if(!r.current&&"changedTouches"in v&&(b||I)&&(r.current=N),!N)return!0;var P=r.current||N;return WJ(P,E,v,P==="h"?b:I,!0)},[]),l=m.useCallback(function(v){var E=v;if(!(!zs.length||zs[zs.length-1]!==o)){var _="deltaY"in E?zC(E):Wd(E),y=e.current.filter(function(N){return N.name===E.type&&(N.target===E.target||E.target===N.shadowParent)&&zJ(N.delta,_)})[0];if(y&&y.should){E.cancelable&&E.preventDefault();return}if(!y){var b=(s.current.shards||[]).map(HC).filter(Boolean).filter(function(N){return N.contains(E.target)}),I=b.length>0?a(E,b[0]):!s.current.noIsolation;I&&E.cancelable&&E.preventDefault()}}},[]),c=m.useCallback(function(v,E,_,y){var b={name:v,delta:E,target:_,should:y,shadowParent:YJ(_)};e.current.push(b),setTimeout(function(){e.current=e.current.filter(function(I){return I!==b})},1)},[]),u=m.useCallback(function(v){n.current=Wd(v),r.current=void 0},[]),f=m.useCallback(function(v){c(v.type,zC(v),v.target,a(v,t.lockRef.current))},[]),h=m.useCallback(function(v){c(v.type,Wd(v),v.target,a(v,t.lockRef.current))},[]);m.useEffect(function(){return zs.push(o),t.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:h}),document.addEventListener("wheel",l,Ws),document.addEventListener("touchmove",l,Ws),document.addEventListener("touchstart",u,Ws),function(){zs=zs.filter(function(v){return v!==o}),document.removeEventListener("wheel",l,Ws),document.removeEventListener("touchmove",l,Ws),document.removeEventListener("touchstart",u,Ws)}},[]);var g=t.removeScrollBar,w=t.inert;return m.createElement(m.Fragment,null,w?m.createElement(o,{styles:HJ(i)}):null,g?m.createElement(wD,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function YJ(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const KJ=vD(yD,GJ);var bD=m.forwardRef(function(t,e){return m.createElement(jp,rn({},t,{ref:e,sideCar:KJ}))});bD.classNames=jp.classNames;const TD=bD;var Fp="Popover",[CD,Nne]=Ms(Fp,[nD]),zu=nD(),[QJ,Bo]=CD(Fp),SD=t=>{const{__scopePopover:e,children:n,open:r,defaultOpen:i,onOpenChange:o,modal:s=!1}=t,a=zu(e),l=m.useRef(null),[c,u]=m.useState(!1),[f,h]=Rp({prop:r,defaultProp:i??!1,onChange:o,caller:Fp});return p.jsx(fJ,{...a,children:p.jsx(QJ,{scope:e,contentId:xf(),triggerRef:l,open:f,onOpenChange:h,onOpenToggle:m.useCallback(()=>h(g=>!g),[h]),hasCustomAnchor:c,onCustomAnchorAdd:m.useCallback(()=>u(!0),[]),onCustomAnchorRemove:m.useCallback(()=>u(!1),[]),modal:s,children:n})})};SD.displayName=Fp;var PD="PopoverAnchor",XJ=m.forwardRef((t,e)=>{const{__scopePopover:n,...r}=t,i=Bo(PD,n),o=zu(n),{onCustomAnchorAdd:s,onCustomAnchorRemove:a}=i;return m.useEffect(()=>(s(),()=>a()),[s,a]),p.jsx(dD,{...o,...r,ref:e})});XJ.displayName=PD;var ID="PopoverTrigger",AD=m.forwardRef((t,e)=>{const{__scopePopover:n,...r}=t,i=Bo(ID,n),o=zu(n),s=lt(e,i.triggerRef),a=p.jsx(ze.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":MD(i.open),...r,ref:s,onClick:Ue(t.onClick,i.onOpenToggle)});return i.hasCustomAnchor?a:p.jsx(dD,{asChild:!0,...o,children:a})});AD.displayName=ID;var z1="PopoverPortal",[JJ,ZJ]=CD(z1,{forceMount:void 0}),RD=t=>{const{__scopePopover:e,forceMount:n,children:r,container:i}=t,o=Bo(z1,e);return p.jsx(JJ,{scope:e,forceMount:n,children:p.jsx(Xn,{present:n||o.open,children:p.jsx(Vp,{asChild:!0,container:i,children:r})})})};RD.displayName=z1;var Ja="PopoverContent",kD=m.forwardRef((t,e)=>{const n=ZJ(Ja,t.__scopePopover),{forceMount:r=n.forceMount,...i}=t,o=Bo(Ja,t.__scopePopover);return p.jsx(Xn,{present:r||o.open,children:o.modal?p.jsx(tZ,{...i,ref:e}):p.jsx(nZ,{...i,ref:e})})});kD.displayName=Ja;var eZ=Ha("PopoverContent.RemoveScroll"),tZ=m.forwardRef((t,e)=>{const n=Bo(Ja,t.__scopePopover),r=m.useRef(null),i=lt(e,r),o=m.useRef(!1);return m.useEffect(()=>{const s=r.current;if(s)return U1(s)},[]),p.jsx(TD,{as:eZ,allowPinchZoom:!0,children:p.jsx(ND,{...t,ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Ue(t.onCloseAutoFocus,s=>{var a;s.preventDefault(),o.current||(a=n.triggerRef.current)==null||a.focus()}),onPointerDownOutside:Ue(t.onPointerDownOutside,s=>{const a=s.detail.originalEvent,l=a.button===0&&a.ctrlKey===!0,c=a.button===2||l;o.current=c},{checkForDefaultPrevented:!1}),onFocusOutside:Ue(t.onFocusOutside,s=>s.preventDefault(),{checkForDefaultPrevented:!1})})})}),nZ=m.forwardRef((t,e)=>{const n=Bo(Ja,t.__scopePopover),r=m.useRef(!1),i=m.useRef(!1);return p.jsx(ND,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{var s,a;(s=t.onCloseAutoFocus)==null||s.call(t,o),o.defaultPrevented||(r.current||(a=n.triggerRef.current)==null||a.focus(),o.preventDefault()),r.current=!1,i.current=!1},onInteractOutside:o=>{var l,c;(l=t.onInteractOutside)==null||l.call(t,o),o.defaultPrevented||(r.current=!0,o.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const s=o.target;((c=n.triggerRef.current)==null?void 0:c.contains(s))&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&i.current&&o.preventDefault()}})}),ND=m.forwardRef((t,e)=>{const{__scopePopover:n,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:o,disableOutsidePointerEvents:s,onEscapeKeyDown:a,onPointerDownOutside:l,onFocusOutside:c,onInteractOutside:u,...f}=t,h=Bo(Ja,n),g=zu(n);return DN(),p.jsx(k1,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:o,children:p.jsx(Dp,{asChild:!0,disableOutsidePointerEvents:s,onInteractOutside:u,onEscapeKeyDown:a,onPointerDownOutside:l,onFocusOutside:c,onDismiss:()=>h.onOpenChange(!1),children:p.jsx(hJ,{"data-state":MD(h.open),role:"dialog",id:h.contentId,...g,...f,ref:e,style:{...f.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),DD="PopoverClose",rZ=m.forwardRef((t,e)=>{const{__scopePopover:n,...r}=t,i=Bo(DD,n);return p.jsx(ze.button,{type:"button",...r,ref:e,onClick:Ue(t.onClick,()=>i.onOpenChange(!1))})});rZ.displayName=DD;var iZ="PopoverArrow",oZ=m.forwardRef((t,e)=>{const{__scopePopover:n,...r}=t,i=zu(n);return p.jsx(pJ,{...i,...r,ref:e})});oZ.displayName=iZ;function MD(t){return t?"open":"closed"}var sZ=SD,aZ=AD,lZ=RD,OD=kD;const cZ=sZ,uZ=aZ,LD=_e.forwardRef(({className:t,align:e="center",sideOffset:n=4,...r},i)=>p.jsx(lZ,{children:p.jsx(OD,{ref:i,align:e,sideOffset:n,className:De("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...r})}));LD.displayName=OD.displayName;function Ye(){return Ye=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ye.apply(null,arguments)}function qC(t,[e,n]){return Math.min(n,Math.max(e,t))}function hn(t,e,{checkForDefaultPrevented:n=!0}={}){return function(i){if(t==null||t(i),n===!1||!i.defaultPrevented)return e==null?void 0:e(i)}}function H1(t,e=[]){let n=[];function r(o,s){const a=m.createContext(s),l=n.length;n=[...n,s];function c(f){const{scope:h,children:g,...w}=f,v=(h==null?void 0:h[t][l])||a,E=m.useMemo(()=>w,Object.values(w));return m.createElement(v.Provider,{value:E},g)}function u(f,h){const g=(h==null?void 0:h[t][l])||a,w=m.useContext(g);if(w)return w;if(s!==void 0)return s;throw new Error(`\`${f}\` must be used within \`${o}\``)}return c.displayName=o+"Provider",[c,u]}const i=()=>{const o=n.map(s=>m.createContext(s));return function(a){const l=(a==null?void 0:a[t])||o;return m.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return i.scopeName=t,[r,dZ(i,...e)]}function dZ(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(o){const s=r.reduce((a,{useScope:l,scopeName:c})=>{const f=l(o)[`__scope${c}`];return{...a,...f}},{});return m.useMemo(()=>({[`__scope${e.scopeName}`]:s}),[s])}};return n.scopeName=e.scopeName,n}function fZ(t,e){typeof t=="function"?t(e):t!=null&&(t.current=e)}function VD(...t){return e=>t.forEach(n=>fZ(n,e))}function Pn(...t){return m.useCallback(VD(...t),t)}const pu=m.forwardRef((t,e)=>{const{children:n,...r}=t,i=m.Children.toArray(n),o=i.find(pZ);if(o){const s=o.props.children,a=i.map(l=>l===o?m.Children.count(s)>1?m.Children.only(null):m.isValidElement(s)?s.props.children:null:l);return m.createElement(By,Ye({},r,{ref:e}),m.isValidElement(s)?m.cloneElement(s,void 0,a):null)}return m.createElement(By,Ye({},r,{ref:e}),n)});pu.displayName="Slot";const By=m.forwardRef((t,e)=>{const{children:n,...r}=t;return m.isValidElement(n)?m.cloneElement(n,{...mZ(r,n.props),ref:e?VD(e,n.ref):n.ref}):m.Children.count(n)>1?m.Children.only(null):null});By.displayName="SlotClone";const hZ=({children:t})=>m.createElement(m.Fragment,null,t);function pZ(t){return m.isValidElement(t)&&t.type===hZ}function mZ(t,e){const n={...e};for(const r in e){const i=t[r],o=e[r];/^on[A-Z]/.test(r)?i&&o?n[r]=(...a)=>{o(...a),i(...a)}:i&&(n[r]=i):r==="style"?n[r]={...i,...o}:r==="className"&&(n[r]=[i,o].filter(Boolean).join(" "))}return{...t,...n}}function gZ(t){const e=t+"CollectionProvider",[n,r]=H1(e),[i,o]=n(e,{collectionRef:{current:null},itemMap:new Map}),s=g=>{const{scope:w,children:v}=g,E=_e.useRef(null),_=_e.useRef(new Map).current;return _e.createElement(i,{scope:w,itemMap:_,collectionRef:E},v)},a=t+"CollectionSlot",l=_e.forwardRef((g,w)=>{const{scope:v,children:E}=g,_=o(a,v),y=Pn(w,_.collectionRef);return _e.createElement(pu,{ref:y},E)}),c=t+"CollectionItemSlot",u="data-radix-collection-item",f=_e.forwardRef((g,w)=>{const{scope:v,children:E,..._}=g,y=_e.useRef(null),b=Pn(w,y),I=o(c,v);return _e.useEffect(()=>(I.itemMap.set(y,{ref:y,..._}),()=>void I.itemMap.delete(y))),_e.createElement(pu,{[u]:"",ref:b},E)});function h(g){const w=o(t+"CollectionConsumer",g);return _e.useCallback(()=>{const E=w.collectionRef.current;if(!E)return[];const _=Array.from(E.querySelectorAll(`[${u}]`));return Array.from(w.itemMap.values()).sort((I,N)=>_.indexOf(I.ref.current)-_.indexOf(N.ref.current))},[w.collectionRef,w.itemMap])}return[{Provider:s,Slot:l,ItemSlot:f},h,r]}const vZ=m.createContext(void 0);function yZ(t){const e=m.useContext(vZ);return t||e||"ltr"}const wZ=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],an=wZ.reduce((t,e)=>{const n=m.forwardRef((r,i)=>{const{asChild:o,...s}=r,a=o?pu:e;return m.useEffect(()=>{window[Symbol.for("radix-ui")]=!0},[]),m.createElement(a,Ye({},s,{ref:i}))});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{});function _Z(t,e){t&&Lo.flushSync(()=>t.dispatchEvent(e))}function bi(t){const e=m.useRef(t);return m.useEffect(()=>{e.current=t}),m.useMemo(()=>(...n)=>{var r;return(r=e.current)===null||r===void 0?void 0:r.call(e,...n)},[])}function xZ(t,e=globalThis==null?void 0:globalThis.document){const n=bi(t);m.useEffect(()=>{const r=i=>{i.key==="Escape"&&n(i)};return e.addEventListener("keydown",r),()=>e.removeEventListener("keydown",r)},[n,e])}const Wy="dismissableLayer.update",EZ="dismissableLayer.pointerDownOutside",bZ="dismissableLayer.focusOutside";let GC;const TZ=m.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),CZ=m.forwardRef((t,e)=>{var n;const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:s,onInteractOutside:a,onDismiss:l,...c}=t,u=m.useContext(TZ),[f,h]=m.useState(null),g=(n=f==null?void 0:f.ownerDocument)!==null&&n!==void 0?n:globalThis==null?void 0:globalThis.document,[,w]=m.useState({}),v=Pn(e,C=>h(C)),E=Array.from(u.layers),[_]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),y=E.indexOf(_),b=f?E.indexOf(f):-1,I=u.layersWithOutsidePointerEventsDisabled.size>0,N=b>=y,O=SZ(C=>{const P=C.target,A=[...u.branches].some(M=>M.contains(P));!N||A||(o==null||o(C),a==null||a(C),C.defaultPrevented||l==null||l())},g),S=PZ(C=>{const P=C.target;[...u.branches].some(M=>M.contains(P))||(s==null||s(C),a==null||a(C),C.defaultPrevented||l==null||l())},g);return xZ(C=>{b===u.layers.size-1&&(i==null||i(C),!C.defaultPrevented&&l&&(C.preventDefault(),l()))},g),m.useEffect(()=>{if(f)return r&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(GC=g.body.style.pointerEvents,g.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(f)),u.layers.add(f),YC(),()=>{r&&u.layersWithOutsidePointerEventsDisabled.size===1&&(g.body.style.pointerEvents=GC)}},[f,g,r,u]),m.useEffect(()=>()=>{f&&(u.layers.delete(f),u.layersWithOutsidePointerEventsDisabled.delete(f),YC())},[f,u]),m.useEffect(()=>{const C=()=>w({});return document.addEventListener(Wy,C),()=>document.removeEventListener(Wy,C)},[]),m.createElement(an.div,Ye({},c,{ref:v,style:{pointerEvents:I?N?"auto":"none":void 0,...t.style},onFocusCapture:hn(t.onFocusCapture,S.onFocusCapture),onBlurCapture:hn(t.onBlurCapture,S.onBlurCapture),onPointerDownCapture:hn(t.onPointerDownCapture,O.onPointerDownCapture)}))});function SZ(t,e=globalThis==null?void 0:globalThis.document){const n=bi(t),r=m.useRef(!1),i=m.useRef(()=>{});return m.useEffect(()=>{const o=a=>{if(a.target&&!r.current){let u=function(){jD(EZ,n,c,{discrete:!0})};var l=u;const c={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=u,e.addEventListener("click",i.current,{once:!0})):u()}else e.removeEventListener("click",i.current);r.current=!1},s=window.setTimeout(()=>{e.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(s),e.removeEventListener("pointerdown",o),e.removeEventListener("click",i.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function PZ(t,e=globalThis==null?void 0:globalThis.document){const n=bi(t),r=m.useRef(!1);return m.useEffect(()=>{const i=o=>{o.target&&!r.current&&jD(bZ,n,{originalEvent:o},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function YC(){const t=new CustomEvent(Wy);document.dispatchEvent(t)}function jD(t,e,n,{discrete:r}){const i=n.originalEvent.target,o=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&i.addEventListener(t,e,{once:!0}),r?_Z(i,o):i.dispatchEvent(o)}let Fg=0;function IZ(){m.useEffect(()=>{var t,e;const n=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",(t=n[0])!==null&&t!==void 0?t:KC()),document.body.insertAdjacentElement("beforeend",(e=n[1])!==null&&e!==void 0?e:KC()),Fg++,()=>{Fg===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(r=>r.remove()),Fg--}},[])}function KC(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.cssText="outline: none; opacity: 0; position: fixed; pointer-events: none",t}const $g="focusScope.autoFocusOnMount",Ug="focusScope.autoFocusOnUnmount",QC={bubbles:!1,cancelable:!0},AZ=m.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:i,onUnmountAutoFocus:o,...s}=t,[a,l]=m.useState(null),c=bi(i),u=bi(o),f=m.useRef(null),h=Pn(e,v=>l(v)),g=m.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;m.useEffect(()=>{if(r){let y=function(O){if(g.paused||!a)return;const S=O.target;a.contains(S)?f.current=S:$i(f.current,{select:!0})},b=function(O){if(g.paused||!a)return;const S=O.relatedTarget;S!==null&&(a.contains(S)||$i(f.current,{select:!0}))},I=function(O){if(document.activeElement===document.body)for(const C of O)C.removedNodes.length>0&&$i(a)};var v=y,E=b,_=I;document.addEventListener("focusin",y),document.addEventListener("focusout",b);const N=new MutationObserver(I);return a&&N.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",y),document.removeEventListener("focusout",b),N.disconnect()}}},[r,a,g.paused]),m.useEffect(()=>{if(a){JC.add(g);const v=document.activeElement;if(!a.contains(v)){const _=new CustomEvent($g,QC);a.addEventListener($g,c),a.dispatchEvent(_),_.defaultPrevented||(RZ(OZ(FD(a)),{select:!0}),document.activeElement===v&&$i(a))}return()=>{a.removeEventListener($g,c),setTimeout(()=>{const _=new CustomEvent(Ug,QC);a.addEventListener(Ug,u),a.dispatchEvent(_),_.defaultPrevented||$i(v??document.body,{select:!0}),a.removeEventListener(Ug,u),JC.remove(g)},0)}}},[a,c,u,g]);const w=m.useCallback(v=>{if(!n&&!r||g.paused)return;const E=v.key==="Tab"&&!v.altKey&&!v.ctrlKey&&!v.metaKey,_=document.activeElement;if(E&&_){const y=v.currentTarget,[b,I]=kZ(y);b&&I?!v.shiftKey&&_===I?(v.preventDefault(),n&&$i(b,{select:!0})):v.shiftKey&&_===b&&(v.preventDefault(),n&&$i(I,{select:!0})):_===y&&v.preventDefault()}},[n,r,g.paused]);return m.createElement(an.div,Ye({tabIndex:-1},s,{ref:h,onKeyDown:w}))});function RZ(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if($i(r,{select:e}),document.activeElement!==n)return}function kZ(t){const e=FD(t),n=XC(e,t),r=XC(e.reverse(),t);return[n,r]}function FD(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function XC(t,e){for(const n of t)if(!NZ(n,{upTo:e}))return n}function NZ(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function DZ(t){return t instanceof HTMLInputElement&&"select"in t}function $i(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&DZ(t)&&e&&t.select()}}const JC=MZ();function MZ(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=ZC(t,e),t.unshift(e)},remove(e){var n;t=ZC(t,e),(n=t[0])===null||n===void 0||n.resume()}}}function ZC(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function OZ(t){return t.filter(e=>e.tagName!=="A")}const Ti=globalThis!=null&&globalThis.document?m.useLayoutEffect:()=>{},LZ=jh["useId".toString()]||(()=>{});let VZ=0;function $D(t){const[e,n]=m.useState(LZ());return Ti(()=>{t||n(r=>r??String(VZ++))},[t]),t||(e?`radix-${e}`:"")}function jZ(t){const[e,n]=m.useState(void 0);return Ti(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const o=i[0];let s,a;if("borderBoxSize"in o){const l=o.borderBoxSize,c=Array.isArray(l)?l[0]:l;s=c.inlineSize,a=c.blockSize}else s=t.offsetWidth,a=t.offsetHeight;n({width:s,height:a})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}const UD="Popper",[BD,WD]=H1(UD),[FZ,zD]=BD(UD),$Z=t=>{const{__scopePopper:e,children:n}=t,[r,i]=m.useState(null);return m.createElement(FZ,{scope:e,anchor:r,onAnchorChange:i},n)},UZ="PopperAnchor",BZ=m.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...i}=t,o=zD(UZ,n),s=m.useRef(null),a=Pn(e,s);return m.useEffect(()=>{o.onAnchorChange((r==null?void 0:r.current)||s.current)}),r?null:m.createElement(an.div,Ye({},i,{ref:a}))}),HD="PopperContent",[WZ,Dne]=BD(HD),zZ=m.forwardRef((t,e)=>{var n,r,i,o,s,a,l,c;const{__scopePopper:u,side:f="bottom",sideOffset:h=0,align:g="center",alignOffset:w=0,arrowPadding:v=0,avoidCollisions:E=!0,collisionBoundary:_=[],collisionPadding:y=0,sticky:b="partial",hideWhenDetached:I=!1,updatePositionStrategy:N="optimized",onPlaced:O,...S}=t,C=zD(HD,u),[P,A]=m.useState(null),M=Pn(e,Dt=>A(Dt)),[D,k]=m.useState(null),B=jZ(D),G=(n=B==null?void 0:B.width)!==null&&n!==void 0?n:0,Y=(r=B==null?void 0:B.height)!==null&&r!==void 0?r:0,z=f+(g!=="center"?"-"+g:""),L=typeof y=="number"?y:{top:0,right:0,bottom:0,left:0,...y},V=Array.isArray(_)?_:[_],$=V.length>0,F={padding:L,boundary:V.filter(HZ),altBoundary:$},{refs:W,floatingStyles:K,placement:oe,isPositioned:pe,middlewareData:ce}=qN({strategy:"fixed",placement:z,whileElementsMounted:(...Dt)=>zN(...Dt,{animationFrame:N==="always"}),elements:{reference:C.anchor},middleware:[GN({mainAxis:h+Y,alignmentAxis:w}),E&&YN({mainAxis:!0,crossAxis:!1,limiter:b==="partial"?KN():void 0,...F}),E&&QN({...F}),XN({...F,apply:({elements:Dt,rects:Zn,availableWidth:wr,availableHeight:El})=>{const{width:Gr,height:qu}=Zn.reference,Ri=Dt.floating.style;Ri.setProperty("--radix-popper-available-width",`${wr}px`),Ri.setProperty("--radix-popper-available-height",`${El}px`),Ri.setProperty("--radix-popper-anchor-width",`${Gr}px`),Ri.setProperty("--radix-popper-anchor-height",`${qu}px`)}}),D&&ZN({element:D,padding:v}),qZ({arrowWidth:G,arrowHeight:Y}),I&&JN({strategy:"referenceHidden",...F})]}),[X,ae]=qD(oe),le=bi(O);Ti(()=>{pe&&(le==null||le())},[pe,le]);const re=(i=ce.arrow)===null||i===void 0?void 0:i.x,me=(o=ce.arrow)===null||o===void 0?void 0:o.y,Ce=((s=ce.arrow)===null||s===void 0?void 0:s.centerOffset)!==0,[Ke,st]=m.useState();return Ti(()=>{P&&st(window.getComputedStyle(P).zIndex)},[P]),m.createElement("div",{ref:W.setFloating,"data-radix-popper-content-wrapper":"",style:{...K,transform:pe?K.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Ke,"--radix-popper-transform-origin":[(a=ce.transformOrigin)===null||a===void 0?void 0:a.x,(l=ce.transformOrigin)===null||l===void 0?void 0:l.y].join(" ")},dir:t.dir},m.createElement(WZ,{scope:u,placedSide:X,onArrowChange:k,arrowX:re,arrowY:me,shouldHideArrow:Ce},m.createElement(an.div,Ye({"data-side":X,"data-align":ae},S,{ref:M,style:{...S.style,animation:pe?void 0:"none",opacity:(c=ce.hide)!==null&&c!==void 0&&c.referenceHidden?0:void 0}}))))});function HZ(t){return t!==null}const qZ=t=>({name:"transformOrigin",options:t,fn(e){var n,r,i,o,s;const{placement:a,rects:l,middlewareData:c}=e,f=((n=c.arrow)===null||n===void 0?void 0:n.centerOffset)!==0,h=f?0:t.arrowWidth,g=f?0:t.arrowHeight,[w,v]=qD(a),E={start:"0%",center:"50%",end:"100%"}[v],_=((r=(i=c.arrow)===null||i===void 0?void 0:i.x)!==null&&r!==void 0?r:0)+h/2,y=((o=(s=c.arrow)===null||s===void 0?void 0:s.y)!==null&&o!==void 0?o:0)+g/2;let b="",I="";return w==="bottom"?(b=f?E:`${_}px`,I=`${-g}px`):w==="top"?(b=f?E:`${_}px`,I=`${l.floating.height+g}px`):w==="right"?(b=`${-g}px`,I=f?E:`${y}px`):w==="left"&&(b=`${l.floating.width+g}px`,I=f?E:`${y}px`),{data:{x:b,y:I}}}});function qD(t){const[e,n="center"]=t.split("-");return[e,n]}const GZ=$Z,YZ=BZ,KZ=zZ,QZ=m.forwardRef((t,e)=>{var n;const{container:r=globalThis==null||(n=globalThis.document)===null||n===void 0?void 0:n.body,...i}=t;return r?SI.createPortal(m.createElement(an.div,Ye({},i,{ref:e})),r):null});function eS({prop:t,defaultProp:e,onChange:n=()=>{}}){const[r,i]=XZ({defaultProp:e,onChange:n}),o=t!==void 0,s=o?t:r,a=bi(n),l=m.useCallback(c=>{if(o){const f=typeof c=="function"?c(t):c;f!==t&&a(f)}else i(c)},[o,t,i,a]);return[s,l]}function XZ({defaultProp:t,onChange:e}){const n=m.useState(t),[r]=n,i=m.useRef(r),o=bi(e);return m.useEffect(()=>{i.current!==r&&(o(r),i.current=r)},[r,i,o]),n}function JZ(t){const e=m.useRef({value:t,previous:t});return m.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}const ZZ=m.forwardRef((t,e)=>m.createElement(an.span,Ye({},t,{ref:e,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...t.style}})));var GD=mD(),Bg=function(){},$p=m.forwardRef(function(t,e){var n=m.useRef(null),r=m.useState({onScrollCapture:Bg,onWheelCapture:Bg,onTouchMoveCapture:Bg}),i=r[0],o=r[1],s=t.forwardProps,a=t.children,l=t.className,c=t.removeScrollBar,u=t.enabled,f=t.shards,h=t.sideCar,g=t.noIsolation,w=t.inert,v=t.allowPinchZoom,E=t.as,_=E===void 0?"div":E,y=B1(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as"]),b=h,I=pD([n,e]),N=rn(rn({},y),i);return m.createElement(m.Fragment,null,u&&m.createElement(b,{sideCar:GD,removeScrollBar:c,shards:f,noIsolation:g,inert:w,setCallbacks:o,allowPinchZoom:!!v,lockRef:n}),s?m.cloneElement(m.Children.only(a),rn(rn({},N),{ref:I})):m.createElement(_,rn({},N,{className:l,ref:I}),a))});$p.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};$p.classNames={fullWidth:Ac,zeroRight:Ic};var zy=!1;if(typeof window<"u")try{var zd=Object.defineProperty({},"passive",{get:function(){return zy=!0,!0}});window.addEventListener("test",zd,zd),window.removeEventListener("test",zd,zd)}catch{zy=!1}var Hs=zy?{passive:!1}:!1,eee=function(t){return t.tagName==="TEXTAREA"},YD=function(t,e){var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!eee(t)&&n[e]==="visible")},tee=function(t){return YD(t,"overflowY")},nee=function(t){return YD(t,"overflowX")},tS=function(t,e){var n=e;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var r=KD(t,n);if(r){var i=QD(t,n),o=i[1],s=i[2];if(o>s)return!0}n=n.parentNode}while(n&&n!==document.body);return!1},ree=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},iee=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},KD=function(t,e){return t==="v"?tee(e):nee(e)},QD=function(t,e){return t==="v"?ree(e):iee(e)},oee=function(t,e){return t==="h"&&e==="rtl"?-1:1},see=function(t,e,n,r,i){var o=oee(t,window.getComputedStyle(e).direction),s=o*r,a=n.target,l=e.contains(a),c=!1,u=s>0,f=0,h=0;do{var g=QD(t,a),w=g[0],v=g[1],E=g[2],_=v-E-o*w;(w||_)&&KD(t,a)&&(f+=_,h+=w),a=a.parentNode}while(!l&&a!==document.body||l&&(e.contains(a)||e===a));return(u&&(i&&f===0||!i&&s>f)||!u&&(i&&h===0||!i&&-s>h))&&(c=!0),c},Hd=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},nS=function(t){return[t.deltaX,t.deltaY]},rS=function(t){return t&&"current"in t?t.current:t},aee=function(t,e){return t[0]===e[0]&&t[1]===e[1]},lee=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},cee=0,qs=[];function uee(t){var e=m.useRef([]),n=m.useRef([0,0]),r=m.useRef(),i=m.useState(cee++)[0],o=m.useState(function(){return W1()})[0],s=m.useRef(t);m.useEffect(function(){s.current=t},[t]),m.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(i));var v=hD([t.lockRef.current],(t.shards||[]).map(rS),!0).filter(Boolean);return v.forEach(function(E){return E.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),v.forEach(function(E){return E.classList.remove("allow-interactivity-".concat(i))})}}},[t.inert,t.lockRef.current,t.shards]);var a=m.useCallback(function(v,E){if("touches"in v&&v.touches.length===2)return!s.current.allowPinchZoom;var _=Hd(v),y=n.current,b="deltaX"in v?v.deltaX:y[0]-_[0],I="deltaY"in v?v.deltaY:y[1]-_[1],N,O=v.target,S=Math.abs(b)>Math.abs(I)?"h":"v";if("touches"in v&&S==="h"&&O.type==="range")return!1;var C=tS(S,O);if(!C)return!0;if(C?N=S:(N=S==="v"?"h":"v",C=tS(S,O)),!C)return!1;if(!r.current&&"changedTouches"in v&&(b||I)&&(r.current=N),!N)return!0;var P=r.current||N;return see(P,E,v,P==="h"?b:I,!0)},[]),l=m.useCallback(function(v){var E=v;if(!(!qs.length||qs[qs.length-1]!==o)){var _="deltaY"in E?nS(E):Hd(E),y=e.current.filter(function(N){return N.name===E.type&&N.target===E.target&&aee(N.delta,_)})[0];if(y&&y.should){E.cancelable&&E.preventDefault();return}if(!y){var b=(s.current.shards||[]).map(rS).filter(Boolean).filter(function(N){return N.contains(E.target)}),I=b.length>0?a(E,b[0]):!s.current.noIsolation;I&&E.cancelable&&E.preventDefault()}}},[]),c=m.useCallback(function(v,E,_,y){var b={name:v,delta:E,target:_,should:y};e.current.push(b),setTimeout(function(){e.current=e.current.filter(function(I){return I!==b})},1)},[]),u=m.useCallback(function(v){n.current=Hd(v),r.current=void 0},[]),f=m.useCallback(function(v){c(v.type,nS(v),v.target,a(v,t.lockRef.current))},[]),h=m.useCallback(function(v){c(v.type,Hd(v),v.target,a(v,t.lockRef.current))},[]);m.useEffect(function(){return qs.push(o),t.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:h}),document.addEventListener("wheel",l,Hs),document.addEventListener("touchmove",l,Hs),document.addEventListener("touchstart",u,Hs),function(){qs=qs.filter(function(v){return v!==o}),document.removeEventListener("wheel",l,Hs),document.removeEventListener("touchmove",l,Hs),document.removeEventListener("touchstart",u,Hs)}},[]);var g=t.removeScrollBar,w=t.inert;return m.createElement(m.Fragment,null,w?m.createElement(o,{styles:lee(i)}):null,g?m.createElement(wD,{gapMode:"margin"}):null)}const dee=vD(GD,uee);var XD=m.forwardRef(function(t,e){return m.createElement($p,rn({},t,{ref:e,sideCar:dee}))});XD.classNames=$p.classNames;const fee=XD,hee=[" ","Enter","ArrowUp","ArrowDown"],pee=[" ","Enter"],Up="Select",[Bp,q1,mee]=gZ(Up),[xl,Mne]=H1(Up,[mee,WD]),G1=WD(),[gee,Os]=xl(Up),[vee,yee]=xl(Up),wee=t=>{const{__scopeSelect:e,children:n,open:r,defaultOpen:i,onOpenChange:o,value:s,defaultValue:a,onValueChange:l,dir:c,name:u,autoComplete:f,disabled:h,required:g}=t,w=G1(e),[v,E]=m.useState(null),[_,y]=m.useState(null),[b,I]=m.useState(!1),N=yZ(c),[O=!1,S]=eS({prop:r,defaultProp:i,onChange:o}),[C,P]=eS({prop:s,defaultProp:a,onChange:l}),A=m.useRef(null),M=v?!!v.closest("form"):!0,[D,k]=m.useState(new Set),B=Array.from(D).map(G=>G.props.value).join(";");return m.createElement(GZ,w,m.createElement(gee,{required:g,scope:e,trigger:v,onTriggerChange:E,valueNode:_,onValueNodeChange:y,valueNodeHasChildren:b,onValueNodeHasChildrenChange:I,contentId:$D(),value:C,onValueChange:P,open:O,onOpenChange:S,dir:N,triggerPointerDownPosRef:A,disabled:h},m.createElement(Bp.Provider,{scope:e},m.createElement(vee,{scope:t.__scopeSelect,onNativeOptionAdd:m.useCallback(G=>{k(Y=>new Set(Y).add(G))},[]),onNativeOptionRemove:m.useCallback(G=>{k(Y=>{const z=new Set(Y);return z.delete(G),z})},[])},n)),M?m.createElement(tM,{key:B,"aria-hidden":!0,required:g,tabIndex:-1,name:u,autoComplete:f,value:C,onChange:G=>P(G.target.value),disabled:h},C===void 0?m.createElement("option",{value:""}):null,Array.from(D)):null))},_ee="SelectTrigger",xee=m.forwardRef((t,e)=>{const{__scopeSelect:n,disabled:r=!1,...i}=t,o=G1(n),s=Os(_ee,n),a=s.disabled||r,l=Pn(e,s.onTriggerChange),c=q1(n),[u,f,h]=nM(w=>{const v=c().filter(y=>!y.disabled),E=v.find(y=>y.value===s.value),_=rM(v,w,E);_!==void 0&&s.onValueChange(_.value)}),g=()=>{a||(s.onOpenChange(!0),h())};return m.createElement(YZ,Ye({asChild:!0},o),m.createElement(an.button,Ye({type:"button",role:"combobox","aria-controls":s.contentId,"aria-expanded":s.open,"aria-required":s.required,"aria-autocomplete":"none",dir:s.dir,"data-state":s.open?"open":"closed",disabled:a,"data-disabled":a?"":void 0,"data-placeholder":eM(s.value)?"":void 0},i,{ref:l,onClick:hn(i.onClick,w=>{w.currentTarget.focus()}),onPointerDown:hn(i.onPointerDown,w=>{const v=w.target;v.hasPointerCapture(w.pointerId)&&v.releasePointerCapture(w.pointerId),w.button===0&&w.ctrlKey===!1&&(g(),s.triggerPointerDownPosRef.current={x:Math.round(w.pageX),y:Math.round(w.pageY)},w.preventDefault())}),onKeyDown:hn(i.onKeyDown,w=>{const v=u.current!=="";!(w.ctrlKey||w.altKey||w.metaKey)&&w.key.length===1&&f(w.key),!(v&&w.key===" ")&&hee.includes(w.key)&&(g(),w.preventDefault())})})))}),Eee="SelectValue",bee=m.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:i,children:o,placeholder:s="",...a}=t,l=Os(Eee,n),{onValueNodeHasChildrenChange:c}=l,u=o!==void 0,f=Pn(e,l.onValueNodeChange);return Ti(()=>{c(u)},[c,u]),m.createElement(an.span,Ye({},a,{ref:f,style:{pointerEvents:"none"}}),eM(l.value)?m.createElement(m.Fragment,null,s):o)}),Tee=m.forwardRef((t,e)=>{const{__scopeSelect:n,children:r,...i}=t;return m.createElement(an.span,Ye({"aria-hidden":!0},i,{ref:e}),r||"")}),Cee=t=>m.createElement(QZ,Ye({asChild:!0},t)),Za="SelectContent",See=m.forwardRef((t,e)=>{const n=Os(Za,t.__scopeSelect),[r,i]=m.useState();if(Ti(()=>{i(new DocumentFragment)},[]),!n.open){const o=r;return o?Lo.createPortal(m.createElement(JD,{scope:t.__scopeSelect},m.createElement(Bp.Slot,{scope:t.__scopeSelect},m.createElement("div",null,t.children))),o):null}return m.createElement(Pee,Ye({},t,{ref:e}))}),Jr=10,[JD,Wp]=xl(Za),Pee=m.forwardRef((t,e)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:o,onPointerDownOutside:s,side:a,sideOffset:l,align:c,alignOffset:u,arrowPadding:f,collisionBoundary:h,collisionPadding:g,sticky:w,hideWhenDetached:v,avoidCollisions:E,..._}=t,y=Os(Za,n),[b,I]=m.useState(null),[N,O]=m.useState(null),S=Pn(e,X=>I(X)),[C,P]=m.useState(null),[A,M]=m.useState(null),D=q1(n),[k,B]=m.useState(!1),G=m.useRef(!1);m.useEffect(()=>{if(b)return U1(b)},[b]),IZ();const Y=m.useCallback(X=>{const[ae,...le]=D().map(Ce=>Ce.ref.current),[re]=le.slice(-1),me=document.activeElement;for(const Ce of X)if(Ce===me||(Ce==null||Ce.scrollIntoView({block:"nearest"}),Ce===ae&&N&&(N.scrollTop=0),Ce===re&&N&&(N.scrollTop=N.scrollHeight),Ce==null||Ce.focus(),document.activeElement!==me))return},[D,N]),z=m.useCallback(()=>Y([C,b]),[Y,C,b]);m.useEffect(()=>{k&&z()},[k,z]);const{onOpenChange:L,triggerPointerDownPosRef:V}=y;m.useEffect(()=>{if(b){let X={x:0,y:0};const ae=re=>{var me,Ce,Ke,st;X={x:Math.abs(Math.round(re.pageX)-((me=(Ce=V.current)===null||Ce===void 0?void 0:Ce.x)!==null&&me!==void 0?me:0)),y:Math.abs(Math.round(re.pageY)-((Ke=(st=V.current)===null||st===void 0?void 0:st.y)!==null&&Ke!==void 0?Ke:0))}},le=re=>{X.x<=10&&X.y<=10?re.preventDefault():b.contains(re.target)||L(!1),document.removeEventListener("pointermove",ae),V.current=null};return V.current!==null&&(document.addEventListener("pointermove",ae),document.addEventListener("pointerup",le,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",ae),document.removeEventListener("pointerup",le,{capture:!0})}}},[b,L,V]),m.useEffect(()=>{const X=()=>L(!1);return window.addEventListener("blur",X),window.addEventListener("resize",X),()=>{window.removeEventListener("blur",X),window.removeEventListener("resize",X)}},[L]);const[$,F]=nM(X=>{const ae=D().filter(me=>!me.disabled),le=ae.find(me=>me.ref.current===document.activeElement),re=rM(ae,X,le);re&&setTimeout(()=>re.ref.current.focus())}),W=m.useCallback((X,ae,le)=>{const re=!G.current&&!le;(y.value!==void 0&&y.value===ae||re)&&(P(X),re&&(G.current=!0))},[y.value]),K=m.useCallback(()=>b==null?void 0:b.focus(),[b]),oe=m.useCallback((X,ae,le)=>{const re=!G.current&&!le;(y.value!==void 0&&y.value===ae||re)&&M(X)},[y.value]),pe=r==="popper"?iS:Iee,ce=pe===iS?{side:a,sideOffset:l,align:c,alignOffset:u,arrowPadding:f,collisionBoundary:h,collisionPadding:g,sticky:w,hideWhenDetached:v,avoidCollisions:E}:{};return m.createElement(JD,{scope:n,content:b,viewport:N,onViewportChange:O,itemRefCallback:W,selectedItem:C,onItemLeave:K,itemTextRefCallback:oe,focusSelectedItem:z,selectedItemText:A,position:r,isPositioned:k,searchRef:$},m.createElement(fee,{as:pu,allowPinchZoom:!0},m.createElement(AZ,{asChild:!0,trapped:y.open,onMountAutoFocus:X=>{X.preventDefault()},onUnmountAutoFocus:hn(i,X=>{var ae;(ae=y.trigger)===null||ae===void 0||ae.focus({preventScroll:!0}),X.preventDefault()})},m.createElement(CZ,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:o,onPointerDownOutside:s,onFocusOutside:X=>X.preventDefault(),onDismiss:()=>y.onOpenChange(!1)},m.createElement(pe,Ye({role:"listbox",id:y.contentId,"data-state":y.open?"open":"closed",dir:y.dir,onContextMenu:X=>X.preventDefault()},_,ce,{onPlaced:()=>B(!0),ref:S,style:{display:"flex",flexDirection:"column",outline:"none",..._.style},onKeyDown:hn(_.onKeyDown,X=>{const ae=X.ctrlKey||X.altKey||X.metaKey;if(X.key==="Tab"&&X.preventDefault(),!ae&&X.key.length===1&&F(X.key),["ArrowUp","ArrowDown","Home","End"].includes(X.key)){let re=D().filter(me=>!me.disabled).map(me=>me.ref.current);if(["ArrowUp","End"].includes(X.key)&&(re=re.slice().reverse()),["ArrowUp","ArrowDown"].includes(X.key)){const me=X.target,Ce=re.indexOf(me);re=re.slice(Ce+1)}setTimeout(()=>Y(re)),X.preventDefault()}})}))))))}),Iee=m.forwardRef((t,e)=>{const{__scopeSelect:n,onPlaced:r,...i}=t,o=Os(Za,n),s=Wp(Za,n),[a,l]=m.useState(null),[c,u]=m.useState(null),f=Pn(e,S=>u(S)),h=q1(n),g=m.useRef(!1),w=m.useRef(!0),{viewport:v,selectedItem:E,selectedItemText:_,focusSelectedItem:y}=s,b=m.useCallback(()=>{if(o.trigger&&o.valueNode&&a&&c&&v&&E&&_){const S=o.trigger.getBoundingClientRect(),C=c.getBoundingClientRect(),P=o.valueNode.getBoundingClientRect(),A=_.getBoundingClientRect();if(o.dir!=="rtl"){const me=A.left-C.left,Ce=P.left-me,Ke=S.left-Ce,st=S.width+Ke,Dt=Math.max(st,C.width),Zn=window.innerWidth-Jr,wr=qC(Ce,[Jr,Zn-Dt]);a.style.minWidth=st+"px",a.style.left=wr+"px"}else{const me=C.right-A.right,Ce=window.innerWidth-P.right-me,Ke=window.innerWidth-S.right-Ce,st=S.width+Ke,Dt=Math.max(st,C.width),Zn=window.innerWidth-Jr,wr=qC(Ce,[Jr,Zn-Dt]);a.style.minWidth=st+"px",a.style.right=wr+"px"}const M=h(),D=window.innerHeight-Jr*2,k=v.scrollHeight,B=window.getComputedStyle(c),G=parseInt(B.borderTopWidth,10),Y=parseInt(B.paddingTop,10),z=parseInt(B.borderBottomWidth,10),L=parseInt(B.paddingBottom,10),V=G+Y+k+L+z,$=Math.min(E.offsetHeight*5,V),F=window.getComputedStyle(v),W=parseInt(F.paddingTop,10),K=parseInt(F.paddingBottom,10),oe=S.top+S.height/2-Jr,pe=D-oe,ce=E.offsetHeight/2,X=E.offsetTop+ce,ae=G+Y+X,le=V-ae;if(ae<=oe){const me=E===M[M.length-1].ref.current;a.style.bottom="0px";const Ce=c.clientHeight-v.offsetTop-v.offsetHeight,Ke=Math.max(pe,ce+(me?K:0)+Ce+z),st=ae+Ke;a.style.height=st+"px"}else{const me=E===M[0].ref.current;a.style.top="0px";const Ke=Math.max(oe,G+v.offsetTop+(me?W:0)+ce)+le;a.style.height=Ke+"px",v.scrollTop=ae-oe+v.offsetTop}a.style.margin=`${Jr}px 0`,a.style.minHeight=$+"px",a.style.maxHeight=D+"px",r==null||r(),requestAnimationFrame(()=>g.current=!0)}},[h,o.trigger,o.valueNode,a,c,v,E,_,o.dir,r]);Ti(()=>b(),[b]);const[I,N]=m.useState();Ti(()=>{c&&N(window.getComputedStyle(c).zIndex)},[c]);const O=m.useCallback(S=>{S&&w.current===!0&&(b(),y==null||y(),w.current=!1)},[b,y]);return m.createElement(Aee,{scope:n,contentWrapper:a,shouldExpandOnScrollRef:g,onScrollButtonChange:O},m.createElement("div",{ref:l,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:I}},m.createElement(an.div,Ye({},i,{ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}}))))}),iS=m.forwardRef((t,e)=>{const{__scopeSelect:n,align:r="start",collisionPadding:i=Jr,...o}=t,s=G1(n);return m.createElement(KZ,Ye({},s,o,{ref:e,align:r,collisionPadding:i,style:{boxSizing:"border-box",...o.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}}))}),[Aee,Ree]=xl(Za,{}),oS="SelectViewport",kee=m.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=Wp(oS,n),o=Ree(oS,n),s=Pn(e,i.onViewportChange),a=m.useRef(0);return m.createElement(m.Fragment,null,m.createElement("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"}}),m.createElement(Bp.Slot,{scope:n},m.createElement(an.div,Ye({"data-radix-select-viewport":"",role:"presentation"},r,{ref:s,style:{position:"relative",flex:1,overflow:"auto",...r.style},onScroll:hn(r.onScroll,l=>{const c=l.currentTarget,{contentWrapper:u,shouldExpandOnScrollRef:f}=o;if(f!=null&&f.current&&u){const h=Math.abs(a.current-c.scrollTop);if(h>0){const g=window.innerHeight-Jr*2,w=parseFloat(u.style.minHeight),v=parseFloat(u.style.height),E=Math.max(w,v);if(E<g){const _=E+h,y=Math.min(g,_),b=_-y;u.style.height=y+"px",u.style.bottom==="0px"&&(c.scrollTop=b>0?b:0,u.style.justifyContent="flex-end")}}}a.current=c.scrollTop})}))))}),Nee="SelectGroup",[One,Dee]=xl(Nee),Mee="SelectLabel",Oee=m.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=Dee(Mee,n);return m.createElement(an.div,Ye({id:i.id},r,{ref:e}))}),Hy="SelectItem",[Lee,ZD]=xl(Hy),Vee=m.forwardRef((t,e)=>{const{__scopeSelect:n,value:r,disabled:i=!1,textValue:o,...s}=t,a=Os(Hy,n),l=Wp(Hy,n),c=a.value===r,[u,f]=m.useState(o??""),[h,g]=m.useState(!1),w=Pn(e,_=>{var y;return(y=l.itemRefCallback)===null||y===void 0?void 0:y.call(l,_,r,i)}),v=$D(),E=()=>{i||(a.onValueChange(r),a.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return m.createElement(Lee,{scope:n,value:r,disabled:i,textId:v,isSelected:c,onItemTextChange:m.useCallback(_=>{f(y=>{var b;return y||((b=_==null?void 0:_.textContent)!==null&&b!==void 0?b:"").trim()})},[])},m.createElement(Bp.ItemSlot,{scope:n,value:r,disabled:i,textValue:u},m.createElement(an.div,Ye({role:"option","aria-labelledby":v,"data-highlighted":h?"":void 0,"aria-selected":c&&h,"data-state":c?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1},s,{ref:w,onFocus:hn(s.onFocus,()=>g(!0)),onBlur:hn(s.onBlur,()=>g(!1)),onPointerUp:hn(s.onPointerUp,E),onPointerMove:hn(s.onPointerMove,_=>{if(i){var y;(y=l.onItemLeave)===null||y===void 0||y.call(l)}else _.currentTarget.focus({preventScroll:!0})}),onPointerLeave:hn(s.onPointerLeave,_=>{if(_.currentTarget===document.activeElement){var y;(y=l.onItemLeave)===null||y===void 0||y.call(l)}}),onKeyDown:hn(s.onKeyDown,_=>{var y;((y=l.searchRef)===null||y===void 0?void 0:y.current)!==""&&_.key===" "||(pee.includes(_.key)&&E(),_.key===" "&&_.preventDefault())})}))))}),qd="SelectItemText",jee=m.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:i,...o}=t,s=Os(qd,n),a=Wp(qd,n),l=ZD(qd,n),c=yee(qd,n),[u,f]=m.useState(null),h=Pn(e,_=>f(_),l.onItemTextChange,_=>{var y;return(y=a.itemTextRefCallback)===null||y===void 0?void 0:y.call(a,_,l.value,l.disabled)}),g=u==null?void 0:u.textContent,w=m.useMemo(()=>m.createElement("option",{key:l.value,value:l.value,disabled:l.disabled},g),[l.disabled,l.value,g]),{onNativeOptionAdd:v,onNativeOptionRemove:E}=c;return Ti(()=>(v(w),()=>E(w)),[v,E,w]),m.createElement(m.Fragment,null,m.createElement(an.span,Ye({id:l.textId},o,{ref:h})),l.isSelected&&s.valueNode&&!s.valueNodeHasChildren?Lo.createPortal(o.children,s.valueNode):null)}),Fee="SelectItemIndicator",$ee=m.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return ZD(Fee,n).isSelected?m.createElement(an.span,Ye({"aria-hidden":!0},r,{ref:e})):null}),Uee=m.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return m.createElement(an.div,Ye({"aria-hidden":!0},r,{ref:e}))});function eM(t){return t===""||t===void 0}const tM=m.forwardRef((t,e)=>{const{value:n,...r}=t,i=m.useRef(null),o=Pn(e,i),s=JZ(n);return m.useEffect(()=>{const a=i.current,l=window.HTMLSelectElement.prototype,u=Object.getOwnPropertyDescriptor(l,"value").set;if(s!==n&&u){const f=new Event("change",{bubbles:!0});u.call(a,n),a.dispatchEvent(f)}},[s,n]),m.createElement(ZZ,{asChild:!0},m.createElement("select",Ye({},r,{ref:o,defaultValue:n})))});tM.displayName="BubbleSelect";function nM(t){const e=bi(t),n=m.useRef(""),r=m.useRef(0),i=m.useCallback(s=>{const a=n.current+s;e(a),function l(c){n.current=c,window.clearTimeout(r.current),c!==""&&(r.current=window.setTimeout(()=>l(""),1e3))}(a)},[e]),o=m.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return m.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,i,o]}function rM(t,e,n){const i=e.length>1&&Array.from(e).every(c=>c===e[0])?e[0]:e,o=n?t.indexOf(n):-1;let s=Bee(t,Math.max(o,0));i.length===1&&(s=s.filter(c=>c!==n));const l=s.find(c=>c.textValue.toLowerCase().startsWith(i.toLowerCase()));return l!==n?l:void 0}function Bee(t,e){return t.map((n,r)=>t[(e+r)%t.length])}const Wee=wee,iM=xee,zee=bee,Hee=Tee,qee=Cee,oM=See,Gee=kee,sM=Oee,aM=Vee,Yee=jee,Kee=$ee,lM=Uee,Qee=Wee,Xee=zee,cM=_e.forwardRef(({className:t,children:e,...n},r)=>p.jsxs(iM,{ref:r,className:De("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 focus:shadow-[0_0_0_3px_rgba(226,125,191,0.2)] disabled:cursor-not-allowed disabled:opacity-50",t),...n,children:[e,p.jsx(Hee,{asChild:!0,children:p.jsx(rH,{className:"h-4 w-4 opacity-50"})})]}));cM.displayName=iM.displayName;const uM=_e.forwardRef(({className:t,children:e,position:n="popper",...r},i)=>p.jsx(qee,{children:p.jsx(oM,{ref:i,className:De("relative z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...r,children:p.jsx(Gee,{className:De("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e})})}));uM.displayName=oM.displayName;const Jee=_e.forwardRef(({className:t,...e},n)=>p.jsx(sM,{ref:n,className:De("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...e}));Jee.displayName=sM.displayName;const dM=_e.forwardRef(({className:t,children:e,...n},r)=>p.jsxs(aM,{ref:r,className:De("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[p.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:p.jsx(Kee,{children:p.jsx(Th,{className:"h-4 w-4"})})}),p.jsx(Yee,{children:e})]}));dM.displayName=aM.displayName;const Zee=_e.forwardRef(({className:t,...e},n)=>p.jsx(lM,{ref:n,className:De("-mx-1 my-1 h-px bg-muted",t),...e}));Zee.displayName=lM.displayName;const ete=({date:t,setDate:e,time:n,setTime:r,temperatureRaw:i,setTemperatureRaw:o,temperatureCorrected:s,setTemperatureCorrected:a,useCorrected:l,setUseCorrected:c,mucusSensation:u,setMucusSensation:f,mucusAppearance:h,setMucusAppearance:g,fertilitySymbol:w,setFertilitySymbol:v,observations:E,setObservations:_,ignored:y,setIgnored:b,isProcessing:I,isEditing:N,initialData:O,cycleStartDate:S})=>{const[C,P]=m.useState(!1);m.useEffect(()=>{N&&O&&(e(O.timestamp?ue(O.timestamp):ue(O.isoDate)),r(O.timestamp?he(ue(O.timestamp),"HH:mm"):""),o(O.temperature_raw??""),a(O.temperature_corrected??""),c(O.use_corrected??!1),f(O.mucus_sensation??""),g(O.mucus_appearance??""),v(O.fertility_symbol??"none"),_(O.observations??""),b(O.ignored??!1))},[N,O]);const A=Se(ue(S)),M=[{before:A},{after:Lt(A,45)}];return p.jsxs(p.Fragment,{children:[p.jsxs("div",{className:"space-y-2",children:[p.jsxs(An,{htmlFor:"date",className:"flex items-center text-gray-700 text-lg",children:[p.jsx(iC,{className:"mr-2 h-5 w-5 text-pink-400"}),"Fecha del Registro"]}),p.jsxs(cZ,{open:C,onOpenChange:P,children:[p.jsx(uZ,{asChild:!0,children:p.jsxs(Te,{variant:"outline",className:De("w-full justify-start text-left font-normal bg-gray-50 border-gray-200 text-gray-800 hover:bg-gray-100 hover:text-gray-800",!t&&"text-muted-foreground"),disabled:I,children:[p.jsx(iC,{className:"mr-2 h-4 w-4"}),t?he(t,"PPP",{locale:eo}):p.jsx("span",{children:"Selecciona una fecha"})]})}),p.jsx(LD,{className:"w-auto p-0 bg-gray-50 border-gray-200 text-gray-800",align:"start",children:p.jsx(AN,{mode:"single",selected:t,onSelect:D=>{e(Se(D||new Date)),P(!1)},initialFocus:!0,locale:eo,disabled:I?()=>!0:M,className:"[&_button]:text-gray-800 [&_button:hover]:bg-gray-100 [&_button[aria-selected=true]]:bg-pink-500"})})]})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsxs(An,{htmlFor:"temperatureRaw",className:"flex items-center text-gray-700 text-lg",children:[p.jsx(_H,{className:"mr-2 h-5 w-5 text-rose-400"}),N?"Temperatura Original (C)":"Temperatura Basal (C)"," ",p.jsx("span",{className:"text-sm text-gray-700 ml-1",children:"(Opcional)"})]}),p.jsx(Vr,{id:"temperatureRaw",type:"number",step:"0.01",min:"34.0",max:"40.0",value:i,onChange:D=>o(D.target.value),placeholder:"Ej: 36.50",className:"bg-gray-50 border-gray-200 text-gray-800 placeholder-gray-400 focus:ring-pink-500 focus:border-pink-500 text-base",disabled:I||N&&(O==null?void 0:O.temperature_raw)!==null&&(O==null?void 0:O.temperature_raw)!==void 0,readOnly:N&&(O==null?void 0:O.temperature_raw)!==null&&(O==null?void 0:O.temperature_raw)!==void 0}),p.jsxs("div",{className:"space-y-2",children:[p.jsxs(An,{htmlFor:"time",className:"flex items-center text-gray-700 text-lg",children:[p.jsx(sH,{className:"mr-2 h-5 w-5 text-rose-400"}),"Hora de la Temperatura ",p.jsx("span",{className:"text-sm text-gray-700 ml-1",children:"(Opcional)"})]}),p.jsx(Vr,{id:"time",type:"time",value:n,onChange:D=>r(D.target.value),className:"bg-gray-50 border-gray-200 text-gray-800 placeholder-gray-400 focus:ring-pink-500 focus:border-pink-500 text-base",disabled:I})]})]}),N&&p.jsxs("div",{children:[p.jsxs("div",{className:"space-y-3 p-4 border border-gray-200 rounded-md bg-gray-50",children:[p.jsxs(An,{htmlFor:"temperatureCorrected",className:"flex items-center text-gray-700 text-md",children:[p.jsx(Dy,{className:"mr-2 h-4 w-4 text-amber-400"}),"Temperatura Corregida (C) ",p.jsx("span",{className:"text-sm text-gray-500 ml-1",children:"(Opcional)"})]}),p.jsx("div",{className:"flex items-center space-x-2"}),p.jsx(Vr,{id:"temperatureCorrected",type:"number",step:"0.01",min:"34.0",max:"40.0",value:s,onChange:D=>{a(D.target.value),D.target.value!==""&&c(!0)},placeholder:"Ej: 36.65",className:"bg-gray-50 border-gray-200 text-gray-800 placeholder-gray-400 focus:ring-pink-500 focus:border-pink-500 text-base",disabled:I}),p.jsx("button",{type:"button",onClick:()=>{a(""),c(!1)},className:"absolute right-2 transform -translate-y-20 text-rose-400  hover:text-rose-400",title:"Eliminar correccin",children:"X"})]}),p.jsxs("div",{className:"flex items-center space-x-2 mt-2",children:[p.jsx(yN,{id:"useCorrected",checked:l,onCheckedChange:c,className:"data-[state=checked]:bg-pink-500 data-[state=checked]:text-white border-gray-500",disabled:I||s===""}),p.jsx(An,{htmlFor:"useCorrected",className:"text-sm text-gray-500",children:"Usar correccin en la grfica"})]}),p.jsxs(Te,{type:"button",variant:y?"outline":"destructive",size:"sm",onClick:()=>b(!y),className:"mt-2 hover:bg-rose-200/20",disabled:I,children:[y?p.jsx(Ya,{className:"mr-1 h-4 w-4"}):p.jsx(Ap,{className:"mr-1 h-4 w-4"}),y?"Restaurar":"Despreciar"]})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsxs(An,{htmlFor:"fertilitySymbol",className:"flex items-center text-gray-700 text-lg",children:[p.jsx(gH,{className:"mr-2 h-5 w-5 text-teal-400"}),"Smbolo de Fertilidad"]}),p.jsxs(Qee,{value:w,onValueChange:v,disabled:I,children:[p.jsx(cM,{className:"w-full bg-gray-50 border-gray-200 text-gray-800 hover:bg-gray-100 hover:text-gray-800",children:p.jsx(Xee,{placeholder:"Selecciona un smbolo"})}),p.jsx(uM,{className:"bg-gray-50 border-gray-200 text-gray-800",children:lN.map(D=>p.jsx(dM,{value:D.value,className:"hover:bg-gray-100 focus:bg-gray-100",children:p.jsxs("div",{className:"flex items-center",children:[p.jsx("span",{className:`w-4 h-4 rounded-full mr-2 ${D.color} ${D.pattern?"pattern-bg":""}`}),D.label]})},D.value))})]})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsxs(An,{htmlFor:"mucusSensation",className:"flex items-center text-gray-700 text-lg",children:[p.jsx(aH,{className:"mr-2 h-5 w-5 text-sky-400"}),"Sensacin del Moco Cervical"]}),p.jsx(wf,{id:"mucusSensation",value:u,onChange:D=>f(D.target.value),placeholder:"Describe la sensacin (ej: Seca, Hmeda, Mojada)",className:"bg-gray-50 border-gray-200 text-gray-800 placeholder-gray-400 focus:ring-pink-500 focus:border-pink-500 text-base min-h-[80px]",disabled:I})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsxs(An,{htmlFor:"mucusAppearance",className:"flex items-center text-gray-700 text-lg",children:[p.jsx(Ya,{className:"mr-2 h-5 w-5 text-amber-400"}),"Apariencia del Moco Cervical"]}),p.jsx(wf,{id:"mucusAppearance",value:h,onChange:D=>g(D.target.value),placeholder:"Describe la apariencia (ej: Pegajoso, Elstico)",className:"bg-gray-50 border-gray-200 text-gray-800 placeholder-gray-400 focus:ring-pink-500 focus:border-pink-500 text-base min-h-[80px]",disabled:I})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsxs(An,{htmlFor:"observations",className:"flex items-center text-gray-700 text-lg",children:[p.jsx(nH,{className:"mr-2 h-5 w-5 text-indigo-400"}),"Observaciones Adicionales"]}),p.jsx(wf,{id:"observations",value:E,onChange:D=>_(D.target.value),placeholder:"Anota cualquier otra observacin relevante (ej: Dolor, medicacin)",className:"bg-gray-50 border-gray-200 text-gray-800 placeholder-gray-400 focus:ring-pink-500 focus:border-pink-500 text-base min-h-[80px]",disabled:I})]})]})},tte=({onCancel:t,isProcessing:e,isEditing:n})=>p.jsxs("div",{className:"flex space-x-4 pt-4",children:[t&&p.jsxs(Te,{type:"button",onClick:t,variant:"outline",className:"w-full border-gray-300 text-gray-700 hover:bg-gray-100 font-semibold py-3 text-lg",disabled:e,children:[p.jsx(uu,{className:"mr-2 h-5 w-5"}),"Cancelar"]}),p.jsxs(Te,{type:"submit",className:"w-full bg-gradient-to-r from-pink-500 to-fuchsia-600 hover:from-pink-600 hover:to-fuchsia-700 text-white font-semibold py-3 text-lg shadow-md hover:shadow-lg transition-all duration-300 transform hover:scale-102",disabled:e,children:[e?p.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white mr-2"}):p.jsx(wH,{className:"mr-2 h-5 w-5"}),n?"Actualizar Registro":"Guardar"]})]}),nte=(t,e,n,r)=>{const[i,o]=m.useState(e!=null&&e.isoDate?ue(e.isoDate):Se(new Date)),[s,a]=m.useState((e==null?void 0:e.temperature_raw)===null||(e==null?void 0:e.temperature_raw)===void 0?"":String(e.temperature_raw)),[l,c]=m.useState(e!=null&&e.timestamp?he(ue(e.timestamp),"HH:mm"):he(new Date,"HH:mm")),[u,f]=m.useState((e==null?void 0:e.temperature_corrected)===null||(e==null?void 0:e.temperature_corrected)===void 0?"":String(e.temperature_corrected)),[h,g]=m.useState((e==null?void 0:e.use_corrected)||!1),[w,v]=m.useState((e==null?void 0:e.mucusSensation)||""),[E,_]=m.useState((e==null?void 0:e.mucusAppearance)||""),[y,b]=m.useState((e==null?void 0:e.fertility_symbol)||ga.NONE.value),[I,N]=m.useState((e==null?void 0:e.observations)||""),[O,S]=m.useState((e==null?void 0:e.ignored)||!1),{toast:C}=yl();return m.useEffect(()=>{e?(o(ue(e.isoDate)),a(e.temperature_raw===null||e.temperature_raw===void 0?"":String(e.temperature_raw)),c(e.timestamp?he(ue(e.timestamp),"HH:mm"):""),f(e.temperature_corrected===null||e.temperature_corrected===void 0?"":String(e.temperature_corrected)),g(e.use_corrected||!1),v(e.mucusSensation||""),_(e.mucusAppearance||""),b(e.fertility_symbol||ga.NONE.value),N(e.observations||""),S(e.ignored||!1)):(o(Se(new Date)),a(""),c(he(new Date,"HH:mm")),f(""),g(!1),v(""),_(""),b(ga.NONE.value),N(""),S(!1))},[e]),{date:i,setDate:o,temperatureRaw:s,setTemperatureRaw:a,time:l,setTime:c,temperatureCorrected:u,setTemperatureCorrected:f,useCorrected:h,setUseCorrected:g,mucusSensation:w,setMucusSensation:v,mucusAppearance:E,setMucusAppearance:_,fertilitySymbol:y,setFertilitySymbol:b,observations:I,setObservations:N,ignored:O,setIgnored:S,handleSubmit:A=>{if(A.preventDefault(),!i){C({title:"Error",description:"La fecha es obligatoria.",variant:"destructive"});return}const M=he(i,"yyyy-MM-dd");t({isoDate:M,time:l,temperature_raw:s===""?null:parseFloat(s),temperature_corrected:u===""?null:parseFloat(u),use_corrected:h,mucusSensation:w,mucusAppearance:E,fertility_symbol:y,observations:I,ignored:O}),n||(o(Se(new Date)),a(""),c(he(new Date,"HH:mm")),f(""),g(!1),v(""),_(""),b(ga.NONE.value),N(""))}}},fM=({onSubmit:t,initialData:e,onCancel:n,cycleStartDate:r,isProcessing:i,isEditing:o=!1})=>{const s=m.useRef(null);m.useEffect(()=>{const D=s.current;if(!D)return;const k=B=>{B.target&&"scrollIntoView"in B.target&&setTimeout(()=>{B.target.scrollIntoView({behavior:"smooth",block:"center"})},50)};return D.addEventListener("focusin",k),()=>D.removeEventListener("focusin",k)},[]);const{date:a,setDate:l,time:c,setTime:u,temperatureRaw:f,setTemperatureRaw:h,temperatureCorrected:g,setTemperatureCorrected:w,useCorrected:v,setUseCorrected:E,mucusSensation:_,setMucusSensation:y,mucusAppearance:b,setMucusAppearance:I,fertilitySymbol:N,setFertilitySymbol:O,observations:S,setObservations:C,ignored:P,setIgnored:A,handleSubmit:M}=nte(t,e,o);return p.jsxs(be.form,{ref:s,onSubmit:M,className:"space-y-6 bg-white p-4 sm:p-6 rounded-xl border border-[#FFB1DD]/50 shadow w-full",initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5},children:[p.jsxs("div",{className:"flex justify-between items-center mb-6",children:[p.jsx("h2",{className:"text-2xl font-semibold text-[#292a46]",children:o?"Editar Registro":"Aadir Registro"}),n&&p.jsx(Te,{type:"button",onClick:n,variant:"ghost",size:"icon",className:"text-gray-700 hover:text-pink-500 hover:bg-pink-50",children:p.jsx(uu,{className:"h-6 w-6"})})]}),p.jsx(ete,{date:a,setDate:l,time:c,setTime:u,temperatureRaw:f,setTemperatureRaw:h,temperatureCorrected:g,setTemperatureCorrected:w,useCorrected:v,setUseCorrected:E,mucusSensation:_,setMucusSensation:y,mucusAppearance:b,setMucusAppearance:I,fertilitySymbol:N,setFertilitySymbol:O,observations:S,setObservations:C,ignored:P,setIgnored:A,isProcessing:i,isEditing:o,initialData:e,cycleStartDate:r}),p.jsx(tte,{onCancel:n,isProcessing:i,isEditing:o})]})};var rte=m.createContext(void 0);function ite(t){const e=m.useContext(rte);return t||e||"ltr"}function ote(t,[e,n]){return Math.min(n,Math.max(e,t))}function ste(t,e){return m.useReducer((n,r)=>e[n][r]??n,t)}var Y1="ScrollArea",[hM,Lne]=Ms(Y1),[ate,Jn]=hM(Y1),pM=m.forwardRef((t,e)=>{const{__scopeScrollArea:n,type:r="hover",dir:i,scrollHideDelay:o=600,...s}=t,[a,l]=m.useState(null),[c,u]=m.useState(null),[f,h]=m.useState(null),[g,w]=m.useState(null),[v,E]=m.useState(null),[_,y]=m.useState(0),[b,I]=m.useState(0),[N,O]=m.useState(!1),[S,C]=m.useState(!1),P=lt(e,M=>l(M)),A=ite(i);return p.jsx(ate,{scope:n,type:r,dir:A,scrollHideDelay:o,scrollArea:a,viewport:c,onViewportChange:u,content:f,onContentChange:h,scrollbarX:g,onScrollbarXChange:w,scrollbarXEnabled:N,onScrollbarXEnabledChange:O,scrollbarY:v,onScrollbarYChange:E,scrollbarYEnabled:S,onScrollbarYEnabledChange:C,onCornerWidthChange:y,onCornerHeightChange:I,children:p.jsx(ze.div,{dir:A,...s,ref:P,style:{position:"relative","--radix-scroll-area-corner-width":_+"px","--radix-scroll-area-corner-height":b+"px",...t.style}})})});pM.displayName=Y1;var mM="ScrollAreaViewport",gM=m.forwardRef((t,e)=>{const{__scopeScrollArea:n,children:r,nonce:i,...o}=t,s=Jn(mM,n),a=m.useRef(null),l=lt(e,a,s.onViewportChange);return p.jsxs(p.Fragment,{children:[p.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:i}),p.jsx(ze.div,{"data-radix-scroll-area-viewport":"",...o,ref:l,style:{overflowX:s.scrollbarXEnabled?"scroll":"hidden",overflowY:s.scrollbarYEnabled?"scroll":"hidden",...t.style},children:p.jsx("div",{ref:s.onContentChange,style:{minWidth:"100%",display:"table"},children:r})})]})});gM.displayName=mM;var qr="ScrollAreaScrollbar",K1=m.forwardRef((t,e)=>{const{forceMount:n,...r}=t,i=Jn(qr,t.__scopeScrollArea),{onScrollbarXEnabledChange:o,onScrollbarYEnabledChange:s}=i,a=t.orientation==="horizontal";return m.useEffect(()=>(a?o(!0):s(!0),()=>{a?o(!1):s(!1)}),[a,o,s]),i.type==="hover"?p.jsx(lte,{...r,ref:e,forceMount:n}):i.type==="scroll"?p.jsx(cte,{...r,ref:e,forceMount:n}):i.type==="auto"?p.jsx(vM,{...r,ref:e,forceMount:n}):i.type==="always"?p.jsx(Q1,{...r,ref:e}):null});K1.displayName=qr;var lte=m.forwardRef((t,e)=>{const{forceMount:n,...r}=t,i=Jn(qr,t.__scopeScrollArea),[o,s]=m.useState(!1);return m.useEffect(()=>{const a=i.scrollArea;let l=0;if(a){const c=()=>{window.clearTimeout(l),s(!0)},u=()=>{l=window.setTimeout(()=>s(!1),i.scrollHideDelay)};return a.addEventListener("pointerenter",c),a.addEventListener("pointerleave",u),()=>{window.clearTimeout(l),a.removeEventListener("pointerenter",c),a.removeEventListener("pointerleave",u)}}},[i.scrollArea,i.scrollHideDelay]),p.jsx(Xn,{present:n||o,children:p.jsx(vM,{"data-state":o?"visible":"hidden",...r,ref:e})})}),cte=m.forwardRef((t,e)=>{const{forceMount:n,...r}=t,i=Jn(qr,t.__scopeScrollArea),o=t.orientation==="horizontal",s=Hp(()=>l("SCROLL_END"),100),[a,l]=ste("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return m.useEffect(()=>{if(a==="idle"){const c=window.setTimeout(()=>l("HIDE"),i.scrollHideDelay);return()=>window.clearTimeout(c)}},[a,i.scrollHideDelay,l]),m.useEffect(()=>{const c=i.viewport,u=o?"scrollLeft":"scrollTop";if(c){let f=c[u];const h=()=>{const g=c[u];f!==g&&(l("SCROLL"),s()),f=g};return c.addEventListener("scroll",h),()=>c.removeEventListener("scroll",h)}},[i.viewport,o,l,s]),p.jsx(Xn,{present:n||a!=="hidden",children:p.jsx(Q1,{"data-state":a==="hidden"?"hidden":"visible",...r,ref:e,onPointerEnter:Ue(t.onPointerEnter,()=>l("POINTER_ENTER")),onPointerLeave:Ue(t.onPointerLeave,()=>l("POINTER_LEAVE"))})})}),vM=m.forwardRef((t,e)=>{const n=Jn(qr,t.__scopeScrollArea),{forceMount:r,...i}=t,[o,s]=m.useState(!1),a=t.orientation==="horizontal",l=Hp(()=>{if(n.viewport){const c=n.viewport.offsetWidth<n.viewport.scrollWidth,u=n.viewport.offsetHeight<n.viewport.scrollHeight;s(a?c:u)}},10);return el(n.viewport,l),el(n.content,l),p.jsx(Xn,{present:r||o,children:p.jsx(Q1,{"data-state":o?"visible":"hidden",...i,ref:e})})}),Q1=m.forwardRef((t,e)=>{const{orientation:n="vertical",...r}=t,i=Jn(qr,t.__scopeScrollArea),o=m.useRef(null),s=m.useRef(0),[a,l]=m.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),c=EM(a.viewport,a.content),u={...r,sizes:a,onSizesChange:l,hasThumb:c>0&&c<1,onThumbChange:h=>o.current=h,onThumbPointerUp:()=>s.current=0,onThumbPointerDown:h=>s.current=h};function f(h,g){return mte(h,s.current,a,g)}return n==="horizontal"?p.jsx(ute,{...u,ref:e,onThumbPositionChange:()=>{if(i.viewport&&o.current){const h=i.viewport.scrollLeft,g=sS(h,a,i.dir);o.current.style.transform=`translate3d(${g}px, 0, 0)`}},onWheelScroll:h=>{i.viewport&&(i.viewport.scrollLeft=h)},onDragScroll:h=>{i.viewport&&(i.viewport.scrollLeft=f(h,i.dir))}}):n==="vertical"?p.jsx(dte,{...u,ref:e,onThumbPositionChange:()=>{if(i.viewport&&o.current){const h=i.viewport.scrollTop,g=sS(h,a);o.current.style.transform=`translate3d(0, ${g}px, 0)`}},onWheelScroll:h=>{i.viewport&&(i.viewport.scrollTop=h)},onDragScroll:h=>{i.viewport&&(i.viewport.scrollTop=f(h))}}):null}),ute=m.forwardRef((t,e)=>{const{sizes:n,onSizesChange:r,...i}=t,o=Jn(qr,t.__scopeScrollArea),[s,a]=m.useState(),l=m.useRef(null),c=lt(e,l,o.onScrollbarXChange);return m.useEffect(()=>{l.current&&a(getComputedStyle(l.current))},[l]),p.jsx(wM,{"data-orientation":"horizontal",...i,ref:c,sizes:n,style:{bottom:0,left:o.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:o.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":zp(n)+"px",...t.style},onThumbPointerDown:u=>t.onThumbPointerDown(u.x),onDragScroll:u=>t.onDragScroll(u.x),onWheelScroll:(u,f)=>{if(o.viewport){const h=o.viewport.scrollLeft+u.deltaX;t.onWheelScroll(h),TM(h,f)&&u.preventDefault()}},onResize:()=>{l.current&&o.viewport&&s&&r({content:o.viewport.scrollWidth,viewport:o.viewport.offsetWidth,scrollbar:{size:l.current.clientWidth,paddingStart:Oh(s.paddingLeft),paddingEnd:Oh(s.paddingRight)}})}})}),dte=m.forwardRef((t,e)=>{const{sizes:n,onSizesChange:r,...i}=t,o=Jn(qr,t.__scopeScrollArea),[s,a]=m.useState(),l=m.useRef(null),c=lt(e,l,o.onScrollbarYChange);return m.useEffect(()=>{l.current&&a(getComputedStyle(l.current))},[l]),p.jsx(wM,{"data-orientation":"vertical",...i,ref:c,sizes:n,style:{top:0,right:o.dir==="ltr"?0:void 0,left:o.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":zp(n)+"px",...t.style},onThumbPointerDown:u=>t.onThumbPointerDown(u.y),onDragScroll:u=>t.onDragScroll(u.y),onWheelScroll:(u,f)=>{if(o.viewport){const h=o.viewport.scrollTop+u.deltaY;t.onWheelScroll(h),TM(h,f)&&u.preventDefault()}},onResize:()=>{l.current&&o.viewport&&s&&r({content:o.viewport.scrollHeight,viewport:o.viewport.offsetHeight,scrollbar:{size:l.current.clientHeight,paddingStart:Oh(s.paddingTop),paddingEnd:Oh(s.paddingBottom)}})}})}),[fte,yM]=hM(qr),wM=m.forwardRef((t,e)=>{const{__scopeScrollArea:n,sizes:r,hasThumb:i,onThumbChange:o,onThumbPointerUp:s,onThumbPointerDown:a,onThumbPositionChange:l,onDragScroll:c,onWheelScroll:u,onResize:f,...h}=t,g=Jn(qr,n),[w,v]=m.useState(null),E=lt(e,P=>v(P)),_=m.useRef(null),y=m.useRef(""),b=g.viewport,I=r.content-r.viewport,N=Wt(u),O=Wt(l),S=Hp(f,10);function C(P){if(_.current){const A=P.clientX-_.current.left,M=P.clientY-_.current.top;c({x:A,y:M})}}return m.useEffect(()=>{const P=A=>{const M=A.target;(w==null?void 0:w.contains(M))&&N(A,I)};return document.addEventListener("wheel",P,{passive:!1}),()=>document.removeEventListener("wheel",P,{passive:!1})},[b,w,I,N]),m.useEffect(O,[r,O]),el(w,S),el(g.content,S),p.jsx(fte,{scope:n,scrollbar:w,hasThumb:i,onThumbChange:Wt(o),onThumbPointerUp:Wt(s),onThumbPositionChange:O,onThumbPointerDown:Wt(a),children:p.jsx(ze.div,{...h,ref:E,style:{position:"absolute",...h.style},onPointerDown:Ue(t.onPointerDown,P=>{P.button===0&&(P.target.setPointerCapture(P.pointerId),_.current=w.getBoundingClientRect(),y.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",g.viewport&&(g.viewport.style.scrollBehavior="auto"),C(P))}),onPointerMove:Ue(t.onPointerMove,C),onPointerUp:Ue(t.onPointerUp,P=>{const A=P.target;A.hasPointerCapture(P.pointerId)&&A.releasePointerCapture(P.pointerId),document.body.style.webkitUserSelect=y.current,g.viewport&&(g.viewport.style.scrollBehavior=""),_.current=null})})})}),Mh="ScrollAreaThumb",_M=m.forwardRef((t,e)=>{const{forceMount:n,...r}=t,i=yM(Mh,t.__scopeScrollArea);return p.jsx(Xn,{present:n||i.hasThumb,children:p.jsx(hte,{ref:e,...r})})}),hte=m.forwardRef((t,e)=>{const{__scopeScrollArea:n,style:r,...i}=t,o=Jn(Mh,n),s=yM(Mh,n),{onThumbPositionChange:a}=s,l=lt(e,f=>s.onThumbChange(f)),c=m.useRef(void 0),u=Hp(()=>{c.current&&(c.current(),c.current=void 0)},100);return m.useEffect(()=>{const f=o.viewport;if(f){const h=()=>{if(u(),!c.current){const g=gte(f,a);c.current=g,a()}};return a(),f.addEventListener("scroll",h),()=>f.removeEventListener("scroll",h)}},[o.viewport,u,a]),p.jsx(ze.div,{"data-state":s.hasThumb?"visible":"hidden",...i,ref:l,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...r},onPointerDownCapture:Ue(t.onPointerDownCapture,f=>{const g=f.target.getBoundingClientRect(),w=f.clientX-g.left,v=f.clientY-g.top;s.onThumbPointerDown({x:w,y:v})}),onPointerUp:Ue(t.onPointerUp,s.onThumbPointerUp)})});_M.displayName=Mh;var X1="ScrollAreaCorner",xM=m.forwardRef((t,e)=>{const n=Jn(X1,t.__scopeScrollArea),r=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&r?p.jsx(pte,{...t,ref:e}):null});xM.displayName=X1;var pte=m.forwardRef((t,e)=>{const{__scopeScrollArea:n,...r}=t,i=Jn(X1,n),[o,s]=m.useState(0),[a,l]=m.useState(0),c=!!(o&&a);return el(i.scrollbarX,()=>{var f;const u=((f=i.scrollbarX)==null?void 0:f.offsetHeight)||0;i.onCornerHeightChange(u),l(u)}),el(i.scrollbarY,()=>{var f;const u=((f=i.scrollbarY)==null?void 0:f.offsetWidth)||0;i.onCornerWidthChange(u),s(u)}),c?p.jsx(ze.div,{...r,ref:e,style:{width:o,height:a,position:"absolute",right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:0,...t.style}}):null});function Oh(t){return t?parseInt(t,10):0}function EM(t,e){const n=t/e;return isNaN(n)?0:n}function zp(t){const e=EM(t.viewport,t.content),n=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,r=(t.scrollbar.size-n)*e;return Math.max(r,18)}function mte(t,e,n,r="ltr"){const i=zp(n),o=i/2,s=e||o,a=i-s,l=n.scrollbar.paddingStart+s,c=n.scrollbar.size-n.scrollbar.paddingEnd-a,u=n.content-n.viewport,f=r==="ltr"?[0,u]:[u*-1,0];return bM([l,c],f)(t)}function sS(t,e,n="ltr"){const r=zp(e),i=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,o=e.scrollbar.size-i,s=e.content-e.viewport,a=o-r,l=n==="ltr"?[0,s]:[s*-1,0],c=ote(t,l);return bM([0,s],[0,a])(c)}function bM(t,e){return n=>{if(t[0]===t[1]||e[0]===e[1])return e[0];const r=(e[1]-e[0])/(t[1]-t[0]);return e[0]+r*(n-t[0])}}function TM(t,e){return t>0&&t<e}var gte=(t,e=()=>{})=>{let n={left:t.scrollLeft,top:t.scrollTop},r=0;return function i(){const o={left:t.scrollLeft,top:t.scrollTop},s=n.left!==o.left,a=n.top!==o.top;(s||a)&&e(),n=o,r=window.requestAnimationFrame(i)}(),()=>window.cancelAnimationFrame(r)};function Hp(t,e){const n=Wt(t),r=m.useRef(0);return m.useEffect(()=>()=>window.clearTimeout(r.current),[]),m.useCallback(()=>{window.clearTimeout(r.current),r.current=window.setTimeout(n,e)},[n,e])}function el(t,e){const n=Wt(e);Br(()=>{let r=0;if(t){const i=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(n)});return i.observe(t),()=>{window.cancelAnimationFrame(r),i.unobserve(t)}}},[t,n])}var CM=pM,vte=gM,yte=xM;const SM=_e.forwardRef(({className:t,children:e,...n},r)=>p.jsxs(CM,{ref:r,className:De("relative overflow-hidden",t),...n,children:[p.jsx(vte,{className:"h-full w-full rounded-[inherit]",children:e}),p.jsx(PM,{}),p.jsx(yte,{})]}));SM.displayName=CM.displayName;const PM=_e.forwardRef(({className:t,orientation:e="vertical",...n},r)=>p.jsx(K1,{ref:r,orientation:e,className:De("flex touch-none select-none transition-colors",e==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",e==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",t),...n,children:p.jsx(_M,{className:"relative flex-1 rounded-full bg-border"})}));PM.displayName=K1.displayName;const IM=({records:t,onEdit:e,onDelete:n,onClose:r,isArchiveView:i=!1,isProcessing:o})=>{if(!t||t.length===0)return p.jsxs(be.div,{className:"text-center text-[#6B7280] p-8 bg-white rounded-xl shadow",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},children:[p.jsx("p",{className:"text-xl mb-4",children:"No hay registros para mostrar."}),r&&!i&&p.jsxs(Te,{onClick:r,variant:"outline",className:"border-gray-300 hover:bg-gray-100 text-gray-700",children:[p.jsx(uu,{className:"mr-2 h-5 w-5"}),"Cerrar"]})]});const s=[...t].sort((a,l)=>{const c=a.timestamp?ue(a.timestamp):a.isoDate?ue(a.isoDate):0,u=l.timestamp?ue(l.timestamp):l.isoDate?ue(l.isoDate):0;return c-u});return p.jsxs(be.div,{className:"w-full bg-white/70 backdrop-blur-md p-4 sm:p-6 rounded-xl ring-1 ring-[#FFB1DD]/20 shadow-xl",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},children:[p.jsxs("div",{className:"flex justify-between items-center mb-6",children:[p.jsx("h2",{className:"text-2xl font-semibold text-gray-800",children:i?"Registros del Ciclo":"Mis Registros"}),r&&!i&&p.jsx(Te,{onClick:r,variant:"ghost",size:"icon",className:"text-gray-700 hover:text-pink-500 hover:bg-pink-50",children:p.jsx(uu,{className:"h-6 w-6"})})]}),p.jsx(SM,{className:"pr-4",children:p.jsx("ul",{className:"space-y-4",children:s.map(a=>{const l=x1(a.fertility_symbol),c=a.timestamp||a.isoDate,u=a.timestamp?he(ue(a.timestamp),"HH:mm"):null;return p.jsxs(be.li,{className:"bg-white/80 backdrop-blur-md ring-1 ring-[#FFB1DD]/50 border border-[#FFB1DD]/80 shadow-lg rounded-lg p-4 flex flex-col sm:flex-row justify-between items-start sm:items-center hover:shadow-xl transition-shadow duration-300",style:{boxShadow:"0 2px 6px rgba(0,0,0,0.05)"},layout:!0,initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,x:-20},transition:{duration:.2},children:[p.jsxs("div",{className:"flex-grow mb-3 sm:mb-0",children:[p.jsxs("h3",{className:"text-lg font-semibold text-pink-500 mb-1 ",children:[c?he(ue(c),"dd/MM/yyyy",{locale:eo}):"Fecha no disponible"," (Da ",a.cycleDay||"N/A",")"]}),a.temperature_raw!=null&&p.jsxs("p",{className:"text-sm text-[#6B7280]",children:[p.jsx("span",{className:"font-semibold",children:"Original:"})," ",a.temperature_raw.toFixed(2),"C",u&&p.jsx("span",{className:"ml-2 text-xs text-[#9CA3AF]",children:u}),a.temperature_corrected!=null&&!a.use_corrected&&p.jsx(Th,{className:"inline h-4 w-4 text-[#E27DBF] ml-1"})]}),a.temperature_corrected!=null&&p.jsxs("p",{className:"text-sm text-[#6B7280]",children:[p.jsx("span",{className:"font-semibold",children:"Corregida:"})," ",a.temperature_corrected.toFixed(2),"C",a.use_corrected&&p.jsx(Th,{className:"inline h-4 w-4 text-emerald-400 ml-1"})]}),p.jsxs("div",{className:"flex items-center mt-1",children:[l&&l.value!=="none"&&p.jsx("span",{className:`w-4 h-4 rounded-full mr-2 ${l.color} ${l.pattern?"pattern-bg":""} ${l.value==="white"?"border border-gray-300":""}`}),p.jsx("p",{className:`text-sm ${l?l.textColor:"text-[#6B7280]"}`,children:l?l.label:"Sin Smbolo"})]}),p.jsxs("p",{className:"text-sm text-[#6B7280] mt-1",children:[p.jsx("span",{className:"font-semibold",children:"Sensacin:"})," ",a.mucus_sensation||"N/A"]}),p.jsxs("p",{className:"text-sm text-[#6B7280]",children:[p.jsx("span",{className:"font-semibold",children:"Apariencia:"})," ",a.mucus_appearance||"N/A"]}),a.observations&&p.jsxs("p",{className:"text-sm text-[#6B7280] mt-1 italic",children:[p.jsx("span",{className:"font-semibold",children:"Observaciones:"})," ",a.observations]}),a.ignored&&p.jsx("p",{className:"text-xs text-rose-400 mt-1",children:"(Registro despreciado)"})]}),!i&&e&&n&&p.jsxs("div",{className:"flex space-x-2 self-end sm:self-center",children:[p.jsxs(Te,{variant:"outline",size:"sm",onClick:()=>e(a),className:"border-sky-500 text-sky-400 hover:bg-sky-500/20 hover:text-sky-300",disabled:o,children:[p.jsx(Ny,{className:"mr-1 h-4 w-4"})," Editar"]}),p.jsxs(Te,{variant:"destructive",size:"sm",onClick:()=>n(a.id),className:"bg-rose-600 hover:bg-rose-700",disabled:o,children:[p.jsx(sC,{className:"mr-1 h-4 w-4"})," Eliminar"]})]}),i&&e&&n&&p.jsxs("div",{className:"flex space-x-2 self-end sm:self-center",children:[p.jsxs(Te,{variant:"outline",size:"sm",onClick:()=>e(a),className:"border-sky-500 text-sky-400 hover:bg-sky-500/20 hover:text-sky-300",disabled:o,children:[p.jsx(Ny,{className:"mr-1 h-4 w-4"})," Editar"]}),p.jsxs(Te,{variant:"destructive",size:"sm",onClick:()=>n(a.id),className:"bg-rose-600 hover:bg-rose-700",disabled:o,children:[p.jsx(sC,{className:"mr-1 h-4 w-4"})," Eliminar"]})]})]},a.id||c)})})})]})},wte=()=>p.jsxs(be.div,{className:"text-center text-slate-400 py-10",initial:{opacity:0},animate:{opacity:1},transition:{duration:.5,delay:.6},children:[p.jsx("p",{className:"text-xl mb-4",children:"An no hay datos registrados para este ciclo."}),p.jsx("p",{children:'Haz clic en "Aadir Registro" para empezar.'}),p.jsx("div",{className:"mt-8"})]});function Cs(t,e){m.useEffect(()=>{if(!t)return;const n=crypto.randomUUID?crypto.randomUUID():Math.random().toString(36).slice(2),r=i=>{i.state&&i.state.overlay===n&&e()};return window.history.pushState({overlay:n},""),window.addEventListener("popstate",r),()=>{window.removeEventListener("popstate",r),window.history.state&&window.history.state.overlay===n&&window.history.back()}},[t,e])}var qp="Dialog",[AM,Vne]=Ms(qp),[_te,yr]=AM(qp),RM=t=>{const{__scopeDialog:e,children:n,open:r,defaultOpen:i,onOpenChange:o,modal:s=!0}=t,a=m.useRef(null),l=m.useRef(null),[c,u]=Rp({prop:r,defaultProp:i??!1,onChange:o,caller:qp});return p.jsx(_te,{scope:e,triggerRef:a,contentRef:l,contentId:xf(),titleId:xf(),descriptionId:xf(),open:c,onOpenChange:u,onOpenToggle:m.useCallback(()=>u(f=>!f),[u]),modal:s,children:n})};RM.displayName=qp;var kM="DialogTrigger",NM=m.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=yr(kM,n),o=lt(e,i.triggerRef);return p.jsx(ze.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":e_(i.open),...r,ref:o,onClick:Ue(t.onClick,i.onOpenToggle)})});NM.displayName=kM;var J1="DialogPortal",[xte,DM]=AM(J1,{forceMount:void 0}),MM=t=>{const{__scopeDialog:e,forceMount:n,children:r,container:i}=t,o=yr(J1,e);return p.jsx(xte,{scope:e,forceMount:n,children:m.Children.map(r,s=>p.jsx(Xn,{present:n||o.open,children:p.jsx(Vp,{asChild:!0,container:i,children:s})}))})};MM.displayName=J1;var Lh="DialogOverlay",OM=m.forwardRef((t,e)=>{const n=DM(Lh,t.__scopeDialog),{forceMount:r=n.forceMount,...i}=t,o=yr(Lh,t.__scopeDialog);return o.modal?p.jsx(Xn,{present:r||o.open,children:p.jsx(bte,{...i,ref:e})}):null});OM.displayName=Lh;var Ete=Ha("DialogOverlay.RemoveScroll"),bte=m.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=yr(Lh,n);return p.jsx(TD,{as:Ete,allowPinchZoom:!0,shards:[i.contentRef],children:p.jsx(ze.div,{"data-state":e_(i.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),Ss="DialogContent",LM=m.forwardRef((t,e)=>{const n=DM(Ss,t.__scopeDialog),{forceMount:r=n.forceMount,...i}=t,o=yr(Ss,t.__scopeDialog);return p.jsx(Xn,{present:r||o.open,children:o.modal?p.jsx(Tte,{...i,ref:e}):p.jsx(Cte,{...i,ref:e})})});LM.displayName=Ss;var Tte=m.forwardRef((t,e)=>{const n=yr(Ss,t.__scopeDialog),r=m.useRef(null),i=lt(e,n.contentRef,r);return m.useEffect(()=>{const o=r.current;if(o)return U1(o)},[]),p.jsx(VM,{...t,ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Ue(t.onCloseAutoFocus,o=>{var s;o.preventDefault(),(s=n.triggerRef.current)==null||s.focus()}),onPointerDownOutside:Ue(t.onPointerDownOutside,o=>{const s=o.detail.originalEvent,a=s.button===0&&s.ctrlKey===!0;(s.button===2||a)&&o.preventDefault()}),onFocusOutside:Ue(t.onFocusOutside,o=>o.preventDefault())})}),Cte=m.forwardRef((t,e)=>{const n=yr(Ss,t.__scopeDialog),r=m.useRef(!1),i=m.useRef(!1);return p.jsx(VM,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{var s,a;(s=t.onCloseAutoFocus)==null||s.call(t,o),o.defaultPrevented||(r.current||(a=n.triggerRef.current)==null||a.focus(),o.preventDefault()),r.current=!1,i.current=!1},onInteractOutside:o=>{var l,c;(l=t.onInteractOutside)==null||l.call(t,o),o.defaultPrevented||(r.current=!0,o.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const s=o.target;((c=n.triggerRef.current)==null?void 0:c.contains(s))&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&i.current&&o.preventDefault()}})}),VM=m.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:o,...s}=t,a=yr(Ss,n),l=m.useRef(null),c=lt(e,l);return DN(),p.jsxs(p.Fragment,{children:[p.jsx(k1,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:o,children:p.jsx(Dp,{role:"dialog",id:a.contentId,"aria-describedby":a.descriptionId,"aria-labelledby":a.titleId,"data-state":e_(a.open),...s,ref:c,onDismiss:()=>a.onOpenChange(!1)})}),p.jsxs(p.Fragment,{children:[p.jsx(Ste,{titleId:a.titleId}),p.jsx(Ite,{contentRef:l,descriptionId:a.descriptionId})]})]})}),Z1="DialogTitle",jM=m.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=yr(Z1,n);return p.jsx(ze.h2,{id:i.titleId,...r,ref:e})});jM.displayName=Z1;var FM="DialogDescription",$M=m.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=yr(FM,n);return p.jsx(ze.p,{id:i.descriptionId,...r,ref:e})});$M.displayName=FM;var UM="DialogClose",BM=m.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=yr(UM,n);return p.jsx(ze.button,{type:"button",...r,ref:e,onClick:Ue(t.onClick,()=>i.onOpenChange(!1))})});BM.displayName=UM;function e_(t){return t?"open":"closed"}var WM="DialogTitleWarning",[jne,zM]=aK(WM,{contentName:Ss,titleName:Z1,docsSlug:"dialog"}),Ste=({titleId:t})=>{const e=zM(WM),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return m.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},Pte="DialogDescriptionWarning",Ite=({contentRef:t,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${zM(Pte).contentName}}.`;return m.useEffect(()=>{var o;const i=(o=t.current)==null?void 0:o.getAttribute("aria-describedby");e&&i&&(document.getElementById(e)||console.warn(r))},[r,t,e]),null},HM=RM,Ate=NM,qM=MM,Gp=OM,Yp=LM,Kp=jM,Qp=$M,GM=BM;const t_=HM,Rte=qM,YM=_e.forwardRef(({className:t,...e},n)=>p.jsx(Gp,{ref:n,className:De("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));YM.displayName=Gp.displayName;const Xp=_e.forwardRef(({className:t,children:e,...n},r)=>p.jsxs(Rte,{children:[p.jsx(YM,{}),p.jsxs(Yp,{ref:r,className:De("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...n,children:[e,p.jsxs(GM,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[p.jsx(Fu,{className:"h-4 w-4"}),p.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Xp.displayName=Yp.displayName;const Jp=({className:t,...e})=>p.jsx("div",{className:De("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});Jp.displayName="DialogHeader";const Zp=({className:t,...e})=>p.jsx("div",{className:De("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});Zp.displayName="DialogFooter";const em=_e.forwardRef(({className:t,...e},n)=>p.jsx(Kp,{ref:n,className:De("text-lg font-semibold leading-none tracking-tight",t),...e}));em.displayName=Kp.displayName;const tm=_e.forwardRef(({className:t,...e},n)=>p.jsx(Qp,{ref:n,className:De("text-sm text-muted-foreground",t),...e}));tm.displayName=Qp.displayName;const KM=({isOpen:t,onClose:e,onConfirm:n,recordDate:r})=>(Cs(t,e),p.jsx(t_,{open:t,onOpenChange:e,children:p.jsxs(Xp,{className:"bg-slate-800 border-slate-700 text-slate-50",children:[p.jsxs(Jp,{children:[p.jsx(em,{children:"Confirmar Eliminacin"}),p.jsxs(tm,{className:"text-slate-400",children:["Ests seguro de que quieres eliminar el registro del ",r,"? Esta accin no se puede deshacer."]})]}),p.jsxs(Zp,{className:"sm:justify-end",children:[p.jsx(Te,{variant:"outline",onClick:e,className:"border-slate-600 hover:bg-slate-700",children:"Cancelar"}),p.jsx(Te,{variant:"destructive",onClick:n,children:"Eliminar"})]})]})})),kte=({isOpen:t,onClose:e,onConfirm:n,currentCycleStartDate:r})=>{const[i,o]=m.useState(he(new Date,"yyyy-MM-dd"));Cs(t,e);const s=()=>{n(i)};return p.jsx(t_,{open:t,onOpenChange:e,children:p.jsxs(Xp,{className:"bg-white border-pink-100 text-gray-800",children:[p.jsxs(Jp,{children:[p.jsx(em,{children:"Iniciar Nuevo Ciclo"}),p.jsxs(tm,{className:"text-gray-600",children:["Ests seguro de que quieres iniciar un nuevo ciclo? Los datos del ciclo actual (",he(new Date(r),"dd/MM/yyyy")," - ",he(new Date,"dd/MM/yyyy"),") sern archivados."]})]}),p.jsxs("div",{className:"my-4 space-y-2",children:[p.jsx("label",{htmlFor:"startDate",className:"text-gray-700 text-sm",children:"Fecha de inicio del nuevo ciclo"}),p.jsx(Vr,{id:"startDate",type:"date",value:i,onChange:a=>o(a.target.value),max:he(new Date,"yyyy-MM-dd"),className:"bg-gray-50 border-gray-200 text-gray-800"})]}),p.jsxs(Zp,{className:"sm:justify-end",children:[p.jsx(Te,{variant:"outline",onClick:e,className:"border-gray-300 text-gray-700 hover:bg-gray-100",children:"Cancelar"}),p.jsx(Te,{variant:"primary",onClick:s,className:"bg-pink-600 hover:bg-pink-700 text-white",children:"Confirmar Nuevo Ciclo"})]})]})})},QM=({isOpen:t,onClose:e,onConfirm:n,initialStartDate:r,initialEndDate:i,includeEndDate:o=!0})=>{const[s,a]=m.useState(r||""),[l,c]=m.useState(i||"");Cs(t,e),m.useEffect(()=>{a(r||""),c(i||"")},[r,i]);const u=()=>{n(o?{startDate:s,endDate:l||null}:{startDate:s})};return p.jsx(t_,{open:t,onOpenChange:e,children:p.jsxs(Xp,{className:"bg-white border-pink-100 text-gray-800",children:[p.jsxs(Jp,{children:[p.jsx(em,{children:"Editar Fechas del Ciclo"}),p.jsx(tm,{className:"text-gray-600",children:o?"Modifica la fecha de inicio y fin del ciclo.":"Modifica la fecha de inicio del ciclo."})]}),p.jsxs("div",{className:"my-4 space-y-4",children:[p.jsxs("div",{children:[p.jsx("label",{htmlFor:"startDate",className:"text-gray-700 text-sm",children:"Inicio del ciclo"}),p.jsx(Vr,{id:"startDate",type:"date",value:s,onChange:f=>a(f.target.value),className:"bg-gray-50 border-gray-200 text-gray-800"})]}),o&&p.jsxs("div",{children:[p.jsx("label",{htmlFor:"endDate",className:"text-gray-700 text-sm",children:"Fin del ciclo"}),p.jsx(Vr,{id:"endDate",type:"date",value:l||"",onChange:f=>c(f.target.value),className:"bg-gray-50 border-gray-200 text-gray-800"})]})]}),p.jsxs(Zp,{className:"sm:justify-end",children:[p.jsx(Te,{variant:"outline",onClick:e,className:"border-gray-300 text-gray-700 hover:bg-gray-100",children:"Cancelar"}),p.jsx(Te,{variant:"primary",onClick:u,className:"bg-pink-600 hover:bg-pink-700 text-white",children:"Guardar"})]})]})})},Nte=(t,e)=>{if(!t||!e)return 0;const n=Se(ue(t)),r=Se(ue(e));return wo(n,r)+1},Wg=(t,e)=>!t||!Array.isArray(t)||!e?[]:[...t].sort((r,i)=>{const o=r.timestamp?ue(r.timestamp):r.iso_date?ue(r.iso_date):0,s=i.timestamp?ue(i.timestamp):i.iso_date?ue(i.iso_date):0;return OH(o,s)}).map(r=>({...r,id:r.id,isoDate:r.iso_date||(r.timestamp?he(ue(r.timestamp),"yyyy-MM-dd"):null),date:r.timestamp?he(ue(r.timestamp),"dd/MM"):r.iso_date?he(ue(r.iso_date),"dd/MM"):"N/A",cycleDay:Nte(r.iso_date||r.timestamp,e),temperature_raw:r.temperature_raw,temperature_corrected:r.temperature_corrected,use_corrected:r.use_corrected,mucusSensation:r.mucus_sensation,mucusAppearance:r.mucus_appearance,fertility_symbol:r.fertility_symbol,observations:r.observations,ignored:r.ignored,temperature_chart:r.temperature_chart??(r.use_corrected?r.temperature_corrected??r.temperature_raw:r.temperature_raw??r.temperature_corrected),timestamp:r.timestamp})),Dte=async t=>{const e=ws(Qn,"cycles"),n=ru(e,go("user_id","==",t)),r=await iu(n);if(r.empty)return null;const i=r.docs.map(u=>({id:u.id,...u.data()})).filter(u=>u.end_date===null||u.end_date===void 0).sort((u,f)=>(f.start_date||"").localeCompare(u.start_date||""));if(i.length===0)return null;const o=i[0],s=ws(Qn,"entries"),a=ru(s,go("cycle_id","==",o.id),go("user_id","==",t)),c=(await iu(a)).docs.map(u=>({id:u.id,...u.data()}));return{id:o.id,startDate:o.start_date,endDate:o.end_date,data:c}},Mte=async t=>{const e=ws(Qn,"cycles"),n=ru(e,go("user_id","==",t)),i=(await iu(n)).docs.map(s=>({id:s.id,...s.data()})).filter(s=>s.end_date!==null&&s.end_date!==void 0).sort((s,a)=>(a.start_date||"").localeCompare(s.start_date||""));return await Promise.all(i.map(async s=>{const a=ws(Qn,"entries"),l=ru(a,go("cycle_id","==",s.id),go("user_id","==",t)),u=(await iu(l)).docs.map(f=>({id:f.id,...f.data()}));return{id:s.id,startDate:s.start_date,endDate:s.end_date,data:u}}))},aS=async(t,e)=>{const n=pl(Qn,"cycles",e),r=await kw(n);if(!r.exists())return null;const i=r.data();if(i.user_id!==t)return null;const o=ws(Qn,"entries"),s=ru(o,go("cycle_id","==",e),go("user_id","==",t)),l=(await iu(s)).docs.map(c=>({id:c.id,...c.data()}));return{id:e,startDate:i.start_date,endDate:i.end_date,data:l}},lS=async(t,e)=>({id:(await IR(ws(Qn,"cycles"),{user_id:t,start_date:e,end_date:null})).id,start_date:e}),Ote=async t=>({id:(await IR(ws(Qn,"entries"),{cycle_id:t.cycle_id,user_id:t.user_id,timestamp:t.timestamp??new Date().toISOString(),temperature_raw:t.temperature_raw,temperature_corrected:t.temperature_corrected,use_corrected:t.use_corrected,temperature_chart:t.temperature_chart,mucus_sensation:t.mucus_sensation,mucus_appearance:t.mucus_appearance,fertility_symbol:t.fertility_symbol,observations:t.observations,ignored:t.ignored})).id}),cS=async(t,e)=>{const n=pl(Qn,"entries",t),r={temperature_raw:e.temperature_raw,temperature_corrected:e.temperature_corrected,use_corrected:e.use_corrected,temperature_chart:e.temperature_chart,mucus_sensation:e.mucus_sensation,mucus_appearance:e.mucus_appearance,fertility_symbol:e.fertility_symbol,observations:e.observations,ignored:e.ignored};return e.timestamp&&(r.timestamp=e.timestamp),await Nw(n,r),{id:t}},Lte=async t=>{await S$(pl(Qn,"entries",t))},Vte=async(t,e,n)=>{const r=pl(Qn,"cycles",t),i=await kw(r);if(!i.exists())throw new Error("Cycle not found");if(i.data().user_id!==e)throw new Error("Unauthorized");await Nw(r,{end_date:n})},jte=async(t,e,n,r)=>{const i=pl(Qn,"cycles",t),o=await kw(i);if(!o.exists())throw new Error("Cycle not found");if(o.data().user_id!==e)throw new Error("Unauthorized");const a={};n!==void 0&&(a.start_date=n),r!==void 0&&(a.end_date=r),await Nw(i,a)},uS=(t,e)=>{if(!e)return t;const n=Se(ue(e));return t.filter(r=>ue(r.isoDate)<=n)},Gs=t=>t?typeof t=="string"?he(Se(ue(t)),"yyyy-MM-dd"):typeof t.toDate=="function"?he(Se(t.toDate()),"yyyy-MM-dd"):he(Se(new Date(t)),"yyyy-MM-dd"):null,n_=(t=null)=>{const{user:e}=vl(),{toast:n}=yl(),[r,i]=m.useState({id:null,startDate:he(Se(new Date),"yyyy-MM-dd"),data:[]}),[o,s]=m.useState([]),[a,l]=m.useState(!0),c=m.useCallback(async()=>{if(!(e!=null&&e.uid)){console.log("No user found, skipping cycle data load"),l(!1);return}console.log("Loading cycle data for user:",e.uid),l(!0);try{let E;if(t)console.log("Loading specific cycle:",t),E=await aS(e.uid,t),E||(E={id:t,startDate:he(Se(new Date),"yyyy-MM-dd"),data:[]});else if(console.log("Loading current cycle"),E=await Dte(e.uid),!E){console.log("No current cycle found, creating new one");const I=he(Se(new Date),"yyyy-MM-dd"),N=await lS(e.uid,I);E={id:N.id,startDate:N.start_date,data:[]}}console.log("Cycle loaded:",E);const _=Gs(E.startDate),y=Gs(E.endDate);i({...E,startDate:_,endDate:y,data:Wg(E.data,_)}),console.log("Loading archived cycles");const b=await Mte(e.uid);s(b.map(I=>{const N=Gs(I.startDate),O=Gs(I.endDate),S=Wg(I.data||[],N),C=uS(S,O);return{...I,startDate:N??he(Se(new Date),"yyyy-MM-dd"),endDate:O,data:C}}))}catch(E){console.error("Error in loadCycleData:",E),E.code==="permission-denied"&&console.error("Firebase permissions error. Check Firestore rules."),i({id:null,startDate:he(Se(new Date),"yyyy-MM-dd"),data:[]}),s([])}finally{l(!1)}},[e,t]);m.useEffect(()=>{c()},[c]);const u=m.useCallback(async(E,_)=>{if(!(e!=null&&e.uid)||!r.id)throw console.error("User or currentCycle.id is missing"),new Error("User or currentCycle.id is missing");console.log("Adding/updating data point:",E,"editing:",_),l(!0);try{const y=E.time&&E.time.trim()!==""?E.time:he(new Date,"HH:mm"),b=QG(`${E.isoDate} ${y}`,"yyyy-MM-dd HH:mm",new Date),I=E.temperature_raw===""||E.temperature_raw===null||E.temperature_raw===void 0?null:parseFloat(E.temperature_raw),N=E.temperature_corrected===""||E.temperature_corrected===null||E.temperature_corrected===void 0?null:parseFloat(E.temperature_corrected),O=E.use_corrected||!1,S=O?N??I:I??N,C={cycle_id:r.id,user_id:e.uid,timestamp:he(b,"yyyy-MM-dd'T'HH:mm:ssXXX"),temperature_raw:I,temperature_corrected:N,use_corrected:O,temperature_chart:S,mucus_sensation:E.mucusSensation||null,mucus_appearance:E.mucusAppearance||null,fertility_symbol:E.fertility_symbol==="none"?null:E.fertility_symbol,observations:E.observations||null,ignored:_?E.ignored??_.ignored:E.ignored||!1};_?(console.log("Updating existing record:",_.id),await cS(_.id,C)):(console.log("Creating new record"),await Ote(C)),console.log("Data point saved successfully"),await c()}catch(y){throw console.error("Error adding/updating data point:",y),y}finally{l(!1)}},[e,r.id,c]),f=m.useCallback(async E=>{if(!(!(e!=null&&e.uid)||!r.id)){console.log("Deleting record:",E),l(!0);try{await Lte(E,e.uid),await c(),console.log("Record deleted successfully")}catch(_){throw console.error("Error deleting record:",_),_}finally{l(!1)}}},[e,r.id,c]),h=m.useCallback(async(E,_)=>{if(e!=null&&e.uid){console.log("Toggling ignore for record:",_,"in cycle:",E),l(!0);try{const y=E===r.id?r:o.find(N=>N.id===E);if(!y)throw new Error("Cycle not found for toggling ignore state.");const b=y.data.find(N=>N.id===_);if(!b)throw new Error("Record not found for toggling ignore state.");const I=!b.ignored;await cS(_,{ignored:I}),await c(),console.log("Record ignore status toggled successfully")}catch(y){throw console.error("Error toggling ignore state:",y),y}finally{l(!1)}}},[e,r,o,c]),g=m.useCallback(async E=>{if(!(!(e!=null&&e.uid)||!r.id)){console.log("Starting new cycle with date:",E),l(!0);try{const _=Se(E?ue(E):new Date),y=he(Lt(_,-1),"yyyy-MM-dd");await Vte(r.id,e.uid,y);const b=he(_,"yyyy-MM-dd"),I=await lS(e.uid,b);i({id:I.id,startDate:I.start_date,data:[]}),await c(),console.log("New cycle started successfully")}catch(_){throw console.error("Error starting new cycle:",_),n({title:"Error",description:"No se pudo archivar el ciclo.",variant:"destructive"}),_}finally{l(!1)}}},[e,r,c,n]),w=m.useCallback(async(E,_,y)=>{if(e!=null&&e.uid){console.log("Updating cycle dates:",E,_,y),l(!0);try{await jte(E,e.uid,_,y),await c(),console.log("Cycle dates updated successfully")}catch(b){throw console.error("Error updating cycle dates:",b),n({title:"Error",description:"No se pudieron actualizar las fechas.",variant:"destructive"}),b}finally{l(!1)}}},[e,c,n]),v=m.useCallback(async E=>{if(!(e!=null&&e.uid))return null;console.log("Fetching cycle by ID:",E),l(!0);try{const _=await aS(e.uid,E);if(!_)return null;const y=Gs(_.startDate),b=Gs(_.endDate),I=Wg(_.data||[],y),N=uS(I,b),O={..._,startDate:y??he(Se(new Date),"yyyy-MM-dd"),endDate:b,data:N};return console.log("Cycle fetched successfully:",O),O}catch(_){return console.error("Error fetching cycle by ID:",_),null}finally{l(!1)}},[e]);return{currentCycle:r,archivedCycles:o,addOrUpdateDataPoint:u,deleteRecord:f,startNewCycle:g,updateCycleDates:w,isLoading:a,getCycleById:v,refreshData:c,toggleIgnoreRecord:h}},XM=()=>{const[t,e]=m.useState(!1),[n,r]=m.useState("portrait"),i=m.useCallback(async(l="portrait")=>{const c=document.documentElement;try{c.requestFullscreen?await c.requestFullscreen():c.mozRequestFullScreen?await c.mozRequestFullScreen():c.webkitRequestFullscreen?await c.webkitRequestFullscreen():c.msRequestFullscreen&&await c.msRequestFullscreen(),typeof window<"u"&&window.screen&&window.screen.orientation&&window.screen.orientation.lock&&await window.screen.orientation.lock(`${l}-primary`).catch(()=>{}),r(l)}catch{}},[]),o=m.useCallback(async()=>{try{document.exitFullscreen?await document.exitFullscreen():document.mozCancelFullScreen?await document.mozCancelFullScreen():document.webkitExitFullscreen?await document.webkitExitFullscreen():document.msExitFullscreen&&await document.msExitFullscreen(),typeof window<"u"&&window.screen&&window.screen.orientation&&window.screen.orientation.unlock&&window.screen.orientation.unlock()}catch{}},[]),s=m.useCallback(async()=>{t?await o():await i("portrait")},[t,i,o]),a=m.useCallback(async()=>{const l=n==="portrait"?"landscape":"portrait";t&&window.screen&&window.screen.orientation&&window.screen.orientation.lock&&await window.screen.orientation.lock(`${l}-primary`).catch(()=>{}),r(l)},[n,t]);return m.useEffect(()=>{const l=()=>{const c=!!(document.fullscreenElement||document.webkitIsFullScreen||document.mozFullScreenElement||document.msFullscreenElement);e(c),!c&&typeof window<"u"&&window.screen&&window.screen.orientation&&window.screen.orientation.unlock&&window.screen.orientation.unlock()};return document.addEventListener("fullscreenchange",l),document.addEventListener("webkitfullscreenchange",l),document.addEventListener("mozfullscreenchange",l),document.addEventListener("MSFullscreenChange",l),()=>{document.removeEventListener("fullscreenchange",l),document.removeEventListener("webkitfullscreenchange",l),document.removeEventListener("mozfullscreenchange",l),document.removeEventListener("MSFullscreenChange",l)}},[]),{isFullScreen:t,orientation:n,toggleFullScreen:s,rotateScreen:a}},Fte=Mu("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors",{variants:{variant:{default:"bg-primary text-primary-foreground border-transparent",secondary:"bg-secondary text-secondary-foreground border-transparent",destructive:"bg-destructive text-destructive-foreground border-transparent",outline:"text-foreground"}},defaultVariants:{variant:"default"}}),JM=m.forwardRef(({className:t,variant:e,...n},r)=>p.jsx("div",{ref:r,className:De(Fte({variant:e}),t),...n}));JM.displayName="Badge";function ZM(t,e){if(!t||!e)return[];const n=typeof t=="string"?ue(t):t;return[...Array(e)].map((r,i)=>{const o=Lt(n,i),s=he(o,"yyyy-MM-dd"),a=he(o,"dd/MM"),l=wo(Se(o),Se(n))+1;return{date:a,isoDate:s,cycleDay:l,temperature:null,mucusSensation:null,mucusAppearance:null,id:`placeholder-${s}`,ignored:!1}})}const eO=28,tO=5,nO=10,$te=(t,e)=>{let r=null,i=null;return i=14,{preovulatory:r,t8:i,hasSufficientData:3>=6}},Ute=({currentCycle:t,onShowRecords:e})=>{var o;if(!(t!=null&&t.startDate))return null;const n=wo(new Date,ue(t.startDate))+1,r=((o=t.data)==null?void 0:o.filter(s=>s.id&&!s.id.startsWith("placeholder-")).length)||0,i=$te([],t.data);return p.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-2 mb-4",children:[p.jsx(be.div,{className:"bg-white/70 backdrop-blur-sm rounded-xl p-3 border border-pink-100/50 shadow-sm",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4,delay:.1},children:p.jsxs("div",{className:"flex items-center space-x-2",children:[p.jsx("div",{className:"p-1.5 bg-gradient-to-br from-pink-500/10 to-rose-500/10 rounded-lg",children:p.jsx(tH,{className:"h-4 w-4 text-pink-600"})}),p.jsxs("div",{className:"flex-1 min-w-0",children:[p.jsx("p",{className:"text-xs font-medium text-gray-600 uppercase tracking-wide",children:"Da del Ciclo"}),p.jsx("p",{className:"text-lg font-bold text-pink-600 truncate",children:n})]})]})}),p.jsx(be.button,{onClick:e,className:"bg-white/70 backdrop-blur-sm rounded-xl p-3 border border-emerald-100/50 shadow-sm hover:shadow-md hover:scale-[1.02] transition-all duration-200 text-left group",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4,delay:.2},children:p.jsxs("div",{className:"flex items-center space-x-2",children:[p.jsx("div",{className:"p-1.5 bg-gradient-to-br from-emerald-500/10 to-teal-500/10 rounded-lg group-hover:from-emerald-500/20 group-hover:to-teal-500/20 transition-colors",children:p.jsx(aC,{className:"h-4 w-4 text-emerald-600"})}),p.jsxs("div",{className:"flex-1 min-w-0",children:[p.jsx("p",{className:"text-xs font-medium text-gray-600 uppercase tracking-wide",children:"Registros"}),p.jsx("p",{className:"text-lg font-bold text-emerald-600 truncate",children:r})]})]})}),p.jsxs(be.div,{className:"bg-white/70 backdrop-blur-sm rounded-xl p-2 border border-purple-100/50 shadow-sm col-span-2 md:col-span-2 lg:col-span-1",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4,delay:.3},children:[p.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[p.jsx("div",{className:"p-1 bg-gradient-to-br from-purple-500/10 to-indigo-500/10 rounded-lg",children:p.jsx(lH,{className:"h-3.5 w-3.5 text-purple-600"})}),p.jsx("p",{className:"text-xs font-medium text-gray-600 uppercase tracking-wide",children:"Ventana Frtil"})]}),i.hasSufficientData?p.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[p.jsxs("div",{className:"bg-purple-50/50 rounded-lg p-2",children:[p.jsxs("div",{className:"flex items-center space-x-1 mb-1",children:[p.jsx(xH,{className:"h-3 w-3 text-purple-500"}),p.jsx("p",{className:"text-xs text-purple-600 font-medium",children:"Clc. Preov."})]}),p.jsx("p",{className:"text-sm font-bold text-purple-700",children:i.preovulatory?`Da ${i.preovulatory}`:""})]}),p.jsxs("div",{className:"bg-indigo-50/50 rounded-lg p-2",children:[p.jsxs("div",{className:"flex items-center space-x-1 mb-1",children:[p.jsx(aC,{className:"h-3 w-3 text-indigo-500"}),p.jsx("p",{className:"text-xs text-indigo-600 font-medium",children:"T-8"})]}),p.jsx("p",{className:"text-sm font-bold text-indigo-700",children:i.t8?`Da ${i.t8}`:""})]})]}):p.jsxs("div",{className:"text-center py-2",children:[p.jsx("p",{className:"text-xs text-gray-500",children:"Datos insuficientes"}),p.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Se requieren 6 ciclos"})]})]})]})},Bte=({currentCycle:t,addOrUpdateDataPoint:e,deleteCurrentRecord:n,toggleIgnoreRecord:r,startNewCycle:i,isLoading:o,isFullScreen:s,toggleFullScreen:a,orientation:l,rotateScreen:c,chartDisplayData:u,scrollStart:f,showForm:h,setShowForm:g,showRecords:w,setShowRecords:v,editingRecord:E,setEditingRecord:_,recordToDelete:y,setRecordToDelete:b,confirmNewCycleDialog:I,setConfirmNewCycleDialog:N,toast:O,showInterpretation:S,setShowInterpretation:C,updateCycleDates:P})=>{const[A,M]=m.useState(!1);Cs(w,()=>v(!1)),Cs(h||E,()=>{g(!1),_(null)});const D=s?l==="portrait"?nO:eO:tO,k=F=>{const W=()=>{_(F),v(!1),g(!0)};s?(a(),setTimeout(W,300)):W()},B=F=>{const W=t.data.find(K=>K.id===F);b(W)},G=({startDate:F})=>{P(t.id,F),O({title:"Fechas actualizadas",description:"Las fechas del ciclo han sido modificadas."}),M(!1)},Y=()=>{y&&(n(y.id),O({title:"Registro eliminado",description:`El registro del ${he(ue(y.isoDate),"dd/MM/yyyy")} ha sido eliminado.`,variant:"destructive"}),b(null))},z=()=>{_(null),v(!1),g(!0)},L=()=>{g(!1),_(null),v(!0)},V=()=>{N(!0)},$=F=>{i(F),O({title:"Nuevo Ciclo Iniciado",description:"Los datos del ciclo anterior han sido archivados."}),N(!1)};return o?p.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[60vh] space-y-4",children:[p.jsx(be.div,{className:"w-8 h-8 rounded-full bg-pink-500/80",animate:{opacity:[.4,1,.4]},transition:{duration:1.2,repeat:1/0}}),p.jsx(be.p,{className:"text-pink-600 font-medium",initial:{opacity:0},animate:{opacity:1},transition:{delay:.2},children:"Cargando datos del ciclo..."})]}):p.jsxs("div",{className:`flex flex-col items-center w-full min-h-screen bg-gradient-to-br from-pink-50 via-purple-50 to-indigo-50 ${s?"overflow-hidden h-full":""}`,children:[!s&&!h&&!w&&p.jsxs(be.div,{className:"w-full max-w-6xl px-4 pt-6 pb-4",initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5},children:[p.jsxs("div",{className:"text-center mb-6",children:[p.jsxs("div",{className:"inline-flex items-center space-x-2 mb-3",children:[p.jsx("div",{className:"p-2 bg-gradient-to-r from-pink-500 to-rose-500 rounded-xl shadow-sm",children:p.jsx(cH,{className:"h-5 w-5 text-white"})}),p.jsx("h1",{className:"text-2xl font-semibold text-gray-800",children:"Ciclo Actual"})]}),p.jsx("div",{className:"flex items-center justify-center",children:p.jsx(JM,{variant:"secondary",onClick:()=>(t==null?void 0:t.startDate)&&M(!0),className:"bg-white/60 text-gray-700 border-gray-200 px-3 py-1 rounded-full text-sm cursor-pointer hover:bg-white/80",children:t!=null&&t.startDate?`Iniciado el ${he(ue(t.startDate),"dd/MM/yyyy")}`:"Sin datos de ciclo"})})]}),p.jsx(Ute,{currentCycle:t,onShowRecords:L})]}),p.jsxs("main",{className:`w-full ${s?"h-full flex items-center justify-center":"max-w-6xl flex-grow px-4"}`,children:[p.jsx(Pc,{children:!h&&!w&&(u.length>0||s)&&p.jsxs(be.div,{initial:{opacity:0,scale:s?1:.98,y:s?0:10},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:s?1:.98,y:s?0:10},transition:{duration:.4,ease:"easeOut"},className:`
                ${s?"w-full h-full p-0 fixed inset-0 z-50 bg-white":"p-4 sm:p-6 mb-6 bg-white/70 backdrop-blur-xl rounded-2xl border border-white/50"}
                shadow-xl shadow-purple-500/5
              `,children:[p.jsx(cN,{data:u,isFullScreen:s,orientation:l,onEdit:k,onToggleIgnore:r,cycleId:t.id,initialScrollIndex:f,visibleDays:D,showInterpretation:S}),p.jsxs(Te,{onClick:()=>C(F=>!F),variant:"ghost",size:"sm",className:`
                  absolute ${s?"top-4 right-28":"top-3 right-14"} 
                  flex items-center text-xs font-medium py-1.5 px-3 rounded-lg 
                  transition-all duration-200 backdrop-blur-sm
                  ${S?"bg-pink-500 text-white hover:bg-pink-600 shadow-sm":"bg-white/80 text-gray-600 hover:bg-white hover:text-gray-800 border border-gray-200"}
                `,children:[S?p.jsx(Ap,{className:"mr-1.5 h-3.5 w-3.5"}):p.jsx(Ya,{className:"mr-1.5 h-3.5 w-3.5"}),S?"Ocultar":"Interpretar"]}),s&&p.jsx(Te,{onClick:c,variant:"ghost",size:"icon",className:"absolute top-4 right-16 text-gray-600 bg-white/80 hover:bg-white backdrop-blur-sm rounded-lg p-2 border border-gray-200",title:"Rotar Pantalla",children:p.jsx(yH,{className:"h-4 w-4"})}),p.jsx(Te,{onClick:a,variant:"ghost",size:"icon",className:`
                  absolute ${s?"top-4 right-4":"top-3 right-3"} 
                  rounded-lg p-2 backdrop-blur-sm transition-all duration-200
                  ${s?"text-gray-600 bg-white/80 hover:bg-white border border-gray-200":"text-gray-500 hover:text-gray-700 bg-white/80 hover:bg-white border border-gray-200"}
                `,title:s?"Salir de Pantalla Completa":"Ver en Pantalla Completa",children:s?p.jsx(Fu,{className:"h-4 w-4"}):p.jsx(z2,{className:"h-4 w-4"})})]})}),!s&&!h&&!w&&p.jsxs(be.div,{className:"w-full max-w-md mx-auto mb-8",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3,duration:.4},children:[p.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[p.jsxs(Te,{onClick:z,className:"bg-gradient-to-r from-pink-500 to-rose-500 hover:from-pink-600 hover:to-rose-600 text-white font-medium py-3 rounded-xl shadow-sm hover:shadow-md transition-all duration-200 flex items-center justify-center space-x-2",children:[p.jsx(vH,{className:"h-4 w-4"}),p.jsx("span",{children:"Nuevo Registro"})]}),p.jsxs(Te,{onClick:L,variant:"outline",className:"border-pink-200 text-pink-700 hover:bg-pink-50 hover:text-pink-800 font-medium py-3 rounded-xl shadow-sm hover:shadow-md transition-all duration-200 flex items-center justify-center space-x-2",children:[p.jsx(dH,{className:"h-4 w-4"}),p.jsx("span",{children:"Mis Registros"})]})]}),p.jsx(Te,{onClick:V,variant:"outline",className:"w-full mt-3 border-pink-200 text-pink-600 hover:bg-pink-50 hover:text-pink-700 text-sm font-medium py-2",children:"Iniciar Nuevo Ciclo"})]}),p.jsx(Pc,{children:(h||E)&&p.jsx(be.div,{initial:{opacity:0,y:20,scale:.98},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:20,scale:.98},transition:{type:"spring",stiffness:260,damping:20},className:"w-full",children:p.jsx(fM,{onSubmit:e,initialData:E,isEditing:!!E,cycleStartDate:t.startDate,onCancel:()=>{g(!1),_(null)}})},"data-entry-form")}),p.jsx(Pc,{children:w&&p.jsx(be.div,{initial:{opacity:0,y:20,scale:.98},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-20,scale:.98},transition:{type:"spring",stiffness:260,damping:20},className:"w-full",children:p.jsx(IM,{records:t.data,onEdit:k,onDelete:B,onClose:()=>v(!1)})},"records-list")}),t.data.filter(F=>F.id&&!F.id.startsWith("placeholder-")).length===0&&!h&&!w&&!s&&p.jsx(be.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4,duration:.4},children:p.jsx(wte,{})})]}),p.jsx(KM,{isOpen:!!y,onClose:()=>b(null),onConfirm:Y,recordDate:y?he(ue(y.isoDate),"dd/MM/yyyy"):""}),p.jsx(kte,{isOpen:I,onClose:()=>N(!1),onConfirm:$,currentCycleStartDate:t.startDate}),p.jsx(QM,{isOpen:A,onClose:()=>M(!1),onConfirm:G,initialStartDate:t.startDate,includeEndDate:!1})]})};function Wte(){const{currentCycle:t,addOrUpdateDataPoint:e,deleteRecord:n,startNewCycle:r,isLoading:i,refreshData:o,toggleIgnoreRecord:s,updateCycleDates:a}=n_(),[l,c]=m.useState(!1),[u,f]=m.useState(!1),[h,g]=m.useState(null),[w,v]=m.useState(null),[E,_]=m.useState(!1),[y,b]=m.useState(!1),{isFullScreen:I,orientation:N,toggleFullScreen:O,rotateScreen:S}=XM(),{toast:C}=yl();m.useEffect(()=>{o()},[o]);const P=k=>{e(k,h),C({title:h?"Registro actualizado":"Nuevo registro aadido",description:h?`Datos del ${he(ue(k.isoDate),"dd/MM/yyyy")} actualizados.`:`Registro para el ${he(ue(k.isoDate),"dd/MM/yyyy")} aadido.`}),c(!1),g(null)},A=m.useCallback(()=>{if(i||!t||!t.startDate)return{data:[],scrollStart:0};const k=ue(t.startDate),B=t.data.reduce((ce,X)=>{const ae=ue(X.isoDate);return ae>ce?ae:ce},k),G=Se(new Date),Y=B>G?B:G,z=wo(Se(Y),k),L=Math.max(eO,z+1),$=ZM(k,L).map(ce=>{const X=t.data.find(ae=>ae.isoDate===ce.isoDate);return X?{...X,date:ce.date}:ce});if(I&&N==="landscape")return{data:$,scrollStart:0};const F=wo(new Date,Se(k)),W=Math.min(Math.max(F,0),L-1);let K=Math.min(L,W+1);const oe=I?nO:tO;W<oe-1&&(K=Math.min(L,oe));const pe=Math.max(0,K-oe);return{data:$,scrollStart:pe}},[t,I,i,N]),{data:M,scrollStart:D}=A();return p.jsx(Bte,{currentCycle:t,addOrUpdateDataPoint:P,deleteCurrentRecord:n,toggleIgnoreRecord:s,startNewCycle:r,isLoading:i,isFullScreen:I,toggleFullScreen:O,orientation:N,rotateScreen:S,chartDisplayData:M,scrollStart:D,showForm:l,setShowForm:c,showRecords:u,setShowRecords:f,editingRecord:h,setEditingRecord:g,recordToDelete:w,setRecordToDelete:v,confirmNewCycleDialog:E,setConfirmNewCycleDialog:_,toast:C,showInterpretation:y,setShowInterpretation:b,updateCycleDates:a})}const zte=()=>{const{archivedCycles:t,isLoading:e}=n_();if(e)return p.jsx("div",{className:"text-center text-slate-300 p-8",children:"Cargando ciclos archivados..."});if(!t||t.length===0)return p.jsxs(be.div,{className:"text-center text-slate-400 py-10 flex flex-col items-center",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:[p.jsx(W2,{className:"w-24 h-24 text-slate-500 mb-6"}),p.jsx("h2",{className:"text-2xl font-semibold text-slate-200 mb-4",children:"No hay ciclos archivados"}),p.jsx("p",{className:"text-lg",children:"Cuando inicies un nuevo ciclo, el anterior aparecer aqu."}),p.jsx(Te,{asChild:!0,className:"mt-8 bg-gradient-to-r from-pink-500 to-fuchsia-600 hover:from-pink-600 hover:to-fuchsia-700 text-white",children:p.jsx(Kc,{to:"/",children:"Volver al Ciclo Actual"})})]});const n=[...t].sort((r,i)=>ue(i.startDate)-ue(r.startDate));return p.jsxs("div",{className:"w-full max-w-4xl mx-auto",children:[p.jsx(be.h1,{className:"text-3xl sm:text-4xl font-bold text-slate-500 mb-8 text-center",initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5},children:"Mis Ciclos Archivados"}),p.jsx(be.ul,{className:"space-y-6",variants:{hidden:{opacity:0},show:{opacity:1,transition:{staggerChildren:.1}}},initial:"hidden",animate:"show",children:n.map(r=>{const i=r.endDate?he(ue(r.endDate),"dd MMM yyyy",{locale:eo}):r.data&&r.data.length>0?he(ue(r.data[r.data.length-1].isoDate),"dd MMM yyyy",{locale:eo}):he(ue(r.startDate),"dd MMM yyyy",{locale:eo}),o=r.data?r.data.length:0;return p.jsx(be.li,{className:"bg-white/70 backdrop-blur-md ring-1 ring-[#FFB1DD]/50 shadow-xl rounded-xl p-6 hover:shadow-2xl transition-shadow duration-300",variants:{hidden:{opacity:0,y:20},show:{opacity:1,y:0}},children:p.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center",children:[p.jsxs("div",{children:[p.jsxs("h2",{className:"text-xl font-semibold text-pink-400 mb-1",children:["Ciclo: ",he(ue(r.startDate),"dd MMM yyyy",{locale:eo})," - ",i]}),p.jsxs("p",{className:"text-sm text-slate-400",children:[o," registro",o!==1?"s":""]})]}),p.jsx(Te,{asChild:!0,variant:"outline",className:"mt-4 sm:mt-0 border-pink-500 text-pink-400 hover:bg-pink-500/20 hover:text-pink-300",children:p.jsxs(Kc,{to:`/cycle/${r.id}`,children:[p.jsx(Ya,{className:"mr-2 h-4 w-4"})," Ver Detalles"]})})]})},r.id)})})]})},Hte=28,qte=({cycleData:t,addOrUpdateDataPointForCycle:e,deleteRecordForCycle:n,toggleIgnoreRecordForCycle:r,isFullScreen:i,toggleFullScreen:o,orientation:s,showInterpretation:a,setShowInterpretation:l,chartDisplayData:c,showForm:u,setShowForm:f,editingRecord:h,setEditingRecord:g,recordToDelete:w,setRecordToDelete:v,isProcessing:E,toast:_,onEditCycleDates:y})=>{Cs(u||h,()=>{f(!1),g(null)});const b=O=>{const S=()=>{g(O),f(!0)};i?(o(),setTimeout(S,300)):S()},I=O=>{const S=t.data.find(C=>C.id===O);v(S)},N=()=>{w&&n(w.id)};return p.jsxs("div",{className:`w-full ${i?"h-full overflow-hidden":"max-w-4xl mx-auto"}`,children:[p.jsxs(be.div,{className:"flex items-center justify-between mb-8",initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5},children:[!i&&p.jsx(Te,{variant:"outline",asChild:!0,className:"mt-4 sm:mt-0 border-pink-500 text-pink-400 hover:bg-pink-500/20 hover:text-pink-300",children:p.jsxs(Kc,{to:"/archived-cycles",children:[p.jsx(eH,{className:"mr-2 h-4 w-4"})," Mis Ciclos"]})}),!i&&p.jsxs("h1",{className:"text-2xl sm:text-3xl font-bold hover:text-pink-300 text-center",children:["Detalle del Ciclo (",he(ue(t.startDate),"dd/MM/yyyy"),")"]}),!i&&p.jsxs(Te,{variant:"outline",onClick:y,className:"mt-4 sm:mt-0 border-pink-500 text-pink-400 hover:bg-pink-500/20 hover:text-pink-300",children:[p.jsx(Dy,{className:"mr-2 h-4 w-4"})," Editar Fechas"]})]}),p.jsx(Pc,{children:!u&&(c.length>0||i)&&p.jsxs(be.div,{initial:{opacity:0,scale:i?1:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:i?1:.9},transition:{duration:.5},className:`shadow-2xl rounded-xl ${i?"w-full h-full p-0 fixed inset-0 z-50 bg-white":"p-4 sm:p-6 mb-8 bg-white/70 backdrop-blur-md ring-1 ring-[#FFB1DD]/50"}`,style:{boxShadow:"0 4px 8px rgba(0,0,0,0.04)"},children:[!i&&p.jsx("h2",{className:"text-xl font-medium text-[#393C65] mb-4 bg-white bg-opacity-90 px-4 py-2 rounded-md",children:"Grfica"}),p.jsx(cN,{data:c,isFullScreen:i,orientation:s,onToggleIgnore:r,onEdit:b,cycleId:t.id,showInterpretation:a}),p.jsxs(Te,{onClick:()=>l(O=>!O),variant:"ghost",size:"sm",className:`absolute ${i?"top-4 right-24":"top-2 right-24"} flex items-center font-semibold py-1 px-2 rounded-lg transition-colors ${a?"bg-[#E27DBF] text-white hover:bg-[#d46ab3]":"bg-transparent text-[#393C65] hover:bg-[#E27DBF]/20"}`,children:[a?p.jsx(Ap,{className:"mr-2 h-4 w-4"}):p.jsx(Ya,{className:"mr-2 h-4 w-4"}),a?"Ocultar":"Interpretar"]}),p.jsx(Te,{onClick:o,variant:"ghost",size:"icon",className:`absolute ${i?"top-4 right-4 text-white bg-slate-700/50 hover:bg-slate-600/70":"top-2 right-2 text-slate-400 hover:text-slate-200 hover:bg-slate-700/50"}`,title:i?"Salir de Pantalla Completa":"Ver en Pantalla Completa",children:i?p.jsx(Fu,{className:"h-6 w-6"}):p.jsx(z2,{className:"h-5 w-5"})})]})}),!i&&p.jsxs(p.Fragment,{children:[p.jsx(Pc,{children:u&&p.jsx(be.div,{initial:{opacity:0,y:20,height:0},animate:{opacity:1,y:0,height:"auto"},exit:{opacity:0,y:20,height:0},transition:{duration:.3},className:"overflow-hidden mb-8",children:p.jsx(fM,{onSubmit:e,initialData:h,onCancel:()=>{f(!1),g(null)},cycleStartDate:t.startDate,isProcessing:E,isEditing:!!h})},"data-entry-form-detail")}),!u&&p.jsx("div",{className:"my-8",children:p.jsxs(Te,{onClick:()=>{g(null),f(!0)},className:"w-full sm:w-auto bg-gradient-to-r from-pink-500 to-fuchsia-600 hover:from-pink-600 hover:to-fuchsia-700 text-white font-semibold py-3 px-6 rounded-lg shadow-lg hover:shadow-xl transition-all duration-300 transform hover:scale-105 flex items-center justify-center text-lg",disabled:E,children:[p.jsx(Dy,{className:"mr-2 h-5 w-5"})," Aadir registro en este ciclo"]})}),p.jsx(IM,{records:t.data,onEdit:b,onDelete:I,isArchiveView:!0,isProcessing:E})]}),p.jsx(KM,{isOpen:!!w,onClose:()=>v(null),onConfirm:N,recordDate:w?he(ue(w.isoDate),"dd/MM/yyyy"):"",isProcessing:E})]})},Gte=()=>{const{cycleId:t}=r5(),e=_u(),{user:n}=vl(),{getCycleById:r,isLoading:i,refreshData:o,toggleIgnoreRecord:s,updateCycleDates:a}=n_(t),[l,c]=m.useState(null),{toast:u}=yl(),[f,h]=m.useState(null),[g,w]=m.useState(!1),[v,E]=m.useState(null),[_,y]=m.useState(!1),{isFullScreen:b,toggleFullScreen:I,orientation:N}=XM(),[O,S]=m.useState(!1),[C,P]=m.useState(!1);m.useEffect(()=>{(async()=>{if(n){let $=await r(t);if(!$){const F=localStorage.getItem(`fertilityData_cycle_${n.uid}_${t}`);if(F){const W=JSON.parse(F);$={...W,data:M(W.data||[],W.startDate)}}}$?c($):(u({title:"Error",description:"No se pudo cargar el ciclo.",variant:"destructive"}),e("/archived-cycles"))}})()},[t,n,r,u,e]);const A=(V,$)=>{const F=Se(ue(V)),W=Se(ue($));return wo(F,W)+1},M=(V,$)=>!V||!Array.isArray(V)||!$?[]:[...V].sort((W,K)=>ue(W.isoDate)-ue(K.isoDate)).map(W=>({...W,ignored:W.ignored||!1,cycleDay:A(W.isoDate,$)})),D=V=>{if(!n||!V||!V.id)return;const $={...V,data:V.data.map(({cycleDay:F,...W})=>W)};localStorage.setItem(`fertilityData_cycle_${n.uid}_${V.id}`,JSON.stringify($))},k=V=>{if(!l||!n)return;S(!0);let $;const F={...V,isoDate:he(Se(ue(V.isoDate)),"yyyy-MM-dd"),cycleDay:A(V.isoDate,l.startDate),ignored:f?V.ignored??f.ignored:V.ignored||!1};if(f)$=l.data.map(oe=>oe.id===f.id?{...oe,...F,id:f.id}:oe);else{const oe={...F,id:crypto.randomUUID?crypto.randomUUID():Math.random().toString(36).slice(2)};$=[...l.data,oe]}const W=M($,l.startDate),K={...l,data:W};D(K),c(K),u({title:f?"Registro actualizado":"Nuevo registro aadido",description:"Datos para el ciclo actualizados."}),w(!1),h(null),S(!1),o()},B=V=>{if(!l||!n)return;S(!0);const $=l.data.filter(K=>K.id!==V),F=M($,l.startDate),W={...l,data:F};D(W),c(W),u({title:"Registro eliminado",description:"El registro ha sido eliminado del ciclo.",variant:"destructive"}),E(null),S(!1),o()},G=(V,$)=>{if(!l||!n||l.id!==V)return;S(!0),s(V,$),c(W=>{if(!W)return null;const K=W.data.map(ce=>ce.id===$?{...ce,ignored:!ce.ignored}:ce),oe=M(K,W.startDate),pe={...W,data:oe};return D(pe),pe});const F=l.data.find(W=>W.id===$);u({title:`Registro ${F&&!F.ignored?"despreciado":"restaurado"}`,description:`El registro del ${F?he(ue(F.isoDate),"dd/MM/yyyy"):""} ha sido ${F&&!F.ignored?"marcado como despreciado":"restaurado"}.`}),S(!1)},Y=async({startDate:V,endDate:$})=>{if(!(!l||!n)){S(!0);try{await a(l.id,V,$);const F=await r(l.id);F&&(D(F),c(F)),u({title:"Fechas actualizadas",description:"Las fechas del ciclo han sido modificadas."})}catch(F){console.error(F)}S(!1)}},z=m.useCallback(()=>{if(!l||!l.startDate)return[];const V=ue(l.startDate),$=l.data.reduce((pe,ce)=>{const X=ue(ce.isoDate);return X>pe?X:pe},V),F=l.endDate?ue(l.endDate):null;let W;if(F)W=wo(Se(F),V)+1;else{const pe=Se(new Date),ce=$>pe?$:pe,X=wo(Se(ce),V);W=Math.max(Hte,X+1)}return ZM(V,W).map(pe=>{const ce=l.data.find(X=>X.isoDate===pe.isoDate);return ce?{...ce,date:pe.date}:pe})},[l]);if(i||!l)return p.jsx("div",{className:"text-center text-slate-300 p-8",children:"Cargando detalles del ciclo..."});const L=z();return p.jsxs(p.Fragment,{children:[p.jsx(qte,{cycleData:l,addOrUpdateDataPointForCycle:k,deleteRecordForCycle:B,toggleIgnoreRecordForCycle:G,isFullScreen:b,toggleFullScreen:I,orientation:N,showInterpretation:C,setShowInterpretation:P,chartDisplayData:L,showForm:g,setShowForm:w,editingRecord:f,setEditingRecord:h,recordToDelete:v,setRecordToDelete:E,isProcessing:O,toast:u,onEditCycleDates:()=>y(!0)}),p.jsx(QM,{isOpen:_,onClose:()=>y(!1),onConfirm:Y,initialStartDate:l.startDate,initialEndDate:l.endDate})]})},Yte=HM,Kte=Ate,rO=GM,Qte=qM,iO=_e.forwardRef(({className:t,...e},n)=>p.jsx(Gp,{className:De("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e,ref:n}));iO.displayName=Gp.displayName;const Xte=Mu("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4 border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),oO=_e.forwardRef(({side:t="right",className:e,children:n,...r},i)=>p.jsxs(Qte,{children:[p.jsx(iO,{}),p.jsx(Yp,{ref:i,className:De(Xte({side:t}),e),...r,children:n})]}));oO.displayName=Yp.displayName;const Jte=_e.forwardRef(({className:t,...e},n)=>p.jsx(Kp,{ref:n,className:De("text-lg font-semibold text-foreground",t),...e}));Jte.displayName=Kp.displayName;const Zte=_e.forwardRef(({className:t,...e},n)=>p.jsx(Qp,{ref:n,className:De("text-sm text-muted-foreground",t),...e}));Zte.displayName=Qp.displayName;const dS=({to:t,children:e,Icon:n,onClick:r})=>{const o=sl().pathname===t;return p.jsx(rO,{asChild:!0,children:p.jsxs(Kc,{to:t,onClick:r,className:`flex items-center px-4 py-3 text-lg rounded-md transition-colors duration-200 ease-in-out
                         ${o?"bg-[#E27DBF] text-white shadow":"text-[#393C65] hover:bg-[#E27DBF]/10 hover:text-[#E27DBF]"}
                        `,children:[p.jsx(n,{className:`mr-3 h-6 w-6 ${o?"text-white":"text-[#E27DBF]"}`}),e]})})},zg=({children:t})=>{const{user:e,logout:n}=vl(),r=_u(),[i,o]=m.useState(!1);Cs(i,()=>o(!1));const s=()=>{n(),r("/auth")};return p.jsxs("div",{className:"min-h-screen flex flex-col",children:[p.jsx("header",{className:"sticky top-0 z-40 w-full bg-[#FFB1DD]/20 backdrop-blur-md text-[#393C65]",children:p.jsxs("div",{className:"container mx-auto flex items-center justify-between h-20 px-4 sm:px-6",children:[p.jsxs(Kc,{to:"/",className:"flex items-center space-x-2",children:[p.jsx("img",{alt:"FertiliApp Logo ",className:"h-10 w-10 rounded-full",src:"https://i.postimg.cc/W3JHZ71t/Chat-GPT-Image-27-jun-2025-12-17-23.png"}),p.jsx("span",{className:"text-2xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-rose-400 via-pink-400 to-fuchsia-500",children:"FertiliApp"})]}),p.jsxs(Yte,{open:i,onOpenChange:o,children:[p.jsx(Kte,{asChild:!0,children:p.jsxs(Te,{variant:"ghost",size:"icon",className:"text-[#393C65] hover:text-[#E27DBF] hover:bg-[#E27DBF]\\/10",children:[p.jsx(mH,{className:"h-8 w-8"}),p.jsx("span",{className:"sr-only",children:"Abrir men"})]})}),p.jsxs(oO,{side:"right",className:"w-[300px] sm:w-[350px] bg-[#FFEAF5] border-l-[#FFB1DD] p-0 flex flex-col",children:[p.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-[#FFB1DD]",children:[p.jsxs("div",{className:"flex items-center space-x-3",children:[p.jsx(EH,{className:"h-10 w-10 text-[#FFB1DD]"}),p.jsxs("div",{children:[p.jsx("p",{className:"text-lg font-semibold",children:"Hola,"}),p.jsx("p",{className:"text-sm text-[#FFB1DD] truncate max-w-[180px]",children:e==null?void 0:e.email})]})]}),p.jsx(rO,{asChild:!0,children:p.jsx(Te,{variant:"ghost",size:"icon",className:"text-[#E27DBF] hover:bg-white/10",children:p.jsx(Fu,{className:"h-6 w-6"})})})]}),p.jsxs("nav",{className:"flex-grow p-6 space-y-3",children:[p.jsx(dS,{to:"/",Icon:uH,onClick:()=>o(!1),children:"Ciclo Actual"}),p.jsx(dS,{to:"/archived-cycles",Icon:W2,onClick:()=>o(!1),children:"Mis Ciclos"})]}),p.jsx("div",{className:"p-6 border-t border-[#FFB1DD]",children:p.jsxs(Te,{onClick:()=>{s(),o(!1)},variant:"outline",className:"w-full border-[#FFB1DD] text-[#393C65] hover:bg-[#E27DBF]/10 hover:text-[#E27DBF] font-semibold py-3 text-lg flex items-center",children:[p.jsx(hH,{className:"mr-2 h-5 w-5"})," Salir"]})})]})]})]})}),p.jsx("div",{className:"flex-grow container mx-auto px-4 sm:px-6 py-8",children:t}),p.jsxs("footer",{className:"w-full py-8 text-center text-[#6B7280] text-sm border-t border-[#FFB1DD]/50 mt-12",children:[p.jsxs("p",{children:[" ",new Date().getFullYear()," Seguimiento de Fertilidad. Todos los derechos reservados."]}),p.jsx("p",{children:"Creado con Hostinger Horizons."})]})]})};function ene(t){const e=t+"CollectionProvider",[n,r]=Ms(e),[i,o]=n(e,{collectionRef:{current:null},itemMap:new Map}),s=v=>{const{scope:E,children:_}=v,y=_e.useRef(null),b=_e.useRef(new Map).current;return p.jsx(i,{scope:E,itemMap:b,collectionRef:y,children:_})};s.displayName=e;const a=t+"CollectionSlot",l=Ha(a),c=_e.forwardRef((v,E)=>{const{scope:_,children:y}=v,b=o(a,_),I=lt(E,b.collectionRef);return p.jsx(l,{ref:I,children:y})});c.displayName=a;const u=t+"CollectionItemSlot",f="data-radix-collection-item",h=Ha(u),g=_e.forwardRef((v,E)=>{const{scope:_,children:y,...b}=v,I=_e.useRef(null),N=lt(E,I),O=o(u,_);return _e.useEffect(()=>(O.itemMap.set(I,{ref:I,...b}),()=>void O.itemMap.delete(I))),p.jsx(h,{[f]:"",ref:N,children:y})});g.displayName=u;function w(v){const E=o(t+"CollectionConsumer",v);return _e.useCallback(()=>{const y=E.collectionRef.current;if(!y)return[];const b=Array.from(y.querySelectorAll(`[${f}]`));return Array.from(E.itemMap.values()).sort((O,S)=>b.indexOf(O.ref.current)-b.indexOf(S.ref.current))},[E.collectionRef,E.itemMap])}return[{Provider:s,Slot:c,ItemSlot:g},w,r]}var tne=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),nne="VisuallyHidden",r_=m.forwardRef((t,e)=>p.jsx(ze.span,{...t,ref:e,style:{...tne,...t.style}}));r_.displayName=nne;var i_="ToastProvider",[o_,rne,ine]=ene("Toast"),[sO,Fne]=Ms("Toast",[ine]),[one,nm]=sO(i_),aO=t=>{const{__scopeToast:e,label:n="Notification",duration:r=5e3,swipeDirection:i="right",swipeThreshold:o=50,children:s}=t,[a,l]=m.useState(null),[c,u]=m.useState(0),f=m.useRef(!1),h=m.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${i_}\`. Expected non-empty \`string\`.`),p.jsx(o_.Provider,{scope:e,children:p.jsx(one,{scope:e,label:n,duration:r,swipeDirection:i,swipeThreshold:o,toastCount:c,viewport:a,onViewportChange:l,onToastAdd:m.useCallback(()=>u(g=>g+1),[]),onToastRemove:m.useCallback(()=>u(g=>g-1),[]),isFocusedToastEscapeKeyDownRef:f,isClosePausedRef:h,children:s})})};aO.displayName=i_;var lO="ToastViewport",sne=["F8"],qy="toast.viewportPause",Gy="toast.viewportResume",cO=m.forwardRef((t,e)=>{const{__scopeToast:n,hotkey:r=sne,label:i="Notifications ({hotkey})",...o}=t,s=nm(lO,n),a=rne(n),l=m.useRef(null),c=m.useRef(null),u=m.useRef(null),f=m.useRef(null),h=lt(e,f,s.onViewportChange),g=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),w=s.toastCount>0;m.useEffect(()=>{const E=_=>{var b;r.length!==0&&r.every(I=>_[I]||_.code===I)&&((b=f.current)==null||b.focus())};return document.addEventListener("keydown",E),()=>document.removeEventListener("keydown",E)},[r]),m.useEffect(()=>{const E=l.current,_=f.current;if(w&&E&&_){const y=()=>{if(!s.isClosePausedRef.current){const O=new CustomEvent(qy);_.dispatchEvent(O),s.isClosePausedRef.current=!0}},b=()=>{if(s.isClosePausedRef.current){const O=new CustomEvent(Gy);_.dispatchEvent(O),s.isClosePausedRef.current=!1}},I=O=>{!E.contains(O.relatedTarget)&&b()},N=()=>{E.contains(document.activeElement)||b()};return E.addEventListener("focusin",y),E.addEventListener("focusout",I),E.addEventListener("pointermove",y),E.addEventListener("pointerleave",N),window.addEventListener("blur",y),window.addEventListener("focus",b),()=>{E.removeEventListener("focusin",y),E.removeEventListener("focusout",I),E.removeEventListener("pointermove",y),E.removeEventListener("pointerleave",N),window.removeEventListener("blur",y),window.removeEventListener("focus",b)}}},[w,s.isClosePausedRef]);const v=m.useCallback(({tabbingDirection:E})=>{const y=a().map(b=>{const I=b.ref.current,N=[I,...wne(I)];return E==="forwards"?N:N.reverse()});return(E==="forwards"?y.reverse():y).flat()},[a]);return m.useEffect(()=>{const E=f.current;if(E){const _=y=>{var N,O,S;const b=y.altKey||y.ctrlKey||y.metaKey;if(y.key==="Tab"&&!b){const C=document.activeElement,P=y.shiftKey;if(y.target===E&&P){(N=c.current)==null||N.focus();return}const D=v({tabbingDirection:P?"backwards":"forwards"}),k=D.findIndex(B=>B===C);Hg(D.slice(k+1))?y.preventDefault():P?(O=c.current)==null||O.focus():(S=u.current)==null||S.focus()}};return E.addEventListener("keydown",_),()=>E.removeEventListener("keydown",_)}},[a,v]),p.jsxs(sX,{ref:l,role:"region","aria-label":i.replace("{hotkey}",g),tabIndex:-1,style:{pointerEvents:w?void 0:"none"},children:[w&&p.jsx(Yy,{ref:c,onFocusFromOutsideViewport:()=>{const E=v({tabbingDirection:"forwards"});Hg(E)}}),p.jsx(o_.Slot,{scope:n,children:p.jsx(ze.ol,{tabIndex:-1,...o,ref:h})}),w&&p.jsx(Yy,{ref:u,onFocusFromOutsideViewport:()=>{const E=v({tabbingDirection:"backwards"});Hg(E)}})]})});cO.displayName=lO;var uO="ToastFocusProxy",Yy=m.forwardRef((t,e)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...i}=t,o=nm(uO,n);return p.jsx(r_,{"aria-hidden":!0,tabIndex:0,...i,ref:e,style:{position:"fixed"},onFocus:s=>{var c;const a=s.relatedTarget;!((c=o.viewport)!=null&&c.contains(a))&&r()}})});Yy.displayName=uO;var Hu="Toast",ane="toast.swipeStart",lne="toast.swipeMove",cne="toast.swipeCancel",une="toast.swipeEnd",dO=m.forwardRef((t,e)=>{const{forceMount:n,open:r,defaultOpen:i,onOpenChange:o,...s}=t,[a,l]=Rp({prop:r,defaultProp:i??!0,onChange:o,caller:Hu});return p.jsx(Xn,{present:n||a,children:p.jsx(hne,{open:a,...s,ref:e,onClose:()=>l(!1),onPause:Wt(t.onPause),onResume:Wt(t.onResume),onSwipeStart:Ue(t.onSwipeStart,c=>{c.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Ue(t.onSwipeMove,c=>{const{x:u,y:f}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","move"),c.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${u}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${f}px`)}),onSwipeCancel:Ue(t.onSwipeCancel,c=>{c.currentTarget.setAttribute("data-swipe","cancel"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Ue(t.onSwipeEnd,c=>{const{x:u,y:f}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","end"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${u}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${f}px`),l(!1)})})})});dO.displayName=Hu;var[dne,fne]=sO(Hu,{onClose(){}}),hne=m.forwardRef((t,e)=>{const{__scopeToast:n,type:r="foreground",duration:i,open:o,onClose:s,onEscapeKeyDown:a,onPause:l,onResume:c,onSwipeStart:u,onSwipeMove:f,onSwipeCancel:h,onSwipeEnd:g,...w}=t,v=nm(Hu,n),[E,_]=m.useState(null),y=lt(e,B=>_(B)),b=m.useRef(null),I=m.useRef(null),N=i||v.duration,O=m.useRef(0),S=m.useRef(N),C=m.useRef(0),{onToastAdd:P,onToastRemove:A}=v,M=Wt(()=>{var G;(E==null?void 0:E.contains(document.activeElement))&&((G=v.viewport)==null||G.focus()),s()}),D=m.useCallback(B=>{!B||B===1/0||(window.clearTimeout(C.current),O.current=new Date().getTime(),C.current=window.setTimeout(M,B))},[M]);m.useEffect(()=>{const B=v.viewport;if(B){const G=()=>{D(S.current),c==null||c()},Y=()=>{const z=new Date().getTime()-O.current;S.current=S.current-z,window.clearTimeout(C.current),l==null||l()};return B.addEventListener(qy,Y),B.addEventListener(Gy,G),()=>{B.removeEventListener(qy,Y),B.removeEventListener(Gy,G)}}},[v.viewport,N,l,c,D]),m.useEffect(()=>{o&&!v.isClosePausedRef.current&&D(N)},[o,N,v.isClosePausedRef,D]),m.useEffect(()=>(P(),()=>A()),[P,A]);const k=m.useMemo(()=>E?yO(E):null,[E]);return v.viewport?p.jsxs(p.Fragment,{children:[k&&p.jsx(pne,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:k}),p.jsx(dne,{scope:n,onClose:M,children:Lo.createPortal(p.jsx(o_.ItemSlot,{scope:n,children:p.jsx(oX,{asChild:!0,onEscapeKeyDown:Ue(a,()=>{v.isFocusedToastEscapeKeyDownRef.current||M(),v.isFocusedToastEscapeKeyDownRef.current=!1}),children:p.jsx(ze.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":o?"open":"closed","data-swipe-direction":v.swipeDirection,...w,ref:y,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:Ue(t.onKeyDown,B=>{B.key==="Escape"&&(a==null||a(B.nativeEvent),B.nativeEvent.defaultPrevented||(v.isFocusedToastEscapeKeyDownRef.current=!0,M()))}),onPointerDown:Ue(t.onPointerDown,B=>{B.button===0&&(b.current={x:B.clientX,y:B.clientY})}),onPointerMove:Ue(t.onPointerMove,B=>{if(!b.current)return;const G=B.clientX-b.current.x,Y=B.clientY-b.current.y,z=!!I.current,L=["left","right"].includes(v.swipeDirection),V=["left","up"].includes(v.swipeDirection)?Math.min:Math.max,$=L?V(0,G):0,F=L?0:V(0,Y),W=B.pointerType==="touch"?10:2,K={x:$,y:F},oe={originalEvent:B,delta:K};z?(I.current=K,Gd(lne,f,oe,{discrete:!1})):fS(K,v.swipeDirection,W)?(I.current=K,Gd(ane,u,oe,{discrete:!1}),B.target.setPointerCapture(B.pointerId)):(Math.abs(G)>W||Math.abs(Y)>W)&&(b.current=null)}),onPointerUp:Ue(t.onPointerUp,B=>{const G=I.current,Y=B.target;if(Y.hasPointerCapture(B.pointerId)&&Y.releasePointerCapture(B.pointerId),I.current=null,b.current=null,G){const z=B.currentTarget,L={originalEvent:B,delta:G};fS(G,v.swipeDirection,v.swipeThreshold)?Gd(une,g,L,{discrete:!0}):Gd(cne,h,L,{discrete:!0}),z.addEventListener("click",V=>V.preventDefault(),{once:!0})}})})})}),v.viewport)})]}):null}),pne=t=>{const{__scopeToast:e,children:n,...r}=t,i=nm(Hu,e),[o,s]=m.useState(!1),[a,l]=m.useState(!1);return vne(()=>s(!0)),m.useEffect(()=>{const c=window.setTimeout(()=>l(!0),1e3);return()=>window.clearTimeout(c)},[]),a?null:p.jsx(Vp,{asChild:!0,children:p.jsx(r_,{...r,children:o&&p.jsxs(p.Fragment,{children:[i.label," ",n]})})})},mne="ToastTitle",fO=m.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return p.jsx(ze.div,{...r,ref:e})});fO.displayName=mne;var gne="ToastDescription",hO=m.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return p.jsx(ze.div,{...r,ref:e})});hO.displayName=gne;var pO="ToastAction",mO=m.forwardRef((t,e)=>{const{altText:n,...r}=t;return n.trim()?p.jsx(vO,{altText:n,asChild:!0,children:p.jsx(s_,{...r,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${pO}\`. Expected non-empty \`string\`.`),null)});mO.displayName=pO;var gO="ToastClose",s_=m.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t,i=fne(gO,n);return p.jsx(vO,{asChild:!0,children:p.jsx(ze.button,{type:"button",...r,ref:e,onClick:Ue(t.onClick,i.onClose)})})});s_.displayName=gO;var vO=m.forwardRef((t,e)=>{const{__scopeToast:n,altText:r,...i}=t;return p.jsx(ze.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...i,ref:e})});function yO(t){const e=[];return Array.from(t.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&e.push(r.textContent),yne(r)){const i=r.ariaHidden||r.hidden||r.style.display==="none",o=r.dataset.radixToastAnnounceExclude==="";if(!i)if(o){const s=r.dataset.radixToastAnnounceAlt;s&&e.push(s)}else e.push(...yO(r))}}),e}function Gd(t,e,n,{discrete:r}){const i=n.originalEvent.currentTarget,o=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:n});e&&i.addEventListener(t,e,{once:!0}),r?yk(i,o):i.dispatchEvent(o)}var fS=(t,e,n=0)=>{const r=Math.abs(t.x),i=Math.abs(t.y),o=r>i;return e==="left"||e==="right"?o&&r>n:!o&&i>n};function vne(t=()=>{}){const e=Wt(t);Br(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[e])}function yne(t){return t.nodeType===t.ELEMENT_NODE}function wne(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function Hg(t){const e=document.activeElement;return t.some(n=>n===e?!0:(n.focus(),document.activeElement!==e))}var _ne=aO,wO=cO,_O=dO,xO=fO,EO=hO,bO=mO,TO=s_;const xne=_ne,CO=_e.forwardRef(({className:t,...e},n)=>p.jsx(wO,{ref:n,className:De("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));CO.displayName=wO.displayName;const Ene=Mu("data-[swipe=move]:transition-none group relative pointer-events-auto flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full data-[state=closed]:slide-out-to-right-full",{variants:{variant:{default:"bg-background border",destructive:"group destructive border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),SO=_e.forwardRef(({className:t,variant:e,...n},r)=>p.jsx(_O,{ref:r,className:De(Ene({variant:e}),t),...n}));SO.displayName=_O.displayName;const bne=_e.forwardRef(({className:t,...e},n)=>p.jsx(bO,{ref:n,className:De("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-destructive/30 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...e}));bne.displayName=bO.displayName;const PO=_e.forwardRef(({className:t,...e},n)=>p.jsx(TO,{ref:n,className:De("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:p.jsx(Fu,{className:"h-4 w-4"})}));PO.displayName=TO.displayName;const IO=_e.forwardRef(({className:t,...e},n)=>p.jsx(xO,{ref:n,className:De("text-sm font-semibold",t),...e}));IO.displayName=xO.displayName;const AO=_e.forwardRef(({className:t,...e},n)=>p.jsx(EO,{ref:n,className:De("text-sm opacity-90",t),...e}));AO.displayName=EO.displayName;function Tne(){const{toasts:t}=yl();return p.jsxs(xne,{children:[t.map(({id:e,title:n,description:r,action:i,...o})=>p.jsxs(SO,{...o,children:[p.jsxs("div",{className:"grid gap-1",children:[n&&p.jsx(IO,{children:n}),r&&p.jsx(AO,{children:r})]}),i,p.jsx(PO,{})]},e)),p.jsx(CO,{})]})}function qg({children:t}){const{user:e}=vl();return e?t:p.jsx(Uv,{to:"/auth",replace:!0})}function Cne(){const{user:t,loadingAuth:e}=vl();return e?p.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gradient-to-br from-pink-50 via-purple-50 to-indigo-50 space-y-4",children:[p.jsx(be.div,{className:"w-8 h-8 rounded-full bg-pink-500/80",animate:{opacity:[.4,1,.4]},transition:{duration:1.2,repeat:1/0}}),p.jsx(be.p,{className:"text-pink-600 font-medium",initial:{opacity:0},animate:{opacity:1},transition:{delay:.2},children:"Cargando aplicacin..."})]}):p.jsxs(w5,{children:[p.jsx(Ys,{path:"/auth",element:t?p.jsx(Uv,{to:"/",replace:!0}):p.jsx(TH,{})}),p.jsx(Ys,{path:"/",element:p.jsx(qg,{children:p.jsx(zg,{children:p.jsx(Wte,{})})})}),p.jsx(Ys,{path:"/archived-cycles",element:p.jsx(qg,{children:p.jsx(zg,{children:p.jsx(zte,{})})})}),p.jsx(Ys,{path:"/cycle/:cycleId",element:p.jsx(qg,{children:p.jsx(zg,{children:p.jsx(Gte,{})})})}),p.jsx(Ys,{path:"*",element:p.jsx(Uv,{to:t?"/":"/auth",replace:!0})})]})}function Sne(){return p.jsx(S5,{basename:"/RNF-App",children:p.jsxs(YU,{children:[p.jsx(Cne,{}),p.jsx(Tne,{})]})})}Gg.createRoot(document.getElementById("root")).render(p.jsx(_e.StrictMode,{children:p.jsx(Sne,{})}));"serviceWorker"in navigator&&window.addEventListener("load",()=>{const t="/RNF-App/sw.js";navigator.serviceWorker.register(t)});
