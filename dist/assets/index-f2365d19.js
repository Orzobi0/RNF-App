function zO(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(t,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();function lS(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var cS={exports:{}},Fh={},uS={exports:{}},Pe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hu=Symbol.for("react.element"),HO=Symbol.for("react.portal"),qO=Symbol.for("react.fragment"),GO=Symbol.for("react.strict_mode"),YO=Symbol.for("react.profiler"),KO=Symbol.for("react.provider"),QO=Symbol.for("react.context"),XO=Symbol.for("react.forward_ref"),JO=Symbol.for("react.suspense"),ZO=Symbol.for("react.memo"),eL=Symbol.for("react.lazy"),ix=Symbol.iterator;function tL(t){return t===null||typeof t!="object"?null:(t=ix&&t[ix]||t["@@iterator"],typeof t=="function"?t:null)}var dS={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},fS=Object.assign,hS={};function al(t,e,n){this.props=t,this.context=e,this.refs=hS,this.updater=n||dS}al.prototype.isReactComponent={};al.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};al.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function pS(){}pS.prototype=al.prototype;function Ky(t,e,n){this.props=t,this.context=e,this.refs=hS,this.updater=n||dS}var Qy=Ky.prototype=new pS;Qy.constructor=Ky;fS(Qy,al.prototype);Qy.isPureReactComponent=!0;var ox=Array.isArray,mS=Object.prototype.hasOwnProperty,Xy={current:null},gS={key:!0,ref:!0,__self:!0,__source:!0};function vS(t,e,n){var r,i={},o=null,s=null;if(e!=null)for(r in e.ref!==void 0&&(s=e.ref),e.key!==void 0&&(o=""+e.key),e)mS.call(e,r)&&!gS.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:hu,type:t,key:o,ref:s,props:i,_owner:Xy.current}}function nL(t,e){return{$$typeof:hu,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Jy(t){return typeof t=="object"&&t!==null&&t.$$typeof===hu}function rL(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var sx=/\/+/g;function xm(t,e){return typeof t=="object"&&t!==null&&t.key!=null?rL(""+t.key):e.toString(36)}function Bd(t,e,n,r,i){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var s=!1;if(t===null)s=!0;else switch(o){case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case hu:case HO:s=!0}}if(s)return s=t,i=i(s),t=r===""?"."+xm(s,0):r,ox(i)?(n="",t!=null&&(n=t.replace(sx,"$&/")+"/"),Bd(i,e,n,"",function(c){return c})):i!=null&&(Jy(i)&&(i=nL(i,n+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(sx,"$&/")+"/")+t)),e.push(i)),1;if(s=0,r=r===""?".":r+":",ox(t))for(var a=0;a<t.length;a++){o=t[a];var l=r+xm(o,a);s+=Bd(o,e,n,l,i)}else if(l=tL(t),typeof l=="function")for(t=l.call(t),a=0;!(o=t.next()).done;)o=o.value,l=r+xm(o,a++),s+=Bd(o,e,n,l,i);else if(o==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return s}function rd(t,e,n){if(t==null)return t;var r=[],i=0;return Bd(t,r,"","",function(o){return e.call(n,o,i++)}),r}function iL(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var vn={current:null},Wd={transition:null},oL={ReactCurrentDispatcher:vn,ReactCurrentBatchConfig:Wd,ReactCurrentOwner:Xy};function yS(){throw Error("act(...) is not supported in production builds of React.")}Pe.Children={map:rd,forEach:function(t,e,n){rd(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return rd(t,function(){e++}),e},toArray:function(t){return rd(t,function(e){return e})||[]},only:function(t){if(!Jy(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Pe.Component=al;Pe.Fragment=qO;Pe.Profiler=YO;Pe.PureComponent=Ky;Pe.StrictMode=GO;Pe.Suspense=JO;Pe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=oL;Pe.act=yS;Pe.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=fS({},t.props),i=t.key,o=t.ref,s=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,s=Xy.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)mS.call(e,l)&&!gS.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:hu,type:t.type,key:i,ref:o,props:r,_owner:s}};Pe.createContext=function(t){return t={$$typeof:QO,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:KO,_context:t},t.Consumer=t};Pe.createElement=vS;Pe.createFactory=function(t){var e=vS.bind(null,t);return e.type=t,e};Pe.createRef=function(){return{current:null}};Pe.forwardRef=function(t){return{$$typeof:XO,render:t}};Pe.isValidElement=Jy;Pe.lazy=function(t){return{$$typeof:eL,_payload:{_status:-1,_result:t},_init:iL}};Pe.memo=function(t,e){return{$$typeof:ZO,type:t,compare:e===void 0?null:e}};Pe.startTransition=function(t){var e=Wd.transition;Wd.transition={};try{t()}finally{Wd.transition=e}};Pe.unstable_act=yS;Pe.useCallback=function(t,e){return vn.current.useCallback(t,e)};Pe.useContext=function(t){return vn.current.useContext(t)};Pe.useDebugValue=function(){};Pe.useDeferredValue=function(t){return vn.current.useDeferredValue(t)};Pe.useEffect=function(t,e){return vn.current.useEffect(t,e)};Pe.useId=function(){return vn.current.useId()};Pe.useImperativeHandle=function(t,e,n){return vn.current.useImperativeHandle(t,e,n)};Pe.useInsertionEffect=function(t,e){return vn.current.useInsertionEffect(t,e)};Pe.useLayoutEffect=function(t,e){return vn.current.useLayoutEffect(t,e)};Pe.useMemo=function(t,e){return vn.current.useMemo(t,e)};Pe.useReducer=function(t,e,n){return vn.current.useReducer(t,e,n)};Pe.useRef=function(t){return vn.current.useRef(t)};Pe.useState=function(t){return vn.current.useState(t)};Pe.useSyncExternalStore=function(t,e,n){return vn.current.useSyncExternalStore(t,e,n)};Pe.useTransition=function(){return vn.current.useTransition()};Pe.version="18.3.1";uS.exports=Pe;var m=uS.exports;const _e=lS(m),$h=zO({__proto__:null,default:_e},[m]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sL=m,aL=Symbol.for("react.element"),lL=Symbol.for("react.fragment"),cL=Object.prototype.hasOwnProperty,uL=sL.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,dL={key:!0,ref:!0,__self:!0,__source:!0};function wS(t,e,n){var r,i={},o=null,s=null;n!==void 0&&(o=""+n),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(s=e.ref);for(r in e)cL.call(e,r)&&!dL.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:aL,type:t,key:o,ref:s,props:i,_owner:uL.current}}Fh.Fragment=lL;Fh.jsx=wS;Fh.jsxs=wS;cS.exports=Fh;var p=cS.exports,zg={},_S={exports:{}},$n={},xS={exports:{}},ES={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(L,j){var U=L.length;L.push(j);e:for(;0<U;){var z=U-1>>>1,B=L[z];if(0<i(B,j))L[z]=j,L[U]=B,U=z;else break e}}function n(L){return L.length===0?null:L[0]}function r(L){if(L.length===0)return null;var j=L[0],U=L.pop();if(U!==j){L[0]=U;e:for(var z=0,B=L.length,q=B>>>1;z<q;){var Z=2*(z+1)-1,se=L[Z],ye=Z+1,J=L[ye];if(0>i(se,U))ye<B&&0>i(J,se)?(L[z]=J,L[ye]=U,z=ye):(L[z]=se,L[Z]=U,z=Z);else if(ye<B&&0>i(J,U))L[z]=J,L[ye]=U,z=ye;else break e}}return j}function i(L,j){var U=L.sortIndex-j.sortIndex;return U!==0?U:L.id-j.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,a=s.now();t.unstable_now=function(){return s.now()-a}}var l=[],c=[],u=1,f=null,h=3,g=!1,w=!1,v=!1,E=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(L){for(var j=n(c);j!==null;){if(j.callback===null)r(c);else if(j.startTime<=L)r(c),j.sortIndex=j.expirationTime,e(l,j);else break;j=n(c)}}function P(L){if(v=!1,b(L),!w)if(n(l)!==null)w=!0,K(R);else{var j=n(c);j!==null&&W(P,j.startTime-L)}}function R(L,j){w=!1,v&&(v=!1,x(C),C=-1),g=!0;var U=h;try{for(b(j),f=n(l);f!==null&&(!(f.expirationTime>j)||L&&!M());){var z=f.callback;if(typeof z=="function"){f.callback=null,h=f.priorityLevel;var B=z(f.expirationTime<=j);j=t.unstable_now(),typeof B=="function"?f.callback=B:f===n(l)&&r(l),b(j)}else r(l);f=n(l)}if(f!==null)var q=!0;else{var Z=n(c);Z!==null&&W(P,Z.startTime-j),q=!1}return q}finally{f=null,h=U,g=!1}}var D=!1,S=null,C=-1,I=5,A=-1;function M(){return!(t.unstable_now()-A<I)}function O(){if(S!==null){var L=t.unstable_now();A=L;var j=!0;try{j=S(!0,L)}finally{j?N():(D=!1,S=null)}}else D=!1}var N;if(typeof y=="function")N=function(){y(O)};else if(typeof MessageChannel<"u"){var F=new MessageChannel,Y=F.port2;F.port1.onmessage=O,N=function(){Y.postMessage(null)}}else N=function(){E(O,0)};function K(L){S=L,D||(D=!0,N())}function W(L,j){C=E(function(){L(t.unstable_now())},j)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(L){L.callback=null},t.unstable_continueExecution=function(){w||g||(w=!0,K(R))},t.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<L?Math.floor(1e3/L):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(L){switch(h){case 1:case 2:case 3:var j=3;break;default:j=h}var U=h;h=j;try{return L()}finally{h=U}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(L,j){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var U=h;h=L;try{return j()}finally{h=U}},t.unstable_scheduleCallback=function(L,j,U){var z=t.unstable_now();switch(typeof U=="object"&&U!==null?(U=U.delay,U=typeof U=="number"&&0<U?z+U:z):U=z,L){case 1:var B=-1;break;case 2:B=250;break;case 5:B=1073741823;break;case 4:B=1e4;break;default:B=5e3}return B=U+B,L={id:u++,callback:j,priorityLevel:L,startTime:U,expirationTime:B,sortIndex:-1},U>z?(L.sortIndex=U,e(c,L),n(l)===null&&L===n(c)&&(v?(x(C),C=-1):v=!0,W(P,U-z))):(L.sortIndex=B,e(l,L),w||g||(w=!0,K(R))),L},t.unstable_shouldYield=M,t.unstable_wrapCallback=function(L){var j=h;return function(){var U=h;h=j;try{return L.apply(this,arguments)}finally{h=U}}}})(ES);xS.exports=ES;var fL=xS.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hL=m,jn=fL;function Q(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var bS=new Set,Rc={};function Is(t,e){Oa(t,e),Oa(t+"Capture",e)}function Oa(t,e){for(Rc[t]=e,t=0;t<e.length;t++)bS.add(e[t])}var gi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Hg=Object.prototype.hasOwnProperty,pL=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,ax={},lx={};function mL(t){return Hg.call(lx,t)?!0:Hg.call(ax,t)?!1:pL.test(t)?lx[t]=!0:(ax[t]=!0,!1)}function gL(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function vL(t,e,n,r){if(e===null||typeof e>"u"||gL(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function yn(t,e,n,r,i,o,s){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=s}var Gt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Gt[t]=new yn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Gt[e]=new yn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Gt[t]=new yn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Gt[t]=new yn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Gt[t]=new yn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Gt[t]=new yn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Gt[t]=new yn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Gt[t]=new yn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Gt[t]=new yn(t,5,!1,t.toLowerCase(),null,!1,!1)});var Zy=/[\-:]([a-z])/g;function e0(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Zy,e0);Gt[e]=new yn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Zy,e0);Gt[e]=new yn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Zy,e0);Gt[e]=new yn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Gt[t]=new yn(t,1,!1,t.toLowerCase(),null,!1,!1)});Gt.xlinkHref=new yn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Gt[t]=new yn(t,1,!1,t.toLowerCase(),null,!0,!0)});function t0(t,e,n,r){var i=Gt.hasOwnProperty(e)?Gt[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(vL(e,n,i,r)&&(n=null),r||i===null?mL(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Ri=hL.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,id=Symbol.for("react.element"),na=Symbol.for("react.portal"),ra=Symbol.for("react.fragment"),n0=Symbol.for("react.strict_mode"),qg=Symbol.for("react.profiler"),TS=Symbol.for("react.provider"),CS=Symbol.for("react.context"),r0=Symbol.for("react.forward_ref"),Gg=Symbol.for("react.suspense"),Yg=Symbol.for("react.suspense_list"),i0=Symbol.for("react.memo"),Gi=Symbol.for("react.lazy"),SS=Symbol.for("react.offscreen"),cx=Symbol.iterator;function Fl(t){return t===null||typeof t!="object"?null:(t=cx&&t[cx]||t["@@iterator"],typeof t=="function"?t:null)}var pt=Object.assign,Em;function Zl(t){if(Em===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Em=e&&e[1]||""}return`
`+Em+t}var bm=!1;function Tm(t,e){if(!t||bm)return"";bm=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),o=r.stack.split(`
`),s=i.length-1,a=o.length-1;1<=s&&0<=a&&i[s]!==o[a];)a--;for(;1<=s&&0<=a;s--,a--)if(i[s]!==o[a]){if(s!==1||a!==1)do if(s--,a--,0>a||i[s]!==o[a]){var l=`
`+i[s].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=s&&0<=a);break}}}finally{bm=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Zl(t):""}function yL(t){switch(t.tag){case 5:return Zl(t.type);case 16:return Zl("Lazy");case 13:return Zl("Suspense");case 19:return Zl("SuspenseList");case 0:case 2:case 15:return t=Tm(t.type,!1),t;case 11:return t=Tm(t.type.render,!1),t;case 1:return t=Tm(t.type,!0),t;default:return""}}function Kg(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case ra:return"Fragment";case na:return"Portal";case qg:return"Profiler";case n0:return"StrictMode";case Gg:return"Suspense";case Yg:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case CS:return(t.displayName||"Context")+".Consumer";case TS:return(t._context.displayName||"Context")+".Provider";case r0:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case i0:return e=t.displayName||null,e!==null?e:Kg(t.type)||"Memo";case Gi:e=t._payload,t=t._init;try{return Kg(t(e))}catch{}}return null}function wL(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Kg(e);case 8:return e===n0?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Co(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function PS(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function _L(t){var e=PS(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(s){r=""+s,o.call(this,s)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function od(t){t._valueTracker||(t._valueTracker=_L(t))}function IS(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=PS(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function yf(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Qg(t,e){var n=e.checked;return pt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function ux(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Co(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function AS(t,e){e=e.checked,e!=null&&t0(t,"checked",e,!1)}function Xg(t,e){AS(t,e);var n=Co(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Jg(t,e.type,n):e.hasOwnProperty("defaultValue")&&Jg(t,e.type,Co(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function dx(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Jg(t,e,n){(e!=="number"||yf(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var ec=Array.isArray;function xa(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Co(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Zg(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(Q(91));return pt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function fx(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(Q(92));if(ec(n)){if(1<n.length)throw Error(Q(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Co(n)}}function kS(t,e){var n=Co(e.value),r=Co(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function hx(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function RS(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ev(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?RS(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var sd,NS=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(sd=sd||document.createElement("div"),sd.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=sd.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Nc(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var uc={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},xL=["Webkit","ms","Moz","O"];Object.keys(uc).forEach(function(t){xL.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),uc[e]=uc[t]})});function DS(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||uc.hasOwnProperty(t)&&uc[t]?(""+e).trim():e+"px"}function MS(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=DS(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var EL=pt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function tv(t,e){if(e){if(EL[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(Q(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(Q(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(Q(61))}if(e.style!=null&&typeof e.style!="object")throw Error(Q(62))}}function nv(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var rv=null;function o0(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var iv=null,Ea=null,ba=null;function px(t){if(t=gu(t)){if(typeof iv!="function")throw Error(Q(280));var e=t.stateNode;e&&(e=Hh(e),iv(t.stateNode,t.type,e))}}function OS(t){Ea?ba?ba.push(t):ba=[t]:Ea=t}function LS(){if(Ea){var t=Ea,e=ba;if(ba=Ea=null,px(t),e)for(t=0;t<e.length;t++)px(e[t])}}function VS(t,e){return t(e)}function jS(){}var Cm=!1;function FS(t,e,n){if(Cm)return t(e,n);Cm=!0;try{return VS(t,e,n)}finally{Cm=!1,(Ea!==null||ba!==null)&&(jS(),LS())}}function Dc(t,e){var n=t.stateNode;if(n===null)return null;var r=Hh(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(Q(231,e,typeof n));return n}var ov=!1;if(gi)try{var $l={};Object.defineProperty($l,"passive",{get:function(){ov=!0}}),window.addEventListener("test",$l,$l),window.removeEventListener("test",$l,$l)}catch{ov=!1}function bL(t,e,n,r,i,o,s,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(u){this.onError(u)}}var dc=!1,wf=null,_f=!1,sv=null,TL={onError:function(t){dc=!0,wf=t}};function CL(t,e,n,r,i,o,s,a,l){dc=!1,wf=null,bL.apply(TL,arguments)}function SL(t,e,n,r,i,o,s,a,l){if(CL.apply(this,arguments),dc){if(dc){var c=wf;dc=!1,wf=null}else throw Error(Q(198));_f||(_f=!0,sv=c)}}function As(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function $S(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function mx(t){if(As(t)!==t)throw Error(Q(188))}function PL(t){var e=t.alternate;if(!e){if(e=As(t),e===null)throw Error(Q(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return mx(i),t;if(o===r)return mx(i),e;o=o.sibling}throw Error(Q(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,a=i.child;a;){if(a===n){s=!0,n=i,r=o;break}if(a===r){s=!0,r=i,n=o;break}a=a.sibling}if(!s){for(a=o.child;a;){if(a===n){s=!0,n=o,r=i;break}if(a===r){s=!0,r=o,n=i;break}a=a.sibling}if(!s)throw Error(Q(189))}}if(n.alternate!==r)throw Error(Q(190))}if(n.tag!==3)throw Error(Q(188));return n.stateNode.current===n?t:e}function US(t){return t=PL(t),t!==null?BS(t):null}function BS(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=BS(t);if(e!==null)return e;t=t.sibling}return null}var WS=jn.unstable_scheduleCallback,gx=jn.unstable_cancelCallback,IL=jn.unstable_shouldYield,AL=jn.unstable_requestPaint,xt=jn.unstable_now,kL=jn.unstable_getCurrentPriorityLevel,s0=jn.unstable_ImmediatePriority,zS=jn.unstable_UserBlockingPriority,xf=jn.unstable_NormalPriority,RL=jn.unstable_LowPriority,HS=jn.unstable_IdlePriority,Uh=null,Nr=null;function NL(t){if(Nr&&typeof Nr.onCommitFiberRoot=="function")try{Nr.onCommitFiberRoot(Uh,t,void 0,(t.current.flags&128)===128)}catch{}}var ur=Math.clz32?Math.clz32:OL,DL=Math.log,ML=Math.LN2;function OL(t){return t>>>=0,t===0?32:31-(DL(t)/ML|0)|0}var ad=64,ld=4194304;function tc(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Ef(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,o=t.pingedLanes,s=n&268435455;if(s!==0){var a=s&~i;a!==0?r=tc(a):(o&=s,o!==0&&(r=tc(o)))}else s=n&~i,s!==0?r=tc(s):o!==0&&(r=tc(o));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,o=e&-e,i>=o||i===16&&(o&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-ur(e),i=1<<n,r|=t[n],e&=~i;return r}function LL(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function VL(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,o=t.pendingLanes;0<o;){var s=31-ur(o),a=1<<s,l=i[s];l===-1?(!(a&n)||a&r)&&(i[s]=LL(a,e)):l<=e&&(t.expiredLanes|=a),o&=~a}}function av(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function qS(){var t=ad;return ad<<=1,!(ad&4194240)&&(ad=64),t}function Sm(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function pu(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-ur(e),t[e]=n}function jL(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-ur(n),o=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~o}}function a0(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-ur(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var qe=0;function GS(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var YS,l0,KS,QS,XS,lv=!1,cd=[],so=null,ao=null,lo=null,Mc=new Map,Oc=new Map,Qi=[],FL="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function vx(t,e){switch(t){case"focusin":case"focusout":so=null;break;case"dragenter":case"dragleave":ao=null;break;case"mouseover":case"mouseout":lo=null;break;case"pointerover":case"pointerout":Mc.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Oc.delete(e.pointerId)}}function Ul(t,e,n,r,i,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},e!==null&&(e=gu(e),e!==null&&l0(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function $L(t,e,n,r,i){switch(e){case"focusin":return so=Ul(so,t,e,n,r,i),!0;case"dragenter":return ao=Ul(ao,t,e,n,r,i),!0;case"mouseover":return lo=Ul(lo,t,e,n,r,i),!0;case"pointerover":var o=i.pointerId;return Mc.set(o,Ul(Mc.get(o)||null,t,e,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,Oc.set(o,Ul(Oc.get(o)||null,t,e,n,r,i)),!0}return!1}function JS(t){var e=is(t.target);if(e!==null){var n=As(e);if(n!==null){if(e=n.tag,e===13){if(e=$S(n),e!==null){t.blockedOn=e,XS(t.priority,function(){KS(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function zd(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=cv(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);rv=r,n.target.dispatchEvent(r),rv=null}else return e=gu(n),e!==null&&l0(e),t.blockedOn=n,!1;e.shift()}return!0}function yx(t,e,n){zd(t)&&n.delete(e)}function UL(){lv=!1,so!==null&&zd(so)&&(so=null),ao!==null&&zd(ao)&&(ao=null),lo!==null&&zd(lo)&&(lo=null),Mc.forEach(yx),Oc.forEach(yx)}function Bl(t,e){t.blockedOn===e&&(t.blockedOn=null,lv||(lv=!0,jn.unstable_scheduleCallback(jn.unstable_NormalPriority,UL)))}function Lc(t){function e(i){return Bl(i,t)}if(0<cd.length){Bl(cd[0],t);for(var n=1;n<cd.length;n++){var r=cd[n];r.blockedOn===t&&(r.blockedOn=null)}}for(so!==null&&Bl(so,t),ao!==null&&Bl(ao,t),lo!==null&&Bl(lo,t),Mc.forEach(e),Oc.forEach(e),n=0;n<Qi.length;n++)r=Qi[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Qi.length&&(n=Qi[0],n.blockedOn===null);)JS(n),n.blockedOn===null&&Qi.shift()}var Ta=Ri.ReactCurrentBatchConfig,bf=!0;function BL(t,e,n,r){var i=qe,o=Ta.transition;Ta.transition=null;try{qe=1,c0(t,e,n,r)}finally{qe=i,Ta.transition=o}}function WL(t,e,n,r){var i=qe,o=Ta.transition;Ta.transition=null;try{qe=4,c0(t,e,n,r)}finally{qe=i,Ta.transition=o}}function c0(t,e,n,r){if(bf){var i=cv(t,e,n,r);if(i===null)Lm(t,e,r,Tf,n),vx(t,r);else if($L(i,t,e,n,r))r.stopPropagation();else if(vx(t,r),e&4&&-1<FL.indexOf(t)){for(;i!==null;){var o=gu(i);if(o!==null&&YS(o),o=cv(t,e,n,r),o===null&&Lm(t,e,r,Tf,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else Lm(t,e,r,null,n)}}var Tf=null;function cv(t,e,n,r){if(Tf=null,t=o0(r),t=is(t),t!==null)if(e=As(t),e===null)t=null;else if(n=e.tag,n===13){if(t=$S(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Tf=t,null}function ZS(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(kL()){case s0:return 1;case zS:return 4;case xf:case RL:return 16;case HS:return 536870912;default:return 16}default:return 16}}var no=null,u0=null,Hd=null;function eP(){if(Hd)return Hd;var t,e=u0,n=e.length,r,i="value"in no?no.value:no.textContent,o=i.length;for(t=0;t<n&&e[t]===i[t];t++);var s=n-t;for(r=1;r<=s&&e[n-r]===i[o-r];r++);return Hd=i.slice(t,1<r?1-r:void 0)}function qd(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function ud(){return!0}function wx(){return!1}function Un(t){function e(n,r,i,o,s){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=s,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(o):o[a]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?ud:wx,this.isPropagationStopped=wx,this}return pt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=ud)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=ud)},persist:function(){},isPersistent:ud}),e}var ll={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},d0=Un(ll),mu=pt({},ll,{view:0,detail:0}),zL=Un(mu),Pm,Im,Wl,Bh=pt({},mu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:f0,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Wl&&(Wl&&t.type==="mousemove"?(Pm=t.screenX-Wl.screenX,Im=t.screenY-Wl.screenY):Im=Pm=0,Wl=t),Pm)},movementY:function(t){return"movementY"in t?t.movementY:Im}}),_x=Un(Bh),HL=pt({},Bh,{dataTransfer:0}),qL=Un(HL),GL=pt({},mu,{relatedTarget:0}),Am=Un(GL),YL=pt({},ll,{animationName:0,elapsedTime:0,pseudoElement:0}),KL=Un(YL),QL=pt({},ll,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),XL=Un(QL),JL=pt({},ll,{data:0}),xx=Un(JL),ZL={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},e4={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},t4={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function n4(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=t4[t])?!!e[t]:!1}function f0(){return n4}var r4=pt({},mu,{key:function(t){if(t.key){var e=ZL[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=qd(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?e4[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:f0,charCode:function(t){return t.type==="keypress"?qd(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?qd(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),i4=Un(r4),o4=pt({},Bh,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ex=Un(o4),s4=pt({},mu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:f0}),a4=Un(s4),l4=pt({},ll,{propertyName:0,elapsedTime:0,pseudoElement:0}),c4=Un(l4),u4=pt({},Bh,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),d4=Un(u4),f4=[9,13,27,32],h0=gi&&"CompositionEvent"in window,fc=null;gi&&"documentMode"in document&&(fc=document.documentMode);var h4=gi&&"TextEvent"in window&&!fc,tP=gi&&(!h0||fc&&8<fc&&11>=fc),bx=String.fromCharCode(32),Tx=!1;function nP(t,e){switch(t){case"keyup":return f4.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function rP(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ia=!1;function p4(t,e){switch(t){case"compositionend":return rP(e);case"keypress":return e.which!==32?null:(Tx=!0,bx);case"textInput":return t=e.data,t===bx&&Tx?null:t;default:return null}}function m4(t,e){if(ia)return t==="compositionend"||!h0&&nP(t,e)?(t=eP(),Hd=u0=no=null,ia=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return tP&&e.locale!=="ko"?null:e.data;default:return null}}var g4={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Cx(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!g4[t.type]:e==="textarea"}function iP(t,e,n,r){OS(r),e=Cf(e,"onChange"),0<e.length&&(n=new d0("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var hc=null,Vc=null;function v4(t){mP(t,0)}function Wh(t){var e=aa(t);if(IS(e))return t}function y4(t,e){if(t==="change")return e}var oP=!1;if(gi){var km;if(gi){var Rm="oninput"in document;if(!Rm){var Sx=document.createElement("div");Sx.setAttribute("oninput","return;"),Rm=typeof Sx.oninput=="function"}km=Rm}else km=!1;oP=km&&(!document.documentMode||9<document.documentMode)}function Px(){hc&&(hc.detachEvent("onpropertychange",sP),Vc=hc=null)}function sP(t){if(t.propertyName==="value"&&Wh(Vc)){var e=[];iP(e,Vc,t,o0(t)),FS(v4,e)}}function w4(t,e,n){t==="focusin"?(Px(),hc=e,Vc=n,hc.attachEvent("onpropertychange",sP)):t==="focusout"&&Px()}function _4(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Wh(Vc)}function x4(t,e){if(t==="click")return Wh(e)}function E4(t,e){if(t==="input"||t==="change")return Wh(e)}function b4(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var hr=typeof Object.is=="function"?Object.is:b4;function jc(t,e){if(hr(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Hg.call(e,i)||!hr(t[i],e[i]))return!1}return!0}function Ix(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Ax(t,e){var n=Ix(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Ix(n)}}function aP(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?aP(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function lP(){for(var t=window,e=yf();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=yf(t.document)}return e}function p0(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function T4(t){var e=lP(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&aP(n.ownerDocument.documentElement,n)){if(r!==null&&p0(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!t.extend&&o>r&&(i=r,r=o,o=i),i=Ax(n,o);var s=Ax(n,r);i&&s&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==s.node||t.focusOffset!==s.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),o>r?(t.addRange(e),t.extend(s.node,s.offset)):(e.setEnd(s.node,s.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var C4=gi&&"documentMode"in document&&11>=document.documentMode,oa=null,uv=null,pc=null,dv=!1;function kx(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;dv||oa==null||oa!==yf(r)||(r=oa,"selectionStart"in r&&p0(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),pc&&jc(pc,r)||(pc=r,r=Cf(uv,"onSelect"),0<r.length&&(e=new d0("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=oa)))}function dd(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var sa={animationend:dd("Animation","AnimationEnd"),animationiteration:dd("Animation","AnimationIteration"),animationstart:dd("Animation","AnimationStart"),transitionend:dd("Transition","TransitionEnd")},Nm={},cP={};gi&&(cP=document.createElement("div").style,"AnimationEvent"in window||(delete sa.animationend.animation,delete sa.animationiteration.animation,delete sa.animationstart.animation),"TransitionEvent"in window||delete sa.transitionend.transition);function zh(t){if(Nm[t])return Nm[t];if(!sa[t])return t;var e=sa[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in cP)return Nm[t]=e[n];return t}var uP=zh("animationend"),dP=zh("animationiteration"),fP=zh("animationstart"),hP=zh("transitionend"),pP=new Map,Rx="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Vo(t,e){pP.set(t,e),Is(e,[t])}for(var Dm=0;Dm<Rx.length;Dm++){var Mm=Rx[Dm],S4=Mm.toLowerCase(),P4=Mm[0].toUpperCase()+Mm.slice(1);Vo(S4,"on"+P4)}Vo(uP,"onAnimationEnd");Vo(dP,"onAnimationIteration");Vo(fP,"onAnimationStart");Vo("dblclick","onDoubleClick");Vo("focusin","onFocus");Vo("focusout","onBlur");Vo(hP,"onTransitionEnd");Oa("onMouseEnter",["mouseout","mouseover"]);Oa("onMouseLeave",["mouseout","mouseover"]);Oa("onPointerEnter",["pointerout","pointerover"]);Oa("onPointerLeave",["pointerout","pointerover"]);Is("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Is("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Is("onBeforeInput",["compositionend","keypress","textInput","paste"]);Is("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Is("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Is("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var nc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),I4=new Set("cancel close invalid load scroll toggle".split(" ").concat(nc));function Nx(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,SL(r,e,void 0,t),t.currentTarget=null}function mP(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var o=void 0;if(e)for(var s=r.length-1;0<=s;s--){var a=r[s],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==o&&i.isPropagationStopped())break e;Nx(i,a,c),o=l}else for(s=0;s<r.length;s++){if(a=r[s],l=a.instance,c=a.currentTarget,a=a.listener,l!==o&&i.isPropagationStopped())break e;Nx(i,a,c),o=l}}}if(_f)throw t=sv,_f=!1,sv=null,t}function nt(t,e){var n=e[gv];n===void 0&&(n=e[gv]=new Set);var r=t+"__bubble";n.has(r)||(gP(e,t,2,!1),n.add(r))}function Om(t,e,n){var r=0;e&&(r|=4),gP(n,t,r,e)}var fd="_reactListening"+Math.random().toString(36).slice(2);function Fc(t){if(!t[fd]){t[fd]=!0,bS.forEach(function(n){n!=="selectionchange"&&(I4.has(n)||Om(n,!1,t),Om(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[fd]||(e[fd]=!0,Om("selectionchange",!1,e))}}function gP(t,e,n,r){switch(ZS(e)){case 1:var i=BL;break;case 4:i=WL;break;default:i=c0}n=i.bind(null,e,n,t),i=void 0,!ov||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Lm(t,e,n,r,i){var o=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(s===4)for(s=r.return;s!==null;){var l=s.tag;if((l===3||l===4)&&(l=s.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;s=s.return}for(;a!==null;){if(s=is(a),s===null)return;if(l=s.tag,l===5||l===6){r=o=s;continue e}a=a.parentNode}}r=r.return}FS(function(){var c=o,u=o0(n),f=[];e:{var h=pP.get(t);if(h!==void 0){var g=d0,w=t;switch(t){case"keypress":if(qd(n)===0)break e;case"keydown":case"keyup":g=i4;break;case"focusin":w="focus",g=Am;break;case"focusout":w="blur",g=Am;break;case"beforeblur":case"afterblur":g=Am;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=_x;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=qL;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=a4;break;case uP:case dP:case fP:g=KL;break;case hP:g=c4;break;case"scroll":g=zL;break;case"wheel":g=d4;break;case"copy":case"cut":case"paste":g=XL;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=Ex}var v=(e&4)!==0,E=!v&&t==="scroll",x=v?h!==null?h+"Capture":null:h;v=[];for(var y=c,b;y!==null;){b=y;var P=b.stateNode;if(b.tag===5&&P!==null&&(b=P,x!==null&&(P=Dc(y,x),P!=null&&v.push($c(y,P,b)))),E)break;y=y.return}0<v.length&&(h=new g(h,w,null,n,u),f.push({event:h,listeners:v}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",g=t==="mouseout"||t==="pointerout",h&&n!==rv&&(w=n.relatedTarget||n.fromElement)&&(is(w)||w[vi]))break e;if((g||h)&&(h=u.window===u?u:(h=u.ownerDocument)?h.defaultView||h.parentWindow:window,g?(w=n.relatedTarget||n.toElement,g=c,w=w?is(w):null,w!==null&&(E=As(w),w!==E||w.tag!==5&&w.tag!==6)&&(w=null)):(g=null,w=c),g!==w)){if(v=_x,P="onMouseLeave",x="onMouseEnter",y="mouse",(t==="pointerout"||t==="pointerover")&&(v=Ex,P="onPointerLeave",x="onPointerEnter",y="pointer"),E=g==null?h:aa(g),b=w==null?h:aa(w),h=new v(P,y+"leave",g,n,u),h.target=E,h.relatedTarget=b,P=null,is(u)===c&&(v=new v(x,y+"enter",w,n,u),v.target=b,v.relatedTarget=E,P=v),E=P,g&&w)t:{for(v=g,x=w,y=0,b=v;b;b=Bs(b))y++;for(b=0,P=x;P;P=Bs(P))b++;for(;0<y-b;)v=Bs(v),y--;for(;0<b-y;)x=Bs(x),b--;for(;y--;){if(v===x||x!==null&&v===x.alternate)break t;v=Bs(v),x=Bs(x)}v=null}else v=null;g!==null&&Dx(f,h,g,v,!1),w!==null&&E!==null&&Dx(f,E,w,v,!0)}}e:{if(h=c?aa(c):window,g=h.nodeName&&h.nodeName.toLowerCase(),g==="select"||g==="input"&&h.type==="file")var R=y4;else if(Cx(h))if(oP)R=E4;else{R=_4;var D=w4}else(g=h.nodeName)&&g.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(R=x4);if(R&&(R=R(t,c))){iP(f,R,n,u);break e}D&&D(t,h,c),t==="focusout"&&(D=h._wrapperState)&&D.controlled&&h.type==="number"&&Jg(h,"number",h.value)}switch(D=c?aa(c):window,t){case"focusin":(Cx(D)||D.contentEditable==="true")&&(oa=D,uv=c,pc=null);break;case"focusout":pc=uv=oa=null;break;case"mousedown":dv=!0;break;case"contextmenu":case"mouseup":case"dragend":dv=!1,kx(f,n,u);break;case"selectionchange":if(C4)break;case"keydown":case"keyup":kx(f,n,u)}var S;if(h0)e:{switch(t){case"compositionstart":var C="onCompositionStart";break e;case"compositionend":C="onCompositionEnd";break e;case"compositionupdate":C="onCompositionUpdate";break e}C=void 0}else ia?nP(t,n)&&(C="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(C="onCompositionStart");C&&(tP&&n.locale!=="ko"&&(ia||C!=="onCompositionStart"?C==="onCompositionEnd"&&ia&&(S=eP()):(no=u,u0="value"in no?no.value:no.textContent,ia=!0)),D=Cf(c,C),0<D.length&&(C=new xx(C,t,null,n,u),f.push({event:C,listeners:D}),S?C.data=S:(S=rP(n),S!==null&&(C.data=S)))),(S=h4?p4(t,n):m4(t,n))&&(c=Cf(c,"onBeforeInput"),0<c.length&&(u=new xx("onBeforeInput","beforeinput",null,n,u),f.push({event:u,listeners:c}),u.data=S))}mP(f,e)})}function $c(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Cf(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=Dc(t,n),o!=null&&r.unshift($c(t,o,i)),o=Dc(t,e),o!=null&&r.push($c(t,o,i))),t=t.return}return r}function Bs(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Dx(t,e,n,r,i){for(var o=e._reactName,s=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,i?(l=Dc(n,o),l!=null&&s.unshift($c(n,l,a))):i||(l=Dc(n,o),l!=null&&s.push($c(n,l,a)))),n=n.return}s.length!==0&&t.push({event:e,listeners:s})}var A4=/\r\n?/g,k4=/\u0000|\uFFFD/g;function Mx(t){return(typeof t=="string"?t:""+t).replace(A4,`
`).replace(k4,"")}function hd(t,e,n){if(e=Mx(e),Mx(t)!==e&&n)throw Error(Q(425))}function Sf(){}var fv=null,hv=null;function pv(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var mv=typeof setTimeout=="function"?setTimeout:void 0,R4=typeof clearTimeout=="function"?clearTimeout:void 0,Ox=typeof Promise=="function"?Promise:void 0,N4=typeof queueMicrotask=="function"?queueMicrotask:typeof Ox<"u"?function(t){return Ox.resolve(null).then(t).catch(D4)}:mv;function D4(t){setTimeout(function(){throw t})}function Vm(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Lc(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Lc(e)}function co(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Lx(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var cl=Math.random().toString(36).slice(2),Sr="__reactFiber$"+cl,Uc="__reactProps$"+cl,vi="__reactContainer$"+cl,gv="__reactEvents$"+cl,M4="__reactListeners$"+cl,O4="__reactHandles$"+cl;function is(t){var e=t[Sr];if(e)return e;for(var n=t.parentNode;n;){if(e=n[vi]||n[Sr]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Lx(t);t!==null;){if(n=t[Sr])return n;t=Lx(t)}return e}t=n,n=t.parentNode}return null}function gu(t){return t=t[Sr]||t[vi],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function aa(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(Q(33))}function Hh(t){return t[Uc]||null}var vv=[],la=-1;function jo(t){return{current:t}}function ot(t){0>la||(t.current=vv[la],vv[la]=null,la--)}function Qe(t,e){la++,vv[la]=t.current,t.current=e}var So={},an=jo(So),Tn=jo(!1),hs=So;function La(t,e){var n=t.type.contextTypes;if(!n)return So;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=e[o];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Cn(t){return t=t.childContextTypes,t!=null}function Pf(){ot(Tn),ot(an)}function Vx(t,e,n){if(an.current!==So)throw Error(Q(168));Qe(an,e),Qe(Tn,n)}function vP(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(Q(108,wL(t)||"Unknown",i));return pt({},n,r)}function If(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||So,hs=an.current,Qe(an,t),Qe(Tn,Tn.current),!0}function jx(t,e,n){var r=t.stateNode;if(!r)throw Error(Q(169));n?(t=vP(t,e,hs),r.__reactInternalMemoizedMergedChildContext=t,ot(Tn),ot(an),Qe(an,t)):ot(Tn),Qe(Tn,n)}var oi=null,qh=!1,jm=!1;function yP(t){oi===null?oi=[t]:oi.push(t)}function L4(t){qh=!0,yP(t)}function Fo(){if(!jm&&oi!==null){jm=!0;var t=0,e=qe;try{var n=oi;for(qe=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}oi=null,qh=!1}catch(i){throw oi!==null&&(oi=oi.slice(t+1)),WS(s0,Fo),i}finally{qe=e,jm=!1}}return null}var ca=[],ua=0,Af=null,kf=0,zn=[],Hn=0,ps=null,si=1,ai="";function Xo(t,e){ca[ua++]=kf,ca[ua++]=Af,Af=t,kf=e}function wP(t,e,n){zn[Hn++]=si,zn[Hn++]=ai,zn[Hn++]=ps,ps=t;var r=si;t=ai;var i=32-ur(r)-1;r&=~(1<<i),n+=1;var o=32-ur(e)+i;if(30<o){var s=i-i%5;o=(r&(1<<s)-1).toString(32),r>>=s,i-=s,si=1<<32-ur(e)+i|n<<i|r,ai=o+t}else si=1<<o|n<<i|r,ai=t}function m0(t){t.return!==null&&(Xo(t,1),wP(t,1,0))}function g0(t){for(;t===Af;)Af=ca[--ua],ca[ua]=null,kf=ca[--ua],ca[ua]=null;for(;t===ps;)ps=zn[--Hn],zn[Hn]=null,ai=zn[--Hn],zn[Hn]=null,si=zn[--Hn],zn[Hn]=null}var Ln=null,Mn=null,at=!1,lr=null;function _P(t,e){var n=Gn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Fx(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Ln=t,Mn=co(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Ln=t,Mn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=ps!==null?{id:si,overflow:ai}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Gn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Ln=t,Mn=null,!0):!1;default:return!1}}function yv(t){return(t.mode&1)!==0&&(t.flags&128)===0}function wv(t){if(at){var e=Mn;if(e){var n=e;if(!Fx(t,e)){if(yv(t))throw Error(Q(418));e=co(n.nextSibling);var r=Ln;e&&Fx(t,e)?_P(r,n):(t.flags=t.flags&-4097|2,at=!1,Ln=t)}}else{if(yv(t))throw Error(Q(418));t.flags=t.flags&-4097|2,at=!1,Ln=t}}}function $x(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Ln=t}function pd(t){if(t!==Ln)return!1;if(!at)return $x(t),at=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!pv(t.type,t.memoizedProps)),e&&(e=Mn)){if(yv(t))throw xP(),Error(Q(418));for(;e;)_P(t,e),e=co(e.nextSibling)}if($x(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(Q(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Mn=co(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Mn=null}}else Mn=Ln?co(t.stateNode.nextSibling):null;return!0}function xP(){for(var t=Mn;t;)t=co(t.nextSibling)}function Va(){Mn=Ln=null,at=!1}function v0(t){lr===null?lr=[t]:lr.push(t)}var V4=Ri.ReactCurrentBatchConfig;function zl(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(Q(309));var r=n.stateNode}if(!r)throw Error(Q(147,t));var i=r,o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(s){var a=i.refs;s===null?delete a[o]:a[o]=s},e._stringRef=o,e)}if(typeof t!="string")throw Error(Q(284));if(!n._owner)throw Error(Q(290,t))}return t}function md(t,e){throw t=Object.prototype.toString.call(e),Error(Q(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Ux(t){var e=t._init;return e(t._payload)}function EP(t){function e(x,y){if(t){var b=x.deletions;b===null?(x.deletions=[y],x.flags|=16):b.push(y)}}function n(x,y){if(!t)return null;for(;y!==null;)e(x,y),y=y.sibling;return null}function r(x,y){for(x=new Map;y!==null;)y.key!==null?x.set(y.key,y):x.set(y.index,y),y=y.sibling;return x}function i(x,y){return x=po(x,y),x.index=0,x.sibling=null,x}function o(x,y,b){return x.index=b,t?(b=x.alternate,b!==null?(b=b.index,b<y?(x.flags|=2,y):b):(x.flags|=2,y)):(x.flags|=1048576,y)}function s(x){return t&&x.alternate===null&&(x.flags|=2),x}function a(x,y,b,P){return y===null||y.tag!==6?(y=Hm(b,x.mode,P),y.return=x,y):(y=i(y,b),y.return=x,y)}function l(x,y,b,P){var R=b.type;return R===ra?u(x,y,b.props.children,P,b.key):y!==null&&(y.elementType===R||typeof R=="object"&&R!==null&&R.$$typeof===Gi&&Ux(R)===y.type)?(P=i(y,b.props),P.ref=zl(x,y,b),P.return=x,P):(P=Zd(b.type,b.key,b.props,null,x.mode,P),P.ref=zl(x,y,b),P.return=x,P)}function c(x,y,b,P){return y===null||y.tag!==4||y.stateNode.containerInfo!==b.containerInfo||y.stateNode.implementation!==b.implementation?(y=qm(b,x.mode,P),y.return=x,y):(y=i(y,b.children||[]),y.return=x,y)}function u(x,y,b,P,R){return y===null||y.tag!==7?(y=ds(b,x.mode,P,R),y.return=x,y):(y=i(y,b),y.return=x,y)}function f(x,y,b){if(typeof y=="string"&&y!==""||typeof y=="number")return y=Hm(""+y,x.mode,b),y.return=x,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case id:return b=Zd(y.type,y.key,y.props,null,x.mode,b),b.ref=zl(x,null,y),b.return=x,b;case na:return y=qm(y,x.mode,b),y.return=x,y;case Gi:var P=y._init;return f(x,P(y._payload),b)}if(ec(y)||Fl(y))return y=ds(y,x.mode,b,null),y.return=x,y;md(x,y)}return null}function h(x,y,b,P){var R=y!==null?y.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return R!==null?null:a(x,y,""+b,P);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case id:return b.key===R?l(x,y,b,P):null;case na:return b.key===R?c(x,y,b,P):null;case Gi:return R=b._init,h(x,y,R(b._payload),P)}if(ec(b)||Fl(b))return R!==null?null:u(x,y,b,P,null);md(x,b)}return null}function g(x,y,b,P,R){if(typeof P=="string"&&P!==""||typeof P=="number")return x=x.get(b)||null,a(y,x,""+P,R);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case id:return x=x.get(P.key===null?b:P.key)||null,l(y,x,P,R);case na:return x=x.get(P.key===null?b:P.key)||null,c(y,x,P,R);case Gi:var D=P._init;return g(x,y,b,D(P._payload),R)}if(ec(P)||Fl(P))return x=x.get(b)||null,u(y,x,P,R,null);md(y,P)}return null}function w(x,y,b,P){for(var R=null,D=null,S=y,C=y=0,I=null;S!==null&&C<b.length;C++){S.index>C?(I=S,S=null):I=S.sibling;var A=h(x,S,b[C],P);if(A===null){S===null&&(S=I);break}t&&S&&A.alternate===null&&e(x,S),y=o(A,y,C),D===null?R=A:D.sibling=A,D=A,S=I}if(C===b.length)return n(x,S),at&&Xo(x,C),R;if(S===null){for(;C<b.length;C++)S=f(x,b[C],P),S!==null&&(y=o(S,y,C),D===null?R=S:D.sibling=S,D=S);return at&&Xo(x,C),R}for(S=r(x,S);C<b.length;C++)I=g(S,x,C,b[C],P),I!==null&&(t&&I.alternate!==null&&S.delete(I.key===null?C:I.key),y=o(I,y,C),D===null?R=I:D.sibling=I,D=I);return t&&S.forEach(function(M){return e(x,M)}),at&&Xo(x,C),R}function v(x,y,b,P){var R=Fl(b);if(typeof R!="function")throw Error(Q(150));if(b=R.call(b),b==null)throw Error(Q(151));for(var D=R=null,S=y,C=y=0,I=null,A=b.next();S!==null&&!A.done;C++,A=b.next()){S.index>C?(I=S,S=null):I=S.sibling;var M=h(x,S,A.value,P);if(M===null){S===null&&(S=I);break}t&&S&&M.alternate===null&&e(x,S),y=o(M,y,C),D===null?R=M:D.sibling=M,D=M,S=I}if(A.done)return n(x,S),at&&Xo(x,C),R;if(S===null){for(;!A.done;C++,A=b.next())A=f(x,A.value,P),A!==null&&(y=o(A,y,C),D===null?R=A:D.sibling=A,D=A);return at&&Xo(x,C),R}for(S=r(x,S);!A.done;C++,A=b.next())A=g(S,x,C,A.value,P),A!==null&&(t&&A.alternate!==null&&S.delete(A.key===null?C:A.key),y=o(A,y,C),D===null?R=A:D.sibling=A,D=A);return t&&S.forEach(function(O){return e(x,O)}),at&&Xo(x,C),R}function E(x,y,b,P){if(typeof b=="object"&&b!==null&&b.type===ra&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case id:e:{for(var R=b.key,D=y;D!==null;){if(D.key===R){if(R=b.type,R===ra){if(D.tag===7){n(x,D.sibling),y=i(D,b.props.children),y.return=x,x=y;break e}}else if(D.elementType===R||typeof R=="object"&&R!==null&&R.$$typeof===Gi&&Ux(R)===D.type){n(x,D.sibling),y=i(D,b.props),y.ref=zl(x,D,b),y.return=x,x=y;break e}n(x,D);break}else e(x,D);D=D.sibling}b.type===ra?(y=ds(b.props.children,x.mode,P,b.key),y.return=x,x=y):(P=Zd(b.type,b.key,b.props,null,x.mode,P),P.ref=zl(x,y,b),P.return=x,x=P)}return s(x);case na:e:{for(D=b.key;y!==null;){if(y.key===D)if(y.tag===4&&y.stateNode.containerInfo===b.containerInfo&&y.stateNode.implementation===b.implementation){n(x,y.sibling),y=i(y,b.children||[]),y.return=x,x=y;break e}else{n(x,y);break}else e(x,y);y=y.sibling}y=qm(b,x.mode,P),y.return=x,x=y}return s(x);case Gi:return D=b._init,E(x,y,D(b._payload),P)}if(ec(b))return w(x,y,b,P);if(Fl(b))return v(x,y,b,P);md(x,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,y!==null&&y.tag===6?(n(x,y.sibling),y=i(y,b),y.return=x,x=y):(n(x,y),y=Hm(b,x.mode,P),y.return=x,x=y),s(x)):n(x,y)}return E}var ja=EP(!0),bP=EP(!1),Rf=jo(null),Nf=null,da=null,y0=null;function w0(){y0=da=Nf=null}function _0(t){var e=Rf.current;ot(Rf),t._currentValue=e}function _v(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Ca(t,e){Nf=t,y0=da=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(En=!0),t.firstContext=null)}function Xn(t){var e=t._currentValue;if(y0!==t)if(t={context:t,memoizedValue:e,next:null},da===null){if(Nf===null)throw Error(Q(308));da=t,Nf.dependencies={lanes:0,firstContext:t}}else da=da.next=t;return e}var os=null;function x0(t){os===null?os=[t]:os.push(t)}function TP(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,x0(e)):(n.next=i.next,i.next=n),e.interleaved=n,yi(t,r)}function yi(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Yi=!1;function E0(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function CP(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function di(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function uo(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Oe&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,yi(t,n)}return i=r.interleaved,i===null?(e.next=e,x0(r)):(e.next=i.next,i.next=e),r.interleaved=e,yi(t,n)}function Gd(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,a0(t,n)}}function Bx(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=s:o=o.next=s,n=n.next}while(n!==null);o===null?i=o=e:o=o.next=e}else i=o=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Df(t,e,n,r){var i=t.updateQueue;Yi=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,c=l.next;l.next=null,s===null?o=c:s.next=c,s=l;var u=t.alternate;u!==null&&(u=u.updateQueue,a=u.lastBaseUpdate,a!==s&&(a===null?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(o!==null){var f=i.baseState;s=0,u=c=l=null,a=o;do{var h=a.lane,g=a.eventTime;if((r&h)===h){u!==null&&(u=u.next={eventTime:g,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var w=t,v=a;switch(h=e,g=n,v.tag){case 1:if(w=v.payload,typeof w=="function"){f=w.call(g,f,h);break e}f=w;break e;case 3:w.flags=w.flags&-65537|128;case 0:if(w=v.payload,h=typeof w=="function"?w.call(g,f,h):w,h==null)break e;f=pt({},f,h);break e;case 2:Yi=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,h=i.effects,h===null?i.effects=[a]:h.push(a))}else g={eventTime:g,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},u===null?(c=u=g,l=f):u=u.next=g,s|=h;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;h=a,a=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(1);if(u===null&&(l=f),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,e=i.shared.interleaved,e!==null){i=e;do s|=i.lane,i=i.next;while(i!==e)}else o===null&&(i.shared.lanes=0);gs|=s,t.lanes=s,t.memoizedState=f}}function Wx(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(Q(191,i));i.call(r)}}}var vu={},Dr=jo(vu),Bc=jo(vu),Wc=jo(vu);function ss(t){if(t===vu)throw Error(Q(174));return t}function b0(t,e){switch(Qe(Wc,e),Qe(Bc,t),Qe(Dr,vu),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:ev(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=ev(e,t)}ot(Dr),Qe(Dr,e)}function Fa(){ot(Dr),ot(Bc),ot(Wc)}function SP(t){ss(Wc.current);var e=ss(Dr.current),n=ev(e,t.type);e!==n&&(Qe(Bc,t),Qe(Dr,n))}function T0(t){Bc.current===t&&(ot(Dr),ot(Bc))}var ct=jo(0);function Mf(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Fm=[];function C0(){for(var t=0;t<Fm.length;t++)Fm[t]._workInProgressVersionPrimary=null;Fm.length=0}var Yd=Ri.ReactCurrentDispatcher,$m=Ri.ReactCurrentBatchConfig,ms=0,ft=null,kt=null,jt=null,Of=!1,mc=!1,zc=0,j4=0;function Jt(){throw Error(Q(321))}function S0(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!hr(t[n],e[n]))return!1;return!0}function P0(t,e,n,r,i,o){if(ms=o,ft=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Yd.current=t===null||t.memoizedState===null?B4:W4,t=n(r,i),mc){o=0;do{if(mc=!1,zc=0,25<=o)throw Error(Q(301));o+=1,jt=kt=null,e.updateQueue=null,Yd.current=z4,t=n(r,i)}while(mc)}if(Yd.current=Lf,e=kt!==null&&kt.next!==null,ms=0,jt=kt=ft=null,Of=!1,e)throw Error(Q(300));return t}function I0(){var t=zc!==0;return zc=0,t}function Tr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return jt===null?ft.memoizedState=jt=t:jt=jt.next=t,jt}function Jn(){if(kt===null){var t=ft.alternate;t=t!==null?t.memoizedState:null}else t=kt.next;var e=jt===null?ft.memoizedState:jt.next;if(e!==null)jt=e,kt=t;else{if(t===null)throw Error(Q(310));kt=t,t={memoizedState:kt.memoizedState,baseState:kt.baseState,baseQueue:kt.baseQueue,queue:kt.queue,next:null},jt===null?ft.memoizedState=jt=t:jt=jt.next=t}return jt}function Hc(t,e){return typeof e=="function"?e(t):e}function Um(t){var e=Jn(),n=e.queue;if(n===null)throw Error(Q(311));n.lastRenderedReducer=t;var r=kt,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var a=s=null,l=null,c=o;do{var u=c.lane;if((ms&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var f={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=f,s=r):l=l.next=f,ft.lanes|=u,gs|=u}c=c.next}while(c!==null&&c!==o);l===null?s=r:l.next=a,hr(r,e.memoizedState)||(En=!0),e.memoizedState=r,e.baseState=s,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do o=i.lane,ft.lanes|=o,gs|=o,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Bm(t){var e=Jn(),n=e.queue;if(n===null)throw Error(Q(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,o=e.memoizedState;if(i!==null){n.pending=null;var s=i=i.next;do o=t(o,s.action),s=s.next;while(s!==i);hr(o,e.memoizedState)||(En=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),n.lastRenderedState=o}return[o,r]}function PP(){}function IP(t,e){var n=ft,r=Jn(),i=e(),o=!hr(r.memoizedState,i);if(o&&(r.memoizedState=i,En=!0),r=r.queue,A0(RP.bind(null,n,r,t),[t]),r.getSnapshot!==e||o||jt!==null&&jt.memoizedState.tag&1){if(n.flags|=2048,qc(9,kP.bind(null,n,r,i,e),void 0,null),Ft===null)throw Error(Q(349));ms&30||AP(n,e,i)}return i}function AP(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=ft.updateQueue,e===null?(e={lastEffect:null,stores:null},ft.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function kP(t,e,n,r){e.value=n,e.getSnapshot=r,NP(e)&&DP(t)}function RP(t,e,n){return n(function(){NP(e)&&DP(t)})}function NP(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!hr(t,n)}catch{return!0}}function DP(t){var e=yi(t,1);e!==null&&dr(e,t,1,-1)}function zx(t){var e=Tr();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Hc,lastRenderedState:t},e.queue=t,t=t.dispatch=U4.bind(null,ft,t),[e.memoizedState,t]}function qc(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=ft.updateQueue,e===null?(e={lastEffect:null,stores:null},ft.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function MP(){return Jn().memoizedState}function Kd(t,e,n,r){var i=Tr();ft.flags|=t,i.memoizedState=qc(1|e,n,void 0,r===void 0?null:r)}function Gh(t,e,n,r){var i=Jn();r=r===void 0?null:r;var o=void 0;if(kt!==null){var s=kt.memoizedState;if(o=s.destroy,r!==null&&S0(r,s.deps)){i.memoizedState=qc(e,n,o,r);return}}ft.flags|=t,i.memoizedState=qc(1|e,n,o,r)}function Hx(t,e){return Kd(8390656,8,t,e)}function A0(t,e){return Gh(2048,8,t,e)}function OP(t,e){return Gh(4,2,t,e)}function LP(t,e){return Gh(4,4,t,e)}function VP(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function jP(t,e,n){return n=n!=null?n.concat([t]):null,Gh(4,4,VP.bind(null,e,t),n)}function k0(){}function FP(t,e){var n=Jn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&S0(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function $P(t,e){var n=Jn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&S0(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function UP(t,e,n){return ms&21?(hr(n,e)||(n=qS(),ft.lanes|=n,gs|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,En=!0),t.memoizedState=n)}function F4(t,e){var n=qe;qe=n!==0&&4>n?n:4,t(!0);var r=$m.transition;$m.transition={};try{t(!1),e()}finally{qe=n,$m.transition=r}}function BP(){return Jn().memoizedState}function $4(t,e,n){var r=ho(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},WP(t))zP(e,n);else if(n=TP(t,e,n,r),n!==null){var i=gn();dr(n,t,r,i),HP(n,e,r)}}function U4(t,e,n){var r=ho(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(WP(t))zP(e,i);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var s=e.lastRenderedState,a=o(s,n);if(i.hasEagerState=!0,i.eagerState=a,hr(a,s)){var l=e.interleaved;l===null?(i.next=i,x0(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=TP(t,e,i,r),n!==null&&(i=gn(),dr(n,t,r,i),HP(n,e,r))}}function WP(t){var e=t.alternate;return t===ft||e!==null&&e===ft}function zP(t,e){mc=Of=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function HP(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,a0(t,n)}}var Lf={readContext:Xn,useCallback:Jt,useContext:Jt,useEffect:Jt,useImperativeHandle:Jt,useInsertionEffect:Jt,useLayoutEffect:Jt,useMemo:Jt,useReducer:Jt,useRef:Jt,useState:Jt,useDebugValue:Jt,useDeferredValue:Jt,useTransition:Jt,useMutableSource:Jt,useSyncExternalStore:Jt,useId:Jt,unstable_isNewReconciler:!1},B4={readContext:Xn,useCallback:function(t,e){return Tr().memoizedState=[t,e===void 0?null:e],t},useContext:Xn,useEffect:Hx,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Kd(4194308,4,VP.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Kd(4194308,4,t,e)},useInsertionEffect:function(t,e){return Kd(4,2,t,e)},useMemo:function(t,e){var n=Tr();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Tr();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=$4.bind(null,ft,t),[r.memoizedState,t]},useRef:function(t){var e=Tr();return t={current:t},e.memoizedState=t},useState:zx,useDebugValue:k0,useDeferredValue:function(t){return Tr().memoizedState=t},useTransition:function(){var t=zx(!1),e=t[0];return t=F4.bind(null,t[1]),Tr().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=ft,i=Tr();if(at){if(n===void 0)throw Error(Q(407));n=n()}else{if(n=e(),Ft===null)throw Error(Q(349));ms&30||AP(r,e,n)}i.memoizedState=n;var o={value:n,getSnapshot:e};return i.queue=o,Hx(RP.bind(null,r,o,t),[t]),r.flags|=2048,qc(9,kP.bind(null,r,o,n,e),void 0,null),n},useId:function(){var t=Tr(),e=Ft.identifierPrefix;if(at){var n=ai,r=si;n=(r&~(1<<32-ur(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=zc++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=j4++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},W4={readContext:Xn,useCallback:FP,useContext:Xn,useEffect:A0,useImperativeHandle:jP,useInsertionEffect:OP,useLayoutEffect:LP,useMemo:$P,useReducer:Um,useRef:MP,useState:function(){return Um(Hc)},useDebugValue:k0,useDeferredValue:function(t){var e=Jn();return UP(e,kt.memoizedState,t)},useTransition:function(){var t=Um(Hc)[0],e=Jn().memoizedState;return[t,e]},useMutableSource:PP,useSyncExternalStore:IP,useId:BP,unstable_isNewReconciler:!1},z4={readContext:Xn,useCallback:FP,useContext:Xn,useEffect:A0,useImperativeHandle:jP,useInsertionEffect:OP,useLayoutEffect:LP,useMemo:$P,useReducer:Bm,useRef:MP,useState:function(){return Bm(Hc)},useDebugValue:k0,useDeferredValue:function(t){var e=Jn();return kt===null?e.memoizedState=t:UP(e,kt.memoizedState,t)},useTransition:function(){var t=Bm(Hc)[0],e=Jn().memoizedState;return[t,e]},useMutableSource:PP,useSyncExternalStore:IP,useId:BP,unstable_isNewReconciler:!1};function sr(t,e){if(t&&t.defaultProps){e=pt({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function xv(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:pt({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Yh={isMounted:function(t){return(t=t._reactInternals)?As(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=gn(),i=ho(t),o=di(r,i);o.payload=e,n!=null&&(o.callback=n),e=uo(t,o,i),e!==null&&(dr(e,t,i,r),Gd(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=gn(),i=ho(t),o=di(r,i);o.tag=1,o.payload=e,n!=null&&(o.callback=n),e=uo(t,o,i),e!==null&&(dr(e,t,i,r),Gd(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=gn(),r=ho(t),i=di(n,r);i.tag=2,e!=null&&(i.callback=e),e=uo(t,i,r),e!==null&&(dr(e,t,r,n),Gd(e,t,r))}};function qx(t,e,n,r,i,o,s){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,o,s):e.prototype&&e.prototype.isPureReactComponent?!jc(n,r)||!jc(i,o):!0}function qP(t,e,n){var r=!1,i=So,o=e.contextType;return typeof o=="object"&&o!==null?o=Xn(o):(i=Cn(e)?hs:an.current,r=e.contextTypes,o=(r=r!=null)?La(t,i):So),e=new e(n,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Yh,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=o),e}function Gx(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Yh.enqueueReplaceState(e,e.state,null)}function Ev(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},E0(t);var o=e.contextType;typeof o=="object"&&o!==null?i.context=Xn(o):(o=Cn(e)?hs:an.current,i.context=La(t,o)),i.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(xv(t,e,o,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Yh.enqueueReplaceState(i,i.state,null),Df(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function $a(t,e){try{var n="",r=e;do n+=yL(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:i,digest:null}}function Wm(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function bv(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var H4=typeof WeakMap=="function"?WeakMap:Map;function GP(t,e,n){n=di(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){jf||(jf=!0,Dv=r),bv(t,e)},n}function YP(t,e,n){n=di(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){bv(t,e)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){bv(t,e),typeof r!="function"&&(fo===null?fo=new Set([this]):fo.add(this));var s=e.stack;this.componentDidCatch(e.value,{componentStack:s!==null?s:""})}),n}function Yx(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new H4;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=oV.bind(null,t,e,n),e.then(t,t))}function Kx(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Qx(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=di(-1,1),e.tag=2,uo(n,e,1))),n.lanes|=1),t)}var q4=Ri.ReactCurrentOwner,En=!1;function pn(t,e,n,r){e.child=t===null?bP(e,null,n,r):ja(e,t.child,n,r)}function Xx(t,e,n,r,i){n=n.render;var o=e.ref;return Ca(e,i),r=P0(t,e,n,r,o,i),n=I0(),t!==null&&!En?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,wi(t,e,i)):(at&&n&&m0(e),e.flags|=1,pn(t,e,r,i),e.child)}function Jx(t,e,n,r,i){if(t===null){var o=n.type;return typeof o=="function"&&!j0(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=o,KP(t,e,o,r,i)):(t=Zd(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,!(t.lanes&i)){var s=o.memoizedProps;if(n=n.compare,n=n!==null?n:jc,n(s,r)&&t.ref===e.ref)return wi(t,e,i)}return e.flags|=1,t=po(o,r),t.ref=e.ref,t.return=e,e.child=t}function KP(t,e,n,r,i){if(t!==null){var o=t.memoizedProps;if(jc(o,r)&&t.ref===e.ref)if(En=!1,e.pendingProps=r=o,(t.lanes&i)!==0)t.flags&131072&&(En=!0);else return e.lanes=t.lanes,wi(t,e,i)}return Tv(t,e,n,r,i)}function QP(t,e,n){var r=e.pendingProps,i=r.children,o=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Qe(ha,Rn),Rn|=n;else{if(!(n&1073741824))return t=o!==null?o.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Qe(ha,Rn),Rn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,Qe(ha,Rn),Rn|=r}else o!==null?(r=o.baseLanes|n,e.memoizedState=null):r=n,Qe(ha,Rn),Rn|=r;return pn(t,e,i,n),e.child}function XP(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Tv(t,e,n,r,i){var o=Cn(n)?hs:an.current;return o=La(e,o),Ca(e,i),n=P0(t,e,n,r,o,i),r=I0(),t!==null&&!En?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,wi(t,e,i)):(at&&r&&m0(e),e.flags|=1,pn(t,e,n,i),e.child)}function Zx(t,e,n,r,i){if(Cn(n)){var o=!0;If(e)}else o=!1;if(Ca(e,i),e.stateNode===null)Qd(t,e),qP(e,n,r),Ev(e,n,r,i),r=!0;else if(t===null){var s=e.stateNode,a=e.memoizedProps;s.props=a;var l=s.context,c=n.contextType;typeof c=="object"&&c!==null?c=Xn(c):(c=Cn(n)?hs:an.current,c=La(e,c));var u=n.getDerivedStateFromProps,f=typeof u=="function"||typeof s.getSnapshotBeforeUpdate=="function";f||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==r||l!==c)&&Gx(e,s,r,c),Yi=!1;var h=e.memoizedState;s.state=h,Df(e,r,s,i),l=e.memoizedState,a!==r||h!==l||Tn.current||Yi?(typeof u=="function"&&(xv(e,n,u,r),l=e.memoizedState),(a=Yi||qx(e,n,a,r,h,l,c))?(f||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(e.flags|=4194308)):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),s.props=r,s.state=l,s.context=c,r=a):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{s=e.stateNode,CP(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:sr(e.type,a),s.props=c,f=e.pendingProps,h=s.context,l=n.contextType,typeof l=="object"&&l!==null?l=Xn(l):(l=Cn(n)?hs:an.current,l=La(e,l));var g=n.getDerivedStateFromProps;(u=typeof g=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==f||h!==l)&&Gx(e,s,r,l),Yi=!1,h=e.memoizedState,s.state=h,Df(e,r,s,i);var w=e.memoizedState;a!==f||h!==w||Tn.current||Yi?(typeof g=="function"&&(xv(e,n,g,r),w=e.memoizedState),(c=Yi||qx(e,n,c,r,h,w,l)||!1)?(u||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,w,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,w,l)),typeof s.componentDidUpdate=="function"&&(e.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=w),s.props=r,s.state=w,s.context=l,r=c):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),r=!1)}return Cv(t,e,n,r,o,i)}function Cv(t,e,n,r,i,o){XP(t,e);var s=(e.flags&128)!==0;if(!r&&!s)return i&&jx(e,n,!1),wi(t,e,o);r=e.stateNode,q4.current=e;var a=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&s?(e.child=ja(e,t.child,null,o),e.child=ja(e,null,a,o)):pn(t,e,a,o),e.memoizedState=r.state,i&&jx(e,n,!0),e.child}function JP(t){var e=t.stateNode;e.pendingContext?Vx(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Vx(t,e.context,!1),b0(t,e.containerInfo)}function eE(t,e,n,r,i){return Va(),v0(i),e.flags|=256,pn(t,e,n,r),e.child}var Sv={dehydrated:null,treeContext:null,retryLane:0};function Pv(t){return{baseLanes:t,cachePool:null,transitions:null}}function ZP(t,e,n){var r=e.pendingProps,i=ct.current,o=!1,s=(e.flags&128)!==0,a;if((a=s)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(o=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Qe(ct,i&1),t===null)return wv(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(s=r.children,t=r.fallback,o?(r=e.mode,o=e.child,s={mode:"hidden",children:s},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=s):o=Xh(s,r,0,null),t=ds(t,r,n,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=Pv(n),e.memoizedState=Sv,t):R0(e,s));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return G4(t,e,s,r,a,i,n);if(o){o=r.fallback,s=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(s&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=po(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?o=po(a,o):(o=ds(o,s,n,null),o.flags|=2),o.return=e,r.return=e,r.sibling=o,e.child=r,r=o,o=e.child,s=t.child.memoizedState,s=s===null?Pv(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},o.memoizedState=s,o.childLanes=t.childLanes&~n,e.memoizedState=Sv,r}return o=t.child,t=o.sibling,r=po(o,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function R0(t,e){return e=Xh({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function gd(t,e,n,r){return r!==null&&v0(r),ja(e,t.child,null,n),t=R0(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function G4(t,e,n,r,i,o,s){if(n)return e.flags&256?(e.flags&=-257,r=Wm(Error(Q(422))),gd(t,e,s,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(o=r.fallback,i=e.mode,r=Xh({mode:"visible",children:r.children},i,0,null),o=ds(o,i,s,null),o.flags|=2,r.return=e,o.return=e,r.sibling=o,e.child=r,e.mode&1&&ja(e,t.child,null,s),e.child.memoizedState=Pv(s),e.memoizedState=Sv,o);if(!(e.mode&1))return gd(t,e,s,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,o=Error(Q(419)),r=Wm(o,r,void 0),gd(t,e,s,r)}if(a=(s&t.childLanes)!==0,En||a){if(r=Ft,r!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|s)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,yi(t,i),dr(r,t,i,-1))}return V0(),r=Wm(Error(Q(421))),gd(t,e,s,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=sV.bind(null,t),i._reactRetry=e,null):(t=o.treeContext,Mn=co(i.nextSibling),Ln=e,at=!0,lr=null,t!==null&&(zn[Hn++]=si,zn[Hn++]=ai,zn[Hn++]=ps,si=t.id,ai=t.overflow,ps=e),e=R0(e,r.children),e.flags|=4096,e)}function tE(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),_v(t.return,e,n)}function zm(t,e,n,r,i){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function eI(t,e,n){var r=e.pendingProps,i=r.revealOrder,o=r.tail;if(pn(t,e,r.children,n),r=ct.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&tE(t,n,e);else if(t.tag===19)tE(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Qe(ct,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Mf(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),zm(e,!1,i,n,o);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Mf(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}zm(e,!0,n,null,o);break;case"together":zm(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Qd(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function wi(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),gs|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(Q(153));if(e.child!==null){for(t=e.child,n=po(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=po(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function Y4(t,e,n){switch(e.tag){case 3:JP(e),Va();break;case 5:SP(e);break;case 1:Cn(e.type)&&If(e);break;case 4:b0(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Qe(Rf,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Qe(ct,ct.current&1),e.flags|=128,null):n&e.child.childLanes?ZP(t,e,n):(Qe(ct,ct.current&1),t=wi(t,e,n),t!==null?t.sibling:null);Qe(ct,ct.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return eI(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Qe(ct,ct.current),r)break;return null;case 22:case 23:return e.lanes=0,QP(t,e,n)}return wi(t,e,n)}var tI,Iv,nI,rI;tI=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Iv=function(){};nI=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,ss(Dr.current);var o=null;switch(n){case"input":i=Qg(t,i),r=Qg(t,r),o=[];break;case"select":i=pt({},i,{value:void 0}),r=pt({},r,{value:void 0}),o=[];break;case"textarea":i=Zg(t,i),r=Zg(t,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Sf)}tv(n,r);var s;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var a=i[c];for(s in a)a.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Rc.hasOwnProperty(c)?o||(o=[]):(o=o||[]).push(c,null));for(c in r){var l=r[c];if(a=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(s in a)!a.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in l)l.hasOwnProperty(s)&&a[s]!==l[s]&&(n||(n={}),n[s]=l[s])}else n||(o||(o=[]),o.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(o=o||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(o=o||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Rc.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&nt("scroll",t),o||a===l||(o=[])):(o=o||[]).push(c,l))}n&&(o=o||[]).push("style",n);var c=o;(e.updateQueue=c)&&(e.flags|=4)}};rI=function(t,e,n,r){n!==r&&(e.flags|=4)};function Hl(t,e){if(!at)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Zt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function K4(t,e,n){var r=e.pendingProps;switch(g0(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Zt(e),null;case 1:return Cn(e.type)&&Pf(),Zt(e),null;case 3:return r=e.stateNode,Fa(),ot(Tn),ot(an),C0(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(pd(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,lr!==null&&(Lv(lr),lr=null))),Iv(t,e),Zt(e),null;case 5:T0(e);var i=ss(Wc.current);if(n=e.type,t!==null&&e.stateNode!=null)nI(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(Q(166));return Zt(e),null}if(t=ss(Dr.current),pd(e)){r=e.stateNode,n=e.type;var o=e.memoizedProps;switch(r[Sr]=e,r[Uc]=o,t=(e.mode&1)!==0,n){case"dialog":nt("cancel",r),nt("close",r);break;case"iframe":case"object":case"embed":nt("load",r);break;case"video":case"audio":for(i=0;i<nc.length;i++)nt(nc[i],r);break;case"source":nt("error",r);break;case"img":case"image":case"link":nt("error",r),nt("load",r);break;case"details":nt("toggle",r);break;case"input":ux(r,o),nt("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},nt("invalid",r);break;case"textarea":fx(r,o),nt("invalid",r)}tv(n,o),i=null;for(var s in o)if(o.hasOwnProperty(s)){var a=o[s];s==="children"?typeof a=="string"?r.textContent!==a&&(o.suppressHydrationWarning!==!0&&hd(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(o.suppressHydrationWarning!==!0&&hd(r.textContent,a,t),i=["children",""+a]):Rc.hasOwnProperty(s)&&a!=null&&s==="onScroll"&&nt("scroll",r)}switch(n){case"input":od(r),dx(r,o,!0);break;case"textarea":od(r),hx(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=Sf)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=RS(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=s.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=s.createElement(n,{is:r.is}):(t=s.createElement(n),n==="select"&&(s=t,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):t=s.createElementNS(t,n),t[Sr]=e,t[Uc]=r,tI(t,e,!1,!1),e.stateNode=t;e:{switch(s=nv(n,r),n){case"dialog":nt("cancel",t),nt("close",t),i=r;break;case"iframe":case"object":case"embed":nt("load",t),i=r;break;case"video":case"audio":for(i=0;i<nc.length;i++)nt(nc[i],t);i=r;break;case"source":nt("error",t),i=r;break;case"img":case"image":case"link":nt("error",t),nt("load",t),i=r;break;case"details":nt("toggle",t),i=r;break;case"input":ux(t,r),i=Qg(t,r),nt("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=pt({},r,{value:void 0}),nt("invalid",t);break;case"textarea":fx(t,r),i=Zg(t,r),nt("invalid",t);break;default:i=r}tv(n,i),a=i;for(o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="style"?MS(t,l):o==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&NS(t,l)):o==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Nc(t,l):typeof l=="number"&&Nc(t,""+l):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(Rc.hasOwnProperty(o)?l!=null&&o==="onScroll"&&nt("scroll",t):l!=null&&t0(t,o,l,s))}switch(n){case"input":od(t),dx(t,r,!1);break;case"textarea":od(t),hx(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Co(r.value));break;case"select":t.multiple=!!r.multiple,o=r.value,o!=null?xa(t,!!r.multiple,o,!1):r.defaultValue!=null&&xa(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Sf)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Zt(e),null;case 6:if(t&&e.stateNode!=null)rI(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(Q(166));if(n=ss(Wc.current),ss(Dr.current),pd(e)){if(r=e.stateNode,n=e.memoizedProps,r[Sr]=e,(o=r.nodeValue!==n)&&(t=Ln,t!==null))switch(t.tag){case 3:hd(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&hd(r.nodeValue,n,(t.mode&1)!==0)}o&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Sr]=e,e.stateNode=r}return Zt(e),null;case 13:if(ot(ct),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(at&&Mn!==null&&e.mode&1&&!(e.flags&128))xP(),Va(),e.flags|=98560,o=!1;else if(o=pd(e),r!==null&&r.dehydrated!==null){if(t===null){if(!o)throw Error(Q(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(Q(317));o[Sr]=e}else Va(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Zt(e),o=!1}else lr!==null&&(Lv(lr),lr=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||ct.current&1?Dt===0&&(Dt=3):V0())),e.updateQueue!==null&&(e.flags|=4),Zt(e),null);case 4:return Fa(),Iv(t,e),t===null&&Fc(e.stateNode.containerInfo),Zt(e),null;case 10:return _0(e.type._context),Zt(e),null;case 17:return Cn(e.type)&&Pf(),Zt(e),null;case 19:if(ot(ct),o=e.memoizedState,o===null)return Zt(e),null;if(r=(e.flags&128)!==0,s=o.rendering,s===null)if(r)Hl(o,!1);else{if(Dt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(s=Mf(t),s!==null){for(e.flags|=128,Hl(o,!1),r=s.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)o=n,t=r,o.flags&=14680066,s=o.alternate,s===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,t=s.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Qe(ct,ct.current&1|2),e.child}t=t.sibling}o.tail!==null&&xt()>Ua&&(e.flags|=128,r=!0,Hl(o,!1),e.lanes=4194304)}else{if(!r)if(t=Mf(s),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Hl(o,!0),o.tail===null&&o.tailMode==="hidden"&&!s.alternate&&!at)return Zt(e),null}else 2*xt()-o.renderingStartTime>Ua&&n!==1073741824&&(e.flags|=128,r=!0,Hl(o,!1),e.lanes=4194304);o.isBackwards?(s.sibling=e.child,e.child=s):(n=o.last,n!==null?n.sibling=s:e.child=s,o.last=s)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=xt(),e.sibling=null,n=ct.current,Qe(ct,r?n&1|2:n&1),e):(Zt(e),null);case 22:case 23:return L0(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Rn&1073741824&&(Zt(e),e.subtreeFlags&6&&(e.flags|=8192)):Zt(e),null;case 24:return null;case 25:return null}throw Error(Q(156,e.tag))}function Q4(t,e){switch(g0(e),e.tag){case 1:return Cn(e.type)&&Pf(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Fa(),ot(Tn),ot(an),C0(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return T0(e),null;case 13:if(ot(ct),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(Q(340));Va()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return ot(ct),null;case 4:return Fa(),null;case 10:return _0(e.type._context),null;case 22:case 23:return L0(),null;case 24:return null;default:return null}}var vd=!1,rn=!1,X4=typeof WeakSet=="function"?WeakSet:Set,ae=null;function fa(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){vt(t,e,r)}else n.current=null}function Av(t,e,n){try{n()}catch(r){vt(t,e,r)}}var nE=!1;function J4(t,e){if(fv=bf,t=lP(),p0(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var s=0,a=-1,l=-1,c=0,u=0,f=t,h=null;t:for(;;){for(var g;f!==n||i!==0&&f.nodeType!==3||(a=s+i),f!==o||r!==0&&f.nodeType!==3||(l=s+r),f.nodeType===3&&(s+=f.nodeValue.length),(g=f.firstChild)!==null;)h=f,f=g;for(;;){if(f===t)break t;if(h===n&&++c===i&&(a=s),h===o&&++u===r&&(l=s),(g=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=g}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(hv={focusedElem:t,selectionRange:n},bf=!1,ae=e;ae!==null;)if(e=ae,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,ae=t;else for(;ae!==null;){e=ae;try{var w=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(w!==null){var v=w.memoizedProps,E=w.memoizedState,x=e.stateNode,y=x.getSnapshotBeforeUpdate(e.elementType===e.type?v:sr(e.type,v),E);x.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var b=e.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Q(163))}}catch(P){vt(e,e.return,P)}if(t=e.sibling,t!==null){t.return=e.return,ae=t;break}ae=e.return}return w=nE,nE=!1,w}function gc(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var o=i.destroy;i.destroy=void 0,o!==void 0&&Av(e,n,o)}i=i.next}while(i!==r)}}function Kh(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function kv(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function iI(t){var e=t.alternate;e!==null&&(t.alternate=null,iI(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Sr],delete e[Uc],delete e[gv],delete e[M4],delete e[O4])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function oI(t){return t.tag===5||t.tag===3||t.tag===4}function rE(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||oI(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Rv(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Sf));else if(r!==4&&(t=t.child,t!==null))for(Rv(t,e,n),t=t.sibling;t!==null;)Rv(t,e,n),t=t.sibling}function Nv(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Nv(t,e,n),t=t.sibling;t!==null;)Nv(t,e,n),t=t.sibling}var Ut=null,ar=!1;function $i(t,e,n){for(n=n.child;n!==null;)sI(t,e,n),n=n.sibling}function sI(t,e,n){if(Nr&&typeof Nr.onCommitFiberUnmount=="function")try{Nr.onCommitFiberUnmount(Uh,n)}catch{}switch(n.tag){case 5:rn||fa(n,e);case 6:var r=Ut,i=ar;Ut=null,$i(t,e,n),Ut=r,ar=i,Ut!==null&&(ar?(t=Ut,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Ut.removeChild(n.stateNode));break;case 18:Ut!==null&&(ar?(t=Ut,n=n.stateNode,t.nodeType===8?Vm(t.parentNode,n):t.nodeType===1&&Vm(t,n),Lc(t)):Vm(Ut,n.stateNode));break;case 4:r=Ut,i=ar,Ut=n.stateNode.containerInfo,ar=!0,$i(t,e,n),Ut=r,ar=i;break;case 0:case 11:case 14:case 15:if(!rn&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,s=o.destroy;o=o.tag,s!==void 0&&(o&2||o&4)&&Av(n,e,s),i=i.next}while(i!==r)}$i(t,e,n);break;case 1:if(!rn&&(fa(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){vt(n,e,a)}$i(t,e,n);break;case 21:$i(t,e,n);break;case 22:n.mode&1?(rn=(r=rn)||n.memoizedState!==null,$i(t,e,n),rn=r):$i(t,e,n);break;default:$i(t,e,n)}}function iE(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new X4),e.forEach(function(r){var i=aV.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function rr(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=t,s=e,a=s;e:for(;a!==null;){switch(a.tag){case 5:Ut=a.stateNode,ar=!1;break e;case 3:Ut=a.stateNode.containerInfo,ar=!0;break e;case 4:Ut=a.stateNode.containerInfo,ar=!0;break e}a=a.return}if(Ut===null)throw Error(Q(160));sI(o,s,i),Ut=null,ar=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){vt(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)aI(e,t),e=e.sibling}function aI(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(rr(e,t),br(t),r&4){try{gc(3,t,t.return),Kh(3,t)}catch(v){vt(t,t.return,v)}try{gc(5,t,t.return)}catch(v){vt(t,t.return,v)}}break;case 1:rr(e,t),br(t),r&512&&n!==null&&fa(n,n.return);break;case 5:if(rr(e,t),br(t),r&512&&n!==null&&fa(n,n.return),t.flags&32){var i=t.stateNode;try{Nc(i,"")}catch(v){vt(t,t.return,v)}}if(r&4&&(i=t.stateNode,i!=null)){var o=t.memoizedProps,s=n!==null?n.memoizedProps:o,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&o.type==="radio"&&o.name!=null&&AS(i,o),nv(a,s);var c=nv(a,o);for(s=0;s<l.length;s+=2){var u=l[s],f=l[s+1];u==="style"?MS(i,f):u==="dangerouslySetInnerHTML"?NS(i,f):u==="children"?Nc(i,f):t0(i,u,f,c)}switch(a){case"input":Xg(i,o);break;case"textarea":kS(i,o);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var g=o.value;g!=null?xa(i,!!o.multiple,g,!1):h!==!!o.multiple&&(o.defaultValue!=null?xa(i,!!o.multiple,o.defaultValue,!0):xa(i,!!o.multiple,o.multiple?[]:"",!1))}i[Uc]=o}catch(v){vt(t,t.return,v)}}break;case 6:if(rr(e,t),br(t),r&4){if(t.stateNode===null)throw Error(Q(162));i=t.stateNode,o=t.memoizedProps;try{i.nodeValue=o}catch(v){vt(t,t.return,v)}}break;case 3:if(rr(e,t),br(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Lc(e.containerInfo)}catch(v){vt(t,t.return,v)}break;case 4:rr(e,t),br(t);break;case 13:rr(e,t),br(t),i=t.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(M0=xt())),r&4&&iE(t);break;case 22:if(u=n!==null&&n.memoizedState!==null,t.mode&1?(rn=(c=rn)||u,rr(e,t),rn=c):rr(e,t),br(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!u&&t.mode&1)for(ae=t,u=t.child;u!==null;){for(f=ae=u;ae!==null;){switch(h=ae,g=h.child,h.tag){case 0:case 11:case 14:case 15:gc(4,h,h.return);break;case 1:fa(h,h.return);var w=h.stateNode;if(typeof w.componentWillUnmount=="function"){r=h,n=h.return;try{e=r,w.props=e.memoizedProps,w.state=e.memoizedState,w.componentWillUnmount()}catch(v){vt(r,n,v)}}break;case 5:fa(h,h.return);break;case 22:if(h.memoizedState!==null){sE(f);continue}}g!==null?(g.return=h,ae=g):sE(f)}u=u.sibling}e:for(u=null,f=t;;){if(f.tag===5){if(u===null){u=f;try{i=f.stateNode,c?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(a=f.stateNode,l=f.memoizedProps.style,s=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=DS("display",s))}catch(v){vt(t,t.return,v)}}}else if(f.tag===6){if(u===null)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(v){vt(t,t.return,v)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;u===f&&(u=null),f=f.return}u===f&&(u=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:rr(e,t),br(t),r&4&&iE(t);break;case 21:break;default:rr(e,t),br(t)}}function br(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(oI(n)){var r=n;break e}n=n.return}throw Error(Q(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Nc(i,""),r.flags&=-33);var o=rE(t);Nv(t,o,i);break;case 3:case 4:var s=r.stateNode.containerInfo,a=rE(t);Rv(t,a,s);break;default:throw Error(Q(161))}}catch(l){vt(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function Z4(t,e,n){ae=t,lI(t)}function lI(t,e,n){for(var r=(t.mode&1)!==0;ae!==null;){var i=ae,o=i.child;if(i.tag===22&&r){var s=i.memoizedState!==null||vd;if(!s){var a=i.alternate,l=a!==null&&a.memoizedState!==null||rn;a=vd;var c=rn;if(vd=s,(rn=l)&&!c)for(ae=i;ae!==null;)s=ae,l=s.child,s.tag===22&&s.memoizedState!==null?aE(i):l!==null?(l.return=s,ae=l):aE(i);for(;o!==null;)ae=o,lI(o),o=o.sibling;ae=i,vd=a,rn=c}oE(t)}else i.subtreeFlags&8772&&o!==null?(o.return=i,ae=o):oE(t)}}function oE(t){for(;ae!==null;){var e=ae;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:rn||Kh(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!rn)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:sr(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&Wx(e,o,r);break;case 3:var s=e.updateQueue;if(s!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Wx(e,s,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var f=u.dehydrated;f!==null&&Lc(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Q(163))}rn||e.flags&512&&kv(e)}catch(h){vt(e,e.return,h)}}if(e===t){ae=null;break}if(n=e.sibling,n!==null){n.return=e.return,ae=n;break}ae=e.return}}function sE(t){for(;ae!==null;){var e=ae;if(e===t){ae=null;break}var n=e.sibling;if(n!==null){n.return=e.return,ae=n;break}ae=e.return}}function aE(t){for(;ae!==null;){var e=ae;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Kh(4,e)}catch(l){vt(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){vt(e,i,l)}}var o=e.return;try{kv(e)}catch(l){vt(e,o,l)}break;case 5:var s=e.return;try{kv(e)}catch(l){vt(e,s,l)}}}catch(l){vt(e,e.return,l)}if(e===t){ae=null;break}var a=e.sibling;if(a!==null){a.return=e.return,ae=a;break}ae=e.return}}var eV=Math.ceil,Vf=Ri.ReactCurrentDispatcher,N0=Ri.ReactCurrentOwner,Yn=Ri.ReactCurrentBatchConfig,Oe=0,Ft=null,St=null,qt=0,Rn=0,ha=jo(0),Dt=0,Gc=null,gs=0,Qh=0,D0=0,vc=null,_n=null,M0=0,Ua=1/0,ri=null,jf=!1,Dv=null,fo=null,yd=!1,ro=null,Ff=0,yc=0,Mv=null,Xd=-1,Jd=0;function gn(){return Oe&6?xt():Xd!==-1?Xd:Xd=xt()}function ho(t){return t.mode&1?Oe&2&&qt!==0?qt&-qt:V4.transition!==null?(Jd===0&&(Jd=qS()),Jd):(t=qe,t!==0||(t=window.event,t=t===void 0?16:ZS(t.type)),t):1}function dr(t,e,n,r){if(50<yc)throw yc=0,Mv=null,Error(Q(185));pu(t,n,r),(!(Oe&2)||t!==Ft)&&(t===Ft&&(!(Oe&2)&&(Qh|=n),Dt===4&&Xi(t,qt)),Sn(t,r),n===1&&Oe===0&&!(e.mode&1)&&(Ua=xt()+500,qh&&Fo()))}function Sn(t,e){var n=t.callbackNode;VL(t,e);var r=Ef(t,t===Ft?qt:0);if(r===0)n!==null&&gx(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&gx(n),e===1)t.tag===0?L4(lE.bind(null,t)):yP(lE.bind(null,t)),N4(function(){!(Oe&6)&&Fo()}),n=null;else{switch(GS(r)){case 1:n=s0;break;case 4:n=zS;break;case 16:n=xf;break;case 536870912:n=HS;break;default:n=xf}n=gI(n,cI.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function cI(t,e){if(Xd=-1,Jd=0,Oe&6)throw Error(Q(327));var n=t.callbackNode;if(Sa()&&t.callbackNode!==n)return null;var r=Ef(t,t===Ft?qt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=$f(t,r);else{e=r;var i=Oe;Oe|=2;var o=dI();(Ft!==t||qt!==e)&&(ri=null,Ua=xt()+500,us(t,e));do try{rV();break}catch(a){uI(t,a)}while(1);w0(),Vf.current=o,Oe=i,St!==null?e=0:(Ft=null,qt=0,e=Dt)}if(e!==0){if(e===2&&(i=av(t),i!==0&&(r=i,e=Ov(t,i))),e===1)throw n=Gc,us(t,0),Xi(t,r),Sn(t,xt()),n;if(e===6)Xi(t,r);else{if(i=t.current.alternate,!(r&30)&&!tV(i)&&(e=$f(t,r),e===2&&(o=av(t),o!==0&&(r=o,e=Ov(t,o))),e===1))throw n=Gc,us(t,0),Xi(t,r),Sn(t,xt()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(Q(345));case 2:Jo(t,_n,ri);break;case 3:if(Xi(t,r),(r&130023424)===r&&(e=M0+500-xt(),10<e)){if(Ef(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){gn(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=mv(Jo.bind(null,t,_n,ri),e);break}Jo(t,_n,ri);break;case 4:if(Xi(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var s=31-ur(r);o=1<<s,s=e[s],s>i&&(i=s),r&=~o}if(r=i,r=xt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*eV(r/1960))-r,10<r){t.timeoutHandle=mv(Jo.bind(null,t,_n,ri),r);break}Jo(t,_n,ri);break;case 5:Jo(t,_n,ri);break;default:throw Error(Q(329))}}}return Sn(t,xt()),t.callbackNode===n?cI.bind(null,t):null}function Ov(t,e){var n=vc;return t.current.memoizedState.isDehydrated&&(us(t,e).flags|=256),t=$f(t,e),t!==2&&(e=_n,_n=n,e!==null&&Lv(e)),t}function Lv(t){_n===null?_n=t:_n.push.apply(_n,t)}function tV(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!hr(o(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Xi(t,e){for(e&=~D0,e&=~Qh,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-ur(e),r=1<<n;t[n]=-1,e&=~r}}function lE(t){if(Oe&6)throw Error(Q(327));Sa();var e=Ef(t,0);if(!(e&1))return Sn(t,xt()),null;var n=$f(t,e);if(t.tag!==0&&n===2){var r=av(t);r!==0&&(e=r,n=Ov(t,r))}if(n===1)throw n=Gc,us(t,0),Xi(t,e),Sn(t,xt()),n;if(n===6)throw Error(Q(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Jo(t,_n,ri),Sn(t,xt()),null}function O0(t,e){var n=Oe;Oe|=1;try{return t(e)}finally{Oe=n,Oe===0&&(Ua=xt()+500,qh&&Fo())}}function vs(t){ro!==null&&ro.tag===0&&!(Oe&6)&&Sa();var e=Oe;Oe|=1;var n=Yn.transition,r=qe;try{if(Yn.transition=null,qe=1,t)return t()}finally{qe=r,Yn.transition=n,Oe=e,!(Oe&6)&&Fo()}}function L0(){Rn=ha.current,ot(ha)}function us(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,R4(n)),St!==null)for(n=St.return;n!==null;){var r=n;switch(g0(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Pf();break;case 3:Fa(),ot(Tn),ot(an),C0();break;case 5:T0(r);break;case 4:Fa();break;case 13:ot(ct);break;case 19:ot(ct);break;case 10:_0(r.type._context);break;case 22:case 23:L0()}n=n.return}if(Ft=t,St=t=po(t.current,null),qt=Rn=e,Dt=0,Gc=null,D0=Qh=gs=0,_n=vc=null,os!==null){for(e=0;e<os.length;e++)if(n=os[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var s=o.next;o.next=i,r.next=s}n.pending=r}os=null}return t}function uI(t,e){do{var n=St;try{if(w0(),Yd.current=Lf,Of){for(var r=ft.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Of=!1}if(ms=0,jt=kt=ft=null,mc=!1,zc=0,N0.current=null,n===null||n.return===null){Dt=1,Gc=e,St=null;break}e:{var o=t,s=n.return,a=n,l=e;if(e=qt,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=a,f=u.tag;if(!(u.mode&1)&&(f===0||f===11||f===15)){var h=u.alternate;h?(u.updateQueue=h.updateQueue,u.memoizedState=h.memoizedState,u.lanes=h.lanes):(u.updateQueue=null,u.memoizedState=null)}var g=Kx(s);if(g!==null){g.flags&=-257,Qx(g,s,a,o,e),g.mode&1&&Yx(o,c,e),e=g,l=c;var w=e.updateQueue;if(w===null){var v=new Set;v.add(l),e.updateQueue=v}else w.add(l);break e}else{if(!(e&1)){Yx(o,c,e),V0();break e}l=Error(Q(426))}}else if(at&&a.mode&1){var E=Kx(s);if(E!==null){!(E.flags&65536)&&(E.flags|=256),Qx(E,s,a,o,e),v0($a(l,a));break e}}o=l=$a(l,a),Dt!==4&&(Dt=2),vc===null?vc=[o]:vc.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var x=GP(o,l,e);Bx(o,x);break e;case 1:a=l;var y=o.type,b=o.stateNode;if(!(o.flags&128)&&(typeof y.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(fo===null||!fo.has(b)))){o.flags|=65536,e&=-e,o.lanes|=e;var P=YP(o,a,e);Bx(o,P);break e}}o=o.return}while(o!==null)}hI(n)}catch(R){e=R,St===n&&n!==null&&(St=n=n.return);continue}break}while(1)}function dI(){var t=Vf.current;return Vf.current=Lf,t===null?Lf:t}function V0(){(Dt===0||Dt===3||Dt===2)&&(Dt=4),Ft===null||!(gs&268435455)&&!(Qh&268435455)||Xi(Ft,qt)}function $f(t,e){var n=Oe;Oe|=2;var r=dI();(Ft!==t||qt!==e)&&(ri=null,us(t,e));do try{nV();break}catch(i){uI(t,i)}while(1);if(w0(),Oe=n,Vf.current=r,St!==null)throw Error(Q(261));return Ft=null,qt=0,Dt}function nV(){for(;St!==null;)fI(St)}function rV(){for(;St!==null&&!IL();)fI(St)}function fI(t){var e=mI(t.alternate,t,Rn);t.memoizedProps=t.pendingProps,e===null?hI(t):St=e,N0.current=null}function hI(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=Q4(n,e),n!==null){n.flags&=32767,St=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Dt=6,St=null;return}}else if(n=K4(n,e,Rn),n!==null){St=n;return}if(e=e.sibling,e!==null){St=e;return}St=e=t}while(e!==null);Dt===0&&(Dt=5)}function Jo(t,e,n){var r=qe,i=Yn.transition;try{Yn.transition=null,qe=1,iV(t,e,n,r)}finally{Yn.transition=i,qe=r}return null}function iV(t,e,n,r){do Sa();while(ro!==null);if(Oe&6)throw Error(Q(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(Q(177));t.callbackNode=null,t.callbackPriority=0;var o=n.lanes|n.childLanes;if(jL(t,o),t===Ft&&(St=Ft=null,qt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||yd||(yd=!0,gI(xf,function(){return Sa(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=Yn.transition,Yn.transition=null;var s=qe;qe=1;var a=Oe;Oe|=4,N0.current=null,J4(t,n),aI(n,t),T4(hv),bf=!!fv,hv=fv=null,t.current=n,Z4(n),AL(),Oe=a,qe=s,Yn.transition=o}else t.current=n;if(yd&&(yd=!1,ro=t,Ff=i),o=t.pendingLanes,o===0&&(fo=null),NL(n.stateNode),Sn(t,xt()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(jf)throw jf=!1,t=Dv,Dv=null,t;return Ff&1&&t.tag!==0&&Sa(),o=t.pendingLanes,o&1?t===Mv?yc++:(yc=0,Mv=t):yc=0,Fo(),null}function Sa(){if(ro!==null){var t=GS(Ff),e=Yn.transition,n=qe;try{if(Yn.transition=null,qe=16>t?16:t,ro===null)var r=!1;else{if(t=ro,ro=null,Ff=0,Oe&6)throw Error(Q(331));var i=Oe;for(Oe|=4,ae=t.current;ae!==null;){var o=ae,s=o.child;if(ae.flags&16){var a=o.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(ae=c;ae!==null;){var u=ae;switch(u.tag){case 0:case 11:case 15:gc(8,u,o)}var f=u.child;if(f!==null)f.return=u,ae=f;else for(;ae!==null;){u=ae;var h=u.sibling,g=u.return;if(iI(u),u===c){ae=null;break}if(h!==null){h.return=g,ae=h;break}ae=g}}}var w=o.alternate;if(w!==null){var v=w.child;if(v!==null){w.child=null;do{var E=v.sibling;v.sibling=null,v=E}while(v!==null)}}ae=o}}if(o.subtreeFlags&2064&&s!==null)s.return=o,ae=s;else e:for(;ae!==null;){if(o=ae,o.flags&2048)switch(o.tag){case 0:case 11:case 15:gc(9,o,o.return)}var x=o.sibling;if(x!==null){x.return=o.return,ae=x;break e}ae=o.return}}var y=t.current;for(ae=y;ae!==null;){s=ae;var b=s.child;if(s.subtreeFlags&2064&&b!==null)b.return=s,ae=b;else e:for(s=y;ae!==null;){if(a=ae,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Kh(9,a)}}catch(R){vt(a,a.return,R)}if(a===s){ae=null;break e}var P=a.sibling;if(P!==null){P.return=a.return,ae=P;break e}ae=a.return}}if(Oe=i,Fo(),Nr&&typeof Nr.onPostCommitFiberRoot=="function")try{Nr.onPostCommitFiberRoot(Uh,t)}catch{}r=!0}return r}finally{qe=n,Yn.transition=e}}return!1}function cE(t,e,n){e=$a(n,e),e=GP(t,e,1),t=uo(t,e,1),e=gn(),t!==null&&(pu(t,1,e),Sn(t,e))}function vt(t,e,n){if(t.tag===3)cE(t,t,n);else for(;e!==null;){if(e.tag===3){cE(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(fo===null||!fo.has(r))){t=$a(n,t),t=YP(e,t,1),e=uo(e,t,1),t=gn(),e!==null&&(pu(e,1,t),Sn(e,t));break}}e=e.return}}function oV(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=gn(),t.pingedLanes|=t.suspendedLanes&n,Ft===t&&(qt&n)===n&&(Dt===4||Dt===3&&(qt&130023424)===qt&&500>xt()-M0?us(t,0):D0|=n),Sn(t,e)}function pI(t,e){e===0&&(t.mode&1?(e=ld,ld<<=1,!(ld&130023424)&&(ld=4194304)):e=1);var n=gn();t=yi(t,e),t!==null&&(pu(t,e,n),Sn(t,n))}function sV(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),pI(t,n)}function aV(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(Q(314))}r!==null&&r.delete(e),pI(t,n)}var mI;mI=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Tn.current)En=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return En=!1,Y4(t,e,n);En=!!(t.flags&131072)}else En=!1,at&&e.flags&1048576&&wP(e,kf,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Qd(t,e),t=e.pendingProps;var i=La(e,an.current);Ca(e,n),i=P0(null,e,r,t,i,n);var o=I0();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Cn(r)?(o=!0,If(e)):o=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,E0(e),i.updater=Yh,e.stateNode=i,i._reactInternals=e,Ev(e,r,t,n),e=Cv(null,e,r,!0,o,n)):(e.tag=0,at&&o&&m0(e),pn(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Qd(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=cV(r),t=sr(r,t),i){case 0:e=Tv(null,e,r,t,n);break e;case 1:e=Zx(null,e,r,t,n);break e;case 11:e=Xx(null,e,r,t,n);break e;case 14:e=Jx(null,e,r,sr(r.type,t),n);break e}throw Error(Q(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:sr(r,i),Tv(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:sr(r,i),Zx(t,e,r,i,n);case 3:e:{if(JP(e),t===null)throw Error(Q(387));r=e.pendingProps,o=e.memoizedState,i=o.element,CP(t,e),Df(e,r,null,n);var s=e.memoizedState;if(r=s.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){i=$a(Error(Q(423)),e),e=eE(t,e,r,n,i);break e}else if(r!==i){i=$a(Error(Q(424)),e),e=eE(t,e,r,n,i);break e}else for(Mn=co(e.stateNode.containerInfo.firstChild),Ln=e,at=!0,lr=null,n=bP(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Va(),r===i){e=wi(t,e,n);break e}pn(t,e,r,n)}e=e.child}return e;case 5:return SP(e),t===null&&wv(e),r=e.type,i=e.pendingProps,o=t!==null?t.memoizedProps:null,s=i.children,pv(r,i)?s=null:o!==null&&pv(r,o)&&(e.flags|=32),XP(t,e),pn(t,e,s,n),e.child;case 6:return t===null&&wv(e),null;case 13:return ZP(t,e,n);case 4:return b0(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=ja(e,null,r,n):pn(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:sr(r,i),Xx(t,e,r,i,n);case 7:return pn(t,e,e.pendingProps,n),e.child;case 8:return pn(t,e,e.pendingProps.children,n),e.child;case 12:return pn(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,o=e.memoizedProps,s=i.value,Qe(Rf,r._currentValue),r._currentValue=s,o!==null)if(hr(o.value,s)){if(o.children===i.children&&!Tn.current){e=wi(t,e,n);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var a=o.dependencies;if(a!==null){s=o.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(o.tag===1){l=di(-1,n&-n),l.tag=2;var c=o.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),_v(o.return,n,e),a.lanes|=n;break}l=l.next}}else if(o.tag===10)s=o.type===e.type?null:o.child;else if(o.tag===18){if(s=o.return,s===null)throw Error(Q(341));s.lanes|=n,a=s.alternate,a!==null&&(a.lanes|=n),_v(s,n,e),s=o.sibling}else s=o.child;if(s!==null)s.return=o;else for(s=o;s!==null;){if(s===e){s=null;break}if(o=s.sibling,o!==null){o.return=s.return,s=o;break}s=s.return}o=s}pn(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Ca(e,n),i=Xn(i),r=r(i),e.flags|=1,pn(t,e,r,n),e.child;case 14:return r=e.type,i=sr(r,e.pendingProps),i=sr(r.type,i),Jx(t,e,r,i,n);case 15:return KP(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:sr(r,i),Qd(t,e),e.tag=1,Cn(r)?(t=!0,If(e)):t=!1,Ca(e,n),qP(e,r,i),Ev(e,r,i,n),Cv(null,e,r,!0,t,n);case 19:return eI(t,e,n);case 22:return QP(t,e,n)}throw Error(Q(156,e.tag))};function gI(t,e){return WS(t,e)}function lV(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Gn(t,e,n,r){return new lV(t,e,n,r)}function j0(t){return t=t.prototype,!(!t||!t.isReactComponent)}function cV(t){if(typeof t=="function")return j0(t)?1:0;if(t!=null){if(t=t.$$typeof,t===r0)return 11;if(t===i0)return 14}return 2}function po(t,e){var n=t.alternate;return n===null?(n=Gn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Zd(t,e,n,r,i,o){var s=2;if(r=t,typeof t=="function")j0(t)&&(s=1);else if(typeof t=="string")s=5;else e:switch(t){case ra:return ds(n.children,i,o,e);case n0:s=8,i|=8;break;case qg:return t=Gn(12,n,e,i|2),t.elementType=qg,t.lanes=o,t;case Gg:return t=Gn(13,n,e,i),t.elementType=Gg,t.lanes=o,t;case Yg:return t=Gn(19,n,e,i),t.elementType=Yg,t.lanes=o,t;case SS:return Xh(n,i,o,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case TS:s=10;break e;case CS:s=9;break e;case r0:s=11;break e;case i0:s=14;break e;case Gi:s=16,r=null;break e}throw Error(Q(130,t==null?t:typeof t,""))}return e=Gn(s,n,e,i),e.elementType=t,e.type=r,e.lanes=o,e}function ds(t,e,n,r){return t=Gn(7,t,r,e),t.lanes=n,t}function Xh(t,e,n,r){return t=Gn(22,t,r,e),t.elementType=SS,t.lanes=n,t.stateNode={isHidden:!1},t}function Hm(t,e,n){return t=Gn(6,t,null,e),t.lanes=n,t}function qm(t,e,n){return e=Gn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function uV(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Sm(0),this.expirationTimes=Sm(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Sm(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function F0(t,e,n,r,i,o,s,a,l){return t=new uV(t,e,n,a,l),e===1?(e=1,o===!0&&(e|=8)):e=0,o=Gn(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},E0(o),t}function dV(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:na,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function vI(t){if(!t)return So;t=t._reactInternals;e:{if(As(t)!==t||t.tag!==1)throw Error(Q(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Cn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(Q(171))}if(t.tag===1){var n=t.type;if(Cn(n))return vP(t,n,e)}return e}function yI(t,e,n,r,i,o,s,a,l){return t=F0(n,r,!0,t,i,o,s,a,l),t.context=vI(null),n=t.current,r=gn(),i=ho(n),o=di(r,i),o.callback=e??null,uo(n,o,i),t.current.lanes=i,pu(t,i,r),Sn(t,r),t}function Jh(t,e,n,r){var i=e.current,o=gn(),s=ho(i);return n=vI(n),e.context===null?e.context=n:e.pendingContext=n,e=di(o,s),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=uo(i,e,s),t!==null&&(dr(t,i,s,o),Gd(t,i,s)),s}function Uf(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function uE(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function $0(t,e){uE(t,e),(t=t.alternate)&&uE(t,e)}function fV(){return null}var wI=typeof reportError=="function"?reportError:function(t){console.error(t)};function U0(t){this._internalRoot=t}Zh.prototype.render=U0.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(Q(409));Jh(t,e,null,null)};Zh.prototype.unmount=U0.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;vs(function(){Jh(null,t,null,null)}),e[vi]=null}};function Zh(t){this._internalRoot=t}Zh.prototype.unstable_scheduleHydration=function(t){if(t){var e=QS();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Qi.length&&e!==0&&e<Qi[n].priority;n++);Qi.splice(n,0,t),n===0&&JS(t)}};function B0(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function ep(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function dE(){}function hV(t,e,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var c=Uf(s);o.call(c)}}var s=yI(e,r,t,0,null,!1,!1,"",dE);return t._reactRootContainer=s,t[vi]=s.current,Fc(t.nodeType===8?t.parentNode:t),vs(),s}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var c=Uf(l);a.call(c)}}var l=F0(t,0,!1,null,null,!1,!1,"",dE);return t._reactRootContainer=l,t[vi]=l.current,Fc(t.nodeType===8?t.parentNode:t),vs(function(){Jh(e,l,n,r)}),l}function tp(t,e,n,r,i){var o=n._reactRootContainer;if(o){var s=o;if(typeof i=="function"){var a=i;i=function(){var l=Uf(s);a.call(l)}}Jh(e,s,t,i)}else s=hV(n,e,t,i,r);return Uf(s)}YS=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=tc(e.pendingLanes);n!==0&&(a0(e,n|1),Sn(e,xt()),!(Oe&6)&&(Ua=xt()+500,Fo()))}break;case 13:vs(function(){var r=yi(t,1);if(r!==null){var i=gn();dr(r,t,1,i)}}),$0(t,1)}};l0=function(t){if(t.tag===13){var e=yi(t,134217728);if(e!==null){var n=gn();dr(e,t,134217728,n)}$0(t,134217728)}};KS=function(t){if(t.tag===13){var e=ho(t),n=yi(t,e);if(n!==null){var r=gn();dr(n,t,e,r)}$0(t,e)}};QS=function(){return qe};XS=function(t,e){var n=qe;try{return qe=t,e()}finally{qe=n}};iv=function(t,e,n){switch(e){case"input":if(Xg(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Hh(r);if(!i)throw Error(Q(90));IS(r),Xg(r,i)}}}break;case"textarea":kS(t,n);break;case"select":e=n.value,e!=null&&xa(t,!!n.multiple,e,!1)}};VS=O0;jS=vs;var pV={usingClientEntryPoint:!1,Events:[gu,aa,Hh,OS,LS,O0]},ql={findFiberByHostInstance:is,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},mV={bundleType:ql.bundleType,version:ql.version,rendererPackageName:ql.rendererPackageName,rendererConfig:ql.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ri.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=US(t),t===null?null:t.stateNode},findFiberByHostInstance:ql.findFiberByHostInstance||fV,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var wd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!wd.isDisabled&&wd.supportsFiber)try{Uh=wd.inject(mV),Nr=wd}catch{}}$n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=pV;$n.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!B0(e))throw Error(Q(200));return dV(t,e,null,n)};$n.createRoot=function(t,e){if(!B0(t))throw Error(Q(299));var n=!1,r="",i=wI;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=F0(t,1,!1,null,null,n,!1,r,i),t[vi]=e.current,Fc(t.nodeType===8?t.parentNode:t),new U0(e)};$n.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(Q(188)):(t=Object.keys(t).join(","),Error(Q(268,t)));return t=US(e),t=t===null?null:t.stateNode,t};$n.flushSync=function(t){return vs(t)};$n.hydrate=function(t,e,n){if(!ep(e))throw Error(Q(200));return tp(null,t,e,!0,n)};$n.hydrateRoot=function(t,e,n){if(!B0(t))throw Error(Q(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",s=wI;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),e=yI(e,null,t,1,n??null,i,!1,o,s),t[vi]=e.current,Fc(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Zh(e)};$n.render=function(t,e,n){if(!ep(e))throw Error(Q(200));return tp(null,t,e,!1,n)};$n.unmountComponentAtNode=function(t){if(!ep(t))throw Error(Q(40));return t._reactRootContainer?(vs(function(){tp(null,null,t,!1,function(){t._reactRootContainer=null,t[vi]=null})}),!0):!1};$n.unstable_batchedUpdates=O0;$n.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!ep(n))throw Error(Q(200));if(t==null||t._reactInternals===void 0)throw Error(Q(38));return tp(t,e,n,!1,r)};$n.version="18.3.1-next-f1338f8080-20240426";function _I(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(_I)}catch(t){console.error(t)}}_I(),_S.exports=$n;var $o=_S.exports;const xI=lS($o);var fE=$o;zg.createRoot=fE.createRoot,zg.hydrateRoot=fE.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Yc(){return Yc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Yc.apply(this,arguments)}var io;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(io||(io={}));const hE="popstate";function gV(t){t===void 0&&(t={});function e(r,i){let{pathname:o,search:s,hash:a}=r.location;return Vv("",{pathname:o,search:s,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Bf(i)}return yV(e,n,null,t)}function ht(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function EI(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function vV(){return Math.random().toString(36).substr(2,8)}function pE(t,e){return{usr:t.state,key:t.key,idx:e}}function Vv(t,e,n,r){return n===void 0&&(n=null),Yc({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?ul(e):e,{state:n,key:e&&e.key||r||vV()})}function Bf(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function ul(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function yV(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:o=!1}=r,s=i.history,a=io.Pop,l=null,c=u();c==null&&(c=0,s.replaceState(Yc({},s.state,{idx:c}),""));function u(){return(s.state||{idx:null}).idx}function f(){a=io.Pop;let E=u(),x=E==null?null:E-c;c=E,l&&l({action:a,location:v.location,delta:x})}function h(E,x){a=io.Push;let y=Vv(v.location,E,x);n&&n(y,E),c=u()+1;let b=pE(y,c),P=v.createHref(y);try{s.pushState(b,"",P)}catch(R){if(R instanceof DOMException&&R.name==="DataCloneError")throw R;i.location.assign(P)}o&&l&&l({action:a,location:v.location,delta:1})}function g(E,x){a=io.Replace;let y=Vv(v.location,E,x);n&&n(y,E),c=u();let b=pE(y,c),P=v.createHref(y);s.replaceState(b,"",P),o&&l&&l({action:a,location:v.location,delta:0})}function w(E){let x=i.location.origin!=="null"?i.location.origin:i.location.href,y=typeof E=="string"?E:Bf(E);return y=y.replace(/ $/,"%20"),ht(x,"No window.location.(origin|href) available to create URL for href: "+y),new URL(y,x)}let v={get action(){return a},get location(){return t(i,s)},listen(E){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(hE,f),l=E,()=>{i.removeEventListener(hE,f),l=null}},createHref(E){return e(i,E)},createURL:w,encodeLocation(E){let x=w(E);return{pathname:x.pathname,search:x.search,hash:x.hash}},push:h,replace:g,go(E){return s.go(E)}};return v}var mE;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(mE||(mE={}));function wV(t,e,n){return n===void 0&&(n="/"),_V(t,e,n,!1)}function _V(t,e,n,r){let i=typeof e=="string"?ul(e):e,o=Ba(i.pathname||"/",n);if(o==null)return null;let s=bI(t);xV(s);let a=null;for(let l=0;a==null&&l<s.length;++l){let c=NV(o);a=kV(s[l],c,r)}return a}function bI(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(o,s,a)=>{let l={relativePath:a===void 0?o.path||"":a,caseSensitive:o.caseSensitive===!0,childrenIndex:s,route:o};l.relativePath.startsWith("/")&&(ht(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let c=mo([r,l.relativePath]),u=n.concat(l);o.children&&o.children.length>0&&(ht(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),bI(o.children,e,u,c)),!(o.path==null&&!o.index)&&e.push({path:c,score:IV(c,o.index),routesMeta:u})};return t.forEach((o,s)=>{var a;if(o.path===""||!((a=o.path)!=null&&a.includes("?")))i(o,s);else for(let l of TI(o.path))i(o,s,l)}),e}function TI(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let s=TI(r.join("/")),a=[];return a.push(...s.map(l=>l===""?o:[o,l].join("/"))),i&&a.push(...s),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function xV(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:AV(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const EV=/^:[\w-]+$/,bV=3,TV=2,CV=1,SV=10,PV=-2,gE=t=>t==="*";function IV(t,e){let n=t.split("/"),r=n.length;return n.some(gE)&&(r+=PV),e&&(r+=TV),n.filter(i=>!gE(i)).reduce((i,o)=>i+(EV.test(o)?bV:o===""?CV:SV),r)}function AV(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function kV(t,e,n){n===void 0&&(n=!1);let{routesMeta:r}=t,i={},o="/",s=[];for(let a=0;a<r.length;++a){let l=r[a],c=a===r.length-1,u=o==="/"?e:e.slice(o.length)||"/",f=Wf({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},u),h=l.route;if(!f&&c&&n&&!r[r.length-1].route.index&&(f=Wf({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},u)),!f)return null;Object.assign(i,f.params),s.push({params:i,pathname:mo([o,f.pathname]),pathnameBase:LV(mo([o,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(o=mo([o,f.pathnameBase]))}return s}function Wf(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=RV(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let o=i[0],s=o.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((c,u,f)=>{let{paramName:h,isOptional:g}=u;if(h==="*"){let v=a[f]||"";s=o.slice(0,o.length-v.length).replace(/(.)\/+$/,"$1")}const w=a[f];return g&&!w?c[h]=void 0:c[h]=(w||"").replace(/%2F/g,"/"),c},{}),pathname:o,pathnameBase:s,pattern:t}}function RV(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),EI(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function NV(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return EI(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Ba(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function DV(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?ul(t):t;return{pathname:n?n.startsWith("/")?n:MV(n,e):e,search:VV(r),hash:jV(i)}}function MV(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Gm(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function OV(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function W0(t,e){let n=OV(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function z0(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=ul(t):(i=Yc({},t),ht(!i.pathname||!i.pathname.includes("?"),Gm("?","pathname","search",i)),ht(!i.pathname||!i.pathname.includes("#"),Gm("#","pathname","hash",i)),ht(!i.search||!i.search.includes("#"),Gm("#","search","hash",i)));let o=t===""||i.pathname==="",s=o?"/":i.pathname,a;if(s==null)a=n;else{let f=e.length-1;if(!r&&s.startsWith("..")){let h=s.split("/");for(;h[0]==="..";)h.shift(),f-=1;i.pathname=h.join("/")}a=f>=0?e[f]:"/"}let l=DV(i,a),c=s&&s!=="/"&&s.endsWith("/"),u=(o||s===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||u)&&(l.pathname+="/"),l}const mo=t=>t.join("/").replace(/\/\/+/g,"/"),LV=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),VV=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,jV=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function FV(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const CI=["post","put","patch","delete"];new Set(CI);const $V=["get",...CI];new Set($V);/**
 * React Router v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Kc(){return Kc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Kc.apply(this,arguments)}const np=m.createContext(null),SI=m.createContext(null),Ni=m.createContext(null),rp=m.createContext(null),Di=m.createContext({outlet:null,matches:[],isDataRoute:!1}),PI=m.createContext(null);function UV(t,e){let{relative:n}=e===void 0?{}:e;dl()||ht(!1);let{basename:r,navigator:i}=m.useContext(Ni),{hash:o,pathname:s,search:a}=op(t,{relative:n}),l=s;return r!=="/"&&(l=s==="/"?r:mo([r,s])),i.createHref({pathname:l,search:a,hash:o})}function dl(){return m.useContext(rp)!=null}function fl(){return dl()||ht(!1),m.useContext(rp).location}function II(t){m.useContext(Ni).static||m.useLayoutEffect(t)}function ip(){let{isDataRoute:t}=m.useContext(Di);return t?t5():BV()}function BV(){dl()||ht(!1);let t=m.useContext(np),{basename:e,future:n,navigator:r}=m.useContext(Ni),{matches:i}=m.useContext(Di),{pathname:o}=fl(),s=JSON.stringify(W0(i,n.v7_relativeSplatPath)),a=m.useRef(!1);return II(()=>{a.current=!0}),m.useCallback(function(c,u){if(u===void 0&&(u={}),!a.current)return;if(typeof c=="number"){r.go(c);return}let f=z0(c,JSON.parse(s),o,u.relative==="path");t==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:mo([e,f.pathname])),(u.replace?r.replace:r.push)(f,u.state,u)},[e,r,s,o,t])}function WV(){let{matches:t}=m.useContext(Di),e=t[t.length-1];return e?e.params:{}}function op(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=m.useContext(Ni),{matches:i}=m.useContext(Di),{pathname:o}=fl(),s=JSON.stringify(W0(i,r.v7_relativeSplatPath));return m.useMemo(()=>z0(t,JSON.parse(s),o,n==="path"),[t,s,o,n])}function zV(t,e){return HV(t,e)}function HV(t,e,n,r){dl()||ht(!1);let{navigator:i,static:o}=m.useContext(Ni),{matches:s}=m.useContext(Di),a=s[s.length-1],l=a?a.params:{};a&&a.pathname;let c=a?a.pathnameBase:"/";a&&a.route;let u=fl(),f;if(e){var h;let x=typeof e=="string"?ul(e):e;c==="/"||(h=x.pathname)!=null&&h.startsWith(c)||ht(!1),f=x}else f=u;let g=f.pathname||"/",w=g;if(c!=="/"){let x=c.replace(/^\//,"").split("/");w="/"+g.replace(/^\//,"").split("/").slice(x.length).join("/")}let v=!o&&n&&n.matches&&n.matches.length>0?n.matches:wV(t,{pathname:w}),E=QV(v&&v.map(x=>Object.assign({},x,{params:Object.assign({},l,x.params),pathname:mo([c,i.encodeLocation?i.encodeLocation(x.pathname).pathname:x.pathname]),pathnameBase:x.pathnameBase==="/"?c:mo([c,i.encodeLocation?i.encodeLocation(x.pathnameBase).pathname:x.pathnameBase])})),s,n,r);return e&&E?m.createElement(rp.Provider,{value:{location:Kc({pathname:"/",search:"",hash:"",state:null,key:"default"},f),navigationType:io.Pop}},E):E}function qV(){let t=e5(),e=FV(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},o=null;return m.createElement(m.Fragment,null,m.createElement("h2",null,"Unexpected Application Error!"),m.createElement("h3",{style:{fontStyle:"italic"}},e),n?m.createElement("pre",{style:i},n):null,o)}const GV=m.createElement(qV,null);class YV extends m.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?m.createElement(Di.Provider,{value:this.props.routeContext},m.createElement(PI.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function KV(t){let{routeContext:e,match:n,children:r}=t,i=m.useContext(np);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),m.createElement(Di.Provider,{value:e},r)}function QV(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var o;if(!n)return null;if(n.errors)t=n.matches;else if((o=r)!=null&&o.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let s=t,a=(i=n)==null?void 0:i.errors;if(a!=null){let u=s.findIndex(f=>f.route.id&&(a==null?void 0:a[f.route.id])!==void 0);u>=0||ht(!1),s=s.slice(0,Math.min(s.length,u+1))}let l=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let u=0;u<s.length;u++){let f=s[u];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(c=u),f.route.id){let{loaderData:h,errors:g}=n,w=f.route.loader&&h[f.route.id]===void 0&&(!g||g[f.route.id]===void 0);if(f.route.lazy||w){l=!0,c>=0?s=s.slice(0,c+1):s=[s[0]];break}}}return s.reduceRight((u,f,h)=>{let g,w=!1,v=null,E=null;n&&(g=a&&f.route.id?a[f.route.id]:void 0,v=f.route.errorElement||GV,l&&(c<0&&h===0?(n5("route-fallback",!1),w=!0,E=null):c===h&&(w=!0,E=f.route.hydrateFallbackElement||null)));let x=e.concat(s.slice(0,h+1)),y=()=>{let b;return g?b=v:w?b=E:f.route.Component?b=m.createElement(f.route.Component,null):f.route.element?b=f.route.element:b=u,m.createElement(KV,{match:f,routeContext:{outlet:u,matches:x,isDataRoute:n!=null},children:b})};return n&&(f.route.ErrorBoundary||f.route.errorElement||h===0)?m.createElement(YV,{location:n.location,revalidation:n.revalidation,component:v,error:g,children:y(),routeContext:{outlet:null,matches:x,isDataRoute:!0}}):y()},null)}var AI=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(AI||{}),zf=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(zf||{});function XV(t){let e=m.useContext(np);return e||ht(!1),e}function JV(t){let e=m.useContext(SI);return e||ht(!1),e}function ZV(t){let e=m.useContext(Di);return e||ht(!1),e}function kI(t){let e=ZV(),n=e.matches[e.matches.length-1];return n.route.id||ht(!1),n.route.id}function e5(){var t;let e=m.useContext(PI),n=JV(zf.UseRouteError),r=kI(zf.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function t5(){let{router:t}=XV(AI.UseNavigateStable),e=kI(zf.UseNavigateStable),n=m.useRef(!1);return II(()=>{n.current=!0}),m.useCallback(function(i,o){o===void 0&&(o={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,Kc({fromRouteId:e},o)))},[t,e])}const vE={};function n5(t,e,n){!e&&!vE[t]&&(vE[t]=!0)}function r5(t,e){t==null||t.v7_startTransition,(t==null?void 0:t.v7_relativeSplatPath)===void 0&&(!e||e.v7_relativeSplatPath),e&&(e.v7_fetcherPersist,e.v7_normalizeFormMethod,e.v7_partialHydration,e.v7_skipActionErrorRevalidation)}function jv(t){let{to:e,replace:n,state:r,relative:i}=t;dl()||ht(!1);let{future:o,static:s}=m.useContext(Ni),{matches:a}=m.useContext(Di),{pathname:l}=fl(),c=ip(),u=z0(e,W0(a,o.v7_relativeSplatPath),l,i==="path"),f=JSON.stringify(u);return m.useEffect(()=>c(JSON.parse(f),{replace:n,state:r,relative:i}),[c,f,i,n,r]),null}function ni(t){ht(!1)}function i5(t){let{basename:e="/",children:n=null,location:r,navigationType:i=io.Pop,navigator:o,static:s=!1,future:a}=t;dl()&&ht(!1);let l=e.replace(/^\/*/,"/"),c=m.useMemo(()=>({basename:l,navigator:o,static:s,future:Kc({v7_relativeSplatPath:!1},a)}),[l,a,o,s]);typeof r=="string"&&(r=ul(r));let{pathname:u="/",search:f="",hash:h="",state:g=null,key:w="default"}=r,v=m.useMemo(()=>{let E=Ba(u,l);return E==null?null:{location:{pathname:E,search:f,hash:h,state:g,key:w},navigationType:i}},[l,u,f,h,g,w,i]);return v==null?null:m.createElement(Ni.Provider,{value:c},m.createElement(rp.Provider,{children:n,value:v}))}function o5(t){let{children:e,location:n}=t;return zV(Fv(e),n)}new Promise(()=>{});function Fv(t,e){e===void 0&&(e=[]);let n=[];return m.Children.forEach(t,(r,i)=>{if(!m.isValidElement(r))return;let o=[...e,i];if(r.type===m.Fragment){n.push.apply(n,Fv(r.props.children,o));return}r.type!==ni&&ht(!1),!r.props.index||!r.props.children||ht(!1);let s={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(s.children=Fv(r.props.children,o)),n.push(s)}),n}/**
 * React Router DOM v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Hf(){return Hf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Hf.apply(this,arguments)}function RI(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function s5(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function a5(t,e){return t.button===0&&(!e||e==="_self")&&!s5(t)}const l5=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],c5=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],u5="6";try{window.__reactRouterVersion=u5}catch{}const d5=m.createContext({isTransitioning:!1}),f5="startTransition",yE=$h[f5];function h5(t){let{basename:e,children:n,future:r,window:i}=t,o=m.useRef();o.current==null&&(o.current=gV({window:i,v5Compat:!0}));let s=o.current,[a,l]=m.useState({action:s.action,location:s.location}),{v7_startTransition:c}=r||{},u=m.useCallback(f=>{c&&yE?yE(()=>l(f)):l(f)},[l,c]);return m.useLayoutEffect(()=>s.listen(u),[s,u]),m.useEffect(()=>r5(r),[r]),m.createElement(i5,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:s,future:r})}const p5=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",m5=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,qf=m.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:o,replace:s,state:a,target:l,to:c,preventScrollReset:u,viewTransition:f}=e,h=RI(e,l5),{basename:g}=m.useContext(Ni),w,v=!1;if(typeof c=="string"&&m5.test(c)&&(w=c,p5))try{let b=new URL(window.location.href),P=c.startsWith("//")?new URL(b.protocol+c):new URL(c),R=Ba(P.pathname,g);P.origin===b.origin&&R!=null?c=R+P.search+P.hash:v=!0}catch{}let E=UV(c,{relative:i}),x=y5(c,{replace:s,state:a,target:l,preventScrollReset:u,relative:i,viewTransition:f});function y(b){r&&r(b),b.defaultPrevented||x(b)}return m.createElement("a",Hf({},h,{href:w||E,onClick:v||o?r:y,ref:n,target:l}))}),g5=m.forwardRef(function(e,n){let{"aria-current":r="page",caseSensitive:i=!1,className:o="",end:s=!1,style:a,to:l,viewTransition:c,children:u}=e,f=RI(e,c5),h=op(l,{relative:f.relative}),g=fl(),w=m.useContext(SI),{navigator:v,basename:E}=m.useContext(Ni),x=w!=null&&w5(h)&&c===!0,y=v.encodeLocation?v.encodeLocation(h).pathname:h.pathname,b=g.pathname,P=w&&w.navigation&&w.navigation.location?w.navigation.location.pathname:null;i||(b=b.toLowerCase(),P=P?P.toLowerCase():null,y=y.toLowerCase()),P&&E&&(P=Ba(P,E)||P);const R=y!=="/"&&y.endsWith("/")?y.length-1:y.length;let D=b===y||!s&&b.startsWith(y)&&b.charAt(R)==="/",S=P!=null&&(P===y||!s&&P.startsWith(y)&&P.charAt(y.length)==="/"),C={isActive:D,isPending:S,isTransitioning:x},I=D?r:void 0,A;typeof o=="function"?A=o(C):A=[o,D?"active":null,S?"pending":null,x?"transitioning":null].filter(Boolean).join(" ");let M=typeof a=="function"?a(C):a;return m.createElement(qf,Hf({},f,{"aria-current":I,className:A,ref:n,style:M,to:l,viewTransition:c}),typeof u=="function"?u(C):u)});var $v;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})($v||($v={}));var wE;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(wE||(wE={}));function v5(t){let e=m.useContext(np);return e||ht(!1),e}function y5(t,e){let{target:n,replace:r,state:i,preventScrollReset:o,relative:s,viewTransition:a}=e===void 0?{}:e,l=ip(),c=fl(),u=op(t,{relative:s});return m.useCallback(f=>{if(a5(f,n)){f.preventDefault();let h=r!==void 0?r:Bf(c)===Bf(u);l(t,{replace:h,state:i,preventScrollReset:o,relative:s,viewTransition:a})}},[c,l,u,r,i,n,t,o,s,a])}function w5(t,e){e===void 0&&(e={});let n=m.useContext(d5);n==null&&ht(!1);let{basename:r}=v5($v.useViewTransitionState),i=op(t,{relative:e.relative});if(!n.isTransitioning)return!1;let o=Ba(n.currentLocation.pathname,r)||n.currentLocation.pathname,s=Ba(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Wf(i.pathname,s)!=null||Wf(i.pathname,o)!=null}const _5=()=>{};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NI=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},x5=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=t[n++],s=t[n++],a=t[n++],l=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const o=t[n++],s=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},DI={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const o=t[i],s=i+1<t.length,a=s?t[i+1]:0,l=i+2<t.length,c=l?t[i+2]:0,u=o>>2,f=(o&3)<<4|a>>4;let h=(a&15)<<2|c>>6,g=c&63;l||(g=64,s||(h=64)),r.push(n[u],n[f],n[h],n[g])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(NI(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):x5(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const o=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const f=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||a==null||c==null||f==null)throw new E5;const h=o<<2|a>>4;if(r.push(h),c!==64){const g=a<<4&240|c>>2;if(r.push(g),f!==64){const w=c<<6&192|f;r.push(w)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class E5 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const b5=function(t){const e=NI(t);return DI.encodeByteArray(e,!0)},Gf=function(t){return b5(t).replace(/\./g,"")},MI=function(t){try{return DI.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T5(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C5=()=>T5().__FIREBASE_DEFAULTS__,S5=()=>{if(typeof process>"u"||typeof process.env>"u")return;const t={}.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},P5=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&MI(t[1]);return e&&JSON.parse(e)},sp=()=>{try{return _5()||C5()||S5()||P5()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},OI=t=>{var e,n;return(n=(e=sp())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},I5=t=>{const e=OI(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},LI=()=>{var t;return(t=sp())==null?void 0:t.config},VI=t=>{var e;return(e=sp())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A5{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hl(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function jI(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k5(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s={iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}},...t},a="";return[Gf(JSON.stringify(n)),Gf(JSON.stringify(s)),a].join(".")}const wc={};function R5(){const t={prod:[],emulator:[]};for(const e of Object.keys(wc))wc[e]?t.emulator.push(e):t.prod.push(e);return t}function N5(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let _E=!1;function FI(t,e){if(typeof window>"u"||typeof document>"u"||!hl(window.location.host)||wc[t]===e||wc[t]||_E)return;wc[t]=e;function n(h){return`__firebase__banner__${h}`}const r="__firebase__banner",o=R5().prod.length>0;function s(){const h=document.getElementById(r);h&&h.remove()}function a(h){h.style.display="flex",h.style.background="#7faaf0",h.style.position="fixed",h.style.bottom="5px",h.style.left="5px",h.style.padding=".5em",h.style.borderRadius="5px",h.style.alignItems="center"}function l(h,g){h.setAttribute("width","24"),h.setAttribute("id",g),h.setAttribute("height","24"),h.setAttribute("viewBox","0 0 24 24"),h.setAttribute("fill","none"),h.style.marginLeft="-6px"}function c(){const h=document.createElement("span");return h.style.cursor="pointer",h.style.marginLeft="16px",h.style.fontSize="24px",h.innerHTML=" &times;",h.onclick=()=>{_E=!0,s()},h}function u(h,g){h.setAttribute("id",g),h.innerText="Learn more",h.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",h.setAttribute("target","__blank"),h.style.paddingLeft="5px",h.style.textDecoration="underline"}function f(){const h=N5(r),g=n("text"),w=document.getElementById(g)||document.createElement("span"),v=n("learnmore"),E=document.getElementById(v)||document.createElement("a"),x=n("preprendIcon"),y=document.getElementById(x)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(h.created){const b=h.element;a(b),u(E,v);const P=c();l(y,x),b.append(y,w,E,P),document.body.appendChild(b)}o?(w.innerText="Preview backend disconnected.",y.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(y.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,w.innerText="Preview backend running in this workspace."),w.setAttribute("id",g)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",f):f()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ln(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function D5(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ln())}function M5(){var e;const t=(e=sp())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function O5(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function L5(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function V5(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function j5(){const t=ln();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function F5(){return!M5()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function $5(){try{return typeof indexedDB=="object"}catch{return!1}}function U5(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)==null?void 0:o.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B5="FirebaseError";class Mi extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=B5,Object.setPrototypeOf(this,Mi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,yu.prototype.create)}}class yu{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?W5(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new Mi(i,a,r)}}function W5(t,e){return t.replace(z5,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const z5=/\{\$([^}]+)}/g;function H5(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function ys(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const o=t[i],s=e[i];if(xE(o)&&xE(s)){if(!ys(o,s))return!1}else if(o!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function xE(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wu(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function rc(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,o]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(o)}}),e}function ic(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function q5(t,e){const n=new G5(t,e);return n.subscribe.bind(n)}class G5{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");Y5(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Ym),i.error===void 0&&(i.error=Ym),i.complete===void 0&&(i.complete=Ym);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Y5(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Ym(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ot(t){return t&&t._delegate?t._delegate:t}class ws{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zo="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let K5=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new A5;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(X5(e))try{this.getOrInitializeService({instanceIdentifier:Zo})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=Zo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Zo){return this.instances.has(e)}getOptions(e=Zo){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),i=this.onInitCallbacks.get(r)??new Set;i.add(e),this.onInitCallbacks.set(r,i);const o=this.instances.get(r);return o&&e(o,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Q5(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Zo){return this.component?this.component.multipleInstances?e:Zo:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function Q5(t){return t===Zo?void 0:t}function X5(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J5{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new K5(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ae;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ae||(Ae={}));const Z5={debug:Ae.DEBUG,verbose:Ae.VERBOSE,info:Ae.INFO,warn:Ae.WARN,error:Ae.ERROR,silent:Ae.SILENT},ej=Ae.INFO,tj={[Ae.DEBUG]:"log",[Ae.VERBOSE]:"log",[Ae.INFO]:"info",[Ae.WARN]:"warn",[Ae.ERROR]:"error"},nj=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=tj[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class H0{constructor(e){this.name=e,this._logLevel=ej,this._logHandler=nj,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ae))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Z5[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ae.DEBUG,...e),this._logHandler(this,Ae.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ae.VERBOSE,...e),this._logHandler(this,Ae.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ae.INFO,...e),this._logHandler(this,Ae.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ae.WARN,...e),this._logHandler(this,Ae.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ae.ERROR,...e),this._logHandler(this,Ae.ERROR,...e)}}const rj=(t,e)=>e.some(n=>t instanceof n);let EE,bE;function ij(){return EE||(EE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function oj(){return bE||(bE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const $I=new WeakMap,Uv=new WeakMap,UI=new WeakMap,Km=new WeakMap,q0=new WeakMap;function sj(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(go(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&$I.set(n,t)}).catch(()=>{}),q0.set(e,t),e}function aj(t){if(Uv.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});Uv.set(t,e)}let Bv={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Uv.get(t);if(e==="objectStoreNames")return t.objectStoreNames||UI.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return go(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function lj(t){Bv=t(Bv)}function cj(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Qm(this),e,...n);return UI.set(r,e.sort?e.sort():[e]),go(r)}:oj().includes(t)?function(...e){return t.apply(Qm(this),e),go($I.get(this))}:function(...e){return go(t.apply(Qm(this),e))}}function uj(t){return typeof t=="function"?cj(t):(t instanceof IDBTransaction&&aj(t),rj(t,ij())?new Proxy(t,Bv):t)}function go(t){if(t instanceof IDBRequest)return sj(t);if(Km.has(t))return Km.get(t);const e=uj(t);return e!==t&&(Km.set(t,e),q0.set(e,t)),e}const Qm=t=>q0.get(t);function dj(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const s=indexedDB.open(t,e),a=go(s);return r&&s.addEventListener("upgradeneeded",l=>{r(go(s.result),l.oldVersion,l.newVersion,go(s.transaction),l)}),n&&s.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{o&&l.addEventListener("close",()=>o()),i&&l.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const fj=["get","getKey","getAll","getAllKeys","count"],hj=["put","add","delete","clear"],Xm=new Map;function TE(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Xm.get(e))return Xm.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=hj.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||fj.includes(n)))return;const o=async function(s,...a){const l=this.transaction(s,i?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),i&&l.done]))[0]};return Xm.set(e,o),o}lj(t=>({...t,get:(e,n,r)=>TE(e,n)||t.get(e,n,r),has:(e,n)=>!!TE(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pj{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(mj(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function mj(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Wv="@firebase/app",CE="0.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _i=new H0("@firebase/app"),gj="@firebase/app-compat",vj="@firebase/analytics-compat",yj="@firebase/analytics",wj="@firebase/app-check-compat",_j="@firebase/app-check",xj="@firebase/auth",Ej="@firebase/auth-compat",bj="@firebase/database",Tj="@firebase/data-connect",Cj="@firebase/database-compat",Sj="@firebase/functions",Pj="@firebase/functions-compat",Ij="@firebase/installations",Aj="@firebase/installations-compat",kj="@firebase/messaging",Rj="@firebase/messaging-compat",Nj="@firebase/performance",Dj="@firebase/performance-compat",Mj="@firebase/remote-config",Oj="@firebase/remote-config-compat",Lj="@firebase/storage",Vj="@firebase/storage-compat",jj="@firebase/firestore",Fj="@firebase/ai",$j="@firebase/firestore-compat",Uj="firebase",Bj="12.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zv="[DEFAULT]",Wj={[Wv]:"fire-core",[gj]:"fire-core-compat",[yj]:"fire-analytics",[vj]:"fire-analytics-compat",[_j]:"fire-app-check",[wj]:"fire-app-check-compat",[xj]:"fire-auth",[Ej]:"fire-auth-compat",[bj]:"fire-rtdb",[Tj]:"fire-data-connect",[Cj]:"fire-rtdb-compat",[Sj]:"fire-fn",[Pj]:"fire-fn-compat",[Ij]:"fire-iid",[Aj]:"fire-iid-compat",[kj]:"fire-fcm",[Rj]:"fire-fcm-compat",[Nj]:"fire-perf",[Dj]:"fire-perf-compat",[Mj]:"fire-rc",[Oj]:"fire-rc-compat",[Lj]:"fire-gcs",[Vj]:"fire-gcs-compat",[jj]:"fire-fst",[$j]:"fire-fst-compat",[Fj]:"fire-vertex","fire-js":"fire-js",[Uj]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yf=new Map,zj=new Map,Hv=new Map;function SE(t,e){try{t.container.addComponent(e)}catch(n){_i.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Wa(t){const e=t.name;if(Hv.has(e))return _i.debug(`There were multiple attempts to register component ${e}.`),!1;Hv.set(e,t);for(const n of Yf.values())SE(n,t);for(const n of zj.values())SE(n,t);return!0}function G0(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Dn(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hj={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},vo=new yu("app","Firebase",Hj);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qj{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ws("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw vo.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pl=Bj;function BI(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:zv,automaticDataCollectionEnabled:!0,...e},i=r.name;if(typeof i!="string"||!i)throw vo.create("bad-app-name",{appName:String(i)});if(n||(n=LI()),!n)throw vo.create("no-options");const o=Yf.get(i);if(o){if(ys(n,o.options)&&ys(r,o.config))return o;throw vo.create("duplicate-app",{appName:i})}const s=new J5(i);for(const l of Hv.values())s.addComponent(l);const a=new qj(n,r,s);return Yf.set(i,a),a}function WI(t=zv){const e=Yf.get(t);if(!e&&t===zv&&LI())return BI();if(!e)throw vo.create("no-app",{appName:t});return e}function yo(t,e,n){let r=Wj[t]??t;n&&(r+=`-${n}`);const i=r.match(/\s|\//),o=e.match(/\s|\//);if(i||o){const s=[`Unable to register library "${r}" with version "${e}":`];i&&s.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&o&&s.push("and"),o&&s.push(`version name "${e}" contains illegal characters (whitespace or "/")`),_i.warn(s.join(" "));return}Wa(new ws(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gj="firebase-heartbeat-database",Yj=1,Qc="firebase-heartbeat-store";let Jm=null;function zI(){return Jm||(Jm=dj(Gj,Yj,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Qc)}catch(n){console.warn(n)}}}}).catch(t=>{throw vo.create("idb-open",{originalErrorMessage:t.message})})),Jm}async function Kj(t){try{const n=(await zI()).transaction(Qc),r=await n.objectStore(Qc).get(HI(t));return await n.done,r}catch(e){if(e instanceof Mi)_i.warn(e.message);else{const n=vo.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});_i.warn(n.message)}}}async function PE(t,e){try{const r=(await zI()).transaction(Qc,"readwrite");await r.objectStore(Qc).put(e,HI(t)),await r.done}catch(n){if(n instanceof Mi)_i.warn(n.message);else{const r=vo.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});_i.warn(r.message)}}}function HI(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qj=1024,Xj=30;class Jj{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new e3(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=IE();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats.length>Xj){const s=t3(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){_i.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=IE(),{heartbeatsToSend:r,unsentEntries:i}=Zj(this._heartbeatsCache.heartbeats),o=Gf(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return _i.warn(n),""}}}function IE(){return new Date().toISOString().substring(0,10)}function Zj(t,e=Qj){const n=[];let r=t.slice();for(const i of t){const o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),AE(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),AE(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class e3{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return $5()?U5().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await Kj(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return PE(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return PE(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function AE(t){return Gf(JSON.stringify({version:2,heartbeats:t})).length}function t3(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n3(t){Wa(new ws("platform-logger",e=>new pj(e),"PRIVATE")),Wa(new ws("heartbeat",e=>new Jj(e),"PRIVATE")),yo(Wv,CE,t),yo(Wv,CE,"esm2020"),yo("fire-js","")}n3("");var r3="firebase",i3="12.1.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */yo(r3,i3,"app");var kE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var wo,qI;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(S,C){function I(){}I.prototype=C.prototype,S.D=C.prototype,S.prototype=new I,S.prototype.constructor=S,S.C=function(A,M,O){for(var N=Array(arguments.length-2),F=2;F<arguments.length;F++)N[F-2]=arguments[F];return C.prototype[M].apply(A,N)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(S,C,I){I||(I=0);var A=Array(16);if(typeof C=="string")for(var M=0;16>M;++M)A[M]=C.charCodeAt(I++)|C.charCodeAt(I++)<<8|C.charCodeAt(I++)<<16|C.charCodeAt(I++)<<24;else for(M=0;16>M;++M)A[M]=C[I++]|C[I++]<<8|C[I++]<<16|C[I++]<<24;C=S.g[0],I=S.g[1],M=S.g[2];var O=S.g[3],N=C+(O^I&(M^O))+A[0]+3614090360&4294967295;C=I+(N<<7&4294967295|N>>>25),N=O+(M^C&(I^M))+A[1]+3905402710&4294967295,O=C+(N<<12&4294967295|N>>>20),N=M+(I^O&(C^I))+A[2]+606105819&4294967295,M=O+(N<<17&4294967295|N>>>15),N=I+(C^M&(O^C))+A[3]+3250441966&4294967295,I=M+(N<<22&4294967295|N>>>10),N=C+(O^I&(M^O))+A[4]+4118548399&4294967295,C=I+(N<<7&4294967295|N>>>25),N=O+(M^C&(I^M))+A[5]+1200080426&4294967295,O=C+(N<<12&4294967295|N>>>20),N=M+(I^O&(C^I))+A[6]+2821735955&4294967295,M=O+(N<<17&4294967295|N>>>15),N=I+(C^M&(O^C))+A[7]+4249261313&4294967295,I=M+(N<<22&4294967295|N>>>10),N=C+(O^I&(M^O))+A[8]+1770035416&4294967295,C=I+(N<<7&4294967295|N>>>25),N=O+(M^C&(I^M))+A[9]+2336552879&4294967295,O=C+(N<<12&4294967295|N>>>20),N=M+(I^O&(C^I))+A[10]+4294925233&4294967295,M=O+(N<<17&4294967295|N>>>15),N=I+(C^M&(O^C))+A[11]+2304563134&4294967295,I=M+(N<<22&4294967295|N>>>10),N=C+(O^I&(M^O))+A[12]+1804603682&4294967295,C=I+(N<<7&4294967295|N>>>25),N=O+(M^C&(I^M))+A[13]+4254626195&4294967295,O=C+(N<<12&4294967295|N>>>20),N=M+(I^O&(C^I))+A[14]+2792965006&4294967295,M=O+(N<<17&4294967295|N>>>15),N=I+(C^M&(O^C))+A[15]+1236535329&4294967295,I=M+(N<<22&4294967295|N>>>10),N=C+(M^O&(I^M))+A[1]+4129170786&4294967295,C=I+(N<<5&4294967295|N>>>27),N=O+(I^M&(C^I))+A[6]+3225465664&4294967295,O=C+(N<<9&4294967295|N>>>23),N=M+(C^I&(O^C))+A[11]+643717713&4294967295,M=O+(N<<14&4294967295|N>>>18),N=I+(O^C&(M^O))+A[0]+3921069994&4294967295,I=M+(N<<20&4294967295|N>>>12),N=C+(M^O&(I^M))+A[5]+3593408605&4294967295,C=I+(N<<5&4294967295|N>>>27),N=O+(I^M&(C^I))+A[10]+38016083&4294967295,O=C+(N<<9&4294967295|N>>>23),N=M+(C^I&(O^C))+A[15]+3634488961&4294967295,M=O+(N<<14&4294967295|N>>>18),N=I+(O^C&(M^O))+A[4]+3889429448&4294967295,I=M+(N<<20&4294967295|N>>>12),N=C+(M^O&(I^M))+A[9]+568446438&4294967295,C=I+(N<<5&4294967295|N>>>27),N=O+(I^M&(C^I))+A[14]+3275163606&4294967295,O=C+(N<<9&4294967295|N>>>23),N=M+(C^I&(O^C))+A[3]+4107603335&4294967295,M=O+(N<<14&4294967295|N>>>18),N=I+(O^C&(M^O))+A[8]+1163531501&4294967295,I=M+(N<<20&4294967295|N>>>12),N=C+(M^O&(I^M))+A[13]+2850285829&4294967295,C=I+(N<<5&4294967295|N>>>27),N=O+(I^M&(C^I))+A[2]+4243563512&4294967295,O=C+(N<<9&4294967295|N>>>23),N=M+(C^I&(O^C))+A[7]+1735328473&4294967295,M=O+(N<<14&4294967295|N>>>18),N=I+(O^C&(M^O))+A[12]+2368359562&4294967295,I=M+(N<<20&4294967295|N>>>12),N=C+(I^M^O)+A[5]+4294588738&4294967295,C=I+(N<<4&4294967295|N>>>28),N=O+(C^I^M)+A[8]+2272392833&4294967295,O=C+(N<<11&4294967295|N>>>21),N=M+(O^C^I)+A[11]+1839030562&4294967295,M=O+(N<<16&4294967295|N>>>16),N=I+(M^O^C)+A[14]+4259657740&4294967295,I=M+(N<<23&4294967295|N>>>9),N=C+(I^M^O)+A[1]+2763975236&4294967295,C=I+(N<<4&4294967295|N>>>28),N=O+(C^I^M)+A[4]+1272893353&4294967295,O=C+(N<<11&4294967295|N>>>21),N=M+(O^C^I)+A[7]+4139469664&4294967295,M=O+(N<<16&4294967295|N>>>16),N=I+(M^O^C)+A[10]+3200236656&4294967295,I=M+(N<<23&4294967295|N>>>9),N=C+(I^M^O)+A[13]+681279174&4294967295,C=I+(N<<4&4294967295|N>>>28),N=O+(C^I^M)+A[0]+3936430074&4294967295,O=C+(N<<11&4294967295|N>>>21),N=M+(O^C^I)+A[3]+3572445317&4294967295,M=O+(N<<16&4294967295|N>>>16),N=I+(M^O^C)+A[6]+76029189&4294967295,I=M+(N<<23&4294967295|N>>>9),N=C+(I^M^O)+A[9]+3654602809&4294967295,C=I+(N<<4&4294967295|N>>>28),N=O+(C^I^M)+A[12]+3873151461&4294967295,O=C+(N<<11&4294967295|N>>>21),N=M+(O^C^I)+A[15]+530742520&4294967295,M=O+(N<<16&4294967295|N>>>16),N=I+(M^O^C)+A[2]+3299628645&4294967295,I=M+(N<<23&4294967295|N>>>9),N=C+(M^(I|~O))+A[0]+4096336452&4294967295,C=I+(N<<6&4294967295|N>>>26),N=O+(I^(C|~M))+A[7]+1126891415&4294967295,O=C+(N<<10&4294967295|N>>>22),N=M+(C^(O|~I))+A[14]+2878612391&4294967295,M=O+(N<<15&4294967295|N>>>17),N=I+(O^(M|~C))+A[5]+4237533241&4294967295,I=M+(N<<21&4294967295|N>>>11),N=C+(M^(I|~O))+A[12]+1700485571&4294967295,C=I+(N<<6&4294967295|N>>>26),N=O+(I^(C|~M))+A[3]+2399980690&4294967295,O=C+(N<<10&4294967295|N>>>22),N=M+(C^(O|~I))+A[10]+4293915773&4294967295,M=O+(N<<15&4294967295|N>>>17),N=I+(O^(M|~C))+A[1]+2240044497&4294967295,I=M+(N<<21&4294967295|N>>>11),N=C+(M^(I|~O))+A[8]+1873313359&4294967295,C=I+(N<<6&4294967295|N>>>26),N=O+(I^(C|~M))+A[15]+4264355552&4294967295,O=C+(N<<10&4294967295|N>>>22),N=M+(C^(O|~I))+A[6]+2734768916&4294967295,M=O+(N<<15&4294967295|N>>>17),N=I+(O^(M|~C))+A[13]+1309151649&4294967295,I=M+(N<<21&4294967295|N>>>11),N=C+(M^(I|~O))+A[4]+4149444226&4294967295,C=I+(N<<6&4294967295|N>>>26),N=O+(I^(C|~M))+A[11]+3174756917&4294967295,O=C+(N<<10&4294967295|N>>>22),N=M+(C^(O|~I))+A[2]+718787259&4294967295,M=O+(N<<15&4294967295|N>>>17),N=I+(O^(M|~C))+A[9]+3951481745&4294967295,S.g[0]=S.g[0]+C&4294967295,S.g[1]=S.g[1]+(M+(N<<21&4294967295|N>>>11))&4294967295,S.g[2]=S.g[2]+M&4294967295,S.g[3]=S.g[3]+O&4294967295}r.prototype.u=function(S,C){C===void 0&&(C=S.length);for(var I=C-this.blockSize,A=this.B,M=this.h,O=0;O<C;){if(M==0)for(;O<=I;)i(this,S,O),O+=this.blockSize;if(typeof S=="string"){for(;O<C;)if(A[M++]=S.charCodeAt(O++),M==this.blockSize){i(this,A),M=0;break}}else for(;O<C;)if(A[M++]=S[O++],M==this.blockSize){i(this,A),M=0;break}}this.h=M,this.o+=C},r.prototype.v=function(){var S=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);S[0]=128;for(var C=1;C<S.length-8;++C)S[C]=0;var I=8*this.o;for(C=S.length-8;C<S.length;++C)S[C]=I&255,I/=256;for(this.u(S),S=Array(16),C=I=0;4>C;++C)for(var A=0;32>A;A+=8)S[I++]=this.g[C]>>>A&255;return S};function o(S,C){var I=a;return Object.prototype.hasOwnProperty.call(I,S)?I[S]:I[S]=C(S)}function s(S,C){this.h=C;for(var I=[],A=!0,M=S.length-1;0<=M;M--){var O=S[M]|0;A&&O==C||(I[M]=O,A=!1)}this.g=I}var a={};function l(S){return-128<=S&&128>S?o(S,function(C){return new s([C|0],0>C?-1:0)}):new s([S|0],0>S?-1:0)}function c(S){if(isNaN(S)||!isFinite(S))return f;if(0>S)return E(c(-S));for(var C=[],I=1,A=0;S>=I;A++)C[A]=S/I|0,I*=4294967296;return new s(C,0)}function u(S,C){if(S.length==0)throw Error("number format error: empty string");if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(S.charAt(0)=="-")return E(u(S.substring(1),C));if(0<=S.indexOf("-"))throw Error('number format error: interior "-" character');for(var I=c(Math.pow(C,8)),A=f,M=0;M<S.length;M+=8){var O=Math.min(8,S.length-M),N=parseInt(S.substring(M,M+O),C);8>O?(O=c(Math.pow(C,O)),A=A.j(O).add(c(N))):(A=A.j(I),A=A.add(c(N)))}return A}var f=l(0),h=l(1),g=l(16777216);t=s.prototype,t.m=function(){if(v(this))return-E(this).m();for(var S=0,C=1,I=0;I<this.g.length;I++){var A=this.i(I);S+=(0<=A?A:4294967296+A)*C,C*=4294967296}return S},t.toString=function(S){if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(w(this))return"0";if(v(this))return"-"+E(this).toString(S);for(var C=c(Math.pow(S,6)),I=this,A="";;){var M=P(I,C).g;I=x(I,M.j(C));var O=((0<I.g.length?I.g[0]:I.h)>>>0).toString(S);if(I=M,w(I))return O+A;for(;6>O.length;)O="0"+O;A=O+A}},t.i=function(S){return 0>S?0:S<this.g.length?this.g[S]:this.h};function w(S){if(S.h!=0)return!1;for(var C=0;C<S.g.length;C++)if(S.g[C]!=0)return!1;return!0}function v(S){return S.h==-1}t.l=function(S){return S=x(this,S),v(S)?-1:w(S)?0:1};function E(S){for(var C=S.g.length,I=[],A=0;A<C;A++)I[A]=~S.g[A];return new s(I,~S.h).add(h)}t.abs=function(){return v(this)?E(this):this},t.add=function(S){for(var C=Math.max(this.g.length,S.g.length),I=[],A=0,M=0;M<=C;M++){var O=A+(this.i(M)&65535)+(S.i(M)&65535),N=(O>>>16)+(this.i(M)>>>16)+(S.i(M)>>>16);A=N>>>16,O&=65535,N&=65535,I[M]=N<<16|O}return new s(I,I[I.length-1]&-2147483648?-1:0)};function x(S,C){return S.add(E(C))}t.j=function(S){if(w(this)||w(S))return f;if(v(this))return v(S)?E(this).j(E(S)):E(E(this).j(S));if(v(S))return E(this.j(E(S)));if(0>this.l(g)&&0>S.l(g))return c(this.m()*S.m());for(var C=this.g.length+S.g.length,I=[],A=0;A<2*C;A++)I[A]=0;for(A=0;A<this.g.length;A++)for(var M=0;M<S.g.length;M++){var O=this.i(A)>>>16,N=this.i(A)&65535,F=S.i(M)>>>16,Y=S.i(M)&65535;I[2*A+2*M]+=N*Y,y(I,2*A+2*M),I[2*A+2*M+1]+=O*Y,y(I,2*A+2*M+1),I[2*A+2*M+1]+=N*F,y(I,2*A+2*M+1),I[2*A+2*M+2]+=O*F,y(I,2*A+2*M+2)}for(A=0;A<C;A++)I[A]=I[2*A+1]<<16|I[2*A];for(A=C;A<2*C;A++)I[A]=0;return new s(I,0)};function y(S,C){for(;(S[C]&65535)!=S[C];)S[C+1]+=S[C]>>>16,S[C]&=65535,C++}function b(S,C){this.g=S,this.h=C}function P(S,C){if(w(C))throw Error("division by zero");if(w(S))return new b(f,f);if(v(S))return C=P(E(S),C),new b(E(C.g),E(C.h));if(v(C))return C=P(S,E(C)),new b(E(C.g),C.h);if(30<S.g.length){if(v(S)||v(C))throw Error("slowDivide_ only works with positive integers.");for(var I=h,A=C;0>=A.l(S);)I=R(I),A=R(A);var M=D(I,1),O=D(A,1);for(A=D(A,2),I=D(I,2);!w(A);){var N=O.add(A);0>=N.l(S)&&(M=M.add(I),O=N),A=D(A,1),I=D(I,1)}return C=x(S,M.j(C)),new b(M,C)}for(M=f;0<=S.l(C);){for(I=Math.max(1,Math.floor(S.m()/C.m())),A=Math.ceil(Math.log(I)/Math.LN2),A=48>=A?1:Math.pow(2,A-48),O=c(I),N=O.j(C);v(N)||0<N.l(S);)I-=A,O=c(I),N=O.j(C);w(O)&&(O=h),M=M.add(O),S=x(S,N)}return new b(M,S)}t.A=function(S){return P(this,S).h},t.and=function(S){for(var C=Math.max(this.g.length,S.g.length),I=[],A=0;A<C;A++)I[A]=this.i(A)&S.i(A);return new s(I,this.h&S.h)},t.or=function(S){for(var C=Math.max(this.g.length,S.g.length),I=[],A=0;A<C;A++)I[A]=this.i(A)|S.i(A);return new s(I,this.h|S.h)},t.xor=function(S){for(var C=Math.max(this.g.length,S.g.length),I=[],A=0;A<C;A++)I[A]=this.i(A)^S.i(A);return new s(I,this.h^S.h)};function R(S){for(var C=S.g.length+1,I=[],A=0;A<C;A++)I[A]=S.i(A)<<1|S.i(A-1)>>>31;return new s(I,S.h)}function D(S,C){var I=C>>5;C%=32;for(var A=S.g.length-I,M=[],O=0;O<A;O++)M[O]=0<C?S.i(O+I)>>>C|S.i(O+I+1)<<32-C:S.i(O+I);return new s(M,S.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,qI=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=c,s.fromString=u,wo=s}).apply(typeof kE<"u"?kE:typeof self<"u"?self:typeof window<"u"?window:{});var _d=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var GI,oc,YI,ef,qv,KI,QI,XI;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(d,_,T){return d==Array.prototype||d==Object.prototype||(d[_]=T.value),d};function n(d){d=[typeof globalThis=="object"&&globalThis,d,typeof window=="object"&&window,typeof self=="object"&&self,typeof _d=="object"&&_d];for(var _=0;_<d.length;++_){var T=d[_];if(T&&T.Math==Math)return T}throw Error("Cannot find global object")}var r=n(this);function i(d,_){if(_)e:{var T=r;d=d.split(".");for(var k=0;k<d.length-1;k++){var V=d[k];if(!(V in T))break e;T=T[V]}d=d[d.length-1],k=T[d],_=_(k),_!=k&&_!=null&&e(T,d,{configurable:!0,writable:!0,value:_})}}function o(d,_){d instanceof String&&(d+="");var T=0,k=!1,V={next:function(){if(!k&&T<d.length){var $=T++;return{value:_($,d[$]),done:!1}}return k=!0,{done:!0,value:void 0}}};return V[Symbol.iterator]=function(){return V},V}i("Array.prototype.values",function(d){return d||function(){return o(this,function(_,T){return T})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var s=s||{},a=this||self;function l(d){var _=typeof d;return _=_!="object"?_:d?Array.isArray(d)?"array":_:"null",_=="array"||_=="object"&&typeof d.length=="number"}function c(d){var _=typeof d;return _=="object"&&d!=null||_=="function"}function u(d,_,T){return d.call.apply(d.bind,arguments)}function f(d,_,T){if(!d)throw Error();if(2<arguments.length){var k=Array.prototype.slice.call(arguments,2);return function(){var V=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(V,k),d.apply(_,V)}}return function(){return d.apply(_,arguments)}}function h(d,_,T){return h=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?u:f,h.apply(null,arguments)}function g(d,_){var T=Array.prototype.slice.call(arguments,1);return function(){var k=T.slice();return k.push.apply(k,arguments),d.apply(this,k)}}function w(d,_){function T(){}T.prototype=_.prototype,d.aa=_.prototype,d.prototype=new T,d.prototype.constructor=d,d.Qb=function(k,V,$){for(var X=Array(arguments.length-2),Ge=2;Ge<arguments.length;Ge++)X[Ge-2]=arguments[Ge];return _.prototype[V].apply(k,X)}}function v(d){const _=d.length;if(0<_){const T=Array(_);for(let k=0;k<_;k++)T[k]=d[k];return T}return[]}function E(d,_){for(let T=1;T<arguments.length;T++){const k=arguments[T];if(l(k)){const V=d.length||0,$=k.length||0;d.length=V+$;for(let X=0;X<$;X++)d[V+X]=k[X]}else d.push(k)}}class x{constructor(_,T){this.i=_,this.j=T,this.h=0,this.g=null}get(){let _;return 0<this.h?(this.h--,_=this.g,this.g=_.next,_.next=null):_=this.i(),_}}function y(d){return/^[\s\xa0]*$/.test(d)}function b(){var d=a.navigator;return d&&(d=d.userAgent)?d:""}function P(d){return P[" "](d),d}P[" "]=function(){};var R=b().indexOf("Gecko")!=-1&&!(b().toLowerCase().indexOf("webkit")!=-1&&b().indexOf("Edge")==-1)&&!(b().indexOf("Trident")!=-1||b().indexOf("MSIE")!=-1)&&b().indexOf("Edge")==-1;function D(d,_,T){for(const k in d)_.call(T,d[k],k,d)}function S(d,_){for(const T in d)_.call(void 0,d[T],T,d)}function C(d){const _={};for(const T in d)_[T]=d[T];return _}const I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function A(d,_){let T,k;for(let V=1;V<arguments.length;V++){k=arguments[V];for(T in k)d[T]=k[T];for(let $=0;$<I.length;$++)T=I[$],Object.prototype.hasOwnProperty.call(k,T)&&(d[T]=k[T])}}function M(d){var _=1;d=d.split(":");const T=[];for(;0<_&&d.length;)T.push(d.shift()),_--;return d.length&&T.push(d.join(":")),T}function O(d){a.setTimeout(()=>{throw d},0)}function N(){var d=j;let _=null;return d.g&&(_=d.g,d.g=d.g.next,d.g||(d.h=null),_.next=null),_}class F{constructor(){this.h=this.g=null}add(_,T){const k=Y.get();k.set(_,T),this.h?this.h.next=k:this.g=k,this.h=k}}var Y=new x(()=>new K,d=>d.reset());class K{constructor(){this.next=this.g=this.h=null}set(_,T){this.h=_,this.g=T,this.next=null}reset(){this.next=this.g=this.h=null}}let W,L=!1,j=new F,U=()=>{const d=a.Promise.resolve(void 0);W=()=>{d.then(z)}};var z=()=>{for(var d;d=N();){try{d.h.call(d.g)}catch(T){O(T)}var _=Y;_.j(d),100>_.h&&(_.h++,d.next=_.g,_.g=d)}L=!1};function B(){this.s=this.s,this.C=this.C}B.prototype.s=!1,B.prototype.ma=function(){this.s||(this.s=!0,this.N())},B.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function q(d,_){this.type=d,this.g=this.target=_,this.defaultPrevented=!1}q.prototype.h=function(){this.defaultPrevented=!0};var Z=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var d=!1,_=Object.defineProperty({},"passive",{get:function(){d=!0}});try{const T=()=>{};a.addEventListener("test",T,_),a.removeEventListener("test",T,_)}catch{}return d}();function se(d,_){if(q.call(this,d?d.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,d){var T=this.type=d.type,k=d.changedTouches&&d.changedTouches.length?d.changedTouches[0]:null;if(this.target=d.target||d.srcElement,this.g=_,_=d.relatedTarget){if(R){e:{try{P(_.nodeName);var V=!0;break e}catch{}V=!1}V||(_=null)}}else T=="mouseover"?_=d.fromElement:T=="mouseout"&&(_=d.toElement);this.relatedTarget=_,k?(this.clientX=k.clientX!==void 0?k.clientX:k.pageX,this.clientY=k.clientY!==void 0?k.clientY:k.pageY,this.screenX=k.screenX||0,this.screenY=k.screenY||0):(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0),this.button=d.button,this.key=d.key||"",this.ctrlKey=d.ctrlKey,this.altKey=d.altKey,this.shiftKey=d.shiftKey,this.metaKey=d.metaKey,this.pointerId=d.pointerId||0,this.pointerType=typeof d.pointerType=="string"?d.pointerType:ye[d.pointerType]||"",this.state=d.state,this.i=d,d.defaultPrevented&&se.aa.h.call(this)}}w(se,q);var ye={2:"touch",3:"pen",4:"mouse"};se.prototype.h=function(){se.aa.h.call(this);var d=this.i;d.preventDefault?d.preventDefault():d.returnValue=!1};var J="closure_listenable_"+(1e6*Math.random()|0),re=0;function te(d,_,T,k,V){this.listener=d,this.proxy=null,this.src=_,this.type=T,this.capture=!!k,this.ha=V,this.key=++re,this.da=this.fa=!1}function ee(d){d.da=!0,d.listener=null,d.proxy=null,d.src=null,d.ha=null}function de(d){this.src=d,this.g={},this.h=0}de.prototype.add=function(d,_,T,k,V){var $=d.toString();d=this.g[$],d||(d=this.g[$]=[],this.h++);var X=Ke(d,_,k,V);return-1<X?(_=d[X],T||(_.fa=!1)):(_=new te(_,this.src,$,!!k,V),_.fa=T,d.push(_)),_};function Te(d,_){var T=_.type;if(T in d.g){var k=d.g[T],V=Array.prototype.indexOf.call(k,_,void 0),$;($=0<=V)&&Array.prototype.splice.call(k,V,1),$&&(ee(_),d.g[T].length==0&&(delete d.g[T],d.h--))}}function Ke(d,_,T,k){for(var V=0;V<d.length;++V){var $=d[V];if(!$.da&&$.listener==_&&$.capture==!!T&&$.ha==k)return V}return-1}var st="closure_lm_"+(1e6*Math.random()|0),Lt={};function tr(d,_,T,k,V){if(k&&k.once)return Jr(d,_,T,k,V);if(Array.isArray(_)){for(var $=0;$<_.length;$++)tr(d,_[$],T,k,V);return null}return T=im(T),d&&d[J]?d.K(_,T,c(k)?!!k.capture:!!k,V):Er(d,_,T,!1,k,V)}function Er(d,_,T,k,V,$){if(!_)throw Error("Invalid event type");var X=c(V)?!!V.capture:!!V,Ge=nm(d);if(Ge||(d[st]=Ge=new de(d)),T=Ge.add(_,T,k,X,$),T.proxy)return T;if(k=Cl(),T.proxy=k,k.src=d,k.listener=T,d.addEventListener)Z||(V=X),V===void 0&&(V=!1),d.addEventListener(_.toString(),k,V);else if(d.attachEvent)d.attachEvent(l_(_.toString()),k);else if(d.addListener&&d.removeListener)d.addListener(k);else throw Error("addEventListener and attachEvent are unavailable.");return T}function Cl(){function d(T){return _.call(d.src,d.listener,T)}const _=vO;return d}function Jr(d,_,T,k,V){if(Array.isArray(_)){for(var $=0;$<_.length;$++)Jr(d,_[$],T,k,V);return null}return T=im(T),d&&d[J]?d.L(_,T,c(k)?!!k.capture:!!k,V):Er(d,_,T,!0,k,V)}function $u(d,_,T,k,V){if(Array.isArray(_))for(var $=0;$<_.length;$++)$u(d,_[$],T,k,V);else k=c(k)?!!k.capture:!!k,T=im(T),d&&d[J]?(d=d.i,_=String(_).toString(),_ in d.g&&($=d.g[_],T=Ke($,T,k,V),-1<T&&(ee($[T]),Array.prototype.splice.call($,T,1),$.length==0&&(delete d.g[_],d.h--)))):d&&(d=nm(d))&&(_=d.g[_.toString()],d=-1,_&&(d=Ke(_,T,k,V)),(T=-1<d?_[d]:null)&&Li(T))}function Li(d){if(typeof d!="number"&&d&&!d.da){var _=d.src;if(_&&_[J])Te(_.i,d);else{var T=d.type,k=d.proxy;_.removeEventListener?_.removeEventListener(T,k,d.capture):_.detachEvent?_.detachEvent(l_(T),k):_.addListener&&_.removeListener&&_.removeListener(k),(T=nm(_))?(Te(T,d),T.h==0&&(T.src=null,_[st]=null)):ee(d)}}}function l_(d){return d in Lt?Lt[d]:Lt[d]="on"+d}function vO(d,_){if(d.da)d=!0;else{_=new se(_,this);var T=d.listener,k=d.ha||d.src;d.fa&&Li(d),d=T.call(k,_)}return d}function nm(d){return d=d[st],d instanceof de?d:null}var rm="__closure_events_fn_"+(1e9*Math.random()>>>0);function im(d){return typeof d=="function"?d:(d[rm]||(d[rm]=function(_){return d.handleEvent(_)}),d[rm])}function Kt(){B.call(this),this.i=new de(this),this.M=this,this.F=null}w(Kt,B),Kt.prototype[J]=!0,Kt.prototype.removeEventListener=function(d,_,T,k){$u(this,d,_,T,k)};function un(d,_){var T,k=d.F;if(k)for(T=[];k;k=k.F)T.push(k);if(d=d.M,k=_.type||_,typeof _=="string")_=new q(_,d);else if(_ instanceof q)_.target=_.target||d;else{var V=_;_=new q(k,d),A(_,V)}if(V=!0,T)for(var $=T.length-1;0<=$;$--){var X=_.g=T[$];V=Uu(X,k,!0,_)&&V}if(X=_.g=d,V=Uu(X,k,!0,_)&&V,V=Uu(X,k,!1,_)&&V,T)for($=0;$<T.length;$++)X=_.g=T[$],V=Uu(X,k,!1,_)&&V}Kt.prototype.N=function(){if(Kt.aa.N.call(this),this.i){var d=this.i,_;for(_ in d.g){for(var T=d.g[_],k=0;k<T.length;k++)ee(T[k]);delete d.g[_],d.h--}}this.F=null},Kt.prototype.K=function(d,_,T,k){return this.i.add(String(d),_,!1,T,k)},Kt.prototype.L=function(d,_,T,k){return this.i.add(String(d),_,!0,T,k)};function Uu(d,_,T,k){if(_=d.i.g[String(_)],!_)return!0;_=_.concat();for(var V=!0,$=0;$<_.length;++$){var X=_[$];if(X&&!X.da&&X.capture==T){var Ge=X.listener,$t=X.ha||X.src;X.fa&&Te(d.i,X),V=Ge.call($t,k)!==!1&&V}}return V&&!k.defaultPrevented}function c_(d,_,T){if(typeof d=="function")T&&(d=h(d,T));else if(d&&typeof d.handleEvent=="function")d=h(d.handleEvent,d);else throw Error("Invalid listener argument");return 2147483647<Number(_)?-1:a.setTimeout(d,_||0)}function u_(d){d.g=c_(()=>{d.g=null,d.i&&(d.i=!1,u_(d))},d.l);const _=d.h;d.h=null,d.m.apply(null,_)}class yO extends B{constructor(_,T){super(),this.m=_,this.l=T,this.h=null,this.i=!1,this.g=null}j(_){this.h=arguments,this.g?this.i=!0:u_(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Sl(d){B.call(this),this.h=d,this.g={}}w(Sl,B);var d_=[];function f_(d){D(d.g,function(_,T){this.g.hasOwnProperty(T)&&Li(_)},d),d.g={}}Sl.prototype.N=function(){Sl.aa.N.call(this),f_(this)},Sl.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var om=a.JSON.stringify,wO=a.JSON.parse,_O=class{stringify(d){return a.JSON.stringify(d,void 0)}parse(d){return a.JSON.parse(d,void 0)}};function sm(){}sm.prototype.h=null;function h_(d){return d.h||(d.h=d.i())}function p_(){}var Pl={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function am(){q.call(this,"d")}w(am,q);function lm(){q.call(this,"c")}w(lm,q);var qo={},m_=null;function Bu(){return m_=m_||new Kt}qo.La="serverreachability";function g_(d){q.call(this,qo.La,d)}w(g_,q);function Il(d){const _=Bu();un(_,new g_(_))}qo.STAT_EVENT="statevent";function v_(d,_){q.call(this,qo.STAT_EVENT,d),this.stat=_}w(v_,q);function dn(d){const _=Bu();un(_,new v_(_,d))}qo.Ma="timingevent";function y_(d,_){q.call(this,qo.Ma,d),this.size=_}w(y_,q);function Al(d,_){if(typeof d!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){d()},_)}function kl(){this.g=!0}kl.prototype.xa=function(){this.g=!1};function xO(d,_,T,k,V,$){d.info(function(){if(d.g)if($)for(var X="",Ge=$.split("&"),$t=0;$t<Ge.length;$t++){var Fe=Ge[$t].split("=");if(1<Fe.length){var Qt=Fe[0];Fe=Fe[1];var Xt=Qt.split("_");X=2<=Xt.length&&Xt[1]=="type"?X+(Qt+"="+Fe+"&"):X+(Qt+"=redacted&")}}else X=null;else X=$;return"XMLHTTP REQ ("+k+") [attempt "+V+"]: "+_+`
`+T+`
`+X})}function EO(d,_,T,k,V,$,X){d.info(function(){return"XMLHTTP RESP ("+k+") [ attempt "+V+"]: "+_+`
`+T+`
`+$+" "+X})}function js(d,_,T,k){d.info(function(){return"XMLHTTP TEXT ("+_+"): "+TO(d,T)+(k?" "+k:"")})}function bO(d,_){d.info(function(){return"TIMEOUT: "+_})}kl.prototype.info=function(){};function TO(d,_){if(!d.g)return _;if(!_)return null;try{var T=JSON.parse(_);if(T){for(d=0;d<T.length;d++)if(Array.isArray(T[d])){var k=T[d];if(!(2>k.length)){var V=k[1];if(Array.isArray(V)&&!(1>V.length)){var $=V[0];if($!="noop"&&$!="stop"&&$!="close")for(var X=1;X<V.length;X++)V[X]=""}}}}return om(T)}catch{return _}}var Wu={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},w_={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},cm;function zu(){}w(zu,sm),zu.prototype.g=function(){return new XMLHttpRequest},zu.prototype.i=function(){return{}},cm=new zu;function Vi(d,_,T,k){this.j=d,this.i=_,this.l=T,this.R=k||1,this.U=new Sl(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new __}function __(){this.i=null,this.g="",this.h=!1}var x_={},um={};function dm(d,_,T){d.L=1,d.v=Yu(Zr(_)),d.m=T,d.P=!0,E_(d,null)}function E_(d,_){d.F=Date.now(),Hu(d),d.A=Zr(d.v);var T=d.A,k=d.R;Array.isArray(k)||(k=[String(k)]),L_(T.i,"t",k),d.C=0,T=d.j.J,d.h=new __,d.g=ex(d.j,T?_:null,!d.m),0<d.O&&(d.M=new yO(h(d.Y,d,d.g),d.O)),_=d.U,T=d.g,k=d.ca;var V="readystatechange";Array.isArray(V)||(V&&(d_[0]=V.toString()),V=d_);for(var $=0;$<V.length;$++){var X=tr(T,V[$],k||_.handleEvent,!1,_.h||_);if(!X)break;_.g[X.key]=X}_=d.H?C(d.H):{},d.m?(d.u||(d.u="POST"),_["Content-Type"]="application/x-www-form-urlencoded",d.g.ea(d.A,d.u,d.m,_)):(d.u="GET",d.g.ea(d.A,d.u,null,_)),Il(),xO(d.i,d.u,d.A,d.l,d.R,d.m)}Vi.prototype.ca=function(d){d=d.target;const _=this.M;_&&ei(d)==3?_.j():this.Y(d)},Vi.prototype.Y=function(d){try{if(d==this.g)e:{const Xt=ei(this.g);var _=this.g.Ba();const Us=this.g.Z();if(!(3>Xt)&&(Xt!=3||this.g&&(this.h.h||this.g.oa()||W_(this.g)))){this.J||Xt!=4||_==7||(_==8||0>=Us?Il(3):Il(2)),fm(this);var T=this.g.Z();this.X=T;t:if(b_(this)){var k=W_(this.g);d="";var V=k.length,$=ei(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Go(this),Rl(this);var X="";break t}this.h.i=new a.TextDecoder}for(_=0;_<V;_++)this.h.h=!0,d+=this.h.i.decode(k[_],{stream:!($&&_==V-1)});k.length=0,this.h.g+=d,this.C=0,X=this.h.g}else X=this.g.oa();if(this.o=T==200,EO(this.i,this.u,this.A,this.l,this.R,Xt,T),this.o){if(this.T&&!this.K){t:{if(this.g){var Ge,$t=this.g;if((Ge=$t.g?$t.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!y(Ge)){var Fe=Ge;break t}}Fe=null}if(T=Fe)js(this.i,this.l,T,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,hm(this,T);else{this.o=!1,this.s=3,dn(12),Go(this),Rl(this);break e}}if(this.P){T=!0;let nr;for(;!this.J&&this.C<X.length;)if(nr=CO(this,X),nr==um){Xt==4&&(this.s=4,dn(14),T=!1),js(this.i,this.l,null,"[Incomplete Response]");break}else if(nr==x_){this.s=4,dn(15),js(this.i,this.l,X,"[Invalid Chunk]"),T=!1;break}else js(this.i,this.l,nr,null),hm(this,nr);if(b_(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Xt!=4||X.length!=0||this.h.h||(this.s=1,dn(16),T=!1),this.o=this.o&&T,!T)js(this.i,this.l,X,"[Invalid Chunked Response]"),Go(this),Rl(this);else if(0<X.length&&!this.W){this.W=!0;var Qt=this.j;Qt.g==this&&Qt.ba&&!Qt.M&&(Qt.j.info("Great, no buffering proxy detected. Bytes received: "+X.length),wm(Qt),Qt.M=!0,dn(11))}}else js(this.i,this.l,X,null),hm(this,X);Xt==4&&Go(this),this.o&&!this.J&&(Xt==4?Q_(this.j,this):(this.o=!1,Hu(this)))}else BO(this.g),T==400&&0<X.indexOf("Unknown SID")?(this.s=3,dn(12)):(this.s=0,dn(13)),Go(this),Rl(this)}}}catch{}finally{}};function b_(d){return d.g?d.u=="GET"&&d.L!=2&&d.j.Ca:!1}function CO(d,_){var T=d.C,k=_.indexOf(`
`,T);return k==-1?um:(T=Number(_.substring(T,k)),isNaN(T)?x_:(k+=1,k+T>_.length?um:(_=_.slice(k,k+T),d.C=k+T,_)))}Vi.prototype.cancel=function(){this.J=!0,Go(this)};function Hu(d){d.S=Date.now()+d.I,T_(d,d.I)}function T_(d,_){if(d.B!=null)throw Error("WatchDog timer not null");d.B=Al(h(d.ba,d),_)}function fm(d){d.B&&(a.clearTimeout(d.B),d.B=null)}Vi.prototype.ba=function(){this.B=null;const d=Date.now();0<=d-this.S?(bO(this.i,this.A),this.L!=2&&(Il(),dn(17)),Go(this),this.s=2,Rl(this)):T_(this,this.S-d)};function Rl(d){d.j.G==0||d.J||Q_(d.j,d)}function Go(d){fm(d);var _=d.M;_&&typeof _.ma=="function"&&_.ma(),d.M=null,f_(d.U),d.g&&(_=d.g,d.g=null,_.abort(),_.ma())}function hm(d,_){try{var T=d.j;if(T.G!=0&&(T.g==d||pm(T.h,d))){if(!d.K&&pm(T.h,d)&&T.G==3){try{var k=T.Da.g.parse(_)}catch{k=null}if(Array.isArray(k)&&k.length==3){var V=k;if(V[0]==0){e:if(!T.u){if(T.g)if(T.g.F+3e3<d.F)ed(T),Ju(T);else break e;ym(T),dn(18)}}else T.za=V[1],0<T.za-T.T&&37500>V[2]&&T.F&&T.v==0&&!T.C&&(T.C=Al(h(T.Za,T),6e3));if(1>=P_(T.h)&&T.ca){try{T.ca()}catch{}T.ca=void 0}}else Ko(T,11)}else if((d.K||T.g==d)&&ed(T),!y(_))for(V=T.Da.g.parse(_),_=0;_<V.length;_++){let Fe=V[_];if(T.T=Fe[0],Fe=Fe[1],T.G==2)if(Fe[0]=="c"){T.K=Fe[1],T.ia=Fe[2];const Qt=Fe[3];Qt!=null&&(T.la=Qt,T.j.info("VER="+T.la));const Xt=Fe[4];Xt!=null&&(T.Aa=Xt,T.j.info("SVER="+T.Aa));const Us=Fe[5];Us!=null&&typeof Us=="number"&&0<Us&&(k=1.5*Us,T.L=k,T.j.info("backChannelRequestTimeoutMs_="+k)),k=T;const nr=d.g;if(nr){const nd=nr.g?nr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(nd){var $=k.h;$.g||nd.indexOf("spdy")==-1&&nd.indexOf("quic")==-1&&nd.indexOf("h2")==-1||($.j=$.l,$.g=new Set,$.h&&(mm($,$.h),$.h=null))}if(k.D){const _m=nr.g?nr.g.getResponseHeader("X-HTTP-Session-Id"):null;_m&&(k.ya=_m,et(k.I,k.D,_m))}}T.G=3,T.l&&T.l.ua(),T.ba&&(T.R=Date.now()-d.F,T.j.info("Handshake RTT: "+T.R+"ms")),k=T;var X=d;if(k.qa=Z_(k,k.J?k.ia:null,k.W),X.K){I_(k.h,X);var Ge=X,$t=k.L;$t&&(Ge.I=$t),Ge.B&&(fm(Ge),Hu(Ge)),k.g=X}else Y_(k);0<T.i.length&&Zu(T)}else Fe[0]!="stop"&&Fe[0]!="close"||Ko(T,7);else T.G==3&&(Fe[0]=="stop"||Fe[0]=="close"?Fe[0]=="stop"?Ko(T,7):vm(T):Fe[0]!="noop"&&T.l&&T.l.ta(Fe),T.v=0)}}Il(4)}catch{}}var SO=class{constructor(d,_){this.g=d,this.map=_}};function C_(d){this.l=d||10,a.PerformanceNavigationTiming?(d=a.performance.getEntriesByType("navigation"),d=0<d.length&&(d[0].nextHopProtocol=="hq"||d[0].nextHopProtocol=="h2")):d=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=d?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function S_(d){return d.h?!0:d.g?d.g.size>=d.j:!1}function P_(d){return d.h?1:d.g?d.g.size:0}function pm(d,_){return d.h?d.h==_:d.g?d.g.has(_):!1}function mm(d,_){d.g?d.g.add(_):d.h=_}function I_(d,_){d.h&&d.h==_?d.h=null:d.g&&d.g.has(_)&&d.g.delete(_)}C_.prototype.cancel=function(){if(this.i=A_(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const d of this.g.values())d.cancel();this.g.clear()}};function A_(d){if(d.h!=null)return d.i.concat(d.h.D);if(d.g!=null&&d.g.size!==0){let _=d.i;for(const T of d.g.values())_=_.concat(T.D);return _}return v(d.i)}function PO(d){if(d.V&&typeof d.V=="function")return d.V();if(typeof Map<"u"&&d instanceof Map||typeof Set<"u"&&d instanceof Set)return Array.from(d.values());if(typeof d=="string")return d.split("");if(l(d)){for(var _=[],T=d.length,k=0;k<T;k++)_.push(d[k]);return _}_=[],T=0;for(k in d)_[T++]=d[k];return _}function IO(d){if(d.na&&typeof d.na=="function")return d.na();if(!d.V||typeof d.V!="function"){if(typeof Map<"u"&&d instanceof Map)return Array.from(d.keys());if(!(typeof Set<"u"&&d instanceof Set)){if(l(d)||typeof d=="string"){var _=[];d=d.length;for(var T=0;T<d;T++)_.push(T);return _}_=[],T=0;for(const k in d)_[T++]=k;return _}}}function k_(d,_){if(d.forEach&&typeof d.forEach=="function")d.forEach(_,void 0);else if(l(d)||typeof d=="string")Array.prototype.forEach.call(d,_,void 0);else for(var T=IO(d),k=PO(d),V=k.length,$=0;$<V;$++)_.call(void 0,k[$],T&&T[$],d)}var R_=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function AO(d,_){if(d){d=d.split("&");for(var T=0;T<d.length;T++){var k=d[T].indexOf("="),V=null;if(0<=k){var $=d[T].substring(0,k);V=d[T].substring(k+1)}else $=d[T];_($,V?decodeURIComponent(V.replace(/\+/g," ")):"")}}}function Yo(d){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,d instanceof Yo){this.h=d.h,qu(this,d.j),this.o=d.o,this.g=d.g,Gu(this,d.s),this.l=d.l;var _=d.i,T=new Ml;T.i=_.i,_.g&&(T.g=new Map(_.g),T.h=_.h),N_(this,T),this.m=d.m}else d&&(_=String(d).match(R_))?(this.h=!1,qu(this,_[1]||"",!0),this.o=Nl(_[2]||""),this.g=Nl(_[3]||"",!0),Gu(this,_[4]),this.l=Nl(_[5]||"",!0),N_(this,_[6]||"",!0),this.m=Nl(_[7]||"")):(this.h=!1,this.i=new Ml(null,this.h))}Yo.prototype.toString=function(){var d=[],_=this.j;_&&d.push(Dl(_,D_,!0),":");var T=this.g;return(T||_=="file")&&(d.push("//"),(_=this.o)&&d.push(Dl(_,D_,!0),"@"),d.push(encodeURIComponent(String(T)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),T=this.s,T!=null&&d.push(":",String(T))),(T=this.l)&&(this.g&&T.charAt(0)!="/"&&d.push("/"),d.push(Dl(T,T.charAt(0)=="/"?NO:RO,!0))),(T=this.i.toString())&&d.push("?",T),(T=this.m)&&d.push("#",Dl(T,MO)),d.join("")};function Zr(d){return new Yo(d)}function qu(d,_,T){d.j=T?Nl(_,!0):_,d.j&&(d.j=d.j.replace(/:$/,""))}function Gu(d,_){if(_){if(_=Number(_),isNaN(_)||0>_)throw Error("Bad port number "+_);d.s=_}else d.s=null}function N_(d,_,T){_ instanceof Ml?(d.i=_,OO(d.i,d.h)):(T||(_=Dl(_,DO)),d.i=new Ml(_,d.h))}function et(d,_,T){d.i.set(_,T)}function Yu(d){return et(d,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),d}function Nl(d,_){return d?_?decodeURI(d.replace(/%25/g,"%2525")):decodeURIComponent(d):""}function Dl(d,_,T){return typeof d=="string"?(d=encodeURI(d).replace(_,kO),T&&(d=d.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d):null}function kO(d){return d=d.charCodeAt(0),"%"+(d>>4&15).toString(16)+(d&15).toString(16)}var D_=/[#\/\?@]/g,RO=/[#\?:]/g,NO=/[#\?]/g,DO=/[#\?@]/g,MO=/#/g;function Ml(d,_){this.h=this.g=null,this.i=d||null,this.j=!!_}function ji(d){d.g||(d.g=new Map,d.h=0,d.i&&AO(d.i,function(_,T){d.add(decodeURIComponent(_.replace(/\+/g," ")),T)}))}t=Ml.prototype,t.add=function(d,_){ji(this),this.i=null,d=Fs(this,d);var T=this.g.get(d);return T||this.g.set(d,T=[]),T.push(_),this.h+=1,this};function M_(d,_){ji(d),_=Fs(d,_),d.g.has(_)&&(d.i=null,d.h-=d.g.get(_).length,d.g.delete(_))}function O_(d,_){return ji(d),_=Fs(d,_),d.g.has(_)}t.forEach=function(d,_){ji(this),this.g.forEach(function(T,k){T.forEach(function(V){d.call(_,V,k,this)},this)},this)},t.na=function(){ji(this);const d=Array.from(this.g.values()),_=Array.from(this.g.keys()),T=[];for(let k=0;k<_.length;k++){const V=d[k];for(let $=0;$<V.length;$++)T.push(_[k])}return T},t.V=function(d){ji(this);let _=[];if(typeof d=="string")O_(this,d)&&(_=_.concat(this.g.get(Fs(this,d))));else{d=Array.from(this.g.values());for(let T=0;T<d.length;T++)_=_.concat(d[T])}return _},t.set=function(d,_){return ji(this),this.i=null,d=Fs(this,d),O_(this,d)&&(this.h-=this.g.get(d).length),this.g.set(d,[_]),this.h+=1,this},t.get=function(d,_){return d?(d=this.V(d),0<d.length?String(d[0]):_):_};function L_(d,_,T){M_(d,_),0<T.length&&(d.i=null,d.g.set(Fs(d,_),v(T)),d.h+=T.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const d=[],_=Array.from(this.g.keys());for(var T=0;T<_.length;T++){var k=_[T];const $=encodeURIComponent(String(k)),X=this.V(k);for(k=0;k<X.length;k++){var V=$;X[k]!==""&&(V+="="+encodeURIComponent(String(X[k]))),d.push(V)}}return this.i=d.join("&")};function Fs(d,_){return _=String(_),d.j&&(_=_.toLowerCase()),_}function OO(d,_){_&&!d.j&&(ji(d),d.i=null,d.g.forEach(function(T,k){var V=k.toLowerCase();k!=V&&(M_(this,k),L_(this,V,T))},d)),d.j=_}function LO(d,_){const T=new kl;if(a.Image){const k=new Image;k.onload=g(Fi,T,"TestLoadImage: loaded",!0,_,k),k.onerror=g(Fi,T,"TestLoadImage: error",!1,_,k),k.onabort=g(Fi,T,"TestLoadImage: abort",!1,_,k),k.ontimeout=g(Fi,T,"TestLoadImage: timeout",!1,_,k),a.setTimeout(function(){k.ontimeout&&k.ontimeout()},1e4),k.src=d}else _(!1)}function VO(d,_){const T=new kl,k=new AbortController,V=setTimeout(()=>{k.abort(),Fi(T,"TestPingServer: timeout",!1,_)},1e4);fetch(d,{signal:k.signal}).then($=>{clearTimeout(V),$.ok?Fi(T,"TestPingServer: ok",!0,_):Fi(T,"TestPingServer: server error",!1,_)}).catch(()=>{clearTimeout(V),Fi(T,"TestPingServer: error",!1,_)})}function Fi(d,_,T,k,V){try{V&&(V.onload=null,V.onerror=null,V.onabort=null,V.ontimeout=null),k(T)}catch{}}function jO(){this.g=new _O}function FO(d,_,T){const k=T||"";try{k_(d,function(V,$){let X=V;c(V)&&(X=om(V)),_.push(k+$+"="+encodeURIComponent(X))})}catch(V){throw _.push(k+"type="+encodeURIComponent("_badmap")),V}}function Ku(d){this.l=d.Ub||null,this.j=d.eb||!1}w(Ku,sm),Ku.prototype.g=function(){return new Qu(this.l,this.j)},Ku.prototype.i=function(d){return function(){return d}}({});function Qu(d,_){Kt.call(this),this.D=d,this.o=_,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}w(Qu,Kt),t=Qu.prototype,t.open=function(d,_){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=d,this.A=_,this.readyState=1,Ll(this)},t.send=function(d){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const _={headers:this.u,method:this.B,credentials:this.m,cache:void 0};d&&(_.body=d),(this.D||a).fetch(new Request(this.A,_)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ol(this)),this.readyState=0},t.Sa=function(d){if(this.g&&(this.l=d,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=d.headers,this.readyState=2,Ll(this)),this.g&&(this.readyState=3,Ll(this),this.g)))if(this.responseType==="arraybuffer")d.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in d){if(this.j=d.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;V_(this)}else d.text().then(this.Ra.bind(this),this.ga.bind(this))};function V_(d){d.j.read().then(d.Pa.bind(d)).catch(d.ga.bind(d))}t.Pa=function(d){if(this.g){if(this.o&&d.value)this.response.push(d.value);else if(!this.o){var _=d.value?d.value:new Uint8Array(0);(_=this.v.decode(_,{stream:!d.done}))&&(this.response=this.responseText+=_)}d.done?Ol(this):Ll(this),this.readyState==3&&V_(this)}},t.Ra=function(d){this.g&&(this.response=this.responseText=d,Ol(this))},t.Qa=function(d){this.g&&(this.response=d,Ol(this))},t.ga=function(){this.g&&Ol(this)};function Ol(d){d.readyState=4,d.l=null,d.j=null,d.v=null,Ll(d)}t.setRequestHeader=function(d,_){this.u.append(d,_)},t.getResponseHeader=function(d){return this.h&&this.h.get(d.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const d=[],_=this.h.entries();for(var T=_.next();!T.done;)T=T.value,d.push(T[0]+": "+T[1]),T=_.next();return d.join(`\r
`)};function Ll(d){d.onreadystatechange&&d.onreadystatechange.call(d)}Object.defineProperty(Qu.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(d){this.m=d?"include":"same-origin"}});function j_(d){let _="";return D(d,function(T,k){_+=k,_+=":",_+=T,_+=`\r
`}),_}function gm(d,_,T){e:{for(k in T){var k=!1;break e}k=!0}k||(T=j_(T),typeof d=="string"?T!=null&&encodeURIComponent(String(T)):et(d,_,T))}function gt(d){Kt.call(this),this.headers=new Map,this.o=d||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}w(gt,Kt);var $O=/^https?$/i,UO=["POST","PUT"];t=gt.prototype,t.Ha=function(d){this.J=d},t.ea=function(d,_,T,k){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+d);_=_?_.toUpperCase():"GET",this.D=d,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():cm.g(),this.v=this.o?h_(this.o):h_(cm),this.g.onreadystatechange=h(this.Ea,this);try{this.B=!0,this.g.open(_,String(d),!0),this.B=!1}catch($){F_(this,$);return}if(d=T||"",T=new Map(this.headers),k)if(Object.getPrototypeOf(k)===Object.prototype)for(var V in k)T.set(V,k[V]);else if(typeof k.keys=="function"&&typeof k.get=="function")for(const $ of k.keys())T.set($,k.get($));else throw Error("Unknown input type for opt_headers: "+String(k));k=Array.from(T.keys()).find($=>$.toLowerCase()=="content-type"),V=a.FormData&&d instanceof a.FormData,!(0<=Array.prototype.indexOf.call(UO,_,void 0))||k||V||T.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[$,X]of T)this.g.setRequestHeader($,X);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{B_(this),this.u=!0,this.g.send(d),this.u=!1}catch($){F_(this,$)}};function F_(d,_){d.h=!1,d.g&&(d.j=!0,d.g.abort(),d.j=!1),d.l=_,d.m=5,$_(d),Xu(d)}function $_(d){d.A||(d.A=!0,un(d,"complete"),un(d,"error"))}t.abort=function(d){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=d||7,un(this,"complete"),un(this,"abort"),Xu(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Xu(this,!0)),gt.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?U_(this):this.bb())},t.bb=function(){U_(this)};function U_(d){if(d.h&&typeof s<"u"&&(!d.v[1]||ei(d)!=4||d.Z()!=2)){if(d.u&&ei(d)==4)c_(d.Ea,0,d);else if(un(d,"readystatechange"),ei(d)==4){d.h=!1;try{const X=d.Z();e:switch(X){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var _=!0;break e;default:_=!1}var T;if(!(T=_)){var k;if(k=X===0){var V=String(d.D).match(R_)[1]||null;!V&&a.self&&a.self.location&&(V=a.self.location.protocol.slice(0,-1)),k=!$O.test(V?V.toLowerCase():"")}T=k}if(T)un(d,"complete"),un(d,"success");else{d.m=6;try{var $=2<ei(d)?d.g.statusText:""}catch{$=""}d.l=$+" ["+d.Z()+"]",$_(d)}}finally{Xu(d)}}}}function Xu(d,_){if(d.g){B_(d);const T=d.g,k=d.v[0]?()=>{}:null;d.g=null,d.v=null,_||un(d,"ready");try{T.onreadystatechange=k}catch{}}}function B_(d){d.I&&(a.clearTimeout(d.I),d.I=null)}t.isActive=function(){return!!this.g};function ei(d){return d.g?d.g.readyState:0}t.Z=function(){try{return 2<ei(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(d){if(this.g){var _=this.g.responseText;return d&&_.indexOf(d)==0&&(_=_.substring(d.length)),wO(_)}};function W_(d){try{if(!d.g)return null;if("response"in d.g)return d.g.response;switch(d.H){case"":case"text":return d.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in d.g)return d.g.mozResponseArrayBuffer}return null}catch{return null}}function BO(d){const _={};d=(d.g&&2<=ei(d)&&d.g.getAllResponseHeaders()||"").split(`\r
`);for(let k=0;k<d.length;k++){if(y(d[k]))continue;var T=M(d[k]);const V=T[0];if(T=T[1],typeof T!="string")continue;T=T.trim();const $=_[V]||[];_[V]=$,$.push(T)}S(_,function(k){return k.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Vl(d,_,T){return T&&T.internalChannelParams&&T.internalChannelParams[d]||_}function z_(d){this.Aa=0,this.i=[],this.j=new kl,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Vl("failFast",!1,d),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Vl("baseRetryDelayMs",5e3,d),this.cb=Vl("retryDelaySeedMs",1e4,d),this.Wa=Vl("forwardChannelMaxRetries",2,d),this.wa=Vl("forwardChannelRequestTimeoutMs",2e4,d),this.pa=d&&d.xmlHttpFactory||void 0,this.Xa=d&&d.Tb||void 0,this.Ca=d&&d.useFetchStreams||!1,this.L=void 0,this.J=d&&d.supportsCrossDomainXhr||!1,this.K="",this.h=new C_(d&&d.concurrentRequestLimit),this.Da=new jO,this.P=d&&d.fastHandshake||!1,this.O=d&&d.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=d&&d.Rb||!1,d&&d.xa&&this.j.xa(),d&&d.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&d&&d.detectBufferingProxy||!1,this.ja=void 0,d&&d.longPollingTimeout&&0<d.longPollingTimeout&&(this.ja=d.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=z_.prototype,t.la=8,t.G=1,t.connect=function(d,_,T,k){dn(0),this.W=d,this.H=_||{},T&&k!==void 0&&(this.H.OSID=T,this.H.OAID=k),this.F=this.X,this.I=Z_(this,null,this.W),Zu(this)};function vm(d){if(H_(d),d.G==3){var _=d.U++,T=Zr(d.I);if(et(T,"SID",d.K),et(T,"RID",_),et(T,"TYPE","terminate"),jl(d,T),_=new Vi(d,d.j,_),_.L=2,_.v=Yu(Zr(T)),T=!1,a.navigator&&a.navigator.sendBeacon)try{T=a.navigator.sendBeacon(_.v.toString(),"")}catch{}!T&&a.Image&&(new Image().src=_.v,T=!0),T||(_.g=ex(_.j,null),_.g.ea(_.v)),_.F=Date.now(),Hu(_)}J_(d)}function Ju(d){d.g&&(wm(d),d.g.cancel(),d.g=null)}function H_(d){Ju(d),d.u&&(a.clearTimeout(d.u),d.u=null),ed(d),d.h.cancel(),d.s&&(typeof d.s=="number"&&a.clearTimeout(d.s),d.s=null)}function Zu(d){if(!S_(d.h)&&!d.s){d.s=!0;var _=d.Ga;W||U(),L||(W(),L=!0),j.add(_,d),d.B=0}}function WO(d,_){return P_(d.h)>=d.h.j-(d.s?1:0)?!1:d.s?(d.i=_.D.concat(d.i),!0):d.G==1||d.G==2||d.B>=(d.Va?0:d.Wa)?!1:(d.s=Al(h(d.Ga,d,_),X_(d,d.B)),d.B++,!0)}t.Ga=function(d){if(this.s)if(this.s=null,this.G==1){if(!d){this.U=Math.floor(1e5*Math.random()),d=this.U++;const V=new Vi(this,this.j,d);let $=this.o;if(this.S&&($?($=C($),A($,this.S)):$=this.S),this.m!==null||this.O||(V.H=$,$=null),this.P)e:{for(var _=0,T=0;T<this.i.length;T++){t:{var k=this.i[T];if("__data__"in k.map&&(k=k.map.__data__,typeof k=="string")){k=k.length;break t}k=void 0}if(k===void 0)break;if(_+=k,4096<_){_=T;break e}if(_===4096||T===this.i.length-1){_=T+1;break e}}_=1e3}else _=1e3;_=G_(this,V,_),T=Zr(this.I),et(T,"RID",d),et(T,"CVER",22),this.D&&et(T,"X-HTTP-Session-Id",this.D),jl(this,T),$&&(this.O?_="headers="+encodeURIComponent(String(j_($)))+"&"+_:this.m&&gm(T,this.m,$)),mm(this.h,V),this.Ua&&et(T,"TYPE","init"),this.P?(et(T,"$req",_),et(T,"SID","null"),V.T=!0,dm(V,T,null)):dm(V,T,_),this.G=2}}else this.G==3&&(d?q_(this,d):this.i.length==0||S_(this.h)||q_(this))};function q_(d,_){var T;_?T=_.l:T=d.U++;const k=Zr(d.I);et(k,"SID",d.K),et(k,"RID",T),et(k,"AID",d.T),jl(d,k),d.m&&d.o&&gm(k,d.m,d.o),T=new Vi(d,d.j,T,d.B+1),d.m===null&&(T.H=d.o),_&&(d.i=_.D.concat(d.i)),_=G_(d,T,1e3),T.I=Math.round(.5*d.wa)+Math.round(.5*d.wa*Math.random()),mm(d.h,T),dm(T,k,_)}function jl(d,_){d.H&&D(d.H,function(T,k){et(_,k,T)}),d.l&&k_({},function(T,k){et(_,k,T)})}function G_(d,_,T){T=Math.min(d.i.length,T);var k=d.l?h(d.l.Na,d.l,d):null;e:{var V=d.i;let $=-1;for(;;){const X=["count="+T];$==-1?0<T?($=V[0].g,X.push("ofs="+$)):$=0:X.push("ofs="+$);let Ge=!0;for(let $t=0;$t<T;$t++){let Fe=V[$t].g;const Qt=V[$t].map;if(Fe-=$,0>Fe)$=Math.max(0,V[$t].g-100),Ge=!1;else try{FO(Qt,X,"req"+Fe+"_")}catch{k&&k(Qt)}}if(Ge){k=X.join("&");break e}}}return d=d.i.splice(0,T),_.D=d,k}function Y_(d){if(!d.g&&!d.u){d.Y=1;var _=d.Fa;W||U(),L||(W(),L=!0),j.add(_,d),d.v=0}}function ym(d){return d.g||d.u||3<=d.v?!1:(d.Y++,d.u=Al(h(d.Fa,d),X_(d,d.v)),d.v++,!0)}t.Fa=function(){if(this.u=null,K_(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var d=2*this.R;this.j.info("BP detection timer enabled: "+d),this.A=Al(h(this.ab,this),d)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,dn(10),Ju(this),K_(this))};function wm(d){d.A!=null&&(a.clearTimeout(d.A),d.A=null)}function K_(d){d.g=new Vi(d,d.j,"rpc",d.Y),d.m===null&&(d.g.H=d.o),d.g.O=0;var _=Zr(d.qa);et(_,"RID","rpc"),et(_,"SID",d.K),et(_,"AID",d.T),et(_,"CI",d.F?"0":"1"),!d.F&&d.ja&&et(_,"TO",d.ja),et(_,"TYPE","xmlhttp"),jl(d,_),d.m&&d.o&&gm(_,d.m,d.o),d.L&&(d.g.I=d.L);var T=d.g;d=d.ia,T.L=1,T.v=Yu(Zr(_)),T.m=null,T.P=!0,E_(T,d)}t.Za=function(){this.C!=null&&(this.C=null,Ju(this),ym(this),dn(19))};function ed(d){d.C!=null&&(a.clearTimeout(d.C),d.C=null)}function Q_(d,_){var T=null;if(d.g==_){ed(d),wm(d),d.g=null;var k=2}else if(pm(d.h,_))T=_.D,I_(d.h,_),k=1;else return;if(d.G!=0){if(_.o)if(k==1){T=_.m?_.m.length:0,_=Date.now()-_.F;var V=d.B;k=Bu(),un(k,new y_(k,T)),Zu(d)}else Y_(d);else if(V=_.s,V==3||V==0&&0<_.X||!(k==1&&WO(d,_)||k==2&&ym(d)))switch(T&&0<T.length&&(_=d.h,_.i=_.i.concat(T)),V){case 1:Ko(d,5);break;case 4:Ko(d,10);break;case 3:Ko(d,6);break;default:Ko(d,2)}}}function X_(d,_){let T=d.Ta+Math.floor(Math.random()*d.cb);return d.isActive()||(T*=2),T*_}function Ko(d,_){if(d.j.info("Error code "+_),_==2){var T=h(d.fb,d),k=d.Xa;const V=!k;k=new Yo(k||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||qu(k,"https"),Yu(k),V?LO(k.toString(),T):VO(k.toString(),T)}else dn(2);d.G=0,d.l&&d.l.sa(_),J_(d),H_(d)}t.fb=function(d){d?(this.j.info("Successfully pinged google.com"),dn(2)):(this.j.info("Failed to ping google.com"),dn(1))};function J_(d){if(d.G=0,d.ka=[],d.l){const _=A_(d.h);(_.length!=0||d.i.length!=0)&&(E(d.ka,_),E(d.ka,d.i),d.h.i.length=0,v(d.i),d.i.length=0),d.l.ra()}}function Z_(d,_,T){var k=T instanceof Yo?Zr(T):new Yo(T);if(k.g!="")_&&(k.g=_+"."+k.g),Gu(k,k.s);else{var V=a.location;k=V.protocol,_=_?_+"."+V.hostname:V.hostname,V=+V.port;var $=new Yo(null);k&&qu($,k),_&&($.g=_),V&&Gu($,V),T&&($.l=T),k=$}return T=d.D,_=d.ya,T&&_&&et(k,T,_),et(k,"VER",d.la),jl(d,k),k}function ex(d,_,T){if(_&&!d.J)throw Error("Can't create secondary domain capable XhrIo object.");return _=d.Ca&&!d.pa?new gt(new Ku({eb:T})):new gt(d.pa),_.Ha(d.J),_}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function tx(){}t=tx.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function td(){}td.prototype.g=function(d,_){return new kn(d,_)};function kn(d,_){Kt.call(this),this.g=new z_(_),this.l=d,this.h=_&&_.messageUrlParams||null,d=_&&_.messageHeaders||null,_&&_.clientProtocolHeaderRequired&&(d?d["X-Client-Protocol"]="webchannel":d={"X-Client-Protocol":"webchannel"}),this.g.o=d,d=_&&_.initMessageHeaders||null,_&&_.messageContentType&&(d?d["X-WebChannel-Content-Type"]=_.messageContentType:d={"X-WebChannel-Content-Type":_.messageContentType}),_&&_.va&&(d?d["X-WebChannel-Client-Profile"]=_.va:d={"X-WebChannel-Client-Profile":_.va}),this.g.S=d,(d=_&&_.Sb)&&!y(d)&&(this.g.m=d),this.v=_&&_.supportsCrossDomainXhr||!1,this.u=_&&_.sendRawJson||!1,(_=_&&_.httpSessionIdParam)&&!y(_)&&(this.g.D=_,d=this.h,d!==null&&_ in d&&(d=this.h,_ in d&&delete d[_])),this.j=new $s(this)}w(kn,Kt),kn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},kn.prototype.close=function(){vm(this.g)},kn.prototype.o=function(d){var _=this.g;if(typeof d=="string"){var T={};T.__data__=d,d=T}else this.u&&(T={},T.__data__=om(d),d=T);_.i.push(new SO(_.Ya++,d)),_.G==3&&Zu(_)},kn.prototype.N=function(){this.g.l=null,delete this.j,vm(this.g),delete this.g,kn.aa.N.call(this)};function nx(d){am.call(this),d.__headers__&&(this.headers=d.__headers__,this.statusCode=d.__status__,delete d.__headers__,delete d.__status__);var _=d.__sm__;if(_){e:{for(const T in _){d=T;break e}d=void 0}(this.i=d)&&(d=this.i,_=_!==null&&d in _?_[d]:void 0),this.data=_}else this.data=d}w(nx,am);function rx(){lm.call(this),this.status=1}w(rx,lm);function $s(d){this.g=d}w($s,tx),$s.prototype.ua=function(){un(this.g,"a")},$s.prototype.ta=function(d){un(this.g,new nx(d))},$s.prototype.sa=function(d){un(this.g,new rx)},$s.prototype.ra=function(){un(this.g,"b")},td.prototype.createWebChannel=td.prototype.g,kn.prototype.send=kn.prototype.o,kn.prototype.open=kn.prototype.m,kn.prototype.close=kn.prototype.close,XI=function(){return new td},QI=function(){return Bu()},KI=qo,qv={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Wu.NO_ERROR=0,Wu.TIMEOUT=8,Wu.HTTP_ERROR=6,ef=Wu,w_.COMPLETE="complete",YI=w_,p_.EventType=Pl,Pl.OPEN="a",Pl.CLOSE="b",Pl.ERROR="c",Pl.MESSAGE="d",Kt.prototype.listen=Kt.prototype.K,oc=p_,gt.prototype.listenOnce=gt.prototype.L,gt.prototype.getLastError=gt.prototype.Ka,gt.prototype.getLastErrorCode=gt.prototype.Ba,gt.prototype.getStatus=gt.prototype.Z,gt.prototype.getResponseJson=gt.prototype.Oa,gt.prototype.getResponseText=gt.prototype.oa,gt.prototype.send=gt.prototype.ea,gt.prototype.setWithCredentials=gt.prototype.Ha,GI=gt}).apply(typeof _d<"u"?_d:typeof self<"u"?self:typeof window<"u"?window:{});const RE="@firebase/firestore",NE="4.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let nn=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};nn.UNAUTHENTICATED=new nn(null),nn.GOOGLE_CREDENTIALS=new nn("google-credentials-uid"),nn.FIRST_PARTY=new nn("first-party-uid"),nn.MOCK_USER=new nn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ml="12.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _s=new H0("@firebase/firestore");function Js(){return _s.logLevel}function ie(t,...e){if(_s.logLevel<=Ae.DEBUG){const n=e.map(Y0);_s.debug(`Firestore (${ml}): ${t}`,...n)}}function xi(t,...e){if(_s.logLevel<=Ae.ERROR){const n=e.map(Y0);_s.error(`Firestore (${ml}): ${t}`,...n)}}function za(t,...e){if(_s.logLevel<=Ae.WARN){const n=e.map(Y0);_s.warn(`Firestore (${ml}): ${t}`,...n)}}function Y0(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function me(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,JI(t,r,n)}function JI(t,e,n){let r=`FIRESTORE (${ml}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw xi(r),new Error(r)}function We(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||JI(e,i,r)}function Ee(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ce extends Mi{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fi{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZI{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class o3{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(nn.UNAUTHENTICATED))}shutdown(){}}class s3{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class a3{constructor(e){this.t=e,this.currentUser=nn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){We(this.o===void 0,42304);let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let o=new fi;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new fi,e.enqueueRetryable(()=>i(this.currentUser))};const s=()=>{const l=o;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{ie("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(ie("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new fi)}},0),s()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(ie("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(We(typeof r.accessToken=="string",31837,{l:r}),new ZI(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return We(e===null||typeof e=="string",2055,{h:e}),new nn(e)}}class l3{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=nn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class c3{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new l3(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(nn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class DE{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class u3{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Dn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){We(this.o===void 0,3512);const r=o=>{o.error!=null&&ie("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const s=o.token!==this.m;return this.m=o.token,ie("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const i=o=>{ie("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){const o=this.V.getImmediate({optional:!0});o?i(o):ie("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new DE(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(We(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new DE(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d3(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K0{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=d3(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%62))}return r}}function ke(t,e){return t<e?-1:t>e?1:0}function Gv(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const i=t.charAt(r),o=e.charAt(r);if(i!==o)return Zm(i)===Zm(o)?ke(i,o):Zm(i)?1:-1}return ke(t.length,e.length)}const f3=55296,h3=57343;function Zm(t){const e=t.charCodeAt(0);return e>=f3&&e<=h3}function Ha(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ME="__name__";class Cr{constructor(e,n,r){n===void 0?n=0:n>e.length&&me(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&me(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Cr.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Cr?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const o=Cr.compareSegments(e.get(i),n.get(i));if(o!==0)return o}return ke(e.length,n.length)}static compareSegments(e,n){const r=Cr.isNumericId(e),i=Cr.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?Cr.extractNumericId(e).compare(Cr.extractNumericId(n)):Gv(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return wo.fromString(e.substring(4,e.length-2))}}class rt extends Cr{construct(e,n,r){return new rt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new ce(G.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new rt(n)}static emptyPath(){return new rt([])}}const p3=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class zt extends Cr{construct(e,n,r){return new zt(e,n,r)}static isValidIdentifier(e){return p3.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),zt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===ME}static keyField(){return new zt([ME])}static fromServerFormat(e){const n=[];let r="",i=0;const o=()=>{if(r.length===0)throw new ce(G.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let s=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new ce(G.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new ce(G.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(s=!s,i++):a!=="."||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new ce(G.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new zt(n)}static emptyPath(){return new zt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class he{constructor(e){this.path=e}static fromPath(e){return new he(rt.fromString(e))}static fromName(e){return new he(rt.fromString(e).popFirst(5))}static empty(){return new he(rt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&rt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return rt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new he(new rt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eA(t,e,n){if(!n)throw new ce(G.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function m3(t,e,n,r){if(e===!0&&r===!0)throw new ce(G.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function OE(t){if(!he.isDocumentKey(t))throw new ce(G.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function LE(t){if(he.isDocumentKey(t))throw new ce(G.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function tA(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function Q0(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":me(12329,{type:typeof t})}function pr(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ce(G.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Q0(t);throw new ce(G.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pt(t,e){const n={typeString:t};return e&&(n.value=e),n}function _u(t,e){if(!tA(t))throw new ce(G.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const i=e[r].typeString,o="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const s=t[r];if(i&&typeof s!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(o!==void 0&&s!==o.value){n=`Expected '${r}' field to equal '${o.value}'`;break}}if(n)throw new ce(G.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VE=-62135596800,jE=1e6;class it{static now(){return it.fromMillis(Date.now())}static fromDate(e){return it.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*jE);return new it(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ce(G.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ce(G.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<VE)throw new ce(G.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ce(G.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/jE}_compareTo(e){return this.seconds===e.seconds?ke(this.nanoseconds,e.nanoseconds):ke(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:it._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(_u(e,it._jsonSchema))return new it(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-VE;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}it._jsonSchemaVersion="firestore/timestamp/1.0",it._jsonSchema={type:Pt("string",it._jsonSchemaVersion),seconds:Pt("number"),nanoseconds:Pt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class we{static fromTimestamp(e){return new we(e)}static min(){return new we(new it(0,0))}static max(){return new we(new it(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xc=-1;function g3(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=we.fromTimestamp(r===1e9?new it(n+1,0):new it(n,r));return new Po(i,he.empty(),e)}function v3(t){return new Po(t.readTime,t.key,Xc)}class Po{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Po(we.min(),he.empty(),Xc)}static max(){return new Po(we.max(),he.empty(),Xc)}}function y3(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=he.comparator(t.documentKey,e.documentKey),n!==0?n:ke(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w3="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class _3{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gl(t){if(t.code!==G.FAILED_PRECONDITION||t.message!==w3)throw t;ie("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&me(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new H((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof H?n:H.resolve(n)}catch(n){return H.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):H.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):H.reject(n)}static resolve(e){return new H((n,r)=>{n(e)})}static reject(e){return new H((n,r)=>{r(e)})}static waitFor(e){return new H((n,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&n()},l=>r(l))}),s=!0,o===i&&n()})}static or(e){let n=H.resolve(!1);for(const r of e)n=n.next(i=>i?H.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(e,n){return new H((r,i)=>{const o=e.length,s=new Array(o);let a=0;for(let l=0;l<o;l++){const c=l;n(e[c]).next(u=>{s[c]=u,++a,a===o&&r(s)},u=>i(u))}})}static doWhile(e,n){return new H((r,i)=>{const o=()=>{e()===!0?n().next(()=>{o()},i):r()};o()})}}function x3(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function vl(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ap{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}ap.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X0=-1;function lp(t){return t==null}function Kf(t){return t===0&&1/t==-1/0}function E3(t){return typeof t=="number"&&Number.isInteger(t)&&!Kf(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nA="";function b3(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=FE(e)),e=T3(t.get(n),e);return FE(e)}function T3(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const o=t.charAt(i);switch(o){case"\0":n+="";break;case nA:n+="";break;default:n+=o}}return n}function FE(t){return t+nA+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $E(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Uo(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function rA(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mt{constructor(e,n){this.comparator=e,this.root=n||Wt.EMPTY}insert(e,n){return new mt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Wt.BLACK,null,null))}remove(e){return new mt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Wt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new xd(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new xd(this.root,e,this.comparator,!1)}getReverseIterator(){return new xd(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new xd(this.root,e,this.comparator,!0)}}class xd{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Wt{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??Wt.RED,this.left=i??Wt.EMPTY,this.right=o??Wt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new Wt(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Wt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Wt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Wt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Wt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw me(43730,{key:this.key,value:this.value});if(this.right.isRed())throw me(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw me(27949);return e+(this.isRed()?0:1)}}Wt.EMPTY=null,Wt.RED=!0,Wt.BLACK=!1;Wt.EMPTY=new class{constructor(){this.size=0}get key(){throw me(57766)}get value(){throw me(16141)}get color(){throw me(16727)}get left(){throw me(29726)}get right(){throw me(36894)}copy(e,n,r,i,o){return this}insert(e,n,r){return new Wt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mt{constructor(e){this.comparator=e,this.data=new mt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new UE(this.data.getIterator())}getIteratorFrom(e){return new UE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Mt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Mt(this.comparator);return n.data=e,n}}class UE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class On{constructor(e){this.fields=e,e.sort(zt.comparator)}static empty(){return new On([])}unionWith(e){let n=new Mt(zt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new On(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Ha(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iA extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new iA("Invalid base64 string: "+o):o}}(e);return new Yt(n)}static fromUint8Array(e){const n=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new Yt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ke(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Yt.EMPTY_BYTE_STRING=new Yt("");const C3=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Io(t){if(We(!!t,39018),typeof t=="string"){let e=0;const n=C3.exec(t);if(We(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:_t(t.seconds),nanos:_t(t.nanos)}}function _t(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Ao(t){return typeof t=="string"?Yt.fromBase64String(t):Yt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oA="server_timestamp",sA="__type__",aA="__previous_value__",lA="__local_write_time__";function J0(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[sA])==null?void 0:r.stringValue)===oA}function cp(t){const e=t.mapValue.fields[aA];return J0(e)?cp(e):e}function Jc(t){const e=Io(t.mapValue.fields[lA].timestampValue);return new it(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S3{constructor(e,n,r,i,o,s,a,l,c,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=c,this.isUsingEmulator=u}}const Qf="(default)";class Zc{constructor(e,n){this.projectId=e,this.database=n||Qf}static empty(){return new Zc("","")}get isDefaultDatabase(){return this.database===Qf}isEqual(e){return e instanceof Zc&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cA="__type__",uA="__max__",Ed={mapValue:{fields:{__type__:{stringValue:uA}}}},dA="__vector__",Xf="value";function ko(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?J0(t)?4:I3(t)?9007199254740991:P3(t)?10:11:me(28295,{value:t})}function Wr(t,e){if(t===e)return!0;const n=ko(t);if(n!==ko(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Jc(t).isEqual(Jc(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;const s=Io(i.timestampValue),a=Io(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,o){return Ao(i.bytesValue).isEqual(Ao(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,o){return _t(i.geoPointValue.latitude)===_t(o.geoPointValue.latitude)&&_t(i.geoPointValue.longitude)===_t(o.geoPointValue.longitude)}(t,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return _t(i.integerValue)===_t(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){const s=_t(i.doubleValue),a=_t(o.doubleValue);return s===a?Kf(s)===Kf(a):isNaN(s)&&isNaN(a)}return!1}(t,e);case 9:return Ha(t.arrayValue.values||[],e.arrayValue.values||[],Wr);case 10:case 11:return function(i,o){const s=i.mapValue.fields||{},a=o.mapValue.fields||{};if($E(s)!==$E(a))return!1;for(const l in s)if(s.hasOwnProperty(l)&&(a[l]===void 0||!Wr(s[l],a[l])))return!1;return!0}(t,e);default:return me(52216,{left:t})}}function eu(t,e){return(t.values||[]).find(n=>Wr(n,e))!==void 0}function qa(t,e){if(t===e)return 0;const n=ko(t),r=ko(e);if(n!==r)return ke(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ke(t.booleanValue,e.booleanValue);case 2:return function(o,s){const a=_t(o.integerValue||o.doubleValue),l=_t(s.integerValue||s.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return BE(t.timestampValue,e.timestampValue);case 4:return BE(Jc(t),Jc(e));case 5:return Gv(t.stringValue,e.stringValue);case 6:return function(o,s){const a=Ao(o),l=Ao(s);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(o,s){const a=o.split("/"),l=s.split("/");for(let c=0;c<a.length&&c<l.length;c++){const u=ke(a[c],l[c]);if(u!==0)return u}return ke(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,s){const a=ke(_t(o.latitude),_t(s.latitude));return a!==0?a:ke(_t(o.longitude),_t(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return WE(t.arrayValue,e.arrayValue);case 10:return function(o,s){var h,g,w,v;const a=o.fields||{},l=s.fields||{},c=(h=a[Xf])==null?void 0:h.arrayValue,u=(g=l[Xf])==null?void 0:g.arrayValue,f=ke(((w=c==null?void 0:c.values)==null?void 0:w.length)||0,((v=u==null?void 0:u.values)==null?void 0:v.length)||0);return f!==0?f:WE(c,u)}(t.mapValue,e.mapValue);case 11:return function(o,s){if(o===Ed.mapValue&&s===Ed.mapValue)return 0;if(o===Ed.mapValue)return 1;if(s===Ed.mapValue)return-1;const a=o.fields||{},l=Object.keys(a),c=s.fields||{},u=Object.keys(c);l.sort(),u.sort();for(let f=0;f<l.length&&f<u.length;++f){const h=Gv(l[f],u[f]);if(h!==0)return h;const g=qa(a[l[f]],c[u[f]]);if(g!==0)return g}return ke(l.length,u.length)}(t.mapValue,e.mapValue);default:throw me(23264,{he:n})}}function BE(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ke(t,e);const n=Io(t),r=Io(e),i=ke(n.seconds,r.seconds);return i!==0?i:ke(n.nanos,r.nanos)}function WE(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const o=qa(n[i],r[i]);if(o)return o}return ke(n.length,r.length)}function Ga(t){return Yv(t)}function Yv(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Io(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Ao(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return he.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const o of n.values||[])i?i=!1:r+=",",r+=Yv(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",o=!0;for(const s of r)o?o=!1:i+=",",i+=`${s}:${Yv(n.fields[s])}`;return i+"}"}(t.mapValue):me(61005,{value:t})}function tf(t){switch(ko(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=cp(t);return e?16+tf(e):16;case 5:return 2*t.stringValue.length;case 6:return Ao(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,o)=>i+tf(o),0)}(t.arrayValue);case 10:case 11:return function(r){let i=0;return Uo(r.fields,(o,s)=>{i+=o.length+tf(s)}),i}(t.mapValue);default:throw me(13486,{value:t})}}function Kv(t){return!!t&&"integerValue"in t}function Z0(t){return!!t&&"arrayValue"in t}function zE(t){return!!t&&"nullValue"in t}function HE(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function nf(t){return!!t&&"mapValue"in t}function P3(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[cA])==null?void 0:r.stringValue)===dA}function _c(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return Uo(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=_c(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=_c(t.arrayValue.values[n]);return e}return{...t}}function I3(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===uA}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xn{constructor(e){this.value=e}static empty(){return new xn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!nf(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=_c(n)}setAll(e){let n=zt.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}s?r[a.lastSegment()]=_c(s):i.push(a.lastSegment())});const o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){const n=this.field(e.popLast());nf(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Wr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];nf(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Uo(n,(i,o)=>e[i]=o);for(const i of r)delete e[i]}clone(){return new xn(_c(this.value))}}function fA(t){const e=[];return Uo(t.fields,(n,r)=>{const i=new zt([n]);if(nf(r)){const o=fA(r.mapValue).fields;if(o.length===0)e.push(i);else for(const s of o)e.push(i.child(s))}else e.push(i)}),new On(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class on{constructor(e,n,r,i,o,s,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new on(e,0,we.min(),we.min(),we.min(),xn.empty(),0)}static newFoundDocument(e,n,r,i){return new on(e,1,n,we.min(),r,i,0)}static newNoDocument(e,n){return new on(e,2,n,we.min(),we.min(),xn.empty(),0)}static newUnknownDocument(e,n){return new on(e,3,n,we.min(),we.min(),xn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(we.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=xn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=xn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=we.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof on&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new on(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jf{constructor(e,n){this.position=e,this.inclusive=n}}function qE(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const o=e[i],s=t.position[i];if(o.field.isKeyField()?r=he.comparator(he.fromName(s.referenceValue),n.key):r=qa(s,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function GE(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Wr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zf{constructor(e,n="asc"){this.field=e,this.dir=n}}function A3(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hA{}class Nt extends hA{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new R3(e,n,r):n==="array-contains"?new M3(e,r):n==="in"?new O3(e,r):n==="not-in"?new L3(e,r):n==="array-contains-any"?new V3(e,r):new Nt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new N3(e,r):new D3(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(qa(n,this.value)):n!==null&&ko(this.value)===ko(n)&&this.matchesComparison(qa(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return me(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class zr extends hA{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new zr(e,n)}matches(e){return pA(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function pA(t){return t.op==="and"}function mA(t){return k3(t)&&pA(t)}function k3(t){for(const e of t.filters)if(e instanceof zr)return!1;return!0}function Qv(t){if(t instanceof Nt)return t.field.canonicalString()+t.op.toString()+Ga(t.value);if(mA(t))return t.filters.map(e=>Qv(e)).join(",");{const e=t.filters.map(n=>Qv(n)).join(",");return`${t.op}(${e})`}}function gA(t,e){return t instanceof Nt?function(r,i){return i instanceof Nt&&r.op===i.op&&r.field.isEqual(i.field)&&Wr(r.value,i.value)}(t,e):t instanceof zr?function(r,i){return i instanceof zr&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,a)=>o&&gA(s,i.filters[a]),!0):!1}(t,e):void me(19439)}function vA(t){return t instanceof Nt?function(n){return`${n.field.canonicalString()} ${n.op} ${Ga(n.value)}`}(t):t instanceof zr?function(n){return n.op.toString()+" {"+n.getFilters().map(vA).join(" ,")+"}"}(t):"Filter"}class R3 extends Nt{constructor(e,n,r){super(e,n,r),this.key=he.fromName(r.referenceValue)}matches(e){const n=he.comparator(e.key,this.key);return this.matchesComparison(n)}}class N3 extends Nt{constructor(e,n){super(e,"in",n),this.keys=yA("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class D3 extends Nt{constructor(e,n){super(e,"not-in",n),this.keys=yA("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function yA(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map(r=>he.fromName(r.referenceValue))}class M3 extends Nt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Z0(n)&&eu(n.arrayValue,this.value)}}class O3 extends Nt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&eu(this.value.arrayValue,n)}}class L3 extends Nt{constructor(e,n){super(e,"not-in",n)}matches(e){if(eu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!eu(this.value.arrayValue,n)}}class V3 extends Nt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Z0(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>eu(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j3{constructor(e,n=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.Te=null}}function YE(t,e=null,n=[],r=[],i=null,o=null,s=null){return new j3(t,e,n,r,i,o,s)}function ew(t){const e=Ee(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Qv(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),lp(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Ga(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Ga(r)).join(",")),e.Te=n}return e.Te}function tw(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!A3(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!gA(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!GE(t.startAt,e.startAt)&&GE(t.endAt,e.endAt)}function Xv(t){return he.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class up{constructor(e,n=null,r=[],i=[],o=null,s="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=l,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function F3(t,e,n,r,i,o,s,a){return new up(t,e,n,r,i,o,s,a)}function nw(t){return new up(t)}function KE(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function $3(t){return t.collectionGroup!==null}function xc(t){const e=Ee(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const o of e.explicitOrderBy)e.Ie.push(o),n.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new Mt(zt.comparator);return s.filters.forEach(l=>{l.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.Ie.push(new Zf(o,r))}),n.has(zt.keyField().canonicalString())||e.Ie.push(new Zf(zt.keyField(),r))}return e.Ie}function Mr(t){const e=Ee(t);return e.Ee||(e.Ee=U3(e,xc(t))),e.Ee}function U3(t,e){if(t.limitType==="F")return YE(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const o=i.dir==="desc"?"asc":"desc";return new Zf(i.field,o)});const n=t.endAt?new Jf(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Jf(t.startAt.position,t.startAt.inclusive):null;return YE(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Jv(t,e,n){return new up(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function dp(t,e){return tw(Mr(t),Mr(e))&&t.limitType===e.limitType}function wA(t){return`${ew(Mr(t))}|lt:${t.limitType}`}function Zs(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>vA(i)).join(", ")}]`),lp(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Ga(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Ga(i)).join(",")),`Target(${r})`}(Mr(t))}; limitType=${t.limitType})`}function fp(t,e){return e.isFoundDocument()&&function(r,i){const o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):he.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(t,e)&&function(r,i){for(const o of xc(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const o of r.filters)if(!o.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(s,a,l){const c=qE(s,a,l);return s.inclusive?c<=0:c<0}(r.startAt,xc(r),i)||r.endAt&&!function(s,a,l){const c=qE(s,a,l);return s.inclusive?c>=0:c>0}(r.endAt,xc(r),i))}(t,e)}function B3(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function _A(t){return(e,n)=>{let r=!1;for(const i of xc(t)){const o=W3(i,e,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function W3(t,e,n){const r=t.field.isKeyField()?he.comparator(e.key,n.key):function(o,s,a){const l=s.data.field(o),c=a.data.field(o);return l!==null&&c!==null?qa(l,c):me(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return me(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ks{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Uo(this.inner,(n,r)=>{for(const[i,o]of r)e(i,o)})}isEmpty(){return rA(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z3=new mt(he.comparator);function Ei(){return z3}const xA=new mt(he.comparator);function sc(...t){let e=xA;for(const n of t)e=e.insert(n.key,n);return e}function EA(t){let e=xA;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function as(){return Ec()}function bA(){return Ec()}function Ec(){return new ks(t=>t.toString(),(t,e)=>t.isEqual(e))}const H3=new mt(he.comparator),q3=new Mt(he.comparator);function Re(...t){let e=q3;for(const n of t)e=e.add(n);return e}const G3=new Mt(ke);function Y3(){return G3}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rw(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Kf(e)?"-0":e}}function TA(t){return{integerValue:""+t}}function K3(t,e){return E3(e)?TA(e):rw(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hp{constructor(){this._=void 0}}function Q3(t,e,n){return t instanceof eh?function(i,o){const s={fields:{[sA]:{stringValue:oA},[lA]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&J0(o)&&(o=cp(o)),o&&(s.fields[aA]=o),{mapValue:s}}(n,e):t instanceof tu?SA(t,e):t instanceof nu?PA(t,e):function(i,o){const s=CA(i,o),a=QE(s)+QE(i.Ae);return Kv(s)&&Kv(i.Ae)?TA(a):rw(i.serializer,a)}(t,e)}function X3(t,e,n){return t instanceof tu?SA(t,e):t instanceof nu?PA(t,e):n}function CA(t,e){return t instanceof th?function(r){return Kv(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}class eh extends hp{}class tu extends hp{constructor(e){super(),this.elements=e}}function SA(t,e){const n=IA(e);for(const r of t.elements)n.some(i=>Wr(i,r))||n.push(r);return{arrayValue:{values:n}}}class nu extends hp{constructor(e){super(),this.elements=e}}function PA(t,e){let n=IA(e);for(const r of t.elements)n=n.filter(i=>!Wr(i,r));return{arrayValue:{values:n}}}class th extends hp{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function QE(t){return _t(t.integerValue||t.doubleValue)}function IA(t){return Z0(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function J3(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof tu&&i instanceof tu||r instanceof nu&&i instanceof nu?Ha(r.elements,i.elements,Wr):r instanceof th&&i instanceof th?Wr(r.Ae,i.Ae):r instanceof eh&&i instanceof eh}(t.transform,e.transform)}class Z3{constructor(e,n){this.version=e,this.transformResults=n}}class Kn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Kn}static exists(e){return new Kn(void 0,e)}static updateTime(e){return new Kn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function rf(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class pp{}function AA(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new iw(t.key,Kn.none()):new xu(t.key,t.data,Kn.none());{const n=t.data,r=xn.empty();let i=new Mt(zt.comparator);for(let o of e.fields)if(!i.has(o)){let s=n.field(o);s===null&&o.length>1&&(o=o.popLast(),s=n.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new Bo(t.key,r,new On(i.toArray()),Kn.none())}}function eF(t,e,n){t instanceof xu?function(i,o,s){const a=i.value.clone(),l=JE(i.fieldTransforms,o,s.transformResults);a.setAll(l),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Bo?function(i,o,s){if(!rf(i.precondition,o))return void o.convertToUnknownDocument(s.version);const a=JE(i.fieldTransforms,o,s.transformResults),l=o.data;l.setAll(kA(i)),l.setAll(a),o.convertToFoundDocument(s.version,l).setHasCommittedMutations()}(t,e,n):function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function bc(t,e,n,r){return t instanceof xu?function(o,s,a,l){if(!rf(o.precondition,s))return a;const c=o.value.clone(),u=ZE(o.fieldTransforms,l,s);return c.setAll(u),s.convertToFoundDocument(s.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof Bo?function(o,s,a,l){if(!rf(o.precondition,s))return a;const c=ZE(o.fieldTransforms,l,s),u=s.data;return u.setAll(kA(o)),u.setAll(c),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),a===null?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(f=>f.field))}(t,e,n,r):function(o,s,a){return rf(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a}(t,e,n)}function tF(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),o=CA(r.transform,i||null);o!=null&&(n===null&&(n=xn.empty()),n.set(r.field,o))}return n||null}function XE(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Ha(r,i,(o,s)=>J3(o,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class xu extends pp{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Bo extends pp{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function kA(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function JE(t,e,n){const r=new Map;We(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let i=0;i<n.length;i++){const o=t[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,X3(s,a,n[i]))}return r}function ZE(t,e,n){const r=new Map;for(const i of t){const o=i.transform,s=n.data.field(i.field);r.set(i.field,Q3(o,s,e))}return r}class iw extends pp{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class nF extends pp{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rF{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&eF(o,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=bc(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=bc(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=bA();return this.mutations.forEach(i=>{const o=e.get(i.key),s=o.overlayedDocument;let a=this.applyToLocalView(s,o.mutatedFields);a=n.has(i.key)?null:a;const l=AA(s,a);l!==null&&r.set(i.key,l),s.isValidDocument()||s.convertToNoDocument(we.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Re())}isEqual(e){return this.batchId===e.batchId&&Ha(this.mutations,e.mutations,(n,r)=>XE(n,r))&&Ha(this.baseMutations,e.baseMutations,(n,r)=>XE(n,r))}}class ow{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){We(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let i=function(){return H3}();const o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new ow(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let iF=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oF{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Tt,Me;function sF(t){switch(t){case G.OK:return me(64938);case G.CANCELLED:case G.UNKNOWN:case G.DEADLINE_EXCEEDED:case G.RESOURCE_EXHAUSTED:case G.INTERNAL:case G.UNAVAILABLE:case G.UNAUTHENTICATED:return!1;case G.INVALID_ARGUMENT:case G.NOT_FOUND:case G.ALREADY_EXISTS:case G.PERMISSION_DENIED:case G.FAILED_PRECONDITION:case G.ABORTED:case G.OUT_OF_RANGE:case G.UNIMPLEMENTED:case G.DATA_LOSS:return!0;default:return me(15467,{code:t})}}function RA(t){if(t===void 0)return xi("GRPC error has no .code"),G.UNKNOWN;switch(t){case Tt.OK:return G.OK;case Tt.CANCELLED:return G.CANCELLED;case Tt.UNKNOWN:return G.UNKNOWN;case Tt.DEADLINE_EXCEEDED:return G.DEADLINE_EXCEEDED;case Tt.RESOURCE_EXHAUSTED:return G.RESOURCE_EXHAUSTED;case Tt.INTERNAL:return G.INTERNAL;case Tt.UNAVAILABLE:return G.UNAVAILABLE;case Tt.UNAUTHENTICATED:return G.UNAUTHENTICATED;case Tt.INVALID_ARGUMENT:return G.INVALID_ARGUMENT;case Tt.NOT_FOUND:return G.NOT_FOUND;case Tt.ALREADY_EXISTS:return G.ALREADY_EXISTS;case Tt.PERMISSION_DENIED:return G.PERMISSION_DENIED;case Tt.FAILED_PRECONDITION:return G.FAILED_PRECONDITION;case Tt.ABORTED:return G.ABORTED;case Tt.OUT_OF_RANGE:return G.OUT_OF_RANGE;case Tt.UNIMPLEMENTED:return G.UNIMPLEMENTED;case Tt.DATA_LOSS:return G.DATA_LOSS;default:return me(39323,{code:t})}}(Me=Tt||(Tt={}))[Me.OK=0]="OK",Me[Me.CANCELLED=1]="CANCELLED",Me[Me.UNKNOWN=2]="UNKNOWN",Me[Me.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Me[Me.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Me[Me.NOT_FOUND=5]="NOT_FOUND",Me[Me.ALREADY_EXISTS=6]="ALREADY_EXISTS",Me[Me.PERMISSION_DENIED=7]="PERMISSION_DENIED",Me[Me.UNAUTHENTICATED=16]="UNAUTHENTICATED",Me[Me.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Me[Me.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Me[Me.ABORTED=10]="ABORTED",Me[Me.OUT_OF_RANGE=11]="OUT_OF_RANGE",Me[Me.UNIMPLEMENTED=12]="UNIMPLEMENTED",Me[Me.INTERNAL=13]="INTERNAL",Me[Me.UNAVAILABLE=14]="UNAVAILABLE",Me[Me.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aF(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lF=new wo([4294967295,4294967295],0);function eb(t){const e=aF().encode(t),n=new qI;return n.update(e),new Uint8Array(n.digest())}function tb(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new wo([n,r],0),new wo([i,o],0)]}class sw{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new ac(`Invalid padding: ${n}`);if(r<0)throw new ac(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new ac(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new ac(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=wo.fromNumber(this.ge)}ye(e,n,r){let i=e.add(n.multiply(wo.fromNumber(r)));return i.compare(lF)===1&&(i=new wo([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=eb(e),[r,i]=tb(n);for(let o=0;o<this.hashCount;o++){const s=this.ye(r,i,o);if(!this.we(s))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new sw(o,i,n);return r.forEach(a=>s.insert(a)),s}insert(e){if(this.ge===0)return;const n=eb(e),[r,i]=tb(n);for(let o=0;o<this.hashCount;o++){const s=this.ye(r,i,o);this.Se(s)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class ac extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mp{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Eu.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new mp(we.min(),i,new mt(ke),Ei(),Re())}}class Eu{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Eu(r,n,Re(),Re(),Re())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class of{constructor(e,n,r,i){this.be=e,this.removedTargetIds=n,this.key=r,this.De=i}}class NA{constructor(e,n){this.targetId=e,this.Ce=n}}class DA{constructor(e,n,r=Yt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class nb{constructor(){this.ve=0,this.Fe=rb(),this.Me=Yt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Re(),n=Re(),r=Re();return this.Fe.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:me(38017,{changeType:o})}}),new Eu(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=rb()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,We(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class cF{constructor(e){this.Ge=e,this.ze=new Map,this.je=Ei(),this.Je=bd(),this.He=bd(),this.Ye=new mt(ke)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:me(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach((r,i)=>{this.rt(i)&&n(i)})}st(e){const n=e.targetId,r=e.Ce.count,i=this.ot(n);if(i){const o=i.target;if(Xv(o))if(r===0){const s=new he(o.path);this.et(n,s,on.newNoDocument(s,we.min()))}else We(r===1,20013,{expectedCount:r});else{const s=this._t(n);if(s!==r){const a=this.ut(e),l=a?this.ct(a,e,s):1;if(l!==0){this.it(n);const c=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,c)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=n;let s,a;try{s=Ao(r).toUint8Array()}catch(l){if(l instanceof iA)return za("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new sw(s,i,o)}catch(l){return za(l instanceof ac?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.ge===0?null:a}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let i=0;return r.forEach(o=>{const s=this.Ge.ht(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.et(n,o,null),i++)}),i}Tt(e){const n=new Map;this.ze.forEach((o,s)=>{const a=this.ot(s);if(a){if(o.current&&Xv(a.target)){const l=new he(a.target.path);this.It(l).has(s)||this.Et(s,l)||this.et(s,l,on.newNoDocument(l,e))}o.Be&&(n.set(s,o.ke()),o.qe())}});let r=Re();this.He.forEach((o,s)=>{let a=!0;s.forEachWhile(l=>{const c=this.ot(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(o))}),this.je.forEach((o,s)=>s.setReadTime(e));const i=new mp(e,n,this.Ye,this.je,r);return this.je=Ei(),this.Je=bd(),this.He=bd(),this.Ye=new mt(ke),i}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const i=this.nt(e);this.Et(e,n)?i.Qe(n,1):i.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new nb,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new Mt(ke),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new Mt(ke),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||ie("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new nb),this.Ge.getRemoteKeysForTarget(e).forEach(n=>{this.et(e,n,null)})}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function bd(){return new mt(he.comparator)}function rb(){return new mt(he.comparator)}const uF=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),dF=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),fF=(()=>({and:"AND",or:"OR"}))();class hF{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Zv(t,e){return t.useProto3Json||lp(e)?e:{value:e}}function nh(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function MA(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function pF(t,e){return nh(t,e.toTimestamp())}function Or(t){return We(!!t,49232),we.fromTimestamp(function(n){const r=Io(n);return new it(r.seconds,r.nanos)}(t))}function aw(t,e){return ey(t,e).canonicalString()}function ey(t,e){const n=function(i){return new rt(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function OA(t){const e=rt.fromString(t);return We($A(e),10190,{key:e.toString()}),e}function ty(t,e){return aw(t.databaseId,e.path)}function eg(t,e){const n=OA(e);if(n.get(1)!==t.databaseId.projectId)throw new ce(G.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new ce(G.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new he(VA(n))}function LA(t,e){return aw(t.databaseId,e)}function mF(t){const e=OA(t);return e.length===4?rt.emptyPath():VA(e)}function ny(t){return new rt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function VA(t){return We(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function ib(t,e,n){return{name:ty(t,e),fields:n.value.mapValue.fields}}function gF(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:me(39313,{state:c})}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(c,u){return c.useProto3Json?(We(u===void 0||typeof u=="string",58123),Yt.fromBase64String(u||"")):(We(u===void 0||u instanceof Buffer||u instanceof Uint8Array,16193),Yt.fromUint8Array(u||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(c){const u=c.code===void 0?G.UNKNOWN:RA(c.code);return new ce(u,c.message||"")}(s);n=new DA(r,i,o,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=eg(t,r.document.name),o=Or(r.document.updateTime),s=r.document.createTime?Or(r.document.createTime):we.min(),a=new xn({mapValue:{fields:r.document.fields}}),l=on.newFoundDocument(i,o,s,a),c=r.targetIds||[],u=r.removedTargetIds||[];n=new of(c,u,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=eg(t,r.document),o=r.readTime?Or(r.readTime):we.min(),s=on.newNoDocument(i,o),a=r.removedTargetIds||[];n=new of([],a,s.key,s)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=eg(t,r.document),o=r.removedTargetIds||[];n=new of([],o,i,null)}else{if(!("filter"in e))return me(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:o}=r,s=new oF(i,o),a=r.targetId;n=new NA(a,s)}}return n}function vF(t,e){let n;if(e instanceof xu)n={update:ib(t,e.key,e.value)};else if(e instanceof iw)n={delete:ty(t,e.key)};else if(e instanceof Bo)n={update:ib(t,e.key,e.data),updateMask:SF(e.fieldMask)};else{if(!(e instanceof nF))return me(16599,{Vt:e.type});n={verify:ty(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(o,s){const a=s.transform;if(a instanceof eh)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof tu)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof nu)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof th)return{fieldPath:s.field.canonicalString(),increment:a.Ae};throw me(20930,{transform:s.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:pF(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:me(27497)}(t,e.precondition)),n}function yF(t,e){return t&&t.length>0?(We(e!==void 0,14353),t.map(n=>function(i,o){let s=i.updateTime?Or(i.updateTime):Or(o);return s.isEqual(we.min())&&(s=Or(o)),new Z3(s,i.transformResults||[])}(n,e))):[]}function wF(t,e){return{documents:[LA(t,e.path)]}}function _F(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=LA(t,i);const o=function(c){if(c.length!==0)return FA(zr.create(c,"and"))}(e.filters);o&&(n.structuredQuery.where=o);const s=function(c){if(c.length!==0)return c.map(u=>function(h){return{field:ea(h.field),direction:bF(h.dir)}}(u))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const a=Zv(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{ft:n,parent:i}}function xF(t){let e=mF(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){We(r===1,65062);const u=n.from[0];u.allDescendants?i=u.collectionId:e=e.child(u.collectionId)}let o=[];n.where&&(o=function(f){const h=jA(f);return h instanceof zr&&mA(h)?h.getFilters():[h]}(n.where));let s=[];n.orderBy&&(s=function(f){return f.map(h=>function(w){return new Zf(ta(w.field),function(E){switch(E){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(w.direction))}(h))}(n.orderBy));let a=null;n.limit&&(a=function(f){let h;return h=typeof f=="object"?f.value:f,lp(h)?null:h}(n.limit));let l=null;n.startAt&&(l=function(f){const h=!!f.before,g=f.values||[];return new Jf(g,h)}(n.startAt));let c=null;return n.endAt&&(c=function(f){const h=!f.before,g=f.values||[];return new Jf(g,h)}(n.endAt)),F3(e,i,s,o,a,"F",l,c)}function EF(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return me(28987,{purpose:i})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function jA(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=ta(n.unaryFilter.field);return Nt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=ta(n.unaryFilter.field);return Nt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=ta(n.unaryFilter.field);return Nt.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=ta(n.unaryFilter.field);return Nt.create(s,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return me(61313);default:return me(60726)}}(t):t.fieldFilter!==void 0?function(n){return Nt.create(ta(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return me(58110);default:return me(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return zr.create(n.compositeFilter.filters.map(r=>jA(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return me(1026)}}(n.compositeFilter.op))}(t):me(30097,{filter:t})}function bF(t){return uF[t]}function TF(t){return dF[t]}function CF(t){return fF[t]}function ea(t){return{fieldPath:t.canonicalString()}}function ta(t){return zt.fromServerFormat(t.fieldPath)}function FA(t){return t instanceof Nt?function(n){if(n.op==="=="){if(HE(n.value))return{unaryFilter:{field:ea(n.field),op:"IS_NAN"}};if(zE(n.value))return{unaryFilter:{field:ea(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(HE(n.value))return{unaryFilter:{field:ea(n.field),op:"IS_NOT_NAN"}};if(zE(n.value))return{unaryFilter:{field:ea(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ea(n.field),op:TF(n.op),value:n.value}}}(t):t instanceof zr?function(n){const r=n.getFilters().map(i=>FA(i));return r.length===1?r[0]:{compositeFilter:{op:CF(n.op),filters:r}}}(t):me(54877,{filter:t})}function SF(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function $A(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oo{constructor(e,n,r,i,o=we.min(),s=we.min(),a=Yt.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new oo(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new oo(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new oo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new oo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PF{constructor(e){this.yt=e}}function IF(t){const e=xF({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Jv(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AF{constructor(){this.Cn=new kF}addToCollectionParentIndex(e,n){return this.Cn.add(n),H.resolve()}getCollectionParents(e,n){return H.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return H.resolve()}deleteFieldIndex(e,n){return H.resolve()}deleteAllFieldIndexes(e){return H.resolve()}createTargetIndexes(e,n){return H.resolve()}getDocumentsMatchingTarget(e,n){return H.resolve(null)}getIndexType(e,n){return H.resolve(0)}getFieldIndexes(e,n){return H.resolve([])}getNextCollectionGroupToUpdate(e){return H.resolve(null)}getMinOffset(e,n){return H.resolve(Po.min())}getMinOffsetFromCollectionGroup(e,n){return H.resolve(Po.min())}updateCollectionGroup(e,n,r){return H.resolve()}updateIndexEntries(e,n){return H.resolve()}}class kF{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Mt(rt.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Mt(rt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ob={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},UA=41943040;class wn{static withCacheSize(e){return new wn(e,wn.DEFAULT_COLLECTION_PERCENTILE,wn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */wn.DEFAULT_COLLECTION_PERCENTILE=10,wn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,wn.DEFAULT=new wn(UA,wn.DEFAULT_COLLECTION_PERCENTILE,wn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),wn.DISABLED=new wn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ya{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Ya(0)}static cr(){return new Ya(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sb="LruGarbageCollector",RF=1048576;function ab([t,e],[n,r]){const i=ke(t,n);return i===0?ke(e,r):i}class NF{constructor(e){this.Ir=e,this.buffer=new Mt(ab),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();ab(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class DF{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){ie(sb,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){vl(n)?ie(sb,"Ignoring IndexedDB error during garbage collection: ",n):await gl(n)}await this.Vr(3e5)})}}class MF{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return H.resolve(ap.ce);const r=new NF(n);return this.mr.forEachTarget(e,i=>r.Ar(i.sequenceNumber)).next(()=>this.mr.pr(e,i=>r.Ar(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ie("LruGarbageCollector","Garbage collection skipped; disabled"),H.resolve(ob)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(ie("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),ob):this.yr(e,n))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,i,o,s,a,l,c;const u=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(f=>(f>this.params.maximumSequenceNumbersToCollect?(ie("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${f}`),i=this.params.maximumSequenceNumbersToCollect):i=f,s=Date.now(),this.nthSequenceNumber(e,i))).next(f=>(r=f,a=Date.now(),this.removeTargets(e,r,n))).next(f=>(o=f,l=Date.now(),this.removeOrphanedDocuments(e,r))).next(f=>(c=Date.now(),Js()<=Ae.DEBUG&&ie("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-u}ms
	Determined least recently used ${i} in `+(a-s)+`ms
	Removed ${o} targets in `+(l-a)+`ms
	Removed ${f} documents in `+(c-l)+`ms
Total Duration: ${c-u}ms`),H.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:f})))}}function OF(t,e){return new MF(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LF{constructor(){this.changes=new ks(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,on.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?H.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VF{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jF{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&bc(r.mutation,i,On.empty(),it.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Re()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Re()){const i=as();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(o=>{let s=sc();return o.forEach((a,l)=>{s=s.insert(a,l.overlayedDocument)}),s}))}getOverlayedDocuments(e,n){const r=as();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Re()))}populateOverlays(e,n,r){const i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{n.set(s,a)})})}computeViews(e,n,r,i){let o=Ei();const s=Ec(),a=function(){return Ec()}();return n.forEach((l,c)=>{const u=r.get(c.key);i.has(c.key)&&(u===void 0||u.mutation instanceof Bo)?o=o.insert(c.key,c):u!==void 0?(s.set(c.key,u.mutation.getFieldMask()),bc(u.mutation,c,u.mutation.getFieldMask(),it.now())):s.set(c.key,On.empty())}),this.recalculateAndSaveOverlays(e,o).next(l=>(l.forEach((c,u)=>s.set(c,u)),n.forEach((c,u)=>a.set(c,new VF(u,s.get(c)??null))),a))}recalculateAndSaveOverlays(e,n){const r=Ec();let i=new mt((s,a)=>s-a),o=Re();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(s=>{for(const a of s)a.keys().forEach(l=>{const c=n.get(l);if(c===null)return;let u=r.get(l)||On.empty();u=a.applyToLocalView(c,u),r.set(l,u);const f=(i.get(a.batchId)||Re()).add(l);i=i.insert(a.batchId,f)})}).next(()=>{const s=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),c=l.key,u=l.value,f=bA();u.forEach(h=>{if(!o.has(h)){const g=AA(n.get(h),r.get(h));g!==null&&f.set(h,g),o=o.add(h)}}),s.push(this.documentOverlayCache.saveOverlays(e,c,f))}return H.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(s){return he.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):$3(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(o=>{const s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):H.resolve(as());let a=Xc,l=o;return s.next(c=>H.forEach(c,(u,f)=>(a<f.largestBatchId&&(a=f.largestBatchId),o.get(u)?H.resolve():this.remoteDocumentCache.getEntry(e,u).next(h=>{l=l.insert(u,h)}))).next(()=>this.populateOverlays(e,c,o)).next(()=>this.computeViews(e,l,c,Re())).next(u=>({batchId:a,changes:EA(u)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new he(n)).next(r=>{let i=sc();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const o=n.collectionGroup;let s=sc();return this.indexManager.getCollectionParents(e,o).next(a=>H.forEach(a,l=>{const c=function(f,h){return new up(h,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,l.child(o));return this.getDocumentsMatchingCollectionQuery(e,c,r,i).next(u=>{u.forEach((f,h)=>{s=s.insert(f,h)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,i))).next(s=>{o.forEach((l,c)=>{const u=c.getKey();s.get(u)===null&&(s=s.insert(u,on.newInvalidDocument(u)))});let a=sc();return s.forEach((l,c)=>{const u=o.get(l);u!==void 0&&bc(u.mutation,c,On.empty(),it.now()),fp(n,c)&&(a=a.insert(l,c))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FF{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return H.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Or(i.createTime)}}(n)),H.resolve()}getNamedQuery(e,n){return H.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,function(i){return{name:i.name,query:IF(i.bundledQuery),readTime:Or(i.readTime)}}(n)),H.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $F{constructor(){this.overlays=new mt(he.comparator),this.qr=new Map}getOverlay(e,n){return H.resolve(this.overlays.get(n))}getOverlays(e,n){const r=as();return H.forEach(n,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,o)=>{this.St(e,n,o)}),H.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.qr.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.qr.delete(r)),H.resolve()}getOverlaysForCollection(e,n,r){const i=as(),o=n.length+1,s=new he(n.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){const l=a.getNext().value,c=l.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===o&&l.largestBatchId>r&&i.set(l.getKey(),l)}return H.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new mt((c,u)=>c-u);const s=this.overlays.getIterator();for(;s.hasNext();){const c=s.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let u=o.get(c.largestBatchId);u===null&&(u=as(),o=o.insert(c.largestBatchId,u)),u.set(c.getKey(),c)}}const a=as(),l=o.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,u)=>a.set(c,u)),!(a.size()>=i)););return H.resolve(a)}St(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const s=this.qr.get(i.largestBatchId).delete(r.key);this.qr.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new iF(n,r));let o=this.qr.get(n);o===void 0&&(o=Re(),this.qr.set(n,o)),this.qr.set(n,o.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UF{constructor(){this.sessionToken=Yt.EMPTY_BYTE_STRING}getSessionToken(e){return H.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,H.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lw{constructor(){this.Qr=new Mt(Vt.$r),this.Ur=new Mt(Vt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new Vt(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Gr(new Vt(e,n))}zr(e,n){e.forEach(r=>this.removeReference(r,n))}jr(e){const n=new he(new rt([])),r=new Vt(n,e),i=new Vt(n,e+1),o=[];return this.Ur.forEachInRange([r,i],s=>{this.Gr(s),o.push(s.key)}),o}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new he(new rt([])),r=new Vt(n,e),i=new Vt(n,e+1);let o=Re();return this.Ur.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){const n=new Vt(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Vt{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return he.comparator(e.key,n.key)||ke(e.Yr,n.Yr)}static Kr(e,n){return ke(e.Yr,n.Yr)||he.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BF{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Mt(Vt.$r)}checkEmpty(e){return H.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const o=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new rF(o,n,r,i);this.mutationQueue.push(s);for(const a of i)this.Zr=this.Zr.add(new Vt(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return H.resolve(s)}lookupMutationBatch(e,n){return H.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.ei(r),o=i<0?0:i;return H.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return H.resolve(this.mutationQueue.length===0?X0:this.tr-1)}getAllMutationBatches(e){return H.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Vt(n,0),i=new Vt(n,Number.POSITIVE_INFINITY),o=[];return this.Zr.forEachInRange([r,i],s=>{const a=this.Xr(s.Yr);o.push(a)}),H.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Mt(ke);return n.forEach(i=>{const o=new Vt(i,0),s=new Vt(i,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([o,s],a=>{r=r.add(a.Yr)})}),H.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let o=r;he.isDocumentKey(o)||(o=o.child(""));const s=new Vt(new he(o),0);let a=new Mt(ke);return this.Zr.forEachWhile(l=>{const c=l.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(a=a.add(l.Yr)),!0)},s),H.resolve(this.ti(a))}ti(e){const n=[];return e.forEach(r=>{const i=this.Xr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){We(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return H.forEach(n.mutations,i=>{const o=new Vt(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Zr=r})}ir(e){}containsKey(e,n){const r=new Vt(n,0),i=this.Zr.firstAfterOrEqual(r);return H.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,H.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WF{constructor(e){this.ri=e,this.docs=function(){return new mt(he.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),o=i?i.size:0,s=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return H.resolve(r?r.document.mutableCopy():on.newInvalidDocument(n))}getEntries(e,n){let r=Ei();return n.forEach(i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():on.newInvalidDocument(i))}),H.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=Ei();const s=n.path,a=new he(s.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:c,value:{document:u}}=l.getNext();if(!s.isPrefixOf(c.path))break;c.path.length>s.length+1||y3(v3(u),r)<=0||(i.has(u.key)||fp(n,u))&&(o=o.insert(u.key,u.mutableCopy()))}return H.resolve(o)}getAllFromCollectionGroup(e,n,r,i){me(9500)}ii(e,n){return H.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new zF(this)}getSize(e){return H.resolve(this.size)}}class zF extends LF{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.Nr.addEntry(e,i)):this.Nr.removeEntry(r)}),H.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HF{constructor(e){this.persistence=e,this.si=new ks(n=>ew(n),tw),this.lastRemoteSnapshotVersion=we.min(),this.highestTargetId=0,this.oi=0,this._i=new lw,this.targetCount=0,this.ai=Ya.ur()}forEachTarget(e,n){return this.si.forEach((r,i)=>n(i)),H.resolve()}getLastRemoteSnapshotVersion(e){return H.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return H.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),H.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),H.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new Ya(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,H.resolve()}updateTargetData(e,n){return this.Pr(n),H.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,H.resolve()}removeTargets(e,n,r){let i=0;const o=[];return this.si.forEach((s,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.si.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),H.waitFor(o).next(()=>i)}getTargetCount(e){return H.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return H.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),H.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),H.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),H.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return H.resolve(r)}containsKey(e,n){return H.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BA{constructor(e,n){this.ui={},this.overlays={},this.ci=new ap(0),this.li=!1,this.li=!0,this.hi=new UF,this.referenceDelegate=e(this),this.Pi=new HF(this),this.indexManager=new AF,this.remoteDocumentCache=function(i){return new WF(i)}(r=>this.referenceDelegate.Ti(r)),this.serializer=new PF(n),this.Ii=new FF(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new $F,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new BF(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){ie("MemoryPersistence","Starting transaction:",e);const i=new qF(this.ci.next());return this.referenceDelegate.Ei(),r(i).next(o=>this.referenceDelegate.di(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Ai(e,n){return H.or(Object.values(this.ui).map(r=>()=>r.containsKey(e,n)))}}class qF extends _3{constructor(e){super(),this.currentSequenceNumber=e}}class cw{constructor(e){this.persistence=e,this.Ri=new lw,this.Vi=null}static mi(e){return new cw(e)}get fi(){if(this.Vi)return this.Vi;throw me(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),H.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),H.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),H.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach(i=>this.fi.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(o=>this.fi.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return H.forEach(this.fi,r=>{const i=he.fromPath(r);return this.gi(e,i).next(o=>{o||n.removeEntry(i,we.min())})}).next(()=>(this.Vi=null,n.apply(e)))}updateLimboDocument(e,n){return this.gi(e,n).next(r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())})}Ti(e){return 0}gi(e,n){return H.or([()=>H.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class rh{constructor(e,n){this.persistence=e,this.pi=new ks(r=>b3(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=OF(this,n)}static mi(e,n){return new rh(e,n)}Ei(){}di(e){return H.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}wr(e){let n=0;return this.pr(e,r=>{n++}).next(()=>n)}pr(e,n){return H.forEach(this.pi,(r,i)=>this.br(e,r,i).next(o=>o?H.resolve():n(i)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),o=i.newChangeBuffer();return i.ii(e,s=>this.br(e,s,n).next(a=>{a||(r++,o.removeEntry(s,we.min()))})).next(()=>o.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),H.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),H.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),H.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),H.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=tf(e.data.value)),n}br(e,n,r){return H.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.pi.get(n);return H.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uw{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=i}static As(e,n){let r=Re(),i=Re();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new uw(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GF{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YF{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return F5()?8:x3(ln())>0?6:4}()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,i){const o={result:null};return this.ys(e,n).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.ws(e,n,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;const s=new GF;return this.Ss(e,n,s).next(a=>{if(o.result=a,this.Vs)return this.bs(e,n,s,a.size)})}).next(()=>o.result)}bs(e,n,r,i){return r.documentReadCount<this.fs?(Js()<=Ae.DEBUG&&ie("QueryEngine","SDK will not create cache indexes for query:",Zs(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),H.resolve()):(Js()<=Ae.DEBUG&&ie("QueryEngine","Query:",Zs(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.gs*i?(Js()<=Ae.DEBUG&&ie("QueryEngine","The SDK decides to create cache indexes for query:",Zs(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Mr(n))):H.resolve())}ys(e,n){if(KE(n))return H.resolve(null);let r=Mr(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Jv(n,null,"F"),r=Mr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const s=Re(...o);return this.ps.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const c=this.Ds(n,a);return this.Cs(n,c,s,l.readTime)?this.ys(e,Jv(n,null,"F")):this.vs(e,c,n,l)}))})))}ws(e,n,r,i){return KE(n)||i.isEqual(we.min())?H.resolve(null):this.ps.getDocuments(e,r).next(o=>{const s=this.Ds(n,o);return this.Cs(n,s,r,i)?H.resolve(null):(Js()<=Ae.DEBUG&&ie("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Zs(n)),this.vs(e,s,n,g3(i,Xc)).next(a=>a))})}Ds(e,n){let r=new Mt(_A(e));return n.forEach((i,o)=>{fp(e,o)&&(r=r.add(o))}),r}Cs(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Ss(e,n,r){return Js()<=Ae.DEBUG&&ie("QueryEngine","Using full collection scan to execute query:",Zs(n)),this.ps.getDocumentsMatchingQuery(e,n,Po.min(),r)}vs(e,n,r,i){return this.ps.getDocumentsMatchingQuery(e,r,i).next(o=>(n.forEach(s=>{o=o.insert(s.key,s)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dw="LocalStore",KF=3e8;class QF{constructor(e,n,r,i){this.persistence=e,this.Fs=n,this.serializer=i,this.Ms=new mt(ke),this.xs=new ks(o=>ew(o),tw),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new jF(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ms))}}function XF(t,e,n,r){return new QF(t,e,n,r)}async function WA(t,e){const n=Ee(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n.Bs(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{const s=[],a=[];let l=Re();for(const c of i){s.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}for(const c of o){a.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}return n.localDocuments.getDocuments(r,l).next(c=>({Ls:c,removedBatchIds:s,addedBatchIds:a}))})})}function JF(t,e){const n=Ee(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),o=n.Ns.newChangeBuffer({trackRemovals:!0});return function(a,l,c,u){const f=c.batch,h=f.keys();let g=H.resolve();return h.forEach(w=>{g=g.next(()=>u.getEntry(l,w)).next(v=>{const E=c.docVersions.get(w);We(E!==null,48541),v.version.compareTo(E)<0&&(f.applyToRemoteDocument(v,c),v.isValidDocument()&&(v.setReadTime(c.commitVersion),u.addEntry(v)))})}),g.next(()=>a.mutationQueue.removeMutationBatch(l,f))}(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=Re();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(l=l.add(a.batch.mutations[c].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function zA(t){const e=Ee(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Pi.getLastRemoteSnapshotVersion(n))}function ZF(t,e){const n=Ee(t),r=e.snapshotVersion;let i=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const s=n.Ns.newChangeBuffer({trackRemovals:!0});i=n.Ms;const a=[];e.targetChanges.forEach((u,f)=>{const h=i.get(f);if(!h)return;a.push(n.Pi.removeMatchingKeys(o,u.removedDocuments,f).next(()=>n.Pi.addMatchingKeys(o,u.addedDocuments,f)));let g=h.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(f)!==null?g=g.withResumeToken(Yt.EMPTY_BYTE_STRING,we.min()).withLastLimboFreeSnapshotVersion(we.min()):u.resumeToken.approximateByteSize()>0&&(g=g.withResumeToken(u.resumeToken,r)),i=i.insert(f,g),function(v,E,x){return v.resumeToken.approximateByteSize()===0||E.snapshotVersion.toMicroseconds()-v.snapshotVersion.toMicroseconds()>=KF?!0:x.addedDocuments.size+x.modifiedDocuments.size+x.removedDocuments.size>0}(h,g,u)&&a.push(n.Pi.updateTargetData(o,g))});let l=Ei(),c=Re();if(e.documentUpdates.forEach(u=>{e.resolvedLimboDocuments.has(u)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(o,u))}),a.push(e$(o,s,e.documentUpdates).next(u=>{l=u.ks,c=u.qs})),!r.isEqual(we.min())){const u=n.Pi.getLastRemoteSnapshotVersion(o).next(f=>n.Pi.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(u)}return H.waitFor(a).next(()=>s.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,l,c)).next(()=>l)}).then(o=>(n.Ms=i,o))}function e$(t,e,n){let r=Re(),i=Re();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let s=Ei();return n.forEach((a,l)=>{const c=o.get(a);l.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(we.min())?(e.removeEntry(a,l.readTime),s=s.insert(a,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(l),s=s.insert(a,l)):ie(dw,"Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",l.version)}),{ks:s,qs:i}})}function t$(t,e){const n=Ee(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=X0),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function n$(t,e){const n=Ee(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Pi.getTargetData(r,e).next(o=>o?(i=o,H.resolve(i)):n.Pi.allocateTargetId(r).next(s=>(i=new oo(e,s,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.Ms.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r})}async function ry(t,e,n){const r=Ee(t),i=r.Ms.get(e),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i))}catch(s){if(!vl(s))throw s;ie(dw,`Failed to update sequence numbers for target ${e}: ${s}`)}r.Ms=r.Ms.remove(e),r.xs.delete(i.target)}function lb(t,e,n){const r=Ee(t);let i=we.min(),o=Re();return r.persistence.runTransaction("Execute query","readwrite",s=>function(l,c,u){const f=Ee(l),h=f.xs.get(u);return h!==void 0?H.resolve(f.Ms.get(h)):f.Pi.getTargetData(c,u)}(r,s,Mr(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(s,a.targetId).next(l=>{o=l})}).next(()=>r.Fs.getDocumentsMatchingQuery(s,e,n?i:we.min(),n?o:Re())).next(a=>(r$(r,B3(e),a),{documents:a,Qs:o})))}function r$(t,e,n){let r=t.Os.get(e)||we.min();n.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.Os.set(e,r)}class cb{constructor(){this.activeTargetIds=Y3()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class i${constructor(){this.Mo=new cb,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new cb,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o${Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ub="ConnectivityMonitor";class db{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ie(ub,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){ie(ub,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Td=null;function iy(){return Td===null?Td=function(){return 268435456+Math.round(2147483648*Math.random())}():Td++,"0x"+Td.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tg="RestConnection",s$={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class a${get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${i}`,this.Wo=this.databaseId.database===Qf?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Go(e,n,r,i,o){const s=iy(),a=this.zo(e,n.toUriEncodedString());ie(tg,`Sending RPC '${e}' ${s}:`,a,r);const l={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(l,i,o);const{host:c}=new URL(a),u=hl(c);return this.Jo(e,a,l,r,u).then(f=>(ie(tg,`Received RPC '${e}' ${s}: `,f),f),f=>{throw za(tg,`RPC '${e}' ${s} failed with error: `,f,"url: ",a,"request:",r),f})}Ho(e,n,r,i,o,s){return this.Go(e,n,r,i,o)}jo(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+ml}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,o)=>e[o]=i),r&&r.headers.forEach((i,o)=>e[o]=i)}zo(e,n){const r=s$[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l${constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const en="WebChannelConnection";class c$ extends a${constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,i,o){const s=iy();return new Promise((a,l)=>{const c=new GI;c.setWithCredentials(!0),c.listenOnce(YI.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case ef.NO_ERROR:const f=c.getResponseJson();ie(en,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(f)),a(f);break;case ef.TIMEOUT:ie(en,`RPC '${e}' ${s} timed out`),l(new ce(G.DEADLINE_EXCEEDED,"Request time out"));break;case ef.HTTP_ERROR:const h=c.getStatus();if(ie(en,`RPC '${e}' ${s} failed with status:`,h,"response text:",c.getResponseText()),h>0){let g=c.getResponseJson();Array.isArray(g)&&(g=g[0]);const w=g==null?void 0:g.error;if(w&&w.status&&w.message){const v=function(x){const y=x.toLowerCase().replace(/_/g,"-");return Object.values(G).indexOf(y)>=0?y:G.UNKNOWN}(w.status);l(new ce(v,w.message))}else l(new ce(G.UNKNOWN,"Server responded with status "+c.getStatus()))}else l(new ce(G.UNAVAILABLE,"Connection failed."));break;default:me(9055,{l_:e,streamId:s,h_:c.getLastErrorCode(),P_:c.getLastError()})}}finally{ie(en,`RPC '${e}' ${s} completed.`)}});const u=JSON.stringify(i);ie(en,`RPC '${e}' ${s} sending request:`,i),c.send(n,"POST",u,r,15)})}T_(e,n,r){const i=iy(),o=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=XI(),a=QI(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.useFetchStreams=!0),this.jo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const u=o.join("");ie(en,`Creating RPC '${e}' stream ${i}: ${u}`,l);const f=s.createWebChannel(u,l);this.I_(f);let h=!1,g=!1;const w=new l$({Yo:E=>{g?ie(en,`Not sending because RPC '${e}' stream ${i} is closed:`,E):(h||(ie(en,`Opening RPC '${e}' stream ${i} transport.`),f.open(),h=!0),ie(en,`RPC '${e}' stream ${i} sending:`,E),f.send(E))},Zo:()=>f.close()}),v=(E,x,y)=>{E.listen(x,b=>{try{y(b)}catch(P){setTimeout(()=>{throw P},0)}})};return v(f,oc.EventType.OPEN,()=>{g||(ie(en,`RPC '${e}' stream ${i} transport opened.`),w.o_())}),v(f,oc.EventType.CLOSE,()=>{g||(g=!0,ie(en,`RPC '${e}' stream ${i} transport closed`),w.a_(),this.E_(f))}),v(f,oc.EventType.ERROR,E=>{g||(g=!0,za(en,`RPC '${e}' stream ${i} transport errored. Name:`,E.name,"Message:",E.message),w.a_(new ce(G.UNAVAILABLE,"The operation could not be completed")))}),v(f,oc.EventType.MESSAGE,E=>{var x;if(!g){const y=E.data[0];We(!!y,16349);const b=y,P=(b==null?void 0:b.error)||((x=b[0])==null?void 0:x.error);if(P){ie(en,`RPC '${e}' stream ${i} received error:`,P);const R=P.status;let D=function(I){const A=Tt[I];if(A!==void 0)return RA(A)}(R),S=P.message;D===void 0&&(D=G.INTERNAL,S="Unknown error status: "+R+" with message "+P.message),g=!0,w.a_(new ce(D,S)),f.close()}else ie(en,`RPC '${e}' stream ${i} received:`,y),w.u_(y)}}),v(a,KI.STAT_EVENT,E=>{E.stat===qv.PROXY?ie(en,`RPC '${e}' stream ${i} detected buffering proxy`):E.stat===qv.NOPROXY&&ie(en,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{w.__()},0),w}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(n=>n===e)}}function ng(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gp(t){return new hF(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HA{constructor(e,n,r=1e3,i=1.5,o=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=i,this.R_=o,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),i=Math.max(0,n-r);i>0&&ie("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,i,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fb="PersistentStream";class qA{constructor(e,n,r,i,o,s,a,l){this.Mi=e,this.S_=r,this.b_=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new HA(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===G.RESOURCE_EXHAUSTED?(xi(n.toString()),xi("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===G.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.D_===n&&this.G_(r,i)},r=>{e(()=>{const i=new ce(G.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(i)})})}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo(()=>{r(()=>this.listener.Xo())}),this.stream.t_(()=>{r(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(i=>{r(()=>this.z_(i))}),this.stream.onMessage(i=>{r(()=>++this.F_==1?this.J_(i):this.onNext(i))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return ie(fb,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget(()=>this.D_===e?n():(ie(fb,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class u$ extends qA{constructor(e,n,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=gF(this.serializer,e),r=function(o){if(!("targetChange"in o))return we.min();const s=o.targetChange;return s.targetIds&&s.targetIds.length?we.min():s.readTime?Or(s.readTime):we.min()}(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=ny(this.serializer),n.addTarget=function(o,s){let a;const l=s.target;if(a=Xv(l)?{documents:wF(o,l)}:{query:_F(o,l).ft},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=MA(o,s.resumeToken);const c=Zv(o,s.expectedCount);c!==null&&(a.expectedCount=c)}else if(s.snapshotVersion.compareTo(we.min())>0){a.readTime=nh(o,s.snapshotVersion.toTimestamp());const c=Zv(o,s.expectedCount);c!==null&&(a.expectedCount=c)}return a}(this.serializer,e);const r=EF(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=ny(this.serializer),n.removeTarget=e,this.q_(n)}}class d$ extends qA{constructor(e,n,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return We(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,We(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){We(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=yF(e.writeResults,e.commitTime),r=Or(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=ny(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>vF(this.serializer,r))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f${}class h$ extends f${constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new ce(G.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Go(e,ey(n,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===G.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new ce(G.UNKNOWN,o.toString())})}Ho(e,n,r,i,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Ho(e,ey(n,r),i,s,a,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===G.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new ce(G.UNKNOWN,s.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class p${constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(xi(n),this.aa=!1):ie("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xs="RemoteStore";class m${constructor(e,n,r,i,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=o,this.Aa.Oo(s=>{r.enqueueAndForget(async()=>{Rs(this)&&(ie(xs,"Restarting streams for network reachability change."),await async function(l){const c=Ee(l);c.Ea.add(4),await bu(c),c.Ra.set("Unknown"),c.Ea.delete(4),await vp(c)}(this))})}),this.Ra=new p$(r,i)}}async function vp(t){if(Rs(t))for(const e of t.da)await e(!0)}async function bu(t){for(const e of t.da)await e(!1)}function GA(t,e){const n=Ee(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),mw(n)?pw(n):yl(n).O_()&&hw(n,e))}function fw(t,e){const n=Ee(t),r=yl(n);n.Ia.delete(e),r.O_()&&YA(n,e),n.Ia.size===0&&(r.O_()?r.L_():Rs(n)&&n.Ra.set("Unknown"))}function hw(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(we.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}yl(t).Y_(e)}function YA(t,e){t.Va.Ue(e),yl(t).Z_(e)}function pw(t){t.Va=new cF({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),yl(t).start(),t.Ra.ua()}function mw(t){return Rs(t)&&!yl(t).x_()&&t.Ia.size>0}function Rs(t){return Ee(t).Ea.size===0}function KA(t){t.Va=void 0}async function g$(t){t.Ra.set("Online")}async function v$(t){t.Ia.forEach((e,n)=>{hw(t,e)})}async function y$(t,e){KA(t),mw(t)?(t.Ra.ha(e),pw(t)):t.Ra.set("Unknown")}async function w$(t,e,n){if(t.Ra.set("Online"),e instanceof DA&&e.state===2&&e.cause)try{await async function(i,o){const s=o.cause;for(const a of o.targetIds)i.Ia.has(a)&&(await i.remoteSyncer.rejectListen(a,s),i.Ia.delete(a),i.Va.removeTarget(a))}(t,e)}catch(r){ie(xs,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await ih(t,r)}else if(e instanceof of?t.Va.Ze(e):e instanceof NA?t.Va.st(e):t.Va.tt(e),!n.isEqual(we.min()))try{const r=await zA(t.localStore);n.compareTo(r)>=0&&await function(o,s){const a=o.Va.Tt(s);return a.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const u=o.Ia.get(c);u&&o.Ia.set(c,u.withResumeToken(l.resumeToken,s))}}),a.targetMismatches.forEach((l,c)=>{const u=o.Ia.get(l);if(!u)return;o.Ia.set(l,u.withResumeToken(Yt.EMPTY_BYTE_STRING,u.snapshotVersion)),YA(o,l);const f=new oo(u.target,l,c,u.sequenceNumber);hw(o,f)}),o.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){ie(xs,"Failed to raise snapshot:",r),await ih(t,r)}}async function ih(t,e,n){if(!vl(e))throw e;t.Ea.add(1),await bu(t),t.Ra.set("Offline"),n||(n=()=>zA(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{ie(xs,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await vp(t)})}function QA(t,e){return e().catch(n=>ih(t,n,e))}async function yp(t){const e=Ee(t),n=Ro(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:X0;for(;_$(e);)try{const i=await t$(e.localStore,r);if(i===null){e.Ta.length===0&&n.L_();break}r=i.batchId,x$(e,i)}catch(i){await ih(e,i)}XA(e)&&JA(e)}function _$(t){return Rs(t)&&t.Ta.length<10}function x$(t,e){t.Ta.push(e);const n=Ro(t);n.O_()&&n.X_&&n.ea(e.mutations)}function XA(t){return Rs(t)&&!Ro(t).x_()&&t.Ta.length>0}function JA(t){Ro(t).start()}async function E$(t){Ro(t).ra()}async function b$(t){const e=Ro(t);for(const n of t.Ta)e.ea(n.mutations)}async function T$(t,e,n){const r=t.Ta.shift(),i=ow.from(r,e,n);await QA(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await yp(t)}async function C$(t,e){e&&Ro(t).X_&&await async function(r,i){if(function(s){return sF(s)&&s!==G.ABORTED}(i.code)){const o=r.Ta.shift();Ro(r).B_(),await QA(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),await yp(r)}}(t,e),XA(t)&&JA(t)}async function hb(t,e){const n=Ee(t);n.asyncQueue.verifyOperationInProgress(),ie(xs,"RemoteStore received new credentials");const r=Rs(n);n.Ea.add(3),await bu(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await vp(n)}async function S$(t,e){const n=Ee(t);e?(n.Ea.delete(2),await vp(n)):e||(n.Ea.add(2),await bu(n),n.Ra.set("Unknown"))}function yl(t){return t.ma||(t.ma=function(n,r,i){const o=Ee(n);return o.sa(),new u$(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Xo:g$.bind(null,t),t_:v$.bind(null,t),r_:y$.bind(null,t),H_:w$.bind(null,t)}),t.da.push(async e=>{e?(t.ma.B_(),mw(t)?pw(t):t.Ra.set("Unknown")):(await t.ma.stop(),KA(t))})),t.ma}function Ro(t){return t.fa||(t.fa=function(n,r,i){const o=Ee(n);return o.sa(),new d$(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:E$.bind(null,t),r_:C$.bind(null,t),ta:b$.bind(null,t),na:T$.bind(null,t)}),t.da.push(async e=>{e?(t.fa.B_(),await yp(t)):(await t.fa.stop(),t.Ta.length>0&&(ie(xs,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))})),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gw{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new fi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){const s=Date.now()+r,a=new gw(e,n,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ce(G.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function vw(t,e){if(xi("AsyncQueue",`${e}: ${t}`),vl(t))return new ce(G.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pa{static emptySet(e){return new Pa(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||he.comparator(n.key,r.key):(n,r)=>he.comparator(n.key,r.key),this.keyedMap=sc(),this.sortedSet=new mt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Pa)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Pa;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pb{constructor(){this.ga=new mt(he.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):me(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal((n,r)=>{e.push(r)}),e}}class Ka{constructor(e,n,r,i,o,s,a,l,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,i,o){const s=[];return n.forEach(a=>{s.push({type:0,doc:a})}),new Ka(e,n,Pa.emptySet(n),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&dp(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P${constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class I${constructor(){this.queries=mb(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const i=Ee(n),o=i.queries;i.queries=mb(),o.forEach((s,a)=>{for(const l of a.Sa)l.onError(r)})})(this,new ce(G.ABORTED,"Firestore shutting down"))}}function mb(){return new ks(t=>wA(t),dp)}async function ZA(t,e){const n=Ee(t);let r=3;const i=e.query;let o=n.queries.get(i);o?!o.ba()&&e.Da()&&(r=2):(o=new P$,r=e.Da()?0:1);try{switch(r){case 0:o.wa=await n.onListen(i,!0);break;case 1:o.wa=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(s){const a=vw(s,`Initialization of query '${Zs(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,o),o.Sa.push(e),e.va(n.onlineState),o.wa&&e.Fa(o.wa)&&yw(n)}async function ek(t,e){const n=Ee(t),r=e.query;let i=3;const o=n.queries.get(r);if(o){const s=o.Sa.indexOf(e);s>=0&&(o.Sa.splice(s,1),o.Sa.length===0?i=e.Da()?0:1:!o.ba()&&e.Da()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function A$(t,e){const n=Ee(t);let r=!1;for(const i of e){const o=i.query,s=n.queries.get(o);if(s){for(const a of s.Sa)a.Fa(i)&&(r=!0);s.wa=i}}r&&yw(n)}function k$(t,e,n){const r=Ee(t),i=r.queries.get(e);if(i)for(const o of i.Sa)o.onError(n);r.queries.delete(e)}function yw(t){t.Ca.forEach(e=>{e.next()})}var oy,gb;(gb=oy||(oy={})).Ma="default",gb.Cache="cache";class tk{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Ka(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Ka.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==oy.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nk{constructor(e){this.key=e}}class rk{constructor(e){this.key=e}}class R${constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Re(),this.mutatedKeys=Re(),this.eu=_A(e),this.tu=new Pa(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new pb,i=n?n.tu:this.tu;let o=n?n.mutatedKeys:this.mutatedKeys,s=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,c=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((u,f)=>{const h=i.get(u),g=fp(this.query,f)?f:null,w=!!h&&this.mutatedKeys.has(h.key),v=!!g&&(g.hasLocalMutations||this.mutatedKeys.has(g.key)&&g.hasCommittedMutations);let E=!1;h&&g?h.data.isEqual(g.data)?w!==v&&(r.track({type:3,doc:g}),E=!0):this.su(h,g)||(r.track({type:2,doc:g}),E=!0,(l&&this.eu(g,l)>0||c&&this.eu(g,c)<0)&&(a=!0)):!h&&g?(r.track({type:0,doc:g}),E=!0):h&&!g&&(r.track({type:1,doc:h}),E=!0,(l||c)&&(a=!0)),E&&(g?(s=s.add(g),o=v?o.add(u):o.delete(u)):(s=s.delete(u),o=o.delete(u)))}),this.query.limit!==null)for(;s.size>this.query.limit;){const u=this.query.limitType==="F"?s.last():s.first();s=s.delete(u.key),o=o.delete(u.key),r.track({type:1,doc:u})}return{tu:s,iu:r,Cs:a,mutatedKeys:o}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const o=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const s=e.iu.ya();s.sort((u,f)=>function(g,w){const v=E=>{switch(E){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return me(20277,{Rt:E})}};return v(g)-v(w)}(u.type,f.type)||this.eu(u.doc,f.doc)),this.ou(r),i=i??!1;const a=n&&!i?this._u():[],l=this.Xa.size===0&&this.current&&!i?1:0,c=l!==this.Za;return this.Za=l,s.length!==0||c?{snapshot:new Ka(this.query,e.tu,o,s,e.mutatedKeys,l===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:a}:{au:a}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new pb,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(n=>this.Ya=this.Ya.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ya=this.Ya.delete(n)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Re(),this.tu.forEach(r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))});const n=[];return e.forEach(r=>{this.Xa.has(r)||n.push(new rk(r))}),this.Xa.forEach(r=>{e.has(r)||n.push(new nk(r))}),n}cu(e){this.Ya=e.Qs,this.Xa=Re();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Ka.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const ww="SyncEngine";class N${constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class D${constructor(e){this.key=e,this.hu=!1}}class M${constructor(e,n,r,i,o,s){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.Pu={},this.Tu=new ks(a=>wA(a),dp),this.Iu=new Map,this.Eu=new Set,this.du=new mt(he.comparator),this.Au=new Map,this.Ru=new lw,this.Vu={},this.mu=new Map,this.fu=Ya.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function O$(t,e,n=!0){const r=ck(t);let i;const o=r.Tu.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.lu()):i=await ik(r,e,n,!0),i}async function L$(t,e){const n=ck(t);await ik(n,e,!0,!1)}async function ik(t,e,n,r){const i=await n$(t.localStore,Mr(e)),o=i.targetId,s=t.sharedClientState.addLocalQueryTarget(o,n);let a;return r&&(a=await V$(t,e,o,s==="current",i.resumeToken)),t.isPrimaryClient&&n&&GA(t.remoteStore,i),a}async function V$(t,e,n,r,i){t.pu=(f,h,g)=>async function(v,E,x,y){let b=E.view.ru(x);b.Cs&&(b=await lb(v.localStore,E.query,!1).then(({documents:S})=>E.view.ru(S,b)));const P=y&&y.targetChanges.get(E.targetId),R=y&&y.targetMismatches.get(E.targetId)!=null,D=E.view.applyChanges(b,v.isPrimaryClient,P,R);return yb(v,E.targetId,D.au),D.snapshot}(t,f,h,g);const o=await lb(t.localStore,e,!0),s=new R$(e,o.Qs),a=s.ru(o.documents),l=Eu.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),c=s.applyChanges(a,t.isPrimaryClient,l);yb(t,n,c.au);const u=new N$(e,n,s);return t.Tu.set(e,u),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),c.snapshot}async function j$(t,e,n){const r=Ee(t),i=r.Tu.get(e),o=r.Iu.get(i.targetId);if(o.length>1)return r.Iu.set(i.targetId,o.filter(s=>!dp(s,e))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await ry(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&fw(r.remoteStore,i.targetId),sy(r,i.targetId)}).catch(gl)):(sy(r,i.targetId),await ry(r.localStore,i.targetId,!0))}async function F$(t,e){const n=Ee(t),r=n.Tu.get(e),i=n.Iu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),fw(n.remoteStore,r.targetId))}async function $$(t,e,n){const r=G$(t);try{const i=await function(s,a){const l=Ee(s),c=it.now(),u=a.reduce((g,w)=>g.add(w.key),Re());let f,h;return l.persistence.runTransaction("Locally write mutations","readwrite",g=>{let w=Ei(),v=Re();return l.Ns.getEntries(g,u).next(E=>{w=E,w.forEach((x,y)=>{y.isValidDocument()||(v=v.add(x))})}).next(()=>l.localDocuments.getOverlayedDocuments(g,w)).next(E=>{f=E;const x=[];for(const y of a){const b=tF(y,f.get(y.key).overlayedDocument);b!=null&&x.push(new Bo(y.key,b,fA(b.value.mapValue),Kn.exists(!0)))}return l.mutationQueue.addMutationBatch(g,c,x,a)}).next(E=>{h=E;const x=E.applyToLocalDocumentSet(f,v);return l.documentOverlayCache.saveOverlays(g,E.batchId,x)})}).then(()=>({batchId:h.batchId,changes:EA(f)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,a,l){let c=s.Vu[s.currentUser.toKey()];c||(c=new mt(ke)),c=c.insert(a,l),s.Vu[s.currentUser.toKey()]=c}(r,i.batchId,n),await Tu(r,i.changes),await yp(r.remoteStore)}catch(i){const o=vw(i,"Failed to persist write");n.reject(o)}}async function ok(t,e){const n=Ee(t);try{const r=await ZF(n.localStore,e);e.targetChanges.forEach((i,o)=>{const s=n.Au.get(o);s&&(We(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?s.hu=!0:i.modifiedDocuments.size>0?We(s.hu,14607):i.removedDocuments.size>0&&(We(s.hu,42227),s.hu=!1))}),await Tu(n,r,e)}catch(r){await gl(r)}}function vb(t,e,n){const r=Ee(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Tu.forEach((o,s)=>{const a=s.view.va(e);a.snapshot&&i.push(a.snapshot)}),function(s,a){const l=Ee(s);l.onlineState=a;let c=!1;l.queries.forEach((u,f)=>{for(const h of f.Sa)h.va(a)&&(c=!0)}),c&&yw(l)}(r.eventManager,e),i.length&&r.Pu.H_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function U$(t,e,n){const r=Ee(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Au.get(e),o=i&&i.key;if(o){let s=new mt(he.comparator);s=s.insert(o,on.newNoDocument(o,we.min()));const a=Re().add(o),l=new mp(we.min(),new Map,new mt(ke),s,a);await ok(r,l),r.du=r.du.remove(o),r.Au.delete(e),_w(r)}else await ry(r.localStore,e,!1).then(()=>sy(r,e,n)).catch(gl)}async function B$(t,e){const n=Ee(t),r=e.batch.batchId;try{const i=await JF(n.localStore,e);ak(n,r,null),sk(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Tu(n,i)}catch(i){await gl(i)}}async function W$(t,e,n){const r=Ee(t);try{const i=await function(s,a){const l=Ee(s);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let u;return l.mutationQueue.lookupMutationBatch(c,a).next(f=>(We(f!==null,37113),u=f.keys(),l.mutationQueue.removeMutationBatch(c,f))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,u,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,u)).next(()=>l.localDocuments.getDocuments(c,u))})}(r.localStore,e);ak(r,e,n),sk(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Tu(r,i)}catch(i){await gl(i)}}function sk(t,e){(t.mu.get(e)||[]).forEach(n=>{n.resolve()}),t.mu.delete(e)}function ak(t,e,n){const r=Ee(t);let i=r.Vu[r.currentUser.toKey()];if(i){const o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.Vu[r.currentUser.toKey()]=i}}function sy(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach(r=>{t.Ru.containsKey(r)||lk(t,r)})}function lk(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(fw(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),_w(t))}function yb(t,e,n){for(const r of n)r instanceof nk?(t.Ru.addReference(r.key,e),z$(t,r)):r instanceof rk?(ie(ww,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||lk(t,r.key)):me(19791,{wu:r})}function z$(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(ie(ww,"New document in limbo: "+n),t.Eu.add(r),_w(t))}function _w(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new he(rt.fromString(e)),r=t.fu.next();t.Au.set(r,new D$(n)),t.du=t.du.insert(n,r),GA(t.remoteStore,new oo(Mr(nw(n.path)),r,"TargetPurposeLimboResolution",ap.ce))}}async function Tu(t,e,n){const r=Ee(t),i=[],o=[],s=[];r.Tu.isEmpty()||(r.Tu.forEach((a,l)=>{s.push(r.pu(l,e,n).then(c=>{var u;if((c||n)&&r.isPrimaryClient){const f=c?!c.fromCache:(u=n==null?void 0:n.targetChanges.get(l.targetId))==null?void 0:u.current;r.sharedClientState.updateQueryState(l.targetId,f?"current":"not-current")}if(c){i.push(c);const f=uw.As(l.targetId,c);o.push(f)}}))}),await Promise.all(s),r.Pu.H_(i),await async function(l,c){const u=Ee(l);try{await u.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>H.forEach(c,h=>H.forEach(h.Es,g=>u.persistence.referenceDelegate.addReference(f,h.targetId,g)).next(()=>H.forEach(h.ds,g=>u.persistence.referenceDelegate.removeReference(f,h.targetId,g)))))}catch(f){if(!vl(f))throw f;ie(dw,"Failed to update sequence numbers: "+f)}for(const f of c){const h=f.targetId;if(!f.fromCache){const g=u.Ms.get(h),w=g.snapshotVersion,v=g.withLastLimboFreeSnapshotVersion(w);u.Ms=u.Ms.insert(h,v)}}}(r.localStore,o))}async function H$(t,e){const n=Ee(t);if(!n.currentUser.isEqual(e)){ie(ww,"User change. New user:",e.toKey());const r=await WA(n.localStore,e);n.currentUser=e,function(o,s){o.mu.forEach(a=>{a.forEach(l=>{l.reject(new ce(G.CANCELLED,s))})}),o.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Tu(n,r.Ls)}}function q$(t,e){const n=Ee(t),r=n.Au.get(e);if(r&&r.hu)return Re().add(r.key);{let i=Re();const o=n.Iu.get(e);if(!o)return i;for(const s of o){const a=n.Tu.get(s);i=i.unionWith(a.view.nu)}return i}}function ck(t){const e=Ee(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=ok.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=q$.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=U$.bind(null,e),e.Pu.H_=A$.bind(null,e.eventManager),e.Pu.yu=k$.bind(null,e.eventManager),e}function G$(t){const e=Ee(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=B$.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=W$.bind(null,e),e}class oh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=gp(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return XF(this.persistence,new YF,e.initialUser,this.serializer)}Cu(e){return new BA(cw.mi,this.serializer)}Du(e){return new i$}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}oh.provider={build:()=>new oh};class Y$ extends oh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){We(this.persistence.referenceDelegate instanceof rh,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new DF(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?wn.withCacheSize(this.cacheSizeBytes):wn.DEFAULT;return new BA(r=>rh.mi(r,n),this.serializer)}}class ay{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>vb(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=H$.bind(null,this.syncEngine),await S$(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new I$}()}createDatastore(e){const n=gp(e.databaseInfo.databaseId),r=function(o){return new c$(o)}(e.databaseInfo);return function(o,s,a,l){return new h$(o,s,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,o,s,a){return new m$(r,i,o,s,a)}(this.localStore,this.datastore,e.asyncQueue,n=>vb(this.syncEngine,n,0),function(){return db.v()?new db:new o$}())}createSyncEngine(e,n){return function(i,o,s,a,l,c,u){const f=new M$(i,o,s,a,l,c);return u&&(f.gu=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const o=Ee(i);ie(xs,"RemoteStore shutting down."),o.Ea.add(5),await bu(o),o.Aa.shutdown(),o.Ra.set("Unknown")}(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}ay.provider={build:()=>new ay};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uk{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):xi("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const No="FirestoreClient";class K${constructor(e,n,r,i,o){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=nn.UNAUTHENTICATED,this.clientId=K0.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,async s=>{ie(No,"Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(ie(No,"Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new fi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=vw(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function rg(t,e){t.asyncQueue.verifyOperationInProgress(),ie(No,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await WA(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function wb(t,e){t.asyncQueue.verifyOperationInProgress();const n=await Q$(t);ie(No,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>hb(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>hb(e.remoteStore,i)),t._onlineComponents=e}async function Q$(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){ie(No,"Using user provided OfflineComponentProvider");try{await rg(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===G.FAILED_PRECONDITION||i.code===G.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;za("Error using user provided cache. Falling back to memory cache: "+n),await rg(t,new oh)}}else ie(No,"Using default OfflineComponentProvider"),await rg(t,new Y$(void 0));return t._offlineComponents}async function dk(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(ie(No,"Using user provided OnlineComponentProvider"),await wb(t,t._uninitializedComponentsProvider._online)):(ie(No,"Using default OnlineComponentProvider"),await wb(t,new ay))),t._onlineComponents}function X$(t){return dk(t).then(e=>e.syncEngine)}async function fk(t){const e=await dk(t),n=e.eventManager;return n.onListen=O$.bind(null,e.syncEngine),n.onUnlisten=j$.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=L$.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=F$.bind(null,e.syncEngine),n}function J$(t,e,n={}){const r=new fi;return t.asyncQueue.enqueueAndForget(async()=>function(o,s,a,l,c){const u=new uk({next:h=>{u.Nu(),s.enqueueAndForget(()=>ek(o,f));const g=h.docs.has(a);!g&&h.fromCache?c.reject(new ce(G.UNAVAILABLE,"Failed to get document because the client is offline.")):g&&h.fromCache&&l&&l.source==="server"?c.reject(new ce(G.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(h)},error:h=>c.reject(h)}),f=new tk(nw(a.path),u,{includeMetadataChanges:!0,qa:!0});return ZA(o,f)}(await fk(t),t.asyncQueue,e,n,r)),r.promise}function Z$(t,e,n={}){const r=new fi;return t.asyncQueue.enqueueAndForget(async()=>function(o,s,a,l,c){const u=new uk({next:h=>{u.Nu(),s.enqueueAndForget(()=>ek(o,f)),h.fromCache&&l.source==="server"?c.reject(new ce(G.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(h)},error:h=>c.reject(h)}),f=new tk(a,u,{includeMetadataChanges:!0,qa:!0});return ZA(o,f)}(await fk(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hk(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _b=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pk="firestore.googleapis.com",xb=!0;class Eb{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ce(G.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=pk,this.ssl=xb}else this.host=e.host,this.ssl=e.ssl??xb;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=UA;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<RF)throw new ce(G.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}m3("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=hk(e.experimentalLongPollingOptions??{}),function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new ce(G.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new ce(G.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new ce(G.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class wp{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Eb({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ce(G.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ce(G.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Eb(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new o3;switch(r.type){case"firstParty":return new c3(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ce(G.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=_b.get(n);r&&(ie("ComponentProvider","Removing Datastore"),_b.delete(n),r.terminate())}(this),Promise.resolve()}}function e6(t,e,n,r={}){var c;t=pr(t,wp);const i=hl(e),o=t._getSettings(),s={...o,emulatorOptions:t._getEmulatorOptions()},a=`${e}:${n}`;i&&(jI(`https://${a}`),FI("Firestore",!0)),o.host!==pk&&o.host!==a&&za("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const l={...o,host:a,ssl:i,emulatorOptions:r};if(!ys(l,s)&&(t._setSettings(l),r.mockUserToken)){let u,f;if(typeof r.mockUserToken=="string")u=r.mockUserToken,f=nn.MOCK_USER;else{u=k5(r.mockUserToken,(c=t._app)==null?void 0:c.options.projectId);const h=r.mockUserToken.sub||r.mockUserToken.user_id;if(!h)throw new ce(G.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new nn(h)}t._authCredentials=new s3(new ZI(u,f))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _p{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new _p(this.firestore,e,this._query)}}class It{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new _o(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new It(this.firestore,e,this._key)}toJSON(){return{type:It._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(_u(n,It._jsonSchema))return new It(e,r||null,new he(rt.fromString(n.referencePath)))}}It._jsonSchemaVersion="firestore/documentReference/1.0",It._jsonSchema={type:Pt("string",It._jsonSchemaVersion),referencePath:Pt("string")};class _o extends _p{constructor(e,n,r){super(e,n,nw(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new It(this.firestore,null,new he(e))}withConverter(e){return new _o(this.firestore,e,this._path)}}function Qn(t,e,...n){if(t=Ot(t),eA("collection","path",e),t instanceof wp){const r=rt.fromString(e,...n);return LE(r),new _o(t,null,r)}{if(!(t instanceof It||t instanceof _o))throw new ce(G.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(rt.fromString(e,...n));return LE(r),new _o(t.firestore,null,r)}}function bi(t,e,...n){if(t=Ot(t),arguments.length===1&&(e=K0.newId()),eA("doc","path",e),t instanceof wp){const r=rt.fromString(e,...n);return OE(r),new It(t,null,new he(r))}{if(!(t instanceof It||t instanceof _o))throw new ce(G.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(rt.fromString(e,...n));return OE(r),new It(t.firestore,t instanceof _o?t.converter:null,new he(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bb="AsyncQueue";class Tb{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new HA(this,"async_queue_retry"),this._c=()=>{const r=ng();r&&ie(bb,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=ng();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=ng();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const n=new fi;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!vl(e))throw e;ie(bb,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const n=this.ac.then(()=>(this.rc=!0,e().catch(r=>{throw this.nc=r,this.rc=!1,xi("INTERNAL UNHANDLED ERROR: ",Cb(r)),r}).then(r=>(this.rc=!1,r))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const i=gw.createAndSchedule(this,e,n,r,o=>this.hc(o));return this.tc.push(i),i}uc(){this.nc&&me(47125,{Pc:Cb(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function Cb(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class Ns extends wp{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new Tb,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Tb(e),this._firestoreClient=void 0,await e}}}function t6(t,e){const n=typeof t=="object"?t:WI(),r=typeof t=="string"?t:e||Qf,i=G0(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const o=I5("firestore");o&&e6(i,...o)}return i}function xw(t){if(t._terminated)throw new ce(G.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||n6(t),t._firestoreClient}function n6(t){var r,i,o;const e=t._freezeSettings(),n=function(a,l,c,u){return new S3(a,l,c,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,hk(u.experimentalLongPollingOptions),u.useFetchStreams,u.isUsingEmulator)}(t._databaseId,((r=t._app)==null?void 0:r.options.appId)||"",t._persistenceKey,e);t._componentsProvider||(i=e.localCache)!=null&&i._offlineComponentProvider&&((o=e.localCache)!=null&&o._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new K$(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&function(a){const l=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new qn(Yt.fromBase64String(e))}catch(n){throw new ce(G.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new qn(Yt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:qn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(_u(e,qn._jsonSchema))return qn.fromBase64String(e.bytes)}}qn._jsonSchemaVersion="firestore/bytes/1.0",qn._jsonSchema={type:Pt("string",qn._jsonSchemaVersion),bytes:Pt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xp{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ce(G.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new zt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ew{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lr{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ce(G.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ce(G.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return ke(this._lat,e._lat)||ke(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Lr._jsonSchemaVersion}}static fromJSON(e){if(_u(e,Lr._jsonSchema))return new Lr(e.latitude,e.longitude)}}Lr._jsonSchemaVersion="firestore/geoPoint/1.0",Lr._jsonSchema={type:Pt("string",Lr._jsonSchemaVersion),latitude:Pt("number"),longitude:Pt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vr{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}(this._values,e._values)}toJSON(){return{type:Vr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(_u(e,Vr._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new Vr(e.vectorValues);throw new ce(G.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Vr._jsonSchemaVersion="firestore/vectorValue/1.0",Vr._jsonSchema={type:Pt("string",Vr._jsonSchemaVersion),vectorValues:Pt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r6=/^__.*__$/;class i6{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Bo(e,this.data,this.fieldMask,n,this.fieldTransforms):new xu(e,this.data,n,this.fieldTransforms)}}class mk{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Bo(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function gk(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw me(40011,{Ac:t})}}class bw{constructor(e,n,r,i,o,s){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.Rc(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new bw({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var i;const n=(i=this.path)==null?void 0:i.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){var i;const n=(i=this.path)==null?void 0:i.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return sh(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(gk(this.Ac)&&r6.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class o6{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||gp(e)}Cc(e,n,r,i=!1){return new bw({Ac:e,methodName:n,Dc:r,path:zt.emptyPath(),fc:!1,bc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Tw(t){const e=t._freezeSettings(),n=gp(t._databaseId);return new o6(t._databaseId,!!e.ignoreUndefinedProperties,n)}function vk(t,e,n,r,i,o={}){const s=t.Cc(o.merge||o.mergeFields?2:0,e,n,i);Cw("Data must be an object, but it was:",s,r);const a=yk(r,s);let l,c;if(o.merge)l=new On(s.fieldMask),c=s.fieldTransforms;else if(o.mergeFields){const u=[];for(const f of o.mergeFields){const h=ly(e,f,n);if(!s.contains(h))throw new ce(G.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);_k(u,h)||u.push(h)}l=new On(u),c=s.fieldTransforms.filter(f=>l.covers(f.field))}else l=null,c=s.fieldTransforms;return new i6(new xn(a),l,c)}class Ep extends Ew{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Ep}}function s6(t,e,n,r){const i=t.Cc(1,e,n);Cw("Data must be an object, but it was:",i,r);const o=[],s=xn.empty();Uo(r,(l,c)=>{const u=Sw(e,l,n);c=Ot(c);const f=i.yc(u);if(c instanceof Ep)o.push(u);else{const h=bp(c,f);h!=null&&(o.push(u),s.set(u,h))}});const a=new On(o);return new mk(s,a,i.fieldTransforms)}function a6(t,e,n,r,i,o){const s=t.Cc(1,e,n),a=[ly(e,r,n)],l=[i];if(o.length%2!=0)throw new ce(G.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<o.length;h+=2)a.push(ly(e,o[h])),l.push(o[h+1]);const c=[],u=xn.empty();for(let h=a.length-1;h>=0;--h)if(!_k(c,a[h])){const g=a[h];let w=l[h];w=Ot(w);const v=s.yc(g);if(w instanceof Ep)c.push(g);else{const E=bp(w,v);E!=null&&(c.push(g),u.set(g,E))}}const f=new On(c);return new mk(u,f,s.fieldTransforms)}function bp(t,e){if(wk(t=Ot(t)))return Cw("Unsupported field value:",e,t),yk(t,e);if(t instanceof Ew)return function(r,i){if(!gk(i.Ac))throw i.Sc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Sc(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(r,i){const o=[];let s=0;for(const a of r){let l=bp(a,i.wc(s));l==null&&(l={nullValue:"NULL_VALUE"}),o.push(l),s++}return{arrayValue:{values:o}}}(t,e)}return function(r,i){if((r=Ot(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return K3(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=it.fromDate(r);return{timestampValue:nh(i.serializer,o)}}if(r instanceof it){const o=new it(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:nh(i.serializer,o)}}if(r instanceof Lr)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof qn)return{bytesValue:MA(i.serializer,r._byteString)};if(r instanceof It){const o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.Sc(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:aw(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Vr)return function(s,a){return{mapValue:{fields:{[cA]:{stringValue:dA},[Xf]:{arrayValue:{values:s.toArray().map(c=>{if(typeof c!="number")throw a.Sc("VectorValues must only contain numeric values.");return rw(a.serializer,c)})}}}}}}(r,i);throw i.Sc(`Unsupported field value: ${Q0(r)}`)}(t,e)}function yk(t,e){const n={};return rA(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Uo(t,(r,i)=>{const o=bp(i,e.mc(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function wk(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof it||t instanceof Lr||t instanceof qn||t instanceof It||t instanceof Ew||t instanceof Vr)}function Cw(t,e,n){if(!wk(n)||!tA(n)){const r=Q0(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function ly(t,e,n){if((e=Ot(e))instanceof xp)return e._internalPath;if(typeof e=="string")return Sw(t,e);throw sh("Field path arguments must be of type string or ",t,!1,void 0,n)}const l6=new RegExp("[~\\*/\\[\\]]");function Sw(t,e,n){if(e.search(l6)>=0)throw sh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new xp(...e.split("."))._internalPath}catch{throw sh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function sh(t,e,n,r,i){const o=r&&!r.isEmpty(),s=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(o||s)&&(l+=" (found",o&&(l+=` in field ${r}`),s&&(l+=` in document ${i}`),l+=")"),new ce(G.INVALID_ARGUMENT,a+t+l)}function _k(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xk{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new It(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new c6(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Ek("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class c6 extends xk{data(){return super.data()}}function Ek(t,e){return typeof e=="string"?Sw(t,e):e instanceof xp?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u6(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new ce(G.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class d6{convertValue(e,n="none"){switch(ko(e)){case 0:return null;case 1:return e.booleanValue;case 2:return _t(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Ao(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw me(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Uo(e,(i,o)=>{r[i]=this.convertValue(o,n)}),r}convertVectorValue(e){var r,i,o;const n=(o=(i=(r=e.fields)==null?void 0:r[Xf].arrayValue)==null?void 0:i.values)==null?void 0:o.map(s=>_t(s.doubleValue));return new Vr(n)}convertGeoPoint(e){return new Lr(_t(e.latitude),_t(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=cp(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Jc(e));default:return null}}convertTimestamp(e){const n=Io(e);return new it(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=rt.fromString(e);We($A(r),9688,{name:e});const i=new Zc(r.get(1),r.get(3)),o=new he(r.popFirst(5));return i.isEqual(n)||xi(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bk(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class lc{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class fs extends xk{constructor(e,n,r,i,o,s){super(e,n,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new sf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Ek("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ce(G.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=fs._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}fs._jsonSchemaVersion="firestore/documentSnapshot/1.0",fs._jsonSchema={type:Pt("string",fs._jsonSchemaVersion),bundleSource:Pt("string","DocumentSnapshot"),bundleName:Pt("string"),bundle:Pt("string")};class sf extends fs{data(e={}){return super.data(e)}}class Ia{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new lc(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new sf(this._firestore,this._userDataWriter,r.key,r,new lc(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ce(G.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>{const l=new sf(i._firestore,i._userDataWriter,a.doc.key,a.doc,new lc(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>o||a.type!==3).map(a=>{const l=new sf(i._firestore,i._userDataWriter,a.doc.key,a.doc,new lc(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let c=-1,u=-1;return a.type!==0&&(c=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),a.type!==1&&(s=s.add(a.doc),u=s.indexOf(a.doc.key)),{type:f6(a.type),doc:l,oldIndex:c,newIndex:u}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ce(G.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Ia._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=K0.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],i=[];return this.docs.forEach(o=>{o._document!==null&&(n.push(o._document),r.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),i.push(o.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function f6(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return me(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tp(t){t=pr(t,It);const e=pr(t.firestore,Ns);return J$(xw(e),t._key).then(n=>p6(e,t,n))}Ia._jsonSchemaVersion="firestore/querySnapshot/1.0",Ia._jsonSchema={type:Pt("string",Ia._jsonSchemaVersion),bundleSource:Pt("string","QuerySnapshot"),bundleName:Pt("string"),bundle:Pt("string")};class Tk extends d6{constructor(e){super(),this.firestore=e}convertBytes(e){return new qn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new It(this.firestore,null,n)}}function Ti(t){t=pr(t,_p);const e=pr(t.firestore,Ns),n=xw(e),r=new Tk(e);return u6(t._query),Z$(n,t._query).then(i=>new Ia(e,r,t,i))}function h6(t,e,n){t=pr(t,It);const r=pr(t.firestore,Ns),i=bk(t.converter,e,n);return Cp(r,[vk(Tw(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,Kn.none())])}function Pw(t,e,n,...r){t=pr(t,It);const i=pr(t.firestore,Ns),o=Tw(i);let s;return s=typeof(e=Ot(e))=="string"||e instanceof xp?a6(o,"updateDoc",t._key,e,n,r):s6(o,"updateDoc",t._key,e),Cp(i,[s.toMutation(t._key,Kn.exists(!0))])}function cy(t){return Cp(pr(t.firestore,Ns),[new iw(t._key,Kn.none())])}function uy(t,e){const n=pr(t.firestore,Ns),r=bi(t),i=bk(t.converter,e);return Cp(n,[vk(Tw(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Kn.exists(!1))]).then(()=>r)}function Cp(t,e){return function(r,i){const o=new fi;return r.asyncQueue.enqueueAndForget(async()=>$$(await X$(r),i,o)),o.promise}(xw(t),e)}function p6(t,e,n){const r=n.docs.get(e._key),i=new Tk(t);return new fs(t,i,e._key,r,new lc(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){ml=i})(pl),Wa(new ws("firestore",(r,{instanceIdentifier:i,options:o})=>{const s=r.getProvider("app").getImmediate(),a=new Ns(new a3(r.getProvider("auth-internal")),new u3(s,r.getProvider("app-check-internal")),function(c,u){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new ce(G.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Zc(c.options.projectId,u)}(s,i),s);return o={useFetchStreams:n,...o},a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),yo(RE,NE,e),yo(RE,NE,"esm2020")})();function Ck(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const m6=Ck,Sk=new yu("auth","Firebase",Ck());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ah=new H0("@firebase/auth");function g6(t,...e){ah.logLevel<=Ae.WARN&&ah.warn(`Auth (${pl}): ${t}`,...e)}function af(t,...e){ah.logLevel<=Ae.ERROR&&ah.error(`Auth (${pl}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mr(t,...e){throw Iw(t,...e)}function jr(t,...e){return Iw(t,...e)}function Pk(t,e,n){const r={...m6(),[e]:n};return new yu("auth","Firebase",r).create(e,{appName:t.name})}function Fr(t){return Pk(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Iw(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return Sk.create(t,...e)}function fe(t,e,...n){if(!t)throw Iw(e,...n)}function li(t){const e="INTERNAL ASSERTION FAILED: "+t;throw af(e),new Error(e)}function Ci(t,e){t||li(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dy(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function v6(){return Sb()==="http:"||Sb()==="https:"}function Sb(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y6(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(v6()||L5()||"connection"in navigator)?navigator.onLine:!0}function w6(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cu{constructor(e,n){this.shortDelay=e,this.longDelay=n,Ci(n>e,"Short delay should be less than long delay!"),this.isMobile=D5()||V5()}get(){return y6()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Aw(t,e){Ci(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ik{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;li("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;li("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;li("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _6={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x6=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],E6=new Cu(3e4,6e4);function Oi(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function Yr(t,e,n,r,i={}){return Ak(t,i,async()=>{let o={},s={};r&&(e==="GET"?s=r:o={body:JSON.stringify(r)});const a=wu({key:t.config.apiKey,...s}).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const c={method:e,headers:l,...o};return O5()||(c.referrerPolicy="no-referrer"),t.emulatorConfig&&hl(t.emulatorConfig.host)&&(c.credentials="include"),Ik.fetch()(await kk(t,t.config.apiHost,n,a),c)})}async function Ak(t,e,n){t._canInitEmulator=!1;const r={..._6,...e};try{const i=new T6(t),o=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const s=await o.json();if("needConfirmation"in s)throw Cd(t,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{const a=o.ok?s.errorMessage:s.error.message,[l,c]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Cd(t,"credential-already-in-use",s);if(l==="EMAIL_EXISTS")throw Cd(t,"email-already-in-use",s);if(l==="USER_DISABLED")throw Cd(t,"user-disabled",s);const u=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw Pk(t,u,c);mr(t,u)}}catch(i){if(i instanceof Mi)throw i;mr(t,"network-request-failed",{message:String(i)})}}async function Su(t,e,n,r,i={}){const o=await Yr(t,e,n,r,i);return"mfaPendingCredential"in o&&mr(t,"multi-factor-auth-required",{_serverResponse:o}),o}async function kk(t,e,n,r){const i=`${e}${n}?${r}`,o=t,s=o.config.emulator?Aw(t.config,i):`${t.config.apiScheme}://${i}`;return x6.includes(n)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(s).toString():s}function b6(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class T6{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(jr(this.auth,"network-request-failed")),E6.get())})}}function Cd(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=jr(t,e,r);return i.customData._tokenResponse=n,i}function Pb(t){return t!==void 0&&t.enterprise!==void 0}class C6{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return b6(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function S6(t,e){return Yr(t,"GET","/v2/recaptchaConfig",Oi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function P6(t,e){return Yr(t,"POST","/v1/accounts:delete",e)}async function lh(t,e){return Yr(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tc(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function I6(t,e=!1){const n=Ot(t),r=await n.getIdToken(e),i=kw(r);fe(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const o=typeof i.firebase=="object"?i.firebase:void 0,s=o==null?void 0:o.sign_in_provider;return{claims:i,token:r,authTime:Tc(ig(i.auth_time)),issuedAtTime:Tc(ig(i.iat)),expirationTime:Tc(ig(i.exp)),signInProvider:s||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function ig(t){return Number(t)*1e3}function kw(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return af("JWT malformed, contained fewer than 3 sections"),null;try{const i=MI(n);return i?JSON.parse(i):(af("Failed to decode base64 JWT payload"),null)}catch(i){return af("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function Ib(t){const e=kw(t);return fe(e,"internal-error"),fe(typeof e.exp<"u","internal-error"),fe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qa(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Mi&&A6(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function A6({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k6{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fy{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Tc(this.lastLoginAt),this.creationTime=Tc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ch(t){var f;const e=t.auth,n=await t.getIdToken(),r=await Qa(t,lh(e,{idToken:n}));fe(r==null?void 0:r.users.length,e,"internal-error");const i=r.users[0];t._notifyReloadListener(i);const o=(f=i.providerUserInfo)!=null&&f.length?Rk(i.providerUserInfo):[],s=N6(t.providerData,o),a=t.isAnonymous,l=!(t.email&&i.passwordHash)&&!(s!=null&&s.length),c=a?l:!1,u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new fy(i.createdAt,i.lastLoginAt),isAnonymous:c};Object.assign(t,u)}async function R6(t){const e=Ot(t);await ch(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function N6(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function Rk(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function D6(t,e){const n=await Ak(t,{},async()=>{const r=wu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,s=await kk(t,i,"/v1/token",`key=${o}`),a=await t._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";const l={method:"POST",headers:a,body:r};return t.emulatorConfig&&hl(t.emulatorConfig.host)&&(l.credentials="include"),Ik.fetch()(s,l)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function M6(t,e){return Yr(t,"POST","/v2/accounts:revokeToken",Oi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aa{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){fe(e.idToken,"internal-error"),fe(typeof e.idToken<"u","internal-error"),fe(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Ib(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){fe(e.length!==0,"internal-error");const n=Ib(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(fe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:o}=await D6(e,n);this.updateTokensAndExpiration(r,i,Number(o))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:o}=n,s=new Aa;return r&&(fe(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(fe(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&(fe(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Aa,this.toJSON())}_performRefresh(){return li("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ui(t,e){fe(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class cr{constructor({uid:e,auth:n,stsTokenManager:r,...i}){this.providerId="firebase",this.proactiveRefresh=new k6(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new fy(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await Qa(this,this.stsTokenManager.getToken(this.auth,e));return fe(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return I6(this,e)}reload(){return R6(this)}_assign(e){this!==e&&(fe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new cr({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){fe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await ch(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Dn(this.auth.app))return Promise.reject(Fr(this.auth));const e=await this.getIdToken();return await Qa(this,P6(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,i=n.email??void 0,o=n.phoneNumber??void 0,s=n.photoURL??void 0,a=n.tenantId??void 0,l=n._redirectEventId??void 0,c=n.createdAt??void 0,u=n.lastLoginAt??void 0,{uid:f,emailVerified:h,isAnonymous:g,providerData:w,stsTokenManager:v}=n;fe(f&&v,e,"internal-error");const E=Aa.fromJSON(this.name,v);fe(typeof f=="string",e,"internal-error"),Ui(r,e.name),Ui(i,e.name),fe(typeof h=="boolean",e,"internal-error"),fe(typeof g=="boolean",e,"internal-error"),Ui(o,e.name),Ui(s,e.name),Ui(a,e.name),Ui(l,e.name),Ui(c,e.name),Ui(u,e.name);const x=new cr({uid:f,auth:e,email:i,emailVerified:h,displayName:r,isAnonymous:g,photoURL:s,phoneNumber:o,tenantId:a,stsTokenManager:E,createdAt:c,lastLoginAt:u});return w&&Array.isArray(w)&&(x.providerData=w.map(y=>({...y}))),l&&(x._redirectEventId=l),x}static async _fromIdTokenResponse(e,n,r=!1){const i=new Aa;i.updateFromServerResponse(n);const o=new cr({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await ch(o),o}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];fe(i.localId!==void 0,"internal-error");const o=i.providerUserInfo!==void 0?Rk(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!(o!=null&&o.length),a=new Aa;a.updateFromIdToken(r);const l=new cr({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:s}),c={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new fy(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(o!=null&&o.length)};return Object.assign(l,c),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ab=new Map;function ci(t){Ci(t instanceof Function,"Expected a class definition");let e=Ab.get(t);return e?(Ci(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,Ab.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nk{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}Nk.type="NONE";const kb=Nk;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lf(t,e,n){return`firebase:${t}:${e}:${n}`}class ka{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:o}=this.auth;this.fullUserKey=lf(this.userKey,i.apiKey,o),this.fullPersistenceKey=lf("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await lh(this.auth,{idToken:e}).catch(()=>{});return n?cr._fromGetAccountInfoResponse(this.auth,n,e):null}return cr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new ka(ci(kb),e,r);const i=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let o=i[0]||ci(kb);const s=lf(r,e.config.apiKey,e.name);let a=null;for(const c of n)try{const u=await c._get(s);if(u){let f;if(typeof u=="string"){const h=await lh(e,{idToken:u}).catch(()=>{});if(!h)break;f=await cr._fromGetAccountInfoResponse(e,h,u)}else f=cr._fromJSON(e,u);c!==o&&(a=f),o=c;break}}catch{}const l=i.filter(c=>c._shouldAllowMigration);return!o._shouldAllowMigration||!l.length?new ka(o,e,r):(o=l[0],a&&await o._set(s,a.toJSON()),await Promise.all(n.map(async c=>{if(c!==o)try{await c._remove(s)}catch{}})),new ka(o,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rb(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Lk(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Dk(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(jk(e))return"Blackberry";if(Fk(e))return"Webos";if(Mk(e))return"Safari";if((e.includes("chrome/")||Ok(e))&&!e.includes("edge/"))return"Chrome";if(Vk(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function Dk(t=ln()){return/firefox\//i.test(t)}function Mk(t=ln()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Ok(t=ln()){return/crios\//i.test(t)}function Lk(t=ln()){return/iemobile/i.test(t)}function Vk(t=ln()){return/android/i.test(t)}function jk(t=ln()){return/blackberry/i.test(t)}function Fk(t=ln()){return/webos/i.test(t)}function Rw(t=ln()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function O6(t=ln()){var e;return Rw(t)&&!!((e=window.navigator)!=null&&e.standalone)}function L6(){return j5()&&document.documentMode===10}function $k(t=ln()){return Rw(t)||Vk(t)||Fk(t)||jk(t)||/windows phone/i.test(t)||Lk(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uk(t,e=[]){let n;switch(t){case"Browser":n=Rb(ln());break;case"Worker":n=`${Rb(ln())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${pl}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V6{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=o=>new Promise((s,a)=>{try{const l=e(o);s(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function j6(t,e={}){return Yr(t,"GET","/v2/passwordPolicy",Oi(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F6=6;class $6{constructor(e){var r;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??F6,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((r=e.allowedNonAlphanumericCharacters)==null?void 0:r.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U6{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Nb(this),this.idTokenSubscription=new Nb(this),this.beforeStateQueue=new V6(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Sk,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=ci(n)),this._initializationPromise=this.queue(async()=>{var r,i,o;if(!this._deleted&&(this.persistenceManager=await ka.create(this,e),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((i=this._popupRedirectResolver)!=null&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((o=this.currentUser)==null?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await lh(this,{idToken:e}),r=await cr._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var o;if(Dn(this.app)){const s=this.app.settings.authIdToken;return s?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(a,a))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const s=(o=this.redirectUser)==null?void 0:o._redirectEventId,a=r==null?void 0:r._redirectEventId,l=await this.tryRedirectSignIn(e);(!s||s===a)&&(l!=null&&l.user)&&(r=l.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(s){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return fe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await ch(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=w6()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Dn(this.app))return Promise.reject(Fr(this));const n=e?Ot(e):null;return n&&fe(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&fe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Dn(this.app)?Promise.reject(Fr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Dn(this.app)?Promise.reject(Fr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ci(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await j6(this),n=new $6(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new yu("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await M6(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&ci(e)||this._popupRedirectResolver;fe(n,this,"argument-error"),this.redirectPersistenceManager=await ka.create(this,[ci(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const o=typeof n=="function"?n:n.next.bind(n);let s=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(fe(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{s=!0,l()}}else{const l=e.addObserver(n);return()=>{s=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return fe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Uk(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var i;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((i=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:i.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){var n;if(Dn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&g6(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function Wo(t){return Ot(t)}class Nb{constructor(e){this.auth=e,this.observer=null,this.addObserver=q5(n=>this.observer=n)}get next(){return fe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Sp={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function B6(t){Sp=t}function Bk(t){return Sp.loadJS(t)}function W6(){return Sp.recaptchaEnterpriseScript}function z6(){return Sp.gapiScript}function H6(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class q6{constructor(){this.enterprise=new G6}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class G6{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const Y6="recaptcha-enterprise",Wk="NO_RECAPTCHA";class K6{constructor(e){this.type=Y6,this.auth=Wo(e)}async verify(e="verify",n=!1){async function r(o){if(!n){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(s,a)=>{S6(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const c=new C6(l);return o.tenantId==null?o._agentRecaptchaConfig=c:o._tenantRecaptchaConfigs[o.tenantId]=c,s(c.siteKey)}}).catch(l=>{a(l)})})}function i(o,s,a){const l=window.grecaptcha;Pb(l)?l.enterprise.ready(()=>{l.enterprise.execute(o,{action:e}).then(c=>{s(c)}).catch(()=>{s(Wk)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new q6().execute("siteKey",{action:"verify"}):new Promise((o,s)=>{r(this.auth).then(a=>{if(!n&&Pb(window.grecaptcha))i(a,o,s);else{if(typeof window>"u"){s(new Error("RecaptchaVerifier is only supported in browser"));return}let l=W6();l.length!==0&&(l+=a),Bk(l).then(()=>{i(a,o,s)}).catch(c=>{s(c)})}}).catch(a=>{s(a)})})}}async function Gl(t,e,n,r=!1,i=!1){const o=new K6(t);let s;if(i)s=Wk;else try{s=await o.verify(n)}catch{s=await o.verify(n,!0)}const a={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in a){const l=a.phoneEnrollmentInfo.phoneNumber,c=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:l,recaptchaToken:c,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){const l=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:l,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return r?Object.assign(a,{captchaResp:s}):Object.assign(a,{captchaResponse:s}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function uh(t,e,n,r,i){var o,s;if(i==="EMAIL_PASSWORD_PROVIDER")if((o=t._getRecaptchaConfig())!=null&&o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const a=await Gl(t,e,n,n==="getOobCode");return r(t,a)}else return r(t,e).catch(async a=>{if(a.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const l=await Gl(t,e,n,n==="getOobCode");return r(t,l)}else return Promise.reject(a)});else if(i==="PHONE_PROVIDER")if((s=t._getRecaptchaConfig())!=null&&s.isProviderEnabled("PHONE_PROVIDER")){const a=await Gl(t,e,n);return r(t,a).catch(async l=>{var c;if(((c=t._getRecaptchaConfig())==null?void 0:c.getProviderEnforcementState("PHONE_PROVIDER"))==="AUDIT"&&(l.code==="auth/missing-recaptcha-token"||l.code==="auth/invalid-app-credential")){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${n} flow.`);const u=await Gl(t,e,n,!1,!0);return r(t,u)}return Promise.reject(l)})}else{const a=await Gl(t,e,n,!1,!0);return r(t,a)}else return Promise.reject(i+" provider is not supported.")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q6(t,e){const n=G0(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),o=n.getOptions();if(ys(o,e??{}))return i;mr(i,"already-initialized")}return n.initialize({options:e})}function X6(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(ci);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function J6(t,e,n){const r=Wo(t);fe(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!(n!=null&&n.disableWarnings),o=zk(e),{host:s,port:a}=Z6(e),l=a===null?"":`:${a}`,c={url:`${o}//${s}${l}/`},u=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){fe(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),fe(ys(c,r.config.emulator)&&ys(u,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=c,r.emulatorConfig=u,r.settings.appVerificationDisabledForTesting=!0,hl(s)?(jI(`${o}//${s}${l}`),FI("Auth",!0)):i||e9()}function zk(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function Z6(t){const e=zk(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const o=i[1];return{host:o,port:Db(r.substr(o.length+1))}}else{const[o,s]=r.split(":");return{host:o,port:Db(s)}}}function Db(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function e9(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nw{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return li("not implemented")}_getIdTokenResponse(e){return li("not implemented")}_linkToIdToken(e,n){return li("not implemented")}_getReauthenticationResolver(e){return li("not implemented")}}async function t9(t,e){return Yr(t,"POST","/v1/accounts:update",e)}async function n9(t,e){return Yr(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function r9(t,e){return Su(t,"POST","/v1/accounts:signInWithPassword",Oi(t,e))}async function i9(t,e){return Yr(t,"POST","/v1/accounts:sendOobCode",Oi(t,e))}async function o9(t,e){return i9(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function s9(t,e){return Su(t,"POST","/v1/accounts:signInWithEmailLink",Oi(t,e))}async function a9(t,e){return Su(t,"POST","/v1/accounts:signInWithEmailLink",Oi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ru extends Nw{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new ru(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new ru(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return uh(e,n,"signInWithPassword",r9,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return s9(e,{email:this._email,oobCode:this._password});default:mr(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return uh(e,r,"signUpPassword",n9,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return a9(e,{idToken:n,email:this._email,oobCode:this._password});default:mr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ra(t,e){return Su(t,"POST","/v1/accounts:signInWithIdp",Oi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l9="http://localhost";class Es extends Nw{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Es(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):mr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i,...o}=n;if(!r||!i)return null;const s=new Es(r,i);return s.idToken=o.idToken||void 0,s.accessToken=o.accessToken||void 0,s.secret=o.secret,s.nonce=o.nonce,s.pendingToken=o.pendingToken||null,s}_getIdTokenResponse(e){const n=this.buildRequest();return Ra(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Ra(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Ra(e,n)}buildRequest(){const e={requestUri:l9,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=wu(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c9(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function u9(t){const e=rc(ic(t)).link,n=e?rc(ic(e)).deep_link_id:null,r=rc(ic(t)).deep_link_id;return(r?rc(ic(r)).link:null)||r||n||e||t}class Dw{constructor(e){const n=rc(ic(e)),r=n.apiKey??null,i=n.oobCode??null,o=c9(n.mode??null);fe(r&&i&&o,"argument-error"),this.apiKey=r,this.operation=o,this.code=i,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=u9(e);try{return new Dw(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wl{constructor(){this.providerId=wl.PROVIDER_ID}static credential(e,n){return ru._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=Dw.parseLink(n);return fe(r,"argument-error"),ru._fromEmailAndCode(e,r.code,r.tenantId)}}wl.PROVIDER_ID="password";wl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";wl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hk{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pu extends Hk{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ji extends Pu{constructor(){super("facebook.com")}static credential(e){return Es._fromParams({providerId:Ji.PROVIDER_ID,signInMethod:Ji.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ji.credentialFromTaggedObject(e)}static credentialFromError(e){return Ji.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ji.credential(e.oauthAccessToken)}catch{return null}}}Ji.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ji.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zi extends Pu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Es._fromParams({providerId:Zi.PROVIDER_ID,signInMethod:Zi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Zi.credentialFromTaggedObject(e)}static credentialFromError(e){return Zi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Zi.credential(n,r)}catch{return null}}}Zi.GOOGLE_SIGN_IN_METHOD="google.com";Zi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eo extends Pu{constructor(){super("github.com")}static credential(e){return Es._fromParams({providerId:eo.PROVIDER_ID,signInMethod:eo.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return eo.credentialFromTaggedObject(e)}static credentialFromError(e){return eo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return eo.credential(e.oauthAccessToken)}catch{return null}}}eo.GITHUB_SIGN_IN_METHOD="github.com";eo.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class to extends Pu{constructor(){super("twitter.com")}static credential(e,n){return Es._fromParams({providerId:to.PROVIDER_ID,signInMethod:to.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return to.credentialFromTaggedObject(e)}static credentialFromError(e){return to.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return to.credential(n,r)}catch{return null}}}to.TWITTER_SIGN_IN_METHOD="twitter.com";to.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function d9(t,e){return Su(t,"POST","/v1/accounts:signUp",Oi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bs{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const o=await cr._fromIdTokenResponse(e,r,i),s=Mb(r);return new bs({user:o,providerId:s,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=Mb(r);return new bs({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function Mb(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dh extends Mi{constructor(e,n,r,i){super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,dh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new dh(e,n,r,i)}}function qk(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?dh._fromErrorAndOperation(t,o,e,r):o})}async function f9(t,e,n=!1){const r=await Qa(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return bs._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function h9(t,e,n=!1){const{auth:r}=t;if(Dn(r.app))return Promise.reject(Fr(r));const i="reauthenticate";try{const o=await Qa(t,qk(r,i,e,t),n);fe(o.idToken,r,"internal-error");const s=kw(o.idToken);fe(s,r,"internal-error");const{sub:a}=s;return fe(t.uid===a,r,"user-mismatch"),bs._forOperation(t,i,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&mr(r,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Gk(t,e,n=!1){if(Dn(t.app))return Promise.reject(Fr(t));const r="signIn",i=await qk(t,r,e),o=await bs._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(o.user),o}async function p9(t,e){return Gk(Wo(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m9(t,e,n){var r;fe(((r=n.url)==null?void 0:r.length)>0,t,"invalid-continue-uri"),fe(typeof n.dynamicLinkDomain>"u"||n.dynamicLinkDomain.length>0,t,"invalid-dynamic-link-domain"),fe(typeof n.linkDomain>"u"||n.linkDomain.length>0,t,"invalid-hosting-link-domain"),e.continueUrl=n.url,e.dynamicLinkDomain=n.dynamicLinkDomain,e.linkDomain=n.linkDomain,e.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(fe(n.iOS.bundleId.length>0,t,"missing-ios-bundle-id"),e.iOSBundleId=n.iOS.bundleId),n.android&&(fe(n.android.packageName.length>0,t,"missing-android-pkg-name"),e.androidInstallApp=n.android.installApp,e.androidMinimumVersionCode=n.android.minimumVersion,e.androidPackageName=n.android.packageName)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yk(t){const e=Wo(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function g9(t,e,n){const r=Wo(t),i={requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"};n&&m9(r,i,n),await uh(r,i,"getOobCode",o9,"EMAIL_PASSWORD_PROVIDER")}async function v9(t,e,n){if(Dn(t.app))return Promise.reject(Fr(t));const r=Wo(t),s=await uh(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",d9,"EMAIL_PASSWORD_PROVIDER").catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&Yk(t),l}),a=await bs._fromIdTokenResponse(r,"signIn",s);return await r._updateCurrentUser(a.user),a}function y9(t,e,n){return Dn(t.app)?Promise.reject(Fr(t)):p9(Ot(t),wl.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&Yk(t),r})}function w9(t,e){const n=Ot(t);return Dn(n.auth.app)?Promise.reject(Fr(n.auth)):Kk(n,e,null)}function _9(t,e){return Kk(Ot(t),null,e)}async function Kk(t,e,n){const{auth:r}=t,o={idToken:await t.getIdToken(),returnSecureToken:!0};e&&(o.email=e),n&&(o.password=n);const s=await Qa(t,t9(r,o));await t._updateTokensIfNecessary(s,!0)}function x9(t,e,n,r){return Ot(t).onIdTokenChanged(e,n,r)}function E9(t,e,n){return Ot(t).beforeAuthStateChanged(e,n)}function b9(t,e,n,r){return Ot(t).onAuthStateChanged(e,n,r)}function T9(t){return Ot(t).signOut()}const fh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qk{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(fh,"1"),this.storage.removeItem(fh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C9=1e3,S9=10;class Xk extends Qk{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=$k(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((s,a,l)=>{this.notifyListeners(s,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const s=this.storage.getItem(r);!n&&this.localCache[r]===s||this.notifyListeners(r,s)},o=this.storage.getItem(r);L6()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,S9):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},C9)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}Xk.type="LOCAL";const P9=Xk;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jk extends Qk{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}Jk.type="SESSION";const Zk=Jk;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I9(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pp{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new Pp(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:o}=n.data,s=this.handlersMap[i];if(!(s!=null&&s.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(s).map(async c=>c(n.origin,o)),l=await I9(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Pp.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mw(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A9{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,s;return new Promise((a,l)=>{const c=Mw("",20);i.port1.start();const u=setTimeout(()=>{l(new Error("unsupported_event"))},r);s={messageChannel:i,onMessage(f){const h=f;if(h.data.eventId===c)switch(h.data.status){case"ack":clearTimeout(u),o=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),a(h.data.response);break;default:clearTimeout(u),clearTimeout(o),l(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $r(){return window}function k9(t){$r().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eR(){return typeof $r().WorkerGlobalScope<"u"&&typeof $r().importScripts=="function"}async function R9(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function N9(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function D9(){return eR()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tR="firebaseLocalStorageDb",M9=1,hh="firebaseLocalStorage",nR="fbase_key";class Iu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Ip(t,e){return t.transaction([hh],e?"readwrite":"readonly").objectStore(hh)}function O9(){const t=indexedDB.deleteDatabase(tR);return new Iu(t).toPromise()}function hy(){const t=indexedDB.open(tR,M9);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(hh,{keyPath:nR})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(hh)?e(r):(r.close(),await O9(),e(await hy()))})})}async function Ob(t,e,n){const r=Ip(t,!0).put({[nR]:e,value:n});return new Iu(r).toPromise()}async function L9(t,e){const n=Ip(t,!1).get(e),r=await new Iu(n).toPromise();return r===void 0?null:r.value}function Lb(t,e){const n=Ip(t,!0).delete(e);return new Iu(n).toPromise()}const V9=800,j9=3;class rR{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await hy(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>j9)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return eR()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Pp._getInstance(D9()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,r;if(this.activeServiceWorker=await R9(),!this.activeServiceWorker)return;this.sender=new A9(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(r=e[0])!=null&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||N9()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await hy();return await Ob(e,fh,"1"),await Lb(e,fh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>Ob(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>L9(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Lb(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const o=Ip(i,!1).getAll();return new Iu(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:o}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(o)&&(this.notifyListeners(i,o),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),V9)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}rR.type="LOCAL";const F9=rR;new Cu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $9(t,e){return e?ci(e):(fe(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ow extends Nw{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ra(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Ra(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Ra(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function U9(t){return Gk(t.auth,new Ow(t),t.bypassAuthState)}function B9(t){const{auth:e,user:n}=t;return fe(n,e,"internal-error"),h9(n,new Ow(t),t.bypassAuthState)}async function W9(t){const{auth:e,user:n}=t;return fe(n,e,"internal-error"),f9(n,new Ow(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iR{constructor(e,n,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:o,error:s,type:a}=e;if(s){this.reject(s);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return U9;case"linkViaPopup":case"linkViaRedirect":return W9;case"reauthViaPopup":case"reauthViaRedirect":return B9;default:mr(this.auth,"internal-error")}}resolve(e){Ci(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ci(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z9=new Cu(2e3,1e4);class pa extends iR{constructor(e,n,r,i,o){super(e,n,i,o),this.provider=r,this.authWindow=null,this.pollId=null,pa.currentPopupAction&&pa.currentPopupAction.cancel(),pa.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return fe(e,this.auth,"internal-error"),e}async onExecution(){Ci(this.filter.length===1,"Popup operations only handle one event");const e=Mw();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(jr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(jr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,pa.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if((r=(n=this.authWindow)==null?void 0:n.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(jr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,z9.get())};e()}}pa.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H9="pendingRedirect",cf=new Map;class q9 extends iR{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=cf.get(this.auth._key());if(!e){try{const r=await G9(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}cf.set(this.auth._key(),e)}return this.bypassAuthState||cf.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function G9(t,e){const n=Q9(e),r=K9(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function Y9(t,e){cf.set(t._key(),e)}function K9(t){return ci(t._redirectPersistence)}function Q9(t){return lf(H9,t.config.apiKey,t.name)}async function X9(t,e,n=!1){if(Dn(t.app))return Promise.reject(Fr(t));const r=Wo(t),i=$9(r,e),s=await new q9(r,i,n).execute();return s&&!n&&(delete s.user._redirectEventId,await r._persistUserIfCurrent(s.user),await r._setRedirectUser(null,e)),s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J9=10*60*1e3;class Z9{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!eU(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!oR(e)){const i=((r=e.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";n.onError(jr(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=J9&&this.cachedEventUids.clear(),this.cachedEventUids.has(Vb(e))}saveEventToCache(e){this.cachedEventUids.add(Vb(e)),this.lastProcessedEventTime=Date.now()}}function Vb(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function oR({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function eU(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return oR(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tU(t,e={}){return Yr(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nU=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,rU=/^https?/;async function iU(t){if(t.config.emulator)return;const{authorizedDomains:e}=await tU(t);for(const n of e)try{if(oU(n))return}catch{}mr(t,"unauthorized-domain")}function oU(t){const e=dy(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const s=new URL(t);return s.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&s.hostname===r}if(!rU.test(n))return!1;if(nU.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sU=new Cu(3e4,6e4);function jb(){const t=$r().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function aU(t){return new Promise((e,n)=>{var i,o,s;function r(){jb(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{jb(),n(jr(t,"network-request-failed"))},timeout:sU.get()})}if((o=(i=$r().gapi)==null?void 0:i.iframes)!=null&&o.Iframe)e(gapi.iframes.getContext());else if((s=$r().gapi)!=null&&s.load)r();else{const a=H6("iframefcb");return $r()[a]=()=>{gapi.load?r():n(jr(t,"network-request-failed"))},Bk(`${z6()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw uf=null,e})}let uf=null;function lU(t){return uf=uf||aU(t),uf}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cU=new Cu(5e3,15e3),uU="__/auth/iframe",dU="emulator/auth/iframe",fU={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},hU=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function pU(t){const e=t.config;fe(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Aw(e,dU):`https://${t.config.authDomain}/${uU}`,r={apiKey:e.apiKey,appName:t.name,v:pl},i=hU.get(t.config.apiHost);i&&(r.eid=i);const o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${wu(r).slice(1)}`}async function mU(t){const e=await lU(t),n=$r().gapi;return fe(n,t,"internal-error"),e.open({where:document.body,url:pU(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:fU,dontclear:!0},r=>new Promise(async(i,o)=>{await r.restyle({setHideOnLeave:!1});const s=jr(t,"network-request-failed"),a=$r().setTimeout(()=>{o(s)},cU.get());function l(){$r().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{o(s)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gU={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},vU=500,yU=600,wU="_blank",_U="http://localhost";class Fb{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function xU(t,e,n,r=vU,i=yU){const o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l={...gU,width:r.toString(),height:i.toString(),top:o,left:s},c=ln().toLowerCase();n&&(a=Ok(c)?wU:n),Dk(c)&&(e=e||_U,l.scrollbars="yes");const u=Object.entries(l).reduce((h,[g,w])=>`${h}${g}=${w},`,"");if(O6(c)&&a!=="_self")return EU(e||"",a),new Fb(null);const f=window.open(e||"",a,u);fe(f,t,"popup-blocked");try{f.focus()}catch{}return new Fb(f)}function EU(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bU="__/auth/handler",TU="emulator/auth/handler",CU=encodeURIComponent("fac");async function $b(t,e,n,r,i,o){fe(t.config.authDomain,t,"auth-domain-config-required"),fe(t.config.apiKey,t,"invalid-api-key");const s={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:pl,eventId:i};if(e instanceof Hk){e.setDefaultLanguage(t.languageCode),s.providerId=e.providerId||"",H5(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(const[u,f]of Object.entries(o||{}))s[u]=f}if(e instanceof Pu){const u=e.getScopes().filter(f=>f!=="");u.length>0&&(s.scopes=u.join(","))}t.tenantId&&(s.tid=t.tenantId);const a=s;for(const u of Object.keys(a))a[u]===void 0&&delete a[u];const l=await t._getAppCheckToken(),c=l?`#${CU}=${encodeURIComponent(l)}`:"";return`${SU(t)}?${wu(a).slice(1)}${c}`}function SU({config:t}){return t.emulator?Aw(t,TU):`https://${t.authDomain}/${bU}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const og="webStorageSupport";class PU{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Zk,this._completeRedirectFn=X9,this._overrideRedirectResult=Y9}async _openPopup(e,n,r,i){var s;Ci((s=this.eventManagers[e._key()])==null?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await $b(e,n,r,dy(),i);return xU(e,o,Mw())}async _openRedirect(e,n,r,i){await this._originValidation(e);const o=await $b(e,n,r,dy(),i);return k9(o),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:o}=this.eventManagers[n];return i?Promise.resolve(i):(Ci(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await mU(e),r=new Z9(e);return n.register("authEvent",i=>(fe(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(og,{type:og},i=>{var s;const o=(s=i==null?void 0:i[0])==null?void 0:s[og];o!==void 0&&n(!!o),mr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=iU(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return $k()||Mk()||Rw()}}const IU=PU;var Ub="@firebase/auth",Bb="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AU{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){fe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kU(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function RU(t){Wa(new ws("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;fe(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:s,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Uk(t)},c=new U6(r,i,o,l);return X6(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Wa(new ws("auth-internal",e=>{const n=Wo(e.getProvider("auth").getImmediate());return(r=>new AU(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),yo(Ub,Bb,kU(t)),yo(Ub,Bb,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NU=5*60,DU=VI("authIdTokenMaxAge")||NU;let Wb=null;const MU=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>DU)return;const i=n==null?void 0:n.token;Wb!==i&&(Wb=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function OU(t=WI()){const e=G0(t,"auth");if(e.isInitialized())return e.getImmediate();const n=Q6(t,{popupRedirectResolver:IU,persistence:[F9,P9,Zk]}),r=VI("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(r,location.origin);if(location.origin===o.origin){const s=MU(o.toString());E9(n,s,()=>s(n.currentUser)),x9(n,a=>s(a))}}const i=OI("auth");return i&&J6(n,`http://${i}`),n}function LU(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}B6({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const o=jr("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",LU().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});RU("Browser");const VU={apiKey:"AIzaSyB_DoE2lhYw7INy1ucJ3hQwXHBsQrmD-DY",authDomain:"rnf-app.firebaseapp.com",projectId:"rnf-app",storageBucket:"rnf-app.firebasestorage.app",messagingSenderId:"771820334247",appId:"1:771820334247:web:a096ff668dc8963f5b7f82"},sR=BI(VU),At=t6(sR),ir=OU(sR),aR=m.createContext(null),jU=({children:t})=>{const[e,n]=m.useState(null),[r,i]=m.useState(!0),[o,s]=m.useState(null);m.useEffect(()=>{const w=b9(ir,async v=>{try{if(v){n({id:v.uid,uid:v.uid,email:v.email});const E=bi(At,`users/${v.uid}/preferences`,"display"),x=await Tp(E);x.exists()?s(x.data()):s({theme:"light",units:"metric"})}else n(null),s(null)}catch(E){console.error("Failed to load preferences",E),s({theme:"light",units:"metric"})}finally{i(!1)}});return()=>w()},[]);const a=async(w,v)=>{await y9(ir,w,v)},l=async(w,v)=>{await v9(ir,w,v)},c=async w=>{await g9(ir,w)},u=async()=>{await T9(ir),n(null),s(null)},f=async w=>{ir.currentUser&&(await w9(ir.currentUser,w),n(v=>v&&{...v,email:w}))},h=async w=>{ir.currentUser&&await _9(ir.currentUser,w)},g=async w=>{if(!ir.currentUser)return;const v=bi(At,`users/${ir.currentUser.uid}/preferences`,"display");try{await h6(v,w),s(w)}catch(E){console.error("Failed to save preferences",E)}};return p.jsx(aR.Provider,{value:{user:e,login:a,register:l,logout:u,resetPassword:c,updateEmail:f,updatePassword:h,preferences:o,savePreferences:g,loadingAuth:r},children:t})},_l=()=>m.useContext(aR);function lR(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=lR(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function cR(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=lR(t))&&(r&&(r+=" "),r+=e);return r}function FU(){for(var t=0,e,n,r="";t<arguments.length;)(e=arguments[t++])&&(n=uR(e))&&(r&&(r+=" "),r+=n);return r}function uR(t){if(typeof t=="string")return t;for(var e,n="",r=0;r<t.length;r++)t[r]&&(e=uR(t[r]))&&(n&&(n+=" "),n+=e);return n}var Lw="-";function $U(t){var e=BU(t),n=t.conflictingClassGroups,r=t.conflictingClassGroupModifiers,i=r===void 0?{}:r;function o(a){var l=a.split(Lw);return l[0]===""&&l.length!==1&&l.shift(),dR(l,e)||UU(a)}function s(a,l){var c=n[a]||[];return l&&i[a]?[].concat(c,i[a]):c}return{getClassGroupId:o,getConflictingClassGroupIds:s}}function dR(t,e){var s;if(t.length===0)return e.classGroupId;var n=t[0],r=e.nextPart.get(n),i=r?dR(t.slice(1),r):void 0;if(i)return i;if(e.validators.length!==0){var o=t.join(Lw);return(s=e.validators.find(function(a){var l=a.validator;return l(o)}))==null?void 0:s.classGroupId}}var zb=/^\[(.+)\]$/;function UU(t){if(zb.test(t)){var e=zb.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}}function BU(t){var e=t.theme,n=t.prefix,r={nextPart:new Map,validators:[]},i=zU(Object.entries(t.classGroups),n);return i.forEach(function(o){var s=o[0],a=o[1];py(a,r,s,e)}),r}function py(t,e,n,r){t.forEach(function(i){if(typeof i=="string"){var o=i===""?e:Hb(e,i);o.classGroupId=n;return}if(typeof i=="function"){if(WU(i)){py(i(r),e,n,r);return}e.validators.push({validator:i,classGroupId:n});return}Object.entries(i).forEach(function(s){var a=s[0],l=s[1];py(l,Hb(e,a),n,r)})})}function Hb(t,e){var n=t;return e.split(Lw).forEach(function(r){n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n}function WU(t){return t.isThemeGetter}function zU(t,e){return e?t.map(function(n){var r=n[0],i=n[1],o=i.map(function(s){return typeof s=="string"?e+s:typeof s=="object"?Object.fromEntries(Object.entries(s).map(function(a){var l=a[0],c=a[1];return[e+l,c]})):s});return[r,o]}):t}function HU(t){if(t<1)return{get:function(){},set:function(){}};var e=0,n=new Map,r=new Map;function i(o,s){n.set(o,s),e++,e>t&&(e=0,r=n,n=new Map)}return{get:function(s){var a=n.get(s);if(a!==void 0)return a;if((a=r.get(s))!==void 0)return i(s,a),a},set:function(s,a){n.has(s)?n.set(s,a):i(s,a)}}}var fR="!";function qU(t){var e=t.separator||":",n=e.length===1,r=e[0],i=e.length;return function(s){for(var a=[],l=0,c=0,u,f=0;f<s.length;f++){var h=s[f];if(l===0){if(h===r&&(n||s.slice(f,f+i)===e)){a.push(s.slice(c,f)),c=f+i;continue}if(h==="/"){u=f;continue}}h==="["?l++:h==="]"&&l--}var g=a.length===0?s:s.substring(c),w=g.startsWith(fR),v=w?g.substring(1):g,E=u&&u>c?u-c:void 0;return{modifiers:a,hasImportantModifier:w,baseClassName:v,maybePostfixModifierPosition:E}}}function GU(t){if(t.length<=1)return t;var e=[],n=[];return t.forEach(function(r){var i=r[0]==="[";i?(e.push.apply(e,n.sort().concat([r])),n=[]):n.push(r)}),e.push.apply(e,n.sort()),e}function YU(t){return{cache:HU(t.cacheSize),splitModifiers:qU(t),...$U(t)}}var KU=/\s+/;function QU(t,e){var n=e.splitModifiers,r=e.getClassGroupId,i=e.getConflictingClassGroupIds,o=new Set;return t.trim().split(KU).map(function(s){var a=n(s),l=a.modifiers,c=a.hasImportantModifier,u=a.baseClassName,f=a.maybePostfixModifierPosition,h=r(f?u.substring(0,f):u),g=!!f;if(!h){if(!f)return{isTailwindClass:!1,originalClassName:s};if(h=r(u),!h)return{isTailwindClass:!1,originalClassName:s};g=!1}var w=GU(l).join(":"),v=c?w+fR:w;return{isTailwindClass:!0,modifierId:v,classGroupId:h,originalClassName:s,hasPostfixModifier:g}}).reverse().filter(function(s){if(!s.isTailwindClass)return!0;var a=s.modifierId,l=s.classGroupId,c=s.hasPostfixModifier,u=a+l;return o.has(u)?!1:(o.add(u),i(l,c).forEach(function(f){return o.add(a+f)}),!0)}).reverse().map(function(s){return s.originalClassName}).join(" ")}function XU(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r,i,o,s=a;function a(c){var u=e[0],f=e.slice(1),h=f.reduce(function(g,w){return w(g)},u());return r=YU(h),i=r.cache.get,o=r.cache.set,s=l,l(c)}function l(c){var u=i(c);if(u)return u;var f=QU(c,r);return o(c,f),f}return function(){return s(FU.apply(null,arguments))}}function tt(t){var e=function(r){return r[t]||[]};return e.isThemeGetter=!0,e}var hR=/^\[(?:([a-z-]+):)?(.+)\]$/i,JU=/^\d+\/\d+$/,ZU=new Set(["px","full","screen"]),e7=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,t7=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,n7=/^-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/;function or(t){return ls(t)||ZU.has(t)||JU.test(t)||my(t)}function my(t){return Ds(t,"length",l7)}function r7(t){return Ds(t,"size",pR)}function i7(t){return Ds(t,"position",pR)}function o7(t){return Ds(t,"url",c7)}function Sd(t){return Ds(t,"number",ls)}function ls(t){return!Number.isNaN(Number(t))}function s7(t){return t.endsWith("%")&&ls(t.slice(0,-1))}function Yl(t){return qb(t)||Ds(t,"number",qb)}function Ie(t){return hR.test(t)}function Kl(){return!0}function Bi(t){return e7.test(t)}function a7(t){return Ds(t,"",u7)}function Ds(t,e,n){var r=hR.exec(t);return r?r[1]?r[1]===e:n(r[2]):!1}function l7(t){return t7.test(t)}function pR(){return!1}function c7(t){return t.startsWith("url(")}function qb(t){return Number.isInteger(Number(t))}function u7(t){return n7.test(t)}function d7(){var t=tt("colors"),e=tt("spacing"),n=tt("blur"),r=tt("brightness"),i=tt("borderColor"),o=tt("borderRadius"),s=tt("borderSpacing"),a=tt("borderWidth"),l=tt("contrast"),c=tt("grayscale"),u=tt("hueRotate"),f=tt("invert"),h=tt("gap"),g=tt("gradientColorStops"),w=tt("gradientColorStopPositions"),v=tt("inset"),E=tt("margin"),x=tt("opacity"),y=tt("padding"),b=tt("saturate"),P=tt("scale"),R=tt("sepia"),D=tt("skew"),S=tt("space"),C=tt("translate"),I=function(){return["auto","contain","none"]},A=function(){return["auto","hidden","clip","visible","scroll"]},M=function(){return["auto",Ie,e]},O=function(){return[Ie,e]},N=function(){return["",or]},F=function(){return["auto",ls,Ie]},Y=function(){return["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"]},K=function(){return["solid","dashed","dotted","double","none"]},W=function(){return["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity","plus-lighter"]},L=function(){return["start","end","center","between","around","evenly","stretch"]},j=function(){return["","0",Ie]},U=function(){return["auto","avoid","all","avoid-page","page","left","right","column"]},z=function(){return[ls,Sd]},B=function(){return[ls,Ie]};return{cacheSize:500,theme:{colors:[Kl],spacing:[or],blur:["none","",Bi,Ie],brightness:z(),borderColor:[t],borderRadius:["none","","full",Bi,Ie],borderSpacing:O(),borderWidth:N(),contrast:z(),grayscale:j(),hueRotate:B(),invert:j(),gap:O(),gradientColorStops:[t],gradientColorStopPositions:[s7,my],inset:M(),margin:M(),opacity:z(),padding:O(),saturate:z(),scale:z(),sepia:j(),skew:B(),space:O(),translate:O()},classGroups:{aspect:[{aspect:["auto","square","video",Ie]}],container:["container"],columns:[{columns:[Bi]}],"break-after":[{"break-after":U()}],"break-before":[{"break-before":U()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none"]}],clear:[{clear:["left","right","both","none"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[].concat(Y(),[Ie])}],overflow:[{overflow:A()}],"overflow-x":[{"overflow-x":A()}],"overflow-y":[{"overflow-y":A()}],overscroll:[{overscroll:I()}],"overscroll-x":[{"overscroll-x":I()}],"overscroll-y":[{"overscroll-y":I()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[v]}],"inset-x":[{"inset-x":[v]}],"inset-y":[{"inset-y":[v]}],start:[{start:[v]}],end:[{end:[v]}],top:[{top:[v]}],right:[{right:[v]}],bottom:[{bottom:[v]}],left:[{left:[v]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Yl]}],basis:[{basis:M()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Ie]}],grow:[{grow:j()}],shrink:[{shrink:j()}],order:[{order:["first","last","none",Yl]}],"grid-cols":[{"grid-cols":[Kl]}],"col-start-end":[{col:["auto",{span:["full",Yl]},Ie]}],"col-start":[{"col-start":F()}],"col-end":[{"col-end":F()}],"grid-rows":[{"grid-rows":[Kl]}],"row-start-end":[{row:["auto",{span:[Yl]},Ie]}],"row-start":[{"row-start":F()}],"row-end":[{"row-end":F()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Ie]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Ie]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal"].concat(L())}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal"].concat(L(),["baseline"])}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[].concat(L(),["baseline"])}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[y]}],px:[{px:[y]}],py:[{py:[y]}],ps:[{ps:[y]}],pe:[{pe:[y]}],pt:[{pt:[y]}],pr:[{pr:[y]}],pb:[{pb:[y]}],pl:[{pl:[y]}],m:[{m:[E]}],mx:[{mx:[E]}],my:[{my:[E]}],ms:[{ms:[E]}],me:[{me:[E]}],mt:[{mt:[E]}],mr:[{mr:[E]}],mb:[{mb:[E]}],ml:[{ml:[E]}],"space-x":[{"space-x":[S]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[S]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit",Ie,e]}],"min-w":[{"min-w":["min","max","fit",Ie,or]}],"max-w":[{"max-w":["0","none","full","min","max","fit","prose",{screen:[Bi]},Bi,Ie]}],h:[{h:[Ie,e,"auto","min","max","fit"]}],"min-h":[{"min-h":["min","max","fit",Ie,or]}],"max-h":[{"max-h":[Ie,e,"min","max","fit"]}],"font-size":[{text:["base",Bi,my]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Sd]}],"font-family":[{font:[Kl]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Ie]}],"line-clamp":[{"line-clamp":["none",ls,Sd]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Ie,or]}],"list-image":[{"list-image":["none",Ie]}],"list-style-type":[{list:["none","disc","decimal",Ie]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[x]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[x]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[].concat(K(),["wavy"])}],"text-decoration-thickness":[{decoration:["auto","from-font",or]}],"underline-offset":[{"underline-offset":["auto",Ie,or]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],indent:[{indent:O()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ie]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ie]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[x]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[].concat(Y(),[i7])}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",r7]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},o7]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[w]}],"gradient-via-pos":[{via:[w]}],"gradient-to-pos":[{to:[w]}],"gradient-from":[{from:[g]}],"gradient-via":[{via:[g]}],"gradient-to":[{to:[g]}],rounded:[{rounded:[o]}],"rounded-s":[{"rounded-s":[o]}],"rounded-e":[{"rounded-e":[o]}],"rounded-t":[{"rounded-t":[o]}],"rounded-r":[{"rounded-r":[o]}],"rounded-b":[{"rounded-b":[o]}],"rounded-l":[{"rounded-l":[o]}],"rounded-ss":[{"rounded-ss":[o]}],"rounded-se":[{"rounded-se":[o]}],"rounded-ee":[{"rounded-ee":[o]}],"rounded-es":[{"rounded-es":[o]}],"rounded-tl":[{"rounded-tl":[o]}],"rounded-tr":[{"rounded-tr":[o]}],"rounded-br":[{"rounded-br":[o]}],"rounded-bl":[{"rounded-bl":[o]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[x]}],"border-style":[{border:[].concat(K(),["hidden"])}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[x]}],"divide-style":[{divide:K()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:[""].concat(K())}],"outline-offset":[{"outline-offset":[Ie,or]}],"outline-w":[{outline:[or]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:N()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[x]}],"ring-offset-w":[{"ring-offset":[or]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",Bi,a7]}],"shadow-color":[{shadow:[Kl]}],opacity:[{opacity:[x]}],"mix-blend":[{"mix-blend":W()}],"bg-blend":[{"bg-blend":W()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",Bi,Ie]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[u]}],invert:[{invert:[f]}],saturate:[{saturate:[b]}],sepia:[{sepia:[R]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[u]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[x]}],"backdrop-saturate":[{"backdrop-saturate":[b]}],"backdrop-sepia":[{"backdrop-sepia":[R]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[s]}],"border-spacing-x":[{"border-spacing-x":[s]}],"border-spacing-y":[{"border-spacing-y":[s]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Ie]}],duration:[{duration:B()}],ease:[{ease:["linear","in","out","in-out",Ie]}],delay:[{delay:B()}],animate:[{animate:["none","spin","ping","pulse","bounce",Ie]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[P]}],"scale-x":[{"scale-x":[P]}],"scale-y":[{"scale-y":[P]}],rotate:[{rotate:[Yl,Ie]}],"translate-x":[{"translate-x":[C]}],"translate-y":[{"translate-y":[C]}],"skew-x":[{"skew-x":[D]}],"skew-y":[{"skew-y":[D]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Ie]}],accent:[{accent:["auto",t]}],appearance:["appearance-none"],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ie]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":O()}],"scroll-mx":[{"scroll-mx":O()}],"scroll-my":[{"scroll-my":O()}],"scroll-ms":[{"scroll-ms":O()}],"scroll-me":[{"scroll-me":O()}],"scroll-mt":[{"scroll-mt":O()}],"scroll-mr":[{"scroll-mr":O()}],"scroll-mb":[{"scroll-mb":O()}],"scroll-ml":[{"scroll-ml":O()}],"scroll-p":[{"scroll-p":O()}],"scroll-px":[{"scroll-px":O()}],"scroll-py":[{"scroll-py":O()}],"scroll-ps":[{"scroll-ps":O()}],"scroll-pe":[{"scroll-pe":O()}],"scroll-pt":[{"scroll-pt":O()}],"scroll-pr":[{"scroll-pr":O()}],"scroll-pb":[{"scroll-pb":O()}],"scroll-pl":[{"scroll-pl":O()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","pinch-zoom","manipulation",{pan:["x","left","right","y","up","down"]}]}],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ie]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[or,Sd]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}}var f7=XU(d7);function Ue(...t){return f7(cR(t))}function Gb(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function h7(...t){return e=>{let n=!1;const r=t.map(i=>{const o=Gb(i,e);return!n&&typeof o=="function"&&(n=!0),o});if(n)return()=>{for(let i=0;i<r.length;i++){const o=r[i];typeof o=="function"?o():Gb(t[i],null)}}}}function lt(...t){return m.useCallback(h7(...t),t)}function Xa(t){const e=m7(t),n=m.forwardRef((r,i)=>{const{children:o,...s}=r,a=m.Children.toArray(o),l=a.find(v7);if(l){const c=l.props.children,u=a.map(f=>f===l?m.Children.count(c)>1?m.Children.only(null):m.isValidElement(c)?c.props.children:null:f);return p.jsx(e,{...s,ref:i,children:m.isValidElement(c)?m.cloneElement(c,void 0,u):null})}return p.jsx(e,{...s,ref:i,children:o})});return n.displayName=`${t}.Slot`,n}var p7=Xa("Slot");function m7(t){const e=m.forwardRef((n,r)=>{const{children:i,...o}=n,s=m.isValidElement(i)?w7(i):void 0,a=lt(s,r);if(m.isValidElement(i)){const l=y7(o,i.props);return i.type!==m.Fragment&&(l.ref=a),m.cloneElement(i,l)}return m.Children.count(i)>1?m.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var g7=Symbol("radix.slottable");function v7(t){return m.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===g7}function y7(t,e){const n={...e};for(const r in e){const i=t[r],o=e[r];/^on[A-Z]/.test(r)?i&&o?n[r]=(...a)=>{const l=o(...a);return i(...a),l}:i&&(n[r]=i):r==="style"?n[r]={...i,...o}:r==="className"&&(n[r]=[i,o].filter(Boolean).join(" "))}return{...t,...n}}function w7(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}const Yb=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,Kb=cR,Ap=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return Kb(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:i,defaultVariants:o}=e,s=Object.keys(i).map(c=>{const u=n==null?void 0:n[c],f=o==null?void 0:o[c];if(u===null)return null;const h=Yb(u)||Yb(f);return i[c][h]}),a=n&&Object.entries(n).reduce((c,u)=>{let[f,h]=u;return h===void 0||(c[f]=h),c},{}),l=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((c,u)=>{let{class:f,className:h,...g}=u;return Object.entries(g).every(w=>{let[v,E]=w;return Array.isArray(E)?E.includes({...o,...a}[v]):{...o,...a}[v]===E})?[...c,f,h]:c},[]);return Kb(t,s,l,n==null?void 0:n.class,n==null?void 0:n.className)},gy=Ap("inline-flex items-center justify-center rounded-lg text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-[#E27DBF] text-white hover:bg-[#FFB1DD]",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-lg px-3",lg:"h-11 rounded-lg px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),Se=_e.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...i},o)=>{const s=r?p7:"button";return p.jsx(s,{className:Ue(gy({variant:e,size:n,className:t})),ref:o,...i})});Se.displayName="Button";const fr=_e.forwardRef(({className:t,type:e,...n},r)=>p.jsx("input",{type:e,className:Ue("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:shadow-[0_0_0_3px_rgba(226,125,191,0.2)] disabled:cursor-not-allowed disabled:opacity-50",t),ref:r,...n}));fr.displayName="Input";var _7=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],ze=_7.reduce((t,e)=>{const n=Xa(`Primitive.${e}`),r=m.forwardRef((i,o)=>{const{asChild:s,...a}=i,l=s?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),p.jsx(l,{...a,ref:o})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function mR(t,e){t&&$o.flushSync(()=>t.dispatchEvent(e))}var x7="Label",gR=m.forwardRef((t,e)=>p.jsx(ze.label,{...t,ref:e,onMouseDown:n=>{var i;n.target.closest("button, input, select, textarea")||((i=t.onMouseDown)==null||i.call(t,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));gR.displayName=x7;var vR=gR;const E7=Ap("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Bt=_e.forwardRef(({className:t,...e},n)=>p.jsx(vR,{ref:n,className:Ue(E7(),t),...e}));Bt.displayName=vR.displayName;const b7=1;let sg=0;function T7(){return sg=(sg+1)%Number.MAX_VALUE,sg.toString()}const fn={state:{toasts:[]},listeners:[],getState:()=>fn.state,setState:t=>{typeof t=="function"?fn.state=t(fn.state):fn.state={...fn.state,...t},fn.listeners.forEach(e=>e(fn.state))},subscribe:t=>(fn.listeners.push(t),()=>{fn.listeners=fn.listeners.filter(e=>e!==t)})},C7=({...t})=>{const e=T7(),n=i=>fn.setState(o=>({...o,toasts:o.toasts.map(s=>s.id===e?{...s,...i}:s)})),r=()=>fn.setState(i=>({...i,toasts:i.toasts.filter(o=>o.id!==e)}));return fn.setState(i=>({...i,toasts:[{...t,id:e,dismiss:r},...i.toasts].slice(0,b7)})),{id:e,dismiss:r,update:n}};function xl(){const[t,e]=m.useState(fn.getState());return m.useEffect(()=>fn.subscribe(r=>{e(r)}),[]),m.useEffect(()=>{const n=[];return t.toasts.forEach(r=>{if(r.duration===1/0)return;const i=setTimeout(()=>{r.dismiss()},r.duration||5e3);n.push(i)}),()=>{n.forEach(r=>clearTimeout(r))}},[t.toasts]),{toast:C7,toasts:t.toasts}}const yR=m.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"}),kp=m.createContext({}),Rp=m.createContext(null),Np=typeof document<"u",Vw=Np?m.useLayoutEffect:m.useEffect,wR=m.createContext({strict:!1}),jw=t=>t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),S7="framerAppearId",_R="data-"+jw(S7);function P7(t,e,n,r){const{visualElement:i}=m.useContext(kp),o=m.useContext(wR),s=m.useContext(Rp),a=m.useContext(yR).reducedMotion,l=m.useRef();r=r||o.renderer,!l.current&&r&&(l.current=r(t,{visualState:e,parent:i,props:n,presenceContext:s,blockInitialAnimation:s?s.initial===!1:!1,reducedMotionConfig:a}));const c=l.current;m.useInsertionEffect(()=>{c&&c.update(n,s)});const u=m.useRef(!!(n[_R]&&!window.HandoffComplete));return Vw(()=>{c&&(c.render(),u.current&&c.animationState&&c.animationState.animateChanges())}),m.useEffect(()=>{c&&(c.updateFeatures(),!u.current&&c.animationState&&c.animationState.animateChanges(),u.current&&(u.current=!1,window.HandoffComplete=!0))}),c}function ma(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function I7(t,e,n){return m.useCallback(r=>{r&&t.mount&&t.mount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):ma(n)&&(n.current=r))},[e])}function iu(t){return typeof t=="string"||Array.isArray(t)}function Dp(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}const Fw=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],$w=["initial",...Fw];function Mp(t){return Dp(t.animate)||$w.some(e=>iu(t[e]))}function xR(t){return!!(Mp(t)||t.variants)}function A7(t,e){if(Mp(t)){const{initial:n,animate:r}=t;return{initial:n===!1||iu(n)?n:void 0,animate:iu(r)?r:void 0}}return t.inherit!==!1?e:{}}function k7(t){const{initial:e,animate:n}=A7(t,m.useContext(kp));return m.useMemo(()=>({initial:e,animate:n}),[Qb(e),Qb(n)])}function Qb(t){return Array.isArray(t)?t.join(" "):t}const Xb={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},ou={};for(const t in Xb)ou[t]={isEnabled:e=>Xb[t].some(n=>!!e[n])};function R7(t){for(const e in t)ou[e]={...ou[e],...t[e]}}const Uw=m.createContext({}),ER=m.createContext({}),N7=Symbol.for("motionComponentSymbol");function D7({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:i}){t&&R7(t);function o(a,l){let c;const u={...m.useContext(yR),...a,layoutId:M7(a)},{isStatic:f}=u,h=k7(a),g=r(a,f);if(!f&&Np){h.visualElement=P7(i,g,u,e);const w=m.useContext(ER),v=m.useContext(wR).strict;h.visualElement&&(c=h.visualElement.loadFeatures(u,v,t,w))}return m.createElement(kp.Provider,{value:h},c&&h.visualElement?m.createElement(c,{visualElement:h.visualElement,...u}):null,n(i,a,I7(g,h.visualElement,l),g,f,h.visualElement))}const s=m.forwardRef(o);return s[N7]=i,s}function M7({layoutId:t}){const e=m.useContext(Uw).id;return e&&t!==void 0?e+"-"+t:t}function O7(t){function e(r,i={}){return D7(t(r,i))}if(typeof Proxy>"u")return e;const n=new Map;return new Proxy(e,{get:(r,i)=>(n.has(i)||n.set(i,e(i)),n.get(i))})}const L7=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Bw(t){return typeof t!="string"||t.includes("-")?!1:!!(L7.indexOf(t)>-1||/[A-Z]/.test(t))}const ph={};function V7(t){Object.assign(ph,t)}const Au=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Ms=new Set(Au);function bR(t,{layout:e,layoutId:n}){return Ms.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!ph[t]||t==="opacity")}const In=t=>!!(t&&t.getVelocity),j7={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},F7=Au.length;function $7(t,{enableHardwareAcceleration:e=!0,allowTransformNone:n=!0},r,i){let o="";for(let s=0;s<F7;s++){const a=Au[s];if(t[a]!==void 0){const l=j7[a]||a;o+=`${l}(${t[a]}) `}}return e&&!t.z&&(o+="translateZ(0)"),o=o.trim(),i?o=i(t,r?"":o):n&&r&&(o="none"),o}const TR=t=>e=>typeof e=="string"&&e.startsWith(t),CR=TR("--"),vy=TR("var(--"),U7=/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,B7=(t,e)=>e&&typeof t=="number"?e.transform(t):t,Do=(t,e,n)=>Math.min(Math.max(n,t),e),Os={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Cc={...Os,transform:t=>Do(0,1,t)},Pd={...Os,default:1},Sc=t=>Math.round(t*1e5)/1e5,Op=/(-)?([\d]*\.?[\d])+/g,SR=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,W7=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function ku(t){return typeof t=="string"}const Ru=t=>({test:e=>ku(e)&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),zi=Ru("deg"),Ur=Ru("%"),pe=Ru("px"),z7=Ru("vh"),H7=Ru("vw"),Jb={...Ur,parse:t=>Ur.parse(t)/100,transform:t=>Ur.transform(t*100)},Zb={...Os,transform:Math.round},PR={borderWidth:pe,borderTopWidth:pe,borderRightWidth:pe,borderBottomWidth:pe,borderLeftWidth:pe,borderRadius:pe,radius:pe,borderTopLeftRadius:pe,borderTopRightRadius:pe,borderBottomRightRadius:pe,borderBottomLeftRadius:pe,width:pe,maxWidth:pe,height:pe,maxHeight:pe,size:pe,top:pe,right:pe,bottom:pe,left:pe,padding:pe,paddingTop:pe,paddingRight:pe,paddingBottom:pe,paddingLeft:pe,margin:pe,marginTop:pe,marginRight:pe,marginBottom:pe,marginLeft:pe,rotate:zi,rotateX:zi,rotateY:zi,rotateZ:zi,scale:Pd,scaleX:Pd,scaleY:Pd,scaleZ:Pd,skew:zi,skewX:zi,skewY:zi,distance:pe,translateX:pe,translateY:pe,translateZ:pe,x:pe,y:pe,z:pe,perspective:pe,transformPerspective:pe,opacity:Cc,originX:Jb,originY:Jb,originZ:pe,zIndex:Zb,fillOpacity:Cc,strokeOpacity:Cc,numOctaves:Zb};function Ww(t,e,n,r){const{style:i,vars:o,transform:s,transformOrigin:a}=t;let l=!1,c=!1,u=!0;for(const f in e){const h=e[f];if(CR(f)){o[f]=h;continue}const g=PR[f],w=B7(h,g);if(Ms.has(f)){if(l=!0,s[f]=w,!u)continue;h!==(g.default||0)&&(u=!1)}else f.startsWith("origin")?(c=!0,a[f]=w):i[f]=w}if(e.transform||(l||r?i.transform=$7(t.transform,n,u,r):i.transform&&(i.transform="none")),c){const{originX:f="50%",originY:h="50%",originZ:g=0}=a;i.transformOrigin=`${f} ${h} ${g}`}}const zw=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function IR(t,e,n){for(const r in e)!In(e[r])&&!bR(r,n)&&(t[r]=e[r])}function q7({transformTemplate:t},e,n){return m.useMemo(()=>{const r=zw();return Ww(r,e,{enableHardwareAcceleration:!n},t),Object.assign({},r.vars,r.style)},[e])}function G7(t,e,n){const r=t.style||{},i={};return IR(i,r,t),Object.assign(i,q7(t,e,n)),t.transformValues?t.transformValues(i):i}function Y7(t,e,n){const r={},i=G7(t,e,n);return t.drag&&t.dragListener!==!1&&(r.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(r.tabIndex=0),r.style=i,r}const K7=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function mh(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||K7.has(t)}let AR=t=>!mh(t);function Q7(t){t&&(AR=e=>e.startsWith("on")?!mh(e):t(e))}try{Q7(require("@emotion/is-prop-valid").default)}catch{}function X7(t,e,n){const r={};for(const i in t)i==="values"&&typeof t.values=="object"||(AR(i)||n===!0&&mh(i)||!e&&!mh(i)||t.draggable&&i.startsWith("onDrag"))&&(r[i]=t[i]);return r}function eT(t,e,n){return typeof t=="string"?t:pe.transform(e+n*t)}function J7(t,e,n){const r=eT(e,t.x,t.width),i=eT(n,t.y,t.height);return`${r} ${i}`}const Z7={offset:"stroke-dashoffset",array:"stroke-dasharray"},e8={offset:"strokeDashoffset",array:"strokeDasharray"};function t8(t,e,n=1,r=0,i=!0){t.pathLength=1;const o=i?Z7:e8;t[o.offset]=pe.transform(-r);const s=pe.transform(e),a=pe.transform(n);t[o.array]=`${s} ${a}`}function Hw(t,{attrX:e,attrY:n,attrScale:r,originX:i,originY:o,pathLength:s,pathSpacing:a=1,pathOffset:l=0,...c},u,f,h){if(Ww(t,c,u,h),f){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:g,style:w,dimensions:v}=t;g.transform&&(v&&(w.transform=g.transform),delete g.transform),v&&(i!==void 0||o!==void 0||w.transform)&&(w.transformOrigin=J7(v,i!==void 0?i:.5,o!==void 0?o:.5)),e!==void 0&&(g.x=e),n!==void 0&&(g.y=n),r!==void 0&&(g.scale=r),s!==void 0&&t8(g,s,a,l,!1)}const kR=()=>({...zw(),attrs:{}}),qw=t=>typeof t=="string"&&t.toLowerCase()==="svg";function n8(t,e,n,r){const i=m.useMemo(()=>{const o=kR();return Hw(o,e,{enableHardwareAcceleration:!1},qw(r),t.transformTemplate),{...o.attrs,style:{...o.style}}},[e]);if(t.style){const o={};IR(o,t.style,t),i.style={...o,...i.style}}return i}function r8(t=!1){return(n,r,i,{latestValues:o},s)=>{const l=(Bw(n)?n8:Y7)(r,o,s,n),u={...X7(r,typeof n=="string",t),...l,ref:i},{children:f}=r,h=m.useMemo(()=>In(f)?f.get():f,[f]);return m.createElement(n,{...u,children:h})}}function RR(t,{style:e,vars:n},r,i){Object.assign(t.style,e,i&&i.getProjectionStyles(r));for(const o in n)t.style.setProperty(o,n[o])}const NR=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function DR(t,e,n,r){RR(t,e,void 0,r);for(const i in e.attrs)t.setAttribute(NR.has(i)?i:jw(i),e.attrs[i])}function Gw(t,e){const{style:n}=t,r={};for(const i in n)(In(n[i])||e.style&&In(e.style[i])||bR(i,t))&&(r[i]=n[i]);return r}function MR(t,e){const n=Gw(t,e);for(const r in t)if(In(t[r])||In(e[r])){const i=Au.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;n[i]=t[r]}return n}function Yw(t,e,n,r={},i={}){return typeof e=="function"&&(e=e(n!==void 0?n:t.custom,r,i)),typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"&&(e=e(n!==void 0?n:t.custom,r,i)),e}function OR(t){const e=m.useRef(null);return e.current===null&&(e.current=t()),e.current}const gh=t=>Array.isArray(t),i8=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),o8=t=>gh(t)?t[t.length-1]||0:t;function df(t){const e=In(t)?t.get():t;return i8(e)?e.toValue():e}function s8({scrapeMotionValuesFromProps:t,createRenderState:e,onMount:n},r,i,o){const s={latestValues:a8(r,i,o,t),renderState:e()};return n&&(s.mount=a=>n(r,a,s)),s}const LR=t=>(e,n)=>{const r=m.useContext(kp),i=m.useContext(Rp),o=()=>s8(t,e,r,i);return n?o():OR(o)};function a8(t,e,n,r){const i={},o=r(t,{});for(const h in o)i[h]=df(o[h]);let{initial:s,animate:a}=t;const l=Mp(t),c=xR(t);e&&c&&!l&&t.inherit!==!1&&(s===void 0&&(s=e.initial),a===void 0&&(a=e.animate));let u=n?n.initial===!1:!1;u=u||s===!1;const f=u?a:s;return f&&typeof f!="boolean"&&!Dp(f)&&(Array.isArray(f)?f:[f]).forEach(g=>{const w=Yw(t,g);if(!w)return;const{transitionEnd:v,transition:E,...x}=w;for(const y in x){let b=x[y];if(Array.isArray(b)){const P=u?b.length-1:0;b=b[P]}b!==null&&(i[y]=b)}for(const y in v)i[y]=v[y]}),i}const yt=t=>t;class tT{constructor(){this.order=[],this.scheduled=new Set}add(e){if(!this.scheduled.has(e))return this.scheduled.add(e),this.order.push(e),!0}remove(e){const n=this.order.indexOf(e);n!==-1&&(this.order.splice(n,1),this.scheduled.delete(e))}clear(){this.order.length=0,this.scheduled.clear()}}function l8(t){let e=new tT,n=new tT,r=0,i=!1,o=!1;const s=new WeakSet,a={schedule:(l,c=!1,u=!1)=>{const f=u&&i,h=f?e:n;return c&&s.add(l),h.add(l)&&f&&i&&(r=e.order.length),l},cancel:l=>{n.remove(l),s.delete(l)},process:l=>{if(i){o=!0;return}if(i=!0,[e,n]=[n,e],n.clear(),r=e.order.length,r)for(let c=0;c<r;c++){const u=e.order[c];u(l),s.has(u)&&(a.schedule(u),t())}i=!1,o&&(o=!1,a.process(l))}};return a}const Id=["prepare","read","update","preRender","render","postRender"],c8=40;function u8(t,e){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},o=Id.reduce((f,h)=>(f[h]=l8(()=>n=!0),f),{}),s=f=>o[f].process(i),a=()=>{const f=performance.now();n=!1,i.delta=r?1e3/60:Math.max(Math.min(f-i.timestamp,c8),1),i.timestamp=f,i.isProcessing=!0,Id.forEach(s),i.isProcessing=!1,n&&e&&(r=!1,t(a))},l=()=>{n=!0,r=!0,i.isProcessing||t(a)};return{schedule:Id.reduce((f,h)=>{const g=o[h];return f[h]=(w,v=!1,E=!1)=>(n||l(),g.schedule(w,v,E)),f},{}),cancel:f=>Id.forEach(h=>o[h].cancel(f)),state:i,steps:o}}const{schedule:Xe,cancel:Si,state:tn,steps:ag}=u8(typeof requestAnimationFrame<"u"?requestAnimationFrame:yt,!0),d8={useVisualState:LR({scrapeMotionValuesFromProps:MR,createRenderState:kR,onMount:(t,e,{renderState:n,latestValues:r})=>{Xe.read(()=>{try{n.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{n.dimensions={x:0,y:0,width:0,height:0}}}),Xe.render(()=>{Hw(n,r,{enableHardwareAcceleration:!1},qw(e.tagName),t.transformTemplate),DR(e,n)})}})},f8={useVisualState:LR({scrapeMotionValuesFromProps:Gw,createRenderState:zw})};function h8(t,{forwardMotionProps:e=!1},n,r){return{...Bw(t)?d8:f8,preloadedFeatures:n,useRender:r8(e),createVisualElement:r,Component:t}}function ui(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}const VR=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1;function Lp(t,e="page"){return{point:{x:t[e+"X"],y:t[e+"Y"]}}}const p8=t=>e=>VR(e)&&t(e,Lp(e));function hi(t,e,n,r){return ui(t,e,p8(n),r)}const m8=(t,e)=>n=>e(t(n)),xo=(...t)=>t.reduce(m8);function jR(t){let e=null;return()=>{const n=()=>{e=null};return e===null?(e=t,n):!1}}const nT=jR("dragHorizontal"),rT=jR("dragVertical");function FR(t){let e=!1;if(t==="y")e=rT();else if(t==="x")e=nT();else{const n=nT(),r=rT();n&&r?e=()=>{n(),r()}:(n&&n(),r&&r())}return e}function $R(){const t=FR(!0);return t?(t(),!1):!0}class zo{constructor(e){this.isMounted=!1,this.node=e}update(){}}function iT(t,e){const n="pointer"+(e?"enter":"leave"),r="onHover"+(e?"Start":"End"),i=(o,s)=>{if(o.pointerType==="touch"||$R())return;const a=t.getProps();t.animationState&&a.whileHover&&t.animationState.setActive("whileHover",e),a[r]&&Xe.update(()=>a[r](o,s))};return hi(t.current,n,i,{passive:!t.getProps()[r]})}class g8 extends zo{mount(){this.unmount=xo(iT(this.node,!0),iT(this.node,!1))}unmount(){}}class v8 extends zo{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=xo(ui(this.node.current,"focus",()=>this.onFocus()),ui(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const UR=(t,e)=>e?t===e?!0:UR(t,e.parentElement):!1;function lg(t,e){if(!e)return;const n=new PointerEvent("pointer"+t);e(n,Lp(n))}class y8 extends zo{constructor(){super(...arguments),this.removeStartListeners=yt,this.removeEndListeners=yt,this.removeAccessibleListeners=yt,this.startPointerPress=(e,n)=>{if(this.isPressing)return;this.removeEndListeners();const r=this.node.getProps(),o=hi(window,"pointerup",(a,l)=>{if(!this.checkPressEnd())return;const{onTap:c,onTapCancel:u,globalTapTarget:f}=this.node.getProps();Xe.update(()=>{!f&&!UR(this.node.current,a.target)?u&&u(a,l):c&&c(a,l)})},{passive:!(r.onTap||r.onPointerUp)}),s=hi(window,"pointercancel",(a,l)=>this.cancelPress(a,l),{passive:!(r.onTapCancel||r.onPointerCancel)});this.removeEndListeners=xo(o,s),this.startPress(e,n)},this.startAccessiblePress=()=>{const e=o=>{if(o.key!=="Enter"||this.isPressing)return;const s=a=>{a.key!=="Enter"||!this.checkPressEnd()||lg("up",(l,c)=>{const{onTap:u}=this.node.getProps();u&&Xe.update(()=>u(l,c))})};this.removeEndListeners(),this.removeEndListeners=ui(this.node.current,"keyup",s),lg("down",(a,l)=>{this.startPress(a,l)})},n=ui(this.node.current,"keydown",e),r=()=>{this.isPressing&&lg("cancel",(o,s)=>this.cancelPress(o,s))},i=ui(this.node.current,"blur",r);this.removeAccessibleListeners=xo(n,i)}}startPress(e,n){this.isPressing=!0;const{onTapStart:r,whileTap:i}=this.node.getProps();i&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),r&&Xe.update(()=>r(e,n))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!$R()}cancelPress(e,n){if(!this.checkPressEnd())return;const{onTapCancel:r}=this.node.getProps();r&&Xe.update(()=>r(e,n))}mount(){const e=this.node.getProps(),n=hi(e.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(e.onTapStart||e.onPointerStart)}),r=ui(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=xo(n,r)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const yy=new WeakMap,cg=new WeakMap,w8=t=>{const e=yy.get(t.target);e&&e(t)},_8=t=>{t.forEach(w8)};function x8({root:t,...e}){const n=t||document;cg.has(n)||cg.set(n,{});const r=cg.get(n),i=JSON.stringify(e);return r[i]||(r[i]=new IntersectionObserver(_8,{root:t,...e})),r[i]}function E8(t,e,n){const r=x8(e);return yy.set(t,n),r.observe(t),()=>{yy.delete(t),r.unobserve(t)}}const b8={some:0,all:1};class T8 extends zo{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:o}=e,s={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:b8[i]},a=l=>{const{isIntersecting:c}=l;if(this.isInView===c||(this.isInView=c,o&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:u,onViewportLeave:f}=this.node.getProps(),h=c?u:f;h&&h(l)};return E8(this.node.current,s,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(C8(e,n))&&this.startObserver()}unmount(){}}function C8({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const S8={inView:{Feature:T8},tap:{Feature:y8},focus:{Feature:v8},hover:{Feature:g8}};function BR(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}function P8(t){const e={};return t.values.forEach((n,r)=>e[r]=n.get()),e}function I8(t){const e={};return t.values.forEach((n,r)=>e[r]=n.getVelocity()),e}function Vp(t,e,n){const r=t.getProps();return Yw(r,e,n!==void 0?n:r.custom,P8(t),I8(t))}let A8=yt,Kw=yt;const Eo=t=>t*1e3,pi=t=>t/1e3,k8={current:!1},WR=t=>Array.isArray(t)&&typeof t[0]=="number";function zR(t){return!!(!t||typeof t=="string"&&HR[t]||WR(t)||Array.isArray(t)&&t.every(zR))}const cc=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,HR={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:cc([0,.65,.55,1]),circOut:cc([.55,0,1,.45]),backIn:cc([.31,.01,.66,-.59]),backOut:cc([.33,1.53,.69,.99])};function qR(t){if(t)return WR(t)?cc(t):Array.isArray(t)?t.map(qR):HR[t]}function R8(t,e,n,{delay:r=0,duration:i,repeat:o=0,repeatType:s="loop",ease:a,times:l}={}){const c={[e]:n};l&&(c.offset=l);const u=qR(a);return Array.isArray(u)&&(c.easing=u),t.animate(c,{delay:r,duration:i,easing:Array.isArray(u)?"linear":u,fill:"both",iterations:o+1,direction:s==="reverse"?"alternate":"normal"})}function N8(t,{repeat:e,repeatType:n="loop"}){const r=e&&n!=="loop"&&e%2===1?0:t.length-1;return t[r]}const GR=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,D8=1e-7,M8=12;function O8(t,e,n,r,i){let o,s,a=0;do s=e+(n-e)/2,o=GR(s,r,i)-t,o>0?n=s:e=s;while(Math.abs(o)>D8&&++a<M8);return s}function Nu(t,e,n,r){if(t===e&&n===r)return yt;const i=o=>O8(o,0,1,t,n);return o=>o===0||o===1?o:GR(i(o),e,r)}const L8=Nu(.42,0,1,1),V8=Nu(0,0,.58,1),YR=Nu(.42,0,.58,1),j8=t=>Array.isArray(t)&&typeof t[0]!="number",KR=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,QR=t=>e=>1-t(1-e),Qw=t=>1-Math.sin(Math.acos(t)),XR=QR(Qw),F8=KR(Qw),JR=Nu(.33,1.53,.69,.99),Xw=QR(JR),$8=KR(Xw),U8=t=>(t*=2)<1?.5*Xw(t):.5*(2-Math.pow(2,-10*(t-1))),B8={linear:yt,easeIn:L8,easeInOut:YR,easeOut:V8,circIn:Qw,circInOut:F8,circOut:XR,backIn:Xw,backInOut:$8,backOut:JR,anticipate:U8},oT=t=>{if(Array.isArray(t)){Kw(t.length===4);const[e,n,r,i]=t;return Nu(e,n,r,i)}else if(typeof t=="string")return B8[t];return t},Jw=(t,e)=>n=>!!(ku(n)&&W7.test(n)&&n.startsWith(t)||e&&Object.prototype.hasOwnProperty.call(n,e)),ZR=(t,e,n)=>r=>{if(!ku(r))return r;const[i,o,s,a]=r.match(Op);return{[t]:parseFloat(i),[e]:parseFloat(o),[n]:parseFloat(s),alpha:a!==void 0?parseFloat(a):1}},W8=t=>Do(0,255,t),ug={...Os,transform:t=>Math.round(W8(t))},cs={test:Jw("rgb","red"),parse:ZR("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+ug.transform(t)+", "+ug.transform(e)+", "+ug.transform(n)+", "+Sc(Cc.transform(r))+")"};function z8(t){let e="",n="",r="",i="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),i=t.substring(4,5),e+=e,n+=n,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const wy={test:Jw("#"),parse:z8,transform:cs.transform},ga={test:Jw("hsl","hue"),parse:ZR("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+Ur.transform(Sc(e))+", "+Ur.transform(Sc(n))+", "+Sc(Cc.transform(r))+")"},hn={test:t=>cs.test(t)||wy.test(t)||ga.test(t),parse:t=>cs.test(t)?cs.parse(t):ga.test(t)?ga.parse(t):wy.parse(t),transform:t=>ku(t)?t:t.hasOwnProperty("red")?cs.transform(t):ga.transform(t)},ut=(t,e,n)=>-n*t+n*e+t;function dg(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function H8({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let i=0,o=0,s=0;if(!e)i=o=s=n;else{const a=n<.5?n*(1+e):n+e-n*e,l=2*n-a;i=dg(l,a,t+1/3),o=dg(l,a,t),s=dg(l,a,t-1/3)}return{red:Math.round(i*255),green:Math.round(o*255),blue:Math.round(s*255),alpha:r}}const fg=(t,e,n)=>{const r=t*t;return Math.sqrt(Math.max(0,n*(e*e-r)+r))},q8=[wy,cs,ga],G8=t=>q8.find(e=>e.test(t));function sT(t){const e=G8(t);let n=e.parse(t);return e===ga&&(n=H8(n)),n}const e2=(t,e)=>{const n=sT(t),r=sT(e),i={...n};return o=>(i.red=fg(n.red,r.red,o),i.green=fg(n.green,r.green,o),i.blue=fg(n.blue,r.blue,o),i.alpha=ut(n.alpha,r.alpha,o),cs.transform(i))};function Y8(t){var e,n;return isNaN(t)&&ku(t)&&(((e=t.match(Op))===null||e===void 0?void 0:e.length)||0)+(((n=t.match(SR))===null||n===void 0?void 0:n.length)||0)>0}const t2={regex:U7,countKey:"Vars",token:"${v}",parse:yt},n2={regex:SR,countKey:"Colors",token:"${c}",parse:hn.parse},r2={regex:Op,countKey:"Numbers",token:"${n}",parse:Os.parse};function hg(t,{regex:e,countKey:n,token:r,parse:i}){const o=t.tokenised.match(e);o&&(t["num"+n]=o.length,t.tokenised=t.tokenised.replace(e,r),t.values.push(...o.map(i)))}function vh(t){const e=t.toString(),n={value:e,tokenised:e,values:[],numVars:0,numColors:0,numNumbers:0};return n.value.includes("var(--")&&hg(n,t2),hg(n,n2),hg(n,r2),n}function i2(t){return vh(t).values}function o2(t){const{values:e,numColors:n,numVars:r,tokenised:i}=vh(t),o=e.length;return s=>{let a=i;for(let l=0;l<o;l++)l<r?a=a.replace(t2.token,s[l]):l<r+n?a=a.replace(n2.token,hn.transform(s[l])):a=a.replace(r2.token,Sc(s[l]));return a}}const K8=t=>typeof t=="number"?0:t;function Q8(t){const e=i2(t);return o2(t)(e.map(K8))}const Mo={test:Y8,parse:i2,createTransformer:o2,getAnimatableNone:Q8},s2=(t,e)=>n=>`${n>0?e:t}`;function a2(t,e){return typeof t=="number"?n=>ut(t,e,n):hn.test(t)?e2(t,e):t.startsWith("var(")?s2(t,e):c2(t,e)}const l2=(t,e)=>{const n=[...t],r=n.length,i=t.map((o,s)=>a2(o,e[s]));return o=>{for(let s=0;s<r;s++)n[s]=i[s](o);return n}},X8=(t,e)=>{const n={...t,...e},r={};for(const i in n)t[i]!==void 0&&e[i]!==void 0&&(r[i]=a2(t[i],e[i]));return i=>{for(const o in r)n[o]=r[o](i);return n}},c2=(t,e)=>{const n=Mo.createTransformer(e),r=vh(t),i=vh(e);return r.numVars===i.numVars&&r.numColors===i.numColors&&r.numNumbers>=i.numNumbers?xo(l2(r.values,i.values),n):s2(t,e)},su=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r},aT=(t,e)=>n=>ut(t,e,n);function J8(t){return typeof t=="number"?aT:typeof t=="string"?hn.test(t)?e2:c2:Array.isArray(t)?l2:typeof t=="object"?X8:aT}function Z8(t,e,n){const r=[],i=n||J8(t[0]),o=t.length-1;for(let s=0;s<o;s++){let a=i(t[s],t[s+1]);if(e){const l=Array.isArray(e)?e[s]||yt:e;a=xo(l,a)}r.push(a)}return r}function u2(t,e,{clamp:n=!0,ease:r,mixer:i}={}){const o=t.length;if(Kw(o===e.length),o===1)return()=>e[0];t[0]>t[o-1]&&(t=[...t].reverse(),e=[...e].reverse());const s=Z8(e,r,i),a=s.length,l=c=>{let u=0;if(a>1)for(;u<t.length-2&&!(c<t[u+1]);u++);const f=su(t[u],t[u+1],c);return s[u](f)};return n?c=>l(Do(t[0],t[o-1],c)):l}function eB(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const i=su(0,e,r);t.push(ut(n,1,i))}}function tB(t){const e=[0];return eB(e,t.length-1),e}function nB(t,e){return t.map(n=>n*e)}function rB(t,e){return t.map(()=>e||YR).splice(0,t.length-1)}function yh({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const i=j8(r)?r.map(oT):oT(r),o={done:!1,value:e[0]},s=nB(n&&n.length===e.length?n:tB(e),t),a=u2(s,e,{ease:Array.isArray(i)?i:rB(e,i)});return{calculatedDuration:t,next:l=>(o.value=a(l),o.done=l>=t,o)}}function d2(t,e){return e?t*(1e3/e):0}const iB=5;function f2(t,e,n){const r=Math.max(e-iB,0);return d2(n-t(r),e-r)}const pg=.001,oB=.01,lT=10,sB=.05,aB=1;function lB({duration:t=800,bounce:e=.25,velocity:n=0,mass:r=1}){let i,o;A8(t<=Eo(lT));let s=1-e;s=Do(sB,aB,s),t=Do(oB,lT,pi(t)),s<1?(i=c=>{const u=c*s,f=u*t,h=u-n,g=_y(c,s),w=Math.exp(-f);return pg-h/g*w},o=c=>{const f=c*s*t,h=f*n+n,g=Math.pow(s,2)*Math.pow(c,2)*t,w=Math.exp(-f),v=_y(Math.pow(c,2),s);return(-i(c)+pg>0?-1:1)*((h-g)*w)/v}):(i=c=>{const u=Math.exp(-c*t),f=(c-n)*t+1;return-pg+u*f},o=c=>{const u=Math.exp(-c*t),f=(n-c)*(t*t);return u*f});const a=5/t,l=uB(i,o,a);if(t=Eo(t),isNaN(l))return{stiffness:100,damping:10,duration:t};{const c=Math.pow(l,2)*r;return{stiffness:c,damping:s*2*Math.sqrt(r*c),duration:t}}}const cB=12;function uB(t,e,n){let r=n;for(let i=1;i<cB;i++)r=r-t(r)/e(r);return r}function _y(t,e){return t*Math.sqrt(1-e*e)}const dB=["duration","bounce"],fB=["stiffness","damping","mass"];function cT(t,e){return e.some(n=>t[n]!==void 0)}function hB(t){let e={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...t};if(!cT(t,fB)&&cT(t,dB)){const n=lB(t);e={...e,...n,mass:1},e.isResolvedFromDuration=!0}return e}function h2({keyframes:t,restDelta:e,restSpeed:n,...r}){const i=t[0],o=t[t.length-1],s={done:!1,value:i},{stiffness:a,damping:l,mass:c,duration:u,velocity:f,isResolvedFromDuration:h}=hB({...r,velocity:-pi(r.velocity||0)}),g=f||0,w=l/(2*Math.sqrt(a*c)),v=o-i,E=pi(Math.sqrt(a/c)),x=Math.abs(v)<5;n||(n=x?.01:2),e||(e=x?.005:.5);let y;if(w<1){const b=_y(E,w);y=P=>{const R=Math.exp(-w*E*P);return o-R*((g+w*E*v)/b*Math.sin(b*P)+v*Math.cos(b*P))}}else if(w===1)y=b=>o-Math.exp(-E*b)*(v+(g+E*v)*b);else{const b=E*Math.sqrt(w*w-1);y=P=>{const R=Math.exp(-w*E*P),D=Math.min(b*P,300);return o-R*((g+w*E*v)*Math.sinh(D)+b*v*Math.cosh(D))/b}}return{calculatedDuration:h&&u||null,next:b=>{const P=y(b);if(h)s.done=b>=u;else{let R=g;b!==0&&(w<1?R=f2(y,b,P):R=0);const D=Math.abs(R)<=n,S=Math.abs(o-P)<=e;s.done=D&&S}return s.value=s.done?o:P,s}}}function uT({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:o=500,modifyTarget:s,min:a,max:l,restDelta:c=.5,restSpeed:u}){const f=t[0],h={done:!1,value:f},g=C=>a!==void 0&&C<a||l!==void 0&&C>l,w=C=>a===void 0?l:l===void 0||Math.abs(a-C)<Math.abs(l-C)?a:l;let v=n*e;const E=f+v,x=s===void 0?E:s(E);x!==E&&(v=x-f);const y=C=>-v*Math.exp(-C/r),b=C=>x+y(C),P=C=>{const I=y(C),A=b(C);h.done=Math.abs(I)<=c,h.value=h.done?x:A};let R,D;const S=C=>{g(h.value)&&(R=C,D=h2({keyframes:[h.value,w(h.value)],velocity:f2(b,C,h.value),damping:i,stiffness:o,restDelta:c,restSpeed:u}))};return S(0),{calculatedDuration:null,next:C=>{let I=!1;return!D&&R===void 0&&(I=!0,P(C),S(C)),R!==void 0&&C>R?D.next(C-R):(!I&&P(C),h)}}}const pB=t=>{const e=({timestamp:n})=>t(n);return{start:()=>Xe.update(e,!0),stop:()=>Si(e),now:()=>tn.isProcessing?tn.timestamp:performance.now()}},dT=2e4;function fT(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<dT;)e+=n,r=t.next(e);return e>=dT?1/0:e}const mB={decay:uT,inertia:uT,tween:yh,keyframes:yh,spring:h2};function wh({autoplay:t=!0,delay:e=0,driver:n=pB,keyframes:r,type:i="keyframes",repeat:o=0,repeatDelay:s=0,repeatType:a="loop",onPlay:l,onStop:c,onComplete:u,onUpdate:f,...h}){let g=1,w=!1,v,E;const x=()=>{E=new Promise(z=>{v=z})};x();let y;const b=mB[i]||yh;let P;b!==yh&&typeof r[0]!="number"&&(P=u2([0,100],r,{clamp:!1}),r=[0,100]);const R=b({...h,keyframes:r});let D;a==="mirror"&&(D=b({...h,keyframes:[...r].reverse(),velocity:-(h.velocity||0)}));let S="idle",C=null,I=null,A=null;R.calculatedDuration===null&&o&&(R.calculatedDuration=fT(R));const{calculatedDuration:M}=R;let O=1/0,N=1/0;M!==null&&(O=M+s,N=O*(o+1)-s);let F=0;const Y=z=>{if(I===null)return;g>0&&(I=Math.min(I,z)),g<0&&(I=Math.min(z-N/g,I)),C!==null?F=C:F=Math.round(z-I)*g;const B=F-e*(g>=0?1:-1),q=g>=0?B<0:B>N;F=Math.max(B,0),S==="finished"&&C===null&&(F=N);let Z=F,se=R;if(o){const te=Math.min(F,N)/O;let ee=Math.floor(te),de=te%1;!de&&te>=1&&(de=1),de===1&&ee--,ee=Math.min(ee,o+1),!!(ee%2)&&(a==="reverse"?(de=1-de,s&&(de-=s/O)):a==="mirror"&&(se=D)),Z=Do(0,1,de)*O}const ye=q?{done:!1,value:r[0]}:se.next(Z);P&&(ye.value=P(ye.value));let{done:J}=ye;!q&&M!==null&&(J=g>=0?F>=N:F<=0);const re=C===null&&(S==="finished"||S==="running"&&J);return f&&f(ye.value),re&&L(),ye},K=()=>{y&&y.stop(),y=void 0},W=()=>{S="idle",K(),v(),x(),I=A=null},L=()=>{S="finished",u&&u(),K(),v()},j=()=>{if(w)return;y||(y=n(Y));const z=y.now();l&&l(),C!==null?I=z-C:(!I||S==="finished")&&(I=z),S==="finished"&&x(),A=I,C=null,S="running",y.start()};t&&j();const U={then(z,B){return E.then(z,B)},get time(){return pi(F)},set time(z){z=Eo(z),F=z,C!==null||!y||g===0?C=z:I=y.now()-z/g},get duration(){const z=R.calculatedDuration===null?fT(R):R.calculatedDuration;return pi(z)},get speed(){return g},set speed(z){z===g||!y||(g=z,U.time=pi(F))},get state(){return S},play:j,pause:()=>{S="paused",C=F},stop:()=>{w=!0,S!=="idle"&&(S="idle",c&&c(),W())},cancel:()=>{A!==null&&Y(A),W()},complete:()=>{S="finished"},sample:z=>(I=0,Y(z))};return U}function gB(t){let e;return()=>(e===void 0&&(e=t()),e)}const vB=gB(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),yB=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),Ad=10,wB=2e4,_B=(t,e)=>e.type==="spring"||t==="backgroundColor"||!zR(e.ease);function xB(t,e,{onUpdate:n,onComplete:r,...i}){if(!(vB()&&yB.has(e)&&!i.repeatDelay&&i.repeatType!=="mirror"&&i.damping!==0&&i.type!=="inertia"))return!1;let s=!1,a,l,c=!1;const u=()=>{l=new Promise(b=>{a=b})};u();let{keyframes:f,duration:h=300,ease:g,times:w}=i;if(_B(e,i)){const b=wh({...i,repeat:0,delay:0});let P={done:!1,value:f[0]};const R=[];let D=0;for(;!P.done&&D<wB;)P=b.sample(D),R.push(P.value),D+=Ad;w=void 0,f=R,h=D-Ad,g="linear"}const v=R8(t.owner.current,e,f,{...i,duration:h,ease:g,times:w}),E=()=>{c=!1,v.cancel()},x=()=>{c=!0,Xe.update(E),a(),u()};return v.onfinish=()=>{c||(t.set(N8(f,i)),r&&r(),x())},{then(b,P){return l.then(b,P)},attachTimeline(b){return v.timeline=b,v.onfinish=null,yt},get time(){return pi(v.currentTime||0)},set time(b){v.currentTime=Eo(b)},get speed(){return v.playbackRate},set speed(b){v.playbackRate=b},get duration(){return pi(h)},play:()=>{s||(v.play(),Si(E))},pause:()=>v.pause(),stop:()=>{if(s=!0,v.playState==="idle")return;const{currentTime:b}=v;if(b){const P=wh({...i,autoplay:!1});t.setWithVelocity(P.sample(b-Ad).value,P.sample(b).value,Ad)}x()},complete:()=>{c||v.finish()},cancel:x}}function EB({keyframes:t,delay:e,onUpdate:n,onComplete:r}){const i=()=>(n&&n(t[t.length-1]),r&&r(),{time:0,speed:1,duration:0,play:yt,pause:yt,stop:yt,then:o=>(o(),Promise.resolve()),cancel:yt,complete:yt});return e?wh({keyframes:[0,1],duration:0,delay:e,onComplete:i}):i()}const bB={type:"spring",stiffness:500,damping:25,restSpeed:10},TB=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),CB={type:"keyframes",duration:.8},SB={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},PB=(t,{keyframes:e})=>e.length>2?CB:Ms.has(t)?t.startsWith("scale")?TB(e[1]):bB:SB,xy=(t,e)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(Mo.test(e)||e==="0")&&!e.startsWith("url(")),IB=new Set(["brightness","contrast","saturate","opacity"]);function AB(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(Op)||[];if(!r)return t;const i=n.replace(r,"");let o=IB.has(e)?1:0;return r!==n&&(o*=100),e+"("+o+i+")"}const kB=/([a-z-]*)\(.*?\)/g,Ey={...Mo,getAnimatableNone:t=>{const e=t.match(kB);return e?e.map(AB).join(" "):t}},RB={...PR,color:hn,backgroundColor:hn,outlineColor:hn,fill:hn,stroke:hn,borderColor:hn,borderTopColor:hn,borderRightColor:hn,borderBottomColor:hn,borderLeftColor:hn,filter:Ey,WebkitFilter:Ey},Zw=t=>RB[t];function p2(t,e){let n=Zw(t);return n!==Ey&&(n=Mo),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const m2=t=>/^0[^.\s]+$/.test(t);function NB(t){if(typeof t=="number")return t===0;if(t!==null)return t==="none"||t==="0"||m2(t)}function DB(t,e,n,r){const i=xy(e,n);let o;Array.isArray(n)?o=[...n]:o=[null,n];const s=r.from!==void 0?r.from:t.get();let a;const l=[];for(let c=0;c<o.length;c++)o[c]===null&&(o[c]=c===0?s:o[c-1]),NB(o[c])&&l.push(c),typeof o[c]=="string"&&o[c]!=="none"&&o[c]!=="0"&&(a=o[c]);if(i&&l.length&&a)for(let c=0;c<l.length;c++){const u=l[c];o[u]=p2(e,a)}return o}function MB({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:o,repeatType:s,repeatDelay:a,from:l,elapsed:c,...u}){return!!Object.keys(u).length}function e1(t,e){return t[e]||t.default||t}const OB={skipAnimations:!1},t1=(t,e,n,r={})=>i=>{const o=e1(r,t)||{},s=o.delay||r.delay||0;let{elapsed:a=0}=r;a=a-Eo(s);const l=DB(e,t,n,o),c=l[0],u=l[l.length-1],f=xy(t,c),h=xy(t,u);let g={keyframes:l,velocity:e.getVelocity(),ease:"easeOut",...o,delay:-a,onUpdate:w=>{e.set(w),o.onUpdate&&o.onUpdate(w)},onComplete:()=>{i(),o.onComplete&&o.onComplete()}};if(MB(o)||(g={...g,...PB(t,g)}),g.duration&&(g.duration=Eo(g.duration)),g.repeatDelay&&(g.repeatDelay=Eo(g.repeatDelay)),!f||!h||k8.current||o.type===!1||OB.skipAnimations)return EB(g);if(!r.isHandoff&&e.owner&&e.owner.current instanceof HTMLElement&&!e.owner.getProps().onUpdate){const w=xB(e,t,g);if(w)return w}return wh(g)};function _h(t){return!!(In(t)&&t.add)}const g2=t=>/^\-?\d*\.?\d+$/.test(t);function n1(t,e){t.indexOf(e)===-1&&t.push(e)}function r1(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class i1{constructor(){this.subscriptions=[]}add(e){return n1(this.subscriptions,e),()=>r1(this.subscriptions,e)}notify(e,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,n,r);else for(let o=0;o<i;o++){const s=this.subscriptions[o];s&&s(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const LB=t=>!isNaN(parseFloat(t));class VB{constructor(e,n={}){this.version="10.18.0",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(r,i=!0)=>{this.prev=this.current,this.current=r;const{delta:o,timestamp:s}=tn;this.lastUpdated!==s&&(this.timeDelta=o,this.lastUpdated=s,Xe.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>Xe.postRender(this.velocityCheck),this.velocityCheck=({timestamp:r})=>{r!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=e,this.canTrackVelocity=LB(this.current),this.owner=n.owner}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new i1);const r=this.events[e].add(n);return e==="change"?()=>{r(),Xe.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=e,this.timeDelta=r}jump(e){this.updateAndNotify(e),this.prev=e,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?d2(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Ja(t,e){return new VB(t,e)}const v2=t=>e=>e.test(t),jB={test:t=>t==="auto",parse:t=>t},y2=[Os,pe,Ur,zi,H7,z7,jB],Ql=t=>y2.find(v2(t)),FB=[...y2,hn,Mo],$B=t=>FB.find(v2(t));function UB(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,Ja(n))}function BB(t,e){const n=Vp(t,e);let{transitionEnd:r={},transition:i={},...o}=n?t.makeTargetAnimatable(n,!1):{};o={...o,...r};for(const s in o){const a=o8(o[s]);UB(t,s,a)}}function WB(t,e,n){var r,i;const o=Object.keys(e).filter(a=>!t.hasValue(a)),s=o.length;if(s)for(let a=0;a<s;a++){const l=o[a],c=e[l];let u=null;Array.isArray(c)&&(u=c[0]),u===null&&(u=(i=(r=n[l])!==null&&r!==void 0?r:t.readValue(l))!==null&&i!==void 0?i:e[l]),u!=null&&(typeof u=="string"&&(g2(u)||m2(u))?u=parseFloat(u):!$B(u)&&Mo.test(c)&&(u=p2(l,c)),t.addValue(l,Ja(u,{owner:t})),n[l]===void 0&&(n[l]=u),u!==null&&t.setBaseTarget(l,u))}}function zB(t,e){return e?(e[t]||e.default||e).from:void 0}function HB(t,e,n){const r={};for(const i in t){const o=zB(i,e);if(o!==void 0)r[i]=o;else{const s=n.getValue(i);s&&(r[i]=s.get())}}return r}function qB({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function GB(t,e){const n=t.get();if(Array.isArray(e)){for(let r=0;r<e.length;r++)if(e[r]!==n)return!0}else return n!==e}function w2(t,e,{delay:n=0,transitionOverride:r,type:i}={}){let{transition:o=t.getDefaultTransition(),transitionEnd:s,...a}=t.makeTargetAnimatable(e);const l=t.getValue("willChange");r&&(o=r);const c=[],u=i&&t.animationState&&t.animationState.getState()[i];for(const f in a){const h=t.getValue(f),g=a[f];if(!h||g===void 0||u&&qB(u,f))continue;const w={delay:n,elapsed:0,...e1(o||{},f)};if(window.HandoffAppearAnimations){const x=t.getProps()[_R];if(x){const y=window.HandoffAppearAnimations(x,f,h,Xe);y!==null&&(w.elapsed=y,w.isHandoff=!0)}}let v=!w.isHandoff&&!GB(h,g);if(w.type==="spring"&&(h.getVelocity()||w.velocity)&&(v=!1),h.animation&&(v=!1),v)continue;h.start(t1(f,h,g,t.shouldReduceMotion&&Ms.has(f)?{type:!1}:w));const E=h.animation;_h(l)&&(l.add(f),E.then(()=>l.remove(f))),c.push(E)}return s&&Promise.all(c).then(()=>{s&&BB(t,s)}),c}function by(t,e,n={}){const r=Vp(t,e,n.custom);let{transition:i=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(i=n.transitionOverride);const o=r?()=>Promise.all(w2(t,r,n)):()=>Promise.resolve(),s=t.variantChildren&&t.variantChildren.size?(l=0)=>{const{delayChildren:c=0,staggerChildren:u,staggerDirection:f}=i;return YB(t,e,c+l,u,f,n)}:()=>Promise.resolve(),{when:a}=i;if(a){const[l,c]=a==="beforeChildren"?[o,s]:[s,o];return l().then(()=>c())}else return Promise.all([o(),s(n.delay)])}function YB(t,e,n=0,r=0,i=1,o){const s=[],a=(t.variantChildren.size-1)*r,l=i===1?(c=0)=>c*r:(c=0)=>a-c*r;return Array.from(t.variantChildren).sort(KB).forEach((c,u)=>{c.notify("AnimationStart",e),s.push(by(c,e,{...o,delay:n+l(u)}).then(()=>c.notify("AnimationComplete",e)))}),Promise.all(s)}function KB(t,e){return t.sortNodePosition(e)}function QB(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const i=e.map(o=>by(t,o,n));r=Promise.all(i)}else if(typeof e=="string")r=by(t,e,n);else{const i=typeof e=="function"?Vp(t,e,n.custom):e;r=Promise.all(w2(t,i,n))}return r.then(()=>t.notify("AnimationComplete",e))}const XB=[...Fw].reverse(),JB=Fw.length;function ZB(t){return e=>Promise.all(e.map(({animation:n,options:r})=>QB(t,n,r)))}function eW(t){let e=ZB(t);const n=nW();let r=!0;const i=(l,c)=>{const u=Vp(t,c);if(u){const{transition:f,transitionEnd:h,...g}=u;l={...l,...g,...h}}return l};function o(l){e=l(t)}function s(l,c){const u=t.getProps(),f=t.getVariantContext(!0)||{},h=[],g=new Set;let w={},v=1/0;for(let x=0;x<JB;x++){const y=XB[x],b=n[y],P=u[y]!==void 0?u[y]:f[y],R=iu(P),D=y===c?b.isActive:null;D===!1&&(v=x);let S=P===f[y]&&P!==u[y]&&R;if(S&&r&&t.manuallyAnimateOnMount&&(S=!1),b.protectedKeys={...w},!b.isActive&&D===null||!P&&!b.prevProp||Dp(P)||typeof P=="boolean")continue;let I=tW(b.prevProp,P)||y===c&&b.isActive&&!S&&R||x>v&&R,A=!1;const M=Array.isArray(P)?P:[P];let O=M.reduce(i,{});D===!1&&(O={});const{prevResolvedValues:N={}}=b,F={...N,...O},Y=K=>{I=!0,g.has(K)&&(A=!0,g.delete(K)),b.needsAnimating[K]=!0};for(const K in F){const W=O[K],L=N[K];if(w.hasOwnProperty(K))continue;let j=!1;gh(W)&&gh(L)?j=!BR(W,L):j=W!==L,j?W!==void 0?Y(K):g.add(K):W!==void 0&&g.has(K)?Y(K):b.protectedKeys[K]=!0}b.prevProp=P,b.prevResolvedValues=O,b.isActive&&(w={...w,...O}),r&&t.blockInitialAnimation&&(I=!1),I&&(!S||A)&&h.push(...M.map(K=>({animation:K,options:{type:y,...l}})))}if(g.size){const x={};g.forEach(y=>{const b=t.getBaseTarget(y);b!==void 0&&(x[y]=b)}),h.push({animation:x})}let E=!!h.length;return r&&(u.initial===!1||u.initial===u.animate)&&!t.manuallyAnimateOnMount&&(E=!1),r=!1,E?e(h):Promise.resolve()}function a(l,c,u){var f;if(n[l].isActive===c)return Promise.resolve();(f=t.variantChildren)===null||f===void 0||f.forEach(g=>{var w;return(w=g.animationState)===null||w===void 0?void 0:w.setActive(l,c)}),n[l].isActive=c;const h=s(u,l);for(const g in n)n[g].protectedKeys={};return h}return{animateChanges:s,setActive:a,setAnimateFunction:o,getState:()=>n}}function tW(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!BR(e,t):!1}function Qo(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function nW(){return{animate:Qo(!0),whileInView:Qo(),whileHover:Qo(),whileTap:Qo(),whileDrag:Qo(),whileFocus:Qo(),exit:Qo()}}class rW extends zo{constructor(e){super(e),e.animationState||(e.animationState=eW(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();this.unmount(),Dp(e)&&(this.unmount=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){}}let iW=0;class oW extends zo{constructor(){super(...arguments),this.id=iW++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n,custom:r}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===i)return;const o=this.node.animationState.setActive("exit",!e,{custom:r??this.node.getProps().custom});n&&!e&&o.then(()=>n(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const sW={animation:{Feature:rW},exit:{Feature:oW}},hT=(t,e)=>Math.abs(t-e);function aW(t,e){const n=hT(t.x,e.x),r=hT(t.y,e.y);return Math.sqrt(n**2+r**2)}class _2{constructor(e,n,{transformPagePoint:r,contextWindow:i,dragSnapToOrigin:o=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const f=gg(this.lastMoveEventInfo,this.history),h=this.startEvent!==null,g=aW(f.offset,{x:0,y:0})>=3;if(!h&&!g)return;const{point:w}=f,{timestamp:v}=tn;this.history.push({...w,timestamp:v});const{onStart:E,onMove:x}=this.handlers;h||(E&&E(this.lastMoveEvent,f),this.startEvent=this.lastMoveEvent),x&&x(this.lastMoveEvent,f)},this.handlePointerMove=(f,h)=>{this.lastMoveEvent=f,this.lastMoveEventInfo=mg(h,this.transformPagePoint),Xe.update(this.updatePoint,!0)},this.handlePointerUp=(f,h)=>{this.end();const{onEnd:g,onSessionEnd:w,resumeAnimation:v}=this.handlers;if(this.dragSnapToOrigin&&v&&v(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const E=gg(f.type==="pointercancel"?this.lastMoveEventInfo:mg(h,this.transformPagePoint),this.history);this.startEvent&&g&&g(f,E),w&&w(f,E)},!VR(e))return;this.dragSnapToOrigin=o,this.handlers=n,this.transformPagePoint=r,this.contextWindow=i||window;const s=Lp(e),a=mg(s,this.transformPagePoint),{point:l}=a,{timestamp:c}=tn;this.history=[{...l,timestamp:c}];const{onSessionStart:u}=n;u&&u(e,gg(a,this.history)),this.removeListeners=xo(hi(this.contextWindow,"pointermove",this.handlePointerMove),hi(this.contextWindow,"pointerup",this.handlePointerUp),hi(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Si(this.updatePoint)}}function mg(t,e){return e?{point:e(t.point)}:t}function pT(t,e){return{x:t.x-e.x,y:t.y-e.y}}function gg({point:t},e){return{point:t,delta:pT(t,x2(e)),offset:pT(t,lW(e)),velocity:cW(e,.1)}}function lW(t){return t[0]}function x2(t){return t[t.length-1]}function cW(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const i=x2(t);for(;n>=0&&(r=t[n],!(i.timestamp-r.timestamp>Eo(e)));)n--;if(!r)return{x:0,y:0};const o=pi(i.timestamp-r.timestamp);if(o===0)return{x:0,y:0};const s={x:(i.x-r.x)/o,y:(i.y-r.y)/o};return s.x===1/0&&(s.x=0),s.y===1/0&&(s.y=0),s}function Fn(t){return t.max-t.min}function Ty(t,e=0,n=.01){return Math.abs(t-e)<=n}function mT(t,e,n,r=.5){t.origin=r,t.originPoint=ut(e.min,e.max,t.origin),t.scale=Fn(n)/Fn(e),(Ty(t.scale,1,1e-4)||isNaN(t.scale))&&(t.scale=1),t.translate=ut(n.min,n.max,t.origin)-t.originPoint,(Ty(t.translate)||isNaN(t.translate))&&(t.translate=0)}function Pc(t,e,n,r){mT(t.x,e.x,n.x,r?r.originX:void 0),mT(t.y,e.y,n.y,r?r.originY:void 0)}function gT(t,e,n){t.min=n.min+e.min,t.max=t.min+Fn(e)}function uW(t,e,n){gT(t.x,e.x,n.x),gT(t.y,e.y,n.y)}function vT(t,e,n){t.min=e.min-n.min,t.max=t.min+Fn(e)}function Ic(t,e,n){vT(t.x,e.x,n.x),vT(t.y,e.y,n.y)}function dW(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?ut(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?ut(n,t,r.max):Math.min(t,n)),t}function yT(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function fW(t,{top:e,left:n,bottom:r,right:i}){return{x:yT(t.x,n,i),y:yT(t.y,e,r)}}function wT(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function hW(t,e){return{x:wT(t.x,e.x),y:wT(t.y,e.y)}}function pW(t,e){let n=.5;const r=Fn(t),i=Fn(e);return i>r?n=su(e.min,e.max-r,t.min):r>i&&(n=su(t.min,t.max-i,e.min)),Do(0,1,n)}function mW(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const Cy=.35;function gW(t=Cy){return t===!1?t=0:t===!0&&(t=Cy),{x:_T(t,"left","right"),y:_T(t,"top","bottom")}}function _T(t,e,n){return{min:xT(t,e),max:xT(t,n)}}function xT(t,e){return typeof t=="number"?t:t[e]||0}const ET=()=>({translate:0,scale:1,origin:0,originPoint:0}),va=()=>({x:ET(),y:ET()}),bT=()=>({min:0,max:0}),Ct=()=>({x:bT(),y:bT()});function Wn(t){return[t("x"),t("y")]}function E2({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function vW({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function yW(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function vg(t){return t===void 0||t===1}function Sy({scale:t,scaleX:e,scaleY:n}){return!vg(t)||!vg(e)||!vg(n)}function es(t){return Sy(t)||b2(t)||t.z||t.rotate||t.rotateX||t.rotateY}function b2(t){return TT(t.x)||TT(t.y)}function TT(t){return t&&t!=="0%"}function xh(t,e,n){const r=t-n,i=e*r;return n+i}function CT(t,e,n,r,i){return i!==void 0&&(t=xh(t,i,r)),xh(t,n,r)+e}function Py(t,e=0,n=1,r,i){t.min=CT(t.min,e,n,r,i),t.max=CT(t.max,e,n,r,i)}function T2(t,{x:e,y:n}){Py(t.x,e.translate,e.scale,e.originPoint),Py(t.y,n.translate,n.scale,n.originPoint)}function wW(t,e,n,r=!1){const i=n.length;if(!i)return;e.x=e.y=1;let o,s;for(let a=0;a<i;a++){o=n[a],s=o.projectionDelta;const l=o.instance;l&&l.style&&l.style.display==="contents"||(r&&o.options.layoutScroll&&o.scroll&&o!==o.root&&ya(t,{x:-o.scroll.offset.x,y:-o.scroll.offset.y}),s&&(e.x*=s.x.scale,e.y*=s.y.scale,T2(t,s)),r&&es(o.latestValues)&&ya(t,o.latestValues))}e.x=ST(e.x),e.y=ST(e.y)}function ST(t){return Number.isInteger(t)||t>1.0000000000001||t<.999999999999?t:1}function Ki(t,e){t.min=t.min+e,t.max=t.max+e}function PT(t,e,[n,r,i]){const o=e[i]!==void 0?e[i]:.5,s=ut(t.min,t.max,o);Py(t,e[n],e[r],s,e.scale)}const _W=["x","scaleX","originX"],xW=["y","scaleY","originY"];function ya(t,e){PT(t.x,e,_W),PT(t.y,e,xW)}function C2(t,e){return E2(yW(t.getBoundingClientRect(),e))}function EW(t,e,n){const r=C2(t,n),{scroll:i}=e;return i&&(Ki(r.x,i.offset.x),Ki(r.y,i.offset.y)),r}const S2=({current:t})=>t?t.ownerDocument.defaultView:null,bW=new WeakMap;class TW{constructor(e){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Ct(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const i=u=>{const{dragSnapToOrigin:f}=this.getProps();f?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Lp(u,"page").point)},o=(u,f)=>{const{drag:h,dragPropagation:g,onDragStart:w}=this.getProps();if(h&&!g&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=FR(h),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Wn(E=>{let x=this.getAxisMotionValue(E).get()||0;if(Ur.test(x)){const{projection:y}=this.visualElement;if(y&&y.layout){const b=y.layout.layoutBox[E];b&&(x=Fn(b)*(parseFloat(x)/100))}}this.originPoint[E]=x}),w&&Xe.update(()=>w(u,f),!1,!0);const{animationState:v}=this.visualElement;v&&v.setActive("whileDrag",!0)},s=(u,f)=>{const{dragPropagation:h,dragDirectionLock:g,onDirectionLock:w,onDrag:v}=this.getProps();if(!h&&!this.openGlobalLock)return;const{offset:E}=f;if(g&&this.currentDirection===null){this.currentDirection=CW(E),this.currentDirection!==null&&w&&w(this.currentDirection);return}this.updateAxis("x",f.point,E),this.updateAxis("y",f.point,E),this.visualElement.render(),v&&v(u,f)},a=(u,f)=>this.stop(u,f),l=()=>Wn(u=>{var f;return this.getAnimationState(u)==="paused"&&((f=this.getAxisMotionValue(u).animation)===null||f===void 0?void 0:f.play())}),{dragSnapToOrigin:c}=this.getProps();this.panSession=new _2(e,{onSessionStart:i,onStart:o,onMove:s,onSessionEnd:a,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:c,contextWindow:S2(this.visualElement)})}stop(e,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:i}=n;this.startAnimation(i);const{onDragEnd:o}=this.getProps();o&&Xe.update(()=>o(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:i}=this.getProps();if(!r||!kd(e,i,this.currentDirection))return;const o=this.getAxisMotionValue(e);let s=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(s=dW(s,this.constraints[e],this.elastic[e])),o.set(s)}resolveConstraints(){var e;const{dragConstraints:n,dragElastic:r}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,o=this.constraints;n&&ma(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&i?this.constraints=fW(i.layoutBox,n):this.constraints=!1,this.elastic=gW(r),o!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&Wn(s=>{this.getAxisMotionValue(s)&&(this.constraints[s]=mW(i.layoutBox[s],this.constraints[s]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!ma(e))return!1;const r=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const o=EW(r,i.root,this.visualElement.getTransformPagePoint());let s=hW(i.layout.layoutBox,o);if(n){const a=n(vW(s));this.hasMutatedConstraints=!!a,a&&(s=E2(a))}return s}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:o,dragSnapToOrigin:s,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},c=Wn(u=>{if(!kd(u,n,this.currentDirection))return;let f=l&&l[u]||{};s&&(f={min:0,max:0});const h=i?200:1e6,g=i?40:1e7,w={type:"inertia",velocity:r?e[u]:0,bounceStiffness:h,bounceDamping:g,timeConstant:750,restDelta:1,restSpeed:10,...o,...f};return this.startAxisValueAnimation(u,w)});return Promise.all(c).then(a)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return r.start(t1(e,r,0,n))}stopAnimation(){Wn(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Wn(e=>{var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(e){const n="_drag"+e.toUpperCase(),r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){Wn(n=>{const{drag:r}=this.getProps();if(!kd(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,o=this.getAxisMotionValue(n);if(i&&i.layout){const{min:s,max:a}=i.layout.layoutBox[n];o.set(e[n]-ut(s,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!ma(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};Wn(s=>{const a=this.getAxisMotionValue(s);if(a){const l=a.get();i[s]=pW({min:l,max:l},this.constraints[s])}});const{transformTemplate:o}=this.visualElement.getProps();this.visualElement.current.style.transform=o?o({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Wn(s=>{if(!kd(s,e,null))return;const a=this.getAxisMotionValue(s),{min:l,max:c}=this.constraints[s];a.set(ut(l,c,i[s]))})}addListeners(){if(!this.visualElement.current)return;bW.set(this.visualElement,this);const e=this.visualElement.current,n=hi(e,"pointerdown",l=>{const{drag:c,dragListener:u=!0}=this.getProps();c&&u&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();ma(l)&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,o=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),r();const s=ui(window,"resize",()=>this.scalePositionWithinConstraints()),a=i.addEventListener("didUpdate",({delta:l,hasLayoutChanged:c})=>{this.isDragging&&c&&(Wn(u=>{const f=this.getAxisMotionValue(u);f&&(this.originPoint[u]+=l[u].translate,f.set(f.get()+l[u].translate))}),this.visualElement.render())});return()=>{s(),n(),o(),a&&a()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:o=!1,dragElastic:s=Cy,dragMomentum:a=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:o,dragElastic:s,dragMomentum:a}}}function kd(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function CW(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class SW extends zo{constructor(e){super(e),this.removeGroupControls=yt,this.removeListeners=yt,this.controls=new TW(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||yt}unmount(){this.removeGroupControls(),this.removeListeners()}}const IT=t=>(e,n)=>{t&&Xe.update(()=>t(e,n))};class PW extends zo{constructor(){super(...arguments),this.removePointerDownListener=yt}onPointerDown(e){this.session=new _2(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:S2(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:IT(e),onStart:IT(n),onMove:r,onEnd:(o,s)=>{delete this.session,i&&Xe.update(()=>i(o,s))}}}mount(){this.removePointerDownListener=hi(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function IW(){const t=m.useContext(Rp);if(t===null)return[!0,null];const{isPresent:e,onExitComplete:n,register:r}=t,i=m.useId();return m.useEffect(()=>r(i),[]),!e&&n?[!1,()=>n&&n(i)]:[!0]}const ff={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function AT(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Xl={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(pe.test(t))t=parseFloat(t);else return t;const n=AT(t,e.target.x),r=AT(t,e.target.y);return`${n}% ${r}%`}},AW={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,i=Mo.parse(t);if(i.length>5)return r;const o=Mo.createTransformer(t),s=typeof i[0]!="number"?1:0,a=n.x.scale*e.x,l=n.y.scale*e.y;i[0+s]/=a,i[1+s]/=l;const c=ut(a,l,.5);return typeof i[2+s]=="number"&&(i[2+s]/=c),typeof i[3+s]=="number"&&(i[3+s]/=c),o(i)}};class kW extends _e.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:o}=e;V7(RW),o&&(n.group&&n.group.add(o),r&&r.register&&i&&r.register(o),o.root.didUpdate(),o.addEventListener("animationComplete",()=>{this.safeToRemove()}),o.setOptions({...o.options,onExitComplete:()=>this.safeToRemove()})),ff.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:i,isPresent:o}=this.props,s=r.projection;return s&&(s.isPresent=o,i||e.layoutDependency!==n||n===void 0?s.willUpdate():this.safeToRemove(),e.isPresent!==o&&(o?s.promote():s.relegate()||Xe.postRender(()=>{const a=s.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),queueMicrotask(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=e;i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function P2(t){const[e,n]=IW(),r=m.useContext(Uw);return _e.createElement(kW,{...t,layoutGroup:r,switchLayoutGroup:m.useContext(ER),isPresent:e,safeToRemove:n})}const RW={borderRadius:{...Xl,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Xl,borderTopRightRadius:Xl,borderBottomLeftRadius:Xl,borderBottomRightRadius:Xl,boxShadow:AW},I2=["TopLeft","TopRight","BottomLeft","BottomRight"],NW=I2.length,kT=t=>typeof t=="string"?parseFloat(t):t,RT=t=>typeof t=="number"||pe.test(t);function DW(t,e,n,r,i,o){i?(t.opacity=ut(0,n.opacity!==void 0?n.opacity:1,MW(r)),t.opacityExit=ut(e.opacity!==void 0?e.opacity:1,0,OW(r))):o&&(t.opacity=ut(e.opacity!==void 0?e.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let s=0;s<NW;s++){const a=`border${I2[s]}Radius`;let l=NT(e,a),c=NT(n,a);if(l===void 0&&c===void 0)continue;l||(l=0),c||(c=0),l===0||c===0||RT(l)===RT(c)?(t[a]=Math.max(ut(kT(l),kT(c),r),0),(Ur.test(c)||Ur.test(l))&&(t[a]+="%")):t[a]=c}(e.rotate||n.rotate)&&(t.rotate=ut(e.rotate||0,n.rotate||0,r))}function NT(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const MW=A2(0,.5,XR),OW=A2(.5,.95,yt);function A2(t,e,n){return r=>r<t?0:r>e?1:n(su(t,e,r))}function DT(t,e){t.min=e.min,t.max=e.max}function Bn(t,e){DT(t.x,e.x),DT(t.y,e.y)}function MT(t,e,n,r,i){return t-=e,t=xh(t,1/n,r),i!==void 0&&(t=xh(t,1/i,r)),t}function LW(t,e=0,n=1,r=.5,i,o=t,s=t){if(Ur.test(e)&&(e=parseFloat(e),e=ut(s.min,s.max,e/100)-s.min),typeof e!="number")return;let a=ut(o.min,o.max,r);t===o&&(a-=e),t.min=MT(t.min,e,n,a,i),t.max=MT(t.max,e,n,a,i)}function OT(t,e,[n,r,i],o,s){LW(t,e[n],e[r],e[i],e.scale,o,s)}const VW=["x","scaleX","originX"],jW=["y","scaleY","originY"];function LT(t,e,n,r){OT(t.x,e,VW,n?n.x:void 0,r?r.x:void 0),OT(t.y,e,jW,n?n.y:void 0,r?r.y:void 0)}function VT(t){return t.translate===0&&t.scale===1}function k2(t){return VT(t.x)&&VT(t.y)}function FW(t,e){return t.x.min===e.x.min&&t.x.max===e.x.max&&t.y.min===e.y.min&&t.y.max===e.y.max}function R2(t,e){return Math.round(t.x.min)===Math.round(e.x.min)&&Math.round(t.x.max)===Math.round(e.x.max)&&Math.round(t.y.min)===Math.round(e.y.min)&&Math.round(t.y.max)===Math.round(e.y.max)}function jT(t){return Fn(t.x)/Fn(t.y)}class $W{constructor(){this.members=[]}add(e){n1(this.members,e),e.scheduleRender()}remove(e){if(r1(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(i=>e===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const o=this.members[i];if(o.isPresent!==!1){r=o;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function FT(t,e,n){let r="";const i=t.x.translate/e.x,o=t.y.translate/e.y;if((i||o)&&(r=`translate3d(${i}px, ${o}px, 0) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{rotate:l,rotateX:c,rotateY:u}=n;l&&(r+=`rotate(${l}deg) `),c&&(r+=`rotateX(${c}deg) `),u&&(r+=`rotateY(${u}deg) `)}const s=t.x.scale*e.x,a=t.y.scale*e.y;return(s!==1||a!==1)&&(r+=`scale(${s}, ${a})`),r||"none"}const UW=(t,e)=>t.depth-e.depth;class BW{constructor(){this.children=[],this.isDirty=!1}add(e){n1(this.children,e),this.isDirty=!0}remove(e){r1(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(UW),this.isDirty=!1,this.children.forEach(e)}}function WW(t,e){const n=performance.now(),r=({timestamp:i})=>{const o=i-n;o>=e&&(Si(r),t(o-e))};return Xe.read(r,!0),()=>Si(r)}function zW(t){window.MotionDebug&&window.MotionDebug.record(t)}function HW(t){return t instanceof SVGElement&&t.tagName!=="svg"}function qW(t,e,n){const r=In(t)?t:Ja(t);return r.start(t1("",r,e,n)),r.animation}const $T=["","X","Y","Z"],GW={visibility:"hidden"},UT=1e3;let YW=0;const ts={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function N2({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(s={},a=e==null?void 0:e()){this.id=YW++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,ts.totalNodes=ts.resolvedTargetDeltas=ts.recalculatedProjection=0,this.nodes.forEach(XW),this.nodes.forEach(nz),this.nodes.forEach(rz),this.nodes.forEach(JW),zW(ts)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=s,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new BW)}addEventListener(s,a){return this.eventHandlers.has(s)||this.eventHandlers.set(s,new i1),this.eventHandlers.get(s).add(a)}notifyListeners(s,...a){const l=this.eventHandlers.get(s);l&&l.notify(...a)}hasListeners(s){return this.eventHandlers.has(s)}mount(s,a=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=HW(s),this.instance=s;const{layoutId:l,layout:c,visualElement:u}=this.options;if(u&&!u.current&&u.mount(s),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),a&&(c||l)&&(this.isLayoutDirty=!0),t){let f;const h=()=>this.root.updateBlockedByResize=!1;t(s,()=>{this.root.updateBlockedByResize=!0,f&&f(),f=WW(h,250),ff.hasAnimatedSinceResize&&(ff.hasAnimatedSinceResize=!1,this.nodes.forEach(WT))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&u&&(l||c)&&this.addEventListener("didUpdate",({delta:f,hasLayoutChanged:h,hasRelativeTargetChanged:g,layout:w})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const v=this.options.transition||u.getDefaultTransition()||lz,{onLayoutAnimationStart:E,onLayoutAnimationComplete:x}=u.getProps(),y=!this.targetLayout||!R2(this.targetLayout,w)||g,b=!h&&g;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||b||h&&(y||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(f,b);const P={...e1(v,"layout"),onPlay:E,onComplete:x};(u.shouldReduceMotion||this.options.layoutRoot)&&(P.delay=0,P.type=!1),this.startAnimation(P)}else h||WT(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=w})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const s=this.getStack();s&&s.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Si(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(iz),this.animationId++)}getTransformTemplate(){const{visualElement:s}=this.options;return s&&s.getProps().transformTemplate}willUpdate(s=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let u=0;u<this.path.length;u++){const f=this.path[u];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),s&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(BT);return}this.isUpdating||this.nodes.forEach(ez),this.isUpdating=!1,this.nodes.forEach(tz),this.nodes.forEach(KW),this.nodes.forEach(QW),this.clearAllSnapshots();const a=performance.now();tn.delta=Do(0,1e3/60,a-tn.timestamp),tn.timestamp=a,tn.isProcessing=!0,ag.update.process(tn),ag.preRender.process(tn),ag.render.process(tn),tn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(ZW),this.sharedNodes.forEach(oz)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Xe.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Xe.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const s=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Ct(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,s?s.layoutBox:void 0)}updateScroll(s="measure"){let a=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===s&&(a=!1),a&&(this.scroll={animationId:this.root.animationId,phase:s,isRoot:r(this.instance),offset:n(this.instance)})}resetTransform(){if(!i)return;const s=this.isLayoutDirty||this.shouldResetTransform,a=this.projectionDelta&&!k2(this.projectionDelta),l=this.getTransformTemplate(),c=l?l(this.latestValues,""):void 0,u=c!==this.prevTransformTemplateValue;s&&(a||es(this.latestValues)||u)&&(i(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(s=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return s&&(l=this.removeTransform(l)),cz(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:s}=this.options;if(!s)return Ct();const a=s.measureViewportBox(),{scroll:l}=this.root;return l&&(Ki(a.x,l.offset.x),Ki(a.y,l.offset.y)),a}removeElementScroll(s){const a=Ct();Bn(a,s);for(let l=0;l<this.path.length;l++){const c=this.path[l],{scroll:u,options:f}=c;if(c!==this.root&&u&&f.layoutScroll){if(u.isRoot){Bn(a,s);const{scroll:h}=this.root;h&&(Ki(a.x,-h.offset.x),Ki(a.y,-h.offset.y))}Ki(a.x,u.offset.x),Ki(a.y,u.offset.y)}}return a}applyTransform(s,a=!1){const l=Ct();Bn(l,s);for(let c=0;c<this.path.length;c++){const u=this.path[c];!a&&u.options.layoutScroll&&u.scroll&&u!==u.root&&ya(l,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),es(u.latestValues)&&ya(l,u.latestValues)}return es(this.latestValues)&&ya(l,this.latestValues),l}removeTransform(s){const a=Ct();Bn(a,s);for(let l=0;l<this.path.length;l++){const c=this.path[l];if(!c.instance||!es(c.latestValues))continue;Sy(c.latestValues)&&c.updateSnapshot();const u=Ct(),f=c.measurePageBox();Bn(u,f),LT(a,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,u)}return es(this.latestValues)&&LT(a,this.latestValues),a}setTargetDelta(s){this.targetDelta=s,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(s){this.options={...this.options,...s,crossfade:s.crossfade!==void 0?s.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==tn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(s=!1){var a;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==l;if(!(s||c&&this.isSharedProjectionDirty||this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:f,layoutId:h}=this.options;if(!(!this.layout||!(f||h))){if(this.resolvedRelativeTargetAt=tn.timestamp,!this.targetDelta&&!this.relativeTarget){const g=this.getClosestProjectingParent();g&&g.layout&&this.animationProgress!==1?(this.relativeParent=g,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ct(),this.relativeTargetOrigin=Ct(),Ic(this.relativeTargetOrigin,this.layout.layoutBox,g.layout.layoutBox),Bn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=Ct(),this.targetWithTransforms=Ct()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),uW(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Bn(this.target,this.layout.layoutBox),T2(this.target,this.targetDelta)):Bn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const g=this.getClosestProjectingParent();g&&!!g.resumingFrom==!!this.resumingFrom&&!g.options.layoutScroll&&g.target&&this.animationProgress!==1?(this.relativeParent=g,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ct(),this.relativeTargetOrigin=Ct(),Ic(this.relativeTargetOrigin,this.target,g.target),Bn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}ts.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||Sy(this.parent.latestValues)||b2(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var s;const a=this.getLead(),l=!!this.resumingFrom||this!==a;let c=!0;if((this.isProjectionDirty||!((s=this.parent)===null||s===void 0)&&s.isProjectionDirty)&&(c=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===tn.timestamp&&(c=!1),c)return;const{layout:u,layoutId:f}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||f))return;Bn(this.layoutCorrected,this.layout.layoutBox);const h=this.treeScale.x,g=this.treeScale.y;wW(this.layoutCorrected,this.treeScale,this.path,l),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox);const{target:w}=a;if(!w){this.projectionTransform&&(this.projectionDelta=va(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=va(),this.projectionDeltaWithTransform=va());const v=this.projectionTransform;Pc(this.projectionDelta,this.layoutCorrected,w,this.latestValues),this.projectionTransform=FT(this.projectionDelta,this.treeScale),(this.projectionTransform!==v||this.treeScale.x!==h||this.treeScale.y!==g)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",w)),ts.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(s=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),s){const a=this.getStack();a&&a.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(s,a=!1){const l=this.snapshot,c=l?l.latestValues:{},u={...this.latestValues},f=va();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const h=Ct(),g=l?l.source:void 0,w=this.layout?this.layout.source:void 0,v=g!==w,E=this.getStack(),x=!E||E.members.length<=1,y=!!(v&&!x&&this.options.crossfade===!0&&!this.path.some(az));this.animationProgress=0;let b;this.mixTargetDelta=P=>{const R=P/1e3;zT(f.x,s.x,R),zT(f.y,s.y,R),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Ic(h,this.layout.layoutBox,this.relativeParent.layout.layoutBox),sz(this.relativeTarget,this.relativeTargetOrigin,h,R),b&&FW(this.relativeTarget,b)&&(this.isProjectionDirty=!1),b||(b=Ct()),Bn(b,this.relativeTarget)),v&&(this.animationValues=u,DW(u,c,this.latestValues,R,y,x)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=R},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(s){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Si(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Xe.update(()=>{ff.hasAnimatedSinceResize=!0,this.currentAnimation=qW(0,UT,{...s,onUpdate:a=>{this.mixTargetDelta(a),s.onUpdate&&s.onUpdate(a)},onComplete:()=>{s.onComplete&&s.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const s=this.getStack();s&&s.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(UT),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const s=this.getLead();let{targetWithTransforms:a,target:l,layout:c,latestValues:u}=s;if(!(!a||!l||!c)){if(this!==s&&this.layout&&c&&D2(this.options.animationType,this.layout.layoutBox,c.layoutBox)){l=this.target||Ct();const f=Fn(this.layout.layoutBox.x);l.x.min=s.target.x.min,l.x.max=l.x.min+f;const h=Fn(this.layout.layoutBox.y);l.y.min=s.target.y.min,l.y.max=l.y.min+h}Bn(a,l),ya(a,u),Pc(this.projectionDeltaWithTransform,this.layoutCorrected,a,u)}}registerSharedNode(s,a){this.sharedNodes.has(s)||this.sharedNodes.set(s,new $W),this.sharedNodes.get(s).add(a);const c=a.options.initialPromotionConfig;a.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(a):void 0})}isLead(){const s=this.getStack();return s?s.lead===this:!0}getLead(){var s;const{layoutId:a}=this.options;return a?((s=this.getStack())===null||s===void 0?void 0:s.lead)||this:this}getPrevLead(){var s;const{layoutId:a}=this.options;return a?(s=this.getStack())===null||s===void 0?void 0:s.prevLead:void 0}getStack(){const{layoutId:s}=this.options;if(s)return this.root.sharedNodes.get(s)}promote({needsReset:s,transition:a,preserveFollowOpacity:l}={}){const c=this.getStack();c&&c.promote(this,l),s&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const s=this.getStack();return s?s.relegate(this):!1}resetRotation(){const{visualElement:s}=this.options;if(!s)return;let a=!1;const{latestValues:l}=s;if((l.rotate||l.rotateX||l.rotateY||l.rotateZ)&&(a=!0),!a)return;const c={};for(let u=0;u<$T.length;u++){const f="rotate"+$T[u];l[f]&&(c[f]=l[f],s.setStaticValue(f,0))}s.render();for(const u in c)s.setStaticValue(u,c[u]);s.scheduleRender()}getProjectionStyles(s){var a,l;if(!this.instance||this.isSVG)return;if(!this.isVisible)return GW;const c={visibility:""},u=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,c.opacity="",c.pointerEvents=df(s==null?void 0:s.pointerEvents)||"",c.transform=u?u(this.latestValues,""):"none",c;const f=this.getLead();if(!this.projectionDelta||!this.layout||!f.target){const v={};return this.options.layoutId&&(v.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,v.pointerEvents=df(s==null?void 0:s.pointerEvents)||""),this.hasProjected&&!es(this.latestValues)&&(v.transform=u?u({},""):"none",this.hasProjected=!1),v}const h=f.animationValues||f.latestValues;this.applyTransformsToTarget(),c.transform=FT(this.projectionDeltaWithTransform,this.treeScale,h),u&&(c.transform=u(h,c.transform));const{x:g,y:w}=this.projectionDelta;c.transformOrigin=`${g.origin*100}% ${w.origin*100}% 0`,f.animationValues?c.opacity=f===this?(l=(a=h.opacity)!==null&&a!==void 0?a:this.latestValues.opacity)!==null&&l!==void 0?l:1:this.preserveOpacity?this.latestValues.opacity:h.opacityExit:c.opacity=f===this?h.opacity!==void 0?h.opacity:"":h.opacityExit!==void 0?h.opacityExit:0;for(const v in ph){if(h[v]===void 0)continue;const{correct:E,applyTo:x}=ph[v],y=c.transform==="none"?h[v]:E(h[v],f);if(x){const b=x.length;for(let P=0;P<b;P++)c[x[P]]=y}else c[v]=y}return this.options.layoutId&&(c.pointerEvents=f===this?df(s==null?void 0:s.pointerEvents)||"":"none"),c}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(s=>{var a;return(a=s.currentAnimation)===null||a===void 0?void 0:a.stop()}),this.root.nodes.forEach(BT),this.root.sharedNodes.clear()}}}function KW(t){t.updateLayout()}function QW(t){var e;const n=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=t.layout,{animationType:o}=t.options,s=n.source!==t.layout.source;o==="size"?Wn(f=>{const h=s?n.measuredBox[f]:n.layoutBox[f],g=Fn(h);h.min=r[f].min,h.max=h.min+g}):D2(o,n.layoutBox,r)&&Wn(f=>{const h=s?n.measuredBox[f]:n.layoutBox[f],g=Fn(r[f]);h.max=h.min+g,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[f].max=t.relativeTarget[f].min+g)});const a=va();Pc(a,r,n.layoutBox);const l=va();s?Pc(l,t.applyTransform(i,!0),n.measuredBox):Pc(l,r,n.layoutBox);const c=!k2(a);let u=!1;if(!t.resumeFrom){const f=t.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:h,layout:g}=f;if(h&&g){const w=Ct();Ic(w,n.layoutBox,h.layoutBox);const v=Ct();Ic(v,r,g.layoutBox),R2(w,v)||(u=!0),f.options.layoutRoot&&(t.relativeTarget=v,t.relativeTargetOrigin=w,t.relativeParent=f)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:l,layoutDelta:a,hasLayoutChanged:c,hasRelativeTargetChanged:u})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function XW(t){ts.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function JW(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function ZW(t){t.clearSnapshot()}function BT(t){t.clearMeasurements()}function ez(t){t.isLayoutDirty=!1}function tz(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function WT(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function nz(t){t.resolveTargetDelta()}function rz(t){t.calcProjection()}function iz(t){t.resetRotation()}function oz(t){t.removeLeadSnapshot()}function zT(t,e,n){t.translate=ut(e.translate,0,n),t.scale=ut(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function HT(t,e,n,r){t.min=ut(e.min,n.min,r),t.max=ut(e.max,n.max,r)}function sz(t,e,n,r){HT(t.x,e.x,n.x,r),HT(t.y,e.y,n.y,r)}function az(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const lz={duration:.45,ease:[.4,0,.1,1]},qT=t=>typeof navigator<"u"&&navigator.userAgent.toLowerCase().includes(t),GT=qT("applewebkit/")&&!qT("chrome/")?Math.round:yt;function YT(t){t.min=GT(t.min),t.max=GT(t.max)}function cz(t){YT(t.x),YT(t.y)}function D2(t,e,n){return t==="position"||t==="preserve-aspect"&&!Ty(jT(e),jT(n),.2)}const uz=N2({attachResizeListener:(t,e)=>ui(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),yg={current:void 0},M2=N2({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!yg.current){const t=new uz({});t.mount(window),t.setOptions({layoutScroll:!0}),yg.current=t}return yg.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),dz={pan:{Feature:PW},drag:{Feature:SW,ProjectionNode:M2,MeasureLayout:P2}},fz=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function hz(t){const e=fz.exec(t);if(!e)return[,];const[,n,r]=e;return[n,r]}function Iy(t,e,n=1){const[r,i]=hz(t);if(!r)return;const o=window.getComputedStyle(e).getPropertyValue(r);if(o){const s=o.trim();return g2(s)?parseFloat(s):s}else return vy(i)?Iy(i,e,n+1):i}function pz(t,{...e},n){const r=t.current;if(!(r instanceof Element))return{target:e,transitionEnd:n};n&&(n={...n}),t.values.forEach(i=>{const o=i.get();if(!vy(o))return;const s=Iy(o,r);s&&i.set(s)});for(const i in e){const o=e[i];if(!vy(o))continue;const s=Iy(o,r);s&&(e[i]=s,n||(n={}),n[i]===void 0&&(n[i]=o))}return{target:e,transitionEnd:n}}const mz=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),O2=t=>mz.has(t),gz=t=>Object.keys(t).some(O2),KT=t=>t===Os||t===pe,QT=(t,e)=>parseFloat(t.split(", ")[e]),XT=(t,e)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const i=r.match(/^matrix3d\((.+)\)$/);if(i)return QT(i[1],e);{const o=r.match(/^matrix\((.+)\)$/);return o?QT(o[1],t):0}},vz=new Set(["x","y","z"]),yz=Au.filter(t=>!vz.has(t));function wz(t){const e=[];return yz.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e.length&&t.render(),e}const Za={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:XT(4,13),y:XT(5,14)};Za.translateX=Za.x;Za.translateY=Za.y;const _z=(t,e,n)=>{const r=e.measureViewportBox(),i=e.current,o=getComputedStyle(i),{display:s}=o,a={};s==="none"&&e.setStaticValue("display",t.display||"block"),n.forEach(c=>{a[c]=Za[c](r,o)}),e.render();const l=e.measureViewportBox();return n.forEach(c=>{const u=e.getValue(c);u&&u.jump(a[c]),t[c]=Za[c](l,o)}),t},xz=(t,e,n={},r={})=>{e={...e},r={...r};const i=Object.keys(e).filter(O2);let o=[],s=!1;const a=[];if(i.forEach(l=>{const c=t.getValue(l);if(!t.hasValue(l))return;let u=n[l],f=Ql(u);const h=e[l];let g;if(gh(h)){const w=h.length,v=h[0]===null?1:0;u=h[v],f=Ql(u);for(let E=v;E<w&&h[E]!==null;E++)g?Kw(Ql(h[E])===g):g=Ql(h[E])}else g=Ql(h);if(f!==g)if(KT(f)&&KT(g)){const w=c.get();typeof w=="string"&&c.set(parseFloat(w)),typeof h=="string"?e[l]=parseFloat(h):Array.isArray(h)&&g===pe&&(e[l]=h.map(parseFloat))}else f!=null&&f.transform&&(g!=null&&g.transform)&&(u===0||h===0)?u===0?c.set(g.transform(u)):e[l]=f.transform(h):(s||(o=wz(t),s=!0),a.push(l),r[l]=r[l]!==void 0?r[l]:e[l],c.jump(h))}),a.length){const l=a.indexOf("height")>=0?window.pageYOffset:null,c=_z(e,t,a);return o.length&&o.forEach(([u,f])=>{t.getValue(u).set(f)}),t.render(),Np&&l!==null&&window.scrollTo({top:l}),{target:c,transitionEnd:r}}else return{target:e,transitionEnd:r}};function Ez(t,e,n,r){return gz(e)?xz(t,e,n,r):{target:e,transitionEnd:r}}const bz=(t,e,n,r)=>{const i=pz(t,e,r);return e=i.target,r=i.transitionEnd,Ez(t,e,n,r)},Ay={current:null},L2={current:!1};function Tz(){if(L2.current=!0,!!Np)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>Ay.current=t.matches;t.addListener(e),e()}else Ay.current=!1}function Cz(t,e,n){const{willChange:r}=e;for(const i in e){const o=e[i],s=n[i];if(In(o))t.addValue(i,o),_h(r)&&r.add(i);else if(In(s))t.addValue(i,Ja(o,{owner:t})),_h(r)&&r.remove(i);else if(s!==o)if(t.hasValue(i)){const a=t.getValue(i);!a.hasAnimated&&a.set(o)}else{const a=t.getStaticValue(i);t.addValue(i,Ja(a!==void 0?a:o,{owner:t}))}}for(const i in n)e[i]===void 0&&t.removeValue(i);return e}const JT=new WeakMap,V2=Object.keys(ou),Sz=V2.length,ZT=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],Pz=$w.length;class Iz{constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:i,visualState:o},s={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>Xe.render(this.render,!1,!0);const{latestValues:a,renderState:l}=o;this.latestValues=a,this.baseTarget={...a},this.initialValues=n.initial?{...a}:{},this.renderState=l,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=s,this.isControllingVariants=Mp(n),this.isVariantNode=xR(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:c,...u}=this.scrapeMotionValuesFromProps(n,{});for(const f in u){const h=u[f];a[f]!==void 0&&In(h)&&(h.set(a[f],!1),_h(c)&&c.add(f))}}scrapeMotionValuesFromProps(e,n){return{}}mount(e){this.current=e,JT.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),L2.current||Tz(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Ay.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){JT.delete(this.current),this.projection&&this.projection.unmount(),Si(this.notifyUpdate),Si(this.render),this.valueSubscriptions.forEach(e=>e()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features)this.features[e].unmount();this.current=null}bindToMotionValue(e,n){const r=Ms.has(e),i=n.on("change",s=>{this.latestValues[e]=s,this.props.onUpdate&&Xe.update(this.notifyUpdate,!1,!0),r&&this.projection&&(this.projection.isTransformDirty=!0)}),o=n.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(e,()=>{i(),o()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}loadFeatures({children:e,...n},r,i,o){let s,a;for(let l=0;l<Sz;l++){const c=V2[l],{isEnabled:u,Feature:f,ProjectionNode:h,MeasureLayout:g}=ou[c];h&&(s=h),u(n)&&(!this.features[c]&&f&&(this.features[c]=new f(this)),g&&(a=g))}if((this.type==="html"||this.type==="svg")&&!this.projection&&s){this.projection=new s(this.latestValues,this.parent&&this.parent.projection);const{layoutId:l,layout:c,drag:u,dragConstraints:f,layoutScroll:h,layoutRoot:g}=n;this.projection.setOptions({layoutId:l,layout:c,alwaysMeasureLayout:!!u||f&&ma(f),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof c=="string"?c:"both",initialPromotionConfig:o,layoutScroll:h,layoutRoot:g})}return a}updateFeatures(){for(const e in this.features){const n=this.features[e];n.isMounted?n.update():(n.mount(),n.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Ct()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}makeTargetAnimatable(e,n=!0){return this.makeTargetAnimatableFromInstance(e,this.props,n)}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<ZT.length;r++){const i=ZT[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const o=e["on"+i];o&&(this.propEventSubscriptions[i]=this.on(i,o))}this.prevMotionValues=Cz(this,this.scrapeMotionValuesFromProps(e,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(e=!1){if(e)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const r=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(r.initial=this.props.initial),r}const n={};for(let r=0;r<Pz;r++){const i=$w[r],o=this.props[i];(iu(o)||o===!1)&&(n[i]=o)}return n}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){n!==this.values.get(e)&&(this.removeValue(e),this.bindToMotionValue(e,n)),this.values.set(e,n),this.latestValues[e]=n.get()}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=Ja(n,{owner:this}),this.addValue(e,r)),r}readValue(e){var n;return this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(n=this.getBaseTargetFromProps(this.props,e))!==null&&n!==void 0?n:this.readValueFromInstance(this.current,e,this.options)}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:r}=this.props,i=typeof r=="string"||typeof r=="object"?(n=Yw(this.props,r))===null||n===void 0?void 0:n[e]:void 0;if(r&&i!==void 0)return i;const o=this.getBaseTargetFromProps(this.props,e);return o!==void 0&&!In(o)?o:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new i1),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class j2 extends Iz{sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}makeTargetAnimatableFromInstance({transition:e,transitionEnd:n,...r},{transformValues:i},o){let s=HB(r,e||{},this);if(i&&(n&&(n=i(n)),r&&(r=i(r)),s&&(s=i(s))),o){WB(this,r,s);const a=bz(this,r,s,n);n=a.transitionEnd,r=a.target}return{transition:e,transitionEnd:n,...r}}}function Az(t){return window.getComputedStyle(t)}class kz extends j2{constructor(){super(...arguments),this.type="html"}readValueFromInstance(e,n){if(Ms.has(n)){const r=Zw(n);return r&&r.default||0}else{const r=Az(e),i=(CR(n)?r.getPropertyValue(n):r[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:n}){return C2(e,n)}build(e,n,r,i){Ww(e,n,r,i.transformTemplate)}scrapeMotionValuesFromProps(e,n){return Gw(e,n)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;In(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}renderInstance(e,n,r,i){RR(e,n,r,i)}}class Rz extends j2{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Ms.has(n)){const r=Zw(n);return r&&r.default||0}return n=NR.has(n)?n:jw(n),e.getAttribute(n)}measureInstanceViewportBox(){return Ct()}scrapeMotionValuesFromProps(e,n){return MR(e,n)}build(e,n,r,i){Hw(e,n,r,this.isSVGTag,i.transformTemplate)}renderInstance(e,n,r,i){DR(e,n,r,i)}mount(e){this.isSVGTag=qw(e.tagName),super.mount(e)}}const Nz=(t,e)=>Bw(t)?new Rz(e,{enableHardwareAcceleration:!1}):new kz(e,{enableHardwareAcceleration:!0}),Dz={layout:{ProjectionNode:M2,MeasureLayout:P2}},Mz={...sW,...S8,...dz,...Dz},xe=O7((t,e)=>h8(t,e,Mz,Nz));function F2(){const t=m.useRef(!1);return Vw(()=>(t.current=!0,()=>{t.current=!1}),[]),t}function Oz(){const t=F2(),[e,n]=m.useState(0),r=m.useCallback(()=>{t.current&&n(e+1)},[e]);return[m.useCallback(()=>Xe.postRender(r),[r]),e]}class Lz extends m.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=n.offsetHeight||0,r.width=n.offsetWidth||0,r.top=n.offsetTop,r.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function Vz({children:t,isPresent:e}){const n=m.useId(),r=m.useRef(null),i=m.useRef({width:0,height:0,top:0,left:0});return m.useInsertionEffect(()=>{const{width:o,height:s,top:a,left:l}=i.current;if(e||!r.current||!o||!s)return;r.current.dataset.motionPopId=n;const c=document.createElement("style");return document.head.appendChild(c),c.sheet&&c.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${o}px !important;
            height: ${s}px !important;
            top: ${a}px !important;
            left: ${l}px !important;
          }
        `),()=>{document.head.removeChild(c)}},[e]),m.createElement(Lz,{isPresent:e,childRef:r,sizeRef:i},m.cloneElement(t,{ref:r}))}const wg=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:i,presenceAffectsLayout:o,mode:s})=>{const a=OR(jz),l=m.useId(),c=m.useMemo(()=>({id:l,initial:e,isPresent:n,custom:i,onExitComplete:u=>{a.set(u,!0);for(const f of a.values())if(!f)return;r&&r()},register:u=>(a.set(u,!1),()=>a.delete(u))}),o?void 0:[n]);return m.useMemo(()=>{a.forEach((u,f)=>a.set(f,!1))},[n]),m.useEffect(()=>{!n&&!a.size&&r&&r()},[n]),s==="popLayout"&&(t=m.createElement(Vz,{isPresent:n},t)),m.createElement(Rp.Provider,{value:c},t)};function jz(){return new Map}function Fz(t){return m.useEffect(()=>()=>t(),[])}const ns=t=>t.key||"";function $z(t,e){t.forEach(n=>{const r=ns(n);e.set(r,n)})}function Uz(t){const e=[];return m.Children.forEach(t,n=>{m.isValidElement(n)&&e.push(n)}),e}const eC=({children:t,custom:e,initial:n=!0,onExitComplete:r,exitBeforeEnter:i,presenceAffectsLayout:o=!0,mode:s="sync"})=>{const a=m.useContext(Uw).forceRender||Oz()[0],l=F2(),c=Uz(t);let u=c;const f=m.useRef(new Map).current,h=m.useRef(u),g=m.useRef(new Map).current,w=m.useRef(!0);if(Vw(()=>{w.current=!1,$z(c,g),h.current=u}),Fz(()=>{w.current=!0,g.clear(),f.clear()}),w.current)return m.createElement(m.Fragment,null,u.map(y=>m.createElement(wg,{key:ns(y),isPresent:!0,initial:n?void 0:!1,presenceAffectsLayout:o,mode:s},y)));u=[...u];const v=h.current.map(ns),E=c.map(ns),x=v.length;for(let y=0;y<x;y++){const b=v[y];E.indexOf(b)===-1&&!f.has(b)&&f.set(b,void 0)}return s==="wait"&&f.size&&(u=[]),f.forEach((y,b)=>{if(E.indexOf(b)!==-1)return;const P=g.get(b);if(!P)return;const R=v.indexOf(b);let D=y;if(!D){const S=()=>{f.delete(b);const C=Array.from(g.keys()).filter(I=>!E.includes(I));if(C.forEach(I=>g.delete(I)),h.current=c.filter(I=>{const A=ns(I);return A===b||C.includes(A)}),!f.size){if(l.current===!1)return;a(),r&&r()}};D=m.createElement(wg,{key:ns(P),isPresent:!1,onExitComplete:S,custom:e,presenceAffectsLayout:o,mode:s},P),f.set(b,D)}u.splice(R,0,D)}),u=u.map(y=>{const b=y.key;return f.has(b)?y:m.createElement(wg,{key:ns(y),isPresent:!0,presenceAffectsLayout:o,mode:s},y)}),m.createElement(m.Fragment,null,f.size?u:u.map(y=>m.cloneElement(y)))};var Bz={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const Wz=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Le=(t,e)=>{const n=m.forwardRef(({color:r="currentColor",size:i=24,strokeWidth:o=2,absoluteStrokeWidth:s,children:a,...l},c)=>m.createElement("svg",{ref:c,...Bz,width:i,height:i,stroke:r,strokeWidth:s?Number(o)*24/Number(i):o,className:`lucide lucide-${Wz(t)}`,...l},[...e.map(([u,f])=>m.createElement(u,f)),...(Array.isArray(a)?a:[a])||[]]));return n.displayName=`${t}`,n},$2=Le("Archive",[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]]),zz=Le("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]),Hz=Le("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]),tC=Le("CalendarDays",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]]),qz=Le("CalendarPlus",[["path",{d:"M21 13V6a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h8",key:"3spt84"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}],["line",{x1:"19",x2:"19",y1:"16",y2:"22",key:"1ttwzi"}],["line",{x1:"16",x2:"22",y1:"19",y2:"19",key:"1g9955"}]]),Gz=Le("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]),Yz=Le("CheckSquare",[["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}],["path",{d:"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11",key:"1jnkn4"}]]),Eh=Le("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]),Kz=Le("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),Qz=Le("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]),Xz=Le("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),Jz=Le("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]),Zz=Le("Droplets",[["path",{d:"M7 16.3c2.2 0 4-1.83 4-4.05 0-1.16-.57-2.26-1.71-3.19S7.29 6.75 7 5.3c-.29 1.45-1.14 2.84-2.29 3.76S3 11.1 3 12.25c0 2.22 1.8 4.05 4 4.05z",key:"1ptgy4"}],["path",{d:"M12.56 6.6A10.97 10.97 0 0 0 14 3.02c.5 2.5 2 4.9 4 6.5s3 3.5 3 5.5a6.98 6.98 0 0 1-11.91 4.97",key:"1sl1rz"}]]),o1=Le("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]),au=Le("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),eH=Le("FilePlus",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"12",x2:"12",y1:"18",y2:"12",key:"1tsf04"}],["line",{x1:"9",x2:"15",y1:"15",y2:"15",key:"110plj"}]]),tH=Le("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]),nC=Le("KeyRound",[["path",{d:"M2 18v3c0 .6.4 1 1 1h4v-3h3v-3h2l1.4-1.4a6.5 6.5 0 1 0-4-4Z",key:"167ctg"}],["circle",{cx:"16.5",cy:"7.5",r:".5",key:"1kog09"}]]),nH=Le("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]),rH=Le("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]),iH=Le("Maximize",[["path",{d:"M8 3H5a2 2 0 0 0-2 2v3",key:"1dcmit"}],["path",{d:"M21 8V5a2 2 0 0 0-2-2h-3",key:"1e4gt3"}],["path",{d:"M3 16v3a2 2 0 0 0 2 2h3",key:"wsl5sc"}],["path",{d:"M16 21h3a2 2 0 0 0 2-2v-3",key:"18trek"}]]),oH=Le("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",key:"1xcu5"}],["circle",{cx:"17.5",cy:"10.5",r:".5",key:"736e4u"}],["circle",{cx:"8.5",cy:"7.5",r:".5",key:"clrty"}],["circle",{cx:"6.5",cy:"12.5",r:".5",key:"1s4xz9"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]),ky=Le("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.5 3.5a2.12 2.12 0 0 1 3 3L7 19l-4 1 1-4Z",key:"ymcmye"}]]),bh=Le("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]]),Ry=Le("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),U2=Le("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]),sH=Le("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]),aH=Le("Thermometer",[["path",{d:"M14 4v10.54a4 4 0 1 1-4 0V4a2 2 0 0 1 4 0Z",key:"17jzev"}]]),Th=Le("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),lH=Le("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]),cH=Le("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),lu=Le("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]),s1=Le("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),uH=()=>{const[t,e]=m.useState(!0),[n,r]=m.useState(""),[i,o]=m.useState(""),[s,a]=m.useState(""),{login:l,register:c,resetPassword:u}=_l(),f=ip(),{toast:h}=xl(),[g,w]=m.useState(!1),v=async x=>{x.preventDefault(),w(!0);try{if(t)await l(n,i),h({title:"Inicio de sesión exitoso",description:"Bienvenida de nuevo."}),f("/");else{if(i!==s){h({title:"Error de registro",description:"Las contraseñas no coinciden.",variant:"destructive"}),w(!1);return}await c(n,i),h({title:"Registro exitoso",description:"Tu cuenta ha sido creada."}),f("/")}}catch(y){h({title:t?"Error al iniciar sesión":"Error al registrarse",description:y.message,variant:"destructive"}),w(!1)}},E=async()=>{if(!n){h({title:"Correo requerido",description:"Introduce tu correo para restablecer la contraseña.",variant:"destructive"});return}try{await u(n),h({title:"Correo enviado",description:"Revisa tu bandeja para restablecer la contraseña."})}catch(x){h({title:"Error",description:x.message,variant:"destructive"})}};return p.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-pink-50 via-purple-50 to-indigo-50 flex flex-col justify-center items-center p-4",children:[p.jsxs(xe.div,{className:"w-full max-w-md bg-white/80 backdrop-blur-md shadow-xl rounded-xl p-8 sm:p-10",initial:{opacity:0,y:-30},animate:{opacity:1,y:0},transition:{duration:.6,ease:"easeOut"},children:[p.jsxs("div",{className:"text-center mb-8",children:[p.jsx(xe.h1,{className:"text-3xl sm:text-4xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-rose-400 via-pink-400 to-fuchsia-500 py-2 mb-2",initial:{opacity:0},animate:{opacity:1},transition:{delay:.2,duration:.5},children:"FertiliApp"}),p.jsx("p",{className:"text-gray-600 text-lg",children:t?"Inicia sesión para continuar":"Crea tu cuenta"})]}),p.jsxs("form",{onSubmit:v,className:"space-y-6",children:[p.jsxs("div",{className:"space-y-2",children:[p.jsxs(Bt,{htmlFor:"email",className:"flex items-center text-gray-700 text-lg",children:[p.jsx(rH,{className:"mr-2 h-5 w-5 text-pink-400"})," Correo Electrónico"]}),p.jsx(fr,{id:"email",type:"email",value:n,onChange:x=>r(x.target.value),placeholder:"tu@email.com",required:!0,className:"bg-gray-50 border-gray-200 text-gray-800 placeholder-gray-400 focus:ring-pink-500 focus:border-pink-500 text-base py-3 px-4"})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsxs(Bt,{htmlFor:"password",className:"flex items-center text-gray-700 text-lg",children:[p.jsx(nC,{className:"mr-2 h-5 w-5 text-rose-400"})," Contraseña"]}),p.jsx(fr,{id:"password",type:"password",value:i,onChange:x=>o(x.target.value),placeholder:"••••••••",required:!0,className:"bg-gray-50 border-gray-200 text-gray-800 placeholder-gray-400 focus:ring-pink-500 focus:border-pink-500 text-base py-3 px-4"})]}),t&&p.jsx("div",{className:"text-right",children:p.jsx(Se,{variant:"link",type:"button",onClick:E,className:"text-pink-600 hover:text-pink-500 text-sm",children:"¿Olvidaste tu contraseña?"})}),!t&&p.jsxs("div",{className:"space-y-2",children:[p.jsxs(Bt,{htmlFor:"confirmPassword",className:"flex items-center text-gray-700 text-lg",children:[p.jsx(nC,{className:"mr-2 h-5 w-5 text-rose-400"})," Confirmar Contraseña"]}),p.jsx(fr,{id:"confirmPassword",type:"password",value:s,onChange:x=>a(x.target.value),placeholder:"••••••••",required:!0,className:"bg-gray-50 border-gray-200 text-gray-800 placeholder-gray-400 focus:ring-pink-500 focus:border-pink-500 text-base py-3 px-4"})]}),p.jsx(Se,{type:"submit",disabled:g,className:"w-full bg-gradient-to-r from-pink-500 to-fuchsia-600 hover:from-pink-600 hover:to-fuchsia-700 text-white font-semibold py-3 text-lg shadow-md hover:shadow-lg transition-all duration-300 transform hover:scale-105 flex items-center justify-center",children:g?p.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white"}):t?p.jsxs(p.Fragment,{children:[p.jsx(nH,{className:"mr-2 h-5 w-5"})," Iniciar Sesión"]}):p.jsxs(p.Fragment,{children:[p.jsx(lH,{className:"mr-2 h-5 w-5"})," Registrarse"]})})]}),p.jsx("div",{className:"mt-8 text-center",children:p.jsx(Se,{variant:"link",onClick:()=>e(!t),className:"text-pink-600 hover:text-pink-500 text-base",children:t?"¿No tienes cuenta? Regístrate":"¿Ya tienes cuenta? Inicia sesión"})})]}),p.jsx("footer",{className:"w-full max-w-md mt-12 text-center text-gray-500 text-sm",children:p.jsxs("p",{children:["© ",new Date().getFullYear()," FertiliApp. Todos los derechos reservados."]})})]})},hf=_e.forwardRef(({className:t,...e},n)=>p.jsx("textarea",{className:Ue("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:n,...e}));hf.displayName="Textarea";function dH(t,e){const n=m.createContext(e),r=o=>{const{children:s,...a}=o,l=m.useMemo(()=>a,Object.values(a));return p.jsx(n.Provider,{value:l,children:s})};r.displayName=t+"Provider";function i(o){const s=m.useContext(n);if(s)return s;if(e!==void 0)return e;throw new Error(`\`${o}\` must be used within \`${t}\``)}return[r,i]}function Ls(t,e=[]){let n=[];function r(o,s){const a=m.createContext(s),l=n.length;n=[...n,s];const c=f=>{var x;const{scope:h,children:g,...w}=f,v=((x=h==null?void 0:h[t])==null?void 0:x[l])||a,E=m.useMemo(()=>w,Object.values(w));return p.jsx(v.Provider,{value:E,children:g})};c.displayName=o+"Provider";function u(f,h){var v;const g=((v=h==null?void 0:h[t])==null?void 0:v[l])||a,w=m.useContext(g);if(w)return w;if(s!==void 0)return s;throw new Error(`\`${f}\` must be used within \`${o}\``)}return[c,u]}const i=()=>{const o=n.map(s=>m.createContext(s));return function(a){const l=(a==null?void 0:a[t])||o;return m.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return i.scopeName=t,[r,fH(i,...e)]}function fH(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(o){const s=r.reduce((a,{useScope:l,scopeName:c})=>{const f=l(o)[`__scope${c}`];return{...a,...f}},{});return m.useMemo(()=>({[`__scope${e.scopeName}`]:s}),[s])}};return n.scopeName=e.scopeName,n}function $e(t,e,{checkForDefaultPrevented:n=!0}={}){return function(i){if(t==null||t(i),n===!1||!i.defaultPrevented)return e==null?void 0:e(i)}}var Hr=globalThis!=null&&globalThis.document?m.useLayoutEffect:()=>{},hH=$h[" useInsertionEffect ".trim().toString()]||Hr;function jp({prop:t,defaultProp:e,onChange:n=()=>{},caller:r}){const[i,o,s]=pH({defaultProp:e,onChange:n}),a=t!==void 0,l=a?t:i;{const u=m.useRef(t!==void 0);m.useEffect(()=>{const f=u.current;f!==a&&console.warn(`${r} is changing from ${f?"controlled":"uncontrolled"} to ${a?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),u.current=a},[a,r])}const c=m.useCallback(u=>{var f;if(a){const h=mH(u)?u(t):u;h!==t&&((f=s.current)==null||f.call(s,h))}else o(u)},[a,t,o,s]);return[l,c]}function pH({defaultProp:t,onChange:e}){const[n,r]=m.useState(t),i=m.useRef(n),o=m.useRef(e);return hH(()=>{o.current=e},[e]),m.useEffect(()=>{var s;i.current!==n&&((s=o.current)==null||s.call(o,n),i.current=n)},[n,i]),[n,r,o]}function mH(t){return typeof t=="function"}function gH(t){const e=m.useRef({value:t,previous:t});return m.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}function B2(t){const[e,n]=m.useState(void 0);return Hr(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const o=i[0];let s,a;if("borderBoxSize"in o){const l=o.borderBoxSize,c=Array.isArray(l)?l[0]:l;s=c.inlineSize,a=c.blockSize}else s=t.offsetWidth,a=t.offsetHeight;n({width:s,height:a})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}function vH(t,e){return m.useReducer((n,r)=>e[n][r]??n,t)}var Zn=t=>{const{present:e,children:n}=t,r=yH(e),i=typeof n=="function"?n({present:r.isPresent}):m.Children.only(n),o=lt(r.ref,wH(i));return typeof n=="function"||r.isPresent?m.cloneElement(i,{ref:o}):null};Zn.displayName="Presence";function yH(t){const[e,n]=m.useState(),r=m.useRef(null),i=m.useRef(t),o=m.useRef("none"),s=t?"mounted":"unmounted",[a,l]=vH(s,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return m.useEffect(()=>{const c=Rd(r.current);o.current=a==="mounted"?c:"none"},[a]),Hr(()=>{const c=r.current,u=i.current;if(u!==t){const h=o.current,g=Rd(c);t?l("MOUNT"):g==="none"||(c==null?void 0:c.display)==="none"?l("UNMOUNT"):l(u&&h!==g?"ANIMATION_OUT":"UNMOUNT"),i.current=t}},[t,l]),Hr(()=>{if(e){let c;const u=e.ownerDocument.defaultView??window,f=g=>{const v=Rd(r.current).includes(g.animationName);if(g.target===e&&v&&(l("ANIMATION_END"),!i.current)){const E=e.style.animationFillMode;e.style.animationFillMode="forwards",c=u.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=E)})}},h=g=>{g.target===e&&(o.current=Rd(r.current))};return e.addEventListener("animationstart",h),e.addEventListener("animationcancel",f),e.addEventListener("animationend",f),()=>{u.clearTimeout(c),e.removeEventListener("animationstart",h),e.removeEventListener("animationcancel",f),e.removeEventListener("animationend",f)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:m.useCallback(c=>{r.current=c?getComputedStyle(c):null,n(c)},[])}}function Rd(t){return(t==null?void 0:t.animationName)||"none"}function wH(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var Fp="Checkbox",[_H,pne]=Ls(Fp),[xH,a1]=_H(Fp);function EH(t){const{__scopeCheckbox:e,checked:n,children:r,defaultChecked:i,disabled:o,form:s,name:a,onCheckedChange:l,required:c,value:u="on",internal_do_not_use_render:f}=t,[h,g]=jp({prop:n,defaultProp:i??!1,onChange:l,caller:Fp}),[w,v]=m.useState(null),[E,x]=m.useState(null),y=m.useRef(!1),b=w?!!s||!!w.closest("form"):!0,P={checked:h,disabled:o,setChecked:g,control:w,setControl:v,name:a,form:s,value:u,hasConsumerStoppedPropagationRef:y,required:c,defaultChecked:bo(i)?!1:i,isFormControl:b,bubbleInput:E,setBubbleInput:x};return p.jsx(xH,{scope:e,...P,children:bH(f)?f(P):r})}var W2="CheckboxTrigger",z2=m.forwardRef(({__scopeCheckbox:t,onKeyDown:e,onClick:n,...r},i)=>{const{control:o,value:s,disabled:a,checked:l,required:c,setControl:u,setChecked:f,hasConsumerStoppedPropagationRef:h,isFormControl:g,bubbleInput:w}=a1(W2,t),v=lt(i,u),E=m.useRef(l);return m.useEffect(()=>{const x=o==null?void 0:o.form;if(x){const y=()=>f(E.current);return x.addEventListener("reset",y),()=>x.removeEventListener("reset",y)}},[o,f]),p.jsx(ze.button,{type:"button",role:"checkbox","aria-checked":bo(l)?"mixed":l,"aria-required":c,"data-state":K2(l),"data-disabled":a?"":void 0,disabled:a,value:s,...r,ref:v,onKeyDown:$e(e,x=>{x.key==="Enter"&&x.preventDefault()}),onClick:$e(n,x=>{f(y=>bo(y)?!0:!y),w&&g&&(h.current=x.isPropagationStopped(),h.current||x.stopPropagation())})})});z2.displayName=W2;var l1=m.forwardRef((t,e)=>{const{__scopeCheckbox:n,name:r,checked:i,defaultChecked:o,required:s,disabled:a,value:l,onCheckedChange:c,form:u,...f}=t;return p.jsx(EH,{__scopeCheckbox:n,checked:i,defaultChecked:o,disabled:a,required:s,onCheckedChange:c,name:r,form:u,value:l,internal_do_not_use_render:({isFormControl:h})=>p.jsxs(p.Fragment,{children:[p.jsx(z2,{...f,ref:e,__scopeCheckbox:n}),h&&p.jsx(Y2,{__scopeCheckbox:n})]})})});l1.displayName=Fp;var H2="CheckboxIndicator",q2=m.forwardRef((t,e)=>{const{__scopeCheckbox:n,forceMount:r,...i}=t,o=a1(H2,n);return p.jsx(Zn,{present:r||bo(o.checked)||o.checked===!0,children:p.jsx(ze.span,{"data-state":K2(o.checked),"data-disabled":o.disabled?"":void 0,...i,ref:e,style:{pointerEvents:"none",...t.style}})})});q2.displayName=H2;var G2="CheckboxBubbleInput",Y2=m.forwardRef(({__scopeCheckbox:t,...e},n)=>{const{control:r,hasConsumerStoppedPropagationRef:i,checked:o,defaultChecked:s,required:a,disabled:l,name:c,value:u,form:f,bubbleInput:h,setBubbleInput:g}=a1(G2,t),w=lt(n,g),v=gH(o),E=B2(r);m.useEffect(()=>{const y=h;if(!y)return;const b=window.HTMLInputElement.prototype,R=Object.getOwnPropertyDescriptor(b,"checked").set,D=!i.current;if(v!==o&&R){const S=new Event("click",{bubbles:D});y.indeterminate=bo(o),R.call(y,bo(o)?!1:o),y.dispatchEvent(S)}},[h,v,o,i]);const x=m.useRef(bo(o)?!1:o);return p.jsx(ze.input,{type:"checkbox","aria-hidden":!0,defaultChecked:s??x.current,required:a,disabled:l,name:c,value:u,form:f,...e,tabIndex:-1,ref:w,style:{...e.style,...E,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});Y2.displayName=G2;function bH(t){return typeof t=="function"}function bo(t){return t==="indeterminate"}function K2(t){return bo(t)?"indeterminate":t?"checked":"unchecked"}const Q2=_e.forwardRef(({className:t,...e},n)=>p.jsx(l1,{ref:n,className:Ue("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",t),...e,children:p.jsx(q2,{className:Ue("flex items-center justify-center text-current"),children:p.jsx(Eh,{className:"h-4 w-4"})})}));Q2.displayName=l1.displayName;function gr(t){"@babel/helpers - typeof";return gr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gr(t)}function Je(t){if(t===null||t===!0||t===!1)return NaN;var e=Number(t);return isNaN(e)?e:e<0?Math.ceil(e):Math.floor(e)}function ue(t,e){if(e.length<t)throw new TypeError(t+" argument"+(t>1?"s":"")+" required, but only "+e.length+" present")}function ge(t){ue(1,arguments);var e=Object.prototype.toString.call(t);return t instanceof Date||gr(t)==="object"&&e==="[object Date]"?new Date(t.getTime()):typeof t=="number"||e==="[object Number]"?new Date(t):((typeof t=="string"||e==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}function Rt(t,e){ue(2,arguments);var n=ge(t),r=Je(e);return isNaN(r)?new Date(NaN):(r&&n.setDate(n.getDate()+r),n)}function vr(t,e){ue(2,arguments);var n=ge(t),r=Je(e);if(isNaN(r))return new Date(NaN);if(!r)return n;var i=n.getDate(),o=new Date(n.getTime());o.setMonth(n.getMonth()+r+1,0);var s=o.getDate();return i>=s?o:(n.setFullYear(o.getFullYear(),o.getMonth(),i),n)}function TH(t,e){ue(2,arguments);var n=ge(t).getTime(),r=Je(e);return new Date(n+r)}var CH={};function Kr(){return CH}function qr(t,e){var n,r,i,o,s,a,l,c;ue(1,arguments);var u=Kr(),f=Je((n=(r=(i=(o=e==null?void 0:e.weekStartsOn)!==null&&o!==void 0?o:e==null||(s=e.locale)===null||s===void 0||(a=s.options)===null||a===void 0?void 0:a.weekStartsOn)!==null&&i!==void 0?i:u.weekStartsOn)!==null&&r!==void 0?r:(l=u.locale)===null||l===void 0||(c=l.options)===null||c===void 0?void 0:c.weekStartsOn)!==null&&n!==void 0?n:0);if(!(f>=0&&f<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var h=ge(t),g=h.getDay(),w=(g<f?7:0)+g-f;return h.setDate(h.getDate()-w),h.setHours(0,0,0,0),h}function Ts(t){return ue(1,arguments),qr(t,{weekStartsOn:1})}function SH(t){ue(1,arguments);var e=ge(t),n=e.getFullYear(),r=new Date(0);r.setFullYear(n+1,0,4),r.setHours(0,0,0,0);var i=Ts(r),o=new Date(0);o.setFullYear(n,0,4),o.setHours(0,0,0,0);var s=Ts(o);return e.getTime()>=i.getTime()?n+1:e.getTime()>=s.getTime()?n:n-1}function PH(t){ue(1,arguments);var e=SH(t),n=new Date(0);n.setFullYear(e,0,4),n.setHours(0,0,0,0);var r=Ts(n);return r}function el(t){var e=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return e.setUTCFullYear(t.getFullYear()),t.getTime()-e.getTime()}function Ce(t){ue(1,arguments);var e=ge(t);return e.setHours(0,0,0,0),e}var IH=864e5;function Rr(t,e){ue(2,arguments);var n=Ce(t),r=Ce(e),i=n.getTime()-el(n),o=r.getTime()-el(r);return Math.round((i-o)/IH)}function Ny(t,e){ue(2,arguments);var n=Je(e),r=n*7;return Rt(t,r)}function AH(t,e){ue(2,arguments);var n=Je(e);return vr(t,n*12)}function kH(t){ue(1,arguments);var e;if(t&&typeof t.forEach=="function")e=t;else if(gr(t)==="object"&&t!==null)e=Array.prototype.slice.call(t);else return new Date(NaN);var n;return e.forEach(function(r){var i=ge(r);(n===void 0||n<i||isNaN(Number(i)))&&(n=i)}),n||new Date(NaN)}function RH(t){ue(1,arguments);var e;if(t&&typeof t.forEach=="function")e=t;else if(gr(t)==="object"&&t!==null)e=Array.prototype.slice.call(t);else return new Date(NaN);var n;return e.forEach(function(r){var i=ge(r);(n===void 0||n>i||isNaN(i.getDate()))&&(n=i)}),n||new Date(NaN)}function NH(t,e){ue(2,arguments);var n=ge(t),r=ge(e),i=n.getTime()-r.getTime();return i<0?-1:i>0?1:i}var c1=6e4,u1=36e5,DH=1e3;function bn(t,e){ue(2,arguments);var n=Ce(t),r=Ce(e);return n.getTime()===r.getTime()}function d1(t){return ue(1,arguments),t instanceof Date||gr(t)==="object"&&Object.prototype.toString.call(t)==="[object Date]"}function MH(t){if(ue(1,arguments),!d1(t)&&typeof t!="number")return!1;var e=ge(t);return!isNaN(Number(e))}function cu(t,e){ue(2,arguments);var n=ge(t),r=ge(e),i=n.getFullYear()-r.getFullYear(),o=n.getMonth()-r.getMonth();return i*12+o}var OH=6048e5;function LH(t,e,n){ue(2,arguments);var r=qr(t,n),i=qr(e,n),o=r.getTime()-el(r),s=i.getTime()-el(i);return Math.round((o-s)/OH)}function rC(t,e){var n=t.getFullYear()-e.getFullYear()||t.getMonth()-e.getMonth()||t.getDate()-e.getDate()||t.getHours()-e.getHours()||t.getMinutes()-e.getMinutes()||t.getSeconds()-e.getSeconds()||t.getMilliseconds()-e.getMilliseconds();return n<0?-1:n>0?1:n}function To(t,e){ue(2,arguments);var n=ge(t),r=ge(e),i=rC(n,r),o=Math.abs(Rr(n,r));n.setDate(n.getDate()-i*o);var s=+(rC(n,r)===-i),a=i*(o-s);return a===0?0:a}function f1(t){ue(1,arguments);var e=ge(t),n=e.getMonth();return e.setFullYear(e.getFullYear(),n+1,0),e.setHours(23,59,59,999),e}function Pn(t){ue(1,arguments);var e=ge(t);return e.setDate(1),e.setHours(0,0,0,0),e}function VH(t){ue(1,arguments);var e=ge(t),n=new Date(0);return n.setFullYear(e.getFullYear(),0,1),n.setHours(0,0,0,0),n}function h1(t,e){var n,r,i,o,s,a,l,c;ue(1,arguments);var u=Kr(),f=Je((n=(r=(i=(o=e==null?void 0:e.weekStartsOn)!==null&&o!==void 0?o:e==null||(s=e.locale)===null||s===void 0||(a=s.options)===null||a===void 0?void 0:a.weekStartsOn)!==null&&i!==void 0?i:u.weekStartsOn)!==null&&r!==void 0?r:(l=u.locale)===null||l===void 0||(c=l.options)===null||c===void 0?void 0:c.weekStartsOn)!==null&&n!==void 0?n:0);if(!(f>=0&&f<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var h=ge(t),g=h.getDay(),w=(g<f?-7:0)+6-(g-f);return h.setDate(h.getDate()+w),h.setHours(23,59,59,999),h}function X2(t){return ue(1,arguments),h1(t,{weekStartsOn:1})}function J2(t,e){ue(2,arguments);var n=Je(e);return TH(t,-n)}var jH=864e5;function FH(t){ue(1,arguments);var e=ge(t),n=e.getTime();e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0);var r=e.getTime(),i=n-r;return Math.floor(i/jH)+1}function tl(t){ue(1,arguments);var e=1,n=ge(t),r=n.getUTCDay(),i=(r<e?7:0)+r-e;return n.setUTCDate(n.getUTCDate()-i),n.setUTCHours(0,0,0,0),n}function Z2(t){ue(1,arguments);var e=ge(t),n=e.getUTCFullYear(),r=new Date(0);r.setUTCFullYear(n+1,0,4),r.setUTCHours(0,0,0,0);var i=tl(r),o=new Date(0);o.setUTCFullYear(n,0,4),o.setUTCHours(0,0,0,0);var s=tl(o);return e.getTime()>=i.getTime()?n+1:e.getTime()>=s.getTime()?n:n-1}function $H(t){ue(1,arguments);var e=Z2(t),n=new Date(0);n.setUTCFullYear(e,0,4),n.setUTCHours(0,0,0,0);var r=tl(n);return r}var UH=6048e5;function eN(t){ue(1,arguments);var e=ge(t),n=tl(e).getTime()-$H(e).getTime();return Math.round(n/UH)+1}function Cs(t,e){var n,r,i,o,s,a,l,c;ue(1,arguments);var u=Kr(),f=Je((n=(r=(i=(o=e==null?void 0:e.weekStartsOn)!==null&&o!==void 0?o:e==null||(s=e.locale)===null||s===void 0||(a=s.options)===null||a===void 0?void 0:a.weekStartsOn)!==null&&i!==void 0?i:u.weekStartsOn)!==null&&r!==void 0?r:(l=u.locale)===null||l===void 0||(c=l.options)===null||c===void 0?void 0:c.weekStartsOn)!==null&&n!==void 0?n:0);if(!(f>=0&&f<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var h=ge(t),g=h.getUTCDay(),w=(g<f?7:0)+g-f;return h.setUTCDate(h.getUTCDate()-w),h.setUTCHours(0,0,0,0),h}function p1(t,e){var n,r,i,o,s,a,l,c;ue(1,arguments);var u=ge(t),f=u.getUTCFullYear(),h=Kr(),g=Je((n=(r=(i=(o=e==null?void 0:e.firstWeekContainsDate)!==null&&o!==void 0?o:e==null||(s=e.locale)===null||s===void 0||(a=s.options)===null||a===void 0?void 0:a.firstWeekContainsDate)!==null&&i!==void 0?i:h.firstWeekContainsDate)!==null&&r!==void 0?r:(l=h.locale)===null||l===void 0||(c=l.options)===null||c===void 0?void 0:c.firstWeekContainsDate)!==null&&n!==void 0?n:1);if(!(g>=1&&g<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var w=new Date(0);w.setUTCFullYear(f+1,0,g),w.setUTCHours(0,0,0,0);var v=Cs(w,e),E=new Date(0);E.setUTCFullYear(f,0,g),E.setUTCHours(0,0,0,0);var x=Cs(E,e);return u.getTime()>=v.getTime()?f+1:u.getTime()>=x.getTime()?f:f-1}function BH(t,e){var n,r,i,o,s,a,l,c;ue(1,arguments);var u=Kr(),f=Je((n=(r=(i=(o=e==null?void 0:e.firstWeekContainsDate)!==null&&o!==void 0?o:e==null||(s=e.locale)===null||s===void 0||(a=s.options)===null||a===void 0?void 0:a.firstWeekContainsDate)!==null&&i!==void 0?i:u.firstWeekContainsDate)!==null&&r!==void 0?r:(l=u.locale)===null||l===void 0||(c=l.options)===null||c===void 0?void 0:c.firstWeekContainsDate)!==null&&n!==void 0?n:1),h=p1(t,e),g=new Date(0);g.setUTCFullYear(h,0,f),g.setUTCHours(0,0,0,0);var w=Cs(g,e);return w}var WH=6048e5;function tN(t,e){ue(1,arguments);var n=ge(t),r=Cs(n,e).getTime()-BH(n,e).getTime();return Math.round(r/WH)+1}function He(t,e){for(var n=t<0?"-":"",r=Math.abs(t).toString();r.length<e;)r="0"+r;return n+r}var zH={y:function(e,n){var r=e.getUTCFullYear(),i=r>0?r:1-r;return He(n==="yy"?i%100:i,n.length)},M:function(e,n){var r=e.getUTCMonth();return n==="M"?String(r+1):He(r+1,2)},d:function(e,n){return He(e.getUTCDate(),n.length)},a:function(e,n){var r=e.getUTCHours()/12>=1?"pm":"am";switch(n){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h:function(e,n){return He(e.getUTCHours()%12||12,n.length)},H:function(e,n){return He(e.getUTCHours(),n.length)},m:function(e,n){return He(e.getUTCMinutes(),n.length)},s:function(e,n){return He(e.getUTCSeconds(),n.length)},S:function(e,n){var r=n.length,i=e.getUTCMilliseconds(),o=Math.floor(i*Math.pow(10,r-3));return He(o,n.length)}};const Wi=zH;var Ws={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},HH={G:function(e,n,r){var i=e.getUTCFullYear()>0?1:0;switch(n){case"G":case"GG":case"GGG":return r.era(i,{width:"abbreviated"});case"GGGGG":return r.era(i,{width:"narrow"});case"GGGG":default:return r.era(i,{width:"wide"})}},y:function(e,n,r){if(n==="yo"){var i=e.getUTCFullYear(),o=i>0?i:1-i;return r.ordinalNumber(o,{unit:"year"})}return Wi.y(e,n)},Y:function(e,n,r,i){var o=p1(e,i),s=o>0?o:1-o;if(n==="YY"){var a=s%100;return He(a,2)}return n==="Yo"?r.ordinalNumber(s,{unit:"year"}):He(s,n.length)},R:function(e,n){var r=Z2(e);return He(r,n.length)},u:function(e,n){var r=e.getUTCFullYear();return He(r,n.length)},Q:function(e,n,r){var i=Math.ceil((e.getUTCMonth()+1)/3);switch(n){case"Q":return String(i);case"QQ":return He(i,2);case"Qo":return r.ordinalNumber(i,{unit:"quarter"});case"QQQ":return r.quarter(i,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(i,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(i,{width:"wide",context:"formatting"})}},q:function(e,n,r){var i=Math.ceil((e.getUTCMonth()+1)/3);switch(n){case"q":return String(i);case"qq":return He(i,2);case"qo":return r.ordinalNumber(i,{unit:"quarter"});case"qqq":return r.quarter(i,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(i,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(i,{width:"wide",context:"standalone"})}},M:function(e,n,r){var i=e.getUTCMonth();switch(n){case"M":case"MM":return Wi.M(e,n);case"Mo":return r.ordinalNumber(i+1,{unit:"month"});case"MMM":return r.month(i,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(i,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(i,{width:"wide",context:"formatting"})}},L:function(e,n,r){var i=e.getUTCMonth();switch(n){case"L":return String(i+1);case"LL":return He(i+1,2);case"Lo":return r.ordinalNumber(i+1,{unit:"month"});case"LLL":return r.month(i,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(i,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(i,{width:"wide",context:"standalone"})}},w:function(e,n,r,i){var o=tN(e,i);return n==="wo"?r.ordinalNumber(o,{unit:"week"}):He(o,n.length)},I:function(e,n,r){var i=eN(e);return n==="Io"?r.ordinalNumber(i,{unit:"week"}):He(i,n.length)},d:function(e,n,r){return n==="do"?r.ordinalNumber(e.getUTCDate(),{unit:"date"}):Wi.d(e,n)},D:function(e,n,r){var i=FH(e);return n==="Do"?r.ordinalNumber(i,{unit:"dayOfYear"}):He(i,n.length)},E:function(e,n,r){var i=e.getUTCDay();switch(n){case"E":case"EE":case"EEE":return r.day(i,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(i,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(i,{width:"short",context:"formatting"});case"EEEE":default:return r.day(i,{width:"wide",context:"formatting"})}},e:function(e,n,r,i){var o=e.getUTCDay(),s=(o-i.weekStartsOn+8)%7||7;switch(n){case"e":return String(s);case"ee":return He(s,2);case"eo":return r.ordinalNumber(s,{unit:"day"});case"eee":return r.day(o,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(o,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(o,{width:"short",context:"formatting"});case"eeee":default:return r.day(o,{width:"wide",context:"formatting"})}},c:function(e,n,r,i){var o=e.getUTCDay(),s=(o-i.weekStartsOn+8)%7||7;switch(n){case"c":return String(s);case"cc":return He(s,n.length);case"co":return r.ordinalNumber(s,{unit:"day"});case"ccc":return r.day(o,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(o,{width:"narrow",context:"standalone"});case"cccccc":return r.day(o,{width:"short",context:"standalone"});case"cccc":default:return r.day(o,{width:"wide",context:"standalone"})}},i:function(e,n,r){var i=e.getUTCDay(),o=i===0?7:i;switch(n){case"i":return String(o);case"ii":return He(o,n.length);case"io":return r.ordinalNumber(o,{unit:"day"});case"iii":return r.day(i,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(i,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(i,{width:"short",context:"formatting"});case"iiii":default:return r.day(i,{width:"wide",context:"formatting"})}},a:function(e,n,r){var i=e.getUTCHours(),o=i/12>=1?"pm":"am";switch(n){case"a":case"aa":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(o,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(o,{width:"wide",context:"formatting"})}},b:function(e,n,r){var i=e.getUTCHours(),o;switch(i===12?o=Ws.noon:i===0?o=Ws.midnight:o=i/12>=1?"pm":"am",n){case"b":case"bb":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(o,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(o,{width:"wide",context:"formatting"})}},B:function(e,n,r){var i=e.getUTCHours(),o;switch(i>=17?o=Ws.evening:i>=12?o=Ws.afternoon:i>=4?o=Ws.morning:o=Ws.night,n){case"B":case"BB":case"BBB":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(o,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(o,{width:"wide",context:"formatting"})}},h:function(e,n,r){if(n==="ho"){var i=e.getUTCHours()%12;return i===0&&(i=12),r.ordinalNumber(i,{unit:"hour"})}return Wi.h(e,n)},H:function(e,n,r){return n==="Ho"?r.ordinalNumber(e.getUTCHours(),{unit:"hour"}):Wi.H(e,n)},K:function(e,n,r){var i=e.getUTCHours()%12;return n==="Ko"?r.ordinalNumber(i,{unit:"hour"}):He(i,n.length)},k:function(e,n,r){var i=e.getUTCHours();return i===0&&(i=24),n==="ko"?r.ordinalNumber(i,{unit:"hour"}):He(i,n.length)},m:function(e,n,r){return n==="mo"?r.ordinalNumber(e.getUTCMinutes(),{unit:"minute"}):Wi.m(e,n)},s:function(e,n,r){return n==="so"?r.ordinalNumber(e.getUTCSeconds(),{unit:"second"}):Wi.s(e,n)},S:function(e,n){return Wi.S(e,n)},X:function(e,n,r,i){var o=i._originalDate||e,s=o.getTimezoneOffset();if(s===0)return"Z";switch(n){case"X":return oC(s);case"XXXX":case"XX":return rs(s);case"XXXXX":case"XXX":default:return rs(s,":")}},x:function(e,n,r,i){var o=i._originalDate||e,s=o.getTimezoneOffset();switch(n){case"x":return oC(s);case"xxxx":case"xx":return rs(s);case"xxxxx":case"xxx":default:return rs(s,":")}},O:function(e,n,r,i){var o=i._originalDate||e,s=o.getTimezoneOffset();switch(n){case"O":case"OO":case"OOO":return"GMT"+iC(s,":");case"OOOO":default:return"GMT"+rs(s,":")}},z:function(e,n,r,i){var o=i._originalDate||e,s=o.getTimezoneOffset();switch(n){case"z":case"zz":case"zzz":return"GMT"+iC(s,":");case"zzzz":default:return"GMT"+rs(s,":")}},t:function(e,n,r,i){var o=i._originalDate||e,s=Math.floor(o.getTime()/1e3);return He(s,n.length)},T:function(e,n,r,i){var o=i._originalDate||e,s=o.getTime();return He(s,n.length)}};function iC(t,e){var n=t>0?"-":"+",r=Math.abs(t),i=Math.floor(r/60),o=r%60;if(o===0)return n+String(i);var s=e||"";return n+String(i)+s+He(o,2)}function oC(t,e){if(t%60===0){var n=t>0?"-":"+";return n+He(Math.abs(t)/60,2)}return rs(t,e)}function rs(t,e){var n=e||"",r=t>0?"-":"+",i=Math.abs(t),o=He(Math.floor(i/60),2),s=He(i%60,2);return r+o+n+s}const qH=HH;var sC=function(e,n){switch(e){case"P":return n.date({width:"short"});case"PP":return n.date({width:"medium"});case"PPP":return n.date({width:"long"});case"PPPP":default:return n.date({width:"full"})}},nN=function(e,n){switch(e){case"p":return n.time({width:"short"});case"pp":return n.time({width:"medium"});case"ppp":return n.time({width:"long"});case"pppp":default:return n.time({width:"full"})}},GH=function(e,n){var r=e.match(/(P+)(p+)?/)||[],i=r[1],o=r[2];if(!o)return sC(e,n);var s;switch(i){case"P":s=n.dateTime({width:"short"});break;case"PP":s=n.dateTime({width:"medium"});break;case"PPP":s=n.dateTime({width:"long"});break;case"PPPP":default:s=n.dateTime({width:"full"});break}return s.replace("{{date}}",sC(i,n)).replace("{{time}}",nN(o,n))},YH={p:nN,P:GH};const Dy=YH;var KH=["D","DD"],QH=["YY","YYYY"];function rN(t){return KH.indexOf(t)!==-1}function iN(t){return QH.indexOf(t)!==-1}function Ch(t,e,n){if(t==="YYYY")throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(e,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(t==="YY")throw new RangeError("Use `yy` instead of `YY` (in `".concat(e,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(t==="D")throw new RangeError("Use `d` instead of `D` (in `".concat(e,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(t==="DD")throw new RangeError("Use `dd` instead of `DD` (in `".concat(e,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}var XH={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},JH=function(e,n,r){var i,o=XH[e];return typeof o=="string"?i=o:n===1?i=o.one:i=o.other.replace("{{count}}",n.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+i:i+" ago":i};const ZH=JH;function Na(t){return function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.width?String(e.width):t.defaultWidth,r=t.formats[n]||t.formats[t.defaultWidth];return r}}var eq={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},tq={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},nq={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},rq={date:Na({formats:eq,defaultWidth:"full"}),time:Na({formats:tq,defaultWidth:"full"}),dateTime:Na({formats:nq,defaultWidth:"full"})};const iq=rq;var oq={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},sq=function(e,n,r,i){return oq[e]};const aq=sq;function Pr(t){return function(e,n){var r=n!=null&&n.context?String(n.context):"standalone",i;if(r==="formatting"&&t.formattingValues){var o=t.defaultFormattingWidth||t.defaultWidth,s=n!=null&&n.width?String(n.width):o;i=t.formattingValues[s]||t.formattingValues[o]}else{var a=t.defaultWidth,l=n!=null&&n.width?String(n.width):t.defaultWidth;i=t.values[l]||t.values[a]}var c=t.argumentCallback?t.argumentCallback(e):e;return i[c]}}var lq={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},cq={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},uq={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},dq={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},fq={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},hq={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},pq=function(e,n){var r=Number(e),i=r%100;if(i>20||i<10)switch(i%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},mq={ordinalNumber:pq,era:Pr({values:lq,defaultWidth:"wide"}),quarter:Pr({values:cq,defaultWidth:"wide",argumentCallback:function(e){return e-1}}),month:Pr({values:uq,defaultWidth:"wide"}),day:Pr({values:dq,defaultWidth:"wide"}),dayPeriod:Pr({values:fq,defaultWidth:"wide",formattingValues:hq,defaultFormattingWidth:"wide"})};const gq=mq;function Ir(t){return function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=n.width,i=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],o=e.match(i);if(!o)return null;var s=o[0],a=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],l=Array.isArray(a)?yq(a,function(f){return f.test(s)}):vq(a,function(f){return f.test(s)}),c;c=t.valueCallback?t.valueCallback(l):l,c=n.valueCallback?n.valueCallback(c):c;var u=e.slice(s.length);return{value:c,rest:u}}}function vq(t,e){for(var n in t)if(t.hasOwnProperty(n)&&e(t[n]))return n}function yq(t,e){for(var n=0;n<t.length;n++)if(e(t[n]))return n}function oN(t){return function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=e.match(t.matchPattern);if(!r)return null;var i=r[0],o=e.match(t.parsePattern);if(!o)return null;var s=t.valueCallback?t.valueCallback(o[0]):o[0];s=n.valueCallback?n.valueCallback(s):s;var a=e.slice(i.length);return{value:s,rest:a}}}var wq=/^(\d+)(th|st|nd|rd)?/i,_q=/\d+/i,xq={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Eq={any:[/^b/i,/^(a|c)/i]},bq={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Tq={any:[/1/i,/2/i,/3/i,/4/i]},Cq={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Sq={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Pq={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Iq={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Aq={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},kq={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Rq={ordinalNumber:oN({matchPattern:wq,parsePattern:_q,valueCallback:function(e){return parseInt(e,10)}}),era:Ir({matchPatterns:xq,defaultMatchWidth:"wide",parsePatterns:Eq,defaultParseWidth:"any"}),quarter:Ir({matchPatterns:bq,defaultMatchWidth:"wide",parsePatterns:Tq,defaultParseWidth:"any",valueCallback:function(e){return e+1}}),month:Ir({matchPatterns:Cq,defaultMatchWidth:"wide",parsePatterns:Sq,defaultParseWidth:"any"}),day:Ir({matchPatterns:Pq,defaultMatchWidth:"wide",parsePatterns:Iq,defaultParseWidth:"any"}),dayPeriod:Ir({matchPatterns:Aq,defaultMatchWidth:"any",parsePatterns:kq,defaultParseWidth:"any"})};const Nq=Rq;var Dq={code:"en-US",formatDistance:ZH,formatLong:iq,formatRelative:aq,localize:gq,match:Nq,options:{weekStartsOn:0,firstWeekContainsDate:1}};const m1=Dq;var Mq=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Oq=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Lq=/^'([^]*?)'?$/,Vq=/''/g,jq=/[a-zA-Z]/;function be(t,e,n){var r,i,o,s,a,l,c,u,f,h,g,w,v,E,x,y,b,P;ue(2,arguments);var R=String(e),D=Kr(),S=(r=(i=n==null?void 0:n.locale)!==null&&i!==void 0?i:D.locale)!==null&&r!==void 0?r:m1,C=Je((o=(s=(a=(l=n==null?void 0:n.firstWeekContainsDate)!==null&&l!==void 0?l:n==null||(c=n.locale)===null||c===void 0||(u=c.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&a!==void 0?a:D.firstWeekContainsDate)!==null&&s!==void 0?s:(f=D.locale)===null||f===void 0||(h=f.options)===null||h===void 0?void 0:h.firstWeekContainsDate)!==null&&o!==void 0?o:1);if(!(C>=1&&C<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var I=Je((g=(w=(v=(E=n==null?void 0:n.weekStartsOn)!==null&&E!==void 0?E:n==null||(x=n.locale)===null||x===void 0||(y=x.options)===null||y===void 0?void 0:y.weekStartsOn)!==null&&v!==void 0?v:D.weekStartsOn)!==null&&w!==void 0?w:(b=D.locale)===null||b===void 0||(P=b.options)===null||P===void 0?void 0:P.weekStartsOn)!==null&&g!==void 0?g:0);if(!(I>=0&&I<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!S.localize)throw new RangeError("locale must contain localize property");if(!S.formatLong)throw new RangeError("locale must contain formatLong property");var A=ge(t);if(!MH(A))throw new RangeError("Invalid time value");var M=el(A),O=J2(A,M),N={firstWeekContainsDate:C,weekStartsOn:I,locale:S,_originalDate:A},F=R.match(Oq).map(function(Y){var K=Y[0];if(K==="p"||K==="P"){var W=Dy[K];return W(Y,S.formatLong)}return Y}).join("").match(Mq).map(function(Y){if(Y==="''")return"'";var K=Y[0];if(K==="'")return Fq(Y);var W=qH[K];if(W)return!(n!=null&&n.useAdditionalWeekYearTokens)&&iN(Y)&&Ch(Y,e,String(t)),!(n!=null&&n.useAdditionalDayOfYearTokens)&&rN(Y)&&Ch(Y,e,String(t)),W(O,Y,S.localize,N);if(K.match(jq))throw new RangeError("Format string contains an unescaped latin alphabet character `"+K+"`");return Y}).join("");return F}function Fq(t){var e=t.match(Lq);return e?e[1].replace(Vq,"'"):t}function $q(t,e){if(t==null)throw new TypeError("assign requires that input parameter not be null or undefined");for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}function Uq(t){ue(1,arguments);var e=ge(t),n=e.getFullYear(),r=e.getMonth(),i=new Date(0);return i.setFullYear(n,r+1,0),i.setHours(0,0,0,0),i.getDate()}var Bq=6048e5;function Wq(t){ue(1,arguments);var e=ge(t),n=Ts(e).getTime()-PH(e).getTime();return Math.round(n/Bq)+1}function zq(t){ue(1,arguments);var e=ge(t),n=e.getTime();return n}function Hq(t){return ue(1,arguments),Math.floor(zq(t)/1e3)}function qq(t,e){var n,r,i,o,s,a,l,c;ue(1,arguments);var u=ge(t),f=u.getFullYear(),h=Kr(),g=Je((n=(r=(i=(o=e==null?void 0:e.firstWeekContainsDate)!==null&&o!==void 0?o:e==null||(s=e.locale)===null||s===void 0||(a=s.options)===null||a===void 0?void 0:a.firstWeekContainsDate)!==null&&i!==void 0?i:h.firstWeekContainsDate)!==null&&r!==void 0?r:(l=h.locale)===null||l===void 0||(c=l.options)===null||c===void 0?void 0:c.firstWeekContainsDate)!==null&&n!==void 0?n:1);if(!(g>=1&&g<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var w=new Date(0);w.setFullYear(f+1,0,g),w.setHours(0,0,0,0);var v=qr(w,e),E=new Date(0);E.setFullYear(f,0,g),E.setHours(0,0,0,0);var x=qr(E,e);return u.getTime()>=v.getTime()?f+1:u.getTime()>=x.getTime()?f:f-1}function Gq(t,e){var n,r,i,o,s,a,l,c;ue(1,arguments);var u=Kr(),f=Je((n=(r=(i=(o=e==null?void 0:e.firstWeekContainsDate)!==null&&o!==void 0?o:e==null||(s=e.locale)===null||s===void 0||(a=s.options)===null||a===void 0?void 0:a.firstWeekContainsDate)!==null&&i!==void 0?i:u.firstWeekContainsDate)!==null&&r!==void 0?r:(l=u.locale)===null||l===void 0||(c=l.options)===null||c===void 0?void 0:c.firstWeekContainsDate)!==null&&n!==void 0?n:1),h=qq(t,e),g=new Date(0);g.setFullYear(h,0,f),g.setHours(0,0,0,0);var w=qr(g,e);return w}var Yq=6048e5;function Kq(t,e){ue(1,arguments);var n=ge(t),r=qr(n,e).getTime()-Gq(n,e).getTime();return Math.round(r/Yq)+1}function Qq(t){ue(1,arguments);var e=ge(t),n=e.getMonth();return e.setFullYear(e.getFullYear(),n+1,0),e.setHours(0,0,0,0),e}function Xq(t,e){return ue(1,arguments),LH(Qq(t),Pn(t),e)+1}function Sh(t,e){ue(2,arguments);var n=ge(t),r=ge(e);return n.getTime()>r.getTime()}function sN(t,e){ue(2,arguments);var n=ge(t),r=ge(e);return n.getTime()<r.getTime()}function aC(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function Jq(t,e){if(t){if(typeof t=="string")return aC(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?aC(t,e):void 0}}function lC(t,e){var n=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=Jq(t))||e&&t&&typeof t.length=="number"){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(c){throw c},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var o,s=!0,a=!1;return{s:function(){n=n.call(t)},n:function(){var c=n.next();return s=c.done,c},e:function(c){a=!0,o=c},f:function(){try{s||n.return==null||n.return()}finally{if(a)throw o}}}}function oe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function My(t,e){return My=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},My(t,e)}function Ve(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&My(t,e)}function Ph(t){return Ph=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Ph(t)}function aN(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(aN=function(){return!!t})()}function Zq(t,e){if(e&&(gr(e)=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return oe(t)}function je(t){var e=aN();return function(){var n,r=Ph(t);if(e){var i=Ph(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Zq(this,n)}}function Ne(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function eG(t,e){if(gr(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(gr(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function lN(t){var e=eG(t,"string");return gr(e)=="symbol"?e:e+""}function cC(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,lN(r.key),r)}}function De(t,e,n){return e&&cC(t.prototype,e),n&&cC(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function ne(t,e,n){return(e=lN(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var tG=10,cN=function(){function t(){Ne(this,t),ne(this,"priority",void 0),ne(this,"subPriority",0)}return De(t,[{key:"validate",value:function(n,r){return!0}}]),t}(),nG=function(t){Ve(n,t);var e=je(n);function n(r,i,o,s,a){var l;return Ne(this,n),l=e.call(this),l.value=r,l.validateValue=i,l.setValue=o,l.priority=s,a&&(l.subPriority=a),l}return De(n,[{key:"validate",value:function(i,o){return this.validateValue(i,this.value,o)}},{key:"set",value:function(i,o,s){return this.setValue(i,o,this.value,s)}}]),n}(cN),rG=function(t){Ve(n,t);var e=je(n);function n(){var r;Ne(this,n);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o)),ne(oe(r),"priority",tG),ne(oe(r),"subPriority",-1),r}return De(n,[{key:"set",value:function(i,o){if(o.timestampIsSet)return i;var s=new Date(0);return s.setFullYear(i.getUTCFullYear(),i.getUTCMonth(),i.getUTCDate()),s.setHours(i.getUTCHours(),i.getUTCMinutes(),i.getUTCSeconds(),i.getUTCMilliseconds()),s}}]),n}(cN),Be=function(){function t(){Ne(this,t),ne(this,"incompatibleTokens",void 0),ne(this,"priority",void 0),ne(this,"subPriority",void 0)}return De(t,[{key:"run",value:function(n,r,i,o){var s=this.parse(n,r,i,o);return s?{setter:new nG(s.value,this.validate,this.set,this.priority,this.subPriority),rest:s.rest}:null}},{key:"validate",value:function(n,r,i){return!0}}]),t}(),iG=function(t){Ve(n,t);var e=je(n);function n(){var r;Ne(this,n);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o)),ne(oe(r),"priority",140),ne(oe(r),"incompatibleTokens",["R","u","t","T"]),r}return De(n,[{key:"parse",value:function(i,o,s){switch(o){case"G":case"GG":case"GGG":return s.era(i,{width:"abbreviated"})||s.era(i,{width:"narrow"});case"GGGGG":return s.era(i,{width:"narrow"});case"GGGG":default:return s.era(i,{width:"wide"})||s.era(i,{width:"abbreviated"})||s.era(i,{width:"narrow"})}}},{key:"set",value:function(i,o,s){return o.era=s,i.setUTCFullYear(s,0,1),i.setUTCHours(0,0,0,0),i}}]),n}(Be),Et={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},Ar={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function bt(t,e){return t&&{value:e(t.value),rest:t.rest}}function dt(t,e){var n=e.match(t);return n?{value:parseInt(n[0],10),rest:e.slice(n[0].length)}:null}function kr(t,e){var n=e.match(t);if(!n)return null;if(n[0]==="Z")return{value:0,rest:e.slice(1)};var r=n[1]==="+"?1:-1,i=n[2]?parseInt(n[2],10):0,o=n[3]?parseInt(n[3],10):0,s=n[5]?parseInt(n[5],10):0;return{value:r*(i*u1+o*c1+s*DH),rest:e.slice(n[0].length)}}function uN(t){return dt(Et.anyDigitsSigned,t)}function wt(t,e){switch(t){case 1:return dt(Et.singleDigit,e);case 2:return dt(Et.twoDigits,e);case 3:return dt(Et.threeDigits,e);case 4:return dt(Et.fourDigits,e);default:return dt(new RegExp("^\\d{1,"+t+"}"),e)}}function Ih(t,e){switch(t){case 1:return dt(Et.singleDigitSigned,e);case 2:return dt(Et.twoDigitsSigned,e);case 3:return dt(Et.threeDigitsSigned,e);case 4:return dt(Et.fourDigitsSigned,e);default:return dt(new RegExp("^-?\\d{1,"+t+"}"),e)}}function g1(t){switch(t){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function dN(t,e){var n=e>0,r=n?e:1-e,i;if(r<=50)i=t||100;else{var o=r+50,s=Math.floor(o/100)*100,a=t>=o%100;i=t+s-(a?100:0)}return n?i:1-i}function fN(t){return t%400===0||t%4===0&&t%100!==0}var oG=function(t){Ve(n,t);var e=je(n);function n(){var r;Ne(this,n);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o)),ne(oe(r),"priority",130),ne(oe(r),"incompatibleTokens",["Y","R","u","w","I","i","e","c","t","T"]),r}return De(n,[{key:"parse",value:function(i,o,s){var a=function(c){return{year:c,isTwoDigitYear:o==="yy"}};switch(o){case"y":return bt(wt(4,i),a);case"yo":return bt(s.ordinalNumber(i,{unit:"year"}),a);default:return bt(wt(o.length,i),a)}}},{key:"validate",value:function(i,o){return o.isTwoDigitYear||o.year>0}},{key:"set",value:function(i,o,s){var a=i.getUTCFullYear();if(s.isTwoDigitYear){var l=dN(s.year,a);return i.setUTCFullYear(l,0,1),i.setUTCHours(0,0,0,0),i}var c=!("era"in o)||o.era===1?s.year:1-s.year;return i.setUTCFullYear(c,0,1),i.setUTCHours(0,0,0,0),i}}]),n}(Be),sG=function(t){Ve(n,t);var e=je(n);function n(){var r;Ne(this,n);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o)),ne(oe(r),"priority",130),ne(oe(r),"incompatibleTokens",["y","R","u","Q","q","M","L","I","d","D","i","t","T"]),r}return De(n,[{key:"parse",value:function(i,o,s){var a=function(c){return{year:c,isTwoDigitYear:o==="YY"}};switch(o){case"Y":return bt(wt(4,i),a);case"Yo":return bt(s.ordinalNumber(i,{unit:"year"}),a);default:return bt(wt(o.length,i),a)}}},{key:"validate",value:function(i,o){return o.isTwoDigitYear||o.year>0}},{key:"set",value:function(i,o,s,a){var l=p1(i,a);if(s.isTwoDigitYear){var c=dN(s.year,l);return i.setUTCFullYear(c,0,a.firstWeekContainsDate),i.setUTCHours(0,0,0,0),Cs(i,a)}var u=!("era"in o)||o.era===1?s.year:1-s.year;return i.setUTCFullYear(u,0,a.firstWeekContainsDate),i.setUTCHours(0,0,0,0),Cs(i,a)}}]),n}(Be),aG=function(t){Ve(n,t);var e=je(n);function n(){var r;Ne(this,n);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o)),ne(oe(r),"priority",130),ne(oe(r),"incompatibleTokens",["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"]),r}return De(n,[{key:"parse",value:function(i,o){return Ih(o==="R"?4:o.length,i)}},{key:"set",value:function(i,o,s){var a=new Date(0);return a.setUTCFullYear(s,0,4),a.setUTCHours(0,0,0,0),tl(a)}}]),n}(Be),lG=function(t){Ve(n,t);var e=je(n);function n(){var r;Ne(this,n);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o)),ne(oe(r),"priority",130),ne(oe(r),"incompatibleTokens",["G","y","Y","R","w","I","i","e","c","t","T"]),r}return De(n,[{key:"parse",value:function(i,o){return Ih(o==="u"?4:o.length,i)}},{key:"set",value:function(i,o,s){return i.setUTCFullYear(s,0,1),i.setUTCHours(0,0,0,0),i}}]),n}(Be),cG=function(t){Ve(n,t);var e=je(n);function n(){var r;Ne(this,n);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o)),ne(oe(r),"priority",120),ne(oe(r),"incompatibleTokens",["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"]),r}return De(n,[{key:"parse",value:function(i,o,s){switch(o){case"Q":case"QQ":return wt(o.length,i);case"Qo":return s.ordinalNumber(i,{unit:"quarter"});case"QQQ":return s.quarter(i,{width:"abbreviated",context:"formatting"})||s.quarter(i,{width:"narrow",context:"formatting"});case"QQQQQ":return s.quarter(i,{width:"narrow",context:"formatting"});case"QQQQ":default:return s.quarter(i,{width:"wide",context:"formatting"})||s.quarter(i,{width:"abbreviated",context:"formatting"})||s.quarter(i,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(i,o){return o>=1&&o<=4}},{key:"set",value:function(i,o,s){return i.setUTCMonth((s-1)*3,1),i.setUTCHours(0,0,0,0),i}}]),n}(Be),uG=function(t){Ve(n,t);var e=je(n);function n(){var r;Ne(this,n);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o)),ne(oe(r),"priority",120),ne(oe(r),"incompatibleTokens",["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"]),r}return De(n,[{key:"parse",value:function(i,o,s){switch(o){case"q":case"qq":return wt(o.length,i);case"qo":return s.ordinalNumber(i,{unit:"quarter"});case"qqq":return s.quarter(i,{width:"abbreviated",context:"standalone"})||s.quarter(i,{width:"narrow",context:"standalone"});case"qqqqq":return s.quarter(i,{width:"narrow",context:"standalone"});case"qqqq":default:return s.quarter(i,{width:"wide",context:"standalone"})||s.quarter(i,{width:"abbreviated",context:"standalone"})||s.quarter(i,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(i,o){return o>=1&&o<=4}},{key:"set",value:function(i,o,s){return i.setUTCMonth((s-1)*3,1),i.setUTCHours(0,0,0,0),i}}]),n}(Be),dG=function(t){Ve(n,t);var e=je(n);function n(){var r;Ne(this,n);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o)),ne(oe(r),"incompatibleTokens",["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]),ne(oe(r),"priority",110),r}return De(n,[{key:"parse",value:function(i,o,s){var a=function(c){return c-1};switch(o){case"M":return bt(dt(Et.month,i),a);case"MM":return bt(wt(2,i),a);case"Mo":return bt(s.ordinalNumber(i,{unit:"month"}),a);case"MMM":return s.month(i,{width:"abbreviated",context:"formatting"})||s.month(i,{width:"narrow",context:"formatting"});case"MMMMM":return s.month(i,{width:"narrow",context:"formatting"});case"MMMM":default:return s.month(i,{width:"wide",context:"formatting"})||s.month(i,{width:"abbreviated",context:"formatting"})||s.month(i,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(i,o){return o>=0&&o<=11}},{key:"set",value:function(i,o,s){return i.setUTCMonth(s,1),i.setUTCHours(0,0,0,0),i}}]),n}(Be),fG=function(t){Ve(n,t);var e=je(n);function n(){var r;Ne(this,n);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o)),ne(oe(r),"priority",110),ne(oe(r),"incompatibleTokens",["Y","R","q","Q","M","w","I","D","i","e","c","t","T"]),r}return De(n,[{key:"parse",value:function(i,o,s){var a=function(c){return c-1};switch(o){case"L":return bt(dt(Et.month,i),a);case"LL":return bt(wt(2,i),a);case"Lo":return bt(s.ordinalNumber(i,{unit:"month"}),a);case"LLL":return s.month(i,{width:"abbreviated",context:"standalone"})||s.month(i,{width:"narrow",context:"standalone"});case"LLLLL":return s.month(i,{width:"narrow",context:"standalone"});case"LLLL":default:return s.month(i,{width:"wide",context:"standalone"})||s.month(i,{width:"abbreviated",context:"standalone"})||s.month(i,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(i,o){return o>=0&&o<=11}},{key:"set",value:function(i,o,s){return i.setUTCMonth(s,1),i.setUTCHours(0,0,0,0),i}}]),n}(Be);function hG(t,e,n){ue(2,arguments);var r=ge(t),i=Je(e),o=tN(r,n)-i;return r.setUTCDate(r.getUTCDate()-o*7),r}var pG=function(t){Ve(n,t);var e=je(n);function n(){var r;Ne(this,n);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o)),ne(oe(r),"priority",100),ne(oe(r),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","i","t","T"]),r}return De(n,[{key:"parse",value:function(i,o,s){switch(o){case"w":return dt(Et.week,i);case"wo":return s.ordinalNumber(i,{unit:"week"});default:return wt(o.length,i)}}},{key:"validate",value:function(i,o){return o>=1&&o<=53}},{key:"set",value:function(i,o,s,a){return Cs(hG(i,s,a),a)}}]),n}(Be);function mG(t,e){ue(2,arguments);var n=ge(t),r=Je(e),i=eN(n)-r;return n.setUTCDate(n.getUTCDate()-i*7),n}var gG=function(t){Ve(n,t);var e=je(n);function n(){var r;Ne(this,n);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o)),ne(oe(r),"priority",100),ne(oe(r),"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"]),r}return De(n,[{key:"parse",value:function(i,o,s){switch(o){case"I":return dt(Et.week,i);case"Io":return s.ordinalNumber(i,{unit:"week"});default:return wt(o.length,i)}}},{key:"validate",value:function(i,o){return o>=1&&o<=53}},{key:"set",value:function(i,o,s){return tl(mG(i,s))}}]),n}(Be),vG=[31,28,31,30,31,30,31,31,30,31,30,31],yG=[31,29,31,30,31,30,31,31,30,31,30,31],wG=function(t){Ve(n,t);var e=je(n);function n(){var r;Ne(this,n);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o)),ne(oe(r),"priority",90),ne(oe(r),"subPriority",1),ne(oe(r),"incompatibleTokens",["Y","R","q","Q","w","I","D","i","e","c","t","T"]),r}return De(n,[{key:"parse",value:function(i,o,s){switch(o){case"d":return dt(Et.date,i);case"do":return s.ordinalNumber(i,{unit:"date"});default:return wt(o.length,i)}}},{key:"validate",value:function(i,o){var s=i.getUTCFullYear(),a=fN(s),l=i.getUTCMonth();return a?o>=1&&o<=yG[l]:o>=1&&o<=vG[l]}},{key:"set",value:function(i,o,s){return i.setUTCDate(s),i.setUTCHours(0,0,0,0),i}}]),n}(Be),_G=function(t){Ve(n,t);var e=je(n);function n(){var r;Ne(this,n);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o)),ne(oe(r),"priority",90),ne(oe(r),"subpriority",1),ne(oe(r),"incompatibleTokens",["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"]),r}return De(n,[{key:"parse",value:function(i,o,s){switch(o){case"D":case"DD":return dt(Et.dayOfYear,i);case"Do":return s.ordinalNumber(i,{unit:"date"});default:return wt(o.length,i)}}},{key:"validate",value:function(i,o){var s=i.getUTCFullYear(),a=fN(s);return a?o>=1&&o<=366:o>=1&&o<=365}},{key:"set",value:function(i,o,s){return i.setUTCMonth(0,s),i.setUTCHours(0,0,0,0),i}}]),n}(Be);function v1(t,e,n){var r,i,o,s,a,l,c,u;ue(2,arguments);var f=Kr(),h=Je((r=(i=(o=(s=n==null?void 0:n.weekStartsOn)!==null&&s!==void 0?s:n==null||(a=n.locale)===null||a===void 0||(l=a.options)===null||l===void 0?void 0:l.weekStartsOn)!==null&&o!==void 0?o:f.weekStartsOn)!==null&&i!==void 0?i:(c=f.locale)===null||c===void 0||(u=c.options)===null||u===void 0?void 0:u.weekStartsOn)!==null&&r!==void 0?r:0);if(!(h>=0&&h<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var g=ge(t),w=Je(e),v=g.getUTCDay(),E=w%7,x=(E+7)%7,y=(x<h?7:0)+w-v;return g.setUTCDate(g.getUTCDate()+y),g}var xG=function(t){Ve(n,t);var e=je(n);function n(){var r;Ne(this,n);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o)),ne(oe(r),"priority",90),ne(oe(r),"incompatibleTokens",["D","i","e","c","t","T"]),r}return De(n,[{key:"parse",value:function(i,o,s){switch(o){case"E":case"EE":case"EEE":return s.day(i,{width:"abbreviated",context:"formatting"})||s.day(i,{width:"short",context:"formatting"})||s.day(i,{width:"narrow",context:"formatting"});case"EEEEE":return s.day(i,{width:"narrow",context:"formatting"});case"EEEEEE":return s.day(i,{width:"short",context:"formatting"})||s.day(i,{width:"narrow",context:"formatting"});case"EEEE":default:return s.day(i,{width:"wide",context:"formatting"})||s.day(i,{width:"abbreviated",context:"formatting"})||s.day(i,{width:"short",context:"formatting"})||s.day(i,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(i,o){return o>=0&&o<=6}},{key:"set",value:function(i,o,s,a){return i=v1(i,s,a),i.setUTCHours(0,0,0,0),i}}]),n}(Be),EG=function(t){Ve(n,t);var e=je(n);function n(){var r;Ne(this,n);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o)),ne(oe(r),"priority",90),ne(oe(r),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"]),r}return De(n,[{key:"parse",value:function(i,o,s,a){var l=function(u){var f=Math.floor((u-1)/7)*7;return(u+a.weekStartsOn+6)%7+f};switch(o){case"e":case"ee":return bt(wt(o.length,i),l);case"eo":return bt(s.ordinalNumber(i,{unit:"day"}),l);case"eee":return s.day(i,{width:"abbreviated",context:"formatting"})||s.day(i,{width:"short",context:"formatting"})||s.day(i,{width:"narrow",context:"formatting"});case"eeeee":return s.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return s.day(i,{width:"short",context:"formatting"})||s.day(i,{width:"narrow",context:"formatting"});case"eeee":default:return s.day(i,{width:"wide",context:"formatting"})||s.day(i,{width:"abbreviated",context:"formatting"})||s.day(i,{width:"short",context:"formatting"})||s.day(i,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(i,o){return o>=0&&o<=6}},{key:"set",value:function(i,o,s,a){return i=v1(i,s,a),i.setUTCHours(0,0,0,0),i}}]),n}(Be),bG=function(t){Ve(n,t);var e=je(n);function n(){var r;Ne(this,n);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o)),ne(oe(r),"priority",90),ne(oe(r),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"]),r}return De(n,[{key:"parse",value:function(i,o,s,a){var l=function(u){var f=Math.floor((u-1)/7)*7;return(u+a.weekStartsOn+6)%7+f};switch(o){case"c":case"cc":return bt(wt(o.length,i),l);case"co":return bt(s.ordinalNumber(i,{unit:"day"}),l);case"ccc":return s.day(i,{width:"abbreviated",context:"standalone"})||s.day(i,{width:"short",context:"standalone"})||s.day(i,{width:"narrow",context:"standalone"});case"ccccc":return s.day(i,{width:"narrow",context:"standalone"});case"cccccc":return s.day(i,{width:"short",context:"standalone"})||s.day(i,{width:"narrow",context:"standalone"});case"cccc":default:return s.day(i,{width:"wide",context:"standalone"})||s.day(i,{width:"abbreviated",context:"standalone"})||s.day(i,{width:"short",context:"standalone"})||s.day(i,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(i,o){return o>=0&&o<=6}},{key:"set",value:function(i,o,s,a){return i=v1(i,s,a),i.setUTCHours(0,0,0,0),i}}]),n}(Be);function TG(t,e){ue(2,arguments);var n=Je(e);n%7===0&&(n=n-7);var r=1,i=ge(t),o=i.getUTCDay(),s=n%7,a=(s+7)%7,l=(a<r?7:0)+n-o;return i.setUTCDate(i.getUTCDate()+l),i}var CG=function(t){Ve(n,t);var e=je(n);function n(){var r;Ne(this,n);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o)),ne(oe(r),"priority",90),ne(oe(r),"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"]),r}return De(n,[{key:"parse",value:function(i,o,s){var a=function(c){return c===0?7:c};switch(o){case"i":case"ii":return wt(o.length,i);case"io":return s.ordinalNumber(i,{unit:"day"});case"iii":return bt(s.day(i,{width:"abbreviated",context:"formatting"})||s.day(i,{width:"short",context:"formatting"})||s.day(i,{width:"narrow",context:"formatting"}),a);case"iiiii":return bt(s.day(i,{width:"narrow",context:"formatting"}),a);case"iiiiii":return bt(s.day(i,{width:"short",context:"formatting"})||s.day(i,{width:"narrow",context:"formatting"}),a);case"iiii":default:return bt(s.day(i,{width:"wide",context:"formatting"})||s.day(i,{width:"abbreviated",context:"formatting"})||s.day(i,{width:"short",context:"formatting"})||s.day(i,{width:"narrow",context:"formatting"}),a)}}},{key:"validate",value:function(i,o){return o>=1&&o<=7}},{key:"set",value:function(i,o,s){return i=TG(i,s),i.setUTCHours(0,0,0,0),i}}]),n}(Be),SG=function(t){Ve(n,t);var e=je(n);function n(){var r;Ne(this,n);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o)),ne(oe(r),"priority",80),ne(oe(r),"incompatibleTokens",["b","B","H","k","t","T"]),r}return De(n,[{key:"parse",value:function(i,o,s){switch(o){case"a":case"aa":case"aaa":return s.dayPeriod(i,{width:"abbreviated",context:"formatting"})||s.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaaa":return s.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return s.dayPeriod(i,{width:"wide",context:"formatting"})||s.dayPeriod(i,{width:"abbreviated",context:"formatting"})||s.dayPeriod(i,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(i,o,s){return i.setUTCHours(g1(s),0,0,0),i}}]),n}(Be),PG=function(t){Ve(n,t);var e=je(n);function n(){var r;Ne(this,n);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o)),ne(oe(r),"priority",80),ne(oe(r),"incompatibleTokens",["a","B","H","k","t","T"]),r}return De(n,[{key:"parse",value:function(i,o,s){switch(o){case"b":case"bb":case"bbb":return s.dayPeriod(i,{width:"abbreviated",context:"formatting"})||s.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbbb":return s.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return s.dayPeriod(i,{width:"wide",context:"formatting"})||s.dayPeriod(i,{width:"abbreviated",context:"formatting"})||s.dayPeriod(i,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(i,o,s){return i.setUTCHours(g1(s),0,0,0),i}}]),n}(Be),IG=function(t){Ve(n,t);var e=je(n);function n(){var r;Ne(this,n);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o)),ne(oe(r),"priority",80),ne(oe(r),"incompatibleTokens",["a","b","t","T"]),r}return De(n,[{key:"parse",value:function(i,o,s){switch(o){case"B":case"BB":case"BBB":return s.dayPeriod(i,{width:"abbreviated",context:"formatting"})||s.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBBB":return s.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return s.dayPeriod(i,{width:"wide",context:"formatting"})||s.dayPeriod(i,{width:"abbreviated",context:"formatting"})||s.dayPeriod(i,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(i,o,s){return i.setUTCHours(g1(s),0,0,0),i}}]),n}(Be),AG=function(t){Ve(n,t);var e=je(n);function n(){var r;Ne(this,n);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o)),ne(oe(r),"priority",70),ne(oe(r),"incompatibleTokens",["H","K","k","t","T"]),r}return De(n,[{key:"parse",value:function(i,o,s){switch(o){case"h":return dt(Et.hour12h,i);case"ho":return s.ordinalNumber(i,{unit:"hour"});default:return wt(o.length,i)}}},{key:"validate",value:function(i,o){return o>=1&&o<=12}},{key:"set",value:function(i,o,s){var a=i.getUTCHours()>=12;return a&&s<12?i.setUTCHours(s+12,0,0,0):!a&&s===12?i.setUTCHours(0,0,0,0):i.setUTCHours(s,0,0,0),i}}]),n}(Be),kG=function(t){Ve(n,t);var e=je(n);function n(){var r;Ne(this,n);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o)),ne(oe(r),"priority",70),ne(oe(r),"incompatibleTokens",["a","b","h","K","k","t","T"]),r}return De(n,[{key:"parse",value:function(i,o,s){switch(o){case"H":return dt(Et.hour23h,i);case"Ho":return s.ordinalNumber(i,{unit:"hour"});default:return wt(o.length,i)}}},{key:"validate",value:function(i,o){return o>=0&&o<=23}},{key:"set",value:function(i,o,s){return i.setUTCHours(s,0,0,0),i}}]),n}(Be),RG=function(t){Ve(n,t);var e=je(n);function n(){var r;Ne(this,n);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o)),ne(oe(r),"priority",70),ne(oe(r),"incompatibleTokens",["h","H","k","t","T"]),r}return De(n,[{key:"parse",value:function(i,o,s){switch(o){case"K":return dt(Et.hour11h,i);case"Ko":return s.ordinalNumber(i,{unit:"hour"});default:return wt(o.length,i)}}},{key:"validate",value:function(i,o){return o>=0&&o<=11}},{key:"set",value:function(i,o,s){var a=i.getUTCHours()>=12;return a&&s<12?i.setUTCHours(s+12,0,0,0):i.setUTCHours(s,0,0,0),i}}]),n}(Be),NG=function(t){Ve(n,t);var e=je(n);function n(){var r;Ne(this,n);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o)),ne(oe(r),"priority",70),ne(oe(r),"incompatibleTokens",["a","b","h","H","K","t","T"]),r}return De(n,[{key:"parse",value:function(i,o,s){switch(o){case"k":return dt(Et.hour24h,i);case"ko":return s.ordinalNumber(i,{unit:"hour"});default:return wt(o.length,i)}}},{key:"validate",value:function(i,o){return o>=1&&o<=24}},{key:"set",value:function(i,o,s){var a=s<=24?s%24:s;return i.setUTCHours(a,0,0,0),i}}]),n}(Be),DG=function(t){Ve(n,t);var e=je(n);function n(){var r;Ne(this,n);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o)),ne(oe(r),"priority",60),ne(oe(r),"incompatibleTokens",["t","T"]),r}return De(n,[{key:"parse",value:function(i,o,s){switch(o){case"m":return dt(Et.minute,i);case"mo":return s.ordinalNumber(i,{unit:"minute"});default:return wt(o.length,i)}}},{key:"validate",value:function(i,o){return o>=0&&o<=59}},{key:"set",value:function(i,o,s){return i.setUTCMinutes(s,0,0),i}}]),n}(Be),MG=function(t){Ve(n,t);var e=je(n);function n(){var r;Ne(this,n);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o)),ne(oe(r),"priority",50),ne(oe(r),"incompatibleTokens",["t","T"]),r}return De(n,[{key:"parse",value:function(i,o,s){switch(o){case"s":return dt(Et.second,i);case"so":return s.ordinalNumber(i,{unit:"second"});default:return wt(o.length,i)}}},{key:"validate",value:function(i,o){return o>=0&&o<=59}},{key:"set",value:function(i,o,s){return i.setUTCSeconds(s,0),i}}]),n}(Be),OG=function(t){Ve(n,t);var e=je(n);function n(){var r;Ne(this,n);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o)),ne(oe(r),"priority",30),ne(oe(r),"incompatibleTokens",["t","T"]),r}return De(n,[{key:"parse",value:function(i,o){var s=function(l){return Math.floor(l*Math.pow(10,-o.length+3))};return bt(wt(o.length,i),s)}},{key:"set",value:function(i,o,s){return i.setUTCMilliseconds(s),i}}]),n}(Be),LG=function(t){Ve(n,t);var e=je(n);function n(){var r;Ne(this,n);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o)),ne(oe(r),"priority",10),ne(oe(r),"incompatibleTokens",["t","T","x"]),r}return De(n,[{key:"parse",value:function(i,o){switch(o){case"X":return kr(Ar.basicOptionalMinutes,i);case"XX":return kr(Ar.basic,i);case"XXXX":return kr(Ar.basicOptionalSeconds,i);case"XXXXX":return kr(Ar.extendedOptionalSeconds,i);case"XXX":default:return kr(Ar.extended,i)}}},{key:"set",value:function(i,o,s){return o.timestampIsSet?i:new Date(i.getTime()-s)}}]),n}(Be),VG=function(t){Ve(n,t);var e=je(n);function n(){var r;Ne(this,n);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o)),ne(oe(r),"priority",10),ne(oe(r),"incompatibleTokens",["t","T","X"]),r}return De(n,[{key:"parse",value:function(i,o){switch(o){case"x":return kr(Ar.basicOptionalMinutes,i);case"xx":return kr(Ar.basic,i);case"xxxx":return kr(Ar.basicOptionalSeconds,i);case"xxxxx":return kr(Ar.extendedOptionalSeconds,i);case"xxx":default:return kr(Ar.extended,i)}}},{key:"set",value:function(i,o,s){return o.timestampIsSet?i:new Date(i.getTime()-s)}}]),n}(Be),jG=function(t){Ve(n,t);var e=je(n);function n(){var r;Ne(this,n);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o)),ne(oe(r),"priority",40),ne(oe(r),"incompatibleTokens","*"),r}return De(n,[{key:"parse",value:function(i){return uN(i)}},{key:"set",value:function(i,o,s){return[new Date(s*1e3),{timestampIsSet:!0}]}}]),n}(Be),FG=function(t){Ve(n,t);var e=je(n);function n(){var r;Ne(this,n);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o)),ne(oe(r),"priority",20),ne(oe(r),"incompatibleTokens","*"),r}return De(n,[{key:"parse",value:function(i){return uN(i)}},{key:"set",value:function(i,o,s){return[new Date(s),{timestampIsSet:!0}]}}]),n}(Be),$G={G:new iG,y:new oG,Y:new sG,R:new aG,u:new lG,Q:new cG,q:new uG,M:new dG,L:new fG,w:new pG,I:new gG,d:new wG,D:new _G,E:new xG,e:new EG,c:new bG,i:new CG,a:new SG,b:new PG,B:new IG,h:new AG,H:new kG,K:new RG,k:new NG,m:new DG,s:new MG,S:new OG,X:new LG,x:new VG,t:new jG,T:new FG},UG=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,BG=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,WG=/^'([^]*?)'?$/,zG=/''/g,HG=/\S/,qG=/[a-zA-Z]/;function GG(t,e,n,r){var i,o,s,a,l,c,u,f,h,g,w,v,E,x,y,b,P,R;ue(3,arguments);var D=String(t),S=String(e),C=Kr(),I=(i=(o=r==null?void 0:r.locale)!==null&&o!==void 0?o:C.locale)!==null&&i!==void 0?i:m1;if(!I.match)throw new RangeError("locale must contain match property");var A=Je((s=(a=(l=(c=r==null?void 0:r.firstWeekContainsDate)!==null&&c!==void 0?c:r==null||(u=r.locale)===null||u===void 0||(f=u.options)===null||f===void 0?void 0:f.firstWeekContainsDate)!==null&&l!==void 0?l:C.firstWeekContainsDate)!==null&&a!==void 0?a:(h=C.locale)===null||h===void 0||(g=h.options)===null||g===void 0?void 0:g.firstWeekContainsDate)!==null&&s!==void 0?s:1);if(!(A>=1&&A<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var M=Je((w=(v=(E=(x=r==null?void 0:r.weekStartsOn)!==null&&x!==void 0?x:r==null||(y=r.locale)===null||y===void 0||(b=y.options)===null||b===void 0?void 0:b.weekStartsOn)!==null&&E!==void 0?E:C.weekStartsOn)!==null&&v!==void 0?v:(P=C.locale)===null||P===void 0||(R=P.options)===null||R===void 0?void 0:R.weekStartsOn)!==null&&w!==void 0?w:0);if(!(M>=0&&M<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(S==="")return D===""?ge(n):new Date(NaN);var O={firstWeekContainsDate:A,weekStartsOn:M,locale:I},N=[new rG],F=S.match(BG).map(function(re){var te=re[0];if(te in Dy){var ee=Dy[te];return ee(re,I.formatLong)}return re}).join("").match(UG),Y=[],K=lC(F),W;try{var L=function(){var te=W.value;!(r!=null&&r.useAdditionalWeekYearTokens)&&iN(te)&&Ch(te,S,t),!(r!=null&&r.useAdditionalDayOfYearTokens)&&rN(te)&&Ch(te,S,t);var ee=te[0],de=$G[ee];if(de){var Te=de.incompatibleTokens;if(Array.isArray(Te)){var Ke=Y.find(function(Lt){return Te.includes(Lt.token)||Lt.token===ee});if(Ke)throw new RangeError("The format string mustn't contain `".concat(Ke.fullToken,"` and `").concat(te,"` at the same time"))}else if(de.incompatibleTokens==="*"&&Y.length>0)throw new RangeError("The format string mustn't contain `".concat(te,"` and any other token at the same time"));Y.push({token:ee,fullToken:te});var st=de.run(D,te,I.match,O);if(!st)return{v:new Date(NaN)};N.push(st.setter),D=st.rest}else{if(ee.match(qG))throw new RangeError("Format string contains an unescaped latin alphabet character `"+ee+"`");if(te==="''"?te="'":ee==="'"&&(te=YG(te)),D.indexOf(te)===0)D=D.slice(te.length);else return{v:new Date(NaN)}}};for(K.s();!(W=K.n()).done;){var j=L();if(gr(j)==="object")return j.v}}catch(re){K.e(re)}finally{K.f()}if(D.length>0&&HG.test(D))return new Date(NaN);var U=N.map(function(re){return re.priority}).sort(function(re,te){return te-re}).filter(function(re,te,ee){return ee.indexOf(re)===te}).map(function(re){return N.filter(function(te){return te.priority===re}).sort(function(te,ee){return ee.subPriority-te.subPriority})}).map(function(re){return re[0]}),z=ge(n);if(isNaN(z.getTime()))return new Date(NaN);var B=J2(z,el(z)),q={},Z=lC(U),se;try{for(Z.s();!(se=Z.n()).done;){var ye=se.value;if(!ye.validate(B,O))return new Date(NaN);var J=ye.set(B,q,O);Array.isArray(J)?(B=J[0],$q(q,J[1])):B=J}}catch(re){Z.e(re)}finally{Z.f()}return B}function YG(t){return t.match(WG)[1].replace(zG,"'")}function y1(t,e){ue(2,arguments);var n=ge(t),r=ge(e);return n.getFullYear()===r.getFullYear()&&n.getMonth()===r.getMonth()}function KG(t,e){ue(2,arguments);var n=ge(t),r=ge(e);return n.getFullYear()===r.getFullYear()}function _g(t,e){ue(2,arguments);var n=Je(e);return Rt(t,-n)}function le(t,e){var n;ue(1,arguments);var r=Je((n=e==null?void 0:e.additionalDigits)!==null&&n!==void 0?n:2);if(r!==2&&r!==1&&r!==0)throw new RangeError("additionalDigits must be 0, 1 or 2");if(!(typeof t=="string"||Object.prototype.toString.call(t)==="[object String]"))return new Date(NaN);var i=ZG(t),o;if(i.date){var s=eY(i.date,r);o=tY(s.restDateString,s.year)}if(!o||isNaN(o.getTime()))return new Date(NaN);var a=o.getTime(),l=0,c;if(i.time&&(l=nY(i.time),isNaN(l)))return new Date(NaN);if(i.timezone){if(c=rY(i.timezone),isNaN(c))return new Date(NaN)}else{var u=new Date(a+l),f=new Date(0);return f.setFullYear(u.getUTCFullYear(),u.getUTCMonth(),u.getUTCDate()),f.setHours(u.getUTCHours(),u.getUTCMinutes(),u.getUTCSeconds(),u.getUTCMilliseconds()),f}return new Date(a+l+c)}var Nd={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},QG=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,XG=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,JG=/^([+-])(\d{2})(?::?(\d{2}))?$/;function ZG(t){var e={},n=t.split(Nd.dateTimeDelimiter),r;if(n.length>2)return e;if(/:/.test(n[0])?r=n[0]:(e.date=n[0],r=n[1],Nd.timeZoneDelimiter.test(e.date)&&(e.date=t.split(Nd.timeZoneDelimiter)[0],r=t.substr(e.date.length,t.length))),r){var i=Nd.timezone.exec(r);i?(e.time=r.replace(i[1],""),e.timezone=i[1]):e.time=r}return e}function eY(t,e){var n=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+e)+"})|(\\d{2}|[+-]\\d{"+(2+e)+"})$)"),r=t.match(n);if(!r)return{year:NaN,restDateString:""};var i=r[1]?parseInt(r[1]):null,o=r[2]?parseInt(r[2]):null;return{year:o===null?i:o*100,restDateString:t.slice((r[1]||r[2]).length)}}function tY(t,e){if(e===null)return new Date(NaN);var n=t.match(QG);if(!n)return new Date(NaN);var r=!!n[4],i=Jl(n[1]),o=Jl(n[2])-1,s=Jl(n[3]),a=Jl(n[4]),l=Jl(n[5])-1;if(r)return lY(e,a,l)?iY(e,a,l):new Date(NaN);var c=new Date(0);return!sY(e,o,s)||!aY(e,i)?new Date(NaN):(c.setUTCFullYear(e,o,Math.max(i,s)),c)}function Jl(t){return t?parseInt(t):1}function nY(t){var e=t.match(XG);if(!e)return NaN;var n=xg(e[1]),r=xg(e[2]),i=xg(e[3]);return cY(n,r,i)?n*u1+r*c1+i*1e3:NaN}function xg(t){return t&&parseFloat(t.replace(",","."))||0}function rY(t){if(t==="Z")return 0;var e=t.match(JG);if(!e)return 0;var n=e[1]==="+"?-1:1,r=parseInt(e[2]),i=e[3]&&parseInt(e[3])||0;return uY(r,i)?n*(r*u1+i*c1):NaN}function iY(t,e,n){var r=new Date(0);r.setUTCFullYear(t,0,4);var i=r.getUTCDay()||7,o=(e-1)*7+n+1-i;return r.setUTCDate(r.getUTCDate()+o),r}var oY=[31,null,31,30,31,30,31,31,30,31,30,31];function hN(t){return t%400===0||t%4===0&&t%100!==0}function sY(t,e,n){return e>=0&&e<=11&&n>=1&&n<=(oY[e]||(hN(t)?29:28))}function aY(t,e){return e>=1&&e<=(hN(t)?366:365)}function lY(t,e,n){return e>=1&&e<=53&&n>=0&&n<=6}function cY(t,e,n){return t===24?e===0&&n===0:n>=0&&n<60&&e>=0&&e<60&&t>=0&&t<25}function uY(t,e){return e>=0&&e<=59}function Eg(t,e){ue(2,arguments);var n=ge(t),r=Je(e),i=n.getFullYear(),o=n.getDate(),s=new Date(0);s.setFullYear(i,r,15),s.setHours(0,0,0,0);var a=Uq(s);return n.setMonth(r,Math.min(o,a)),n}function uC(t,e){ue(2,arguments);var n=ge(t),r=Je(e);return isNaN(n.getTime())?new Date(NaN):(n.setFullYear(r),n)}var dY={lessThanXSeconds:{one:"menos de un segundo",other:"menos de {{count}} segundos"},xSeconds:{one:"1 segundo",other:"{{count}} segundos"},halfAMinute:"medio minuto",lessThanXMinutes:{one:"menos de un minuto",other:"menos de {{count}} minutos"},xMinutes:{one:"1 minuto",other:"{{count}} minutos"},aboutXHours:{one:"alrededor de 1 hora",other:"alrededor de {{count}} horas"},xHours:{one:"1 hora",other:"{{count}} horas"},xDays:{one:"1 día",other:"{{count}} días"},aboutXWeeks:{one:"alrededor de 1 semana",other:"alrededor de {{count}} semanas"},xWeeks:{one:"1 semana",other:"{{count}} semanas"},aboutXMonths:{one:"alrededor de 1 mes",other:"alrededor de {{count}} meses"},xMonths:{one:"1 mes",other:"{{count}} meses"},aboutXYears:{one:"alrededor de 1 año",other:"alrededor de {{count}} años"},xYears:{one:"1 año",other:"{{count}} años"},overXYears:{one:"más de 1 año",other:"más de {{count}} años"},almostXYears:{one:"casi 1 año",other:"casi {{count}} años"}},fY=function(e,n,r){var i,o=dY[e];return typeof o=="string"?i=o:n===1?i=o.one:i=o.other.replace("{{count}}",n.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"en "+i:"hace "+i:i};const hY=fY;var pY={full:"EEEE, d 'de' MMMM 'de' y",long:"d 'de' MMMM 'de' y",medium:"d MMM y",short:"dd/MM/y"},mY={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},gY={full:"{{date}} 'a las' {{time}}",long:"{{date}} 'a las' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},vY={date:Na({formats:pY,defaultWidth:"full"}),time:Na({formats:mY,defaultWidth:"full"}),dateTime:Na({formats:gY,defaultWidth:"full"})};const yY=vY;var wY={lastWeek:"'el' eeee 'pasado a la' p",yesterday:"'ayer a la' p",today:"'hoy a la' p",tomorrow:"'mañana a la' p",nextWeek:"eeee 'a la' p",other:"P"},_Y={lastWeek:"'el' eeee 'pasado a las' p",yesterday:"'ayer a las' p",today:"'hoy a las' p",tomorrow:"'mañana a las' p",nextWeek:"eeee 'a las' p",other:"P"},xY=function(e,n,r,i){return n.getUTCHours()!==1?_Y[e]:wY[e]};const EY=xY;var bY={narrow:["AC","DC"],abbreviated:["AC","DC"],wide:["antes de cristo","después de cristo"]},TY={narrow:["1","2","3","4"],abbreviated:["T1","T2","T3","T4"],wide:["1º trimestre","2º trimestre","3º trimestre","4º trimestre"]},CY={narrow:["e","f","m","a","m","j","j","a","s","o","n","d"],abbreviated:["ene","feb","mar","abr","may","jun","jul","ago","sep","oct","nov","dic"],wide:["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre"]},SY={narrow:["d","l","m","m","j","v","s"],short:["do","lu","ma","mi","ju","vi","sá"],abbreviated:["dom","lun","mar","mié","jue","vie","sáb"],wide:["domingo","lunes","martes","miércoles","jueves","viernes","sábado"]},PY={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"mañana",afternoon:"tarde",evening:"tarde",night:"noche"},abbreviated:{am:"AM",pm:"PM",midnight:"medianoche",noon:"mediodia",morning:"mañana",afternoon:"tarde",evening:"tarde",night:"noche"},wide:{am:"a.m.",pm:"p.m.",midnight:"medianoche",noon:"mediodia",morning:"mañana",afternoon:"tarde",evening:"tarde",night:"noche"}},IY={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"de la mañana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"},abbreviated:{am:"AM",pm:"PM",midnight:"medianoche",noon:"mediodia",morning:"de la mañana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"},wide:{am:"a.m.",pm:"p.m.",midnight:"medianoche",noon:"mediodia",morning:"de la mañana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"}},AY=function(e,n){var r=Number(e);return r+"º"},kY={ordinalNumber:AY,era:Pr({values:bY,defaultWidth:"wide"}),quarter:Pr({values:TY,defaultWidth:"wide",argumentCallback:function(e){return Number(e)-1}}),month:Pr({values:CY,defaultWidth:"wide"}),day:Pr({values:SY,defaultWidth:"wide"}),dayPeriod:Pr({values:PY,defaultWidth:"wide",formattingValues:IY,defaultFormattingWidth:"wide"})};const RY=kY;var NY=/^(\d+)(º)?/i,DY=/\d+/i,MY={narrow:/^(ac|dc|a|d)/i,abbreviated:/^(a\.?\s?c\.?|a\.?\s?e\.?\s?c\.?|d\.?\s?c\.?|e\.?\s?c\.?)/i,wide:/^(antes de cristo|antes de la era com[uú]n|despu[eé]s de cristo|era com[uú]n)/i},OY={any:[/^ac/i,/^dc/i],wide:[/^(antes de cristo|antes de la era com[uú]n)/i,/^(despu[eé]s de cristo|era com[uú]n)/i]},LY={narrow:/^[1234]/i,abbreviated:/^T[1234]/i,wide:/^[1234](º)? trimestre/i},VY={any:[/1/i,/2/i,/3/i,/4/i]},jY={narrow:/^[efmajsond]/i,abbreviated:/^(ene|feb|mar|abr|may|jun|jul|ago|sep|oct|nov|dic)/i,wide:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i},FY={narrow:[/^e/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^en/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i]},$Y={narrow:/^[dlmjvs]/i,short:/^(do|lu|ma|mi|ju|vi|s[áa])/i,abbreviated:/^(dom|lun|mar|mi[ée]|jue|vie|s[áa]b)/i,wide:/^(domingo|lunes|martes|mi[ée]rcoles|jueves|viernes|s[áa]bado)/i},UY={narrow:[/^d/i,/^l/i,/^m/i,/^m/i,/^j/i,/^v/i,/^s/i],any:[/^do/i,/^lu/i,/^ma/i,/^mi/i,/^ju/i,/^vi/i,/^sa/i]},BY={narrow:/^(a|p|mn|md|(de la|a las) (mañana|tarde|noche))/i,any:/^([ap]\.?\s?m\.?|medianoche|mediodia|(de la|a las) (mañana|tarde|noche))/i},WY={any:{am:/^a/i,pm:/^p/i,midnight:/^mn/i,noon:/^md/i,morning:/mañana/i,afternoon:/tarde/i,evening:/tarde/i,night:/noche/i}},zY={ordinalNumber:oN({matchPattern:NY,parsePattern:DY,valueCallback:function(e){return parseInt(e,10)}}),era:Ir({matchPatterns:MY,defaultMatchWidth:"wide",parsePatterns:OY,defaultParseWidth:"any"}),quarter:Ir({matchPatterns:LY,defaultMatchWidth:"wide",parsePatterns:VY,defaultParseWidth:"any",valueCallback:function(e){return e+1}}),month:Ir({matchPatterns:jY,defaultMatchWidth:"wide",parsePatterns:FY,defaultParseWidth:"any"}),day:Ir({matchPatterns:$Y,defaultMatchWidth:"wide",parsePatterns:UY,defaultParseWidth:"any"}),dayPeriod:Ir({matchPatterns:BY,defaultMatchWidth:"any",parsePatterns:WY,defaultParseWidth:"any"})};const HY=zY;var qY={code:"es",formatDistance:hY,formatLong:yY,formatRelative:EY,localize:RY,match:HY,options:{weekStartsOn:1,firstWeekContainsDate:1}};const nl=qY;var ve=function(){return ve=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},ve.apply(this,arguments)};function GY(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function pN(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,o;r<i;r++)(o||!(r in e))&&(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return t.concat(o||Array.prototype.slice.call(e))}function Du(t){return t.mode==="multiple"}function Mu(t){return t.mode==="range"}function $p(t){return t.mode==="single"}var YY={root:"rdp",multiple_months:"rdp-multiple_months",with_weeknumber:"rdp-with_weeknumber",vhidden:"rdp-vhidden",button_reset:"rdp-button_reset",button:"rdp-button",caption:"rdp-caption",caption_start:"rdp-caption_start",caption_end:"rdp-caption_end",caption_between:"rdp-caption_between",caption_label:"rdp-caption_label",caption_dropdowns:"rdp-caption_dropdowns",dropdown:"rdp-dropdown",dropdown_month:"rdp-dropdown_month",dropdown_year:"rdp-dropdown_year",dropdown_icon:"rdp-dropdown_icon",months:"rdp-months",month:"rdp-month",table:"rdp-table",tbody:"rdp-tbody",tfoot:"rdp-tfoot",head:"rdp-head",head_row:"rdp-head_row",head_cell:"rdp-head_cell",nav:"rdp-nav",nav_button:"rdp-nav_button",nav_button_previous:"rdp-nav_button_previous",nav_button_next:"rdp-nav_button_next",nav_icon:"rdp-nav_icon",row:"rdp-row",weeknumber:"rdp-weeknumber",cell:"rdp-cell",day:"rdp-day",day_today:"rdp-day_today",day_outside:"rdp-day_outside",day_selected:"rdp-day_selected",day_disabled:"rdp-day_disabled",day_hidden:"rdp-day_hidden",day_range_start:"rdp-day_range_start",day_range_end:"rdp-day_range_end",day_range_middle:"rdp-day_range_middle"};function KY(t,e){return be(t,"LLLL y",e)}function QY(t,e){return be(t,"d",e)}function XY(t,e){return be(t,"LLLL",e)}function JY(t){return"".concat(t)}function ZY(t,e){return be(t,"cccccc",e)}function eK(t,e){return be(t,"yyyy",e)}var tK=Object.freeze({__proto__:null,formatCaption:KY,formatDay:QY,formatMonthCaption:XY,formatWeekNumber:JY,formatWeekdayName:ZY,formatYearCaption:eK}),nK=function(t,e,n){return be(t,"do MMMM (EEEE)",n)},rK=function(){return"Month: "},iK=function(){return"Go to next month"},oK=function(){return"Go to previous month"},sK=function(t,e){return be(t,"cccc",e)},aK=function(t){return"Week n. ".concat(t)},lK=function(){return"Year: "},cK=Object.freeze({__proto__:null,labelDay:nK,labelMonthDropdown:rK,labelNext:iK,labelPrevious:oK,labelWeekNumber:aK,labelWeekday:sK,labelYearDropdown:lK});function uK(){var t="buttons",e=YY,n=m1,r={},i={},o=1,s={},a=new Date;return{captionLayout:t,classNames:e,formatters:tK,labels:cK,locale:n,modifiersClassNames:r,modifiers:i,numberOfMonths:o,styles:s,today:a,mode:"default"}}function dK(t){var e=t.fromYear,n=t.toYear,r=t.fromMonth,i=t.toMonth,o=t.fromDate,s=t.toDate;return r?o=Pn(r):e&&(o=new Date(e,0,1)),i?s=f1(i):n&&(s=new Date(n,11,31)),{fromDate:o?Ce(o):void 0,toDate:s?Ce(s):void 0}}var mN=m.createContext(void 0);function fK(t){var e,n=t.initialProps,r=uK(),i=dK(n),o=i.fromDate,s=i.toDate,a=(e=n.captionLayout)!==null&&e!==void 0?e:r.captionLayout;a!=="buttons"&&(!o||!s)&&(a="buttons");var l;($p(n)||Du(n)||Mu(n))&&(l=n.onSelect);var c=ve(ve(ve({},r),n),{captionLayout:a,classNames:ve(ve({},r.classNames),n.classNames),components:ve({},n.components),formatters:ve(ve({},r.formatters),n.formatters),fromDate:o,labels:ve(ve({},r.labels),n.labels),mode:n.mode||r.mode,modifiers:ve(ve({},r.modifiers),n.modifiers),modifiersClassNames:ve(ve({},r.modifiersClassNames),n.modifiersClassNames),onSelect:l,styles:ve(ve({},r.styles),n.styles),toDate:s});return p.jsx(mN.Provider,{value:c,children:t.children})}function Ze(){var t=m.useContext(mN);if(!t)throw new Error("useDayPicker must be used within a DayPickerProvider.");return t}function gN(t){var e=Ze(),n=e.locale,r=e.classNames,i=e.styles,o=e.formatters.formatCaption;return p.jsx("div",{className:r.caption_label,style:i.caption_label,"aria-live":"polite",role:"presentation",id:t.id,children:o(t.displayMonth,{locale:n})})}function hK(t){return p.jsx("svg",ve({width:"8px",height:"8px",viewBox:"0 0 120 120","data-testid":"iconDropdown"},t,{children:p.jsx("path",{d:"M4.22182541,48.2218254 C8.44222828,44.0014225 15.2388494,43.9273804 19.5496459,47.9996989 L19.7781746,48.2218254 L60,88.443 L100.221825,48.2218254 C104.442228,44.0014225 111.238849,43.9273804 115.549646,47.9996989 L115.778175,48.2218254 C119.998577,52.4422283 120.07262,59.2388494 116.000301,63.5496459 L115.778175,63.7781746 L67.7781746,111.778175 C63.5577717,115.998577 56.7611506,116.07262 52.4503541,112.000301 L52.2218254,111.778175 L4.22182541,63.7781746 C-0.0739418023,59.4824074 -0.0739418023,52.5175926 4.22182541,48.2218254 Z",fill:"currentColor",fillRule:"nonzero"})}))}function vN(t){var e,n,r=t.onChange,i=t.value,o=t.children,s=t.caption,a=t.className,l=t.style,c=Ze(),u=(n=(e=c.components)===null||e===void 0?void 0:e.IconDropdown)!==null&&n!==void 0?n:hK;return p.jsxs("div",{className:a,style:l,children:[p.jsx("span",{className:c.classNames.vhidden,children:t["aria-label"]}),p.jsx("select",{name:t.name,"aria-label":t["aria-label"],className:c.classNames.dropdown,style:c.styles.dropdown,value:i,onChange:r,children:o}),p.jsxs("div",{className:c.classNames.caption_label,style:c.styles.caption_label,"aria-hidden":"true",children:[s,p.jsx(u,{className:c.classNames.dropdown_icon,style:c.styles.dropdown_icon})]})]})}function pK(t){var e,n=Ze(),r=n.fromDate,i=n.toDate,o=n.styles,s=n.locale,a=n.formatters.formatMonthCaption,l=n.classNames,c=n.components,u=n.labels.labelMonthDropdown;if(!r)return p.jsx(p.Fragment,{});if(!i)return p.jsx(p.Fragment,{});var f=[];if(KG(r,i))for(var h=Pn(r),g=r.getMonth();g<=i.getMonth();g++)f.push(Eg(h,g));else for(var h=Pn(new Date),g=0;g<=11;g++)f.push(Eg(h,g));var w=function(E){var x=Number(E.target.value),y=Eg(Pn(t.displayMonth),x);t.onChange(y)},v=(e=c==null?void 0:c.Dropdown)!==null&&e!==void 0?e:vN;return p.jsx(v,{name:"months","aria-label":u(),className:l.dropdown_month,style:o.dropdown_month,onChange:w,value:t.displayMonth.getMonth(),caption:a(t.displayMonth,{locale:s}),children:f.map(function(E){return p.jsx("option",{value:E.getMonth(),children:a(E,{locale:s})},E.getMonth())})})}function mK(t){var e,n=t.displayMonth,r=Ze(),i=r.fromDate,o=r.toDate,s=r.locale,a=r.styles,l=r.classNames,c=r.components,u=r.formatters.formatYearCaption,f=r.labels.labelYearDropdown,h=[];if(!i)return p.jsx(p.Fragment,{});if(!o)return p.jsx(p.Fragment,{});for(var g=i.getFullYear(),w=o.getFullYear(),v=g;v<=w;v++)h.push(uC(VH(new Date),v));var E=function(y){var b=uC(Pn(n),Number(y.target.value));t.onChange(b)},x=(e=c==null?void 0:c.Dropdown)!==null&&e!==void 0?e:vN;return p.jsx(x,{name:"years","aria-label":f(),className:l.dropdown_year,style:a.dropdown_year,onChange:E,value:n.getFullYear(),caption:u(n,{locale:s}),children:h.map(function(y){return p.jsx("option",{value:y.getFullYear(),children:u(y,{locale:s})},y.getFullYear())})})}function gK(t,e){var n=m.useState(t),r=n[0],i=n[1],o=e===void 0?r:e;return[o,i]}function vK(t){var e=t.month,n=t.defaultMonth,r=t.today,i=e||n||r||new Date,o=t.toDate,s=t.fromDate,a=t.numberOfMonths,l=a===void 0?1:a;if(o&&cu(o,i)<0){var c=-1*(l-1);i=vr(o,c)}return s&&cu(i,s)<0&&(i=s),Pn(i)}function yK(){var t=Ze(),e=vK(t),n=gK(e,t.month),r=n[0],i=n[1],o=function(s){var a;if(!t.disableNavigation){var l=Pn(s);i(l),(a=t.onMonthChange)===null||a===void 0||a.call(t,l)}};return[r,o]}function wK(t,e){for(var n=e.reverseMonths,r=e.numberOfMonths,i=Pn(t),o=Pn(vr(i,r)),s=cu(o,i),a=[],l=0;l<s;l++){var c=vr(i,l);a.push(c)}return n&&(a=a.reverse()),a}function _K(t,e){if(!e.disableNavigation){var n=e.toDate,r=e.pagedNavigation,i=e.numberOfMonths,o=i===void 0?1:i,s=r?o:1,a=Pn(t);if(!n)return vr(a,s);var l=cu(n,t);if(!(l<o))return vr(a,s)}}function xK(t,e){if(!e.disableNavigation){var n=e.fromDate,r=e.pagedNavigation,i=e.numberOfMonths,o=i===void 0?1:i,s=r?o:1,a=Pn(t);if(!n)return vr(a,-s);var l=cu(a,n);if(!(l<=0))return vr(a,-s)}}var yN=m.createContext(void 0);function EK(t){var e=Ze(),n=yK(),r=n[0],i=n[1],o=wK(r,e),s=_K(r,e),a=xK(r,e),l=function(f){return o.some(function(h){return y1(f,h)})},c=function(f,h){l(f)||(h&&sN(f,h)?i(vr(f,1+e.numberOfMonths*-1)):i(f))},u={currentMonth:r,displayMonths:o,goToMonth:i,goToDate:c,previousMonth:a,nextMonth:s,isDateDisplayed:l};return p.jsx(yN.Provider,{value:u,children:t.children})}function Ou(){var t=m.useContext(yN);if(!t)throw new Error("useNavigation must be used within a NavigationProvider");return t}function dC(t){var e,n=Ze(),r=n.classNames,i=n.styles,o=n.components,s=Ou().goToMonth,a=function(u){s(vr(u,t.displayIndex?-t.displayIndex:0))},l=(e=o==null?void 0:o.CaptionLabel)!==null&&e!==void 0?e:gN,c=p.jsx(l,{id:t.id,displayMonth:t.displayMonth});return p.jsxs("div",{className:r.caption_dropdowns,style:i.caption_dropdowns,children:[p.jsx("div",{className:r.vhidden,children:c}),p.jsx(pK,{onChange:a,displayMonth:t.displayMonth}),p.jsx(mK,{onChange:a,displayMonth:t.displayMonth})]})}function bK(t){return p.jsx("svg",ve({width:"16px",height:"16px",viewBox:"0 0 120 120"},t,{children:p.jsx("path",{d:"M69.490332,3.34314575 C72.6145263,0.218951416 77.6798462,0.218951416 80.8040405,3.34314575 C83.8617626,6.40086786 83.9268205,11.3179931 80.9992143,14.4548388 L80.8040405,14.6568542 L35.461,60 L80.8040405,105.343146 C83.8617626,108.400868 83.9268205,113.317993 80.9992143,116.454839 L80.8040405,116.656854 C77.7463184,119.714576 72.8291931,119.779634 69.6923475,116.852028 L69.490332,116.656854 L18.490332,65.6568542 C15.4326099,62.5991321 15.367552,57.6820069 18.2951583,54.5451612 L18.490332,54.3431458 L69.490332,3.34314575 Z",fill:"currentColor",fillRule:"nonzero"})}))}function TK(t){return p.jsx("svg",ve({width:"16px",height:"16px",viewBox:"0 0 120 120"},t,{children:p.jsx("path",{d:"M49.8040405,3.34314575 C46.6798462,0.218951416 41.6145263,0.218951416 38.490332,3.34314575 C35.4326099,6.40086786 35.367552,11.3179931 38.2951583,14.4548388 L38.490332,14.6568542 L83.8333725,60 L38.490332,105.343146 C35.4326099,108.400868 35.367552,113.317993 38.2951583,116.454839 L38.490332,116.656854 C41.5480541,119.714576 46.4651794,119.779634 49.602025,116.852028 L49.8040405,116.656854 L100.804041,65.6568542 C103.861763,62.5991321 103.926821,57.6820069 100.999214,54.5451612 L100.804041,54.3431458 L49.8040405,3.34314575 Z",fill:"currentColor"})}))}var Ah=m.forwardRef(function(t,e){var n=Ze(),r=n.classNames,i=n.styles,o=[r.button_reset,r.button];t.className&&o.push(t.className);var s=o.join(" "),a=ve(ve({},i.button_reset),i.button);return t.style&&Object.assign(a,t.style),p.jsx("button",ve({},t,{ref:e,type:"button",className:s,style:a}))});function CK(t){var e,n,r=Ze(),i=r.dir,o=r.locale,s=r.classNames,a=r.styles,l=r.labels,c=l.labelPrevious,u=l.labelNext,f=r.components;if(!t.nextMonth&&!t.previousMonth)return p.jsx(p.Fragment,{});var h=c(t.previousMonth,{locale:o}),g=[s.nav_button,s.nav_button_previous].join(" "),w=u(t.nextMonth,{locale:o}),v=[s.nav_button,s.nav_button_next].join(" "),E=(e=f==null?void 0:f.IconRight)!==null&&e!==void 0?e:TK,x=(n=f==null?void 0:f.IconLeft)!==null&&n!==void 0?n:bK;return p.jsxs("div",{className:s.nav,style:a.nav,children:[!t.hidePrevious&&p.jsx(Ah,{name:"previous-month","aria-label":h,className:g,style:a.nav_button_previous,disabled:!t.previousMonth,onClick:t.onPreviousClick,children:i==="rtl"?p.jsx(E,{className:s.nav_icon,style:a.nav_icon}):p.jsx(x,{className:s.nav_icon,style:a.nav_icon})}),!t.hideNext&&p.jsx(Ah,{name:"next-month","aria-label":w,className:v,style:a.nav_button_next,disabled:!t.nextMonth,onClick:t.onNextClick,children:i==="rtl"?p.jsx(x,{className:s.nav_icon,style:a.nav_icon}):p.jsx(E,{className:s.nav_icon,style:a.nav_icon})})]})}function fC(t){var e=Ze().numberOfMonths,n=Ou(),r=n.previousMonth,i=n.nextMonth,o=n.goToMonth,s=n.displayMonths,a=s.findIndex(function(w){return y1(t.displayMonth,w)}),l=a===0,c=a===s.length-1,u=e>1&&(l||!c),f=e>1&&(c||!l),h=function(){r&&o(r)},g=function(){i&&o(i)};return p.jsx(CK,{displayMonth:t.displayMonth,hideNext:u,hidePrevious:f,nextMonth:i,previousMonth:r,onPreviousClick:h,onNextClick:g})}function SK(t){var e,n=Ze(),r=n.classNames,i=n.disableNavigation,o=n.styles,s=n.captionLayout,a=n.components,l=(e=a==null?void 0:a.CaptionLabel)!==null&&e!==void 0?e:gN,c;return i?c=p.jsx(l,{id:t.id,displayMonth:t.displayMonth}):s==="dropdown"?c=p.jsx(dC,{displayMonth:t.displayMonth,id:t.id}):s==="dropdown-buttons"?c=p.jsxs(p.Fragment,{children:[p.jsx(dC,{displayMonth:t.displayMonth,displayIndex:t.displayIndex,id:t.id}),p.jsx(fC,{displayMonth:t.displayMonth,displayIndex:t.displayIndex,id:t.id})]}):c=p.jsxs(p.Fragment,{children:[p.jsx(l,{id:t.id,displayMonth:t.displayMonth,displayIndex:t.displayIndex}),p.jsx(fC,{displayMonth:t.displayMonth,id:t.id})]}),p.jsx("div",{className:r.caption,style:o.caption,children:c})}function PK(t){var e=Ze(),n=e.footer,r=e.styles,i=e.classNames.tfoot;return n?p.jsx("tfoot",{className:i,style:r.tfoot,children:p.jsx("tr",{children:p.jsx("td",{colSpan:8,children:n})})}):p.jsx(p.Fragment,{})}function IK(t,e,n){for(var r=n?Ts(new Date):qr(new Date,{locale:t,weekStartsOn:e}),i=[],o=0;o<7;o++){var s=Rt(r,o);i.push(s)}return i}function AK(){var t=Ze(),e=t.classNames,n=t.styles,r=t.showWeekNumber,i=t.locale,o=t.weekStartsOn,s=t.ISOWeek,a=t.formatters.formatWeekdayName,l=t.labels.labelWeekday,c=IK(i,o,s);return p.jsxs("tr",{style:n.head_row,className:e.head_row,children:[r&&p.jsx("td",{style:n.head_cell,className:e.head_cell}),c.map(function(u,f){return p.jsx("th",{scope:"col",className:e.head_cell,style:n.head_cell,"aria-label":l(u,{locale:i}),children:a(u,{locale:i})},f)})]})}function kK(){var t,e=Ze(),n=e.classNames,r=e.styles,i=e.components,o=(t=i==null?void 0:i.HeadRow)!==null&&t!==void 0?t:AK;return p.jsx("thead",{style:r.head,className:n.head,children:p.jsx(o,{})})}function RK(t){var e=Ze(),n=e.locale,r=e.formatters.formatDay;return p.jsx(p.Fragment,{children:r(t.date,{locale:n})})}var w1=m.createContext(void 0);function NK(t){if(!Du(t.initialProps)){var e={selected:void 0,modifiers:{disabled:[]}};return p.jsx(w1.Provider,{value:e,children:t.children})}return p.jsx(DK,{initialProps:t.initialProps,children:t.children})}function DK(t){var e=t.initialProps,n=t.children,r=e.selected,i=e.min,o=e.max,s=function(c,u,f){var h,g;(h=e.onDayClick)===null||h===void 0||h.call(e,c,u,f);var w=!!(u.selected&&i&&(r==null?void 0:r.length)===i);if(!w){var v=!!(!u.selected&&o&&(r==null?void 0:r.length)===o);if(!v){var E=r?pN([],r,!0):[];if(u.selected){var x=E.findIndex(function(y){return bn(c,y)});E.splice(x,1)}else E.push(c);(g=e.onSelect)===null||g===void 0||g.call(e,E,c,u,f)}}},a={disabled:[]};r&&a.disabled.push(function(c){var u=o&&r.length>o-1,f=r.some(function(h){return bn(h,c)});return!!(u&&!f)});var l={selected:r,onDayClick:s,modifiers:a};return p.jsx(w1.Provider,{value:l,children:n})}function _1(){var t=m.useContext(w1);if(!t)throw new Error("useSelectMultiple must be used within a SelectMultipleProvider");return t}function MK(t,e){var n=e||{},r=n.from,i=n.to;return r&&i?bn(i,t)&&bn(r,t)?void 0:bn(i,t)?{from:i,to:void 0}:bn(r,t)?void 0:Sh(r,t)?{from:t,to:i}:{from:r,to:t}:i?Sh(t,i)?{from:i,to:t}:{from:t,to:i}:r?sN(t,r)?{from:t,to:r}:{from:r,to:t}:{from:t,to:void 0}}var x1=m.createContext(void 0);function OK(t){if(!Mu(t.initialProps)){var e={selected:void 0,modifiers:{range_start:[],range_end:[],range_middle:[],disabled:[]}};return p.jsx(x1.Provider,{value:e,children:t.children})}return p.jsx(LK,{initialProps:t.initialProps,children:t.children})}function LK(t){var e=t.initialProps,n=t.children,r=e.selected,i=r||{},o=i.from,s=i.to,a=e.min,l=e.max,c=function(g,w,v){var E,x;(E=e.onDayClick)===null||E===void 0||E.call(e,g,w,v);var y=MK(g,r);(x=e.onSelect)===null||x===void 0||x.call(e,y,g,w,v)},u={range_start:[],range_end:[],range_middle:[],disabled:[]};if(o?(u.range_start=[o],s?(u.range_end=[s],bn(o,s)||(u.range_middle=[{after:o,before:s}])):u.range_end=[o]):s&&(u.range_start=[s],u.range_end=[s]),a&&(o&&!s&&u.disabled.push({after:_g(o,a-1),before:Rt(o,a-1)}),o&&s&&u.disabled.push({after:o,before:Rt(o,a-1)}),!o&&s&&u.disabled.push({after:_g(s,a-1),before:Rt(s,a-1)})),l){if(o&&!s&&(u.disabled.push({before:Rt(o,-l+1)}),u.disabled.push({after:Rt(o,l-1)})),o&&s){var f=Rr(s,o)+1,h=l-f;u.disabled.push({before:_g(o,h)}),u.disabled.push({after:Rt(s,h)})}!o&&s&&(u.disabled.push({before:Rt(s,-l+1)}),u.disabled.push({after:Rt(s,l-1)}))}return p.jsx(x1.Provider,{value:{selected:r,onDayClick:c,modifiers:u},children:n})}function E1(){var t=m.useContext(x1);if(!t)throw new Error("useSelectRange must be used within a SelectRangeProvider");return t}function pf(t){return Array.isArray(t)?pN([],t,!0):t!==void 0?[t]:[]}function VK(t){var e={};return Object.entries(t).forEach(function(n){var r=n[0],i=n[1];e[r]=pf(i)}),e}var yr;(function(t){t.Outside="outside",t.Disabled="disabled",t.Selected="selected",t.Hidden="hidden",t.Today="today",t.RangeStart="range_start",t.RangeEnd="range_end",t.RangeMiddle="range_middle"})(yr||(yr={}));var jK=yr.Selected,ti=yr.Disabled,FK=yr.Hidden,$K=yr.Today,bg=yr.RangeEnd,Tg=yr.RangeMiddle,Cg=yr.RangeStart,UK=yr.Outside;function BK(t,e,n){var r,i=(r={},r[jK]=pf(t.selected),r[ti]=pf(t.disabled),r[FK]=pf(t.hidden),r[$K]=[t.today],r[bg]=[],r[Tg]=[],r[Cg]=[],r[UK]=[],r);return t.fromDate&&i[ti].push({before:t.fromDate}),t.toDate&&i[ti].push({after:t.toDate}),Du(t)?i[ti]=i[ti].concat(e.modifiers[ti]):Mu(t)&&(i[ti]=i[ti].concat(n.modifiers[ti]),i[Cg]=n.modifiers[Cg],i[Tg]=n.modifiers[Tg],i[bg]=n.modifiers[bg]),i}var wN=m.createContext(void 0);function WK(t){var e=Ze(),n=_1(),r=E1(),i=BK(e,n,r),o=VK(e.modifiers),s=ve(ve({},i),o);return p.jsx(wN.Provider,{value:s,children:t.children})}function _N(){var t=m.useContext(wN);if(!t)throw new Error("useModifiers must be used within a ModifiersProvider");return t}function zK(t){return!!(t&&typeof t=="object"&&"before"in t&&"after"in t)}function HK(t){return!!(t&&typeof t=="object"&&"from"in t)}function qK(t){return!!(t&&typeof t=="object"&&"after"in t)}function GK(t){return!!(t&&typeof t=="object"&&"before"in t)}function YK(t){return!!(t&&typeof t=="object"&&"dayOfWeek"in t)}function KK(t,e){var n,r=e.from,i=e.to;if(r&&i){var o=Rr(i,r)<0;o&&(n=[i,r],r=n[0],i=n[1]);var s=Rr(t,r)>=0&&Rr(i,t)>=0;return s}return i?bn(i,t):r?bn(r,t):!1}function QK(t){return d1(t)}function XK(t){return Array.isArray(t)&&t.every(d1)}function JK(t,e){return e.some(function(n){if(typeof n=="boolean")return n;if(QK(n))return bn(t,n);if(XK(n))return n.includes(t);if(HK(n))return KK(t,n);if(YK(n))return n.dayOfWeek.includes(t.getDay());if(zK(n)){var r=Rr(n.before,t),i=Rr(n.after,t),o=r>0,s=i<0,a=Sh(n.before,n.after);return a?s&&o:o||s}return qK(n)?Rr(t,n.after)>0:GK(n)?Rr(n.before,t)>0:typeof n=="function"?n(t):!1})}function b1(t,e,n){var r=Object.keys(e).reduce(function(o,s){var a=e[s];return JK(t,a)&&o.push(s),o},[]),i={};return r.forEach(function(o){return i[o]=!0}),n&&!y1(t,n)&&(i.outside=!0),i}function ZK(t,e){for(var n=Pn(t[0]),r=f1(t[t.length-1]),i,o,s=n;s<=r;){var a=b1(s,e),l=!a.disabled&&!a.hidden;if(!l){s=Rt(s,1);continue}if(a.selected)return s;a.today&&!o&&(o=s),i||(i=s),s=Rt(s,1)}return o||i}var eQ=365;function xN(t,e){var n=e.moveBy,r=e.direction,i=e.context,o=e.modifiers,s=e.retry,a=s===void 0?{count:0,lastFocused:t}:s,l=i.weekStartsOn,c=i.fromDate,u=i.toDate,f=i.locale,h={day:Rt,week:Ny,month:vr,year:AH,startOfWeek:function(E){return i.ISOWeek?Ts(E):qr(E,{locale:f,weekStartsOn:l})},endOfWeek:function(E){return i.ISOWeek?X2(E):h1(E,{locale:f,weekStartsOn:l})}},g=h[n](t,r==="after"?1:-1);r==="before"&&c?g=kH([c,g]):r==="after"&&u&&(g=RH([u,g]));var w=!0;if(o){var v=b1(g,o);w=!v.disabled&&!v.hidden}return w?g:a.count>eQ?a.lastFocused:xN(g,{moveBy:n,direction:r,context:i,modifiers:o,retry:ve(ve({},a),{count:a.count+1})})}var EN=m.createContext(void 0);function tQ(t){var e=Ou(),n=_N(),r=m.useState(),i=r[0],o=r[1],s=m.useState(),a=s[0],l=s[1],c=ZK(e.displayMonths,n),u=i??(a&&e.isDateDisplayed(a))?a:c,f=function(){l(i),o(void 0)},h=function(E){o(E)},g=Ze(),w=function(E,x){if(i){var y=xN(i,{moveBy:E,direction:x,context:g,modifiers:n});bn(i,y)||(e.goToDate(y,i),h(y))}},v={focusedDay:i,focusTarget:u,blur:f,focus:h,focusDayAfter:function(){return w("day","after")},focusDayBefore:function(){return w("day","before")},focusWeekAfter:function(){return w("week","after")},focusWeekBefore:function(){return w("week","before")},focusMonthBefore:function(){return w("month","before")},focusMonthAfter:function(){return w("month","after")},focusYearBefore:function(){return w("year","before")},focusYearAfter:function(){return w("year","after")},focusStartOfWeek:function(){return w("startOfWeek","before")},focusEndOfWeek:function(){return w("endOfWeek","after")}};return p.jsx(EN.Provider,{value:v,children:t.children})}function T1(){var t=m.useContext(EN);if(!t)throw new Error("useFocusContext must be used within a FocusProvider");return t}function nQ(t,e){var n=_N(),r=b1(t,n,e);return r}var C1=m.createContext(void 0);function rQ(t){if(!$p(t.initialProps)){var e={selected:void 0};return p.jsx(C1.Provider,{value:e,children:t.children})}return p.jsx(iQ,{initialProps:t.initialProps,children:t.children})}function iQ(t){var e=t.initialProps,n=t.children,r=function(o,s,a){var l,c,u;if((l=e.onDayClick)===null||l===void 0||l.call(e,o,s,a),s.selected&&!e.required){(c=e.onSelect)===null||c===void 0||c.call(e,void 0,o,s,a);return}(u=e.onSelect)===null||u===void 0||u.call(e,o,o,s,a)},i={selected:e.selected,onDayClick:r};return p.jsx(C1.Provider,{value:i,children:n})}function bN(){var t=m.useContext(C1);if(!t)throw new Error("useSelectSingle must be used within a SelectSingleProvider");return t}function oQ(t,e){var n=Ze(),r=bN(),i=_1(),o=E1(),s=T1(),a=s.focusDayAfter,l=s.focusDayBefore,c=s.focusWeekAfter,u=s.focusWeekBefore,f=s.blur,h=s.focus,g=s.focusMonthBefore,w=s.focusMonthAfter,v=s.focusYearBefore,E=s.focusYearAfter,x=s.focusStartOfWeek,y=s.focusEndOfWeek,b=function(W){var L,j,U,z;$p(n)?(L=r.onDayClick)===null||L===void 0||L.call(r,t,e,W):Du(n)?(j=i.onDayClick)===null||j===void 0||j.call(i,t,e,W):Mu(n)?(U=o.onDayClick)===null||U===void 0||U.call(o,t,e,W):(z=n.onDayClick)===null||z===void 0||z.call(n,t,e,W)},P=function(W){var L;h(t),(L=n.onDayFocus)===null||L===void 0||L.call(n,t,e,W)},R=function(W){var L;f(),(L=n.onDayBlur)===null||L===void 0||L.call(n,t,e,W)},D=function(W){var L;(L=n.onDayMouseEnter)===null||L===void 0||L.call(n,t,e,W)},S=function(W){var L;(L=n.onDayMouseLeave)===null||L===void 0||L.call(n,t,e,W)},C=function(W){var L;(L=n.onDayPointerEnter)===null||L===void 0||L.call(n,t,e,W)},I=function(W){var L;(L=n.onDayPointerLeave)===null||L===void 0||L.call(n,t,e,W)},A=function(W){var L;(L=n.onDayTouchCancel)===null||L===void 0||L.call(n,t,e,W)},M=function(W){var L;(L=n.onDayTouchEnd)===null||L===void 0||L.call(n,t,e,W)},O=function(W){var L;(L=n.onDayTouchMove)===null||L===void 0||L.call(n,t,e,W)},N=function(W){var L;(L=n.onDayTouchStart)===null||L===void 0||L.call(n,t,e,W)},F=function(W){var L;(L=n.onDayKeyUp)===null||L===void 0||L.call(n,t,e,W)},Y=function(W){var L;switch(W.key){case"ArrowLeft":W.preventDefault(),W.stopPropagation(),n.dir==="rtl"?a():l();break;case"ArrowRight":W.preventDefault(),W.stopPropagation(),n.dir==="rtl"?l():a();break;case"ArrowDown":W.preventDefault(),W.stopPropagation(),c();break;case"ArrowUp":W.preventDefault(),W.stopPropagation(),u();break;case"PageUp":W.preventDefault(),W.stopPropagation(),W.shiftKey?v():g();break;case"PageDown":W.preventDefault(),W.stopPropagation(),W.shiftKey?E():w();break;case"Home":W.preventDefault(),W.stopPropagation(),x();break;case"End":W.preventDefault(),W.stopPropagation(),y();break}(L=n.onDayKeyDown)===null||L===void 0||L.call(n,t,e,W)},K={onClick:b,onFocus:P,onBlur:R,onKeyDown:Y,onKeyUp:F,onMouseEnter:D,onMouseLeave:S,onPointerEnter:C,onPointerLeave:I,onTouchCancel:A,onTouchEnd:M,onTouchMove:O,onTouchStart:N};return K}function sQ(){var t=Ze(),e=bN(),n=_1(),r=E1(),i=$p(t)?e.selected:Du(t)?n.selected:Mu(t)?r.selected:void 0;return i}function aQ(t){return Object.values(yr).includes(t)}function lQ(t,e){var n=[t.classNames.day];return Object.keys(e).forEach(function(r){var i=t.modifiersClassNames[r];if(i)n.push(i);else if(aQ(r)){var o=t.classNames["day_".concat(r)];o&&n.push(o)}}),n}function cQ(t,e){var n=ve({},t.styles.day);return Object.keys(e).forEach(function(r){var i;n=ve(ve({},n),(i=t.modifiersStyles)===null||i===void 0?void 0:i[r])}),n}function uQ(t,e,n){var r,i,o,s=Ze(),a=T1(),l=nQ(t,e),c=oQ(t,l),u=sQ(),f=!!(s.onDayClick||s.mode!=="default");m.useEffect(function(){var D;l.outside||a.focusedDay&&f&&bn(a.focusedDay,t)&&((D=n.current)===null||D===void 0||D.focus())},[a.focusedDay,t,n,f,l.outside]);var h=lQ(s,l).join(" "),g=cQ(s,l),w=!!(l.outside&&!s.showOutsideDays||l.hidden),v=(o=(i=s.components)===null||i===void 0?void 0:i.DayContent)!==null&&o!==void 0?o:RK,E=p.jsx(v,{date:t,displayMonth:e,activeModifiers:l}),x={style:g,className:h,children:E,role:"gridcell"},y=a.focusTarget&&bn(a.focusTarget,t)&&!l.outside,b=a.focusedDay&&bn(a.focusedDay,t),P=ve(ve(ve({},x),(r={disabled:l.disabled,role:"gridcell"},r["aria-selected"]=l.selected,r.tabIndex=b||y?0:-1,r)),c),R={isButton:f,isHidden:w,activeModifiers:l,selectedDays:u,buttonProps:P,divProps:x};return R}function dQ(t){var e=m.useRef(null),n=uQ(t.date,t.displayMonth,e);return n.isHidden?p.jsx("div",{role:"gridcell"}):n.isButton?p.jsx(Ah,ve({name:"day",ref:e},n.buttonProps)):p.jsx("div",ve({},n.divProps))}function fQ(t){var e=t.number,n=t.dates,r=Ze(),i=r.onWeekNumberClick,o=r.styles,s=r.classNames,a=r.locale,l=r.labels.labelWeekNumber,c=r.formatters.formatWeekNumber,u=c(Number(e),{locale:a});if(!i)return p.jsx("span",{className:s.weeknumber,style:o.weeknumber,children:u});var f=l(Number(e),{locale:a}),h=function(g){i(e,n,g)};return p.jsx(Ah,{name:"week-number","aria-label":f,className:s.weeknumber,style:o.weeknumber,onClick:h,children:u})}function hQ(t){var e,n,r=Ze(),i=r.styles,o=r.classNames,s=r.showWeekNumber,a=r.components,l=(e=a==null?void 0:a.Day)!==null&&e!==void 0?e:dQ,c=(n=a==null?void 0:a.WeekNumber)!==null&&n!==void 0?n:fQ,u;return s&&(u=p.jsx("td",{className:o.cell,style:i.cell,children:p.jsx(c,{number:t.weekNumber,dates:t.dates})})),p.jsxs("tr",{className:o.row,style:i.row,children:[u,t.dates.map(function(f){return p.jsx("td",{className:o.cell,style:i.cell,role:"presentation",children:p.jsx(l,{displayMonth:t.displayMonth,date:f})},Hq(f))})]})}function hC(t,e,n){for(var r=n!=null&&n.ISOWeek?X2(e):h1(e,n),i=n!=null&&n.ISOWeek?Ts(t):qr(t,n),o=Rr(r,i),s=[],a=0;a<=o;a++)s.push(Rt(i,a));var l=s.reduce(function(c,u){var f=n!=null&&n.ISOWeek?Wq(u):Kq(u,n),h=c.find(function(g){return g.weekNumber===f});return h?(h.dates.push(u),c):(c.push({weekNumber:f,dates:[u]}),c)},[]);return l}function pQ(t,e){var n=hC(Pn(t),f1(t),e);if(e!=null&&e.useFixedWeeks){var r=Xq(t,e);if(r<6){var i=n[n.length-1],o=i.dates[i.dates.length-1],s=Ny(o,6-r),a=hC(Ny(o,1),s,e);n.push.apply(n,a)}}return n}function mQ(t){var e,n,r,i=Ze(),o=i.locale,s=i.classNames,a=i.styles,l=i.hideHead,c=i.fixedWeeks,u=i.components,f=i.weekStartsOn,h=i.firstWeekContainsDate,g=i.ISOWeek,w=pQ(t.displayMonth,{useFixedWeeks:!!c,ISOWeek:g,locale:o,weekStartsOn:f,firstWeekContainsDate:h}),v=(e=u==null?void 0:u.Head)!==null&&e!==void 0?e:kK,E=(n=u==null?void 0:u.Row)!==null&&n!==void 0?n:hQ,x=(r=u==null?void 0:u.Footer)!==null&&r!==void 0?r:PK;return p.jsxs("table",{id:t.id,className:s.table,style:a.table,role:"grid","aria-labelledby":t["aria-labelledby"],children:[!l&&p.jsx(v,{}),p.jsx("tbody",{className:s.tbody,style:a.tbody,children:w.map(function(y){return p.jsx(E,{displayMonth:t.displayMonth,dates:y.dates,weekNumber:y.weekNumber},y.weekNumber)})}),p.jsx(x,{displayMonth:t.displayMonth})]})}function gQ(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}var vQ=gQ()?m.useLayoutEffect:m.useEffect,Sg=!1,yQ=0;function pC(){return"react-day-picker-".concat(++yQ)}function wQ(t){var e,n=t??(Sg?pC():null),r=m.useState(n),i=r[0],o=r[1];return vQ(function(){i===null&&o(pC())},[]),m.useEffect(function(){Sg===!1&&(Sg=!0)},[]),(e=t??i)!==null&&e!==void 0?e:void 0}function _Q(t){var e,n,r=Ze(),i=r.dir,o=r.classNames,s=r.styles,a=r.components,l=Ou().displayMonths,c=wQ(r.id?"".concat(r.id,"-").concat(t.displayIndex):void 0),u=r.id?"".concat(r.id,"-grid-").concat(t.displayIndex):void 0,f=[o.month],h=s.month,g=t.displayIndex===0,w=t.displayIndex===l.length-1,v=!g&&!w;i==="rtl"&&(e=[g,w],w=e[0],g=e[1]),g&&(f.push(o.caption_start),h=ve(ve({},h),s.caption_start)),w&&(f.push(o.caption_end),h=ve(ve({},h),s.caption_end)),v&&(f.push(o.caption_between),h=ve(ve({},h),s.caption_between));var E=(n=a==null?void 0:a.Caption)!==null&&n!==void 0?n:SK;return p.jsxs("div",{className:f.join(" "),style:h,children:[p.jsx(E,{id:c,displayMonth:t.displayMonth,displayIndex:t.displayIndex}),p.jsx(mQ,{id:u,"aria-labelledby":c,displayMonth:t.displayMonth})]},t.displayIndex)}function xQ(t){var e=Ze(),n=e.classNames,r=e.styles;return p.jsx("div",{className:n.months,style:r.months,children:t.children})}function EQ(t){var e,n,r=t.initialProps,i=Ze(),o=T1(),s=Ou(),a=m.useState(!1),l=a[0],c=a[1];m.useEffect(function(){i.initialFocus&&o.focusTarget&&(l||(o.focus(o.focusTarget),c(!0)))},[i.initialFocus,l,o.focus,o.focusTarget,o]);var u=[i.classNames.root,i.className];i.numberOfMonths>1&&u.push(i.classNames.multiple_months),i.showWeekNumber&&u.push(i.classNames.with_weeknumber);var f=ve(ve({},i.styles.root),i.style),h=Object.keys(r).filter(function(w){return w.startsWith("data-")}).reduce(function(w,v){var E;return ve(ve({},w),(E={},E[v]=r[v],E))},{}),g=(n=(e=r.components)===null||e===void 0?void 0:e.Months)!==null&&n!==void 0?n:xQ;return p.jsx("div",ve({className:u.join(" "),style:f,dir:i.dir,id:i.id,nonce:r.nonce,title:r.title,lang:r.lang},h,{children:p.jsx(g,{children:s.displayMonths.map(function(w,v){return p.jsx(_Q,{displayIndex:v,displayMonth:w},v)})})}))}function bQ(t){var e=t.children,n=GY(t,["children"]);return p.jsx(fK,{initialProps:n,children:p.jsx(EK,{children:p.jsx(rQ,{initialProps:n,children:p.jsx(NK,{initialProps:n,children:p.jsx(OK,{initialProps:n,children:p.jsx(WK,{children:p.jsx(tQ,{children:e})})})})})})})}function TQ(t){return p.jsx(bQ,ve({},t,{children:p.jsx(EQ,{initialProps:t})}))}function TN({className:t,classNames:e,showOutsideDays:n=!0,...r}){return p.jsx(TQ,{showOutsideDays:n,className:Ue("p-3",t),classNames:{months:"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0",month:"space-y-4",caption:"flex justify-center pt-1 relative items-center",caption_label:"text-sm font-medium",nav:"space-x-1 flex items-center",nav_button:Ue(gy({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-y-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:"h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20",day:Ue(gy({variant:"ghost"}),"h-9 w-9 p-0 font-normal aria-selected:opacity-100"),day_selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",day_today:"bg-accent text-accent-foreground",day_outside:"text-muted-foreground opacity-50",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible",...e},components:{IconLeft:({...i})=>p.jsx(Qz,{className:"h-4 w-4"}),IconRight:({...i})=>p.jsx(Xz,{className:"h-4 w-4"})},...r})}TN.displayName="Calendar";function Ht(t){const e=m.useRef(t);return m.useEffect(()=>{e.current=t}),m.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function CQ(t,e=globalThis==null?void 0:globalThis.document){const n=Ht(t);m.useEffect(()=>{const r=i=>{i.key==="Escape"&&n(i)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var SQ="DismissableLayer",Oy="dismissableLayer.update",PQ="dismissableLayer.pointerDownOutside",IQ="dismissableLayer.focusOutside",mC,CN=m.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Up=m.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:o,onInteractOutside:s,onDismiss:a,...l}=t,c=m.useContext(CN),[u,f]=m.useState(null),h=(u==null?void 0:u.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,g]=m.useState({}),w=lt(e,S=>f(S)),v=Array.from(c.layers),[E]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),x=v.indexOf(E),y=u?v.indexOf(u):-1,b=c.layersWithOutsidePointerEventsDisabled.size>0,P=y>=x,R=kQ(S=>{const C=S.target,I=[...c.branches].some(A=>A.contains(C));!P||I||(i==null||i(S),s==null||s(S),S.defaultPrevented||a==null||a())},h),D=RQ(S=>{const C=S.target;[...c.branches].some(A=>A.contains(C))||(o==null||o(S),s==null||s(S),S.defaultPrevented||a==null||a())},h);return CQ(S=>{y===c.layers.size-1&&(r==null||r(S),!S.defaultPrevented&&a&&(S.preventDefault(),a()))},h),m.useEffect(()=>{if(u)return n&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(mC=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(u)),c.layers.add(u),gC(),()=>{n&&c.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=mC)}},[u,h,n,c]),m.useEffect(()=>()=>{u&&(c.layers.delete(u),c.layersWithOutsidePointerEventsDisabled.delete(u),gC())},[u,c]),m.useEffect(()=>{const S=()=>g({});return document.addEventListener(Oy,S),()=>document.removeEventListener(Oy,S)},[]),p.jsx(ze.div,{...l,ref:w,style:{pointerEvents:b?P?"auto":"none":void 0,...t.style},onFocusCapture:$e(t.onFocusCapture,D.onFocusCapture),onBlurCapture:$e(t.onBlurCapture,D.onBlurCapture),onPointerDownCapture:$e(t.onPointerDownCapture,R.onPointerDownCapture)})});Up.displayName=SQ;var AQ="DismissableLayerBranch",SN=m.forwardRef((t,e)=>{const n=m.useContext(CN),r=m.useRef(null),i=lt(e,r);return m.useEffect(()=>{const o=r.current;if(o)return n.branches.add(o),()=>{n.branches.delete(o)}},[n.branches]),p.jsx(ze.div,{...t,ref:i})});SN.displayName=AQ;function kQ(t,e=globalThis==null?void 0:globalThis.document){const n=Ht(t),r=m.useRef(!1),i=m.useRef(()=>{});return m.useEffect(()=>{const o=a=>{if(a.target&&!r.current){let l=function(){PN(PQ,n,c,{discrete:!0})};const c={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=l,e.addEventListener("click",i.current,{once:!0})):l()}else e.removeEventListener("click",i.current);r.current=!1},s=window.setTimeout(()=>{e.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(s),e.removeEventListener("pointerdown",o),e.removeEventListener("click",i.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function RQ(t,e=globalThis==null?void 0:globalThis.document){const n=Ht(t),r=m.useRef(!1);return m.useEffect(()=>{const i=o=>{o.target&&!r.current&&PN(IQ,n,{originalEvent:o},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function gC(){const t=new CustomEvent(Oy);document.dispatchEvent(t)}function PN(t,e,n,{discrete:r}){const i=n.originalEvent.target,o=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&i.addEventListener(t,e,{once:!0}),r?mR(i,o):i.dispatchEvent(o)}var NQ=Up,DQ=SN,Pg=0;function IN(){m.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??vC()),document.body.insertAdjacentElement("beforeend",t[1]??vC()),Pg++,()=>{Pg===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),Pg--}},[])}function vC(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var Ig="focusScope.autoFocusOnMount",Ag="focusScope.autoFocusOnUnmount",yC={bubbles:!1,cancelable:!0},MQ="FocusScope",S1=m.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:i,onUnmountAutoFocus:o,...s}=t,[a,l]=m.useState(null),c=Ht(i),u=Ht(o),f=m.useRef(null),h=lt(e,v=>l(v)),g=m.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;m.useEffect(()=>{if(r){let v=function(b){if(g.paused||!a)return;const P=b.target;a.contains(P)?f.current=P:Hi(f.current,{select:!0})},E=function(b){if(g.paused||!a)return;const P=b.relatedTarget;P!==null&&(a.contains(P)||Hi(f.current,{select:!0}))},x=function(b){if(document.activeElement===document.body)for(const R of b)R.removedNodes.length>0&&Hi(a)};document.addEventListener("focusin",v),document.addEventListener("focusout",E);const y=new MutationObserver(x);return a&&y.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",v),document.removeEventListener("focusout",E),y.disconnect()}}},[r,a,g.paused]),m.useEffect(()=>{if(a){_C.add(g);const v=document.activeElement;if(!a.contains(v)){const x=new CustomEvent(Ig,yC);a.addEventListener(Ig,c),a.dispatchEvent(x),x.defaultPrevented||(OQ($Q(AN(a)),{select:!0}),document.activeElement===v&&Hi(a))}return()=>{a.removeEventListener(Ig,c),setTimeout(()=>{const x=new CustomEvent(Ag,yC);a.addEventListener(Ag,u),a.dispatchEvent(x),x.defaultPrevented||Hi(v??document.body,{select:!0}),a.removeEventListener(Ag,u),_C.remove(g)},0)}}},[a,c,u,g]);const w=m.useCallback(v=>{if(!n&&!r||g.paused)return;const E=v.key==="Tab"&&!v.altKey&&!v.ctrlKey&&!v.metaKey,x=document.activeElement;if(E&&x){const y=v.currentTarget,[b,P]=LQ(y);b&&P?!v.shiftKey&&x===P?(v.preventDefault(),n&&Hi(b,{select:!0})):v.shiftKey&&x===b&&(v.preventDefault(),n&&Hi(P,{select:!0})):x===y&&v.preventDefault()}},[n,r,g.paused]);return p.jsx(ze.div,{tabIndex:-1,...s,ref:h,onKeyDown:w})});S1.displayName=MQ;function OQ(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(Hi(r,{select:e}),document.activeElement!==n)return}function LQ(t){const e=AN(t),n=wC(e,t),r=wC(e.reverse(),t);return[n,r]}function AN(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function wC(t,e){for(const n of t)if(!VQ(n,{upTo:e}))return n}function VQ(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function jQ(t){return t instanceof HTMLInputElement&&"select"in t}function Hi(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&jQ(t)&&e&&t.select()}}var _C=FQ();function FQ(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=xC(t,e),t.unshift(e)},remove(e){var n;t=xC(t,e),(n=t[0])==null||n.resume()}}}function xC(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function $Q(t){return t.filter(e=>e.tagName!=="A")}var UQ=$h[" useId ".trim().toString()]||(()=>{}),BQ=0;function mf(t){const[e,n]=m.useState(UQ());return Hr(()=>{t||n(r=>r??String(BQ++))},[t]),t||(e?`radix-${e}`:"")}const WQ=["top","right","bottom","left"],Oo=Math.min,Nn=Math.max,kh=Math.round,Dd=Math.floor,Br=t=>({x:t,y:t}),zQ={left:"right",right:"left",bottom:"top",top:"bottom"},HQ={start:"end",end:"start"};function Ly(t,e,n){return Nn(t,Oo(e,n))}function Pi(t,e){return typeof t=="function"?t(e):t}function Ii(t){return t.split("-")[0]}function El(t){return t.split("-")[1]}function P1(t){return t==="x"?"y":"x"}function I1(t){return t==="y"?"height":"width"}function mi(t){return["top","bottom"].includes(Ii(t))?"y":"x"}function A1(t){return P1(mi(t))}function qQ(t,e,n){n===void 0&&(n=!1);const r=El(t),i=A1(t),o=I1(i);let s=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[o]>e.floating[o]&&(s=Rh(s)),[s,Rh(s)]}function GQ(t){const e=Rh(t);return[Vy(t),e,Vy(e)]}function Vy(t){return t.replace(/start|end/g,e=>HQ[e])}function YQ(t,e,n){const r=["left","right"],i=["right","left"],o=["top","bottom"],s=["bottom","top"];switch(t){case"top":case"bottom":return n?e?i:r:e?r:i;case"left":case"right":return e?o:s;default:return[]}}function KQ(t,e,n,r){const i=El(t);let o=YQ(Ii(t),n==="start",r);return i&&(o=o.map(s=>s+"-"+i),e&&(o=o.concat(o.map(Vy)))),o}function Rh(t){return t.replace(/left|right|bottom|top/g,e=>zQ[e])}function QQ(t){return{top:0,right:0,bottom:0,left:0,...t}}function kN(t){return typeof t!="number"?QQ(t):{top:t,right:t,bottom:t,left:t}}function Nh(t){const{x:e,y:n,width:r,height:i}=t;return{width:r,height:i,top:n,left:e,right:e+r,bottom:n+i,x:e,y:n}}function EC(t,e,n){let{reference:r,floating:i}=t;const o=mi(e),s=A1(e),a=I1(s),l=Ii(e),c=o==="y",u=r.x+r.width/2-i.width/2,f=r.y+r.height/2-i.height/2,h=r[a]/2-i[a]/2;let g;switch(l){case"top":g={x:u,y:r.y-i.height};break;case"bottom":g={x:u,y:r.y+r.height};break;case"right":g={x:r.x+r.width,y:f};break;case"left":g={x:r.x-i.width,y:f};break;default:g={x:r.x,y:r.y}}switch(El(e)){case"start":g[s]-=h*(n&&c?-1:1);break;case"end":g[s]+=h*(n&&c?-1:1);break}return g}const XQ=async(t,e,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:o=[],platform:s}=n,a=o.filter(Boolean),l=await(s.isRTL==null?void 0:s.isRTL(e));let c=await s.getElementRects({reference:t,floating:e,strategy:i}),{x:u,y:f}=EC(c,r,l),h=r,g={},w=0;for(let v=0;v<a.length;v++){const{name:E,fn:x}=a[v],{x:y,y:b,data:P,reset:R}=await x({x:u,y:f,initialPlacement:r,placement:h,strategy:i,middlewareData:g,rects:c,platform:s,elements:{reference:t,floating:e}});u=y??u,f=b??f,g={...g,[E]:{...g[E],...P}},R&&w<=50&&(w++,typeof R=="object"&&(R.placement&&(h=R.placement),R.rects&&(c=R.rects===!0?await s.getElementRects({reference:t,floating:e,strategy:i}):R.rects),{x:u,y:f}=EC(c,h,l)),v=-1)}return{x:u,y:f,placement:h,strategy:i,middlewareData:g}};async function uu(t,e){var n;e===void 0&&(e={});const{x:r,y:i,platform:o,rects:s,elements:a,strategy:l}=t,{boundary:c="clippingAncestors",rootBoundary:u="viewport",elementContext:f="floating",altBoundary:h=!1,padding:g=0}=Pi(e,t),w=kN(g),E=a[h?f==="floating"?"reference":"floating":f],x=Nh(await o.getClippingRect({element:(n=await(o.isElement==null?void 0:o.isElement(E)))==null||n?E:E.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(a.floating)),boundary:c,rootBoundary:u,strategy:l})),y=f==="floating"?{x:r,y:i,width:s.floating.width,height:s.floating.height}:s.reference,b=await(o.getOffsetParent==null?void 0:o.getOffsetParent(a.floating)),P=await(o.isElement==null?void 0:o.isElement(b))?await(o.getScale==null?void 0:o.getScale(b))||{x:1,y:1}:{x:1,y:1},R=Nh(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:y,offsetParent:b,strategy:l}):y);return{top:(x.top-R.top+w.top)/P.y,bottom:(R.bottom-x.bottom+w.bottom)/P.y,left:(x.left-R.left+w.left)/P.x,right:(R.right-x.right+w.right)/P.x}}const JQ=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:i,rects:o,platform:s,elements:a,middlewareData:l}=e,{element:c,padding:u=0}=Pi(t,e)||{};if(c==null)return{};const f=kN(u),h={x:n,y:r},g=A1(i),w=I1(g),v=await s.getDimensions(c),E=g==="y",x=E?"top":"left",y=E?"bottom":"right",b=E?"clientHeight":"clientWidth",P=o.reference[w]+o.reference[g]-h[g]-o.floating[w],R=h[g]-o.reference[g],D=await(s.getOffsetParent==null?void 0:s.getOffsetParent(c));let S=D?D[b]:0;(!S||!await(s.isElement==null?void 0:s.isElement(D)))&&(S=a.floating[b]||o.floating[w]);const C=P/2-R/2,I=S/2-v[w]/2-1,A=Oo(f[x],I),M=Oo(f[y],I),O=A,N=S-v[w]-M,F=S/2-v[w]/2+C,Y=Ly(O,F,N),K=!l.arrow&&El(i)!=null&&F!==Y&&o.reference[w]/2-(F<O?A:M)-v[w]/2<0,W=K?F<O?F-O:F-N:0;return{[g]:h[g]+W,data:{[g]:Y,centerOffset:F-Y-W,...K&&{alignmentOffset:W}},reset:K}}}),ZQ=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:i,middlewareData:o,rects:s,initialPlacement:a,platform:l,elements:c}=e,{mainAxis:u=!0,crossAxis:f=!0,fallbackPlacements:h,fallbackStrategy:g="bestFit",fallbackAxisSideDirection:w="none",flipAlignment:v=!0,...E}=Pi(t,e);if((n=o.arrow)!=null&&n.alignmentOffset)return{};const x=Ii(i),y=mi(a),b=Ii(a)===a,P=await(l.isRTL==null?void 0:l.isRTL(c.floating)),R=h||(b||!v?[Rh(a)]:GQ(a)),D=w!=="none";!h&&D&&R.push(...KQ(a,v,w,P));const S=[a,...R],C=await uu(e,E),I=[];let A=((r=o.flip)==null?void 0:r.overflows)||[];if(u&&I.push(C[x]),f){const Y=qQ(i,s,P);I.push(C[Y[0]],C[Y[1]])}if(A=[...A,{placement:i,overflows:I}],!I.every(Y=>Y<=0)){var M,O;const Y=(((M=o.flip)==null?void 0:M.index)||0)+1,K=S[Y];if(K){var N;const L=f==="alignment"?y!==mi(K):!1,j=((N=A[0])==null?void 0:N.overflows[0])>0;if(!L||j)return{data:{index:Y,overflows:A},reset:{placement:K}}}let W=(O=A.filter(L=>L.overflows[0]<=0).sort((L,j)=>L.overflows[1]-j.overflows[1])[0])==null?void 0:O.placement;if(!W)switch(g){case"bestFit":{var F;const L=(F=A.filter(j=>{if(D){const U=mi(j.placement);return U===y||U==="y"}return!0}).map(j=>[j.placement,j.overflows.filter(U=>U>0).reduce((U,z)=>U+z,0)]).sort((j,U)=>j[1]-U[1])[0])==null?void 0:F[0];L&&(W=L);break}case"initialPlacement":W=a;break}if(i!==W)return{reset:{placement:W}}}return{}}}};function bC(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function TC(t){return WQ.some(e=>t[e]>=0)}const eX=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...i}=Pi(t,e);switch(r){case"referenceHidden":{const o=await uu(e,{...i,elementContext:"reference"}),s=bC(o,n.reference);return{data:{referenceHiddenOffsets:s,referenceHidden:TC(s)}}}case"escaped":{const o=await uu(e,{...i,altBoundary:!0}),s=bC(o,n.floating);return{data:{escapedOffsets:s,escaped:TC(s)}}}default:return{}}}}};async function tX(t,e){const{placement:n,platform:r,elements:i}=t,o=await(r.isRTL==null?void 0:r.isRTL(i.floating)),s=Ii(n),a=El(n),l=mi(n)==="y",c=["left","top"].includes(s)?-1:1,u=o&&l?-1:1,f=Pi(e,t);let{mainAxis:h,crossAxis:g,alignmentAxis:w}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return a&&typeof w=="number"&&(g=a==="end"?w*-1:w),l?{x:g*u,y:h*c}:{x:h*c,y:g*u}}const nX=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:i,y:o,placement:s,middlewareData:a}=e,l=await tX(e,t);return s===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:i+l.x,y:o+l.y,data:{...l,placement:s}}}}},rX=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:i}=e,{mainAxis:o=!0,crossAxis:s=!1,limiter:a={fn:E=>{let{x,y}=E;return{x,y}}},...l}=Pi(t,e),c={x:n,y:r},u=await uu(e,l),f=mi(Ii(i)),h=P1(f);let g=c[h],w=c[f];if(o){const E=h==="y"?"top":"left",x=h==="y"?"bottom":"right",y=g+u[E],b=g-u[x];g=Ly(y,g,b)}if(s){const E=f==="y"?"top":"left",x=f==="y"?"bottom":"right",y=w+u[E],b=w-u[x];w=Ly(y,w,b)}const v=a.fn({...e,[h]:g,[f]:w});return{...v,data:{x:v.x-n,y:v.y-r,enabled:{[h]:o,[f]:s}}}}}},iX=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:i,rects:o,middlewareData:s}=e,{offset:a=0,mainAxis:l=!0,crossAxis:c=!0}=Pi(t,e),u={x:n,y:r},f=mi(i),h=P1(f);let g=u[h],w=u[f];const v=Pi(a,e),E=typeof v=="number"?{mainAxis:v,crossAxis:0}:{mainAxis:0,crossAxis:0,...v};if(l){const b=h==="y"?"height":"width",P=o.reference[h]-o.floating[b]+E.mainAxis,R=o.reference[h]+o.reference[b]-E.mainAxis;g<P?g=P:g>R&&(g=R)}if(c){var x,y;const b=h==="y"?"width":"height",P=["top","left"].includes(Ii(i)),R=o.reference[f]-o.floating[b]+(P&&((x=s.offset)==null?void 0:x[f])||0)+(P?0:E.crossAxis),D=o.reference[f]+o.reference[b]+(P?0:((y=s.offset)==null?void 0:y[f])||0)-(P?E.crossAxis:0);w<R?w=R:w>D&&(w=D)}return{[h]:g,[f]:w}}}},oX=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:i,rects:o,platform:s,elements:a}=e,{apply:l=()=>{},...c}=Pi(t,e),u=await uu(e,c),f=Ii(i),h=El(i),g=mi(i)==="y",{width:w,height:v}=o.floating;let E,x;f==="top"||f==="bottom"?(E=f,x=h===(await(s.isRTL==null?void 0:s.isRTL(a.floating))?"start":"end")?"left":"right"):(x=f,E=h==="end"?"top":"bottom");const y=v-u.top-u.bottom,b=w-u.left-u.right,P=Oo(v-u[E],y),R=Oo(w-u[x],b),D=!e.middlewareData.shift;let S=P,C=R;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(C=b),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(S=y),D&&!h){const A=Nn(u.left,0),M=Nn(u.right,0),O=Nn(u.top,0),N=Nn(u.bottom,0);g?C=w-2*(A!==0||M!==0?A+M:Nn(u.left,u.right)):S=v-2*(O!==0||N!==0?O+N:Nn(u.top,u.bottom))}await l({...e,availableWidth:C,availableHeight:S});const I=await s.getDimensions(a.floating);return w!==I.width||v!==I.height?{reset:{rects:!0}}:{}}}};function Bp(){return typeof window<"u"}function bl(t){return RN(t)?(t.nodeName||"").toLowerCase():"#document"}function Vn(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Qr(t){var e;return(e=(RN(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function RN(t){return Bp()?t instanceof Node||t instanceof Vn(t).Node:!1}function wr(t){return Bp()?t instanceof Element||t instanceof Vn(t).Element:!1}function Gr(t){return Bp()?t instanceof HTMLElement||t instanceof Vn(t).HTMLElement:!1}function CC(t){return!Bp()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Vn(t).ShadowRoot}function Lu(t){const{overflow:e,overflowX:n,overflowY:r,display:i}=_r(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!["inline","contents"].includes(i)}function sX(t){return["table","td","th"].includes(bl(t))}function Wp(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function k1(t){const e=R1(),n=wr(t)?_r(t):t;return["transform","translate","scale","rotate","perspective"].some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function aX(t){let e=Lo(t);for(;Gr(e)&&!rl(e);){if(k1(e))return e;if(Wp(e))return null;e=Lo(e)}return null}function R1(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function rl(t){return["html","body","#document"].includes(bl(t))}function _r(t){return Vn(t).getComputedStyle(t)}function zp(t){return wr(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Lo(t){if(bl(t)==="html")return t;const e=t.assignedSlot||t.parentNode||CC(t)&&t.host||Qr(t);return CC(e)?e.host:e}function NN(t){const e=Lo(t);return rl(e)?t.ownerDocument?t.ownerDocument.body:t.body:Gr(e)&&Lu(e)?e:NN(e)}function du(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const i=NN(t),o=i===((r=t.ownerDocument)==null?void 0:r.body),s=Vn(i);if(o){const a=jy(s);return e.concat(s,s.visualViewport||[],Lu(i)?i:[],a&&n?du(a):[])}return e.concat(i,du(i,[],n))}function jy(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function DN(t){const e=_r(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=Gr(t),o=i?t.offsetWidth:n,s=i?t.offsetHeight:r,a=kh(n)!==o||kh(r)!==s;return a&&(n=o,r=s),{width:n,height:r,$:a}}function N1(t){return wr(t)?t:t.contextElement}function Da(t){const e=N1(t);if(!Gr(e))return Br(1);const n=e.getBoundingClientRect(),{width:r,height:i,$:o}=DN(e);let s=(o?kh(n.width):n.width)/r,a=(o?kh(n.height):n.height)/i;return(!s||!Number.isFinite(s))&&(s=1),(!a||!Number.isFinite(a))&&(a=1),{x:s,y:a}}const lX=Br(0);function MN(t){const e=Vn(t);return!R1()||!e.visualViewport?lX:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function cX(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==Vn(t)?!1:e}function Ss(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const i=t.getBoundingClientRect(),o=N1(t);let s=Br(1);e&&(r?wr(r)&&(s=Da(r)):s=Da(t));const a=cX(o,n,r)?MN(o):Br(0);let l=(i.left+a.x)/s.x,c=(i.top+a.y)/s.y,u=i.width/s.x,f=i.height/s.y;if(o){const h=Vn(o),g=r&&wr(r)?Vn(r):r;let w=h,v=jy(w);for(;v&&r&&g!==w;){const E=Da(v),x=v.getBoundingClientRect(),y=_r(v),b=x.left+(v.clientLeft+parseFloat(y.paddingLeft))*E.x,P=x.top+(v.clientTop+parseFloat(y.paddingTop))*E.y;l*=E.x,c*=E.y,u*=E.x,f*=E.y,l+=b,c+=P,w=Vn(v),v=jy(w)}}return Nh({width:u,height:f,x:l,y:c})}function D1(t,e){const n=zp(t).scrollLeft;return e?e.left+n:Ss(Qr(t)).left+n}function ON(t,e,n){n===void 0&&(n=!1);const r=t.getBoundingClientRect(),i=r.left+e.scrollLeft-(n?0:D1(t,r)),o=r.top+e.scrollTop;return{x:i,y:o}}function uX(t){let{elements:e,rect:n,offsetParent:r,strategy:i}=t;const o=i==="fixed",s=Qr(r),a=e?Wp(e.floating):!1;if(r===s||a&&o)return n;let l={scrollLeft:0,scrollTop:0},c=Br(1);const u=Br(0),f=Gr(r);if((f||!f&&!o)&&((bl(r)!=="body"||Lu(s))&&(l=zp(r)),Gr(r))){const g=Ss(r);c=Da(r),u.x=g.x+r.clientLeft,u.y=g.y+r.clientTop}const h=s&&!f&&!o?ON(s,l,!0):Br(0);return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-l.scrollLeft*c.x+u.x+h.x,y:n.y*c.y-l.scrollTop*c.y+u.y+h.y}}function dX(t){return Array.from(t.getClientRects())}function fX(t){const e=Qr(t),n=zp(t),r=t.ownerDocument.body,i=Nn(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),o=Nn(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let s=-n.scrollLeft+D1(t);const a=-n.scrollTop;return _r(r).direction==="rtl"&&(s+=Nn(e.clientWidth,r.clientWidth)-i),{width:i,height:o,x:s,y:a}}function hX(t,e){const n=Vn(t),r=Qr(t),i=n.visualViewport;let o=r.clientWidth,s=r.clientHeight,a=0,l=0;if(i){o=i.width,s=i.height;const c=R1();(!c||c&&e==="fixed")&&(a=i.offsetLeft,l=i.offsetTop)}return{width:o,height:s,x:a,y:l}}function pX(t,e){const n=Ss(t,!0,e==="fixed"),r=n.top+t.clientTop,i=n.left+t.clientLeft,o=Gr(t)?Da(t):Br(1),s=t.clientWidth*o.x,a=t.clientHeight*o.y,l=i*o.x,c=r*o.y;return{width:s,height:a,x:l,y:c}}function SC(t,e,n){let r;if(e==="viewport")r=hX(t,n);else if(e==="document")r=fX(Qr(t));else if(wr(e))r=pX(e,n);else{const i=MN(t);r={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return Nh(r)}function LN(t,e){const n=Lo(t);return n===e||!wr(n)||rl(n)?!1:_r(n).position==="fixed"||LN(n,e)}function mX(t,e){const n=e.get(t);if(n)return n;let r=du(t,[],!1).filter(a=>wr(a)&&bl(a)!=="body"),i=null;const o=_r(t).position==="fixed";let s=o?Lo(t):t;for(;wr(s)&&!rl(s);){const a=_r(s),l=k1(s);!l&&a.position==="fixed"&&(i=null),(o?!l&&!i:!l&&a.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||Lu(s)&&!l&&LN(t,s))?r=r.filter(u=>u!==s):i=a,s=Lo(s)}return e.set(t,r),r}function gX(t){let{element:e,boundary:n,rootBoundary:r,strategy:i}=t;const s=[...n==="clippingAncestors"?Wp(e)?[]:mX(e,this._c):[].concat(n),r],a=s[0],l=s.reduce((c,u)=>{const f=SC(e,u,i);return c.top=Nn(f.top,c.top),c.right=Oo(f.right,c.right),c.bottom=Oo(f.bottom,c.bottom),c.left=Nn(f.left,c.left),c},SC(e,a,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function vX(t){const{width:e,height:n}=DN(t);return{width:e,height:n}}function yX(t,e,n){const r=Gr(e),i=Qr(e),o=n==="fixed",s=Ss(t,!0,o,e);let a={scrollLeft:0,scrollTop:0};const l=Br(0);function c(){l.x=D1(i)}if(r||!r&&!o)if((bl(e)!=="body"||Lu(i))&&(a=zp(e)),r){const g=Ss(e,!0,o,e);l.x=g.x+e.clientLeft,l.y=g.y+e.clientTop}else i&&c();o&&!r&&i&&c();const u=i&&!r&&!o?ON(i,a):Br(0),f=s.left+a.scrollLeft-l.x-u.x,h=s.top+a.scrollTop-l.y-u.y;return{x:f,y:h,width:s.width,height:s.height}}function kg(t){return _r(t).position==="static"}function PC(t,e){if(!Gr(t)||_r(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return Qr(t)===n&&(n=n.ownerDocument.body),n}function VN(t,e){const n=Vn(t);if(Wp(t))return n;if(!Gr(t)){let i=Lo(t);for(;i&&!rl(i);){if(wr(i)&&!kg(i))return i;i=Lo(i)}return n}let r=PC(t,e);for(;r&&sX(r)&&kg(r);)r=PC(r,e);return r&&rl(r)&&kg(r)&&!k1(r)?n:r||aX(t)||n}const wX=async function(t){const e=this.getOffsetParent||VN,n=this.getDimensions,r=await n(t.floating);return{reference:yX(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function _X(t){return _r(t).direction==="rtl"}const xX={convertOffsetParentRelativeRectToViewportRelativeRect:uX,getDocumentElement:Qr,getClippingRect:gX,getOffsetParent:VN,getElementRects:wX,getClientRects:dX,getDimensions:vX,getScale:Da,isElement:wr,isRTL:_X};function jN(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function EX(t,e){let n=null,r;const i=Qr(t);function o(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function s(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),o();const c=t.getBoundingClientRect(),{left:u,top:f,width:h,height:g}=c;if(a||e(),!h||!g)return;const w=Dd(f),v=Dd(i.clientWidth-(u+h)),E=Dd(i.clientHeight-(f+g)),x=Dd(u),b={rootMargin:-w+"px "+-v+"px "+-E+"px "+-x+"px",threshold:Nn(0,Oo(1,l))||1};let P=!0;function R(D){const S=D[0].intersectionRatio;if(S!==l){if(!P)return s();S?s(!1,S):r=setTimeout(()=>{s(!1,1e-7)},1e3)}S===1&&!jN(c,t.getBoundingClientRect())&&s(),P=!1}try{n=new IntersectionObserver(R,{...b,root:i.ownerDocument})}catch{n=new IntersectionObserver(R,b)}n.observe(t)}return s(!0),o}function FN(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:o=!0,elementResize:s=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,c=N1(t),u=i||o?[...c?du(c):[],...du(e)]:[];u.forEach(x=>{i&&x.addEventListener("scroll",n,{passive:!0}),o&&x.addEventListener("resize",n)});const f=c&&a?EX(c,n):null;let h=-1,g=null;s&&(g=new ResizeObserver(x=>{let[y]=x;y&&y.target===c&&g&&(g.unobserve(e),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var b;(b=g)==null||b.observe(e)})),n()}),c&&!l&&g.observe(c),g.observe(e));let w,v=l?Ss(t):null;l&&E();function E(){const x=Ss(t);v&&!jN(v,x)&&n(),v=x,w=requestAnimationFrame(E)}return n(),()=>{var x;u.forEach(y=>{i&&y.removeEventListener("scroll",n),o&&y.removeEventListener("resize",n)}),f==null||f(),(x=g)==null||x.disconnect(),g=null,l&&cancelAnimationFrame(w)}}const bX=nX,TX=rX,CX=ZQ,SX=oX,PX=eX,IC=JQ,IX=iX,AX=(t,e,n)=>{const r=new Map,i={platform:xX,...n},o={...i.platform,_c:r};return XQ(t,e,{...i,platform:o})};var gf=typeof document<"u"?m.useLayoutEffect:m.useEffect;function Dh(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,i;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!Dh(t[r],e[r]))return!1;return!0}if(i=Object.keys(t),n=i.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,i[r]))return!1;for(r=n;r--!==0;){const o=i[r];if(!(o==="_owner"&&t.$$typeof)&&!Dh(t[o],e[o]))return!1}return!0}return t!==t&&e!==e}function $N(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function AC(t,e){const n=$N(t);return Math.round(e*n)/n}function Rg(t){const e=m.useRef(t);return gf(()=>{e.current=t}),e}function UN(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:o,floating:s}={},transform:a=!0,whileElementsMounted:l,open:c}=t,[u,f]=m.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[h,g]=m.useState(r);Dh(h,r)||g(r);const[w,v]=m.useState(null),[E,x]=m.useState(null),y=m.useCallback(L=>{L!==D.current&&(D.current=L,v(L))},[]),b=m.useCallback(L=>{L!==S.current&&(S.current=L,x(L))},[]),P=o||w,R=s||E,D=m.useRef(null),S=m.useRef(null),C=m.useRef(u),I=l!=null,A=Rg(l),M=Rg(i),O=Rg(c),N=m.useCallback(()=>{if(!D.current||!S.current)return;const L={placement:e,strategy:n,middleware:h};M.current&&(L.platform=M.current),AX(D.current,S.current,L).then(j=>{const U={...j,isPositioned:O.current!==!1};F.current&&!Dh(C.current,U)&&(C.current=U,$o.flushSync(()=>{f(U)}))})},[h,e,n,M,O]);gf(()=>{c===!1&&C.current.isPositioned&&(C.current.isPositioned=!1,f(L=>({...L,isPositioned:!1})))},[c]);const F=m.useRef(!1);gf(()=>(F.current=!0,()=>{F.current=!1}),[]),gf(()=>{if(P&&(D.current=P),R&&(S.current=R),P&&R){if(A.current)return A.current(P,R,N);N()}},[P,R,N,A,I]);const Y=m.useMemo(()=>({reference:D,floating:S,setReference:y,setFloating:b}),[y,b]),K=m.useMemo(()=>({reference:P,floating:R}),[P,R]),W=m.useMemo(()=>{const L={position:n,left:0,top:0};if(!K.floating)return L;const j=AC(K.floating,u.x),U=AC(K.floating,u.y);return a?{...L,transform:"translate("+j+"px, "+U+"px)",...$N(K.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:j,top:U}},[n,a,K.floating,u.x,u.y]);return m.useMemo(()=>({...u,update:N,refs:Y,elements:K,floatingStyles:W}),[u,N,Y,K,W])}const kX=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:i}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?IC({element:r.current,padding:i}).fn(n):{}:r?IC({element:r,padding:i}).fn(n):{}}}},BN=(t,e)=>({...bX(t),options:[t,e]}),WN=(t,e)=>({...TX(t),options:[t,e]}),zN=(t,e)=>({...IX(t),options:[t,e]}),HN=(t,e)=>({...CX(t),options:[t,e]}),qN=(t,e)=>({...SX(t),options:[t,e]}),GN=(t,e)=>({...PX(t),options:[t,e]}),YN=(t,e)=>({...kX(t),options:[t,e]});var RX="Arrow",KN=m.forwardRef((t,e)=>{const{children:n,width:r=10,height:i=5,...o}=t;return p.jsx(ze.svg,{...o,ref:e,width:r,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:p.jsx("polygon",{points:"0,0 30,0 15,10"})})});KN.displayName=RX;var NX=KN,M1="Popper",[QN,XN]=Ls(M1),[DX,JN]=QN(M1),ZN=t=>{const{__scopePopper:e,children:n}=t,[r,i]=m.useState(null);return p.jsx(DX,{scope:e,anchor:r,onAnchorChange:i,children:n})};ZN.displayName=M1;var eD="PopperAnchor",tD=m.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...i}=t,o=JN(eD,n),s=m.useRef(null),a=lt(e,s);return m.useEffect(()=>{o.onAnchorChange((r==null?void 0:r.current)||s.current)}),r?null:p.jsx(ze.div,{...i,ref:a})});tD.displayName=eD;var O1="PopperContent",[MX,OX]=QN(O1),nD=m.forwardRef((t,e)=>{var J,re,te,ee,de,Te;const{__scopePopper:n,side:r="bottom",sideOffset:i=0,align:o="center",alignOffset:s=0,arrowPadding:a=0,avoidCollisions:l=!0,collisionBoundary:c=[],collisionPadding:u=0,sticky:f="partial",hideWhenDetached:h=!1,updatePositionStrategy:g="optimized",onPlaced:w,...v}=t,E=JN(O1,n),[x,y]=m.useState(null),b=lt(e,Ke=>y(Ke)),[P,R]=m.useState(null),D=B2(P),S=(D==null?void 0:D.width)??0,C=(D==null?void 0:D.height)??0,I=r+(o!=="center"?"-"+o:""),A=typeof u=="number"?u:{top:0,right:0,bottom:0,left:0,...u},M=Array.isArray(c)?c:[c],O=M.length>0,N={padding:A,boundary:M.filter(VX),altBoundary:O},{refs:F,floatingStyles:Y,placement:K,isPositioned:W,middlewareData:L}=UN({strategy:"fixed",placement:I,whileElementsMounted:(...Ke)=>FN(...Ke,{animationFrame:g==="always"}),elements:{reference:E.anchor},middleware:[BN({mainAxis:i+C,alignmentAxis:s}),l&&WN({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?zN():void 0,...N}),l&&HN({...N}),qN({...N,apply:({elements:Ke,rects:st,availableWidth:Lt,availableHeight:tr})=>{const{width:Er,height:Cl}=st.reference,Jr=Ke.floating.style;Jr.setProperty("--radix-popper-available-width",`${Lt}px`),Jr.setProperty("--radix-popper-available-height",`${tr}px`),Jr.setProperty("--radix-popper-anchor-width",`${Er}px`),Jr.setProperty("--radix-popper-anchor-height",`${Cl}px`)}}),P&&YN({element:P,padding:a}),jX({arrowWidth:S,arrowHeight:C}),h&&GN({strategy:"referenceHidden",...N})]}),[j,U]=oD(K),z=Ht(w);Hr(()=>{W&&(z==null||z())},[W,z]);const B=(J=L.arrow)==null?void 0:J.x,q=(re=L.arrow)==null?void 0:re.y,Z=((te=L.arrow)==null?void 0:te.centerOffset)!==0,[se,ye]=m.useState();return Hr(()=>{x&&ye(window.getComputedStyle(x).zIndex)},[x]),p.jsx("div",{ref:F.setFloating,"data-radix-popper-content-wrapper":"",style:{...Y,transform:W?Y.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:se,"--radix-popper-transform-origin":[(ee=L.transformOrigin)==null?void 0:ee.x,(de=L.transformOrigin)==null?void 0:de.y].join(" "),...((Te=L.hide)==null?void 0:Te.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:p.jsx(MX,{scope:n,placedSide:j,onArrowChange:R,arrowX:B,arrowY:q,shouldHideArrow:Z,children:p.jsx(ze.div,{"data-side":j,"data-align":U,...v,ref:b,style:{...v.style,animation:W?void 0:"none"}})})})});nD.displayName=O1;var rD="PopperArrow",LX={top:"bottom",right:"left",bottom:"top",left:"right"},iD=m.forwardRef(function(e,n){const{__scopePopper:r,...i}=e,o=OX(rD,r),s=LX[o.placedSide];return p.jsx("span",{ref:o.onArrowChange,style:{position:"absolute",left:o.arrowX,top:o.arrowY,[s]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[o.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[o.placedSide],visibility:o.shouldHideArrow?"hidden":void 0},children:p.jsx(NX,{...i,ref:n,style:{...i.style,display:"block"}})})});iD.displayName=rD;function VX(t){return t!==null}var jX=t=>({name:"transformOrigin",options:t,fn(e){var E,x,y;const{placement:n,rects:r,middlewareData:i}=e,s=((E=i.arrow)==null?void 0:E.centerOffset)!==0,a=s?0:t.arrowWidth,l=s?0:t.arrowHeight,[c,u]=oD(n),f={start:"0%",center:"50%",end:"100%"}[u],h=(((x=i.arrow)==null?void 0:x.x)??0)+a/2,g=(((y=i.arrow)==null?void 0:y.y)??0)+l/2;let w="",v="";return c==="bottom"?(w=s?f:`${h}px`,v=`${-l}px`):c==="top"?(w=s?f:`${h}px`,v=`${r.floating.height+l}px`):c==="right"?(w=`${-l}px`,v=s?f:`${g}px`):c==="left"&&(w=`${r.floating.width+l}px`,v=s?f:`${g}px`),{data:{x:w,y:v}}}});function oD(t){const[e,n="center"]=t.split("-");return[e,n]}var FX=ZN,sD=tD,$X=nD,UX=iD,BX="Portal",Hp=m.forwardRef((t,e)=>{var a;const{container:n,...r}=t,[i,o]=m.useState(!1);Hr(()=>o(!0),[]);const s=n||i&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return s?xI.createPortal(p.jsx(ze.div,{...r,ref:e}),s):null});Hp.displayName=BX;var WX=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},zs=new WeakMap,Md=new WeakMap,Od={},Ng=0,aD=function(t){return t&&(t.host||aD(t.parentNode))},zX=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=aD(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},HX=function(t,e,n,r){var i=zX(e,Array.isArray(t)?t:[t]);Od[n]||(Od[n]=new WeakMap);var o=Od[n],s=[],a=new Set,l=new Set(i),c=function(f){!f||a.has(f)||(a.add(f),c(f.parentNode))};i.forEach(c);var u=function(f){!f||l.has(f)||Array.prototype.forEach.call(f.children,function(h){if(a.has(h))u(h);else try{var g=h.getAttribute(r),w=g!==null&&g!=="false",v=(zs.get(h)||0)+1,E=(o.get(h)||0)+1;zs.set(h,v),o.set(h,E),s.push(h),v===1&&w&&Md.set(h,!0),E===1&&h.setAttribute(n,"true"),w||h.setAttribute(r,"true")}catch(x){console.error("aria-hidden: cannot operate on ",h,x)}})};return u(e),a.clear(),Ng++,function(){s.forEach(function(f){var h=zs.get(f)-1,g=o.get(f)-1;zs.set(f,h),o.set(f,g),h||(Md.has(f)||f.removeAttribute(r),Md.delete(f)),g||f.removeAttribute(n)}),Ng--,Ng||(zs=new WeakMap,zs=new WeakMap,Md=new WeakMap,Od={})}},L1=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),i=e||WX(t);return i?(r.push.apply(r,Array.from(i.querySelectorAll("[aria-live], script"))),HX(r,i,n,"aria-hidden")):function(){return null}},sn=function(){return sn=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},sn.apply(this,arguments)};function V1(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function lD(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,o;r<i;r++)(o||!(r in e))&&(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return t.concat(o||Array.prototype.slice.call(e))}var Ac="right-scroll-bar-position",kc="width-before-scroll-bar",qX="with-scroll-bars-hidden",GX="--removed-body-scroll-bar-size";function Dg(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function YX(t,e){var n=m.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var i=n.value;i!==r&&(n.value=r,n.callback(r,i))}}}})[0];return n.callback=e,n.facade}var KX=typeof window<"u"?m.useLayoutEffect:m.useEffect,kC=new WeakMap;function cD(t,e){var n=YX(e||null,function(r){return t.forEach(function(i){return Dg(i,r)})});return KX(function(){var r=kC.get(n);if(r){var i=new Set(r),o=new Set(t),s=n.current;i.forEach(function(a){o.has(a)||Dg(a,null)}),o.forEach(function(a){i.has(a)||Dg(a,s)})}kC.set(n,t)},[t]),n}function QX(t){return t}function XX(t,e){e===void 0&&(e=QX);var n=[],r=!1,i={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(o){var s=e(o,r);return n.push(s),function(){n=n.filter(function(a){return a!==s})}},assignSyncMedium:function(o){for(r=!0;n.length;){var s=n;n=[],s.forEach(o)}n={push:function(a){return o(a)},filter:function(){return n}}},assignMedium:function(o){r=!0;var s=[];if(n.length){var a=n;n=[],a.forEach(o),s=n}var l=function(){var u=s;s=[],u.forEach(o)},c=function(){return Promise.resolve().then(l)};c(),n={push:function(u){s.push(u),c()},filter:function(u){return s=s.filter(u),n}}}};return i}function uD(t){t===void 0&&(t={});var e=XX(null);return e.options=sn({async:!0,ssr:!1},t),e}var dD=function(t){var e=t.sideCar,n=V1(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return m.createElement(r,sn({},n))};dD.isSideCarExport=!0;function fD(t,e){return t.useMedium(e),dD}var hD=uD(),Mg=function(){},qp=m.forwardRef(function(t,e){var n=m.useRef(null),r=m.useState({onScrollCapture:Mg,onWheelCapture:Mg,onTouchMoveCapture:Mg}),i=r[0],o=r[1],s=t.forwardProps,a=t.children,l=t.className,c=t.removeScrollBar,u=t.enabled,f=t.shards,h=t.sideCar,g=t.noRelative,w=t.noIsolation,v=t.inert,E=t.allowPinchZoom,x=t.as,y=x===void 0?"div":x,b=t.gapMode,P=V1(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),R=h,D=cD([n,e]),S=sn(sn({},P),i);return m.createElement(m.Fragment,null,u&&m.createElement(R,{sideCar:hD,removeScrollBar:c,shards:f,noRelative:g,noIsolation:w,inert:v,setCallbacks:o,allowPinchZoom:!!E,lockRef:n,gapMode:b}),s?m.cloneElement(m.Children.only(a),sn(sn({},S),{ref:D})):m.createElement(y,sn({},S,{className:l,ref:D}),a))});qp.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};qp.classNames={fullWidth:kc,zeroRight:Ac};var RC,JX=function(){if(RC)return RC;if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function ZX(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=JX();return e&&t.setAttribute("nonce",e),t}function eJ(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function tJ(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var nJ=function(){var t=0,e=null;return{add:function(n){t==0&&(e=ZX())&&(eJ(e,n),tJ(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},rJ=function(){var t=nJ();return function(e,n){m.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},j1=function(){var t=rJ(),e=function(n){var r=n.styles,i=n.dynamic;return t(r,i),null};return e},iJ={left:0,top:0,right:0,gap:0},Og=function(t){return parseInt(t||"",10)||0},oJ=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],i=e[t==="padding"?"paddingRight":"marginRight"];return[Og(n),Og(r),Og(i)]},sJ=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return iJ;var e=oJ(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},aJ=j1(),Ma="data-scroll-locked",lJ=function(t,e,n,r){var i=t.left,o=t.top,s=t.right,a=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(qX,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(a,"px ").concat(r,`;
  }
  body[`).concat(Ma,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(o,`px;
    padding-right: `).concat(s,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(a,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Ac,` {
    right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(kc,` {
    margin-right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(Ac," .").concat(Ac,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(kc," .").concat(kc,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Ma,`] {
    `).concat(GX,": ").concat(a,`px;
  }
`)},NC=function(){var t=parseInt(document.body.getAttribute(Ma)||"0",10);return isFinite(t)?t:0},cJ=function(){m.useEffect(function(){return document.body.setAttribute(Ma,(NC()+1).toString()),function(){var t=NC()-1;t<=0?document.body.removeAttribute(Ma):document.body.setAttribute(Ma,t.toString())}},[])},pD=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,i=r===void 0?"margin":r;cJ();var o=m.useMemo(function(){return sJ(i)},[i]);return m.createElement(aJ,{styles:lJ(o,!e,i,n?"":"!important")})},Fy=!1;if(typeof window<"u")try{var Ld=Object.defineProperty({},"passive",{get:function(){return Fy=!0,!0}});window.addEventListener("test",Ld,Ld),window.removeEventListener("test",Ld,Ld)}catch{Fy=!1}var Hs=Fy?{passive:!1}:!1,uJ=function(t){return t.tagName==="TEXTAREA"},mD=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!uJ(t)&&n[e]==="visible")},dJ=function(t){return mD(t,"overflowY")},fJ=function(t){return mD(t,"overflowX")},DC=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var i=gD(t,r);if(i){var o=vD(t,r),s=o[1],a=o[2];if(s>a)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},hJ=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},pJ=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},gD=function(t,e){return t==="v"?dJ(e):fJ(e)},vD=function(t,e){return t==="v"?hJ(e):pJ(e)},mJ=function(t,e){return t==="h"&&e==="rtl"?-1:1},gJ=function(t,e,n,r,i){var o=mJ(t,window.getComputedStyle(e).direction),s=o*r,a=n.target,l=e.contains(a),c=!1,u=s>0,f=0,h=0;do{var g=vD(t,a),w=g[0],v=g[1],E=g[2],x=v-E-o*w;(w||x)&&gD(t,a)&&(f+=x,h+=w),a=a.parentNode.host||a.parentNode}while(!l&&a!==document.body||l&&(e.contains(a)||e===a));return(u&&(i&&Math.abs(f)<1||!i&&s>f)||!u&&(i&&Math.abs(h)<1||!i&&-s>h))&&(c=!0),c},Vd=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},MC=function(t){return[t.deltaX,t.deltaY]},OC=function(t){return t&&"current"in t?t.current:t},vJ=function(t,e){return t[0]===e[0]&&t[1]===e[1]},yJ=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},wJ=0,qs=[];function _J(t){var e=m.useRef([]),n=m.useRef([0,0]),r=m.useRef(),i=m.useState(wJ++)[0],o=m.useState(j1)[0],s=m.useRef(t);m.useEffect(function(){s.current=t},[t]),m.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(i));var v=lD([t.lockRef.current],(t.shards||[]).map(OC),!0).filter(Boolean);return v.forEach(function(E){return E.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),v.forEach(function(E){return E.classList.remove("allow-interactivity-".concat(i))})}}},[t.inert,t.lockRef.current,t.shards]);var a=m.useCallback(function(v,E){if("touches"in v&&v.touches.length===2||v.type==="wheel"&&v.ctrlKey)return!s.current.allowPinchZoom;var x=Vd(v),y=n.current,b="deltaX"in v?v.deltaX:y[0]-x[0],P="deltaY"in v?v.deltaY:y[1]-x[1],R,D=v.target,S=Math.abs(b)>Math.abs(P)?"h":"v";if("touches"in v&&S==="h"&&D.type==="range")return!1;var C=DC(S,D);if(!C)return!0;if(C?R=S:(R=S==="v"?"h":"v",C=DC(S,D)),!C)return!1;if(!r.current&&"changedTouches"in v&&(b||P)&&(r.current=R),!R)return!0;var I=r.current||R;return gJ(I,E,v,I==="h"?b:P,!0)},[]),l=m.useCallback(function(v){var E=v;if(!(!qs.length||qs[qs.length-1]!==o)){var x="deltaY"in E?MC(E):Vd(E),y=e.current.filter(function(R){return R.name===E.type&&(R.target===E.target||E.target===R.shadowParent)&&vJ(R.delta,x)})[0];if(y&&y.should){E.cancelable&&E.preventDefault();return}if(!y){var b=(s.current.shards||[]).map(OC).filter(Boolean).filter(function(R){return R.contains(E.target)}),P=b.length>0?a(E,b[0]):!s.current.noIsolation;P&&E.cancelable&&E.preventDefault()}}},[]),c=m.useCallback(function(v,E,x,y){var b={name:v,delta:E,target:x,should:y,shadowParent:xJ(x)};e.current.push(b),setTimeout(function(){e.current=e.current.filter(function(P){return P!==b})},1)},[]),u=m.useCallback(function(v){n.current=Vd(v),r.current=void 0},[]),f=m.useCallback(function(v){c(v.type,MC(v),v.target,a(v,t.lockRef.current))},[]),h=m.useCallback(function(v){c(v.type,Vd(v),v.target,a(v,t.lockRef.current))},[]);m.useEffect(function(){return qs.push(o),t.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:h}),document.addEventListener("wheel",l,Hs),document.addEventListener("touchmove",l,Hs),document.addEventListener("touchstart",u,Hs),function(){qs=qs.filter(function(v){return v!==o}),document.removeEventListener("wheel",l,Hs),document.removeEventListener("touchmove",l,Hs),document.removeEventListener("touchstart",u,Hs)}},[]);var g=t.removeScrollBar,w=t.inert;return m.createElement(m.Fragment,null,w?m.createElement(o,{styles:yJ(i)}):null,g?m.createElement(pD,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function xJ(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const EJ=fD(hD,_J);var yD=m.forwardRef(function(t,e){return m.createElement(qp,sn({},t,{ref:e,sideCar:EJ}))});yD.classNames=qp.classNames;const wD=yD;var Gp="Popover",[_D,mne]=Ls(Gp,[XN]),Vu=XN(),[bJ,Ho]=_D(Gp),xD=t=>{const{__scopePopover:e,children:n,open:r,defaultOpen:i,onOpenChange:o,modal:s=!1}=t,a=Vu(e),l=m.useRef(null),[c,u]=m.useState(!1),[f,h]=jp({prop:r,defaultProp:i??!1,onChange:o,caller:Gp});return p.jsx(FX,{...a,children:p.jsx(bJ,{scope:e,contentId:mf(),triggerRef:l,open:f,onOpenChange:h,onOpenToggle:m.useCallback(()=>h(g=>!g),[h]),hasCustomAnchor:c,onCustomAnchorAdd:m.useCallback(()=>u(!0),[]),onCustomAnchorRemove:m.useCallback(()=>u(!1),[]),modal:s,children:n})})};xD.displayName=Gp;var ED="PopoverAnchor",TJ=m.forwardRef((t,e)=>{const{__scopePopover:n,...r}=t,i=Ho(ED,n),o=Vu(n),{onCustomAnchorAdd:s,onCustomAnchorRemove:a}=i;return m.useEffect(()=>(s(),()=>a()),[s,a]),p.jsx(sD,{...o,...r,ref:e})});TJ.displayName=ED;var bD="PopoverTrigger",TD=m.forwardRef((t,e)=>{const{__scopePopover:n,...r}=t,i=Ho(bD,n),o=Vu(n),s=lt(e,i.triggerRef),a=p.jsx(ze.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":AD(i.open),...r,ref:s,onClick:$e(t.onClick,i.onOpenToggle)});return i.hasCustomAnchor?a:p.jsx(sD,{asChild:!0,...o,children:a})});TD.displayName=bD;var F1="PopoverPortal",[CJ,SJ]=_D(F1,{forceMount:void 0}),CD=t=>{const{__scopePopover:e,forceMount:n,children:r,container:i}=t,o=Ho(F1,e);return p.jsx(CJ,{scope:e,forceMount:n,children:p.jsx(Zn,{present:n||o.open,children:p.jsx(Hp,{asChild:!0,container:i,children:r})})})};CD.displayName=F1;var il="PopoverContent",SD=m.forwardRef((t,e)=>{const n=SJ(il,t.__scopePopover),{forceMount:r=n.forceMount,...i}=t,o=Ho(il,t.__scopePopover);return p.jsx(Zn,{present:r||o.open,children:o.modal?p.jsx(IJ,{...i,ref:e}):p.jsx(AJ,{...i,ref:e})})});SD.displayName=il;var PJ=Xa("PopoverContent.RemoveScroll"),IJ=m.forwardRef((t,e)=>{const n=Ho(il,t.__scopePopover),r=m.useRef(null),i=lt(e,r),o=m.useRef(!1);return m.useEffect(()=>{const s=r.current;if(s)return L1(s)},[]),p.jsx(wD,{as:PJ,allowPinchZoom:!0,children:p.jsx(PD,{...t,ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:$e(t.onCloseAutoFocus,s=>{var a;s.preventDefault(),o.current||(a=n.triggerRef.current)==null||a.focus()}),onPointerDownOutside:$e(t.onPointerDownOutside,s=>{const a=s.detail.originalEvent,l=a.button===0&&a.ctrlKey===!0,c=a.button===2||l;o.current=c},{checkForDefaultPrevented:!1}),onFocusOutside:$e(t.onFocusOutside,s=>s.preventDefault(),{checkForDefaultPrevented:!1})})})}),AJ=m.forwardRef((t,e)=>{const n=Ho(il,t.__scopePopover),r=m.useRef(!1),i=m.useRef(!1);return p.jsx(PD,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{var s,a;(s=t.onCloseAutoFocus)==null||s.call(t,o),o.defaultPrevented||(r.current||(a=n.triggerRef.current)==null||a.focus(),o.preventDefault()),r.current=!1,i.current=!1},onInteractOutside:o=>{var l,c;(l=t.onInteractOutside)==null||l.call(t,o),o.defaultPrevented||(r.current=!0,o.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const s=o.target;((c=n.triggerRef.current)==null?void 0:c.contains(s))&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&i.current&&o.preventDefault()}})}),PD=m.forwardRef((t,e)=>{const{__scopePopover:n,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:o,disableOutsidePointerEvents:s,onEscapeKeyDown:a,onPointerDownOutside:l,onFocusOutside:c,onInteractOutside:u,...f}=t,h=Ho(il,n),g=Vu(n);return IN(),p.jsx(S1,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:o,children:p.jsx(Up,{asChild:!0,disableOutsidePointerEvents:s,onInteractOutside:u,onEscapeKeyDown:a,onPointerDownOutside:l,onFocusOutside:c,onDismiss:()=>h.onOpenChange(!1),children:p.jsx($X,{"data-state":AD(h.open),role:"dialog",id:h.contentId,...g,...f,ref:e,style:{...f.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),ID="PopoverClose",kJ=m.forwardRef((t,e)=>{const{__scopePopover:n,...r}=t,i=Ho(ID,n);return p.jsx(ze.button,{type:"button",...r,ref:e,onClick:$e(t.onClick,()=>i.onOpenChange(!1))})});kJ.displayName=ID;var RJ="PopoverArrow",NJ=m.forwardRef((t,e)=>{const{__scopePopover:n,...r}=t,i=Vu(n);return p.jsx(UX,{...i,...r,ref:e})});NJ.displayName=RJ;function AD(t){return t?"open":"closed"}var DJ=xD,MJ=TD,OJ=CD,kD=SD;const LJ=DJ,VJ=MJ,RD=_e.forwardRef(({className:t,align:e="center",sideOffset:n=4,...r},i)=>p.jsx(OJ,{children:p.jsx(kD,{ref:i,align:e,sideOffset:n,className:Ue("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...r})}));RD.displayName=kD.displayName;function Ye(){return Ye=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ye.apply(null,arguments)}function LC(t,[e,n]){return Math.min(n,Math.max(e,t))}function mn(t,e,{checkForDefaultPrevented:n=!0}={}){return function(i){if(t==null||t(i),n===!1||!i.defaultPrevented)return e==null?void 0:e(i)}}function $1(t,e=[]){let n=[];function r(o,s){const a=m.createContext(s),l=n.length;n=[...n,s];function c(f){const{scope:h,children:g,...w}=f,v=(h==null?void 0:h[t][l])||a,E=m.useMemo(()=>w,Object.values(w));return m.createElement(v.Provider,{value:E},g)}function u(f,h){const g=(h==null?void 0:h[t][l])||a,w=m.useContext(g);if(w)return w;if(s!==void 0)return s;throw new Error(`\`${f}\` must be used within \`${o}\``)}return c.displayName=o+"Provider",[c,u]}const i=()=>{const o=n.map(s=>m.createContext(s));return function(a){const l=(a==null?void 0:a[t])||o;return m.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return i.scopeName=t,[r,jJ(i,...e)]}function jJ(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(o){const s=r.reduce((a,{useScope:l,scopeName:c})=>{const f=l(o)[`__scope${c}`];return{...a,...f}},{});return m.useMemo(()=>({[`__scope${e.scopeName}`]:s}),[s])}};return n.scopeName=e.scopeName,n}function FJ(t,e){typeof t=="function"?t(e):t!=null&&(t.current=e)}function ND(...t){return e=>t.forEach(n=>FJ(n,e))}function An(...t){return m.useCallback(ND(...t),t)}const fu=m.forwardRef((t,e)=>{const{children:n,...r}=t,i=m.Children.toArray(n),o=i.find(UJ);if(o){const s=o.props.children,a=i.map(l=>l===o?m.Children.count(s)>1?m.Children.only(null):m.isValidElement(s)?s.props.children:null:l);return m.createElement($y,Ye({},r,{ref:e}),m.isValidElement(s)?m.cloneElement(s,void 0,a):null)}return m.createElement($y,Ye({},r,{ref:e}),n)});fu.displayName="Slot";const $y=m.forwardRef((t,e)=>{const{children:n,...r}=t;return m.isValidElement(n)?m.cloneElement(n,{...BJ(r,n.props),ref:e?ND(e,n.ref):n.ref}):m.Children.count(n)>1?m.Children.only(null):null});$y.displayName="SlotClone";const $J=({children:t})=>m.createElement(m.Fragment,null,t);function UJ(t){return m.isValidElement(t)&&t.type===$J}function BJ(t,e){const n={...e};for(const r in e){const i=t[r],o=e[r];/^on[A-Z]/.test(r)?i&&o?n[r]=(...a)=>{o(...a),i(...a)}:i&&(n[r]=i):r==="style"?n[r]={...i,...o}:r==="className"&&(n[r]=[i,o].filter(Boolean).join(" "))}return{...t,...n}}function WJ(t){const e=t+"CollectionProvider",[n,r]=$1(e),[i,o]=n(e,{collectionRef:{current:null},itemMap:new Map}),s=g=>{const{scope:w,children:v}=g,E=_e.useRef(null),x=_e.useRef(new Map).current;return _e.createElement(i,{scope:w,itemMap:x,collectionRef:E},v)},a=t+"CollectionSlot",l=_e.forwardRef((g,w)=>{const{scope:v,children:E}=g,x=o(a,v),y=An(w,x.collectionRef);return _e.createElement(fu,{ref:y},E)}),c=t+"CollectionItemSlot",u="data-radix-collection-item",f=_e.forwardRef((g,w)=>{const{scope:v,children:E,...x}=g,y=_e.useRef(null),b=An(w,y),P=o(c,v);return _e.useEffect(()=>(P.itemMap.set(y,{ref:y,...x}),()=>void P.itemMap.delete(y))),_e.createElement(fu,{[u]:"",ref:b},E)});function h(g){const w=o(t+"CollectionConsumer",g);return _e.useCallback(()=>{const E=w.collectionRef.current;if(!E)return[];const x=Array.from(E.querySelectorAll(`[${u}]`));return Array.from(w.itemMap.values()).sort((P,R)=>x.indexOf(P.ref.current)-x.indexOf(R.ref.current))},[w.collectionRef,w.itemMap])}return[{Provider:s,Slot:l,ItemSlot:f},h,r]}const zJ=m.createContext(void 0);function HJ(t){const e=m.useContext(zJ);return t||e||"ltr"}const qJ=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],cn=qJ.reduce((t,e)=>{const n=m.forwardRef((r,i)=>{const{asChild:o,...s}=r,a=o?fu:e;return m.useEffect(()=>{window[Symbol.for("radix-ui")]=!0},[]),m.createElement(a,Ye({},s,{ref:i}))});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{});function GJ(t,e){t&&$o.flushSync(()=>t.dispatchEvent(e))}function Ai(t){const e=m.useRef(t);return m.useEffect(()=>{e.current=t}),m.useMemo(()=>(...n)=>{var r;return(r=e.current)===null||r===void 0?void 0:r.call(e,...n)},[])}function YJ(t,e=globalThis==null?void 0:globalThis.document){const n=Ai(t);m.useEffect(()=>{const r=i=>{i.key==="Escape"&&n(i)};return e.addEventListener("keydown",r),()=>e.removeEventListener("keydown",r)},[n,e])}const Uy="dismissableLayer.update",KJ="dismissableLayer.pointerDownOutside",QJ="dismissableLayer.focusOutside";let VC;const XJ=m.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),JJ=m.forwardRef((t,e)=>{var n;const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:s,onInteractOutside:a,onDismiss:l,...c}=t,u=m.useContext(XJ),[f,h]=m.useState(null),g=(n=f==null?void 0:f.ownerDocument)!==null&&n!==void 0?n:globalThis==null?void 0:globalThis.document,[,w]=m.useState({}),v=An(e,C=>h(C)),E=Array.from(u.layers),[x]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),y=E.indexOf(x),b=f?E.indexOf(f):-1,P=u.layersWithOutsidePointerEventsDisabled.size>0,R=b>=y,D=ZJ(C=>{const I=C.target,A=[...u.branches].some(M=>M.contains(I));!R||A||(o==null||o(C),a==null||a(C),C.defaultPrevented||l==null||l())},g),S=eZ(C=>{const I=C.target;[...u.branches].some(M=>M.contains(I))||(s==null||s(C),a==null||a(C),C.defaultPrevented||l==null||l())},g);return YJ(C=>{b===u.layers.size-1&&(i==null||i(C),!C.defaultPrevented&&l&&(C.preventDefault(),l()))},g),m.useEffect(()=>{if(f)return r&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(VC=g.body.style.pointerEvents,g.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(f)),u.layers.add(f),jC(),()=>{r&&u.layersWithOutsidePointerEventsDisabled.size===1&&(g.body.style.pointerEvents=VC)}},[f,g,r,u]),m.useEffect(()=>()=>{f&&(u.layers.delete(f),u.layersWithOutsidePointerEventsDisabled.delete(f),jC())},[f,u]),m.useEffect(()=>{const C=()=>w({});return document.addEventListener(Uy,C),()=>document.removeEventListener(Uy,C)},[]),m.createElement(cn.div,Ye({},c,{ref:v,style:{pointerEvents:P?R?"auto":"none":void 0,...t.style},onFocusCapture:mn(t.onFocusCapture,S.onFocusCapture),onBlurCapture:mn(t.onBlurCapture,S.onBlurCapture),onPointerDownCapture:mn(t.onPointerDownCapture,D.onPointerDownCapture)}))});function ZJ(t,e=globalThis==null?void 0:globalThis.document){const n=Ai(t),r=m.useRef(!1),i=m.useRef(()=>{});return m.useEffect(()=>{const o=a=>{if(a.target&&!r.current){let u=function(){DD(KJ,n,c,{discrete:!0})};var l=u;const c={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=u,e.addEventListener("click",i.current,{once:!0})):u()}else e.removeEventListener("click",i.current);r.current=!1},s=window.setTimeout(()=>{e.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(s),e.removeEventListener("pointerdown",o),e.removeEventListener("click",i.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function eZ(t,e=globalThis==null?void 0:globalThis.document){const n=Ai(t),r=m.useRef(!1);return m.useEffect(()=>{const i=o=>{o.target&&!r.current&&DD(QJ,n,{originalEvent:o},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function jC(){const t=new CustomEvent(Uy);document.dispatchEvent(t)}function DD(t,e,n,{discrete:r}){const i=n.originalEvent.target,o=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&i.addEventListener(t,e,{once:!0}),r?GJ(i,o):i.dispatchEvent(o)}let Lg=0;function tZ(){m.useEffect(()=>{var t,e;const n=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",(t=n[0])!==null&&t!==void 0?t:FC()),document.body.insertAdjacentElement("beforeend",(e=n[1])!==null&&e!==void 0?e:FC()),Lg++,()=>{Lg===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(r=>r.remove()),Lg--}},[])}function FC(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.cssText="outline: none; opacity: 0; position: fixed; pointer-events: none",t}const Vg="focusScope.autoFocusOnMount",jg="focusScope.autoFocusOnUnmount",$C={bubbles:!1,cancelable:!0},nZ=m.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:i,onUnmountAutoFocus:o,...s}=t,[a,l]=m.useState(null),c=Ai(i),u=Ai(o),f=m.useRef(null),h=An(e,v=>l(v)),g=m.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;m.useEffect(()=>{if(r){let y=function(D){if(g.paused||!a)return;const S=D.target;a.contains(S)?f.current=S:qi(f.current,{select:!0})},b=function(D){if(g.paused||!a)return;const S=D.relatedTarget;S!==null&&(a.contains(S)||qi(f.current,{select:!0}))},P=function(D){if(document.activeElement===document.body)for(const C of D)C.removedNodes.length>0&&qi(a)};var v=y,E=b,x=P;document.addEventListener("focusin",y),document.addEventListener("focusout",b);const R=new MutationObserver(P);return a&&R.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",y),document.removeEventListener("focusout",b),R.disconnect()}}},[r,a,g.paused]),m.useEffect(()=>{if(a){BC.add(g);const v=document.activeElement;if(!a.contains(v)){const x=new CustomEvent(Vg,$C);a.addEventListener(Vg,c),a.dispatchEvent(x),x.defaultPrevented||(rZ(lZ(MD(a)),{select:!0}),document.activeElement===v&&qi(a))}return()=>{a.removeEventListener(Vg,c),setTimeout(()=>{const x=new CustomEvent(jg,$C);a.addEventListener(jg,u),a.dispatchEvent(x),x.defaultPrevented||qi(v??document.body,{select:!0}),a.removeEventListener(jg,u),BC.remove(g)},0)}}},[a,c,u,g]);const w=m.useCallback(v=>{if(!n&&!r||g.paused)return;const E=v.key==="Tab"&&!v.altKey&&!v.ctrlKey&&!v.metaKey,x=document.activeElement;if(E&&x){const y=v.currentTarget,[b,P]=iZ(y);b&&P?!v.shiftKey&&x===P?(v.preventDefault(),n&&qi(b,{select:!0})):v.shiftKey&&x===b&&(v.preventDefault(),n&&qi(P,{select:!0})):x===y&&v.preventDefault()}},[n,r,g.paused]);return m.createElement(cn.div,Ye({tabIndex:-1},s,{ref:h,onKeyDown:w}))});function rZ(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(qi(r,{select:e}),document.activeElement!==n)return}function iZ(t){const e=MD(t),n=UC(e,t),r=UC(e.reverse(),t);return[n,r]}function MD(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function UC(t,e){for(const n of t)if(!oZ(n,{upTo:e}))return n}function oZ(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function sZ(t){return t instanceof HTMLInputElement&&"select"in t}function qi(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&sZ(t)&&e&&t.select()}}const BC=aZ();function aZ(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=WC(t,e),t.unshift(e)},remove(e){var n;t=WC(t,e),(n=t[0])===null||n===void 0||n.resume()}}}function WC(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function lZ(t){return t.filter(e=>e.tagName!=="A")}const ki=globalThis!=null&&globalThis.document?m.useLayoutEffect:()=>{},cZ=$h["useId".toString()]||(()=>{});let uZ=0;function OD(t){const[e,n]=m.useState(cZ());return ki(()=>{t||n(r=>r??String(uZ++))},[t]),t||(e?`radix-${e}`:"")}function dZ(t){const[e,n]=m.useState(void 0);return ki(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const o=i[0];let s,a;if("borderBoxSize"in o){const l=o.borderBoxSize,c=Array.isArray(l)?l[0]:l;s=c.inlineSize,a=c.blockSize}else s=t.offsetWidth,a=t.offsetHeight;n({width:s,height:a})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}const LD="Popper",[VD,jD]=$1(LD),[fZ,FD]=VD(LD),hZ=t=>{const{__scopePopper:e,children:n}=t,[r,i]=m.useState(null);return m.createElement(fZ,{scope:e,anchor:r,onAnchorChange:i},n)},pZ="PopperAnchor",mZ=m.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...i}=t,o=FD(pZ,n),s=m.useRef(null),a=An(e,s);return m.useEffect(()=>{o.onAnchorChange((r==null?void 0:r.current)||s.current)}),r?null:m.createElement(cn.div,Ye({},i,{ref:a}))}),$D="PopperContent",[gZ,gne]=VD($D),vZ=m.forwardRef((t,e)=>{var n,r,i,o,s,a,l,c;const{__scopePopper:u,side:f="bottom",sideOffset:h=0,align:g="center",alignOffset:w=0,arrowPadding:v=0,avoidCollisions:E=!0,collisionBoundary:x=[],collisionPadding:y=0,sticky:b="partial",hideWhenDetached:P=!1,updatePositionStrategy:R="optimized",onPlaced:D,...S}=t,C=FD($D,u),[I,A]=m.useState(null),M=An(e,Lt=>A(Lt)),[O,N]=m.useState(null),F=dZ(O),Y=(n=F==null?void 0:F.width)!==null&&n!==void 0?n:0,K=(r=F==null?void 0:F.height)!==null&&r!==void 0?r:0,W=f+(g!=="center"?"-"+g:""),L=typeof y=="number"?y:{top:0,right:0,bottom:0,left:0,...y},j=Array.isArray(x)?x:[x],U=j.length>0,z={padding:L,boundary:j.filter(yZ),altBoundary:U},{refs:B,floatingStyles:q,placement:Z,isPositioned:se,middlewareData:ye}=UN({strategy:"fixed",placement:W,whileElementsMounted:(...Lt)=>FN(...Lt,{animationFrame:R==="always"}),elements:{reference:C.anchor},middleware:[BN({mainAxis:h+K,alignmentAxis:w}),E&&WN({mainAxis:!0,crossAxis:!1,limiter:b==="partial"?zN():void 0,...z}),E&&HN({...z}),qN({...z,apply:({elements:Lt,rects:tr,availableWidth:Er,availableHeight:Cl})=>{const{width:Jr,height:$u}=tr.reference,Li=Lt.floating.style;Li.setProperty("--radix-popper-available-width",`${Er}px`),Li.setProperty("--radix-popper-available-height",`${Cl}px`),Li.setProperty("--radix-popper-anchor-width",`${Jr}px`),Li.setProperty("--radix-popper-anchor-height",`${$u}px`)}}),O&&YN({element:O,padding:v}),wZ({arrowWidth:Y,arrowHeight:K}),P&&GN({strategy:"referenceHidden",...z})]}),[J,re]=UD(Z),te=Ai(D);ki(()=>{se&&(te==null||te())},[se,te]);const ee=(i=ye.arrow)===null||i===void 0?void 0:i.x,de=(o=ye.arrow)===null||o===void 0?void 0:o.y,Te=((s=ye.arrow)===null||s===void 0?void 0:s.centerOffset)!==0,[Ke,st]=m.useState();return ki(()=>{I&&st(window.getComputedStyle(I).zIndex)},[I]),m.createElement("div",{ref:B.setFloating,"data-radix-popper-content-wrapper":"",style:{...q,transform:se?q.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Ke,"--radix-popper-transform-origin":[(a=ye.transformOrigin)===null||a===void 0?void 0:a.x,(l=ye.transformOrigin)===null||l===void 0?void 0:l.y].join(" ")},dir:t.dir},m.createElement(gZ,{scope:u,placedSide:J,onArrowChange:N,arrowX:ee,arrowY:de,shouldHideArrow:Te},m.createElement(cn.div,Ye({"data-side":J,"data-align":re},S,{ref:M,style:{...S.style,animation:se?void 0:"none",opacity:(c=ye.hide)!==null&&c!==void 0&&c.referenceHidden?0:void 0}}))))});function yZ(t){return t!==null}const wZ=t=>({name:"transformOrigin",options:t,fn(e){var n,r,i,o,s;const{placement:a,rects:l,middlewareData:c}=e,f=((n=c.arrow)===null||n===void 0?void 0:n.centerOffset)!==0,h=f?0:t.arrowWidth,g=f?0:t.arrowHeight,[w,v]=UD(a),E={start:"0%",center:"50%",end:"100%"}[v],x=((r=(i=c.arrow)===null||i===void 0?void 0:i.x)!==null&&r!==void 0?r:0)+h/2,y=((o=(s=c.arrow)===null||s===void 0?void 0:s.y)!==null&&o!==void 0?o:0)+g/2;let b="",P="";return w==="bottom"?(b=f?E:`${x}px`,P=`${-g}px`):w==="top"?(b=f?E:`${x}px`,P=`${l.floating.height+g}px`):w==="right"?(b=`${-g}px`,P=f?E:`${y}px`):w==="left"&&(b=`${l.floating.width+g}px`,P=f?E:`${y}px`),{data:{x:b,y:P}}}});function UD(t){const[e,n="center"]=t.split("-");return[e,n]}const _Z=hZ,xZ=mZ,EZ=vZ,bZ=m.forwardRef((t,e)=>{var n;const{container:r=globalThis==null||(n=globalThis.document)===null||n===void 0?void 0:n.body,...i}=t;return r?xI.createPortal(m.createElement(cn.div,Ye({},i,{ref:e})),r):null});function zC({prop:t,defaultProp:e,onChange:n=()=>{}}){const[r,i]=TZ({defaultProp:e,onChange:n}),o=t!==void 0,s=o?t:r,a=Ai(n),l=m.useCallback(c=>{if(o){const f=typeof c=="function"?c(t):c;f!==t&&a(f)}else i(c)},[o,t,i,a]);return[s,l]}function TZ({defaultProp:t,onChange:e}){const n=m.useState(t),[r]=n,i=m.useRef(r),o=Ai(e);return m.useEffect(()=>{i.current!==r&&(o(r),i.current=r)},[r,i,o]),n}function CZ(t){const e=m.useRef({value:t,previous:t});return m.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}const SZ=m.forwardRef((t,e)=>m.createElement(cn.span,Ye({},t,{ref:e,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...t.style}})));var BD=uD(),Fg=function(){},Yp=m.forwardRef(function(t,e){var n=m.useRef(null),r=m.useState({onScrollCapture:Fg,onWheelCapture:Fg,onTouchMoveCapture:Fg}),i=r[0],o=r[1],s=t.forwardProps,a=t.children,l=t.className,c=t.removeScrollBar,u=t.enabled,f=t.shards,h=t.sideCar,g=t.noIsolation,w=t.inert,v=t.allowPinchZoom,E=t.as,x=E===void 0?"div":E,y=V1(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as"]),b=h,P=cD([n,e]),R=sn(sn({},y),i);return m.createElement(m.Fragment,null,u&&m.createElement(b,{sideCar:BD,removeScrollBar:c,shards:f,noIsolation:g,inert:w,setCallbacks:o,allowPinchZoom:!!v,lockRef:n}),s?m.cloneElement(m.Children.only(a),sn(sn({},R),{ref:P})):m.createElement(x,sn({},R,{className:l,ref:P}),a))});Yp.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Yp.classNames={fullWidth:kc,zeroRight:Ac};var By=!1;if(typeof window<"u")try{var jd=Object.defineProperty({},"passive",{get:function(){return By=!0,!0}});window.addEventListener("test",jd,jd),window.removeEventListener("test",jd,jd)}catch{By=!1}var Gs=By?{passive:!1}:!1,PZ=function(t){return t.tagName==="TEXTAREA"},WD=function(t,e){var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!PZ(t)&&n[e]==="visible")},IZ=function(t){return WD(t,"overflowY")},AZ=function(t){return WD(t,"overflowX")},HC=function(t,e){var n=e;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var r=zD(t,n);if(r){var i=HD(t,n),o=i[1],s=i[2];if(o>s)return!0}n=n.parentNode}while(n&&n!==document.body);return!1},kZ=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},RZ=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},zD=function(t,e){return t==="v"?IZ(e):AZ(e)},HD=function(t,e){return t==="v"?kZ(e):RZ(e)},NZ=function(t,e){return t==="h"&&e==="rtl"?-1:1},DZ=function(t,e,n,r,i){var o=NZ(t,window.getComputedStyle(e).direction),s=o*r,a=n.target,l=e.contains(a),c=!1,u=s>0,f=0,h=0;do{var g=HD(t,a),w=g[0],v=g[1],E=g[2],x=v-E-o*w;(w||x)&&zD(t,a)&&(f+=x,h+=w),a=a.parentNode}while(!l&&a!==document.body||l&&(e.contains(a)||e===a));return(u&&(i&&f===0||!i&&s>f)||!u&&(i&&h===0||!i&&-s>h))&&(c=!0),c},Fd=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},qC=function(t){return[t.deltaX,t.deltaY]},GC=function(t){return t&&"current"in t?t.current:t},MZ=function(t,e){return t[0]===e[0]&&t[1]===e[1]},OZ=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},LZ=0,Ys=[];function VZ(t){var e=m.useRef([]),n=m.useRef([0,0]),r=m.useRef(),i=m.useState(LZ++)[0],o=m.useState(function(){return j1()})[0],s=m.useRef(t);m.useEffect(function(){s.current=t},[t]),m.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(i));var v=lD([t.lockRef.current],(t.shards||[]).map(GC),!0).filter(Boolean);return v.forEach(function(E){return E.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),v.forEach(function(E){return E.classList.remove("allow-interactivity-".concat(i))})}}},[t.inert,t.lockRef.current,t.shards]);var a=m.useCallback(function(v,E){if("touches"in v&&v.touches.length===2)return!s.current.allowPinchZoom;var x=Fd(v),y=n.current,b="deltaX"in v?v.deltaX:y[0]-x[0],P="deltaY"in v?v.deltaY:y[1]-x[1],R,D=v.target,S=Math.abs(b)>Math.abs(P)?"h":"v";if("touches"in v&&S==="h"&&D.type==="range")return!1;var C=HC(S,D);if(!C)return!0;if(C?R=S:(R=S==="v"?"h":"v",C=HC(S,D)),!C)return!1;if(!r.current&&"changedTouches"in v&&(b||P)&&(r.current=R),!R)return!0;var I=r.current||R;return DZ(I,E,v,I==="h"?b:P,!0)},[]),l=m.useCallback(function(v){var E=v;if(!(!Ys.length||Ys[Ys.length-1]!==o)){var x="deltaY"in E?qC(E):Fd(E),y=e.current.filter(function(R){return R.name===E.type&&R.target===E.target&&MZ(R.delta,x)})[0];if(y&&y.should){E.cancelable&&E.preventDefault();return}if(!y){var b=(s.current.shards||[]).map(GC).filter(Boolean).filter(function(R){return R.contains(E.target)}),P=b.length>0?a(E,b[0]):!s.current.noIsolation;P&&E.cancelable&&E.preventDefault()}}},[]),c=m.useCallback(function(v,E,x,y){var b={name:v,delta:E,target:x,should:y};e.current.push(b),setTimeout(function(){e.current=e.current.filter(function(P){return P!==b})},1)},[]),u=m.useCallback(function(v){n.current=Fd(v),r.current=void 0},[]),f=m.useCallback(function(v){c(v.type,qC(v),v.target,a(v,t.lockRef.current))},[]),h=m.useCallback(function(v){c(v.type,Fd(v),v.target,a(v,t.lockRef.current))},[]);m.useEffect(function(){return Ys.push(o),t.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:h}),document.addEventListener("wheel",l,Gs),document.addEventListener("touchmove",l,Gs),document.addEventListener("touchstart",u,Gs),function(){Ys=Ys.filter(function(v){return v!==o}),document.removeEventListener("wheel",l,Gs),document.removeEventListener("touchmove",l,Gs),document.removeEventListener("touchstart",u,Gs)}},[]);var g=t.removeScrollBar,w=t.inert;return m.createElement(m.Fragment,null,w?m.createElement(o,{styles:OZ(i)}):null,g?m.createElement(pD,{gapMode:"margin"}):null)}const jZ=fD(BD,VZ);var qD=m.forwardRef(function(t,e){return m.createElement(Yp,sn({},t,{ref:e,sideCar:jZ}))});qD.classNames=Yp.classNames;const FZ=qD,$Z=[" ","Enter","ArrowUp","ArrowDown"],UZ=[" ","Enter"],Kp="Select",[Qp,U1,BZ]=WJ(Kp),[Tl,vne]=$1(Kp,[BZ,jD]),B1=jD(),[WZ,Vs]=Tl(Kp),[zZ,HZ]=Tl(Kp),qZ=t=>{const{__scopeSelect:e,children:n,open:r,defaultOpen:i,onOpenChange:o,value:s,defaultValue:a,onValueChange:l,dir:c,name:u,autoComplete:f,disabled:h,required:g}=t,w=B1(e),[v,E]=m.useState(null),[x,y]=m.useState(null),[b,P]=m.useState(!1),R=HJ(c),[D=!1,S]=zC({prop:r,defaultProp:i,onChange:o}),[C,I]=zC({prop:s,defaultProp:a,onChange:l}),A=m.useRef(null),M=v?!!v.closest("form"):!0,[O,N]=m.useState(new Set),F=Array.from(O).map(Y=>Y.props.value).join(";");return m.createElement(_Z,w,m.createElement(WZ,{required:g,scope:e,trigger:v,onTriggerChange:E,valueNode:x,onValueNodeChange:y,valueNodeHasChildren:b,onValueNodeHasChildrenChange:P,contentId:OD(),value:C,onValueChange:I,open:D,onOpenChange:S,dir:R,triggerPointerDownPosRef:A,disabled:h},m.createElement(Qp.Provider,{scope:e},m.createElement(zZ,{scope:t.__scopeSelect,onNativeOptionAdd:m.useCallback(Y=>{N(K=>new Set(K).add(Y))},[]),onNativeOptionRemove:m.useCallback(Y=>{N(K=>{const W=new Set(K);return W.delete(Y),W})},[])},n)),M?m.createElement(QD,{key:F,"aria-hidden":!0,required:g,tabIndex:-1,name:u,autoComplete:f,value:C,onChange:Y=>I(Y.target.value),disabled:h},C===void 0?m.createElement("option",{value:""}):null,Array.from(O)):null))},GZ="SelectTrigger",YZ=m.forwardRef((t,e)=>{const{__scopeSelect:n,disabled:r=!1,...i}=t,o=B1(n),s=Vs(GZ,n),a=s.disabled||r,l=An(e,s.onTriggerChange),c=U1(n),[u,f,h]=XD(w=>{const v=c().filter(y=>!y.disabled),E=v.find(y=>y.value===s.value),x=JD(v,w,E);x!==void 0&&s.onValueChange(x.value)}),g=()=>{a||(s.onOpenChange(!0),h())};return m.createElement(xZ,Ye({asChild:!0},o),m.createElement(cn.button,Ye({type:"button",role:"combobox","aria-controls":s.contentId,"aria-expanded":s.open,"aria-required":s.required,"aria-autocomplete":"none",dir:s.dir,"data-state":s.open?"open":"closed",disabled:a,"data-disabled":a?"":void 0,"data-placeholder":KD(s.value)?"":void 0},i,{ref:l,onClick:mn(i.onClick,w=>{w.currentTarget.focus()}),onPointerDown:mn(i.onPointerDown,w=>{const v=w.target;v.hasPointerCapture(w.pointerId)&&v.releasePointerCapture(w.pointerId),w.button===0&&w.ctrlKey===!1&&(g(),s.triggerPointerDownPosRef.current={x:Math.round(w.pageX),y:Math.round(w.pageY)},w.preventDefault())}),onKeyDown:mn(i.onKeyDown,w=>{const v=u.current!=="";!(w.ctrlKey||w.altKey||w.metaKey)&&w.key.length===1&&f(w.key),!(v&&w.key===" ")&&$Z.includes(w.key)&&(g(),w.preventDefault())})})))}),KZ="SelectValue",QZ=m.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:i,children:o,placeholder:s="",...a}=t,l=Vs(KZ,n),{onValueNodeHasChildrenChange:c}=l,u=o!==void 0,f=An(e,l.onValueNodeChange);return ki(()=>{c(u)},[c,u]),m.createElement(cn.span,Ye({},a,{ref:f,style:{pointerEvents:"none"}}),KD(l.value)?m.createElement(m.Fragment,null,s):o)}),XZ=m.forwardRef((t,e)=>{const{__scopeSelect:n,children:r,...i}=t;return m.createElement(cn.span,Ye({"aria-hidden":!0},i,{ref:e}),r||"▼")}),JZ=t=>m.createElement(bZ,Ye({asChild:!0},t)),ol="SelectContent",ZZ=m.forwardRef((t,e)=>{const n=Vs(ol,t.__scopeSelect),[r,i]=m.useState();if(ki(()=>{i(new DocumentFragment)},[]),!n.open){const o=r;return o?$o.createPortal(m.createElement(GD,{scope:t.__scopeSelect},m.createElement(Qp.Slot,{scope:t.__scopeSelect},m.createElement("div",null,t.children))),o):null}return m.createElement(eee,Ye({},t,{ref:e}))}),ii=10,[GD,Xp]=Tl(ol),eee=m.forwardRef((t,e)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:o,onPointerDownOutside:s,side:a,sideOffset:l,align:c,alignOffset:u,arrowPadding:f,collisionBoundary:h,collisionPadding:g,sticky:w,hideWhenDetached:v,avoidCollisions:E,...x}=t,y=Vs(ol,n),[b,P]=m.useState(null),[R,D]=m.useState(null),S=An(e,J=>P(J)),[C,I]=m.useState(null),[A,M]=m.useState(null),O=U1(n),[N,F]=m.useState(!1),Y=m.useRef(!1);m.useEffect(()=>{if(b)return L1(b)},[b]),tZ();const K=m.useCallback(J=>{const[re,...te]=O().map(Te=>Te.ref.current),[ee]=te.slice(-1),de=document.activeElement;for(const Te of J)if(Te===de||(Te==null||Te.scrollIntoView({block:"nearest"}),Te===re&&R&&(R.scrollTop=0),Te===ee&&R&&(R.scrollTop=R.scrollHeight),Te==null||Te.focus(),document.activeElement!==de))return},[O,R]),W=m.useCallback(()=>K([C,b]),[K,C,b]);m.useEffect(()=>{N&&W()},[N,W]);const{onOpenChange:L,triggerPointerDownPosRef:j}=y;m.useEffect(()=>{if(b){let J={x:0,y:0};const re=ee=>{var de,Te,Ke,st;J={x:Math.abs(Math.round(ee.pageX)-((de=(Te=j.current)===null||Te===void 0?void 0:Te.x)!==null&&de!==void 0?de:0)),y:Math.abs(Math.round(ee.pageY)-((Ke=(st=j.current)===null||st===void 0?void 0:st.y)!==null&&Ke!==void 0?Ke:0))}},te=ee=>{J.x<=10&&J.y<=10?ee.preventDefault():b.contains(ee.target)||L(!1),document.removeEventListener("pointermove",re),j.current=null};return j.current!==null&&(document.addEventListener("pointermove",re),document.addEventListener("pointerup",te,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",re),document.removeEventListener("pointerup",te,{capture:!0})}}},[b,L,j]),m.useEffect(()=>{const J=()=>L(!1);return window.addEventListener("blur",J),window.addEventListener("resize",J),()=>{window.removeEventListener("blur",J),window.removeEventListener("resize",J)}},[L]);const[U,z]=XD(J=>{const re=O().filter(de=>!de.disabled),te=re.find(de=>de.ref.current===document.activeElement),ee=JD(re,J,te);ee&&setTimeout(()=>ee.ref.current.focus())}),B=m.useCallback((J,re,te)=>{const ee=!Y.current&&!te;(y.value!==void 0&&y.value===re||ee)&&(I(J),ee&&(Y.current=!0))},[y.value]),q=m.useCallback(()=>b==null?void 0:b.focus(),[b]),Z=m.useCallback((J,re,te)=>{const ee=!Y.current&&!te;(y.value!==void 0&&y.value===re||ee)&&M(J)},[y.value]),se=r==="popper"?YC:tee,ye=se===YC?{side:a,sideOffset:l,align:c,alignOffset:u,arrowPadding:f,collisionBoundary:h,collisionPadding:g,sticky:w,hideWhenDetached:v,avoidCollisions:E}:{};return m.createElement(GD,{scope:n,content:b,viewport:R,onViewportChange:D,itemRefCallback:B,selectedItem:C,onItemLeave:q,itemTextRefCallback:Z,focusSelectedItem:W,selectedItemText:A,position:r,isPositioned:N,searchRef:U},m.createElement(FZ,{as:fu,allowPinchZoom:!0},m.createElement(nZ,{asChild:!0,trapped:y.open,onMountAutoFocus:J=>{J.preventDefault()},onUnmountAutoFocus:mn(i,J=>{var re;(re=y.trigger)===null||re===void 0||re.focus({preventScroll:!0}),J.preventDefault()})},m.createElement(JJ,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:o,onPointerDownOutside:s,onFocusOutside:J=>J.preventDefault(),onDismiss:()=>y.onOpenChange(!1)},m.createElement(se,Ye({role:"listbox",id:y.contentId,"data-state":y.open?"open":"closed",dir:y.dir,onContextMenu:J=>J.preventDefault()},x,ye,{onPlaced:()=>F(!0),ref:S,style:{display:"flex",flexDirection:"column",outline:"none",...x.style},onKeyDown:mn(x.onKeyDown,J=>{const re=J.ctrlKey||J.altKey||J.metaKey;if(J.key==="Tab"&&J.preventDefault(),!re&&J.key.length===1&&z(J.key),["ArrowUp","ArrowDown","Home","End"].includes(J.key)){let ee=O().filter(de=>!de.disabled).map(de=>de.ref.current);if(["ArrowUp","End"].includes(J.key)&&(ee=ee.slice().reverse()),["ArrowUp","ArrowDown"].includes(J.key)){const de=J.target,Te=ee.indexOf(de);ee=ee.slice(Te+1)}setTimeout(()=>K(ee)),J.preventDefault()}})}))))))}),tee=m.forwardRef((t,e)=>{const{__scopeSelect:n,onPlaced:r,...i}=t,o=Vs(ol,n),s=Xp(ol,n),[a,l]=m.useState(null),[c,u]=m.useState(null),f=An(e,S=>u(S)),h=U1(n),g=m.useRef(!1),w=m.useRef(!0),{viewport:v,selectedItem:E,selectedItemText:x,focusSelectedItem:y}=s,b=m.useCallback(()=>{if(o.trigger&&o.valueNode&&a&&c&&v&&E&&x){const S=o.trigger.getBoundingClientRect(),C=c.getBoundingClientRect(),I=o.valueNode.getBoundingClientRect(),A=x.getBoundingClientRect();if(o.dir!=="rtl"){const de=A.left-C.left,Te=I.left-de,Ke=S.left-Te,st=S.width+Ke,Lt=Math.max(st,C.width),tr=window.innerWidth-ii,Er=LC(Te,[ii,tr-Lt]);a.style.minWidth=st+"px",a.style.left=Er+"px"}else{const de=C.right-A.right,Te=window.innerWidth-I.right-de,Ke=window.innerWidth-S.right-Te,st=S.width+Ke,Lt=Math.max(st,C.width),tr=window.innerWidth-ii,Er=LC(Te,[ii,tr-Lt]);a.style.minWidth=st+"px",a.style.right=Er+"px"}const M=h(),O=window.innerHeight-ii*2,N=v.scrollHeight,F=window.getComputedStyle(c),Y=parseInt(F.borderTopWidth,10),K=parseInt(F.paddingTop,10),W=parseInt(F.borderBottomWidth,10),L=parseInt(F.paddingBottom,10),j=Y+K+N+L+W,U=Math.min(E.offsetHeight*5,j),z=window.getComputedStyle(v),B=parseInt(z.paddingTop,10),q=parseInt(z.paddingBottom,10),Z=S.top+S.height/2-ii,se=O-Z,ye=E.offsetHeight/2,J=E.offsetTop+ye,re=Y+K+J,te=j-re;if(re<=Z){const de=E===M[M.length-1].ref.current;a.style.bottom="0px";const Te=c.clientHeight-v.offsetTop-v.offsetHeight,Ke=Math.max(se,ye+(de?q:0)+Te+W),st=re+Ke;a.style.height=st+"px"}else{const de=E===M[0].ref.current;a.style.top="0px";const Ke=Math.max(Z,Y+v.offsetTop+(de?B:0)+ye)+te;a.style.height=Ke+"px",v.scrollTop=re-Z+v.offsetTop}a.style.margin=`${ii}px 0`,a.style.minHeight=U+"px",a.style.maxHeight=O+"px",r==null||r(),requestAnimationFrame(()=>g.current=!0)}},[h,o.trigger,o.valueNode,a,c,v,E,x,o.dir,r]);ki(()=>b(),[b]);const[P,R]=m.useState();ki(()=>{c&&R(window.getComputedStyle(c).zIndex)},[c]);const D=m.useCallback(S=>{S&&w.current===!0&&(b(),y==null||y(),w.current=!1)},[b,y]);return m.createElement(nee,{scope:n,contentWrapper:a,shouldExpandOnScrollRef:g,onScrollButtonChange:D},m.createElement("div",{ref:l,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:P}},m.createElement(cn.div,Ye({},i,{ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}}))))}),YC=m.forwardRef((t,e)=>{const{__scopeSelect:n,align:r="start",collisionPadding:i=ii,...o}=t,s=B1(n);return m.createElement(EZ,Ye({},s,o,{ref:e,align:r,collisionPadding:i,style:{boxSizing:"border-box",...o.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}}))}),[nee,ree]=Tl(ol,{}),KC="SelectViewport",iee=m.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=Xp(KC,n),o=ree(KC,n),s=An(e,i.onViewportChange),a=m.useRef(0);return m.createElement(m.Fragment,null,m.createElement("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"}}),m.createElement(Qp.Slot,{scope:n},m.createElement(cn.div,Ye({"data-radix-select-viewport":"",role:"presentation"},r,{ref:s,style:{position:"relative",flex:1,overflow:"auto",...r.style},onScroll:mn(r.onScroll,l=>{const c=l.currentTarget,{contentWrapper:u,shouldExpandOnScrollRef:f}=o;if(f!=null&&f.current&&u){const h=Math.abs(a.current-c.scrollTop);if(h>0){const g=window.innerHeight-ii*2,w=parseFloat(u.style.minHeight),v=parseFloat(u.style.height),E=Math.max(w,v);if(E<g){const x=E+h,y=Math.min(g,x),b=x-y;u.style.height=y+"px",u.style.bottom==="0px"&&(c.scrollTop=b>0?b:0,u.style.justifyContent="flex-end")}}}a.current=c.scrollTop})}))))}),oee="SelectGroup",[yne,see]=Tl(oee),aee="SelectLabel",lee=m.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=see(aee,n);return m.createElement(cn.div,Ye({id:i.id},r,{ref:e}))}),Wy="SelectItem",[cee,YD]=Tl(Wy),uee=m.forwardRef((t,e)=>{const{__scopeSelect:n,value:r,disabled:i=!1,textValue:o,...s}=t,a=Vs(Wy,n),l=Xp(Wy,n),c=a.value===r,[u,f]=m.useState(o??""),[h,g]=m.useState(!1),w=An(e,x=>{var y;return(y=l.itemRefCallback)===null||y===void 0?void 0:y.call(l,x,r,i)}),v=OD(),E=()=>{i||(a.onValueChange(r),a.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return m.createElement(cee,{scope:n,value:r,disabled:i,textId:v,isSelected:c,onItemTextChange:m.useCallback(x=>{f(y=>{var b;return y||((b=x==null?void 0:x.textContent)!==null&&b!==void 0?b:"").trim()})},[])},m.createElement(Qp.ItemSlot,{scope:n,value:r,disabled:i,textValue:u},m.createElement(cn.div,Ye({role:"option","aria-labelledby":v,"data-highlighted":h?"":void 0,"aria-selected":c&&h,"data-state":c?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1},s,{ref:w,onFocus:mn(s.onFocus,()=>g(!0)),onBlur:mn(s.onBlur,()=>g(!1)),onPointerUp:mn(s.onPointerUp,E),onPointerMove:mn(s.onPointerMove,x=>{if(i){var y;(y=l.onItemLeave)===null||y===void 0||y.call(l)}else x.currentTarget.focus({preventScroll:!0})}),onPointerLeave:mn(s.onPointerLeave,x=>{if(x.currentTarget===document.activeElement){var y;(y=l.onItemLeave)===null||y===void 0||y.call(l)}}),onKeyDown:mn(s.onKeyDown,x=>{var y;((y=l.searchRef)===null||y===void 0?void 0:y.current)!==""&&x.key===" "||(UZ.includes(x.key)&&E(),x.key===" "&&x.preventDefault())})}))))}),$d="SelectItemText",dee=m.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:i,...o}=t,s=Vs($d,n),a=Xp($d,n),l=YD($d,n),c=HZ($d,n),[u,f]=m.useState(null),h=An(e,x=>f(x),l.onItemTextChange,x=>{var y;return(y=a.itemTextRefCallback)===null||y===void 0?void 0:y.call(a,x,l.value,l.disabled)}),g=u==null?void 0:u.textContent,w=m.useMemo(()=>m.createElement("option",{key:l.value,value:l.value,disabled:l.disabled},g),[l.disabled,l.value,g]),{onNativeOptionAdd:v,onNativeOptionRemove:E}=c;return ki(()=>(v(w),()=>E(w)),[v,E,w]),m.createElement(m.Fragment,null,m.createElement(cn.span,Ye({id:l.textId},o,{ref:h})),l.isSelected&&s.valueNode&&!s.valueNodeHasChildren?$o.createPortal(o.children,s.valueNode):null)}),fee="SelectItemIndicator",hee=m.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return YD(fee,n).isSelected?m.createElement(cn.span,Ye({"aria-hidden":!0},r,{ref:e})):null}),pee=m.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return m.createElement(cn.div,Ye({"aria-hidden":!0},r,{ref:e}))});function KD(t){return t===""||t===void 0}const QD=m.forwardRef((t,e)=>{const{value:n,...r}=t,i=m.useRef(null),o=An(e,i),s=CZ(n);return m.useEffect(()=>{const a=i.current,l=window.HTMLSelectElement.prototype,u=Object.getOwnPropertyDescriptor(l,"value").set;if(s!==n&&u){const f=new Event("change",{bubbles:!0});u.call(a,n),a.dispatchEvent(f)}},[s,n]),m.createElement(SZ,{asChild:!0},m.createElement("select",Ye({},r,{ref:o,defaultValue:n})))});QD.displayName="BubbleSelect";function XD(t){const e=Ai(t),n=m.useRef(""),r=m.useRef(0),i=m.useCallback(s=>{const a=n.current+s;e(a),function l(c){n.current=c,window.clearTimeout(r.current),c!==""&&(r.current=window.setTimeout(()=>l(""),1e3))}(a)},[e]),o=m.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return m.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,i,o]}function JD(t,e,n){const i=e.length>1&&Array.from(e).every(c=>c===e[0])?e[0]:e,o=n?t.indexOf(n):-1;let s=mee(t,Math.max(o,0));i.length===1&&(s=s.filter(c=>c!==n));const l=s.find(c=>c.textValue.toLowerCase().startsWith(i.toLowerCase()));return l!==n?l:void 0}function mee(t,e){return t.map((n,r)=>t[(e+r)%t.length])}const gee=qZ,ZD=YZ,vee=QZ,yee=XZ,wee=JZ,eM=ZZ,_ee=iee,tM=lee,nM=uee,xee=dee,Eee=hee,rM=pee,zy=gee,Hy=vee,Mh=_e.forwardRef(({className:t,children:e,...n},r)=>p.jsxs(ZD,{ref:r,className:Ue("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 focus:shadow-[0_0_0_3px_rgba(226,125,191,0.2)] disabled:cursor-not-allowed disabled:opacity-50",t),...n,children:[e,p.jsx(yee,{asChild:!0,children:p.jsx(Kz,{className:"h-4 w-4 opacity-50"})})]}));Mh.displayName=ZD.displayName;const Oh=_e.forwardRef(({className:t,children:e,position:n="popper",...r},i)=>p.jsx(wee,{children:p.jsx(eM,{ref:i,className:Ue("relative z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...r,children:p.jsx(_ee,{className:Ue("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e})})}));Oh.displayName=eM.displayName;const bee=_e.forwardRef(({className:t,...e},n)=>p.jsx(tM,{ref:n,className:Ue("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...e}));bee.displayName=tM.displayName;const wa=_e.forwardRef(({className:t,children:e,...n},r)=>p.jsxs(nM,{ref:r,className:Ue("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[p.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:p.jsx(Eee,{children:p.jsx(Eh,{className:"h-4 w-4"})})}),p.jsx(xee,{children:e})]}));wa.displayName=nM.displayName;const Tee=_e.forwardRef(({className:t,...e},n)=>p.jsx(rM,{ref:n,className:Ue("-mx-1 my-1 h-px bg-muted",t),...e}));Tee.displayName=rM.displayName;const _a={NONE:{value:"none",label:"Sin Símbolo",color:"transparent",textColor:"#e2e8f0"},MENSTRUATION:{value:"red",label:"Menstruación",color:"bg-red-500",textColor:"#e2e8f0"},FERTILE:{value:"white",label:"Fértil (Moco)",color:"bg-white",textColor:"#e2e8f0"},INFERTILE:{value:"green",label:"Infértil (Sin Moco)",color:"bg-green-500",textColor:"#e2e8f0"},SPOTTING:{value:"spot",label:"Spotting",color:"bg-pink-300",textColor:"#e2e8f0",pattern:"spotting-pattern"}},iM=Object.values(_a),W1=t=>iM.find(n=>n.value===t)||_a.NONE,Cee=({date:t,setDate:e,time:n,setTime:r,temperatureRaw:i,setTemperatureRaw:o,temperatureCorrected:s,setTemperatureCorrected:a,useCorrected:l,setUseCorrected:c,mucusSensation:u,setMucusSensation:f,mucusAppearance:h,setMucusAppearance:g,fertilitySymbol:w,setFertilitySymbol:v,observations:E,setObservations:x,ignored:y,setIgnored:b,isProcessing:P,isEditing:R,initialData:D,cycleStartDate:S,cycleEndDate:C})=>{const[I,A]=m.useState(!1);m.useEffect(()=>{R&&D&&(e(D.timestamp?le(D.timestamp):le(D.isoDate)),r(D.timestamp?be(le(D.timestamp),"HH:mm"):""),o(D.temperature_raw??""),a(D.temperature_corrected??""),c(D.use_corrected??!1),f(D.mucus_sensation??""),g(D.mucus_appearance??""),v(D.fertility_symbol??"none"),x(D.observations??""),b(D.ignored??!1))},[R,D]);const M=Ce(le(S)),O=C?Ce(le(C)):Rt(M,45),N=[{before:M},{after:O}];return p.jsxs(p.Fragment,{children:[p.jsxs("div",{className:"space-y-2",children:[p.jsxs(Bt,{htmlFor:"date",className:"flex items-center text-gray-700 text-lg",children:[p.jsx(tC,{className:"mr-2 h-5 w-5 text-pink-400"}),"Fecha del Registro"]}),p.jsxs(LJ,{open:I,onOpenChange:A,children:[p.jsx(VJ,{asChild:!0,children:p.jsxs(Se,{variant:"outline",className:Ue("w-full justify-start text-left font-normal bg-gray-50 border-gray-200 text-gray-800 hover:bg-gray-100 hover:text-gray-800",!t&&"text-muted-foreground"),disabled:P,children:[p.jsx(tC,{className:"mr-2 h-4 w-4"}),t?be(t,"PPP",{locale:nl}):p.jsx("span",{children:"Selecciona una fecha"})]})}),p.jsx(RD,{className:"w-auto p-0 bg-gray-50 border-gray-200 text-gray-800",align:"start",children:p.jsx(TN,{mode:"single",selected:t,onSelect:F=>{e(Ce(F||new Date)),A(!1)},initialFocus:!0,locale:nl,disabled:P?()=>!0:N,className:"[&_button]:text-gray-800 [&_button:hover]:bg-gray-100 [&_button[aria-selected=true]]:bg-pink-500"})})]})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsxs(Bt,{htmlFor:"temperatureRaw",className:"flex items-center text-gray-700 text-lg",children:[p.jsx(aH,{className:"mr-2 h-5 w-5 text-rose-400"}),R?"Temperatura Original (°C)":"Temperatura Basal (°C)"," ",p.jsx("span",{className:"text-sm text-gray-700 ml-1",children:"(Opcional)"})]}),p.jsx(fr,{id:"temperatureRaw",type:"number",step:"0.01",min:"34.0",max:"40.0",value:i,onChange:F=>o(F.target.value),placeholder:"Ej: 36.50",className:"bg-gray-50 border-gray-200 text-gray-800 placeholder-gray-400 focus:ring-pink-500 focus:border-pink-500 text-base",disabled:P||R&&(D==null?void 0:D.temperature_raw)!==null&&(D==null?void 0:D.temperature_raw)!==void 0,readOnly:R&&(D==null?void 0:D.temperature_raw)!==null&&(D==null?void 0:D.temperature_raw)!==void 0}),p.jsxs("div",{className:"space-y-2",children:[p.jsxs(Bt,{htmlFor:"time",className:"flex items-center text-gray-700 text-lg",children:[p.jsx(Jz,{className:"mr-2 h-5 w-5 text-rose-400"}),"Hora de la Temperatura ",p.jsx("span",{className:"text-sm text-gray-700 ml-1",children:"(Opcional)"})]}),p.jsx(fr,{id:"time",type:"time",value:n,onChange:F=>r(F.target.value),className:"bg-gray-50 border-gray-200 text-gray-800 placeholder-gray-400 focus:ring-pink-500 focus:border-pink-500 text-base",disabled:P})]})]}),R&&p.jsxs("div",{children:[p.jsxs("div",{className:"space-y-3 p-4 border border-gray-200 rounded-md bg-gray-50",children:[p.jsxs(Bt,{htmlFor:"temperatureCorrected",className:"flex items-center text-gray-700 text-md",children:[p.jsx(bh,{className:"mr-2 h-4 w-4 text-amber-400"}),"Temperatura Corregida (°C) ",p.jsx("span",{className:"text-sm text-gray-500 ml-1",children:"(Opcional)"})]}),p.jsx("div",{className:"flex items-center space-x-2"}),p.jsx(fr,{id:"temperatureCorrected",type:"number",step:"0.01",min:"34.0",max:"40.0",value:s,onChange:F=>{a(F.target.value),F.target.value!==""&&c(!0)},placeholder:"Ej: 36.65",className:"bg-gray-50 border-gray-200 text-gray-800 placeholder-gray-400 focus:ring-pink-500 focus:border-pink-500 text-base",disabled:P}),p.jsx("button",{type:"button",onClick:()=>{a(""),c(!1)},className:"absolute right-2 transform -translate-y-20 text-rose-400  hover:text-rose-400",title:"Eliminar corrección",children:"X"})]}),p.jsxs("div",{className:"flex items-center space-x-2 mt-2",children:[p.jsx(Q2,{id:"useCorrected",checked:l,onCheckedChange:c,className:"data-[state=checked]:bg-pink-500 data-[state=checked]:text-white border-gray-500",disabled:P||s===""}),p.jsx(Bt,{htmlFor:"useCorrected",className:"text-sm text-gray-500",children:"Usar corrección en la gráfica"})]}),p.jsxs(Se,{type:"button",variant:y?"outline":"destructive",size:"sm",onClick:()=>b(!y),className:"mt-2 hover:bg-rose-200/20",disabled:P,children:[y?p.jsx(au,{className:"mr-1 h-4 w-4"}):p.jsx(o1,{className:"mr-1 h-4 w-4"}),y?"Restaurar":"Despreciar"]})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsxs(Bt,{htmlFor:"fertilitySymbol",className:"flex items-center text-gray-700 text-lg",children:[p.jsx(oH,{className:"mr-2 h-5 w-5 text-teal-400"}),"Símbolo de Fertilidad"]}),p.jsxs(zy,{value:w,onValueChange:v,disabled:P,children:[p.jsx(Mh,{className:"w-full bg-gray-50 border-gray-200 text-gray-800 hover:bg-gray-100 hover:text-gray-800",children:p.jsx(Hy,{placeholder:"Selecciona un símbolo"})}),p.jsx(Oh,{className:"bg-gray-50 border-gray-200 text-gray-800",children:iM.map(F=>p.jsx(wa,{value:F.value,className:"hover:bg-gray-100 focus:bg-gray-100",children:p.jsxs("div",{className:"flex items-center",children:[p.jsx("span",{className:`w-4 h-4 rounded-full mr-2 ${F.color} ${F.pattern?"pattern-bg":""}`}),F.label]})},F.value))})]})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsxs(Bt,{htmlFor:"mucusSensation",className:"flex items-center text-gray-700 text-lg",children:[p.jsx(Zz,{className:"mr-2 h-5 w-5 text-sky-400"}),"Sensación del Moco Cervical"]}),p.jsx(hf,{id:"mucusSensation",value:u,onChange:F=>f(F.target.value),placeholder:"Describe la sensación (ej: Seca, Húmeda, Mojada)",className:"bg-gray-50 border-gray-200 text-gray-800 placeholder-gray-400 focus:ring-pink-500 focus:border-pink-500 text-base min-h-[80px]",disabled:P})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsxs(Bt,{htmlFor:"mucusAppearance",className:"flex items-center text-gray-700 text-lg",children:[p.jsx(au,{className:"mr-2 h-5 w-5 text-amber-400"}),"Apariencia del Moco Cervical"]}),p.jsx(hf,{id:"mucusAppearance",value:h,onChange:F=>g(F.target.value),placeholder:"Describe la apariencia (ej: Pegajoso, Elástico)",className:"bg-gray-50 border-gray-200 text-gray-800 placeholder-gray-400 focus:ring-pink-500 focus:border-pink-500 text-base min-h-[80px]",disabled:P})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsxs(Bt,{htmlFor:"observations",className:"flex items-center text-gray-700 text-lg",children:[p.jsx(Yz,{className:"mr-2 h-5 w-5 text-indigo-400"}),"Observaciones Adicionales"]}),p.jsx(hf,{id:"observations",value:E,onChange:F=>x(F.target.value),placeholder:"Anota cualquier otra observación relevante (ej: Dolor, medicación)",className:"bg-gray-50 border-gray-200 text-gray-800 placeholder-gray-400 focus:ring-pink-500 focus:border-pink-500 text-base min-h-[80px]",disabled:P})]})]})},See=({onCancel:t,isProcessing:e,isEditing:n})=>p.jsxs("div",{className:"flex space-x-4 pt-4",children:[t&&p.jsxs(Se,{type:"button",onClick:t,variant:"outline",className:"w-full border-gray-300 text-gray-700 hover:bg-gray-100 font-semibold py-3 text-lg",disabled:e,children:[p.jsx(lu,{className:"mr-2 h-5 w-5"}),"Cancelar"]}),p.jsxs(Se,{type:"submit",className:"w-full bg-gradient-to-r from-pink-500 to-fuchsia-600 hover:from-pink-600 hover:to-fuchsia-700 text-white font-semibold py-3 text-lg shadow-md hover:shadow-lg transition-all duration-300 transform hover:scale-102",disabled:e,children:[e?p.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white mr-2"}):p.jsx(sH,{className:"mr-2 h-5 w-5"}),n?"Actualizar Registro":"Guardar"]})]}),Pee=(t,e,n,r,i)=>{const[o,s]=m.useState(e!=null&&e.isoDate?le(e.isoDate):Ce(new Date)),[a,l]=m.useState((e==null?void 0:e.temperature_raw)===null||(e==null?void 0:e.temperature_raw)===void 0?"":String(e.temperature_raw)),[c,u]=m.useState(e!=null&&e.timestamp?be(le(e.timestamp),"HH:mm"):be(new Date,"HH:mm")),[f,h]=m.useState((e==null?void 0:e.temperature_corrected)===null||(e==null?void 0:e.temperature_corrected)===void 0?"":String(e.temperature_corrected)),[g,w]=m.useState((e==null?void 0:e.use_corrected)||!1),[v,E]=m.useState((e==null?void 0:e.mucusSensation)||""),[x,y]=m.useState((e==null?void 0:e.mucusAppearance)||""),[b,P]=m.useState((e==null?void 0:e.fertility_symbol)||_a.NONE.value),[R,D]=m.useState((e==null?void 0:e.observations)||""),[S,C]=m.useState((e==null?void 0:e.ignored)||!1),{toast:I}=xl();return m.useEffect(()=>{e?(s(le(e.isoDate)),l(e.temperature_raw===null||e.temperature_raw===void 0?"":String(e.temperature_raw)),u(e.timestamp?be(le(e.timestamp),"HH:mm"):""),h(e.temperature_corrected===null||e.temperature_corrected===void 0?"":String(e.temperature_corrected)),w(e.use_corrected||!1),E(e.mucusSensation||""),y(e.mucusAppearance||""),P(e.fertility_symbol||_a.NONE.value),D(e.observations||""),C(e.ignored||!1)):(s(Ce(new Date)),l(""),u(be(new Date,"HH:mm")),h(""),w(!1),E(""),y(""),P(_a.NONE.value),D(""),C(!1))},[e]),{date:o,setDate:s,temperatureRaw:a,setTemperatureRaw:l,time:c,setTime:u,temperatureCorrected:f,setTemperatureCorrected:h,useCorrected:g,setUseCorrected:w,mucusSensation:v,setMucusSensation:E,mucusAppearance:x,setMucusAppearance:y,fertilitySymbol:b,setFertilitySymbol:P,observations:R,setObservations:D,ignored:S,setIgnored:C,handleSubmit:M=>{if(M.preventDefault(),!o){I({title:"Error",description:"La fecha es obligatoria.",variant:"destructive"});return}const O=Ce(le(r)),N=i?Ce(le(i)):Rt(O,45);if(o<O||o>N){I({title:"Error",description:"La fecha debe estar dentro del ciclo.",variant:"destructive"});return}const F=be(o,"yyyy-MM-dd");t({isoDate:F,time:c,temperature_raw:a===""?null:parseFloat(a),temperature_corrected:f===""?null:parseFloat(f),use_corrected:g,mucusSensation:v,mucusAppearance:x,fertility_symbol:b,observations:R,ignored:S}),n||(s(Ce(new Date)),l(""),u(be(new Date,"HH:mm")),h(""),w(!1),E(""),y(""),P(_a.NONE.value),D(""))}}},z1=({onSubmit:t,initialData:e,onCancel:n,cycleStartDate:r,cycleEndDate:i,isProcessing:o,isEditing:s=!1})=>{const a=m.useRef(null);m.useEffect(()=>{const N=a.current;if(!N)return;const F=Y=>{Y.target&&"scrollIntoView"in Y.target&&setTimeout(()=>{Y.target.scrollIntoView({behavior:"smooth",block:"center"})},50)};return N.addEventListener("focusin",F),()=>N.removeEventListener("focusin",F)},[]);const{date:l,setDate:c,time:u,setTime:f,temperatureRaw:h,setTemperatureRaw:g,temperatureCorrected:w,setTemperatureCorrected:v,useCorrected:E,setUseCorrected:x,mucusSensation:y,setMucusSensation:b,mucusAppearance:P,setMucusAppearance:R,fertilitySymbol:D,setFertilitySymbol:S,observations:C,setObservations:I,ignored:A,setIgnored:M,handleSubmit:O}=Pee(t,e,s,r,i);return p.jsxs(xe.form,{ref:a,onSubmit:O,className:"space-y-6 bg-white p-4 sm:p-6 rounded-xl border border-[#FFB1DD]/50 shadow w-full",initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5},children:[p.jsxs("div",{className:"flex justify-between items-center mb-6",children:[p.jsx("h2",{className:"text-2xl font-semibold text-[#292a46]",children:s?"Editar Registro":"Añadir Registro"}),n&&p.jsx(Se,{type:"button",onClick:n,variant:"ghost",size:"icon",className:"text-gray-700 hover:text-pink-500 hover:bg-pink-50",children:p.jsx(lu,{className:"h-6 w-6"})})]}),p.jsx(Cee,{date:l,setDate:c,time:u,setTime:f,temperatureRaw:h,setTemperatureRaw:g,temperatureCorrected:w,setTemperatureCorrected:v,useCorrected:E,setUseCorrected:x,mucusSensation:y,setMucusSensation:b,mucusAppearance:P,setMucusAppearance:R,fertilitySymbol:D,setFertilitySymbol:S,observations:C,setObservations:I,ignored:A,setIgnored:M,isProcessing:o,isEditing:s,initialData:e,cycleStartDate:r,cycleEndDate:i}),p.jsx(See,{onCancel:n,isProcessing:o,isEditing:s})]})},Iee=(t,e)=>{if(!t||!e)return 0;const n=Ce(le(t)),r=Ce(le(e));return To(n,r)+1},$g=(t,e)=>!t||!Array.isArray(t)||!e?[]:[...t].sort((r,i)=>{const o=r.timestamp?le(r.timestamp):r.iso_date?le(r.iso_date):0,s=i.timestamp?le(i.timestamp):i.iso_date?le(i.iso_date):0;return NH(o,s)}).map(r=>({...r,id:r.id,isoDate:r.iso_date||(r.timestamp?be(le(r.timestamp),"yyyy-MM-dd"):null),date:r.timestamp?be(le(r.timestamp),"dd/MM"):r.iso_date?be(le(r.iso_date),"dd/MM"):"N/A",cycleDay:Iee(r.iso_date||r.timestamp,e),temperature_raw:r.temperature_raw,temperature_corrected:r.temperature_corrected,use_corrected:r.use_corrected,mucusSensation:r.mucus_sensation,mucusAppearance:r.mucus_appearance,fertility_symbol:r.fertility_symbol,observations:r.observations,ignored:r.ignored,temperature_chart:r.temperature_chart??(r.use_corrected?r.temperature_corrected??r.temperature_raw:r.temperature_raw??r.temperature_corrected),timestamp:r.timestamp})),Aee=async t=>{const e=Qn(At,`users/${t}/cycles`),n=await Ti(e);if(n.empty)return null;const r=n.docs.map(l=>({id:l.id,...l.data()})).filter(l=>l.end_date===null||l.end_date===void 0).sort((l,c)=>(c.start_date||"").localeCompare(l.start_date||""));if(r.length>1&&console.warn(`Se detectaron ${r.length} ciclos abiertos. Se usará el más reciente.`),r.length===0)return null;const i=r[0],o=Qn(At,`users/${t}/cycles/${i.id}/entries`),a=(await Ti(o)).docs.map(l=>({id:l.id,...l.data()}));return{id:i.id,startDate:i.start_date,endDate:i.end_date,data:a}},kee=async(t,e)=>{const n=Qn(At,`users/${t}/cycles`),i=(await Ti(n)).docs.map(s=>({id:s.id,...s.data()})).filter(s=>s.end_date!==null&&s.end_date!==void 0||e&&s.start_date&&s.start_date<e).sort((s,a)=>(a.start_date||"").localeCompare(s.start_date||""));return await Promise.all(i.map(async s=>{const a=Qn(At,`users/${t}/cycles/${s.id}/entries`),c=(await Ti(a)).docs.map(u=>({id:u.id,...u.data()}));return{id:s.id,startDate:s.start_date,endDate:s.end_date,needsCompletion:!s.end_date,data:c}}))},QC=async(t,e)=>{const n=bi(At,`users/${t}/cycles/${e}`),r=await Tp(n);if(!r.exists())return null;const i=r.data(),o=Qn(At,`users/${t}/cycles/${e}/entries`),a=(await Ti(o)).docs.map(l=>({id:l.id,...l.data()}));return{id:e,startDate:i.start_date,endDate:i.end_date,data:a}},XC=async(t,e)=>{const n=Qn(At,`users/${t}/cycles`),r=await Ti(n),i=le(e);if(r.docs.some(a=>{const l=a.data(),c=l.start_date?le(l.start_date):null,u=l.end_date?le(l.end_date):null;return c&&i>=c&&(!u||i<=u)}))throw new Error("Cycle dates overlap with an existing cycle");return{id:(await uy(Qn(At,`users/${t}/cycles`),{user_id:t,start_date:e,end_date:null})).id,start_date:e}},Ree=async t=>{const e=t.user_id,n=t.timestamp??new Date().toISOString(),r={timestamp:n,temperature_raw:t.temperature_raw,temperature_corrected:t.temperature_corrected,use_corrected:t.use_corrected,temperature_chart:t.temperature_chart,mucus_sensation:t.mucus_sensation,mucus_appearance:t.mucus_appearance,fertility_symbol:t.fertility_symbol,observations:t.observations,ignored:t.ignored},i=Qn(At,`users/${e}/cycles`),o=await Ti(i),s=le(n),a=o.docs.filter(c=>{const u=c.data(),f=u.start_date?le(u.start_date):null,h=u.end_date?le(u.end_date):null;return f&&s>=f&&(!h||s<=h)});let l=null;return a.length>1?l=a.sort((c,u)=>{const f=le(c.data().start_date);return le(u.data().start_date)-f})[0]:a.length===1&&(l=a[0]),l?{id:(await uy(Qn(At,`users/${e}/cycles/${l.id}/entries`),r)).id}:t.cycle_id?{id:(await uy(Qn(At,`users/${e}/cycles/${t.cycle_id}/entries`),r)).id}:{id:null}},JC=async(t,e,n,r)=>{const i=bi(At,`users/${t}/cycles/${e}/entries/${n}`),o={temperature_raw:r.temperature_raw,temperature_corrected:r.temperature_corrected,use_corrected:r.use_corrected,temperature_chart:r.temperature_chart,mucus_sensation:r.mucus_sensation,mucus_appearance:r.mucus_appearance,fertility_symbol:r.fertility_symbol,observations:r.observations,ignored:r.ignored};return r.timestamp&&(o.timestamp=r.timestamp),await Pw(i,o),{id:n}},Nee=async(t,e,n)=>{await cy(bi(At,`users/${t}/cycles/${e}/entries/${n}`))},Dee=async(t,e,n)=>{const r=bi(At,`users/${e}/cycles/${t}`);if(!(await Tp(r)).exists())throw new Error("Cycle not found");await Pw(r,{end_date:n})},ZC=async(t,e,n,r)=>{const i=bi(At,`users/${e}/cycles/${t}`),o=await Tp(i);if(!o.exists())throw new Error("Cycle not found");const s=o.data(),a=n??s.start_date,l=r!==void 0?r:s.end_date,c=a?le(a):null,u=l?le(l):null,f=Qn(At,`users/${e}/cycles`);if((await Ti(f)).docs.some(v=>{if(v.id===t)return!1;const E=v.data(),x=E.start_date?le(E.start_date):null,y=E.end_date?le(E.end_date):null;if(!x)return!1;const b=y??new Date("9999-12-31"),P=u??new Date("9999-12-31");return c<=b&&x<=P}))throw new Error("Cycle dates overlap with an existing cycle");const w={};n!==void 0&&(w.start_date=n),r!==void 0&&(w.end_date=r),await Pw(i,w)},Mee=async(t,e)=>{const n=Qn(At,`users/${t}/cycles/${e}/entries`),r=await Ti(n);await Promise.all(r.docs.map(i=>cy(i.ref))),await cy(bi(At,`users/${t}/cycles/${e}`))},eS=(t,e)=>{if(!e)return t;const n=Ce(le(e));return t.filter(r=>le(r.isoDate)<=n)},Ks=t=>t?typeof t=="string"?be(Ce(le(t)),"yyyy-MM-dd"):typeof t.toDate=="function"?be(Ce(t.toDate()),"yyyy-MM-dd"):be(Ce(new Date(t)),"yyyy-MM-dd"):null,ju=(t=null)=>{const{user:e}=_l(),{toast:n}=xl(),[r,i]=m.useState({id:null,startDate:null,data:[]}),[o,s]=m.useState([]),[a,l]=m.useState(!0),c=m.useCallback(async()=>{if(!(e!=null&&e.uid)){console.log("No user found, skipping cycle data load"),l(!1);return}console.log("Loading cycle data for user:",e.uid),l(!0);try{let y;if(t?(console.log("Loading specific cycle:",t),y=await QC(e.uid,t),y||(y={id:t,startDate:be(Ce(new Date),"yyyy-MM-dd"),data:[]})):(console.log("Loading current cycle"),y=await Aee(e.uid)),console.log("Cycle loaded:",y),y){const P=Ks(y.startDate),R=Ks(y.endDate);i({...y,startDate:P,endDate:R,data:$g(y.data,P)})}else i({id:null,startDate:null,data:[]});console.log("Loading archived cycles");const b=await kee(e.uid,y?y.startDate:null);s(b.map(P=>{const R=Ks(P.startDate),D=Ks(P.endDate),S=$g(P.data||[],R),C=eS(S,D);return{...P,startDate:R??be(Ce(new Date),"yyyy-MM-dd"),endDate:D,needsCompletion:P.needsCompletion,data:C}}))}catch(y){console.error("Error in loadCycleData:",y),y.code==="permission-denied"&&console.error("Firebase permissions error. Check Firestore rules."),i({id:null,startDate:null,data:[]}),s([])}finally{l(!1)}},[e,t]);m.useEffect(()=>{c()},[c]);const u=m.useCallback(async(y,b)=>{if(!(e!=null&&e.uid)||!r.id)throw console.error("User or currentCycle.id is missing"),new Error("User or currentCycle.id is missing");console.log("Adding/updating data point:",y,"editing:",b),l(!0);try{const P=y.time&&y.time.trim()!==""?y.time:be(new Date,"HH:mm"),R=GG(`${y.isoDate} ${P}`,"yyyy-MM-dd HH:mm",new Date),D=y.temperature_raw===""||y.temperature_raw===null||y.temperature_raw===void 0?null:parseFloat(y.temperature_raw),S=y.temperature_corrected===""||y.temperature_corrected===null||y.temperature_corrected===void 0?null:parseFloat(y.temperature_corrected),C=y.use_corrected||!1,I=C?S??D:D??S,A={cycle_id:r.id,user_id:e.uid,timestamp:be(R,"yyyy-MM-dd'T'HH:mm:ssXXX"),temperature_raw:D,temperature_corrected:S,use_corrected:C,temperature_chart:I,mucus_sensation:y.mucusSensation||null,mucus_appearance:y.mucusAppearance||null,fertility_symbol:y.fertility_symbol==="none"?null:y.fertility_symbol,observations:y.observations||null,ignored:b?y.ignored??b.ignored:y.ignored||!1};b?(console.log("Updating existing record:",b.id),await JC(e.uid,r.id,b.id,A)):(console.log("Creating new record"),await Ree(A)),console.log("Data point saved successfully"),await c()}catch(P){throw console.error("Error adding/updating data point:",P),P}finally{l(!1)}},[e,r.id,c]),f=m.useCallback(async y=>{if(!(!(e!=null&&e.uid)||!r.id)){console.log("Deleting record:",y),l(!0);try{await Nee(e.uid,r.id,y),await c(),console.log("Record deleted successfully")}catch(b){throw console.error("Error deleting record:",b),b}finally{l(!1)}}},[e,r.id,c]),h=m.useCallback(async(y,b)=>{if(e!=null&&e.uid){console.log("Toggling ignore for record:",b,"in cycle:",y),l(!0);try{const P=y===r.id?r:o.find(S=>S.id===y);if(!P)throw new Error("Cycle not found for toggling ignore state.");const R=P.data.find(S=>S.id===b);if(!R)throw new Error("Record not found for toggling ignore state.");const D=!R.ignored;await JC(e.uid,y,b,{ignored:D}),await c(),console.log("Record ignore status toggled successfully")}catch(P){throw console.error("Error toggling ignore state:",P),P}finally{l(!1)}}},[e,r,o,c]),g=m.useCallback(async y=>{if(e!=null&&e.uid){console.log("Starting new cycle with date:",y),l(!0);try{const b=Ce(y?le(y):new Date);if(r.id){const D=be(Rt(b,-1),"yyyy-MM-dd");await Dee(r.id,e.uid,D)}const P=be(b,"yyyy-MM-dd"),R=await XC(e.uid,P);i({id:R.id,startDate:R.start_date,data:[]}),await c(),console.log("New cycle started successfully")}catch(b){throw console.error("Error starting new cycle:",b),n({title:"Error",description:"No se pudo archivar el ciclo.",variant:"destructive"}),b}finally{l(!1)}}},[e,r,c,n]),w=m.useCallback(async(y,b)=>{if(e!=null&&e.uid){if(!b){n({title:"Error",description:"La fecha de fin es obligatoria.",variant:"destructive"});return}console.log("Adding archived cycle:",y,b),l(!0);try{const P=await XC(e.uid,y);await ZC(P.id,e.uid,void 0,b),await c(),console.log("Archived cycle added successfully")}catch(P){console.error("Error adding archived cycle:",P);const R=P.message&&P.message.includes("overlap")?"Las fechas coinciden con otro ciclo.":"No se pudo crear el ciclo.";throw n({title:"Error",description:R,variant:"destructive"}),P}finally{l(!1)}}},[e,c,n]),v=m.useCallback(async y=>{if(e!=null&&e.uid){console.log("Deleting cycle:",y),l(!0);try{await Mee(e.uid,y),await c(),console.log("Cycle deleted successfully")}catch(b){throw console.error("Error deleting cycle:",b),n({title:"Error",description:"No se pudo eliminar el ciclo.",variant:"destructive"}),b}finally{l(!1)}}},[e,c,n]),E=m.useCallback(async(y,b,P)=>{if(e!=null&&e.uid){console.log("Updating cycle dates:",y,b,P),l(!0);try{await ZC(y,e.uid,b,P),await c(),console.log("Cycle dates updated successfully")}catch(R){console.error("Error updating cycle dates:",R);const D=R.message&&R.message.includes("overlap")?"Las fechas coinciden con otro ciclo.":"No se pudieron actualizar las fechas.";throw n({title:"Error",description:D,variant:"destructive"}),R}finally{l(!1)}}},[e,c,n]),x=m.useCallback(async y=>{if(!(e!=null&&e.uid))return null;console.log("Fetching cycle by ID:",y),l(!0);try{const b=await QC(e.uid,y);if(!b)return null;const P=Ks(b.startDate),R=Ks(b.endDate),D=$g(b.data||[],P),S=eS(D,R),C={...b,startDate:P??be(Ce(new Date),"yyyy-MM-dd"),endDate:R,data:S};return console.log("Cycle fetched successfully:",C),C}catch(b){return console.error("Error fetching cycle by ID:",b),null}finally{l(!1)}},[e]);return{currentCycle:r,archivedCycles:o,addOrUpdateDataPoint:u,deleteRecord:f,startNewCycle:g,updateCycleDates:E,isLoading:a,getCycleById:x,refreshData:c,toggleIgnoreRecord:h,addArchivedCycle:w,deleteCycle:v}},Oee=({cycleData:t})=>{const e=t.records||[],n=o=>{switch(o){case"red":return{main:"#dc2626",light:"#fecaca",glow:"rgba(220, 38, 38, 0.3)"};case"white":return{main:"#f8fafc",light:"#ffffff",glow:"rgba(248, 250, 252, 0.6)",border:"#e2e8f0"};case"green":return{main:"#059669",light:"#a7f3d0",glow:"rgba(5, 150, 105, 0.3)"};case"spot":return{main:"#ec4899",light:"#fbcfe8",glow:"rgba(236, 72, 153, 0.3)"};default:return{main:"#f1f5f9",light:"#f8fafc",glow:"rgba(241, 245, 249, 0.2)"}}},i=(()=>{const o=Math.max(t.currentDay,28),s=40;return Array.from({length:o},(a,l)=>{const c=l+1,u=e.find(v=>v.cycleDay===c),f=l/o*2*Math.PI-Math.PI/2,h=50+s*Math.cos(f),g=50+s*Math.sin(f),w=c<=t.currentDay&&u?n(u.fertility_symbol):{main:"#e2e8f0",light:"#f8fafc",glow:"rgba(226, 232, 240, 0.2)"};return{x:h,y:g,day:c,colors:w,isActive:c<=t.currentDay,hasRecord:!!u,isToday:c===t.currentDay}})})();return p.jsxs("div",{className:"relative",children:[p.jsxs(xe.div,{className:"text-center mb-6",initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.4},children:[p.jsx("h1",{className:"text-2xl font-bold text-gray-800 mb-1",children:new Date().toLocaleDateString("es-ES",{weekday:"long",day:"numeric",month:"long"})}),p.jsxs("p",{className:"text-sm text-gray-500",children:["Día ",t.currentDay," del ciclo"]})]}),p.jsxs(xe.div,{className:"bg-white rounded-3xl p-8 mb-6 shadow-xl shadow-pink-500/10 border border-pink-100/50",initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{duration:.4,delay:.1},children:[p.jsx("div",{className:"text-center mb-8",children:p.jsxs(xe.div,{className:"relative inline-flex items-center justify-center w-64 h-64 mb-6",initial:{scale:0},animate:{scale:1},transition:{type:"spring",stiffness:200,damping:15,delay:.3},children:[p.jsxs("svg",{className:"w-full h-full",viewBox:"0 0 100 100",children:[p.jsx("circle",{cx:"50",cy:"50",r:"20",fill:"none",stroke:"rgba(255, 192, 203, 0.1)",strokeWidth:"0.5"}),[7,14,21,28].map(o=>{const s=o/28*2*Math.PI-Math.PI/2,a=50+45*Math.cos(s),l=50+45*Math.sin(s),c=50+55*Math.cos(s),u=50+55*Math.sin(s);return p.jsx("line",{x1:a,y1:l,x2:c,y2:u,stroke:"rgba(156, 163, 175, 0.3)",strokeWidth:"0.5"},o)}),p.jsx("defs",{children:i.map((o,s)=>p.jsxs("filter",{id:`glow-${s}`,children:[p.jsx("feGaussianBlur",{stdDeviation:"2",result:"coloredBlur"}),p.jsxs("feMerge",{children:[p.jsx("feMergeNode",{in:"coloredBlur"}),p.jsx("feMergeNode",{in:"SourceGraphic"})]})]},`glow-${s}`))}),i.map((o,s)=>p.jsxs("g",{children:[o.isToday&&p.jsx(xe.circle,{cx:o.x,cy:o.y,r:"4",fill:o.colors.glow,initial:{r:0,opacity:0},animate:{r:8,opacity:1},transition:{duration:1.2,delay:.8+s*.02,repeat:1/0,repeatType:"reverse",ease:"easeInOut"}}),p.jsx(xe.circle,{cx:o.x,cy:o.y,r:o.isToday?"5":"3.5",fill:o.isActive?o.colors.main:"#f1f5f9",stroke:o.colors.border||"rgba(255, 255, 255, 0.8)",strokeWidth:o.isToday?"2":"1",opacity:o.isActive?1:.4,initial:{scale:0,opacity:0},animate:{scale:1,opacity:o.isActive?1:.4},transition:{duration:.6,delay:.8+s*.02,type:"spring",stiffness:400,damping:25},filter:o.isToday?`url(#glow-${s})`:void 0}),o.hasRecord&&o.isActive&&p.jsx(xe.circle,{cx:o.x,cy:o.y,r:"1",fill:"rgba(255, 255, 255, 0.9)",initial:{scale:0},animate:{scale:1},transition:{duration:.3,delay:1.2+s*.02}})]},s))]}),p.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center",children:[p.jsxs(xe.div,{className:"text-center",initial:{opacity:0,scale:.5},animate:{opacity:1,scale:1},transition:{delay:1,type:"spring",stiffness:200},children:[p.jsx("span",{className:"text-5xl font-bold bg-gradient-to-br from-pink-600 via-rose-600 to-purple-600 bg-clip-text text-transparent block",children:t.currentDay}),p.jsx("span",{className:"text-sm text-gray-500 font-medium mt-1 block",children:"día del ciclo"})]}),p.jsx(xe.div,{className:"mt-3 px-3 py-1 bg-gradient-to-r from-pink-100 to-rose-100 rounded-full",initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:1.3},children:p.jsx("span",{className:"text-xs font-medium text-pink-700",children:t.currentDay<=7?"Menstrual":t.currentDay<=14?"Folicular":t.currentDay<=21?"Ovulatoria":"Lútea"})})]})]})}),p.jsx(xe.div,{className:"flex justify-center gap-4 mb-6",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4,delay:.5},children:[{color:"#dc2626",label:"Menstrual",symbol:"red"},{color:"#f8fafc",label:"Fértil",symbol:"white",border:"#e2e8f0"},{color:"#059669",label:"Infértil",symbol:"green"},{color:"#ec4899",label:"Spotting",symbol:"spot"}].map(o=>p.jsxs("div",{className:"flex items-center gap-1",children:[p.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:o.color,border:o.border?`1px solid ${o.border}`:"none"}}),p.jsx("span",{className:"text-xs text-gray-600",children:o.label})]},o.symbol))}),p.jsxs(xe.div,{className:"bg-gradient-to-br from-rose-50 to-pink-50 rounded-2xl p-4 text-sm text-gray-700 border border-pink-100/50",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4,delay:.6},children:[p.jsxs("h3",{className:"font-semibold mb-2 text-gray-800 flex items-center gap-2",children:[p.jsx("div",{className:"w-2 h-2 bg-pink-400 rounded-full"}),"Información del ciclo"]}),p.jsxs("ul",{className:"space-y-1",children:[p.jsx("li",{className:"font-medium text-pink-800",children:"CPM"}),p.jsx("li",{className:"ml-2 text-gray-600",children:"Datos incompletos"}),p.jsx("li",{className:"font-medium pt-2 text-pink-800",children:"T-8"}),p.jsx("li",{className:"ml-2 text-gray-600",children:"Datos incompletos"})]})]})]})]})},Lee=({onAddRecord:t,onAddCycle:e})=>{const[n,r]=m.useState(!1);return p.jsxs("div",{className:"fixed bottom-20 right-6 flex flex-col items-end space-y-3 z-40",children:[n&&p.jsxs(p.Fragment,{children:[p.jsx(xe.button,{onClick:t,className:"w-12 h-12 rounded-full bg-gradient-to-br from-pink-500 to-rose-500 text-white shadow-lg flex items-center justify-center",whileTap:{scale:.95},whileHover:{scale:1.05},initial:{opacity:0,y:20},animate:{opacity:1,y:0},children:p.jsx(eH,{className:"h-5 w-5"})}),p.jsx(xe.button,{onClick:e,className:"w-12 h-12 rounded-full bg-gradient-to-br from-fuchsia-500 to-purple-500 text-white shadow-lg flex items-center justify-center",whileTap:{scale:.95},whileHover:{scale:1.05},initial:{opacity:0,y:20},animate:{opacity:1,y:0},children:p.jsx(qz,{className:"h-5 w-5"})})]}),p.jsx(xe.button,{onClick:()=>r(!n),className:"w-14 h-14 bg-gradient-to-br from-pink-500 to-rose-500 text-white rounded-full shadow-lg flex items-center justify-center",whileTap:{scale:.95},whileHover:{scale:1.05},initial:{scale:0},animate:{scale:1},children:p.jsx(Ry,{className:"h-6 w-6"})})]})},Vee=()=>{const{currentCycle:t,addOrUpdateDataPoint:e,startNewCycle:n,isLoading:r}=ju(),[i,o]=m.useState(!1),[s,a]=m.useState(!1);if(r)return p.jsx("p",{className:"text-center text-gray-500",children:"Cargando..."});if(!(t!=null&&t.id))return p.jsx("p",{className:"text-center text-gray-500",children:"No hay ciclo activo."});const l=To(Ce(new Date),le(t.startDate))+1,c=async u=>{a(!0);try{await e(u),o(!1)}finally{a(!1)}};return p.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-rose-50 via-pink-50 to-purple-50 pb-20",children:[p.jsx("div",{className:"max-w-md mx-auto px-4 pt-12",children:p.jsx(xe.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},transition:{duration:.3},children:p.jsx(Oee,{cycleData:{...t,currentDay:l,records:t.data}})})}),i&&p.jsx(z1,{onSubmit:c,onCancel:()=>o(!1),cycleStartDate:t.startDate,cycleEndDate:t.endDate,isProcessing:s}),p.jsx(Lee,{onAddRecord:()=>o(!0),onAddCycle:()=>n()})]})},jee=Ap("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors",{variants:{variant:{default:"bg-primary text-primary-foreground border-transparent",secondary:"bg-secondary text-secondary-foreground border-transparent",destructive:"bg-destructive text-destructive-foreground border-transparent",outline:"text-foreground"}},defaultVariants:{variant:"default"}}),oM=m.forwardRef(({className:t,variant:e,...n},r)=>p.jsx("div",{ref:r,className:Ue(jee({variant:e}),t),...n}));oM.displayName="Badge";function H1(t,e){m.useEffect(()=>{if(!t)return;const n=crypto.randomUUID?crypto.randomUUID():Math.random().toString(36).slice(2),r=i=>{i.state&&i.state.overlay===n&&e()};return window.history.pushState({overlay:n},""),window.addEventListener("popstate",r),()=>{window.removeEventListener("popstate",r),window.history.state&&window.history.state.overlay===n&&window.history.back()}},[t,e])}var Jp="Dialog",[sM,wne]=Ls(Jp),[Fee,xr]=sM(Jp),aM=t=>{const{__scopeDialog:e,children:n,open:r,defaultOpen:i,onOpenChange:o,modal:s=!0}=t,a=m.useRef(null),l=m.useRef(null),[c,u]=jp({prop:r,defaultProp:i??!1,onChange:o,caller:Jp});return p.jsx(Fee,{scope:e,triggerRef:a,contentRef:l,contentId:mf(),titleId:mf(),descriptionId:mf(),open:c,onOpenChange:u,onOpenToggle:m.useCallback(()=>u(f=>!f),[u]),modal:s,children:n})};aM.displayName=Jp;var lM="DialogTrigger",$ee=m.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=xr(lM,n),o=lt(e,i.triggerRef);return p.jsx(ze.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":Y1(i.open),...r,ref:o,onClick:$e(t.onClick,i.onOpenToggle)})});$ee.displayName=lM;var q1="DialogPortal",[Uee,cM]=sM(q1,{forceMount:void 0}),uM=t=>{const{__scopeDialog:e,forceMount:n,children:r,container:i}=t,o=xr(q1,e);return p.jsx(Uee,{scope:e,forceMount:n,children:m.Children.map(r,s=>p.jsx(Zn,{present:n||o.open,children:p.jsx(Hp,{asChild:!0,container:i,children:s})}))})};uM.displayName=q1;var Lh="DialogOverlay",dM=m.forwardRef((t,e)=>{const n=cM(Lh,t.__scopeDialog),{forceMount:r=n.forceMount,...i}=t,o=xr(Lh,t.__scopeDialog);return o.modal?p.jsx(Zn,{present:r||o.open,children:p.jsx(Wee,{...i,ref:e})}):null});dM.displayName=Lh;var Bee=Xa("DialogOverlay.RemoveScroll"),Wee=m.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=xr(Lh,n);return p.jsx(wD,{as:Bee,allowPinchZoom:!0,shards:[i.contentRef],children:p.jsx(ze.div,{"data-state":Y1(i.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),Ps="DialogContent",fM=m.forwardRef((t,e)=>{const n=cM(Ps,t.__scopeDialog),{forceMount:r=n.forceMount,...i}=t,o=xr(Ps,t.__scopeDialog);return p.jsx(Zn,{present:r||o.open,children:o.modal?p.jsx(zee,{...i,ref:e}):p.jsx(Hee,{...i,ref:e})})});fM.displayName=Ps;var zee=m.forwardRef((t,e)=>{const n=xr(Ps,t.__scopeDialog),r=m.useRef(null),i=lt(e,n.contentRef,r);return m.useEffect(()=>{const o=r.current;if(o)return L1(o)},[]),p.jsx(hM,{...t,ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:$e(t.onCloseAutoFocus,o=>{var s;o.preventDefault(),(s=n.triggerRef.current)==null||s.focus()}),onPointerDownOutside:$e(t.onPointerDownOutside,o=>{const s=o.detail.originalEvent,a=s.button===0&&s.ctrlKey===!0;(s.button===2||a)&&o.preventDefault()}),onFocusOutside:$e(t.onFocusOutside,o=>o.preventDefault())})}),Hee=m.forwardRef((t,e)=>{const n=xr(Ps,t.__scopeDialog),r=m.useRef(!1),i=m.useRef(!1);return p.jsx(hM,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{var s,a;(s=t.onCloseAutoFocus)==null||s.call(t,o),o.defaultPrevented||(r.current||(a=n.triggerRef.current)==null||a.focus(),o.preventDefault()),r.current=!1,i.current=!1},onInteractOutside:o=>{var l,c;(l=t.onInteractOutside)==null||l.call(t,o),o.defaultPrevented||(r.current=!0,o.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const s=o.target;((c=n.triggerRef.current)==null?void 0:c.contains(s))&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&i.current&&o.preventDefault()}})}),hM=m.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:o,...s}=t,a=xr(Ps,n),l=m.useRef(null),c=lt(e,l);return IN(),p.jsxs(p.Fragment,{children:[p.jsx(S1,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:o,children:p.jsx(Up,{role:"dialog",id:a.contentId,"aria-describedby":a.descriptionId,"aria-labelledby":a.titleId,"data-state":Y1(a.open),...s,ref:c,onDismiss:()=>a.onOpenChange(!1)})}),p.jsxs(p.Fragment,{children:[p.jsx(qee,{titleId:a.titleId}),p.jsx(Yee,{contentRef:l,descriptionId:a.descriptionId})]})]})}),G1="DialogTitle",pM=m.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=xr(G1,n);return p.jsx(ze.h2,{id:i.titleId,...r,ref:e})});pM.displayName=G1;var mM="DialogDescription",gM=m.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=xr(mM,n);return p.jsx(ze.p,{id:i.descriptionId,...r,ref:e})});gM.displayName=mM;var vM="DialogClose",yM=m.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=xr(vM,n);return p.jsx(ze.button,{type:"button",...r,ref:e,onClick:$e(t.onClick,()=>i.onOpenChange(!1))})});yM.displayName=vM;function Y1(t){return t?"open":"closed"}var wM="DialogTitleWarning",[_ne,_M]=dH(wM,{contentName:Ps,titleName:G1,docsSlug:"dialog"}),qee=({titleId:t})=>{const e=_M(wM),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return m.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},Gee="DialogDescriptionWarning",Yee=({contentRef:t,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${_M(Gee).contentName}}.`;return m.useEffect(()=>{var o;const i=(o=t.current)==null?void 0:o.getAttribute("aria-describedby");e&&i&&(document.getElementById(e)||console.warn(r))},[r,t,e]),null},Kee=aM,Qee=uM,xM=dM,EM=fM,bM=pM,TM=gM,Xee=yM;const CM=Kee,Jee=Qee,SM=_e.forwardRef(({className:t,...e},n)=>p.jsx(xM,{ref:n,className:Ue("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));SM.displayName=xM.displayName;const K1=_e.forwardRef(({className:t,children:e,...n},r)=>p.jsxs(Jee,{children:[p.jsx(SM,{}),p.jsxs(EM,{ref:r,className:Ue("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...n,children:[e,p.jsxs(Xee,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[p.jsx(s1,{className:"h-4 w-4"}),p.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));K1.displayName=EM.displayName;const Q1=({className:t,...e})=>p.jsx("div",{className:Ue("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});Q1.displayName="DialogHeader";const X1=({className:t,...e})=>p.jsx("div",{className:Ue("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});X1.displayName="DialogFooter";const J1=_e.forwardRef(({className:t,...e},n)=>p.jsx(bM,{ref:n,className:Ue("text-lg font-semibold leading-none tracking-tight",t),...e}));J1.displayName=bM.displayName;const Z1=_e.forwardRef(({className:t,...e},n)=>p.jsx(TM,{ref:n,className:Ue("text-sm text-muted-foreground",t),...e}));Z1.displayName=TM.displayName;const vf=({isOpen:t,onClose:e,onConfirm:n,initialStartDate:r,initialEndDate:i,includeEndDate:o=!0,title:s="Editar Fechas del Ciclo",description:a})=>{const[l,c]=m.useState(r||""),[u,f]=m.useState(i||""),[h,g]=m.useState("");H1(t,e),m.useEffect(()=>{c(r||""),f(i||"")},[r,i]);const w=()=>{if(o&&!u){g("La fecha de fin es obligatoria");return}n(o?{startDate:l,endDate:u}:{startDate:l})};return p.jsx(CM,{open:t,onOpenChange:e,children:p.jsxs(K1,{className:"bg-white border-pink-100 text-gray-800",children:[p.jsxs(Q1,{children:[p.jsx(J1,{children:s}),p.jsx(Z1,{className:"text-gray-600",children:a??(o?"Modifica la fecha de inicio y fin del ciclo.":"Modifica la fecha de inicio del ciclo.")})]}),p.jsxs("div",{className:"my-4 space-y-4",children:[p.jsxs("div",{children:[p.jsx("label",{htmlFor:"startDate",className:"text-gray-700 text-sm",children:"Inicio del ciclo"}),p.jsx(fr,{id:"startDate",type:"date",value:l,onChange:v=>c(v.target.value),className:"bg-gray-50 border-gray-200 text-gray-800"})]}),o&&p.jsxs("div",{children:[p.jsx("label",{htmlFor:"endDate",className:"text-gray-700 text-sm",children:"Fin del ciclo"}),p.jsx(fr,{id:"endDate",type:"date",value:u||"",onChange:v=>{f(v.target.value),g("")},className:"bg-gray-50 border-gray-200 text-gray-800"}),h&&p.jsx("p",{className:"text-red-500 text-sm mt-1",children:h})]})]}),p.jsxs(X1,{className:"sm:justify-end",children:[p.jsx(Se,{variant:"outline",onClick:e,className:"border-gray-300 text-gray-700 hover:bg-gray-100",children:"Cancelar"}),p.jsx(Se,{variant:"primary",onClick:w,className:"bg-pink-600 hover:bg-pink-700 text-white",children:"Guardar"})]})]})})},Zee=()=>{const{currentCycle:t,archivedCycles:e,isLoading:n,addArchivedCycle:r,updateCycleDates:i,deleteCycle:o}=ju(),[s,a]=m.useState(!1),[l,c]=m.useState(null),u=async({startDate:v,endDate:E})=>{try{await r(v,E),a(!1)}catch{}},f=async({startDate:v,endDate:E})=>{if(l)try{await i(l.id,v,E),c(null)}catch{}},h=v=>{window.confirm("¿Eliminar este ciclo?")&&o(v)},g=t.id?[{...t,isCurrent:!0,needsCompletion:!t.endDate},...e]:e;if(n)return p.jsx("div",{className:"text-center text-slate-300 p-8",children:"Cargando ciclos archivados..."});if(!g||g.length===0)return p.jsxs(xe.div,{className:"text-center text-slate-400 py-10 flex flex-col items-center",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:[p.jsx($2,{className:"w-24 h-24 text-slate-500 mb-6"}),p.jsx("h2",{className:"text-2xl font-semibold text-slate-200 mb-4",children:"No hay ciclos archivados"}),p.jsx("p",{className:"text-lg",children:"Cuando inicies un nuevo ciclo, el anterior aparecerá aquí."}),p.jsxs("div",{className:"flex gap-4 mt-8",children:[p.jsx(Se,{asChild:!0,className:"bg-gradient-to-r from-pink-500 to-fuchsia-600 hover:from-pink-600 hover:to-fuchsia-700 text-white",children:p.jsx(qf,{to:"/",children:"Volver al Ciclo Actual"})}),p.jsxs(Se,{onClick:()=>a(!0),className:"bg-pink-600 hover:bg-pink-700 text-white",children:[p.jsx(Ry,{className:"mr-2 h-4 w-4"})," Crear Ciclo"]})]}),p.jsx(vf,{isOpen:s,onClose:()=>a(!1),onConfirm:u,title:"Añadir Ciclo Anterior",description:"Ingresa las fechas de un ciclo previo para añadir registros."})]});const w=[...g].sort((v,E)=>le(E.startDate)-le(v.startDate));return p.jsxs("div",{className:"w-full max-w-4xl mx-auto",children:[p.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center mb-8",children:[p.jsx(xe.h1,{className:"text-3xl sm:text-4xl font-bold text-slate-500 mb-4 sm:mb-0",initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5},children:"Mis Ciclos"}),p.jsxs(Se,{onClick:()=>a(!0),className:"bg-pink-600 hover:bg-pink-700 text-white",children:[p.jsx(Ry,{className:"mr-2 h-4 w-4"})," Añadir Ciclo"]})]}),p.jsx(xe.ul,{className:"space-y-6",variants:{hidden:{opacity:0},show:{opacity:1,transition:{staggerChildren:.1}}},initial:"hidden",animate:"show",children:w.map(v=>{const E=v.endDate?be(le(v.endDate),"dd MMM yyyy",{locale:nl}):"Sin fecha fin",x=v.data?v.data.length:0;return v.needsCompletion,p.jsx(xe.li,{className:"bg-white/70 backdrop-blur-md ring-1 ring-[#FFB1DD]/50 shadow-xl rounded-xl p-6 hover:shadow-2xl transition-shadow duration-300",variants:{hidden:{opacity:0,y:20},show:{opacity:1,y:0}},children:p.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center",children:[p.jsxs("div",{children:[p.jsxs("h2",{className:"text-xl font-semibold text-pink-400 mb-1",children:["Ciclo: ",be(le(v.startDate),"dd MMM yyyy",{locale:nl})," - ",E,v.isCurrent&&p.jsx(oM,{className:"ml-2 bg-pink-500 text-white",children:"Ciclo actual"})]}),p.jsxs("p",{className:"text-sm text-slate-400",children:[x," registro",x!==1?"s":""]})]}),p.jsxs("div",{className:"flex gap-2 mt-4 sm:mt-0",children:[p.jsx(Se,{asChild:!0,variant:"outline",className:"border-pink-500 text-pink-400 hover:bg-pink-500/20 hover:text-pink-300",children:p.jsxs(qf,{to:v.isCurrent?"/":`/cycle/${v.id}`,children:[p.jsx(au,{className:"mr-2 h-4 w-4"})," Ver"]})}),p.jsxs(Se,{variant:"destructive",onClick:()=>h(v.id),children:[p.jsx(Th,{className:"mr-2 h-4 w-4"})," Eliminar"]})]})]})},v.id)})}),p.jsx(vf,{isOpen:s,onClose:()=>a(!1),onConfirm:u,title:"Añadir Ciclo Anterior",description:"Ingresa las fechas de un ciclo previo para añadir registros."}),p.jsx(vf,{isOpen:!!l,onClose:()=>c(null),onConfirm:f,initialStartDate:l==null?void 0:l.startDate,initialEndDate:l==null?void 0:l.endDate,title:"Editar Fechas del Ciclo",description:"Actualiza las fechas del ciclo."})]})},ete=({padding:t,chartWidth:e,chartHeight:n,tempMin:r,tempMax:i,tempRange:o,getY:s,getX:a,allDataPoints:l=[],responsiveFontSize:c,isFullScreen:u,showLeftLabels:f=!0})=>{const h={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.3,ease:"easeOut"}}},g=[];if(o>0){const w=o<=2.5?.1:.5;for(let v=r;v<=i+1e-9;v+=w)g.push(parseFloat(v.toFixed(1)))}else for(let w=35;w<=37.5+1e-9;w+=.5)g.push(parseFloat(w.toFixed(1)));return p.jsxs(p.Fragment,{children:[p.jsxs("defs",{children:[p.jsxs("linearGradient",{id:"bgGradient",x1:"0%",y1:"0%",x2:"0%",y2:"100%",children:[p.jsx("stop",{offset:"0%",stopColor:"rgba(252, 231, 243, 0.3)"}),p.jsx("stop",{offset:"50%",stopColor:"rgba(255, 255, 255, 0.8)"}),p.jsx("stop",{offset:"100%",stopColor:"rgba(252, 231, 243, 0.2)"})]}),p.jsxs("filter",{id:"softGlow",x:"-50%",y:"-50%",width:"200%",height:"200%",children:[p.jsx("feGaussianBlur",{stdDeviation:"1",result:"coloredBlur"}),p.jsxs("feMerge",{children:[p.jsx("feMergeNode",{in:"coloredBlur"}),p.jsx("feMergeNode",{in:"SourceGraphic"})]})]})]}),p.jsx("rect",{x:t.left,y:t.top,width:e-t.left-t.right,height:n-t.top-t.bottom,fill:"url(#bgGradient)",opacity:.4}),g.map((w,v)=>{const E=s(w),x=w.toFixed(1).endsWith(".0")||w.toFixed(1).endsWith(".5"),y=x?w.toFixed(1):`.${w.toFixed(1).split(".")[1]}`;return p.jsxs(xe.g,{variants:h,children:[p.jsx("line",{x1:t.left,y1:E,x2:e-t.right,y2:E,stroke:x?"rgba(244, 114, 182, 0.25)":"rgba(244, 114, 182, 0.15)",strokeWidth:x?1.5:1,strokeDasharray:x?"0":"3,3",style:{filter:x?"drop-shadow(0 1px 2px rgba(244, 114, 182, 0.1))":"none"}}),f&&p.jsx("text",{x:t.left-c(1),y:E+c(.35),textAnchor:"end",fontSize:c(x?1:.9),fontWeight:x?"600":"500",fill:x?"#E91E63":"#EC4899",style:{filter:"drop-shadow(0 1px 1px rgba(255, 255, 255, 0.8))",fontFamily:'-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif'},children:y}),p.jsx("text",{x:e-t.right+c(1),y:E+c(.35),textAnchor:"start",fontSize:c(x?1:.9),fontWeight:x?"600":"500",fill:x?"#E91E63":"#EC4899",style:{filter:"drop-shadow(0 1px 1px rgba(255, 255, 255, 0.8))",fontFamily:'-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif'},children:y})]},`temp-tick-${v}`)}),l.map((w,v)=>{const E=a(v);return p.jsx("line",{x1:E,y1:t.top,x2:E,y2:n-t.bottom,stroke:"rgba(244, 114, 182, 0.12)",strokeWidth:.8,style:{filter:"drop-shadow(0 0 1px rgba(244, 114, 182, 0.1))"}},`day-grid-${v}`)}),f&&p.jsxs(xe.g,{variants:h,children:[p.jsx("rect",{x:t.left-c(.2),y:t.top-c(.2),width:c(2.8),height:c(2),rx:c(.3),fill:"rgba(244, 114, 182, 0.1)",stroke:"rgba(244, 114, 182, 0.2)",strokeWidth:.5}),p.jsx("text",{x:t.left+c(1.2),y:t.top+c(1.1),textAnchor:"middle",fontSize:c(1.3),fontWeight:"700",fill:"#E91E63",style:{filter:"drop-shadow(0 1px 2px rgba(255, 255, 255, 0.8))",fontFamily:'-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif'},children:"°C"})]}),p.jsx("rect",{x:t.left,y:t.top,width:e-t.left-t.right,height:n-t.top-t.bottom,fill:"none",stroke:"rgba(244, 114, 182, 0.2)",strokeWidth:1.5,rx:8,style:{filter:"drop-shadow(0 2px 4px rgba(244, 114, 182, 0.1))"}})]})},tte=({data:t,allDataPoints:e,getX:n,getY:r,baselineY:i,temperatureField:o="temperature"})=>{if(!t||t.length<2)return null;let s="",a=null;return e.forEach((l,c)=>{const u=t.find(f=>f.id===l.id);if(u&&u[o]!==null&&u[o]!==void 0&&!u.ignored){const f=n(c),h=r(u[o]);a!==null&&c===a+1?s+=` L ${f} ${h}`:s+=`${s?" ":""}M ${f} ${h}`,a=c}}),s.includes("L")?p.jsx(p.Fragment,{children:p.jsx(xe.path,{d:s,fill:"none",stroke:"url(#tempLineGradientChart)",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round",initial:{pathLength:0,opacity:0},animate:{pathLength:1,opacity:1},transition:{duration:.2,ease:"easeInOut"}})}):null},tS="#1E40AF",nS="#059669",rS="#BE185D",nte="rgba(30, 64, 175, 0.08)",rte="rgba(5, 150, 105, 0.08)",ite="rgba(190, 24, 93, 0.08)",ote=t=>{if(!t)return"";const[e,n]=t.split("/");return`${parseInt(e,10)}/${parseInt(n,10)}`},Ug=(t="",e,n,r="–")=>{if(!t)return[r,""];if(t.length<=e)return[t,""];if(n)return[t.slice(0,e),""];const i=t.indexOf(" ",e);return i===-1?[t.slice(0,e),t.slice(e)]:[t.slice(0,i),t.slice(i+1)]},Bg=(t="",e,n="–")=>t?t.split(/\s+/).slice(0,e).join(" "):n,ste=({data:t,getX:e,getY:n,isFullScreen:r,orientation:i,responsiveFontSize:o,onPointInteraction:s,clearActivePoint:a,activePoint:l,padding:c,chartHeight:u,chartWidth:f,temperatureField:h="temperature_chart",textRowHeight:g})=>{const w={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.4,ease:"easeOut"}}},v={hidden:{opacity:0,scale:.5},visible:{opacity:1,scale:1,transition:{duration:.5,ease:"easeOut",type:"spring",stiffness:100}}},E=u-c.bottom,x=E+g*1,y=E+g*2,b=E+g*3,P=E+g*(r?5:4.5),R=E+g*(r?7:6),D=E+g*(r?9:7.5),S=f-c.left-c.right,C=g*(r?2:1.5);return p.jsxs(p.Fragment,{children:[p.jsxs("defs",{children:[p.jsx("filter",{id:"rowShadow",x:"-10%",y:"-10%",width:"120%",height:"120%",children:p.jsx("feDropShadow",{dx:"0",dy:"1",stdDeviation:"2",floodColor:"rgba(244, 114, 182, 0.15)"})}),p.jsxs("linearGradient",{id:"sensationGradient",x1:"0%",y1:"0%",x2:"100%",y2:"0%",children:[p.jsx("stop",{offset:"0%",stopColor:nte}),p.jsx("stop",{offset:"100%",stopColor:"rgba(30, 64, 175, 0.02)"})]}),p.jsxs("linearGradient",{id:"appearanceGradient",x1:"0%",y1:"0%",x2:"100%",y2:"0%",children:[p.jsx("stop",{offset:"0%",stopColor:rte}),p.jsx("stop",{offset:"100%",stopColor:"rgba(5, 150, 105, 0.02)"})]}),p.jsxs("linearGradient",{id:"observationGradient",x1:"0%",y1:"0%",x2:"100%",y2:"0%",children:[p.jsx("stop",{offset:"0%",stopColor:ite}),p.jsx("stop",{offset:"100%",stopColor:"rgba(190, 24, 93, 0.02)"})]})]}),p.jsxs("g",{children:[p.jsx("rect",{x:c.left,y:P-C/2,width:S,height:C,fill:"url(#sensationGradient)",rx:6,style:{filter:"url(#rowShadow)"}}),p.jsx("rect",{x:c.left,y:R-C/2,width:S,height:C,fill:"url(#appearanceGradient)",rx:6,style:{filter:"url(#rowShadow)"}}),p.jsx("rect",{x:c.left,y:D-C/2,width:S,height:C,fill:"url(#observationGradient)",rx:6,style:{filter:"url(#rowShadow)"}})]}),(!r||i!=="portrait")&&p.jsx(xe.g,{variants:w,children:[{label:"Fecha",row:1,color:r?"#374151":"#6B7280"},{label:"Día",row:2,color:r?"#374151":"#6B7280"},{label:"Símbolo",row:3,color:r?"#374151":"#6B7280"},{label:"Sens.",row:r?5:4.5,color:tS},{label:"Apar.",row:r?7:6,color:nS},{label:"Observ.",row:r?9:7.5,color:rS}].map(({label:I,row:A,color:M})=>p.jsx("text",{x:c.left-o(1.5),y:E+g*A,textAnchor:"end",fontSize:o(.95),fontWeight:"600",fill:M,style:{filter:"drop-shadow(0 1px 1px rgba(255, 255, 255, 0.8))",fontFamily:'-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif'},children:I},I))}),t.map((I,A)=>{const M=e(A),O=I[h]!=null?n(I[h]):E,N=r?"#374151":"#6B7280",F=I[h]!=null,Y=F||I.mucus_sensation||I.mucus_appearance||I.fertility_symbol,K=String(I.id||"").startsWith("placeholder-"),W=!Y||K?{}:{pointerEvents:"all",style:{cursor:"pointer"},onMouseEnter:ee=>s(I,A,ee),onClick:ee=>s(I,A,ee)},L=W1(I.fertility_symbol);let j="transparent";if(L!=null&&L.color){const ee=L.color.replace(/^bg-/,"");ee==="red-500"?j="#ef4444":ee==="white"?j="#ffffff":ee==="green-500"?j="#22c55e":ee==="pink-300"&&(j="#f9a8d4")}const U=o(r?1.4:1.6),z=I.isoDate?Sh(Ce(le(I.isoDate)),Ce(new Date)):!1,B=r?4:9,q=2,[Z,se]=Ug(r?Bg(I.mucus_sensation,q,z?"":"–"):I.mucus_sensation,B,!1,z?"":"–"),[ye,J]=Ug(r?Bg(I.mucus_appearance,q,z?"":"–"):I.mucus_appearance,B,!1,z?"":"–"),[re,te]=Ug(r?Bg(I.observations,q,""):I.observations,B,!1,"");return p.jsxs(xe.g,{variants:w,...W,children:[F&&p.jsxs(xe.g,{variants:v,children:[p.jsx("circle",{cx:M,cy:O,r:8,fill:"rgba(244, 114, 182, 0.15)",opacity:.6}),p.jsx("circle",{cx:M,cy:O,r:5,fill:I.ignored?"white":"url(#tempPointGradient)",stroke:I.use_corrected?"#F59E0B":"#E91E63",strokeWidth:I.ignored?2:2.5,style:{filter:"drop-shadow(0 2px 4px rgba(244, 114, 182, 0.3))",cursor:"pointer"},pointerEvents:"all",onMouseEnter:ee=>s(I,A,ee),onTouchStart:ee=>s(I,A,ee),onClick:ee=>s(I,A,ee)}),!I.ignored&&p.jsx("circle",{cx:M,cy:O,r:2,fill:"rgba(255, 255, 255, 0.8)"})]}),p.jsx("defs",{children:p.jsxs("radialGradient",{id:"tempPointGradient",cx:"30%",cy:"30%",children:[p.jsx("stop",{offset:"0%",stopColor:"#F472B6"}),p.jsx("stop",{offset:"70%",stopColor:"#E91E63"}),p.jsx("stop",{offset:"100%",stopColor:"#C2185B"})]})}),p.jsx("text",{x:M,y:x,textAnchor:"middle",fontSize:o(.95),fontWeight:"600",fill:N,style:{fontFamily:'-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif'},children:ote(I.date)}),p.jsx("text",{x:M,y,textAnchor:"middle",fontSize:o(.9),fontWeight:"500",fill:N,style:{fontFamily:'-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif'},children:I.cycleDay}),!K&&(L.value!=="none"?p.jsx("rect",{x:M-U/2,y:b-U*.75,width:U,height:U,fill:L.pattern==="spotting-pattern"?"url(#spotting-pattern-chart)":j,stroke:L.value==="white"?"#E91E63":"rgba(233, 30, 99, 0.3)",strokeWidth:L.value==="white"?1.5:1,rx:U*.25,style:{filter:"drop-shadow(0 1px 2px rgba(244, 114, 182, 0.2))"}}):p.jsx("text",{x:M,y:b,textAnchor:"middle",fontSize:o(.9),fill:N,fontWeight:"400",children:"–"})),p.jsxs("text",{x:M,y:P,textAnchor:"middle",fontSize:o(.85),fontWeight:"600",fill:tS,style:{fontFamily:'-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif'},children:[p.jsx("tspan",{x:M,dy:0,children:Z}),se&&p.jsx("tspan",{x:M,dy:o(1),children:se})]}),p.jsxs("text",{x:M,y:R,textAnchor:"middle",fontSize:o(.85),fontWeight:"600",fill:nS,style:{fontFamily:'-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif'},children:[p.jsx("tspan",{x:M,dy:0,children:ye}),J&&p.jsx("tspan",{x:M,dy:o(1),children:J})]}),p.jsxs("text",{x:M,y:D,textAnchor:"middle",fontSize:o(.85),fontWeight:"600",fill:rS,style:{fontFamily:'-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif'},children:[p.jsx("tspan",{x:M,dy:0,children:re}),te&&p.jsx("tspan",{x:M,dy:o(1),children:te})]})]},`pt-${A}-${I.isoDate||I.timestamp}`)})]})},ate=({point:t,position:e,chartWidth:n,chartHeight:r,onToggleIgnore:i,onEdit:o,onClose:s})=>{if(!t)return null;const a=130,l=120;let c=e.clientX+10,u=e.clientY+10;c+a>n&&(c=e.clientX-a-10),u+l>r&&(u=e.clientY-l-10),c<0&&(c=5),u<0&&(u=5);const f=t.temperature_chart,h=W1(t.fertility_symbol),g=t.timestamp||t.isoDate;return p.jsxs(xe.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},transition:{duration:.15},className:"absolute bg-white/80 border border-[#E27DBF] text-[#1F2937] p-2 rounded-lg shadow z-50",style:{top:u,left:c,width:a,minHeight:l},children:[p.jsx(Se,{variant:"ghost",size:"icon",onClick:s,className:"absolute top-1 right-1 text-[#E27DBF] hover:bg-[#FFB1DD]",children:p.jsx(lu,{size:16})}),p.jsxs("p",{className:"font-semibold text-sm text-[#E27DBF] mb-1",children:[g?be(le(g),"d/M",{locale:nl}):"Fecha",` (Día ${t.cycleDay||"N/A"})`]}),f!=null&&p.jsxs("p",{className:"text-xs mb-1",children:[p.jsx("span",{className:"font-medium",children:"T:"})," ",parseFloat(f).toFixed(2),"°C",t.use_corrected&&p.jsx("span",{className:"inline-block ml-1 align-middle text-[#FF0000]",children:"·"})]}),p.jsxs("div",{className:"flex items-center mb-1",children:[h&&h.value!=="none"&&p.jsx("span",{className:`w-3 h-3 rounded-full mr-1 ${h.color} ${h.pattern?"pattern-bg":""} ${h.value==="white"?"border border-gray-300":""}`}),p.jsx("p",{className:"text-xs",children:h?h.label:"-"})]}),p.jsxs("p",{className:"text-xs mb-1",children:[p.jsx("span",{className:"font-medium",children:"Sens.:"})," ",t.mucus_sensation||"-"]}),p.jsxs("p",{className:"text-xs",children:[p.jsx("span",{className:"font-medium",children:"Apar.:"})," ",t.mucus_appearance||"-"]}),t.id&&!String(t.id).startsWith("placeholder-")&&p.jsxs("div",{className:"flex justify-center space-x-1 mt-1",children:[p.jsx(Se,{onClick:()=>{o&&o(t),s&&s()},variant:"outline",size:"icon",className:"text-[#393C65] hover:text-[#E27DBF] hover:bg-[#E27DBF]/10 ",children:p.jsx(ky,{className:"h-4 w-4"})}),p.jsx(Se,{onClick:()=>i(t.id),variant:t.ignored?"outline":"destructive",size:"icon",className:"hover:bg-[#FFB1DD]/20",children:t.ignored?p.jsx(au,{className:"h-4 w-4"}):p.jsx(o1,{className:"h-4 w-4"})})]})]})},lte="#1E40AF",cte="#059669",ute="#BE185D",dte=({padding:t,chartHeight:e,tempMin:n,tempMax:r,tempRange:i,getY:o,responsiveFontSize:s,textRowHeight:a,isFullScreen:l})=>{const c={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.4,ease:"easeOut"}}},u=[];if(i>0){const h=i<=2.5?.1:.5;for(let g=n;g<=r+1e-9;g+=h)u.push(parseFloat(g.toFixed(1)))}else for(let h=35;h<=37.5+1e-9;h+=.5)u.push(parseFloat(h.toFixed(1)));const f=e-t.bottom;return p.jsxs("svg",{width:t.left,height:e,className:"font-sans pointer-events-none",children:[p.jsxs("defs",{children:[p.jsxs("linearGradient",{id:"legendBgGradient",x1:"0%",y1:"0%",x2:"100%",y2:"0%",children:[p.jsx("stop",{offset:"0%",stopColor:"rgba(255, 255, 255, 0.95)"}),p.jsx("stop",{offset:"100%",stopColor:"rgba(252, 231, 243, 0.8)"})]}),p.jsx("filter",{id:"legendShadow",x:"-20%",y:"-20%",width:"140%",height:"140%",children:p.jsx("feDropShadow",{dx:"2",dy:"2",stdDeviation:"3",floodColor:"rgba(244, 114, 182, 0.15)"})})]}),p.jsx("rect",{x:0,y:f+a*.5,width:t.left,height:a*(l?9.5:8),fill:"url(#legendBgGradient)",rx:8,style:{filter:"url(#legendShadow)"}}),u.map((h,g)=>{const w=o(h),v=h.toFixed(1).endsWith(".0")||h.toFixed(1).endsWith(".5"),E=v?h.toFixed(1):`.${h.toFixed(1).split(".")[1]}`;return p.jsx(xe.text,{variants:c,x:t.left-s(1),y:w+s(.35),textAnchor:"end",fontSize:s(v?1:.9),fontWeight:v?"600":"500",fill:v?"#E91E63":"#EC4899",style:{filter:"drop-shadow(0 1px 1px rgba(255, 255, 255, 0.8))",fontFamily:'-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif'},children:E},`temp-tick-fixed-${g}`)}),p.jsxs(xe.g,{variants:c,children:[p.jsx("rect",{x:t.left-s(.3),y:t.top-s(.3),width:s(3),height:s(2.2),rx:s(.4),fill:"rgba(244, 114, 182, 0.12)",stroke:"rgba(244, 114, 182, 0.25)",strokeWidth:1,style:{filter:"drop-shadow(0 2px 4px rgba(244, 114, 182, 0.1))"}}),p.jsx("text",{x:t.left+s(1.2),y:t.top+s(1.2),textAnchor:"middle",fontSize:s(1.4),fontWeight:"700",fill:"#E91E63",style:{filter:"drop-shadow(0 1px 2px rgba(255, 255, 255, 0.8))",fontFamily:'-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif'},children:"°C"})]}),p.jsx(xe.g,{variants:c,children:[{label:"Fecha",row:1,color:l?"#374151":"#6B7280"},{label:"Día",row:2,color:l?"#374151":"#6B7280"},{label:"Símbolo",row:3,color:l?"#374151":"#6B7280"},{label:"Sens.",row:l?5:4.5,color:lte},{label:"Apar.",row:l?7:6,color:cte},{label:"Observ.",row:l?9:7.5,color:ute}].map(({label:h,row:g,color:w})=>p.jsx("text",{x:t.left-s(1.5),y:f+a*g,textAnchor:"end",fontSize:s(.95),fontWeight:"600",fill:w,style:{filter:"drop-shadow(0 1px 1px rgba(255, 255, 255, 0.8))",fontFamily:'-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif'},children:h},h))})]})},iS=35.5,oS=37.5,fte=(t,e,n,r,i,o=5)=>{const s=m.useRef(null),a=m.useRef(null),[l,c]=m.useState({width:600,height:400}),[u,f]=m.useState(null),[h,g]=m.useState({x:0,y:0}),w=m.useMemo(()=>t.map(j=>({...j,displayTemperature:j.temperature_chart})),[t]);m.useEffect(()=>{const j=()=>{if(!s.current)return;let z=s.current.clientWidth>0?s.current.clientWidth:600,B,q;if(e)if(z=window.innerWidth,n==="portrait"){const Z=Math.max(30,z*.05);B=(z-Z)/o*t.length,q=window.innerHeight}else B=z/o*t.length,q=window.innerHeight;else B=z/o*t.length,q=450;c({width:B,height:q})};j(),window.addEventListener("resize",j);let U;return e&&s.current&&(U=new ResizeObserver(j),U.observe(document.documentElement)),()=>{window.removeEventListener("resize",j),U&&U.disconnect()}},[e,t.length,o,n]);const v=m.useMemo(()=>w.filter(j=>j&&j.isoDate&&!j.ignored&&j.displayTemperature!==null&&j.displayTemperature!==void 0),[w]),E=m.useMemo(()=>w.filter(j=>j&&j.isoDate),[w]),{baselineTemp:x,baselineStartIndex:y}=m.useMemo(()=>{const j=U=>U&&U.displayTemperature!=null&&!U.ignored;for(let U=0;U<w.length;U++){const z=w[U];if(!j(z))continue;const B=[];for(let q=U-1;q>=0&&B.length<6;q--){const Z=w[q];j(Z)&&B.unshift({index:q,temp:Z.displayTemperature})}if(!(B.length<6)&&B.every(q=>q.temp<z.displayTemperature)){const q=Math.max(...B.map(se=>se.temp)),Z=B.find(se=>se.temp===q).index;return{baselineTemp:q,baselineStartIndex:Z}}}return{baselineTemp:null,baselineStartIndex:null}},[w]),{tempMin:b,tempMax:P}=m.useMemo(()=>{const j=v.map(B=>B.displayTemperature).filter(B=>B!=null);if(j.length===0)return{tempMin:iS,tempMax:oS};let U=Math.min(...j,iS),z=Math.max(...j,oS);if(U=Math.floor(U*2)/2,z=Math.ceil(z*2)/2,z-U<2){const B=(U+z)/2;U=B-1,z=B+1}return{tempMin:U,tempMax:z}},[v]),R=P-b,D=l.width,S=l.height,C=9,I=(j=1)=>{if(!e)return C*j;const U=Math.min(D,S);return Math.max(8,Math.min(C*j,U/(E.length>0?40/j:40)))},A=I(e?1.5:1.8),O=A*5,N={top:e?Math.max(20,S*.05):20,right:e?Math.max(30,D*.05):50,bottom:(e?Math.max(60,S*.2):60)+O,left:e?Math.max(30,D*.05):50},F=j=>{if(j==null||R===0)return S-N.bottom;const U=S-N.top-N.bottom;return U<=0?S-N.bottom:S-N.bottom-(j-b)/R*U},Y=j=>{const U=e?10:20,z=e?25:0,B=D-N.left-N.right-U-z*(E.length-1);if(B<=0)return N.left+U+z*j;const q=E.length>1?E.length-1:1;return q===0||E.length===0?N.left+U+z*j:N.left+U+j*(B/(E.length===1?1:q))+z*j},K=(j,U,z)=>{if(!j||String(j.id).startsWith("placeholder-")){W();return}const B=s.current.getBoundingClientRect();let q,Z;if(z.type.startsWith("touch")){const J=z.changedTouches[0];q=J.clientX,Z=J.clientY}else q=z.clientX,Z=z.clientY;const se=Y(U),ye=F(j.displayTemperature);g({svgX:se,svgY:ye,clientX:q-B.left+s.current.scrollLeft,clientY:Z-B.top+s.current.scrollTop}),f(j)};m.useEffect(()=>{const j=U=>{var z;if(a.current&&!a.current.contains(U.target)){const B=(z=s.current)==null?void 0:z.querySelectorAll("circle, text, rect");let q=!1;if(B){for(let Z of B)if(Z.contains(U.target)){q=!0;break}}q||f(null)}};return u&&(document.addEventListener("mousedown",j),document.addEventListener("touchstart",j)),()=>{document.removeEventListener("mousedown",j),document.removeEventListener("touchstart",j)}},[u]);const W=()=>{f(null)};return{chartRef:s,tooltipRef:a,dimensions:l,activePoint:u,tooltipPosition:h,processedData:w,validDataForLine:v,allDataPoints:E,tempMin:b,tempMax:P,tempRange:R,padding:N,textRowHeight:A,setActivePoint:f,getY:F,getX:Y,handlePointInteraction:K,clearActivePoint:W,handleToggleIgnore:j=>{r&&j&&(r(i,j),f(null))},responsiveFontSize:I,baselineTemp:x,baselineStartIndex:y}},PM=({data:t,isFullScreen:e,orientation:n,onToggleIgnore:r,onEdit:i,cycleId:o,initialScrollIndex:s=0,visibleDays:a=5,showInterpretation:l=!1})=>{const{chartRef:c,tooltipRef:u,dimensions:f,activePoint:h,tooltipPosition:g,allDataPoints:w,validDataForLine:v,tempMin:E,tempMax:x,tempRange:y,padding:b,textRowHeight:P,getY:R,getX:D,handlePointInteraction:S,handleToggleIgnore:C,responsiveFontSize:I,clearActivePoint:A,setActivePoint:M,baselineTemp:O,baselineStartIndex:N}=fte(t,e,n,r,o,a);if(!w||w.length===0)return p.jsxs("div",{className:"text-center p-8",children:[p.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-gradient-to-br from-pink-100 to-rose-100 rounded-full mb-4",children:p.jsx("svg",{className:"w-8 h-8 text-pink-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})})}),p.jsx("p",{className:"text-slate-400 font-medium",children:"No hay datos para mostrar en el gráfico"})]});const F=f.width,Y=f.height,K=O!=null?R(O):null,W=O!=null?D(N):null,L={hidden:{opacity:0,y:20},visible:{opacity:1,y:0}},j={hidden:{opacity:0,scale:.95},visible:{opacity:1,scale:1}};return m.useEffect(()=>{if(e||!c.current)return;const U=c.current.clientWidth/a;c.current.scrollLeft=Math.max(0,U*s)},[e,s,a,f.width,n]),p.jsxs(xe.div,{className:"relative",variants:L,initial:"hidden",animate:"visible",children:[(!e||n==="portrait")&&p.jsx("div",{className:"absolute left-0 top-0 h-full bg-transparent pointer-events-none z-10",style:{width:b.left},children:p.jsx(dte,{padding:b,chartHeight:Y,tempMin:E,tempMax:x,tempRange:y,getY:R,responsiveFontSize:I,textRowHeight:P,isFullScreen:e})}),p.jsxs(xe.div,{ref:c,className:`relative p-0 rounded-2xl ${e?"w-full h-full bg-gradient-to-br from-white via-pink-50/30 to-rose-50/20 flex items-center justify-start overflow-x-auto overflow-y-hidden":"bg-gradient-to-br from-white via-pink-50/30 to-rose-50/20 overflow-x-auto overflow-y-hidden border border-pink-100/50"}`,style:{boxShadow:e?"inset 0 1px 3px rgba(244, 114, 182, 0.1)":"0 8px 32px rgba(244, 114, 182, 0.12), 0 2px 8px rgba(244, 114, 182, 0.08)"},variants:j,children:[p.jsxs(xe.svg,{width:F,height:Y,className:"font-sans flex-shrink-0",viewBox:`0 0 ${F} ${Y}`,preserveAspectRatio:"xMidYMid meet",children:[p.jsxs("defs",{children:[p.jsxs("linearGradient",{id:"tempLineGradientChart",x1:"0%",y1:"0%",x2:"100%",y2:"0%",children:[p.jsx("stop",{offset:"0%",stopColor:"#F472B6"}),p.jsx("stop",{offset:"50%",stopColor:"#EC4899"}),p.jsx("stop",{offset:"100%",stopColor:"#E91E63"})]}),p.jsxs("linearGradient",{id:"tempAreaGradientChart",x1:"0%",y1:"0%",x2:"0%",y2:"100%",children:[p.jsx("stop",{offset:"0%",stopColor:"rgba(244,114,182,0.25)"}),p.jsx("stop",{offset:"50%",stopColor:"rgba(236,72,153,0.15)"}),p.jsx("stop",{offset:"100%",stopColor:"rgba(233,30,99,0.05)"})]}),p.jsxs("pattern",{id:"spotting-pattern-chart",patternUnits:"userSpaceOnUse",width:"8",height:"8",children:[p.jsx("circle",{cx:"2",cy:"2",r:"1.5",fill:"rgba(239,68,68,0.8)"}),p.jsx("circle",{cx:"6",cy:"6",r:"1.5",fill:"rgba(239,68,68,0.6)"})]}),p.jsxs("filter",{id:"chartShadow",x:"-50%",y:"-50%",width:"200%",height:"200%",children:[p.jsx("feGaussianBlur",{stdDeviation:"2",result:"coloredBlur"}),p.jsxs("feMerge",{children:[p.jsx("feMergeNode",{in:"coloredBlur"}),p.jsx("feMergeNode",{in:"SourceGraphic"})]})]}),p.jsxs("filter",{id:"baselineGlow",x:"-50%",y:"-50%",width:"200%",height:"200%",children:[p.jsx("feGaussianBlur",{stdDeviation:"1.5",result:"coloredBlur"}),p.jsxs("feMerge",{children:[p.jsx("feMergeNode",{in:"coloredBlur"}),p.jsx("feMergeNode",{in:"SourceGraphic"})]})]})]}),p.jsx("rect",{width:"100%",height:"100%",fill:"transparent"}),p.jsx(ete,{padding:b,chartWidth:F,chartHeight:Y,tempMin:E,tempMax:x,tempRange:y,getY:R,getX:D,allDataPoints:w,responsiveFontSize:I,isFullScreen:e,showLeftLabels:e&&n==="landscape"}),p.jsx(tte,{data:v,allDataPoints:w,getX:D,getY:R,baselineY:Y-b.bottom,temperatureField:"displayTemperature"}),l&&O!=null&&p.jsx(xe.line,{x1:W,y1:K,x2:F-b.right,y2:K,stroke:"#F59E0B",strokeWidth:3,strokeDasharray:"6 4",style:{filter:"url(#baselineGlow)"},initial:{opacity:0,pathLength:0},animate:{opacity:1,pathLength:1},transition:{duration:1,ease:"easeInOut"}}),p.jsx(ste,{data:w,getX:D,getY:R,isFullScreen:e,orientation:n,responsiveFontSize:I,onPointInteraction:S,clearActivePoint:A,activePoint:h,padding:b,chartHeight:Y,chartWidth:F,temperatureField:"displayTemperature",textRowHeight:P})]}),h&&p.jsx(xe.div,{ref:u,initial:{opacity:0,scale:.9,y:10},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.9,y:10},transition:{duration:.2,ease:"easeOut"},children:p.jsx(ate,{point:h,position:g,chartWidth:F,chartHeight:Y,onToggleIgnore:C,onEdit:i,onClose:A})})]})]})};var hte=m.createContext(void 0);function pte(t){const e=m.useContext(hte);return t||e||"ltr"}function mte(t,[e,n]){return Math.min(n,Math.max(e,t))}function gte(t,e){return m.useReducer((n,r)=>e[n][r]??n,t)}var e_="ScrollArea",[IM,xne]=Ls(e_),[vte,er]=IM(e_),AM=m.forwardRef((t,e)=>{const{__scopeScrollArea:n,type:r="hover",dir:i,scrollHideDelay:o=600,...s}=t,[a,l]=m.useState(null),[c,u]=m.useState(null),[f,h]=m.useState(null),[g,w]=m.useState(null),[v,E]=m.useState(null),[x,y]=m.useState(0),[b,P]=m.useState(0),[R,D]=m.useState(!1),[S,C]=m.useState(!1),I=lt(e,M=>l(M)),A=pte(i);return p.jsx(vte,{scope:n,type:r,dir:A,scrollHideDelay:o,scrollArea:a,viewport:c,onViewportChange:u,content:f,onContentChange:h,scrollbarX:g,onScrollbarXChange:w,scrollbarXEnabled:R,onScrollbarXEnabledChange:D,scrollbarY:v,onScrollbarYChange:E,scrollbarYEnabled:S,onScrollbarYEnabledChange:C,onCornerWidthChange:y,onCornerHeightChange:P,children:p.jsx(ze.div,{dir:A,...s,ref:I,style:{position:"relative","--radix-scroll-area-corner-width":x+"px","--radix-scroll-area-corner-height":b+"px",...t.style}})})});AM.displayName=e_;var kM="ScrollAreaViewport",RM=m.forwardRef((t,e)=>{const{__scopeScrollArea:n,children:r,nonce:i,...o}=t,s=er(kM,n),a=m.useRef(null),l=lt(e,a,s.onViewportChange);return p.jsxs(p.Fragment,{children:[p.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:i}),p.jsx(ze.div,{"data-radix-scroll-area-viewport":"",...o,ref:l,style:{overflowX:s.scrollbarXEnabled?"scroll":"hidden",overflowY:s.scrollbarYEnabled?"scroll":"hidden",...t.style},children:p.jsx("div",{ref:s.onContentChange,style:{minWidth:"100%",display:"table"},children:r})})]})});RM.displayName=kM;var Xr="ScrollAreaScrollbar",t_=m.forwardRef((t,e)=>{const{forceMount:n,...r}=t,i=er(Xr,t.__scopeScrollArea),{onScrollbarXEnabledChange:o,onScrollbarYEnabledChange:s}=i,a=t.orientation==="horizontal";return m.useEffect(()=>(a?o(!0):s(!0),()=>{a?o(!1):s(!1)}),[a,o,s]),i.type==="hover"?p.jsx(yte,{...r,ref:e,forceMount:n}):i.type==="scroll"?p.jsx(wte,{...r,ref:e,forceMount:n}):i.type==="auto"?p.jsx(NM,{...r,ref:e,forceMount:n}):i.type==="always"?p.jsx(n_,{...r,ref:e}):null});t_.displayName=Xr;var yte=m.forwardRef((t,e)=>{const{forceMount:n,...r}=t,i=er(Xr,t.__scopeScrollArea),[o,s]=m.useState(!1);return m.useEffect(()=>{const a=i.scrollArea;let l=0;if(a){const c=()=>{window.clearTimeout(l),s(!0)},u=()=>{l=window.setTimeout(()=>s(!1),i.scrollHideDelay)};return a.addEventListener("pointerenter",c),a.addEventListener("pointerleave",u),()=>{window.clearTimeout(l),a.removeEventListener("pointerenter",c),a.removeEventListener("pointerleave",u)}}},[i.scrollArea,i.scrollHideDelay]),p.jsx(Zn,{present:n||o,children:p.jsx(NM,{"data-state":o?"visible":"hidden",...r,ref:e})})}),wte=m.forwardRef((t,e)=>{const{forceMount:n,...r}=t,i=er(Xr,t.__scopeScrollArea),o=t.orientation==="horizontal",s=em(()=>l("SCROLL_END"),100),[a,l]=gte("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return m.useEffect(()=>{if(a==="idle"){const c=window.setTimeout(()=>l("HIDE"),i.scrollHideDelay);return()=>window.clearTimeout(c)}},[a,i.scrollHideDelay,l]),m.useEffect(()=>{const c=i.viewport,u=o?"scrollLeft":"scrollTop";if(c){let f=c[u];const h=()=>{const g=c[u];f!==g&&(l("SCROLL"),s()),f=g};return c.addEventListener("scroll",h),()=>c.removeEventListener("scroll",h)}},[i.viewport,o,l,s]),p.jsx(Zn,{present:n||a!=="hidden",children:p.jsx(n_,{"data-state":a==="hidden"?"hidden":"visible",...r,ref:e,onPointerEnter:$e(t.onPointerEnter,()=>l("POINTER_ENTER")),onPointerLeave:$e(t.onPointerLeave,()=>l("POINTER_LEAVE"))})})}),NM=m.forwardRef((t,e)=>{const n=er(Xr,t.__scopeScrollArea),{forceMount:r,...i}=t,[o,s]=m.useState(!1),a=t.orientation==="horizontal",l=em(()=>{if(n.viewport){const c=n.viewport.offsetWidth<n.viewport.scrollWidth,u=n.viewport.offsetHeight<n.viewport.scrollHeight;s(a?c:u)}},10);return sl(n.viewport,l),sl(n.content,l),p.jsx(Zn,{present:r||o,children:p.jsx(n_,{"data-state":o?"visible":"hidden",...i,ref:e})})}),n_=m.forwardRef((t,e)=>{const{orientation:n="vertical",...r}=t,i=er(Xr,t.__scopeScrollArea),o=m.useRef(null),s=m.useRef(0),[a,l]=m.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),c=VM(a.viewport,a.content),u={...r,sizes:a,onSizesChange:l,hasThumb:c>0&&c<1,onThumbChange:h=>o.current=h,onThumbPointerUp:()=>s.current=0,onThumbPointerDown:h=>s.current=h};function f(h,g){return Cte(h,s.current,a,g)}return n==="horizontal"?p.jsx(_te,{...u,ref:e,onThumbPositionChange:()=>{if(i.viewport&&o.current){const h=i.viewport.scrollLeft,g=sS(h,a,i.dir);o.current.style.transform=`translate3d(${g}px, 0, 0)`}},onWheelScroll:h=>{i.viewport&&(i.viewport.scrollLeft=h)},onDragScroll:h=>{i.viewport&&(i.viewport.scrollLeft=f(h,i.dir))}}):n==="vertical"?p.jsx(xte,{...u,ref:e,onThumbPositionChange:()=>{if(i.viewport&&o.current){const h=i.viewport.scrollTop,g=sS(h,a);o.current.style.transform=`translate3d(0, ${g}px, 0)`}},onWheelScroll:h=>{i.viewport&&(i.viewport.scrollTop=h)},onDragScroll:h=>{i.viewport&&(i.viewport.scrollTop=f(h))}}):null}),_te=m.forwardRef((t,e)=>{const{sizes:n,onSizesChange:r,...i}=t,o=er(Xr,t.__scopeScrollArea),[s,a]=m.useState(),l=m.useRef(null),c=lt(e,l,o.onScrollbarXChange);return m.useEffect(()=>{l.current&&a(getComputedStyle(l.current))},[l]),p.jsx(MM,{"data-orientation":"horizontal",...i,ref:c,sizes:n,style:{bottom:0,left:o.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:o.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":Zp(n)+"px",...t.style},onThumbPointerDown:u=>t.onThumbPointerDown(u.x),onDragScroll:u=>t.onDragScroll(u.x),onWheelScroll:(u,f)=>{if(o.viewport){const h=o.viewport.scrollLeft+u.deltaX;t.onWheelScroll(h),FM(h,f)&&u.preventDefault()}},onResize:()=>{l.current&&o.viewport&&s&&r({content:o.viewport.scrollWidth,viewport:o.viewport.offsetWidth,scrollbar:{size:l.current.clientWidth,paddingStart:jh(s.paddingLeft),paddingEnd:jh(s.paddingRight)}})}})}),xte=m.forwardRef((t,e)=>{const{sizes:n,onSizesChange:r,...i}=t,o=er(Xr,t.__scopeScrollArea),[s,a]=m.useState(),l=m.useRef(null),c=lt(e,l,o.onScrollbarYChange);return m.useEffect(()=>{l.current&&a(getComputedStyle(l.current))},[l]),p.jsx(MM,{"data-orientation":"vertical",...i,ref:c,sizes:n,style:{top:0,right:o.dir==="ltr"?0:void 0,left:o.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":Zp(n)+"px",...t.style},onThumbPointerDown:u=>t.onThumbPointerDown(u.y),onDragScroll:u=>t.onDragScroll(u.y),onWheelScroll:(u,f)=>{if(o.viewport){const h=o.viewport.scrollTop+u.deltaY;t.onWheelScroll(h),FM(h,f)&&u.preventDefault()}},onResize:()=>{l.current&&o.viewport&&s&&r({content:o.viewport.scrollHeight,viewport:o.viewport.offsetHeight,scrollbar:{size:l.current.clientHeight,paddingStart:jh(s.paddingTop),paddingEnd:jh(s.paddingBottom)}})}})}),[Ete,DM]=IM(Xr),MM=m.forwardRef((t,e)=>{const{__scopeScrollArea:n,sizes:r,hasThumb:i,onThumbChange:o,onThumbPointerUp:s,onThumbPointerDown:a,onThumbPositionChange:l,onDragScroll:c,onWheelScroll:u,onResize:f,...h}=t,g=er(Xr,n),[w,v]=m.useState(null),E=lt(e,I=>v(I)),x=m.useRef(null),y=m.useRef(""),b=g.viewport,P=r.content-r.viewport,R=Ht(u),D=Ht(l),S=em(f,10);function C(I){if(x.current){const A=I.clientX-x.current.left,M=I.clientY-x.current.top;c({x:A,y:M})}}return m.useEffect(()=>{const I=A=>{const M=A.target;(w==null?void 0:w.contains(M))&&R(A,P)};return document.addEventListener("wheel",I,{passive:!1}),()=>document.removeEventListener("wheel",I,{passive:!1})},[b,w,P,R]),m.useEffect(D,[r,D]),sl(w,S),sl(g.content,S),p.jsx(Ete,{scope:n,scrollbar:w,hasThumb:i,onThumbChange:Ht(o),onThumbPointerUp:Ht(s),onThumbPositionChange:D,onThumbPointerDown:Ht(a),children:p.jsx(ze.div,{...h,ref:E,style:{position:"absolute",...h.style},onPointerDown:$e(t.onPointerDown,I=>{I.button===0&&(I.target.setPointerCapture(I.pointerId),x.current=w.getBoundingClientRect(),y.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",g.viewport&&(g.viewport.style.scrollBehavior="auto"),C(I))}),onPointerMove:$e(t.onPointerMove,C),onPointerUp:$e(t.onPointerUp,I=>{const A=I.target;A.hasPointerCapture(I.pointerId)&&A.releasePointerCapture(I.pointerId),document.body.style.webkitUserSelect=y.current,g.viewport&&(g.viewport.style.scrollBehavior=""),x.current=null})})})}),Vh="ScrollAreaThumb",OM=m.forwardRef((t,e)=>{const{forceMount:n,...r}=t,i=DM(Vh,t.__scopeScrollArea);return p.jsx(Zn,{present:n||i.hasThumb,children:p.jsx(bte,{ref:e,...r})})}),bte=m.forwardRef((t,e)=>{const{__scopeScrollArea:n,style:r,...i}=t,o=er(Vh,n),s=DM(Vh,n),{onThumbPositionChange:a}=s,l=lt(e,f=>s.onThumbChange(f)),c=m.useRef(void 0),u=em(()=>{c.current&&(c.current(),c.current=void 0)},100);return m.useEffect(()=>{const f=o.viewport;if(f){const h=()=>{if(u(),!c.current){const g=Ste(f,a);c.current=g,a()}};return a(),f.addEventListener("scroll",h),()=>f.removeEventListener("scroll",h)}},[o.viewport,u,a]),p.jsx(ze.div,{"data-state":s.hasThumb?"visible":"hidden",...i,ref:l,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...r},onPointerDownCapture:$e(t.onPointerDownCapture,f=>{const g=f.target.getBoundingClientRect(),w=f.clientX-g.left,v=f.clientY-g.top;s.onThumbPointerDown({x:w,y:v})}),onPointerUp:$e(t.onPointerUp,s.onThumbPointerUp)})});OM.displayName=Vh;var r_="ScrollAreaCorner",LM=m.forwardRef((t,e)=>{const n=er(r_,t.__scopeScrollArea),r=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&r?p.jsx(Tte,{...t,ref:e}):null});LM.displayName=r_;var Tte=m.forwardRef((t,e)=>{const{__scopeScrollArea:n,...r}=t,i=er(r_,n),[o,s]=m.useState(0),[a,l]=m.useState(0),c=!!(o&&a);return sl(i.scrollbarX,()=>{var f;const u=((f=i.scrollbarX)==null?void 0:f.offsetHeight)||0;i.onCornerHeightChange(u),l(u)}),sl(i.scrollbarY,()=>{var f;const u=((f=i.scrollbarY)==null?void 0:f.offsetWidth)||0;i.onCornerWidthChange(u),s(u)}),c?p.jsx(ze.div,{...r,ref:e,style:{width:o,height:a,position:"absolute",right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:0,...t.style}}):null});function jh(t){return t?parseInt(t,10):0}function VM(t,e){const n=t/e;return isNaN(n)?0:n}function Zp(t){const e=VM(t.viewport,t.content),n=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,r=(t.scrollbar.size-n)*e;return Math.max(r,18)}function Cte(t,e,n,r="ltr"){const i=Zp(n),o=i/2,s=e||o,a=i-s,l=n.scrollbar.paddingStart+s,c=n.scrollbar.size-n.scrollbar.paddingEnd-a,u=n.content-n.viewport,f=r==="ltr"?[0,u]:[u*-1,0];return jM([l,c],f)(t)}function sS(t,e,n="ltr"){const r=Zp(e),i=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,o=e.scrollbar.size-i,s=e.content-e.viewport,a=o-r,l=n==="ltr"?[0,s]:[s*-1,0],c=mte(t,l);return jM([0,s],[0,a])(c)}function jM(t,e){return n=>{if(t[0]===t[1]||e[0]===e[1])return e[0];const r=(e[1]-e[0])/(t[1]-t[0]);return e[0]+r*(n-t[0])}}function FM(t,e){return t>0&&t<e}var Ste=(t,e=()=>{})=>{let n={left:t.scrollLeft,top:t.scrollTop},r=0;return function i(){const o={left:t.scrollLeft,top:t.scrollTop},s=n.left!==o.left,a=n.top!==o.top;(s||a)&&e(),n=o,r=window.requestAnimationFrame(i)}(),()=>window.cancelAnimationFrame(r)};function em(t,e){const n=Ht(t),r=m.useRef(0);return m.useEffect(()=>()=>window.clearTimeout(r.current),[]),m.useCallback(()=>{window.clearTimeout(r.current),r.current=window.setTimeout(n,e)},[n,e])}function sl(t,e){const n=Ht(e);Hr(()=>{let r=0;if(t){const i=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(n)});return i.observe(t),()=>{window.cancelAnimationFrame(r),i.unobserve(t)}}},[t,n])}var $M=AM,Pte=RM,Ite=LM;const UM=_e.forwardRef(({className:t,children:e,...n},r)=>p.jsxs($M,{ref:r,className:Ue("relative overflow-hidden",t),...n,children:[p.jsx(Pte,{className:"h-full w-full rounded-[inherit]",children:e}),p.jsx(BM,{}),p.jsx(Ite,{})]}));UM.displayName=$M.displayName;const BM=_e.forwardRef(({className:t,orientation:e="vertical",...n},r)=>p.jsx(t_,{ref:r,orientation:e,className:Ue("flex touch-none select-none transition-colors",e==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",e==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",t),...n,children:p.jsx(OM,{className:"relative flex-1 rounded-full bg-border"})}));BM.displayName=t_.displayName;const WM=({records:t,onEdit:e,onDelete:n,onClose:r,isArchiveView:i=!1,isProcessing:o})=>{if(!t||t.length===0)return p.jsxs(xe.div,{className:"text-center text-[#6B7280] p-8 bg-white rounded-xl shadow",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},children:[p.jsx("p",{className:"text-xl mb-4",children:"No hay registros para mostrar."}),r&&!i&&p.jsxs(Se,{onClick:r,variant:"outline",className:"border-gray-300 hover:bg-gray-100 text-gray-700",children:[p.jsx(lu,{className:"mr-2 h-5 w-5"}),"Cerrar"]})]});const s=[...t].sort((a,l)=>{const c=a.timestamp?le(a.timestamp):a.isoDate?le(a.isoDate):0,u=l.timestamp?le(l.timestamp):l.isoDate?le(l.isoDate):0;return c-u});return p.jsxs(xe.div,{className:"w-full bg-white/70 backdrop-blur-md p-4 sm:p-6 rounded-xl ring-1 ring-[#FFB1DD]/20 shadow-xl",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},children:[p.jsxs("div",{className:"flex justify-between items-center mb-6",children:[p.jsx("h2",{className:"text-2xl font-semibold text-gray-800",children:i?"Registros del Ciclo":"Mis Registros"}),r&&!i&&p.jsx(Se,{onClick:r,variant:"ghost",size:"icon",className:"text-gray-700 hover:text-pink-500 hover:bg-pink-50",children:p.jsx(lu,{className:"h-6 w-6"})})]}),p.jsx(UM,{className:"pr-4",children:p.jsx("ul",{className:"space-y-4",children:s.map(a=>{const l=W1(a.fertility_symbol),c=a.timestamp||a.isoDate,u=a.timestamp?be(le(a.timestamp),"HH:mm"):null;return p.jsxs(xe.li,{className:"bg-white/80 backdrop-blur-md ring-1 ring-[#FFB1DD]/50 border border-[#FFB1DD]/80 shadow-lg rounded-lg p-4 flex flex-col sm:flex-row justify-between items-start sm:items-center hover:shadow-xl transition-shadow duration-300",style:{boxShadow:"0 2px 6px rgba(0,0,0,0.05)"},layout:!0,initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,x:-20},transition:{duration:.2},children:[p.jsxs("div",{className:"flex-grow mb-3 sm:mb-0",children:[p.jsxs("h3",{className:"text-lg font-semibold text-pink-500 mb-1 ",children:[c?be(le(c),"dd/MM/yyyy",{locale:nl}):"Fecha no disponible"," (Día ",a.cycleDay||"N/A",")"]}),a.temperature_raw!=null&&p.jsxs("p",{className:"text-sm text-[#6B7280]",children:[p.jsx("span",{className:"font-semibold",children:"Original:"})," ",a.temperature_raw.toFixed(2),"°C",u&&p.jsx("span",{className:"ml-2 text-xs text-[#9CA3AF]",children:u}),a.temperature_corrected!=null&&!a.use_corrected&&p.jsx(Eh,{className:"inline h-4 w-4 text-[#E27DBF] ml-1"})]}),a.temperature_corrected!=null&&p.jsxs("p",{className:"text-sm text-[#6B7280]",children:[p.jsx("span",{className:"font-semibold",children:"Corregida:"})," ",a.temperature_corrected.toFixed(2),"°C",a.use_corrected&&p.jsx(Eh,{className:"inline h-4 w-4 text-emerald-400 ml-1"})]}),p.jsxs("div",{className:"flex items-center mt-1",children:[l&&l.value!=="none"&&p.jsx("span",{className:`w-4 h-4 rounded-full mr-2 ${l.color} ${l.pattern?"pattern-bg":""} ${l.value==="white"?"border border-gray-300":""}`}),p.jsx("p",{className:`text-sm ${l?l.textColor:"text-[#6B7280]"}`,children:l?l.label:"Sin Símbolo"})]}),p.jsxs("p",{className:"text-sm text-[#6B7280] mt-1",children:[p.jsx("span",{className:"font-semibold",children:"Sensación:"})," ",a.mucus_sensation||"N/A"]}),p.jsxs("p",{className:"text-sm text-[#6B7280]",children:[p.jsx("span",{className:"font-semibold",children:"Apariencia:"})," ",a.mucus_appearance||"N/A"]}),a.observations&&p.jsxs("p",{className:"text-sm text-[#6B7280] mt-1 italic",children:[p.jsx("span",{className:"font-semibold",children:"Observaciones:"})," ",a.observations]}),a.ignored&&p.jsx("p",{className:"text-xs text-rose-400 mt-1",children:"(Registro despreciado)"})]}),!i&&e&&n&&p.jsxs("div",{className:"flex space-x-2 self-end sm:self-center",children:[p.jsxs(Se,{variant:"outline",size:"sm",onClick:()=>e(a),className:"border-sky-500 text-sky-400 hover:bg-sky-500/20 hover:text-sky-300",disabled:o,children:[p.jsx(ky,{className:"mr-1 h-4 w-4"})," Editar"]}),p.jsxs(Se,{variant:"destructive",size:"sm",onClick:()=>n(a.id),className:"bg-rose-600 hover:bg-rose-700",disabled:o,children:[p.jsx(Th,{className:"mr-1 h-4 w-4"})," Eliminar"]})]}),i&&e&&n&&p.jsxs("div",{className:"flex space-x-2 self-end sm:self-center",children:[p.jsxs(Se,{variant:"outline",size:"sm",onClick:()=>e(a),className:"border-sky-500 text-sky-400 hover:bg-sky-500/20 hover:text-sky-300",disabled:o,children:[p.jsx(ky,{className:"mr-1 h-4 w-4"})," Editar"]}),p.jsxs(Se,{variant:"destructive",size:"sm",onClick:()=>n(a.id),className:"bg-rose-600 hover:bg-rose-700",disabled:o,children:[p.jsx(Th,{className:"mr-1 h-4 w-4"})," Eliminar"]})]})]},a.id||c)})})})]})},zM=({isOpen:t,onClose:e,onConfirm:n,recordDate:r})=>(H1(t,e),p.jsx(CM,{open:t,onOpenChange:e,children:p.jsxs(K1,{className:"bg-slate-800 border-slate-700 text-slate-50",children:[p.jsxs(Q1,{children:[p.jsx(J1,{children:"Confirmar Eliminación"}),p.jsxs(Z1,{className:"text-slate-400",children:["¿Estás seguro de que quieres eliminar el registro del ",r,"? Esta acción no se puede deshacer."]})]}),p.jsxs(X1,{className:"sm:justify-end",children:[p.jsx(Se,{variant:"outline",onClick:e,className:"border-slate-600 hover:bg-slate-700",children:"Cancelar"}),p.jsx(Se,{variant:"destructive",onClick:n,children:"Eliminar"})]})]})}));function HM(t,e){if(!t||!e)return[];const n=typeof t=="string"?le(t):t;return[...Array(e)].map((r,i)=>{const o=Rt(n,i),s=be(o,"yyyy-MM-dd"),a=be(o,"dd/MM"),l=To(Ce(o),Ce(n))+1;return{date:a,isoDate:s,cycleDay:l,temperature:null,mucusSensation:null,mucusAppearance:null,id:`placeholder-${s}`,ignored:!1}})}const Ate=()=>{const[t,e]=m.useState(!1),[n,r]=m.useState("portrait"),i=m.useCallback(async(l="portrait")=>{const c=document.documentElement;try{c.requestFullscreen?await c.requestFullscreen():c.mozRequestFullScreen?await c.mozRequestFullScreen():c.webkitRequestFullscreen?await c.webkitRequestFullscreen():c.msRequestFullscreen&&await c.msRequestFullscreen(),typeof window<"u"&&window.screen&&window.screen.orientation&&window.screen.orientation.lock&&await window.screen.orientation.lock(`${l}-primary`).catch(()=>{}),r(l)}catch{}},[]),o=m.useCallback(async()=>{try{document.exitFullscreen?await document.exitFullscreen():document.mozCancelFullScreen?await document.mozCancelFullScreen():document.webkitExitFullscreen?await document.webkitExitFullscreen():document.msExitFullscreen&&await document.msExitFullscreen(),typeof window<"u"&&window.screen&&window.screen.orientation&&window.screen.orientation.unlock&&window.screen.orientation.unlock()}catch{}},[]),s=m.useCallback(async()=>{t?await o():await i(n)},[t,i,o,n]),a=m.useCallback(async()=>{const l=n==="portrait"?"landscape":"portrait";t?window.screen&&window.screen.orientation&&window.screen.orientation.lock&&await window.screen.orientation.lock(`${l}-primary`).catch(()=>{}):await i(l),r(l)},[n,t,i]);return m.useEffect(()=>{const l=()=>{const c=!!(document.fullscreenElement||document.webkitIsFullScreen||document.mozFullScreenElement||document.msFullscreenElement);e(c),!c&&typeof window<"u"&&window.screen&&window.screen.orientation&&window.screen.orientation.unlock&&window.screen.orientation.unlock()};return document.addEventListener("fullscreenchange",l),document.addEventListener("webkitfullscreenchange",l),document.addEventListener("mozfullscreenchange",l),document.addEventListener("MSFullscreenChange",l),()=>{document.removeEventListener("fullscreenchange",l),document.removeEventListener("webkitfullscreenchange",l),document.removeEventListener("mozfullscreenchange",l),document.removeEventListener("MSFullscreenChange",l)}},[]),{isFullScreen:t,orientation:n,toggleFullScreen:s,rotateScreen:a}},qM=28,kte=({cycleData:t,addOrUpdateDataPointForCycle:e,deleteRecordForCycle:n,toggleIgnoreRecordForCycle:r,isFullScreen:i,toggleFullScreen:o,orientation:s,rotateScreen:a,showInterpretation:l,setShowInterpretation:c,chartDisplayData:u,showForm:f,setShowForm:h,editingRecord:g,setEditingRecord:w,recordToDelete:v,setRecordToDelete:E,isProcessing:x,toast:y,onEditCycleDates:b,onDeleteCycle:P})=>{H1(f||g,()=>{h(!1),w(null)});const R=s==="landscape"?qM:5,D=I=>{const A=()=>{w(I),h(!0)};i?(o(),setTimeout(A,300)):A()},S=I=>{const A=t.data.find(M=>M.id===I);E(A)},C=()=>{v&&n(v.id)};return p.jsxs("div",{className:`w-full ${i?"h-full overflow-hidden":"max-w-4xl mx-auto"}`,children:[p.jsxs(xe.div,{className:"flex items-center justify-between mb-8",initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5},children:[!i&&p.jsx(Se,{variant:"outline",asChild:!0,className:"mt-4 sm:mt-0 border-pink-500 text-pink-400 hover:bg-pink-500/20 hover:text-pink-300",children:p.jsxs(qf,{to:"/archived-cycles",children:[p.jsx(zz,{className:"mr-2 h-4 w-4"})," Mis Ciclos"]})}),!i&&p.jsxs("h1",{className:"text-2xl sm:text-3xl font-bold hover:text-pink-300 text-center",children:["Detalle del Ciclo (",be(le(t.startDate),"dd/MM/yyyy"),")"]}),!i&&p.jsxs("div",{className:"flex gap-2 mt-4 sm:mt-0",children:[p.jsxs(Se,{variant:"outline",onClick:b,className:"border-pink-500 text-pink-400 hover:bg-pink-500/20 hover:text-pink-300",children:[p.jsx(bh,{className:"mr-2 h-4 w-4"})," Editar Fechas"]}),p.jsxs(Se,{variant:"destructive",onClick:P,children:[p.jsx(Th,{className:"mr-2 h-4 w-4"})," Eliminar Ciclo"]})]})]}),p.jsx(eC,{children:!f&&(u.length>0||i)&&p.jsxs(xe.div,{initial:{opacity:0,scale:i?1:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:i?1:.9},transition:{duration:.5},className:`shadow-2xl rounded-xl ${i?"w-full h-full p-0 fixed inset-0 z-50 bg-white":"p-4 sm:p-6 mb-4 bg-white/70 backdrop-blur-md ring-1 ring-[#FFB1DD]/50"} relative`,style:{boxShadow:"0 4px 8px rgba(0,0,0,0.04)"},children:[!i&&p.jsx("h2",{className:"text-xl font-medium text-[#393C65] mb-4 bg-white bg-opacity-90 px-4 py-2 rounded-md",children:"Gráfica"}),p.jsx(PM,{data:u,isFullScreen:i,orientation:s,onToggleIgnore:r,onEdit:D,cycleId:t.id,showInterpretation:l,visibleDays:R}),p.jsxs(Se,{onClick:()=>c(I=>!I),variant:"ghost",size:"sm",className:`absolute ${i?"top-4 right-20":"top-2 right-20"} flex items-center font-semibold py-1 px-2 rounded-lg transition-colors ${l?"bg-[#E27DBF] text-white hover:bg-[#d46ab3]":"bg-transparent text-[#393C65] hover:bg-[#E27DBF]/20"}`,children:[l?p.jsx(o1,{className:"mr-2 h-4 w-4"}):p.jsx(au,{className:"mr-2 h-4 w-4"}),l?"Ocultar":"Interpretar"]}),p.jsx(Se,{onClick:a,variant:"ghost",size:"icon",className:`absolute ${i?"top-4 right-12 text-white bg-slate-700/50 hover:bg-slate-600/70":"top-2 right-12 text-slate-400 hover:text-slate-200 hover:bg-slate-700/50"}`,title:"Cambiar orientación",children:p.jsx(U2,{className:"h-5 w-5"})}),p.jsx(Se,{onClick:o,variant:"ghost",size:"icon",className:`absolute ${i?"top-4 right-4 text-white bg-slate-700/50 hover:bg-slate-600/70":"top-2 right-2 text-slate-400 hover:text-slate-200 hover:bg-slate-700/50"}`,title:i?"Salir de Pantalla Completa":"Ver en Pantalla Completa",children:i?p.jsx(s1,{className:"h-6 w-6"}):p.jsx(iH,{className:"h-5 w-5"})})]})}),!i&&p.jsxs(p.Fragment,{children:[p.jsx(eC,{children:f&&p.jsx(xe.div,{initial:{opacity:0,y:20,height:0},animate:{opacity:1,y:0,height:"auto"},exit:{opacity:0,y:20,height:0},transition:{duration:.3},className:"overflow-hidden mb-8",children:p.jsx(z1,{onSubmit:e,initialData:g,onCancel:()=>{h(!1),w(null)},cycleStartDate:t.startDate,cycleEndDate:t.endDate,isProcessing:x,isEditing:!!g})},"data-entry-form-detail")}),!f&&p.jsx("div",{className:"my-8",children:p.jsxs(Se,{onClick:()=>{w(null),h(!0)},className:"w-full sm:w-auto bg-gradient-to-r from-pink-500 to-fuchsia-600 hover:from-pink-600 hover:to-fuchsia-700 text-white font-semibold py-3 px-6 rounded-lg shadow-lg hover:shadow-xl transition-all duration-300 transform hover:scale-105 flex items-center justify-center text-lg",disabled:x,children:[p.jsx(bh,{className:"mr-2 h-5 w-5"})," Añadir registro en este ciclo"]})}),p.jsx(WM,{records:t.data,onEdit:D,onDelete:S,isArchiveView:!0,isProcessing:x})]}),p.jsx(zM,{isOpen:!!v,onClose:()=>E(null),onConfirm:C,recordDate:v?be(le(v.isoDate),"dd/MM/yyyy"):"",isProcessing:x})]})},Rte=()=>{const{cycleId:t}=WV(),e=ip(),{user:n}=_l(),{getCycleById:r,isLoading:i,refreshData:o,toggleIgnoreRecord:s,updateCycleDates:a,deleteCycle:l}=ju(t),[c,u]=m.useState(null),{toast:f}=xl(),[h,g]=m.useState(null),[w,v]=m.useState(!1),[E,x]=m.useState(null),[y,b]=m.useState(!1),{isFullScreen:P,toggleFullScreen:R,orientation:D,rotateScreen:S}=Ate(),[C,I]=m.useState(!1),[A,M]=m.useState(!1);m.useEffect(()=>{(async()=>{if(n){let q=await r(t);if(!q){const Z=localStorage.getItem(`fertilityData_cycle_${n.uid}_${t}`);if(Z){const se=JSON.parse(Z);q={...se,data:N(se.data||[],se.startDate)}}}q?u(q):(f({title:"Error",description:"No se pudo cargar el ciclo.",variant:"destructive"}),e("/archived-cycles"))}})()},[t,n,r,f,e]);const O=(B,q)=>{const Z=Ce(le(B)),se=Ce(le(q));return To(Z,se)+1},N=(B,q)=>!B||!Array.isArray(B)||!q?[]:[...B].sort((se,ye)=>le(se.isoDate)-le(ye.isoDate)).map(se=>({...se,ignored:se.ignored||!1,cycleDay:O(se.isoDate,q)})),F=B=>{if(!n||!B||!B.id)return;const q={...B,data:B.data.map(({cycleDay:Z,...se})=>se)};localStorage.setItem(`fertilityData_cycle_${n.uid}_${B.id}`,JSON.stringify(q))},Y=B=>{if(!c||!n)return;I(!0);const q=B.temperature_raw,Z=B.temperature_corrected,ye=B.use_corrected||!1?Z??q:q??Z;let J;const re={...B,temperature_chart:ye,isoDate:be(Ce(le(B.isoDate)),"yyyy-MM-dd"),cycleDay:O(B.isoDate,c.startDate),ignored:h?B.ignored??h.ignored:B.ignored||!1};if(h)J=c.data.map(de=>de.id===h.id?{...de,...re,id:h.id}:de);else{const de={...re,id:crypto.randomUUID?crypto.randomUUID():Math.random().toString(36).slice(2)};J=[...c.data,de]}const te=N(J,c.startDate),ee={...c,data:te};F(ee),u(ee),f({title:h?"Registro actualizado":"Nuevo registro añadido",description:"Datos para el ciclo actualizados."}),v(!1),g(null),I(!1),o()},K=B=>{if(!c||!n)return;I(!0);const q=c.data.filter(ye=>ye.id!==B),Z=N(q,c.startDate),se={...c,data:Z};F(se),u(se),f({title:"Registro eliminado",description:"El registro ha sido eliminado del ciclo.",variant:"destructive"}),x(null),I(!1),o()},W=(B,q)=>{if(!c||!n||c.id!==B)return;I(!0),s(B,q),u(se=>{if(!se)return null;const ye=se.data.map(te=>te.id===q?{...te,ignored:!te.ignored}:te),J=N(ye,se.startDate),re={...se,data:J};return F(re),re});const Z=c.data.find(se=>se.id===q);f({title:`Registro ${Z&&!Z.ignored?"despreciado":"restaurado"}`,description:`El registro del ${Z?be(le(Z.isoDate),"dd/MM/yyyy"):""} ha sido ${Z&&!Z.ignored?"marcado como despreciado":"restaurado"}.`}),I(!1)},L=async({startDate:B,endDate:q})=>{if(!(!c||!n)){I(!0);try{await a(c.id,B,q);const Z=await r(c.id);Z&&(F(Z),u(Z)),f({title:"Fechas actualizadas",description:"Las fechas del ciclo han sido modificadas."}),b(!1)}catch(Z){console.error(Z)}I(!1)}},j=async()=>{if(!(!c||!n)&&window.confirm("¿Eliminar este ciclo?")){I(!0);try{await l(c.id),f({title:"Ciclo eliminado",description:"El ciclo ha sido eliminado."}),e("/archived-cycles")}catch(B){console.error(B)}I(!1)}},U=m.useCallback(()=>{if(!c||!c.startDate)return[];const B=le(c.startDate),q=c.data.reduce((re,te)=>{const ee=le(te.isoDate);return ee>re?ee:re},B),Z=c.endDate?le(c.endDate):null;let se;if(Z)se=To(Ce(Z),B)+1;else{const re=Ce(new Date),te=q>re?q:re,ee=To(Ce(te),B);se=Math.max(qM,ee+1)}return HM(B,se).map(re=>{const te=c.data.find(ee=>ee.isoDate===re.isoDate);return te?{...te,date:re.date}:re})},[c]);if(i||!c)return p.jsx("div",{className:"text-center text-slate-300 p-8",children:"Cargando detalles del ciclo..."});const z=U();return p.jsxs(p.Fragment,{children:[p.jsx(kte,{cycleData:c,addOrUpdateDataPointForCycle:Y,deleteRecordForCycle:K,toggleIgnoreRecordForCycle:W,isFullScreen:P,toggleFullScreen:R,orientation:D,rotateScreen:S,showInterpretation:A,setShowInterpretation:M,chartDisplayData:z,showForm:w,setShowForm:v,editingRecord:h,setEditingRecord:g,recordToDelete:E,setRecordToDelete:x,isProcessing:C,toast:f,onEditCycleDates:()=>b(!0),onDeleteCycle:j}),p.jsx(vf,{isOpen:y,onClose:()=>b(!1),onConfirm:L,initialStartDate:c.startDate,initialEndDate:c.endDate})]})},Nte=()=>{const{user:t,updateEmail:e,updatePassword:n,preferences:r,savePreferences:i}=_l(),[o,s]=m.useState((t==null?void 0:t.email)||""),[a,l]=m.useState(""),[c,u]=m.useState((r==null?void 0:r.theme)||"light"),[f,h]=m.useState((r==null?void 0:r.units)||"metric");m.useEffect(()=>{s((t==null?void 0:t.email)||"")},[t]),m.useEffect(()=>{r&&(u(r.theme||"light"),h(r.units||"metric"))},[r]);const g=async E=>{E.preventDefault(),await e(o)},w=async E=>{E.preventDefault(),a&&(await n(a),l(""))},v=async E=>{E.preventDefault(),await i({theme:c,units:f})};return p.jsxs("div",{className:"max-w-md mx-auto space-y-8",children:[p.jsxs("form",{onSubmit:g,className:"space-y-2",children:[p.jsx(Bt,{htmlFor:"email",children:"Correo"}),p.jsx(fr,{id:"email",type:"email",value:o,onChange:E=>s(E.target.value)}),p.jsx(Se,{type:"submit",className:"mt-2",children:"Actualizar correo"})]}),p.jsxs("form",{onSubmit:w,className:"space-y-2",children:[p.jsx(Bt,{htmlFor:"password",children:"Contraseña nueva"}),p.jsx(fr,{id:"password",type:"password",value:a,onChange:E=>l(E.target.value)}),p.jsx(Se,{type:"submit",className:"mt-2",children:"Actualizar contraseña"})]}),p.jsxs("form",{onSubmit:v,className:"space-y-4",children:[p.jsxs("div",{className:"space-y-2",children:[p.jsx(Bt,{children:"Tema"}),p.jsxs(zy,{value:c,onValueChange:u,children:[p.jsx(Mh,{children:p.jsx(Hy,{placeholder:"Tema"})}),p.jsxs(Oh,{children:[p.jsx(wa,{value:"light",children:"Claro"}),p.jsx(wa,{value:"dark",children:"Oscuro"})]})]})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx(Bt,{children:"Unidades"}),p.jsxs(zy,{value:f,onValueChange:h,children:[p.jsx(Mh,{children:p.jsx(Hy,{placeholder:"Unidades"})}),p.jsxs(Oh,{children:[p.jsx(wa,{value:"metric",children:"Métrico"}),p.jsx(wa,{value:"imperial",children:"Imperial"})]})]})]}),p.jsx(Se,{type:"submit",children:"Guardar preferencias"})]})]})},Dte=()=>{const{currentCycle:t}=ju(),[e,n]=m.useState("portrait");if(m.useEffect(()=>{const v=()=>{n(window.innerWidth>window.innerHeight?"landscape":"portrait")};return v(),window.addEventListener("resize",v),window.addEventListener("orientationchange",v),()=>{window.removeEventListener("resize",v),window.removeEventListener("orientationchange",v)}},[]),!(t!=null&&t.id))return p.jsx("p",{className:"text-center text-gray-500",children:"No hay ciclo activo."});const r=28,i=10,o=le(t.startDate),s=t.data.reduce((v,E)=>{const x=le(E.isoDate);return x>v?x:v},o),a=Ce(new Date),l=s>a?s:a,c=To(Ce(l),o),u=Math.max(r,c+1),h=HM(o,u).map(v=>{const E=t.data.find(x=>x.isoDate===v.isoDate);return E?{...E,date:v.date}:v}),g=e==="portrait"?i:u;let w=0;if(e!=="landscape"){const v=To(new Date,Ce(o)),E=Math.min(Math.max(v,0),u-1);let x=Math.min(u,E+1);E<g-1&&(x=Math.min(u,g)),w=Math.max(0,x-g)}return p.jsxs("div",{className:"relative w-full h-full",children:[p.jsx("button",{onClick:()=>n(e==="portrait"?"landscape":"portrait"),className:"absolute top-4 right-4 z-10 bg-white/80 hover:bg-white text-gray-700 p-2 rounded-full shadow","aria-label":"Rotar gráfico",children:p.jsx(U2,{className:"w-5 h-5"})}),p.jsx(PM,{data:h,isFullScreen:!0,orientation:e,cycleId:t.id,initialScrollIndex:w,visibleDays:g})]})},Mte=()=>{const{currentCycle:t,addOrUpdateDataPoint:e,deleteRecord:n,isLoading:r}=ju(),{toast:i}=xl(),[o,s]=m.useState(!1),[a,l]=m.useState(null),[c,u]=m.useState(null),[f,h]=m.useState(!1),g=x=>{l(x),s(!0)},w=x=>{const y=t.data.find(b=>b.id===x);u(y)},v=async x=>{h(!0);try{await e(x,a),s(!1),l(null)}catch{i({title:"Error",description:"No se pudo guardar el registro",variant:"destructive"})}finally{h(!1)}},E=async()=>{if(c){h(!0);try{await n(c.id),u(null)}catch{i({title:"Error",description:"No se pudo eliminar el registro",variant:"destructive"})}finally{h(!1)}}};return r?p.jsx("p",{className:"text-center text-gray-500",children:"Cargando..."}):t!=null&&t.id?p.jsxs("div",{className:"max-w-4xl mx-auto",children:[!o&&p.jsx("div",{className:"my-4",children:p.jsxs(Se,{onClick:()=>{l(null),s(!0)},className:"w-full sm:w-auto bg-gradient-to-r from-pink-500 to-fuchsia-600 hover:from-pink-600 hover:to-fuchsia-700 text-white",disabled:f,children:[p.jsx(bh,{className:"mr-2 h-4 w-4"})," Añadir registro"]})}),!o&&p.jsx(WM,{records:t.data,onEdit:g,onDelete:w,isProcessing:f}),o&&p.jsx(z1,{onSubmit:v,onCancel:()=>{s(!1),l(null)},initialData:a,cycleStartDate:t.startDate,cycleEndDate:t.endDate,isProcessing:f,isEditing:!!a}),p.jsx(zM,{isOpen:!!c,onClose:()=>u(null),onConfirm:E,recordDate:c?be(le(c.isoDate),"dd/MM/yyyy"):"",isProcessing:f})]}):p.jsx("p",{className:"text-center text-gray-500",children:"No hay ciclo activo."})},Ote=()=>{const t=[{to:"/records",label:"Mis registros",icon:Gz},{to:"/chart",label:"Gráfica",icon:Hz},{to:"/",label:"Ciclo actual",icon:tH},{to:"/archived-cycles",label:"Mis ciclos",icon:$2},{to:"/settings",label:"Cuenta",icon:cH}];return p.jsx("nav",{className:"fixed bottom-0 left-0 right-0 bg-white border-t border-gray-100 z-50",children:p.jsx("ul",{className:"flex justify-around items-center max-w-md mx-auto",children:t.map(({to:e,label:n,icon:r})=>p.jsx("li",{children:p.jsxs(g5,{to:e,className:({isActive:i})=>`flex flex-col items-center py-2 px-3 rounded-lg transition-colors duration-200 ${i?"text-pink-600":"text-gray-400 hover:text-gray-600"}`,children:[p.jsx(r,{className:"h-5 w-5"}),p.jsx("span",{className:"text-xs mt-1",children:n})]})},e))})})},Qs=({children:t})=>p.jsxs("div",{className:"min-h-screen flex flex-col",children:[p.jsx("main",{className:"flex-grow container mx-auto px-4 sm:px-6 pt-4 pb-24",children:t}),p.jsx(Ote,{})]});function Lte(t){const e=t+"CollectionProvider",[n,r]=Ls(e),[i,o]=n(e,{collectionRef:{current:null},itemMap:new Map}),s=v=>{const{scope:E,children:x}=v,y=_e.useRef(null),b=_e.useRef(new Map).current;return p.jsx(i,{scope:E,itemMap:b,collectionRef:y,children:x})};s.displayName=e;const a=t+"CollectionSlot",l=Xa(a),c=_e.forwardRef((v,E)=>{const{scope:x,children:y}=v,b=o(a,x),P=lt(E,b.collectionRef);return p.jsx(l,{ref:P,children:y})});c.displayName=a;const u=t+"CollectionItemSlot",f="data-radix-collection-item",h=Xa(u),g=_e.forwardRef((v,E)=>{const{scope:x,children:y,...b}=v,P=_e.useRef(null),R=lt(E,P),D=o(u,x);return _e.useEffect(()=>(D.itemMap.set(P,{ref:P,...b}),()=>void D.itemMap.delete(P))),p.jsx(h,{[f]:"",ref:R,children:y})});g.displayName=u;function w(v){const E=o(t+"CollectionConsumer",v);return _e.useCallback(()=>{const y=E.collectionRef.current;if(!y)return[];const b=Array.from(y.querySelectorAll(`[${f}]`));return Array.from(E.itemMap.values()).sort((D,S)=>b.indexOf(D.ref.current)-b.indexOf(S.ref.current))},[E.collectionRef,E.itemMap])}return[{Provider:s,Slot:c,ItemSlot:g},w,r]}var Vte=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),jte="VisuallyHidden",i_=m.forwardRef((t,e)=>p.jsx(ze.span,{...t,ref:e,style:{...Vte,...t.style}}));i_.displayName=jte;var o_="ToastProvider",[s_,Fte,$te]=Lte("Toast"),[GM,Ene]=Ls("Toast",[$te]),[Ute,tm]=GM(o_),YM=t=>{const{__scopeToast:e,label:n="Notification",duration:r=5e3,swipeDirection:i="right",swipeThreshold:o=50,children:s}=t,[a,l]=m.useState(null),[c,u]=m.useState(0),f=m.useRef(!1),h=m.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${o_}\`. Expected non-empty \`string\`.`),p.jsx(s_.Provider,{scope:e,children:p.jsx(Ute,{scope:e,label:n,duration:r,swipeDirection:i,swipeThreshold:o,toastCount:c,viewport:a,onViewportChange:l,onToastAdd:m.useCallback(()=>u(g=>g+1),[]),onToastRemove:m.useCallback(()=>u(g=>g-1),[]),isFocusedToastEscapeKeyDownRef:f,isClosePausedRef:h,children:s})})};YM.displayName=o_;var KM="ToastViewport",Bte=["F8"],qy="toast.viewportPause",Gy="toast.viewportResume",QM=m.forwardRef((t,e)=>{const{__scopeToast:n,hotkey:r=Bte,label:i="Notifications ({hotkey})",...o}=t,s=tm(KM,n),a=Fte(n),l=m.useRef(null),c=m.useRef(null),u=m.useRef(null),f=m.useRef(null),h=lt(e,f,s.onViewportChange),g=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),w=s.toastCount>0;m.useEffect(()=>{const E=x=>{var b;r.length!==0&&r.every(P=>x[P]||x.code===P)&&((b=f.current)==null||b.focus())};return document.addEventListener("keydown",E),()=>document.removeEventListener("keydown",E)},[r]),m.useEffect(()=>{const E=l.current,x=f.current;if(w&&E&&x){const y=()=>{if(!s.isClosePausedRef.current){const D=new CustomEvent(qy);x.dispatchEvent(D),s.isClosePausedRef.current=!0}},b=()=>{if(s.isClosePausedRef.current){const D=new CustomEvent(Gy);x.dispatchEvent(D),s.isClosePausedRef.current=!1}},P=D=>{!E.contains(D.relatedTarget)&&b()},R=()=>{E.contains(document.activeElement)||b()};return E.addEventListener("focusin",y),E.addEventListener("focusout",P),E.addEventListener("pointermove",y),E.addEventListener("pointerleave",R),window.addEventListener("blur",y),window.addEventListener("focus",b),()=>{E.removeEventListener("focusin",y),E.removeEventListener("focusout",P),E.removeEventListener("pointermove",y),E.removeEventListener("pointerleave",R),window.removeEventListener("blur",y),window.removeEventListener("focus",b)}}},[w,s.isClosePausedRef]);const v=m.useCallback(({tabbingDirection:E})=>{const y=a().map(b=>{const P=b.ref.current,R=[P,...tne(P)];return E==="forwards"?R:R.reverse()});return(E==="forwards"?y.reverse():y).flat()},[a]);return m.useEffect(()=>{const E=f.current;if(E){const x=y=>{var R,D,S;const b=y.altKey||y.ctrlKey||y.metaKey;if(y.key==="Tab"&&!b){const C=document.activeElement,I=y.shiftKey;if(y.target===E&&I){(R=c.current)==null||R.focus();return}const O=v({tabbingDirection:I?"backwards":"forwards"}),N=O.findIndex(F=>F===C);Wg(O.slice(N+1))?y.preventDefault():I?(D=c.current)==null||D.focus():(S=u.current)==null||S.focus()}};return E.addEventListener("keydown",x),()=>E.removeEventListener("keydown",x)}},[a,v]),p.jsxs(DQ,{ref:l,role:"region","aria-label":i.replace("{hotkey}",g),tabIndex:-1,style:{pointerEvents:w?void 0:"none"},children:[w&&p.jsx(Yy,{ref:c,onFocusFromOutsideViewport:()=>{const E=v({tabbingDirection:"forwards"});Wg(E)}}),p.jsx(s_.Slot,{scope:n,children:p.jsx(ze.ol,{tabIndex:-1,...o,ref:h})}),w&&p.jsx(Yy,{ref:u,onFocusFromOutsideViewport:()=>{const E=v({tabbingDirection:"backwards"});Wg(E)}})]})});QM.displayName=KM;var XM="ToastFocusProxy",Yy=m.forwardRef((t,e)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...i}=t,o=tm(XM,n);return p.jsx(i_,{"aria-hidden":!0,tabIndex:0,...i,ref:e,style:{position:"fixed"},onFocus:s=>{var c;const a=s.relatedTarget;!((c=o.viewport)!=null&&c.contains(a))&&r()}})});Yy.displayName=XM;var Fu="Toast",Wte="toast.swipeStart",zte="toast.swipeMove",Hte="toast.swipeCancel",qte="toast.swipeEnd",JM=m.forwardRef((t,e)=>{const{forceMount:n,open:r,defaultOpen:i,onOpenChange:o,...s}=t,[a,l]=jp({prop:r,defaultProp:i??!0,onChange:o,caller:Fu});return p.jsx(Zn,{present:n||a,children:p.jsx(Kte,{open:a,...s,ref:e,onClose:()=>l(!1),onPause:Ht(t.onPause),onResume:Ht(t.onResume),onSwipeStart:$e(t.onSwipeStart,c=>{c.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:$e(t.onSwipeMove,c=>{const{x:u,y:f}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","move"),c.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${u}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${f}px`)}),onSwipeCancel:$e(t.onSwipeCancel,c=>{c.currentTarget.setAttribute("data-swipe","cancel"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:$e(t.onSwipeEnd,c=>{const{x:u,y:f}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","end"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${u}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${f}px`),l(!1)})})})});JM.displayName=Fu;var[Gte,Yte]=GM(Fu,{onClose(){}}),Kte=m.forwardRef((t,e)=>{const{__scopeToast:n,type:r="foreground",duration:i,open:o,onClose:s,onEscapeKeyDown:a,onPause:l,onResume:c,onSwipeStart:u,onSwipeMove:f,onSwipeCancel:h,onSwipeEnd:g,...w}=t,v=tm(Fu,n),[E,x]=m.useState(null),y=lt(e,F=>x(F)),b=m.useRef(null),P=m.useRef(null),R=i||v.duration,D=m.useRef(0),S=m.useRef(R),C=m.useRef(0),{onToastAdd:I,onToastRemove:A}=v,M=Ht(()=>{var Y;(E==null?void 0:E.contains(document.activeElement))&&((Y=v.viewport)==null||Y.focus()),s()}),O=m.useCallback(F=>{!F||F===1/0||(window.clearTimeout(C.current),D.current=new Date().getTime(),C.current=window.setTimeout(M,F))},[M]);m.useEffect(()=>{const F=v.viewport;if(F){const Y=()=>{O(S.current),c==null||c()},K=()=>{const W=new Date().getTime()-D.current;S.current=S.current-W,window.clearTimeout(C.current),l==null||l()};return F.addEventListener(qy,K),F.addEventListener(Gy,Y),()=>{F.removeEventListener(qy,K),F.removeEventListener(Gy,Y)}}},[v.viewport,R,l,c,O]),m.useEffect(()=>{o&&!v.isClosePausedRef.current&&O(R)},[o,R,v.isClosePausedRef,O]),m.useEffect(()=>(I(),()=>A()),[I,A]);const N=m.useMemo(()=>E?oO(E):null,[E]);return v.viewport?p.jsxs(p.Fragment,{children:[N&&p.jsx(Qte,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:N}),p.jsx(Gte,{scope:n,onClose:M,children:$o.createPortal(p.jsx(s_.ItemSlot,{scope:n,children:p.jsx(NQ,{asChild:!0,onEscapeKeyDown:$e(a,()=>{v.isFocusedToastEscapeKeyDownRef.current||M(),v.isFocusedToastEscapeKeyDownRef.current=!1}),children:p.jsx(ze.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":o?"open":"closed","data-swipe-direction":v.swipeDirection,...w,ref:y,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:$e(t.onKeyDown,F=>{F.key==="Escape"&&(a==null||a(F.nativeEvent),F.nativeEvent.defaultPrevented||(v.isFocusedToastEscapeKeyDownRef.current=!0,M()))}),onPointerDown:$e(t.onPointerDown,F=>{F.button===0&&(b.current={x:F.clientX,y:F.clientY})}),onPointerMove:$e(t.onPointerMove,F=>{if(!b.current)return;const Y=F.clientX-b.current.x,K=F.clientY-b.current.y,W=!!P.current,L=["left","right"].includes(v.swipeDirection),j=["left","up"].includes(v.swipeDirection)?Math.min:Math.max,U=L?j(0,Y):0,z=L?0:j(0,K),B=F.pointerType==="touch"?10:2,q={x:U,y:z},Z={originalEvent:F,delta:q};W?(P.current=q,Ud(zte,f,Z,{discrete:!1})):aS(q,v.swipeDirection,B)?(P.current=q,Ud(Wte,u,Z,{discrete:!1}),F.target.setPointerCapture(F.pointerId)):(Math.abs(Y)>B||Math.abs(K)>B)&&(b.current=null)}),onPointerUp:$e(t.onPointerUp,F=>{const Y=P.current,K=F.target;if(K.hasPointerCapture(F.pointerId)&&K.releasePointerCapture(F.pointerId),P.current=null,b.current=null,Y){const W=F.currentTarget,L={originalEvent:F,delta:Y};aS(Y,v.swipeDirection,v.swipeThreshold)?Ud(qte,g,L,{discrete:!0}):Ud(Hte,h,L,{discrete:!0}),W.addEventListener("click",j=>j.preventDefault(),{once:!0})}})})})}),v.viewport)})]}):null}),Qte=t=>{const{__scopeToast:e,children:n,...r}=t,i=tm(Fu,e),[o,s]=m.useState(!1),[a,l]=m.useState(!1);return Zte(()=>s(!0)),m.useEffect(()=>{const c=window.setTimeout(()=>l(!0),1e3);return()=>window.clearTimeout(c)},[]),a?null:p.jsx(Hp,{asChild:!0,children:p.jsx(i_,{...r,children:o&&p.jsxs(p.Fragment,{children:[i.label," ",n]})})})},Xte="ToastTitle",ZM=m.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return p.jsx(ze.div,{...r,ref:e})});ZM.displayName=Xte;var Jte="ToastDescription",eO=m.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return p.jsx(ze.div,{...r,ref:e})});eO.displayName=Jte;var tO="ToastAction",nO=m.forwardRef((t,e)=>{const{altText:n,...r}=t;return n.trim()?p.jsx(iO,{altText:n,asChild:!0,children:p.jsx(a_,{...r,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${tO}\`. Expected non-empty \`string\`.`),null)});nO.displayName=tO;var rO="ToastClose",a_=m.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t,i=Yte(rO,n);return p.jsx(iO,{asChild:!0,children:p.jsx(ze.button,{type:"button",...r,ref:e,onClick:$e(t.onClick,i.onClose)})})});a_.displayName=rO;var iO=m.forwardRef((t,e)=>{const{__scopeToast:n,altText:r,...i}=t;return p.jsx(ze.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...i,ref:e})});function oO(t){const e=[];return Array.from(t.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&e.push(r.textContent),ene(r)){const i=r.ariaHidden||r.hidden||r.style.display==="none",o=r.dataset.radixToastAnnounceExclude==="";if(!i)if(o){const s=r.dataset.radixToastAnnounceAlt;s&&e.push(s)}else e.push(...oO(r))}}),e}function Ud(t,e,n,{discrete:r}){const i=n.originalEvent.currentTarget,o=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:n});e&&i.addEventListener(t,e,{once:!0}),r?mR(i,o):i.dispatchEvent(o)}var aS=(t,e,n=0)=>{const r=Math.abs(t.x),i=Math.abs(t.y),o=r>i;return e==="left"||e==="right"?o&&r>n:!o&&i>n};function Zte(t=()=>{}){const e=Ht(t);Hr(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[e])}function ene(t){return t.nodeType===t.ELEMENT_NODE}function tne(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function Wg(t){const e=document.activeElement;return t.some(n=>n===e?!0:(n.focus(),document.activeElement!==e))}var nne=YM,sO=QM,aO=JM,lO=ZM,cO=eO,uO=nO,dO=a_;const rne=nne,fO=_e.forwardRef(({className:t,...e},n)=>p.jsx(sO,{ref:n,className:Ue("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));fO.displayName=sO.displayName;const ine=Ap("data-[swipe=move]:transition-none group relative pointer-events-auto flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full data-[state=closed]:slide-out-to-right-full",{variants:{variant:{default:"bg-background border",destructive:"group destructive border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),hO=_e.forwardRef(({className:t,variant:e,...n},r)=>p.jsx(aO,{ref:r,className:Ue(ine({variant:e}),t),...n}));hO.displayName=aO.displayName;const one=_e.forwardRef(({className:t,...e},n)=>p.jsx(uO,{ref:n,className:Ue("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-destructive/30 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...e}));one.displayName=uO.displayName;const pO=_e.forwardRef(({className:t,...e},n)=>p.jsx(dO,{ref:n,className:Ue("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:p.jsx(s1,{className:"h-4 w-4"})}));pO.displayName=dO.displayName;const mO=_e.forwardRef(({className:t,...e},n)=>p.jsx(lO,{ref:n,className:Ue("text-sm font-semibold",t),...e}));mO.displayName=lO.displayName;const gO=_e.forwardRef(({className:t,...e},n)=>p.jsx(cO,{ref:n,className:Ue("text-sm opacity-90",t),...e}));gO.displayName=cO.displayName;function sne(){const{toasts:t}=xl();return p.jsxs(rne,{children:[t.map(({id:e,title:n,description:r,action:i,...o})=>p.jsxs(hO,{...o,children:[p.jsxs("div",{className:"grid gap-1",children:[n&&p.jsx(mO,{children:n}),r&&p.jsx(gO,{children:r})]}),i,p.jsx(pO,{})]},e)),p.jsx(fO,{})]})}function Xs({children:t}){const{user:e}=_l();return e?t:p.jsx(jv,{to:"/auth",replace:!0})}function ane(){const{user:t,loadingAuth:e}=_l();return e?p.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gradient-to-br from-pink-50 via-purple-50 to-indigo-50 space-y-4",children:[p.jsx(xe.div,{className:"w-8 h-8 rounded-full bg-pink-500/80",animate:{opacity:[.4,1,.4]},transition:{duration:1.2,repeat:1/0}}),p.jsx(xe.p,{className:"text-pink-600 font-medium",initial:{opacity:0},animate:{opacity:1},transition:{delay:.2},children:"Cargando aplicación..."})]}):p.jsxs(o5,{children:[p.jsx(ni,{path:"/auth",element:t?p.jsx(jv,{to:"/",replace:!0}):p.jsx(uH,{})}),p.jsx(ni,{path:"/",element:p.jsx(Xs,{children:p.jsx(Qs,{children:p.jsx(Vee,{})})})}),p.jsx(ni,{path:"/chart",element:p.jsx(Xs,{children:p.jsx(Qs,{children:p.jsx(Dte,{})})})}),p.jsx(ni,{path:"/records",element:p.jsx(Xs,{children:p.jsx(Qs,{children:p.jsx(Mte,{})})})}),p.jsx(ni,{path:"/archived-cycles",element:p.jsx(Xs,{children:p.jsx(Qs,{children:p.jsx(Zee,{})})})}),p.jsx(ni,{path:"/settings",element:p.jsx(Xs,{children:p.jsx(Qs,{children:p.jsx(Nte,{})})})}),p.jsx(ni,{path:"/cycle/:cycleId",element:p.jsx(Xs,{children:p.jsx(Qs,{children:p.jsx(Rte,{})})})}),p.jsx(ni,{path:"*",element:p.jsx(jv,{to:t?"/":"/auth",replace:!0})})]})}function lne(){return p.jsx(h5,{children:p.jsxs(jU,{children:[p.jsx(ane,{}),p.jsx(sne,{})]})})}zg.createRoot(document.getElementById("root")).render(p.jsx(_e.StrictMode,{children:p.jsx(lne,{})}));"serviceWorker"in navigator&&window.addEventListener("load",()=>{const t="/sw.js";navigator.serviceWorker.register(t)});
