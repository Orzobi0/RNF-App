function ZO(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(t,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();function hS(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var pS={exports:{}},Fh={},mS={exports:{}},Pe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pu=Symbol.for("react.element"),eL=Symbol.for("react.portal"),tL=Symbol.for("react.fragment"),nL=Symbol.for("react.strict_mode"),rL=Symbol.for("react.profiler"),iL=Symbol.for("react.provider"),oL=Symbol.for("react.context"),sL=Symbol.for("react.forward_ref"),aL=Symbol.for("react.suspense"),lL=Symbol.for("react.memo"),cL=Symbol.for("react.lazy"),lx=Symbol.iterator;function uL(t){return t===null||typeof t!="object"?null:(t=lx&&t[lx]||t["@@iterator"],typeof t=="function"?t:null)}var gS={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},vS=Object.assign,yS={};function ll(t,e,n){this.props=t,this.context=e,this.refs=yS,this.updater=n||gS}ll.prototype.isReactComponent={};ll.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};ll.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function wS(){}wS.prototype=ll.prototype;function r0(t,e,n){this.props=t,this.context=e,this.refs=yS,this.updater=n||gS}var i0=r0.prototype=new wS;i0.constructor=r0;vS(i0,ll.prototype);i0.isPureReactComponent=!0;var cx=Array.isArray,_S=Object.prototype.hasOwnProperty,o0={current:null},xS={key:!0,ref:!0,__self:!0,__source:!0};function ES(t,e,n){var r,i={},o=null,s=null;if(e!=null)for(r in e.ref!==void 0&&(s=e.ref),e.key!==void 0&&(o=""+e.key),e)_S.call(e,r)&&!xS.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:pu,type:t,key:o,ref:s,props:i,_owner:o0.current}}function dL(t,e){return{$$typeof:pu,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function s0(t){return typeof t=="object"&&t!==null&&t.$$typeof===pu}function fL(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var ux=/\/+/g;function Pm(t,e){return typeof t=="object"&&t!==null&&t.key!=null?fL(""+t.key):e.toString(36)}function Gd(t,e,n,r,i){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var s=!1;if(t===null)s=!0;else switch(o){case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case pu:case eL:s=!0}}if(s)return s=t,i=i(s),t=r===""?"."+Pm(s,0):r,cx(i)?(n="",t!=null&&(n=t.replace(ux,"$&/")+"/"),Gd(i,e,n,"",function(c){return c})):i!=null&&(s0(i)&&(i=dL(i,n+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(ux,"$&/")+"/")+t)),e.push(i)),1;if(s=0,r=r===""?".":r+":",cx(t))for(var a=0;a<t.length;a++){o=t[a];var l=r+Pm(o,a);s+=Gd(o,e,n,l,i)}else if(l=uL(t),typeof l=="function")for(t=l.call(t),a=0;!(o=t.next()).done;)o=o.value,l=r+Pm(o,a++),s+=Gd(o,e,n,l,i);else if(o==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return s}function sd(t,e,n){if(t==null)return t;var r=[],i=0;return Gd(t,r,"","",function(o){return e.call(n,o,i++)}),r}function hL(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var vn={current:null},Yd={transition:null},pL={ReactCurrentDispatcher:vn,ReactCurrentBatchConfig:Yd,ReactCurrentOwner:o0};function bS(){throw Error("act(...) is not supported in production builds of React.")}Pe.Children={map:sd,forEach:function(t,e,n){sd(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return sd(t,function(){e++}),e},toArray:function(t){return sd(t,function(e){return e})||[]},only:function(t){if(!s0(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Pe.Component=ll;Pe.Fragment=tL;Pe.Profiler=rL;Pe.PureComponent=r0;Pe.StrictMode=nL;Pe.Suspense=aL;Pe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=pL;Pe.act=bS;Pe.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=vS({},t.props),i=t.key,o=t.ref,s=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,s=o0.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)_S.call(e,l)&&!xS.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:pu,type:t.type,key:i,ref:o,props:r,_owner:s}};Pe.createContext=function(t){return t={$$typeof:oL,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:iL,_context:t},t.Consumer=t};Pe.createElement=ES;Pe.createFactory=function(t){var e=ES.bind(null,t);return e.type=t,e};Pe.createRef=function(){return{current:null}};Pe.forwardRef=function(t){return{$$typeof:sL,render:t}};Pe.isValidElement=s0;Pe.lazy=function(t){return{$$typeof:cL,_payload:{_status:-1,_result:t},_init:hL}};Pe.memo=function(t,e){return{$$typeof:lL,type:t,compare:e===void 0?null:e}};Pe.startTransition=function(t){var e=Yd.transition;Yd.transition={};try{t()}finally{Yd.transition=e}};Pe.unstable_act=bS;Pe.useCallback=function(t,e){return vn.current.useCallback(t,e)};Pe.useContext=function(t){return vn.current.useContext(t)};Pe.useDebugValue=function(){};Pe.useDeferredValue=function(t){return vn.current.useDeferredValue(t)};Pe.useEffect=function(t,e){return vn.current.useEffect(t,e)};Pe.useId=function(){return vn.current.useId()};Pe.useImperativeHandle=function(t,e,n){return vn.current.useImperativeHandle(t,e,n)};Pe.useInsertionEffect=function(t,e){return vn.current.useInsertionEffect(t,e)};Pe.useLayoutEffect=function(t,e){return vn.current.useLayoutEffect(t,e)};Pe.useMemo=function(t,e){return vn.current.useMemo(t,e)};Pe.useReducer=function(t,e,n){return vn.current.useReducer(t,e,n)};Pe.useRef=function(t){return vn.current.useRef(t)};Pe.useState=function(t){return vn.current.useState(t)};Pe.useSyncExternalStore=function(t,e,n){return vn.current.useSyncExternalStore(t,e,n)};Pe.useTransition=function(){return vn.current.useTransition()};Pe.version="18.3.1";mS.exports=Pe;var m=mS.exports;const we=hS(m),$h=ZO({__proto__:null,default:we},[m]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mL=m,gL=Symbol.for("react.element"),vL=Symbol.for("react.fragment"),yL=Object.prototype.hasOwnProperty,wL=mL.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,_L={key:!0,ref:!0,__self:!0,__source:!0};function TS(t,e,n){var r,i={},o=null,s=null;n!==void 0&&(o=""+n),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(s=e.ref);for(r in e)yL.call(e,r)&&!_L.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:gL,type:t,key:o,ref:s,props:i,_owner:wL.current}}Fh.Fragment=vL;Fh.jsx=TS;Fh.jsxs=TS;pS.exports=Fh;var p=pS.exports,Xg={},CS={exports:{}},$n={},SS={exports:{}},PS={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(L,j){var B=L.length;L.push(j);e:for(;0<B;){var $=B-1>>>1,H=L[$];if(0<i(H,j))L[$]=j,L[B]=H,B=$;else break e}}function n(L){return L.length===0?null:L[0]}function r(L){if(L.length===0)return null;var j=L[0],B=L.pop();if(B!==j){L[0]=B;e:for(var $=0,H=L.length,W=H>>>1;$<W;){var J=2*($+1)-1,he=L[J],fe=J+1,Q=L[fe];if(0>i(he,B))fe<H&&0>i(Q,he)?(L[$]=Q,L[fe]=B,$=fe):(L[$]=he,L[J]=B,$=J);else if(fe<H&&0>i(Q,B))L[$]=Q,L[fe]=B,$=fe;else break e}}return j}function i(L,j){var B=L.sortIndex-j.sortIndex;return B!==0?B:L.id-j.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,a=s.now();t.unstable_now=function(){return s.now()-a}}var l=[],c=[],u=1,f=null,h=3,g=!1,w=!1,v=!1,E=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(L){for(var j=n(c);j!==null;){if(j.callback===null)r(c);else if(j.startTime<=L)r(c),j.sortIndex=j.expirationTime,e(l,j);else break;j=n(c)}}function P(L){if(v=!1,b(L),!w)if(n(l)!==null)w=!0,K(N);else{var j=n(c);j!==null&&z(P,j.startTime-L)}}function N(L,j){w=!1,v&&(v=!1,x(C),C=-1),g=!0;var B=h;try{for(b(j),f=n(l);f!==null&&(!(f.expirationTime>j)||L&&!D());){var $=f.callback;if(typeof $=="function"){f.callback=null,h=f.priorityLevel;var H=$(f.expirationTime<=j);j=t.unstable_now(),typeof H=="function"?f.callback=H:f===n(l)&&r(l),b(j)}else r(l);f=n(l)}if(f!==null)var W=!0;else{var J=n(c);J!==null&&z(P,J.startTime-j),W=!1}return W}finally{f=null,h=B,g=!1}}var M=!1,S=null,C=-1,I=5,A=-1;function D(){return!(t.unstable_now()-A<I)}function O(){if(S!==null){var L=t.unstable_now();A=L;var j=!0;try{j=S(!0,L)}finally{j?R():(M=!1,S=null)}}else M=!1}var R;if(typeof y=="function")R=function(){y(O)};else if(typeof MessageChannel<"u"){var F=new MessageChannel,q=F.port2;F.port1.onmessage=O,R=function(){q.postMessage(null)}}else R=function(){E(O,0)};function K(L){S=L,M||(M=!0,R())}function z(L,j){C=E(function(){L(t.unstable_now())},j)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(L){L.callback=null},t.unstable_continueExecution=function(){w||g||(w=!0,K(N))},t.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<L?Math.floor(1e3/L):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(L){switch(h){case 1:case 2:case 3:var j=3;break;default:j=h}var B=h;h=j;try{return L()}finally{h=B}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(L,j){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var B=h;h=L;try{return j()}finally{h=B}},t.unstable_scheduleCallback=function(L,j,B){var $=t.unstable_now();switch(typeof B=="object"&&B!==null?(B=B.delay,B=typeof B=="number"&&0<B?$+B:$):B=$,L){case 1:var H=-1;break;case 2:H=250;break;case 5:H=1073741823;break;case 4:H=1e4;break;default:H=5e3}return H=B+H,L={id:u++,callback:j,priorityLevel:L,startTime:B,expirationTime:H,sortIndex:-1},B>$?(L.sortIndex=B,e(c,L),n(l)===null&&L===n(c)&&(v?(x(C),C=-1):v=!0,z(P,B-$))):(L.sortIndex=H,e(l,L),w||g||(w=!0,K(N))),L},t.unstable_shouldYield=D,t.unstable_wrapCallback=function(L){var j=h;return function(){var B=h;h=j;try{return L.apply(this,arguments)}finally{h=B}}}})(PS);SS.exports=PS;var xL=SS.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var EL=m,jn=xL;function X(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var IS=new Set,Nc={};function As(t,e){La(t,e),La(t+"Capture",e)}function La(t,e){for(Nc[t]=e,t=0;t<e.length;t++)IS.add(e[t])}var mi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Jg=Object.prototype.hasOwnProperty,bL=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,dx={},fx={};function TL(t){return Jg.call(fx,t)?!0:Jg.call(dx,t)?!1:bL.test(t)?fx[t]=!0:(dx[t]=!0,!1)}function CL(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function SL(t,e,n,r){if(e===null||typeof e>"u"||CL(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function yn(t,e,n,r,i,o,s){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=s}var Gt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Gt[t]=new yn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Gt[e]=new yn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Gt[t]=new yn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Gt[t]=new yn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Gt[t]=new yn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Gt[t]=new yn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Gt[t]=new yn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Gt[t]=new yn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Gt[t]=new yn(t,5,!1,t.toLowerCase(),null,!1,!1)});var a0=/[\-:]([a-z])/g;function l0(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(a0,l0);Gt[e]=new yn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(a0,l0);Gt[e]=new yn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(a0,l0);Gt[e]=new yn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Gt[t]=new yn(t,1,!1,t.toLowerCase(),null,!1,!1)});Gt.xlinkHref=new yn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Gt[t]=new yn(t,1,!1,t.toLowerCase(),null,!0,!0)});function c0(t,e,n,r){var i=Gt.hasOwnProperty(e)?Gt[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(SL(e,n,i,r)&&(n=null),r||i===null?TL(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var ki=EL.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ad=Symbol.for("react.element"),na=Symbol.for("react.portal"),ra=Symbol.for("react.fragment"),u0=Symbol.for("react.strict_mode"),Zg=Symbol.for("react.profiler"),AS=Symbol.for("react.provider"),kS=Symbol.for("react.context"),d0=Symbol.for("react.forward_ref"),ev=Symbol.for("react.suspense"),tv=Symbol.for("react.suspense_list"),f0=Symbol.for("react.memo"),Hi=Symbol.for("react.lazy"),RS=Symbol.for("react.offscreen"),hx=Symbol.iterator;function Fl(t){return t===null||typeof t!="object"?null:(t=hx&&t[hx]||t["@@iterator"],typeof t=="function"?t:null)}var ht=Object.assign,Im;function Zl(t){if(Im===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Im=e&&e[1]||""}return`
`+Im+t}var Am=!1;function km(t,e){if(!t||Am)return"";Am=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),o=r.stack.split(`
`),s=i.length-1,a=o.length-1;1<=s&&0<=a&&i[s]!==o[a];)a--;for(;1<=s&&0<=a;s--,a--)if(i[s]!==o[a]){if(s!==1||a!==1)do if(s--,a--,0>a||i[s]!==o[a]){var l=`
`+i[s].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=s&&0<=a);break}}}finally{Am=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Zl(t):""}function PL(t){switch(t.tag){case 5:return Zl(t.type);case 16:return Zl("Lazy");case 13:return Zl("Suspense");case 19:return Zl("SuspenseList");case 0:case 2:case 15:return t=km(t.type,!1),t;case 11:return t=km(t.type.render,!1),t;case 1:return t=km(t.type,!0),t;default:return""}}function nv(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case ra:return"Fragment";case na:return"Portal";case Zg:return"Profiler";case u0:return"StrictMode";case ev:return"Suspense";case tv:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case kS:return(t.displayName||"Context")+".Consumer";case AS:return(t._context.displayName||"Context")+".Provider";case d0:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case f0:return e=t.displayName||null,e!==null?e:nv(t.type)||"Memo";case Hi:e=t._payload,t=t._init;try{return nv(t(e))}catch{}}return null}function IL(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return nv(e);case 8:return e===u0?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function bo(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function NS(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function AL(t){var e=NS(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(s){r=""+s,o.call(this,s)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function ld(t){t._valueTracker||(t._valueTracker=AL(t))}function DS(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=NS(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Ef(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function rv(t,e){var n=e.checked;return ht({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function px(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=bo(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function MS(t,e){e=e.checked,e!=null&&c0(t,"checked",e,!1)}function iv(t,e){MS(t,e);var n=bo(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?ov(t,e.type,n):e.hasOwnProperty("defaultValue")&&ov(t,e.type,bo(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function mx(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function ov(t,e,n){(e!=="number"||Ef(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var ec=Array.isArray;function Ea(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+bo(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function sv(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(X(91));return ht({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function gx(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(X(92));if(ec(n)){if(1<n.length)throw Error(X(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:bo(n)}}function OS(t,e){var n=bo(e.value),r=bo(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function vx(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function LS(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function av(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?LS(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var cd,VS=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(cd=cd||document.createElement("div"),cd.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=cd.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Dc(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var uc={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},kL=["Webkit","ms","Moz","O"];Object.keys(uc).forEach(function(t){kL.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),uc[e]=uc[t]})});function jS(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||uc.hasOwnProperty(t)&&uc[t]?(""+e).trim():e+"px"}function FS(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=jS(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var RL=ht({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function lv(t,e){if(e){if(RL[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(X(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(X(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(X(61))}if(e.style!=null&&typeof e.style!="object")throw Error(X(62))}}function cv(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var uv=null;function h0(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var dv=null,ba=null,Ta=null;function yx(t){if(t=vu(t)){if(typeof dv!="function")throw Error(X(280));var e=t.stateNode;e&&(e=Hh(e),dv(t.stateNode,t.type,e))}}function $S(t){ba?Ta?Ta.push(t):Ta=[t]:ba=t}function US(){if(ba){var t=ba,e=Ta;if(Ta=ba=null,yx(t),e)for(t=0;t<e.length;t++)yx(e[t])}}function BS(t,e){return t(e)}function WS(){}var Rm=!1;function zS(t,e,n){if(Rm)return t(e,n);Rm=!0;try{return BS(t,e,n)}finally{Rm=!1,(ba!==null||Ta!==null)&&(WS(),US())}}function Mc(t,e){var n=t.stateNode;if(n===null)return null;var r=Hh(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(X(231,e,typeof n));return n}var fv=!1;if(mi)try{var $l={};Object.defineProperty($l,"passive",{get:function(){fv=!0}}),window.addEventListener("test",$l,$l),window.removeEventListener("test",$l,$l)}catch{fv=!1}function NL(t,e,n,r,i,o,s,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(u){this.onError(u)}}var dc=!1,bf=null,Tf=!1,hv=null,DL={onError:function(t){dc=!0,bf=t}};function ML(t,e,n,r,i,o,s,a,l){dc=!1,bf=null,NL.apply(DL,arguments)}function OL(t,e,n,r,i,o,s,a,l){if(ML.apply(this,arguments),dc){if(dc){var c=bf;dc=!1,bf=null}else throw Error(X(198));Tf||(Tf=!0,hv=c)}}function ks(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function HS(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function wx(t){if(ks(t)!==t)throw Error(X(188))}function LL(t){var e=t.alternate;if(!e){if(e=ks(t),e===null)throw Error(X(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return wx(i),t;if(o===r)return wx(i),e;o=o.sibling}throw Error(X(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,a=i.child;a;){if(a===n){s=!0,n=i,r=o;break}if(a===r){s=!0,r=i,n=o;break}a=a.sibling}if(!s){for(a=o.child;a;){if(a===n){s=!0,n=o,r=i;break}if(a===r){s=!0,r=o,n=i;break}a=a.sibling}if(!s)throw Error(X(189))}}if(n.alternate!==r)throw Error(X(190))}if(n.tag!==3)throw Error(X(188));return n.stateNode.current===n?t:e}function qS(t){return t=LL(t),t!==null?GS(t):null}function GS(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=GS(t);if(e!==null)return e;t=t.sibling}return null}var YS=jn.unstable_scheduleCallback,_x=jn.unstable_cancelCallback,VL=jn.unstable_shouldYield,jL=jn.unstable_requestPaint,_t=jn.unstable_now,FL=jn.unstable_getCurrentPriorityLevel,p0=jn.unstable_ImmediatePriority,KS=jn.unstable_UserBlockingPriority,Cf=jn.unstable_NormalPriority,$L=jn.unstable_LowPriority,QS=jn.unstable_IdlePriority,Uh=null,Nr=null;function UL(t){if(Nr&&typeof Nr.onCommitFiberRoot=="function")try{Nr.onCommitFiberRoot(Uh,t,void 0,(t.current.flags&128)===128)}catch{}}var dr=Math.clz32?Math.clz32:zL,BL=Math.log,WL=Math.LN2;function zL(t){return t>>>=0,t===0?32:31-(BL(t)/WL|0)|0}var ud=64,dd=4194304;function tc(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Sf(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,o=t.pingedLanes,s=n&268435455;if(s!==0){var a=s&~i;a!==0?r=tc(a):(o&=s,o!==0&&(r=tc(o)))}else s=n&~i,s!==0?r=tc(s):o!==0&&(r=tc(o));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,o=e&-e,i>=o||i===16&&(o&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-dr(e),i=1<<n,r|=t[n],e&=~i;return r}function HL(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function qL(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,o=t.pendingLanes;0<o;){var s=31-dr(o),a=1<<s,l=i[s];l===-1?(!(a&n)||a&r)&&(i[s]=HL(a,e)):l<=e&&(t.expiredLanes|=a),o&=~a}}function pv(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function XS(){var t=ud;return ud<<=1,!(ud&4194240)&&(ud=64),t}function Nm(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function mu(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-dr(e),t[e]=n}function GL(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-dr(n),o=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~o}}function m0(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-dr(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var qe=0;function JS(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var ZS,g0,eP,tP,nP,mv=!1,fd=[],io=null,oo=null,so=null,Oc=new Map,Lc=new Map,Yi=[],YL="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function xx(t,e){switch(t){case"focusin":case"focusout":io=null;break;case"dragenter":case"dragleave":oo=null;break;case"mouseover":case"mouseout":so=null;break;case"pointerover":case"pointerout":Oc.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Lc.delete(e.pointerId)}}function Ul(t,e,n,r,i,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},e!==null&&(e=vu(e),e!==null&&g0(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function KL(t,e,n,r,i){switch(e){case"focusin":return io=Ul(io,t,e,n,r,i),!0;case"dragenter":return oo=Ul(oo,t,e,n,r,i),!0;case"mouseover":return so=Ul(so,t,e,n,r,i),!0;case"pointerover":var o=i.pointerId;return Oc.set(o,Ul(Oc.get(o)||null,t,e,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,Lc.set(o,Ul(Lc.get(o)||null,t,e,n,r,i)),!0}return!1}function rP(t){var e=is(t.target);if(e!==null){var n=ks(e);if(n!==null){if(e=n.tag,e===13){if(e=HS(n),e!==null){t.blockedOn=e,nP(t.priority,function(){eP(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Kd(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=gv(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);uv=r,n.target.dispatchEvent(r),uv=null}else return e=vu(n),e!==null&&g0(e),t.blockedOn=n,!1;e.shift()}return!0}function Ex(t,e,n){Kd(t)&&n.delete(e)}function QL(){mv=!1,io!==null&&Kd(io)&&(io=null),oo!==null&&Kd(oo)&&(oo=null),so!==null&&Kd(so)&&(so=null),Oc.forEach(Ex),Lc.forEach(Ex)}function Bl(t,e){t.blockedOn===e&&(t.blockedOn=null,mv||(mv=!0,jn.unstable_scheduleCallback(jn.unstable_NormalPriority,QL)))}function Vc(t){function e(i){return Bl(i,t)}if(0<fd.length){Bl(fd[0],t);for(var n=1;n<fd.length;n++){var r=fd[n];r.blockedOn===t&&(r.blockedOn=null)}}for(io!==null&&Bl(io,t),oo!==null&&Bl(oo,t),so!==null&&Bl(so,t),Oc.forEach(e),Lc.forEach(e),n=0;n<Yi.length;n++)r=Yi[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Yi.length&&(n=Yi[0],n.blockedOn===null);)rP(n),n.blockedOn===null&&Yi.shift()}var Ca=ki.ReactCurrentBatchConfig,Pf=!0;function XL(t,e,n,r){var i=qe,o=Ca.transition;Ca.transition=null;try{qe=1,v0(t,e,n,r)}finally{qe=i,Ca.transition=o}}function JL(t,e,n,r){var i=qe,o=Ca.transition;Ca.transition=null;try{qe=4,v0(t,e,n,r)}finally{qe=i,Ca.transition=o}}function v0(t,e,n,r){if(Pf){var i=gv(t,e,n,r);if(i===null)Bm(t,e,r,If,n),xx(t,r);else if(KL(i,t,e,n,r))r.stopPropagation();else if(xx(t,r),e&4&&-1<YL.indexOf(t)){for(;i!==null;){var o=vu(i);if(o!==null&&ZS(o),o=gv(t,e,n,r),o===null&&Bm(t,e,r,If,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else Bm(t,e,r,null,n)}}var If=null;function gv(t,e,n,r){if(If=null,t=h0(r),t=is(t),t!==null)if(e=ks(t),e===null)t=null;else if(n=e.tag,n===13){if(t=HS(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return If=t,null}function iP(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(FL()){case p0:return 1;case KS:return 4;case Cf:case $L:return 16;case QS:return 536870912;default:return 16}default:return 16}}var eo=null,y0=null,Qd=null;function oP(){if(Qd)return Qd;var t,e=y0,n=e.length,r,i="value"in eo?eo.value:eo.textContent,o=i.length;for(t=0;t<n&&e[t]===i[t];t++);var s=n-t;for(r=1;r<=s&&e[n-r]===i[o-r];r++);return Qd=i.slice(t,1<r?1-r:void 0)}function Xd(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function hd(){return!0}function bx(){return!1}function Un(t){function e(n,r,i,o,s){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=s,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(o):o[a]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?hd:bx,this.isPropagationStopped=bx,this}return ht(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=hd)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=hd)},persist:function(){},isPersistent:hd}),e}var cl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},w0=Un(cl),gu=ht({},cl,{view:0,detail:0}),ZL=Un(gu),Dm,Mm,Wl,Bh=ht({},gu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:_0,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Wl&&(Wl&&t.type==="mousemove"?(Dm=t.screenX-Wl.screenX,Mm=t.screenY-Wl.screenY):Mm=Dm=0,Wl=t),Dm)},movementY:function(t){return"movementY"in t?t.movementY:Mm}}),Tx=Un(Bh),e4=ht({},Bh,{dataTransfer:0}),t4=Un(e4),n4=ht({},gu,{relatedTarget:0}),Om=Un(n4),r4=ht({},cl,{animationName:0,elapsedTime:0,pseudoElement:0}),i4=Un(r4),o4=ht({},cl,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),s4=Un(o4),a4=ht({},cl,{data:0}),Cx=Un(a4),l4={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},c4={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},u4={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function d4(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=u4[t])?!!e[t]:!1}function _0(){return d4}var f4=ht({},gu,{key:function(t){if(t.key){var e=l4[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Xd(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?c4[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:_0,charCode:function(t){return t.type==="keypress"?Xd(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Xd(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),h4=Un(f4),p4=ht({},Bh,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Sx=Un(p4),m4=ht({},gu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:_0}),g4=Un(m4),v4=ht({},cl,{propertyName:0,elapsedTime:0,pseudoElement:0}),y4=Un(v4),w4=ht({},Bh,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),_4=Un(w4),x4=[9,13,27,32],x0=mi&&"CompositionEvent"in window,fc=null;mi&&"documentMode"in document&&(fc=document.documentMode);var E4=mi&&"TextEvent"in window&&!fc,sP=mi&&(!x0||fc&&8<fc&&11>=fc),Px=String.fromCharCode(32),Ix=!1;function aP(t,e){switch(t){case"keyup":return x4.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function lP(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ia=!1;function b4(t,e){switch(t){case"compositionend":return lP(e);case"keypress":return e.which!==32?null:(Ix=!0,Px);case"textInput":return t=e.data,t===Px&&Ix?null:t;default:return null}}function T4(t,e){if(ia)return t==="compositionend"||!x0&&aP(t,e)?(t=oP(),Qd=y0=eo=null,ia=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return sP&&e.locale!=="ko"?null:e.data;default:return null}}var C4={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ax(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!C4[t.type]:e==="textarea"}function cP(t,e,n,r){$S(r),e=Af(e,"onChange"),0<e.length&&(n=new w0("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var hc=null,jc=null;function S4(t){_P(t,0)}function Wh(t){var e=aa(t);if(DS(e))return t}function P4(t,e){if(t==="change")return e}var uP=!1;if(mi){var Lm;if(mi){var Vm="oninput"in document;if(!Vm){var kx=document.createElement("div");kx.setAttribute("oninput","return;"),Vm=typeof kx.oninput=="function"}Lm=Vm}else Lm=!1;uP=Lm&&(!document.documentMode||9<document.documentMode)}function Rx(){hc&&(hc.detachEvent("onpropertychange",dP),jc=hc=null)}function dP(t){if(t.propertyName==="value"&&Wh(jc)){var e=[];cP(e,jc,t,h0(t)),zS(S4,e)}}function I4(t,e,n){t==="focusin"?(Rx(),hc=e,jc=n,hc.attachEvent("onpropertychange",dP)):t==="focusout"&&Rx()}function A4(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Wh(jc)}function k4(t,e){if(t==="click")return Wh(e)}function R4(t,e){if(t==="input"||t==="change")return Wh(e)}function N4(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var hr=typeof Object.is=="function"?Object.is:N4;function Fc(t,e){if(hr(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Jg.call(e,i)||!hr(t[i],e[i]))return!1}return!0}function Nx(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Dx(t,e){var n=Nx(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Nx(n)}}function fP(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?fP(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function hP(){for(var t=window,e=Ef();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Ef(t.document)}return e}function E0(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function D4(t){var e=hP(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&fP(n.ownerDocument.documentElement,n)){if(r!==null&&E0(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!t.extend&&o>r&&(i=r,r=o,o=i),i=Dx(n,o);var s=Dx(n,r);i&&s&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==s.node||t.focusOffset!==s.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),o>r?(t.addRange(e),t.extend(s.node,s.offset)):(e.setEnd(s.node,s.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var M4=mi&&"documentMode"in document&&11>=document.documentMode,oa=null,vv=null,pc=null,yv=!1;function Mx(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;yv||oa==null||oa!==Ef(r)||(r=oa,"selectionStart"in r&&E0(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),pc&&Fc(pc,r)||(pc=r,r=Af(vv,"onSelect"),0<r.length&&(e=new w0("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=oa)))}function pd(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var sa={animationend:pd("Animation","AnimationEnd"),animationiteration:pd("Animation","AnimationIteration"),animationstart:pd("Animation","AnimationStart"),transitionend:pd("Transition","TransitionEnd")},jm={},pP={};mi&&(pP=document.createElement("div").style,"AnimationEvent"in window||(delete sa.animationend.animation,delete sa.animationiteration.animation,delete sa.animationstart.animation),"TransitionEvent"in window||delete sa.transitionend.transition);function zh(t){if(jm[t])return jm[t];if(!sa[t])return t;var e=sa[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in pP)return jm[t]=e[n];return t}var mP=zh("animationend"),gP=zh("animationiteration"),vP=zh("animationstart"),yP=zh("transitionend"),wP=new Map,Ox="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Oo(t,e){wP.set(t,e),As(e,[t])}for(var Fm=0;Fm<Ox.length;Fm++){var $m=Ox[Fm],O4=$m.toLowerCase(),L4=$m[0].toUpperCase()+$m.slice(1);Oo(O4,"on"+L4)}Oo(mP,"onAnimationEnd");Oo(gP,"onAnimationIteration");Oo(vP,"onAnimationStart");Oo("dblclick","onDoubleClick");Oo("focusin","onFocus");Oo("focusout","onBlur");Oo(yP,"onTransitionEnd");La("onMouseEnter",["mouseout","mouseover"]);La("onMouseLeave",["mouseout","mouseover"]);La("onPointerEnter",["pointerout","pointerover"]);La("onPointerLeave",["pointerout","pointerover"]);As("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));As("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));As("onBeforeInput",["compositionend","keypress","textInput","paste"]);As("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));As("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));As("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var nc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),V4=new Set("cancel close invalid load scroll toggle".split(" ").concat(nc));function Lx(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,OL(r,e,void 0,t),t.currentTarget=null}function _P(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var o=void 0;if(e)for(var s=r.length-1;0<=s;s--){var a=r[s],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==o&&i.isPropagationStopped())break e;Lx(i,a,c),o=l}else for(s=0;s<r.length;s++){if(a=r[s],l=a.instance,c=a.currentTarget,a=a.listener,l!==o&&i.isPropagationStopped())break e;Lx(i,a,c),o=l}}}if(Tf)throw t=hv,Tf=!1,hv=null,t}function nt(t,e){var n=e[bv];n===void 0&&(n=e[bv]=new Set);var r=t+"__bubble";n.has(r)||(xP(e,t,2,!1),n.add(r))}function Um(t,e,n){var r=0;e&&(r|=4),xP(n,t,r,e)}var md="_reactListening"+Math.random().toString(36).slice(2);function $c(t){if(!t[md]){t[md]=!0,IS.forEach(function(n){n!=="selectionchange"&&(V4.has(n)||Um(n,!1,t),Um(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[md]||(e[md]=!0,Um("selectionchange",!1,e))}}function xP(t,e,n,r){switch(iP(e)){case 1:var i=XL;break;case 4:i=JL;break;default:i=v0}n=i.bind(null,e,n,t),i=void 0,!fv||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Bm(t,e,n,r,i){var o=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(s===4)for(s=r.return;s!==null;){var l=s.tag;if((l===3||l===4)&&(l=s.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;s=s.return}for(;a!==null;){if(s=is(a),s===null)return;if(l=s.tag,l===5||l===6){r=o=s;continue e}a=a.parentNode}}r=r.return}zS(function(){var c=o,u=h0(n),f=[];e:{var h=wP.get(t);if(h!==void 0){var g=w0,w=t;switch(t){case"keypress":if(Xd(n)===0)break e;case"keydown":case"keyup":g=h4;break;case"focusin":w="focus",g=Om;break;case"focusout":w="blur",g=Om;break;case"beforeblur":case"afterblur":g=Om;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=Tx;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=t4;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=g4;break;case mP:case gP:case vP:g=i4;break;case yP:g=y4;break;case"scroll":g=ZL;break;case"wheel":g=_4;break;case"copy":case"cut":case"paste":g=s4;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=Sx}var v=(e&4)!==0,E=!v&&t==="scroll",x=v?h!==null?h+"Capture":null:h;v=[];for(var y=c,b;y!==null;){b=y;var P=b.stateNode;if(b.tag===5&&P!==null&&(b=P,x!==null&&(P=Mc(y,x),P!=null&&v.push(Uc(y,P,b)))),E)break;y=y.return}0<v.length&&(h=new g(h,w,null,n,u),f.push({event:h,listeners:v}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",g=t==="mouseout"||t==="pointerout",h&&n!==uv&&(w=n.relatedTarget||n.fromElement)&&(is(w)||w[gi]))break e;if((g||h)&&(h=u.window===u?u:(h=u.ownerDocument)?h.defaultView||h.parentWindow:window,g?(w=n.relatedTarget||n.toElement,g=c,w=w?is(w):null,w!==null&&(E=ks(w),w!==E||w.tag!==5&&w.tag!==6)&&(w=null)):(g=null,w=c),g!==w)){if(v=Tx,P="onMouseLeave",x="onMouseEnter",y="mouse",(t==="pointerout"||t==="pointerover")&&(v=Sx,P="onPointerLeave",x="onPointerEnter",y="pointer"),E=g==null?h:aa(g),b=w==null?h:aa(w),h=new v(P,y+"leave",g,n,u),h.target=E,h.relatedTarget=b,P=null,is(u)===c&&(v=new v(x,y+"enter",w,n,u),v.target=b,v.relatedTarget=E,P=v),E=P,g&&w)t:{for(v=g,x=w,y=0,b=v;b;b=zs(b))y++;for(b=0,P=x;P;P=zs(P))b++;for(;0<y-b;)v=zs(v),y--;for(;0<b-y;)x=zs(x),b--;for(;y--;){if(v===x||x!==null&&v===x.alternate)break t;v=zs(v),x=zs(x)}v=null}else v=null;g!==null&&Vx(f,h,g,v,!1),w!==null&&E!==null&&Vx(f,E,w,v,!0)}}e:{if(h=c?aa(c):window,g=h.nodeName&&h.nodeName.toLowerCase(),g==="select"||g==="input"&&h.type==="file")var N=P4;else if(Ax(h))if(uP)N=R4;else{N=A4;var M=I4}else(g=h.nodeName)&&g.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(N=k4);if(N&&(N=N(t,c))){cP(f,N,n,u);break e}M&&M(t,h,c),t==="focusout"&&(M=h._wrapperState)&&M.controlled&&h.type==="number"&&ov(h,"number",h.value)}switch(M=c?aa(c):window,t){case"focusin":(Ax(M)||M.contentEditable==="true")&&(oa=M,vv=c,pc=null);break;case"focusout":pc=vv=oa=null;break;case"mousedown":yv=!0;break;case"contextmenu":case"mouseup":case"dragend":yv=!1,Mx(f,n,u);break;case"selectionchange":if(M4)break;case"keydown":case"keyup":Mx(f,n,u)}var S;if(x0)e:{switch(t){case"compositionstart":var C="onCompositionStart";break e;case"compositionend":C="onCompositionEnd";break e;case"compositionupdate":C="onCompositionUpdate";break e}C=void 0}else ia?aP(t,n)&&(C="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(C="onCompositionStart");C&&(sP&&n.locale!=="ko"&&(ia||C!=="onCompositionStart"?C==="onCompositionEnd"&&ia&&(S=oP()):(eo=u,y0="value"in eo?eo.value:eo.textContent,ia=!0)),M=Af(c,C),0<M.length&&(C=new Cx(C,t,null,n,u),f.push({event:C,listeners:M}),S?C.data=S:(S=lP(n),S!==null&&(C.data=S)))),(S=E4?b4(t,n):T4(t,n))&&(c=Af(c,"onBeforeInput"),0<c.length&&(u=new Cx("onBeforeInput","beforeinput",null,n,u),f.push({event:u,listeners:c}),u.data=S))}_P(f,e)})}function Uc(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Af(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=Mc(t,n),o!=null&&r.unshift(Uc(t,o,i)),o=Mc(t,e),o!=null&&r.push(Uc(t,o,i))),t=t.return}return r}function zs(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Vx(t,e,n,r,i){for(var o=e._reactName,s=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,i?(l=Mc(n,o),l!=null&&s.unshift(Uc(n,l,a))):i||(l=Mc(n,o),l!=null&&s.push(Uc(n,l,a)))),n=n.return}s.length!==0&&t.push({event:e,listeners:s})}var j4=/\r\n?/g,F4=/\u0000|\uFFFD/g;function jx(t){return(typeof t=="string"?t:""+t).replace(j4,`
`).replace(F4,"")}function gd(t,e,n){if(e=jx(e),jx(t)!==e&&n)throw Error(X(425))}function kf(){}var wv=null,_v=null;function xv(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Ev=typeof setTimeout=="function"?setTimeout:void 0,$4=typeof clearTimeout=="function"?clearTimeout:void 0,Fx=typeof Promise=="function"?Promise:void 0,U4=typeof queueMicrotask=="function"?queueMicrotask:typeof Fx<"u"?function(t){return Fx.resolve(null).then(t).catch(B4)}:Ev;function B4(t){setTimeout(function(){throw t})}function Wm(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Vc(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Vc(e)}function ao(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function $x(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var ul=Math.random().toString(36).slice(2),Sr="__reactFiber$"+ul,Bc="__reactProps$"+ul,gi="__reactContainer$"+ul,bv="__reactEvents$"+ul,W4="__reactListeners$"+ul,z4="__reactHandles$"+ul;function is(t){var e=t[Sr];if(e)return e;for(var n=t.parentNode;n;){if(e=n[gi]||n[Sr]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=$x(t);t!==null;){if(n=t[Sr])return n;t=$x(t)}return e}t=n,n=t.parentNode}return null}function vu(t){return t=t[Sr]||t[gi],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function aa(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(X(33))}function Hh(t){return t[Bc]||null}var Tv=[],la=-1;function Lo(t){return{current:t}}function ot(t){0>la||(t.current=Tv[la],Tv[la]=null,la--)}function Qe(t,e){la++,Tv[la]=t.current,t.current=e}var To={},an=Lo(To),Tn=Lo(!1),hs=To;function Va(t,e){var n=t.type.contextTypes;if(!n)return To;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=e[o];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Cn(t){return t=t.childContextTypes,t!=null}function Rf(){ot(Tn),ot(an)}function Ux(t,e,n){if(an.current!==To)throw Error(X(168));Qe(an,e),Qe(Tn,n)}function EP(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(X(108,IL(t)||"Unknown",i));return ht({},n,r)}function Nf(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||To,hs=an.current,Qe(an,t),Qe(Tn,Tn.current),!0}function Bx(t,e,n){var r=t.stateNode;if(!r)throw Error(X(169));n?(t=EP(t,e,hs),r.__reactInternalMemoizedMergedChildContext=t,ot(Tn),ot(an),Qe(an,t)):ot(Tn),Qe(Tn,n)}var ii=null,qh=!1,zm=!1;function bP(t){ii===null?ii=[t]:ii.push(t)}function H4(t){qh=!0,bP(t)}function Vo(){if(!zm&&ii!==null){zm=!0;var t=0,e=qe;try{var n=ii;for(qe=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}ii=null,qh=!1}catch(i){throw ii!==null&&(ii=ii.slice(t+1)),YS(p0,Vo),i}finally{qe=e,zm=!1}}return null}var ca=[],ua=0,Df=null,Mf=0,zn=[],Hn=0,ps=null,oi=1,si="";function Qo(t,e){ca[ua++]=Mf,ca[ua++]=Df,Df=t,Mf=e}function TP(t,e,n){zn[Hn++]=oi,zn[Hn++]=si,zn[Hn++]=ps,ps=t;var r=oi;t=si;var i=32-dr(r)-1;r&=~(1<<i),n+=1;var o=32-dr(e)+i;if(30<o){var s=i-i%5;o=(r&(1<<s)-1).toString(32),r>>=s,i-=s,oi=1<<32-dr(e)+i|n<<i|r,si=o+t}else oi=1<<o|n<<i|r,si=t}function b0(t){t.return!==null&&(Qo(t,1),TP(t,1,0))}function T0(t){for(;t===Df;)Df=ca[--ua],ca[ua]=null,Mf=ca[--ua],ca[ua]=null;for(;t===ps;)ps=zn[--Hn],zn[Hn]=null,si=zn[--Hn],zn[Hn]=null,oi=zn[--Hn],zn[Hn]=null}var Ln=null,Mn=null,at=!1,cr=null;function CP(t,e){var n=Gn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Wx(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Ln=t,Mn=ao(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Ln=t,Mn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=ps!==null?{id:oi,overflow:si}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Gn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Ln=t,Mn=null,!0):!1;default:return!1}}function Cv(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Sv(t){if(at){var e=Mn;if(e){var n=e;if(!Wx(t,e)){if(Cv(t))throw Error(X(418));e=ao(n.nextSibling);var r=Ln;e&&Wx(t,e)?CP(r,n):(t.flags=t.flags&-4097|2,at=!1,Ln=t)}}else{if(Cv(t))throw Error(X(418));t.flags=t.flags&-4097|2,at=!1,Ln=t}}}function zx(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Ln=t}function vd(t){if(t!==Ln)return!1;if(!at)return zx(t),at=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!xv(t.type,t.memoizedProps)),e&&(e=Mn)){if(Cv(t))throw SP(),Error(X(418));for(;e;)CP(t,e),e=ao(e.nextSibling)}if(zx(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(X(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Mn=ao(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Mn=null}}else Mn=Ln?ao(t.stateNode.nextSibling):null;return!0}function SP(){for(var t=Mn;t;)t=ao(t.nextSibling)}function ja(){Mn=Ln=null,at=!1}function C0(t){cr===null?cr=[t]:cr.push(t)}var q4=ki.ReactCurrentBatchConfig;function zl(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(X(309));var r=n.stateNode}if(!r)throw Error(X(147,t));var i=r,o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(s){var a=i.refs;s===null?delete a[o]:a[o]=s},e._stringRef=o,e)}if(typeof t!="string")throw Error(X(284));if(!n._owner)throw Error(X(290,t))}return t}function yd(t,e){throw t=Object.prototype.toString.call(e),Error(X(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Hx(t){var e=t._init;return e(t._payload)}function PP(t){function e(x,y){if(t){var b=x.deletions;b===null?(x.deletions=[y],x.flags|=16):b.push(y)}}function n(x,y){if(!t)return null;for(;y!==null;)e(x,y),y=y.sibling;return null}function r(x,y){for(x=new Map;y!==null;)y.key!==null?x.set(y.key,y):x.set(y.index,y),y=y.sibling;return x}function i(x,y){return x=fo(x,y),x.index=0,x.sibling=null,x}function o(x,y,b){return x.index=b,t?(b=x.alternate,b!==null?(b=b.index,b<y?(x.flags|=2,y):b):(x.flags|=2,y)):(x.flags|=1048576,y)}function s(x){return t&&x.alternate===null&&(x.flags|=2),x}function a(x,y,b,P){return y===null||y.tag!==6?(y=Xm(b,x.mode,P),y.return=x,y):(y=i(y,b),y.return=x,y)}function l(x,y,b,P){var N=b.type;return N===ra?u(x,y,b.props.children,P,b.key):y!==null&&(y.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===Hi&&Hx(N)===y.type)?(P=i(y,b.props),P.ref=zl(x,y,b),P.return=x,P):(P=of(b.type,b.key,b.props,null,x.mode,P),P.ref=zl(x,y,b),P.return=x,P)}function c(x,y,b,P){return y===null||y.tag!==4||y.stateNode.containerInfo!==b.containerInfo||y.stateNode.implementation!==b.implementation?(y=Jm(b,x.mode,P),y.return=x,y):(y=i(y,b.children||[]),y.return=x,y)}function u(x,y,b,P,N){return y===null||y.tag!==7?(y=ds(b,x.mode,P,N),y.return=x,y):(y=i(y,b),y.return=x,y)}function f(x,y,b){if(typeof y=="string"&&y!==""||typeof y=="number")return y=Xm(""+y,x.mode,b),y.return=x,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case ad:return b=of(y.type,y.key,y.props,null,x.mode,b),b.ref=zl(x,null,y),b.return=x,b;case na:return y=Jm(y,x.mode,b),y.return=x,y;case Hi:var P=y._init;return f(x,P(y._payload),b)}if(ec(y)||Fl(y))return y=ds(y,x.mode,b,null),y.return=x,y;yd(x,y)}return null}function h(x,y,b,P){var N=y!==null?y.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return N!==null?null:a(x,y,""+b,P);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case ad:return b.key===N?l(x,y,b,P):null;case na:return b.key===N?c(x,y,b,P):null;case Hi:return N=b._init,h(x,y,N(b._payload),P)}if(ec(b)||Fl(b))return N!==null?null:u(x,y,b,P,null);yd(x,b)}return null}function g(x,y,b,P,N){if(typeof P=="string"&&P!==""||typeof P=="number")return x=x.get(b)||null,a(y,x,""+P,N);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case ad:return x=x.get(P.key===null?b:P.key)||null,l(y,x,P,N);case na:return x=x.get(P.key===null?b:P.key)||null,c(y,x,P,N);case Hi:var M=P._init;return g(x,y,b,M(P._payload),N)}if(ec(P)||Fl(P))return x=x.get(b)||null,u(y,x,P,N,null);yd(y,P)}return null}function w(x,y,b,P){for(var N=null,M=null,S=y,C=y=0,I=null;S!==null&&C<b.length;C++){S.index>C?(I=S,S=null):I=S.sibling;var A=h(x,S,b[C],P);if(A===null){S===null&&(S=I);break}t&&S&&A.alternate===null&&e(x,S),y=o(A,y,C),M===null?N=A:M.sibling=A,M=A,S=I}if(C===b.length)return n(x,S),at&&Qo(x,C),N;if(S===null){for(;C<b.length;C++)S=f(x,b[C],P),S!==null&&(y=o(S,y,C),M===null?N=S:M.sibling=S,M=S);return at&&Qo(x,C),N}for(S=r(x,S);C<b.length;C++)I=g(S,x,C,b[C],P),I!==null&&(t&&I.alternate!==null&&S.delete(I.key===null?C:I.key),y=o(I,y,C),M===null?N=I:M.sibling=I,M=I);return t&&S.forEach(function(D){return e(x,D)}),at&&Qo(x,C),N}function v(x,y,b,P){var N=Fl(b);if(typeof N!="function")throw Error(X(150));if(b=N.call(b),b==null)throw Error(X(151));for(var M=N=null,S=y,C=y=0,I=null,A=b.next();S!==null&&!A.done;C++,A=b.next()){S.index>C?(I=S,S=null):I=S.sibling;var D=h(x,S,A.value,P);if(D===null){S===null&&(S=I);break}t&&S&&D.alternate===null&&e(x,S),y=o(D,y,C),M===null?N=D:M.sibling=D,M=D,S=I}if(A.done)return n(x,S),at&&Qo(x,C),N;if(S===null){for(;!A.done;C++,A=b.next())A=f(x,A.value,P),A!==null&&(y=o(A,y,C),M===null?N=A:M.sibling=A,M=A);return at&&Qo(x,C),N}for(S=r(x,S);!A.done;C++,A=b.next())A=g(S,x,C,A.value,P),A!==null&&(t&&A.alternate!==null&&S.delete(A.key===null?C:A.key),y=o(A,y,C),M===null?N=A:M.sibling=A,M=A);return t&&S.forEach(function(O){return e(x,O)}),at&&Qo(x,C),N}function E(x,y,b,P){if(typeof b=="object"&&b!==null&&b.type===ra&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case ad:e:{for(var N=b.key,M=y;M!==null;){if(M.key===N){if(N=b.type,N===ra){if(M.tag===7){n(x,M.sibling),y=i(M,b.props.children),y.return=x,x=y;break e}}else if(M.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===Hi&&Hx(N)===M.type){n(x,M.sibling),y=i(M,b.props),y.ref=zl(x,M,b),y.return=x,x=y;break e}n(x,M);break}else e(x,M);M=M.sibling}b.type===ra?(y=ds(b.props.children,x.mode,P,b.key),y.return=x,x=y):(P=of(b.type,b.key,b.props,null,x.mode,P),P.ref=zl(x,y,b),P.return=x,x=P)}return s(x);case na:e:{for(M=b.key;y!==null;){if(y.key===M)if(y.tag===4&&y.stateNode.containerInfo===b.containerInfo&&y.stateNode.implementation===b.implementation){n(x,y.sibling),y=i(y,b.children||[]),y.return=x,x=y;break e}else{n(x,y);break}else e(x,y);y=y.sibling}y=Jm(b,x.mode,P),y.return=x,x=y}return s(x);case Hi:return M=b._init,E(x,y,M(b._payload),P)}if(ec(b))return w(x,y,b,P);if(Fl(b))return v(x,y,b,P);yd(x,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,y!==null&&y.tag===6?(n(x,y.sibling),y=i(y,b),y.return=x,x=y):(n(x,y),y=Xm(b,x.mode,P),y.return=x,x=y),s(x)):n(x,y)}return E}var Fa=PP(!0),IP=PP(!1),Of=Lo(null),Lf=null,da=null,S0=null;function P0(){S0=da=Lf=null}function I0(t){var e=Of.current;ot(Of),t._currentValue=e}function Pv(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Sa(t,e){Lf=t,S0=da=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(En=!0),t.firstContext=null)}function Jn(t){var e=t._currentValue;if(S0!==t)if(t={context:t,memoizedValue:e,next:null},da===null){if(Lf===null)throw Error(X(308));da=t,Lf.dependencies={lanes:0,firstContext:t}}else da=da.next=t;return e}var os=null;function A0(t){os===null?os=[t]:os.push(t)}function AP(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,A0(e)):(n.next=i.next,i.next=n),e.interleaved=n,vi(t,r)}function vi(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var qi=!1;function k0(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function kP(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function ui(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function lo(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Ve&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,vi(t,n)}return i=r.interleaved,i===null?(e.next=e,A0(r)):(e.next=i.next,i.next=e),r.interleaved=e,vi(t,n)}function Jd(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,m0(t,n)}}function qx(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=s:o=o.next=s,n=n.next}while(n!==null);o===null?i=o=e:o=o.next=e}else i=o=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Vf(t,e,n,r){var i=t.updateQueue;qi=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,c=l.next;l.next=null,s===null?o=c:s.next=c,s=l;var u=t.alternate;u!==null&&(u=u.updateQueue,a=u.lastBaseUpdate,a!==s&&(a===null?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(o!==null){var f=i.baseState;s=0,u=c=l=null,a=o;do{var h=a.lane,g=a.eventTime;if((r&h)===h){u!==null&&(u=u.next={eventTime:g,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var w=t,v=a;switch(h=e,g=n,v.tag){case 1:if(w=v.payload,typeof w=="function"){f=w.call(g,f,h);break e}f=w;break e;case 3:w.flags=w.flags&-65537|128;case 0:if(w=v.payload,h=typeof w=="function"?w.call(g,f,h):w,h==null)break e;f=ht({},f,h);break e;case 2:qi=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,h=i.effects,h===null?i.effects=[a]:h.push(a))}else g={eventTime:g,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},u===null?(c=u=g,l=f):u=u.next=g,s|=h;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;h=a,a=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(1);if(u===null&&(l=f),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,e=i.shared.interleaved,e!==null){i=e;do s|=i.lane,i=i.next;while(i!==e)}else o===null&&(i.shared.lanes=0);gs|=s,t.lanes=s,t.memoizedState=f}}function Gx(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(X(191,i));i.call(r)}}}var yu={},Dr=Lo(yu),Wc=Lo(yu),zc=Lo(yu);function ss(t){if(t===yu)throw Error(X(174));return t}function R0(t,e){switch(Qe(zc,e),Qe(Wc,t),Qe(Dr,yu),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:av(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=av(e,t)}ot(Dr),Qe(Dr,e)}function $a(){ot(Dr),ot(Wc),ot(zc)}function RP(t){ss(zc.current);var e=ss(Dr.current),n=av(e,t.type);e!==n&&(Qe(Wc,t),Qe(Dr,n))}function N0(t){Wc.current===t&&(ot(Dr),ot(Wc))}var ct=Lo(0);function jf(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Hm=[];function D0(){for(var t=0;t<Hm.length;t++)Hm[t]._workInProgressVersionPrimary=null;Hm.length=0}var Zd=ki.ReactCurrentDispatcher,qm=ki.ReactCurrentBatchConfig,ms=0,ft=null,kt=null,jt=null,Ff=!1,mc=!1,Hc=0,G4=0;function Jt(){throw Error(X(321))}function M0(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!hr(t[n],e[n]))return!1;return!0}function O0(t,e,n,r,i,o){if(ms=o,ft=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Zd.current=t===null||t.memoizedState===null?X4:J4,t=n(r,i),mc){o=0;do{if(mc=!1,Hc=0,25<=o)throw Error(X(301));o+=1,jt=kt=null,e.updateQueue=null,Zd.current=Z4,t=n(r,i)}while(mc)}if(Zd.current=$f,e=kt!==null&&kt.next!==null,ms=0,jt=kt=ft=null,Ff=!1,e)throw Error(X(300));return t}function L0(){var t=Hc!==0;return Hc=0,t}function Tr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return jt===null?ft.memoizedState=jt=t:jt=jt.next=t,jt}function Zn(){if(kt===null){var t=ft.alternate;t=t!==null?t.memoizedState:null}else t=kt.next;var e=jt===null?ft.memoizedState:jt.next;if(e!==null)jt=e,kt=t;else{if(t===null)throw Error(X(310));kt=t,t={memoizedState:kt.memoizedState,baseState:kt.baseState,baseQueue:kt.baseQueue,queue:kt.queue,next:null},jt===null?ft.memoizedState=jt=t:jt=jt.next=t}return jt}function qc(t,e){return typeof e=="function"?e(t):e}function Gm(t){var e=Zn(),n=e.queue;if(n===null)throw Error(X(311));n.lastRenderedReducer=t;var r=kt,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var a=s=null,l=null,c=o;do{var u=c.lane;if((ms&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var f={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=f,s=r):l=l.next=f,ft.lanes|=u,gs|=u}c=c.next}while(c!==null&&c!==o);l===null?s=r:l.next=a,hr(r,e.memoizedState)||(En=!0),e.memoizedState=r,e.baseState=s,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do o=i.lane,ft.lanes|=o,gs|=o,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Ym(t){var e=Zn(),n=e.queue;if(n===null)throw Error(X(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,o=e.memoizedState;if(i!==null){n.pending=null;var s=i=i.next;do o=t(o,s.action),s=s.next;while(s!==i);hr(o,e.memoizedState)||(En=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),n.lastRenderedState=o}return[o,r]}function NP(){}function DP(t,e){var n=ft,r=Zn(),i=e(),o=!hr(r.memoizedState,i);if(o&&(r.memoizedState=i,En=!0),r=r.queue,V0(LP.bind(null,n,r,t),[t]),r.getSnapshot!==e||o||jt!==null&&jt.memoizedState.tag&1){if(n.flags|=2048,Gc(9,OP.bind(null,n,r,i,e),void 0,null),Ft===null)throw Error(X(349));ms&30||MP(n,e,i)}return i}function MP(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=ft.updateQueue,e===null?(e={lastEffect:null,stores:null},ft.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function OP(t,e,n,r){e.value=n,e.getSnapshot=r,VP(e)&&jP(t)}function LP(t,e,n){return n(function(){VP(e)&&jP(t)})}function VP(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!hr(t,n)}catch{return!0}}function jP(t){var e=vi(t,1);e!==null&&fr(e,t,1,-1)}function Yx(t){var e=Tr();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:qc,lastRenderedState:t},e.queue=t,t=t.dispatch=Q4.bind(null,ft,t),[e.memoizedState,t]}function Gc(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=ft.updateQueue,e===null?(e={lastEffect:null,stores:null},ft.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function FP(){return Zn().memoizedState}function ef(t,e,n,r){var i=Tr();ft.flags|=t,i.memoizedState=Gc(1|e,n,void 0,r===void 0?null:r)}function Gh(t,e,n,r){var i=Zn();r=r===void 0?null:r;var o=void 0;if(kt!==null){var s=kt.memoizedState;if(o=s.destroy,r!==null&&M0(r,s.deps)){i.memoizedState=Gc(e,n,o,r);return}}ft.flags|=t,i.memoizedState=Gc(1|e,n,o,r)}function Kx(t,e){return ef(8390656,8,t,e)}function V0(t,e){return Gh(2048,8,t,e)}function $P(t,e){return Gh(4,2,t,e)}function UP(t,e){return Gh(4,4,t,e)}function BP(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function WP(t,e,n){return n=n!=null?n.concat([t]):null,Gh(4,4,BP.bind(null,e,t),n)}function j0(){}function zP(t,e){var n=Zn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&M0(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function HP(t,e){var n=Zn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&M0(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function qP(t,e,n){return ms&21?(hr(n,e)||(n=XS(),ft.lanes|=n,gs|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,En=!0),t.memoizedState=n)}function Y4(t,e){var n=qe;qe=n!==0&&4>n?n:4,t(!0);var r=qm.transition;qm.transition={};try{t(!1),e()}finally{qe=n,qm.transition=r}}function GP(){return Zn().memoizedState}function K4(t,e,n){var r=uo(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},YP(t))KP(e,n);else if(n=AP(t,e,n,r),n!==null){var i=gn();fr(n,t,r,i),QP(n,e,r)}}function Q4(t,e,n){var r=uo(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(YP(t))KP(e,i);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var s=e.lastRenderedState,a=o(s,n);if(i.hasEagerState=!0,i.eagerState=a,hr(a,s)){var l=e.interleaved;l===null?(i.next=i,A0(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=AP(t,e,i,r),n!==null&&(i=gn(),fr(n,t,r,i),QP(n,e,r))}}function YP(t){var e=t.alternate;return t===ft||e!==null&&e===ft}function KP(t,e){mc=Ff=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function QP(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,m0(t,n)}}var $f={readContext:Jn,useCallback:Jt,useContext:Jt,useEffect:Jt,useImperativeHandle:Jt,useInsertionEffect:Jt,useLayoutEffect:Jt,useMemo:Jt,useReducer:Jt,useRef:Jt,useState:Jt,useDebugValue:Jt,useDeferredValue:Jt,useTransition:Jt,useMutableSource:Jt,useSyncExternalStore:Jt,useId:Jt,unstable_isNewReconciler:!1},X4={readContext:Jn,useCallback:function(t,e){return Tr().memoizedState=[t,e===void 0?null:e],t},useContext:Jn,useEffect:Kx,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,ef(4194308,4,BP.bind(null,e,t),n)},useLayoutEffect:function(t,e){return ef(4194308,4,t,e)},useInsertionEffect:function(t,e){return ef(4,2,t,e)},useMemo:function(t,e){var n=Tr();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Tr();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=K4.bind(null,ft,t),[r.memoizedState,t]},useRef:function(t){var e=Tr();return t={current:t},e.memoizedState=t},useState:Yx,useDebugValue:j0,useDeferredValue:function(t){return Tr().memoizedState=t},useTransition:function(){var t=Yx(!1),e=t[0];return t=Y4.bind(null,t[1]),Tr().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=ft,i=Tr();if(at){if(n===void 0)throw Error(X(407));n=n()}else{if(n=e(),Ft===null)throw Error(X(349));ms&30||MP(r,e,n)}i.memoizedState=n;var o={value:n,getSnapshot:e};return i.queue=o,Kx(LP.bind(null,r,o,t),[t]),r.flags|=2048,Gc(9,OP.bind(null,r,o,n,e),void 0,null),n},useId:function(){var t=Tr(),e=Ft.identifierPrefix;if(at){var n=si,r=oi;n=(r&~(1<<32-dr(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Hc++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=G4++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},J4={readContext:Jn,useCallback:zP,useContext:Jn,useEffect:V0,useImperativeHandle:WP,useInsertionEffect:$P,useLayoutEffect:UP,useMemo:HP,useReducer:Gm,useRef:FP,useState:function(){return Gm(qc)},useDebugValue:j0,useDeferredValue:function(t){var e=Zn();return qP(e,kt.memoizedState,t)},useTransition:function(){var t=Gm(qc)[0],e=Zn().memoizedState;return[t,e]},useMutableSource:NP,useSyncExternalStore:DP,useId:GP,unstable_isNewReconciler:!1},Z4={readContext:Jn,useCallback:zP,useContext:Jn,useEffect:V0,useImperativeHandle:WP,useInsertionEffect:$P,useLayoutEffect:UP,useMemo:HP,useReducer:Ym,useRef:FP,useState:function(){return Ym(qc)},useDebugValue:j0,useDeferredValue:function(t){var e=Zn();return kt===null?e.memoizedState=t:qP(e,kt.memoizedState,t)},useTransition:function(){var t=Ym(qc)[0],e=Zn().memoizedState;return[t,e]},useMutableSource:NP,useSyncExternalStore:DP,useId:GP,unstable_isNewReconciler:!1};function ar(t,e){if(t&&t.defaultProps){e=ht({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Iv(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:ht({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Yh={isMounted:function(t){return(t=t._reactInternals)?ks(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=gn(),i=uo(t),o=ui(r,i);o.payload=e,n!=null&&(o.callback=n),e=lo(t,o,i),e!==null&&(fr(e,t,i,r),Jd(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=gn(),i=uo(t),o=ui(r,i);o.tag=1,o.payload=e,n!=null&&(o.callback=n),e=lo(t,o,i),e!==null&&(fr(e,t,i,r),Jd(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=gn(),r=uo(t),i=ui(n,r);i.tag=2,e!=null&&(i.callback=e),e=lo(t,i,r),e!==null&&(fr(e,t,r,n),Jd(e,t,r))}};function Qx(t,e,n,r,i,o,s){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,o,s):e.prototype&&e.prototype.isPureReactComponent?!Fc(n,r)||!Fc(i,o):!0}function XP(t,e,n){var r=!1,i=To,o=e.contextType;return typeof o=="object"&&o!==null?o=Jn(o):(i=Cn(e)?hs:an.current,r=e.contextTypes,o=(r=r!=null)?Va(t,i):To),e=new e(n,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Yh,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=o),e}function Xx(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Yh.enqueueReplaceState(e,e.state,null)}function Av(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},k0(t);var o=e.contextType;typeof o=="object"&&o!==null?i.context=Jn(o):(o=Cn(e)?hs:an.current,i.context=Va(t,o)),i.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(Iv(t,e,o,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Yh.enqueueReplaceState(i,i.state,null),Vf(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Ua(t,e){try{var n="",r=e;do n+=PL(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:i,digest:null}}function Km(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function kv(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var eV=typeof WeakMap=="function"?WeakMap:Map;function JP(t,e,n){n=ui(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Bf||(Bf=!0,$v=r),kv(t,e)},n}function ZP(t,e,n){n=ui(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){kv(t,e)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){kv(t,e),typeof r!="function"&&(co===null?co=new Set([this]):co.add(this));var s=e.stack;this.componentDidCatch(e.value,{componentStack:s!==null?s:""})}),n}function Jx(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new eV;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=pV.bind(null,t,e,n),e.then(t,t))}function Zx(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function eE(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=ui(-1,1),e.tag=2,lo(n,e,1))),n.lanes|=1),t)}var tV=ki.ReactCurrentOwner,En=!1;function pn(t,e,n,r){e.child=t===null?IP(e,null,n,r):Fa(e,t.child,n,r)}function tE(t,e,n,r,i){n=n.render;var o=e.ref;return Sa(e,i),r=O0(t,e,n,r,o,i),n=L0(),t!==null&&!En?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,yi(t,e,i)):(at&&n&&b0(e),e.flags|=1,pn(t,e,r,i),e.child)}function nE(t,e,n,r,i){if(t===null){var o=n.type;return typeof o=="function"&&!q0(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=o,eI(t,e,o,r,i)):(t=of(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,!(t.lanes&i)){var s=o.memoizedProps;if(n=n.compare,n=n!==null?n:Fc,n(s,r)&&t.ref===e.ref)return yi(t,e,i)}return e.flags|=1,t=fo(o,r),t.ref=e.ref,t.return=e,e.child=t}function eI(t,e,n,r,i){if(t!==null){var o=t.memoizedProps;if(Fc(o,r)&&t.ref===e.ref)if(En=!1,e.pendingProps=r=o,(t.lanes&i)!==0)t.flags&131072&&(En=!0);else return e.lanes=t.lanes,yi(t,e,i)}return Rv(t,e,n,r,i)}function tI(t,e,n){var r=e.pendingProps,i=r.children,o=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Qe(ha,Rn),Rn|=n;else{if(!(n&1073741824))return t=o!==null?o.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Qe(ha,Rn),Rn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,Qe(ha,Rn),Rn|=r}else o!==null?(r=o.baseLanes|n,e.memoizedState=null):r=n,Qe(ha,Rn),Rn|=r;return pn(t,e,i,n),e.child}function nI(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Rv(t,e,n,r,i){var o=Cn(n)?hs:an.current;return o=Va(e,o),Sa(e,i),n=O0(t,e,n,r,o,i),r=L0(),t!==null&&!En?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,yi(t,e,i)):(at&&r&&b0(e),e.flags|=1,pn(t,e,n,i),e.child)}function rE(t,e,n,r,i){if(Cn(n)){var o=!0;Nf(e)}else o=!1;if(Sa(e,i),e.stateNode===null)tf(t,e),XP(e,n,r),Av(e,n,r,i),r=!0;else if(t===null){var s=e.stateNode,a=e.memoizedProps;s.props=a;var l=s.context,c=n.contextType;typeof c=="object"&&c!==null?c=Jn(c):(c=Cn(n)?hs:an.current,c=Va(e,c));var u=n.getDerivedStateFromProps,f=typeof u=="function"||typeof s.getSnapshotBeforeUpdate=="function";f||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==r||l!==c)&&Xx(e,s,r,c),qi=!1;var h=e.memoizedState;s.state=h,Vf(e,r,s,i),l=e.memoizedState,a!==r||h!==l||Tn.current||qi?(typeof u=="function"&&(Iv(e,n,u,r),l=e.memoizedState),(a=qi||Qx(e,n,a,r,h,l,c))?(f||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(e.flags|=4194308)):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),s.props=r,s.state=l,s.context=c,r=a):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{s=e.stateNode,kP(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:ar(e.type,a),s.props=c,f=e.pendingProps,h=s.context,l=n.contextType,typeof l=="object"&&l!==null?l=Jn(l):(l=Cn(n)?hs:an.current,l=Va(e,l));var g=n.getDerivedStateFromProps;(u=typeof g=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==f||h!==l)&&Xx(e,s,r,l),qi=!1,h=e.memoizedState,s.state=h,Vf(e,r,s,i);var w=e.memoizedState;a!==f||h!==w||Tn.current||qi?(typeof g=="function"&&(Iv(e,n,g,r),w=e.memoizedState),(c=qi||Qx(e,n,c,r,h,w,l)||!1)?(u||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,w,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,w,l)),typeof s.componentDidUpdate=="function"&&(e.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=w),s.props=r,s.state=w,s.context=l,r=c):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),r=!1)}return Nv(t,e,n,r,o,i)}function Nv(t,e,n,r,i,o){nI(t,e);var s=(e.flags&128)!==0;if(!r&&!s)return i&&Bx(e,n,!1),yi(t,e,o);r=e.stateNode,tV.current=e;var a=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&s?(e.child=Fa(e,t.child,null,o),e.child=Fa(e,null,a,o)):pn(t,e,a,o),e.memoizedState=r.state,i&&Bx(e,n,!0),e.child}function rI(t){var e=t.stateNode;e.pendingContext?Ux(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Ux(t,e.context,!1),R0(t,e.containerInfo)}function iE(t,e,n,r,i){return ja(),C0(i),e.flags|=256,pn(t,e,n,r),e.child}var Dv={dehydrated:null,treeContext:null,retryLane:0};function Mv(t){return{baseLanes:t,cachePool:null,transitions:null}}function iI(t,e,n){var r=e.pendingProps,i=ct.current,o=!1,s=(e.flags&128)!==0,a;if((a=s)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(o=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Qe(ct,i&1),t===null)return Sv(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(s=r.children,t=r.fallback,o?(r=e.mode,o=e.child,s={mode:"hidden",children:s},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=s):o=Xh(s,r,0,null),t=ds(t,r,n,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=Mv(n),e.memoizedState=Dv,t):F0(e,s));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return nV(t,e,s,r,a,i,n);if(o){o=r.fallback,s=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(s&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=fo(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?o=fo(a,o):(o=ds(o,s,n,null),o.flags|=2),o.return=e,r.return=e,r.sibling=o,e.child=r,r=o,o=e.child,s=t.child.memoizedState,s=s===null?Mv(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},o.memoizedState=s,o.childLanes=t.childLanes&~n,e.memoizedState=Dv,r}return o=t.child,t=o.sibling,r=fo(o,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function F0(t,e){return e=Xh({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function wd(t,e,n,r){return r!==null&&C0(r),Fa(e,t.child,null,n),t=F0(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function nV(t,e,n,r,i,o,s){if(n)return e.flags&256?(e.flags&=-257,r=Km(Error(X(422))),wd(t,e,s,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(o=r.fallback,i=e.mode,r=Xh({mode:"visible",children:r.children},i,0,null),o=ds(o,i,s,null),o.flags|=2,r.return=e,o.return=e,r.sibling=o,e.child=r,e.mode&1&&Fa(e,t.child,null,s),e.child.memoizedState=Mv(s),e.memoizedState=Dv,o);if(!(e.mode&1))return wd(t,e,s,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,o=Error(X(419)),r=Km(o,r,void 0),wd(t,e,s,r)}if(a=(s&t.childLanes)!==0,En||a){if(r=Ft,r!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|s)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,vi(t,i),fr(r,t,i,-1))}return H0(),r=Km(Error(X(421))),wd(t,e,s,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=mV.bind(null,t),i._reactRetry=e,null):(t=o.treeContext,Mn=ao(i.nextSibling),Ln=e,at=!0,cr=null,t!==null&&(zn[Hn++]=oi,zn[Hn++]=si,zn[Hn++]=ps,oi=t.id,si=t.overflow,ps=e),e=F0(e,r.children),e.flags|=4096,e)}function oE(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Pv(t.return,e,n)}function Qm(t,e,n,r,i){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function oI(t,e,n){var r=e.pendingProps,i=r.revealOrder,o=r.tail;if(pn(t,e,r.children,n),r=ct.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&oE(t,n,e);else if(t.tag===19)oE(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Qe(ct,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&jf(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Qm(e,!1,i,n,o);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&jf(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Qm(e,!0,n,null,o);break;case"together":Qm(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function tf(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function yi(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),gs|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(X(153));if(e.child!==null){for(t=e.child,n=fo(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=fo(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function rV(t,e,n){switch(e.tag){case 3:rI(e),ja();break;case 5:RP(e);break;case 1:Cn(e.type)&&Nf(e);break;case 4:R0(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Qe(Of,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Qe(ct,ct.current&1),e.flags|=128,null):n&e.child.childLanes?iI(t,e,n):(Qe(ct,ct.current&1),t=yi(t,e,n),t!==null?t.sibling:null);Qe(ct,ct.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return oI(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Qe(ct,ct.current),r)break;return null;case 22:case 23:return e.lanes=0,tI(t,e,n)}return yi(t,e,n)}var sI,Ov,aI,lI;sI=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Ov=function(){};aI=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,ss(Dr.current);var o=null;switch(n){case"input":i=rv(t,i),r=rv(t,r),o=[];break;case"select":i=ht({},i,{value:void 0}),r=ht({},r,{value:void 0}),o=[];break;case"textarea":i=sv(t,i),r=sv(t,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=kf)}lv(n,r);var s;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var a=i[c];for(s in a)a.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Nc.hasOwnProperty(c)?o||(o=[]):(o=o||[]).push(c,null));for(c in r){var l=r[c];if(a=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(s in a)!a.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in l)l.hasOwnProperty(s)&&a[s]!==l[s]&&(n||(n={}),n[s]=l[s])}else n||(o||(o=[]),o.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(o=o||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(o=o||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Nc.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&nt("scroll",t),o||a===l||(o=[])):(o=o||[]).push(c,l))}n&&(o=o||[]).push("style",n);var c=o;(e.updateQueue=c)&&(e.flags|=4)}};lI=function(t,e,n,r){n!==r&&(e.flags|=4)};function Hl(t,e){if(!at)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Zt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function iV(t,e,n){var r=e.pendingProps;switch(T0(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Zt(e),null;case 1:return Cn(e.type)&&Rf(),Zt(e),null;case 3:return r=e.stateNode,$a(),ot(Tn),ot(an),D0(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(vd(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,cr!==null&&(Wv(cr),cr=null))),Ov(t,e),Zt(e),null;case 5:N0(e);var i=ss(zc.current);if(n=e.type,t!==null&&e.stateNode!=null)aI(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(X(166));return Zt(e),null}if(t=ss(Dr.current),vd(e)){r=e.stateNode,n=e.type;var o=e.memoizedProps;switch(r[Sr]=e,r[Bc]=o,t=(e.mode&1)!==0,n){case"dialog":nt("cancel",r),nt("close",r);break;case"iframe":case"object":case"embed":nt("load",r);break;case"video":case"audio":for(i=0;i<nc.length;i++)nt(nc[i],r);break;case"source":nt("error",r);break;case"img":case"image":case"link":nt("error",r),nt("load",r);break;case"details":nt("toggle",r);break;case"input":px(r,o),nt("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},nt("invalid",r);break;case"textarea":gx(r,o),nt("invalid",r)}lv(n,o),i=null;for(var s in o)if(o.hasOwnProperty(s)){var a=o[s];s==="children"?typeof a=="string"?r.textContent!==a&&(o.suppressHydrationWarning!==!0&&gd(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(o.suppressHydrationWarning!==!0&&gd(r.textContent,a,t),i=["children",""+a]):Nc.hasOwnProperty(s)&&a!=null&&s==="onScroll"&&nt("scroll",r)}switch(n){case"input":ld(r),mx(r,o,!0);break;case"textarea":ld(r),vx(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=kf)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=LS(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=s.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=s.createElement(n,{is:r.is}):(t=s.createElement(n),n==="select"&&(s=t,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):t=s.createElementNS(t,n),t[Sr]=e,t[Bc]=r,sI(t,e,!1,!1),e.stateNode=t;e:{switch(s=cv(n,r),n){case"dialog":nt("cancel",t),nt("close",t),i=r;break;case"iframe":case"object":case"embed":nt("load",t),i=r;break;case"video":case"audio":for(i=0;i<nc.length;i++)nt(nc[i],t);i=r;break;case"source":nt("error",t),i=r;break;case"img":case"image":case"link":nt("error",t),nt("load",t),i=r;break;case"details":nt("toggle",t),i=r;break;case"input":px(t,r),i=rv(t,r),nt("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=ht({},r,{value:void 0}),nt("invalid",t);break;case"textarea":gx(t,r),i=sv(t,r),nt("invalid",t);break;default:i=r}lv(n,i),a=i;for(o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="style"?FS(t,l):o==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&VS(t,l)):o==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Dc(t,l):typeof l=="number"&&Dc(t,""+l):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(Nc.hasOwnProperty(o)?l!=null&&o==="onScroll"&&nt("scroll",t):l!=null&&c0(t,o,l,s))}switch(n){case"input":ld(t),mx(t,r,!1);break;case"textarea":ld(t),vx(t);break;case"option":r.value!=null&&t.setAttribute("value",""+bo(r.value));break;case"select":t.multiple=!!r.multiple,o=r.value,o!=null?Ea(t,!!r.multiple,o,!1):r.defaultValue!=null&&Ea(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=kf)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Zt(e),null;case 6:if(t&&e.stateNode!=null)lI(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(X(166));if(n=ss(zc.current),ss(Dr.current),vd(e)){if(r=e.stateNode,n=e.memoizedProps,r[Sr]=e,(o=r.nodeValue!==n)&&(t=Ln,t!==null))switch(t.tag){case 3:gd(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&gd(r.nodeValue,n,(t.mode&1)!==0)}o&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Sr]=e,e.stateNode=r}return Zt(e),null;case 13:if(ot(ct),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(at&&Mn!==null&&e.mode&1&&!(e.flags&128))SP(),ja(),e.flags|=98560,o=!1;else if(o=vd(e),r!==null&&r.dehydrated!==null){if(t===null){if(!o)throw Error(X(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(X(317));o[Sr]=e}else ja(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Zt(e),o=!1}else cr!==null&&(Wv(cr),cr=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||ct.current&1?Dt===0&&(Dt=3):H0())),e.updateQueue!==null&&(e.flags|=4),Zt(e),null);case 4:return $a(),Ov(t,e),t===null&&$c(e.stateNode.containerInfo),Zt(e),null;case 10:return I0(e.type._context),Zt(e),null;case 17:return Cn(e.type)&&Rf(),Zt(e),null;case 19:if(ot(ct),o=e.memoizedState,o===null)return Zt(e),null;if(r=(e.flags&128)!==0,s=o.rendering,s===null)if(r)Hl(o,!1);else{if(Dt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(s=jf(t),s!==null){for(e.flags|=128,Hl(o,!1),r=s.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)o=n,t=r,o.flags&=14680066,s=o.alternate,s===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,t=s.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Qe(ct,ct.current&1|2),e.child}t=t.sibling}o.tail!==null&&_t()>Ba&&(e.flags|=128,r=!0,Hl(o,!1),e.lanes=4194304)}else{if(!r)if(t=jf(s),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Hl(o,!0),o.tail===null&&o.tailMode==="hidden"&&!s.alternate&&!at)return Zt(e),null}else 2*_t()-o.renderingStartTime>Ba&&n!==1073741824&&(e.flags|=128,r=!0,Hl(o,!1),e.lanes=4194304);o.isBackwards?(s.sibling=e.child,e.child=s):(n=o.last,n!==null?n.sibling=s:e.child=s,o.last=s)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=_t(),e.sibling=null,n=ct.current,Qe(ct,r?n&1|2:n&1),e):(Zt(e),null);case 22:case 23:return z0(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Rn&1073741824&&(Zt(e),e.subtreeFlags&6&&(e.flags|=8192)):Zt(e),null;case 24:return null;case 25:return null}throw Error(X(156,e.tag))}function oV(t,e){switch(T0(e),e.tag){case 1:return Cn(e.type)&&Rf(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return $a(),ot(Tn),ot(an),D0(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return N0(e),null;case 13:if(ot(ct),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(X(340));ja()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return ot(ct),null;case 4:return $a(),null;case 10:return I0(e.type._context),null;case 22:case 23:return z0(),null;case 24:return null;default:return null}}var _d=!1,rn=!1,sV=typeof WeakSet=="function"?WeakSet:Set,ae=null;function fa(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){gt(t,e,r)}else n.current=null}function Lv(t,e,n){try{n()}catch(r){gt(t,e,r)}}var sE=!1;function aV(t,e){if(wv=Pf,t=hP(),E0(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var s=0,a=-1,l=-1,c=0,u=0,f=t,h=null;t:for(;;){for(var g;f!==n||i!==0&&f.nodeType!==3||(a=s+i),f!==o||r!==0&&f.nodeType!==3||(l=s+r),f.nodeType===3&&(s+=f.nodeValue.length),(g=f.firstChild)!==null;)h=f,f=g;for(;;){if(f===t)break t;if(h===n&&++c===i&&(a=s),h===o&&++u===r&&(l=s),(g=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=g}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(_v={focusedElem:t,selectionRange:n},Pf=!1,ae=e;ae!==null;)if(e=ae,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,ae=t;else for(;ae!==null;){e=ae;try{var w=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(w!==null){var v=w.memoizedProps,E=w.memoizedState,x=e.stateNode,y=x.getSnapshotBeforeUpdate(e.elementType===e.type?v:ar(e.type,v),E);x.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var b=e.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(X(163))}}catch(P){gt(e,e.return,P)}if(t=e.sibling,t!==null){t.return=e.return,ae=t;break}ae=e.return}return w=sE,sE=!1,w}function gc(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var o=i.destroy;i.destroy=void 0,o!==void 0&&Lv(e,n,o)}i=i.next}while(i!==r)}}function Kh(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Vv(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function cI(t){var e=t.alternate;e!==null&&(t.alternate=null,cI(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Sr],delete e[Bc],delete e[bv],delete e[W4],delete e[z4])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function uI(t){return t.tag===5||t.tag===3||t.tag===4}function aE(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||uI(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function jv(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=kf));else if(r!==4&&(t=t.child,t!==null))for(jv(t,e,n),t=t.sibling;t!==null;)jv(t,e,n),t=t.sibling}function Fv(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Fv(t,e,n),t=t.sibling;t!==null;)Fv(t,e,n),t=t.sibling}var Ut=null,lr=!1;function ji(t,e,n){for(n=n.child;n!==null;)dI(t,e,n),n=n.sibling}function dI(t,e,n){if(Nr&&typeof Nr.onCommitFiberUnmount=="function")try{Nr.onCommitFiberUnmount(Uh,n)}catch{}switch(n.tag){case 5:rn||fa(n,e);case 6:var r=Ut,i=lr;Ut=null,ji(t,e,n),Ut=r,lr=i,Ut!==null&&(lr?(t=Ut,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Ut.removeChild(n.stateNode));break;case 18:Ut!==null&&(lr?(t=Ut,n=n.stateNode,t.nodeType===8?Wm(t.parentNode,n):t.nodeType===1&&Wm(t,n),Vc(t)):Wm(Ut,n.stateNode));break;case 4:r=Ut,i=lr,Ut=n.stateNode.containerInfo,lr=!0,ji(t,e,n),Ut=r,lr=i;break;case 0:case 11:case 14:case 15:if(!rn&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,s=o.destroy;o=o.tag,s!==void 0&&(o&2||o&4)&&Lv(n,e,s),i=i.next}while(i!==r)}ji(t,e,n);break;case 1:if(!rn&&(fa(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){gt(n,e,a)}ji(t,e,n);break;case 21:ji(t,e,n);break;case 22:n.mode&1?(rn=(r=rn)||n.memoizedState!==null,ji(t,e,n),rn=r):ji(t,e,n);break;default:ji(t,e,n)}}function lE(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new sV),e.forEach(function(r){var i=gV.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function ir(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=t,s=e,a=s;e:for(;a!==null;){switch(a.tag){case 5:Ut=a.stateNode,lr=!1;break e;case 3:Ut=a.stateNode.containerInfo,lr=!0;break e;case 4:Ut=a.stateNode.containerInfo,lr=!0;break e}a=a.return}if(Ut===null)throw Error(X(160));dI(o,s,i),Ut=null,lr=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){gt(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)fI(e,t),e=e.sibling}function fI(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(ir(e,t),br(t),r&4){try{gc(3,t,t.return),Kh(3,t)}catch(v){gt(t,t.return,v)}try{gc(5,t,t.return)}catch(v){gt(t,t.return,v)}}break;case 1:ir(e,t),br(t),r&512&&n!==null&&fa(n,n.return);break;case 5:if(ir(e,t),br(t),r&512&&n!==null&&fa(n,n.return),t.flags&32){var i=t.stateNode;try{Dc(i,"")}catch(v){gt(t,t.return,v)}}if(r&4&&(i=t.stateNode,i!=null)){var o=t.memoizedProps,s=n!==null?n.memoizedProps:o,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&o.type==="radio"&&o.name!=null&&MS(i,o),cv(a,s);var c=cv(a,o);for(s=0;s<l.length;s+=2){var u=l[s],f=l[s+1];u==="style"?FS(i,f):u==="dangerouslySetInnerHTML"?VS(i,f):u==="children"?Dc(i,f):c0(i,u,f,c)}switch(a){case"input":iv(i,o);break;case"textarea":OS(i,o);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var g=o.value;g!=null?Ea(i,!!o.multiple,g,!1):h!==!!o.multiple&&(o.defaultValue!=null?Ea(i,!!o.multiple,o.defaultValue,!0):Ea(i,!!o.multiple,o.multiple?[]:"",!1))}i[Bc]=o}catch(v){gt(t,t.return,v)}}break;case 6:if(ir(e,t),br(t),r&4){if(t.stateNode===null)throw Error(X(162));i=t.stateNode,o=t.memoizedProps;try{i.nodeValue=o}catch(v){gt(t,t.return,v)}}break;case 3:if(ir(e,t),br(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Vc(e.containerInfo)}catch(v){gt(t,t.return,v)}break;case 4:ir(e,t),br(t);break;case 13:ir(e,t),br(t),i=t.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(B0=_t())),r&4&&lE(t);break;case 22:if(u=n!==null&&n.memoizedState!==null,t.mode&1?(rn=(c=rn)||u,ir(e,t),rn=c):ir(e,t),br(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!u&&t.mode&1)for(ae=t,u=t.child;u!==null;){for(f=ae=u;ae!==null;){switch(h=ae,g=h.child,h.tag){case 0:case 11:case 14:case 15:gc(4,h,h.return);break;case 1:fa(h,h.return);var w=h.stateNode;if(typeof w.componentWillUnmount=="function"){r=h,n=h.return;try{e=r,w.props=e.memoizedProps,w.state=e.memoizedState,w.componentWillUnmount()}catch(v){gt(r,n,v)}}break;case 5:fa(h,h.return);break;case 22:if(h.memoizedState!==null){uE(f);continue}}g!==null?(g.return=h,ae=g):uE(f)}u=u.sibling}e:for(u=null,f=t;;){if(f.tag===5){if(u===null){u=f;try{i=f.stateNode,c?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(a=f.stateNode,l=f.memoizedProps.style,s=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=jS("display",s))}catch(v){gt(t,t.return,v)}}}else if(f.tag===6){if(u===null)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(v){gt(t,t.return,v)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;u===f&&(u=null),f=f.return}u===f&&(u=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:ir(e,t),br(t),r&4&&lE(t);break;case 21:break;default:ir(e,t),br(t)}}function br(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(uI(n)){var r=n;break e}n=n.return}throw Error(X(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Dc(i,""),r.flags&=-33);var o=aE(t);Fv(t,o,i);break;case 3:case 4:var s=r.stateNode.containerInfo,a=aE(t);jv(t,a,s);break;default:throw Error(X(161))}}catch(l){gt(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function lV(t,e,n){ae=t,hI(t)}function hI(t,e,n){for(var r=(t.mode&1)!==0;ae!==null;){var i=ae,o=i.child;if(i.tag===22&&r){var s=i.memoizedState!==null||_d;if(!s){var a=i.alternate,l=a!==null&&a.memoizedState!==null||rn;a=_d;var c=rn;if(_d=s,(rn=l)&&!c)for(ae=i;ae!==null;)s=ae,l=s.child,s.tag===22&&s.memoizedState!==null?dE(i):l!==null?(l.return=s,ae=l):dE(i);for(;o!==null;)ae=o,hI(o),o=o.sibling;ae=i,_d=a,rn=c}cE(t)}else i.subtreeFlags&8772&&o!==null?(o.return=i,ae=o):cE(t)}}function cE(t){for(;ae!==null;){var e=ae;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:rn||Kh(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!rn)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:ar(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&Gx(e,o,r);break;case 3:var s=e.updateQueue;if(s!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Gx(e,s,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var f=u.dehydrated;f!==null&&Vc(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(X(163))}rn||e.flags&512&&Vv(e)}catch(h){gt(e,e.return,h)}}if(e===t){ae=null;break}if(n=e.sibling,n!==null){n.return=e.return,ae=n;break}ae=e.return}}function uE(t){for(;ae!==null;){var e=ae;if(e===t){ae=null;break}var n=e.sibling;if(n!==null){n.return=e.return,ae=n;break}ae=e.return}}function dE(t){for(;ae!==null;){var e=ae;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Kh(4,e)}catch(l){gt(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){gt(e,i,l)}}var o=e.return;try{Vv(e)}catch(l){gt(e,o,l)}break;case 5:var s=e.return;try{Vv(e)}catch(l){gt(e,s,l)}}}catch(l){gt(e,e.return,l)}if(e===t){ae=null;break}var a=e.sibling;if(a!==null){a.return=e.return,ae=a;break}ae=e.return}}var cV=Math.ceil,Uf=ki.ReactCurrentDispatcher,$0=ki.ReactCurrentOwner,Yn=ki.ReactCurrentBatchConfig,Ve=0,Ft=null,St=null,qt=0,Rn=0,ha=Lo(0),Dt=0,Yc=null,gs=0,Qh=0,U0=0,vc=null,_n=null,B0=0,Ba=1/0,ni=null,Bf=!1,$v=null,co=null,xd=!1,to=null,Wf=0,yc=0,Uv=null,nf=-1,rf=0;function gn(){return Ve&6?_t():nf!==-1?nf:nf=_t()}function uo(t){return t.mode&1?Ve&2&&qt!==0?qt&-qt:q4.transition!==null?(rf===0&&(rf=XS()),rf):(t=qe,t!==0||(t=window.event,t=t===void 0?16:iP(t.type)),t):1}function fr(t,e,n,r){if(50<yc)throw yc=0,Uv=null,Error(X(185));mu(t,n,r),(!(Ve&2)||t!==Ft)&&(t===Ft&&(!(Ve&2)&&(Qh|=n),Dt===4&&Ki(t,qt)),Sn(t,r),n===1&&Ve===0&&!(e.mode&1)&&(Ba=_t()+500,qh&&Vo()))}function Sn(t,e){var n=t.callbackNode;qL(t,e);var r=Sf(t,t===Ft?qt:0);if(r===0)n!==null&&_x(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&_x(n),e===1)t.tag===0?H4(fE.bind(null,t)):bP(fE.bind(null,t)),U4(function(){!(Ve&6)&&Vo()}),n=null;else{switch(JS(r)){case 1:n=p0;break;case 4:n=KS;break;case 16:n=Cf;break;case 536870912:n=QS;break;default:n=Cf}n=xI(n,pI.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function pI(t,e){if(nf=-1,rf=0,Ve&6)throw Error(X(327));var n=t.callbackNode;if(Pa()&&t.callbackNode!==n)return null;var r=Sf(t,t===Ft?qt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=zf(t,r);else{e=r;var i=Ve;Ve|=2;var o=gI();(Ft!==t||qt!==e)&&(ni=null,Ba=_t()+500,us(t,e));do try{fV();break}catch(a){mI(t,a)}while(1);P0(),Uf.current=o,Ve=i,St!==null?e=0:(Ft=null,qt=0,e=Dt)}if(e!==0){if(e===2&&(i=pv(t),i!==0&&(r=i,e=Bv(t,i))),e===1)throw n=Yc,us(t,0),Ki(t,r),Sn(t,_t()),n;if(e===6)Ki(t,r);else{if(i=t.current.alternate,!(r&30)&&!uV(i)&&(e=zf(t,r),e===2&&(o=pv(t),o!==0&&(r=o,e=Bv(t,o))),e===1))throw n=Yc,us(t,0),Ki(t,r),Sn(t,_t()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(X(345));case 2:Xo(t,_n,ni);break;case 3:if(Ki(t,r),(r&130023424)===r&&(e=B0+500-_t(),10<e)){if(Sf(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){gn(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Ev(Xo.bind(null,t,_n,ni),e);break}Xo(t,_n,ni);break;case 4:if(Ki(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var s=31-dr(r);o=1<<s,s=e[s],s>i&&(i=s),r&=~o}if(r=i,r=_t()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*cV(r/1960))-r,10<r){t.timeoutHandle=Ev(Xo.bind(null,t,_n,ni),r);break}Xo(t,_n,ni);break;case 5:Xo(t,_n,ni);break;default:throw Error(X(329))}}}return Sn(t,_t()),t.callbackNode===n?pI.bind(null,t):null}function Bv(t,e){var n=vc;return t.current.memoizedState.isDehydrated&&(us(t,e).flags|=256),t=zf(t,e),t!==2&&(e=_n,_n=n,e!==null&&Wv(e)),t}function Wv(t){_n===null?_n=t:_n.push.apply(_n,t)}function uV(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!hr(o(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Ki(t,e){for(e&=~U0,e&=~Qh,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-dr(e),r=1<<n;t[n]=-1,e&=~r}}function fE(t){if(Ve&6)throw Error(X(327));Pa();var e=Sf(t,0);if(!(e&1))return Sn(t,_t()),null;var n=zf(t,e);if(t.tag!==0&&n===2){var r=pv(t);r!==0&&(e=r,n=Bv(t,r))}if(n===1)throw n=Yc,us(t,0),Ki(t,e),Sn(t,_t()),n;if(n===6)throw Error(X(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Xo(t,_n,ni),Sn(t,_t()),null}function W0(t,e){var n=Ve;Ve|=1;try{return t(e)}finally{Ve=n,Ve===0&&(Ba=_t()+500,qh&&Vo())}}function vs(t){to!==null&&to.tag===0&&!(Ve&6)&&Pa();var e=Ve;Ve|=1;var n=Yn.transition,r=qe;try{if(Yn.transition=null,qe=1,t)return t()}finally{qe=r,Yn.transition=n,Ve=e,!(Ve&6)&&Vo()}}function z0(){Rn=ha.current,ot(ha)}function us(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,$4(n)),St!==null)for(n=St.return;n!==null;){var r=n;switch(T0(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Rf();break;case 3:$a(),ot(Tn),ot(an),D0();break;case 5:N0(r);break;case 4:$a();break;case 13:ot(ct);break;case 19:ot(ct);break;case 10:I0(r.type._context);break;case 22:case 23:z0()}n=n.return}if(Ft=t,St=t=fo(t.current,null),qt=Rn=e,Dt=0,Yc=null,U0=Qh=gs=0,_n=vc=null,os!==null){for(e=0;e<os.length;e++)if(n=os[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var s=o.next;o.next=i,r.next=s}n.pending=r}os=null}return t}function mI(t,e){do{var n=St;try{if(P0(),Zd.current=$f,Ff){for(var r=ft.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Ff=!1}if(ms=0,jt=kt=ft=null,mc=!1,Hc=0,$0.current=null,n===null||n.return===null){Dt=1,Yc=e,St=null;break}e:{var o=t,s=n.return,a=n,l=e;if(e=qt,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=a,f=u.tag;if(!(u.mode&1)&&(f===0||f===11||f===15)){var h=u.alternate;h?(u.updateQueue=h.updateQueue,u.memoizedState=h.memoizedState,u.lanes=h.lanes):(u.updateQueue=null,u.memoizedState=null)}var g=Zx(s);if(g!==null){g.flags&=-257,eE(g,s,a,o,e),g.mode&1&&Jx(o,c,e),e=g,l=c;var w=e.updateQueue;if(w===null){var v=new Set;v.add(l),e.updateQueue=v}else w.add(l);break e}else{if(!(e&1)){Jx(o,c,e),H0();break e}l=Error(X(426))}}else if(at&&a.mode&1){var E=Zx(s);if(E!==null){!(E.flags&65536)&&(E.flags|=256),eE(E,s,a,o,e),C0(Ua(l,a));break e}}o=l=Ua(l,a),Dt!==4&&(Dt=2),vc===null?vc=[o]:vc.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var x=JP(o,l,e);qx(o,x);break e;case 1:a=l;var y=o.type,b=o.stateNode;if(!(o.flags&128)&&(typeof y.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(co===null||!co.has(b)))){o.flags|=65536,e&=-e,o.lanes|=e;var P=ZP(o,a,e);qx(o,P);break e}}o=o.return}while(o!==null)}yI(n)}catch(N){e=N,St===n&&n!==null&&(St=n=n.return);continue}break}while(1)}function gI(){var t=Uf.current;return Uf.current=$f,t===null?$f:t}function H0(){(Dt===0||Dt===3||Dt===2)&&(Dt=4),Ft===null||!(gs&268435455)&&!(Qh&268435455)||Ki(Ft,qt)}function zf(t,e){var n=Ve;Ve|=2;var r=gI();(Ft!==t||qt!==e)&&(ni=null,us(t,e));do try{dV();break}catch(i){mI(t,i)}while(1);if(P0(),Ve=n,Uf.current=r,St!==null)throw Error(X(261));return Ft=null,qt=0,Dt}function dV(){for(;St!==null;)vI(St)}function fV(){for(;St!==null&&!VL();)vI(St)}function vI(t){var e=_I(t.alternate,t,Rn);t.memoizedProps=t.pendingProps,e===null?yI(t):St=e,$0.current=null}function yI(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=oV(n,e),n!==null){n.flags&=32767,St=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Dt=6,St=null;return}}else if(n=iV(n,e,Rn),n!==null){St=n;return}if(e=e.sibling,e!==null){St=e;return}St=e=t}while(e!==null);Dt===0&&(Dt=5)}function Xo(t,e,n){var r=qe,i=Yn.transition;try{Yn.transition=null,qe=1,hV(t,e,n,r)}finally{Yn.transition=i,qe=r}return null}function hV(t,e,n,r){do Pa();while(to!==null);if(Ve&6)throw Error(X(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(X(177));t.callbackNode=null,t.callbackPriority=0;var o=n.lanes|n.childLanes;if(GL(t,o),t===Ft&&(St=Ft=null,qt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||xd||(xd=!0,xI(Cf,function(){return Pa(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=Yn.transition,Yn.transition=null;var s=qe;qe=1;var a=Ve;Ve|=4,$0.current=null,aV(t,n),fI(n,t),D4(_v),Pf=!!wv,_v=wv=null,t.current=n,lV(n),jL(),Ve=a,qe=s,Yn.transition=o}else t.current=n;if(xd&&(xd=!1,to=t,Wf=i),o=t.pendingLanes,o===0&&(co=null),UL(n.stateNode),Sn(t,_t()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Bf)throw Bf=!1,t=$v,$v=null,t;return Wf&1&&t.tag!==0&&Pa(),o=t.pendingLanes,o&1?t===Uv?yc++:(yc=0,Uv=t):yc=0,Vo(),null}function Pa(){if(to!==null){var t=JS(Wf),e=Yn.transition,n=qe;try{if(Yn.transition=null,qe=16>t?16:t,to===null)var r=!1;else{if(t=to,to=null,Wf=0,Ve&6)throw Error(X(331));var i=Ve;for(Ve|=4,ae=t.current;ae!==null;){var o=ae,s=o.child;if(ae.flags&16){var a=o.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(ae=c;ae!==null;){var u=ae;switch(u.tag){case 0:case 11:case 15:gc(8,u,o)}var f=u.child;if(f!==null)f.return=u,ae=f;else for(;ae!==null;){u=ae;var h=u.sibling,g=u.return;if(cI(u),u===c){ae=null;break}if(h!==null){h.return=g,ae=h;break}ae=g}}}var w=o.alternate;if(w!==null){var v=w.child;if(v!==null){w.child=null;do{var E=v.sibling;v.sibling=null,v=E}while(v!==null)}}ae=o}}if(o.subtreeFlags&2064&&s!==null)s.return=o,ae=s;else e:for(;ae!==null;){if(o=ae,o.flags&2048)switch(o.tag){case 0:case 11:case 15:gc(9,o,o.return)}var x=o.sibling;if(x!==null){x.return=o.return,ae=x;break e}ae=o.return}}var y=t.current;for(ae=y;ae!==null;){s=ae;var b=s.child;if(s.subtreeFlags&2064&&b!==null)b.return=s,ae=b;else e:for(s=y;ae!==null;){if(a=ae,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Kh(9,a)}}catch(N){gt(a,a.return,N)}if(a===s){ae=null;break e}var P=a.sibling;if(P!==null){P.return=a.return,ae=P;break e}ae=a.return}}if(Ve=i,Vo(),Nr&&typeof Nr.onPostCommitFiberRoot=="function")try{Nr.onPostCommitFiberRoot(Uh,t)}catch{}r=!0}return r}finally{qe=n,Yn.transition=e}}return!1}function hE(t,e,n){e=Ua(n,e),e=JP(t,e,1),t=lo(t,e,1),e=gn(),t!==null&&(mu(t,1,e),Sn(t,e))}function gt(t,e,n){if(t.tag===3)hE(t,t,n);else for(;e!==null;){if(e.tag===3){hE(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(co===null||!co.has(r))){t=Ua(n,t),t=ZP(e,t,1),e=lo(e,t,1),t=gn(),e!==null&&(mu(e,1,t),Sn(e,t));break}}e=e.return}}function pV(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=gn(),t.pingedLanes|=t.suspendedLanes&n,Ft===t&&(qt&n)===n&&(Dt===4||Dt===3&&(qt&130023424)===qt&&500>_t()-B0?us(t,0):U0|=n),Sn(t,e)}function wI(t,e){e===0&&(t.mode&1?(e=dd,dd<<=1,!(dd&130023424)&&(dd=4194304)):e=1);var n=gn();t=vi(t,e),t!==null&&(mu(t,e,n),Sn(t,n))}function mV(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),wI(t,n)}function gV(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(X(314))}r!==null&&r.delete(e),wI(t,n)}var _I;_I=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Tn.current)En=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return En=!1,rV(t,e,n);En=!!(t.flags&131072)}else En=!1,at&&e.flags&1048576&&TP(e,Mf,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;tf(t,e),t=e.pendingProps;var i=Va(e,an.current);Sa(e,n),i=O0(null,e,r,t,i,n);var o=L0();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Cn(r)?(o=!0,Nf(e)):o=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,k0(e),i.updater=Yh,e.stateNode=i,i._reactInternals=e,Av(e,r,t,n),e=Nv(null,e,r,!0,o,n)):(e.tag=0,at&&o&&b0(e),pn(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(tf(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=yV(r),t=ar(r,t),i){case 0:e=Rv(null,e,r,t,n);break e;case 1:e=rE(null,e,r,t,n);break e;case 11:e=tE(null,e,r,t,n);break e;case 14:e=nE(null,e,r,ar(r.type,t),n);break e}throw Error(X(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:ar(r,i),Rv(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:ar(r,i),rE(t,e,r,i,n);case 3:e:{if(rI(e),t===null)throw Error(X(387));r=e.pendingProps,o=e.memoizedState,i=o.element,kP(t,e),Vf(e,r,null,n);var s=e.memoizedState;if(r=s.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){i=Ua(Error(X(423)),e),e=iE(t,e,r,n,i);break e}else if(r!==i){i=Ua(Error(X(424)),e),e=iE(t,e,r,n,i);break e}else for(Mn=ao(e.stateNode.containerInfo.firstChild),Ln=e,at=!0,cr=null,n=IP(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(ja(),r===i){e=yi(t,e,n);break e}pn(t,e,r,n)}e=e.child}return e;case 5:return RP(e),t===null&&Sv(e),r=e.type,i=e.pendingProps,o=t!==null?t.memoizedProps:null,s=i.children,xv(r,i)?s=null:o!==null&&xv(r,o)&&(e.flags|=32),nI(t,e),pn(t,e,s,n),e.child;case 6:return t===null&&Sv(e),null;case 13:return iI(t,e,n);case 4:return R0(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Fa(e,null,r,n):pn(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:ar(r,i),tE(t,e,r,i,n);case 7:return pn(t,e,e.pendingProps,n),e.child;case 8:return pn(t,e,e.pendingProps.children,n),e.child;case 12:return pn(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,o=e.memoizedProps,s=i.value,Qe(Of,r._currentValue),r._currentValue=s,o!==null)if(hr(o.value,s)){if(o.children===i.children&&!Tn.current){e=yi(t,e,n);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var a=o.dependencies;if(a!==null){s=o.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(o.tag===1){l=ui(-1,n&-n),l.tag=2;var c=o.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),Pv(o.return,n,e),a.lanes|=n;break}l=l.next}}else if(o.tag===10)s=o.type===e.type?null:o.child;else if(o.tag===18){if(s=o.return,s===null)throw Error(X(341));s.lanes|=n,a=s.alternate,a!==null&&(a.lanes|=n),Pv(s,n,e),s=o.sibling}else s=o.child;if(s!==null)s.return=o;else for(s=o;s!==null;){if(s===e){s=null;break}if(o=s.sibling,o!==null){o.return=s.return,s=o;break}s=s.return}o=s}pn(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Sa(e,n),i=Jn(i),r=r(i),e.flags|=1,pn(t,e,r,n),e.child;case 14:return r=e.type,i=ar(r,e.pendingProps),i=ar(r.type,i),nE(t,e,r,i,n);case 15:return eI(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:ar(r,i),tf(t,e),e.tag=1,Cn(r)?(t=!0,Nf(e)):t=!1,Sa(e,n),XP(e,r,i),Av(e,r,i,n),Nv(null,e,r,!0,t,n);case 19:return oI(t,e,n);case 22:return tI(t,e,n)}throw Error(X(156,e.tag))};function xI(t,e){return YS(t,e)}function vV(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Gn(t,e,n,r){return new vV(t,e,n,r)}function q0(t){return t=t.prototype,!(!t||!t.isReactComponent)}function yV(t){if(typeof t=="function")return q0(t)?1:0;if(t!=null){if(t=t.$$typeof,t===d0)return 11;if(t===f0)return 14}return 2}function fo(t,e){var n=t.alternate;return n===null?(n=Gn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function of(t,e,n,r,i,o){var s=2;if(r=t,typeof t=="function")q0(t)&&(s=1);else if(typeof t=="string")s=5;else e:switch(t){case ra:return ds(n.children,i,o,e);case u0:s=8,i|=8;break;case Zg:return t=Gn(12,n,e,i|2),t.elementType=Zg,t.lanes=o,t;case ev:return t=Gn(13,n,e,i),t.elementType=ev,t.lanes=o,t;case tv:return t=Gn(19,n,e,i),t.elementType=tv,t.lanes=o,t;case RS:return Xh(n,i,o,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case AS:s=10;break e;case kS:s=9;break e;case d0:s=11;break e;case f0:s=14;break e;case Hi:s=16,r=null;break e}throw Error(X(130,t==null?t:typeof t,""))}return e=Gn(s,n,e,i),e.elementType=t,e.type=r,e.lanes=o,e}function ds(t,e,n,r){return t=Gn(7,t,r,e),t.lanes=n,t}function Xh(t,e,n,r){return t=Gn(22,t,r,e),t.elementType=RS,t.lanes=n,t.stateNode={isHidden:!1},t}function Xm(t,e,n){return t=Gn(6,t,null,e),t.lanes=n,t}function Jm(t,e,n){return e=Gn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function wV(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Nm(0),this.expirationTimes=Nm(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Nm(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function G0(t,e,n,r,i,o,s,a,l){return t=new wV(t,e,n,a,l),e===1?(e=1,o===!0&&(e|=8)):e=0,o=Gn(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},k0(o),t}function _V(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:na,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function EI(t){if(!t)return To;t=t._reactInternals;e:{if(ks(t)!==t||t.tag!==1)throw Error(X(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Cn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(X(171))}if(t.tag===1){var n=t.type;if(Cn(n))return EP(t,n,e)}return e}function bI(t,e,n,r,i,o,s,a,l){return t=G0(n,r,!0,t,i,o,s,a,l),t.context=EI(null),n=t.current,r=gn(),i=uo(n),o=ui(r,i),o.callback=e??null,lo(n,o,i),t.current.lanes=i,mu(t,i,r),Sn(t,r),t}function Jh(t,e,n,r){var i=e.current,o=gn(),s=uo(i);return n=EI(n),e.context===null?e.context=n:e.pendingContext=n,e=ui(o,s),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=lo(i,e,s),t!==null&&(fr(t,i,s,o),Jd(t,i,s)),s}function Hf(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function pE(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Y0(t,e){pE(t,e),(t=t.alternate)&&pE(t,e)}function xV(){return null}var TI=typeof reportError=="function"?reportError:function(t){console.error(t)};function K0(t){this._internalRoot=t}Zh.prototype.render=K0.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(X(409));Jh(t,e,null,null)};Zh.prototype.unmount=K0.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;vs(function(){Jh(null,t,null,null)}),e[gi]=null}};function Zh(t){this._internalRoot=t}Zh.prototype.unstable_scheduleHydration=function(t){if(t){var e=tP();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Yi.length&&e!==0&&e<Yi[n].priority;n++);Yi.splice(n,0,t),n===0&&rP(t)}};function Q0(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function ep(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function mE(){}function EV(t,e,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var c=Hf(s);o.call(c)}}var s=bI(e,r,t,0,null,!1,!1,"",mE);return t._reactRootContainer=s,t[gi]=s.current,$c(t.nodeType===8?t.parentNode:t),vs(),s}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var c=Hf(l);a.call(c)}}var l=G0(t,0,!1,null,null,!1,!1,"",mE);return t._reactRootContainer=l,t[gi]=l.current,$c(t.nodeType===8?t.parentNode:t),vs(function(){Jh(e,l,n,r)}),l}function tp(t,e,n,r,i){var o=n._reactRootContainer;if(o){var s=o;if(typeof i=="function"){var a=i;i=function(){var l=Hf(s);a.call(l)}}Jh(e,s,t,i)}else s=EV(n,e,t,i,r);return Hf(s)}ZS=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=tc(e.pendingLanes);n!==0&&(m0(e,n|1),Sn(e,_t()),!(Ve&6)&&(Ba=_t()+500,Vo()))}break;case 13:vs(function(){var r=vi(t,1);if(r!==null){var i=gn();fr(r,t,1,i)}}),Y0(t,1)}};g0=function(t){if(t.tag===13){var e=vi(t,134217728);if(e!==null){var n=gn();fr(e,t,134217728,n)}Y0(t,134217728)}};eP=function(t){if(t.tag===13){var e=uo(t),n=vi(t,e);if(n!==null){var r=gn();fr(n,t,e,r)}Y0(t,e)}};tP=function(){return qe};nP=function(t,e){var n=qe;try{return qe=t,e()}finally{qe=n}};dv=function(t,e,n){switch(e){case"input":if(iv(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Hh(r);if(!i)throw Error(X(90));DS(r),iv(r,i)}}}break;case"textarea":OS(t,n);break;case"select":e=n.value,e!=null&&Ea(t,!!n.multiple,e,!1)}};BS=W0;WS=vs;var bV={usingClientEntryPoint:!1,Events:[vu,aa,Hh,$S,US,W0]},ql={findFiberByHostInstance:is,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},TV={bundleType:ql.bundleType,version:ql.version,rendererPackageName:ql.rendererPackageName,rendererConfig:ql.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ki.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=qS(t),t===null?null:t.stateNode},findFiberByHostInstance:ql.findFiberByHostInstance||xV,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ed=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ed.isDisabled&&Ed.supportsFiber)try{Uh=Ed.inject(TV),Nr=Ed}catch{}}$n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=bV;$n.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Q0(e))throw Error(X(200));return _V(t,e,null,n)};$n.createRoot=function(t,e){if(!Q0(t))throw Error(X(299));var n=!1,r="",i=TI;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=G0(t,1,!1,null,null,n,!1,r,i),t[gi]=e.current,$c(t.nodeType===8?t.parentNode:t),new K0(e)};$n.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(X(188)):(t=Object.keys(t).join(","),Error(X(268,t)));return t=qS(e),t=t===null?null:t.stateNode,t};$n.flushSync=function(t){return vs(t)};$n.hydrate=function(t,e,n){if(!ep(e))throw Error(X(200));return tp(null,t,e,!0,n)};$n.hydrateRoot=function(t,e,n){if(!Q0(t))throw Error(X(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",s=TI;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),e=bI(e,null,t,1,n??null,i,!1,o,s),t[gi]=e.current,$c(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Zh(e)};$n.render=function(t,e,n){if(!ep(e))throw Error(X(200));return tp(null,t,e,!1,n)};$n.unmountComponentAtNode=function(t){if(!ep(t))throw Error(X(40));return t._reactRootContainer?(vs(function(){tp(null,null,t,!1,function(){t._reactRootContainer=null,t[gi]=null})}),!0):!1};$n.unstable_batchedUpdates=W0;$n.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!ep(n))throw Error(X(200));if(t==null||t._reactInternals===void 0)throw Error(X(38));return tp(t,e,n,!1,r)};$n.version="18.3.1-next-f1338f8080-20240426";function CI(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(CI)}catch(t){console.error(t)}}CI(),CS.exports=$n;var jo=CS.exports;const SI=hS(jo);var gE=jo;Xg.createRoot=gE.createRoot,Xg.hydrateRoot=gE.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Kc(){return Kc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Kc.apply(this,arguments)}var no;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(no||(no={}));const vE="popstate";function CV(t){t===void 0&&(t={});function e(r,i){let{pathname:o,search:s,hash:a}=r.location;return zv("",{pathname:o,search:s,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:qf(i)}return PV(e,n,null,t)}function bt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function PI(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function SV(){return Math.random().toString(36).substr(2,8)}function yE(t,e){return{usr:t.state,key:t.key,idx:e}}function zv(t,e,n,r){return n===void 0&&(n=null),Kc({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?dl(e):e,{state:n,key:e&&e.key||r||SV()})}function qf(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function dl(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function PV(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:o=!1}=r,s=i.history,a=no.Pop,l=null,c=u();c==null&&(c=0,s.replaceState(Kc({},s.state,{idx:c}),""));function u(){return(s.state||{idx:null}).idx}function f(){a=no.Pop;let E=u(),x=E==null?null:E-c;c=E,l&&l({action:a,location:v.location,delta:x})}function h(E,x){a=no.Push;let y=zv(v.location,E,x);n&&n(y,E),c=u()+1;let b=yE(y,c),P=v.createHref(y);try{s.pushState(b,"",P)}catch(N){if(N instanceof DOMException&&N.name==="DataCloneError")throw N;i.location.assign(P)}o&&l&&l({action:a,location:v.location,delta:1})}function g(E,x){a=no.Replace;let y=zv(v.location,E,x);n&&n(y,E),c=u();let b=yE(y,c),P=v.createHref(y);s.replaceState(b,"",P),o&&l&&l({action:a,location:v.location,delta:0})}function w(E){let x=i.location.origin!=="null"?i.location.origin:i.location.href,y=typeof E=="string"?E:qf(E);return y=y.replace(/ $/,"%20"),bt(x,"No window.location.(origin|href) available to create URL for href: "+y),new URL(y,x)}let v={get action(){return a},get location(){return t(i,s)},listen(E){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(vE,f),l=E,()=>{i.removeEventListener(vE,f),l=null}},createHref(E){return e(i,E)},createURL:w,encodeLocation(E){let x=w(E);return{pathname:x.pathname,search:x.search,hash:x.hash}},push:h,replace:g,go(E){return s.go(E)}};return v}var wE;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(wE||(wE={}));function IV(t,e,n){return n===void 0&&(n="/"),AV(t,e,n,!1)}function AV(t,e,n,r){let i=typeof e=="string"?dl(e):e,o=X0(i.pathname||"/",n);if(o==null)return null;let s=II(t);kV(s);let a=null;for(let l=0;a==null&&l<s.length;++l){let c=UV(o);a=FV(s[l],c,r)}return a}function II(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(o,s,a)=>{let l={relativePath:a===void 0?o.path||"":a,caseSensitive:o.caseSensitive===!0,childrenIndex:s,route:o};l.relativePath.startsWith("/")&&(bt(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let c=ho([r,l.relativePath]),u=n.concat(l);o.children&&o.children.length>0&&(bt(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),II(o.children,e,u,c)),!(o.path==null&&!o.index)&&e.push({path:c,score:VV(c,o.index),routesMeta:u})};return t.forEach((o,s)=>{var a;if(o.path===""||!((a=o.path)!=null&&a.includes("?")))i(o,s);else for(let l of AI(o.path))i(o,s,l)}),e}function AI(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let s=AI(r.join("/")),a=[];return a.push(...s.map(l=>l===""?o:[o,l].join("/"))),i&&a.push(...s),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function kV(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:jV(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const RV=/^:[\w-]+$/,NV=3,DV=2,MV=1,OV=10,LV=-2,_E=t=>t==="*";function VV(t,e){let n=t.split("/"),r=n.length;return n.some(_E)&&(r+=LV),e&&(r+=DV),n.filter(i=>!_E(i)).reduce((i,o)=>i+(RV.test(o)?NV:o===""?MV:OV),r)}function jV(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function FV(t,e,n){n===void 0&&(n=!1);let{routesMeta:r}=t,i={},o="/",s=[];for(let a=0;a<r.length;++a){let l=r[a],c=a===r.length-1,u=o==="/"?e:e.slice(o.length)||"/",f=xE({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},u),h=l.route;if(!f&&c&&n&&!r[r.length-1].route.index&&(f=xE({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},u)),!f)return null;Object.assign(i,f.params),s.push({params:i,pathname:ho([o,f.pathname]),pathnameBase:HV(ho([o,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(o=ho([o,f.pathnameBase]))}return s}function xE(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=$V(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let o=i[0],s=o.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((c,u,f)=>{let{paramName:h,isOptional:g}=u;if(h==="*"){let v=a[f]||"";s=o.slice(0,o.length-v.length).replace(/(.)\/+$/,"$1")}const w=a[f];return g&&!w?c[h]=void 0:c[h]=(w||"").replace(/%2F/g,"/"),c},{}),pathname:o,pathnameBase:s,pattern:t}}function $V(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),PI(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function UV(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return PI(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function X0(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function BV(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?dl(t):t;return{pathname:n?n.startsWith("/")?n:WV(n,e):e,search:qV(r),hash:GV(i)}}function WV(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Zm(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function zV(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function J0(t,e){let n=zV(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function Z0(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=dl(t):(i=Kc({},t),bt(!i.pathname||!i.pathname.includes("?"),Zm("?","pathname","search",i)),bt(!i.pathname||!i.pathname.includes("#"),Zm("#","pathname","hash",i)),bt(!i.search||!i.search.includes("#"),Zm("#","search","hash",i)));let o=t===""||i.pathname==="",s=o?"/":i.pathname,a;if(s==null)a=n;else{let f=e.length-1;if(!r&&s.startsWith("..")){let h=s.split("/");for(;h[0]==="..";)h.shift(),f-=1;i.pathname=h.join("/")}a=f>=0?e[f]:"/"}let l=BV(i,a),c=s&&s!=="/"&&s.endsWith("/"),u=(o||s===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||u)&&(l.pathname+="/"),l}const ho=t=>t.join("/").replace(/\/\/+/g,"/"),HV=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),qV=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,GV=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function YV(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const kI=["post","put","patch","delete"];new Set(kI);const KV=["get",...kI];new Set(KV);/**
 * React Router v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Qc(){return Qc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Qc.apply(this,arguments)}const ew=m.createContext(null),QV=m.createContext(null),Fo=m.createContext(null),np=m.createContext(null),Ri=m.createContext({outlet:null,matches:[],isDataRoute:!1}),RI=m.createContext(null);function XV(t,e){let{relative:n}=e===void 0?{}:e;fl()||bt(!1);let{basename:r,navigator:i}=m.useContext(Fo),{hash:o,pathname:s,search:a}=DI(t,{relative:n}),l=s;return r!=="/"&&(l=s==="/"?r:ho([r,s])),i.createHref({pathname:l,search:a,hash:o})}function fl(){return m.useContext(np)!=null}function hl(){return fl()||bt(!1),m.useContext(np).location}function NI(t){m.useContext(Fo).static||m.useLayoutEffect(t)}function wu(){let{isDataRoute:t}=m.useContext(Ri);return t?dj():JV()}function JV(){fl()||bt(!1);let t=m.useContext(ew),{basename:e,future:n,navigator:r}=m.useContext(Fo),{matches:i}=m.useContext(Ri),{pathname:o}=hl(),s=JSON.stringify(J0(i,n.v7_relativeSplatPath)),a=m.useRef(!1);return NI(()=>{a.current=!0}),m.useCallback(function(c,u){if(u===void 0&&(u={}),!a.current)return;if(typeof c=="number"){r.go(c);return}let f=Z0(c,JSON.parse(s),o,u.relative==="path");t==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:ho([e,f.pathname])),(u.replace?r.replace:r.push)(f,u.state,u)},[e,r,s,o,t])}function ZV(){let{matches:t}=m.useContext(Ri),e=t[t.length-1];return e?e.params:{}}function DI(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=m.useContext(Fo),{matches:i}=m.useContext(Ri),{pathname:o}=hl(),s=JSON.stringify(J0(i,r.v7_relativeSplatPath));return m.useMemo(()=>Z0(t,JSON.parse(s),o,n==="path"),[t,s,o,n])}function ej(t,e){return tj(t,e)}function tj(t,e,n,r){fl()||bt(!1);let{navigator:i,static:o}=m.useContext(Fo),{matches:s}=m.useContext(Ri),a=s[s.length-1],l=a?a.params:{};a&&a.pathname;let c=a?a.pathnameBase:"/";a&&a.route;let u=hl(),f;if(e){var h;let x=typeof e=="string"?dl(e):e;c==="/"||(h=x.pathname)!=null&&h.startsWith(c)||bt(!1),f=x}else f=u;let g=f.pathname||"/",w=g;if(c!=="/"){let x=c.replace(/^\//,"").split("/");w="/"+g.replace(/^\//,"").split("/").slice(x.length).join("/")}let v=!o&&n&&n.matches&&n.matches.length>0?n.matches:IV(t,{pathname:w}),E=sj(v&&v.map(x=>Object.assign({},x,{params:Object.assign({},l,x.params),pathname:ho([c,i.encodeLocation?i.encodeLocation(x.pathname).pathname:x.pathname]),pathnameBase:x.pathnameBase==="/"?c:ho([c,i.encodeLocation?i.encodeLocation(x.pathnameBase).pathname:x.pathnameBase])})),s,n,r);return e&&E?m.createElement(np.Provider,{value:{location:Qc({pathname:"/",search:"",hash:"",state:null,key:"default"},f),navigationType:no.Pop}},E):E}function nj(){let t=uj(),e=YV(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},o=null;return m.createElement(m.Fragment,null,m.createElement("h2",null,"Unexpected Application Error!"),m.createElement("h3",{style:{fontStyle:"italic"}},e),n?m.createElement("pre",{style:i},n):null,o)}const rj=m.createElement(nj,null);class ij extends m.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?m.createElement(Ri.Provider,{value:this.props.routeContext},m.createElement(RI.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function oj(t){let{routeContext:e,match:n,children:r}=t,i=m.useContext(ew);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),m.createElement(Ri.Provider,{value:e},r)}function sj(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var o;if(!n)return null;if(n.errors)t=n.matches;else if((o=r)!=null&&o.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let s=t,a=(i=n)==null?void 0:i.errors;if(a!=null){let u=s.findIndex(f=>f.route.id&&(a==null?void 0:a[f.route.id])!==void 0);u>=0||bt(!1),s=s.slice(0,Math.min(s.length,u+1))}let l=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let u=0;u<s.length;u++){let f=s[u];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(c=u),f.route.id){let{loaderData:h,errors:g}=n,w=f.route.loader&&h[f.route.id]===void 0&&(!g||g[f.route.id]===void 0);if(f.route.lazy||w){l=!0,c>=0?s=s.slice(0,c+1):s=[s[0]];break}}}return s.reduceRight((u,f,h)=>{let g,w=!1,v=null,E=null;n&&(g=a&&f.route.id?a[f.route.id]:void 0,v=f.route.errorElement||rj,l&&(c<0&&h===0?(fj("route-fallback",!1),w=!0,E=null):c===h&&(w=!0,E=f.route.hydrateFallbackElement||null)));let x=e.concat(s.slice(0,h+1)),y=()=>{let b;return g?b=v:w?b=E:f.route.Component?b=m.createElement(f.route.Component,null):f.route.element?b=f.route.element:b=u,m.createElement(oj,{match:f,routeContext:{outlet:u,matches:x,isDataRoute:n!=null},children:b})};return n&&(f.route.ErrorBoundary||f.route.errorElement||h===0)?m.createElement(ij,{location:n.location,revalidation:n.revalidation,component:v,error:g,children:y(),routeContext:{outlet:null,matches:x,isDataRoute:!0}}):y()},null)}var MI=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(MI||{}),Gf=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Gf||{});function aj(t){let e=m.useContext(ew);return e||bt(!1),e}function lj(t){let e=m.useContext(QV);return e||bt(!1),e}function cj(t){let e=m.useContext(Ri);return e||bt(!1),e}function OI(t){let e=cj(),n=e.matches[e.matches.length-1];return n.route.id||bt(!1),n.route.id}function uj(){var t;let e=m.useContext(RI),n=lj(Gf.UseRouteError),r=OI(Gf.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function dj(){let{router:t}=aj(MI.UseNavigateStable),e=OI(Gf.UseNavigateStable),n=m.useRef(!1);return NI(()=>{n.current=!0}),m.useCallback(function(i,o){o===void 0&&(o={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,Qc({fromRouteId:e},o)))},[t,e])}const EE={};function fj(t,e,n){!e&&!EE[t]&&(EE[t]=!0)}function hj(t,e){t==null||t.v7_startTransition,(t==null?void 0:t.v7_relativeSplatPath)===void 0&&(!e||e.v7_relativeSplatPath),e&&(e.v7_fetcherPersist,e.v7_normalizeFormMethod,e.v7_partialHydration,e.v7_skipActionErrorRevalidation)}function Hv(t){let{to:e,replace:n,state:r,relative:i}=t;fl()||bt(!1);let{future:o,static:s}=m.useContext(Fo),{matches:a}=m.useContext(Ri),{pathname:l}=hl(),c=wu(),u=Z0(e,J0(a,o.v7_relativeSplatPath),l,i==="path"),f=JSON.stringify(u);return m.useEffect(()=>c(JSON.parse(f),{replace:n,state:r,relative:i}),[c,f,i,n,r]),null}function Jo(t){bt(!1)}function pj(t){let{basename:e="/",children:n=null,location:r,navigationType:i=no.Pop,navigator:o,static:s=!1,future:a}=t;fl()&&bt(!1);let l=e.replace(/^\/*/,"/"),c=m.useMemo(()=>({basename:l,navigator:o,static:s,future:Qc({v7_relativeSplatPath:!1},a)}),[l,a,o,s]);typeof r=="string"&&(r=dl(r));let{pathname:u="/",search:f="",hash:h="",state:g=null,key:w="default"}=r,v=m.useMemo(()=>{let E=X0(u,l);return E==null?null:{location:{pathname:E,search:f,hash:h,state:g,key:w},navigationType:i}},[l,u,f,h,g,w,i]);return v==null?null:m.createElement(Fo.Provider,{value:c},m.createElement(np.Provider,{children:n,value:v}))}function mj(t){let{children:e,location:n}=t;return ej(qv(e),n)}new Promise(()=>{});function qv(t,e){e===void 0&&(e=[]);let n=[];return m.Children.forEach(t,(r,i)=>{if(!m.isValidElement(r))return;let o=[...e,i];if(r.type===m.Fragment){n.push.apply(n,qv(r.props.children,o));return}r.type!==Jo&&bt(!1),!r.props.index||!r.props.children||bt(!1);let s={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(s.children=qv(r.props.children,o)),n.push(s)}),n}/**
 * React Router DOM v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Gv(){return Gv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Gv.apply(this,arguments)}function gj(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function vj(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function yj(t,e){return t.button===0&&(!e||e==="_self")&&!vj(t)}const wj=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],_j="6";try{window.__reactRouterVersion=_j}catch{}const xj="startTransition",bE=$h[xj];function Ej(t){let{basename:e,children:n,future:r,window:i}=t,o=m.useRef();o.current==null&&(o.current=CV({window:i,v5Compat:!0}));let s=o.current,[a,l]=m.useState({action:s.action,location:s.location}),{v7_startTransition:c}=r||{},u=m.useCallback(f=>{c&&bE?bE(()=>l(f)):l(f)},[l,c]);return m.useLayoutEffect(()=>s.listen(u),[s,u]),m.useEffect(()=>hj(r),[r]),m.createElement(pj,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:s,future:r})}const bj=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Tj=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Xc=m.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:o,replace:s,state:a,target:l,to:c,preventScrollReset:u,viewTransition:f}=e,h=gj(e,wj),{basename:g}=m.useContext(Fo),w,v=!1;if(typeof c=="string"&&Tj.test(c)&&(w=c,bj))try{let b=new URL(window.location.href),P=c.startsWith("//")?new URL(b.protocol+c):new URL(c),N=X0(P.pathname,g);P.origin===b.origin&&N!=null?c=N+P.search+P.hash:v=!0}catch{}let E=XV(c,{relative:i}),x=Cj(c,{replace:s,state:a,target:l,preventScrollReset:u,relative:i,viewTransition:f});function y(b){r&&r(b),b.defaultPrevented||x(b)}return m.createElement("a",Gv({},h,{href:w||E,onClick:v||o?r:y,ref:n,target:l}))});var TE;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(TE||(TE={}));var CE;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(CE||(CE={}));function Cj(t,e){let{target:n,replace:r,state:i,preventScrollReset:o,relative:s,viewTransition:a}=e===void 0?{}:e,l=wu(),c=hl(),u=DI(t,{relative:s});return m.useCallback(f=>{if(yj(f,n)){f.preventDefault();let h=r!==void 0?r:qf(c)===qf(u);l(t,{replace:h,state:i,preventScrollReset:o,relative:s,viewTransition:a})}},[c,l,u,r,i,n,t,o,s,a])}const Sj=()=>{};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LI=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},Pj=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=t[n++],s=t[n++],a=t[n++],l=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const o=t[n++],s=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},VI={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const o=t[i],s=i+1<t.length,a=s?t[i+1]:0,l=i+2<t.length,c=l?t[i+2]:0,u=o>>2,f=(o&3)<<4|a>>4;let h=(a&15)<<2|c>>6,g=c&63;l||(g=64,s||(h=64)),r.push(n[u],n[f],n[h],n[g])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(LI(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):Pj(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const o=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const f=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||a==null||c==null||f==null)throw new Ij;const h=o<<2|a>>4;if(r.push(h),c!==64){const g=a<<4&240|c>>2;if(r.push(g),f!==64){const w=c<<6&192|f;r.push(w)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class Ij extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Aj=function(t){const e=LI(t);return VI.encodeByteArray(e,!0)},Yf=function(t){return Aj(t).replace(/\./g,"")},jI=function(t){try{return VI.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kj(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rj=()=>kj().__FIREBASE_DEFAULTS__,Nj=()=>{if(typeof process>"u"||typeof process.env>"u")return;const t={}.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},Dj=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&jI(t[1]);return e&&JSON.parse(e)},rp=()=>{try{return Sj()||Rj()||Nj()||Dj()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},FI=t=>{var e,n;return(n=(e=rp())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},Mj=t=>{const e=FI(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},$I=()=>{var t;return(t=rp())==null?void 0:t.config},UI=t=>{var e;return(e=rp())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oj{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pl(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function BI(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lj(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s={iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}},...t},a="";return[Yf(JSON.stringify(n)),Yf(JSON.stringify(s)),a].join(".")}const wc={};function Vj(){const t={prod:[],emulator:[]};for(const e of Object.keys(wc))wc[e]?t.emulator.push(e):t.prod.push(e);return t}function jj(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let SE=!1;function WI(t,e){if(typeof window>"u"||typeof document>"u"||!pl(window.location.host)||wc[t]===e||wc[t]||SE)return;wc[t]=e;function n(h){return`__firebase__banner__${h}`}const r="__firebase__banner",o=Vj().prod.length>0;function s(){const h=document.getElementById(r);h&&h.remove()}function a(h){h.style.display="flex",h.style.background="#7faaf0",h.style.position="fixed",h.style.bottom="5px",h.style.left="5px",h.style.padding=".5em",h.style.borderRadius="5px",h.style.alignItems="center"}function l(h,g){h.setAttribute("width","24"),h.setAttribute("id",g),h.setAttribute("height","24"),h.setAttribute("viewBox","0 0 24 24"),h.setAttribute("fill","none"),h.style.marginLeft="-6px"}function c(){const h=document.createElement("span");return h.style.cursor="pointer",h.style.marginLeft="16px",h.style.fontSize="24px",h.innerHTML=" &times;",h.onclick=()=>{SE=!0,s()},h}function u(h,g){h.setAttribute("id",g),h.innerText="Learn more",h.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",h.setAttribute("target","__blank"),h.style.paddingLeft="5px",h.style.textDecoration="underline"}function f(){const h=jj(r),g=n("text"),w=document.getElementById(g)||document.createElement("span"),v=n("learnmore"),E=document.getElementById(v)||document.createElement("a"),x=n("preprendIcon"),y=document.getElementById(x)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(h.created){const b=h.element;a(b),u(E,v);const P=c();l(y,x),b.append(y,w,E,P),document.body.appendChild(b)}o?(w.innerText="Preview backend disconnected.",y.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(y.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,w.innerText="Preview backend running in this workspace."),w.setAttribute("id",g)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",f):f()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ln(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Fj(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ln())}function $j(){var e;const t=(e=rp())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Uj(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Bj(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function Wj(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function zj(){const t=ln();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function Hj(){return!$j()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function qj(){try{return typeof indexedDB=="object"}catch{return!1}}function Gj(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)==null?void 0:o.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yj="FirebaseError";class Ni extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=Yj,Object.setPrototypeOf(this,Ni.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,_u.prototype.create)}}class _u{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?Kj(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new Ni(i,a,r)}}function Kj(t,e){return t.replace(Qj,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const Qj=/\{\$([^}]+)}/g;function Xj(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function ys(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const o=t[i],s=e[i];if(PE(o)&&PE(s)){if(!ys(o,s))return!1}else if(o!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function PE(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xu(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function rc(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,o]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(o)}}),e}function ic(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function Jj(t,e){const n=new Zj(t,e);return n.subscribe.bind(n)}class Zj{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");e5(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=eg),i.error===void 0&&(i.error=eg),i.complete===void 0&&(i.complete=eg);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function e5(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function eg(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ot(t){return t&&t._delegate?t._delegate:t}class ws{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zo="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let t5=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new Oj;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(r5(e))try{this.getOrInitializeService({instanceIdentifier:Zo})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=Zo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Zo){return this.instances.has(e)}getOptions(e=Zo){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),i=this.onInitCallbacks.get(r)??new Set;i.add(e),this.onInitCallbacks.set(r,i);const o=this.instances.get(r);return o&&e(o,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:n5(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Zo){return this.component?this.component.multipleInstances?e:Zo:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function n5(t){return t===Zo?void 0:t}function r5(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i5{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new t5(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ae;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ae||(Ae={}));const o5={debug:Ae.DEBUG,verbose:Ae.VERBOSE,info:Ae.INFO,warn:Ae.WARN,error:Ae.ERROR,silent:Ae.SILENT},s5=Ae.INFO,a5={[Ae.DEBUG]:"log",[Ae.VERBOSE]:"log",[Ae.INFO]:"info",[Ae.WARN]:"warn",[Ae.ERROR]:"error"},l5=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=a5[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class tw{constructor(e){this.name=e,this._logLevel=s5,this._logHandler=l5,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ae))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?o5[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ae.DEBUG,...e),this._logHandler(this,Ae.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ae.VERBOSE,...e),this._logHandler(this,Ae.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ae.INFO,...e),this._logHandler(this,Ae.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ae.WARN,...e),this._logHandler(this,Ae.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ae.ERROR,...e),this._logHandler(this,Ae.ERROR,...e)}}const c5=(t,e)=>e.some(n=>t instanceof n);let IE,AE;function u5(){return IE||(IE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function d5(){return AE||(AE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const zI=new WeakMap,Yv=new WeakMap,HI=new WeakMap,tg=new WeakMap,nw=new WeakMap;function f5(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(po(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&zI.set(n,t)}).catch(()=>{}),nw.set(e,t),e}function h5(t){if(Yv.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});Yv.set(t,e)}let Kv={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Yv.get(t);if(e==="objectStoreNames")return t.objectStoreNames||HI.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return po(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function p5(t){Kv=t(Kv)}function m5(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(ng(this),e,...n);return HI.set(r,e.sort?e.sort():[e]),po(r)}:d5().includes(t)?function(...e){return t.apply(ng(this),e),po(zI.get(this))}:function(...e){return po(t.apply(ng(this),e))}}function g5(t){return typeof t=="function"?m5(t):(t instanceof IDBTransaction&&h5(t),c5(t,u5())?new Proxy(t,Kv):t)}function po(t){if(t instanceof IDBRequest)return f5(t);if(tg.has(t))return tg.get(t);const e=g5(t);return e!==t&&(tg.set(t,e),nw.set(e,t)),e}const ng=t=>nw.get(t);function v5(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const s=indexedDB.open(t,e),a=po(s);return r&&s.addEventListener("upgradeneeded",l=>{r(po(s.result),l.oldVersion,l.newVersion,po(s.transaction),l)}),n&&s.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{o&&l.addEventListener("close",()=>o()),i&&l.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const y5=["get","getKey","getAll","getAllKeys","count"],w5=["put","add","delete","clear"],rg=new Map;function kE(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(rg.get(e))return rg.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=w5.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||y5.includes(n)))return;const o=async function(s,...a){const l=this.transaction(s,i?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),i&&l.done]))[0]};return rg.set(e,o),o}p5(t=>({...t,get:(e,n,r)=>kE(e,n)||t.get(e,n,r),has:(e,n)=>!!kE(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _5{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(x5(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function x5(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Qv="@firebase/app",RE="0.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wi=new tw("@firebase/app"),E5="@firebase/app-compat",b5="@firebase/analytics-compat",T5="@firebase/analytics",C5="@firebase/app-check-compat",S5="@firebase/app-check",P5="@firebase/auth",I5="@firebase/auth-compat",A5="@firebase/database",k5="@firebase/data-connect",R5="@firebase/database-compat",N5="@firebase/functions",D5="@firebase/functions-compat",M5="@firebase/installations",O5="@firebase/installations-compat",L5="@firebase/messaging",V5="@firebase/messaging-compat",j5="@firebase/performance",F5="@firebase/performance-compat",$5="@firebase/remote-config",U5="@firebase/remote-config-compat",B5="@firebase/storage",W5="@firebase/storage-compat",z5="@firebase/firestore",H5="@firebase/ai",q5="@firebase/firestore-compat",G5="firebase",Y5="12.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xv="[DEFAULT]",K5={[Qv]:"fire-core",[E5]:"fire-core-compat",[T5]:"fire-analytics",[b5]:"fire-analytics-compat",[S5]:"fire-app-check",[C5]:"fire-app-check-compat",[P5]:"fire-auth",[I5]:"fire-auth-compat",[A5]:"fire-rtdb",[k5]:"fire-data-connect",[R5]:"fire-rtdb-compat",[N5]:"fire-fn",[D5]:"fire-fn-compat",[M5]:"fire-iid",[O5]:"fire-iid-compat",[L5]:"fire-fcm",[V5]:"fire-fcm-compat",[j5]:"fire-perf",[F5]:"fire-perf-compat",[$5]:"fire-rc",[U5]:"fire-rc-compat",[B5]:"fire-gcs",[W5]:"fire-gcs-compat",[z5]:"fire-fst",[q5]:"fire-fst-compat",[H5]:"fire-vertex","fire-js":"fire-js",[G5]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kf=new Map,Q5=new Map,Jv=new Map;function NE(t,e){try{t.container.addComponent(e)}catch(n){wi.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Wa(t){const e=t.name;if(Jv.has(e))return wi.debug(`There were multiple attempts to register component ${e}.`),!1;Jv.set(e,t);for(const n of Kf.values())NE(n,t);for(const n of Q5.values())NE(n,t);return!0}function rw(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Dn(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X5={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},mo=new _u("app","Firebase",X5);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J5{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ws("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw mo.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ml=Y5;function qI(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:Xv,automaticDataCollectionEnabled:!0,...e},i=r.name;if(typeof i!="string"||!i)throw mo.create("bad-app-name",{appName:String(i)});if(n||(n=$I()),!n)throw mo.create("no-options");const o=Kf.get(i);if(o){if(ys(n,o.options)&&ys(r,o.config))return o;throw mo.create("duplicate-app",{appName:i})}const s=new i5(i);for(const l of Jv.values())s.addComponent(l);const a=new J5(n,r,s);return Kf.set(i,a),a}function GI(t=Xv){const e=Kf.get(t);if(!e&&t===Xv&&$I())return qI();if(!e)throw mo.create("no-app",{appName:t});return e}function go(t,e,n){let r=K5[t]??t;n&&(r+=`-${n}`);const i=r.match(/\s|\//),o=e.match(/\s|\//);if(i||o){const s=[`Unable to register library "${r}" with version "${e}":`];i&&s.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&o&&s.push("and"),o&&s.push(`version name "${e}" contains illegal characters (whitespace or "/")`),wi.warn(s.join(" "));return}Wa(new ws(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z5="firebase-heartbeat-database",e3=1,Jc="firebase-heartbeat-store";let ig=null;function YI(){return ig||(ig=v5(Z5,e3,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Jc)}catch(n){console.warn(n)}}}}).catch(t=>{throw mo.create("idb-open",{originalErrorMessage:t.message})})),ig}async function t3(t){try{const n=(await YI()).transaction(Jc),r=await n.objectStore(Jc).get(KI(t));return await n.done,r}catch(e){if(e instanceof Ni)wi.warn(e.message);else{const n=mo.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});wi.warn(n.message)}}}async function DE(t,e){try{const r=(await YI()).transaction(Jc,"readwrite");await r.objectStore(Jc).put(e,KI(t)),await r.done}catch(n){if(n instanceof Ni)wi.warn(n.message);else{const r=mo.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});wi.warn(r.message)}}}function KI(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n3=1024,r3=30;class i3{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new s3(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=ME();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats.length>r3){const s=a3(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){wi.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=ME(),{heartbeatsToSend:r,unsentEntries:i}=o3(this._heartbeatsCache.heartbeats),o=Yf(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return wi.warn(n),""}}}function ME(){return new Date().toISOString().substring(0,10)}function o3(t,e=n3){const n=[];let r=t.slice();for(const i of t){const o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),OE(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),OE(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class s3{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return qj()?Gj().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await t3(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return DE(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return DE(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function OE(t){return Yf(JSON.stringify({version:2,heartbeats:t})).length}function a3(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l3(t){Wa(new ws("platform-logger",e=>new _5(e),"PRIVATE")),Wa(new ws("heartbeat",e=>new i3(e),"PRIVATE")),go(Qv,RE,t),go(Qv,RE,"esm2020"),go("fire-js","")}l3("");var c3="firebase",u3="12.1.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */go(c3,u3,"app");var LE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var vo,QI;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(S,C){function I(){}I.prototype=C.prototype,S.D=C.prototype,S.prototype=new I,S.prototype.constructor=S,S.C=function(A,D,O){for(var R=Array(arguments.length-2),F=2;F<arguments.length;F++)R[F-2]=arguments[F];return C.prototype[D].apply(A,R)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(S,C,I){I||(I=0);var A=Array(16);if(typeof C=="string")for(var D=0;16>D;++D)A[D]=C.charCodeAt(I++)|C.charCodeAt(I++)<<8|C.charCodeAt(I++)<<16|C.charCodeAt(I++)<<24;else for(D=0;16>D;++D)A[D]=C[I++]|C[I++]<<8|C[I++]<<16|C[I++]<<24;C=S.g[0],I=S.g[1],D=S.g[2];var O=S.g[3],R=C+(O^I&(D^O))+A[0]+3614090360&4294967295;C=I+(R<<7&4294967295|R>>>25),R=O+(D^C&(I^D))+A[1]+3905402710&4294967295,O=C+(R<<12&4294967295|R>>>20),R=D+(I^O&(C^I))+A[2]+606105819&4294967295,D=O+(R<<17&4294967295|R>>>15),R=I+(C^D&(O^C))+A[3]+3250441966&4294967295,I=D+(R<<22&4294967295|R>>>10),R=C+(O^I&(D^O))+A[4]+4118548399&4294967295,C=I+(R<<7&4294967295|R>>>25),R=O+(D^C&(I^D))+A[5]+1200080426&4294967295,O=C+(R<<12&4294967295|R>>>20),R=D+(I^O&(C^I))+A[6]+2821735955&4294967295,D=O+(R<<17&4294967295|R>>>15),R=I+(C^D&(O^C))+A[7]+4249261313&4294967295,I=D+(R<<22&4294967295|R>>>10),R=C+(O^I&(D^O))+A[8]+1770035416&4294967295,C=I+(R<<7&4294967295|R>>>25),R=O+(D^C&(I^D))+A[9]+2336552879&4294967295,O=C+(R<<12&4294967295|R>>>20),R=D+(I^O&(C^I))+A[10]+4294925233&4294967295,D=O+(R<<17&4294967295|R>>>15),R=I+(C^D&(O^C))+A[11]+2304563134&4294967295,I=D+(R<<22&4294967295|R>>>10),R=C+(O^I&(D^O))+A[12]+1804603682&4294967295,C=I+(R<<7&4294967295|R>>>25),R=O+(D^C&(I^D))+A[13]+4254626195&4294967295,O=C+(R<<12&4294967295|R>>>20),R=D+(I^O&(C^I))+A[14]+2792965006&4294967295,D=O+(R<<17&4294967295|R>>>15),R=I+(C^D&(O^C))+A[15]+1236535329&4294967295,I=D+(R<<22&4294967295|R>>>10),R=C+(D^O&(I^D))+A[1]+4129170786&4294967295,C=I+(R<<5&4294967295|R>>>27),R=O+(I^D&(C^I))+A[6]+3225465664&4294967295,O=C+(R<<9&4294967295|R>>>23),R=D+(C^I&(O^C))+A[11]+643717713&4294967295,D=O+(R<<14&4294967295|R>>>18),R=I+(O^C&(D^O))+A[0]+3921069994&4294967295,I=D+(R<<20&4294967295|R>>>12),R=C+(D^O&(I^D))+A[5]+3593408605&4294967295,C=I+(R<<5&4294967295|R>>>27),R=O+(I^D&(C^I))+A[10]+38016083&4294967295,O=C+(R<<9&4294967295|R>>>23),R=D+(C^I&(O^C))+A[15]+3634488961&4294967295,D=O+(R<<14&4294967295|R>>>18),R=I+(O^C&(D^O))+A[4]+3889429448&4294967295,I=D+(R<<20&4294967295|R>>>12),R=C+(D^O&(I^D))+A[9]+568446438&4294967295,C=I+(R<<5&4294967295|R>>>27),R=O+(I^D&(C^I))+A[14]+3275163606&4294967295,O=C+(R<<9&4294967295|R>>>23),R=D+(C^I&(O^C))+A[3]+4107603335&4294967295,D=O+(R<<14&4294967295|R>>>18),R=I+(O^C&(D^O))+A[8]+1163531501&4294967295,I=D+(R<<20&4294967295|R>>>12),R=C+(D^O&(I^D))+A[13]+2850285829&4294967295,C=I+(R<<5&4294967295|R>>>27),R=O+(I^D&(C^I))+A[2]+4243563512&4294967295,O=C+(R<<9&4294967295|R>>>23),R=D+(C^I&(O^C))+A[7]+1735328473&4294967295,D=O+(R<<14&4294967295|R>>>18),R=I+(O^C&(D^O))+A[12]+2368359562&4294967295,I=D+(R<<20&4294967295|R>>>12),R=C+(I^D^O)+A[5]+4294588738&4294967295,C=I+(R<<4&4294967295|R>>>28),R=O+(C^I^D)+A[8]+2272392833&4294967295,O=C+(R<<11&4294967295|R>>>21),R=D+(O^C^I)+A[11]+1839030562&4294967295,D=O+(R<<16&4294967295|R>>>16),R=I+(D^O^C)+A[14]+4259657740&4294967295,I=D+(R<<23&4294967295|R>>>9),R=C+(I^D^O)+A[1]+2763975236&4294967295,C=I+(R<<4&4294967295|R>>>28),R=O+(C^I^D)+A[4]+1272893353&4294967295,O=C+(R<<11&4294967295|R>>>21),R=D+(O^C^I)+A[7]+4139469664&4294967295,D=O+(R<<16&4294967295|R>>>16),R=I+(D^O^C)+A[10]+3200236656&4294967295,I=D+(R<<23&4294967295|R>>>9),R=C+(I^D^O)+A[13]+681279174&4294967295,C=I+(R<<4&4294967295|R>>>28),R=O+(C^I^D)+A[0]+3936430074&4294967295,O=C+(R<<11&4294967295|R>>>21),R=D+(O^C^I)+A[3]+3572445317&4294967295,D=O+(R<<16&4294967295|R>>>16),R=I+(D^O^C)+A[6]+76029189&4294967295,I=D+(R<<23&4294967295|R>>>9),R=C+(I^D^O)+A[9]+3654602809&4294967295,C=I+(R<<4&4294967295|R>>>28),R=O+(C^I^D)+A[12]+3873151461&4294967295,O=C+(R<<11&4294967295|R>>>21),R=D+(O^C^I)+A[15]+530742520&4294967295,D=O+(R<<16&4294967295|R>>>16),R=I+(D^O^C)+A[2]+3299628645&4294967295,I=D+(R<<23&4294967295|R>>>9),R=C+(D^(I|~O))+A[0]+4096336452&4294967295,C=I+(R<<6&4294967295|R>>>26),R=O+(I^(C|~D))+A[7]+1126891415&4294967295,O=C+(R<<10&4294967295|R>>>22),R=D+(C^(O|~I))+A[14]+2878612391&4294967295,D=O+(R<<15&4294967295|R>>>17),R=I+(O^(D|~C))+A[5]+4237533241&4294967295,I=D+(R<<21&4294967295|R>>>11),R=C+(D^(I|~O))+A[12]+1700485571&4294967295,C=I+(R<<6&4294967295|R>>>26),R=O+(I^(C|~D))+A[3]+2399980690&4294967295,O=C+(R<<10&4294967295|R>>>22),R=D+(C^(O|~I))+A[10]+4293915773&4294967295,D=O+(R<<15&4294967295|R>>>17),R=I+(O^(D|~C))+A[1]+2240044497&4294967295,I=D+(R<<21&4294967295|R>>>11),R=C+(D^(I|~O))+A[8]+1873313359&4294967295,C=I+(R<<6&4294967295|R>>>26),R=O+(I^(C|~D))+A[15]+4264355552&4294967295,O=C+(R<<10&4294967295|R>>>22),R=D+(C^(O|~I))+A[6]+2734768916&4294967295,D=O+(R<<15&4294967295|R>>>17),R=I+(O^(D|~C))+A[13]+1309151649&4294967295,I=D+(R<<21&4294967295|R>>>11),R=C+(D^(I|~O))+A[4]+4149444226&4294967295,C=I+(R<<6&4294967295|R>>>26),R=O+(I^(C|~D))+A[11]+3174756917&4294967295,O=C+(R<<10&4294967295|R>>>22),R=D+(C^(O|~I))+A[2]+718787259&4294967295,D=O+(R<<15&4294967295|R>>>17),R=I+(O^(D|~C))+A[9]+3951481745&4294967295,S.g[0]=S.g[0]+C&4294967295,S.g[1]=S.g[1]+(D+(R<<21&4294967295|R>>>11))&4294967295,S.g[2]=S.g[2]+D&4294967295,S.g[3]=S.g[3]+O&4294967295}r.prototype.u=function(S,C){C===void 0&&(C=S.length);for(var I=C-this.blockSize,A=this.B,D=this.h,O=0;O<C;){if(D==0)for(;O<=I;)i(this,S,O),O+=this.blockSize;if(typeof S=="string"){for(;O<C;)if(A[D++]=S.charCodeAt(O++),D==this.blockSize){i(this,A),D=0;break}}else for(;O<C;)if(A[D++]=S[O++],D==this.blockSize){i(this,A),D=0;break}}this.h=D,this.o+=C},r.prototype.v=function(){var S=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);S[0]=128;for(var C=1;C<S.length-8;++C)S[C]=0;var I=8*this.o;for(C=S.length-8;C<S.length;++C)S[C]=I&255,I/=256;for(this.u(S),S=Array(16),C=I=0;4>C;++C)for(var A=0;32>A;A+=8)S[I++]=this.g[C]>>>A&255;return S};function o(S,C){var I=a;return Object.prototype.hasOwnProperty.call(I,S)?I[S]:I[S]=C(S)}function s(S,C){this.h=C;for(var I=[],A=!0,D=S.length-1;0<=D;D--){var O=S[D]|0;A&&O==C||(I[D]=O,A=!1)}this.g=I}var a={};function l(S){return-128<=S&&128>S?o(S,function(C){return new s([C|0],0>C?-1:0)}):new s([S|0],0>S?-1:0)}function c(S){if(isNaN(S)||!isFinite(S))return f;if(0>S)return E(c(-S));for(var C=[],I=1,A=0;S>=I;A++)C[A]=S/I|0,I*=4294967296;return new s(C,0)}function u(S,C){if(S.length==0)throw Error("number format error: empty string");if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(S.charAt(0)=="-")return E(u(S.substring(1),C));if(0<=S.indexOf("-"))throw Error('number format error: interior "-" character');for(var I=c(Math.pow(C,8)),A=f,D=0;D<S.length;D+=8){var O=Math.min(8,S.length-D),R=parseInt(S.substring(D,D+O),C);8>O?(O=c(Math.pow(C,O)),A=A.j(O).add(c(R))):(A=A.j(I),A=A.add(c(R)))}return A}var f=l(0),h=l(1),g=l(16777216);t=s.prototype,t.m=function(){if(v(this))return-E(this).m();for(var S=0,C=1,I=0;I<this.g.length;I++){var A=this.i(I);S+=(0<=A?A:4294967296+A)*C,C*=4294967296}return S},t.toString=function(S){if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(w(this))return"0";if(v(this))return"-"+E(this).toString(S);for(var C=c(Math.pow(S,6)),I=this,A="";;){var D=P(I,C).g;I=x(I,D.j(C));var O=((0<I.g.length?I.g[0]:I.h)>>>0).toString(S);if(I=D,w(I))return O+A;for(;6>O.length;)O="0"+O;A=O+A}},t.i=function(S){return 0>S?0:S<this.g.length?this.g[S]:this.h};function w(S){if(S.h!=0)return!1;for(var C=0;C<S.g.length;C++)if(S.g[C]!=0)return!1;return!0}function v(S){return S.h==-1}t.l=function(S){return S=x(this,S),v(S)?-1:w(S)?0:1};function E(S){for(var C=S.g.length,I=[],A=0;A<C;A++)I[A]=~S.g[A];return new s(I,~S.h).add(h)}t.abs=function(){return v(this)?E(this):this},t.add=function(S){for(var C=Math.max(this.g.length,S.g.length),I=[],A=0,D=0;D<=C;D++){var O=A+(this.i(D)&65535)+(S.i(D)&65535),R=(O>>>16)+(this.i(D)>>>16)+(S.i(D)>>>16);A=R>>>16,O&=65535,R&=65535,I[D]=R<<16|O}return new s(I,I[I.length-1]&-2147483648?-1:0)};function x(S,C){return S.add(E(C))}t.j=function(S){if(w(this)||w(S))return f;if(v(this))return v(S)?E(this).j(E(S)):E(E(this).j(S));if(v(S))return E(this.j(E(S)));if(0>this.l(g)&&0>S.l(g))return c(this.m()*S.m());for(var C=this.g.length+S.g.length,I=[],A=0;A<2*C;A++)I[A]=0;for(A=0;A<this.g.length;A++)for(var D=0;D<S.g.length;D++){var O=this.i(A)>>>16,R=this.i(A)&65535,F=S.i(D)>>>16,q=S.i(D)&65535;I[2*A+2*D]+=R*q,y(I,2*A+2*D),I[2*A+2*D+1]+=O*q,y(I,2*A+2*D+1),I[2*A+2*D+1]+=R*F,y(I,2*A+2*D+1),I[2*A+2*D+2]+=O*F,y(I,2*A+2*D+2)}for(A=0;A<C;A++)I[A]=I[2*A+1]<<16|I[2*A];for(A=C;A<2*C;A++)I[A]=0;return new s(I,0)};function y(S,C){for(;(S[C]&65535)!=S[C];)S[C+1]+=S[C]>>>16,S[C]&=65535,C++}function b(S,C){this.g=S,this.h=C}function P(S,C){if(w(C))throw Error("division by zero");if(w(S))return new b(f,f);if(v(S))return C=P(E(S),C),new b(E(C.g),E(C.h));if(v(C))return C=P(S,E(C)),new b(E(C.g),C.h);if(30<S.g.length){if(v(S)||v(C))throw Error("slowDivide_ only works with positive integers.");for(var I=h,A=C;0>=A.l(S);)I=N(I),A=N(A);var D=M(I,1),O=M(A,1);for(A=M(A,2),I=M(I,2);!w(A);){var R=O.add(A);0>=R.l(S)&&(D=D.add(I),O=R),A=M(A,1),I=M(I,1)}return C=x(S,D.j(C)),new b(D,C)}for(D=f;0<=S.l(C);){for(I=Math.max(1,Math.floor(S.m()/C.m())),A=Math.ceil(Math.log(I)/Math.LN2),A=48>=A?1:Math.pow(2,A-48),O=c(I),R=O.j(C);v(R)||0<R.l(S);)I-=A,O=c(I),R=O.j(C);w(O)&&(O=h),D=D.add(O),S=x(S,R)}return new b(D,S)}t.A=function(S){return P(this,S).h},t.and=function(S){for(var C=Math.max(this.g.length,S.g.length),I=[],A=0;A<C;A++)I[A]=this.i(A)&S.i(A);return new s(I,this.h&S.h)},t.or=function(S){for(var C=Math.max(this.g.length,S.g.length),I=[],A=0;A<C;A++)I[A]=this.i(A)|S.i(A);return new s(I,this.h|S.h)},t.xor=function(S){for(var C=Math.max(this.g.length,S.g.length),I=[],A=0;A<C;A++)I[A]=this.i(A)^S.i(A);return new s(I,this.h^S.h)};function N(S){for(var C=S.g.length+1,I=[],A=0;A<C;A++)I[A]=S.i(A)<<1|S.i(A-1)>>>31;return new s(I,S.h)}function M(S,C){var I=C>>5;C%=32;for(var A=S.g.length-I,D=[],O=0;O<A;O++)D[O]=0<C?S.i(O+I)>>>C|S.i(O+I+1)<<32-C:S.i(O+I);return new s(D,S.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,QI=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=c,s.fromString=u,vo=s}).apply(typeof LE<"u"?LE:typeof self<"u"?self:typeof window<"u"?window:{});var bd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var XI,oc,JI,sf,Zv,ZI,eA,tA;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(d,_,T){return d==Array.prototype||d==Object.prototype||(d[_]=T.value),d};function n(d){d=[typeof globalThis=="object"&&globalThis,d,typeof window=="object"&&window,typeof self=="object"&&self,typeof bd=="object"&&bd];for(var _=0;_<d.length;++_){var T=d[_];if(T&&T.Math==Math)return T}throw Error("Cannot find global object")}var r=n(this);function i(d,_){if(_)e:{var T=r;d=d.split(".");for(var k=0;k<d.length-1;k++){var V=d[k];if(!(V in T))break e;T=T[V]}d=d[d.length-1],k=T[d],_=_(k),_!=k&&_!=null&&e(T,d,{configurable:!0,writable:!0,value:_})}}function o(d,_){d instanceof String&&(d+="");var T=0,k=!1,V={next:function(){if(!k&&T<d.length){var U=T++;return{value:_(U,d[U]),done:!1}}return k=!0,{done:!0,value:void 0}}};return V[Symbol.iterator]=function(){return V},V}i("Array.prototype.values",function(d){return d||function(){return o(this,function(_,T){return T})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var s=s||{},a=this||self;function l(d){var _=typeof d;return _=_!="object"?_:d?Array.isArray(d)?"array":_:"null",_=="array"||_=="object"&&typeof d.length=="number"}function c(d){var _=typeof d;return _=="object"&&d!=null||_=="function"}function u(d,_,T){return d.call.apply(d.bind,arguments)}function f(d,_,T){if(!d)throw Error();if(2<arguments.length){var k=Array.prototype.slice.call(arguments,2);return function(){var V=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(V,k),d.apply(_,V)}}return function(){return d.apply(_,arguments)}}function h(d,_,T){return h=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?u:f,h.apply(null,arguments)}function g(d,_){var T=Array.prototype.slice.call(arguments,1);return function(){var k=T.slice();return k.push.apply(k,arguments),d.apply(this,k)}}function w(d,_){function T(){}T.prototype=_.prototype,d.aa=_.prototype,d.prototype=new T,d.prototype.constructor=d,d.Qb=function(k,V,U){for(var Z=Array(arguments.length-2),Ge=2;Ge<arguments.length;Ge++)Z[Ge-2]=arguments[Ge];return _.prototype[V].apply(k,Z)}}function v(d){const _=d.length;if(0<_){const T=Array(_);for(let k=0;k<_;k++)T[k]=d[k];return T}return[]}function E(d,_){for(let T=1;T<arguments.length;T++){const k=arguments[T];if(l(k)){const V=d.length||0,U=k.length||0;d.length=V+U;for(let Z=0;Z<U;Z++)d[V+Z]=k[Z]}else d.push(k)}}class x{constructor(_,T){this.i=_,this.j=T,this.h=0,this.g=null}get(){let _;return 0<this.h?(this.h--,_=this.g,this.g=_.next,_.next=null):_=this.i(),_}}function y(d){return/^[\s\xa0]*$/.test(d)}function b(){var d=a.navigator;return d&&(d=d.userAgent)?d:""}function P(d){return P[" "](d),d}P[" "]=function(){};var N=b().indexOf("Gecko")!=-1&&!(b().toLowerCase().indexOf("webkit")!=-1&&b().indexOf("Edge")==-1)&&!(b().indexOf("Trident")!=-1||b().indexOf("MSIE")!=-1)&&b().indexOf("Edge")==-1;function M(d,_,T){for(const k in d)_.call(T,d[k],k,d)}function S(d,_){for(const T in d)_.call(void 0,d[T],T,d)}function C(d){const _={};for(const T in d)_[T]=d[T];return _}const I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function A(d,_){let T,k;for(let V=1;V<arguments.length;V++){k=arguments[V];for(T in k)d[T]=k[T];for(let U=0;U<I.length;U++)T=I[U],Object.prototype.hasOwnProperty.call(k,T)&&(d[T]=k[T])}}function D(d){var _=1;d=d.split(":");const T=[];for(;0<_&&d.length;)T.push(d.shift()),_--;return d.length&&T.push(d.join(":")),T}function O(d){a.setTimeout(()=>{throw d},0)}function R(){var d=j;let _=null;return d.g&&(_=d.g,d.g=d.g.next,d.g||(d.h=null),_.next=null),_}class F{constructor(){this.h=this.g=null}add(_,T){const k=q.get();k.set(_,T),this.h?this.h.next=k:this.g=k,this.h=k}}var q=new x(()=>new K,d=>d.reset());class K{constructor(){this.next=this.g=this.h=null}set(_,T){this.h=_,this.g=T,this.next=null}reset(){this.next=this.g=this.h=null}}let z,L=!1,j=new F,B=()=>{const d=a.Promise.resolve(void 0);z=()=>{d.then($)}};var $=()=>{for(var d;d=R();){try{d.h.call(d.g)}catch(T){O(T)}var _=q;_.j(d),100>_.h&&(_.h++,d.next=_.g,_.g=d)}L=!1};function H(){this.s=this.s,this.C=this.C}H.prototype.s=!1,H.prototype.ma=function(){this.s||(this.s=!0,this.N())},H.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function W(d,_){this.type=d,this.g=this.target=_,this.defaultPrevented=!1}W.prototype.h=function(){this.defaultPrevented=!0};var J=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var d=!1,_=Object.defineProperty({},"passive",{get:function(){d=!0}});try{const T=()=>{};a.addEventListener("test",T,_),a.removeEventListener("test",T,_)}catch{}return d}();function he(d,_){if(W.call(this,d?d.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,d){var T=this.type=d.type,k=d.changedTouches&&d.changedTouches.length?d.changedTouches[0]:null;if(this.target=d.target||d.srcElement,this.g=_,_=d.relatedTarget){if(N){e:{try{P(_.nodeName);var V=!0;break e}catch{}V=!1}V||(_=null)}}else T=="mouseover"?_=d.fromElement:T=="mouseout"&&(_=d.toElement);this.relatedTarget=_,k?(this.clientX=k.clientX!==void 0?k.clientX:k.pageX,this.clientY=k.clientY!==void 0?k.clientY:k.pageY,this.screenX=k.screenX||0,this.screenY=k.screenY||0):(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0),this.button=d.button,this.key=d.key||"",this.ctrlKey=d.ctrlKey,this.altKey=d.altKey,this.shiftKey=d.shiftKey,this.metaKey=d.metaKey,this.pointerId=d.pointerId||0,this.pointerType=typeof d.pointerType=="string"?d.pointerType:fe[d.pointerType]||"",this.state=d.state,this.i=d,d.defaultPrevented&&he.aa.h.call(this)}}w(he,W);var fe={2:"touch",3:"pen",4:"mouse"};he.prototype.h=function(){he.aa.h.call(this);var d=this.i;d.preventDefault?d.preventDefault():d.returnValue=!1};var Q="closure_listenable_"+(1e6*Math.random()|0),ee=0;function oe(d,_,T,k,V){this.listener=d,this.proxy=null,this.src=_,this.type=T,this.capture=!!k,this.ha=V,this.key=++ee,this.da=this.fa=!1}function te(d){d.da=!0,d.listener=null,d.proxy=null,d.src=null,d.ha=null}function pe(d){this.src=d,this.g={},this.h=0}pe.prototype.add=function(d,_,T,k,V){var U=d.toString();d=this.g[U],d||(d=this.g[U]=[],this.h++);var Z=Ke(d,_,k,V);return-1<Z?(_=d[Z],T||(_.fa=!1)):(_=new oe(_,this.src,U,!!k,V),_.fa=T,d.push(_)),_};function Ce(d,_){var T=_.type;if(T in d.g){var k=d.g[T],V=Array.prototype.indexOf.call(k,_,void 0),U;(U=0<=V)&&Array.prototype.splice.call(k,V,1),U&&(te(_),d.g[T].length==0&&(delete d.g[T],d.h--))}}function Ke(d,_,T,k){for(var V=0;V<d.length;++V){var U=d[V];if(!U.da&&U.listener==_&&U.capture==!!T&&U.ha==k)return V}return-1}var st="closure_lm_"+(1e6*Math.random()|0),Lt={};function nr(d,_,T,k,V){if(k&&k.once)return Jr(d,_,T,k,V);if(Array.isArray(_)){for(var U=0;U<_.length;U++)nr(d,_[U],T,k,V);return null}return T=um(T),d&&d[Q]?d.K(_,T,c(k)?!!k.capture:!!k,V):Er(d,_,T,!1,k,V)}function Er(d,_,T,k,V,U){if(!_)throw Error("Invalid event type");var Z=c(V)?!!V.capture:!!V,Ge=lm(d);if(Ge||(d[st]=Ge=new pe(d)),T=Ge.add(_,T,k,Z,U),T.proxy)return T;if(k=Cl(),T.proxy=k,k.src=d,k.listener=T,d.addEventListener)J||(V=Z),V===void 0&&(V=!1),d.addEventListener(_.toString(),k,V);else if(d.attachEvent)d.attachEvent(f_(_.toString()),k);else if(d.addListener&&d.removeListener)d.addListener(k);else throw Error("addEventListener and attachEvent are unavailable.");return T}function Cl(){function d(T){return _.call(d.src,d.listener,T)}const _=SO;return d}function Jr(d,_,T,k,V){if(Array.isArray(_)){for(var U=0;U<_.length;U++)Jr(d,_[U],T,k,V);return null}return T=um(T),d&&d[Q]?d.L(_,T,c(k)?!!k.capture:!!k,V):Er(d,_,T,!0,k,V)}function Wu(d,_,T,k,V){if(Array.isArray(_))for(var U=0;U<_.length;U++)Wu(d,_[U],T,k,V);else k=c(k)?!!k.capture:!!k,T=um(T),d&&d[Q]?(d=d.i,_=String(_).toString(),_ in d.g&&(U=d.g[_],T=Ke(U,T,k,V),-1<T&&(te(U[T]),Array.prototype.splice.call(U,T,1),U.length==0&&(delete d.g[_],d.h--)))):d&&(d=lm(d))&&(_=d.g[_.toString()],d=-1,_&&(d=Ke(_,T,k,V)),(T=-1<d?_[d]:null)&&Mi(T))}function Mi(d){if(typeof d!="number"&&d&&!d.da){var _=d.src;if(_&&_[Q])Ce(_.i,d);else{var T=d.type,k=d.proxy;_.removeEventListener?_.removeEventListener(T,k,d.capture):_.detachEvent?_.detachEvent(f_(T),k):_.addListener&&_.removeListener&&_.removeListener(k),(T=lm(_))?(Ce(T,d),T.h==0&&(T.src=null,_[st]=null)):te(d)}}}function f_(d){return d in Lt?Lt[d]:Lt[d]="on"+d}function SO(d,_){if(d.da)d=!0;else{_=new he(_,this);var T=d.listener,k=d.ha||d.src;d.fa&&Mi(d),d=T.call(k,_)}return d}function lm(d){return d=d[st],d instanceof pe?d:null}var cm="__closure_events_fn_"+(1e9*Math.random()>>>0);function um(d){return typeof d=="function"?d:(d[cm]||(d[cm]=function(_){return d.handleEvent(_)}),d[cm])}function Kt(){H.call(this),this.i=new pe(this),this.M=this,this.F=null}w(Kt,H),Kt.prototype[Q]=!0,Kt.prototype.removeEventListener=function(d,_,T,k){Wu(this,d,_,T,k)};function un(d,_){var T,k=d.F;if(k)for(T=[];k;k=k.F)T.push(k);if(d=d.M,k=_.type||_,typeof _=="string")_=new W(_,d);else if(_ instanceof W)_.target=_.target||d;else{var V=_;_=new W(k,d),A(_,V)}if(V=!0,T)for(var U=T.length-1;0<=U;U--){var Z=_.g=T[U];V=zu(Z,k,!0,_)&&V}if(Z=_.g=d,V=zu(Z,k,!0,_)&&V,V=zu(Z,k,!1,_)&&V,T)for(U=0;U<T.length;U++)Z=_.g=T[U],V=zu(Z,k,!1,_)&&V}Kt.prototype.N=function(){if(Kt.aa.N.call(this),this.i){var d=this.i,_;for(_ in d.g){for(var T=d.g[_],k=0;k<T.length;k++)te(T[k]);delete d.g[_],d.h--}}this.F=null},Kt.prototype.K=function(d,_,T,k){return this.i.add(String(d),_,!1,T,k)},Kt.prototype.L=function(d,_,T,k){return this.i.add(String(d),_,!0,T,k)};function zu(d,_,T,k){if(_=d.i.g[String(_)],!_)return!0;_=_.concat();for(var V=!0,U=0;U<_.length;++U){var Z=_[U];if(Z&&!Z.da&&Z.capture==T){var Ge=Z.listener,$t=Z.ha||Z.src;Z.fa&&Ce(d.i,Z),V=Ge.call($t,k)!==!1&&V}}return V&&!k.defaultPrevented}function h_(d,_,T){if(typeof d=="function")T&&(d=h(d,T));else if(d&&typeof d.handleEvent=="function")d=h(d.handleEvent,d);else throw Error("Invalid listener argument");return 2147483647<Number(_)?-1:a.setTimeout(d,_||0)}function p_(d){d.g=h_(()=>{d.g=null,d.i&&(d.i=!1,p_(d))},d.l);const _=d.h;d.h=null,d.m.apply(null,_)}class PO extends H{constructor(_,T){super(),this.m=_,this.l=T,this.h=null,this.i=!1,this.g=null}j(_){this.h=arguments,this.g?this.i=!0:p_(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Sl(d){H.call(this),this.h=d,this.g={}}w(Sl,H);var m_=[];function g_(d){M(d.g,function(_,T){this.g.hasOwnProperty(T)&&Mi(_)},d),d.g={}}Sl.prototype.N=function(){Sl.aa.N.call(this),g_(this)},Sl.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var dm=a.JSON.stringify,IO=a.JSON.parse,AO=class{stringify(d){return a.JSON.stringify(d,void 0)}parse(d){return a.JSON.parse(d,void 0)}};function fm(){}fm.prototype.h=null;function v_(d){return d.h||(d.h=d.i())}function y_(){}var Pl={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function hm(){W.call(this,"d")}w(hm,W);function pm(){W.call(this,"c")}w(pm,W);var Ho={},w_=null;function Hu(){return w_=w_||new Kt}Ho.La="serverreachability";function __(d){W.call(this,Ho.La,d)}w(__,W);function Il(d){const _=Hu();un(_,new __(_))}Ho.STAT_EVENT="statevent";function x_(d,_){W.call(this,Ho.STAT_EVENT,d),this.stat=_}w(x_,W);function dn(d){const _=Hu();un(_,new x_(_,d))}Ho.Ma="timingevent";function E_(d,_){W.call(this,Ho.Ma,d),this.size=_}w(E_,W);function Al(d,_){if(typeof d!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){d()},_)}function kl(){this.g=!0}kl.prototype.xa=function(){this.g=!1};function kO(d,_,T,k,V,U){d.info(function(){if(d.g)if(U)for(var Z="",Ge=U.split("&"),$t=0;$t<Ge.length;$t++){var $e=Ge[$t].split("=");if(1<$e.length){var Qt=$e[0];$e=$e[1];var Xt=Qt.split("_");Z=2<=Xt.length&&Xt[1]=="type"?Z+(Qt+"="+$e+"&"):Z+(Qt+"=redacted&")}}else Z=null;else Z=U;return"XMLHTTP REQ ("+k+") [attempt "+V+"]: "+_+`
`+T+`
`+Z})}function RO(d,_,T,k,V,U,Z){d.info(function(){return"XMLHTTP RESP ("+k+") [ attempt "+V+"]: "+_+`
`+T+`
`+U+" "+Z})}function $s(d,_,T,k){d.info(function(){return"XMLHTTP TEXT ("+_+"): "+DO(d,T)+(k?" "+k:"")})}function NO(d,_){d.info(function(){return"TIMEOUT: "+_})}kl.prototype.info=function(){};function DO(d,_){if(!d.g)return _;if(!_)return null;try{var T=JSON.parse(_);if(T){for(d=0;d<T.length;d++)if(Array.isArray(T[d])){var k=T[d];if(!(2>k.length)){var V=k[1];if(Array.isArray(V)&&!(1>V.length)){var U=V[0];if(U!="noop"&&U!="stop"&&U!="close")for(var Z=1;Z<V.length;Z++)V[Z]=""}}}}return dm(T)}catch{return _}}var qu={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},b_={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},mm;function Gu(){}w(Gu,fm),Gu.prototype.g=function(){return new XMLHttpRequest},Gu.prototype.i=function(){return{}},mm=new Gu;function Oi(d,_,T,k){this.j=d,this.i=_,this.l=T,this.R=k||1,this.U=new Sl(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new T_}function T_(){this.i=null,this.g="",this.h=!1}var C_={},gm={};function vm(d,_,T){d.L=1,d.v=Xu(Zr(_)),d.m=T,d.P=!0,S_(d,null)}function S_(d,_){d.F=Date.now(),Yu(d),d.A=Zr(d.v);var T=d.A,k=d.R;Array.isArray(k)||(k=[String(k)]),$_(T.i,"t",k),d.C=0,T=d.j.J,d.h=new T_,d.g=ix(d.j,T?_:null,!d.m),0<d.O&&(d.M=new PO(h(d.Y,d,d.g),d.O)),_=d.U,T=d.g,k=d.ca;var V="readystatechange";Array.isArray(V)||(V&&(m_[0]=V.toString()),V=m_);for(var U=0;U<V.length;U++){var Z=nr(T,V[U],k||_.handleEvent,!1,_.h||_);if(!Z)break;_.g[Z.key]=Z}_=d.H?C(d.H):{},d.m?(d.u||(d.u="POST"),_["Content-Type"]="application/x-www-form-urlencoded",d.g.ea(d.A,d.u,d.m,_)):(d.u="GET",d.g.ea(d.A,d.u,null,_)),Il(),kO(d.i,d.u,d.A,d.l,d.R,d.m)}Oi.prototype.ca=function(d){d=d.target;const _=this.M;_&&ei(d)==3?_.j():this.Y(d)},Oi.prototype.Y=function(d){try{if(d==this.g)e:{const Xt=ei(this.g);var _=this.g.Ba();const Ws=this.g.Z();if(!(3>Xt)&&(Xt!=3||this.g&&(this.h.h||this.g.oa()||G_(this.g)))){this.J||Xt!=4||_==7||(_==8||0>=Ws?Il(3):Il(2)),ym(this);var T=this.g.Z();this.X=T;t:if(P_(this)){var k=G_(this.g);d="";var V=k.length,U=ei(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){qo(this),Rl(this);var Z="";break t}this.h.i=new a.TextDecoder}for(_=0;_<V;_++)this.h.h=!0,d+=this.h.i.decode(k[_],{stream:!(U&&_==V-1)});k.length=0,this.h.g+=d,this.C=0,Z=this.h.g}else Z=this.g.oa();if(this.o=T==200,RO(this.i,this.u,this.A,this.l,this.R,Xt,T),this.o){if(this.T&&!this.K){t:{if(this.g){var Ge,$t=this.g;if((Ge=$t.g?$t.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!y(Ge)){var $e=Ge;break t}}$e=null}if(T=$e)$s(this.i,this.l,T,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,wm(this,T);else{this.o=!1,this.s=3,dn(12),qo(this),Rl(this);break e}}if(this.P){T=!0;let rr;for(;!this.J&&this.C<Z.length;)if(rr=MO(this,Z),rr==gm){Xt==4&&(this.s=4,dn(14),T=!1),$s(this.i,this.l,null,"[Incomplete Response]");break}else if(rr==C_){this.s=4,dn(15),$s(this.i,this.l,Z,"[Invalid Chunk]"),T=!1;break}else $s(this.i,this.l,rr,null),wm(this,rr);if(P_(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Xt!=4||Z.length!=0||this.h.h||(this.s=1,dn(16),T=!1),this.o=this.o&&T,!T)$s(this.i,this.l,Z,"[Invalid Chunked Response]"),qo(this),Rl(this);else if(0<Z.length&&!this.W){this.W=!0;var Qt=this.j;Qt.g==this&&Qt.ba&&!Qt.M&&(Qt.j.info("Great, no buffering proxy detected. Bytes received: "+Z.length),Cm(Qt),Qt.M=!0,dn(11))}}else $s(this.i,this.l,Z,null),wm(this,Z);Xt==4&&qo(this),this.o&&!this.J&&(Xt==4?ex(this.j,this):(this.o=!1,Yu(this)))}else XO(this.g),T==400&&0<Z.indexOf("Unknown SID")?(this.s=3,dn(12)):(this.s=0,dn(13)),qo(this),Rl(this)}}}catch{}finally{}};function P_(d){return d.g?d.u=="GET"&&d.L!=2&&d.j.Ca:!1}function MO(d,_){var T=d.C,k=_.indexOf(`
`,T);return k==-1?gm:(T=Number(_.substring(T,k)),isNaN(T)?C_:(k+=1,k+T>_.length?gm:(_=_.slice(k,k+T),d.C=k+T,_)))}Oi.prototype.cancel=function(){this.J=!0,qo(this)};function Yu(d){d.S=Date.now()+d.I,I_(d,d.I)}function I_(d,_){if(d.B!=null)throw Error("WatchDog timer not null");d.B=Al(h(d.ba,d),_)}function ym(d){d.B&&(a.clearTimeout(d.B),d.B=null)}Oi.prototype.ba=function(){this.B=null;const d=Date.now();0<=d-this.S?(NO(this.i,this.A),this.L!=2&&(Il(),dn(17)),qo(this),this.s=2,Rl(this)):I_(this,this.S-d)};function Rl(d){d.j.G==0||d.J||ex(d.j,d)}function qo(d){ym(d);var _=d.M;_&&typeof _.ma=="function"&&_.ma(),d.M=null,g_(d.U),d.g&&(_=d.g,d.g=null,_.abort(),_.ma())}function wm(d,_){try{var T=d.j;if(T.G!=0&&(T.g==d||_m(T.h,d))){if(!d.K&&_m(T.h,d)&&T.G==3){try{var k=T.Da.g.parse(_)}catch{k=null}if(Array.isArray(k)&&k.length==3){var V=k;if(V[0]==0){e:if(!T.u){if(T.g)if(T.g.F+3e3<d.F)rd(T),td(T);else break e;Tm(T),dn(18)}}else T.za=V[1],0<T.za-T.T&&37500>V[2]&&T.F&&T.v==0&&!T.C&&(T.C=Al(h(T.Za,T),6e3));if(1>=R_(T.h)&&T.ca){try{T.ca()}catch{}T.ca=void 0}}else Yo(T,11)}else if((d.K||T.g==d)&&rd(T),!y(_))for(V=T.Da.g.parse(_),_=0;_<V.length;_++){let $e=V[_];if(T.T=$e[0],$e=$e[1],T.G==2)if($e[0]=="c"){T.K=$e[1],T.ia=$e[2];const Qt=$e[3];Qt!=null&&(T.la=Qt,T.j.info("VER="+T.la));const Xt=$e[4];Xt!=null&&(T.Aa=Xt,T.j.info("SVER="+T.Aa));const Ws=$e[5];Ws!=null&&typeof Ws=="number"&&0<Ws&&(k=1.5*Ws,T.L=k,T.j.info("backChannelRequestTimeoutMs_="+k)),k=T;const rr=d.g;if(rr){const od=rr.g?rr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(od){var U=k.h;U.g||od.indexOf("spdy")==-1&&od.indexOf("quic")==-1&&od.indexOf("h2")==-1||(U.j=U.l,U.g=new Set,U.h&&(xm(U,U.h),U.h=null))}if(k.D){const Sm=rr.g?rr.g.getResponseHeader("X-HTTP-Session-Id"):null;Sm&&(k.ya=Sm,et(k.I,k.D,Sm))}}T.G=3,T.l&&T.l.ua(),T.ba&&(T.R=Date.now()-d.F,T.j.info("Handshake RTT: "+T.R+"ms")),k=T;var Z=d;if(k.qa=rx(k,k.J?k.ia:null,k.W),Z.K){N_(k.h,Z);var Ge=Z,$t=k.L;$t&&(Ge.I=$t),Ge.B&&(ym(Ge),Yu(Ge)),k.g=Z}else J_(k);0<T.i.length&&nd(T)}else $e[0]!="stop"&&$e[0]!="close"||Yo(T,7);else T.G==3&&($e[0]=="stop"||$e[0]=="close"?$e[0]=="stop"?Yo(T,7):bm(T):$e[0]!="noop"&&T.l&&T.l.ta($e),T.v=0)}}Il(4)}catch{}}var OO=class{constructor(d,_){this.g=d,this.map=_}};function A_(d){this.l=d||10,a.PerformanceNavigationTiming?(d=a.performance.getEntriesByType("navigation"),d=0<d.length&&(d[0].nextHopProtocol=="hq"||d[0].nextHopProtocol=="h2")):d=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=d?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function k_(d){return d.h?!0:d.g?d.g.size>=d.j:!1}function R_(d){return d.h?1:d.g?d.g.size:0}function _m(d,_){return d.h?d.h==_:d.g?d.g.has(_):!1}function xm(d,_){d.g?d.g.add(_):d.h=_}function N_(d,_){d.h&&d.h==_?d.h=null:d.g&&d.g.has(_)&&d.g.delete(_)}A_.prototype.cancel=function(){if(this.i=D_(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const d of this.g.values())d.cancel();this.g.clear()}};function D_(d){if(d.h!=null)return d.i.concat(d.h.D);if(d.g!=null&&d.g.size!==0){let _=d.i;for(const T of d.g.values())_=_.concat(T.D);return _}return v(d.i)}function LO(d){if(d.V&&typeof d.V=="function")return d.V();if(typeof Map<"u"&&d instanceof Map||typeof Set<"u"&&d instanceof Set)return Array.from(d.values());if(typeof d=="string")return d.split("");if(l(d)){for(var _=[],T=d.length,k=0;k<T;k++)_.push(d[k]);return _}_=[],T=0;for(k in d)_[T++]=d[k];return _}function VO(d){if(d.na&&typeof d.na=="function")return d.na();if(!d.V||typeof d.V!="function"){if(typeof Map<"u"&&d instanceof Map)return Array.from(d.keys());if(!(typeof Set<"u"&&d instanceof Set)){if(l(d)||typeof d=="string"){var _=[];d=d.length;for(var T=0;T<d;T++)_.push(T);return _}_=[],T=0;for(const k in d)_[T++]=k;return _}}}function M_(d,_){if(d.forEach&&typeof d.forEach=="function")d.forEach(_,void 0);else if(l(d)||typeof d=="string")Array.prototype.forEach.call(d,_,void 0);else for(var T=VO(d),k=LO(d),V=k.length,U=0;U<V;U++)_.call(void 0,k[U],T&&T[U],d)}var O_=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function jO(d,_){if(d){d=d.split("&");for(var T=0;T<d.length;T++){var k=d[T].indexOf("="),V=null;if(0<=k){var U=d[T].substring(0,k);V=d[T].substring(k+1)}else U=d[T];_(U,V?decodeURIComponent(V.replace(/\+/g," ")):"")}}}function Go(d){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,d instanceof Go){this.h=d.h,Ku(this,d.j),this.o=d.o,this.g=d.g,Qu(this,d.s),this.l=d.l;var _=d.i,T=new Ml;T.i=_.i,_.g&&(T.g=new Map(_.g),T.h=_.h),L_(this,T),this.m=d.m}else d&&(_=String(d).match(O_))?(this.h=!1,Ku(this,_[1]||"",!0),this.o=Nl(_[2]||""),this.g=Nl(_[3]||"",!0),Qu(this,_[4]),this.l=Nl(_[5]||"",!0),L_(this,_[6]||"",!0),this.m=Nl(_[7]||"")):(this.h=!1,this.i=new Ml(null,this.h))}Go.prototype.toString=function(){var d=[],_=this.j;_&&d.push(Dl(_,V_,!0),":");var T=this.g;return(T||_=="file")&&(d.push("//"),(_=this.o)&&d.push(Dl(_,V_,!0),"@"),d.push(encodeURIComponent(String(T)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),T=this.s,T!=null&&d.push(":",String(T))),(T=this.l)&&(this.g&&T.charAt(0)!="/"&&d.push("/"),d.push(Dl(T,T.charAt(0)=="/"?UO:$O,!0))),(T=this.i.toString())&&d.push("?",T),(T=this.m)&&d.push("#",Dl(T,WO)),d.join("")};function Zr(d){return new Go(d)}function Ku(d,_,T){d.j=T?Nl(_,!0):_,d.j&&(d.j=d.j.replace(/:$/,""))}function Qu(d,_){if(_){if(_=Number(_),isNaN(_)||0>_)throw Error("Bad port number "+_);d.s=_}else d.s=null}function L_(d,_,T){_ instanceof Ml?(d.i=_,zO(d.i,d.h)):(T||(_=Dl(_,BO)),d.i=new Ml(_,d.h))}function et(d,_,T){d.i.set(_,T)}function Xu(d){return et(d,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),d}function Nl(d,_){return d?_?decodeURI(d.replace(/%25/g,"%2525")):decodeURIComponent(d):""}function Dl(d,_,T){return typeof d=="string"?(d=encodeURI(d).replace(_,FO),T&&(d=d.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d):null}function FO(d){return d=d.charCodeAt(0),"%"+(d>>4&15).toString(16)+(d&15).toString(16)}var V_=/[#\/\?@]/g,$O=/[#\?:]/g,UO=/[#\?]/g,BO=/[#\?@]/g,WO=/#/g;function Ml(d,_){this.h=this.g=null,this.i=d||null,this.j=!!_}function Li(d){d.g||(d.g=new Map,d.h=0,d.i&&jO(d.i,function(_,T){d.add(decodeURIComponent(_.replace(/\+/g," ")),T)}))}t=Ml.prototype,t.add=function(d,_){Li(this),this.i=null,d=Us(this,d);var T=this.g.get(d);return T||this.g.set(d,T=[]),T.push(_),this.h+=1,this};function j_(d,_){Li(d),_=Us(d,_),d.g.has(_)&&(d.i=null,d.h-=d.g.get(_).length,d.g.delete(_))}function F_(d,_){return Li(d),_=Us(d,_),d.g.has(_)}t.forEach=function(d,_){Li(this),this.g.forEach(function(T,k){T.forEach(function(V){d.call(_,V,k,this)},this)},this)},t.na=function(){Li(this);const d=Array.from(this.g.values()),_=Array.from(this.g.keys()),T=[];for(let k=0;k<_.length;k++){const V=d[k];for(let U=0;U<V.length;U++)T.push(_[k])}return T},t.V=function(d){Li(this);let _=[];if(typeof d=="string")F_(this,d)&&(_=_.concat(this.g.get(Us(this,d))));else{d=Array.from(this.g.values());for(let T=0;T<d.length;T++)_=_.concat(d[T])}return _},t.set=function(d,_){return Li(this),this.i=null,d=Us(this,d),F_(this,d)&&(this.h-=this.g.get(d).length),this.g.set(d,[_]),this.h+=1,this},t.get=function(d,_){return d?(d=this.V(d),0<d.length?String(d[0]):_):_};function $_(d,_,T){j_(d,_),0<T.length&&(d.i=null,d.g.set(Us(d,_),v(T)),d.h+=T.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const d=[],_=Array.from(this.g.keys());for(var T=0;T<_.length;T++){var k=_[T];const U=encodeURIComponent(String(k)),Z=this.V(k);for(k=0;k<Z.length;k++){var V=U;Z[k]!==""&&(V+="="+encodeURIComponent(String(Z[k]))),d.push(V)}}return this.i=d.join("&")};function Us(d,_){return _=String(_),d.j&&(_=_.toLowerCase()),_}function zO(d,_){_&&!d.j&&(Li(d),d.i=null,d.g.forEach(function(T,k){var V=k.toLowerCase();k!=V&&(j_(this,k),$_(this,V,T))},d)),d.j=_}function HO(d,_){const T=new kl;if(a.Image){const k=new Image;k.onload=g(Vi,T,"TestLoadImage: loaded",!0,_,k),k.onerror=g(Vi,T,"TestLoadImage: error",!1,_,k),k.onabort=g(Vi,T,"TestLoadImage: abort",!1,_,k),k.ontimeout=g(Vi,T,"TestLoadImage: timeout",!1,_,k),a.setTimeout(function(){k.ontimeout&&k.ontimeout()},1e4),k.src=d}else _(!1)}function qO(d,_){const T=new kl,k=new AbortController,V=setTimeout(()=>{k.abort(),Vi(T,"TestPingServer: timeout",!1,_)},1e4);fetch(d,{signal:k.signal}).then(U=>{clearTimeout(V),U.ok?Vi(T,"TestPingServer: ok",!0,_):Vi(T,"TestPingServer: server error",!1,_)}).catch(()=>{clearTimeout(V),Vi(T,"TestPingServer: error",!1,_)})}function Vi(d,_,T,k,V){try{V&&(V.onload=null,V.onerror=null,V.onabort=null,V.ontimeout=null),k(T)}catch{}}function GO(){this.g=new AO}function YO(d,_,T){const k=T||"";try{M_(d,function(V,U){let Z=V;c(V)&&(Z=dm(V)),_.push(k+U+"="+encodeURIComponent(Z))})}catch(V){throw _.push(k+"type="+encodeURIComponent("_badmap")),V}}function Ju(d){this.l=d.Ub||null,this.j=d.eb||!1}w(Ju,fm),Ju.prototype.g=function(){return new Zu(this.l,this.j)},Ju.prototype.i=function(d){return function(){return d}}({});function Zu(d,_){Kt.call(this),this.D=d,this.o=_,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}w(Zu,Kt),t=Zu.prototype,t.open=function(d,_){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=d,this.A=_,this.readyState=1,Ll(this)},t.send=function(d){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const _={headers:this.u,method:this.B,credentials:this.m,cache:void 0};d&&(_.body=d),(this.D||a).fetch(new Request(this.A,_)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ol(this)),this.readyState=0},t.Sa=function(d){if(this.g&&(this.l=d,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=d.headers,this.readyState=2,Ll(this)),this.g&&(this.readyState=3,Ll(this),this.g)))if(this.responseType==="arraybuffer")d.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in d){if(this.j=d.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;U_(this)}else d.text().then(this.Ra.bind(this),this.ga.bind(this))};function U_(d){d.j.read().then(d.Pa.bind(d)).catch(d.ga.bind(d))}t.Pa=function(d){if(this.g){if(this.o&&d.value)this.response.push(d.value);else if(!this.o){var _=d.value?d.value:new Uint8Array(0);(_=this.v.decode(_,{stream:!d.done}))&&(this.response=this.responseText+=_)}d.done?Ol(this):Ll(this),this.readyState==3&&U_(this)}},t.Ra=function(d){this.g&&(this.response=this.responseText=d,Ol(this))},t.Qa=function(d){this.g&&(this.response=d,Ol(this))},t.ga=function(){this.g&&Ol(this)};function Ol(d){d.readyState=4,d.l=null,d.j=null,d.v=null,Ll(d)}t.setRequestHeader=function(d,_){this.u.append(d,_)},t.getResponseHeader=function(d){return this.h&&this.h.get(d.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const d=[],_=this.h.entries();for(var T=_.next();!T.done;)T=T.value,d.push(T[0]+": "+T[1]),T=_.next();return d.join(`\r
`)};function Ll(d){d.onreadystatechange&&d.onreadystatechange.call(d)}Object.defineProperty(Zu.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(d){this.m=d?"include":"same-origin"}});function B_(d){let _="";return M(d,function(T,k){_+=k,_+=":",_+=T,_+=`\r
`}),_}function Em(d,_,T){e:{for(k in T){var k=!1;break e}k=!0}k||(T=B_(T),typeof d=="string"?T!=null&&encodeURIComponent(String(T)):et(d,_,T))}function mt(d){Kt.call(this),this.headers=new Map,this.o=d||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}w(mt,Kt);var KO=/^https?$/i,QO=["POST","PUT"];t=mt.prototype,t.Ha=function(d){this.J=d},t.ea=function(d,_,T,k){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+d);_=_?_.toUpperCase():"GET",this.D=d,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():mm.g(),this.v=this.o?v_(this.o):v_(mm),this.g.onreadystatechange=h(this.Ea,this);try{this.B=!0,this.g.open(_,String(d),!0),this.B=!1}catch(U){W_(this,U);return}if(d=T||"",T=new Map(this.headers),k)if(Object.getPrototypeOf(k)===Object.prototype)for(var V in k)T.set(V,k[V]);else if(typeof k.keys=="function"&&typeof k.get=="function")for(const U of k.keys())T.set(U,k.get(U));else throw Error("Unknown input type for opt_headers: "+String(k));k=Array.from(T.keys()).find(U=>U.toLowerCase()=="content-type"),V=a.FormData&&d instanceof a.FormData,!(0<=Array.prototype.indexOf.call(QO,_,void 0))||k||V||T.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[U,Z]of T)this.g.setRequestHeader(U,Z);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{q_(this),this.u=!0,this.g.send(d),this.u=!1}catch(U){W_(this,U)}};function W_(d,_){d.h=!1,d.g&&(d.j=!0,d.g.abort(),d.j=!1),d.l=_,d.m=5,z_(d),ed(d)}function z_(d){d.A||(d.A=!0,un(d,"complete"),un(d,"error"))}t.abort=function(d){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=d||7,un(this,"complete"),un(this,"abort"),ed(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ed(this,!0)),mt.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?H_(this):this.bb())},t.bb=function(){H_(this)};function H_(d){if(d.h&&typeof s<"u"&&(!d.v[1]||ei(d)!=4||d.Z()!=2)){if(d.u&&ei(d)==4)h_(d.Ea,0,d);else if(un(d,"readystatechange"),ei(d)==4){d.h=!1;try{const Z=d.Z();e:switch(Z){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var _=!0;break e;default:_=!1}var T;if(!(T=_)){var k;if(k=Z===0){var V=String(d.D).match(O_)[1]||null;!V&&a.self&&a.self.location&&(V=a.self.location.protocol.slice(0,-1)),k=!KO.test(V?V.toLowerCase():"")}T=k}if(T)un(d,"complete"),un(d,"success");else{d.m=6;try{var U=2<ei(d)?d.g.statusText:""}catch{U=""}d.l=U+" ["+d.Z()+"]",z_(d)}}finally{ed(d)}}}}function ed(d,_){if(d.g){q_(d);const T=d.g,k=d.v[0]?()=>{}:null;d.g=null,d.v=null,_||un(d,"ready");try{T.onreadystatechange=k}catch{}}}function q_(d){d.I&&(a.clearTimeout(d.I),d.I=null)}t.isActive=function(){return!!this.g};function ei(d){return d.g?d.g.readyState:0}t.Z=function(){try{return 2<ei(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(d){if(this.g){var _=this.g.responseText;return d&&_.indexOf(d)==0&&(_=_.substring(d.length)),IO(_)}};function G_(d){try{if(!d.g)return null;if("response"in d.g)return d.g.response;switch(d.H){case"":case"text":return d.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in d.g)return d.g.mozResponseArrayBuffer}return null}catch{return null}}function XO(d){const _={};d=(d.g&&2<=ei(d)&&d.g.getAllResponseHeaders()||"").split(`\r
`);for(let k=0;k<d.length;k++){if(y(d[k]))continue;var T=D(d[k]);const V=T[0];if(T=T[1],typeof T!="string")continue;T=T.trim();const U=_[V]||[];_[V]=U,U.push(T)}S(_,function(k){return k.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Vl(d,_,T){return T&&T.internalChannelParams&&T.internalChannelParams[d]||_}function Y_(d){this.Aa=0,this.i=[],this.j=new kl,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Vl("failFast",!1,d),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Vl("baseRetryDelayMs",5e3,d),this.cb=Vl("retryDelaySeedMs",1e4,d),this.Wa=Vl("forwardChannelMaxRetries",2,d),this.wa=Vl("forwardChannelRequestTimeoutMs",2e4,d),this.pa=d&&d.xmlHttpFactory||void 0,this.Xa=d&&d.Tb||void 0,this.Ca=d&&d.useFetchStreams||!1,this.L=void 0,this.J=d&&d.supportsCrossDomainXhr||!1,this.K="",this.h=new A_(d&&d.concurrentRequestLimit),this.Da=new GO,this.P=d&&d.fastHandshake||!1,this.O=d&&d.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=d&&d.Rb||!1,d&&d.xa&&this.j.xa(),d&&d.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&d&&d.detectBufferingProxy||!1,this.ja=void 0,d&&d.longPollingTimeout&&0<d.longPollingTimeout&&(this.ja=d.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Y_.prototype,t.la=8,t.G=1,t.connect=function(d,_,T,k){dn(0),this.W=d,this.H=_||{},T&&k!==void 0&&(this.H.OSID=T,this.H.OAID=k),this.F=this.X,this.I=rx(this,null,this.W),nd(this)};function bm(d){if(K_(d),d.G==3){var _=d.U++,T=Zr(d.I);if(et(T,"SID",d.K),et(T,"RID",_),et(T,"TYPE","terminate"),jl(d,T),_=new Oi(d,d.j,_),_.L=2,_.v=Xu(Zr(T)),T=!1,a.navigator&&a.navigator.sendBeacon)try{T=a.navigator.sendBeacon(_.v.toString(),"")}catch{}!T&&a.Image&&(new Image().src=_.v,T=!0),T||(_.g=ix(_.j,null),_.g.ea(_.v)),_.F=Date.now(),Yu(_)}nx(d)}function td(d){d.g&&(Cm(d),d.g.cancel(),d.g=null)}function K_(d){td(d),d.u&&(a.clearTimeout(d.u),d.u=null),rd(d),d.h.cancel(),d.s&&(typeof d.s=="number"&&a.clearTimeout(d.s),d.s=null)}function nd(d){if(!k_(d.h)&&!d.s){d.s=!0;var _=d.Ga;z||B(),L||(z(),L=!0),j.add(_,d),d.B=0}}function JO(d,_){return R_(d.h)>=d.h.j-(d.s?1:0)?!1:d.s?(d.i=_.D.concat(d.i),!0):d.G==1||d.G==2||d.B>=(d.Va?0:d.Wa)?!1:(d.s=Al(h(d.Ga,d,_),tx(d,d.B)),d.B++,!0)}t.Ga=function(d){if(this.s)if(this.s=null,this.G==1){if(!d){this.U=Math.floor(1e5*Math.random()),d=this.U++;const V=new Oi(this,this.j,d);let U=this.o;if(this.S&&(U?(U=C(U),A(U,this.S)):U=this.S),this.m!==null||this.O||(V.H=U,U=null),this.P)e:{for(var _=0,T=0;T<this.i.length;T++){t:{var k=this.i[T];if("__data__"in k.map&&(k=k.map.__data__,typeof k=="string")){k=k.length;break t}k=void 0}if(k===void 0)break;if(_+=k,4096<_){_=T;break e}if(_===4096||T===this.i.length-1){_=T+1;break e}}_=1e3}else _=1e3;_=X_(this,V,_),T=Zr(this.I),et(T,"RID",d),et(T,"CVER",22),this.D&&et(T,"X-HTTP-Session-Id",this.D),jl(this,T),U&&(this.O?_="headers="+encodeURIComponent(String(B_(U)))+"&"+_:this.m&&Em(T,this.m,U)),xm(this.h,V),this.Ua&&et(T,"TYPE","init"),this.P?(et(T,"$req",_),et(T,"SID","null"),V.T=!0,vm(V,T,null)):vm(V,T,_),this.G=2}}else this.G==3&&(d?Q_(this,d):this.i.length==0||k_(this.h)||Q_(this))};function Q_(d,_){var T;_?T=_.l:T=d.U++;const k=Zr(d.I);et(k,"SID",d.K),et(k,"RID",T),et(k,"AID",d.T),jl(d,k),d.m&&d.o&&Em(k,d.m,d.o),T=new Oi(d,d.j,T,d.B+1),d.m===null&&(T.H=d.o),_&&(d.i=_.D.concat(d.i)),_=X_(d,T,1e3),T.I=Math.round(.5*d.wa)+Math.round(.5*d.wa*Math.random()),xm(d.h,T),vm(T,k,_)}function jl(d,_){d.H&&M(d.H,function(T,k){et(_,k,T)}),d.l&&M_({},function(T,k){et(_,k,T)})}function X_(d,_,T){T=Math.min(d.i.length,T);var k=d.l?h(d.l.Na,d.l,d):null;e:{var V=d.i;let U=-1;for(;;){const Z=["count="+T];U==-1?0<T?(U=V[0].g,Z.push("ofs="+U)):U=0:Z.push("ofs="+U);let Ge=!0;for(let $t=0;$t<T;$t++){let $e=V[$t].g;const Qt=V[$t].map;if($e-=U,0>$e)U=Math.max(0,V[$t].g-100),Ge=!1;else try{YO(Qt,Z,"req"+$e+"_")}catch{k&&k(Qt)}}if(Ge){k=Z.join("&");break e}}}return d=d.i.splice(0,T),_.D=d,k}function J_(d){if(!d.g&&!d.u){d.Y=1;var _=d.Fa;z||B(),L||(z(),L=!0),j.add(_,d),d.v=0}}function Tm(d){return d.g||d.u||3<=d.v?!1:(d.Y++,d.u=Al(h(d.Fa,d),tx(d,d.v)),d.v++,!0)}t.Fa=function(){if(this.u=null,Z_(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var d=2*this.R;this.j.info("BP detection timer enabled: "+d),this.A=Al(h(this.ab,this),d)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,dn(10),td(this),Z_(this))};function Cm(d){d.A!=null&&(a.clearTimeout(d.A),d.A=null)}function Z_(d){d.g=new Oi(d,d.j,"rpc",d.Y),d.m===null&&(d.g.H=d.o),d.g.O=0;var _=Zr(d.qa);et(_,"RID","rpc"),et(_,"SID",d.K),et(_,"AID",d.T),et(_,"CI",d.F?"0":"1"),!d.F&&d.ja&&et(_,"TO",d.ja),et(_,"TYPE","xmlhttp"),jl(d,_),d.m&&d.o&&Em(_,d.m,d.o),d.L&&(d.g.I=d.L);var T=d.g;d=d.ia,T.L=1,T.v=Xu(Zr(_)),T.m=null,T.P=!0,S_(T,d)}t.Za=function(){this.C!=null&&(this.C=null,td(this),Tm(this),dn(19))};function rd(d){d.C!=null&&(a.clearTimeout(d.C),d.C=null)}function ex(d,_){var T=null;if(d.g==_){rd(d),Cm(d),d.g=null;var k=2}else if(_m(d.h,_))T=_.D,N_(d.h,_),k=1;else return;if(d.G!=0){if(_.o)if(k==1){T=_.m?_.m.length:0,_=Date.now()-_.F;var V=d.B;k=Hu(),un(k,new E_(k,T)),nd(d)}else J_(d);else if(V=_.s,V==3||V==0&&0<_.X||!(k==1&&JO(d,_)||k==2&&Tm(d)))switch(T&&0<T.length&&(_=d.h,_.i=_.i.concat(T)),V){case 1:Yo(d,5);break;case 4:Yo(d,10);break;case 3:Yo(d,6);break;default:Yo(d,2)}}}function tx(d,_){let T=d.Ta+Math.floor(Math.random()*d.cb);return d.isActive()||(T*=2),T*_}function Yo(d,_){if(d.j.info("Error code "+_),_==2){var T=h(d.fb,d),k=d.Xa;const V=!k;k=new Go(k||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Ku(k,"https"),Xu(k),V?HO(k.toString(),T):qO(k.toString(),T)}else dn(2);d.G=0,d.l&&d.l.sa(_),nx(d),K_(d)}t.fb=function(d){d?(this.j.info("Successfully pinged google.com"),dn(2)):(this.j.info("Failed to ping google.com"),dn(1))};function nx(d){if(d.G=0,d.ka=[],d.l){const _=D_(d.h);(_.length!=0||d.i.length!=0)&&(E(d.ka,_),E(d.ka,d.i),d.h.i.length=0,v(d.i),d.i.length=0),d.l.ra()}}function rx(d,_,T){var k=T instanceof Go?Zr(T):new Go(T);if(k.g!="")_&&(k.g=_+"."+k.g),Qu(k,k.s);else{var V=a.location;k=V.protocol,_=_?_+"."+V.hostname:V.hostname,V=+V.port;var U=new Go(null);k&&Ku(U,k),_&&(U.g=_),V&&Qu(U,V),T&&(U.l=T),k=U}return T=d.D,_=d.ya,T&&_&&et(k,T,_),et(k,"VER",d.la),jl(d,k),k}function ix(d,_,T){if(_&&!d.J)throw Error("Can't create secondary domain capable XhrIo object.");return _=d.Ca&&!d.pa?new mt(new Ju({eb:T})):new mt(d.pa),_.Ha(d.J),_}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function ox(){}t=ox.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function id(){}id.prototype.g=function(d,_){return new kn(d,_)};function kn(d,_){Kt.call(this),this.g=new Y_(_),this.l=d,this.h=_&&_.messageUrlParams||null,d=_&&_.messageHeaders||null,_&&_.clientProtocolHeaderRequired&&(d?d["X-Client-Protocol"]="webchannel":d={"X-Client-Protocol":"webchannel"}),this.g.o=d,d=_&&_.initMessageHeaders||null,_&&_.messageContentType&&(d?d["X-WebChannel-Content-Type"]=_.messageContentType:d={"X-WebChannel-Content-Type":_.messageContentType}),_&&_.va&&(d?d["X-WebChannel-Client-Profile"]=_.va:d={"X-WebChannel-Client-Profile":_.va}),this.g.S=d,(d=_&&_.Sb)&&!y(d)&&(this.g.m=d),this.v=_&&_.supportsCrossDomainXhr||!1,this.u=_&&_.sendRawJson||!1,(_=_&&_.httpSessionIdParam)&&!y(_)&&(this.g.D=_,d=this.h,d!==null&&_ in d&&(d=this.h,_ in d&&delete d[_])),this.j=new Bs(this)}w(kn,Kt),kn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},kn.prototype.close=function(){bm(this.g)},kn.prototype.o=function(d){var _=this.g;if(typeof d=="string"){var T={};T.__data__=d,d=T}else this.u&&(T={},T.__data__=dm(d),d=T);_.i.push(new OO(_.Ya++,d)),_.G==3&&nd(_)},kn.prototype.N=function(){this.g.l=null,delete this.j,bm(this.g),delete this.g,kn.aa.N.call(this)};function sx(d){hm.call(this),d.__headers__&&(this.headers=d.__headers__,this.statusCode=d.__status__,delete d.__headers__,delete d.__status__);var _=d.__sm__;if(_){e:{for(const T in _){d=T;break e}d=void 0}(this.i=d)&&(d=this.i,_=_!==null&&d in _?_[d]:void 0),this.data=_}else this.data=d}w(sx,hm);function ax(){pm.call(this),this.status=1}w(ax,pm);function Bs(d){this.g=d}w(Bs,ox),Bs.prototype.ua=function(){un(this.g,"a")},Bs.prototype.ta=function(d){un(this.g,new sx(d))},Bs.prototype.sa=function(d){un(this.g,new ax)},Bs.prototype.ra=function(){un(this.g,"b")},id.prototype.createWebChannel=id.prototype.g,kn.prototype.send=kn.prototype.o,kn.prototype.open=kn.prototype.m,kn.prototype.close=kn.prototype.close,tA=function(){return new id},eA=function(){return Hu()},ZI=Ho,Zv={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},qu.NO_ERROR=0,qu.TIMEOUT=8,qu.HTTP_ERROR=6,sf=qu,b_.COMPLETE="complete",JI=b_,y_.EventType=Pl,Pl.OPEN="a",Pl.CLOSE="b",Pl.ERROR="c",Pl.MESSAGE="d",Kt.prototype.listen=Kt.prototype.K,oc=y_,mt.prototype.listenOnce=mt.prototype.L,mt.prototype.getLastError=mt.prototype.Ka,mt.prototype.getLastErrorCode=mt.prototype.Ba,mt.prototype.getStatus=mt.prototype.Z,mt.prototype.getResponseJson=mt.prototype.Oa,mt.prototype.getResponseText=mt.prototype.oa,mt.prototype.send=mt.prototype.ea,mt.prototype.setWithCredentials=mt.prototype.Ha,XI=mt}).apply(typeof bd<"u"?bd:typeof self<"u"?self:typeof window<"u"?window:{});const VE="@firebase/firestore",jE="4.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}nn.UNAUTHENTICATED=new nn(null),nn.GOOGLE_CREDENTIALS=new nn("google-credentials-uid"),nn.FIRST_PARTY=new nn("first-party-uid"),nn.MOCK_USER=new nn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let gl="12.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _s=new tw("@firebase/firestore");function Js(){return _s.logLevel}function re(t,...e){if(_s.logLevel<=Ae.DEBUG){const n=e.map(iw);_s.debug(`Firestore (${gl}): ${t}`,...n)}}function _i(t,...e){if(_s.logLevel<=Ae.ERROR){const n=e.map(iw);_s.error(`Firestore (${gl}): ${t}`,...n)}}function za(t,...e){if(_s.logLevel<=Ae.WARN){const n=e.map(iw);_s.warn(`Firestore (${gl}): ${t}`,...n)}}function iw(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ge(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,nA(t,r,n)}function nA(t,e,n){let r=`FIRESTORE (${gl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw _i(r),new Error(r)}function We(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||nA(e,i,r)}function be(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class le extends Ni{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class di{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rA{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class d3{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(nn.UNAUTHENTICATED))}shutdown(){}}class f3{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class h3{constructor(e){this.t=e,this.currentUser=nn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){We(this.o===void 0,42304);let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let o=new di;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new di,e.enqueueRetryable(()=>i(this.currentUser))};const s=()=>{const l=o;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{re("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(re("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new di)}},0),s()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(re("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(We(typeof r.accessToken=="string",31837,{l:r}),new rA(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return We(e===null||typeof e=="string",2055,{h:e}),new nn(e)}}class p3{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=nn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class m3{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new p3(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(nn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class FE{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class g3{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Dn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){We(this.o===void 0,3512);const r=o=>{o.error!=null&&re("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const s=o.token!==this.m;return this.m=o.token,re("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const i=o=>{re("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){const o=this.V.getImmediate({optional:!0});o?i(o):re("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new FE(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(We(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new FE(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v3(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ow{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=v3(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%62))}return r}}function ke(t,e){return t<e?-1:t>e?1:0}function ey(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const i=t.charAt(r),o=e.charAt(r);if(i!==o)return og(i)===og(o)?ke(i,o):og(i)?1:-1}return ke(t.length,e.length)}const y3=55296,w3=57343;function og(t){const e=t.charCodeAt(0);return e>=y3&&e<=w3}function Ha(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $E="__name__";class Cr{constructor(e,n,r){n===void 0?n=0:n>e.length&&ge(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&ge(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Cr.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Cr?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const o=Cr.compareSegments(e.get(i),n.get(i));if(o!==0)return o}return ke(e.length,n.length)}static compareSegments(e,n){const r=Cr.isNumericId(e),i=Cr.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?Cr.extractNumericId(e).compare(Cr.extractNumericId(n)):ey(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return vo.fromString(e.substring(4,e.length-2))}}class rt extends Cr{construct(e,n,r){return new rt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new le(Y.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new rt(n)}static emptyPath(){return new rt([])}}const _3=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class zt extends Cr{construct(e,n,r){return new zt(e,n,r)}static isValidIdentifier(e){return _3.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),zt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===$E}static keyField(){return new zt([$E])}static fromServerFormat(e){const n=[];let r="",i=0;const o=()=>{if(r.length===0)throw new le(Y.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let s=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new le(Y.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new le(Y.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(s=!s,i++):a!=="."||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new le(Y.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new zt(n)}static emptyPath(){return new zt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class de{constructor(e){this.path=e}static fromPath(e){return new de(rt.fromString(e))}static fromName(e){return new de(rt.fromString(e).popFirst(5))}static empty(){return new de(rt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&rt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return rt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new de(new rt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iA(t,e,n){if(!n)throw new le(Y.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function x3(t,e,n,r){if(e===!0&&r===!0)throw new le(Y.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function UE(t){if(!de.isDocumentKey(t))throw new le(Y.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function BE(t){if(de.isDocumentKey(t))throw new le(Y.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function oA(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function sw(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ge(12329,{type:typeof t})}function pr(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new le(Y.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=sw(t);throw new le(Y.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pt(t,e){const n={typeString:t};return e&&(n.value=e),n}function Eu(t,e){if(!oA(t))throw new le(Y.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const i=e[r].typeString,o="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const s=t[r];if(i&&typeof s!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(o!==void 0&&s!==o.value){n=`Expected '${r}' field to equal '${o.value}'`;break}}if(n)throw new le(Y.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WE=-62135596800,zE=1e6;class it{static now(){return it.fromMillis(Date.now())}static fromDate(e){return it.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*zE);return new it(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new le(Y.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new le(Y.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<WE)throw new le(Y.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new le(Y.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/zE}_compareTo(e){return this.seconds===e.seconds?ke(this.nanoseconds,e.nanoseconds):ke(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:it._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Eu(e,it._jsonSchema))return new it(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-WE;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}it._jsonSchemaVersion="firestore/timestamp/1.0",it._jsonSchema={type:Pt("string",it._jsonSchemaVersion),seconds:Pt("number"),nanoseconds:Pt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xe{static fromTimestamp(e){return new xe(e)}static min(){return new xe(new it(0,0))}static max(){return new xe(new it(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zc=-1;function E3(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=xe.fromTimestamp(r===1e9?new it(n+1,0):new it(n,r));return new Co(i,de.empty(),e)}function b3(t){return new Co(t.readTime,t.key,Zc)}class Co{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Co(xe.min(),de.empty(),Zc)}static max(){return new Co(xe.max(),de.empty(),Zc)}}function T3(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=de.comparator(t.documentKey,e.documentKey),n!==0?n:ke(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C3="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class S3{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vl(t){if(t.code!==Y.FAILED_PRECONDITION||t.message!==C3)throw t;re("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ge(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new G((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof G?n:G.resolve(n)}catch(n){return G.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):G.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):G.reject(n)}static resolve(e){return new G((n,r)=>{n(e)})}static reject(e){return new G((n,r)=>{r(e)})}static waitFor(e){return new G((n,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&n()},l=>r(l))}),s=!0,o===i&&n()})}static or(e){let n=G.resolve(!1);for(const r of e)n=n.next(i=>i?G.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(e,n){return new G((r,i)=>{const o=e.length,s=new Array(o);let a=0;for(let l=0;l<o;l++){const c=l;n(e[c]).next(u=>{s[c]=u,++a,a===o&&r(s)},u=>i(u))}})}static doWhile(e,n){return new G((r,i)=>{const o=()=>{e()===!0?n().next(()=>{o()},i):r()};o()})}}function P3(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function yl(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ip{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}ip.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aw=-1;function op(t){return t==null}function Qf(t){return t===0&&1/t==-1/0}function I3(t){return typeof t=="number"&&Number.isInteger(t)&&!Qf(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sA="";function A3(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=HE(e)),e=k3(t.get(n),e);return HE(e)}function k3(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const o=t.charAt(i);switch(o){case"\0":n+="";break;case sA:n+="";break;default:n+=o}}return n}function HE(t){return t+sA+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qE(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function $o(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function aA(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pt{constructor(e,n){this.comparator=e,this.root=n||Wt.EMPTY}insert(e,n){return new pt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Wt.BLACK,null,null))}remove(e){return new pt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Wt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Td(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Td(this.root,e,this.comparator,!1)}getReverseIterator(){return new Td(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Td(this.root,e,this.comparator,!0)}}class Td{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Wt{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??Wt.RED,this.left=i??Wt.EMPTY,this.right=o??Wt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new Wt(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Wt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Wt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Wt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Wt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ge(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ge(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw ge(27949);return e+(this.isRed()?0:1)}}Wt.EMPTY=null,Wt.RED=!0,Wt.BLACK=!1;Wt.EMPTY=new class{constructor(){this.size=0}get key(){throw ge(57766)}get value(){throw ge(16141)}get color(){throw ge(16727)}get left(){throw ge(29726)}get right(){throw ge(36894)}copy(e,n,r,i,o){return this}insert(e,n,r){return new Wt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mt{constructor(e){this.comparator=e,this.data=new pt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new GE(this.data.getIterator())}getIteratorFrom(e){return new GE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Mt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Mt(this.comparator);return n.data=e,n}}class GE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class On{constructor(e){this.fields=e,e.sort(zt.comparator)}static empty(){return new On([])}unionWith(e){let n=new Mt(zt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new On(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Ha(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lA extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new lA("Invalid base64 string: "+o):o}}(e);return new Yt(n)}static fromUint8Array(e){const n=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new Yt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ke(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Yt.EMPTY_BYTE_STRING=new Yt("");const R3=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function So(t){if(We(!!t,39018),typeof t=="string"){let e=0;const n=R3.exec(t);if(We(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:wt(t.seconds),nanos:wt(t.nanos)}}function wt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Po(t){return typeof t=="string"?Yt.fromBase64String(t):Yt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cA="server_timestamp",uA="__type__",dA="__previous_value__",fA="__local_write_time__";function lw(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[uA])==null?void 0:r.stringValue)===cA}function sp(t){const e=t.mapValue.fields[dA];return lw(e)?sp(e):e}function eu(t){const e=So(t.mapValue.fields[fA].timestampValue);return new it(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N3{constructor(e,n,r,i,o,s,a,l,c,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=c,this.isUsingEmulator=u}}const Xf="(default)";class tu{constructor(e,n){this.projectId=e,this.database=n||Xf}static empty(){return new tu("","")}get isDefaultDatabase(){return this.database===Xf}isEqual(e){return e instanceof tu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hA="__type__",pA="__max__",Cd={mapValue:{fields:{__type__:{stringValue:pA}}}},mA="__vector__",Jf="value";function Io(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?lw(t)?4:M3(t)?9007199254740991:D3(t)?10:11:ge(28295,{value:t})}function Wr(t,e){if(t===e)return!0;const n=Io(t);if(n!==Io(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return eu(t).isEqual(eu(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;const s=So(i.timestampValue),a=So(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,o){return Po(i.bytesValue).isEqual(Po(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,o){return wt(i.geoPointValue.latitude)===wt(o.geoPointValue.latitude)&&wt(i.geoPointValue.longitude)===wt(o.geoPointValue.longitude)}(t,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return wt(i.integerValue)===wt(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){const s=wt(i.doubleValue),a=wt(o.doubleValue);return s===a?Qf(s)===Qf(a):isNaN(s)&&isNaN(a)}return!1}(t,e);case 9:return Ha(t.arrayValue.values||[],e.arrayValue.values||[],Wr);case 10:case 11:return function(i,o){const s=i.mapValue.fields||{},a=o.mapValue.fields||{};if(qE(s)!==qE(a))return!1;for(const l in s)if(s.hasOwnProperty(l)&&(a[l]===void 0||!Wr(s[l],a[l])))return!1;return!0}(t,e);default:return ge(52216,{left:t})}}function nu(t,e){return(t.values||[]).find(n=>Wr(n,e))!==void 0}function qa(t,e){if(t===e)return 0;const n=Io(t),r=Io(e);if(n!==r)return ke(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ke(t.booleanValue,e.booleanValue);case 2:return function(o,s){const a=wt(o.integerValue||o.doubleValue),l=wt(s.integerValue||s.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return YE(t.timestampValue,e.timestampValue);case 4:return YE(eu(t),eu(e));case 5:return ey(t.stringValue,e.stringValue);case 6:return function(o,s){const a=Po(o),l=Po(s);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(o,s){const a=o.split("/"),l=s.split("/");for(let c=0;c<a.length&&c<l.length;c++){const u=ke(a[c],l[c]);if(u!==0)return u}return ke(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,s){const a=ke(wt(o.latitude),wt(s.latitude));return a!==0?a:ke(wt(o.longitude),wt(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return KE(t.arrayValue,e.arrayValue);case 10:return function(o,s){var h,g,w,v;const a=o.fields||{},l=s.fields||{},c=(h=a[Jf])==null?void 0:h.arrayValue,u=(g=l[Jf])==null?void 0:g.arrayValue,f=ke(((w=c==null?void 0:c.values)==null?void 0:w.length)||0,((v=u==null?void 0:u.values)==null?void 0:v.length)||0);return f!==0?f:KE(c,u)}(t.mapValue,e.mapValue);case 11:return function(o,s){if(o===Cd.mapValue&&s===Cd.mapValue)return 0;if(o===Cd.mapValue)return 1;if(s===Cd.mapValue)return-1;const a=o.fields||{},l=Object.keys(a),c=s.fields||{},u=Object.keys(c);l.sort(),u.sort();for(let f=0;f<l.length&&f<u.length;++f){const h=ey(l[f],u[f]);if(h!==0)return h;const g=qa(a[l[f]],c[u[f]]);if(g!==0)return g}return ke(l.length,u.length)}(t.mapValue,e.mapValue);default:throw ge(23264,{he:n})}}function YE(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ke(t,e);const n=So(t),r=So(e),i=ke(n.seconds,r.seconds);return i!==0?i:ke(n.nanos,r.nanos)}function KE(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const o=qa(n[i],r[i]);if(o)return o}return ke(n.length,r.length)}function Ga(t){return ty(t)}function ty(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=So(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Po(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return de.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const o of n.values||[])i?i=!1:r+=",",r+=ty(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",o=!0;for(const s of r)o?o=!1:i+=",",i+=`${s}:${ty(n.fields[s])}`;return i+"}"}(t.mapValue):ge(61005,{value:t})}function af(t){switch(Io(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=sp(t);return e?16+af(e):16;case 5:return 2*t.stringValue.length;case 6:return Po(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,o)=>i+af(o),0)}(t.arrayValue);case 10:case 11:return function(r){let i=0;return $o(r.fields,(o,s)=>{i+=o.length+af(s)}),i}(t.mapValue);default:throw ge(13486,{value:t})}}function ny(t){return!!t&&"integerValue"in t}function cw(t){return!!t&&"arrayValue"in t}function QE(t){return!!t&&"nullValue"in t}function XE(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function lf(t){return!!t&&"mapValue"in t}function D3(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[hA])==null?void 0:r.stringValue)===mA}function _c(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return $o(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=_c(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=_c(t.arrayValue.values[n]);return e}return{...t}}function M3(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===pA}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xn{constructor(e){this.value=e}static empty(){return new xn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!lf(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=_c(n)}setAll(e){let n=zt.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}s?r[a.lastSegment()]=_c(s):i.push(a.lastSegment())});const o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){const n=this.field(e.popLast());lf(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Wr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];lf(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){$o(n,(i,o)=>e[i]=o);for(const i of r)delete e[i]}clone(){return new xn(_c(this.value))}}function gA(t){const e=[];return $o(t.fields,(n,r)=>{const i=new zt([n]);if(lf(r)){const o=gA(r.mapValue).fields;if(o.length===0)e.push(i);else for(const s of o)e.push(i.child(s))}else e.push(i)}),new On(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class on{constructor(e,n,r,i,o,s,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new on(e,0,xe.min(),xe.min(),xe.min(),xn.empty(),0)}static newFoundDocument(e,n,r,i){return new on(e,1,n,xe.min(),r,i,0)}static newNoDocument(e,n){return new on(e,2,n,xe.min(),xe.min(),xn.empty(),0)}static newUnknownDocument(e,n){return new on(e,3,n,xe.min(),xe.min(),xn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(xe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=xn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=xn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=xe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof on&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new on(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zf{constructor(e,n){this.position=e,this.inclusive=n}}function JE(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const o=e[i],s=t.position[i];if(o.field.isKeyField()?r=de.comparator(de.fromName(s.referenceValue),n.key):r=qa(s,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function ZE(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Wr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eh{constructor(e,n="asc"){this.field=e,this.dir=n}}function O3(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vA{}class Nt extends vA{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new V3(e,n,r):n==="array-contains"?new $3(e,r):n==="in"?new U3(e,r):n==="not-in"?new B3(e,r):n==="array-contains-any"?new W3(e,r):new Nt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new j3(e,r):new F3(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(qa(n,this.value)):n!==null&&Io(this.value)===Io(n)&&this.matchesComparison(qa(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ge(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class zr extends vA{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new zr(e,n)}matches(e){return yA(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function yA(t){return t.op==="and"}function wA(t){return L3(t)&&yA(t)}function L3(t){for(const e of t.filters)if(e instanceof zr)return!1;return!0}function ry(t){if(t instanceof Nt)return t.field.canonicalString()+t.op.toString()+Ga(t.value);if(wA(t))return t.filters.map(e=>ry(e)).join(",");{const e=t.filters.map(n=>ry(n)).join(",");return`${t.op}(${e})`}}function _A(t,e){return t instanceof Nt?function(r,i){return i instanceof Nt&&r.op===i.op&&r.field.isEqual(i.field)&&Wr(r.value,i.value)}(t,e):t instanceof zr?function(r,i){return i instanceof zr&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,a)=>o&&_A(s,i.filters[a]),!0):!1}(t,e):void ge(19439)}function xA(t){return t instanceof Nt?function(n){return`${n.field.canonicalString()} ${n.op} ${Ga(n.value)}`}(t):t instanceof zr?function(n){return n.op.toString()+" {"+n.getFilters().map(xA).join(" ,")+"}"}(t):"Filter"}class V3 extends Nt{constructor(e,n,r){super(e,n,r),this.key=de.fromName(r.referenceValue)}matches(e){const n=de.comparator(e.key,this.key);return this.matchesComparison(n)}}class j3 extends Nt{constructor(e,n){super(e,"in",n),this.keys=EA("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class F3 extends Nt{constructor(e,n){super(e,"not-in",n),this.keys=EA("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function EA(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map(r=>de.fromName(r.referenceValue))}class $3 extends Nt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return cw(n)&&nu(n.arrayValue,this.value)}}class U3 extends Nt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&nu(this.value.arrayValue,n)}}class B3 extends Nt{constructor(e,n){super(e,"not-in",n)}matches(e){if(nu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!nu(this.value.arrayValue,n)}}class W3 extends Nt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!cw(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>nu(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z3{constructor(e,n=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.Te=null}}function eb(t,e=null,n=[],r=[],i=null,o=null,s=null){return new z3(t,e,n,r,i,o,s)}function uw(t){const e=be(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>ry(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),op(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Ga(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Ga(r)).join(",")),e.Te=n}return e.Te}function dw(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!O3(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!_A(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!ZE(t.startAt,e.startAt)&&ZE(t.endAt,e.endAt)}function iy(t){return de.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ap{constructor(e,n=null,r=[],i=[],o=null,s="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=l,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function H3(t,e,n,r,i,o,s,a){return new ap(t,e,n,r,i,o,s,a)}function fw(t){return new ap(t)}function tb(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function q3(t){return t.collectionGroup!==null}function xc(t){const e=be(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const o of e.explicitOrderBy)e.Ie.push(o),n.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new Mt(zt.comparator);return s.filters.forEach(l=>{l.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.Ie.push(new eh(o,r))}),n.has(zt.keyField().canonicalString())||e.Ie.push(new eh(zt.keyField(),r))}return e.Ie}function Mr(t){const e=be(t);return e.Ee||(e.Ee=G3(e,xc(t))),e.Ee}function G3(t,e){if(t.limitType==="F")return eb(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const o=i.dir==="desc"?"asc":"desc";return new eh(i.field,o)});const n=t.endAt?new Zf(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Zf(t.startAt.position,t.startAt.inclusive):null;return eb(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function oy(t,e,n){return new ap(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function lp(t,e){return dw(Mr(t),Mr(e))&&t.limitType===e.limitType}function bA(t){return`${uw(Mr(t))}|lt:${t.limitType}`}function Zs(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>xA(i)).join(", ")}]`),op(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Ga(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Ga(i)).join(",")),`Target(${r})`}(Mr(t))}; limitType=${t.limitType})`}function cp(t,e){return e.isFoundDocument()&&function(r,i){const o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):de.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(t,e)&&function(r,i){for(const o of xc(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const o of r.filters)if(!o.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(s,a,l){const c=JE(s,a,l);return s.inclusive?c<=0:c<0}(r.startAt,xc(r),i)||r.endAt&&!function(s,a,l){const c=JE(s,a,l);return s.inclusive?c>=0:c>0}(r.endAt,xc(r),i))}(t,e)}function Y3(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function TA(t){return(e,n)=>{let r=!1;for(const i of xc(t)){const o=K3(i,e,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function K3(t,e,n){const r=t.field.isKeyField()?de.comparator(e.key,n.key):function(o,s,a){const l=s.data.field(o),c=a.data.field(o);return l!==null&&c!==null?qa(l,c):ge(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return ge(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rs{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){$o(this.inner,(n,r)=>{for(const[i,o]of r)e(i,o)})}isEmpty(){return aA(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q3=new pt(de.comparator);function xi(){return Q3}const CA=new pt(de.comparator);function sc(...t){let e=CA;for(const n of t)e=e.insert(n.key,n);return e}function SA(t){let e=CA;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function as(){return Ec()}function PA(){return Ec()}function Ec(){return new Rs(t=>t.toString(),(t,e)=>t.isEqual(e))}const X3=new pt(de.comparator),J3=new Mt(de.comparator);function Re(...t){let e=J3;for(const n of t)e=e.add(n);return e}const Z3=new Mt(ke);function eF(){return Z3}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hw(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Qf(e)?"-0":e}}function IA(t){return{integerValue:""+t}}function tF(t,e){return I3(e)?IA(e):hw(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class up{constructor(){this._=void 0}}function nF(t,e,n){return t instanceof th?function(i,o){const s={fields:{[uA]:{stringValue:cA},[fA]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&lw(o)&&(o=sp(o)),o&&(s.fields[dA]=o),{mapValue:s}}(n,e):t instanceof ru?kA(t,e):t instanceof iu?RA(t,e):function(i,o){const s=AA(i,o),a=nb(s)+nb(i.Ae);return ny(s)&&ny(i.Ae)?IA(a):hw(i.serializer,a)}(t,e)}function rF(t,e,n){return t instanceof ru?kA(t,e):t instanceof iu?RA(t,e):n}function AA(t,e){return t instanceof nh?function(r){return ny(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}class th extends up{}class ru extends up{constructor(e){super(),this.elements=e}}function kA(t,e){const n=NA(e);for(const r of t.elements)n.some(i=>Wr(i,r))||n.push(r);return{arrayValue:{values:n}}}class iu extends up{constructor(e){super(),this.elements=e}}function RA(t,e){let n=NA(e);for(const r of t.elements)n=n.filter(i=>!Wr(i,r));return{arrayValue:{values:n}}}class nh extends up{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function nb(t){return wt(t.integerValue||t.doubleValue)}function NA(t){return cw(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function iF(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof ru&&i instanceof ru||r instanceof iu&&i instanceof iu?Ha(r.elements,i.elements,Wr):r instanceof nh&&i instanceof nh?Wr(r.Ae,i.Ae):r instanceof th&&i instanceof th}(t.transform,e.transform)}class oF{constructor(e,n){this.version=e,this.transformResults=n}}class Kn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Kn}static exists(e){return new Kn(void 0,e)}static updateTime(e){return new Kn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function cf(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class dp{}function DA(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new pw(t.key,Kn.none()):new bu(t.key,t.data,Kn.none());{const n=t.data,r=xn.empty();let i=new Mt(zt.comparator);for(let o of e.fields)if(!i.has(o)){let s=n.field(o);s===null&&o.length>1&&(o=o.popLast(),s=n.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new Uo(t.key,r,new On(i.toArray()),Kn.none())}}function sF(t,e,n){t instanceof bu?function(i,o,s){const a=i.value.clone(),l=ib(i.fieldTransforms,o,s.transformResults);a.setAll(l),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Uo?function(i,o,s){if(!cf(i.precondition,o))return void o.convertToUnknownDocument(s.version);const a=ib(i.fieldTransforms,o,s.transformResults),l=o.data;l.setAll(MA(i)),l.setAll(a),o.convertToFoundDocument(s.version,l).setHasCommittedMutations()}(t,e,n):function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function bc(t,e,n,r){return t instanceof bu?function(o,s,a,l){if(!cf(o.precondition,s))return a;const c=o.value.clone(),u=ob(o.fieldTransforms,l,s);return c.setAll(u),s.convertToFoundDocument(s.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof Uo?function(o,s,a,l){if(!cf(o.precondition,s))return a;const c=ob(o.fieldTransforms,l,s),u=s.data;return u.setAll(MA(o)),u.setAll(c),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),a===null?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(f=>f.field))}(t,e,n,r):function(o,s,a){return cf(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a}(t,e,n)}function aF(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),o=AA(r.transform,i||null);o!=null&&(n===null&&(n=xn.empty()),n.set(r.field,o))}return n||null}function rb(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Ha(r,i,(o,s)=>iF(o,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class bu extends dp{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Uo extends dp{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function MA(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function ib(t,e,n){const r=new Map;We(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let i=0;i<n.length;i++){const o=t[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,rF(s,a,n[i]))}return r}function ob(t,e,n){const r=new Map;for(const i of t){const o=i.transform,s=n.data.field(i.field);r.set(i.field,nF(o,s,e))}return r}class pw extends dp{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class lF extends dp{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cF{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&sF(o,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=bc(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=bc(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=PA();return this.mutations.forEach(i=>{const o=e.get(i.key),s=o.overlayedDocument;let a=this.applyToLocalView(s,o.mutatedFields);a=n.has(i.key)?null:a;const l=DA(s,a);l!==null&&r.set(i.key,l),s.isValidDocument()||s.convertToNoDocument(xe.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Re())}isEqual(e){return this.batchId===e.batchId&&Ha(this.mutations,e.mutations,(n,r)=>rb(n,r))&&Ha(this.baseMutations,e.baseMutations,(n,r)=>rb(n,r))}}class mw{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){We(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let i=function(){return X3}();const o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new mw(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let uF=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dF{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Tt,Le;function fF(t){switch(t){case Y.OK:return ge(64938);case Y.CANCELLED:case Y.UNKNOWN:case Y.DEADLINE_EXCEEDED:case Y.RESOURCE_EXHAUSTED:case Y.INTERNAL:case Y.UNAVAILABLE:case Y.UNAUTHENTICATED:return!1;case Y.INVALID_ARGUMENT:case Y.NOT_FOUND:case Y.ALREADY_EXISTS:case Y.PERMISSION_DENIED:case Y.FAILED_PRECONDITION:case Y.ABORTED:case Y.OUT_OF_RANGE:case Y.UNIMPLEMENTED:case Y.DATA_LOSS:return!0;default:return ge(15467,{code:t})}}function OA(t){if(t===void 0)return _i("GRPC error has no .code"),Y.UNKNOWN;switch(t){case Tt.OK:return Y.OK;case Tt.CANCELLED:return Y.CANCELLED;case Tt.UNKNOWN:return Y.UNKNOWN;case Tt.DEADLINE_EXCEEDED:return Y.DEADLINE_EXCEEDED;case Tt.RESOURCE_EXHAUSTED:return Y.RESOURCE_EXHAUSTED;case Tt.INTERNAL:return Y.INTERNAL;case Tt.UNAVAILABLE:return Y.UNAVAILABLE;case Tt.UNAUTHENTICATED:return Y.UNAUTHENTICATED;case Tt.INVALID_ARGUMENT:return Y.INVALID_ARGUMENT;case Tt.NOT_FOUND:return Y.NOT_FOUND;case Tt.ALREADY_EXISTS:return Y.ALREADY_EXISTS;case Tt.PERMISSION_DENIED:return Y.PERMISSION_DENIED;case Tt.FAILED_PRECONDITION:return Y.FAILED_PRECONDITION;case Tt.ABORTED:return Y.ABORTED;case Tt.OUT_OF_RANGE:return Y.OUT_OF_RANGE;case Tt.UNIMPLEMENTED:return Y.UNIMPLEMENTED;case Tt.DATA_LOSS:return Y.DATA_LOSS;default:return ge(39323,{code:t})}}(Le=Tt||(Tt={}))[Le.OK=0]="OK",Le[Le.CANCELLED=1]="CANCELLED",Le[Le.UNKNOWN=2]="UNKNOWN",Le[Le.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Le[Le.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Le[Le.NOT_FOUND=5]="NOT_FOUND",Le[Le.ALREADY_EXISTS=6]="ALREADY_EXISTS",Le[Le.PERMISSION_DENIED=7]="PERMISSION_DENIED",Le[Le.UNAUTHENTICATED=16]="UNAUTHENTICATED",Le[Le.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Le[Le.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Le[Le.ABORTED=10]="ABORTED",Le[Le.OUT_OF_RANGE=11]="OUT_OF_RANGE",Le[Le.UNIMPLEMENTED=12]="UNIMPLEMENTED",Le[Le.INTERNAL=13]="INTERNAL",Le[Le.UNAVAILABLE=14]="UNAVAILABLE",Le[Le.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hF(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pF=new vo([4294967295,4294967295],0);function sb(t){const e=hF().encode(t),n=new QI;return n.update(e),new Uint8Array(n.digest())}function ab(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new vo([n,r],0),new vo([i,o],0)]}class gw{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new ac(`Invalid padding: ${n}`);if(r<0)throw new ac(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new ac(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new ac(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=vo.fromNumber(this.ge)}ye(e,n,r){let i=e.add(n.multiply(vo.fromNumber(r)));return i.compare(pF)===1&&(i=new vo([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=sb(e),[r,i]=ab(n);for(let o=0;o<this.hashCount;o++){const s=this.ye(r,i,o);if(!this.we(s))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new gw(o,i,n);return r.forEach(a=>s.insert(a)),s}insert(e){if(this.ge===0)return;const n=sb(e),[r,i]=ab(n);for(let o=0;o<this.hashCount;o++){const s=this.ye(r,i,o);this.Se(s)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class ac extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fp{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Tu.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new fp(xe.min(),i,new pt(ke),xi(),Re())}}class Tu{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Tu(r,n,Re(),Re(),Re())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uf{constructor(e,n,r,i){this.be=e,this.removedTargetIds=n,this.key=r,this.De=i}}class LA{constructor(e,n){this.targetId=e,this.Ce=n}}class VA{constructor(e,n,r=Yt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class lb{constructor(){this.ve=0,this.Fe=cb(),this.Me=Yt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Re(),n=Re(),r=Re();return this.Fe.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:ge(38017,{changeType:o})}}),new Tu(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=cb()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,We(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class mF{constructor(e){this.Ge=e,this.ze=new Map,this.je=xi(),this.Je=Sd(),this.He=Sd(),this.Ye=new pt(ke)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:ge(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach((r,i)=>{this.rt(i)&&n(i)})}st(e){const n=e.targetId,r=e.Ce.count,i=this.ot(n);if(i){const o=i.target;if(iy(o))if(r===0){const s=new de(o.path);this.et(n,s,on.newNoDocument(s,xe.min()))}else We(r===1,20013,{expectedCount:r});else{const s=this._t(n);if(s!==r){const a=this.ut(e),l=a?this.ct(a,e,s):1;if(l!==0){this.it(n);const c=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,c)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=n;let s,a;try{s=Po(r).toUint8Array()}catch(l){if(l instanceof lA)return za("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new gw(s,i,o)}catch(l){return za(l instanceof ac?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.ge===0?null:a}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let i=0;return r.forEach(o=>{const s=this.Ge.ht(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.et(n,o,null),i++)}),i}Tt(e){const n=new Map;this.ze.forEach((o,s)=>{const a=this.ot(s);if(a){if(o.current&&iy(a.target)){const l=new de(a.target.path);this.It(l).has(s)||this.Et(s,l)||this.et(s,l,on.newNoDocument(l,e))}o.Be&&(n.set(s,o.ke()),o.qe())}});let r=Re();this.He.forEach((o,s)=>{let a=!0;s.forEachWhile(l=>{const c=this.ot(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(o))}),this.je.forEach((o,s)=>s.setReadTime(e));const i=new fp(e,n,this.Ye,this.je,r);return this.je=xi(),this.Je=Sd(),this.He=Sd(),this.Ye=new pt(ke),i}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const i=this.nt(e);this.Et(e,n)?i.Qe(n,1):i.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new lb,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new Mt(ke),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new Mt(ke),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||re("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new lb),this.Ge.getRemoteKeysForTarget(e).forEach(n=>{this.et(e,n,null)})}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Sd(){return new pt(de.comparator)}function cb(){return new pt(de.comparator)}const gF=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),vF=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),yF=(()=>({and:"AND",or:"OR"}))();class wF{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function sy(t,e){return t.useProto3Json||op(e)?e:{value:e}}function rh(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function jA(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function _F(t,e){return rh(t,e.toTimestamp())}function Or(t){return We(!!t,49232),xe.fromTimestamp(function(n){const r=So(n);return new it(r.seconds,r.nanos)}(t))}function vw(t,e){return ay(t,e).canonicalString()}function ay(t,e){const n=function(i){return new rt(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function FA(t){const e=rt.fromString(t);return We(zA(e),10190,{key:e.toString()}),e}function ly(t,e){return vw(t.databaseId,e.path)}function sg(t,e){const n=FA(e);if(n.get(1)!==t.databaseId.projectId)throw new le(Y.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new le(Y.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new de(UA(n))}function $A(t,e){return vw(t.databaseId,e)}function xF(t){const e=FA(t);return e.length===4?rt.emptyPath():UA(e)}function cy(t){return new rt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function UA(t){return We(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function ub(t,e,n){return{name:ly(t,e),fields:n.value.mapValue.fields}}function EF(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:ge(39313,{state:c})}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(c,u){return c.useProto3Json?(We(u===void 0||typeof u=="string",58123),Yt.fromBase64String(u||"")):(We(u===void 0||u instanceof Buffer||u instanceof Uint8Array,16193),Yt.fromUint8Array(u||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(c){const u=c.code===void 0?Y.UNKNOWN:OA(c.code);return new le(u,c.message||"")}(s);n=new VA(r,i,o,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=sg(t,r.document.name),o=Or(r.document.updateTime),s=r.document.createTime?Or(r.document.createTime):xe.min(),a=new xn({mapValue:{fields:r.document.fields}}),l=on.newFoundDocument(i,o,s,a),c=r.targetIds||[],u=r.removedTargetIds||[];n=new uf(c,u,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=sg(t,r.document),o=r.readTime?Or(r.readTime):xe.min(),s=on.newNoDocument(i,o),a=r.removedTargetIds||[];n=new uf([],a,s.key,s)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=sg(t,r.document),o=r.removedTargetIds||[];n=new uf([],o,i,null)}else{if(!("filter"in e))return ge(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:o}=r,s=new dF(i,o),a=r.targetId;n=new LA(a,s)}}return n}function bF(t,e){let n;if(e instanceof bu)n={update:ub(t,e.key,e.value)};else if(e instanceof pw)n={delete:ly(t,e.key)};else if(e instanceof Uo)n={update:ub(t,e.key,e.data),updateMask:NF(e.fieldMask)};else{if(!(e instanceof lF))return ge(16599,{Vt:e.type});n={verify:ly(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(o,s){const a=s.transform;if(a instanceof th)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof ru)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof iu)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof nh)return{fieldPath:s.field.canonicalString(),increment:a.Ae};throw ge(20930,{transform:s.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:_F(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:ge(27497)}(t,e.precondition)),n}function TF(t,e){return t&&t.length>0?(We(e!==void 0,14353),t.map(n=>function(i,o){let s=i.updateTime?Or(i.updateTime):Or(o);return s.isEqual(xe.min())&&(s=Or(o)),new oF(s,i.transformResults||[])}(n,e))):[]}function CF(t,e){return{documents:[$A(t,e.path)]}}function SF(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=$A(t,i);const o=function(c){if(c.length!==0)return WA(zr.create(c,"and"))}(e.filters);o&&(n.structuredQuery.where=o);const s=function(c){if(c.length!==0)return c.map(u=>function(h){return{field:ea(h.field),direction:AF(h.dir)}}(u))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const a=sy(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{ft:n,parent:i}}function PF(t){let e=xF(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){We(r===1,65062);const u=n.from[0];u.allDescendants?i=u.collectionId:e=e.child(u.collectionId)}let o=[];n.where&&(o=function(f){const h=BA(f);return h instanceof zr&&wA(h)?h.getFilters():[h]}(n.where));let s=[];n.orderBy&&(s=function(f){return f.map(h=>function(w){return new eh(ta(w.field),function(E){switch(E){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(w.direction))}(h))}(n.orderBy));let a=null;n.limit&&(a=function(f){let h;return h=typeof f=="object"?f.value:f,op(h)?null:h}(n.limit));let l=null;n.startAt&&(l=function(f){const h=!!f.before,g=f.values||[];return new Zf(g,h)}(n.startAt));let c=null;return n.endAt&&(c=function(f){const h=!f.before,g=f.values||[];return new Zf(g,h)}(n.endAt)),H3(e,i,s,o,a,"F",l,c)}function IF(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ge(28987,{purpose:i})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function BA(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=ta(n.unaryFilter.field);return Nt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=ta(n.unaryFilter.field);return Nt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=ta(n.unaryFilter.field);return Nt.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=ta(n.unaryFilter.field);return Nt.create(s,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ge(61313);default:return ge(60726)}}(t):t.fieldFilter!==void 0?function(n){return Nt.create(ta(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ge(58110);default:return ge(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return zr.create(n.compositeFilter.filters.map(r=>BA(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return ge(1026)}}(n.compositeFilter.op))}(t):ge(30097,{filter:t})}function AF(t){return gF[t]}function kF(t){return vF[t]}function RF(t){return yF[t]}function ea(t){return{fieldPath:t.canonicalString()}}function ta(t){return zt.fromServerFormat(t.fieldPath)}function WA(t){return t instanceof Nt?function(n){if(n.op==="=="){if(XE(n.value))return{unaryFilter:{field:ea(n.field),op:"IS_NAN"}};if(QE(n.value))return{unaryFilter:{field:ea(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(XE(n.value))return{unaryFilter:{field:ea(n.field),op:"IS_NOT_NAN"}};if(QE(n.value))return{unaryFilter:{field:ea(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ea(n.field),op:kF(n.op),value:n.value}}}(t):t instanceof zr?function(n){const r=n.getFilters().map(i=>WA(i));return r.length===1?r[0]:{compositeFilter:{op:RF(n.op),filters:r}}}(t):ge(54877,{filter:t})}function NF(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function zA(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ro{constructor(e,n,r,i,o=xe.min(),s=xe.min(),a=Yt.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new ro(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new ro(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ro(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ro(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DF{constructor(e){this.yt=e}}function MF(t){const e=PF({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?oy(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OF{constructor(){this.Cn=new LF}addToCollectionParentIndex(e,n){return this.Cn.add(n),G.resolve()}getCollectionParents(e,n){return G.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return G.resolve()}deleteFieldIndex(e,n){return G.resolve()}deleteAllFieldIndexes(e){return G.resolve()}createTargetIndexes(e,n){return G.resolve()}getDocumentsMatchingTarget(e,n){return G.resolve(null)}getIndexType(e,n){return G.resolve(0)}getFieldIndexes(e,n){return G.resolve([])}getNextCollectionGroupToUpdate(e){return G.resolve(null)}getMinOffset(e,n){return G.resolve(Co.min())}getMinOffsetFromCollectionGroup(e,n){return G.resolve(Co.min())}updateCollectionGroup(e,n,r){return G.resolve()}updateIndexEntries(e,n){return G.resolve()}}class LF{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Mt(rt.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Mt(rt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const db={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},HA=41943040;class wn{static withCacheSize(e){return new wn(e,wn.DEFAULT_COLLECTION_PERCENTILE,wn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */wn.DEFAULT_COLLECTION_PERCENTILE=10,wn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,wn.DEFAULT=new wn(HA,wn.DEFAULT_COLLECTION_PERCENTILE,wn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),wn.DISABLED=new wn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ya{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Ya(0)}static cr(){return new Ya(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fb="LruGarbageCollector",VF=1048576;function hb([t,e],[n,r]){const i=ke(t,n);return i===0?ke(e,r):i}class jF{constructor(e){this.Ir=e,this.buffer=new Mt(hb),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();hb(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class FF{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){re(fb,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){yl(n)?re(fb,"Ignoring IndexedDB error during garbage collection: ",n):await vl(n)}await this.Vr(3e5)})}}class $F{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return G.resolve(ip.ce);const r=new jF(n);return this.mr.forEachTarget(e,i=>r.Ar(i.sequenceNumber)).next(()=>this.mr.pr(e,i=>r.Ar(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(re("LruGarbageCollector","Garbage collection skipped; disabled"),G.resolve(db)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(re("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),db):this.yr(e,n))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,i,o,s,a,l,c;const u=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(f=>(f>this.params.maximumSequenceNumbersToCollect?(re("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${f}`),i=this.params.maximumSequenceNumbersToCollect):i=f,s=Date.now(),this.nthSequenceNumber(e,i))).next(f=>(r=f,a=Date.now(),this.removeTargets(e,r,n))).next(f=>(o=f,l=Date.now(),this.removeOrphanedDocuments(e,r))).next(f=>(c=Date.now(),Js()<=Ae.DEBUG&&re("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-u}ms
	Determined least recently used ${i} in `+(a-s)+`ms
	Removed ${o} targets in `+(l-a)+`ms
	Removed ${f} documents in `+(c-l)+`ms
Total Duration: ${c-u}ms`),G.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:f})))}}function UF(t,e){return new $F(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BF{constructor(){this.changes=new Rs(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,on.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?G.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WF{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zF{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&bc(r.mutation,i,On.empty(),it.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Re()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Re()){const i=as();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(o=>{let s=sc();return o.forEach((a,l)=>{s=s.insert(a,l.overlayedDocument)}),s}))}getOverlayedDocuments(e,n){const r=as();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Re()))}populateOverlays(e,n,r){const i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{n.set(s,a)})})}computeViews(e,n,r,i){let o=xi();const s=Ec(),a=function(){return Ec()}();return n.forEach((l,c)=>{const u=r.get(c.key);i.has(c.key)&&(u===void 0||u.mutation instanceof Uo)?o=o.insert(c.key,c):u!==void 0?(s.set(c.key,u.mutation.getFieldMask()),bc(u.mutation,c,u.mutation.getFieldMask(),it.now())):s.set(c.key,On.empty())}),this.recalculateAndSaveOverlays(e,o).next(l=>(l.forEach((c,u)=>s.set(c,u)),n.forEach((c,u)=>a.set(c,new WF(u,s.get(c)??null))),a))}recalculateAndSaveOverlays(e,n){const r=Ec();let i=new pt((s,a)=>s-a),o=Re();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(s=>{for(const a of s)a.keys().forEach(l=>{const c=n.get(l);if(c===null)return;let u=r.get(l)||On.empty();u=a.applyToLocalView(c,u),r.set(l,u);const f=(i.get(a.batchId)||Re()).add(l);i=i.insert(a.batchId,f)})}).next(()=>{const s=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),c=l.key,u=l.value,f=PA();u.forEach(h=>{if(!o.has(h)){const g=DA(n.get(h),r.get(h));g!==null&&f.set(h,g),o=o.add(h)}}),s.push(this.documentOverlayCache.saveOverlays(e,c,f))}return G.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(s){return de.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):q3(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(o=>{const s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):G.resolve(as());let a=Zc,l=o;return s.next(c=>G.forEach(c,(u,f)=>(a<f.largestBatchId&&(a=f.largestBatchId),o.get(u)?G.resolve():this.remoteDocumentCache.getEntry(e,u).next(h=>{l=l.insert(u,h)}))).next(()=>this.populateOverlays(e,c,o)).next(()=>this.computeViews(e,l,c,Re())).next(u=>({batchId:a,changes:SA(u)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new de(n)).next(r=>{let i=sc();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const o=n.collectionGroup;let s=sc();return this.indexManager.getCollectionParents(e,o).next(a=>G.forEach(a,l=>{const c=function(f,h){return new ap(h,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,l.child(o));return this.getDocumentsMatchingCollectionQuery(e,c,r,i).next(u=>{u.forEach((f,h)=>{s=s.insert(f,h)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,i))).next(s=>{o.forEach((l,c)=>{const u=c.getKey();s.get(u)===null&&(s=s.insert(u,on.newInvalidDocument(u)))});let a=sc();return s.forEach((l,c)=>{const u=o.get(l);u!==void 0&&bc(u.mutation,c,On.empty(),it.now()),cp(n,c)&&(a=a.insert(l,c))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HF{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return G.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Or(i.createTime)}}(n)),G.resolve()}getNamedQuery(e,n){return G.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,function(i){return{name:i.name,query:MF(i.bundledQuery),readTime:Or(i.readTime)}}(n)),G.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qF{constructor(){this.overlays=new pt(de.comparator),this.qr=new Map}getOverlay(e,n){return G.resolve(this.overlays.get(n))}getOverlays(e,n){const r=as();return G.forEach(n,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,o)=>{this.St(e,n,o)}),G.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.qr.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.qr.delete(r)),G.resolve()}getOverlaysForCollection(e,n,r){const i=as(),o=n.length+1,s=new de(n.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){const l=a.getNext().value,c=l.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===o&&l.largestBatchId>r&&i.set(l.getKey(),l)}return G.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new pt((c,u)=>c-u);const s=this.overlays.getIterator();for(;s.hasNext();){const c=s.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let u=o.get(c.largestBatchId);u===null&&(u=as(),o=o.insert(c.largestBatchId,u)),u.set(c.getKey(),c)}}const a=as(),l=o.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,u)=>a.set(c,u)),!(a.size()>=i)););return G.resolve(a)}St(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const s=this.qr.get(i.largestBatchId).delete(r.key);this.qr.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new uF(n,r));let o=this.qr.get(n);o===void 0&&(o=Re(),this.qr.set(n,o)),this.qr.set(n,o.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GF{constructor(){this.sessionToken=Yt.EMPTY_BYTE_STRING}getSessionToken(e){return G.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,G.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yw{constructor(){this.Qr=new Mt(Vt.$r),this.Ur=new Mt(Vt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new Vt(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Gr(new Vt(e,n))}zr(e,n){e.forEach(r=>this.removeReference(r,n))}jr(e){const n=new de(new rt([])),r=new Vt(n,e),i=new Vt(n,e+1),o=[];return this.Ur.forEachInRange([r,i],s=>{this.Gr(s),o.push(s.key)}),o}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new de(new rt([])),r=new Vt(n,e),i=new Vt(n,e+1);let o=Re();return this.Ur.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){const n=new Vt(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Vt{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return de.comparator(e.key,n.key)||ke(e.Yr,n.Yr)}static Kr(e,n){return ke(e.Yr,n.Yr)||de.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YF{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Mt(Vt.$r)}checkEmpty(e){return G.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const o=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new cF(o,n,r,i);this.mutationQueue.push(s);for(const a of i)this.Zr=this.Zr.add(new Vt(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return G.resolve(s)}lookupMutationBatch(e,n){return G.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.ei(r),o=i<0?0:i;return G.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return G.resolve(this.mutationQueue.length===0?aw:this.tr-1)}getAllMutationBatches(e){return G.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Vt(n,0),i=new Vt(n,Number.POSITIVE_INFINITY),o=[];return this.Zr.forEachInRange([r,i],s=>{const a=this.Xr(s.Yr);o.push(a)}),G.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Mt(ke);return n.forEach(i=>{const o=new Vt(i,0),s=new Vt(i,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([o,s],a=>{r=r.add(a.Yr)})}),G.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let o=r;de.isDocumentKey(o)||(o=o.child(""));const s=new Vt(new de(o),0);let a=new Mt(ke);return this.Zr.forEachWhile(l=>{const c=l.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(a=a.add(l.Yr)),!0)},s),G.resolve(this.ti(a))}ti(e){const n=[];return e.forEach(r=>{const i=this.Xr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){We(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return G.forEach(n.mutations,i=>{const o=new Vt(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Zr=r})}ir(e){}containsKey(e,n){const r=new Vt(n,0),i=this.Zr.firstAfterOrEqual(r);return G.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,G.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KF{constructor(e){this.ri=e,this.docs=function(){return new pt(de.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),o=i?i.size:0,s=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return G.resolve(r?r.document.mutableCopy():on.newInvalidDocument(n))}getEntries(e,n){let r=xi();return n.forEach(i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():on.newInvalidDocument(i))}),G.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=xi();const s=n.path,a=new de(s.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:c,value:{document:u}}=l.getNext();if(!s.isPrefixOf(c.path))break;c.path.length>s.length+1||T3(b3(u),r)<=0||(i.has(u.key)||cp(n,u))&&(o=o.insert(u.key,u.mutableCopy()))}return G.resolve(o)}getAllFromCollectionGroup(e,n,r,i){ge(9500)}ii(e,n){return G.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new QF(this)}getSize(e){return G.resolve(this.size)}}class QF extends BF{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.Nr.addEntry(e,i)):this.Nr.removeEntry(r)}),G.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XF{constructor(e){this.persistence=e,this.si=new Rs(n=>uw(n),dw),this.lastRemoteSnapshotVersion=xe.min(),this.highestTargetId=0,this.oi=0,this._i=new yw,this.targetCount=0,this.ai=Ya.ur()}forEachTarget(e,n){return this.si.forEach((r,i)=>n(i)),G.resolve()}getLastRemoteSnapshotVersion(e){return G.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return G.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),G.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),G.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new Ya(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,G.resolve()}updateTargetData(e,n){return this.Pr(n),G.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,G.resolve()}removeTargets(e,n,r){let i=0;const o=[];return this.si.forEach((s,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.si.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),G.waitFor(o).next(()=>i)}getTargetCount(e){return G.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return G.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),G.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),G.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),G.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return G.resolve(r)}containsKey(e,n){return G.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qA{constructor(e,n){this.ui={},this.overlays={},this.ci=new ip(0),this.li=!1,this.li=!0,this.hi=new GF,this.referenceDelegate=e(this),this.Pi=new XF(this),this.indexManager=new OF,this.remoteDocumentCache=function(i){return new KF(i)}(r=>this.referenceDelegate.Ti(r)),this.serializer=new DF(n),this.Ii=new HF(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new qF,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new YF(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){re("MemoryPersistence","Starting transaction:",e);const i=new JF(this.ci.next());return this.referenceDelegate.Ei(),r(i).next(o=>this.referenceDelegate.di(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Ai(e,n){return G.or(Object.values(this.ui).map(r=>()=>r.containsKey(e,n)))}}class JF extends S3{constructor(e){super(),this.currentSequenceNumber=e}}class ww{constructor(e){this.persistence=e,this.Ri=new yw,this.Vi=null}static mi(e){return new ww(e)}get fi(){if(this.Vi)return this.Vi;throw ge(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),G.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),G.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),G.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach(i=>this.fi.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(o=>this.fi.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return G.forEach(this.fi,r=>{const i=de.fromPath(r);return this.gi(e,i).next(o=>{o||n.removeEntry(i,xe.min())})}).next(()=>(this.Vi=null,n.apply(e)))}updateLimboDocument(e,n){return this.gi(e,n).next(r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())})}Ti(e){return 0}gi(e,n){return G.or([()=>G.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class ih{constructor(e,n){this.persistence=e,this.pi=new Rs(r=>A3(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=UF(this,n)}static mi(e,n){return new ih(e,n)}Ei(){}di(e){return G.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}wr(e){let n=0;return this.pr(e,r=>{n++}).next(()=>n)}pr(e,n){return G.forEach(this.pi,(r,i)=>this.br(e,r,i).next(o=>o?G.resolve():n(i)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),o=i.newChangeBuffer();return i.ii(e,s=>this.br(e,s,n).next(a=>{a||(r++,o.removeEntry(s,xe.min()))})).next(()=>o.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),G.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),G.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),G.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),G.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=af(e.data.value)),n}br(e,n,r){return G.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.pi.get(n);return G.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _w{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=i}static As(e,n){let r=Re(),i=Re();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new _w(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZF{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e6{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return Hj()?8:P3(ln())>0?6:4}()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,i){const o={result:null};return this.ys(e,n).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.ws(e,n,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;const s=new ZF;return this.Ss(e,n,s).next(a=>{if(o.result=a,this.Vs)return this.bs(e,n,s,a.size)})}).next(()=>o.result)}bs(e,n,r,i){return r.documentReadCount<this.fs?(Js()<=Ae.DEBUG&&re("QueryEngine","SDK will not create cache indexes for query:",Zs(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),G.resolve()):(Js()<=Ae.DEBUG&&re("QueryEngine","Query:",Zs(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.gs*i?(Js()<=Ae.DEBUG&&re("QueryEngine","The SDK decides to create cache indexes for query:",Zs(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Mr(n))):G.resolve())}ys(e,n){if(tb(n))return G.resolve(null);let r=Mr(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=oy(n,null,"F"),r=Mr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const s=Re(...o);return this.ps.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const c=this.Ds(n,a);return this.Cs(n,c,s,l.readTime)?this.ys(e,oy(n,null,"F")):this.vs(e,c,n,l)}))})))}ws(e,n,r,i){return tb(n)||i.isEqual(xe.min())?G.resolve(null):this.ps.getDocuments(e,r).next(o=>{const s=this.Ds(n,o);return this.Cs(n,s,r,i)?G.resolve(null):(Js()<=Ae.DEBUG&&re("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Zs(n)),this.vs(e,s,n,E3(i,Zc)).next(a=>a))})}Ds(e,n){let r=new Mt(TA(e));return n.forEach((i,o)=>{cp(e,o)&&(r=r.add(o))}),r}Cs(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Ss(e,n,r){return Js()<=Ae.DEBUG&&re("QueryEngine","Using full collection scan to execute query:",Zs(n)),this.ps.getDocumentsMatchingQuery(e,n,Co.min(),r)}vs(e,n,r,i){return this.ps.getDocumentsMatchingQuery(e,r,i).next(o=>(n.forEach(s=>{o=o.insert(s.key,s)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xw="LocalStore",t6=3e8;class n6{constructor(e,n,r,i){this.persistence=e,this.Fs=n,this.serializer=i,this.Ms=new pt(ke),this.xs=new Rs(o=>uw(o),dw),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new zF(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ms))}}function r6(t,e,n,r){return new n6(t,e,n,r)}async function GA(t,e){const n=be(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n.Bs(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{const s=[],a=[];let l=Re();for(const c of i){s.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}for(const c of o){a.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}return n.localDocuments.getDocuments(r,l).next(c=>({Ls:c,removedBatchIds:s,addedBatchIds:a}))})})}function i6(t,e){const n=be(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),o=n.Ns.newChangeBuffer({trackRemovals:!0});return function(a,l,c,u){const f=c.batch,h=f.keys();let g=G.resolve();return h.forEach(w=>{g=g.next(()=>u.getEntry(l,w)).next(v=>{const E=c.docVersions.get(w);We(E!==null,48541),v.version.compareTo(E)<0&&(f.applyToRemoteDocument(v,c),v.isValidDocument()&&(v.setReadTime(c.commitVersion),u.addEntry(v)))})}),g.next(()=>a.mutationQueue.removeMutationBatch(l,f))}(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=Re();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(l=l.add(a.batch.mutations[c].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function YA(t){const e=be(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Pi.getLastRemoteSnapshotVersion(n))}function o6(t,e){const n=be(t),r=e.snapshotVersion;let i=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const s=n.Ns.newChangeBuffer({trackRemovals:!0});i=n.Ms;const a=[];e.targetChanges.forEach((u,f)=>{const h=i.get(f);if(!h)return;a.push(n.Pi.removeMatchingKeys(o,u.removedDocuments,f).next(()=>n.Pi.addMatchingKeys(o,u.addedDocuments,f)));let g=h.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(f)!==null?g=g.withResumeToken(Yt.EMPTY_BYTE_STRING,xe.min()).withLastLimboFreeSnapshotVersion(xe.min()):u.resumeToken.approximateByteSize()>0&&(g=g.withResumeToken(u.resumeToken,r)),i=i.insert(f,g),function(v,E,x){return v.resumeToken.approximateByteSize()===0||E.snapshotVersion.toMicroseconds()-v.snapshotVersion.toMicroseconds()>=t6?!0:x.addedDocuments.size+x.modifiedDocuments.size+x.removedDocuments.size>0}(h,g,u)&&a.push(n.Pi.updateTargetData(o,g))});let l=xi(),c=Re();if(e.documentUpdates.forEach(u=>{e.resolvedLimboDocuments.has(u)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(o,u))}),a.push(s6(o,s,e.documentUpdates).next(u=>{l=u.ks,c=u.qs})),!r.isEqual(xe.min())){const u=n.Pi.getLastRemoteSnapshotVersion(o).next(f=>n.Pi.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(u)}return G.waitFor(a).next(()=>s.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,l,c)).next(()=>l)}).then(o=>(n.Ms=i,o))}function s6(t,e,n){let r=Re(),i=Re();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let s=xi();return n.forEach((a,l)=>{const c=o.get(a);l.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(xe.min())?(e.removeEntry(a,l.readTime),s=s.insert(a,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(l),s=s.insert(a,l)):re(xw,"Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",l.version)}),{ks:s,qs:i}})}function a6(t,e){const n=be(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=aw),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function l6(t,e){const n=be(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Pi.getTargetData(r,e).next(o=>o?(i=o,G.resolve(i)):n.Pi.allocateTargetId(r).next(s=>(i=new ro(e,s,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.Ms.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r})}async function uy(t,e,n){const r=be(t),i=r.Ms.get(e),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i))}catch(s){if(!yl(s))throw s;re(xw,`Failed to update sequence numbers for target ${e}: ${s}`)}r.Ms=r.Ms.remove(e),r.xs.delete(i.target)}function pb(t,e,n){const r=be(t);let i=xe.min(),o=Re();return r.persistence.runTransaction("Execute query","readwrite",s=>function(l,c,u){const f=be(l),h=f.xs.get(u);return h!==void 0?G.resolve(f.Ms.get(h)):f.Pi.getTargetData(c,u)}(r,s,Mr(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(s,a.targetId).next(l=>{o=l})}).next(()=>r.Fs.getDocumentsMatchingQuery(s,e,n?i:xe.min(),n?o:Re())).next(a=>(c6(r,Y3(e),a),{documents:a,Qs:o})))}function c6(t,e,n){let r=t.Os.get(e)||xe.min();n.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.Os.set(e,r)}class mb{constructor(){this.activeTargetIds=eF()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class u6{constructor(){this.Mo=new mb,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new mb,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d6{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gb="ConnectivityMonitor";class vb{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){re(gb,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){re(gb,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Pd=null;function dy(){return Pd===null?Pd=function(){return 268435456+Math.round(2147483648*Math.random())}():Pd++,"0x"+Pd.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ag="RestConnection",f6={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class h6{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${i}`,this.Wo=this.databaseId.database===Xf?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Go(e,n,r,i,o){const s=dy(),a=this.zo(e,n.toUriEncodedString());re(ag,`Sending RPC '${e}' ${s}:`,a,r);const l={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(l,i,o);const{host:c}=new URL(a),u=pl(c);return this.Jo(e,a,l,r,u).then(f=>(re(ag,`Received RPC '${e}' ${s}: `,f),f),f=>{throw za(ag,`RPC '${e}' ${s} failed with error: `,f,"url: ",a,"request:",r),f})}Ho(e,n,r,i,o,s){return this.Go(e,n,r,i,o)}jo(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+gl}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,o)=>e[o]=i),r&&r.headers.forEach((i,o)=>e[o]=i)}zo(e,n){const r=f6[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p6{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const en="WebChannelConnection";class m6 extends h6{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,i,o){const s=dy();return new Promise((a,l)=>{const c=new XI;c.setWithCredentials(!0),c.listenOnce(JI.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case sf.NO_ERROR:const f=c.getResponseJson();re(en,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(f)),a(f);break;case sf.TIMEOUT:re(en,`RPC '${e}' ${s} timed out`),l(new le(Y.DEADLINE_EXCEEDED,"Request time out"));break;case sf.HTTP_ERROR:const h=c.getStatus();if(re(en,`RPC '${e}' ${s} failed with status:`,h,"response text:",c.getResponseText()),h>0){let g=c.getResponseJson();Array.isArray(g)&&(g=g[0]);const w=g==null?void 0:g.error;if(w&&w.status&&w.message){const v=function(x){const y=x.toLowerCase().replace(/_/g,"-");return Object.values(Y).indexOf(y)>=0?y:Y.UNKNOWN}(w.status);l(new le(v,w.message))}else l(new le(Y.UNKNOWN,"Server responded with status "+c.getStatus()))}else l(new le(Y.UNAVAILABLE,"Connection failed."));break;default:ge(9055,{l_:e,streamId:s,h_:c.getLastErrorCode(),P_:c.getLastError()})}}finally{re(en,`RPC '${e}' ${s} completed.`)}});const u=JSON.stringify(i);re(en,`RPC '${e}' ${s} sending request:`,i),c.send(n,"POST",u,r,15)})}T_(e,n,r){const i=dy(),o=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=tA(),a=eA(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.useFetchStreams=!0),this.jo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const u=o.join("");re(en,`Creating RPC '${e}' stream ${i}: ${u}`,l);const f=s.createWebChannel(u,l);this.I_(f);let h=!1,g=!1;const w=new p6({Yo:E=>{g?re(en,`Not sending because RPC '${e}' stream ${i} is closed:`,E):(h||(re(en,`Opening RPC '${e}' stream ${i} transport.`),f.open(),h=!0),re(en,`RPC '${e}' stream ${i} sending:`,E),f.send(E))},Zo:()=>f.close()}),v=(E,x,y)=>{E.listen(x,b=>{try{y(b)}catch(P){setTimeout(()=>{throw P},0)}})};return v(f,oc.EventType.OPEN,()=>{g||(re(en,`RPC '${e}' stream ${i} transport opened.`),w.o_())}),v(f,oc.EventType.CLOSE,()=>{g||(g=!0,re(en,`RPC '${e}' stream ${i} transport closed`),w.a_(),this.E_(f))}),v(f,oc.EventType.ERROR,E=>{g||(g=!0,za(en,`RPC '${e}' stream ${i} transport errored. Name:`,E.name,"Message:",E.message),w.a_(new le(Y.UNAVAILABLE,"The operation could not be completed")))}),v(f,oc.EventType.MESSAGE,E=>{var x;if(!g){const y=E.data[0];We(!!y,16349);const b=y,P=(b==null?void 0:b.error)||((x=b[0])==null?void 0:x.error);if(P){re(en,`RPC '${e}' stream ${i} received error:`,P);const N=P.status;let M=function(I){const A=Tt[I];if(A!==void 0)return OA(A)}(N),S=P.message;M===void 0&&(M=Y.INTERNAL,S="Unknown error status: "+N+" with message "+P.message),g=!0,w.a_(new le(M,S)),f.close()}else re(en,`RPC '${e}' stream ${i} received:`,y),w.u_(y)}}),v(a,ZI.STAT_EVENT,E=>{E.stat===Zv.PROXY?re(en,`RPC '${e}' stream ${i} detected buffering proxy`):E.stat===Zv.NOPROXY&&re(en,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{w.__()},0),w}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(n=>n===e)}}function lg(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hp(t){return new wF(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KA{constructor(e,n,r=1e3,i=1.5,o=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=i,this.R_=o,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),i=Math.max(0,n-r);i>0&&re("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,i,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yb="PersistentStream";class QA{constructor(e,n,r,i,o,s,a,l){this.Mi=e,this.S_=r,this.b_=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new KA(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===Y.RESOURCE_EXHAUSTED?(_i(n.toString()),_i("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===Y.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.D_===n&&this.G_(r,i)},r=>{e(()=>{const i=new le(Y.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(i)})})}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo(()=>{r(()=>this.listener.Xo())}),this.stream.t_(()=>{r(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(i=>{r(()=>this.z_(i))}),this.stream.onMessage(i=>{r(()=>++this.F_==1?this.J_(i):this.onNext(i))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return re(yb,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget(()=>this.D_===e?n():(re(yb,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class g6 extends QA{constructor(e,n,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=EF(this.serializer,e),r=function(o){if(!("targetChange"in o))return xe.min();const s=o.targetChange;return s.targetIds&&s.targetIds.length?xe.min():s.readTime?Or(s.readTime):xe.min()}(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=cy(this.serializer),n.addTarget=function(o,s){let a;const l=s.target;if(a=iy(l)?{documents:CF(o,l)}:{query:SF(o,l).ft},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=jA(o,s.resumeToken);const c=sy(o,s.expectedCount);c!==null&&(a.expectedCount=c)}else if(s.snapshotVersion.compareTo(xe.min())>0){a.readTime=rh(o,s.snapshotVersion.toTimestamp());const c=sy(o,s.expectedCount);c!==null&&(a.expectedCount=c)}return a}(this.serializer,e);const r=IF(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=cy(this.serializer),n.removeTarget=e,this.q_(n)}}class v6 extends QA{constructor(e,n,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return We(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,We(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){We(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=TF(e.writeResults,e.commitTime),r=Or(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=cy(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>bF(this.serializer,r))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y6{}class w6 extends y6{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new le(Y.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Go(e,ay(n,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===Y.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new le(Y.UNKNOWN,o.toString())})}Ho(e,n,r,i,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Ho(e,ay(n,r),i,s,a,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===Y.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new le(Y.UNKNOWN,s.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class _6{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(_i(n),this.aa=!1):re("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xs="RemoteStore";class x6{constructor(e,n,r,i,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=o,this.Aa.Oo(s=>{r.enqueueAndForget(async()=>{Ns(this)&&(re(xs,"Restarting streams for network reachability change."),await async function(l){const c=be(l);c.Ea.add(4),await Cu(c),c.Ra.set("Unknown"),c.Ea.delete(4),await pp(c)}(this))})}),this.Ra=new _6(r,i)}}async function pp(t){if(Ns(t))for(const e of t.da)await e(!0)}async function Cu(t){for(const e of t.da)await e(!1)}function XA(t,e){const n=be(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),Cw(n)?Tw(n):wl(n).O_()&&bw(n,e))}function Ew(t,e){const n=be(t),r=wl(n);n.Ia.delete(e),r.O_()&&JA(n,e),n.Ia.size===0&&(r.O_()?r.L_():Ns(n)&&n.Ra.set("Unknown"))}function bw(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(xe.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}wl(t).Y_(e)}function JA(t,e){t.Va.Ue(e),wl(t).Z_(e)}function Tw(t){t.Va=new mF({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),wl(t).start(),t.Ra.ua()}function Cw(t){return Ns(t)&&!wl(t).x_()&&t.Ia.size>0}function Ns(t){return be(t).Ea.size===0}function ZA(t){t.Va=void 0}async function E6(t){t.Ra.set("Online")}async function b6(t){t.Ia.forEach((e,n)=>{bw(t,e)})}async function T6(t,e){ZA(t),Cw(t)?(t.Ra.ha(e),Tw(t)):t.Ra.set("Unknown")}async function C6(t,e,n){if(t.Ra.set("Online"),e instanceof VA&&e.state===2&&e.cause)try{await async function(i,o){const s=o.cause;for(const a of o.targetIds)i.Ia.has(a)&&(await i.remoteSyncer.rejectListen(a,s),i.Ia.delete(a),i.Va.removeTarget(a))}(t,e)}catch(r){re(xs,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await oh(t,r)}else if(e instanceof uf?t.Va.Ze(e):e instanceof LA?t.Va.st(e):t.Va.tt(e),!n.isEqual(xe.min()))try{const r=await YA(t.localStore);n.compareTo(r)>=0&&await function(o,s){const a=o.Va.Tt(s);return a.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const u=o.Ia.get(c);u&&o.Ia.set(c,u.withResumeToken(l.resumeToken,s))}}),a.targetMismatches.forEach((l,c)=>{const u=o.Ia.get(l);if(!u)return;o.Ia.set(l,u.withResumeToken(Yt.EMPTY_BYTE_STRING,u.snapshotVersion)),JA(o,l);const f=new ro(u.target,l,c,u.sequenceNumber);bw(o,f)}),o.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){re(xs,"Failed to raise snapshot:",r),await oh(t,r)}}async function oh(t,e,n){if(!yl(e))throw e;t.Ea.add(1),await Cu(t),t.Ra.set("Offline"),n||(n=()=>YA(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{re(xs,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await pp(t)})}function ek(t,e){return e().catch(n=>oh(t,n,e))}async function mp(t){const e=be(t),n=Ao(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:aw;for(;S6(e);)try{const i=await a6(e.localStore,r);if(i===null){e.Ta.length===0&&n.L_();break}r=i.batchId,P6(e,i)}catch(i){await oh(e,i)}tk(e)&&nk(e)}function S6(t){return Ns(t)&&t.Ta.length<10}function P6(t,e){t.Ta.push(e);const n=Ao(t);n.O_()&&n.X_&&n.ea(e.mutations)}function tk(t){return Ns(t)&&!Ao(t).x_()&&t.Ta.length>0}function nk(t){Ao(t).start()}async function I6(t){Ao(t).ra()}async function A6(t){const e=Ao(t);for(const n of t.Ta)e.ea(n.mutations)}async function k6(t,e,n){const r=t.Ta.shift(),i=mw.from(r,e,n);await ek(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await mp(t)}async function R6(t,e){e&&Ao(t).X_&&await async function(r,i){if(function(s){return fF(s)&&s!==Y.ABORTED}(i.code)){const o=r.Ta.shift();Ao(r).B_(),await ek(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),await mp(r)}}(t,e),tk(t)&&nk(t)}async function wb(t,e){const n=be(t);n.asyncQueue.verifyOperationInProgress(),re(xs,"RemoteStore received new credentials");const r=Ns(n);n.Ea.add(3),await Cu(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await pp(n)}async function N6(t,e){const n=be(t);e?(n.Ea.delete(2),await pp(n)):e||(n.Ea.add(2),await Cu(n),n.Ra.set("Unknown"))}function wl(t){return t.ma||(t.ma=function(n,r,i){const o=be(n);return o.sa(),new g6(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Xo:E6.bind(null,t),t_:b6.bind(null,t),r_:T6.bind(null,t),H_:C6.bind(null,t)}),t.da.push(async e=>{e?(t.ma.B_(),Cw(t)?Tw(t):t.Ra.set("Unknown")):(await t.ma.stop(),ZA(t))})),t.ma}function Ao(t){return t.fa||(t.fa=function(n,r,i){const o=be(n);return o.sa(),new v6(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:I6.bind(null,t),r_:R6.bind(null,t),ta:A6.bind(null,t),na:k6.bind(null,t)}),t.da.push(async e=>{e?(t.fa.B_(),await mp(t)):(await t.fa.stop(),t.Ta.length>0&&(re(xs,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))})),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sw{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new di,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){const s=Date.now()+r,a=new Sw(e,n,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new le(Y.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Pw(t,e){if(_i("AsyncQueue",`${e}: ${t}`),yl(t))return new le(Y.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ia{static emptySet(e){return new Ia(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||de.comparator(n.key,r.key):(n,r)=>de.comparator(n.key,r.key),this.keyedMap=sc(),this.sortedSet=new pt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Ia)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Ia;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _b{constructor(){this.ga=new pt(de.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):ge(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal((n,r)=>{e.push(r)}),e}}class Ka{constructor(e,n,r,i,o,s,a,l,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,i,o){const s=[];return n.forEach(a=>{s.push({type:0,doc:a})}),new Ka(e,n,Ia.emptySet(n),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&lp(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D6{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class M6{constructor(){this.queries=xb(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const i=be(n),o=i.queries;i.queries=xb(),o.forEach((s,a)=>{for(const l of a.Sa)l.onError(r)})})(this,new le(Y.ABORTED,"Firestore shutting down"))}}function xb(){return new Rs(t=>bA(t),lp)}async function rk(t,e){const n=be(t);let r=3;const i=e.query;let o=n.queries.get(i);o?!o.ba()&&e.Da()&&(r=2):(o=new D6,r=e.Da()?0:1);try{switch(r){case 0:o.wa=await n.onListen(i,!0);break;case 1:o.wa=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(s){const a=Pw(s,`Initialization of query '${Zs(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,o),o.Sa.push(e),e.va(n.onlineState),o.wa&&e.Fa(o.wa)&&Iw(n)}async function ik(t,e){const n=be(t),r=e.query;let i=3;const o=n.queries.get(r);if(o){const s=o.Sa.indexOf(e);s>=0&&(o.Sa.splice(s,1),o.Sa.length===0?i=e.Da()?0:1:!o.ba()&&e.Da()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function O6(t,e){const n=be(t);let r=!1;for(const i of e){const o=i.query,s=n.queries.get(o);if(s){for(const a of s.Sa)a.Fa(i)&&(r=!0);s.wa=i}}r&&Iw(n)}function L6(t,e,n){const r=be(t),i=r.queries.get(e);if(i)for(const o of i.Sa)o.onError(n);r.queries.delete(e)}function Iw(t){t.Ca.forEach(e=>{e.next()})}var fy,Eb;(Eb=fy||(fy={})).Ma="default",Eb.Cache="cache";class ok{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Ka(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Ka.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==fy.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sk{constructor(e){this.key=e}}class ak{constructor(e){this.key=e}}class V6{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Re(),this.mutatedKeys=Re(),this.eu=TA(e),this.tu=new Ia(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new _b,i=n?n.tu:this.tu;let o=n?n.mutatedKeys:this.mutatedKeys,s=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,c=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((u,f)=>{const h=i.get(u),g=cp(this.query,f)?f:null,w=!!h&&this.mutatedKeys.has(h.key),v=!!g&&(g.hasLocalMutations||this.mutatedKeys.has(g.key)&&g.hasCommittedMutations);let E=!1;h&&g?h.data.isEqual(g.data)?w!==v&&(r.track({type:3,doc:g}),E=!0):this.su(h,g)||(r.track({type:2,doc:g}),E=!0,(l&&this.eu(g,l)>0||c&&this.eu(g,c)<0)&&(a=!0)):!h&&g?(r.track({type:0,doc:g}),E=!0):h&&!g&&(r.track({type:1,doc:h}),E=!0,(l||c)&&(a=!0)),E&&(g?(s=s.add(g),o=v?o.add(u):o.delete(u)):(s=s.delete(u),o=o.delete(u)))}),this.query.limit!==null)for(;s.size>this.query.limit;){const u=this.query.limitType==="F"?s.last():s.first();s=s.delete(u.key),o=o.delete(u.key),r.track({type:1,doc:u})}return{tu:s,iu:r,Cs:a,mutatedKeys:o}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const o=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const s=e.iu.ya();s.sort((u,f)=>function(g,w){const v=E=>{switch(E){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ge(20277,{Rt:E})}};return v(g)-v(w)}(u.type,f.type)||this.eu(u.doc,f.doc)),this.ou(r),i=i??!1;const a=n&&!i?this._u():[],l=this.Xa.size===0&&this.current&&!i?1:0,c=l!==this.Za;return this.Za=l,s.length!==0||c?{snapshot:new Ka(this.query,e.tu,o,s,e.mutatedKeys,l===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:a}:{au:a}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new _b,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(n=>this.Ya=this.Ya.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ya=this.Ya.delete(n)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Re(),this.tu.forEach(r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))});const n=[];return e.forEach(r=>{this.Xa.has(r)||n.push(new ak(r))}),this.Xa.forEach(r=>{e.has(r)||n.push(new sk(r))}),n}cu(e){this.Ya=e.Qs,this.Xa=Re();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Ka.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Aw="SyncEngine";class j6{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class F6{constructor(e){this.key=e,this.hu=!1}}class $6{constructor(e,n,r,i,o,s){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.Pu={},this.Tu=new Rs(a=>bA(a),lp),this.Iu=new Map,this.Eu=new Set,this.du=new pt(de.comparator),this.Au=new Map,this.Ru=new yw,this.Vu={},this.mu=new Map,this.fu=Ya.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function U6(t,e,n=!0){const r=hk(t);let i;const o=r.Tu.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.lu()):i=await lk(r,e,n,!0),i}async function B6(t,e){const n=hk(t);await lk(n,e,!0,!1)}async function lk(t,e,n,r){const i=await l6(t.localStore,Mr(e)),o=i.targetId,s=t.sharedClientState.addLocalQueryTarget(o,n);let a;return r&&(a=await W6(t,e,o,s==="current",i.resumeToken)),t.isPrimaryClient&&n&&XA(t.remoteStore,i),a}async function W6(t,e,n,r,i){t.pu=(f,h,g)=>async function(v,E,x,y){let b=E.view.ru(x);b.Cs&&(b=await pb(v.localStore,E.query,!1).then(({documents:S})=>E.view.ru(S,b)));const P=y&&y.targetChanges.get(E.targetId),N=y&&y.targetMismatches.get(E.targetId)!=null,M=E.view.applyChanges(b,v.isPrimaryClient,P,N);return Tb(v,E.targetId,M.au),M.snapshot}(t,f,h,g);const o=await pb(t.localStore,e,!0),s=new V6(e,o.Qs),a=s.ru(o.documents),l=Tu.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),c=s.applyChanges(a,t.isPrimaryClient,l);Tb(t,n,c.au);const u=new j6(e,n,s);return t.Tu.set(e,u),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),c.snapshot}async function z6(t,e,n){const r=be(t),i=r.Tu.get(e),o=r.Iu.get(i.targetId);if(o.length>1)return r.Iu.set(i.targetId,o.filter(s=>!lp(s,e))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await uy(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&Ew(r.remoteStore,i.targetId),hy(r,i.targetId)}).catch(vl)):(hy(r,i.targetId),await uy(r.localStore,i.targetId,!0))}async function H6(t,e){const n=be(t),r=n.Tu.get(e),i=n.Iu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Ew(n.remoteStore,r.targetId))}async function q6(t,e,n){const r=Z6(t);try{const i=await function(s,a){const l=be(s),c=it.now(),u=a.reduce((g,w)=>g.add(w.key),Re());let f,h;return l.persistence.runTransaction("Locally write mutations","readwrite",g=>{let w=xi(),v=Re();return l.Ns.getEntries(g,u).next(E=>{w=E,w.forEach((x,y)=>{y.isValidDocument()||(v=v.add(x))})}).next(()=>l.localDocuments.getOverlayedDocuments(g,w)).next(E=>{f=E;const x=[];for(const y of a){const b=aF(y,f.get(y.key).overlayedDocument);b!=null&&x.push(new Uo(y.key,b,gA(b.value.mapValue),Kn.exists(!0)))}return l.mutationQueue.addMutationBatch(g,c,x,a)}).next(E=>{h=E;const x=E.applyToLocalDocumentSet(f,v);return l.documentOverlayCache.saveOverlays(g,E.batchId,x)})}).then(()=>({batchId:h.batchId,changes:SA(f)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,a,l){let c=s.Vu[s.currentUser.toKey()];c||(c=new pt(ke)),c=c.insert(a,l),s.Vu[s.currentUser.toKey()]=c}(r,i.batchId,n),await Su(r,i.changes),await mp(r.remoteStore)}catch(i){const o=Pw(i,"Failed to persist write");n.reject(o)}}async function ck(t,e){const n=be(t);try{const r=await o6(n.localStore,e);e.targetChanges.forEach((i,o)=>{const s=n.Au.get(o);s&&(We(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?s.hu=!0:i.modifiedDocuments.size>0?We(s.hu,14607):i.removedDocuments.size>0&&(We(s.hu,42227),s.hu=!1))}),await Su(n,r,e)}catch(r){await vl(r)}}function bb(t,e,n){const r=be(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Tu.forEach((o,s)=>{const a=s.view.va(e);a.snapshot&&i.push(a.snapshot)}),function(s,a){const l=be(s);l.onlineState=a;let c=!1;l.queries.forEach((u,f)=>{for(const h of f.Sa)h.va(a)&&(c=!0)}),c&&Iw(l)}(r.eventManager,e),i.length&&r.Pu.H_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function G6(t,e,n){const r=be(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Au.get(e),o=i&&i.key;if(o){let s=new pt(de.comparator);s=s.insert(o,on.newNoDocument(o,xe.min()));const a=Re().add(o),l=new fp(xe.min(),new Map,new pt(ke),s,a);await ck(r,l),r.du=r.du.remove(o),r.Au.delete(e),kw(r)}else await uy(r.localStore,e,!1).then(()=>hy(r,e,n)).catch(vl)}async function Y6(t,e){const n=be(t),r=e.batch.batchId;try{const i=await i6(n.localStore,e);dk(n,r,null),uk(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Su(n,i)}catch(i){await vl(i)}}async function K6(t,e,n){const r=be(t);try{const i=await function(s,a){const l=be(s);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let u;return l.mutationQueue.lookupMutationBatch(c,a).next(f=>(We(f!==null,37113),u=f.keys(),l.mutationQueue.removeMutationBatch(c,f))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,u,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,u)).next(()=>l.localDocuments.getDocuments(c,u))})}(r.localStore,e);dk(r,e,n),uk(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Su(r,i)}catch(i){await vl(i)}}function uk(t,e){(t.mu.get(e)||[]).forEach(n=>{n.resolve()}),t.mu.delete(e)}function dk(t,e,n){const r=be(t);let i=r.Vu[r.currentUser.toKey()];if(i){const o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.Vu[r.currentUser.toKey()]=i}}function hy(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach(r=>{t.Ru.containsKey(r)||fk(t,r)})}function fk(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(Ew(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),kw(t))}function Tb(t,e,n){for(const r of n)r instanceof sk?(t.Ru.addReference(r.key,e),Q6(t,r)):r instanceof ak?(re(Aw,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||fk(t,r.key)):ge(19791,{wu:r})}function Q6(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(re(Aw,"New document in limbo: "+n),t.Eu.add(r),kw(t))}function kw(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new de(rt.fromString(e)),r=t.fu.next();t.Au.set(r,new F6(n)),t.du=t.du.insert(n,r),XA(t.remoteStore,new ro(Mr(fw(n.path)),r,"TargetPurposeLimboResolution",ip.ce))}}async function Su(t,e,n){const r=be(t),i=[],o=[],s=[];r.Tu.isEmpty()||(r.Tu.forEach((a,l)=>{s.push(r.pu(l,e,n).then(c=>{var u;if((c||n)&&r.isPrimaryClient){const f=c?!c.fromCache:(u=n==null?void 0:n.targetChanges.get(l.targetId))==null?void 0:u.current;r.sharedClientState.updateQueryState(l.targetId,f?"current":"not-current")}if(c){i.push(c);const f=_w.As(l.targetId,c);o.push(f)}}))}),await Promise.all(s),r.Pu.H_(i),await async function(l,c){const u=be(l);try{await u.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>G.forEach(c,h=>G.forEach(h.Es,g=>u.persistence.referenceDelegate.addReference(f,h.targetId,g)).next(()=>G.forEach(h.ds,g=>u.persistence.referenceDelegate.removeReference(f,h.targetId,g)))))}catch(f){if(!yl(f))throw f;re(xw,"Failed to update sequence numbers: "+f)}for(const f of c){const h=f.targetId;if(!f.fromCache){const g=u.Ms.get(h),w=g.snapshotVersion,v=g.withLastLimboFreeSnapshotVersion(w);u.Ms=u.Ms.insert(h,v)}}}(r.localStore,o))}async function X6(t,e){const n=be(t);if(!n.currentUser.isEqual(e)){re(Aw,"User change. New user:",e.toKey());const r=await GA(n.localStore,e);n.currentUser=e,function(o,s){o.mu.forEach(a=>{a.forEach(l=>{l.reject(new le(Y.CANCELLED,s))})}),o.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Su(n,r.Ls)}}function J6(t,e){const n=be(t),r=n.Au.get(e);if(r&&r.hu)return Re().add(r.key);{let i=Re();const o=n.Iu.get(e);if(!o)return i;for(const s of o){const a=n.Tu.get(s);i=i.unionWith(a.view.nu)}return i}}function hk(t){const e=be(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=ck.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=J6.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=G6.bind(null,e),e.Pu.H_=O6.bind(null,e.eventManager),e.Pu.yu=L6.bind(null,e.eventManager),e}function Z6(t){const e=be(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Y6.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=K6.bind(null,e),e}class sh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=hp(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return r6(this.persistence,new e6,e.initialUser,this.serializer)}Cu(e){return new qA(ww.mi,this.serializer)}Du(e){return new u6}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}sh.provider={build:()=>new sh};class e$ extends sh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){We(this.persistence.referenceDelegate instanceof ih,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new FF(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?wn.withCacheSize(this.cacheSizeBytes):wn.DEFAULT;return new qA(r=>ih.mi(r,n),this.serializer)}}class py{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>bb(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=X6.bind(null,this.syncEngine),await N6(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new M6}()}createDatastore(e){const n=hp(e.databaseInfo.databaseId),r=function(o){return new m6(o)}(e.databaseInfo);return function(o,s,a,l){return new w6(o,s,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,o,s,a){return new x6(r,i,o,s,a)}(this.localStore,this.datastore,e.asyncQueue,n=>bb(this.syncEngine,n,0),function(){return vb.v()?new vb:new d6}())}createSyncEngine(e,n){return function(i,o,s,a,l,c,u){const f=new $6(i,o,s,a,l,c);return u&&(f.gu=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const o=be(i);re(xs,"RemoteStore shutting down."),o.Ea.add(5),await Cu(o),o.Aa.shutdown(),o.Ra.set("Unknown")}(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}py.provider={build:()=>new py};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pk{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):_i("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ko="FirestoreClient";class t${constructor(e,n,r,i,o){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=nn.UNAUTHENTICATED,this.clientId=ow.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,async s=>{re(ko,"Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(re(ko,"Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new di;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Pw(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function cg(t,e){t.asyncQueue.verifyOperationInProgress(),re(ko,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await GA(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function Cb(t,e){t.asyncQueue.verifyOperationInProgress();const n=await n$(t);re(ko,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>wb(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>wb(e.remoteStore,i)),t._onlineComponents=e}async function n$(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){re(ko,"Using user provided OfflineComponentProvider");try{await cg(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===Y.FAILED_PRECONDITION||i.code===Y.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;za("Error using user provided cache. Falling back to memory cache: "+n),await cg(t,new sh)}}else re(ko,"Using default OfflineComponentProvider"),await cg(t,new e$(void 0));return t._offlineComponents}async function mk(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(re(ko,"Using user provided OnlineComponentProvider"),await Cb(t,t._uninitializedComponentsProvider._online)):(re(ko,"Using default OnlineComponentProvider"),await Cb(t,new py))),t._onlineComponents}function r$(t){return mk(t).then(e=>e.syncEngine)}async function gk(t){const e=await mk(t),n=e.eventManager;return n.onListen=U6.bind(null,e.syncEngine),n.onUnlisten=z6.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=B6.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=H6.bind(null,e.syncEngine),n}function i$(t,e,n={}){const r=new di;return t.asyncQueue.enqueueAndForget(async()=>function(o,s,a,l,c){const u=new pk({next:h=>{u.Nu(),s.enqueueAndForget(()=>ik(o,f));const g=h.docs.has(a);!g&&h.fromCache?c.reject(new le(Y.UNAVAILABLE,"Failed to get document because the client is offline.")):g&&h.fromCache&&l&&l.source==="server"?c.reject(new le(Y.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(h)},error:h=>c.reject(h)}),f=new ok(fw(a.path),u,{includeMetadataChanges:!0,qa:!0});return rk(o,f)}(await gk(t),t.asyncQueue,e,n,r)),r.promise}function o$(t,e,n={}){const r=new di;return t.asyncQueue.enqueueAndForget(async()=>function(o,s,a,l,c){const u=new pk({next:h=>{u.Nu(),s.enqueueAndForget(()=>ik(o,f)),h.fromCache&&l.source==="server"?c.reject(new le(Y.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(h)},error:h=>c.reject(h)}),f=new ok(a,u,{includeMetadataChanges:!0,qa:!0});return rk(o,f)}(await gk(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vk(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sb=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yk="firestore.googleapis.com",Pb=!0;class Ib{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new le(Y.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=yk,this.ssl=Pb}else this.host=e.host,this.ssl=e.ssl??Pb;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=HA;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<VF)throw new le(Y.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}x3("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=vk(e.experimentalLongPollingOptions??{}),function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new le(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new le(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new le(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class gp{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Ib({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new le(Y.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new le(Y.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Ib(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new d3;switch(r.type){case"firstParty":return new m3(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new le(Y.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=Sb.get(n);r&&(re("ComponentProvider","Removing Datastore"),Sb.delete(n),r.terminate())}(this),Promise.resolve()}}function s$(t,e,n,r={}){var c;t=pr(t,gp);const i=pl(e),o=t._getSettings(),s={...o,emulatorOptions:t._getEmulatorOptions()},a=`${e}:${n}`;i&&(BI(`https://${a}`),WI("Firestore",!0)),o.host!==yk&&o.host!==a&&za("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const l={...o,host:a,ssl:i,emulatorOptions:r};if(!ys(l,s)&&(t._setSettings(l),r.mockUserToken)){let u,f;if(typeof r.mockUserToken=="string")u=r.mockUserToken,f=nn.MOCK_USER;else{u=Lj(r.mockUserToken,(c=t._app)==null?void 0:c.options.projectId);const h=r.mockUserToken.sub||r.mockUserToken.user_id;if(!h)throw new le(Y.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new nn(h)}t._authCredentials=new f3(new rA(u,f))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vp{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new vp(this.firestore,e,this._query)}}class It{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new yo(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new It(this.firestore,e,this._key)}toJSON(){return{type:It._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(Eu(n,It._jsonSchema))return new It(e,r||null,new de(rt.fromString(n.referencePath)))}}It._jsonSchemaVersion="firestore/documentReference/1.0",It._jsonSchema={type:Pt("string",It._jsonSchemaVersion),referencePath:Pt("string")};class yo extends vp{constructor(e,n,r){super(e,n,fw(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new It(this.firestore,null,new de(e))}withConverter(e){return new yo(this.firestore,e,this._path)}}function Qn(t,e,...n){if(t=Ot(t),iA("collection","path",e),t instanceof gp){const r=rt.fromString(e,...n);return BE(r),new yo(t,null,r)}{if(!(t instanceof It||t instanceof yo))throw new le(Y.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(rt.fromString(e,...n));return BE(r),new yo(t.firestore,null,r)}}function Ei(t,e,...n){if(t=Ot(t),arguments.length===1&&(e=ow.newId()),iA("doc","path",e),t instanceof gp){const r=rt.fromString(e,...n);return UE(r),new It(t,null,new de(r))}{if(!(t instanceof It||t instanceof yo))throw new le(Y.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(rt.fromString(e,...n));return UE(r),new It(t.firestore,t instanceof yo?t.converter:null,new de(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ab="AsyncQueue";class kb{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new KA(this,"async_queue_retry"),this._c=()=>{const r=lg();r&&re(Ab,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=lg();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=lg();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const n=new di;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!yl(e))throw e;re(Ab,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const n=this.ac.then(()=>(this.rc=!0,e().catch(r=>{throw this.nc=r,this.rc=!1,_i("INTERNAL UNHANDLED ERROR: ",Rb(r)),r}).then(r=>(this.rc=!1,r))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const i=Sw.createAndSchedule(this,e,n,r,o=>this.hc(o));return this.tc.push(i),i}uc(){this.nc&&ge(47125,{Pc:Rb(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function Rb(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class Ds extends gp{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new kb,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new kb(e),this._firestoreClient=void 0,await e}}}function a$(t,e){const n=typeof t=="object"?t:GI(),r=typeof t=="string"?t:e||Xf,i=rw(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const o=Mj("firestore");o&&s$(i,...o)}return i}function Rw(t){if(t._terminated)throw new le(Y.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||l$(t),t._firestoreClient}function l$(t){var r,i,o;const e=t._freezeSettings(),n=function(a,l,c,u){return new N3(a,l,c,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,vk(u.experimentalLongPollingOptions),u.useFetchStreams,u.isUsingEmulator)}(t._databaseId,((r=t._app)==null?void 0:r.options.appId)||"",t._persistenceKey,e);t._componentsProvider||(i=e.localCache)!=null&&i._offlineComponentProvider&&((o=e.localCache)!=null&&o._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new t$(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&function(a){const l=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new qn(Yt.fromBase64String(e))}catch(n){throw new le(Y.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new qn(Yt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:qn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Eu(e,qn._jsonSchema))return qn.fromBase64String(e.bytes)}}qn._jsonSchemaVersion="firestore/bytes/1.0",qn._jsonSchema={type:Pt("string",qn._jsonSchemaVersion),bytes:Pt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yp{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new le(Y.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new zt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nw{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lr{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new le(Y.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new le(Y.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return ke(this._lat,e._lat)||ke(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Lr._jsonSchemaVersion}}static fromJSON(e){if(Eu(e,Lr._jsonSchema))return new Lr(e.latitude,e.longitude)}}Lr._jsonSchemaVersion="firestore/geoPoint/1.0",Lr._jsonSchema={type:Pt("string",Lr._jsonSchemaVersion),latitude:Pt("number"),longitude:Pt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vr{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}(this._values,e._values)}toJSON(){return{type:Vr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Eu(e,Vr._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new Vr(e.vectorValues);throw new le(Y.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Vr._jsonSchemaVersion="firestore/vectorValue/1.0",Vr._jsonSchema={type:Pt("string",Vr._jsonSchemaVersion),vectorValues:Pt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c$=/^__.*__$/;class u${constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Uo(e,this.data,this.fieldMask,n,this.fieldTransforms):new bu(e,this.data,n,this.fieldTransforms)}}class wk{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Uo(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function _k(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ge(40011,{Ac:t})}}class Dw{constructor(e,n,r,i,o,s){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.Rc(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Dw({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var i;const n=(i=this.path)==null?void 0:i.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){var i;const n=(i=this.path)==null?void 0:i.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return ah(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(_k(this.Ac)&&c$.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class d${constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||hp(e)}Cc(e,n,r,i=!1){return new Dw({Ac:e,methodName:n,Dc:r,path:zt.emptyPath(),fc:!1,bc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Mw(t){const e=t._freezeSettings(),n=hp(t._databaseId);return new d$(t._databaseId,!!e.ignoreUndefinedProperties,n)}function xk(t,e,n,r,i,o={}){const s=t.Cc(o.merge||o.mergeFields?2:0,e,n,i);Ow("Data must be an object, but it was:",s,r);const a=Ek(r,s);let l,c;if(o.merge)l=new On(s.fieldMask),c=s.fieldTransforms;else if(o.mergeFields){const u=[];for(const f of o.mergeFields){const h=my(e,f,n);if(!s.contains(h))throw new le(Y.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);Tk(u,h)||u.push(h)}l=new On(u),c=s.fieldTransforms.filter(f=>l.covers(f.field))}else l=null,c=s.fieldTransforms;return new u$(new xn(a),l,c)}class wp extends Nw{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof wp}}function f$(t,e,n,r){const i=t.Cc(1,e,n);Ow("Data must be an object, but it was:",i,r);const o=[],s=xn.empty();$o(r,(l,c)=>{const u=Lw(e,l,n);c=Ot(c);const f=i.yc(u);if(c instanceof wp)o.push(u);else{const h=_p(c,f);h!=null&&(o.push(u),s.set(u,h))}});const a=new On(o);return new wk(s,a,i.fieldTransforms)}function h$(t,e,n,r,i,o){const s=t.Cc(1,e,n),a=[my(e,r,n)],l=[i];if(o.length%2!=0)throw new le(Y.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<o.length;h+=2)a.push(my(e,o[h])),l.push(o[h+1]);const c=[],u=xn.empty();for(let h=a.length-1;h>=0;--h)if(!Tk(c,a[h])){const g=a[h];let w=l[h];w=Ot(w);const v=s.yc(g);if(w instanceof wp)c.push(g);else{const E=_p(w,v);E!=null&&(c.push(g),u.set(g,E))}}const f=new On(c);return new wk(u,f,s.fieldTransforms)}function _p(t,e){if(bk(t=Ot(t)))return Ow("Unsupported field value:",e,t),Ek(t,e);if(t instanceof Nw)return function(r,i){if(!_k(i.Ac))throw i.Sc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Sc(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(r,i){const o=[];let s=0;for(const a of r){let l=_p(a,i.wc(s));l==null&&(l={nullValue:"NULL_VALUE"}),o.push(l),s++}return{arrayValue:{values:o}}}(t,e)}return function(r,i){if((r=Ot(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return tF(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=it.fromDate(r);return{timestampValue:rh(i.serializer,o)}}if(r instanceof it){const o=new it(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:rh(i.serializer,o)}}if(r instanceof Lr)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof qn)return{bytesValue:jA(i.serializer,r._byteString)};if(r instanceof It){const o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.Sc(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:vw(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Vr)return function(s,a){return{mapValue:{fields:{[hA]:{stringValue:mA},[Jf]:{arrayValue:{values:s.toArray().map(c=>{if(typeof c!="number")throw a.Sc("VectorValues must only contain numeric values.");return hw(a.serializer,c)})}}}}}}(r,i);throw i.Sc(`Unsupported field value: ${sw(r)}`)}(t,e)}function Ek(t,e){const n={};return aA(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):$o(t,(r,i)=>{const o=_p(i,e.mc(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function bk(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof it||t instanceof Lr||t instanceof qn||t instanceof It||t instanceof Nw||t instanceof Vr)}function Ow(t,e,n){if(!bk(n)||!oA(n)){const r=sw(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function my(t,e,n){if((e=Ot(e))instanceof yp)return e._internalPath;if(typeof e=="string")return Lw(t,e);throw ah("Field path arguments must be of type string or ",t,!1,void 0,n)}const p$=new RegExp("[~\\*/\\[\\]]");function Lw(t,e,n){if(e.search(p$)>=0)throw ah(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new yp(...e.split("."))._internalPath}catch{throw ah(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function ah(t,e,n,r,i){const o=r&&!r.isEmpty(),s=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(o||s)&&(l+=" (found",o&&(l+=` in field ${r}`),s&&(l+=` in document ${i}`),l+=")"),new le(Y.INVALID_ARGUMENT,a+t+l)}function Tk(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ck{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new It(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new m$(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Sk("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class m$ extends Ck{data(){return super.data()}}function Sk(t,e){return typeof e=="string"?Lw(t,e):e instanceof yp?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g$(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new le(Y.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class v${convertValue(e,n="none"){switch(Io(e)){case 0:return null;case 1:return e.booleanValue;case 2:return wt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Po(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw ge(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return $o(e,(i,o)=>{r[i]=this.convertValue(o,n)}),r}convertVectorValue(e){var r,i,o;const n=(o=(i=(r=e.fields)==null?void 0:r[Jf].arrayValue)==null?void 0:i.values)==null?void 0:o.map(s=>wt(s.doubleValue));return new Vr(n)}convertGeoPoint(e){return new Lr(wt(e.latitude),wt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=sp(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(eu(e));default:return null}}convertTimestamp(e){const n=So(e);return new it(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=rt.fromString(e);We(zA(r),9688,{name:e});const i=new tu(r.get(1),r.get(3)),o=new de(r.popFirst(5));return i.isEqual(n)||_i(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pk(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class lc{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class fs extends Ck{constructor(e,n,r,i,o,s){super(e,n,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new df(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Sk("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new le(Y.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=fs._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}fs._jsonSchemaVersion="firestore/documentSnapshot/1.0",fs._jsonSchema={type:Pt("string",fs._jsonSchemaVersion),bundleSource:Pt("string","DocumentSnapshot"),bundleName:Pt("string"),bundle:Pt("string")};class df extends fs{data(e={}){return super.data(e)}}class Aa{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new lc(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new df(this._firestore,this._userDataWriter,r.key,r,new lc(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new le(Y.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>{const l=new df(i._firestore,i._userDataWriter,a.doc.key,a.doc,new lc(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>o||a.type!==3).map(a=>{const l=new df(i._firestore,i._userDataWriter,a.doc.key,a.doc,new lc(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let c=-1,u=-1;return a.type!==0&&(c=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),a.type!==1&&(s=s.add(a.doc),u=s.indexOf(a.doc.key)),{type:y$(a.type),doc:l,oldIndex:c,newIndex:u}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new le(Y.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Aa._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=ow.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],i=[];return this.docs.forEach(o=>{o._document!==null&&(n.push(o._document),r.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),i.push(o.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function y$(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ge(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xp(t){t=pr(t,It);const e=pr(t.firestore,Ds);return i$(Rw(e),t._key).then(n=>_$(e,t,n))}Aa._jsonSchemaVersion="firestore/querySnapshot/1.0",Aa._jsonSchema={type:Pt("string",Aa._jsonSchemaVersion),bundleSource:Pt("string","QuerySnapshot"),bundleName:Pt("string"),bundle:Pt("string")};class Ik extends v${constructor(e){super(),this.firestore=e}convertBytes(e){return new qn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new It(this.firestore,null,n)}}function bi(t){t=pr(t,vp);const e=pr(t.firestore,Ds),n=Rw(e),r=new Ik(e);return g$(t._query),o$(n,t._query).then(i=>new Aa(e,r,t,i))}function w$(t,e,n){t=pr(t,It);const r=pr(t.firestore,Ds),i=Pk(t.converter,e,n);return Ep(r,[xk(Mw(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,Kn.none())])}function Vw(t,e,n,...r){t=pr(t,It);const i=pr(t.firestore,Ds),o=Mw(i);let s;return s=typeof(e=Ot(e))=="string"||e instanceof yp?h$(o,"updateDoc",t._key,e,n,r):f$(o,"updateDoc",t._key,e),Ep(i,[s.toMutation(t._key,Kn.exists(!0))])}function gy(t){return Ep(pr(t.firestore,Ds),[new pw(t._key,Kn.none())])}function vy(t,e){const n=pr(t.firestore,Ds),r=Ei(t),i=Pk(t.converter,e);return Ep(n,[xk(Mw(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Kn.exists(!1))]).then(()=>r)}function Ep(t,e){return function(r,i){const o=new di;return r.asyncQueue.enqueueAndForget(async()=>q6(await r$(r),i,o)),o.promise}(Rw(t),e)}function _$(t,e,n){const r=n.docs.get(e._key),i=new Ik(t);return new fs(t,i,e._key,r,new lc(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){gl=i})(ml),Wa(new ws("firestore",(r,{instanceIdentifier:i,options:o})=>{const s=r.getProvider("app").getImmediate(),a=new Ds(new h3(r.getProvider("auth-internal")),new g3(s,r.getProvider("app-check-internal")),function(c,u){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new le(Y.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new tu(c.options.projectId,u)}(s,i),s);return o={useFetchStreams:n,...o},a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),go(VE,jE,e),go(VE,jE,"esm2020")})();function Ak(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const x$=Ak,kk=new _u("auth","Firebase",Ak());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lh=new tw("@firebase/auth");function E$(t,...e){lh.logLevel<=Ae.WARN&&lh.warn(`Auth (${ml}): ${t}`,...e)}function ff(t,...e){lh.logLevel<=Ae.ERROR&&lh.error(`Auth (${ml}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mr(t,...e){throw jw(t,...e)}function jr(t,...e){return jw(t,...e)}function Rk(t,e,n){const r={...x$(),[e]:n};return new _u("auth","Firebase",r).create(e,{appName:t.name})}function Fr(t){return Rk(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function jw(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return kk.create(t,...e)}function ue(t,e,...n){if(!t)throw jw(e,...n)}function ai(t){const e="INTERNAL ASSERTION FAILED: "+t;throw ff(e),new Error(e)}function Ti(t,e){t||ai(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yy(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function b$(){return Nb()==="http:"||Nb()==="https:"}function Nb(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T$(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(b$()||Bj()||"connection"in navigator)?navigator.onLine:!0}function C$(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pu{constructor(e,n){this.shortDelay=e,this.longDelay=n,Ti(n>e,"Short delay should be less than long delay!"),this.isMobile=Fj()||Wj()}get(){return T$()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fw(t,e){Ti(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nk{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ai("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ai("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ai("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S$={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P$=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],I$=new Pu(3e4,6e4);function Di(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function Yr(t,e,n,r,i={}){return Dk(t,i,async()=>{let o={},s={};r&&(e==="GET"?s=r:o={body:JSON.stringify(r)});const a=xu({key:t.config.apiKey,...s}).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const c={method:e,headers:l,...o};return Uj()||(c.referrerPolicy="no-referrer"),t.emulatorConfig&&pl(t.emulatorConfig.host)&&(c.credentials="include"),Nk.fetch()(await Mk(t,t.config.apiHost,n,a),c)})}async function Dk(t,e,n){t._canInitEmulator=!1;const r={...S$,...e};try{const i=new k$(t),o=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const s=await o.json();if("needConfirmation"in s)throw Id(t,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{const a=o.ok?s.errorMessage:s.error.message,[l,c]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Id(t,"credential-already-in-use",s);if(l==="EMAIL_EXISTS")throw Id(t,"email-already-in-use",s);if(l==="USER_DISABLED")throw Id(t,"user-disabled",s);const u=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw Rk(t,u,c);mr(t,u)}}catch(i){if(i instanceof Ni)throw i;mr(t,"network-request-failed",{message:String(i)})}}async function Iu(t,e,n,r,i={}){const o=await Yr(t,e,n,r,i);return"mfaPendingCredential"in o&&mr(t,"multi-factor-auth-required",{_serverResponse:o}),o}async function Mk(t,e,n,r){const i=`${e}${n}?${r}`,o=t,s=o.config.emulator?Fw(t.config,i):`${t.config.apiScheme}://${i}`;return P$.includes(n)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(s).toString():s}function A$(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class k${clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(jr(this.auth,"network-request-failed")),I$.get())})}}function Id(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=jr(t,e,r);return i.customData._tokenResponse=n,i}function Db(t){return t!==void 0&&t.enterprise!==void 0}class R${constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return A$(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function N$(t,e){return Yr(t,"GET","/v2/recaptchaConfig",Di(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function D$(t,e){return Yr(t,"POST","/v1/accounts:delete",e)}async function ch(t,e){return Yr(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tc(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function M$(t,e=!1){const n=Ot(t),r=await n.getIdToken(e),i=$w(r);ue(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const o=typeof i.firebase=="object"?i.firebase:void 0,s=o==null?void 0:o.sign_in_provider;return{claims:i,token:r,authTime:Tc(ug(i.auth_time)),issuedAtTime:Tc(ug(i.iat)),expirationTime:Tc(ug(i.exp)),signInProvider:s||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function ug(t){return Number(t)*1e3}function $w(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return ff("JWT malformed, contained fewer than 3 sections"),null;try{const i=jI(n);return i?JSON.parse(i):(ff("Failed to decode base64 JWT payload"),null)}catch(i){return ff("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function Mb(t){const e=$w(t);return ue(e,"internal-error"),ue(typeof e.exp<"u","internal-error"),ue(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qa(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Ni&&O$(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function O$({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L${constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wy{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Tc(this.lastLoginAt),this.creationTime=Tc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uh(t){var f;const e=t.auth,n=await t.getIdToken(),r=await Qa(t,ch(e,{idToken:n}));ue(r==null?void 0:r.users.length,e,"internal-error");const i=r.users[0];t._notifyReloadListener(i);const o=(f=i.providerUserInfo)!=null&&f.length?Ok(i.providerUserInfo):[],s=j$(t.providerData,o),a=t.isAnonymous,l=!(t.email&&i.passwordHash)&&!(s!=null&&s.length),c=a?l:!1,u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new wy(i.createdAt,i.lastLoginAt),isAnonymous:c};Object.assign(t,u)}async function V$(t){const e=Ot(t);await uh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function j$(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function Ok(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function F$(t,e){const n=await Dk(t,{},async()=>{const r=xu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,s=await Mk(t,i,"/v1/token",`key=${o}`),a=await t._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";const l={method:"POST",headers:a,body:r};return t.emulatorConfig&&pl(t.emulatorConfig.host)&&(l.credentials="include"),Nk.fetch()(s,l)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function $$(t,e){return Yr(t,"POST","/v2/accounts:revokeToken",Di(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ka{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ue(e.idToken,"internal-error"),ue(typeof e.idToken<"u","internal-error"),ue(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Mb(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){ue(e.length!==0,"internal-error");const n=Mb(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ue(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:o}=await F$(e,n);this.updateTokensAndExpiration(r,i,Number(o))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:o}=n,s=new ka;return r&&(ue(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(ue(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&(ue(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ka,this.toJSON())}_performRefresh(){return ai("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fi(t,e){ue(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class ur{constructor({uid:e,auth:n,stsTokenManager:r,...i}){this.providerId="firebase",this.proactiveRefresh=new L$(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new wy(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await Qa(this,this.stsTokenManager.getToken(this.auth,e));return ue(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return M$(this,e)}reload(){return V$(this)}_assign(e){this!==e&&(ue(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new ur({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){ue(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await uh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Dn(this.auth.app))return Promise.reject(Fr(this.auth));const e=await this.getIdToken();return await Qa(this,D$(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,i=n.email??void 0,o=n.phoneNumber??void 0,s=n.photoURL??void 0,a=n.tenantId??void 0,l=n._redirectEventId??void 0,c=n.createdAt??void 0,u=n.lastLoginAt??void 0,{uid:f,emailVerified:h,isAnonymous:g,providerData:w,stsTokenManager:v}=n;ue(f&&v,e,"internal-error");const E=ka.fromJSON(this.name,v);ue(typeof f=="string",e,"internal-error"),Fi(r,e.name),Fi(i,e.name),ue(typeof h=="boolean",e,"internal-error"),ue(typeof g=="boolean",e,"internal-error"),Fi(o,e.name),Fi(s,e.name),Fi(a,e.name),Fi(l,e.name),Fi(c,e.name),Fi(u,e.name);const x=new ur({uid:f,auth:e,email:i,emailVerified:h,displayName:r,isAnonymous:g,photoURL:s,phoneNumber:o,tenantId:a,stsTokenManager:E,createdAt:c,lastLoginAt:u});return w&&Array.isArray(w)&&(x.providerData=w.map(y=>({...y}))),l&&(x._redirectEventId=l),x}static async _fromIdTokenResponse(e,n,r=!1){const i=new ka;i.updateFromServerResponse(n);const o=new ur({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await uh(o),o}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];ue(i.localId!==void 0,"internal-error");const o=i.providerUserInfo!==void 0?Ok(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!(o!=null&&o.length),a=new ka;a.updateFromIdToken(r);const l=new ur({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:s}),c={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new wy(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(o!=null&&o.length)};return Object.assign(l,c),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ob=new Map;function li(t){Ti(t instanceof Function,"Expected a class definition");let e=Ob.get(t);return e?(Ti(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,Ob.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lk{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}Lk.type="NONE";const Lb=Lk;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hf(t,e,n){return`firebase:${t}:${e}:${n}`}class Ra{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:o}=this.auth;this.fullUserKey=hf(this.userKey,i.apiKey,o),this.fullPersistenceKey=hf("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await ch(this.auth,{idToken:e}).catch(()=>{});return n?ur._fromGetAccountInfoResponse(this.auth,n,e):null}return ur._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Ra(li(Lb),e,r);const i=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let o=i[0]||li(Lb);const s=hf(r,e.config.apiKey,e.name);let a=null;for(const c of n)try{const u=await c._get(s);if(u){let f;if(typeof u=="string"){const h=await ch(e,{idToken:u}).catch(()=>{});if(!h)break;f=await ur._fromGetAccountInfoResponse(e,h,u)}else f=ur._fromJSON(e,u);c!==o&&(a=f),o=c;break}}catch{}const l=i.filter(c=>c._shouldAllowMigration);return!o._shouldAllowMigration||!l.length?new Ra(o,e,r):(o=l[0],a&&await o._set(s,a.toJSON()),await Promise.all(n.map(async c=>{if(c!==o)try{await c._remove(s)}catch{}})),new Ra(o,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vb(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if($k(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Vk(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Bk(e))return"Blackberry";if(Wk(e))return"Webos";if(jk(e))return"Safari";if((e.includes("chrome/")||Fk(e))&&!e.includes("edge/"))return"Chrome";if(Uk(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function Vk(t=ln()){return/firefox\//i.test(t)}function jk(t=ln()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Fk(t=ln()){return/crios\//i.test(t)}function $k(t=ln()){return/iemobile/i.test(t)}function Uk(t=ln()){return/android/i.test(t)}function Bk(t=ln()){return/blackberry/i.test(t)}function Wk(t=ln()){return/webos/i.test(t)}function Uw(t=ln()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function U$(t=ln()){var e;return Uw(t)&&!!((e=window.navigator)!=null&&e.standalone)}function B$(){return zj()&&document.documentMode===10}function zk(t=ln()){return Uw(t)||Uk(t)||Wk(t)||Bk(t)||/windows phone/i.test(t)||$k(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hk(t,e=[]){let n;switch(t){case"Browser":n=Vb(ln());break;case"Worker":n=`${Vb(ln())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${ml}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W${constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=o=>new Promise((s,a)=>{try{const l=e(o);s(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function z$(t,e={}){return Yr(t,"GET","/v2/passwordPolicy",Di(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H$=6;class q${constructor(e){var r;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??H$,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((r=e.allowedNonAlphanumericCharacters)==null?void 0:r.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G${constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new jb(this),this.idTokenSubscription=new jb(this),this.beforeStateQueue=new W$(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=kk,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=li(n)),this._initializationPromise=this.queue(async()=>{var r,i,o;if(!this._deleted&&(this.persistenceManager=await Ra.create(this,e),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((i=this._popupRedirectResolver)!=null&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((o=this.currentUser)==null?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await ch(this,{idToken:e}),r=await ur._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var o;if(Dn(this.app)){const s=this.app.settings.authIdToken;return s?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(a,a))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const s=(o=this.redirectUser)==null?void 0:o._redirectEventId,a=r==null?void 0:r._redirectEventId,l=await this.tryRedirectSignIn(e);(!s||s===a)&&(l!=null&&l.user)&&(r=l.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(s){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return ue(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await uh(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=C$()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Dn(this.app))return Promise.reject(Fr(this));const n=e?Ot(e):null;return n&&ue(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ue(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Dn(this.app)?Promise.reject(Fr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Dn(this.app)?Promise.reject(Fr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(li(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await z$(this),n=new q$(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new _u("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await $$(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&li(e)||this._popupRedirectResolver;ue(n,this,"argument-error"),this.redirectPersistenceManager=await Ra.create(this,[li(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const o=typeof n=="function"?n:n.next.bind(n);let s=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(ue(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{s=!0,l()}}else{const l=e.addObserver(n);return()=>{s=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ue(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Hk(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var i;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((i=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:i.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){var n;if(Dn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&E$(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function Bo(t){return Ot(t)}class jb{constructor(e){this.auth=e,this.observer=null,this.addObserver=Jj(n=>this.observer=n)}get next(){return ue(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let bp={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Y$(t){bp=t}function qk(t){return bp.loadJS(t)}function K$(){return bp.recaptchaEnterpriseScript}function Q$(){return bp.gapiScript}function X$(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class J${constructor(){this.enterprise=new Z$}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class Z${ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const e9="recaptcha-enterprise",Gk="NO_RECAPTCHA";class t9{constructor(e){this.type=e9,this.auth=Bo(e)}async verify(e="verify",n=!1){async function r(o){if(!n){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(s,a)=>{N$(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const c=new R$(l);return o.tenantId==null?o._agentRecaptchaConfig=c:o._tenantRecaptchaConfigs[o.tenantId]=c,s(c.siteKey)}}).catch(l=>{a(l)})})}function i(o,s,a){const l=window.grecaptcha;Db(l)?l.enterprise.ready(()=>{l.enterprise.execute(o,{action:e}).then(c=>{s(c)}).catch(()=>{s(Gk)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new J$().execute("siteKey",{action:"verify"}):new Promise((o,s)=>{r(this.auth).then(a=>{if(!n&&Db(window.grecaptcha))i(a,o,s);else{if(typeof window>"u"){s(new Error("RecaptchaVerifier is only supported in browser"));return}let l=K$();l.length!==0&&(l+=a),qk(l).then(()=>{i(a,o,s)}).catch(c=>{s(c)})}}).catch(a=>{s(a)})})}}async function Gl(t,e,n,r=!1,i=!1){const o=new t9(t);let s;if(i)s=Gk;else try{s=await o.verify(n)}catch{s=await o.verify(n,!0)}const a={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in a){const l=a.phoneEnrollmentInfo.phoneNumber,c=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:l,recaptchaToken:c,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){const l=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:l,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return r?Object.assign(a,{captchaResp:s}):Object.assign(a,{captchaResponse:s}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function dh(t,e,n,r,i){var o,s;if(i==="EMAIL_PASSWORD_PROVIDER")if((o=t._getRecaptchaConfig())!=null&&o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const a=await Gl(t,e,n,n==="getOobCode");return r(t,a)}else return r(t,e).catch(async a=>{if(a.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const l=await Gl(t,e,n,n==="getOobCode");return r(t,l)}else return Promise.reject(a)});else if(i==="PHONE_PROVIDER")if((s=t._getRecaptchaConfig())!=null&&s.isProviderEnabled("PHONE_PROVIDER")){const a=await Gl(t,e,n);return r(t,a).catch(async l=>{var c;if(((c=t._getRecaptchaConfig())==null?void 0:c.getProviderEnforcementState("PHONE_PROVIDER"))==="AUDIT"&&(l.code==="auth/missing-recaptcha-token"||l.code==="auth/invalid-app-credential")){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${n} flow.`);const u=await Gl(t,e,n,!1,!0);return r(t,u)}return Promise.reject(l)})}else{const a=await Gl(t,e,n,!1,!0);return r(t,a)}else return Promise.reject(i+" provider is not supported.")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n9(t,e){const n=rw(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),o=n.getOptions();if(ys(o,e??{}))return i;mr(i,"already-initialized")}return n.initialize({options:e})}function r9(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(li);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function i9(t,e,n){const r=Bo(t);ue(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!(n!=null&&n.disableWarnings),o=Yk(e),{host:s,port:a}=o9(e),l=a===null?"":`:${a}`,c={url:`${o}//${s}${l}/`},u=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){ue(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),ue(ys(c,r.config.emulator)&&ys(u,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=c,r.emulatorConfig=u,r.settings.appVerificationDisabledForTesting=!0,pl(s)?(BI(`${o}//${s}${l}`),WI("Auth",!0)):i||s9()}function Yk(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function o9(t){const e=Yk(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const o=i[1];return{host:o,port:Fb(r.substr(o.length+1))}}else{const[o,s]=r.split(":");return{host:o,port:Fb(s)}}}function Fb(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function s9(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bw{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return ai("not implemented")}_getIdTokenResponse(e){return ai("not implemented")}_linkToIdToken(e,n){return ai("not implemented")}_getReauthenticationResolver(e){return ai("not implemented")}}async function a9(t,e){return Yr(t,"POST","/v1/accounts:update",e)}async function l9(t,e){return Yr(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function c9(t,e){return Iu(t,"POST","/v1/accounts:signInWithPassword",Di(t,e))}async function u9(t,e){return Yr(t,"POST","/v1/accounts:sendOobCode",Di(t,e))}async function d9(t,e){return u9(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function f9(t,e){return Iu(t,"POST","/v1/accounts:signInWithEmailLink",Di(t,e))}async function h9(t,e){return Iu(t,"POST","/v1/accounts:signInWithEmailLink",Di(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ou extends Bw{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new ou(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new ou(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return dh(e,n,"signInWithPassword",c9,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return f9(e,{email:this._email,oobCode:this._password});default:mr(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return dh(e,r,"signUpPassword",l9,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return h9(e,{idToken:n,email:this._email,oobCode:this._password});default:mr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Na(t,e){return Iu(t,"POST","/v1/accounts:signInWithIdp",Di(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p9="http://localhost";class Es extends Bw{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Es(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):mr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i,...o}=n;if(!r||!i)return null;const s=new Es(r,i);return s.idToken=o.idToken||void 0,s.accessToken=o.accessToken||void 0,s.secret=o.secret,s.nonce=o.nonce,s.pendingToken=o.pendingToken||null,s}_getIdTokenResponse(e){const n=this.buildRequest();return Na(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Na(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Na(e,n)}buildRequest(){const e={requestUri:p9,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=xu(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m9(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function g9(t){const e=rc(ic(t)).link,n=e?rc(ic(e)).deep_link_id:null,r=rc(ic(t)).deep_link_id;return(r?rc(ic(r)).link:null)||r||n||e||t}class Ww{constructor(e){const n=rc(ic(e)),r=n.apiKey??null,i=n.oobCode??null,o=m9(n.mode??null);ue(r&&i&&o,"argument-error"),this.apiKey=r,this.operation=o,this.code=i,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=g9(e);try{return new Ww(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _l{constructor(){this.providerId=_l.PROVIDER_ID}static credential(e,n){return ou._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=Ww.parseLink(n);return ue(r,"argument-error"),ou._fromEmailAndCode(e,r.code,r.tenantId)}}_l.PROVIDER_ID="password";_l.EMAIL_PASSWORD_SIGN_IN_METHOD="password";_l.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kk{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Au extends Kk{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qi extends Au{constructor(){super("facebook.com")}static credential(e){return Es._fromParams({providerId:Qi.PROVIDER_ID,signInMethod:Qi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Qi.credentialFromTaggedObject(e)}static credentialFromError(e){return Qi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Qi.credential(e.oauthAccessToken)}catch{return null}}}Qi.FACEBOOK_SIGN_IN_METHOD="facebook.com";Qi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xi extends Au{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Es._fromParams({providerId:Xi.PROVIDER_ID,signInMethod:Xi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Xi.credentialFromTaggedObject(e)}static credentialFromError(e){return Xi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Xi.credential(n,r)}catch{return null}}}Xi.GOOGLE_SIGN_IN_METHOD="google.com";Xi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ji extends Au{constructor(){super("github.com")}static credential(e){return Es._fromParams({providerId:Ji.PROVIDER_ID,signInMethod:Ji.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ji.credentialFromTaggedObject(e)}static credentialFromError(e){return Ji.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ji.credential(e.oauthAccessToken)}catch{return null}}}Ji.GITHUB_SIGN_IN_METHOD="github.com";Ji.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zi extends Au{constructor(){super("twitter.com")}static credential(e,n){return Es._fromParams({providerId:Zi.PROVIDER_ID,signInMethod:Zi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Zi.credentialFromTaggedObject(e)}static credentialFromError(e){return Zi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Zi.credential(n,r)}catch{return null}}}Zi.TWITTER_SIGN_IN_METHOD="twitter.com";Zi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function v9(t,e){return Iu(t,"POST","/v1/accounts:signUp",Di(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bs{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const o=await ur._fromIdTokenResponse(e,r,i),s=$b(r);return new bs({user:o,providerId:s,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=$b(r);return new bs({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function $b(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fh extends Ni{constructor(e,n,r,i){super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,fh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new fh(e,n,r,i)}}function Qk(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?fh._fromErrorAndOperation(t,o,e,r):o})}async function y9(t,e,n=!1){const r=await Qa(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return bs._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function w9(t,e,n=!1){const{auth:r}=t;if(Dn(r.app))return Promise.reject(Fr(r));const i="reauthenticate";try{const o=await Qa(t,Qk(r,i,e,t),n);ue(o.idToken,r,"internal-error");const s=$w(o.idToken);ue(s,r,"internal-error");const{sub:a}=s;return ue(t.uid===a,r,"user-mismatch"),bs._forOperation(t,i,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&mr(r,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xk(t,e,n=!1){if(Dn(t.app))return Promise.reject(Fr(t));const r="signIn",i=await Qk(t,r,e),o=await bs._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(o.user),o}async function _9(t,e){return Xk(Bo(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x9(t,e,n){var r;ue(((r=n.url)==null?void 0:r.length)>0,t,"invalid-continue-uri"),ue(typeof n.dynamicLinkDomain>"u"||n.dynamicLinkDomain.length>0,t,"invalid-dynamic-link-domain"),ue(typeof n.linkDomain>"u"||n.linkDomain.length>0,t,"invalid-hosting-link-domain"),e.continueUrl=n.url,e.dynamicLinkDomain=n.dynamicLinkDomain,e.linkDomain=n.linkDomain,e.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(ue(n.iOS.bundleId.length>0,t,"missing-ios-bundle-id"),e.iOSBundleId=n.iOS.bundleId),n.android&&(ue(n.android.packageName.length>0,t,"missing-android-pkg-name"),e.androidInstallApp=n.android.installApp,e.androidMinimumVersionCode=n.android.minimumVersion,e.androidPackageName=n.android.packageName)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Jk(t){const e=Bo(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function E9(t,e,n){const r=Bo(t),i={requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"};n&&x9(r,i,n),await dh(r,i,"getOobCode",d9,"EMAIL_PASSWORD_PROVIDER")}async function b9(t,e,n){if(Dn(t.app))return Promise.reject(Fr(t));const r=Bo(t),s=await dh(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",v9,"EMAIL_PASSWORD_PROVIDER").catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&Jk(t),l}),a=await bs._fromIdTokenResponse(r,"signIn",s);return await r._updateCurrentUser(a.user),a}function T9(t,e,n){return Dn(t.app)?Promise.reject(Fr(t)):_9(Ot(t),_l.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&Jk(t),r})}function C9(t,e){const n=Ot(t);return Dn(n.auth.app)?Promise.reject(Fr(n.auth)):Zk(n,e,null)}function S9(t,e){return Zk(Ot(t),null,e)}async function Zk(t,e,n){const{auth:r}=t,o={idToken:await t.getIdToken(),returnSecureToken:!0};e&&(o.email=e),n&&(o.password=n);const s=await Qa(t,a9(r,o));await t._updateTokensIfNecessary(s,!0)}function P9(t,e,n,r){return Ot(t).onIdTokenChanged(e,n,r)}function I9(t,e,n){return Ot(t).beforeAuthStateChanged(e,n)}function A9(t,e,n,r){return Ot(t).onAuthStateChanged(e,n,r)}function k9(t){return Ot(t).signOut()}const hh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eR{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(hh,"1"),this.storage.removeItem(hh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R9=1e3,N9=10;class tR extends eR{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=zk(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((s,a,l)=>{this.notifyListeners(s,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const s=this.storage.getItem(r);!n&&this.localCache[r]===s||this.notifyListeners(r,s)},o=this.storage.getItem(r);B$()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,N9):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},R9)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}tR.type="LOCAL";const D9=tR;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nR extends eR{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}nR.type="SESSION";const rR=nR;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M9(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tp{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new Tp(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:o}=n.data,s=this.handlersMap[i];if(!(s!=null&&s.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(s).map(async c=>c(n.origin,o)),l=await M9(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Tp.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zw(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O9{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,s;return new Promise((a,l)=>{const c=zw("",20);i.port1.start();const u=setTimeout(()=>{l(new Error("unsupported_event"))},r);s={messageChannel:i,onMessage(f){const h=f;if(h.data.eventId===c)switch(h.data.status){case"ack":clearTimeout(u),o=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),a(h.data.response);break;default:clearTimeout(u),clearTimeout(o),l(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $r(){return window}function L9(t){$r().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iR(){return typeof $r().WorkerGlobalScope<"u"&&typeof $r().importScripts=="function"}async function V9(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function j9(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function F9(){return iR()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oR="firebaseLocalStorageDb",$9=1,ph="firebaseLocalStorage",sR="fbase_key";class ku{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Cp(t,e){return t.transaction([ph],e?"readwrite":"readonly").objectStore(ph)}function U9(){const t=indexedDB.deleteDatabase(oR);return new ku(t).toPromise()}function _y(){const t=indexedDB.open(oR,$9);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(ph,{keyPath:sR})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(ph)?e(r):(r.close(),await U9(),e(await _y()))})})}async function Ub(t,e,n){const r=Cp(t,!0).put({[sR]:e,value:n});return new ku(r).toPromise()}async function B9(t,e){const n=Cp(t,!1).get(e),r=await new ku(n).toPromise();return r===void 0?null:r.value}function Bb(t,e){const n=Cp(t,!0).delete(e);return new ku(n).toPromise()}const W9=800,z9=3;class aR{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await _y(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>z9)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return iR()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Tp._getInstance(F9()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,r;if(this.activeServiceWorker=await V9(),!this.activeServiceWorker)return;this.sender=new O9(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(r=e[0])!=null&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||j9()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await _y();return await Ub(e,hh,"1"),await Bb(e,hh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>Ub(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>B9(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Bb(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const o=Cp(i,!1).getAll();return new ku(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:o}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(o)&&(this.notifyListeners(i,o),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),W9)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}aR.type="LOCAL";const H9=aR;new Pu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q9(t,e){return e?li(e):(ue(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hw extends Bw{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Na(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Na(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Na(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function G9(t){return Xk(t.auth,new Hw(t),t.bypassAuthState)}function Y9(t){const{auth:e,user:n}=t;return ue(n,e,"internal-error"),w9(n,new Hw(t),t.bypassAuthState)}async function K9(t){const{auth:e,user:n}=t;return ue(n,e,"internal-error"),y9(n,new Hw(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lR{constructor(e,n,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:o,error:s,type:a}=e;if(s){this.reject(s);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return G9;case"linkViaPopup":case"linkViaRedirect":return K9;case"reauthViaPopup":case"reauthViaRedirect":return Y9;default:mr(this.auth,"internal-error")}}resolve(e){Ti(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ti(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q9=new Pu(2e3,1e4);class pa extends lR{constructor(e,n,r,i,o){super(e,n,i,o),this.provider=r,this.authWindow=null,this.pollId=null,pa.currentPopupAction&&pa.currentPopupAction.cancel(),pa.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ue(e,this.auth,"internal-error"),e}async onExecution(){Ti(this.filter.length===1,"Popup operations only handle one event");const e=zw();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(jr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(jr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,pa.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if((r=(n=this.authWindow)==null?void 0:n.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(jr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,Q9.get())};e()}}pa.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X9="pendingRedirect",pf=new Map;class J9 extends lR{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=pf.get(this.auth._key());if(!e){try{const r=await Z9(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}pf.set(this.auth._key(),e)}return this.bypassAuthState||pf.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Z9(t,e){const n=nU(e),r=tU(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function eU(t,e){pf.set(t._key(),e)}function tU(t){return li(t._redirectPersistence)}function nU(t){return hf(X9,t.config.apiKey,t.name)}async function rU(t,e,n=!1){if(Dn(t.app))return Promise.reject(Fr(t));const r=Bo(t),i=q9(r,e),s=await new J9(r,i,n).execute();return s&&!n&&(delete s.user._redirectEventId,await r._persistUserIfCurrent(s.user),await r._setRedirectUser(null,e)),s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iU=10*60*1e3;class oU{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!sU(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!cR(e)){const i=((r=e.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";n.onError(jr(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=iU&&this.cachedEventUids.clear(),this.cachedEventUids.has(Wb(e))}saveEventToCache(e){this.cachedEventUids.add(Wb(e)),this.lastProcessedEventTime=Date.now()}}function Wb(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function cR({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function sU(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return cR(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aU(t,e={}){return Yr(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lU=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,cU=/^https?/;async function uU(t){if(t.config.emulator)return;const{authorizedDomains:e}=await aU(t);for(const n of e)try{if(dU(n))return}catch{}mr(t,"unauthorized-domain")}function dU(t){const e=yy(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const s=new URL(t);return s.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&s.hostname===r}if(!cU.test(n))return!1;if(lU.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fU=new Pu(3e4,6e4);function zb(){const t=$r().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function hU(t){return new Promise((e,n)=>{var i,o,s;function r(){zb(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{zb(),n(jr(t,"network-request-failed"))},timeout:fU.get()})}if((o=(i=$r().gapi)==null?void 0:i.iframes)!=null&&o.Iframe)e(gapi.iframes.getContext());else if((s=$r().gapi)!=null&&s.load)r();else{const a=X$("iframefcb");return $r()[a]=()=>{gapi.load?r():n(jr(t,"network-request-failed"))},qk(`${Q$()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw mf=null,e})}let mf=null;function pU(t){return mf=mf||hU(t),mf}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mU=new Pu(5e3,15e3),gU="__/auth/iframe",vU="emulator/auth/iframe",yU={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},wU=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function _U(t){const e=t.config;ue(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Fw(e,vU):`https://${t.config.authDomain}/${gU}`,r={apiKey:e.apiKey,appName:t.name,v:ml},i=wU.get(t.config.apiHost);i&&(r.eid=i);const o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${xu(r).slice(1)}`}async function xU(t){const e=await pU(t),n=$r().gapi;return ue(n,t,"internal-error"),e.open({where:document.body,url:_U(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:yU,dontclear:!0},r=>new Promise(async(i,o)=>{await r.restyle({setHideOnLeave:!1});const s=jr(t,"network-request-failed"),a=$r().setTimeout(()=>{o(s)},mU.get());function l(){$r().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{o(s)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EU={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},bU=500,TU=600,CU="_blank",SU="http://localhost";class Hb{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function PU(t,e,n,r=bU,i=TU){const o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l={...EU,width:r.toString(),height:i.toString(),top:o,left:s},c=ln().toLowerCase();n&&(a=Fk(c)?CU:n),Vk(c)&&(e=e||SU,l.scrollbars="yes");const u=Object.entries(l).reduce((h,[g,w])=>`${h}${g}=${w},`,"");if(U$(c)&&a!=="_self")return IU(e||"",a),new Hb(null);const f=window.open(e||"",a,u);ue(f,t,"popup-blocked");try{f.focus()}catch{}return new Hb(f)}function IU(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AU="__/auth/handler",kU="emulator/auth/handler",RU=encodeURIComponent("fac");async function qb(t,e,n,r,i,o){ue(t.config.authDomain,t,"auth-domain-config-required"),ue(t.config.apiKey,t,"invalid-api-key");const s={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:ml,eventId:i};if(e instanceof Kk){e.setDefaultLanguage(t.languageCode),s.providerId=e.providerId||"",Xj(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(const[u,f]of Object.entries(o||{}))s[u]=f}if(e instanceof Au){const u=e.getScopes().filter(f=>f!=="");u.length>0&&(s.scopes=u.join(","))}t.tenantId&&(s.tid=t.tenantId);const a=s;for(const u of Object.keys(a))a[u]===void 0&&delete a[u];const l=await t._getAppCheckToken(),c=l?`#${RU}=${encodeURIComponent(l)}`:"";return`${NU(t)}?${xu(a).slice(1)}${c}`}function NU({config:t}){return t.emulator?Fw(t,kU):`https://${t.authDomain}/${AU}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dg="webStorageSupport";class DU{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=rR,this._completeRedirectFn=rU,this._overrideRedirectResult=eU}async _openPopup(e,n,r,i){var s;Ti((s=this.eventManagers[e._key()])==null?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await qb(e,n,r,yy(),i);return PU(e,o,zw())}async _openRedirect(e,n,r,i){await this._originValidation(e);const o=await qb(e,n,r,yy(),i);return L9(o),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:o}=this.eventManagers[n];return i?Promise.resolve(i):(Ti(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await xU(e),r=new oU(e);return n.register("authEvent",i=>(ue(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(dg,{type:dg},i=>{var s;const o=(s=i==null?void 0:i[0])==null?void 0:s[dg];o!==void 0&&n(!!o),mr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=uU(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return zk()||jk()||Uw()}}const MU=DU;var Gb="@firebase/auth",Yb="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OU{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ue(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LU(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function VU(t){Wa(new ws("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;ue(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:s,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Hk(t)},c=new G$(r,i,o,l);return r9(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Wa(new ws("auth-internal",e=>{const n=Bo(e.getProvider("auth").getImmediate());return(r=>new OU(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),go(Gb,Yb,LU(t)),go(Gb,Yb,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jU=5*60,FU=UI("authIdTokenMaxAge")||jU;let Kb=null;const $U=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>FU)return;const i=n==null?void 0:n.token;Kb!==i&&(Kb=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function UU(t=GI()){const e=rw(t,"auth");if(e.isInitialized())return e.getImmediate();const n=n9(t,{popupRedirectResolver:MU,persistence:[H9,D9,rR]}),r=UI("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(r,location.origin);if(location.origin===o.origin){const s=$U(o.toString());I9(n,s,()=>s(n.currentUser)),P9(n,a=>s(a))}}const i=FI("auth");return i&&i9(n,`http://${i}`),n}function BU(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}Y$({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const o=jr("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",BU().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});VU("Browser");const WU={apiKey:"AIzaSyB_DoE2lhYw7INy1ucJ3hQwXHBsQrmD-DY",authDomain:"rnf-app.firebaseapp.com",projectId:"rnf-app",storageBucket:"rnf-app.firebasestorage.app",messagingSenderId:"771820334247",appId:"1:771820334247:web:a096ff668dc8963f5b7f82"},uR=qI(WU),At=a$(uR),or=UU(uR),dR=m.createContext(null),zU=({children:t})=>{const[e,n]=m.useState(null),[r,i]=m.useState(!0),[o,s]=m.useState(null);m.useEffect(()=>{const w=A9(or,async v=>{try{if(v){n({id:v.uid,uid:v.uid,email:v.email});const E=Ei(At,`users/${v.uid}/preferences`,"display"),x=await xp(E);x.exists()?s(x.data()):s({theme:"light",units:"metric"})}else n(null),s(null)}catch(E){console.error("Failed to load preferences",E),s({theme:"light",units:"metric"})}finally{i(!1)}});return()=>w()},[]);const a=async(w,v)=>{await T9(or,w,v)},l=async(w,v)=>{await b9(or,w,v)},c=async w=>{await E9(or,w)},u=async()=>{await k9(or),n(null),s(null)},f=async w=>{or.currentUser&&(await C9(or.currentUser,w),n(v=>v&&{...v,email:w}))},h=async w=>{or.currentUser&&await S9(or.currentUser,w)},g=async w=>{if(!or.currentUser)return;const v=Ei(At,`users/${or.currentUser.uid}/preferences`,"display");try{await w$(v,w),s(w)}catch(E){console.error("Failed to save preferences",E)}};return p.jsx(dR.Provider,{value:{user:e,login:a,register:l,logout:u,resetPassword:c,updateEmail:f,updatePassword:h,preferences:o,savePreferences:g,loadingAuth:r},children:t})},Ms=()=>m.useContext(dR);function fR(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=fR(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function hR(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=fR(t))&&(r&&(r+=" "),r+=e);return r}function HU(){for(var t=0,e,n,r="";t<arguments.length;)(e=arguments[t++])&&(n=pR(e))&&(r&&(r+=" "),r+=n);return r}function pR(t){if(typeof t=="string")return t;for(var e,n="",r=0;r<t.length;r++)t[r]&&(e=pR(t[r]))&&(n&&(n+=" "),n+=e);return n}var qw="-";function qU(t){var e=YU(t),n=t.conflictingClassGroups,r=t.conflictingClassGroupModifiers,i=r===void 0?{}:r;function o(a){var l=a.split(qw);return l[0]===""&&l.length!==1&&l.shift(),mR(l,e)||GU(a)}function s(a,l){var c=n[a]||[];return l&&i[a]?[].concat(c,i[a]):c}return{getClassGroupId:o,getConflictingClassGroupIds:s}}function mR(t,e){var s;if(t.length===0)return e.classGroupId;var n=t[0],r=e.nextPart.get(n),i=r?mR(t.slice(1),r):void 0;if(i)return i;if(e.validators.length!==0){var o=t.join(qw);return(s=e.validators.find(function(a){var l=a.validator;return l(o)}))==null?void 0:s.classGroupId}}var Qb=/^\[(.+)\]$/;function GU(t){if(Qb.test(t)){var e=Qb.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}}function YU(t){var e=t.theme,n=t.prefix,r={nextPart:new Map,validators:[]},i=QU(Object.entries(t.classGroups),n);return i.forEach(function(o){var s=o[0],a=o[1];xy(a,r,s,e)}),r}function xy(t,e,n,r){t.forEach(function(i){if(typeof i=="string"){var o=i===""?e:Xb(e,i);o.classGroupId=n;return}if(typeof i=="function"){if(KU(i)){xy(i(r),e,n,r);return}e.validators.push({validator:i,classGroupId:n});return}Object.entries(i).forEach(function(s){var a=s[0],l=s[1];xy(l,Xb(e,a),n,r)})})}function Xb(t,e){var n=t;return e.split(qw).forEach(function(r){n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n}function KU(t){return t.isThemeGetter}function QU(t,e){return e?t.map(function(n){var r=n[0],i=n[1],o=i.map(function(s){return typeof s=="string"?e+s:typeof s=="object"?Object.fromEntries(Object.entries(s).map(function(a){var l=a[0],c=a[1];return[e+l,c]})):s});return[r,o]}):t}function XU(t){if(t<1)return{get:function(){},set:function(){}};var e=0,n=new Map,r=new Map;function i(o,s){n.set(o,s),e++,e>t&&(e=0,r=n,n=new Map)}return{get:function(s){var a=n.get(s);if(a!==void 0)return a;if((a=r.get(s))!==void 0)return i(s,a),a},set:function(s,a){n.has(s)?n.set(s,a):i(s,a)}}}var gR="!";function JU(t){var e=t.separator||":",n=e.length===1,r=e[0],i=e.length;return function(s){for(var a=[],l=0,c=0,u,f=0;f<s.length;f++){var h=s[f];if(l===0){if(h===r&&(n||s.slice(f,f+i)===e)){a.push(s.slice(c,f)),c=f+i;continue}if(h==="/"){u=f;continue}}h==="["?l++:h==="]"&&l--}var g=a.length===0?s:s.substring(c),w=g.startsWith(gR),v=w?g.substring(1):g,E=u&&u>c?u-c:void 0;return{modifiers:a,hasImportantModifier:w,baseClassName:v,maybePostfixModifierPosition:E}}}function ZU(t){if(t.length<=1)return t;var e=[],n=[];return t.forEach(function(r){var i=r[0]==="[";i?(e.push.apply(e,n.sort().concat([r])),n=[]):n.push(r)}),e.push.apply(e,n.sort()),e}function e7(t){return{cache:XU(t.cacheSize),splitModifiers:JU(t),...qU(t)}}var t7=/\s+/;function n7(t,e){var n=e.splitModifiers,r=e.getClassGroupId,i=e.getConflictingClassGroupIds,o=new Set;return t.trim().split(t7).map(function(s){var a=n(s),l=a.modifiers,c=a.hasImportantModifier,u=a.baseClassName,f=a.maybePostfixModifierPosition,h=r(f?u.substring(0,f):u),g=!!f;if(!h){if(!f)return{isTailwindClass:!1,originalClassName:s};if(h=r(u),!h)return{isTailwindClass:!1,originalClassName:s};g=!1}var w=ZU(l).join(":"),v=c?w+gR:w;return{isTailwindClass:!0,modifierId:v,classGroupId:h,originalClassName:s,hasPostfixModifier:g}}).reverse().filter(function(s){if(!s.isTailwindClass)return!0;var a=s.modifierId,l=s.classGroupId,c=s.hasPostfixModifier,u=a+l;return o.has(u)?!1:(o.add(u),i(l,c).forEach(function(f){return o.add(a+f)}),!0)}).reverse().map(function(s){return s.originalClassName}).join(" ")}function r7(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r,i,o,s=a;function a(c){var u=e[0],f=e.slice(1),h=f.reduce(function(g,w){return w(g)},u());return r=e7(h),i=r.cache.get,o=r.cache.set,s=l,l(c)}function l(c){var u=i(c);if(u)return u;var f=n7(c,r);return o(c,f),f}return function(){return s(HU.apply(null,arguments))}}function tt(t){var e=function(r){return r[t]||[]};return e.isThemeGetter=!0,e}var vR=/^\[(?:([a-z-]+):)?(.+)\]$/i,i7=/^\d+\/\d+$/,o7=new Set(["px","full","screen"]),s7=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,a7=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,l7=/^-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/;function sr(t){return ls(t)||o7.has(t)||i7.test(t)||Ey(t)}function Ey(t){return Os(t,"length",p7)}function c7(t){return Os(t,"size",yR)}function u7(t){return Os(t,"position",yR)}function d7(t){return Os(t,"url",m7)}function Ad(t){return Os(t,"number",ls)}function ls(t){return!Number.isNaN(Number(t))}function f7(t){return t.endsWith("%")&&ls(t.slice(0,-1))}function Yl(t){return Jb(t)||Os(t,"number",Jb)}function Ie(t){return vR.test(t)}function Kl(){return!0}function $i(t){return s7.test(t)}function h7(t){return Os(t,"",g7)}function Os(t,e,n){var r=vR.exec(t);return r?r[1]?r[1]===e:n(r[2]):!1}function p7(t){return a7.test(t)}function yR(){return!1}function m7(t){return t.startsWith("url(")}function Jb(t){return Number.isInteger(Number(t))}function g7(t){return l7.test(t)}function v7(){var t=tt("colors"),e=tt("spacing"),n=tt("blur"),r=tt("brightness"),i=tt("borderColor"),o=tt("borderRadius"),s=tt("borderSpacing"),a=tt("borderWidth"),l=tt("contrast"),c=tt("grayscale"),u=tt("hueRotate"),f=tt("invert"),h=tt("gap"),g=tt("gradientColorStops"),w=tt("gradientColorStopPositions"),v=tt("inset"),E=tt("margin"),x=tt("opacity"),y=tt("padding"),b=tt("saturate"),P=tt("scale"),N=tt("sepia"),M=tt("skew"),S=tt("space"),C=tt("translate"),I=function(){return["auto","contain","none"]},A=function(){return["auto","hidden","clip","visible","scroll"]},D=function(){return["auto",Ie,e]},O=function(){return[Ie,e]},R=function(){return["",sr]},F=function(){return["auto",ls,Ie]},q=function(){return["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"]},K=function(){return["solid","dashed","dotted","double","none"]},z=function(){return["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity","plus-lighter"]},L=function(){return["start","end","center","between","around","evenly","stretch"]},j=function(){return["","0",Ie]},B=function(){return["auto","avoid","all","avoid-page","page","left","right","column"]},$=function(){return[ls,Ad]},H=function(){return[ls,Ie]};return{cacheSize:500,theme:{colors:[Kl],spacing:[sr],blur:["none","",$i,Ie],brightness:$(),borderColor:[t],borderRadius:["none","","full",$i,Ie],borderSpacing:O(),borderWidth:R(),contrast:$(),grayscale:j(),hueRotate:H(),invert:j(),gap:O(),gradientColorStops:[t],gradientColorStopPositions:[f7,Ey],inset:D(),margin:D(),opacity:$(),padding:O(),saturate:$(),scale:$(),sepia:j(),skew:H(),space:O(),translate:O()},classGroups:{aspect:[{aspect:["auto","square","video",Ie]}],container:["container"],columns:[{columns:[$i]}],"break-after":[{"break-after":B()}],"break-before":[{"break-before":B()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none"]}],clear:[{clear:["left","right","both","none"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[].concat(q(),[Ie])}],overflow:[{overflow:A()}],"overflow-x":[{"overflow-x":A()}],"overflow-y":[{"overflow-y":A()}],overscroll:[{overscroll:I()}],"overscroll-x":[{"overscroll-x":I()}],"overscroll-y":[{"overscroll-y":I()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[v]}],"inset-x":[{"inset-x":[v]}],"inset-y":[{"inset-y":[v]}],start:[{start:[v]}],end:[{end:[v]}],top:[{top:[v]}],right:[{right:[v]}],bottom:[{bottom:[v]}],left:[{left:[v]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Yl]}],basis:[{basis:D()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Ie]}],grow:[{grow:j()}],shrink:[{shrink:j()}],order:[{order:["first","last","none",Yl]}],"grid-cols":[{"grid-cols":[Kl]}],"col-start-end":[{col:["auto",{span:["full",Yl]},Ie]}],"col-start":[{"col-start":F()}],"col-end":[{"col-end":F()}],"grid-rows":[{"grid-rows":[Kl]}],"row-start-end":[{row:["auto",{span:[Yl]},Ie]}],"row-start":[{"row-start":F()}],"row-end":[{"row-end":F()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Ie]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Ie]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal"].concat(L())}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal"].concat(L(),["baseline"])}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[].concat(L(),["baseline"])}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[y]}],px:[{px:[y]}],py:[{py:[y]}],ps:[{ps:[y]}],pe:[{pe:[y]}],pt:[{pt:[y]}],pr:[{pr:[y]}],pb:[{pb:[y]}],pl:[{pl:[y]}],m:[{m:[E]}],mx:[{mx:[E]}],my:[{my:[E]}],ms:[{ms:[E]}],me:[{me:[E]}],mt:[{mt:[E]}],mr:[{mr:[E]}],mb:[{mb:[E]}],ml:[{ml:[E]}],"space-x":[{"space-x":[S]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[S]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit",Ie,e]}],"min-w":[{"min-w":["min","max","fit",Ie,sr]}],"max-w":[{"max-w":["0","none","full","min","max","fit","prose",{screen:[$i]},$i,Ie]}],h:[{h:[Ie,e,"auto","min","max","fit"]}],"min-h":[{"min-h":["min","max","fit",Ie,sr]}],"max-h":[{"max-h":[Ie,e,"min","max","fit"]}],"font-size":[{text:["base",$i,Ey]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Ad]}],"font-family":[{font:[Kl]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Ie]}],"line-clamp":[{"line-clamp":["none",ls,Ad]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Ie,sr]}],"list-image":[{"list-image":["none",Ie]}],"list-style-type":[{list:["none","disc","decimal",Ie]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[x]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[x]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[].concat(K(),["wavy"])}],"text-decoration-thickness":[{decoration:["auto","from-font",sr]}],"underline-offset":[{"underline-offset":["auto",Ie,sr]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],indent:[{indent:O()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ie]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ie]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[x]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[].concat(q(),[u7])}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",c7]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},d7]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[w]}],"gradient-via-pos":[{via:[w]}],"gradient-to-pos":[{to:[w]}],"gradient-from":[{from:[g]}],"gradient-via":[{via:[g]}],"gradient-to":[{to:[g]}],rounded:[{rounded:[o]}],"rounded-s":[{"rounded-s":[o]}],"rounded-e":[{"rounded-e":[o]}],"rounded-t":[{"rounded-t":[o]}],"rounded-r":[{"rounded-r":[o]}],"rounded-b":[{"rounded-b":[o]}],"rounded-l":[{"rounded-l":[o]}],"rounded-ss":[{"rounded-ss":[o]}],"rounded-se":[{"rounded-se":[o]}],"rounded-ee":[{"rounded-ee":[o]}],"rounded-es":[{"rounded-es":[o]}],"rounded-tl":[{"rounded-tl":[o]}],"rounded-tr":[{"rounded-tr":[o]}],"rounded-br":[{"rounded-br":[o]}],"rounded-bl":[{"rounded-bl":[o]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[x]}],"border-style":[{border:[].concat(K(),["hidden"])}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[x]}],"divide-style":[{divide:K()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:[""].concat(K())}],"outline-offset":[{"outline-offset":[Ie,sr]}],"outline-w":[{outline:[sr]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:R()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[x]}],"ring-offset-w":[{"ring-offset":[sr]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",$i,h7]}],"shadow-color":[{shadow:[Kl]}],opacity:[{opacity:[x]}],"mix-blend":[{"mix-blend":z()}],"bg-blend":[{"bg-blend":z()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",$i,Ie]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[u]}],invert:[{invert:[f]}],saturate:[{saturate:[b]}],sepia:[{sepia:[N]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[u]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[x]}],"backdrop-saturate":[{"backdrop-saturate":[b]}],"backdrop-sepia":[{"backdrop-sepia":[N]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[s]}],"border-spacing-x":[{"border-spacing-x":[s]}],"border-spacing-y":[{"border-spacing-y":[s]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Ie]}],duration:[{duration:H()}],ease:[{ease:["linear","in","out","in-out",Ie]}],delay:[{delay:H()}],animate:[{animate:["none","spin","ping","pulse","bounce",Ie]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[P]}],"scale-x":[{"scale-x":[P]}],"scale-y":[{"scale-y":[P]}],rotate:[{rotate:[Yl,Ie]}],"translate-x":[{"translate-x":[C]}],"translate-y":[{"translate-y":[C]}],"skew-x":[{"skew-x":[M]}],"skew-y":[{"skew-y":[M]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Ie]}],accent:[{accent:["auto",t]}],appearance:["appearance-none"],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ie]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":O()}],"scroll-mx":[{"scroll-mx":O()}],"scroll-my":[{"scroll-my":O()}],"scroll-ms":[{"scroll-ms":O()}],"scroll-me":[{"scroll-me":O()}],"scroll-mt":[{"scroll-mt":O()}],"scroll-mr":[{"scroll-mr":O()}],"scroll-mb":[{"scroll-mb":O()}],"scroll-ml":[{"scroll-ml":O()}],"scroll-p":[{"scroll-p":O()}],"scroll-px":[{"scroll-px":O()}],"scroll-py":[{"scroll-py":O()}],"scroll-ps":[{"scroll-ps":O()}],"scroll-pe":[{"scroll-pe":O()}],"scroll-pt":[{"scroll-pt":O()}],"scroll-pr":[{"scroll-pr":O()}],"scroll-pb":[{"scroll-pb":O()}],"scroll-pl":[{"scroll-pl":O()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","pinch-zoom","manipulation",{pan:["x","left","right","y","up","down"]}]}],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ie]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[sr,Ad]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}}var y7=r7(v7);function Ne(...t){return y7(hR(t))}function Zb(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function w7(...t){return e=>{let n=!1;const r=t.map(i=>{const o=Zb(i,e);return!n&&typeof o=="function"&&(n=!0),o});if(n)return()=>{for(let i=0;i<r.length;i++){const o=r[i];typeof o=="function"?o():Zb(t[i],null)}}}}function lt(...t){return m.useCallback(w7(...t),t)}function Xa(t){const e=x7(t),n=m.forwardRef((r,i)=>{const{children:o,...s}=r,a=m.Children.toArray(o),l=a.find(b7);if(l){const c=l.props.children,u=a.map(f=>f===l?m.Children.count(c)>1?m.Children.only(null):m.isValidElement(c)?c.props.children:null:f);return p.jsx(e,{...s,ref:i,children:m.isValidElement(c)?m.cloneElement(c,void 0,u):null})}return p.jsx(e,{...s,ref:i,children:o})});return n.displayName=`${t}.Slot`,n}var _7=Xa("Slot");function x7(t){const e=m.forwardRef((n,r)=>{const{children:i,...o}=n,s=m.isValidElement(i)?C7(i):void 0,a=lt(s,r);if(m.isValidElement(i)){const l=T7(o,i.props);return i.type!==m.Fragment&&(l.ref=a),m.cloneElement(i,l)}return m.Children.count(i)>1?m.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var E7=Symbol("radix.slottable");function b7(t){return m.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===E7}function T7(t,e){const n={...e};for(const r in e){const i=t[r],o=e[r];/^on[A-Z]/.test(r)?i&&o?n[r]=(...a)=>{const l=o(...a);return i(...a),l}:i&&(n[r]=i):r==="style"?n[r]={...i,...o}:r==="className"&&(n[r]=[i,o].filter(Boolean).join(" "))}return{...t,...n}}function C7(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}const eT=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,tT=hR,Ru=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return tT(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:i,defaultVariants:o}=e,s=Object.keys(i).map(c=>{const u=n==null?void 0:n[c],f=o==null?void 0:o[c];if(u===null)return null;const h=eT(u)||eT(f);return i[c][h]}),a=n&&Object.entries(n).reduce((c,u)=>{let[f,h]=u;return h===void 0||(c[f]=h),c},{}),l=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((c,u)=>{let{class:f,className:h,...g}=u;return Object.entries(g).every(w=>{let[v,E]=w;return Array.isArray(E)?E.includes({...o,...a}[v]):{...o,...a}[v]===E})?[...c,f,h]:c},[]);return tT(t,s,l,n==null?void 0:n.class,n==null?void 0:n.className)},by=Ru("inline-flex items-center justify-center rounded-lg text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-[#E27DBF] text-white hover:bg-[#FFB1DD]",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-lg px-3",lg:"h-11 rounded-lg px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),Ee=we.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...i},o)=>{const s=r?_7:"button";return p.jsx(s,{className:Ne(by({variant:e,size:n,className:t})),ref:o,...i})});Ee.displayName="Button";const Xn=we.forwardRef(({className:t,type:e,...n},r)=>p.jsx("input",{type:e,className:Ne("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:shadow-[0_0_0_3px_rgba(226,125,191,0.2)] disabled:cursor-not-allowed disabled:opacity-50",t),ref:r,...n}));Xn.displayName="Input";var S7=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],ze=S7.reduce((t,e)=>{const n=Xa(`Primitive.${e}`),r=m.forwardRef((i,o)=>{const{asChild:s,...a}=i,l=s?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),p.jsx(l,{...a,ref:o})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function wR(t,e){t&&jo.flushSync(()=>t.dispatchEvent(e))}var P7="Label",_R=m.forwardRef((t,e)=>p.jsx(ze.label,{...t,ref:e,onMouseDown:n=>{var i;n.target.closest("button, input, select, textarea")||((i=t.onMouseDown)==null||i.call(t,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));_R.displayName=P7;var xR=_R;const I7=Ru("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Bt=we.forwardRef(({className:t,...e},n)=>p.jsx(xR,{ref:n,className:Ne(I7(),t),...e}));Bt.displayName=xR.displayName;const A7=1;let fg=0;function k7(){return fg=(fg+1)%Number.MAX_VALUE,fg.toString()}const fn={state:{toasts:[]},listeners:[],getState:()=>fn.state,setState:t=>{typeof t=="function"?fn.state=t(fn.state):fn.state={...fn.state,...t},fn.listeners.forEach(e=>e(fn.state))},subscribe:t=>(fn.listeners.push(t),()=>{fn.listeners=fn.listeners.filter(e=>e!==t)})},R7=({...t})=>{const e=k7(),n=i=>fn.setState(o=>({...o,toasts:o.toasts.map(s=>s.id===e?{...s,...i}:s)})),r=()=>fn.setState(i=>({...i,toasts:i.toasts.filter(o=>o.id!==e)}));return fn.setState(i=>({...i,toasts:[{...t,id:e,dismiss:r},...i.toasts].slice(0,A7)})),{id:e,dismiss:r,update:n}};function xl(){const[t,e]=m.useState(fn.getState());return m.useEffect(()=>fn.subscribe(r=>{e(r)}),[]),m.useEffect(()=>{const n=[];return t.toasts.forEach(r=>{if(r.duration===1/0)return;const i=setTimeout(()=>{r.dismiss()},r.duration||5e3);n.push(i)}),()=>{n.forEach(r=>clearTimeout(r))}},[t.toasts]),{toast:R7,toasts:t.toasts}}const ER=m.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"}),Sp=m.createContext({}),Pp=m.createContext(null),Ip=typeof document<"u",Gw=Ip?m.useLayoutEffect:m.useEffect,bR=m.createContext({strict:!1}),Yw=t=>t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),N7="framerAppearId",TR="data-"+Yw(N7);function D7(t,e,n,r){const{visualElement:i}=m.useContext(Sp),o=m.useContext(bR),s=m.useContext(Pp),a=m.useContext(ER).reducedMotion,l=m.useRef();r=r||o.renderer,!l.current&&r&&(l.current=r(t,{visualState:e,parent:i,props:n,presenceContext:s,blockInitialAnimation:s?s.initial===!1:!1,reducedMotionConfig:a}));const c=l.current;m.useInsertionEffect(()=>{c&&c.update(n,s)});const u=m.useRef(!!(n[TR]&&!window.HandoffComplete));return Gw(()=>{c&&(c.render(),u.current&&c.animationState&&c.animationState.animateChanges())}),m.useEffect(()=>{c&&(c.updateFeatures(),!u.current&&c.animationState&&c.animationState.animateChanges(),u.current&&(u.current=!1,window.HandoffComplete=!0))}),c}function ma(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function M7(t,e,n){return m.useCallback(r=>{r&&t.mount&&t.mount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):ma(n)&&(n.current=r))},[e])}function su(t){return typeof t=="string"||Array.isArray(t)}function Ap(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}const Kw=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Qw=["initial",...Kw];function kp(t){return Ap(t.animate)||Qw.some(e=>su(t[e]))}function CR(t){return!!(kp(t)||t.variants)}function O7(t,e){if(kp(t)){const{initial:n,animate:r}=t;return{initial:n===!1||su(n)?n:void 0,animate:su(r)?r:void 0}}return t.inherit!==!1?e:{}}function L7(t){const{initial:e,animate:n}=O7(t,m.useContext(Sp));return m.useMemo(()=>({initial:e,animate:n}),[nT(e),nT(n)])}function nT(t){return Array.isArray(t)?t.join(" "):t}const rT={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},au={};for(const t in rT)au[t]={isEnabled:e=>rT[t].some(n=>!!e[n])};function V7(t){for(const e in t)au[e]={...au[e],...t[e]}}const Xw=m.createContext({}),SR=m.createContext({}),j7=Symbol.for("motionComponentSymbol");function F7({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:i}){t&&V7(t);function o(a,l){let c;const u={...m.useContext(ER),...a,layoutId:$7(a)},{isStatic:f}=u,h=L7(a),g=r(a,f);if(!f&&Ip){h.visualElement=D7(i,g,u,e);const w=m.useContext(SR),v=m.useContext(bR).strict;h.visualElement&&(c=h.visualElement.loadFeatures(u,v,t,w))}return m.createElement(Sp.Provider,{value:h},c&&h.visualElement?m.createElement(c,{visualElement:h.visualElement,...u}):null,n(i,a,M7(g,h.visualElement,l),g,f,h.visualElement))}const s=m.forwardRef(o);return s[j7]=i,s}function $7({layoutId:t}){const e=m.useContext(Xw).id;return e&&t!==void 0?e+"-"+t:t}function U7(t){function e(r,i={}){return F7(t(r,i))}if(typeof Proxy>"u")return e;const n=new Map;return new Proxy(e,{get:(r,i)=>(n.has(i)||n.set(i,e(i)),n.get(i))})}const B7=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Jw(t){return typeof t!="string"||t.includes("-")?!1:!!(B7.indexOf(t)>-1||/[A-Z]/.test(t))}const mh={};function W7(t){Object.assign(mh,t)}const Nu=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Ls=new Set(Nu);function PR(t,{layout:e,layoutId:n}){return Ls.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!mh[t]||t==="opacity")}const In=t=>!!(t&&t.getVelocity),z7={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},H7=Nu.length;function q7(t,{enableHardwareAcceleration:e=!0,allowTransformNone:n=!0},r,i){let o="";for(let s=0;s<H7;s++){const a=Nu[s];if(t[a]!==void 0){const l=z7[a]||a;o+=`${l}(${t[a]}) `}}return e&&!t.z&&(o+="translateZ(0)"),o=o.trim(),i?o=i(t,r?"":o):n&&r&&(o="none"),o}const IR=t=>e=>typeof e=="string"&&e.startsWith(t),AR=IR("--"),Ty=IR("var(--"),G7=/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,Y7=(t,e)=>e&&typeof t=="number"?e.transform(t):t,Ro=(t,e,n)=>Math.min(Math.max(n,t),e),Vs={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Cc={...Vs,transform:t=>Ro(0,1,t)},kd={...Vs,default:1},Sc=t=>Math.round(t*1e5)/1e5,Rp=/(-)?([\d]*\.?[\d])+/g,kR=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,K7=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function Du(t){return typeof t=="string"}const Mu=t=>({test:e=>Du(e)&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Bi=Mu("deg"),Ur=Mu("%"),me=Mu("px"),Q7=Mu("vh"),X7=Mu("vw"),iT={...Ur,parse:t=>Ur.parse(t)/100,transform:t=>Ur.transform(t*100)},oT={...Vs,transform:Math.round},RR={borderWidth:me,borderTopWidth:me,borderRightWidth:me,borderBottomWidth:me,borderLeftWidth:me,borderRadius:me,radius:me,borderTopLeftRadius:me,borderTopRightRadius:me,borderBottomRightRadius:me,borderBottomLeftRadius:me,width:me,maxWidth:me,height:me,maxHeight:me,size:me,top:me,right:me,bottom:me,left:me,padding:me,paddingTop:me,paddingRight:me,paddingBottom:me,paddingLeft:me,margin:me,marginTop:me,marginRight:me,marginBottom:me,marginLeft:me,rotate:Bi,rotateX:Bi,rotateY:Bi,rotateZ:Bi,scale:kd,scaleX:kd,scaleY:kd,scaleZ:kd,skew:Bi,skewX:Bi,skewY:Bi,distance:me,translateX:me,translateY:me,translateZ:me,x:me,y:me,z:me,perspective:me,transformPerspective:me,opacity:Cc,originX:iT,originY:iT,originZ:me,zIndex:oT,fillOpacity:Cc,strokeOpacity:Cc,numOctaves:oT};function Zw(t,e,n,r){const{style:i,vars:o,transform:s,transformOrigin:a}=t;let l=!1,c=!1,u=!0;for(const f in e){const h=e[f];if(AR(f)){o[f]=h;continue}const g=RR[f],w=Y7(h,g);if(Ls.has(f)){if(l=!0,s[f]=w,!u)continue;h!==(g.default||0)&&(u=!1)}else f.startsWith("origin")?(c=!0,a[f]=w):i[f]=w}if(e.transform||(l||r?i.transform=q7(t.transform,n,u,r):i.transform&&(i.transform="none")),c){const{originX:f="50%",originY:h="50%",originZ:g=0}=a;i.transformOrigin=`${f} ${h} ${g}`}}const e1=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function NR(t,e,n){for(const r in e)!In(e[r])&&!PR(r,n)&&(t[r]=e[r])}function J7({transformTemplate:t},e,n){return m.useMemo(()=>{const r=e1();return Zw(r,e,{enableHardwareAcceleration:!n},t),Object.assign({},r.vars,r.style)},[e])}function Z7(t,e,n){const r=t.style||{},i={};return NR(i,r,t),Object.assign(i,J7(t,e,n)),t.transformValues?t.transformValues(i):i}function e8(t,e,n){const r={},i=Z7(t,e,n);return t.drag&&t.dragListener!==!1&&(r.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(r.tabIndex=0),r.style=i,r}const t8=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function gh(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||t8.has(t)}let DR=t=>!gh(t);function n8(t){t&&(DR=e=>e.startsWith("on")?!gh(e):t(e))}try{n8(require("@emotion/is-prop-valid").default)}catch{}function r8(t,e,n){const r={};for(const i in t)i==="values"&&typeof t.values=="object"||(DR(i)||n===!0&&gh(i)||!e&&!gh(i)||t.draggable&&i.startsWith("onDrag"))&&(r[i]=t[i]);return r}function sT(t,e,n){return typeof t=="string"?t:me.transform(e+n*t)}function i8(t,e,n){const r=sT(e,t.x,t.width),i=sT(n,t.y,t.height);return`${r} ${i}`}const o8={offset:"stroke-dashoffset",array:"stroke-dasharray"},s8={offset:"strokeDashoffset",array:"strokeDasharray"};function a8(t,e,n=1,r=0,i=!0){t.pathLength=1;const o=i?o8:s8;t[o.offset]=me.transform(-r);const s=me.transform(e),a=me.transform(n);t[o.array]=`${s} ${a}`}function t1(t,{attrX:e,attrY:n,attrScale:r,originX:i,originY:o,pathLength:s,pathSpacing:a=1,pathOffset:l=0,...c},u,f,h){if(Zw(t,c,u,h),f){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:g,style:w,dimensions:v}=t;g.transform&&(v&&(w.transform=g.transform),delete g.transform),v&&(i!==void 0||o!==void 0||w.transform)&&(w.transformOrigin=i8(v,i!==void 0?i:.5,o!==void 0?o:.5)),e!==void 0&&(g.x=e),n!==void 0&&(g.y=n),r!==void 0&&(g.scale=r),s!==void 0&&a8(g,s,a,l,!1)}const MR=()=>({...e1(),attrs:{}}),n1=t=>typeof t=="string"&&t.toLowerCase()==="svg";function l8(t,e,n,r){const i=m.useMemo(()=>{const o=MR();return t1(o,e,{enableHardwareAcceleration:!1},n1(r),t.transformTemplate),{...o.attrs,style:{...o.style}}},[e]);if(t.style){const o={};NR(o,t.style,t),i.style={...o,...i.style}}return i}function c8(t=!1){return(n,r,i,{latestValues:o},s)=>{const l=(Jw(n)?l8:e8)(r,o,s,n),u={...r8(r,typeof n=="string",t),...l,ref:i},{children:f}=r,h=m.useMemo(()=>In(f)?f.get():f,[f]);return m.createElement(n,{...u,children:h})}}function OR(t,{style:e,vars:n},r,i){Object.assign(t.style,e,i&&i.getProjectionStyles(r));for(const o in n)t.style.setProperty(o,n[o])}const LR=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function VR(t,e,n,r){OR(t,e,void 0,r);for(const i in e.attrs)t.setAttribute(LR.has(i)?i:Yw(i),e.attrs[i])}function r1(t,e){const{style:n}=t,r={};for(const i in n)(In(n[i])||e.style&&In(e.style[i])||PR(i,t))&&(r[i]=n[i]);return r}function jR(t,e){const n=r1(t,e);for(const r in t)if(In(t[r])||In(e[r])){const i=Nu.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;n[i]=t[r]}return n}function i1(t,e,n,r={},i={}){return typeof e=="function"&&(e=e(n!==void 0?n:t.custom,r,i)),typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"&&(e=e(n!==void 0?n:t.custom,r,i)),e}function FR(t){const e=m.useRef(null);return e.current===null&&(e.current=t()),e.current}const vh=t=>Array.isArray(t),u8=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),d8=t=>vh(t)?t[t.length-1]||0:t;function gf(t){const e=In(t)?t.get():t;return u8(e)?e.toValue():e}function f8({scrapeMotionValuesFromProps:t,createRenderState:e,onMount:n},r,i,o){const s={latestValues:h8(r,i,o,t),renderState:e()};return n&&(s.mount=a=>n(r,a,s)),s}const $R=t=>(e,n)=>{const r=m.useContext(Sp),i=m.useContext(Pp),o=()=>f8(t,e,r,i);return n?o():FR(o)};function h8(t,e,n,r){const i={},o=r(t,{});for(const h in o)i[h]=gf(o[h]);let{initial:s,animate:a}=t;const l=kp(t),c=CR(t);e&&c&&!l&&t.inherit!==!1&&(s===void 0&&(s=e.initial),a===void 0&&(a=e.animate));let u=n?n.initial===!1:!1;u=u||s===!1;const f=u?a:s;return f&&typeof f!="boolean"&&!Ap(f)&&(Array.isArray(f)?f:[f]).forEach(g=>{const w=i1(t,g);if(!w)return;const{transitionEnd:v,transition:E,...x}=w;for(const y in x){let b=x[y];if(Array.isArray(b)){const P=u?b.length-1:0;b=b[P]}b!==null&&(i[y]=b)}for(const y in v)i[y]=v[y]}),i}const vt=t=>t;class aT{constructor(){this.order=[],this.scheduled=new Set}add(e){if(!this.scheduled.has(e))return this.scheduled.add(e),this.order.push(e),!0}remove(e){const n=this.order.indexOf(e);n!==-1&&(this.order.splice(n,1),this.scheduled.delete(e))}clear(){this.order.length=0,this.scheduled.clear()}}function p8(t){let e=new aT,n=new aT,r=0,i=!1,o=!1;const s=new WeakSet,a={schedule:(l,c=!1,u=!1)=>{const f=u&&i,h=f?e:n;return c&&s.add(l),h.add(l)&&f&&i&&(r=e.order.length),l},cancel:l=>{n.remove(l),s.delete(l)},process:l=>{if(i){o=!0;return}if(i=!0,[e,n]=[n,e],n.clear(),r=e.order.length,r)for(let c=0;c<r;c++){const u=e.order[c];u(l),s.has(u)&&(a.schedule(u),t())}i=!1,o&&(o=!1,a.process(l))}};return a}const Rd=["prepare","read","update","preRender","render","postRender"],m8=40;function g8(t,e){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},o=Rd.reduce((f,h)=>(f[h]=p8(()=>n=!0),f),{}),s=f=>o[f].process(i),a=()=>{const f=performance.now();n=!1,i.delta=r?1e3/60:Math.max(Math.min(f-i.timestamp,m8),1),i.timestamp=f,i.isProcessing=!0,Rd.forEach(s),i.isProcessing=!1,n&&e&&(r=!1,t(a))},l=()=>{n=!0,r=!0,i.isProcessing||t(a)};return{schedule:Rd.reduce((f,h)=>{const g=o[h];return f[h]=(w,v=!1,E=!1)=>(n||l(),g.schedule(w,v,E)),f},{}),cancel:f=>Rd.forEach(h=>o[h].cancel(f)),state:i,steps:o}}const{schedule:Xe,cancel:Ci,state:tn,steps:hg}=g8(typeof requestAnimationFrame<"u"?requestAnimationFrame:vt,!0),v8={useVisualState:$R({scrapeMotionValuesFromProps:jR,createRenderState:MR,onMount:(t,e,{renderState:n,latestValues:r})=>{Xe.read(()=>{try{n.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{n.dimensions={x:0,y:0,width:0,height:0}}}),Xe.render(()=>{t1(n,r,{enableHardwareAcceleration:!1},n1(e.tagName),t.transformTemplate),VR(e,n)})}})},y8={useVisualState:$R({scrapeMotionValuesFromProps:r1,createRenderState:e1})};function w8(t,{forwardMotionProps:e=!1},n,r){return{...Jw(t)?v8:y8,preloadedFeatures:n,useRender:c8(e),createVisualElement:r,Component:t}}function ci(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}const UR=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1;function Np(t,e="page"){return{point:{x:t[e+"X"],y:t[e+"Y"]}}}const _8=t=>e=>UR(e)&&t(e,Np(e));function fi(t,e,n,r){return ci(t,e,_8(n),r)}const x8=(t,e)=>n=>e(t(n)),wo=(...t)=>t.reduce(x8);function BR(t){let e=null;return()=>{const n=()=>{e=null};return e===null?(e=t,n):!1}}const lT=BR("dragHorizontal"),cT=BR("dragVertical");function WR(t){let e=!1;if(t==="y")e=cT();else if(t==="x")e=lT();else{const n=lT(),r=cT();n&&r?e=()=>{n(),r()}:(n&&n(),r&&r())}return e}function zR(){const t=WR(!0);return t?(t(),!1):!0}class Wo{constructor(e){this.isMounted=!1,this.node=e}update(){}}function uT(t,e){const n="pointer"+(e?"enter":"leave"),r="onHover"+(e?"Start":"End"),i=(o,s)=>{if(o.pointerType==="touch"||zR())return;const a=t.getProps();t.animationState&&a.whileHover&&t.animationState.setActive("whileHover",e),a[r]&&Xe.update(()=>a[r](o,s))};return fi(t.current,n,i,{passive:!t.getProps()[r]})}class E8 extends Wo{mount(){this.unmount=wo(uT(this.node,!0),uT(this.node,!1))}unmount(){}}class b8 extends Wo{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=wo(ci(this.node.current,"focus",()=>this.onFocus()),ci(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const HR=(t,e)=>e?t===e?!0:HR(t,e.parentElement):!1;function pg(t,e){if(!e)return;const n=new PointerEvent("pointer"+t);e(n,Np(n))}class T8 extends Wo{constructor(){super(...arguments),this.removeStartListeners=vt,this.removeEndListeners=vt,this.removeAccessibleListeners=vt,this.startPointerPress=(e,n)=>{if(this.isPressing)return;this.removeEndListeners();const r=this.node.getProps(),o=fi(window,"pointerup",(a,l)=>{if(!this.checkPressEnd())return;const{onTap:c,onTapCancel:u,globalTapTarget:f}=this.node.getProps();Xe.update(()=>{!f&&!HR(this.node.current,a.target)?u&&u(a,l):c&&c(a,l)})},{passive:!(r.onTap||r.onPointerUp)}),s=fi(window,"pointercancel",(a,l)=>this.cancelPress(a,l),{passive:!(r.onTapCancel||r.onPointerCancel)});this.removeEndListeners=wo(o,s),this.startPress(e,n)},this.startAccessiblePress=()=>{const e=o=>{if(o.key!=="Enter"||this.isPressing)return;const s=a=>{a.key!=="Enter"||!this.checkPressEnd()||pg("up",(l,c)=>{const{onTap:u}=this.node.getProps();u&&Xe.update(()=>u(l,c))})};this.removeEndListeners(),this.removeEndListeners=ci(this.node.current,"keyup",s),pg("down",(a,l)=>{this.startPress(a,l)})},n=ci(this.node.current,"keydown",e),r=()=>{this.isPressing&&pg("cancel",(o,s)=>this.cancelPress(o,s))},i=ci(this.node.current,"blur",r);this.removeAccessibleListeners=wo(n,i)}}startPress(e,n){this.isPressing=!0;const{onTapStart:r,whileTap:i}=this.node.getProps();i&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),r&&Xe.update(()=>r(e,n))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!zR()}cancelPress(e,n){if(!this.checkPressEnd())return;const{onTapCancel:r}=this.node.getProps();r&&Xe.update(()=>r(e,n))}mount(){const e=this.node.getProps(),n=fi(e.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(e.onTapStart||e.onPointerStart)}),r=ci(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=wo(n,r)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const Cy=new WeakMap,mg=new WeakMap,C8=t=>{const e=Cy.get(t.target);e&&e(t)},S8=t=>{t.forEach(C8)};function P8({root:t,...e}){const n=t||document;mg.has(n)||mg.set(n,{});const r=mg.get(n),i=JSON.stringify(e);return r[i]||(r[i]=new IntersectionObserver(S8,{root:t,...e})),r[i]}function I8(t,e,n){const r=P8(e);return Cy.set(t,n),r.observe(t),()=>{Cy.delete(t),r.unobserve(t)}}const A8={some:0,all:1};class k8 extends Wo{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:o}=e,s={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:A8[i]},a=l=>{const{isIntersecting:c}=l;if(this.isInView===c||(this.isInView=c,o&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:u,onViewportLeave:f}=this.node.getProps(),h=c?u:f;h&&h(l)};return I8(this.node.current,s,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(R8(e,n))&&this.startObserver()}unmount(){}}function R8({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const N8={inView:{Feature:k8},tap:{Feature:T8},focus:{Feature:b8},hover:{Feature:E8}};function qR(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}function D8(t){const e={};return t.values.forEach((n,r)=>e[r]=n.get()),e}function M8(t){const e={};return t.values.forEach((n,r)=>e[r]=n.getVelocity()),e}function Dp(t,e,n){const r=t.getProps();return i1(r,e,n!==void 0?n:r.custom,D8(t),M8(t))}let O8=vt,o1=vt;const _o=t=>t*1e3,hi=t=>t/1e3,L8={current:!1},GR=t=>Array.isArray(t)&&typeof t[0]=="number";function YR(t){return!!(!t||typeof t=="string"&&KR[t]||GR(t)||Array.isArray(t)&&t.every(YR))}const cc=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,KR={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:cc([0,.65,.55,1]),circOut:cc([.55,0,1,.45]),backIn:cc([.31,.01,.66,-.59]),backOut:cc([.33,1.53,.69,.99])};function QR(t){if(t)return GR(t)?cc(t):Array.isArray(t)?t.map(QR):KR[t]}function V8(t,e,n,{delay:r=0,duration:i,repeat:o=0,repeatType:s="loop",ease:a,times:l}={}){const c={[e]:n};l&&(c.offset=l);const u=QR(a);return Array.isArray(u)&&(c.easing=u),t.animate(c,{delay:r,duration:i,easing:Array.isArray(u)?"linear":u,fill:"both",iterations:o+1,direction:s==="reverse"?"alternate":"normal"})}function j8(t,{repeat:e,repeatType:n="loop"}){const r=e&&n!=="loop"&&e%2===1?0:t.length-1;return t[r]}const XR=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,F8=1e-7,$8=12;function U8(t,e,n,r,i){let o,s,a=0;do s=e+(n-e)/2,o=XR(s,r,i)-t,o>0?n=s:e=s;while(Math.abs(o)>F8&&++a<$8);return s}function Ou(t,e,n,r){if(t===e&&n===r)return vt;const i=o=>U8(o,0,1,t,n);return o=>o===0||o===1?o:XR(i(o),e,r)}const B8=Ou(.42,0,1,1),W8=Ou(0,0,.58,1),JR=Ou(.42,0,.58,1),z8=t=>Array.isArray(t)&&typeof t[0]!="number",ZR=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,e2=t=>e=>1-t(1-e),s1=t=>1-Math.sin(Math.acos(t)),t2=e2(s1),H8=ZR(s1),n2=Ou(.33,1.53,.69,.99),a1=e2(n2),q8=ZR(a1),G8=t=>(t*=2)<1?.5*a1(t):.5*(2-Math.pow(2,-10*(t-1))),Y8={linear:vt,easeIn:B8,easeInOut:JR,easeOut:W8,circIn:s1,circInOut:H8,circOut:t2,backIn:a1,backInOut:q8,backOut:n2,anticipate:G8},dT=t=>{if(Array.isArray(t)){o1(t.length===4);const[e,n,r,i]=t;return Ou(e,n,r,i)}else if(typeof t=="string")return Y8[t];return t},l1=(t,e)=>n=>!!(Du(n)&&K7.test(n)&&n.startsWith(t)||e&&Object.prototype.hasOwnProperty.call(n,e)),r2=(t,e,n)=>r=>{if(!Du(r))return r;const[i,o,s,a]=r.match(Rp);return{[t]:parseFloat(i),[e]:parseFloat(o),[n]:parseFloat(s),alpha:a!==void 0?parseFloat(a):1}},K8=t=>Ro(0,255,t),gg={...Vs,transform:t=>Math.round(K8(t))},cs={test:l1("rgb","red"),parse:r2("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+gg.transform(t)+", "+gg.transform(e)+", "+gg.transform(n)+", "+Sc(Cc.transform(r))+")"};function Q8(t){let e="",n="",r="",i="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),i=t.substring(4,5),e+=e,n+=n,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const Sy={test:l1("#"),parse:Q8,transform:cs.transform},ga={test:l1("hsl","hue"),parse:r2("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+Ur.transform(Sc(e))+", "+Ur.transform(Sc(n))+", "+Sc(Cc.transform(r))+")"},hn={test:t=>cs.test(t)||Sy.test(t)||ga.test(t),parse:t=>cs.test(t)?cs.parse(t):ga.test(t)?ga.parse(t):Sy.parse(t),transform:t=>Du(t)?t:t.hasOwnProperty("red")?cs.transform(t):ga.transform(t)},ut=(t,e,n)=>-n*t+n*e+t;function vg(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function X8({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let i=0,o=0,s=0;if(!e)i=o=s=n;else{const a=n<.5?n*(1+e):n+e-n*e,l=2*n-a;i=vg(l,a,t+1/3),o=vg(l,a,t),s=vg(l,a,t-1/3)}return{red:Math.round(i*255),green:Math.round(o*255),blue:Math.round(s*255),alpha:r}}const yg=(t,e,n)=>{const r=t*t;return Math.sqrt(Math.max(0,n*(e*e-r)+r))},J8=[Sy,cs,ga],Z8=t=>J8.find(e=>e.test(t));function fT(t){const e=Z8(t);let n=e.parse(t);return e===ga&&(n=X8(n)),n}const i2=(t,e)=>{const n=fT(t),r=fT(e),i={...n};return o=>(i.red=yg(n.red,r.red,o),i.green=yg(n.green,r.green,o),i.blue=yg(n.blue,r.blue,o),i.alpha=ut(n.alpha,r.alpha,o),cs.transform(i))};function eB(t){var e,n;return isNaN(t)&&Du(t)&&(((e=t.match(Rp))===null||e===void 0?void 0:e.length)||0)+(((n=t.match(kR))===null||n===void 0?void 0:n.length)||0)>0}const o2={regex:G7,countKey:"Vars",token:"${v}",parse:vt},s2={regex:kR,countKey:"Colors",token:"${c}",parse:hn.parse},a2={regex:Rp,countKey:"Numbers",token:"${n}",parse:Vs.parse};function wg(t,{regex:e,countKey:n,token:r,parse:i}){const o=t.tokenised.match(e);o&&(t["num"+n]=o.length,t.tokenised=t.tokenised.replace(e,r),t.values.push(...o.map(i)))}function yh(t){const e=t.toString(),n={value:e,tokenised:e,values:[],numVars:0,numColors:0,numNumbers:0};return n.value.includes("var(--")&&wg(n,o2),wg(n,s2),wg(n,a2),n}function l2(t){return yh(t).values}function c2(t){const{values:e,numColors:n,numVars:r,tokenised:i}=yh(t),o=e.length;return s=>{let a=i;for(let l=0;l<o;l++)l<r?a=a.replace(o2.token,s[l]):l<r+n?a=a.replace(s2.token,hn.transform(s[l])):a=a.replace(a2.token,Sc(s[l]));return a}}const tB=t=>typeof t=="number"?0:t;function nB(t){const e=l2(t);return c2(t)(e.map(tB))}const No={test:eB,parse:l2,createTransformer:c2,getAnimatableNone:nB},u2=(t,e)=>n=>`${n>0?e:t}`;function d2(t,e){return typeof t=="number"?n=>ut(t,e,n):hn.test(t)?i2(t,e):t.startsWith("var(")?u2(t,e):h2(t,e)}const f2=(t,e)=>{const n=[...t],r=n.length,i=t.map((o,s)=>d2(o,e[s]));return o=>{for(let s=0;s<r;s++)n[s]=i[s](o);return n}},rB=(t,e)=>{const n={...t,...e},r={};for(const i in n)t[i]!==void 0&&e[i]!==void 0&&(r[i]=d2(t[i],e[i]));return i=>{for(const o in r)n[o]=r[o](i);return n}},h2=(t,e)=>{const n=No.createTransformer(e),r=yh(t),i=yh(e);return r.numVars===i.numVars&&r.numColors===i.numColors&&r.numNumbers>=i.numNumbers?wo(f2(r.values,i.values),n):u2(t,e)},lu=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r},hT=(t,e)=>n=>ut(t,e,n);function iB(t){return typeof t=="number"?hT:typeof t=="string"?hn.test(t)?i2:h2:Array.isArray(t)?f2:typeof t=="object"?rB:hT}function oB(t,e,n){const r=[],i=n||iB(t[0]),o=t.length-1;for(let s=0;s<o;s++){let a=i(t[s],t[s+1]);if(e){const l=Array.isArray(e)?e[s]||vt:e;a=wo(l,a)}r.push(a)}return r}function p2(t,e,{clamp:n=!0,ease:r,mixer:i}={}){const o=t.length;if(o1(o===e.length),o===1)return()=>e[0];t[0]>t[o-1]&&(t=[...t].reverse(),e=[...e].reverse());const s=oB(e,r,i),a=s.length,l=c=>{let u=0;if(a>1)for(;u<t.length-2&&!(c<t[u+1]);u++);const f=lu(t[u],t[u+1],c);return s[u](f)};return n?c=>l(Ro(t[0],t[o-1],c)):l}function sB(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const i=lu(0,e,r);t.push(ut(n,1,i))}}function aB(t){const e=[0];return sB(e,t.length-1),e}function lB(t,e){return t.map(n=>n*e)}function cB(t,e){return t.map(()=>e||JR).splice(0,t.length-1)}function wh({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const i=z8(r)?r.map(dT):dT(r),o={done:!1,value:e[0]},s=lB(n&&n.length===e.length?n:aB(e),t),a=p2(s,e,{ease:Array.isArray(i)?i:cB(e,i)});return{calculatedDuration:t,next:l=>(o.value=a(l),o.done=l>=t,o)}}function m2(t,e){return e?t*(1e3/e):0}const uB=5;function g2(t,e,n){const r=Math.max(e-uB,0);return m2(n-t(r),e-r)}const _g=.001,dB=.01,pT=10,fB=.05,hB=1;function pB({duration:t=800,bounce:e=.25,velocity:n=0,mass:r=1}){let i,o;O8(t<=_o(pT));let s=1-e;s=Ro(fB,hB,s),t=Ro(dB,pT,hi(t)),s<1?(i=c=>{const u=c*s,f=u*t,h=u-n,g=Py(c,s),w=Math.exp(-f);return _g-h/g*w},o=c=>{const f=c*s*t,h=f*n+n,g=Math.pow(s,2)*Math.pow(c,2)*t,w=Math.exp(-f),v=Py(Math.pow(c,2),s);return(-i(c)+_g>0?-1:1)*((h-g)*w)/v}):(i=c=>{const u=Math.exp(-c*t),f=(c-n)*t+1;return-_g+u*f},o=c=>{const u=Math.exp(-c*t),f=(n-c)*(t*t);return u*f});const a=5/t,l=gB(i,o,a);if(t=_o(t),isNaN(l))return{stiffness:100,damping:10,duration:t};{const c=Math.pow(l,2)*r;return{stiffness:c,damping:s*2*Math.sqrt(r*c),duration:t}}}const mB=12;function gB(t,e,n){let r=n;for(let i=1;i<mB;i++)r=r-t(r)/e(r);return r}function Py(t,e){return t*Math.sqrt(1-e*e)}const vB=["duration","bounce"],yB=["stiffness","damping","mass"];function mT(t,e){return e.some(n=>t[n]!==void 0)}function wB(t){let e={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...t};if(!mT(t,yB)&&mT(t,vB)){const n=pB(t);e={...e,...n,mass:1},e.isResolvedFromDuration=!0}return e}function v2({keyframes:t,restDelta:e,restSpeed:n,...r}){const i=t[0],o=t[t.length-1],s={done:!1,value:i},{stiffness:a,damping:l,mass:c,duration:u,velocity:f,isResolvedFromDuration:h}=wB({...r,velocity:-hi(r.velocity||0)}),g=f||0,w=l/(2*Math.sqrt(a*c)),v=o-i,E=hi(Math.sqrt(a/c)),x=Math.abs(v)<5;n||(n=x?.01:2),e||(e=x?.005:.5);let y;if(w<1){const b=Py(E,w);y=P=>{const N=Math.exp(-w*E*P);return o-N*((g+w*E*v)/b*Math.sin(b*P)+v*Math.cos(b*P))}}else if(w===1)y=b=>o-Math.exp(-E*b)*(v+(g+E*v)*b);else{const b=E*Math.sqrt(w*w-1);y=P=>{const N=Math.exp(-w*E*P),M=Math.min(b*P,300);return o-N*((g+w*E*v)*Math.sinh(M)+b*v*Math.cosh(M))/b}}return{calculatedDuration:h&&u||null,next:b=>{const P=y(b);if(h)s.done=b>=u;else{let N=g;b!==0&&(w<1?N=g2(y,b,P):N=0);const M=Math.abs(N)<=n,S=Math.abs(o-P)<=e;s.done=M&&S}return s.value=s.done?o:P,s}}}function gT({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:o=500,modifyTarget:s,min:a,max:l,restDelta:c=.5,restSpeed:u}){const f=t[0],h={done:!1,value:f},g=C=>a!==void 0&&C<a||l!==void 0&&C>l,w=C=>a===void 0?l:l===void 0||Math.abs(a-C)<Math.abs(l-C)?a:l;let v=n*e;const E=f+v,x=s===void 0?E:s(E);x!==E&&(v=x-f);const y=C=>-v*Math.exp(-C/r),b=C=>x+y(C),P=C=>{const I=y(C),A=b(C);h.done=Math.abs(I)<=c,h.value=h.done?x:A};let N,M;const S=C=>{g(h.value)&&(N=C,M=v2({keyframes:[h.value,w(h.value)],velocity:g2(b,C,h.value),damping:i,stiffness:o,restDelta:c,restSpeed:u}))};return S(0),{calculatedDuration:null,next:C=>{let I=!1;return!M&&N===void 0&&(I=!0,P(C),S(C)),N!==void 0&&C>N?M.next(C-N):(!I&&P(C),h)}}}const _B=t=>{const e=({timestamp:n})=>t(n);return{start:()=>Xe.update(e,!0),stop:()=>Ci(e),now:()=>tn.isProcessing?tn.timestamp:performance.now()}},vT=2e4;function yT(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<vT;)e+=n,r=t.next(e);return e>=vT?1/0:e}const xB={decay:gT,inertia:gT,tween:wh,keyframes:wh,spring:v2};function _h({autoplay:t=!0,delay:e=0,driver:n=_B,keyframes:r,type:i="keyframes",repeat:o=0,repeatDelay:s=0,repeatType:a="loop",onPlay:l,onStop:c,onComplete:u,onUpdate:f,...h}){let g=1,w=!1,v,E;const x=()=>{E=new Promise($=>{v=$})};x();let y;const b=xB[i]||wh;let P;b!==wh&&typeof r[0]!="number"&&(P=p2([0,100],r,{clamp:!1}),r=[0,100]);const N=b({...h,keyframes:r});let M;a==="mirror"&&(M=b({...h,keyframes:[...r].reverse(),velocity:-(h.velocity||0)}));let S="idle",C=null,I=null,A=null;N.calculatedDuration===null&&o&&(N.calculatedDuration=yT(N));const{calculatedDuration:D}=N;let O=1/0,R=1/0;D!==null&&(O=D+s,R=O*(o+1)-s);let F=0;const q=$=>{if(I===null)return;g>0&&(I=Math.min(I,$)),g<0&&(I=Math.min($-R/g,I)),C!==null?F=C:F=Math.round($-I)*g;const H=F-e*(g>=0?1:-1),W=g>=0?H<0:H>R;F=Math.max(H,0),S==="finished"&&C===null&&(F=R);let J=F,he=N;if(o){const oe=Math.min(F,R)/O;let te=Math.floor(oe),pe=oe%1;!pe&&oe>=1&&(pe=1),pe===1&&te--,te=Math.min(te,o+1),!!(te%2)&&(a==="reverse"?(pe=1-pe,s&&(pe-=s/O)):a==="mirror"&&(he=M)),J=Ro(0,1,pe)*O}const fe=W?{done:!1,value:r[0]}:he.next(J);P&&(fe.value=P(fe.value));let{done:Q}=fe;!W&&D!==null&&(Q=g>=0?F>=R:F<=0);const ee=C===null&&(S==="finished"||S==="running"&&Q);return f&&f(fe.value),ee&&L(),fe},K=()=>{y&&y.stop(),y=void 0},z=()=>{S="idle",K(),v(),x(),I=A=null},L=()=>{S="finished",u&&u(),K(),v()},j=()=>{if(w)return;y||(y=n(q));const $=y.now();l&&l(),C!==null?I=$-C:(!I||S==="finished")&&(I=$),S==="finished"&&x(),A=I,C=null,S="running",y.start()};t&&j();const B={then($,H){return E.then($,H)},get time(){return hi(F)},set time($){$=_o($),F=$,C!==null||!y||g===0?C=$:I=y.now()-$/g},get duration(){const $=N.calculatedDuration===null?yT(N):N.calculatedDuration;return hi($)},get speed(){return g},set speed($){$===g||!y||(g=$,B.time=hi(F))},get state(){return S},play:j,pause:()=>{S="paused",C=F},stop:()=>{w=!0,S!=="idle"&&(S="idle",c&&c(),z())},cancel:()=>{A!==null&&q(A),z()},complete:()=>{S="finished"},sample:$=>(I=0,q($))};return B}function EB(t){let e;return()=>(e===void 0&&(e=t()),e)}const bB=EB(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),TB=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),Nd=10,CB=2e4,SB=(t,e)=>e.type==="spring"||t==="backgroundColor"||!YR(e.ease);function PB(t,e,{onUpdate:n,onComplete:r,...i}){if(!(bB()&&TB.has(e)&&!i.repeatDelay&&i.repeatType!=="mirror"&&i.damping!==0&&i.type!=="inertia"))return!1;let s=!1,a,l,c=!1;const u=()=>{l=new Promise(b=>{a=b})};u();let{keyframes:f,duration:h=300,ease:g,times:w}=i;if(SB(e,i)){const b=_h({...i,repeat:0,delay:0});let P={done:!1,value:f[0]};const N=[];let M=0;for(;!P.done&&M<CB;)P=b.sample(M),N.push(P.value),M+=Nd;w=void 0,f=N,h=M-Nd,g="linear"}const v=V8(t.owner.current,e,f,{...i,duration:h,ease:g,times:w}),E=()=>{c=!1,v.cancel()},x=()=>{c=!0,Xe.update(E),a(),u()};return v.onfinish=()=>{c||(t.set(j8(f,i)),r&&r(),x())},{then(b,P){return l.then(b,P)},attachTimeline(b){return v.timeline=b,v.onfinish=null,vt},get time(){return hi(v.currentTime||0)},set time(b){v.currentTime=_o(b)},get speed(){return v.playbackRate},set speed(b){v.playbackRate=b},get duration(){return hi(h)},play:()=>{s||(v.play(),Ci(E))},pause:()=>v.pause(),stop:()=>{if(s=!0,v.playState==="idle")return;const{currentTime:b}=v;if(b){const P=_h({...i,autoplay:!1});t.setWithVelocity(P.sample(b-Nd).value,P.sample(b).value,Nd)}x()},complete:()=>{c||v.finish()},cancel:x}}function IB({keyframes:t,delay:e,onUpdate:n,onComplete:r}){const i=()=>(n&&n(t[t.length-1]),r&&r(),{time:0,speed:1,duration:0,play:vt,pause:vt,stop:vt,then:o=>(o(),Promise.resolve()),cancel:vt,complete:vt});return e?_h({keyframes:[0,1],duration:0,delay:e,onComplete:i}):i()}const AB={type:"spring",stiffness:500,damping:25,restSpeed:10},kB=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),RB={type:"keyframes",duration:.8},NB={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},DB=(t,{keyframes:e})=>e.length>2?RB:Ls.has(t)?t.startsWith("scale")?kB(e[1]):AB:NB,Iy=(t,e)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(No.test(e)||e==="0")&&!e.startsWith("url(")),MB=new Set(["brightness","contrast","saturate","opacity"]);function OB(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(Rp)||[];if(!r)return t;const i=n.replace(r,"");let o=MB.has(e)?1:0;return r!==n&&(o*=100),e+"("+o+i+")"}const LB=/([a-z-]*)\(.*?\)/g,Ay={...No,getAnimatableNone:t=>{const e=t.match(LB);return e?e.map(OB).join(" "):t}},VB={...RR,color:hn,backgroundColor:hn,outlineColor:hn,fill:hn,stroke:hn,borderColor:hn,borderTopColor:hn,borderRightColor:hn,borderBottomColor:hn,borderLeftColor:hn,filter:Ay,WebkitFilter:Ay},c1=t=>VB[t];function y2(t,e){let n=c1(t);return n!==Ay&&(n=No),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const w2=t=>/^0[^.\s]+$/.test(t);function jB(t){if(typeof t=="number")return t===0;if(t!==null)return t==="none"||t==="0"||w2(t)}function FB(t,e,n,r){const i=Iy(e,n);let o;Array.isArray(n)?o=[...n]:o=[null,n];const s=r.from!==void 0?r.from:t.get();let a;const l=[];for(let c=0;c<o.length;c++)o[c]===null&&(o[c]=c===0?s:o[c-1]),jB(o[c])&&l.push(c),typeof o[c]=="string"&&o[c]!=="none"&&o[c]!=="0"&&(a=o[c]);if(i&&l.length&&a)for(let c=0;c<l.length;c++){const u=l[c];o[u]=y2(e,a)}return o}function $B({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:o,repeatType:s,repeatDelay:a,from:l,elapsed:c,...u}){return!!Object.keys(u).length}function u1(t,e){return t[e]||t.default||t}const UB={skipAnimations:!1},d1=(t,e,n,r={})=>i=>{const o=u1(r,t)||{},s=o.delay||r.delay||0;let{elapsed:a=0}=r;a=a-_o(s);const l=FB(e,t,n,o),c=l[0],u=l[l.length-1],f=Iy(t,c),h=Iy(t,u);let g={keyframes:l,velocity:e.getVelocity(),ease:"easeOut",...o,delay:-a,onUpdate:w=>{e.set(w),o.onUpdate&&o.onUpdate(w)},onComplete:()=>{i(),o.onComplete&&o.onComplete()}};if($B(o)||(g={...g,...DB(t,g)}),g.duration&&(g.duration=_o(g.duration)),g.repeatDelay&&(g.repeatDelay=_o(g.repeatDelay)),!f||!h||L8.current||o.type===!1||UB.skipAnimations)return IB(g);if(!r.isHandoff&&e.owner&&e.owner.current instanceof HTMLElement&&!e.owner.getProps().onUpdate){const w=PB(e,t,g);if(w)return w}return _h(g)};function xh(t){return!!(In(t)&&t.add)}const _2=t=>/^\-?\d*\.?\d+$/.test(t);function f1(t,e){t.indexOf(e)===-1&&t.push(e)}function h1(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class p1{constructor(){this.subscriptions=[]}add(e){return f1(this.subscriptions,e),()=>h1(this.subscriptions,e)}notify(e,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,n,r);else for(let o=0;o<i;o++){const s=this.subscriptions[o];s&&s(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const BB=t=>!isNaN(parseFloat(t));class WB{constructor(e,n={}){this.version="10.18.0",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(r,i=!0)=>{this.prev=this.current,this.current=r;const{delta:o,timestamp:s}=tn;this.lastUpdated!==s&&(this.timeDelta=o,this.lastUpdated=s,Xe.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>Xe.postRender(this.velocityCheck),this.velocityCheck=({timestamp:r})=>{r!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=e,this.canTrackVelocity=BB(this.current),this.owner=n.owner}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new p1);const r=this.events[e].add(n);return e==="change"?()=>{r(),Xe.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=e,this.timeDelta=r}jump(e){this.updateAndNotify(e),this.prev=e,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?m2(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Ja(t,e){return new WB(t,e)}const x2=t=>e=>e.test(t),zB={test:t=>t==="auto",parse:t=>t},E2=[Vs,me,Ur,Bi,X7,Q7,zB],Ql=t=>E2.find(x2(t)),HB=[...E2,hn,No],qB=t=>HB.find(x2(t));function GB(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,Ja(n))}function YB(t,e){const n=Dp(t,e);let{transitionEnd:r={},transition:i={},...o}=n?t.makeTargetAnimatable(n,!1):{};o={...o,...r};for(const s in o){const a=d8(o[s]);GB(t,s,a)}}function KB(t,e,n){var r,i;const o=Object.keys(e).filter(a=>!t.hasValue(a)),s=o.length;if(s)for(let a=0;a<s;a++){const l=o[a],c=e[l];let u=null;Array.isArray(c)&&(u=c[0]),u===null&&(u=(i=(r=n[l])!==null&&r!==void 0?r:t.readValue(l))!==null&&i!==void 0?i:e[l]),u!=null&&(typeof u=="string"&&(_2(u)||w2(u))?u=parseFloat(u):!qB(u)&&No.test(c)&&(u=y2(l,c)),t.addValue(l,Ja(u,{owner:t})),n[l]===void 0&&(n[l]=u),u!==null&&t.setBaseTarget(l,u))}}function QB(t,e){return e?(e[t]||e.default||e).from:void 0}function XB(t,e,n){const r={};for(const i in t){const o=QB(i,e);if(o!==void 0)r[i]=o;else{const s=n.getValue(i);s&&(r[i]=s.get())}}return r}function JB({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function ZB(t,e){const n=t.get();if(Array.isArray(e)){for(let r=0;r<e.length;r++)if(e[r]!==n)return!0}else return n!==e}function b2(t,e,{delay:n=0,transitionOverride:r,type:i}={}){let{transition:o=t.getDefaultTransition(),transitionEnd:s,...a}=t.makeTargetAnimatable(e);const l=t.getValue("willChange");r&&(o=r);const c=[],u=i&&t.animationState&&t.animationState.getState()[i];for(const f in a){const h=t.getValue(f),g=a[f];if(!h||g===void 0||u&&JB(u,f))continue;const w={delay:n,elapsed:0,...u1(o||{},f)};if(window.HandoffAppearAnimations){const x=t.getProps()[TR];if(x){const y=window.HandoffAppearAnimations(x,f,h,Xe);y!==null&&(w.elapsed=y,w.isHandoff=!0)}}let v=!w.isHandoff&&!ZB(h,g);if(w.type==="spring"&&(h.getVelocity()||w.velocity)&&(v=!1),h.animation&&(v=!1),v)continue;h.start(d1(f,h,g,t.shouldReduceMotion&&Ls.has(f)?{type:!1}:w));const E=h.animation;xh(l)&&(l.add(f),E.then(()=>l.remove(f))),c.push(E)}return s&&Promise.all(c).then(()=>{s&&YB(t,s)}),c}function ky(t,e,n={}){const r=Dp(t,e,n.custom);let{transition:i=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(i=n.transitionOverride);const o=r?()=>Promise.all(b2(t,r,n)):()=>Promise.resolve(),s=t.variantChildren&&t.variantChildren.size?(l=0)=>{const{delayChildren:c=0,staggerChildren:u,staggerDirection:f}=i;return eW(t,e,c+l,u,f,n)}:()=>Promise.resolve(),{when:a}=i;if(a){const[l,c]=a==="beforeChildren"?[o,s]:[s,o];return l().then(()=>c())}else return Promise.all([o(),s(n.delay)])}function eW(t,e,n=0,r=0,i=1,o){const s=[],a=(t.variantChildren.size-1)*r,l=i===1?(c=0)=>c*r:(c=0)=>a-c*r;return Array.from(t.variantChildren).sort(tW).forEach((c,u)=>{c.notify("AnimationStart",e),s.push(ky(c,e,{...o,delay:n+l(u)}).then(()=>c.notify("AnimationComplete",e)))}),Promise.all(s)}function tW(t,e){return t.sortNodePosition(e)}function nW(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const i=e.map(o=>ky(t,o,n));r=Promise.all(i)}else if(typeof e=="string")r=ky(t,e,n);else{const i=typeof e=="function"?Dp(t,e,n.custom):e;r=Promise.all(b2(t,i,n))}return r.then(()=>t.notify("AnimationComplete",e))}const rW=[...Kw].reverse(),iW=Kw.length;function oW(t){return e=>Promise.all(e.map(({animation:n,options:r})=>nW(t,n,r)))}function sW(t){let e=oW(t);const n=lW();let r=!0;const i=(l,c)=>{const u=Dp(t,c);if(u){const{transition:f,transitionEnd:h,...g}=u;l={...l,...g,...h}}return l};function o(l){e=l(t)}function s(l,c){const u=t.getProps(),f=t.getVariantContext(!0)||{},h=[],g=new Set;let w={},v=1/0;for(let x=0;x<iW;x++){const y=rW[x],b=n[y],P=u[y]!==void 0?u[y]:f[y],N=su(P),M=y===c?b.isActive:null;M===!1&&(v=x);let S=P===f[y]&&P!==u[y]&&N;if(S&&r&&t.manuallyAnimateOnMount&&(S=!1),b.protectedKeys={...w},!b.isActive&&M===null||!P&&!b.prevProp||Ap(P)||typeof P=="boolean")continue;let I=aW(b.prevProp,P)||y===c&&b.isActive&&!S&&N||x>v&&N,A=!1;const D=Array.isArray(P)?P:[P];let O=D.reduce(i,{});M===!1&&(O={});const{prevResolvedValues:R={}}=b,F={...R,...O},q=K=>{I=!0,g.has(K)&&(A=!0,g.delete(K)),b.needsAnimating[K]=!0};for(const K in F){const z=O[K],L=R[K];if(w.hasOwnProperty(K))continue;let j=!1;vh(z)&&vh(L)?j=!qR(z,L):j=z!==L,j?z!==void 0?q(K):g.add(K):z!==void 0&&g.has(K)?q(K):b.protectedKeys[K]=!0}b.prevProp=P,b.prevResolvedValues=O,b.isActive&&(w={...w,...O}),r&&t.blockInitialAnimation&&(I=!1),I&&(!S||A)&&h.push(...D.map(K=>({animation:K,options:{type:y,...l}})))}if(g.size){const x={};g.forEach(y=>{const b=t.getBaseTarget(y);b!==void 0&&(x[y]=b)}),h.push({animation:x})}let E=!!h.length;return r&&(u.initial===!1||u.initial===u.animate)&&!t.manuallyAnimateOnMount&&(E=!1),r=!1,E?e(h):Promise.resolve()}function a(l,c,u){var f;if(n[l].isActive===c)return Promise.resolve();(f=t.variantChildren)===null||f===void 0||f.forEach(g=>{var w;return(w=g.animationState)===null||w===void 0?void 0:w.setActive(l,c)}),n[l].isActive=c;const h=s(u,l);for(const g in n)n[g].protectedKeys={};return h}return{animateChanges:s,setActive:a,setAnimateFunction:o,getState:()=>n}}function aW(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!qR(e,t):!1}function Ko(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function lW(){return{animate:Ko(!0),whileInView:Ko(),whileHover:Ko(),whileTap:Ko(),whileDrag:Ko(),whileFocus:Ko(),exit:Ko()}}class cW extends Wo{constructor(e){super(e),e.animationState||(e.animationState=sW(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();this.unmount(),Ap(e)&&(this.unmount=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){}}let uW=0;class dW extends Wo{constructor(){super(...arguments),this.id=uW++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n,custom:r}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===i)return;const o=this.node.animationState.setActive("exit",!e,{custom:r??this.node.getProps().custom});n&&!e&&o.then(()=>n(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const fW={animation:{Feature:cW},exit:{Feature:dW}},wT=(t,e)=>Math.abs(t-e);function hW(t,e){const n=wT(t.x,e.x),r=wT(t.y,e.y);return Math.sqrt(n**2+r**2)}class T2{constructor(e,n,{transformPagePoint:r,contextWindow:i,dragSnapToOrigin:o=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const f=Eg(this.lastMoveEventInfo,this.history),h=this.startEvent!==null,g=hW(f.offset,{x:0,y:0})>=3;if(!h&&!g)return;const{point:w}=f,{timestamp:v}=tn;this.history.push({...w,timestamp:v});const{onStart:E,onMove:x}=this.handlers;h||(E&&E(this.lastMoveEvent,f),this.startEvent=this.lastMoveEvent),x&&x(this.lastMoveEvent,f)},this.handlePointerMove=(f,h)=>{this.lastMoveEvent=f,this.lastMoveEventInfo=xg(h,this.transformPagePoint),Xe.update(this.updatePoint,!0)},this.handlePointerUp=(f,h)=>{this.end();const{onEnd:g,onSessionEnd:w,resumeAnimation:v}=this.handlers;if(this.dragSnapToOrigin&&v&&v(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const E=Eg(f.type==="pointercancel"?this.lastMoveEventInfo:xg(h,this.transformPagePoint),this.history);this.startEvent&&g&&g(f,E),w&&w(f,E)},!UR(e))return;this.dragSnapToOrigin=o,this.handlers=n,this.transformPagePoint=r,this.contextWindow=i||window;const s=Np(e),a=xg(s,this.transformPagePoint),{point:l}=a,{timestamp:c}=tn;this.history=[{...l,timestamp:c}];const{onSessionStart:u}=n;u&&u(e,Eg(a,this.history)),this.removeListeners=wo(fi(this.contextWindow,"pointermove",this.handlePointerMove),fi(this.contextWindow,"pointerup",this.handlePointerUp),fi(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Ci(this.updatePoint)}}function xg(t,e){return e?{point:e(t.point)}:t}function _T(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Eg({point:t},e){return{point:t,delta:_T(t,C2(e)),offset:_T(t,pW(e)),velocity:mW(e,.1)}}function pW(t){return t[0]}function C2(t){return t[t.length-1]}function mW(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const i=C2(t);for(;n>=0&&(r=t[n],!(i.timestamp-r.timestamp>_o(e)));)n--;if(!r)return{x:0,y:0};const o=hi(i.timestamp-r.timestamp);if(o===0)return{x:0,y:0};const s={x:(i.x-r.x)/o,y:(i.y-r.y)/o};return s.x===1/0&&(s.x=0),s.y===1/0&&(s.y=0),s}function Fn(t){return t.max-t.min}function Ry(t,e=0,n=.01){return Math.abs(t-e)<=n}function xT(t,e,n,r=.5){t.origin=r,t.originPoint=ut(e.min,e.max,t.origin),t.scale=Fn(n)/Fn(e),(Ry(t.scale,1,1e-4)||isNaN(t.scale))&&(t.scale=1),t.translate=ut(n.min,n.max,t.origin)-t.originPoint,(Ry(t.translate)||isNaN(t.translate))&&(t.translate=0)}function Pc(t,e,n,r){xT(t.x,e.x,n.x,r?r.originX:void 0),xT(t.y,e.y,n.y,r?r.originY:void 0)}function ET(t,e,n){t.min=n.min+e.min,t.max=t.min+Fn(e)}function gW(t,e,n){ET(t.x,e.x,n.x),ET(t.y,e.y,n.y)}function bT(t,e,n){t.min=e.min-n.min,t.max=t.min+Fn(e)}function Ic(t,e,n){bT(t.x,e.x,n.x),bT(t.y,e.y,n.y)}function vW(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?ut(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?ut(n,t,r.max):Math.min(t,n)),t}function TT(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function yW(t,{top:e,left:n,bottom:r,right:i}){return{x:TT(t.x,n,i),y:TT(t.y,e,r)}}function CT(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function wW(t,e){return{x:CT(t.x,e.x),y:CT(t.y,e.y)}}function _W(t,e){let n=.5;const r=Fn(t),i=Fn(e);return i>r?n=lu(e.min,e.max-r,t.min):r>i&&(n=lu(t.min,t.max-i,e.min)),Ro(0,1,n)}function xW(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const Ny=.35;function EW(t=Ny){return t===!1?t=0:t===!0&&(t=Ny),{x:ST(t,"left","right"),y:ST(t,"top","bottom")}}function ST(t,e,n){return{min:PT(t,e),max:PT(t,n)}}function PT(t,e){return typeof t=="number"?t:t[e]||0}const IT=()=>({translate:0,scale:1,origin:0,originPoint:0}),va=()=>({x:IT(),y:IT()}),AT=()=>({min:0,max:0}),Ct=()=>({x:AT(),y:AT()});function Wn(t){return[t("x"),t("y")]}function S2({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function bW({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function TW(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function bg(t){return t===void 0||t===1}function Dy({scale:t,scaleX:e,scaleY:n}){return!bg(t)||!bg(e)||!bg(n)}function es(t){return Dy(t)||P2(t)||t.z||t.rotate||t.rotateX||t.rotateY}function P2(t){return kT(t.x)||kT(t.y)}function kT(t){return t&&t!=="0%"}function Eh(t,e,n){const r=t-n,i=e*r;return n+i}function RT(t,e,n,r,i){return i!==void 0&&(t=Eh(t,i,r)),Eh(t,n,r)+e}function My(t,e=0,n=1,r,i){t.min=RT(t.min,e,n,r,i),t.max=RT(t.max,e,n,r,i)}function I2(t,{x:e,y:n}){My(t.x,e.translate,e.scale,e.originPoint),My(t.y,n.translate,n.scale,n.originPoint)}function CW(t,e,n,r=!1){const i=n.length;if(!i)return;e.x=e.y=1;let o,s;for(let a=0;a<i;a++){o=n[a],s=o.projectionDelta;const l=o.instance;l&&l.style&&l.style.display==="contents"||(r&&o.options.layoutScroll&&o.scroll&&o!==o.root&&ya(t,{x:-o.scroll.offset.x,y:-o.scroll.offset.y}),s&&(e.x*=s.x.scale,e.y*=s.y.scale,I2(t,s)),r&&es(o.latestValues)&&ya(t,o.latestValues))}e.x=NT(e.x),e.y=NT(e.y)}function NT(t){return Number.isInteger(t)||t>1.0000000000001||t<.999999999999?t:1}function Gi(t,e){t.min=t.min+e,t.max=t.max+e}function DT(t,e,[n,r,i]){const o=e[i]!==void 0?e[i]:.5,s=ut(t.min,t.max,o);My(t,e[n],e[r],s,e.scale)}const SW=["x","scaleX","originX"],PW=["y","scaleY","originY"];function ya(t,e){DT(t.x,e,SW),DT(t.y,e,PW)}function A2(t,e){return S2(TW(t.getBoundingClientRect(),e))}function IW(t,e,n){const r=A2(t,n),{scroll:i}=e;return i&&(Gi(r.x,i.offset.x),Gi(r.y,i.offset.y)),r}const k2=({current:t})=>t?t.ownerDocument.defaultView:null,AW=new WeakMap;class kW{constructor(e){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Ct(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const i=u=>{const{dragSnapToOrigin:f}=this.getProps();f?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Np(u,"page").point)},o=(u,f)=>{const{drag:h,dragPropagation:g,onDragStart:w}=this.getProps();if(h&&!g&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=WR(h),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Wn(E=>{let x=this.getAxisMotionValue(E).get()||0;if(Ur.test(x)){const{projection:y}=this.visualElement;if(y&&y.layout){const b=y.layout.layoutBox[E];b&&(x=Fn(b)*(parseFloat(x)/100))}}this.originPoint[E]=x}),w&&Xe.update(()=>w(u,f),!1,!0);const{animationState:v}=this.visualElement;v&&v.setActive("whileDrag",!0)},s=(u,f)=>{const{dragPropagation:h,dragDirectionLock:g,onDirectionLock:w,onDrag:v}=this.getProps();if(!h&&!this.openGlobalLock)return;const{offset:E}=f;if(g&&this.currentDirection===null){this.currentDirection=RW(E),this.currentDirection!==null&&w&&w(this.currentDirection);return}this.updateAxis("x",f.point,E),this.updateAxis("y",f.point,E),this.visualElement.render(),v&&v(u,f)},a=(u,f)=>this.stop(u,f),l=()=>Wn(u=>{var f;return this.getAnimationState(u)==="paused"&&((f=this.getAxisMotionValue(u).animation)===null||f===void 0?void 0:f.play())}),{dragSnapToOrigin:c}=this.getProps();this.panSession=new T2(e,{onSessionStart:i,onStart:o,onMove:s,onSessionEnd:a,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:c,contextWindow:k2(this.visualElement)})}stop(e,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:i}=n;this.startAnimation(i);const{onDragEnd:o}=this.getProps();o&&Xe.update(()=>o(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:i}=this.getProps();if(!r||!Dd(e,i,this.currentDirection))return;const o=this.getAxisMotionValue(e);let s=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(s=vW(s,this.constraints[e],this.elastic[e])),o.set(s)}resolveConstraints(){var e;const{dragConstraints:n,dragElastic:r}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,o=this.constraints;n&&ma(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&i?this.constraints=yW(i.layoutBox,n):this.constraints=!1,this.elastic=EW(r),o!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&Wn(s=>{this.getAxisMotionValue(s)&&(this.constraints[s]=xW(i.layoutBox[s],this.constraints[s]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!ma(e))return!1;const r=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const o=IW(r,i.root,this.visualElement.getTransformPagePoint());let s=wW(i.layout.layoutBox,o);if(n){const a=n(bW(s));this.hasMutatedConstraints=!!a,a&&(s=S2(a))}return s}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:o,dragSnapToOrigin:s,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},c=Wn(u=>{if(!Dd(u,n,this.currentDirection))return;let f=l&&l[u]||{};s&&(f={min:0,max:0});const h=i?200:1e6,g=i?40:1e7,w={type:"inertia",velocity:r?e[u]:0,bounceStiffness:h,bounceDamping:g,timeConstant:750,restDelta:1,restSpeed:10,...o,...f};return this.startAxisValueAnimation(u,w)});return Promise.all(c).then(a)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return r.start(d1(e,r,0,n))}stopAnimation(){Wn(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Wn(e=>{var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(e){const n="_drag"+e.toUpperCase(),r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){Wn(n=>{const{drag:r}=this.getProps();if(!Dd(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,o=this.getAxisMotionValue(n);if(i&&i.layout){const{min:s,max:a}=i.layout.layoutBox[n];o.set(e[n]-ut(s,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!ma(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};Wn(s=>{const a=this.getAxisMotionValue(s);if(a){const l=a.get();i[s]=_W({min:l,max:l},this.constraints[s])}});const{transformTemplate:o}=this.visualElement.getProps();this.visualElement.current.style.transform=o?o({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Wn(s=>{if(!Dd(s,e,null))return;const a=this.getAxisMotionValue(s),{min:l,max:c}=this.constraints[s];a.set(ut(l,c,i[s]))})}addListeners(){if(!this.visualElement.current)return;AW.set(this.visualElement,this);const e=this.visualElement.current,n=fi(e,"pointerdown",l=>{const{drag:c,dragListener:u=!0}=this.getProps();c&&u&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();ma(l)&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,o=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),r();const s=ci(window,"resize",()=>this.scalePositionWithinConstraints()),a=i.addEventListener("didUpdate",({delta:l,hasLayoutChanged:c})=>{this.isDragging&&c&&(Wn(u=>{const f=this.getAxisMotionValue(u);f&&(this.originPoint[u]+=l[u].translate,f.set(f.get()+l[u].translate))}),this.visualElement.render())});return()=>{s(),n(),o(),a&&a()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:o=!1,dragElastic:s=Ny,dragMomentum:a=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:o,dragElastic:s,dragMomentum:a}}}function Dd(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function RW(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class NW extends Wo{constructor(e){super(e),this.removeGroupControls=vt,this.removeListeners=vt,this.controls=new kW(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||vt}unmount(){this.removeGroupControls(),this.removeListeners()}}const MT=t=>(e,n)=>{t&&Xe.update(()=>t(e,n))};class DW extends Wo{constructor(){super(...arguments),this.removePointerDownListener=vt}onPointerDown(e){this.session=new T2(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:k2(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:MT(e),onStart:MT(n),onMove:r,onEnd:(o,s)=>{delete this.session,i&&Xe.update(()=>i(o,s))}}}mount(){this.removePointerDownListener=fi(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function MW(){const t=m.useContext(Pp);if(t===null)return[!0,null];const{isPresent:e,onExitComplete:n,register:r}=t,i=m.useId();return m.useEffect(()=>r(i),[]),!e&&n?[!1,()=>n&&n(i)]:[!0]}const vf={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function OT(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Xl={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(me.test(t))t=parseFloat(t);else return t;const n=OT(t,e.target.x),r=OT(t,e.target.y);return`${n}% ${r}%`}},OW={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,i=No.parse(t);if(i.length>5)return r;const o=No.createTransformer(t),s=typeof i[0]!="number"?1:0,a=n.x.scale*e.x,l=n.y.scale*e.y;i[0+s]/=a,i[1+s]/=l;const c=ut(a,l,.5);return typeof i[2+s]=="number"&&(i[2+s]/=c),typeof i[3+s]=="number"&&(i[3+s]/=c),o(i)}};class LW extends we.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:o}=e;W7(VW),o&&(n.group&&n.group.add(o),r&&r.register&&i&&r.register(o),o.root.didUpdate(),o.addEventListener("animationComplete",()=>{this.safeToRemove()}),o.setOptions({...o.options,onExitComplete:()=>this.safeToRemove()})),vf.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:i,isPresent:o}=this.props,s=r.projection;return s&&(s.isPresent=o,i||e.layoutDependency!==n||n===void 0?s.willUpdate():this.safeToRemove(),e.isPresent!==o&&(o?s.promote():s.relegate()||Xe.postRender(()=>{const a=s.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),queueMicrotask(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=e;i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function R2(t){const[e,n]=MW(),r=m.useContext(Xw);return we.createElement(LW,{...t,layoutGroup:r,switchLayoutGroup:m.useContext(SR),isPresent:e,safeToRemove:n})}const VW={borderRadius:{...Xl,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Xl,borderTopRightRadius:Xl,borderBottomLeftRadius:Xl,borderBottomRightRadius:Xl,boxShadow:OW},N2=["TopLeft","TopRight","BottomLeft","BottomRight"],jW=N2.length,LT=t=>typeof t=="string"?parseFloat(t):t,VT=t=>typeof t=="number"||me.test(t);function FW(t,e,n,r,i,o){i?(t.opacity=ut(0,n.opacity!==void 0?n.opacity:1,$W(r)),t.opacityExit=ut(e.opacity!==void 0?e.opacity:1,0,UW(r))):o&&(t.opacity=ut(e.opacity!==void 0?e.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let s=0;s<jW;s++){const a=`border${N2[s]}Radius`;let l=jT(e,a),c=jT(n,a);if(l===void 0&&c===void 0)continue;l||(l=0),c||(c=0),l===0||c===0||VT(l)===VT(c)?(t[a]=Math.max(ut(LT(l),LT(c),r),0),(Ur.test(c)||Ur.test(l))&&(t[a]+="%")):t[a]=c}(e.rotate||n.rotate)&&(t.rotate=ut(e.rotate||0,n.rotate||0,r))}function jT(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const $W=D2(0,.5,t2),UW=D2(.5,.95,vt);function D2(t,e,n){return r=>r<t?0:r>e?1:n(lu(t,e,r))}function FT(t,e){t.min=e.min,t.max=e.max}function Bn(t,e){FT(t.x,e.x),FT(t.y,e.y)}function $T(t,e,n,r,i){return t-=e,t=Eh(t,1/n,r),i!==void 0&&(t=Eh(t,1/i,r)),t}function BW(t,e=0,n=1,r=.5,i,o=t,s=t){if(Ur.test(e)&&(e=parseFloat(e),e=ut(s.min,s.max,e/100)-s.min),typeof e!="number")return;let a=ut(o.min,o.max,r);t===o&&(a-=e),t.min=$T(t.min,e,n,a,i),t.max=$T(t.max,e,n,a,i)}function UT(t,e,[n,r,i],o,s){BW(t,e[n],e[r],e[i],e.scale,o,s)}const WW=["x","scaleX","originX"],zW=["y","scaleY","originY"];function BT(t,e,n,r){UT(t.x,e,WW,n?n.x:void 0,r?r.x:void 0),UT(t.y,e,zW,n?n.y:void 0,r?r.y:void 0)}function WT(t){return t.translate===0&&t.scale===1}function M2(t){return WT(t.x)&&WT(t.y)}function HW(t,e){return t.x.min===e.x.min&&t.x.max===e.x.max&&t.y.min===e.y.min&&t.y.max===e.y.max}function O2(t,e){return Math.round(t.x.min)===Math.round(e.x.min)&&Math.round(t.x.max)===Math.round(e.x.max)&&Math.round(t.y.min)===Math.round(e.y.min)&&Math.round(t.y.max)===Math.round(e.y.max)}function zT(t){return Fn(t.x)/Fn(t.y)}class qW{constructor(){this.members=[]}add(e){f1(this.members,e),e.scheduleRender()}remove(e){if(h1(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(i=>e===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const o=this.members[i];if(o.isPresent!==!1){r=o;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function HT(t,e,n){let r="";const i=t.x.translate/e.x,o=t.y.translate/e.y;if((i||o)&&(r=`translate3d(${i}px, ${o}px, 0) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{rotate:l,rotateX:c,rotateY:u}=n;l&&(r+=`rotate(${l}deg) `),c&&(r+=`rotateX(${c}deg) `),u&&(r+=`rotateY(${u}deg) `)}const s=t.x.scale*e.x,a=t.y.scale*e.y;return(s!==1||a!==1)&&(r+=`scale(${s}, ${a})`),r||"none"}const GW=(t,e)=>t.depth-e.depth;class YW{constructor(){this.children=[],this.isDirty=!1}add(e){f1(this.children,e),this.isDirty=!0}remove(e){h1(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(GW),this.isDirty=!1,this.children.forEach(e)}}function KW(t,e){const n=performance.now(),r=({timestamp:i})=>{const o=i-n;o>=e&&(Ci(r),t(o-e))};return Xe.read(r,!0),()=>Ci(r)}function QW(t){window.MotionDebug&&window.MotionDebug.record(t)}function XW(t){return t instanceof SVGElement&&t.tagName!=="svg"}function JW(t,e,n){const r=In(t)?t:Ja(t);return r.start(d1("",r,e,n)),r.animation}const qT=["","X","Y","Z"],ZW={visibility:"hidden"},GT=1e3;let ez=0;const ts={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function L2({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(s={},a=e==null?void 0:e()){this.id=ez++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,ts.totalNodes=ts.resolvedTargetDeltas=ts.recalculatedProjection=0,this.nodes.forEach(rz),this.nodes.forEach(lz),this.nodes.forEach(cz),this.nodes.forEach(iz),QW(ts)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=s,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new YW)}addEventListener(s,a){return this.eventHandlers.has(s)||this.eventHandlers.set(s,new p1),this.eventHandlers.get(s).add(a)}notifyListeners(s,...a){const l=this.eventHandlers.get(s);l&&l.notify(...a)}hasListeners(s){return this.eventHandlers.has(s)}mount(s,a=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=XW(s),this.instance=s;const{layoutId:l,layout:c,visualElement:u}=this.options;if(u&&!u.current&&u.mount(s),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),a&&(c||l)&&(this.isLayoutDirty=!0),t){let f;const h=()=>this.root.updateBlockedByResize=!1;t(s,()=>{this.root.updateBlockedByResize=!0,f&&f(),f=KW(h,250),vf.hasAnimatedSinceResize&&(vf.hasAnimatedSinceResize=!1,this.nodes.forEach(KT))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&u&&(l||c)&&this.addEventListener("didUpdate",({delta:f,hasLayoutChanged:h,hasRelativeTargetChanged:g,layout:w})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const v=this.options.transition||u.getDefaultTransition()||pz,{onLayoutAnimationStart:E,onLayoutAnimationComplete:x}=u.getProps(),y=!this.targetLayout||!O2(this.targetLayout,w)||g,b=!h&&g;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||b||h&&(y||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(f,b);const P={...u1(v,"layout"),onPlay:E,onComplete:x};(u.shouldReduceMotion||this.options.layoutRoot)&&(P.delay=0,P.type=!1),this.startAnimation(P)}else h||KT(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=w})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const s=this.getStack();s&&s.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Ci(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(uz),this.animationId++)}getTransformTemplate(){const{visualElement:s}=this.options;return s&&s.getProps().transformTemplate}willUpdate(s=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let u=0;u<this.path.length;u++){const f=this.path[u];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),s&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(YT);return}this.isUpdating||this.nodes.forEach(sz),this.isUpdating=!1,this.nodes.forEach(az),this.nodes.forEach(tz),this.nodes.forEach(nz),this.clearAllSnapshots();const a=performance.now();tn.delta=Ro(0,1e3/60,a-tn.timestamp),tn.timestamp=a,tn.isProcessing=!0,hg.update.process(tn),hg.preRender.process(tn),hg.render.process(tn),tn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(oz),this.sharedNodes.forEach(dz)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Xe.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Xe.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const s=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Ct(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,s?s.layoutBox:void 0)}updateScroll(s="measure"){let a=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===s&&(a=!1),a&&(this.scroll={animationId:this.root.animationId,phase:s,isRoot:r(this.instance),offset:n(this.instance)})}resetTransform(){if(!i)return;const s=this.isLayoutDirty||this.shouldResetTransform,a=this.projectionDelta&&!M2(this.projectionDelta),l=this.getTransformTemplate(),c=l?l(this.latestValues,""):void 0,u=c!==this.prevTransformTemplateValue;s&&(a||es(this.latestValues)||u)&&(i(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(s=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return s&&(l=this.removeTransform(l)),mz(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:s}=this.options;if(!s)return Ct();const a=s.measureViewportBox(),{scroll:l}=this.root;return l&&(Gi(a.x,l.offset.x),Gi(a.y,l.offset.y)),a}removeElementScroll(s){const a=Ct();Bn(a,s);for(let l=0;l<this.path.length;l++){const c=this.path[l],{scroll:u,options:f}=c;if(c!==this.root&&u&&f.layoutScroll){if(u.isRoot){Bn(a,s);const{scroll:h}=this.root;h&&(Gi(a.x,-h.offset.x),Gi(a.y,-h.offset.y))}Gi(a.x,u.offset.x),Gi(a.y,u.offset.y)}}return a}applyTransform(s,a=!1){const l=Ct();Bn(l,s);for(let c=0;c<this.path.length;c++){const u=this.path[c];!a&&u.options.layoutScroll&&u.scroll&&u!==u.root&&ya(l,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),es(u.latestValues)&&ya(l,u.latestValues)}return es(this.latestValues)&&ya(l,this.latestValues),l}removeTransform(s){const a=Ct();Bn(a,s);for(let l=0;l<this.path.length;l++){const c=this.path[l];if(!c.instance||!es(c.latestValues))continue;Dy(c.latestValues)&&c.updateSnapshot();const u=Ct(),f=c.measurePageBox();Bn(u,f),BT(a,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,u)}return es(this.latestValues)&&BT(a,this.latestValues),a}setTargetDelta(s){this.targetDelta=s,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(s){this.options={...this.options,...s,crossfade:s.crossfade!==void 0?s.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==tn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(s=!1){var a;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==l;if(!(s||c&&this.isSharedProjectionDirty||this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:f,layoutId:h}=this.options;if(!(!this.layout||!(f||h))){if(this.resolvedRelativeTargetAt=tn.timestamp,!this.targetDelta&&!this.relativeTarget){const g=this.getClosestProjectingParent();g&&g.layout&&this.animationProgress!==1?(this.relativeParent=g,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ct(),this.relativeTargetOrigin=Ct(),Ic(this.relativeTargetOrigin,this.layout.layoutBox,g.layout.layoutBox),Bn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=Ct(),this.targetWithTransforms=Ct()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),gW(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Bn(this.target,this.layout.layoutBox),I2(this.target,this.targetDelta)):Bn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const g=this.getClosestProjectingParent();g&&!!g.resumingFrom==!!this.resumingFrom&&!g.options.layoutScroll&&g.target&&this.animationProgress!==1?(this.relativeParent=g,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ct(),this.relativeTargetOrigin=Ct(),Ic(this.relativeTargetOrigin,this.target,g.target),Bn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}ts.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||Dy(this.parent.latestValues)||P2(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var s;const a=this.getLead(),l=!!this.resumingFrom||this!==a;let c=!0;if((this.isProjectionDirty||!((s=this.parent)===null||s===void 0)&&s.isProjectionDirty)&&(c=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===tn.timestamp&&(c=!1),c)return;const{layout:u,layoutId:f}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||f))return;Bn(this.layoutCorrected,this.layout.layoutBox);const h=this.treeScale.x,g=this.treeScale.y;CW(this.layoutCorrected,this.treeScale,this.path,l),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox);const{target:w}=a;if(!w){this.projectionTransform&&(this.projectionDelta=va(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=va(),this.projectionDeltaWithTransform=va());const v=this.projectionTransform;Pc(this.projectionDelta,this.layoutCorrected,w,this.latestValues),this.projectionTransform=HT(this.projectionDelta,this.treeScale),(this.projectionTransform!==v||this.treeScale.x!==h||this.treeScale.y!==g)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",w)),ts.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(s=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),s){const a=this.getStack();a&&a.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(s,a=!1){const l=this.snapshot,c=l?l.latestValues:{},u={...this.latestValues},f=va();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const h=Ct(),g=l?l.source:void 0,w=this.layout?this.layout.source:void 0,v=g!==w,E=this.getStack(),x=!E||E.members.length<=1,y=!!(v&&!x&&this.options.crossfade===!0&&!this.path.some(hz));this.animationProgress=0;let b;this.mixTargetDelta=P=>{const N=P/1e3;QT(f.x,s.x,N),QT(f.y,s.y,N),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Ic(h,this.layout.layoutBox,this.relativeParent.layout.layoutBox),fz(this.relativeTarget,this.relativeTargetOrigin,h,N),b&&HW(this.relativeTarget,b)&&(this.isProjectionDirty=!1),b||(b=Ct()),Bn(b,this.relativeTarget)),v&&(this.animationValues=u,FW(u,c,this.latestValues,N,y,x)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=N},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(s){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Ci(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Xe.update(()=>{vf.hasAnimatedSinceResize=!0,this.currentAnimation=JW(0,GT,{...s,onUpdate:a=>{this.mixTargetDelta(a),s.onUpdate&&s.onUpdate(a)},onComplete:()=>{s.onComplete&&s.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const s=this.getStack();s&&s.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(GT),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const s=this.getLead();let{targetWithTransforms:a,target:l,layout:c,latestValues:u}=s;if(!(!a||!l||!c)){if(this!==s&&this.layout&&c&&V2(this.options.animationType,this.layout.layoutBox,c.layoutBox)){l=this.target||Ct();const f=Fn(this.layout.layoutBox.x);l.x.min=s.target.x.min,l.x.max=l.x.min+f;const h=Fn(this.layout.layoutBox.y);l.y.min=s.target.y.min,l.y.max=l.y.min+h}Bn(a,l),ya(a,u),Pc(this.projectionDeltaWithTransform,this.layoutCorrected,a,u)}}registerSharedNode(s,a){this.sharedNodes.has(s)||this.sharedNodes.set(s,new qW),this.sharedNodes.get(s).add(a);const c=a.options.initialPromotionConfig;a.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(a):void 0})}isLead(){const s=this.getStack();return s?s.lead===this:!0}getLead(){var s;const{layoutId:a}=this.options;return a?((s=this.getStack())===null||s===void 0?void 0:s.lead)||this:this}getPrevLead(){var s;const{layoutId:a}=this.options;return a?(s=this.getStack())===null||s===void 0?void 0:s.prevLead:void 0}getStack(){const{layoutId:s}=this.options;if(s)return this.root.sharedNodes.get(s)}promote({needsReset:s,transition:a,preserveFollowOpacity:l}={}){const c=this.getStack();c&&c.promote(this,l),s&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const s=this.getStack();return s?s.relegate(this):!1}resetRotation(){const{visualElement:s}=this.options;if(!s)return;let a=!1;const{latestValues:l}=s;if((l.rotate||l.rotateX||l.rotateY||l.rotateZ)&&(a=!0),!a)return;const c={};for(let u=0;u<qT.length;u++){const f="rotate"+qT[u];l[f]&&(c[f]=l[f],s.setStaticValue(f,0))}s.render();for(const u in c)s.setStaticValue(u,c[u]);s.scheduleRender()}getProjectionStyles(s){var a,l;if(!this.instance||this.isSVG)return;if(!this.isVisible)return ZW;const c={visibility:""},u=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,c.opacity="",c.pointerEvents=gf(s==null?void 0:s.pointerEvents)||"",c.transform=u?u(this.latestValues,""):"none",c;const f=this.getLead();if(!this.projectionDelta||!this.layout||!f.target){const v={};return this.options.layoutId&&(v.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,v.pointerEvents=gf(s==null?void 0:s.pointerEvents)||""),this.hasProjected&&!es(this.latestValues)&&(v.transform=u?u({},""):"none",this.hasProjected=!1),v}const h=f.animationValues||f.latestValues;this.applyTransformsToTarget(),c.transform=HT(this.projectionDeltaWithTransform,this.treeScale,h),u&&(c.transform=u(h,c.transform));const{x:g,y:w}=this.projectionDelta;c.transformOrigin=`${g.origin*100}% ${w.origin*100}% 0`,f.animationValues?c.opacity=f===this?(l=(a=h.opacity)!==null&&a!==void 0?a:this.latestValues.opacity)!==null&&l!==void 0?l:1:this.preserveOpacity?this.latestValues.opacity:h.opacityExit:c.opacity=f===this?h.opacity!==void 0?h.opacity:"":h.opacityExit!==void 0?h.opacityExit:0;for(const v in mh){if(h[v]===void 0)continue;const{correct:E,applyTo:x}=mh[v],y=c.transform==="none"?h[v]:E(h[v],f);if(x){const b=x.length;for(let P=0;P<b;P++)c[x[P]]=y}else c[v]=y}return this.options.layoutId&&(c.pointerEvents=f===this?gf(s==null?void 0:s.pointerEvents)||"":"none"),c}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(s=>{var a;return(a=s.currentAnimation)===null||a===void 0?void 0:a.stop()}),this.root.nodes.forEach(YT),this.root.sharedNodes.clear()}}}function tz(t){t.updateLayout()}function nz(t){var e;const n=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=t.layout,{animationType:o}=t.options,s=n.source!==t.layout.source;o==="size"?Wn(f=>{const h=s?n.measuredBox[f]:n.layoutBox[f],g=Fn(h);h.min=r[f].min,h.max=h.min+g}):V2(o,n.layoutBox,r)&&Wn(f=>{const h=s?n.measuredBox[f]:n.layoutBox[f],g=Fn(r[f]);h.max=h.min+g,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[f].max=t.relativeTarget[f].min+g)});const a=va();Pc(a,r,n.layoutBox);const l=va();s?Pc(l,t.applyTransform(i,!0),n.measuredBox):Pc(l,r,n.layoutBox);const c=!M2(a);let u=!1;if(!t.resumeFrom){const f=t.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:h,layout:g}=f;if(h&&g){const w=Ct();Ic(w,n.layoutBox,h.layoutBox);const v=Ct();Ic(v,r,g.layoutBox),O2(w,v)||(u=!0),f.options.layoutRoot&&(t.relativeTarget=v,t.relativeTargetOrigin=w,t.relativeParent=f)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:l,layoutDelta:a,hasLayoutChanged:c,hasRelativeTargetChanged:u})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function rz(t){ts.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function iz(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function oz(t){t.clearSnapshot()}function YT(t){t.clearMeasurements()}function sz(t){t.isLayoutDirty=!1}function az(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function KT(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function lz(t){t.resolveTargetDelta()}function cz(t){t.calcProjection()}function uz(t){t.resetRotation()}function dz(t){t.removeLeadSnapshot()}function QT(t,e,n){t.translate=ut(e.translate,0,n),t.scale=ut(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function XT(t,e,n,r){t.min=ut(e.min,n.min,r),t.max=ut(e.max,n.max,r)}function fz(t,e,n,r){XT(t.x,e.x,n.x,r),XT(t.y,e.y,n.y,r)}function hz(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const pz={duration:.45,ease:[.4,0,.1,1]},JT=t=>typeof navigator<"u"&&navigator.userAgent.toLowerCase().includes(t),ZT=JT("applewebkit/")&&!JT("chrome/")?Math.round:vt;function eC(t){t.min=ZT(t.min),t.max=ZT(t.max)}function mz(t){eC(t.x),eC(t.y)}function V2(t,e,n){return t==="position"||t==="preserve-aspect"&&!Ry(zT(e),zT(n),.2)}const gz=L2({attachResizeListener:(t,e)=>ci(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Tg={current:void 0},j2=L2({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Tg.current){const t=new gz({});t.mount(window),t.setOptions({layoutScroll:!0}),Tg.current=t}return Tg.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),vz={pan:{Feature:DW},drag:{Feature:NW,ProjectionNode:j2,MeasureLayout:R2}},yz=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function wz(t){const e=yz.exec(t);if(!e)return[,];const[,n,r]=e;return[n,r]}function Oy(t,e,n=1){const[r,i]=wz(t);if(!r)return;const o=window.getComputedStyle(e).getPropertyValue(r);if(o){const s=o.trim();return _2(s)?parseFloat(s):s}else return Ty(i)?Oy(i,e,n+1):i}function _z(t,{...e},n){const r=t.current;if(!(r instanceof Element))return{target:e,transitionEnd:n};n&&(n={...n}),t.values.forEach(i=>{const o=i.get();if(!Ty(o))return;const s=Oy(o,r);s&&i.set(s)});for(const i in e){const o=e[i];if(!Ty(o))continue;const s=Oy(o,r);s&&(e[i]=s,n||(n={}),n[i]===void 0&&(n[i]=o))}return{target:e,transitionEnd:n}}const xz=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),F2=t=>xz.has(t),Ez=t=>Object.keys(t).some(F2),tC=t=>t===Vs||t===me,nC=(t,e)=>parseFloat(t.split(", ")[e]),rC=(t,e)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const i=r.match(/^matrix3d\((.+)\)$/);if(i)return nC(i[1],e);{const o=r.match(/^matrix\((.+)\)$/);return o?nC(o[1],t):0}},bz=new Set(["x","y","z"]),Tz=Nu.filter(t=>!bz.has(t));function Cz(t){const e=[];return Tz.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e.length&&t.render(),e}const Za={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:rC(4,13),y:rC(5,14)};Za.translateX=Za.x;Za.translateY=Za.y;const Sz=(t,e,n)=>{const r=e.measureViewportBox(),i=e.current,o=getComputedStyle(i),{display:s}=o,a={};s==="none"&&e.setStaticValue("display",t.display||"block"),n.forEach(c=>{a[c]=Za[c](r,o)}),e.render();const l=e.measureViewportBox();return n.forEach(c=>{const u=e.getValue(c);u&&u.jump(a[c]),t[c]=Za[c](l,o)}),t},Pz=(t,e,n={},r={})=>{e={...e},r={...r};const i=Object.keys(e).filter(F2);let o=[],s=!1;const a=[];if(i.forEach(l=>{const c=t.getValue(l);if(!t.hasValue(l))return;let u=n[l],f=Ql(u);const h=e[l];let g;if(vh(h)){const w=h.length,v=h[0]===null?1:0;u=h[v],f=Ql(u);for(let E=v;E<w&&h[E]!==null;E++)g?o1(Ql(h[E])===g):g=Ql(h[E])}else g=Ql(h);if(f!==g)if(tC(f)&&tC(g)){const w=c.get();typeof w=="string"&&c.set(parseFloat(w)),typeof h=="string"?e[l]=parseFloat(h):Array.isArray(h)&&g===me&&(e[l]=h.map(parseFloat))}else f!=null&&f.transform&&(g!=null&&g.transform)&&(u===0||h===0)?u===0?c.set(g.transform(u)):e[l]=f.transform(h):(s||(o=Cz(t),s=!0),a.push(l),r[l]=r[l]!==void 0?r[l]:e[l],c.jump(h))}),a.length){const l=a.indexOf("height")>=0?window.pageYOffset:null,c=Sz(e,t,a);return o.length&&o.forEach(([u,f])=>{t.getValue(u).set(f)}),t.render(),Ip&&l!==null&&window.scrollTo({top:l}),{target:c,transitionEnd:r}}else return{target:e,transitionEnd:r}};function Iz(t,e,n,r){return Ez(e)?Pz(t,e,n,r):{target:e,transitionEnd:r}}const Az=(t,e,n,r)=>{const i=_z(t,e,r);return e=i.target,r=i.transitionEnd,Iz(t,e,n,r)},Ly={current:null},$2={current:!1};function kz(){if($2.current=!0,!!Ip)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>Ly.current=t.matches;t.addListener(e),e()}else Ly.current=!1}function Rz(t,e,n){const{willChange:r}=e;for(const i in e){const o=e[i],s=n[i];if(In(o))t.addValue(i,o),xh(r)&&r.add(i);else if(In(s))t.addValue(i,Ja(o,{owner:t})),xh(r)&&r.remove(i);else if(s!==o)if(t.hasValue(i)){const a=t.getValue(i);!a.hasAnimated&&a.set(o)}else{const a=t.getStaticValue(i);t.addValue(i,Ja(a!==void 0?a:o,{owner:t}))}}for(const i in n)e[i]===void 0&&t.removeValue(i);return e}const iC=new WeakMap,U2=Object.keys(au),Nz=U2.length,oC=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],Dz=Qw.length;class Mz{constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:i,visualState:o},s={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>Xe.render(this.render,!1,!0);const{latestValues:a,renderState:l}=o;this.latestValues=a,this.baseTarget={...a},this.initialValues=n.initial?{...a}:{},this.renderState=l,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=s,this.isControllingVariants=kp(n),this.isVariantNode=CR(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:c,...u}=this.scrapeMotionValuesFromProps(n,{});for(const f in u){const h=u[f];a[f]!==void 0&&In(h)&&(h.set(a[f],!1),xh(c)&&c.add(f))}}scrapeMotionValuesFromProps(e,n){return{}}mount(e){this.current=e,iC.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),$2.current||kz(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Ly.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){iC.delete(this.current),this.projection&&this.projection.unmount(),Ci(this.notifyUpdate),Ci(this.render),this.valueSubscriptions.forEach(e=>e()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features)this.features[e].unmount();this.current=null}bindToMotionValue(e,n){const r=Ls.has(e),i=n.on("change",s=>{this.latestValues[e]=s,this.props.onUpdate&&Xe.update(this.notifyUpdate,!1,!0),r&&this.projection&&(this.projection.isTransformDirty=!0)}),o=n.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(e,()=>{i(),o()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}loadFeatures({children:e,...n},r,i,o){let s,a;for(let l=0;l<Nz;l++){const c=U2[l],{isEnabled:u,Feature:f,ProjectionNode:h,MeasureLayout:g}=au[c];h&&(s=h),u(n)&&(!this.features[c]&&f&&(this.features[c]=new f(this)),g&&(a=g))}if((this.type==="html"||this.type==="svg")&&!this.projection&&s){this.projection=new s(this.latestValues,this.parent&&this.parent.projection);const{layoutId:l,layout:c,drag:u,dragConstraints:f,layoutScroll:h,layoutRoot:g}=n;this.projection.setOptions({layoutId:l,layout:c,alwaysMeasureLayout:!!u||f&&ma(f),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof c=="string"?c:"both",initialPromotionConfig:o,layoutScroll:h,layoutRoot:g})}return a}updateFeatures(){for(const e in this.features){const n=this.features[e];n.isMounted?n.update():(n.mount(),n.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Ct()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}makeTargetAnimatable(e,n=!0){return this.makeTargetAnimatableFromInstance(e,this.props,n)}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<oC.length;r++){const i=oC[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const o=e["on"+i];o&&(this.propEventSubscriptions[i]=this.on(i,o))}this.prevMotionValues=Rz(this,this.scrapeMotionValuesFromProps(e,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(e=!1){if(e)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const r=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(r.initial=this.props.initial),r}const n={};for(let r=0;r<Dz;r++){const i=Qw[r],o=this.props[i];(su(o)||o===!1)&&(n[i]=o)}return n}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){n!==this.values.get(e)&&(this.removeValue(e),this.bindToMotionValue(e,n)),this.values.set(e,n),this.latestValues[e]=n.get()}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=Ja(n,{owner:this}),this.addValue(e,r)),r}readValue(e){var n;return this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(n=this.getBaseTargetFromProps(this.props,e))!==null&&n!==void 0?n:this.readValueFromInstance(this.current,e,this.options)}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:r}=this.props,i=typeof r=="string"||typeof r=="object"?(n=i1(this.props,r))===null||n===void 0?void 0:n[e]:void 0;if(r&&i!==void 0)return i;const o=this.getBaseTargetFromProps(this.props,e);return o!==void 0&&!In(o)?o:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new p1),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class B2 extends Mz{sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}makeTargetAnimatableFromInstance({transition:e,transitionEnd:n,...r},{transformValues:i},o){let s=XB(r,e||{},this);if(i&&(n&&(n=i(n)),r&&(r=i(r)),s&&(s=i(s))),o){KB(this,r,s);const a=Az(this,r,s,n);n=a.transitionEnd,r=a.target}return{transition:e,transitionEnd:n,...r}}}function Oz(t){return window.getComputedStyle(t)}class Lz extends B2{constructor(){super(...arguments),this.type="html"}readValueFromInstance(e,n){if(Ls.has(n)){const r=c1(n);return r&&r.default||0}else{const r=Oz(e),i=(AR(n)?r.getPropertyValue(n):r[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:n}){return A2(e,n)}build(e,n,r,i){Zw(e,n,r,i.transformTemplate)}scrapeMotionValuesFromProps(e,n){return r1(e,n)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;In(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}renderInstance(e,n,r,i){OR(e,n,r,i)}}class Vz extends B2{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Ls.has(n)){const r=c1(n);return r&&r.default||0}return n=LR.has(n)?n:Yw(n),e.getAttribute(n)}measureInstanceViewportBox(){return Ct()}scrapeMotionValuesFromProps(e,n){return jR(e,n)}build(e,n,r,i){t1(e,n,r,this.isSVGTag,i.transformTemplate)}renderInstance(e,n,r,i){VR(e,n,r,i)}mount(e){this.isSVGTag=n1(e.tagName),super.mount(e)}}const jz=(t,e)=>Jw(t)?new Vz(e,{enableHardwareAcceleration:!1}):new Lz(e,{enableHardwareAcceleration:!0}),Fz={layout:{ProjectionNode:j2,MeasureLayout:R2}},$z={...fW,...N8,...vz,...Fz},Te=U7((t,e)=>w8(t,e,$z,jz));function W2(){const t=m.useRef(!1);return Gw(()=>(t.current=!0,()=>{t.current=!1}),[]),t}function Uz(){const t=W2(),[e,n]=m.useState(0),r=m.useCallback(()=>{t.current&&n(e+1)},[e]);return[m.useCallback(()=>Xe.postRender(r),[r]),e]}class Bz extends m.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=n.offsetHeight||0,r.width=n.offsetWidth||0,r.top=n.offsetTop,r.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function Wz({children:t,isPresent:e}){const n=m.useId(),r=m.useRef(null),i=m.useRef({width:0,height:0,top:0,left:0});return m.useInsertionEffect(()=>{const{width:o,height:s,top:a,left:l}=i.current;if(e||!r.current||!o||!s)return;r.current.dataset.motionPopId=n;const c=document.createElement("style");return document.head.appendChild(c),c.sheet&&c.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${o}px !important;
            height: ${s}px !important;
            top: ${a}px !important;
            left: ${l}px !important;
          }
        `),()=>{document.head.removeChild(c)}},[e]),m.createElement(Bz,{isPresent:e,childRef:r,sizeRef:i},m.cloneElement(t,{ref:r}))}const Cg=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:i,presenceAffectsLayout:o,mode:s})=>{const a=FR(zz),l=m.useId(),c=m.useMemo(()=>({id:l,initial:e,isPresent:n,custom:i,onExitComplete:u=>{a.set(u,!0);for(const f of a.values())if(!f)return;r&&r()},register:u=>(a.set(u,!1),()=>a.delete(u))}),o?void 0:[n]);return m.useMemo(()=>{a.forEach((u,f)=>a.set(f,!1))},[n]),m.useEffect(()=>{!n&&!a.size&&r&&r()},[n]),s==="popLayout"&&(t=m.createElement(Wz,{isPresent:n},t)),m.createElement(Pp.Provider,{value:c},t)};function zz(){return new Map}function Hz(t){return m.useEffect(()=>()=>t(),[])}const ns=t=>t.key||"";function qz(t,e){t.forEach(n=>{const r=ns(n);e.set(r,n)})}function Gz(t){const e=[];return m.Children.forEach(t,n=>{m.isValidElement(n)&&e.push(n)}),e}const wa=({children:t,custom:e,initial:n=!0,onExitComplete:r,exitBeforeEnter:i,presenceAffectsLayout:o=!0,mode:s="sync"})=>{const a=m.useContext(Xw).forceRender||Uz()[0],l=W2(),c=Gz(t);let u=c;const f=m.useRef(new Map).current,h=m.useRef(u),g=m.useRef(new Map).current,w=m.useRef(!0);if(Gw(()=>{w.current=!1,qz(c,g),h.current=u}),Hz(()=>{w.current=!0,g.clear(),f.clear()}),w.current)return m.createElement(m.Fragment,null,u.map(y=>m.createElement(Cg,{key:ns(y),isPresent:!0,initial:n?void 0:!1,presenceAffectsLayout:o,mode:s},y)));u=[...u];const v=h.current.map(ns),E=c.map(ns),x=v.length;for(let y=0;y<x;y++){const b=v[y];E.indexOf(b)===-1&&!f.has(b)&&f.set(b,void 0)}return s==="wait"&&f.size&&(u=[]),f.forEach((y,b)=>{if(E.indexOf(b)!==-1)return;const P=g.get(b);if(!P)return;const N=v.indexOf(b);let M=y;if(!M){const S=()=>{f.delete(b);const C=Array.from(g.keys()).filter(I=>!E.includes(I));if(C.forEach(I=>g.delete(I)),h.current=c.filter(I=>{const A=ns(I);return A===b||C.includes(A)}),!f.size){if(l.current===!1)return;a(),r&&r()}};M=m.createElement(Cg,{key:ns(P),isPresent:!1,onExitComplete:S,custom:e,presenceAffectsLayout:o,mode:s},P),f.set(b,M)}u.splice(N,0,M)}),u=u.map(y=>{const b=y.key;return f.has(b)?y:m.createElement(Cg,{key:ns(y),isPresent:!0,presenceAffectsLayout:o,mode:s},y)}),m.createElement(m.Fragment,null,f.size?u:u.map(y=>m.cloneElement(y)))};var Yz={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const Kz=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),De=(t,e)=>{const n=m.forwardRef(({color:r="currentColor",size:i=24,strokeWidth:o=2,absoluteStrokeWidth:s,children:a,...l},c)=>m.createElement("svg",{ref:c,...Yz,width:i,height:i,stroke:r,strokeWidth:s?Number(o)*24/Number(i):o,className:`lucide lucide-${Kz(t)}`,...l},[...e.map(([u,f])=>m.createElement(u,f)),...(Array.isArray(a)?a:[a])||[]]));return n.displayName=`${t}`,n},z2=De("Archive",[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]]),Qz=De("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]),sC=De("CalendarDays",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]]),Xz=De("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]),Jz=De("CheckSquare",[["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}],["path",{d:"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11",key:"1jnkn4"}]]),bh=De("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]),Zz=De("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),eH=De("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]),tH=De("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),nH=De("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]),rH=De("Droplets",[["path",{d:"M7 16.3c2.2 0 4-1.83 4-4.05 0-1.16-.57-2.26-1.71-3.19S7.29 6.75 7 5.3c-.29 1.45-1.14 2.84-2.29 3.76S3 11.1 3 12.25c0 2.22 1.8 4.05 4 4.05z",key:"1ptgy4"}],["path",{d:"M12.56 6.6A10.97 10.97 0 0 0 14 3.02c.5 2.5 2 4.9 4 6.5s3 3.5 3 5.5a6.98 6.98 0 0 1-11.91 4.97",key:"1sl1rz"}]]),iH=De("Egg",[["path",{d:"M12 22c6.23-.05 7.87-5.57 7.5-10-.36-4.34-3.95-9.96-7.5-10-3.55.04-7.14 5.66-7.5 10-.37 4.43 1.27 9.95 7.5 10z",key:"1c39pg"}]]),Mp=De("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]),el=De("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),oH=De("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]),sH=De("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]),aC=De("KeyRound",[["path",{d:"M2 18v3c0 .6.4 1 1 1h4v-3h3v-3h2l1.4-1.4a6.5 6.5 0 1 0-4-4Z",key:"167ctg"}],["circle",{cx:"16.5",cy:"7.5",r:".5",key:"1kog09"}]]),aH=De("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]),lH=De("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]),cH=De("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]),H2=De("Maximize",[["path",{d:"M8 3H5a2 2 0 0 0-2 2v3",key:"1dcmit"}],["path",{d:"M21 8V5a2 2 0 0 0-2-2h-3",key:"1e4gt3"}],["path",{d:"M3 16v3a2 2 0 0 0 2 2h3",key:"wsl5sc"}],["path",{d:"M16 21h3a2 2 0 0 0 2-2v-3",key:"18trek"}]]),uH=De("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]),dH=De("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",key:"1xcu5"}],["circle",{cx:"17.5",cy:"10.5",r:".5",key:"736e4u"}],["circle",{cx:"8.5",cy:"7.5",r:".5",key:"clrty"}],["circle",{cx:"6.5",cy:"12.5",r:".5",key:"1s4xz9"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]),Vy=De("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.5 3.5a2.12 2.12 0 0 1 3 3L7 19l-4 1 1-4Z",key:"ymcmye"}]]),jy=De("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]]),Fy=De("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),fH=De("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]),hH=De("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]),pH=De("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),mH=De("Thermometer",[["path",{d:"M14 4v10.54a4 4 0 1 1-4 0V4a2 2 0 0 1 4 0Z",key:"17jzev"}]]),Th=De("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),gH=De("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]),vH=De("UserCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]]),yH=De("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]),cu=De("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]),Lu=De("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),wH=()=>{const[t,e]=m.useState(!0),[n,r]=m.useState(""),[i,o]=m.useState(""),[s,a]=m.useState(""),{login:l,register:c,resetPassword:u}=Ms(),f=wu(),{toast:h}=xl(),[g,w]=m.useState(!1),v=async x=>{x.preventDefault(),w(!0);try{if(t)await l(n,i),h({title:"Inicio de sesión exitoso",description:"Bienvenida de nuevo."}),f("/");else{if(i!==s){h({title:"Error de registro",description:"Las contraseñas no coinciden.",variant:"destructive"}),w(!1);return}await c(n,i),h({title:"Registro exitoso",description:"Tu cuenta ha sido creada."}),f("/")}}catch(y){h({title:t?"Error al iniciar sesión":"Error al registrarse",description:y.message,variant:"destructive"}),w(!1)}},E=async()=>{if(!n){h({title:"Correo requerido",description:"Introduce tu correo para restablecer la contraseña.",variant:"destructive"});return}try{await u(n),h({title:"Correo enviado",description:"Revisa tu bandeja para restablecer la contraseña."})}catch(x){h({title:"Error",description:x.message,variant:"destructive"})}};return p.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-pink-50 via-purple-50 to-indigo-50 flex flex-col justify-center items-center p-4",children:[p.jsxs(Te.div,{className:"w-full max-w-md bg-white/80 backdrop-blur-md shadow-xl rounded-xl p-8 sm:p-10",initial:{opacity:0,y:-30},animate:{opacity:1,y:0},transition:{duration:.6,ease:"easeOut"},children:[p.jsxs("div",{className:"text-center mb-8",children:[p.jsx(Te.h1,{className:"text-3xl sm:text-4xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-rose-400 via-pink-400 to-fuchsia-500 py-2 mb-2",initial:{opacity:0},animate:{opacity:1},transition:{delay:.2,duration:.5},children:"FertiliApp"}),p.jsx("p",{className:"text-gray-600 text-lg",children:t?"Inicia sesión para continuar":"Crea tu cuenta"})]}),p.jsxs("form",{onSubmit:v,className:"space-y-6",children:[p.jsxs("div",{className:"space-y-2",children:[p.jsxs(Bt,{htmlFor:"email",className:"flex items-center text-gray-700 text-lg",children:[p.jsx(cH,{className:"mr-2 h-5 w-5 text-pink-400"})," Correo Electrónico"]}),p.jsx(Xn,{id:"email",type:"email",value:n,onChange:x=>r(x.target.value),placeholder:"tu@email.com",required:!0,className:"bg-gray-50 border-gray-200 text-gray-800 placeholder-gray-400 focus:ring-pink-500 focus:border-pink-500 text-base py-3 px-4"})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsxs(Bt,{htmlFor:"password",className:"flex items-center text-gray-700 text-lg",children:[p.jsx(aC,{className:"mr-2 h-5 w-5 text-rose-400"})," Contraseña"]}),p.jsx(Xn,{id:"password",type:"password",value:i,onChange:x=>o(x.target.value),placeholder:"••••••••",required:!0,className:"bg-gray-50 border-gray-200 text-gray-800 placeholder-gray-400 focus:ring-pink-500 focus:border-pink-500 text-base py-3 px-4"})]}),t&&p.jsx("div",{className:"text-right",children:p.jsx(Ee,{variant:"link",type:"button",onClick:E,className:"text-pink-600 hover:text-pink-500 text-sm",children:"¿Olvidaste tu contraseña?"})}),!t&&p.jsxs("div",{className:"space-y-2",children:[p.jsxs(Bt,{htmlFor:"confirmPassword",className:"flex items-center text-gray-700 text-lg",children:[p.jsx(aC,{className:"mr-2 h-5 w-5 text-rose-400"})," Confirmar Contraseña"]}),p.jsx(Xn,{id:"confirmPassword",type:"password",value:s,onChange:x=>a(x.target.value),placeholder:"••••••••",required:!0,className:"bg-gray-50 border-gray-200 text-gray-800 placeholder-gray-400 focus:ring-pink-500 focus:border-pink-500 text-base py-3 px-4"})]}),p.jsx(Ee,{type:"submit",disabled:g,className:"w-full bg-gradient-to-r from-pink-500 to-fuchsia-600 hover:from-pink-600 hover:to-fuchsia-700 text-white font-semibold py-3 text-lg shadow-md hover:shadow-lg transition-all duration-300 transform hover:scale-105 flex items-center justify-center",children:g?p.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white"}):t?p.jsxs(p.Fragment,{children:[p.jsx(aH,{className:"mr-2 h-5 w-5"})," Iniciar Sesión"]}):p.jsxs(p.Fragment,{children:[p.jsx(yH,{className:"mr-2 h-5 w-5"})," Registrarse"]})})]}),p.jsx("div",{className:"mt-8 text-center",children:p.jsx(Ee,{variant:"link",onClick:()=>e(!t),className:"text-pink-600 hover:text-pink-500 text-base",children:t?"¿No tienes cuenta? Regístrate":"¿Ya tienes cuenta? Inicia sesión"})})]}),p.jsx("footer",{className:"w-full max-w-md mt-12 text-center text-gray-500 text-sm",children:p.jsxs("p",{children:["© ",new Date().getFullYear()," FertiliApp. Todos los derechos reservados."]})})]})},_H=({padding:t,chartWidth:e,chartHeight:n,tempMin:r,tempMax:i,tempRange:o,getY:s,getX:a,allDataPoints:l=[],responsiveFontSize:c,isFullScreen:u,showLeftLabels:f=!0})=>{const h={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.3,ease:"easeOut"}}},g=[];if(o>0){const w=o<=2.5?.1:.5;for(let v=r;v<=i+1e-9;v+=w)g.push(parseFloat(v.toFixed(1)))}else for(let w=35;w<=37.5+1e-9;w+=.5)g.push(parseFloat(w.toFixed(1)));return p.jsxs(p.Fragment,{children:[p.jsxs("defs",{children:[p.jsxs("linearGradient",{id:"bgGradient",x1:"0%",y1:"0%",x2:"0%",y2:"100%",children:[p.jsx("stop",{offset:"0%",stopColor:"rgba(252, 231, 243, 0.3)"}),p.jsx("stop",{offset:"50%",stopColor:"rgba(255, 255, 255, 0.8)"}),p.jsx("stop",{offset:"100%",stopColor:"rgba(252, 231, 243, 0.2)"})]}),p.jsxs("filter",{id:"softGlow",x:"-50%",y:"-50%",width:"200%",height:"200%",children:[p.jsx("feGaussianBlur",{stdDeviation:"1",result:"coloredBlur"}),p.jsxs("feMerge",{children:[p.jsx("feMergeNode",{in:"coloredBlur"}),p.jsx("feMergeNode",{in:"SourceGraphic"})]})]})]}),p.jsx("rect",{x:t.left,y:t.top,width:e-t.left-t.right,height:n-t.top-t.bottom,fill:"url(#bgGradient)",opacity:.4}),g.map((w,v)=>{const E=s(w),x=w.toFixed(1).endsWith(".0")||w.toFixed(1).endsWith(".5"),y=x?w.toFixed(1):`.${w.toFixed(1).split(".")[1]}`;return p.jsxs(Te.g,{variants:h,children:[p.jsx("line",{x1:t.left,y1:E,x2:e-t.right,y2:E,stroke:x?"rgba(244, 114, 182, 0.25)":"rgba(244, 114, 182, 0.15)",strokeWidth:x?1.5:1,strokeDasharray:x?"0":"3,3",style:{filter:x?"drop-shadow(0 1px 2px rgba(244, 114, 182, 0.1))":"none"}}),f&&p.jsx("text",{x:t.left-c(1),y:E+c(.35),textAnchor:"end",fontSize:c(x?1:.9),fontWeight:x?"600":"500",fill:x?"#E91E63":"#EC4899",style:{filter:"drop-shadow(0 1px 1px rgba(255, 255, 255, 0.8))",fontFamily:'-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif'},children:y}),p.jsx("text",{x:e-t.right+c(1),y:E+c(.35),textAnchor:"start",fontSize:c(x?1:.9),fontWeight:x?"600":"500",fill:x?"#E91E63":"#EC4899",style:{filter:"drop-shadow(0 1px 1px rgba(255, 255, 255, 0.8))",fontFamily:'-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif'},children:y})]},`temp-tick-${v}`)}),l.map((w,v)=>{const E=a(v);return p.jsx("line",{x1:E,y1:t.top,x2:E,y2:n-t.bottom,stroke:"rgba(244, 114, 182, 0.12)",strokeWidth:.8,style:{filter:"drop-shadow(0 0 1px rgba(244, 114, 182, 0.1))"}},`day-grid-${v}`)}),f&&p.jsxs(Te.g,{variants:h,children:[p.jsx("rect",{x:t.left-c(.2),y:t.top-c(.2),width:c(2.8),height:c(2),rx:c(.3),fill:"rgba(244, 114, 182, 0.1)",stroke:"rgba(244, 114, 182, 0.2)",strokeWidth:.5}),p.jsx("text",{x:t.left+c(1.2),y:t.top+c(1.1),textAnchor:"middle",fontSize:c(1.3),fontWeight:"700",fill:"#E91E63",style:{filter:"drop-shadow(0 1px 2px rgba(255, 255, 255, 0.8))",fontFamily:'-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif'},children:"°C"})]}),p.jsx("rect",{x:t.left,y:t.top,width:e-t.left-t.right,height:n-t.top-t.bottom,fill:"none",stroke:"rgba(244, 114, 182, 0.2)",strokeWidth:1.5,rx:8,style:{filter:"drop-shadow(0 2px 4px rgba(244, 114, 182, 0.1))"}})]})},xH=({data:t,allDataPoints:e,getX:n,getY:r,baselineY:i,temperatureField:o="temperature"})=>{if(!t||t.length<2)return null;let s="",a=null;return e.forEach((l,c)=>{const u=t.find(f=>f.id===l.id);if(u&&u[o]!==null&&u[o]!==void 0&&!u.ignored){const f=n(c),h=r(u[o]);a!==null&&c===a+1?s+=` L ${f} ${h}`:s+=`${s?" ":""}M ${f} ${h}`,a=c}}),s.includes("L")?p.jsx(p.Fragment,{children:p.jsx(Te.path,{d:s,fill:"none",stroke:"url(#tempLineGradientChart)",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round",initial:{pathLength:0,opacity:0},animate:{pathLength:1,opacity:1},transition:{duration:.2,ease:"easeInOut"}})}):null};function gr(t){"@babel/helpers - typeof";return gr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gr(t)}function Je(t){if(t===null||t===!0||t===!1)return NaN;var e=Number(t);return isNaN(e)?e:e<0?Math.ceil(e):Math.floor(e)}function ce(t,e){if(e.length<t)throw new TypeError(t+" argument"+(t>1?"s":"")+" required, but only "+e.length+" present")}function ve(t){ce(1,arguments);var e=Object.prototype.toString.call(t);return t instanceof Date||gr(t)==="object"&&e==="[object Date]"?new Date(t.getTime()):typeof t=="number"||e==="[object Number]"?new Date(t):((typeof t=="string"||e==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}function Rt(t,e){ce(2,arguments);var n=ve(t),r=Je(e);return isNaN(r)?new Date(NaN):(r&&n.setDate(n.getDate()+r),n)}function vr(t,e){ce(2,arguments);var n=ve(t),r=Je(e);if(isNaN(r))return new Date(NaN);if(!r)return n;var i=n.getDate(),o=new Date(n.getTime());o.setMonth(n.getMonth()+r+1,0);var s=o.getDate();return i>=s?o:(n.setFullYear(o.getFullYear(),o.getMonth(),i),n)}function EH(t,e){ce(2,arguments);var n=ve(t).getTime(),r=Je(e);return new Date(n+r)}var bH={};function Kr(){return bH}function Hr(t,e){var n,r,i,o,s,a,l,c;ce(1,arguments);var u=Kr(),f=Je((n=(r=(i=(o=e==null?void 0:e.weekStartsOn)!==null&&o!==void 0?o:e==null||(s=e.locale)===null||s===void 0||(a=s.options)===null||a===void 0?void 0:a.weekStartsOn)!==null&&i!==void 0?i:u.weekStartsOn)!==null&&r!==void 0?r:(l=u.locale)===null||l===void 0||(c=l.options)===null||c===void 0?void 0:c.weekStartsOn)!==null&&n!==void 0?n:0);if(!(f>=0&&f<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var h=ve(t),g=h.getDay(),w=(g<f?7:0)+g-f;return h.setDate(h.getDate()-w),h.setHours(0,0,0,0),h}function Ts(t){return ce(1,arguments),Hr(t,{weekStartsOn:1})}function TH(t){ce(1,arguments);var e=ve(t),n=e.getFullYear(),r=new Date(0);r.setFullYear(n+1,0,4),r.setHours(0,0,0,0);var i=Ts(r),o=new Date(0);o.setFullYear(n,0,4),o.setHours(0,0,0,0);var s=Ts(o);return e.getTime()>=i.getTime()?n+1:e.getTime()>=s.getTime()?n:n-1}function CH(t){ce(1,arguments);var e=TH(t),n=new Date(0);n.setFullYear(e,0,4),n.setHours(0,0,0,0);var r=Ts(n);return r}function tl(t){var e=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return e.setUTCFullYear(t.getFullYear()),t.getTime()-e.getTime()}function Se(t){ce(1,arguments);var e=ve(t);return e.setHours(0,0,0,0),e}var SH=864e5;function Rr(t,e){ce(2,arguments);var n=Se(t),r=Se(e),i=n.getTime()-tl(n),o=r.getTime()-tl(r);return Math.round((i-o)/SH)}function $y(t,e){ce(2,arguments);var n=Je(e),r=n*7;return Rt(t,r)}function PH(t,e){ce(2,arguments);var n=Je(e);return vr(t,n*12)}function IH(t){ce(1,arguments);var e;if(t&&typeof t.forEach=="function")e=t;else if(gr(t)==="object"&&t!==null)e=Array.prototype.slice.call(t);else return new Date(NaN);var n;return e.forEach(function(r){var i=ve(r);(n===void 0||n<i||isNaN(Number(i)))&&(n=i)}),n||new Date(NaN)}function AH(t){ce(1,arguments);var e;if(t&&typeof t.forEach=="function")e=t;else if(gr(t)==="object"&&t!==null)e=Array.prototype.slice.call(t);else return new Date(NaN);var n;return e.forEach(function(r){var i=ve(r);(n===void 0||n>i||isNaN(i.getDate()))&&(n=i)}),n||new Date(NaN)}function kH(t,e){ce(2,arguments);var n=ve(t),r=ve(e),i=n.getTime()-r.getTime();return i<0?-1:i>0?1:i}var m1=6e4,g1=36e5,RH=1e3;function bn(t,e){ce(2,arguments);var n=Se(t),r=Se(e);return n.getTime()===r.getTime()}function v1(t){return ce(1,arguments),t instanceof Date||gr(t)==="object"&&Object.prototype.toString.call(t)==="[object Date]"}function NH(t){if(ce(1,arguments),!v1(t)&&typeof t!="number")return!1;var e=ve(t);return!isNaN(Number(e))}function uu(t,e){ce(2,arguments);var n=ve(t),r=ve(e),i=n.getFullYear()-r.getFullYear(),o=n.getMonth()-r.getMonth();return i*12+o}var DH=6048e5;function MH(t,e,n){ce(2,arguments);var r=Hr(t,n),i=Hr(e,n),o=r.getTime()-tl(r),s=i.getTime()-tl(i);return Math.round((o-s)/DH)}function lC(t,e){var n=t.getFullYear()-e.getFullYear()||t.getMonth()-e.getMonth()||t.getDate()-e.getDate()||t.getHours()-e.getHours()||t.getMinutes()-e.getMinutes()||t.getSeconds()-e.getSeconds()||t.getMilliseconds()-e.getMilliseconds();return n<0?-1:n>0?1:n}function xo(t,e){ce(2,arguments);var n=ve(t),r=ve(e),i=lC(n,r),o=Math.abs(Rr(n,r));n.setDate(n.getDate()-i*o);var s=+(lC(n,r)===-i),a=i*(o-s);return a===0?0:a}function y1(t){ce(1,arguments);var e=ve(t),n=e.getMonth();return e.setFullYear(e.getFullYear(),n+1,0),e.setHours(23,59,59,999),e}function Pn(t){ce(1,arguments);var e=ve(t);return e.setDate(1),e.setHours(0,0,0,0),e}function OH(t){ce(1,arguments);var e=ve(t),n=new Date(0);return n.setFullYear(e.getFullYear(),0,1),n.setHours(0,0,0,0),n}function w1(t,e){var n,r,i,o,s,a,l,c;ce(1,arguments);var u=Kr(),f=Je((n=(r=(i=(o=e==null?void 0:e.weekStartsOn)!==null&&o!==void 0?o:e==null||(s=e.locale)===null||s===void 0||(a=s.options)===null||a===void 0?void 0:a.weekStartsOn)!==null&&i!==void 0?i:u.weekStartsOn)!==null&&r!==void 0?r:(l=u.locale)===null||l===void 0||(c=l.options)===null||c===void 0?void 0:c.weekStartsOn)!==null&&n!==void 0?n:0);if(!(f>=0&&f<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var h=ve(t),g=h.getDay(),w=(g<f?-7:0)+6-(g-f);return h.setDate(h.getDate()+w),h.setHours(23,59,59,999),h}function q2(t){return ce(1,arguments),w1(t,{weekStartsOn:1})}function G2(t,e){ce(2,arguments);var n=Je(e);return EH(t,-n)}var LH=864e5;function VH(t){ce(1,arguments);var e=ve(t),n=e.getTime();e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0);var r=e.getTime(),i=n-r;return Math.floor(i/LH)+1}function nl(t){ce(1,arguments);var e=1,n=ve(t),r=n.getUTCDay(),i=(r<e?7:0)+r-e;return n.setUTCDate(n.getUTCDate()-i),n.setUTCHours(0,0,0,0),n}function Y2(t){ce(1,arguments);var e=ve(t),n=e.getUTCFullYear(),r=new Date(0);r.setUTCFullYear(n+1,0,4),r.setUTCHours(0,0,0,0);var i=nl(r),o=new Date(0);o.setUTCFullYear(n,0,4),o.setUTCHours(0,0,0,0);var s=nl(o);return e.getTime()>=i.getTime()?n+1:e.getTime()>=s.getTime()?n:n-1}function jH(t){ce(1,arguments);var e=Y2(t),n=new Date(0);n.setUTCFullYear(e,0,4),n.setUTCHours(0,0,0,0);var r=nl(n);return r}var FH=6048e5;function K2(t){ce(1,arguments);var e=ve(t),n=nl(e).getTime()-jH(e).getTime();return Math.round(n/FH)+1}function Cs(t,e){var n,r,i,o,s,a,l,c;ce(1,arguments);var u=Kr(),f=Je((n=(r=(i=(o=e==null?void 0:e.weekStartsOn)!==null&&o!==void 0?o:e==null||(s=e.locale)===null||s===void 0||(a=s.options)===null||a===void 0?void 0:a.weekStartsOn)!==null&&i!==void 0?i:u.weekStartsOn)!==null&&r!==void 0?r:(l=u.locale)===null||l===void 0||(c=l.options)===null||c===void 0?void 0:c.weekStartsOn)!==null&&n!==void 0?n:0);if(!(f>=0&&f<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var h=ve(t),g=h.getUTCDay(),w=(g<f?7:0)+g-f;return h.setUTCDate(h.getUTCDate()-w),h.setUTCHours(0,0,0,0),h}function _1(t,e){var n,r,i,o,s,a,l,c;ce(1,arguments);var u=ve(t),f=u.getUTCFullYear(),h=Kr(),g=Je((n=(r=(i=(o=e==null?void 0:e.firstWeekContainsDate)!==null&&o!==void 0?o:e==null||(s=e.locale)===null||s===void 0||(a=s.options)===null||a===void 0?void 0:a.firstWeekContainsDate)!==null&&i!==void 0?i:h.firstWeekContainsDate)!==null&&r!==void 0?r:(l=h.locale)===null||l===void 0||(c=l.options)===null||c===void 0?void 0:c.firstWeekContainsDate)!==null&&n!==void 0?n:1);if(!(g>=1&&g<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var w=new Date(0);w.setUTCFullYear(f+1,0,g),w.setUTCHours(0,0,0,0);var v=Cs(w,e),E=new Date(0);E.setUTCFullYear(f,0,g),E.setUTCHours(0,0,0,0);var x=Cs(E,e);return u.getTime()>=v.getTime()?f+1:u.getTime()>=x.getTime()?f:f-1}function $H(t,e){var n,r,i,o,s,a,l,c;ce(1,arguments);var u=Kr(),f=Je((n=(r=(i=(o=e==null?void 0:e.firstWeekContainsDate)!==null&&o!==void 0?o:e==null||(s=e.locale)===null||s===void 0||(a=s.options)===null||a===void 0?void 0:a.firstWeekContainsDate)!==null&&i!==void 0?i:u.firstWeekContainsDate)!==null&&r!==void 0?r:(l=u.locale)===null||l===void 0||(c=l.options)===null||c===void 0?void 0:c.firstWeekContainsDate)!==null&&n!==void 0?n:1),h=_1(t,e),g=new Date(0);g.setUTCFullYear(h,0,f),g.setUTCHours(0,0,0,0);var w=Cs(g,e);return w}var UH=6048e5;function Q2(t,e){ce(1,arguments);var n=ve(t),r=Cs(n,e).getTime()-$H(n,e).getTime();return Math.round(r/UH)+1}function He(t,e){for(var n=t<0?"-":"",r=Math.abs(t).toString();r.length<e;)r="0"+r;return n+r}var BH={y:function(e,n){var r=e.getUTCFullYear(),i=r>0?r:1-r;return He(n==="yy"?i%100:i,n.length)},M:function(e,n){var r=e.getUTCMonth();return n==="M"?String(r+1):He(r+1,2)},d:function(e,n){return He(e.getUTCDate(),n.length)},a:function(e,n){var r=e.getUTCHours()/12>=1?"pm":"am";switch(n){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h:function(e,n){return He(e.getUTCHours()%12||12,n.length)},H:function(e,n){return He(e.getUTCHours(),n.length)},m:function(e,n){return He(e.getUTCMinutes(),n.length)},s:function(e,n){return He(e.getUTCSeconds(),n.length)},S:function(e,n){var r=n.length,i=e.getUTCMilliseconds(),o=Math.floor(i*Math.pow(10,r-3));return He(o,n.length)}};const Ui=BH;var Hs={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},WH={G:function(e,n,r){var i=e.getUTCFullYear()>0?1:0;switch(n){case"G":case"GG":case"GGG":return r.era(i,{width:"abbreviated"});case"GGGGG":return r.era(i,{width:"narrow"});case"GGGG":default:return r.era(i,{width:"wide"})}},y:function(e,n,r){if(n==="yo"){var i=e.getUTCFullYear(),o=i>0?i:1-i;return r.ordinalNumber(o,{unit:"year"})}return Ui.y(e,n)},Y:function(e,n,r,i){var o=_1(e,i),s=o>0?o:1-o;if(n==="YY"){var a=s%100;return He(a,2)}return n==="Yo"?r.ordinalNumber(s,{unit:"year"}):He(s,n.length)},R:function(e,n){var r=Y2(e);return He(r,n.length)},u:function(e,n){var r=e.getUTCFullYear();return He(r,n.length)},Q:function(e,n,r){var i=Math.ceil((e.getUTCMonth()+1)/3);switch(n){case"Q":return String(i);case"QQ":return He(i,2);case"Qo":return r.ordinalNumber(i,{unit:"quarter"});case"QQQ":return r.quarter(i,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(i,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(i,{width:"wide",context:"formatting"})}},q:function(e,n,r){var i=Math.ceil((e.getUTCMonth()+1)/3);switch(n){case"q":return String(i);case"qq":return He(i,2);case"qo":return r.ordinalNumber(i,{unit:"quarter"});case"qqq":return r.quarter(i,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(i,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(i,{width:"wide",context:"standalone"})}},M:function(e,n,r){var i=e.getUTCMonth();switch(n){case"M":case"MM":return Ui.M(e,n);case"Mo":return r.ordinalNumber(i+1,{unit:"month"});case"MMM":return r.month(i,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(i,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(i,{width:"wide",context:"formatting"})}},L:function(e,n,r){var i=e.getUTCMonth();switch(n){case"L":return String(i+1);case"LL":return He(i+1,2);case"Lo":return r.ordinalNumber(i+1,{unit:"month"});case"LLL":return r.month(i,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(i,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(i,{width:"wide",context:"standalone"})}},w:function(e,n,r,i){var o=Q2(e,i);return n==="wo"?r.ordinalNumber(o,{unit:"week"}):He(o,n.length)},I:function(e,n,r){var i=K2(e);return n==="Io"?r.ordinalNumber(i,{unit:"week"}):He(i,n.length)},d:function(e,n,r){return n==="do"?r.ordinalNumber(e.getUTCDate(),{unit:"date"}):Ui.d(e,n)},D:function(e,n,r){var i=VH(e);return n==="Do"?r.ordinalNumber(i,{unit:"dayOfYear"}):He(i,n.length)},E:function(e,n,r){var i=e.getUTCDay();switch(n){case"E":case"EE":case"EEE":return r.day(i,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(i,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(i,{width:"short",context:"formatting"});case"EEEE":default:return r.day(i,{width:"wide",context:"formatting"})}},e:function(e,n,r,i){var o=e.getUTCDay(),s=(o-i.weekStartsOn+8)%7||7;switch(n){case"e":return String(s);case"ee":return He(s,2);case"eo":return r.ordinalNumber(s,{unit:"day"});case"eee":return r.day(o,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(o,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(o,{width:"short",context:"formatting"});case"eeee":default:return r.day(o,{width:"wide",context:"formatting"})}},c:function(e,n,r,i){var o=e.getUTCDay(),s=(o-i.weekStartsOn+8)%7||7;switch(n){case"c":return String(s);case"cc":return He(s,n.length);case"co":return r.ordinalNumber(s,{unit:"day"});case"ccc":return r.day(o,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(o,{width:"narrow",context:"standalone"});case"cccccc":return r.day(o,{width:"short",context:"standalone"});case"cccc":default:return r.day(o,{width:"wide",context:"standalone"})}},i:function(e,n,r){var i=e.getUTCDay(),o=i===0?7:i;switch(n){case"i":return String(o);case"ii":return He(o,n.length);case"io":return r.ordinalNumber(o,{unit:"day"});case"iii":return r.day(i,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(i,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(i,{width:"short",context:"formatting"});case"iiii":default:return r.day(i,{width:"wide",context:"formatting"})}},a:function(e,n,r){var i=e.getUTCHours(),o=i/12>=1?"pm":"am";switch(n){case"a":case"aa":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(o,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(o,{width:"wide",context:"formatting"})}},b:function(e,n,r){var i=e.getUTCHours(),o;switch(i===12?o=Hs.noon:i===0?o=Hs.midnight:o=i/12>=1?"pm":"am",n){case"b":case"bb":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(o,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(o,{width:"wide",context:"formatting"})}},B:function(e,n,r){var i=e.getUTCHours(),o;switch(i>=17?o=Hs.evening:i>=12?o=Hs.afternoon:i>=4?o=Hs.morning:o=Hs.night,n){case"B":case"BB":case"BBB":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(o,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(o,{width:"wide",context:"formatting"})}},h:function(e,n,r){if(n==="ho"){var i=e.getUTCHours()%12;return i===0&&(i=12),r.ordinalNumber(i,{unit:"hour"})}return Ui.h(e,n)},H:function(e,n,r){return n==="Ho"?r.ordinalNumber(e.getUTCHours(),{unit:"hour"}):Ui.H(e,n)},K:function(e,n,r){var i=e.getUTCHours()%12;return n==="Ko"?r.ordinalNumber(i,{unit:"hour"}):He(i,n.length)},k:function(e,n,r){var i=e.getUTCHours();return i===0&&(i=24),n==="ko"?r.ordinalNumber(i,{unit:"hour"}):He(i,n.length)},m:function(e,n,r){return n==="mo"?r.ordinalNumber(e.getUTCMinutes(),{unit:"minute"}):Ui.m(e,n)},s:function(e,n,r){return n==="so"?r.ordinalNumber(e.getUTCSeconds(),{unit:"second"}):Ui.s(e,n)},S:function(e,n){return Ui.S(e,n)},X:function(e,n,r,i){var o=i._originalDate||e,s=o.getTimezoneOffset();if(s===0)return"Z";switch(n){case"X":return uC(s);case"XXXX":case"XX":return rs(s);case"XXXXX":case"XXX":default:return rs(s,":")}},x:function(e,n,r,i){var o=i._originalDate||e,s=o.getTimezoneOffset();switch(n){case"x":return uC(s);case"xxxx":case"xx":return rs(s);case"xxxxx":case"xxx":default:return rs(s,":")}},O:function(e,n,r,i){var o=i._originalDate||e,s=o.getTimezoneOffset();switch(n){case"O":case"OO":case"OOO":return"GMT"+cC(s,":");case"OOOO":default:return"GMT"+rs(s,":")}},z:function(e,n,r,i){var o=i._originalDate||e,s=o.getTimezoneOffset();switch(n){case"z":case"zz":case"zzz":return"GMT"+cC(s,":");case"zzzz":default:return"GMT"+rs(s,":")}},t:function(e,n,r,i){var o=i._originalDate||e,s=Math.floor(o.getTime()/1e3);return He(s,n.length)},T:function(e,n,r,i){var o=i._originalDate||e,s=o.getTime();return He(s,n.length)}};function cC(t,e){var n=t>0?"-":"+",r=Math.abs(t),i=Math.floor(r/60),o=r%60;if(o===0)return n+String(i);var s=e||"";return n+String(i)+s+He(o,2)}function uC(t,e){if(t%60===0){var n=t>0?"-":"+";return n+He(Math.abs(t)/60,2)}return rs(t,e)}function rs(t,e){var n=e||"",r=t>0?"-":"+",i=Math.abs(t),o=He(Math.floor(i/60),2),s=He(i%60,2);return r+o+n+s}const zH=WH;var dC=function(e,n){switch(e){case"P":return n.date({width:"short"});case"PP":return n.date({width:"medium"});case"PPP":return n.date({width:"long"});case"PPPP":default:return n.date({width:"full"})}},X2=function(e,n){switch(e){case"p":return n.time({width:"short"});case"pp":return n.time({width:"medium"});case"ppp":return n.time({width:"long"});case"pppp":default:return n.time({width:"full"})}},HH=function(e,n){var r=e.match(/(P+)(p+)?/)||[],i=r[1],o=r[2];if(!o)return dC(e,n);var s;switch(i){case"P":s=n.dateTime({width:"short"});break;case"PP":s=n.dateTime({width:"medium"});break;case"PPP":s=n.dateTime({width:"long"});break;case"PPPP":default:s=n.dateTime({width:"full"});break}return s.replace("{{date}}",dC(i,n)).replace("{{time}}",X2(o,n))},qH={p:X2,P:HH};const Uy=qH;var GH=["D","DD"],YH=["YY","YYYY"];function J2(t){return GH.indexOf(t)!==-1}function Z2(t){return YH.indexOf(t)!==-1}function Ch(t,e,n){if(t==="YYYY")throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(e,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(t==="YY")throw new RangeError("Use `yy` instead of `YY` (in `".concat(e,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(t==="D")throw new RangeError("Use `d` instead of `D` (in `".concat(e,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(t==="DD")throw new RangeError("Use `dd` instead of `DD` (in `".concat(e,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}var KH={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},QH=function(e,n,r){var i,o=KH[e];return typeof o=="string"?i=o:n===1?i=o.one:i=o.other.replace("{{count}}",n.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+i:i+" ago":i};const XH=QH;function Da(t){return function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.width?String(e.width):t.defaultWidth,r=t.formats[n]||t.formats[t.defaultWidth];return r}}var JH={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},ZH={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},eq={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},tq={date:Da({formats:JH,defaultWidth:"full"}),time:Da({formats:ZH,defaultWidth:"full"}),dateTime:Da({formats:eq,defaultWidth:"full"})};const nq=tq;var rq={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},iq=function(e,n,r,i){return rq[e]};const oq=iq;function Pr(t){return function(e,n){var r=n!=null&&n.context?String(n.context):"standalone",i;if(r==="formatting"&&t.formattingValues){var o=t.defaultFormattingWidth||t.defaultWidth,s=n!=null&&n.width?String(n.width):o;i=t.formattingValues[s]||t.formattingValues[o]}else{var a=t.defaultWidth,l=n!=null&&n.width?String(n.width):t.defaultWidth;i=t.values[l]||t.values[a]}var c=t.argumentCallback?t.argumentCallback(e):e;return i[c]}}var sq={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},aq={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},lq={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},cq={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},uq={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},dq={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},fq=function(e,n){var r=Number(e),i=r%100;if(i>20||i<10)switch(i%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},hq={ordinalNumber:fq,era:Pr({values:sq,defaultWidth:"wide"}),quarter:Pr({values:aq,defaultWidth:"wide",argumentCallback:function(e){return e-1}}),month:Pr({values:lq,defaultWidth:"wide"}),day:Pr({values:cq,defaultWidth:"wide"}),dayPeriod:Pr({values:uq,defaultWidth:"wide",formattingValues:dq,defaultFormattingWidth:"wide"})};const pq=hq;function Ir(t){return function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=n.width,i=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],o=e.match(i);if(!o)return null;var s=o[0],a=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],l=Array.isArray(a)?gq(a,function(f){return f.test(s)}):mq(a,function(f){return f.test(s)}),c;c=t.valueCallback?t.valueCallback(l):l,c=n.valueCallback?n.valueCallback(c):c;var u=e.slice(s.length);return{value:c,rest:u}}}function mq(t,e){for(var n in t)if(t.hasOwnProperty(n)&&e(t[n]))return n}function gq(t,e){for(var n=0;n<t.length;n++)if(e(t[n]))return n}function eN(t){return function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=e.match(t.matchPattern);if(!r)return null;var i=r[0],o=e.match(t.parsePattern);if(!o)return null;var s=t.valueCallback?t.valueCallback(o[0]):o[0];s=n.valueCallback?n.valueCallback(s):s;var a=e.slice(i.length);return{value:s,rest:a}}}var vq=/^(\d+)(th|st|nd|rd)?/i,yq=/\d+/i,wq={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},_q={any:[/^b/i,/^(a|c)/i]},xq={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Eq={any:[/1/i,/2/i,/3/i,/4/i]},bq={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Tq={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Cq={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Sq={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Pq={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Iq={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Aq={ordinalNumber:eN({matchPattern:vq,parsePattern:yq,valueCallback:function(e){return parseInt(e,10)}}),era:Ir({matchPatterns:wq,defaultMatchWidth:"wide",parsePatterns:_q,defaultParseWidth:"any"}),quarter:Ir({matchPatterns:xq,defaultMatchWidth:"wide",parsePatterns:Eq,defaultParseWidth:"any",valueCallback:function(e){return e+1}}),month:Ir({matchPatterns:bq,defaultMatchWidth:"wide",parsePatterns:Tq,defaultParseWidth:"any"}),day:Ir({matchPatterns:Cq,defaultMatchWidth:"wide",parsePatterns:Sq,defaultParseWidth:"any"}),dayPeriod:Ir({matchPatterns:Pq,defaultMatchWidth:"any",parsePatterns:Iq,defaultParseWidth:"any"})};const kq=Aq;var Rq={code:"en-US",formatDistance:XH,formatLong:nq,formatRelative:oq,localize:pq,match:kq,options:{weekStartsOn:0,firstWeekContainsDate:1}};const x1=Rq;var Nq=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Dq=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Mq=/^'([^]*?)'?$/,Oq=/''/g,Lq=/[a-zA-Z]/;function _e(t,e,n){var r,i,o,s,a,l,c,u,f,h,g,w,v,E,x,y,b,P;ce(2,arguments);var N=String(e),M=Kr(),S=(r=(i=n==null?void 0:n.locale)!==null&&i!==void 0?i:M.locale)!==null&&r!==void 0?r:x1,C=Je((o=(s=(a=(l=n==null?void 0:n.firstWeekContainsDate)!==null&&l!==void 0?l:n==null||(c=n.locale)===null||c===void 0||(u=c.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&a!==void 0?a:M.firstWeekContainsDate)!==null&&s!==void 0?s:(f=M.locale)===null||f===void 0||(h=f.options)===null||h===void 0?void 0:h.firstWeekContainsDate)!==null&&o!==void 0?o:1);if(!(C>=1&&C<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var I=Je((g=(w=(v=(E=n==null?void 0:n.weekStartsOn)!==null&&E!==void 0?E:n==null||(x=n.locale)===null||x===void 0||(y=x.options)===null||y===void 0?void 0:y.weekStartsOn)!==null&&v!==void 0?v:M.weekStartsOn)!==null&&w!==void 0?w:(b=M.locale)===null||b===void 0||(P=b.options)===null||P===void 0?void 0:P.weekStartsOn)!==null&&g!==void 0?g:0);if(!(I>=0&&I<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!S.localize)throw new RangeError("locale must contain localize property");if(!S.formatLong)throw new RangeError("locale must contain formatLong property");var A=ve(t);if(!NH(A))throw new RangeError("Invalid time value");var D=tl(A),O=G2(A,D),R={firstWeekContainsDate:C,weekStartsOn:I,locale:S,_originalDate:A},F=N.match(Dq).map(function(q){var K=q[0];if(K==="p"||K==="P"){var z=Uy[K];return z(q,S.formatLong)}return q}).join("").match(Nq).map(function(q){if(q==="''")return"'";var K=q[0];if(K==="'")return Vq(q);var z=zH[K];if(z)return!(n!=null&&n.useAdditionalWeekYearTokens)&&Z2(q)&&Ch(q,e,String(t)),!(n!=null&&n.useAdditionalDayOfYearTokens)&&J2(q)&&Ch(q,e,String(t)),z(O,q,S.localize,R);if(K.match(Lq))throw new RangeError("Format string contains an unescaped latin alphabet character `"+K+"`");return q}).join("");return F}function Vq(t){var e=t.match(Mq);return e?e[1].replace(Oq,"'"):t}function jq(t,e){if(t==null)throw new TypeError("assign requires that input parameter not be null or undefined");for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}function Fq(t){ce(1,arguments);var e=ve(t),n=e.getFullYear(),r=e.getMonth(),i=new Date(0);return i.setFullYear(n,r+1,0),i.setHours(0,0,0,0),i.getDate()}var $q=6048e5;function Uq(t){ce(1,arguments);var e=ve(t),n=Ts(e).getTime()-CH(e).getTime();return Math.round(n/$q)+1}function Bq(t){ce(1,arguments);var e=ve(t),n=e.getTime();return n}function Wq(t){return ce(1,arguments),Math.floor(Bq(t)/1e3)}function zq(t,e){var n,r,i,o,s,a,l,c;ce(1,arguments);var u=ve(t),f=u.getFullYear(),h=Kr(),g=Je((n=(r=(i=(o=e==null?void 0:e.firstWeekContainsDate)!==null&&o!==void 0?o:e==null||(s=e.locale)===null||s===void 0||(a=s.options)===null||a===void 0?void 0:a.firstWeekContainsDate)!==null&&i!==void 0?i:h.firstWeekContainsDate)!==null&&r!==void 0?r:(l=h.locale)===null||l===void 0||(c=l.options)===null||c===void 0?void 0:c.firstWeekContainsDate)!==null&&n!==void 0?n:1);if(!(g>=1&&g<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var w=new Date(0);w.setFullYear(f+1,0,g),w.setHours(0,0,0,0);var v=Hr(w,e),E=new Date(0);E.setFullYear(f,0,g),E.setHours(0,0,0,0);var x=Hr(E,e);return u.getTime()>=v.getTime()?f+1:u.getTime()>=x.getTime()?f:f-1}function Hq(t,e){var n,r,i,o,s,a,l,c;ce(1,arguments);var u=Kr(),f=Je((n=(r=(i=(o=e==null?void 0:e.firstWeekContainsDate)!==null&&o!==void 0?o:e==null||(s=e.locale)===null||s===void 0||(a=s.options)===null||a===void 0?void 0:a.firstWeekContainsDate)!==null&&i!==void 0?i:u.firstWeekContainsDate)!==null&&r!==void 0?r:(l=u.locale)===null||l===void 0||(c=l.options)===null||c===void 0?void 0:c.firstWeekContainsDate)!==null&&n!==void 0?n:1),h=zq(t,e),g=new Date(0);g.setFullYear(h,0,f),g.setHours(0,0,0,0);var w=Hr(g,e);return w}var qq=6048e5;function Gq(t,e){ce(1,arguments);var n=ve(t),r=Hr(n,e).getTime()-Hq(n,e).getTime();return Math.round(r/qq)+1}function Yq(t){ce(1,arguments);var e=ve(t),n=e.getMonth();return e.setFullYear(e.getFullYear(),n+1,0),e.setHours(0,0,0,0),e}function Kq(t,e){return ce(1,arguments),MH(Yq(t),Pn(t),e)+1}function Sh(t,e){ce(2,arguments);var n=ve(t),r=ve(e);return n.getTime()>r.getTime()}function tN(t,e){ce(2,arguments);var n=ve(t),r=ve(e);return n.getTime()<r.getTime()}function fC(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function Qq(t,e){if(t){if(typeof t=="string")return fC(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?fC(t,e):void 0}}function hC(t,e){var n=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=Qq(t))||e&&t&&typeof t.length=="number"){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(c){throw c},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var o,s=!0,a=!1;return{s:function(){n=n.call(t)},n:function(){var c=n.next();return s=c.done,c},e:function(c){a=!0,o=c},f:function(){try{s||n.return==null||n.return()}finally{if(a)throw o}}}}function se(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function By(t,e){return By=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},By(t,e)}function je(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&By(t,e)}function Ph(t){return Ph=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Ph(t)}function nN(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(nN=function(){return!!t})()}function Xq(t,e){if(e&&(gr(e)=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return se(t)}function Fe(t){var e=nN();return function(){var n,r=Ph(t);if(e){var i=Ph(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Xq(this,n)}}function Me(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Jq(t,e){if(gr(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(gr(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function rN(t){var e=Jq(t,"string");return gr(e)=="symbol"?e:e+""}function pC(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,rN(r.key),r)}}function Oe(t,e,n){return e&&pC(t.prototype,e),n&&pC(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function ne(t,e,n){return(e=rN(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Zq=10,iN=function(){function t(){Me(this,t),ne(this,"priority",void 0),ne(this,"subPriority",0)}return Oe(t,[{key:"validate",value:function(n,r){return!0}}]),t}(),eG=function(t){je(n,t);var e=Fe(n);function n(r,i,o,s,a){var l;return Me(this,n),l=e.call(this),l.value=r,l.validateValue=i,l.setValue=o,l.priority=s,a&&(l.subPriority=a),l}return Oe(n,[{key:"validate",value:function(i,o){return this.validateValue(i,this.value,o)}},{key:"set",value:function(i,o,s){return this.setValue(i,o,this.value,s)}}]),n}(iN),tG=function(t){je(n,t);var e=Fe(n);function n(){var r;Me(this,n);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o)),ne(se(r),"priority",Zq),ne(se(r),"subPriority",-1),r}return Oe(n,[{key:"set",value:function(i,o){if(o.timestampIsSet)return i;var s=new Date(0);return s.setFullYear(i.getUTCFullYear(),i.getUTCMonth(),i.getUTCDate()),s.setHours(i.getUTCHours(),i.getUTCMinutes(),i.getUTCSeconds(),i.getUTCMilliseconds()),s}}]),n}(iN),Be=function(){function t(){Me(this,t),ne(this,"incompatibleTokens",void 0),ne(this,"priority",void 0),ne(this,"subPriority",void 0)}return Oe(t,[{key:"run",value:function(n,r,i,o){var s=this.parse(n,r,i,o);return s?{setter:new eG(s.value,this.validate,this.set,this.priority,this.subPriority),rest:s.rest}:null}},{key:"validate",value:function(n,r,i){return!0}}]),t}(),nG=function(t){je(n,t);var e=Fe(n);function n(){var r;Me(this,n);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o)),ne(se(r),"priority",140),ne(se(r),"incompatibleTokens",["R","u","t","T"]),r}return Oe(n,[{key:"parse",value:function(i,o,s){switch(o){case"G":case"GG":case"GGG":return s.era(i,{width:"abbreviated"})||s.era(i,{width:"narrow"});case"GGGGG":return s.era(i,{width:"narrow"});case"GGGG":default:return s.era(i,{width:"wide"})||s.era(i,{width:"abbreviated"})||s.era(i,{width:"narrow"})}}},{key:"set",value:function(i,o,s){return o.era=s,i.setUTCFullYear(s,0,1),i.setUTCHours(0,0,0,0),i}}]),n}(Be),xt={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},Ar={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function Et(t,e){return t&&{value:e(t.value),rest:t.rest}}function dt(t,e){var n=e.match(t);return n?{value:parseInt(n[0],10),rest:e.slice(n[0].length)}:null}function kr(t,e){var n=e.match(t);if(!n)return null;if(n[0]==="Z")return{value:0,rest:e.slice(1)};var r=n[1]==="+"?1:-1,i=n[2]?parseInt(n[2],10):0,o=n[3]?parseInt(n[3],10):0,s=n[5]?parseInt(n[5],10):0;return{value:r*(i*g1+o*m1+s*RH),rest:e.slice(n[0].length)}}function oN(t){return dt(xt.anyDigitsSigned,t)}function yt(t,e){switch(t){case 1:return dt(xt.singleDigit,e);case 2:return dt(xt.twoDigits,e);case 3:return dt(xt.threeDigits,e);case 4:return dt(xt.fourDigits,e);default:return dt(new RegExp("^\\d{1,"+t+"}"),e)}}function Ih(t,e){switch(t){case 1:return dt(xt.singleDigitSigned,e);case 2:return dt(xt.twoDigitsSigned,e);case 3:return dt(xt.threeDigitsSigned,e);case 4:return dt(xt.fourDigitsSigned,e);default:return dt(new RegExp("^-?\\d{1,"+t+"}"),e)}}function E1(t){switch(t){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function sN(t,e){var n=e>0,r=n?e:1-e,i;if(r<=50)i=t||100;else{var o=r+50,s=Math.floor(o/100)*100,a=t>=o%100;i=t+s-(a?100:0)}return n?i:1-i}function aN(t){return t%400===0||t%4===0&&t%100!==0}var rG=function(t){je(n,t);var e=Fe(n);function n(){var r;Me(this,n);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o)),ne(se(r),"priority",130),ne(se(r),"incompatibleTokens",["Y","R","u","w","I","i","e","c","t","T"]),r}return Oe(n,[{key:"parse",value:function(i,o,s){var a=function(c){return{year:c,isTwoDigitYear:o==="yy"}};switch(o){case"y":return Et(yt(4,i),a);case"yo":return Et(s.ordinalNumber(i,{unit:"year"}),a);default:return Et(yt(o.length,i),a)}}},{key:"validate",value:function(i,o){return o.isTwoDigitYear||o.year>0}},{key:"set",value:function(i,o,s){var a=i.getUTCFullYear();if(s.isTwoDigitYear){var l=sN(s.year,a);return i.setUTCFullYear(l,0,1),i.setUTCHours(0,0,0,0),i}var c=!("era"in o)||o.era===1?s.year:1-s.year;return i.setUTCFullYear(c,0,1),i.setUTCHours(0,0,0,0),i}}]),n}(Be),iG=function(t){je(n,t);var e=Fe(n);function n(){var r;Me(this,n);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o)),ne(se(r),"priority",130),ne(se(r),"incompatibleTokens",["y","R","u","Q","q","M","L","I","d","D","i","t","T"]),r}return Oe(n,[{key:"parse",value:function(i,o,s){var a=function(c){return{year:c,isTwoDigitYear:o==="YY"}};switch(o){case"Y":return Et(yt(4,i),a);case"Yo":return Et(s.ordinalNumber(i,{unit:"year"}),a);default:return Et(yt(o.length,i),a)}}},{key:"validate",value:function(i,o){return o.isTwoDigitYear||o.year>0}},{key:"set",value:function(i,o,s,a){var l=_1(i,a);if(s.isTwoDigitYear){var c=sN(s.year,l);return i.setUTCFullYear(c,0,a.firstWeekContainsDate),i.setUTCHours(0,0,0,0),Cs(i,a)}var u=!("era"in o)||o.era===1?s.year:1-s.year;return i.setUTCFullYear(u,0,a.firstWeekContainsDate),i.setUTCHours(0,0,0,0),Cs(i,a)}}]),n}(Be),oG=function(t){je(n,t);var e=Fe(n);function n(){var r;Me(this,n);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o)),ne(se(r),"priority",130),ne(se(r),"incompatibleTokens",["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"]),r}return Oe(n,[{key:"parse",value:function(i,o){return Ih(o==="R"?4:o.length,i)}},{key:"set",value:function(i,o,s){var a=new Date(0);return a.setUTCFullYear(s,0,4),a.setUTCHours(0,0,0,0),nl(a)}}]),n}(Be),sG=function(t){je(n,t);var e=Fe(n);function n(){var r;Me(this,n);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o)),ne(se(r),"priority",130),ne(se(r),"incompatibleTokens",["G","y","Y","R","w","I","i","e","c","t","T"]),r}return Oe(n,[{key:"parse",value:function(i,o){return Ih(o==="u"?4:o.length,i)}},{key:"set",value:function(i,o,s){return i.setUTCFullYear(s,0,1),i.setUTCHours(0,0,0,0),i}}]),n}(Be),aG=function(t){je(n,t);var e=Fe(n);function n(){var r;Me(this,n);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o)),ne(se(r),"priority",120),ne(se(r),"incompatibleTokens",["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"]),r}return Oe(n,[{key:"parse",value:function(i,o,s){switch(o){case"Q":case"QQ":return yt(o.length,i);case"Qo":return s.ordinalNumber(i,{unit:"quarter"});case"QQQ":return s.quarter(i,{width:"abbreviated",context:"formatting"})||s.quarter(i,{width:"narrow",context:"formatting"});case"QQQQQ":return s.quarter(i,{width:"narrow",context:"formatting"});case"QQQQ":default:return s.quarter(i,{width:"wide",context:"formatting"})||s.quarter(i,{width:"abbreviated",context:"formatting"})||s.quarter(i,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(i,o){return o>=1&&o<=4}},{key:"set",value:function(i,o,s){return i.setUTCMonth((s-1)*3,1),i.setUTCHours(0,0,0,0),i}}]),n}(Be),lG=function(t){je(n,t);var e=Fe(n);function n(){var r;Me(this,n);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o)),ne(se(r),"priority",120),ne(se(r),"incompatibleTokens",["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"]),r}return Oe(n,[{key:"parse",value:function(i,o,s){switch(o){case"q":case"qq":return yt(o.length,i);case"qo":return s.ordinalNumber(i,{unit:"quarter"});case"qqq":return s.quarter(i,{width:"abbreviated",context:"standalone"})||s.quarter(i,{width:"narrow",context:"standalone"});case"qqqqq":return s.quarter(i,{width:"narrow",context:"standalone"});case"qqqq":default:return s.quarter(i,{width:"wide",context:"standalone"})||s.quarter(i,{width:"abbreviated",context:"standalone"})||s.quarter(i,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(i,o){return o>=1&&o<=4}},{key:"set",value:function(i,o,s){return i.setUTCMonth((s-1)*3,1),i.setUTCHours(0,0,0,0),i}}]),n}(Be),cG=function(t){je(n,t);var e=Fe(n);function n(){var r;Me(this,n);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o)),ne(se(r),"incompatibleTokens",["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]),ne(se(r),"priority",110),r}return Oe(n,[{key:"parse",value:function(i,o,s){var a=function(c){return c-1};switch(o){case"M":return Et(dt(xt.month,i),a);case"MM":return Et(yt(2,i),a);case"Mo":return Et(s.ordinalNumber(i,{unit:"month"}),a);case"MMM":return s.month(i,{width:"abbreviated",context:"formatting"})||s.month(i,{width:"narrow",context:"formatting"});case"MMMMM":return s.month(i,{width:"narrow",context:"formatting"});case"MMMM":default:return s.month(i,{width:"wide",context:"formatting"})||s.month(i,{width:"abbreviated",context:"formatting"})||s.month(i,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(i,o){return o>=0&&o<=11}},{key:"set",value:function(i,o,s){return i.setUTCMonth(s,1),i.setUTCHours(0,0,0,0),i}}]),n}(Be),uG=function(t){je(n,t);var e=Fe(n);function n(){var r;Me(this,n);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o)),ne(se(r),"priority",110),ne(se(r),"incompatibleTokens",["Y","R","q","Q","M","w","I","D","i","e","c","t","T"]),r}return Oe(n,[{key:"parse",value:function(i,o,s){var a=function(c){return c-1};switch(o){case"L":return Et(dt(xt.month,i),a);case"LL":return Et(yt(2,i),a);case"Lo":return Et(s.ordinalNumber(i,{unit:"month"}),a);case"LLL":return s.month(i,{width:"abbreviated",context:"standalone"})||s.month(i,{width:"narrow",context:"standalone"});case"LLLLL":return s.month(i,{width:"narrow",context:"standalone"});case"LLLL":default:return s.month(i,{width:"wide",context:"standalone"})||s.month(i,{width:"abbreviated",context:"standalone"})||s.month(i,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(i,o){return o>=0&&o<=11}},{key:"set",value:function(i,o,s){return i.setUTCMonth(s,1),i.setUTCHours(0,0,0,0),i}}]),n}(Be);function dG(t,e,n){ce(2,arguments);var r=ve(t),i=Je(e),o=Q2(r,n)-i;return r.setUTCDate(r.getUTCDate()-o*7),r}var fG=function(t){je(n,t);var e=Fe(n);function n(){var r;Me(this,n);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o)),ne(se(r),"priority",100),ne(se(r),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","i","t","T"]),r}return Oe(n,[{key:"parse",value:function(i,o,s){switch(o){case"w":return dt(xt.week,i);case"wo":return s.ordinalNumber(i,{unit:"week"});default:return yt(o.length,i)}}},{key:"validate",value:function(i,o){return o>=1&&o<=53}},{key:"set",value:function(i,o,s,a){return Cs(dG(i,s,a),a)}}]),n}(Be);function hG(t,e){ce(2,arguments);var n=ve(t),r=Je(e),i=K2(n)-r;return n.setUTCDate(n.getUTCDate()-i*7),n}var pG=function(t){je(n,t);var e=Fe(n);function n(){var r;Me(this,n);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o)),ne(se(r),"priority",100),ne(se(r),"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"]),r}return Oe(n,[{key:"parse",value:function(i,o,s){switch(o){case"I":return dt(xt.week,i);case"Io":return s.ordinalNumber(i,{unit:"week"});default:return yt(o.length,i)}}},{key:"validate",value:function(i,o){return o>=1&&o<=53}},{key:"set",value:function(i,o,s){return nl(hG(i,s))}}]),n}(Be),mG=[31,28,31,30,31,30,31,31,30,31,30,31],gG=[31,29,31,30,31,30,31,31,30,31,30,31],vG=function(t){je(n,t);var e=Fe(n);function n(){var r;Me(this,n);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o)),ne(se(r),"priority",90),ne(se(r),"subPriority",1),ne(se(r),"incompatibleTokens",["Y","R","q","Q","w","I","D","i","e","c","t","T"]),r}return Oe(n,[{key:"parse",value:function(i,o,s){switch(o){case"d":return dt(xt.date,i);case"do":return s.ordinalNumber(i,{unit:"date"});default:return yt(o.length,i)}}},{key:"validate",value:function(i,o){var s=i.getUTCFullYear(),a=aN(s),l=i.getUTCMonth();return a?o>=1&&o<=gG[l]:o>=1&&o<=mG[l]}},{key:"set",value:function(i,o,s){return i.setUTCDate(s),i.setUTCHours(0,0,0,0),i}}]),n}(Be),yG=function(t){je(n,t);var e=Fe(n);function n(){var r;Me(this,n);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o)),ne(se(r),"priority",90),ne(se(r),"subpriority",1),ne(se(r),"incompatibleTokens",["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"]),r}return Oe(n,[{key:"parse",value:function(i,o,s){switch(o){case"D":case"DD":return dt(xt.dayOfYear,i);case"Do":return s.ordinalNumber(i,{unit:"date"});default:return yt(o.length,i)}}},{key:"validate",value:function(i,o){var s=i.getUTCFullYear(),a=aN(s);return a?o>=1&&o<=366:o>=1&&o<=365}},{key:"set",value:function(i,o,s){return i.setUTCMonth(0,s),i.setUTCHours(0,0,0,0),i}}]),n}(Be);function b1(t,e,n){var r,i,o,s,a,l,c,u;ce(2,arguments);var f=Kr(),h=Je((r=(i=(o=(s=n==null?void 0:n.weekStartsOn)!==null&&s!==void 0?s:n==null||(a=n.locale)===null||a===void 0||(l=a.options)===null||l===void 0?void 0:l.weekStartsOn)!==null&&o!==void 0?o:f.weekStartsOn)!==null&&i!==void 0?i:(c=f.locale)===null||c===void 0||(u=c.options)===null||u===void 0?void 0:u.weekStartsOn)!==null&&r!==void 0?r:0);if(!(h>=0&&h<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var g=ve(t),w=Je(e),v=g.getUTCDay(),E=w%7,x=(E+7)%7,y=(x<h?7:0)+w-v;return g.setUTCDate(g.getUTCDate()+y),g}var wG=function(t){je(n,t);var e=Fe(n);function n(){var r;Me(this,n);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o)),ne(se(r),"priority",90),ne(se(r),"incompatibleTokens",["D","i","e","c","t","T"]),r}return Oe(n,[{key:"parse",value:function(i,o,s){switch(o){case"E":case"EE":case"EEE":return s.day(i,{width:"abbreviated",context:"formatting"})||s.day(i,{width:"short",context:"formatting"})||s.day(i,{width:"narrow",context:"formatting"});case"EEEEE":return s.day(i,{width:"narrow",context:"formatting"});case"EEEEEE":return s.day(i,{width:"short",context:"formatting"})||s.day(i,{width:"narrow",context:"formatting"});case"EEEE":default:return s.day(i,{width:"wide",context:"formatting"})||s.day(i,{width:"abbreviated",context:"formatting"})||s.day(i,{width:"short",context:"formatting"})||s.day(i,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(i,o){return o>=0&&o<=6}},{key:"set",value:function(i,o,s,a){return i=b1(i,s,a),i.setUTCHours(0,0,0,0),i}}]),n}(Be),_G=function(t){je(n,t);var e=Fe(n);function n(){var r;Me(this,n);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o)),ne(se(r),"priority",90),ne(se(r),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"]),r}return Oe(n,[{key:"parse",value:function(i,o,s,a){var l=function(u){var f=Math.floor((u-1)/7)*7;return(u+a.weekStartsOn+6)%7+f};switch(o){case"e":case"ee":return Et(yt(o.length,i),l);case"eo":return Et(s.ordinalNumber(i,{unit:"day"}),l);case"eee":return s.day(i,{width:"abbreviated",context:"formatting"})||s.day(i,{width:"short",context:"formatting"})||s.day(i,{width:"narrow",context:"formatting"});case"eeeee":return s.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return s.day(i,{width:"short",context:"formatting"})||s.day(i,{width:"narrow",context:"formatting"});case"eeee":default:return s.day(i,{width:"wide",context:"formatting"})||s.day(i,{width:"abbreviated",context:"formatting"})||s.day(i,{width:"short",context:"formatting"})||s.day(i,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(i,o){return o>=0&&o<=6}},{key:"set",value:function(i,o,s,a){return i=b1(i,s,a),i.setUTCHours(0,0,0,0),i}}]),n}(Be),xG=function(t){je(n,t);var e=Fe(n);function n(){var r;Me(this,n);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o)),ne(se(r),"priority",90),ne(se(r),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"]),r}return Oe(n,[{key:"parse",value:function(i,o,s,a){var l=function(u){var f=Math.floor((u-1)/7)*7;return(u+a.weekStartsOn+6)%7+f};switch(o){case"c":case"cc":return Et(yt(o.length,i),l);case"co":return Et(s.ordinalNumber(i,{unit:"day"}),l);case"ccc":return s.day(i,{width:"abbreviated",context:"standalone"})||s.day(i,{width:"short",context:"standalone"})||s.day(i,{width:"narrow",context:"standalone"});case"ccccc":return s.day(i,{width:"narrow",context:"standalone"});case"cccccc":return s.day(i,{width:"short",context:"standalone"})||s.day(i,{width:"narrow",context:"standalone"});case"cccc":default:return s.day(i,{width:"wide",context:"standalone"})||s.day(i,{width:"abbreviated",context:"standalone"})||s.day(i,{width:"short",context:"standalone"})||s.day(i,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(i,o){return o>=0&&o<=6}},{key:"set",value:function(i,o,s,a){return i=b1(i,s,a),i.setUTCHours(0,0,0,0),i}}]),n}(Be);function EG(t,e){ce(2,arguments);var n=Je(e);n%7===0&&(n=n-7);var r=1,i=ve(t),o=i.getUTCDay(),s=n%7,a=(s+7)%7,l=(a<r?7:0)+n-o;return i.setUTCDate(i.getUTCDate()+l),i}var bG=function(t){je(n,t);var e=Fe(n);function n(){var r;Me(this,n);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o)),ne(se(r),"priority",90),ne(se(r),"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"]),r}return Oe(n,[{key:"parse",value:function(i,o,s){var a=function(c){return c===0?7:c};switch(o){case"i":case"ii":return yt(o.length,i);case"io":return s.ordinalNumber(i,{unit:"day"});case"iii":return Et(s.day(i,{width:"abbreviated",context:"formatting"})||s.day(i,{width:"short",context:"formatting"})||s.day(i,{width:"narrow",context:"formatting"}),a);case"iiiii":return Et(s.day(i,{width:"narrow",context:"formatting"}),a);case"iiiiii":return Et(s.day(i,{width:"short",context:"formatting"})||s.day(i,{width:"narrow",context:"formatting"}),a);case"iiii":default:return Et(s.day(i,{width:"wide",context:"formatting"})||s.day(i,{width:"abbreviated",context:"formatting"})||s.day(i,{width:"short",context:"formatting"})||s.day(i,{width:"narrow",context:"formatting"}),a)}}},{key:"validate",value:function(i,o){return o>=1&&o<=7}},{key:"set",value:function(i,o,s){return i=EG(i,s),i.setUTCHours(0,0,0,0),i}}]),n}(Be),TG=function(t){je(n,t);var e=Fe(n);function n(){var r;Me(this,n);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o)),ne(se(r),"priority",80),ne(se(r),"incompatibleTokens",["b","B","H","k","t","T"]),r}return Oe(n,[{key:"parse",value:function(i,o,s){switch(o){case"a":case"aa":case"aaa":return s.dayPeriod(i,{width:"abbreviated",context:"formatting"})||s.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaaa":return s.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return s.dayPeriod(i,{width:"wide",context:"formatting"})||s.dayPeriod(i,{width:"abbreviated",context:"formatting"})||s.dayPeriod(i,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(i,o,s){return i.setUTCHours(E1(s),0,0,0),i}}]),n}(Be),CG=function(t){je(n,t);var e=Fe(n);function n(){var r;Me(this,n);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o)),ne(se(r),"priority",80),ne(se(r),"incompatibleTokens",["a","B","H","k","t","T"]),r}return Oe(n,[{key:"parse",value:function(i,o,s){switch(o){case"b":case"bb":case"bbb":return s.dayPeriod(i,{width:"abbreviated",context:"formatting"})||s.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbbb":return s.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return s.dayPeriod(i,{width:"wide",context:"formatting"})||s.dayPeriod(i,{width:"abbreviated",context:"formatting"})||s.dayPeriod(i,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(i,o,s){return i.setUTCHours(E1(s),0,0,0),i}}]),n}(Be),SG=function(t){je(n,t);var e=Fe(n);function n(){var r;Me(this,n);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o)),ne(se(r),"priority",80),ne(se(r),"incompatibleTokens",["a","b","t","T"]),r}return Oe(n,[{key:"parse",value:function(i,o,s){switch(o){case"B":case"BB":case"BBB":return s.dayPeriod(i,{width:"abbreviated",context:"formatting"})||s.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBBB":return s.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return s.dayPeriod(i,{width:"wide",context:"formatting"})||s.dayPeriod(i,{width:"abbreviated",context:"formatting"})||s.dayPeriod(i,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(i,o,s){return i.setUTCHours(E1(s),0,0,0),i}}]),n}(Be),PG=function(t){je(n,t);var e=Fe(n);function n(){var r;Me(this,n);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o)),ne(se(r),"priority",70),ne(se(r),"incompatibleTokens",["H","K","k","t","T"]),r}return Oe(n,[{key:"parse",value:function(i,o,s){switch(o){case"h":return dt(xt.hour12h,i);case"ho":return s.ordinalNumber(i,{unit:"hour"});default:return yt(o.length,i)}}},{key:"validate",value:function(i,o){return o>=1&&o<=12}},{key:"set",value:function(i,o,s){var a=i.getUTCHours()>=12;return a&&s<12?i.setUTCHours(s+12,0,0,0):!a&&s===12?i.setUTCHours(0,0,0,0):i.setUTCHours(s,0,0,0),i}}]),n}(Be),IG=function(t){je(n,t);var e=Fe(n);function n(){var r;Me(this,n);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o)),ne(se(r),"priority",70),ne(se(r),"incompatibleTokens",["a","b","h","K","k","t","T"]),r}return Oe(n,[{key:"parse",value:function(i,o,s){switch(o){case"H":return dt(xt.hour23h,i);case"Ho":return s.ordinalNumber(i,{unit:"hour"});default:return yt(o.length,i)}}},{key:"validate",value:function(i,o){return o>=0&&o<=23}},{key:"set",value:function(i,o,s){return i.setUTCHours(s,0,0,0),i}}]),n}(Be),AG=function(t){je(n,t);var e=Fe(n);function n(){var r;Me(this,n);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o)),ne(se(r),"priority",70),ne(se(r),"incompatibleTokens",["h","H","k","t","T"]),r}return Oe(n,[{key:"parse",value:function(i,o,s){switch(o){case"K":return dt(xt.hour11h,i);case"Ko":return s.ordinalNumber(i,{unit:"hour"});default:return yt(o.length,i)}}},{key:"validate",value:function(i,o){return o>=0&&o<=11}},{key:"set",value:function(i,o,s){var a=i.getUTCHours()>=12;return a&&s<12?i.setUTCHours(s+12,0,0,0):i.setUTCHours(s,0,0,0),i}}]),n}(Be),kG=function(t){je(n,t);var e=Fe(n);function n(){var r;Me(this,n);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o)),ne(se(r),"priority",70),ne(se(r),"incompatibleTokens",["a","b","h","H","K","t","T"]),r}return Oe(n,[{key:"parse",value:function(i,o,s){switch(o){case"k":return dt(xt.hour24h,i);case"ko":return s.ordinalNumber(i,{unit:"hour"});default:return yt(o.length,i)}}},{key:"validate",value:function(i,o){return o>=1&&o<=24}},{key:"set",value:function(i,o,s){var a=s<=24?s%24:s;return i.setUTCHours(a,0,0,0),i}}]),n}(Be),RG=function(t){je(n,t);var e=Fe(n);function n(){var r;Me(this,n);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o)),ne(se(r),"priority",60),ne(se(r),"incompatibleTokens",["t","T"]),r}return Oe(n,[{key:"parse",value:function(i,o,s){switch(o){case"m":return dt(xt.minute,i);case"mo":return s.ordinalNumber(i,{unit:"minute"});default:return yt(o.length,i)}}},{key:"validate",value:function(i,o){return o>=0&&o<=59}},{key:"set",value:function(i,o,s){return i.setUTCMinutes(s,0,0),i}}]),n}(Be),NG=function(t){je(n,t);var e=Fe(n);function n(){var r;Me(this,n);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o)),ne(se(r),"priority",50),ne(se(r),"incompatibleTokens",["t","T"]),r}return Oe(n,[{key:"parse",value:function(i,o,s){switch(o){case"s":return dt(xt.second,i);case"so":return s.ordinalNumber(i,{unit:"second"});default:return yt(o.length,i)}}},{key:"validate",value:function(i,o){return o>=0&&o<=59}},{key:"set",value:function(i,o,s){return i.setUTCSeconds(s,0),i}}]),n}(Be),DG=function(t){je(n,t);var e=Fe(n);function n(){var r;Me(this,n);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o)),ne(se(r),"priority",30),ne(se(r),"incompatibleTokens",["t","T"]),r}return Oe(n,[{key:"parse",value:function(i,o){var s=function(l){return Math.floor(l*Math.pow(10,-o.length+3))};return Et(yt(o.length,i),s)}},{key:"set",value:function(i,o,s){return i.setUTCMilliseconds(s),i}}]),n}(Be),MG=function(t){je(n,t);var e=Fe(n);function n(){var r;Me(this,n);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o)),ne(se(r),"priority",10),ne(se(r),"incompatibleTokens",["t","T","x"]),r}return Oe(n,[{key:"parse",value:function(i,o){switch(o){case"X":return kr(Ar.basicOptionalMinutes,i);case"XX":return kr(Ar.basic,i);case"XXXX":return kr(Ar.basicOptionalSeconds,i);case"XXXXX":return kr(Ar.extendedOptionalSeconds,i);case"XXX":default:return kr(Ar.extended,i)}}},{key:"set",value:function(i,o,s){return o.timestampIsSet?i:new Date(i.getTime()-s)}}]),n}(Be),OG=function(t){je(n,t);var e=Fe(n);function n(){var r;Me(this,n);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o)),ne(se(r),"priority",10),ne(se(r),"incompatibleTokens",["t","T","X"]),r}return Oe(n,[{key:"parse",value:function(i,o){switch(o){case"x":return kr(Ar.basicOptionalMinutes,i);case"xx":return kr(Ar.basic,i);case"xxxx":return kr(Ar.basicOptionalSeconds,i);case"xxxxx":return kr(Ar.extendedOptionalSeconds,i);case"xxx":default:return kr(Ar.extended,i)}}},{key:"set",value:function(i,o,s){return o.timestampIsSet?i:new Date(i.getTime()-s)}}]),n}(Be),LG=function(t){je(n,t);var e=Fe(n);function n(){var r;Me(this,n);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o)),ne(se(r),"priority",40),ne(se(r),"incompatibleTokens","*"),r}return Oe(n,[{key:"parse",value:function(i){return oN(i)}},{key:"set",value:function(i,o,s){return[new Date(s*1e3),{timestampIsSet:!0}]}}]),n}(Be),VG=function(t){je(n,t);var e=Fe(n);function n(){var r;Me(this,n);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o)),ne(se(r),"priority",20),ne(se(r),"incompatibleTokens","*"),r}return Oe(n,[{key:"parse",value:function(i){return oN(i)}},{key:"set",value:function(i,o,s){return[new Date(s),{timestampIsSet:!0}]}}]),n}(Be),jG={G:new nG,y:new rG,Y:new iG,R:new oG,u:new sG,Q:new aG,q:new lG,M:new cG,L:new uG,w:new fG,I:new pG,d:new vG,D:new yG,E:new wG,e:new _G,c:new xG,i:new bG,a:new TG,b:new CG,B:new SG,h:new PG,H:new IG,K:new AG,k:new kG,m:new RG,s:new NG,S:new DG,X:new MG,x:new OG,t:new LG,T:new VG},FG=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,$G=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,UG=/^'([^]*?)'?$/,BG=/''/g,WG=/\S/,zG=/[a-zA-Z]/;function HG(t,e,n,r){var i,o,s,a,l,c,u,f,h,g,w,v,E,x,y,b,P,N;ce(3,arguments);var M=String(t),S=String(e),C=Kr(),I=(i=(o=r==null?void 0:r.locale)!==null&&o!==void 0?o:C.locale)!==null&&i!==void 0?i:x1;if(!I.match)throw new RangeError("locale must contain match property");var A=Je((s=(a=(l=(c=r==null?void 0:r.firstWeekContainsDate)!==null&&c!==void 0?c:r==null||(u=r.locale)===null||u===void 0||(f=u.options)===null||f===void 0?void 0:f.firstWeekContainsDate)!==null&&l!==void 0?l:C.firstWeekContainsDate)!==null&&a!==void 0?a:(h=C.locale)===null||h===void 0||(g=h.options)===null||g===void 0?void 0:g.firstWeekContainsDate)!==null&&s!==void 0?s:1);if(!(A>=1&&A<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var D=Je((w=(v=(E=(x=r==null?void 0:r.weekStartsOn)!==null&&x!==void 0?x:r==null||(y=r.locale)===null||y===void 0||(b=y.options)===null||b===void 0?void 0:b.weekStartsOn)!==null&&E!==void 0?E:C.weekStartsOn)!==null&&v!==void 0?v:(P=C.locale)===null||P===void 0||(N=P.options)===null||N===void 0?void 0:N.weekStartsOn)!==null&&w!==void 0?w:0);if(!(D>=0&&D<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(S==="")return M===""?ve(n):new Date(NaN);var O={firstWeekContainsDate:A,weekStartsOn:D,locale:I},R=[new tG],F=S.match($G).map(function(ee){var oe=ee[0];if(oe in Uy){var te=Uy[oe];return te(ee,I.formatLong)}return ee}).join("").match(FG),q=[],K=hC(F),z;try{var L=function(){var oe=z.value;!(r!=null&&r.useAdditionalWeekYearTokens)&&Z2(oe)&&Ch(oe,S,t),!(r!=null&&r.useAdditionalDayOfYearTokens)&&J2(oe)&&Ch(oe,S,t);var te=oe[0],pe=jG[te];if(pe){var Ce=pe.incompatibleTokens;if(Array.isArray(Ce)){var Ke=q.find(function(Lt){return Ce.includes(Lt.token)||Lt.token===te});if(Ke)throw new RangeError("The format string mustn't contain `".concat(Ke.fullToken,"` and `").concat(oe,"` at the same time"))}else if(pe.incompatibleTokens==="*"&&q.length>0)throw new RangeError("The format string mustn't contain `".concat(oe,"` and any other token at the same time"));q.push({token:te,fullToken:oe});var st=pe.run(M,oe,I.match,O);if(!st)return{v:new Date(NaN)};R.push(st.setter),M=st.rest}else{if(te.match(zG))throw new RangeError("Format string contains an unescaped latin alphabet character `"+te+"`");if(oe==="''"?oe="'":te==="'"&&(oe=qG(oe)),M.indexOf(oe)===0)M=M.slice(oe.length);else return{v:new Date(NaN)}}};for(K.s();!(z=K.n()).done;){var j=L();if(gr(j)==="object")return j.v}}catch(ee){K.e(ee)}finally{K.f()}if(M.length>0&&WG.test(M))return new Date(NaN);var B=R.map(function(ee){return ee.priority}).sort(function(ee,oe){return oe-ee}).filter(function(ee,oe,te){return te.indexOf(ee)===oe}).map(function(ee){return R.filter(function(oe){return oe.priority===ee}).sort(function(oe,te){return te.subPriority-oe.subPriority})}).map(function(ee){return ee[0]}),$=ve(n);if(isNaN($.getTime()))return new Date(NaN);var H=G2($,tl($)),W={},J=hC(B),he;try{for(J.s();!(he=J.n()).done;){var fe=he.value;if(!fe.validate(H,O))return new Date(NaN);var Q=fe.set(H,W,O);Array.isArray(Q)?(H=Q[0],jq(W,Q[1])):H=Q}}catch(ee){J.e(ee)}finally{J.f()}return H}function qG(t){return t.match(UG)[1].replace(BG,"'")}function T1(t,e){ce(2,arguments);var n=ve(t),r=ve(e);return n.getFullYear()===r.getFullYear()&&n.getMonth()===r.getMonth()}function GG(t,e){ce(2,arguments);var n=ve(t),r=ve(e);return n.getFullYear()===r.getFullYear()}function Sg(t,e){ce(2,arguments);var n=Je(e);return Rt(t,-n)}function ie(t,e){var n;ce(1,arguments);var r=Je((n=e==null?void 0:e.additionalDigits)!==null&&n!==void 0?n:2);if(r!==2&&r!==1&&r!==0)throw new RangeError("additionalDigits must be 0, 1 or 2");if(!(typeof t=="string"||Object.prototype.toString.call(t)==="[object String]"))return new Date(NaN);var i=XG(t),o;if(i.date){var s=JG(i.date,r);o=ZG(s.restDateString,s.year)}if(!o||isNaN(o.getTime()))return new Date(NaN);var a=o.getTime(),l=0,c;if(i.time&&(l=eY(i.time),isNaN(l)))return new Date(NaN);if(i.timezone){if(c=tY(i.timezone),isNaN(c))return new Date(NaN)}else{var u=new Date(a+l),f=new Date(0);return f.setFullYear(u.getUTCFullYear(),u.getUTCMonth(),u.getUTCDate()),f.setHours(u.getUTCHours(),u.getUTCMinutes(),u.getUTCSeconds(),u.getUTCMilliseconds()),f}return new Date(a+l+c)}var Md={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},YG=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,KG=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,QG=/^([+-])(\d{2})(?::?(\d{2}))?$/;function XG(t){var e={},n=t.split(Md.dateTimeDelimiter),r;if(n.length>2)return e;if(/:/.test(n[0])?r=n[0]:(e.date=n[0],r=n[1],Md.timeZoneDelimiter.test(e.date)&&(e.date=t.split(Md.timeZoneDelimiter)[0],r=t.substr(e.date.length,t.length))),r){var i=Md.timezone.exec(r);i?(e.time=r.replace(i[1],""),e.timezone=i[1]):e.time=r}return e}function JG(t,e){var n=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+e)+"})|(\\d{2}|[+-]\\d{"+(2+e)+"})$)"),r=t.match(n);if(!r)return{year:NaN,restDateString:""};var i=r[1]?parseInt(r[1]):null,o=r[2]?parseInt(r[2]):null;return{year:o===null?i:o*100,restDateString:t.slice((r[1]||r[2]).length)}}function ZG(t,e){if(e===null)return new Date(NaN);var n=t.match(YG);if(!n)return new Date(NaN);var r=!!n[4],i=Jl(n[1]),o=Jl(n[2])-1,s=Jl(n[3]),a=Jl(n[4]),l=Jl(n[5])-1;if(r)return sY(e,a,l)?nY(e,a,l):new Date(NaN);var c=new Date(0);return!iY(e,o,s)||!oY(e,i)?new Date(NaN):(c.setUTCFullYear(e,o,Math.max(i,s)),c)}function Jl(t){return t?parseInt(t):1}function eY(t){var e=t.match(KG);if(!e)return NaN;var n=Pg(e[1]),r=Pg(e[2]),i=Pg(e[3]);return aY(n,r,i)?n*g1+r*m1+i*1e3:NaN}function Pg(t){return t&&parseFloat(t.replace(",","."))||0}function tY(t){if(t==="Z")return 0;var e=t.match(QG);if(!e)return 0;var n=e[1]==="+"?-1:1,r=parseInt(e[2]),i=e[3]&&parseInt(e[3])||0;return lY(r,i)?n*(r*g1+i*m1):NaN}function nY(t,e,n){var r=new Date(0);r.setUTCFullYear(t,0,4);var i=r.getUTCDay()||7,o=(e-1)*7+n+1-i;return r.setUTCDate(r.getUTCDate()+o),r}var rY=[31,null,31,30,31,30,31,31,30,31,30,31];function lN(t){return t%400===0||t%4===0&&t%100!==0}function iY(t,e,n){return e>=0&&e<=11&&n>=1&&n<=(rY[e]||(lN(t)?29:28))}function oY(t,e){return e>=1&&e<=(lN(t)?366:365)}function sY(t,e,n){return e>=1&&e<=53&&n>=0&&n<=6}function aY(t,e,n){return t===24?e===0&&n===0:n>=0&&n<60&&e>=0&&e<60&&t>=0&&t<25}function lY(t,e){return e>=0&&e<=59}function Ig(t,e){ce(2,arguments);var n=ve(t),r=Je(e),i=n.getFullYear(),o=n.getDate(),s=new Date(0);s.setFullYear(i,r,15),s.setHours(0,0,0,0);var a=Fq(s);return n.setMonth(r,Math.min(o,a)),n}function mC(t,e){ce(2,arguments);var n=ve(t),r=Je(e);return isNaN(n.getTime())?new Date(NaN):(n.setFullYear(r),n)}const _a={NONE:{value:"none",label:"Sin Símbolo",color:"transparent",textColor:"#e2e8f0"},MENSTRUATION:{value:"red",label:"Menstruación",color:"bg-red-500",textColor:"#e2e8f0"},FERTILE:{value:"white",label:"Fértil (Moco)",color:"bg-white",textColor:"#e2e8f0"},INFERTILE:{value:"green",label:"Infértil (Sin Moco)",color:"bg-green-500",textColor:"#e2e8f0"},SPOTTING:{value:"spot",label:"Spotting",color:"bg-pink-300",textColor:"#e2e8f0",pattern:"spotting-pattern"}},cN=Object.values(_a),C1=t=>cN.find(n=>n.value===t)||_a.NONE,gC="#1E40AF",vC="#059669",yC="#BE185D",cY="rgba(30, 64, 175, 0.08)",uY="rgba(5, 150, 105, 0.08)",dY="rgba(190, 24, 93, 0.08)",fY=t=>{if(!t)return"";const[e,n]=t.split("/");return`${parseInt(e,10)}/${parseInt(n,10)}`},Ag=(t="",e,n,r="–")=>{if(!t)return[r,""];if(t.length<=e)return[t,""];if(n)return[t.slice(0,e),""];const i=t.indexOf(" ",e);return i===-1?[t.slice(0,e),t.slice(e)]:[t.slice(0,i),t.slice(i+1)]},kg=(t="",e,n="–")=>t?t.split(/\s+/).slice(0,e).join(" "):n,hY=({data:t,getX:e,getY:n,isFullScreen:r,orientation:i,responsiveFontSize:o,onPointInteraction:s,clearActivePoint:a,activePoint:l,padding:c,chartHeight:u,chartWidth:f,temperatureField:h="temperature_chart",textRowHeight:g})=>{const w={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.4,ease:"easeOut"}}},v={hidden:{opacity:0,scale:.5},visible:{opacity:1,scale:1,transition:{duration:.5,ease:"easeOut",type:"spring",stiffness:100}}},E=u-c.bottom,x=E+g*1,y=E+g*2,b=E+g*3,P=E+g*(r?5:4.5),N=E+g*(r?7:6),M=E+g*(r?9:7.5),S=f-c.left-c.right,C=g*(r?2:1.5);return p.jsxs(p.Fragment,{children:[p.jsxs("defs",{children:[p.jsx("filter",{id:"rowShadow",x:"-10%",y:"-10%",width:"120%",height:"120%",children:p.jsx("feDropShadow",{dx:"0",dy:"1",stdDeviation:"2",floodColor:"rgba(244, 114, 182, 0.15)"})}),p.jsxs("linearGradient",{id:"sensationGradient",x1:"0%",y1:"0%",x2:"100%",y2:"0%",children:[p.jsx("stop",{offset:"0%",stopColor:cY}),p.jsx("stop",{offset:"100%",stopColor:"rgba(30, 64, 175, 0.02)"})]}),p.jsxs("linearGradient",{id:"appearanceGradient",x1:"0%",y1:"0%",x2:"100%",y2:"0%",children:[p.jsx("stop",{offset:"0%",stopColor:uY}),p.jsx("stop",{offset:"100%",stopColor:"rgba(5, 150, 105, 0.02)"})]}),p.jsxs("linearGradient",{id:"observationGradient",x1:"0%",y1:"0%",x2:"100%",y2:"0%",children:[p.jsx("stop",{offset:"0%",stopColor:dY}),p.jsx("stop",{offset:"100%",stopColor:"rgba(190, 24, 93, 0.02)"})]})]}),p.jsxs("g",{children:[p.jsx("rect",{x:c.left,y:P-C/2,width:S,height:C,fill:"url(#sensationGradient)",rx:6,style:{filter:"url(#rowShadow)"}}),p.jsx("rect",{x:c.left,y:N-C/2,width:S,height:C,fill:"url(#appearanceGradient)",rx:6,style:{filter:"url(#rowShadow)"}}),p.jsx("rect",{x:c.left,y:M-C/2,width:S,height:C,fill:"url(#observationGradient)",rx:6,style:{filter:"url(#rowShadow)"}})]}),(!r||i!=="portrait")&&p.jsx(Te.g,{variants:w,children:[{label:"Fecha",row:1,color:r?"#374151":"#6B7280"},{label:"Día",row:2,color:r?"#374151":"#6B7280"},{label:"Símbolo",row:3,color:r?"#374151":"#6B7280"},{label:"Sens.",row:r?5:4.5,color:gC},{label:"Apar.",row:r?7:6,color:vC},{label:"Observ.",row:r?9:7.5,color:yC}].map(({label:I,row:A,color:D})=>p.jsx("text",{x:c.left-o(1.5),y:E+g*A,textAnchor:"end",fontSize:o(.95),fontWeight:"600",fill:D,style:{filter:"drop-shadow(0 1px 1px rgba(255, 255, 255, 0.8))",fontFamily:'-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif'},children:I},I))}),t.map((I,A)=>{const D=e(A),O=I[h]!=null?n(I[h]):E,R=r?"#374151":"#6B7280",F=I[h]!=null,q=F||I.mucus_sensation||I.mucus_appearance||I.fertility_symbol,K=String(I.id||"").startsWith("placeholder-"),z=!q||K?{}:{pointerEvents:"all",style:{cursor:"pointer"},onMouseEnter:te=>s(I,A,te),onClick:te=>s(I,A,te)},L=C1(I.fertility_symbol);let j="transparent";if(L!=null&&L.color){const te=L.color.replace(/^bg-/,"");te==="red-500"?j="#ef4444":te==="white"?j="#ffffff":te==="green-500"?j="#22c55e":te==="pink-300"&&(j="#f9a8d4")}const B=o(r?1.4:1.6),$=I.isoDate?Sh(Se(ie(I.isoDate)),Se(new Date)):!1,H=r?4:9,W=2,[J,he]=Ag(r?kg(I.mucus_sensation,W,$?"":"–"):I.mucus_sensation,H,!1,$?"":"–"),[fe,Q]=Ag(r?kg(I.mucus_appearance,W,$?"":"–"):I.mucus_appearance,H,!1,$?"":"–"),[ee,oe]=Ag(r?kg(I.observations,W,""):I.observations,H,!1,"");return p.jsxs(Te.g,{variants:w,...z,children:[F&&p.jsxs(Te.g,{variants:v,children:[p.jsx("circle",{cx:D,cy:O,r:8,fill:"rgba(244, 114, 182, 0.15)",opacity:.6}),p.jsx("circle",{cx:D,cy:O,r:5,fill:I.ignored?"white":"url(#tempPointGradient)",stroke:I.use_corrected?"#F59E0B":"#E91E63",strokeWidth:I.ignored?2:2.5,style:{filter:"drop-shadow(0 2px 4px rgba(244, 114, 182, 0.3))",cursor:"pointer"},pointerEvents:"all",onMouseEnter:te=>s(I,A,te),onTouchStart:te=>s(I,A,te),onClick:te=>s(I,A,te)}),!I.ignored&&p.jsx("circle",{cx:D,cy:O,r:2,fill:"rgba(255, 255, 255, 0.8)"})]}),p.jsx("defs",{children:p.jsxs("radialGradient",{id:"tempPointGradient",cx:"30%",cy:"30%",children:[p.jsx("stop",{offset:"0%",stopColor:"#F472B6"}),p.jsx("stop",{offset:"70%",stopColor:"#E91E63"}),p.jsx("stop",{offset:"100%",stopColor:"#C2185B"})]})}),p.jsx("text",{x:D,y:x,textAnchor:"middle",fontSize:o(.95),fontWeight:"600",fill:R,style:{fontFamily:'-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif'},children:fY(I.date)}),p.jsx("text",{x:D,y,textAnchor:"middle",fontSize:o(.9),fontWeight:"500",fill:R,style:{fontFamily:'-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif'},children:I.cycleDay}),!K&&(L.value!=="none"?p.jsx("rect",{x:D-B/2,y:b-B*.75,width:B,height:B,fill:L.pattern==="spotting-pattern"?"url(#spotting-pattern-chart)":j,stroke:L.value==="white"?"#E91E63":"rgba(233, 30, 99, 0.3)",strokeWidth:L.value==="white"?1.5:1,rx:B*.25,style:{filter:"drop-shadow(0 1px 2px rgba(244, 114, 182, 0.2))"}}):p.jsx("text",{x:D,y:b,textAnchor:"middle",fontSize:o(.9),fill:R,fontWeight:"400",children:"–"})),p.jsxs("text",{x:D,y:P,textAnchor:"middle",fontSize:o(.85),fontWeight:"600",fill:gC,style:{fontFamily:'-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif'},children:[p.jsx("tspan",{x:D,dy:0,children:J}),he&&p.jsx("tspan",{x:D,dy:o(1),children:he})]}),p.jsxs("text",{x:D,y:N,textAnchor:"middle",fontSize:o(.85),fontWeight:"600",fill:vC,style:{fontFamily:'-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif'},children:[p.jsx("tspan",{x:D,dy:0,children:fe}),Q&&p.jsx("tspan",{x:D,dy:o(1),children:Q})]}),p.jsxs("text",{x:D,y:M,textAnchor:"middle",fontSize:o(.85),fontWeight:"600",fill:yC,style:{fontFamily:'-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif'},children:[p.jsx("tspan",{x:D,dy:0,children:ee}),oe&&p.jsx("tspan",{x:D,dy:o(1),children:oe})]})]},`pt-${A}-${I.isoDate||I.timestamp}`)})]})};var pY={lessThanXSeconds:{one:"menos de un segundo",other:"menos de {{count}} segundos"},xSeconds:{one:"1 segundo",other:"{{count}} segundos"},halfAMinute:"medio minuto",lessThanXMinutes:{one:"menos de un minuto",other:"menos de {{count}} minutos"},xMinutes:{one:"1 minuto",other:"{{count}} minutos"},aboutXHours:{one:"alrededor de 1 hora",other:"alrededor de {{count}} horas"},xHours:{one:"1 hora",other:"{{count}} horas"},xDays:{one:"1 día",other:"{{count}} días"},aboutXWeeks:{one:"alrededor de 1 semana",other:"alrededor de {{count}} semanas"},xWeeks:{one:"1 semana",other:"{{count}} semanas"},aboutXMonths:{one:"alrededor de 1 mes",other:"alrededor de {{count}} meses"},xMonths:{one:"1 mes",other:"{{count}} meses"},aboutXYears:{one:"alrededor de 1 año",other:"alrededor de {{count}} años"},xYears:{one:"1 año",other:"{{count}} años"},overXYears:{one:"más de 1 año",other:"más de {{count}} años"},almostXYears:{one:"casi 1 año",other:"casi {{count}} años"}},mY=function(e,n,r){var i,o=pY[e];return typeof o=="string"?i=o:n===1?i=o.one:i=o.other.replace("{{count}}",n.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"en "+i:"hace "+i:i};const gY=mY;var vY={full:"EEEE, d 'de' MMMM 'de' y",long:"d 'de' MMMM 'de' y",medium:"d MMM y",short:"dd/MM/y"},yY={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},wY={full:"{{date}} 'a las' {{time}}",long:"{{date}} 'a las' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},_Y={date:Da({formats:vY,defaultWidth:"full"}),time:Da({formats:yY,defaultWidth:"full"}),dateTime:Da({formats:wY,defaultWidth:"full"})};const xY=_Y;var EY={lastWeek:"'el' eeee 'pasado a la' p",yesterday:"'ayer a la' p",today:"'hoy a la' p",tomorrow:"'mañana a la' p",nextWeek:"eeee 'a la' p",other:"P"},bY={lastWeek:"'el' eeee 'pasado a las' p",yesterday:"'ayer a las' p",today:"'hoy a las' p",tomorrow:"'mañana a las' p",nextWeek:"eeee 'a las' p",other:"P"},TY=function(e,n,r,i){return n.getUTCHours()!==1?bY[e]:EY[e]};const CY=TY;var SY={narrow:["AC","DC"],abbreviated:["AC","DC"],wide:["antes de cristo","después de cristo"]},PY={narrow:["1","2","3","4"],abbreviated:["T1","T2","T3","T4"],wide:["1º trimestre","2º trimestre","3º trimestre","4º trimestre"]},IY={narrow:["e","f","m","a","m","j","j","a","s","o","n","d"],abbreviated:["ene","feb","mar","abr","may","jun","jul","ago","sep","oct","nov","dic"],wide:["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre"]},AY={narrow:["d","l","m","m","j","v","s"],short:["do","lu","ma","mi","ju","vi","sá"],abbreviated:["dom","lun","mar","mié","jue","vie","sáb"],wide:["domingo","lunes","martes","miércoles","jueves","viernes","sábado"]},kY={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"mañana",afternoon:"tarde",evening:"tarde",night:"noche"},abbreviated:{am:"AM",pm:"PM",midnight:"medianoche",noon:"mediodia",morning:"mañana",afternoon:"tarde",evening:"tarde",night:"noche"},wide:{am:"a.m.",pm:"p.m.",midnight:"medianoche",noon:"mediodia",morning:"mañana",afternoon:"tarde",evening:"tarde",night:"noche"}},RY={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"de la mañana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"},abbreviated:{am:"AM",pm:"PM",midnight:"medianoche",noon:"mediodia",morning:"de la mañana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"},wide:{am:"a.m.",pm:"p.m.",midnight:"medianoche",noon:"mediodia",morning:"de la mañana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"}},NY=function(e,n){var r=Number(e);return r+"º"},DY={ordinalNumber:NY,era:Pr({values:SY,defaultWidth:"wide"}),quarter:Pr({values:PY,defaultWidth:"wide",argumentCallback:function(e){return Number(e)-1}}),month:Pr({values:IY,defaultWidth:"wide"}),day:Pr({values:AY,defaultWidth:"wide"}),dayPeriod:Pr({values:kY,defaultWidth:"wide",formattingValues:RY,defaultFormattingWidth:"wide"})};const MY=DY;var OY=/^(\d+)(º)?/i,LY=/\d+/i,VY={narrow:/^(ac|dc|a|d)/i,abbreviated:/^(a\.?\s?c\.?|a\.?\s?e\.?\s?c\.?|d\.?\s?c\.?|e\.?\s?c\.?)/i,wide:/^(antes de cristo|antes de la era com[uú]n|despu[eé]s de cristo|era com[uú]n)/i},jY={any:[/^ac/i,/^dc/i],wide:[/^(antes de cristo|antes de la era com[uú]n)/i,/^(despu[eé]s de cristo|era com[uú]n)/i]},FY={narrow:/^[1234]/i,abbreviated:/^T[1234]/i,wide:/^[1234](º)? trimestre/i},$Y={any:[/1/i,/2/i,/3/i,/4/i]},UY={narrow:/^[efmajsond]/i,abbreviated:/^(ene|feb|mar|abr|may|jun|jul|ago|sep|oct|nov|dic)/i,wide:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i},BY={narrow:[/^e/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^en/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i]},WY={narrow:/^[dlmjvs]/i,short:/^(do|lu|ma|mi|ju|vi|s[áa])/i,abbreviated:/^(dom|lun|mar|mi[ée]|jue|vie|s[áa]b)/i,wide:/^(domingo|lunes|martes|mi[ée]rcoles|jueves|viernes|s[áa]bado)/i},zY={narrow:[/^d/i,/^l/i,/^m/i,/^m/i,/^j/i,/^v/i,/^s/i],any:[/^do/i,/^lu/i,/^ma/i,/^mi/i,/^ju/i,/^vi/i,/^sa/i]},HY={narrow:/^(a|p|mn|md|(de la|a las) (mañana|tarde|noche))/i,any:/^([ap]\.?\s?m\.?|medianoche|mediodia|(de la|a las) (mañana|tarde|noche))/i},qY={any:{am:/^a/i,pm:/^p/i,midnight:/^mn/i,noon:/^md/i,morning:/mañana/i,afternoon:/tarde/i,evening:/tarde/i,night:/noche/i}},GY={ordinalNumber:eN({matchPattern:OY,parsePattern:LY,valueCallback:function(e){return parseInt(e,10)}}),era:Ir({matchPatterns:VY,defaultMatchWidth:"wide",parsePatterns:jY,defaultParseWidth:"any"}),quarter:Ir({matchPatterns:FY,defaultMatchWidth:"wide",parsePatterns:$Y,defaultParseWidth:"any",valueCallback:function(e){return e+1}}),month:Ir({matchPatterns:UY,defaultMatchWidth:"wide",parsePatterns:BY,defaultParseWidth:"any"}),day:Ir({matchPatterns:WY,defaultMatchWidth:"wide",parsePatterns:zY,defaultParseWidth:"any"}),dayPeriod:Ir({matchPatterns:HY,defaultMatchWidth:"any",parsePatterns:qY,defaultParseWidth:"any"})};const YY=GY;var KY={code:"es",formatDistance:gY,formatLong:xY,formatRelative:CY,localize:MY,match:YY,options:{weekStartsOn:1,firstWeekContainsDate:1}};const rl=KY,QY=({point:t,position:e,chartWidth:n,chartHeight:r,onToggleIgnore:i,onEdit:o,onClose:s})=>{if(!t)return null;const a=130,l=120;let c=e.clientX+10,u=e.clientY+10;c+a>n&&(c=e.clientX-a-10),u+l>r&&(u=e.clientY-l-10),c<0&&(c=5),u<0&&(u=5);const f=t.temperature_chart,h=C1(t.fertility_symbol),g=t.timestamp||t.isoDate;return p.jsxs(Te.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},transition:{duration:.15},className:"absolute bg-white/80 border border-[#E27DBF] text-[#1F2937] p-2 rounded-lg shadow z-50",style:{top:u,left:c,width:a,minHeight:l},children:[p.jsx(Ee,{variant:"ghost",size:"icon",onClick:s,className:"absolute top-1 right-1 text-[#E27DBF] hover:bg-[#FFB1DD]",children:p.jsx(cu,{size:16})}),p.jsxs("p",{className:"font-semibold text-sm text-[#E27DBF] mb-1",children:[g?_e(ie(g),"d/M",{locale:rl}):"Fecha",` (Día ${t.cycleDay||"N/A"})`]}),f!=null&&p.jsxs("p",{className:"text-xs mb-1",children:[p.jsx("span",{className:"font-medium",children:"T:"})," ",parseFloat(f).toFixed(2),"°C",t.use_corrected&&p.jsx("span",{className:"inline-block ml-1 align-middle text-[#FF0000]",children:"·"})]}),p.jsxs("div",{className:"flex items-center mb-1",children:[h&&h.value!=="none"&&p.jsx("span",{className:`w-3 h-3 rounded-full mr-1 ${h.color} ${h.pattern?"pattern-bg":""} ${h.value==="white"?"border border-gray-300":""}`}),p.jsx("p",{className:"text-xs",children:h?h.label:"-"})]}),p.jsxs("p",{className:"text-xs mb-1",children:[p.jsx("span",{className:"font-medium",children:"Sens.:"})," ",t.mucus_sensation||"-"]}),p.jsxs("p",{className:"text-xs",children:[p.jsx("span",{className:"font-medium",children:"Apar.:"})," ",t.mucus_appearance||"-"]}),t.id&&!String(t.id).startsWith("placeholder-")&&p.jsxs("div",{className:"flex justify-center space-x-1 mt-1",children:[p.jsx(Ee,{onClick:()=>{o&&o(t),s&&s()},variant:"outline",size:"icon",className:"text-[#393C65] hover:text-[#E27DBF] hover:bg-[#E27DBF]/10 ",children:p.jsx(Vy,{className:"h-4 w-4"})}),p.jsx(Ee,{onClick:()=>i(t.id),variant:t.ignored?"outline":"destructive",size:"icon",className:"hover:bg-[#FFB1DD]/20",children:t.ignored?p.jsx(el,{className:"h-4 w-4"}):p.jsx(Mp,{className:"h-4 w-4"})})]})]})},XY="#1E40AF",JY="#059669",ZY="#BE185D",eK=({padding:t,chartHeight:e,tempMin:n,tempMax:r,tempRange:i,getY:o,responsiveFontSize:s,textRowHeight:a,isFullScreen:l})=>{const c={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.4,ease:"easeOut"}}},u=[];if(i>0){const h=i<=2.5?.1:.5;for(let g=n;g<=r+1e-9;g+=h)u.push(parseFloat(g.toFixed(1)))}else for(let h=35;h<=37.5+1e-9;h+=.5)u.push(parseFloat(h.toFixed(1)));const f=e-t.bottom;return p.jsxs("svg",{width:t.left,height:e,className:"font-sans pointer-events-none",children:[p.jsxs("defs",{children:[p.jsxs("linearGradient",{id:"legendBgGradient",x1:"0%",y1:"0%",x2:"100%",y2:"0%",children:[p.jsx("stop",{offset:"0%",stopColor:"rgba(255, 255, 255, 0.95)"}),p.jsx("stop",{offset:"100%",stopColor:"rgba(252, 231, 243, 0.8)"})]}),p.jsx("filter",{id:"legendShadow",x:"-20%",y:"-20%",width:"140%",height:"140%",children:p.jsx("feDropShadow",{dx:"2",dy:"2",stdDeviation:"3",floodColor:"rgba(244, 114, 182, 0.15)"})})]}),p.jsx("rect",{x:0,y:f+a*.5,width:t.left,height:a*(l?9.5:8),fill:"url(#legendBgGradient)",rx:8,style:{filter:"url(#legendShadow)"}}),u.map((h,g)=>{const w=o(h),v=h.toFixed(1).endsWith(".0")||h.toFixed(1).endsWith(".5"),E=v?h.toFixed(1):`.${h.toFixed(1).split(".")[1]}`;return p.jsx(Te.text,{variants:c,x:t.left-s(1),y:w+s(.35),textAnchor:"end",fontSize:s(v?1:.9),fontWeight:v?"600":"500",fill:v?"#E91E63":"#EC4899",style:{filter:"drop-shadow(0 1px 1px rgba(255, 255, 255, 0.8))",fontFamily:'-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif'},children:E},`temp-tick-fixed-${g}`)}),p.jsxs(Te.g,{variants:c,children:[p.jsx("rect",{x:t.left-s(.3),y:t.top-s(.3),width:s(3),height:s(2.2),rx:s(.4),fill:"rgba(244, 114, 182, 0.12)",stroke:"rgba(244, 114, 182, 0.25)",strokeWidth:1,style:{filter:"drop-shadow(0 2px 4px rgba(244, 114, 182, 0.1))"}}),p.jsx("text",{x:t.left+s(1.2),y:t.top+s(1.2),textAnchor:"middle",fontSize:s(1.4),fontWeight:"700",fill:"#E91E63",style:{filter:"drop-shadow(0 1px 2px rgba(255, 255, 255, 0.8))",fontFamily:'-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif'},children:"°C"})]}),p.jsx(Te.g,{variants:c,children:[{label:"Fecha",row:1,color:l?"#374151":"#6B7280"},{label:"Día",row:2,color:l?"#374151":"#6B7280"},{label:"Símbolo",row:3,color:l?"#374151":"#6B7280"},{label:"Sens.",row:l?5:4.5,color:XY},{label:"Apar.",row:l?7:6,color:JY},{label:"Observ.",row:l?9:7.5,color:ZY}].map(({label:h,row:g,color:w})=>p.jsx("text",{x:t.left-s(1.5),y:f+a*g,textAnchor:"end",fontSize:s(.95),fontWeight:"600",fill:w,style:{filter:"drop-shadow(0 1px 1px rgba(255, 255, 255, 0.8))",fontFamily:'-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif'},children:h},h))})]})},wC=35.5,_C=37.5,tK=(t,e,n,r,i,o=5)=>{const s=m.useRef(null),a=m.useRef(null),[l,c]=m.useState({width:600,height:400}),[u,f]=m.useState(null),[h,g]=m.useState({x:0,y:0}),w=m.useMemo(()=>t.map(j=>({...j,displayTemperature:j.temperature_chart})),[t]);m.useEffect(()=>{const j=()=>{if(!s.current)return;let $=s.current.clientWidth>0?s.current.clientWidth:600,H,W;if(e)if($=window.innerWidth,n==="portrait"){const J=Math.max(30,$*.05);H=($-J)/o*t.length,W=window.innerHeight}else H=$/o*t.length,W=window.innerHeight;else H=$/o*t.length,W=450;c({width:H,height:W})};j(),window.addEventListener("resize",j);let B;return e&&s.current&&(B=new ResizeObserver(j),B.observe(document.documentElement)),()=>{window.removeEventListener("resize",j),B&&B.disconnect()}},[e,t.length,o,n]);const v=m.useMemo(()=>w.filter(j=>j&&j.isoDate&&!j.ignored&&j.displayTemperature!==null&&j.displayTemperature!==void 0),[w]),E=m.useMemo(()=>w.filter(j=>j&&j.isoDate),[w]),{baselineTemp:x,baselineStartIndex:y}=m.useMemo(()=>{const j=B=>B&&B.displayTemperature!=null&&!B.ignored;for(let B=0;B<w.length;B++){const $=w[B];if(!j($))continue;const H=[];for(let W=B-1;W>=0&&H.length<6;W--){const J=w[W];j(J)&&H.unshift({index:W,temp:J.displayTemperature})}if(!(H.length<6)&&H.every(W=>W.temp<$.displayTemperature)){const W=Math.max(...H.map(he=>he.temp)),J=H.find(he=>he.temp===W).index;return{baselineTemp:W,baselineStartIndex:J}}}return{baselineTemp:null,baselineStartIndex:null}},[w]),{tempMin:b,tempMax:P}=m.useMemo(()=>{const j=v.map(H=>H.displayTemperature).filter(H=>H!=null);if(j.length===0)return{tempMin:wC,tempMax:_C};let B=Math.min(...j,wC),$=Math.max(...j,_C);if(B=Math.floor(B*2)/2,$=Math.ceil($*2)/2,$-B<2){const H=(B+$)/2;B=H-1,$=H+1}return{tempMin:B,tempMax:$}},[v]),N=P-b,M=l.width,S=l.height,C=9,I=(j=1)=>{if(!e)return C*j;const B=Math.min(M,S);return Math.max(8,Math.min(C*j,B/(E.length>0?40/j:40)))},A=I(e?1.5:1.8),O=A*5,R={top:e?Math.max(20,S*.05):20,right:e?Math.max(30,M*.05):50,bottom:(e?Math.max(60,S*.2):60)+O,left:e?Math.max(30,M*.05):50},F=j=>{if(j==null||N===0)return S-R.bottom;const B=S-R.top-R.bottom;return B<=0?S-R.bottom:S-R.bottom-(j-b)/N*B},q=j=>{const B=e?10:20,$=e?25:0,H=M-R.left-R.right-B-$*(E.length-1);if(H<=0)return R.left+B+$*j;const W=E.length>1?E.length-1:1;return W===0||E.length===0?R.left+B+$*j:R.left+B+j*(H/(E.length===1?1:W))+$*j},K=(j,B,$)=>{if(!j||String(j.id).startsWith("placeholder-")){z();return}const H=s.current.getBoundingClientRect();let W,J;if($.type.startsWith("touch")){const Q=$.changedTouches[0];W=Q.clientX,J=Q.clientY}else W=$.clientX,J=$.clientY;const he=q(B),fe=F(j.displayTemperature);g({svgX:he,svgY:fe,clientX:W-H.left+s.current.scrollLeft,clientY:J-H.top+s.current.scrollTop}),f(j)};m.useEffect(()=>{const j=B=>{var $;if(a.current&&!a.current.contains(B.target)){const H=($=s.current)==null?void 0:$.querySelectorAll("circle, text, rect");let W=!1;if(H){for(let J of H)if(J.contains(B.target)){W=!0;break}}W||f(null)}};return u&&(document.addEventListener("mousedown",j),document.addEventListener("touchstart",j)),()=>{document.removeEventListener("mousedown",j),document.removeEventListener("touchstart",j)}},[u]);const z=()=>{f(null)};return{chartRef:s,tooltipRef:a,dimensions:l,activePoint:u,tooltipPosition:h,processedData:w,validDataForLine:v,allDataPoints:E,tempMin:b,tempMax:P,tempRange:N,padding:R,textRowHeight:A,setActivePoint:f,getY:F,getX:q,handlePointInteraction:K,clearActivePoint:z,handleToggleIgnore:j=>{r&&j&&(r(i,j),f(null))},responsiveFontSize:I,baselineTemp:x,baselineStartIndex:y}},uN=({data:t,isFullScreen:e,orientation:n,onToggleIgnore:r,onEdit:i,cycleId:o,initialScrollIndex:s=0,visibleDays:a=5,showInterpretation:l=!1})=>{const{chartRef:c,tooltipRef:u,dimensions:f,activePoint:h,tooltipPosition:g,allDataPoints:w,validDataForLine:v,tempMin:E,tempMax:x,tempRange:y,padding:b,textRowHeight:P,getY:N,getX:M,handlePointInteraction:S,handleToggleIgnore:C,responsiveFontSize:I,clearActivePoint:A,setActivePoint:D,baselineTemp:O,baselineStartIndex:R}=tK(t,e,n,r,o,a);if(!w||w.length===0)return p.jsxs("div",{className:"text-center p-8",children:[p.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-gradient-to-br from-pink-100 to-rose-100 rounded-full mb-4",children:p.jsx("svg",{className:"w-8 h-8 text-pink-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})})}),p.jsx("p",{className:"text-slate-400 font-medium",children:"No hay datos para mostrar en el gráfico"})]});const F=f.width,q=f.height,K=O!=null?N(O):null,z=O!=null?M(R):null,L={hidden:{opacity:0,y:20},visible:{opacity:1,y:0}},j={hidden:{opacity:0,scale:.95},visible:{opacity:1,scale:1}};return m.useEffect(()=>{if(e||!c.current)return;const B=c.current.clientWidth/a;c.current.scrollLeft=Math.max(0,B*s)},[e,s,a,f.width,n]),p.jsxs(Te.div,{className:"relative",variants:L,initial:"hidden",animate:"visible",children:[(!e||n==="portrait")&&p.jsx("div",{className:"absolute left-0 top-0 h-full bg-transparent pointer-events-none z-10",style:{width:b.left},children:p.jsx(eK,{padding:b,chartHeight:q,tempMin:E,tempMax:x,tempRange:y,getY:N,responsiveFontSize:I,textRowHeight:P,isFullScreen:e})}),p.jsxs(Te.div,{ref:c,className:`relative p-0 rounded-2xl ${e?"w-full h-full bg-gradient-to-br from-white via-pink-50/30 to-rose-50/20 flex items-center justify-start overflow-x-auto overflow-y-hidden":"bg-gradient-to-br from-white via-pink-50/30 to-rose-50/20 overflow-x-auto overflow-y-hidden border border-pink-100/50"}`,style:{boxShadow:e?"inset 0 1px 3px rgba(244, 114, 182, 0.1)":"0 8px 32px rgba(244, 114, 182, 0.12), 0 2px 8px rgba(244, 114, 182, 0.08)"},variants:j,children:[p.jsxs(Te.svg,{width:F,height:q,className:"font-sans flex-shrink-0",viewBox:`0 0 ${F} ${q}`,preserveAspectRatio:"xMidYMid meet",children:[p.jsxs("defs",{children:[p.jsxs("linearGradient",{id:"tempLineGradientChart",x1:"0%",y1:"0%",x2:"100%",y2:"0%",children:[p.jsx("stop",{offset:"0%",stopColor:"#F472B6"}),p.jsx("stop",{offset:"50%",stopColor:"#EC4899"}),p.jsx("stop",{offset:"100%",stopColor:"#E91E63"})]}),p.jsxs("linearGradient",{id:"tempAreaGradientChart",x1:"0%",y1:"0%",x2:"0%",y2:"100%",children:[p.jsx("stop",{offset:"0%",stopColor:"rgba(244,114,182,0.25)"}),p.jsx("stop",{offset:"50%",stopColor:"rgba(236,72,153,0.15)"}),p.jsx("stop",{offset:"100%",stopColor:"rgba(233,30,99,0.05)"})]}),p.jsxs("pattern",{id:"spotting-pattern-chart",patternUnits:"userSpaceOnUse",width:"8",height:"8",children:[p.jsx("circle",{cx:"2",cy:"2",r:"1.5",fill:"rgba(239,68,68,0.8)"}),p.jsx("circle",{cx:"6",cy:"6",r:"1.5",fill:"rgba(239,68,68,0.6)"})]}),p.jsxs("filter",{id:"chartShadow",x:"-50%",y:"-50%",width:"200%",height:"200%",children:[p.jsx("feGaussianBlur",{stdDeviation:"2",result:"coloredBlur"}),p.jsxs("feMerge",{children:[p.jsx("feMergeNode",{in:"coloredBlur"}),p.jsx("feMergeNode",{in:"SourceGraphic"})]})]}),p.jsxs("filter",{id:"baselineGlow",x:"-50%",y:"-50%",width:"200%",height:"200%",children:[p.jsx("feGaussianBlur",{stdDeviation:"1.5",result:"coloredBlur"}),p.jsxs("feMerge",{children:[p.jsx("feMergeNode",{in:"coloredBlur"}),p.jsx("feMergeNode",{in:"SourceGraphic"})]})]})]}),p.jsx("rect",{width:"100%",height:"100%",fill:"transparent"}),p.jsx(_H,{padding:b,chartWidth:F,chartHeight:q,tempMin:E,tempMax:x,tempRange:y,getY:N,getX:M,allDataPoints:w,responsiveFontSize:I,isFullScreen:e,showLeftLabels:e&&n==="landscape"}),p.jsx(xH,{data:v,allDataPoints:w,getX:M,getY:N,baselineY:q-b.bottom,temperatureField:"displayTemperature"}),l&&O!=null&&p.jsx(Te.line,{x1:z,y1:K,x2:F-b.right,y2:K,stroke:"#F59E0B",strokeWidth:3,strokeDasharray:"6 4",style:{filter:"url(#baselineGlow)"},initial:{opacity:0,pathLength:0},animate:{opacity:1,pathLength:1},transition:{duration:1,ease:"easeInOut"}}),p.jsx(hY,{data:w,getX:M,getY:N,isFullScreen:e,orientation:n,responsiveFontSize:I,onPointInteraction:S,clearActivePoint:A,activePoint:h,padding:b,chartHeight:q,chartWidth:F,temperatureField:"displayTemperature",textRowHeight:P})]}),h&&p.jsx(Te.div,{ref:u,initial:{opacity:0,scale:.9,y:10},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.9,y:10},transition:{duration:.2,ease:"easeOut"},children:p.jsx(QY,{point:h,position:g,chartWidth:F,chartHeight:q,onToggleIgnore:C,onEdit:i,onClose:A})})]})]})},yf=we.forwardRef(({className:t,...e},n)=>p.jsx("textarea",{className:Ne("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:n,...e}));yf.displayName="Textarea";function nK(t,e){const n=m.createContext(e),r=o=>{const{children:s,...a}=o,l=m.useMemo(()=>a,Object.values(a));return p.jsx(n.Provider,{value:l,children:s})};r.displayName=t+"Provider";function i(o){const s=m.useContext(n);if(s)return s;if(e!==void 0)return e;throw new Error(`\`${o}\` must be used within \`${t}\``)}return[r,i]}function js(t,e=[]){let n=[];function r(o,s){const a=m.createContext(s),l=n.length;n=[...n,s];const c=f=>{var x;const{scope:h,children:g,...w}=f,v=((x=h==null?void 0:h[t])==null?void 0:x[l])||a,E=m.useMemo(()=>w,Object.values(w));return p.jsx(v.Provider,{value:E,children:g})};c.displayName=o+"Provider";function u(f,h){var v;const g=((v=h==null?void 0:h[t])==null?void 0:v[l])||a,w=m.useContext(g);if(w)return w;if(s!==void 0)return s;throw new Error(`\`${f}\` must be used within \`${o}\``)}return[c,u]}const i=()=>{const o=n.map(s=>m.createContext(s));return function(a){const l=(a==null?void 0:a[t])||o;return m.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return i.scopeName=t,[r,rK(i,...e)]}function rK(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(o){const s=r.reduce((a,{useScope:l,scopeName:c})=>{const f=l(o)[`__scope${c}`];return{...a,...f}},{});return m.useMemo(()=>({[`__scope${e.scopeName}`]:s}),[s])}};return n.scopeName=e.scopeName,n}function Ue(t,e,{checkForDefaultPrevented:n=!0}={}){return function(i){if(t==null||t(i),n===!1||!i.defaultPrevented)return e==null?void 0:e(i)}}var qr=globalThis!=null&&globalThis.document?m.useLayoutEffect:()=>{},iK=$h[" useInsertionEffect ".trim().toString()]||qr;function Op({prop:t,defaultProp:e,onChange:n=()=>{},caller:r}){const[i,o,s]=oK({defaultProp:e,onChange:n}),a=t!==void 0,l=a?t:i;{const u=m.useRef(t!==void 0);m.useEffect(()=>{const f=u.current;f!==a&&console.warn(`${r} is changing from ${f?"controlled":"uncontrolled"} to ${a?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),u.current=a},[a,r])}const c=m.useCallback(u=>{var f;if(a){const h=sK(u)?u(t):u;h!==t&&((f=s.current)==null||f.call(s,h))}else o(u)},[a,t,o,s]);return[l,c]}function oK({defaultProp:t,onChange:e}){const[n,r]=m.useState(t),i=m.useRef(n),o=m.useRef(e);return iK(()=>{o.current=e},[e]),m.useEffect(()=>{var s;i.current!==n&&((s=o.current)==null||s.call(o,n),i.current=n)},[n,i]),[n,r,o]}function sK(t){return typeof t=="function"}function aK(t){const e=m.useRef({value:t,previous:t});return m.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}function dN(t){const[e,n]=m.useState(void 0);return qr(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const o=i[0];let s,a;if("borderBoxSize"in o){const l=o.borderBoxSize,c=Array.isArray(l)?l[0]:l;s=c.inlineSize,a=c.blockSize}else s=t.offsetWidth,a=t.offsetHeight;n({width:s,height:a})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}function lK(t,e){return m.useReducer((n,r)=>e[n][r]??n,t)}var er=t=>{const{present:e,children:n}=t,r=cK(e),i=typeof n=="function"?n({present:r.isPresent}):m.Children.only(n),o=lt(r.ref,uK(i));return typeof n=="function"||r.isPresent?m.cloneElement(i,{ref:o}):null};er.displayName="Presence";function cK(t){const[e,n]=m.useState(),r=m.useRef(null),i=m.useRef(t),o=m.useRef("none"),s=t?"mounted":"unmounted",[a,l]=lK(s,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return m.useEffect(()=>{const c=Od(r.current);o.current=a==="mounted"?c:"none"},[a]),qr(()=>{const c=r.current,u=i.current;if(u!==t){const h=o.current,g=Od(c);t?l("MOUNT"):g==="none"||(c==null?void 0:c.display)==="none"?l("UNMOUNT"):l(u&&h!==g?"ANIMATION_OUT":"UNMOUNT"),i.current=t}},[t,l]),qr(()=>{if(e){let c;const u=e.ownerDocument.defaultView??window,f=g=>{const v=Od(r.current).includes(g.animationName);if(g.target===e&&v&&(l("ANIMATION_END"),!i.current)){const E=e.style.animationFillMode;e.style.animationFillMode="forwards",c=u.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=E)})}},h=g=>{g.target===e&&(o.current=Od(r.current))};return e.addEventListener("animationstart",h),e.addEventListener("animationcancel",f),e.addEventListener("animationend",f),()=>{u.clearTimeout(c),e.removeEventListener("animationstart",h),e.removeEventListener("animationcancel",f),e.removeEventListener("animationend",f)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:m.useCallback(c=>{r.current=c?getComputedStyle(c):null,n(c)},[])}}function Od(t){return(t==null?void 0:t.animationName)||"none"}function uK(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var Lp="Checkbox",[dK,Cne]=js(Lp),[fK,S1]=dK(Lp);function hK(t){const{__scopeCheckbox:e,checked:n,children:r,defaultChecked:i,disabled:o,form:s,name:a,onCheckedChange:l,required:c,value:u="on",internal_do_not_use_render:f}=t,[h,g]=Op({prop:n,defaultProp:i??!1,onChange:l,caller:Lp}),[w,v]=m.useState(null),[E,x]=m.useState(null),y=m.useRef(!1),b=w?!!s||!!w.closest("form"):!0,P={checked:h,disabled:o,setChecked:g,control:w,setControl:v,name:a,form:s,value:u,hasConsumerStoppedPropagationRef:y,required:c,defaultChecked:Eo(i)?!1:i,isFormControl:b,bubbleInput:E,setBubbleInput:x};return p.jsx(fK,{scope:e,...P,children:pK(f)?f(P):r})}var fN="CheckboxTrigger",hN=m.forwardRef(({__scopeCheckbox:t,onKeyDown:e,onClick:n,...r},i)=>{const{control:o,value:s,disabled:a,checked:l,required:c,setControl:u,setChecked:f,hasConsumerStoppedPropagationRef:h,isFormControl:g,bubbleInput:w}=S1(fN,t),v=lt(i,u),E=m.useRef(l);return m.useEffect(()=>{const x=o==null?void 0:o.form;if(x){const y=()=>f(E.current);return x.addEventListener("reset",y),()=>x.removeEventListener("reset",y)}},[o,f]),p.jsx(ze.button,{type:"button",role:"checkbox","aria-checked":Eo(l)?"mixed":l,"aria-required":c,"data-state":yN(l),"data-disabled":a?"":void 0,disabled:a,value:s,...r,ref:v,onKeyDown:Ue(e,x=>{x.key==="Enter"&&x.preventDefault()}),onClick:Ue(n,x=>{f(y=>Eo(y)?!0:!y),w&&g&&(h.current=x.isPropagationStopped(),h.current||x.stopPropagation())})})});hN.displayName=fN;var P1=m.forwardRef((t,e)=>{const{__scopeCheckbox:n,name:r,checked:i,defaultChecked:o,required:s,disabled:a,value:l,onCheckedChange:c,form:u,...f}=t;return p.jsx(hK,{__scopeCheckbox:n,checked:i,defaultChecked:o,disabled:a,required:s,onCheckedChange:c,name:r,form:u,value:l,internal_do_not_use_render:({isFormControl:h})=>p.jsxs(p.Fragment,{children:[p.jsx(hN,{...f,ref:e,__scopeCheckbox:n}),h&&p.jsx(vN,{__scopeCheckbox:n})]})})});P1.displayName=Lp;var pN="CheckboxIndicator",mN=m.forwardRef((t,e)=>{const{__scopeCheckbox:n,forceMount:r,...i}=t,o=S1(pN,n);return p.jsx(er,{present:r||Eo(o.checked)||o.checked===!0,children:p.jsx(ze.span,{"data-state":yN(o.checked),"data-disabled":o.disabled?"":void 0,...i,ref:e,style:{pointerEvents:"none",...t.style}})})});mN.displayName=pN;var gN="CheckboxBubbleInput",vN=m.forwardRef(({__scopeCheckbox:t,...e},n)=>{const{control:r,hasConsumerStoppedPropagationRef:i,checked:o,defaultChecked:s,required:a,disabled:l,name:c,value:u,form:f,bubbleInput:h,setBubbleInput:g}=S1(gN,t),w=lt(n,g),v=aK(o),E=dN(r);m.useEffect(()=>{const y=h;if(!y)return;const b=window.HTMLInputElement.prototype,N=Object.getOwnPropertyDescriptor(b,"checked").set,M=!i.current;if(v!==o&&N){const S=new Event("click",{bubbles:M});y.indeterminate=Eo(o),N.call(y,Eo(o)?!1:o),y.dispatchEvent(S)}},[h,v,o,i]);const x=m.useRef(Eo(o)?!1:o);return p.jsx(ze.input,{type:"checkbox","aria-hidden":!0,defaultChecked:s??x.current,required:a,disabled:l,name:c,value:u,form:f,...e,tabIndex:-1,ref:w,style:{...e.style,...E,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});vN.displayName=gN;function pK(t){return typeof t=="function"}function Eo(t){return t==="indeterminate"}function yN(t){return Eo(t)?"indeterminate":t?"checked":"unchecked"}const wN=we.forwardRef(({className:t,...e},n)=>p.jsx(P1,{ref:n,className:Ne("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",t),...e,children:p.jsx(mN,{className:Ne("flex items-center justify-center text-current"),children:p.jsx(bh,{className:"h-4 w-4"})})}));wN.displayName=P1.displayName;var ye=function(){return ye=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},ye.apply(this,arguments)};function mK(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function _N(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,o;r<i;r++)(o||!(r in e))&&(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return t.concat(o||Array.prototype.slice.call(e))}function Vu(t){return t.mode==="multiple"}function ju(t){return t.mode==="range"}function Vp(t){return t.mode==="single"}var gK={root:"rdp",multiple_months:"rdp-multiple_months",with_weeknumber:"rdp-with_weeknumber",vhidden:"rdp-vhidden",button_reset:"rdp-button_reset",button:"rdp-button",caption:"rdp-caption",caption_start:"rdp-caption_start",caption_end:"rdp-caption_end",caption_between:"rdp-caption_between",caption_label:"rdp-caption_label",caption_dropdowns:"rdp-caption_dropdowns",dropdown:"rdp-dropdown",dropdown_month:"rdp-dropdown_month",dropdown_year:"rdp-dropdown_year",dropdown_icon:"rdp-dropdown_icon",months:"rdp-months",month:"rdp-month",table:"rdp-table",tbody:"rdp-tbody",tfoot:"rdp-tfoot",head:"rdp-head",head_row:"rdp-head_row",head_cell:"rdp-head_cell",nav:"rdp-nav",nav_button:"rdp-nav_button",nav_button_previous:"rdp-nav_button_previous",nav_button_next:"rdp-nav_button_next",nav_icon:"rdp-nav_icon",row:"rdp-row",weeknumber:"rdp-weeknumber",cell:"rdp-cell",day:"rdp-day",day_today:"rdp-day_today",day_outside:"rdp-day_outside",day_selected:"rdp-day_selected",day_disabled:"rdp-day_disabled",day_hidden:"rdp-day_hidden",day_range_start:"rdp-day_range_start",day_range_end:"rdp-day_range_end",day_range_middle:"rdp-day_range_middle"};function vK(t,e){return _e(t,"LLLL y",e)}function yK(t,e){return _e(t,"d",e)}function wK(t,e){return _e(t,"LLLL",e)}function _K(t){return"".concat(t)}function xK(t,e){return _e(t,"cccccc",e)}function EK(t,e){return _e(t,"yyyy",e)}var bK=Object.freeze({__proto__:null,formatCaption:vK,formatDay:yK,formatMonthCaption:wK,formatWeekNumber:_K,formatWeekdayName:xK,formatYearCaption:EK}),TK=function(t,e,n){return _e(t,"do MMMM (EEEE)",n)},CK=function(){return"Month: "},SK=function(){return"Go to next month"},PK=function(){return"Go to previous month"},IK=function(t,e){return _e(t,"cccc",e)},AK=function(t){return"Week n. ".concat(t)},kK=function(){return"Year: "},RK=Object.freeze({__proto__:null,labelDay:TK,labelMonthDropdown:CK,labelNext:SK,labelPrevious:PK,labelWeekNumber:AK,labelWeekday:IK,labelYearDropdown:kK});function NK(){var t="buttons",e=gK,n=x1,r={},i={},o=1,s={},a=new Date;return{captionLayout:t,classNames:e,formatters:bK,labels:RK,locale:n,modifiersClassNames:r,modifiers:i,numberOfMonths:o,styles:s,today:a,mode:"default"}}function DK(t){var e=t.fromYear,n=t.toYear,r=t.fromMonth,i=t.toMonth,o=t.fromDate,s=t.toDate;return r?o=Pn(r):e&&(o=new Date(e,0,1)),i?s=y1(i):n&&(s=new Date(n,11,31)),{fromDate:o?Se(o):void 0,toDate:s?Se(s):void 0}}var xN=m.createContext(void 0);function MK(t){var e,n=t.initialProps,r=NK(),i=DK(n),o=i.fromDate,s=i.toDate,a=(e=n.captionLayout)!==null&&e!==void 0?e:r.captionLayout;a!=="buttons"&&(!o||!s)&&(a="buttons");var l;(Vp(n)||Vu(n)||ju(n))&&(l=n.onSelect);var c=ye(ye(ye({},r),n),{captionLayout:a,classNames:ye(ye({},r.classNames),n.classNames),components:ye({},n.components),formatters:ye(ye({},r.formatters),n.formatters),fromDate:o,labels:ye(ye({},r.labels),n.labels),mode:n.mode||r.mode,modifiers:ye(ye({},r.modifiers),n.modifiers),modifiersClassNames:ye(ye({},r.modifiersClassNames),n.modifiersClassNames),onSelect:l,styles:ye(ye({},r.styles),n.styles),toDate:s});return p.jsx(xN.Provider,{value:c,children:t.children})}function Ze(){var t=m.useContext(xN);if(!t)throw new Error("useDayPicker must be used within a DayPickerProvider.");return t}function EN(t){var e=Ze(),n=e.locale,r=e.classNames,i=e.styles,o=e.formatters.formatCaption;return p.jsx("div",{className:r.caption_label,style:i.caption_label,"aria-live":"polite",role:"presentation",id:t.id,children:o(t.displayMonth,{locale:n})})}function OK(t){return p.jsx("svg",ye({width:"8px",height:"8px",viewBox:"0 0 120 120","data-testid":"iconDropdown"},t,{children:p.jsx("path",{d:"M4.22182541,48.2218254 C8.44222828,44.0014225 15.2388494,43.9273804 19.5496459,47.9996989 L19.7781746,48.2218254 L60,88.443 L100.221825,48.2218254 C104.442228,44.0014225 111.238849,43.9273804 115.549646,47.9996989 L115.778175,48.2218254 C119.998577,52.4422283 120.07262,59.2388494 116.000301,63.5496459 L115.778175,63.7781746 L67.7781746,111.778175 C63.5577717,115.998577 56.7611506,116.07262 52.4503541,112.000301 L52.2218254,111.778175 L4.22182541,63.7781746 C-0.0739418023,59.4824074 -0.0739418023,52.5175926 4.22182541,48.2218254 Z",fill:"currentColor",fillRule:"nonzero"})}))}function bN(t){var e,n,r=t.onChange,i=t.value,o=t.children,s=t.caption,a=t.className,l=t.style,c=Ze(),u=(n=(e=c.components)===null||e===void 0?void 0:e.IconDropdown)!==null&&n!==void 0?n:OK;return p.jsxs("div",{className:a,style:l,children:[p.jsx("span",{className:c.classNames.vhidden,children:t["aria-label"]}),p.jsx("select",{name:t.name,"aria-label":t["aria-label"],className:c.classNames.dropdown,style:c.styles.dropdown,value:i,onChange:r,children:o}),p.jsxs("div",{className:c.classNames.caption_label,style:c.styles.caption_label,"aria-hidden":"true",children:[s,p.jsx(u,{className:c.classNames.dropdown_icon,style:c.styles.dropdown_icon})]})]})}function LK(t){var e,n=Ze(),r=n.fromDate,i=n.toDate,o=n.styles,s=n.locale,a=n.formatters.formatMonthCaption,l=n.classNames,c=n.components,u=n.labels.labelMonthDropdown;if(!r)return p.jsx(p.Fragment,{});if(!i)return p.jsx(p.Fragment,{});var f=[];if(GG(r,i))for(var h=Pn(r),g=r.getMonth();g<=i.getMonth();g++)f.push(Ig(h,g));else for(var h=Pn(new Date),g=0;g<=11;g++)f.push(Ig(h,g));var w=function(E){var x=Number(E.target.value),y=Ig(Pn(t.displayMonth),x);t.onChange(y)},v=(e=c==null?void 0:c.Dropdown)!==null&&e!==void 0?e:bN;return p.jsx(v,{name:"months","aria-label":u(),className:l.dropdown_month,style:o.dropdown_month,onChange:w,value:t.displayMonth.getMonth(),caption:a(t.displayMonth,{locale:s}),children:f.map(function(E){return p.jsx("option",{value:E.getMonth(),children:a(E,{locale:s})},E.getMonth())})})}function VK(t){var e,n=t.displayMonth,r=Ze(),i=r.fromDate,o=r.toDate,s=r.locale,a=r.styles,l=r.classNames,c=r.components,u=r.formatters.formatYearCaption,f=r.labels.labelYearDropdown,h=[];if(!i)return p.jsx(p.Fragment,{});if(!o)return p.jsx(p.Fragment,{});for(var g=i.getFullYear(),w=o.getFullYear(),v=g;v<=w;v++)h.push(mC(OH(new Date),v));var E=function(y){var b=mC(Pn(n),Number(y.target.value));t.onChange(b)},x=(e=c==null?void 0:c.Dropdown)!==null&&e!==void 0?e:bN;return p.jsx(x,{name:"years","aria-label":f(),className:l.dropdown_year,style:a.dropdown_year,onChange:E,value:n.getFullYear(),caption:u(n,{locale:s}),children:h.map(function(y){return p.jsx("option",{value:y.getFullYear(),children:u(y,{locale:s})},y.getFullYear())})})}function jK(t,e){var n=m.useState(t),r=n[0],i=n[1],o=e===void 0?r:e;return[o,i]}function FK(t){var e=t.month,n=t.defaultMonth,r=t.today,i=e||n||r||new Date,o=t.toDate,s=t.fromDate,a=t.numberOfMonths,l=a===void 0?1:a;if(o&&uu(o,i)<0){var c=-1*(l-1);i=vr(o,c)}return s&&uu(i,s)<0&&(i=s),Pn(i)}function $K(){var t=Ze(),e=FK(t),n=jK(e,t.month),r=n[0],i=n[1],o=function(s){var a;if(!t.disableNavigation){var l=Pn(s);i(l),(a=t.onMonthChange)===null||a===void 0||a.call(t,l)}};return[r,o]}function UK(t,e){for(var n=e.reverseMonths,r=e.numberOfMonths,i=Pn(t),o=Pn(vr(i,r)),s=uu(o,i),a=[],l=0;l<s;l++){var c=vr(i,l);a.push(c)}return n&&(a=a.reverse()),a}function BK(t,e){if(!e.disableNavigation){var n=e.toDate,r=e.pagedNavigation,i=e.numberOfMonths,o=i===void 0?1:i,s=r?o:1,a=Pn(t);if(!n)return vr(a,s);var l=uu(n,t);if(!(l<o))return vr(a,s)}}function WK(t,e){if(!e.disableNavigation){var n=e.fromDate,r=e.pagedNavigation,i=e.numberOfMonths,o=i===void 0?1:i,s=r?o:1,a=Pn(t);if(!n)return vr(a,-s);var l=uu(a,n);if(!(l<=0))return vr(a,-s)}}var TN=m.createContext(void 0);function zK(t){var e=Ze(),n=$K(),r=n[0],i=n[1],o=UK(r,e),s=BK(r,e),a=WK(r,e),l=function(f){return o.some(function(h){return T1(f,h)})},c=function(f,h){l(f)||(h&&tN(f,h)?i(vr(f,1+e.numberOfMonths*-1)):i(f))},u={currentMonth:r,displayMonths:o,goToMonth:i,goToDate:c,previousMonth:a,nextMonth:s,isDateDisplayed:l};return p.jsx(TN.Provider,{value:u,children:t.children})}function Fu(){var t=m.useContext(TN);if(!t)throw new Error("useNavigation must be used within a NavigationProvider");return t}function xC(t){var e,n=Ze(),r=n.classNames,i=n.styles,o=n.components,s=Fu().goToMonth,a=function(u){s(vr(u,t.displayIndex?-t.displayIndex:0))},l=(e=o==null?void 0:o.CaptionLabel)!==null&&e!==void 0?e:EN,c=p.jsx(l,{id:t.id,displayMonth:t.displayMonth});return p.jsxs("div",{className:r.caption_dropdowns,style:i.caption_dropdowns,children:[p.jsx("div",{className:r.vhidden,children:c}),p.jsx(LK,{onChange:a,displayMonth:t.displayMonth}),p.jsx(VK,{onChange:a,displayMonth:t.displayMonth})]})}function HK(t){return p.jsx("svg",ye({width:"16px",height:"16px",viewBox:"0 0 120 120"},t,{children:p.jsx("path",{d:"M69.490332,3.34314575 C72.6145263,0.218951416 77.6798462,0.218951416 80.8040405,3.34314575 C83.8617626,6.40086786 83.9268205,11.3179931 80.9992143,14.4548388 L80.8040405,14.6568542 L35.461,60 L80.8040405,105.343146 C83.8617626,108.400868 83.9268205,113.317993 80.9992143,116.454839 L80.8040405,116.656854 C77.7463184,119.714576 72.8291931,119.779634 69.6923475,116.852028 L69.490332,116.656854 L18.490332,65.6568542 C15.4326099,62.5991321 15.367552,57.6820069 18.2951583,54.5451612 L18.490332,54.3431458 L69.490332,3.34314575 Z",fill:"currentColor",fillRule:"nonzero"})}))}function qK(t){return p.jsx("svg",ye({width:"16px",height:"16px",viewBox:"0 0 120 120"},t,{children:p.jsx("path",{d:"M49.8040405,3.34314575 C46.6798462,0.218951416 41.6145263,0.218951416 38.490332,3.34314575 C35.4326099,6.40086786 35.367552,11.3179931 38.2951583,14.4548388 L38.490332,14.6568542 L83.8333725,60 L38.490332,105.343146 C35.4326099,108.400868 35.367552,113.317993 38.2951583,116.454839 L38.490332,116.656854 C41.5480541,119.714576 46.4651794,119.779634 49.602025,116.852028 L49.8040405,116.656854 L100.804041,65.6568542 C103.861763,62.5991321 103.926821,57.6820069 100.999214,54.5451612 L100.804041,54.3431458 L49.8040405,3.34314575 Z",fill:"currentColor"})}))}var Ah=m.forwardRef(function(t,e){var n=Ze(),r=n.classNames,i=n.styles,o=[r.button_reset,r.button];t.className&&o.push(t.className);var s=o.join(" "),a=ye(ye({},i.button_reset),i.button);return t.style&&Object.assign(a,t.style),p.jsx("button",ye({},t,{ref:e,type:"button",className:s,style:a}))});function GK(t){var e,n,r=Ze(),i=r.dir,o=r.locale,s=r.classNames,a=r.styles,l=r.labels,c=l.labelPrevious,u=l.labelNext,f=r.components;if(!t.nextMonth&&!t.previousMonth)return p.jsx(p.Fragment,{});var h=c(t.previousMonth,{locale:o}),g=[s.nav_button,s.nav_button_previous].join(" "),w=u(t.nextMonth,{locale:o}),v=[s.nav_button,s.nav_button_next].join(" "),E=(e=f==null?void 0:f.IconRight)!==null&&e!==void 0?e:qK,x=(n=f==null?void 0:f.IconLeft)!==null&&n!==void 0?n:HK;return p.jsxs("div",{className:s.nav,style:a.nav,children:[!t.hidePrevious&&p.jsx(Ah,{name:"previous-month","aria-label":h,className:g,style:a.nav_button_previous,disabled:!t.previousMonth,onClick:t.onPreviousClick,children:i==="rtl"?p.jsx(E,{className:s.nav_icon,style:a.nav_icon}):p.jsx(x,{className:s.nav_icon,style:a.nav_icon})}),!t.hideNext&&p.jsx(Ah,{name:"next-month","aria-label":w,className:v,style:a.nav_button_next,disabled:!t.nextMonth,onClick:t.onNextClick,children:i==="rtl"?p.jsx(x,{className:s.nav_icon,style:a.nav_icon}):p.jsx(E,{className:s.nav_icon,style:a.nav_icon})})]})}function EC(t){var e=Ze().numberOfMonths,n=Fu(),r=n.previousMonth,i=n.nextMonth,o=n.goToMonth,s=n.displayMonths,a=s.findIndex(function(w){return T1(t.displayMonth,w)}),l=a===0,c=a===s.length-1,u=e>1&&(l||!c),f=e>1&&(c||!l),h=function(){r&&o(r)},g=function(){i&&o(i)};return p.jsx(GK,{displayMonth:t.displayMonth,hideNext:u,hidePrevious:f,nextMonth:i,previousMonth:r,onPreviousClick:h,onNextClick:g})}function YK(t){var e,n=Ze(),r=n.classNames,i=n.disableNavigation,o=n.styles,s=n.captionLayout,a=n.components,l=(e=a==null?void 0:a.CaptionLabel)!==null&&e!==void 0?e:EN,c;return i?c=p.jsx(l,{id:t.id,displayMonth:t.displayMonth}):s==="dropdown"?c=p.jsx(xC,{displayMonth:t.displayMonth,id:t.id}):s==="dropdown-buttons"?c=p.jsxs(p.Fragment,{children:[p.jsx(xC,{displayMonth:t.displayMonth,displayIndex:t.displayIndex,id:t.id}),p.jsx(EC,{displayMonth:t.displayMonth,displayIndex:t.displayIndex,id:t.id})]}):c=p.jsxs(p.Fragment,{children:[p.jsx(l,{id:t.id,displayMonth:t.displayMonth,displayIndex:t.displayIndex}),p.jsx(EC,{displayMonth:t.displayMonth,id:t.id})]}),p.jsx("div",{className:r.caption,style:o.caption,children:c})}function KK(t){var e=Ze(),n=e.footer,r=e.styles,i=e.classNames.tfoot;return n?p.jsx("tfoot",{className:i,style:r.tfoot,children:p.jsx("tr",{children:p.jsx("td",{colSpan:8,children:n})})}):p.jsx(p.Fragment,{})}function QK(t,e,n){for(var r=n?Ts(new Date):Hr(new Date,{locale:t,weekStartsOn:e}),i=[],o=0;o<7;o++){var s=Rt(r,o);i.push(s)}return i}function XK(){var t=Ze(),e=t.classNames,n=t.styles,r=t.showWeekNumber,i=t.locale,o=t.weekStartsOn,s=t.ISOWeek,a=t.formatters.formatWeekdayName,l=t.labels.labelWeekday,c=QK(i,o,s);return p.jsxs("tr",{style:n.head_row,className:e.head_row,children:[r&&p.jsx("td",{style:n.head_cell,className:e.head_cell}),c.map(function(u,f){return p.jsx("th",{scope:"col",className:e.head_cell,style:n.head_cell,"aria-label":l(u,{locale:i}),children:a(u,{locale:i})},f)})]})}function JK(){var t,e=Ze(),n=e.classNames,r=e.styles,i=e.components,o=(t=i==null?void 0:i.HeadRow)!==null&&t!==void 0?t:XK;return p.jsx("thead",{style:r.head,className:n.head,children:p.jsx(o,{})})}function ZK(t){var e=Ze(),n=e.locale,r=e.formatters.formatDay;return p.jsx(p.Fragment,{children:r(t.date,{locale:n})})}var I1=m.createContext(void 0);function eQ(t){if(!Vu(t.initialProps)){var e={selected:void 0,modifiers:{disabled:[]}};return p.jsx(I1.Provider,{value:e,children:t.children})}return p.jsx(tQ,{initialProps:t.initialProps,children:t.children})}function tQ(t){var e=t.initialProps,n=t.children,r=e.selected,i=e.min,o=e.max,s=function(c,u,f){var h,g;(h=e.onDayClick)===null||h===void 0||h.call(e,c,u,f);var w=!!(u.selected&&i&&(r==null?void 0:r.length)===i);if(!w){var v=!!(!u.selected&&o&&(r==null?void 0:r.length)===o);if(!v){var E=r?_N([],r,!0):[];if(u.selected){var x=E.findIndex(function(y){return bn(c,y)});E.splice(x,1)}else E.push(c);(g=e.onSelect)===null||g===void 0||g.call(e,E,c,u,f)}}},a={disabled:[]};r&&a.disabled.push(function(c){var u=o&&r.length>o-1,f=r.some(function(h){return bn(h,c)});return!!(u&&!f)});var l={selected:r,onDayClick:s,modifiers:a};return p.jsx(I1.Provider,{value:l,children:n})}function A1(){var t=m.useContext(I1);if(!t)throw new Error("useSelectMultiple must be used within a SelectMultipleProvider");return t}function nQ(t,e){var n=e||{},r=n.from,i=n.to;return r&&i?bn(i,t)&&bn(r,t)?void 0:bn(i,t)?{from:i,to:void 0}:bn(r,t)?void 0:Sh(r,t)?{from:t,to:i}:{from:r,to:t}:i?Sh(t,i)?{from:i,to:t}:{from:t,to:i}:r?tN(t,r)?{from:t,to:r}:{from:r,to:t}:{from:t,to:void 0}}var k1=m.createContext(void 0);function rQ(t){if(!ju(t.initialProps)){var e={selected:void 0,modifiers:{range_start:[],range_end:[],range_middle:[],disabled:[]}};return p.jsx(k1.Provider,{value:e,children:t.children})}return p.jsx(iQ,{initialProps:t.initialProps,children:t.children})}function iQ(t){var e=t.initialProps,n=t.children,r=e.selected,i=r||{},o=i.from,s=i.to,a=e.min,l=e.max,c=function(g,w,v){var E,x;(E=e.onDayClick)===null||E===void 0||E.call(e,g,w,v);var y=nQ(g,r);(x=e.onSelect)===null||x===void 0||x.call(e,y,g,w,v)},u={range_start:[],range_end:[],range_middle:[],disabled:[]};if(o?(u.range_start=[o],s?(u.range_end=[s],bn(o,s)||(u.range_middle=[{after:o,before:s}])):u.range_end=[o]):s&&(u.range_start=[s],u.range_end=[s]),a&&(o&&!s&&u.disabled.push({after:Sg(o,a-1),before:Rt(o,a-1)}),o&&s&&u.disabled.push({after:o,before:Rt(o,a-1)}),!o&&s&&u.disabled.push({after:Sg(s,a-1),before:Rt(s,a-1)})),l){if(o&&!s&&(u.disabled.push({before:Rt(o,-l+1)}),u.disabled.push({after:Rt(o,l-1)})),o&&s){var f=Rr(s,o)+1,h=l-f;u.disabled.push({before:Sg(o,h)}),u.disabled.push({after:Rt(s,h)})}!o&&s&&(u.disabled.push({before:Rt(s,-l+1)}),u.disabled.push({after:Rt(s,l-1)}))}return p.jsx(k1.Provider,{value:{selected:r,onDayClick:c,modifiers:u},children:n})}function R1(){var t=m.useContext(k1);if(!t)throw new Error("useSelectRange must be used within a SelectRangeProvider");return t}function wf(t){return Array.isArray(t)?_N([],t,!0):t!==void 0?[t]:[]}function oQ(t){var e={};return Object.entries(t).forEach(function(n){var r=n[0],i=n[1];e[r]=wf(i)}),e}var yr;(function(t){t.Outside="outside",t.Disabled="disabled",t.Selected="selected",t.Hidden="hidden",t.Today="today",t.RangeStart="range_start",t.RangeEnd="range_end",t.RangeMiddle="range_middle"})(yr||(yr={}));var sQ=yr.Selected,ti=yr.Disabled,aQ=yr.Hidden,lQ=yr.Today,Rg=yr.RangeEnd,Ng=yr.RangeMiddle,Dg=yr.RangeStart,cQ=yr.Outside;function uQ(t,e,n){var r,i=(r={},r[sQ]=wf(t.selected),r[ti]=wf(t.disabled),r[aQ]=wf(t.hidden),r[lQ]=[t.today],r[Rg]=[],r[Ng]=[],r[Dg]=[],r[cQ]=[],r);return t.fromDate&&i[ti].push({before:t.fromDate}),t.toDate&&i[ti].push({after:t.toDate}),Vu(t)?i[ti]=i[ti].concat(e.modifiers[ti]):ju(t)&&(i[ti]=i[ti].concat(n.modifiers[ti]),i[Dg]=n.modifiers[Dg],i[Ng]=n.modifiers[Ng],i[Rg]=n.modifiers[Rg]),i}var CN=m.createContext(void 0);function dQ(t){var e=Ze(),n=A1(),r=R1(),i=uQ(e,n,r),o=oQ(e.modifiers),s=ye(ye({},i),o);return p.jsx(CN.Provider,{value:s,children:t.children})}function SN(){var t=m.useContext(CN);if(!t)throw new Error("useModifiers must be used within a ModifiersProvider");return t}function fQ(t){return!!(t&&typeof t=="object"&&"before"in t&&"after"in t)}function hQ(t){return!!(t&&typeof t=="object"&&"from"in t)}function pQ(t){return!!(t&&typeof t=="object"&&"after"in t)}function mQ(t){return!!(t&&typeof t=="object"&&"before"in t)}function gQ(t){return!!(t&&typeof t=="object"&&"dayOfWeek"in t)}function vQ(t,e){var n,r=e.from,i=e.to;if(r&&i){var o=Rr(i,r)<0;o&&(n=[i,r],r=n[0],i=n[1]);var s=Rr(t,r)>=0&&Rr(i,t)>=0;return s}return i?bn(i,t):r?bn(r,t):!1}function yQ(t){return v1(t)}function wQ(t){return Array.isArray(t)&&t.every(v1)}function _Q(t,e){return e.some(function(n){if(typeof n=="boolean")return n;if(yQ(n))return bn(t,n);if(wQ(n))return n.includes(t);if(hQ(n))return vQ(t,n);if(gQ(n))return n.dayOfWeek.includes(t.getDay());if(fQ(n)){var r=Rr(n.before,t),i=Rr(n.after,t),o=r>0,s=i<0,a=Sh(n.before,n.after);return a?s&&o:o||s}return pQ(n)?Rr(t,n.after)>0:mQ(n)?Rr(n.before,t)>0:typeof n=="function"?n(t):!1})}function N1(t,e,n){var r=Object.keys(e).reduce(function(o,s){var a=e[s];return _Q(t,a)&&o.push(s),o},[]),i={};return r.forEach(function(o){return i[o]=!0}),n&&!T1(t,n)&&(i.outside=!0),i}function xQ(t,e){for(var n=Pn(t[0]),r=y1(t[t.length-1]),i,o,s=n;s<=r;){var a=N1(s,e),l=!a.disabled&&!a.hidden;if(!l){s=Rt(s,1);continue}if(a.selected)return s;a.today&&!o&&(o=s),i||(i=s),s=Rt(s,1)}return o||i}var EQ=365;function PN(t,e){var n=e.moveBy,r=e.direction,i=e.context,o=e.modifiers,s=e.retry,a=s===void 0?{count:0,lastFocused:t}:s,l=i.weekStartsOn,c=i.fromDate,u=i.toDate,f=i.locale,h={day:Rt,week:$y,month:vr,year:PH,startOfWeek:function(E){return i.ISOWeek?Ts(E):Hr(E,{locale:f,weekStartsOn:l})},endOfWeek:function(E){return i.ISOWeek?q2(E):w1(E,{locale:f,weekStartsOn:l})}},g=h[n](t,r==="after"?1:-1);r==="before"&&c?g=IH([c,g]):r==="after"&&u&&(g=AH([u,g]));var w=!0;if(o){var v=N1(g,o);w=!v.disabled&&!v.hidden}return w?g:a.count>EQ?a.lastFocused:PN(g,{moveBy:n,direction:r,context:i,modifiers:o,retry:ye(ye({},a),{count:a.count+1})})}var IN=m.createContext(void 0);function bQ(t){var e=Fu(),n=SN(),r=m.useState(),i=r[0],o=r[1],s=m.useState(),a=s[0],l=s[1],c=xQ(e.displayMonths,n),u=i??(a&&e.isDateDisplayed(a))?a:c,f=function(){l(i),o(void 0)},h=function(E){o(E)},g=Ze(),w=function(E,x){if(i){var y=PN(i,{moveBy:E,direction:x,context:g,modifiers:n});bn(i,y)||(e.goToDate(y,i),h(y))}},v={focusedDay:i,focusTarget:u,blur:f,focus:h,focusDayAfter:function(){return w("day","after")},focusDayBefore:function(){return w("day","before")},focusWeekAfter:function(){return w("week","after")},focusWeekBefore:function(){return w("week","before")},focusMonthBefore:function(){return w("month","before")},focusMonthAfter:function(){return w("month","after")},focusYearBefore:function(){return w("year","before")},focusYearAfter:function(){return w("year","after")},focusStartOfWeek:function(){return w("startOfWeek","before")},focusEndOfWeek:function(){return w("endOfWeek","after")}};return p.jsx(IN.Provider,{value:v,children:t.children})}function D1(){var t=m.useContext(IN);if(!t)throw new Error("useFocusContext must be used within a FocusProvider");return t}function TQ(t,e){var n=SN(),r=N1(t,n,e);return r}var M1=m.createContext(void 0);function CQ(t){if(!Vp(t.initialProps)){var e={selected:void 0};return p.jsx(M1.Provider,{value:e,children:t.children})}return p.jsx(SQ,{initialProps:t.initialProps,children:t.children})}function SQ(t){var e=t.initialProps,n=t.children,r=function(o,s,a){var l,c,u;if((l=e.onDayClick)===null||l===void 0||l.call(e,o,s,a),s.selected&&!e.required){(c=e.onSelect)===null||c===void 0||c.call(e,void 0,o,s,a);return}(u=e.onSelect)===null||u===void 0||u.call(e,o,o,s,a)},i={selected:e.selected,onDayClick:r};return p.jsx(M1.Provider,{value:i,children:n})}function AN(){var t=m.useContext(M1);if(!t)throw new Error("useSelectSingle must be used within a SelectSingleProvider");return t}function PQ(t,e){var n=Ze(),r=AN(),i=A1(),o=R1(),s=D1(),a=s.focusDayAfter,l=s.focusDayBefore,c=s.focusWeekAfter,u=s.focusWeekBefore,f=s.blur,h=s.focus,g=s.focusMonthBefore,w=s.focusMonthAfter,v=s.focusYearBefore,E=s.focusYearAfter,x=s.focusStartOfWeek,y=s.focusEndOfWeek,b=function(z){var L,j,B,$;Vp(n)?(L=r.onDayClick)===null||L===void 0||L.call(r,t,e,z):Vu(n)?(j=i.onDayClick)===null||j===void 0||j.call(i,t,e,z):ju(n)?(B=o.onDayClick)===null||B===void 0||B.call(o,t,e,z):($=n.onDayClick)===null||$===void 0||$.call(n,t,e,z)},P=function(z){var L;h(t),(L=n.onDayFocus)===null||L===void 0||L.call(n,t,e,z)},N=function(z){var L;f(),(L=n.onDayBlur)===null||L===void 0||L.call(n,t,e,z)},M=function(z){var L;(L=n.onDayMouseEnter)===null||L===void 0||L.call(n,t,e,z)},S=function(z){var L;(L=n.onDayMouseLeave)===null||L===void 0||L.call(n,t,e,z)},C=function(z){var L;(L=n.onDayPointerEnter)===null||L===void 0||L.call(n,t,e,z)},I=function(z){var L;(L=n.onDayPointerLeave)===null||L===void 0||L.call(n,t,e,z)},A=function(z){var L;(L=n.onDayTouchCancel)===null||L===void 0||L.call(n,t,e,z)},D=function(z){var L;(L=n.onDayTouchEnd)===null||L===void 0||L.call(n,t,e,z)},O=function(z){var L;(L=n.onDayTouchMove)===null||L===void 0||L.call(n,t,e,z)},R=function(z){var L;(L=n.onDayTouchStart)===null||L===void 0||L.call(n,t,e,z)},F=function(z){var L;(L=n.onDayKeyUp)===null||L===void 0||L.call(n,t,e,z)},q=function(z){var L;switch(z.key){case"ArrowLeft":z.preventDefault(),z.stopPropagation(),n.dir==="rtl"?a():l();break;case"ArrowRight":z.preventDefault(),z.stopPropagation(),n.dir==="rtl"?l():a();break;case"ArrowDown":z.preventDefault(),z.stopPropagation(),c();break;case"ArrowUp":z.preventDefault(),z.stopPropagation(),u();break;case"PageUp":z.preventDefault(),z.stopPropagation(),z.shiftKey?v():g();break;case"PageDown":z.preventDefault(),z.stopPropagation(),z.shiftKey?E():w();break;case"Home":z.preventDefault(),z.stopPropagation(),x();break;case"End":z.preventDefault(),z.stopPropagation(),y();break}(L=n.onDayKeyDown)===null||L===void 0||L.call(n,t,e,z)},K={onClick:b,onFocus:P,onBlur:N,onKeyDown:q,onKeyUp:F,onMouseEnter:M,onMouseLeave:S,onPointerEnter:C,onPointerLeave:I,onTouchCancel:A,onTouchEnd:D,onTouchMove:O,onTouchStart:R};return K}function IQ(){var t=Ze(),e=AN(),n=A1(),r=R1(),i=Vp(t)?e.selected:Vu(t)?n.selected:ju(t)?r.selected:void 0;return i}function AQ(t){return Object.values(yr).includes(t)}function kQ(t,e){var n=[t.classNames.day];return Object.keys(e).forEach(function(r){var i=t.modifiersClassNames[r];if(i)n.push(i);else if(AQ(r)){var o=t.classNames["day_".concat(r)];o&&n.push(o)}}),n}function RQ(t,e){var n=ye({},t.styles.day);return Object.keys(e).forEach(function(r){var i;n=ye(ye({},n),(i=t.modifiersStyles)===null||i===void 0?void 0:i[r])}),n}function NQ(t,e,n){var r,i,o,s=Ze(),a=D1(),l=TQ(t,e),c=PQ(t,l),u=IQ(),f=!!(s.onDayClick||s.mode!=="default");m.useEffect(function(){var M;l.outside||a.focusedDay&&f&&bn(a.focusedDay,t)&&((M=n.current)===null||M===void 0||M.focus())},[a.focusedDay,t,n,f,l.outside]);var h=kQ(s,l).join(" "),g=RQ(s,l),w=!!(l.outside&&!s.showOutsideDays||l.hidden),v=(o=(i=s.components)===null||i===void 0?void 0:i.DayContent)!==null&&o!==void 0?o:ZK,E=p.jsx(v,{date:t,displayMonth:e,activeModifiers:l}),x={style:g,className:h,children:E,role:"gridcell"},y=a.focusTarget&&bn(a.focusTarget,t)&&!l.outside,b=a.focusedDay&&bn(a.focusedDay,t),P=ye(ye(ye({},x),(r={disabled:l.disabled,role:"gridcell"},r["aria-selected"]=l.selected,r.tabIndex=b||y?0:-1,r)),c),N={isButton:f,isHidden:w,activeModifiers:l,selectedDays:u,buttonProps:P,divProps:x};return N}function DQ(t){var e=m.useRef(null),n=NQ(t.date,t.displayMonth,e);return n.isHidden?p.jsx("div",{role:"gridcell"}):n.isButton?p.jsx(Ah,ye({name:"day",ref:e},n.buttonProps)):p.jsx("div",ye({},n.divProps))}function MQ(t){var e=t.number,n=t.dates,r=Ze(),i=r.onWeekNumberClick,o=r.styles,s=r.classNames,a=r.locale,l=r.labels.labelWeekNumber,c=r.formatters.formatWeekNumber,u=c(Number(e),{locale:a});if(!i)return p.jsx("span",{className:s.weeknumber,style:o.weeknumber,children:u});var f=l(Number(e),{locale:a}),h=function(g){i(e,n,g)};return p.jsx(Ah,{name:"week-number","aria-label":f,className:s.weeknumber,style:o.weeknumber,onClick:h,children:u})}function OQ(t){var e,n,r=Ze(),i=r.styles,o=r.classNames,s=r.showWeekNumber,a=r.components,l=(e=a==null?void 0:a.Day)!==null&&e!==void 0?e:DQ,c=(n=a==null?void 0:a.WeekNumber)!==null&&n!==void 0?n:MQ,u;return s&&(u=p.jsx("td",{className:o.cell,style:i.cell,children:p.jsx(c,{number:t.weekNumber,dates:t.dates})})),p.jsxs("tr",{className:o.row,style:i.row,children:[u,t.dates.map(function(f){return p.jsx("td",{className:o.cell,style:i.cell,role:"presentation",children:p.jsx(l,{displayMonth:t.displayMonth,date:f})},Wq(f))})]})}function bC(t,e,n){for(var r=n!=null&&n.ISOWeek?q2(e):w1(e,n),i=n!=null&&n.ISOWeek?Ts(t):Hr(t,n),o=Rr(r,i),s=[],a=0;a<=o;a++)s.push(Rt(i,a));var l=s.reduce(function(c,u){var f=n!=null&&n.ISOWeek?Uq(u):Gq(u,n),h=c.find(function(g){return g.weekNumber===f});return h?(h.dates.push(u),c):(c.push({weekNumber:f,dates:[u]}),c)},[]);return l}function LQ(t,e){var n=bC(Pn(t),y1(t),e);if(e!=null&&e.useFixedWeeks){var r=Kq(t,e);if(r<6){var i=n[n.length-1],o=i.dates[i.dates.length-1],s=$y(o,6-r),a=bC($y(o,1),s,e);n.push.apply(n,a)}}return n}function VQ(t){var e,n,r,i=Ze(),o=i.locale,s=i.classNames,a=i.styles,l=i.hideHead,c=i.fixedWeeks,u=i.components,f=i.weekStartsOn,h=i.firstWeekContainsDate,g=i.ISOWeek,w=LQ(t.displayMonth,{useFixedWeeks:!!c,ISOWeek:g,locale:o,weekStartsOn:f,firstWeekContainsDate:h}),v=(e=u==null?void 0:u.Head)!==null&&e!==void 0?e:JK,E=(n=u==null?void 0:u.Row)!==null&&n!==void 0?n:OQ,x=(r=u==null?void 0:u.Footer)!==null&&r!==void 0?r:KK;return p.jsxs("table",{id:t.id,className:s.table,style:a.table,role:"grid","aria-labelledby":t["aria-labelledby"],children:[!l&&p.jsx(v,{}),p.jsx("tbody",{className:s.tbody,style:a.tbody,children:w.map(function(y){return p.jsx(E,{displayMonth:t.displayMonth,dates:y.dates,weekNumber:y.weekNumber},y.weekNumber)})}),p.jsx(x,{displayMonth:t.displayMonth})]})}function jQ(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}var FQ=jQ()?m.useLayoutEffect:m.useEffect,Mg=!1,$Q=0;function TC(){return"react-day-picker-".concat(++$Q)}function UQ(t){var e,n=t??(Mg?TC():null),r=m.useState(n),i=r[0],o=r[1];return FQ(function(){i===null&&o(TC())},[]),m.useEffect(function(){Mg===!1&&(Mg=!0)},[]),(e=t??i)!==null&&e!==void 0?e:void 0}function BQ(t){var e,n,r=Ze(),i=r.dir,o=r.classNames,s=r.styles,a=r.components,l=Fu().displayMonths,c=UQ(r.id?"".concat(r.id,"-").concat(t.displayIndex):void 0),u=r.id?"".concat(r.id,"-grid-").concat(t.displayIndex):void 0,f=[o.month],h=s.month,g=t.displayIndex===0,w=t.displayIndex===l.length-1,v=!g&&!w;i==="rtl"&&(e=[g,w],w=e[0],g=e[1]),g&&(f.push(o.caption_start),h=ye(ye({},h),s.caption_start)),w&&(f.push(o.caption_end),h=ye(ye({},h),s.caption_end)),v&&(f.push(o.caption_between),h=ye(ye({},h),s.caption_between));var E=(n=a==null?void 0:a.Caption)!==null&&n!==void 0?n:YK;return p.jsxs("div",{className:f.join(" "),style:h,children:[p.jsx(E,{id:c,displayMonth:t.displayMonth,displayIndex:t.displayIndex}),p.jsx(VQ,{id:u,"aria-labelledby":c,displayMonth:t.displayMonth})]},t.displayIndex)}function WQ(t){var e=Ze(),n=e.classNames,r=e.styles;return p.jsx("div",{className:n.months,style:r.months,children:t.children})}function zQ(t){var e,n,r=t.initialProps,i=Ze(),o=D1(),s=Fu(),a=m.useState(!1),l=a[0],c=a[1];m.useEffect(function(){i.initialFocus&&o.focusTarget&&(l||(o.focus(o.focusTarget),c(!0)))},[i.initialFocus,l,o.focus,o.focusTarget,o]);var u=[i.classNames.root,i.className];i.numberOfMonths>1&&u.push(i.classNames.multiple_months),i.showWeekNumber&&u.push(i.classNames.with_weeknumber);var f=ye(ye({},i.styles.root),i.style),h=Object.keys(r).filter(function(w){return w.startsWith("data-")}).reduce(function(w,v){var E;return ye(ye({},w),(E={},E[v]=r[v],E))},{}),g=(n=(e=r.components)===null||e===void 0?void 0:e.Months)!==null&&n!==void 0?n:WQ;return p.jsx("div",ye({className:u.join(" "),style:f,dir:i.dir,id:i.id,nonce:r.nonce,title:r.title,lang:r.lang},h,{children:p.jsx(g,{children:s.displayMonths.map(function(w,v){return p.jsx(BQ,{displayIndex:v,displayMonth:w},v)})})}))}function HQ(t){var e=t.children,n=mK(t,["children"]);return p.jsx(MK,{initialProps:n,children:p.jsx(zK,{children:p.jsx(CQ,{initialProps:n,children:p.jsx(eQ,{initialProps:n,children:p.jsx(rQ,{initialProps:n,children:p.jsx(dQ,{children:p.jsx(bQ,{children:e})})})})})})})}function qQ(t){return p.jsx(HQ,ye({},t,{children:p.jsx(zQ,{initialProps:t})}))}function kN({className:t,classNames:e,showOutsideDays:n=!0,...r}){return p.jsx(qQ,{showOutsideDays:n,className:Ne("p-3",t),classNames:{months:"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0",month:"space-y-4",caption:"flex justify-center pt-1 relative items-center",caption_label:"text-sm font-medium",nav:"space-x-1 flex items-center",nav_button:Ne(by({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-y-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:"h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20",day:Ne(by({variant:"ghost"}),"h-9 w-9 p-0 font-normal aria-selected:opacity-100"),day_selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",day_today:"bg-accent text-accent-foreground",day_outside:"text-muted-foreground opacity-50",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible",...e},components:{IconLeft:({...i})=>p.jsx(eH,{className:"h-4 w-4"}),IconRight:({...i})=>p.jsx(tH,{className:"h-4 w-4"})},...r})}kN.displayName="Calendar";function Ht(t){const e=m.useRef(t);return m.useEffect(()=>{e.current=t}),m.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function GQ(t,e=globalThis==null?void 0:globalThis.document){const n=Ht(t);m.useEffect(()=>{const r=i=>{i.key==="Escape"&&n(i)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var YQ="DismissableLayer",Wy="dismissableLayer.update",KQ="dismissableLayer.pointerDownOutside",QQ="dismissableLayer.focusOutside",CC,RN=m.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),jp=m.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:o,onInteractOutside:s,onDismiss:a,...l}=t,c=m.useContext(RN),[u,f]=m.useState(null),h=(u==null?void 0:u.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,g]=m.useState({}),w=lt(e,S=>f(S)),v=Array.from(c.layers),[E]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),x=v.indexOf(E),y=u?v.indexOf(u):-1,b=c.layersWithOutsidePointerEventsDisabled.size>0,P=y>=x,N=JQ(S=>{const C=S.target,I=[...c.branches].some(A=>A.contains(C));!P||I||(i==null||i(S),s==null||s(S),S.defaultPrevented||a==null||a())},h),M=ZQ(S=>{const C=S.target;[...c.branches].some(A=>A.contains(C))||(o==null||o(S),s==null||s(S),S.defaultPrevented||a==null||a())},h);return GQ(S=>{y===c.layers.size-1&&(r==null||r(S),!S.defaultPrevented&&a&&(S.preventDefault(),a()))},h),m.useEffect(()=>{if(u)return n&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(CC=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(u)),c.layers.add(u),SC(),()=>{n&&c.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=CC)}},[u,h,n,c]),m.useEffect(()=>()=>{u&&(c.layers.delete(u),c.layersWithOutsidePointerEventsDisabled.delete(u),SC())},[u,c]),m.useEffect(()=>{const S=()=>g({});return document.addEventListener(Wy,S),()=>document.removeEventListener(Wy,S)},[]),p.jsx(ze.div,{...l,ref:w,style:{pointerEvents:b?P?"auto":"none":void 0,...t.style},onFocusCapture:Ue(t.onFocusCapture,M.onFocusCapture),onBlurCapture:Ue(t.onBlurCapture,M.onBlurCapture),onPointerDownCapture:Ue(t.onPointerDownCapture,N.onPointerDownCapture)})});jp.displayName=YQ;var XQ="DismissableLayerBranch",NN=m.forwardRef((t,e)=>{const n=m.useContext(RN),r=m.useRef(null),i=lt(e,r);return m.useEffect(()=>{const o=r.current;if(o)return n.branches.add(o),()=>{n.branches.delete(o)}},[n.branches]),p.jsx(ze.div,{...t,ref:i})});NN.displayName=XQ;function JQ(t,e=globalThis==null?void 0:globalThis.document){const n=Ht(t),r=m.useRef(!1),i=m.useRef(()=>{});return m.useEffect(()=>{const o=a=>{if(a.target&&!r.current){let l=function(){DN(KQ,n,c,{discrete:!0})};const c={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=l,e.addEventListener("click",i.current,{once:!0})):l()}else e.removeEventListener("click",i.current);r.current=!1},s=window.setTimeout(()=>{e.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(s),e.removeEventListener("pointerdown",o),e.removeEventListener("click",i.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function ZQ(t,e=globalThis==null?void 0:globalThis.document){const n=Ht(t),r=m.useRef(!1);return m.useEffect(()=>{const i=o=>{o.target&&!r.current&&DN(QQ,n,{originalEvent:o},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function SC(){const t=new CustomEvent(Wy);document.dispatchEvent(t)}function DN(t,e,n,{discrete:r}){const i=n.originalEvent.target,o=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&i.addEventListener(t,e,{once:!0}),r?wR(i,o):i.dispatchEvent(o)}var eX=jp,tX=NN,Og=0;function MN(){m.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??PC()),document.body.insertAdjacentElement("beforeend",t[1]??PC()),Og++,()=>{Og===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),Og--}},[])}function PC(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var Lg="focusScope.autoFocusOnMount",Vg="focusScope.autoFocusOnUnmount",IC={bubbles:!1,cancelable:!0},nX="FocusScope",O1=m.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:i,onUnmountAutoFocus:o,...s}=t,[a,l]=m.useState(null),c=Ht(i),u=Ht(o),f=m.useRef(null),h=lt(e,v=>l(v)),g=m.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;m.useEffect(()=>{if(r){let v=function(b){if(g.paused||!a)return;const P=b.target;a.contains(P)?f.current=P:Wi(f.current,{select:!0})},E=function(b){if(g.paused||!a)return;const P=b.relatedTarget;P!==null&&(a.contains(P)||Wi(f.current,{select:!0}))},x=function(b){if(document.activeElement===document.body)for(const N of b)N.removedNodes.length>0&&Wi(a)};document.addEventListener("focusin",v),document.addEventListener("focusout",E);const y=new MutationObserver(x);return a&&y.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",v),document.removeEventListener("focusout",E),y.disconnect()}}},[r,a,g.paused]),m.useEffect(()=>{if(a){kC.add(g);const v=document.activeElement;if(!a.contains(v)){const x=new CustomEvent(Lg,IC);a.addEventListener(Lg,c),a.dispatchEvent(x),x.defaultPrevented||(rX(lX(ON(a)),{select:!0}),document.activeElement===v&&Wi(a))}return()=>{a.removeEventListener(Lg,c),setTimeout(()=>{const x=new CustomEvent(Vg,IC);a.addEventListener(Vg,u),a.dispatchEvent(x),x.defaultPrevented||Wi(v??document.body,{select:!0}),a.removeEventListener(Vg,u),kC.remove(g)},0)}}},[a,c,u,g]);const w=m.useCallback(v=>{if(!n&&!r||g.paused)return;const E=v.key==="Tab"&&!v.altKey&&!v.ctrlKey&&!v.metaKey,x=document.activeElement;if(E&&x){const y=v.currentTarget,[b,P]=iX(y);b&&P?!v.shiftKey&&x===P?(v.preventDefault(),n&&Wi(b,{select:!0})):v.shiftKey&&x===b&&(v.preventDefault(),n&&Wi(P,{select:!0})):x===y&&v.preventDefault()}},[n,r,g.paused]);return p.jsx(ze.div,{tabIndex:-1,...s,ref:h,onKeyDown:w})});O1.displayName=nX;function rX(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(Wi(r,{select:e}),document.activeElement!==n)return}function iX(t){const e=ON(t),n=AC(e,t),r=AC(e.reverse(),t);return[n,r]}function ON(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function AC(t,e){for(const n of t)if(!oX(n,{upTo:e}))return n}function oX(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function sX(t){return t instanceof HTMLInputElement&&"select"in t}function Wi(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&sX(t)&&e&&t.select()}}var kC=aX();function aX(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=RC(t,e),t.unshift(e)},remove(e){var n;t=RC(t,e),(n=t[0])==null||n.resume()}}}function RC(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function lX(t){return t.filter(e=>e.tagName!=="A")}var cX=$h[" useId ".trim().toString()]||(()=>{}),uX=0;function _f(t){const[e,n]=m.useState(cX());return qr(()=>{t||n(r=>r??String(uX++))},[t]),t||(e?`radix-${e}`:"")}const dX=["top","right","bottom","left"],Do=Math.min,Nn=Math.max,kh=Math.round,Ld=Math.floor,Br=t=>({x:t,y:t}),fX={left:"right",right:"left",bottom:"top",top:"bottom"},hX={start:"end",end:"start"};function zy(t,e,n){return Nn(t,Do(e,n))}function Si(t,e){return typeof t=="function"?t(e):t}function Pi(t){return t.split("-")[0]}function El(t){return t.split("-")[1]}function L1(t){return t==="x"?"y":"x"}function V1(t){return t==="y"?"height":"width"}function pi(t){return["top","bottom"].includes(Pi(t))?"y":"x"}function j1(t){return L1(pi(t))}function pX(t,e,n){n===void 0&&(n=!1);const r=El(t),i=j1(t),o=V1(i);let s=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[o]>e.floating[o]&&(s=Rh(s)),[s,Rh(s)]}function mX(t){const e=Rh(t);return[Hy(t),e,Hy(e)]}function Hy(t){return t.replace(/start|end/g,e=>hX[e])}function gX(t,e,n){const r=["left","right"],i=["right","left"],o=["top","bottom"],s=["bottom","top"];switch(t){case"top":case"bottom":return n?e?i:r:e?r:i;case"left":case"right":return e?o:s;default:return[]}}function vX(t,e,n,r){const i=El(t);let o=gX(Pi(t),n==="start",r);return i&&(o=o.map(s=>s+"-"+i),e&&(o=o.concat(o.map(Hy)))),o}function Rh(t){return t.replace(/left|right|bottom|top/g,e=>fX[e])}function yX(t){return{top:0,right:0,bottom:0,left:0,...t}}function LN(t){return typeof t!="number"?yX(t):{top:t,right:t,bottom:t,left:t}}function Nh(t){const{x:e,y:n,width:r,height:i}=t;return{width:r,height:i,top:n,left:e,right:e+r,bottom:n+i,x:e,y:n}}function NC(t,e,n){let{reference:r,floating:i}=t;const o=pi(e),s=j1(e),a=V1(s),l=Pi(e),c=o==="y",u=r.x+r.width/2-i.width/2,f=r.y+r.height/2-i.height/2,h=r[a]/2-i[a]/2;let g;switch(l){case"top":g={x:u,y:r.y-i.height};break;case"bottom":g={x:u,y:r.y+r.height};break;case"right":g={x:r.x+r.width,y:f};break;case"left":g={x:r.x-i.width,y:f};break;default:g={x:r.x,y:r.y}}switch(El(e)){case"start":g[s]-=h*(n&&c?-1:1);break;case"end":g[s]+=h*(n&&c?-1:1);break}return g}const wX=async(t,e,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:o=[],platform:s}=n,a=o.filter(Boolean),l=await(s.isRTL==null?void 0:s.isRTL(e));let c=await s.getElementRects({reference:t,floating:e,strategy:i}),{x:u,y:f}=NC(c,r,l),h=r,g={},w=0;for(let v=0;v<a.length;v++){const{name:E,fn:x}=a[v],{x:y,y:b,data:P,reset:N}=await x({x:u,y:f,initialPlacement:r,placement:h,strategy:i,middlewareData:g,rects:c,platform:s,elements:{reference:t,floating:e}});u=y??u,f=b??f,g={...g,[E]:{...g[E],...P}},N&&w<=50&&(w++,typeof N=="object"&&(N.placement&&(h=N.placement),N.rects&&(c=N.rects===!0?await s.getElementRects({reference:t,floating:e,strategy:i}):N.rects),{x:u,y:f}=NC(c,h,l)),v=-1)}return{x:u,y:f,placement:h,strategy:i,middlewareData:g}};async function du(t,e){var n;e===void 0&&(e={});const{x:r,y:i,platform:o,rects:s,elements:a,strategy:l}=t,{boundary:c="clippingAncestors",rootBoundary:u="viewport",elementContext:f="floating",altBoundary:h=!1,padding:g=0}=Si(e,t),w=LN(g),E=a[h?f==="floating"?"reference":"floating":f],x=Nh(await o.getClippingRect({element:(n=await(o.isElement==null?void 0:o.isElement(E)))==null||n?E:E.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(a.floating)),boundary:c,rootBoundary:u,strategy:l})),y=f==="floating"?{x:r,y:i,width:s.floating.width,height:s.floating.height}:s.reference,b=await(o.getOffsetParent==null?void 0:o.getOffsetParent(a.floating)),P=await(o.isElement==null?void 0:o.isElement(b))?await(o.getScale==null?void 0:o.getScale(b))||{x:1,y:1}:{x:1,y:1},N=Nh(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:y,offsetParent:b,strategy:l}):y);return{top:(x.top-N.top+w.top)/P.y,bottom:(N.bottom-x.bottom+w.bottom)/P.y,left:(x.left-N.left+w.left)/P.x,right:(N.right-x.right+w.right)/P.x}}const _X=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:i,rects:o,platform:s,elements:a,middlewareData:l}=e,{element:c,padding:u=0}=Si(t,e)||{};if(c==null)return{};const f=LN(u),h={x:n,y:r},g=j1(i),w=V1(g),v=await s.getDimensions(c),E=g==="y",x=E?"top":"left",y=E?"bottom":"right",b=E?"clientHeight":"clientWidth",P=o.reference[w]+o.reference[g]-h[g]-o.floating[w],N=h[g]-o.reference[g],M=await(s.getOffsetParent==null?void 0:s.getOffsetParent(c));let S=M?M[b]:0;(!S||!await(s.isElement==null?void 0:s.isElement(M)))&&(S=a.floating[b]||o.floating[w]);const C=P/2-N/2,I=S/2-v[w]/2-1,A=Do(f[x],I),D=Do(f[y],I),O=A,R=S-v[w]-D,F=S/2-v[w]/2+C,q=zy(O,F,R),K=!l.arrow&&El(i)!=null&&F!==q&&o.reference[w]/2-(F<O?A:D)-v[w]/2<0,z=K?F<O?F-O:F-R:0;return{[g]:h[g]+z,data:{[g]:q,centerOffset:F-q-z,...K&&{alignmentOffset:z}},reset:K}}}),xX=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:i,middlewareData:o,rects:s,initialPlacement:a,platform:l,elements:c}=e,{mainAxis:u=!0,crossAxis:f=!0,fallbackPlacements:h,fallbackStrategy:g="bestFit",fallbackAxisSideDirection:w="none",flipAlignment:v=!0,...E}=Si(t,e);if((n=o.arrow)!=null&&n.alignmentOffset)return{};const x=Pi(i),y=pi(a),b=Pi(a)===a,P=await(l.isRTL==null?void 0:l.isRTL(c.floating)),N=h||(b||!v?[Rh(a)]:mX(a)),M=w!=="none";!h&&M&&N.push(...vX(a,v,w,P));const S=[a,...N],C=await du(e,E),I=[];let A=((r=o.flip)==null?void 0:r.overflows)||[];if(u&&I.push(C[x]),f){const q=pX(i,s,P);I.push(C[q[0]],C[q[1]])}if(A=[...A,{placement:i,overflows:I}],!I.every(q=>q<=0)){var D,O;const q=(((D=o.flip)==null?void 0:D.index)||0)+1,K=S[q];if(K){var R;const L=f==="alignment"?y!==pi(K):!1,j=((R=A[0])==null?void 0:R.overflows[0])>0;if(!L||j)return{data:{index:q,overflows:A},reset:{placement:K}}}let z=(O=A.filter(L=>L.overflows[0]<=0).sort((L,j)=>L.overflows[1]-j.overflows[1])[0])==null?void 0:O.placement;if(!z)switch(g){case"bestFit":{var F;const L=(F=A.filter(j=>{if(M){const B=pi(j.placement);return B===y||B==="y"}return!0}).map(j=>[j.placement,j.overflows.filter(B=>B>0).reduce((B,$)=>B+$,0)]).sort((j,B)=>j[1]-B[1])[0])==null?void 0:F[0];L&&(z=L);break}case"initialPlacement":z=a;break}if(i!==z)return{reset:{placement:z}}}return{}}}};function DC(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function MC(t){return dX.some(e=>t[e]>=0)}const EX=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...i}=Si(t,e);switch(r){case"referenceHidden":{const o=await du(e,{...i,elementContext:"reference"}),s=DC(o,n.reference);return{data:{referenceHiddenOffsets:s,referenceHidden:MC(s)}}}case"escaped":{const o=await du(e,{...i,altBoundary:!0}),s=DC(o,n.floating);return{data:{escapedOffsets:s,escaped:MC(s)}}}default:return{}}}}};async function bX(t,e){const{placement:n,platform:r,elements:i}=t,o=await(r.isRTL==null?void 0:r.isRTL(i.floating)),s=Pi(n),a=El(n),l=pi(n)==="y",c=["left","top"].includes(s)?-1:1,u=o&&l?-1:1,f=Si(e,t);let{mainAxis:h,crossAxis:g,alignmentAxis:w}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return a&&typeof w=="number"&&(g=a==="end"?w*-1:w),l?{x:g*u,y:h*c}:{x:h*c,y:g*u}}const TX=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:i,y:o,placement:s,middlewareData:a}=e,l=await bX(e,t);return s===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:i+l.x,y:o+l.y,data:{...l,placement:s}}}}},CX=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:i}=e,{mainAxis:o=!0,crossAxis:s=!1,limiter:a={fn:E=>{let{x,y}=E;return{x,y}}},...l}=Si(t,e),c={x:n,y:r},u=await du(e,l),f=pi(Pi(i)),h=L1(f);let g=c[h],w=c[f];if(o){const E=h==="y"?"top":"left",x=h==="y"?"bottom":"right",y=g+u[E],b=g-u[x];g=zy(y,g,b)}if(s){const E=f==="y"?"top":"left",x=f==="y"?"bottom":"right",y=w+u[E],b=w-u[x];w=zy(y,w,b)}const v=a.fn({...e,[h]:g,[f]:w});return{...v,data:{x:v.x-n,y:v.y-r,enabled:{[h]:o,[f]:s}}}}}},SX=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:i,rects:o,middlewareData:s}=e,{offset:a=0,mainAxis:l=!0,crossAxis:c=!0}=Si(t,e),u={x:n,y:r},f=pi(i),h=L1(f);let g=u[h],w=u[f];const v=Si(a,e),E=typeof v=="number"?{mainAxis:v,crossAxis:0}:{mainAxis:0,crossAxis:0,...v};if(l){const b=h==="y"?"height":"width",P=o.reference[h]-o.floating[b]+E.mainAxis,N=o.reference[h]+o.reference[b]-E.mainAxis;g<P?g=P:g>N&&(g=N)}if(c){var x,y;const b=h==="y"?"width":"height",P=["top","left"].includes(Pi(i)),N=o.reference[f]-o.floating[b]+(P&&((x=s.offset)==null?void 0:x[f])||0)+(P?0:E.crossAxis),M=o.reference[f]+o.reference[b]+(P?0:((y=s.offset)==null?void 0:y[f])||0)-(P?E.crossAxis:0);w<N?w=N:w>M&&(w=M)}return{[h]:g,[f]:w}}}},PX=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:i,rects:o,platform:s,elements:a}=e,{apply:l=()=>{},...c}=Si(t,e),u=await du(e,c),f=Pi(i),h=El(i),g=pi(i)==="y",{width:w,height:v}=o.floating;let E,x;f==="top"||f==="bottom"?(E=f,x=h===(await(s.isRTL==null?void 0:s.isRTL(a.floating))?"start":"end")?"left":"right"):(x=f,E=h==="end"?"top":"bottom");const y=v-u.top-u.bottom,b=w-u.left-u.right,P=Do(v-u[E],y),N=Do(w-u[x],b),M=!e.middlewareData.shift;let S=P,C=N;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(C=b),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(S=y),M&&!h){const A=Nn(u.left,0),D=Nn(u.right,0),O=Nn(u.top,0),R=Nn(u.bottom,0);g?C=w-2*(A!==0||D!==0?A+D:Nn(u.left,u.right)):S=v-2*(O!==0||R!==0?O+R:Nn(u.top,u.bottom))}await l({...e,availableWidth:C,availableHeight:S});const I=await s.getDimensions(a.floating);return w!==I.width||v!==I.height?{reset:{rects:!0}}:{}}}};function Fp(){return typeof window<"u"}function bl(t){return VN(t)?(t.nodeName||"").toLowerCase():"#document"}function Vn(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Qr(t){var e;return(e=(VN(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function VN(t){return Fp()?t instanceof Node||t instanceof Vn(t).Node:!1}function wr(t){return Fp()?t instanceof Element||t instanceof Vn(t).Element:!1}function Gr(t){return Fp()?t instanceof HTMLElement||t instanceof Vn(t).HTMLElement:!1}function OC(t){return!Fp()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Vn(t).ShadowRoot}function $u(t){const{overflow:e,overflowX:n,overflowY:r,display:i}=_r(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!["inline","contents"].includes(i)}function IX(t){return["table","td","th"].includes(bl(t))}function $p(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function F1(t){const e=$1(),n=wr(t)?_r(t):t;return["transform","translate","scale","rotate","perspective"].some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function AX(t){let e=Mo(t);for(;Gr(e)&&!il(e);){if(F1(e))return e;if($p(e))return null;e=Mo(e)}return null}function $1(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function il(t){return["html","body","#document"].includes(bl(t))}function _r(t){return Vn(t).getComputedStyle(t)}function Up(t){return wr(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Mo(t){if(bl(t)==="html")return t;const e=t.assignedSlot||t.parentNode||OC(t)&&t.host||Qr(t);return OC(e)?e.host:e}function jN(t){const e=Mo(t);return il(e)?t.ownerDocument?t.ownerDocument.body:t.body:Gr(e)&&$u(e)?e:jN(e)}function fu(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const i=jN(t),o=i===((r=t.ownerDocument)==null?void 0:r.body),s=Vn(i);if(o){const a=qy(s);return e.concat(s,s.visualViewport||[],$u(i)?i:[],a&&n?fu(a):[])}return e.concat(i,fu(i,[],n))}function qy(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function FN(t){const e=_r(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=Gr(t),o=i?t.offsetWidth:n,s=i?t.offsetHeight:r,a=kh(n)!==o||kh(r)!==s;return a&&(n=o,r=s),{width:n,height:r,$:a}}function U1(t){return wr(t)?t:t.contextElement}function Ma(t){const e=U1(t);if(!Gr(e))return Br(1);const n=e.getBoundingClientRect(),{width:r,height:i,$:o}=FN(e);let s=(o?kh(n.width):n.width)/r,a=(o?kh(n.height):n.height)/i;return(!s||!Number.isFinite(s))&&(s=1),(!a||!Number.isFinite(a))&&(a=1),{x:s,y:a}}const kX=Br(0);function $N(t){const e=Vn(t);return!$1()||!e.visualViewport?kX:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function RX(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==Vn(t)?!1:e}function Ss(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const i=t.getBoundingClientRect(),o=U1(t);let s=Br(1);e&&(r?wr(r)&&(s=Ma(r)):s=Ma(t));const a=RX(o,n,r)?$N(o):Br(0);let l=(i.left+a.x)/s.x,c=(i.top+a.y)/s.y,u=i.width/s.x,f=i.height/s.y;if(o){const h=Vn(o),g=r&&wr(r)?Vn(r):r;let w=h,v=qy(w);for(;v&&r&&g!==w;){const E=Ma(v),x=v.getBoundingClientRect(),y=_r(v),b=x.left+(v.clientLeft+parseFloat(y.paddingLeft))*E.x,P=x.top+(v.clientTop+parseFloat(y.paddingTop))*E.y;l*=E.x,c*=E.y,u*=E.x,f*=E.y,l+=b,c+=P,w=Vn(v),v=qy(w)}}return Nh({width:u,height:f,x:l,y:c})}function B1(t,e){const n=Up(t).scrollLeft;return e?e.left+n:Ss(Qr(t)).left+n}function UN(t,e,n){n===void 0&&(n=!1);const r=t.getBoundingClientRect(),i=r.left+e.scrollLeft-(n?0:B1(t,r)),o=r.top+e.scrollTop;return{x:i,y:o}}function NX(t){let{elements:e,rect:n,offsetParent:r,strategy:i}=t;const o=i==="fixed",s=Qr(r),a=e?$p(e.floating):!1;if(r===s||a&&o)return n;let l={scrollLeft:0,scrollTop:0},c=Br(1);const u=Br(0),f=Gr(r);if((f||!f&&!o)&&((bl(r)!=="body"||$u(s))&&(l=Up(r)),Gr(r))){const g=Ss(r);c=Ma(r),u.x=g.x+r.clientLeft,u.y=g.y+r.clientTop}const h=s&&!f&&!o?UN(s,l,!0):Br(0);return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-l.scrollLeft*c.x+u.x+h.x,y:n.y*c.y-l.scrollTop*c.y+u.y+h.y}}function DX(t){return Array.from(t.getClientRects())}function MX(t){const e=Qr(t),n=Up(t),r=t.ownerDocument.body,i=Nn(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),o=Nn(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let s=-n.scrollLeft+B1(t);const a=-n.scrollTop;return _r(r).direction==="rtl"&&(s+=Nn(e.clientWidth,r.clientWidth)-i),{width:i,height:o,x:s,y:a}}function OX(t,e){const n=Vn(t),r=Qr(t),i=n.visualViewport;let o=r.clientWidth,s=r.clientHeight,a=0,l=0;if(i){o=i.width,s=i.height;const c=$1();(!c||c&&e==="fixed")&&(a=i.offsetLeft,l=i.offsetTop)}return{width:o,height:s,x:a,y:l}}function LX(t,e){const n=Ss(t,!0,e==="fixed"),r=n.top+t.clientTop,i=n.left+t.clientLeft,o=Gr(t)?Ma(t):Br(1),s=t.clientWidth*o.x,a=t.clientHeight*o.y,l=i*o.x,c=r*o.y;return{width:s,height:a,x:l,y:c}}function LC(t,e,n){let r;if(e==="viewport")r=OX(t,n);else if(e==="document")r=MX(Qr(t));else if(wr(e))r=LX(e,n);else{const i=$N(t);r={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return Nh(r)}function BN(t,e){const n=Mo(t);return n===e||!wr(n)||il(n)?!1:_r(n).position==="fixed"||BN(n,e)}function VX(t,e){const n=e.get(t);if(n)return n;let r=fu(t,[],!1).filter(a=>wr(a)&&bl(a)!=="body"),i=null;const o=_r(t).position==="fixed";let s=o?Mo(t):t;for(;wr(s)&&!il(s);){const a=_r(s),l=F1(s);!l&&a.position==="fixed"&&(i=null),(o?!l&&!i:!l&&a.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||$u(s)&&!l&&BN(t,s))?r=r.filter(u=>u!==s):i=a,s=Mo(s)}return e.set(t,r),r}function jX(t){let{element:e,boundary:n,rootBoundary:r,strategy:i}=t;const s=[...n==="clippingAncestors"?$p(e)?[]:VX(e,this._c):[].concat(n),r],a=s[0],l=s.reduce((c,u)=>{const f=LC(e,u,i);return c.top=Nn(f.top,c.top),c.right=Do(f.right,c.right),c.bottom=Do(f.bottom,c.bottom),c.left=Nn(f.left,c.left),c},LC(e,a,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function FX(t){const{width:e,height:n}=FN(t);return{width:e,height:n}}function $X(t,e,n){const r=Gr(e),i=Qr(e),o=n==="fixed",s=Ss(t,!0,o,e);let a={scrollLeft:0,scrollTop:0};const l=Br(0);function c(){l.x=B1(i)}if(r||!r&&!o)if((bl(e)!=="body"||$u(i))&&(a=Up(e)),r){const g=Ss(e,!0,o,e);l.x=g.x+e.clientLeft,l.y=g.y+e.clientTop}else i&&c();o&&!r&&i&&c();const u=i&&!r&&!o?UN(i,a):Br(0),f=s.left+a.scrollLeft-l.x-u.x,h=s.top+a.scrollTop-l.y-u.y;return{x:f,y:h,width:s.width,height:s.height}}function jg(t){return _r(t).position==="static"}function VC(t,e){if(!Gr(t)||_r(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return Qr(t)===n&&(n=n.ownerDocument.body),n}function WN(t,e){const n=Vn(t);if($p(t))return n;if(!Gr(t)){let i=Mo(t);for(;i&&!il(i);){if(wr(i)&&!jg(i))return i;i=Mo(i)}return n}let r=VC(t,e);for(;r&&IX(r)&&jg(r);)r=VC(r,e);return r&&il(r)&&jg(r)&&!F1(r)?n:r||AX(t)||n}const UX=async function(t){const e=this.getOffsetParent||WN,n=this.getDimensions,r=await n(t.floating);return{reference:$X(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function BX(t){return _r(t).direction==="rtl"}const WX={convertOffsetParentRelativeRectToViewportRelativeRect:NX,getDocumentElement:Qr,getClippingRect:jX,getOffsetParent:WN,getElementRects:UX,getClientRects:DX,getDimensions:FX,getScale:Ma,isElement:wr,isRTL:BX};function zN(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function zX(t,e){let n=null,r;const i=Qr(t);function o(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function s(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),o();const c=t.getBoundingClientRect(),{left:u,top:f,width:h,height:g}=c;if(a||e(),!h||!g)return;const w=Ld(f),v=Ld(i.clientWidth-(u+h)),E=Ld(i.clientHeight-(f+g)),x=Ld(u),b={rootMargin:-w+"px "+-v+"px "+-E+"px "+-x+"px",threshold:Nn(0,Do(1,l))||1};let P=!0;function N(M){const S=M[0].intersectionRatio;if(S!==l){if(!P)return s();S?s(!1,S):r=setTimeout(()=>{s(!1,1e-7)},1e3)}S===1&&!zN(c,t.getBoundingClientRect())&&s(),P=!1}try{n=new IntersectionObserver(N,{...b,root:i.ownerDocument})}catch{n=new IntersectionObserver(N,b)}n.observe(t)}return s(!0),o}function HN(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:o=!0,elementResize:s=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,c=U1(t),u=i||o?[...c?fu(c):[],...fu(e)]:[];u.forEach(x=>{i&&x.addEventListener("scroll",n,{passive:!0}),o&&x.addEventListener("resize",n)});const f=c&&a?zX(c,n):null;let h=-1,g=null;s&&(g=new ResizeObserver(x=>{let[y]=x;y&&y.target===c&&g&&(g.unobserve(e),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var b;(b=g)==null||b.observe(e)})),n()}),c&&!l&&g.observe(c),g.observe(e));let w,v=l?Ss(t):null;l&&E();function E(){const x=Ss(t);v&&!zN(v,x)&&n(),v=x,w=requestAnimationFrame(E)}return n(),()=>{var x;u.forEach(y=>{i&&y.removeEventListener("scroll",n),o&&y.removeEventListener("resize",n)}),f==null||f(),(x=g)==null||x.disconnect(),g=null,l&&cancelAnimationFrame(w)}}const HX=TX,qX=CX,GX=xX,YX=PX,KX=EX,jC=_X,QX=SX,XX=(t,e,n)=>{const r=new Map,i={platform:WX,...n},o={...i.platform,_c:r};return wX(t,e,{...i,platform:o})};var xf=typeof document<"u"?m.useLayoutEffect:m.useEffect;function Dh(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,i;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!Dh(t[r],e[r]))return!1;return!0}if(i=Object.keys(t),n=i.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,i[r]))return!1;for(r=n;r--!==0;){const o=i[r];if(!(o==="_owner"&&t.$$typeof)&&!Dh(t[o],e[o]))return!1}return!0}return t!==t&&e!==e}function qN(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function FC(t,e){const n=qN(t);return Math.round(e*n)/n}function Fg(t){const e=m.useRef(t);return xf(()=>{e.current=t}),e}function GN(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:o,floating:s}={},transform:a=!0,whileElementsMounted:l,open:c}=t,[u,f]=m.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[h,g]=m.useState(r);Dh(h,r)||g(r);const[w,v]=m.useState(null),[E,x]=m.useState(null),y=m.useCallback(L=>{L!==M.current&&(M.current=L,v(L))},[]),b=m.useCallback(L=>{L!==S.current&&(S.current=L,x(L))},[]),P=o||w,N=s||E,M=m.useRef(null),S=m.useRef(null),C=m.useRef(u),I=l!=null,A=Fg(l),D=Fg(i),O=Fg(c),R=m.useCallback(()=>{if(!M.current||!S.current)return;const L={placement:e,strategy:n,middleware:h};D.current&&(L.platform=D.current),XX(M.current,S.current,L).then(j=>{const B={...j,isPositioned:O.current!==!1};F.current&&!Dh(C.current,B)&&(C.current=B,jo.flushSync(()=>{f(B)}))})},[h,e,n,D,O]);xf(()=>{c===!1&&C.current.isPositioned&&(C.current.isPositioned=!1,f(L=>({...L,isPositioned:!1})))},[c]);const F=m.useRef(!1);xf(()=>(F.current=!0,()=>{F.current=!1}),[]),xf(()=>{if(P&&(M.current=P),N&&(S.current=N),P&&N){if(A.current)return A.current(P,N,R);R()}},[P,N,R,A,I]);const q=m.useMemo(()=>({reference:M,floating:S,setReference:y,setFloating:b}),[y,b]),K=m.useMemo(()=>({reference:P,floating:N}),[P,N]),z=m.useMemo(()=>{const L={position:n,left:0,top:0};if(!K.floating)return L;const j=FC(K.floating,u.x),B=FC(K.floating,u.y);return a?{...L,transform:"translate("+j+"px, "+B+"px)",...qN(K.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:j,top:B}},[n,a,K.floating,u.x,u.y]);return m.useMemo(()=>({...u,update:R,refs:q,elements:K,floatingStyles:z}),[u,R,q,K,z])}const JX=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:i}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?jC({element:r.current,padding:i}).fn(n):{}:r?jC({element:r,padding:i}).fn(n):{}}}},YN=(t,e)=>({...HX(t),options:[t,e]}),KN=(t,e)=>({...qX(t),options:[t,e]}),QN=(t,e)=>({...QX(t),options:[t,e]}),XN=(t,e)=>({...GX(t),options:[t,e]}),JN=(t,e)=>({...YX(t),options:[t,e]}),ZN=(t,e)=>({...KX(t),options:[t,e]}),eD=(t,e)=>({...JX(t),options:[t,e]});var ZX="Arrow",tD=m.forwardRef((t,e)=>{const{children:n,width:r=10,height:i=5,...o}=t;return p.jsx(ze.svg,{...o,ref:e,width:r,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:p.jsx("polygon",{points:"0,0 30,0 15,10"})})});tD.displayName=ZX;var eJ=tD,W1="Popper",[nD,rD]=js(W1),[tJ,iD]=nD(W1),oD=t=>{const{__scopePopper:e,children:n}=t,[r,i]=m.useState(null);return p.jsx(tJ,{scope:e,anchor:r,onAnchorChange:i,children:n})};oD.displayName=W1;var sD="PopperAnchor",aD=m.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...i}=t,o=iD(sD,n),s=m.useRef(null),a=lt(e,s);return m.useEffect(()=>{o.onAnchorChange((r==null?void 0:r.current)||s.current)}),r?null:p.jsx(ze.div,{...i,ref:a})});aD.displayName=sD;var z1="PopperContent",[nJ,rJ]=nD(z1),lD=m.forwardRef((t,e)=>{var Q,ee,oe,te,pe,Ce;const{__scopePopper:n,side:r="bottom",sideOffset:i=0,align:o="center",alignOffset:s=0,arrowPadding:a=0,avoidCollisions:l=!0,collisionBoundary:c=[],collisionPadding:u=0,sticky:f="partial",hideWhenDetached:h=!1,updatePositionStrategy:g="optimized",onPlaced:w,...v}=t,E=iD(z1,n),[x,y]=m.useState(null),b=lt(e,Ke=>y(Ke)),[P,N]=m.useState(null),M=dN(P),S=(M==null?void 0:M.width)??0,C=(M==null?void 0:M.height)??0,I=r+(o!=="center"?"-"+o:""),A=typeof u=="number"?u:{top:0,right:0,bottom:0,left:0,...u},D=Array.isArray(c)?c:[c],O=D.length>0,R={padding:A,boundary:D.filter(oJ),altBoundary:O},{refs:F,floatingStyles:q,placement:K,isPositioned:z,middlewareData:L}=GN({strategy:"fixed",placement:I,whileElementsMounted:(...Ke)=>HN(...Ke,{animationFrame:g==="always"}),elements:{reference:E.anchor},middleware:[YN({mainAxis:i+C,alignmentAxis:s}),l&&KN({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?QN():void 0,...R}),l&&XN({...R}),JN({...R,apply:({elements:Ke,rects:st,availableWidth:Lt,availableHeight:nr})=>{const{width:Er,height:Cl}=st.reference,Jr=Ke.floating.style;Jr.setProperty("--radix-popper-available-width",`${Lt}px`),Jr.setProperty("--radix-popper-available-height",`${nr}px`),Jr.setProperty("--radix-popper-anchor-width",`${Er}px`),Jr.setProperty("--radix-popper-anchor-height",`${Cl}px`)}}),P&&eD({element:P,padding:a}),sJ({arrowWidth:S,arrowHeight:C}),h&&ZN({strategy:"referenceHidden",...R})]}),[j,B]=dD(K),$=Ht(w);qr(()=>{z&&($==null||$())},[z,$]);const H=(Q=L.arrow)==null?void 0:Q.x,W=(ee=L.arrow)==null?void 0:ee.y,J=((oe=L.arrow)==null?void 0:oe.centerOffset)!==0,[he,fe]=m.useState();return qr(()=>{x&&fe(window.getComputedStyle(x).zIndex)},[x]),p.jsx("div",{ref:F.setFloating,"data-radix-popper-content-wrapper":"",style:{...q,transform:z?q.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:he,"--radix-popper-transform-origin":[(te=L.transformOrigin)==null?void 0:te.x,(pe=L.transformOrigin)==null?void 0:pe.y].join(" "),...((Ce=L.hide)==null?void 0:Ce.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:p.jsx(nJ,{scope:n,placedSide:j,onArrowChange:N,arrowX:H,arrowY:W,shouldHideArrow:J,children:p.jsx(ze.div,{"data-side":j,"data-align":B,...v,ref:b,style:{...v.style,animation:z?void 0:"none"}})})})});lD.displayName=z1;var cD="PopperArrow",iJ={top:"bottom",right:"left",bottom:"top",left:"right"},uD=m.forwardRef(function(e,n){const{__scopePopper:r,...i}=e,o=rJ(cD,r),s=iJ[o.placedSide];return p.jsx("span",{ref:o.onArrowChange,style:{position:"absolute",left:o.arrowX,top:o.arrowY,[s]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[o.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[o.placedSide],visibility:o.shouldHideArrow?"hidden":void 0},children:p.jsx(eJ,{...i,ref:n,style:{...i.style,display:"block"}})})});uD.displayName=cD;function oJ(t){return t!==null}var sJ=t=>({name:"transformOrigin",options:t,fn(e){var E,x,y;const{placement:n,rects:r,middlewareData:i}=e,s=((E=i.arrow)==null?void 0:E.centerOffset)!==0,a=s?0:t.arrowWidth,l=s?0:t.arrowHeight,[c,u]=dD(n),f={start:"0%",center:"50%",end:"100%"}[u],h=(((x=i.arrow)==null?void 0:x.x)??0)+a/2,g=(((y=i.arrow)==null?void 0:y.y)??0)+l/2;let w="",v="";return c==="bottom"?(w=s?f:`${h}px`,v=`${-l}px`):c==="top"?(w=s?f:`${h}px`,v=`${r.floating.height+l}px`):c==="right"?(w=`${-l}px`,v=s?f:`${g}px`):c==="left"&&(w=`${r.floating.width+l}px`,v=s?f:`${g}px`),{data:{x:w,y:v}}}});function dD(t){const[e,n="center"]=t.split("-");return[e,n]}var aJ=oD,fD=aD,lJ=lD,cJ=uD,uJ="Portal",Bp=m.forwardRef((t,e)=>{var a;const{container:n,...r}=t,[i,o]=m.useState(!1);qr(()=>o(!0),[]);const s=n||i&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return s?SI.createPortal(p.jsx(ze.div,{...r,ref:e}),s):null});Bp.displayName=uJ;var dJ=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},qs=new WeakMap,Vd=new WeakMap,jd={},$g=0,hD=function(t){return t&&(t.host||hD(t.parentNode))},fJ=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=hD(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},hJ=function(t,e,n,r){var i=fJ(e,Array.isArray(t)?t:[t]);jd[n]||(jd[n]=new WeakMap);var o=jd[n],s=[],a=new Set,l=new Set(i),c=function(f){!f||a.has(f)||(a.add(f),c(f.parentNode))};i.forEach(c);var u=function(f){!f||l.has(f)||Array.prototype.forEach.call(f.children,function(h){if(a.has(h))u(h);else try{var g=h.getAttribute(r),w=g!==null&&g!=="false",v=(qs.get(h)||0)+1,E=(o.get(h)||0)+1;qs.set(h,v),o.set(h,E),s.push(h),v===1&&w&&Vd.set(h,!0),E===1&&h.setAttribute(n,"true"),w||h.setAttribute(r,"true")}catch(x){console.error("aria-hidden: cannot operate on ",h,x)}})};return u(e),a.clear(),$g++,function(){s.forEach(function(f){var h=qs.get(f)-1,g=o.get(f)-1;qs.set(f,h),o.set(f,g),h||(Vd.has(f)||f.removeAttribute(r),Vd.delete(f)),g||f.removeAttribute(n)}),$g--,$g||(qs=new WeakMap,qs=new WeakMap,Vd=new WeakMap,jd={})}},H1=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),i=e||dJ(t);return i?(r.push.apply(r,Array.from(i.querySelectorAll("[aria-live], script"))),hJ(r,i,n,"aria-hidden")):function(){return null}},sn=function(){return sn=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},sn.apply(this,arguments)};function q1(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function pD(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,o;r<i;r++)(o||!(r in e))&&(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return t.concat(o||Array.prototype.slice.call(e))}var Ac="right-scroll-bar-position",kc="width-before-scroll-bar",pJ="with-scroll-bars-hidden",mJ="--removed-body-scroll-bar-size";function Ug(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function gJ(t,e){var n=m.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var i=n.value;i!==r&&(n.value=r,n.callback(r,i))}}}})[0];return n.callback=e,n.facade}var vJ=typeof window<"u"?m.useLayoutEffect:m.useEffect,$C=new WeakMap;function mD(t,e){var n=gJ(e||null,function(r){return t.forEach(function(i){return Ug(i,r)})});return vJ(function(){var r=$C.get(n);if(r){var i=new Set(r),o=new Set(t),s=n.current;i.forEach(function(a){o.has(a)||Ug(a,null)}),o.forEach(function(a){i.has(a)||Ug(a,s)})}$C.set(n,t)},[t]),n}function yJ(t){return t}function wJ(t,e){e===void 0&&(e=yJ);var n=[],r=!1,i={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(o){var s=e(o,r);return n.push(s),function(){n=n.filter(function(a){return a!==s})}},assignSyncMedium:function(o){for(r=!0;n.length;){var s=n;n=[],s.forEach(o)}n={push:function(a){return o(a)},filter:function(){return n}}},assignMedium:function(o){r=!0;var s=[];if(n.length){var a=n;n=[],a.forEach(o),s=n}var l=function(){var u=s;s=[],u.forEach(o)},c=function(){return Promise.resolve().then(l)};c(),n={push:function(u){s.push(u),c()},filter:function(u){return s=s.filter(u),n}}}};return i}function gD(t){t===void 0&&(t={});var e=wJ(null);return e.options=sn({async:!0,ssr:!1},t),e}var vD=function(t){var e=t.sideCar,n=q1(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return m.createElement(r,sn({},n))};vD.isSideCarExport=!0;function yD(t,e){return t.useMedium(e),vD}var wD=gD(),Bg=function(){},Wp=m.forwardRef(function(t,e){var n=m.useRef(null),r=m.useState({onScrollCapture:Bg,onWheelCapture:Bg,onTouchMoveCapture:Bg}),i=r[0],o=r[1],s=t.forwardProps,a=t.children,l=t.className,c=t.removeScrollBar,u=t.enabled,f=t.shards,h=t.sideCar,g=t.noRelative,w=t.noIsolation,v=t.inert,E=t.allowPinchZoom,x=t.as,y=x===void 0?"div":x,b=t.gapMode,P=q1(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),N=h,M=mD([n,e]),S=sn(sn({},P),i);return m.createElement(m.Fragment,null,u&&m.createElement(N,{sideCar:wD,removeScrollBar:c,shards:f,noRelative:g,noIsolation:w,inert:v,setCallbacks:o,allowPinchZoom:!!E,lockRef:n,gapMode:b}),s?m.cloneElement(m.Children.only(a),sn(sn({},S),{ref:M})):m.createElement(y,sn({},S,{className:l,ref:M}),a))});Wp.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Wp.classNames={fullWidth:kc,zeroRight:Ac};var UC,_J=function(){if(UC)return UC;if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function xJ(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=_J();return e&&t.setAttribute("nonce",e),t}function EJ(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function bJ(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var TJ=function(){var t=0,e=null;return{add:function(n){t==0&&(e=xJ())&&(EJ(e,n),bJ(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},CJ=function(){var t=TJ();return function(e,n){m.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},G1=function(){var t=CJ(),e=function(n){var r=n.styles,i=n.dynamic;return t(r,i),null};return e},SJ={left:0,top:0,right:0,gap:0},Wg=function(t){return parseInt(t||"",10)||0},PJ=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],i=e[t==="padding"?"paddingRight":"marginRight"];return[Wg(n),Wg(r),Wg(i)]},IJ=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return SJ;var e=PJ(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},AJ=G1(),Oa="data-scroll-locked",kJ=function(t,e,n,r){var i=t.left,o=t.top,s=t.right,a=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(pJ,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(a,"px ").concat(r,`;
  }
  body[`).concat(Oa,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(o,`px;
    padding-right: `).concat(s,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(a,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Ac,` {
    right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(kc,` {
    margin-right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(Ac," .").concat(Ac,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(kc," .").concat(kc,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Oa,`] {
    `).concat(mJ,": ").concat(a,`px;
  }
`)},BC=function(){var t=parseInt(document.body.getAttribute(Oa)||"0",10);return isFinite(t)?t:0},RJ=function(){m.useEffect(function(){return document.body.setAttribute(Oa,(BC()+1).toString()),function(){var t=BC()-1;t<=0?document.body.removeAttribute(Oa):document.body.setAttribute(Oa,t.toString())}},[])},_D=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,i=r===void 0?"margin":r;RJ();var o=m.useMemo(function(){return IJ(i)},[i]);return m.createElement(AJ,{styles:kJ(o,!e,i,n?"":"!important")})},Gy=!1;if(typeof window<"u")try{var Fd=Object.defineProperty({},"passive",{get:function(){return Gy=!0,!0}});window.addEventListener("test",Fd,Fd),window.removeEventListener("test",Fd,Fd)}catch{Gy=!1}var Gs=Gy?{passive:!1}:!1,NJ=function(t){return t.tagName==="TEXTAREA"},xD=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!NJ(t)&&n[e]==="visible")},DJ=function(t){return xD(t,"overflowY")},MJ=function(t){return xD(t,"overflowX")},WC=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var i=ED(t,r);if(i){var o=bD(t,r),s=o[1],a=o[2];if(s>a)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},OJ=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},LJ=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},ED=function(t,e){return t==="v"?DJ(e):MJ(e)},bD=function(t,e){return t==="v"?OJ(e):LJ(e)},VJ=function(t,e){return t==="h"&&e==="rtl"?-1:1},jJ=function(t,e,n,r,i){var o=VJ(t,window.getComputedStyle(e).direction),s=o*r,a=n.target,l=e.contains(a),c=!1,u=s>0,f=0,h=0;do{var g=bD(t,a),w=g[0],v=g[1],E=g[2],x=v-E-o*w;(w||x)&&ED(t,a)&&(f+=x,h+=w),a=a.parentNode.host||a.parentNode}while(!l&&a!==document.body||l&&(e.contains(a)||e===a));return(u&&(i&&Math.abs(f)<1||!i&&s>f)||!u&&(i&&Math.abs(h)<1||!i&&-s>h))&&(c=!0),c},$d=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},zC=function(t){return[t.deltaX,t.deltaY]},HC=function(t){return t&&"current"in t?t.current:t},FJ=function(t,e){return t[0]===e[0]&&t[1]===e[1]},$J=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},UJ=0,Ys=[];function BJ(t){var e=m.useRef([]),n=m.useRef([0,0]),r=m.useRef(),i=m.useState(UJ++)[0],o=m.useState(G1)[0],s=m.useRef(t);m.useEffect(function(){s.current=t},[t]),m.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(i));var v=pD([t.lockRef.current],(t.shards||[]).map(HC),!0).filter(Boolean);return v.forEach(function(E){return E.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),v.forEach(function(E){return E.classList.remove("allow-interactivity-".concat(i))})}}},[t.inert,t.lockRef.current,t.shards]);var a=m.useCallback(function(v,E){if("touches"in v&&v.touches.length===2||v.type==="wheel"&&v.ctrlKey)return!s.current.allowPinchZoom;var x=$d(v),y=n.current,b="deltaX"in v?v.deltaX:y[0]-x[0],P="deltaY"in v?v.deltaY:y[1]-x[1],N,M=v.target,S=Math.abs(b)>Math.abs(P)?"h":"v";if("touches"in v&&S==="h"&&M.type==="range")return!1;var C=WC(S,M);if(!C)return!0;if(C?N=S:(N=S==="v"?"h":"v",C=WC(S,M)),!C)return!1;if(!r.current&&"changedTouches"in v&&(b||P)&&(r.current=N),!N)return!0;var I=r.current||N;return jJ(I,E,v,I==="h"?b:P,!0)},[]),l=m.useCallback(function(v){var E=v;if(!(!Ys.length||Ys[Ys.length-1]!==o)){var x="deltaY"in E?zC(E):$d(E),y=e.current.filter(function(N){return N.name===E.type&&(N.target===E.target||E.target===N.shadowParent)&&FJ(N.delta,x)})[0];if(y&&y.should){E.cancelable&&E.preventDefault();return}if(!y){var b=(s.current.shards||[]).map(HC).filter(Boolean).filter(function(N){return N.contains(E.target)}),P=b.length>0?a(E,b[0]):!s.current.noIsolation;P&&E.cancelable&&E.preventDefault()}}},[]),c=m.useCallback(function(v,E,x,y){var b={name:v,delta:E,target:x,should:y,shadowParent:WJ(x)};e.current.push(b),setTimeout(function(){e.current=e.current.filter(function(P){return P!==b})},1)},[]),u=m.useCallback(function(v){n.current=$d(v),r.current=void 0},[]),f=m.useCallback(function(v){c(v.type,zC(v),v.target,a(v,t.lockRef.current))},[]),h=m.useCallback(function(v){c(v.type,$d(v),v.target,a(v,t.lockRef.current))},[]);m.useEffect(function(){return Ys.push(o),t.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:h}),document.addEventListener("wheel",l,Gs),document.addEventListener("touchmove",l,Gs),document.addEventListener("touchstart",u,Gs),function(){Ys=Ys.filter(function(v){return v!==o}),document.removeEventListener("wheel",l,Gs),document.removeEventListener("touchmove",l,Gs),document.removeEventListener("touchstart",u,Gs)}},[]);var g=t.removeScrollBar,w=t.inert;return m.createElement(m.Fragment,null,w?m.createElement(o,{styles:$J(i)}):null,g?m.createElement(_D,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function WJ(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const zJ=yD(wD,BJ);var TD=m.forwardRef(function(t,e){return m.createElement(Wp,sn({},t,{ref:e,sideCar:zJ}))});TD.classNames=Wp.classNames;const CD=TD;var zp="Popover",[SD,Sne]=js(zp,[rD]),Uu=rD(),[HJ,zo]=SD(zp),PD=t=>{const{__scopePopover:e,children:n,open:r,defaultOpen:i,onOpenChange:o,modal:s=!1}=t,a=Uu(e),l=m.useRef(null),[c,u]=m.useState(!1),[f,h]=Op({prop:r,defaultProp:i??!1,onChange:o,caller:zp});return p.jsx(aJ,{...a,children:p.jsx(HJ,{scope:e,contentId:_f(),triggerRef:l,open:f,onOpenChange:h,onOpenToggle:m.useCallback(()=>h(g=>!g),[h]),hasCustomAnchor:c,onCustomAnchorAdd:m.useCallback(()=>u(!0),[]),onCustomAnchorRemove:m.useCallback(()=>u(!1),[]),modal:s,children:n})})};PD.displayName=zp;var ID="PopoverAnchor",qJ=m.forwardRef((t,e)=>{const{__scopePopover:n,...r}=t,i=zo(ID,n),o=Uu(n),{onCustomAnchorAdd:s,onCustomAnchorRemove:a}=i;return m.useEffect(()=>(s(),()=>a()),[s,a]),p.jsx(fD,{...o,...r,ref:e})});qJ.displayName=ID;var AD="PopoverTrigger",kD=m.forwardRef((t,e)=>{const{__scopePopover:n,...r}=t,i=zo(AD,n),o=Uu(n),s=lt(e,i.triggerRef),a=p.jsx(ze.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":OD(i.open),...r,ref:s,onClick:Ue(t.onClick,i.onOpenToggle)});return i.hasCustomAnchor?a:p.jsx(fD,{asChild:!0,...o,children:a})});kD.displayName=AD;var Y1="PopoverPortal",[GJ,YJ]=SD(Y1,{forceMount:void 0}),RD=t=>{const{__scopePopover:e,forceMount:n,children:r,container:i}=t,o=zo(Y1,e);return p.jsx(GJ,{scope:e,forceMount:n,children:p.jsx(er,{present:n||o.open,children:p.jsx(Bp,{asChild:!0,container:i,children:r})})})};RD.displayName=Y1;var ol="PopoverContent",ND=m.forwardRef((t,e)=>{const n=YJ(ol,t.__scopePopover),{forceMount:r=n.forceMount,...i}=t,o=zo(ol,t.__scopePopover);return p.jsx(er,{present:r||o.open,children:o.modal?p.jsx(QJ,{...i,ref:e}):p.jsx(XJ,{...i,ref:e})})});ND.displayName=ol;var KJ=Xa("PopoverContent.RemoveScroll"),QJ=m.forwardRef((t,e)=>{const n=zo(ol,t.__scopePopover),r=m.useRef(null),i=lt(e,r),o=m.useRef(!1);return m.useEffect(()=>{const s=r.current;if(s)return H1(s)},[]),p.jsx(CD,{as:KJ,allowPinchZoom:!0,children:p.jsx(DD,{...t,ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Ue(t.onCloseAutoFocus,s=>{var a;s.preventDefault(),o.current||(a=n.triggerRef.current)==null||a.focus()}),onPointerDownOutside:Ue(t.onPointerDownOutside,s=>{const a=s.detail.originalEvent,l=a.button===0&&a.ctrlKey===!0,c=a.button===2||l;o.current=c},{checkForDefaultPrevented:!1}),onFocusOutside:Ue(t.onFocusOutside,s=>s.preventDefault(),{checkForDefaultPrevented:!1})})})}),XJ=m.forwardRef((t,e)=>{const n=zo(ol,t.__scopePopover),r=m.useRef(!1),i=m.useRef(!1);return p.jsx(DD,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{var s,a;(s=t.onCloseAutoFocus)==null||s.call(t,o),o.defaultPrevented||(r.current||(a=n.triggerRef.current)==null||a.focus(),o.preventDefault()),r.current=!1,i.current=!1},onInteractOutside:o=>{var l,c;(l=t.onInteractOutside)==null||l.call(t,o),o.defaultPrevented||(r.current=!0,o.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const s=o.target;((c=n.triggerRef.current)==null?void 0:c.contains(s))&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&i.current&&o.preventDefault()}})}),DD=m.forwardRef((t,e)=>{const{__scopePopover:n,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:o,disableOutsidePointerEvents:s,onEscapeKeyDown:a,onPointerDownOutside:l,onFocusOutside:c,onInteractOutside:u,...f}=t,h=zo(ol,n),g=Uu(n);return MN(),p.jsx(O1,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:o,children:p.jsx(jp,{asChild:!0,disableOutsidePointerEvents:s,onInteractOutside:u,onEscapeKeyDown:a,onPointerDownOutside:l,onFocusOutside:c,onDismiss:()=>h.onOpenChange(!1),children:p.jsx(lJ,{"data-state":OD(h.open),role:"dialog",id:h.contentId,...g,...f,ref:e,style:{...f.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),MD="PopoverClose",JJ=m.forwardRef((t,e)=>{const{__scopePopover:n,...r}=t,i=zo(MD,n);return p.jsx(ze.button,{type:"button",...r,ref:e,onClick:Ue(t.onClick,()=>i.onOpenChange(!1))})});JJ.displayName=MD;var ZJ="PopoverArrow",eZ=m.forwardRef((t,e)=>{const{__scopePopover:n,...r}=t,i=Uu(n);return p.jsx(cJ,{...i,...r,ref:e})});eZ.displayName=ZJ;function OD(t){return t?"open":"closed"}var tZ=PD,nZ=kD,rZ=RD,LD=ND;const iZ=tZ,oZ=nZ,VD=we.forwardRef(({className:t,align:e="center",sideOffset:n=4,...r},i)=>p.jsx(rZ,{children:p.jsx(LD,{ref:i,align:e,sideOffset:n,className:Ne("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...r})}));VD.displayName=LD.displayName;function Ye(){return Ye=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ye.apply(null,arguments)}function qC(t,[e,n]){return Math.min(n,Math.max(e,t))}function mn(t,e,{checkForDefaultPrevented:n=!0}={}){return function(i){if(t==null||t(i),n===!1||!i.defaultPrevented)return e==null?void 0:e(i)}}function K1(t,e=[]){let n=[];function r(o,s){const a=m.createContext(s),l=n.length;n=[...n,s];function c(f){const{scope:h,children:g,...w}=f,v=(h==null?void 0:h[t][l])||a,E=m.useMemo(()=>w,Object.values(w));return m.createElement(v.Provider,{value:E},g)}function u(f,h){const g=(h==null?void 0:h[t][l])||a,w=m.useContext(g);if(w)return w;if(s!==void 0)return s;throw new Error(`\`${f}\` must be used within \`${o}\``)}return c.displayName=o+"Provider",[c,u]}const i=()=>{const o=n.map(s=>m.createContext(s));return function(a){const l=(a==null?void 0:a[t])||o;return m.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return i.scopeName=t,[r,sZ(i,...e)]}function sZ(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(o){const s=r.reduce((a,{useScope:l,scopeName:c})=>{const f=l(o)[`__scope${c}`];return{...a,...f}},{});return m.useMemo(()=>({[`__scope${e.scopeName}`]:s}),[s])}};return n.scopeName=e.scopeName,n}function aZ(t,e){typeof t=="function"?t(e):t!=null&&(t.current=e)}function jD(...t){return e=>t.forEach(n=>aZ(n,e))}function An(...t){return m.useCallback(jD(...t),t)}const hu=m.forwardRef((t,e)=>{const{children:n,...r}=t,i=m.Children.toArray(n),o=i.find(cZ);if(o){const s=o.props.children,a=i.map(l=>l===o?m.Children.count(s)>1?m.Children.only(null):m.isValidElement(s)?s.props.children:null:l);return m.createElement(Yy,Ye({},r,{ref:e}),m.isValidElement(s)?m.cloneElement(s,void 0,a):null)}return m.createElement(Yy,Ye({},r,{ref:e}),n)});hu.displayName="Slot";const Yy=m.forwardRef((t,e)=>{const{children:n,...r}=t;return m.isValidElement(n)?m.cloneElement(n,{...uZ(r,n.props),ref:e?jD(e,n.ref):n.ref}):m.Children.count(n)>1?m.Children.only(null):null});Yy.displayName="SlotClone";const lZ=({children:t})=>m.createElement(m.Fragment,null,t);function cZ(t){return m.isValidElement(t)&&t.type===lZ}function uZ(t,e){const n={...e};for(const r in e){const i=t[r],o=e[r];/^on[A-Z]/.test(r)?i&&o?n[r]=(...a)=>{o(...a),i(...a)}:i&&(n[r]=i):r==="style"?n[r]={...i,...o}:r==="className"&&(n[r]=[i,o].filter(Boolean).join(" "))}return{...t,...n}}function dZ(t){const e=t+"CollectionProvider",[n,r]=K1(e),[i,o]=n(e,{collectionRef:{current:null},itemMap:new Map}),s=g=>{const{scope:w,children:v}=g,E=we.useRef(null),x=we.useRef(new Map).current;return we.createElement(i,{scope:w,itemMap:x,collectionRef:E},v)},a=t+"CollectionSlot",l=we.forwardRef((g,w)=>{const{scope:v,children:E}=g,x=o(a,v),y=An(w,x.collectionRef);return we.createElement(hu,{ref:y},E)}),c=t+"CollectionItemSlot",u="data-radix-collection-item",f=we.forwardRef((g,w)=>{const{scope:v,children:E,...x}=g,y=we.useRef(null),b=An(w,y),P=o(c,v);return we.useEffect(()=>(P.itemMap.set(y,{ref:y,...x}),()=>void P.itemMap.delete(y))),we.createElement(hu,{[u]:"",ref:b},E)});function h(g){const w=o(t+"CollectionConsumer",g);return we.useCallback(()=>{const E=w.collectionRef.current;if(!E)return[];const x=Array.from(E.querySelectorAll(`[${u}]`));return Array.from(w.itemMap.values()).sort((P,N)=>x.indexOf(P.ref.current)-x.indexOf(N.ref.current))},[w.collectionRef,w.itemMap])}return[{Provider:s,Slot:l,ItemSlot:f},h,r]}const fZ=m.createContext(void 0);function hZ(t){const e=m.useContext(fZ);return t||e||"ltr"}const pZ=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],cn=pZ.reduce((t,e)=>{const n=m.forwardRef((r,i)=>{const{asChild:o,...s}=r,a=o?hu:e;return m.useEffect(()=>{window[Symbol.for("radix-ui")]=!0},[]),m.createElement(a,Ye({},s,{ref:i}))});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{});function mZ(t,e){t&&jo.flushSync(()=>t.dispatchEvent(e))}function Ii(t){const e=m.useRef(t);return m.useEffect(()=>{e.current=t}),m.useMemo(()=>(...n)=>{var r;return(r=e.current)===null||r===void 0?void 0:r.call(e,...n)},[])}function gZ(t,e=globalThis==null?void 0:globalThis.document){const n=Ii(t);m.useEffect(()=>{const r=i=>{i.key==="Escape"&&n(i)};return e.addEventListener("keydown",r),()=>e.removeEventListener("keydown",r)},[n,e])}const Ky="dismissableLayer.update",vZ="dismissableLayer.pointerDownOutside",yZ="dismissableLayer.focusOutside";let GC;const wZ=m.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),_Z=m.forwardRef((t,e)=>{var n;const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:s,onInteractOutside:a,onDismiss:l,...c}=t,u=m.useContext(wZ),[f,h]=m.useState(null),g=(n=f==null?void 0:f.ownerDocument)!==null&&n!==void 0?n:globalThis==null?void 0:globalThis.document,[,w]=m.useState({}),v=An(e,C=>h(C)),E=Array.from(u.layers),[x]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),y=E.indexOf(x),b=f?E.indexOf(f):-1,P=u.layersWithOutsidePointerEventsDisabled.size>0,N=b>=y,M=xZ(C=>{const I=C.target,A=[...u.branches].some(D=>D.contains(I));!N||A||(o==null||o(C),a==null||a(C),C.defaultPrevented||l==null||l())},g),S=EZ(C=>{const I=C.target;[...u.branches].some(D=>D.contains(I))||(s==null||s(C),a==null||a(C),C.defaultPrevented||l==null||l())},g);return gZ(C=>{b===u.layers.size-1&&(i==null||i(C),!C.defaultPrevented&&l&&(C.preventDefault(),l()))},g),m.useEffect(()=>{if(f)return r&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(GC=g.body.style.pointerEvents,g.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(f)),u.layers.add(f),YC(),()=>{r&&u.layersWithOutsidePointerEventsDisabled.size===1&&(g.body.style.pointerEvents=GC)}},[f,g,r,u]),m.useEffect(()=>()=>{f&&(u.layers.delete(f),u.layersWithOutsidePointerEventsDisabled.delete(f),YC())},[f,u]),m.useEffect(()=>{const C=()=>w({});return document.addEventListener(Ky,C),()=>document.removeEventListener(Ky,C)},[]),m.createElement(cn.div,Ye({},c,{ref:v,style:{pointerEvents:P?N?"auto":"none":void 0,...t.style},onFocusCapture:mn(t.onFocusCapture,S.onFocusCapture),onBlurCapture:mn(t.onBlurCapture,S.onBlurCapture),onPointerDownCapture:mn(t.onPointerDownCapture,M.onPointerDownCapture)}))});function xZ(t,e=globalThis==null?void 0:globalThis.document){const n=Ii(t),r=m.useRef(!1),i=m.useRef(()=>{});return m.useEffect(()=>{const o=a=>{if(a.target&&!r.current){let u=function(){FD(vZ,n,c,{discrete:!0})};var l=u;const c={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=u,e.addEventListener("click",i.current,{once:!0})):u()}else e.removeEventListener("click",i.current);r.current=!1},s=window.setTimeout(()=>{e.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(s),e.removeEventListener("pointerdown",o),e.removeEventListener("click",i.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function EZ(t,e=globalThis==null?void 0:globalThis.document){const n=Ii(t),r=m.useRef(!1);return m.useEffect(()=>{const i=o=>{o.target&&!r.current&&FD(yZ,n,{originalEvent:o},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function YC(){const t=new CustomEvent(Ky);document.dispatchEvent(t)}function FD(t,e,n,{discrete:r}){const i=n.originalEvent.target,o=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&i.addEventListener(t,e,{once:!0}),r?mZ(i,o):i.dispatchEvent(o)}let zg=0;function bZ(){m.useEffect(()=>{var t,e;const n=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",(t=n[0])!==null&&t!==void 0?t:KC()),document.body.insertAdjacentElement("beforeend",(e=n[1])!==null&&e!==void 0?e:KC()),zg++,()=>{zg===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(r=>r.remove()),zg--}},[])}function KC(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.cssText="outline: none; opacity: 0; position: fixed; pointer-events: none",t}const Hg="focusScope.autoFocusOnMount",qg="focusScope.autoFocusOnUnmount",QC={bubbles:!1,cancelable:!0},TZ=m.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:i,onUnmountAutoFocus:o,...s}=t,[a,l]=m.useState(null),c=Ii(i),u=Ii(o),f=m.useRef(null),h=An(e,v=>l(v)),g=m.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;m.useEffect(()=>{if(r){let y=function(M){if(g.paused||!a)return;const S=M.target;a.contains(S)?f.current=S:zi(f.current,{select:!0})},b=function(M){if(g.paused||!a)return;const S=M.relatedTarget;S!==null&&(a.contains(S)||zi(f.current,{select:!0}))},P=function(M){if(document.activeElement===document.body)for(const C of M)C.removedNodes.length>0&&zi(a)};var v=y,E=b,x=P;document.addEventListener("focusin",y),document.addEventListener("focusout",b);const N=new MutationObserver(P);return a&&N.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",y),document.removeEventListener("focusout",b),N.disconnect()}}},[r,a,g.paused]),m.useEffect(()=>{if(a){JC.add(g);const v=document.activeElement;if(!a.contains(v)){const x=new CustomEvent(Hg,QC);a.addEventListener(Hg,c),a.dispatchEvent(x),x.defaultPrevented||(CZ(kZ($D(a)),{select:!0}),document.activeElement===v&&zi(a))}return()=>{a.removeEventListener(Hg,c),setTimeout(()=>{const x=new CustomEvent(qg,QC);a.addEventListener(qg,u),a.dispatchEvent(x),x.defaultPrevented||zi(v??document.body,{select:!0}),a.removeEventListener(qg,u),JC.remove(g)},0)}}},[a,c,u,g]);const w=m.useCallback(v=>{if(!n&&!r||g.paused)return;const E=v.key==="Tab"&&!v.altKey&&!v.ctrlKey&&!v.metaKey,x=document.activeElement;if(E&&x){const y=v.currentTarget,[b,P]=SZ(y);b&&P?!v.shiftKey&&x===P?(v.preventDefault(),n&&zi(b,{select:!0})):v.shiftKey&&x===b&&(v.preventDefault(),n&&zi(P,{select:!0})):x===y&&v.preventDefault()}},[n,r,g.paused]);return m.createElement(cn.div,Ye({tabIndex:-1},s,{ref:h,onKeyDown:w}))});function CZ(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(zi(r,{select:e}),document.activeElement!==n)return}function SZ(t){const e=$D(t),n=XC(e,t),r=XC(e.reverse(),t);return[n,r]}function $D(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function XC(t,e){for(const n of t)if(!PZ(n,{upTo:e}))return n}function PZ(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function IZ(t){return t instanceof HTMLInputElement&&"select"in t}function zi(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&IZ(t)&&e&&t.select()}}const JC=AZ();function AZ(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=ZC(t,e),t.unshift(e)},remove(e){var n;t=ZC(t,e),(n=t[0])===null||n===void 0||n.resume()}}}function ZC(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function kZ(t){return t.filter(e=>e.tagName!=="A")}const Ai=globalThis!=null&&globalThis.document?m.useLayoutEffect:()=>{},RZ=$h["useId".toString()]||(()=>{});let NZ=0;function UD(t){const[e,n]=m.useState(RZ());return Ai(()=>{t||n(r=>r??String(NZ++))},[t]),t||(e?`radix-${e}`:"")}function DZ(t){const[e,n]=m.useState(void 0);return Ai(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const o=i[0];let s,a;if("borderBoxSize"in o){const l=o.borderBoxSize,c=Array.isArray(l)?l[0]:l;s=c.inlineSize,a=c.blockSize}else s=t.offsetWidth,a=t.offsetHeight;n({width:s,height:a})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}const BD="Popper",[WD,zD]=K1(BD),[MZ,HD]=WD(BD),OZ=t=>{const{__scopePopper:e,children:n}=t,[r,i]=m.useState(null);return m.createElement(MZ,{scope:e,anchor:r,onAnchorChange:i},n)},LZ="PopperAnchor",VZ=m.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...i}=t,o=HD(LZ,n),s=m.useRef(null),a=An(e,s);return m.useEffect(()=>{o.onAnchorChange((r==null?void 0:r.current)||s.current)}),r?null:m.createElement(cn.div,Ye({},i,{ref:a}))}),qD="PopperContent",[jZ,Pne]=WD(qD),FZ=m.forwardRef((t,e)=>{var n,r,i,o,s,a,l,c;const{__scopePopper:u,side:f="bottom",sideOffset:h=0,align:g="center",alignOffset:w=0,arrowPadding:v=0,avoidCollisions:E=!0,collisionBoundary:x=[],collisionPadding:y=0,sticky:b="partial",hideWhenDetached:P=!1,updatePositionStrategy:N="optimized",onPlaced:M,...S}=t,C=HD(qD,u),[I,A]=m.useState(null),D=An(e,Lt=>A(Lt)),[O,R]=m.useState(null),F=DZ(O),q=(n=F==null?void 0:F.width)!==null&&n!==void 0?n:0,K=(r=F==null?void 0:F.height)!==null&&r!==void 0?r:0,z=f+(g!=="center"?"-"+g:""),L=typeof y=="number"?y:{top:0,right:0,bottom:0,left:0,...y},j=Array.isArray(x)?x:[x],B=j.length>0,$={padding:L,boundary:j.filter($Z),altBoundary:B},{refs:H,floatingStyles:W,placement:J,isPositioned:he,middlewareData:fe}=GN({strategy:"fixed",placement:z,whileElementsMounted:(...Lt)=>HN(...Lt,{animationFrame:N==="always"}),elements:{reference:C.anchor},middleware:[YN({mainAxis:h+K,alignmentAxis:w}),E&&KN({mainAxis:!0,crossAxis:!1,limiter:b==="partial"?QN():void 0,...$}),E&&XN({...$}),JN({...$,apply:({elements:Lt,rects:nr,availableWidth:Er,availableHeight:Cl})=>{const{width:Jr,height:Wu}=nr.reference,Mi=Lt.floating.style;Mi.setProperty("--radix-popper-available-width",`${Er}px`),Mi.setProperty("--radix-popper-available-height",`${Cl}px`),Mi.setProperty("--radix-popper-anchor-width",`${Jr}px`),Mi.setProperty("--radix-popper-anchor-height",`${Wu}px`)}}),O&&eD({element:O,padding:v}),UZ({arrowWidth:q,arrowHeight:K}),P&&ZN({strategy:"referenceHidden",...$})]}),[Q,ee]=GD(J),oe=Ii(M);Ai(()=>{he&&(oe==null||oe())},[he,oe]);const te=(i=fe.arrow)===null||i===void 0?void 0:i.x,pe=(o=fe.arrow)===null||o===void 0?void 0:o.y,Ce=((s=fe.arrow)===null||s===void 0?void 0:s.centerOffset)!==0,[Ke,st]=m.useState();return Ai(()=>{I&&st(window.getComputedStyle(I).zIndex)},[I]),m.createElement("div",{ref:H.setFloating,"data-radix-popper-content-wrapper":"",style:{...W,transform:he?W.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Ke,"--radix-popper-transform-origin":[(a=fe.transformOrigin)===null||a===void 0?void 0:a.x,(l=fe.transformOrigin)===null||l===void 0?void 0:l.y].join(" ")},dir:t.dir},m.createElement(jZ,{scope:u,placedSide:Q,onArrowChange:R,arrowX:te,arrowY:pe,shouldHideArrow:Ce},m.createElement(cn.div,Ye({"data-side":Q,"data-align":ee},S,{ref:D,style:{...S.style,animation:he?void 0:"none",opacity:(c=fe.hide)!==null&&c!==void 0&&c.referenceHidden?0:void 0}}))))});function $Z(t){return t!==null}const UZ=t=>({name:"transformOrigin",options:t,fn(e){var n,r,i,o,s;const{placement:a,rects:l,middlewareData:c}=e,f=((n=c.arrow)===null||n===void 0?void 0:n.centerOffset)!==0,h=f?0:t.arrowWidth,g=f?0:t.arrowHeight,[w,v]=GD(a),E={start:"0%",center:"50%",end:"100%"}[v],x=((r=(i=c.arrow)===null||i===void 0?void 0:i.x)!==null&&r!==void 0?r:0)+h/2,y=((o=(s=c.arrow)===null||s===void 0?void 0:s.y)!==null&&o!==void 0?o:0)+g/2;let b="",P="";return w==="bottom"?(b=f?E:`${x}px`,P=`${-g}px`):w==="top"?(b=f?E:`${x}px`,P=`${l.floating.height+g}px`):w==="right"?(b=`${-g}px`,P=f?E:`${y}px`):w==="left"&&(b=`${l.floating.width+g}px`,P=f?E:`${y}px`),{data:{x:b,y:P}}}});function GD(t){const[e,n="center"]=t.split("-");return[e,n]}const BZ=OZ,WZ=VZ,zZ=FZ,HZ=m.forwardRef((t,e)=>{var n;const{container:r=globalThis==null||(n=globalThis.document)===null||n===void 0?void 0:n.body,...i}=t;return r?SI.createPortal(m.createElement(cn.div,Ye({},i,{ref:e})),r):null});function eS({prop:t,defaultProp:e,onChange:n=()=>{}}){const[r,i]=qZ({defaultProp:e,onChange:n}),o=t!==void 0,s=o?t:r,a=Ii(n),l=m.useCallback(c=>{if(o){const f=typeof c=="function"?c(t):c;f!==t&&a(f)}else i(c)},[o,t,i,a]);return[s,l]}function qZ({defaultProp:t,onChange:e}){const n=m.useState(t),[r]=n,i=m.useRef(r),o=Ii(e);return m.useEffect(()=>{i.current!==r&&(o(r),i.current=r)},[r,i,o]),n}function GZ(t){const e=m.useRef({value:t,previous:t});return m.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}const YZ=m.forwardRef((t,e)=>m.createElement(cn.span,Ye({},t,{ref:e,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...t.style}})));var YD=gD(),Gg=function(){},Hp=m.forwardRef(function(t,e){var n=m.useRef(null),r=m.useState({onScrollCapture:Gg,onWheelCapture:Gg,onTouchMoveCapture:Gg}),i=r[0],o=r[1],s=t.forwardProps,a=t.children,l=t.className,c=t.removeScrollBar,u=t.enabled,f=t.shards,h=t.sideCar,g=t.noIsolation,w=t.inert,v=t.allowPinchZoom,E=t.as,x=E===void 0?"div":E,y=q1(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as"]),b=h,P=mD([n,e]),N=sn(sn({},y),i);return m.createElement(m.Fragment,null,u&&m.createElement(b,{sideCar:YD,removeScrollBar:c,shards:f,noIsolation:g,inert:w,setCallbacks:o,allowPinchZoom:!!v,lockRef:n}),s?m.cloneElement(m.Children.only(a),sn(sn({},N),{ref:P})):m.createElement(x,sn({},N,{className:l,ref:P}),a))});Hp.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Hp.classNames={fullWidth:kc,zeroRight:Ac};var Qy=!1;if(typeof window<"u")try{var Ud=Object.defineProperty({},"passive",{get:function(){return Qy=!0,!0}});window.addEventListener("test",Ud,Ud),window.removeEventListener("test",Ud,Ud)}catch{Qy=!1}var Ks=Qy?{passive:!1}:!1,KZ=function(t){return t.tagName==="TEXTAREA"},KD=function(t,e){var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!KZ(t)&&n[e]==="visible")},QZ=function(t){return KD(t,"overflowY")},XZ=function(t){return KD(t,"overflowX")},tS=function(t,e){var n=e;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var r=QD(t,n);if(r){var i=XD(t,n),o=i[1],s=i[2];if(o>s)return!0}n=n.parentNode}while(n&&n!==document.body);return!1},JZ=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},ZZ=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},QD=function(t,e){return t==="v"?QZ(e):XZ(e)},XD=function(t,e){return t==="v"?JZ(e):ZZ(e)},eee=function(t,e){return t==="h"&&e==="rtl"?-1:1},tee=function(t,e,n,r,i){var o=eee(t,window.getComputedStyle(e).direction),s=o*r,a=n.target,l=e.contains(a),c=!1,u=s>0,f=0,h=0;do{var g=XD(t,a),w=g[0],v=g[1],E=g[2],x=v-E-o*w;(w||x)&&QD(t,a)&&(f+=x,h+=w),a=a.parentNode}while(!l&&a!==document.body||l&&(e.contains(a)||e===a));return(u&&(i&&f===0||!i&&s>f)||!u&&(i&&h===0||!i&&-s>h))&&(c=!0),c},Bd=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},nS=function(t){return[t.deltaX,t.deltaY]},rS=function(t){return t&&"current"in t?t.current:t},nee=function(t,e){return t[0]===e[0]&&t[1]===e[1]},ree=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},iee=0,Qs=[];function oee(t){var e=m.useRef([]),n=m.useRef([0,0]),r=m.useRef(),i=m.useState(iee++)[0],o=m.useState(function(){return G1()})[0],s=m.useRef(t);m.useEffect(function(){s.current=t},[t]),m.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(i));var v=pD([t.lockRef.current],(t.shards||[]).map(rS),!0).filter(Boolean);return v.forEach(function(E){return E.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),v.forEach(function(E){return E.classList.remove("allow-interactivity-".concat(i))})}}},[t.inert,t.lockRef.current,t.shards]);var a=m.useCallback(function(v,E){if("touches"in v&&v.touches.length===2)return!s.current.allowPinchZoom;var x=Bd(v),y=n.current,b="deltaX"in v?v.deltaX:y[0]-x[0],P="deltaY"in v?v.deltaY:y[1]-x[1],N,M=v.target,S=Math.abs(b)>Math.abs(P)?"h":"v";if("touches"in v&&S==="h"&&M.type==="range")return!1;var C=tS(S,M);if(!C)return!0;if(C?N=S:(N=S==="v"?"h":"v",C=tS(S,M)),!C)return!1;if(!r.current&&"changedTouches"in v&&(b||P)&&(r.current=N),!N)return!0;var I=r.current||N;return tee(I,E,v,I==="h"?b:P,!0)},[]),l=m.useCallback(function(v){var E=v;if(!(!Qs.length||Qs[Qs.length-1]!==o)){var x="deltaY"in E?nS(E):Bd(E),y=e.current.filter(function(N){return N.name===E.type&&N.target===E.target&&nee(N.delta,x)})[0];if(y&&y.should){E.cancelable&&E.preventDefault();return}if(!y){var b=(s.current.shards||[]).map(rS).filter(Boolean).filter(function(N){return N.contains(E.target)}),P=b.length>0?a(E,b[0]):!s.current.noIsolation;P&&E.cancelable&&E.preventDefault()}}},[]),c=m.useCallback(function(v,E,x,y){var b={name:v,delta:E,target:x,should:y};e.current.push(b),setTimeout(function(){e.current=e.current.filter(function(P){return P!==b})},1)},[]),u=m.useCallback(function(v){n.current=Bd(v),r.current=void 0},[]),f=m.useCallback(function(v){c(v.type,nS(v),v.target,a(v,t.lockRef.current))},[]),h=m.useCallback(function(v){c(v.type,Bd(v),v.target,a(v,t.lockRef.current))},[]);m.useEffect(function(){return Qs.push(o),t.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:h}),document.addEventListener("wheel",l,Ks),document.addEventListener("touchmove",l,Ks),document.addEventListener("touchstart",u,Ks),function(){Qs=Qs.filter(function(v){return v!==o}),document.removeEventListener("wheel",l,Ks),document.removeEventListener("touchmove",l,Ks),document.removeEventListener("touchstart",u,Ks)}},[]);var g=t.removeScrollBar,w=t.inert;return m.createElement(m.Fragment,null,w?m.createElement(o,{styles:ree(i)}):null,g?m.createElement(_D,{gapMode:"margin"}):null)}const see=yD(YD,oee);var JD=m.forwardRef(function(t,e){return m.createElement(Hp,sn({},t,{ref:e,sideCar:see}))});JD.classNames=Hp.classNames;const aee=JD,lee=[" ","Enter","ArrowUp","ArrowDown"],cee=[" ","Enter"],qp="Select",[Gp,Q1,uee]=dZ(qp),[Tl,Ine]=K1(qp,[uee,zD]),X1=zD(),[dee,Fs]=Tl(qp),[fee,hee]=Tl(qp),pee=t=>{const{__scopeSelect:e,children:n,open:r,defaultOpen:i,onOpenChange:o,value:s,defaultValue:a,onValueChange:l,dir:c,name:u,autoComplete:f,disabled:h,required:g}=t,w=X1(e),[v,E]=m.useState(null),[x,y]=m.useState(null),[b,P]=m.useState(!1),N=hZ(c),[M=!1,S]=eS({prop:r,defaultProp:i,onChange:o}),[C,I]=eS({prop:s,defaultProp:a,onChange:l}),A=m.useRef(null),D=v?!!v.closest("form"):!0,[O,R]=m.useState(new Set),F=Array.from(O).map(q=>q.props.value).join(";");return m.createElement(BZ,w,m.createElement(dee,{required:g,scope:e,trigger:v,onTriggerChange:E,valueNode:x,onValueNodeChange:y,valueNodeHasChildren:b,onValueNodeHasChildrenChange:P,contentId:UD(),value:C,onValueChange:I,open:M,onOpenChange:S,dir:N,triggerPointerDownPosRef:A,disabled:h},m.createElement(Gp.Provider,{scope:e},m.createElement(fee,{scope:t.__scopeSelect,onNativeOptionAdd:m.useCallback(q=>{R(K=>new Set(K).add(q))},[]),onNativeOptionRemove:m.useCallback(q=>{R(K=>{const z=new Set(K);return z.delete(q),z})},[])},n)),D?m.createElement(nM,{key:F,"aria-hidden":!0,required:g,tabIndex:-1,name:u,autoComplete:f,value:C,onChange:q=>I(q.target.value),disabled:h},C===void 0?m.createElement("option",{value:""}):null,Array.from(O)):null))},mee="SelectTrigger",gee=m.forwardRef((t,e)=>{const{__scopeSelect:n,disabled:r=!1,...i}=t,o=X1(n),s=Fs(mee,n),a=s.disabled||r,l=An(e,s.onTriggerChange),c=Q1(n),[u,f,h]=rM(w=>{const v=c().filter(y=>!y.disabled),E=v.find(y=>y.value===s.value),x=iM(v,w,E);x!==void 0&&s.onValueChange(x.value)}),g=()=>{a||(s.onOpenChange(!0),h())};return m.createElement(WZ,Ye({asChild:!0},o),m.createElement(cn.button,Ye({type:"button",role:"combobox","aria-controls":s.contentId,"aria-expanded":s.open,"aria-required":s.required,"aria-autocomplete":"none",dir:s.dir,"data-state":s.open?"open":"closed",disabled:a,"data-disabled":a?"":void 0,"data-placeholder":tM(s.value)?"":void 0},i,{ref:l,onClick:mn(i.onClick,w=>{w.currentTarget.focus()}),onPointerDown:mn(i.onPointerDown,w=>{const v=w.target;v.hasPointerCapture(w.pointerId)&&v.releasePointerCapture(w.pointerId),w.button===0&&w.ctrlKey===!1&&(g(),s.triggerPointerDownPosRef.current={x:Math.round(w.pageX),y:Math.round(w.pageY)},w.preventDefault())}),onKeyDown:mn(i.onKeyDown,w=>{const v=u.current!=="";!(w.ctrlKey||w.altKey||w.metaKey)&&w.key.length===1&&f(w.key),!(v&&w.key===" ")&&lee.includes(w.key)&&(g(),w.preventDefault())})})))}),vee="SelectValue",yee=m.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:i,children:o,placeholder:s="",...a}=t,l=Fs(vee,n),{onValueNodeHasChildrenChange:c}=l,u=o!==void 0,f=An(e,l.onValueNodeChange);return Ai(()=>{c(u)},[c,u]),m.createElement(cn.span,Ye({},a,{ref:f,style:{pointerEvents:"none"}}),tM(l.value)?m.createElement(m.Fragment,null,s):o)}),wee=m.forwardRef((t,e)=>{const{__scopeSelect:n,children:r,...i}=t;return m.createElement(cn.span,Ye({"aria-hidden":!0},i,{ref:e}),r||"▼")}),_ee=t=>m.createElement(HZ,Ye({asChild:!0},t)),sl="SelectContent",xee=m.forwardRef((t,e)=>{const n=Fs(sl,t.__scopeSelect),[r,i]=m.useState();if(Ai(()=>{i(new DocumentFragment)},[]),!n.open){const o=r;return o?jo.createPortal(m.createElement(ZD,{scope:t.__scopeSelect},m.createElement(Gp.Slot,{scope:t.__scopeSelect},m.createElement("div",null,t.children))),o):null}return m.createElement(Eee,Ye({},t,{ref:e}))}),ri=10,[ZD,Yp]=Tl(sl),Eee=m.forwardRef((t,e)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:o,onPointerDownOutside:s,side:a,sideOffset:l,align:c,alignOffset:u,arrowPadding:f,collisionBoundary:h,collisionPadding:g,sticky:w,hideWhenDetached:v,avoidCollisions:E,...x}=t,y=Fs(sl,n),[b,P]=m.useState(null),[N,M]=m.useState(null),S=An(e,Q=>P(Q)),[C,I]=m.useState(null),[A,D]=m.useState(null),O=Q1(n),[R,F]=m.useState(!1),q=m.useRef(!1);m.useEffect(()=>{if(b)return H1(b)},[b]),bZ();const K=m.useCallback(Q=>{const[ee,...oe]=O().map(Ce=>Ce.ref.current),[te]=oe.slice(-1),pe=document.activeElement;for(const Ce of Q)if(Ce===pe||(Ce==null||Ce.scrollIntoView({block:"nearest"}),Ce===ee&&N&&(N.scrollTop=0),Ce===te&&N&&(N.scrollTop=N.scrollHeight),Ce==null||Ce.focus(),document.activeElement!==pe))return},[O,N]),z=m.useCallback(()=>K([C,b]),[K,C,b]);m.useEffect(()=>{R&&z()},[R,z]);const{onOpenChange:L,triggerPointerDownPosRef:j}=y;m.useEffect(()=>{if(b){let Q={x:0,y:0};const ee=te=>{var pe,Ce,Ke,st;Q={x:Math.abs(Math.round(te.pageX)-((pe=(Ce=j.current)===null||Ce===void 0?void 0:Ce.x)!==null&&pe!==void 0?pe:0)),y:Math.abs(Math.round(te.pageY)-((Ke=(st=j.current)===null||st===void 0?void 0:st.y)!==null&&Ke!==void 0?Ke:0))}},oe=te=>{Q.x<=10&&Q.y<=10?te.preventDefault():b.contains(te.target)||L(!1),document.removeEventListener("pointermove",ee),j.current=null};return j.current!==null&&(document.addEventListener("pointermove",ee),document.addEventListener("pointerup",oe,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",ee),document.removeEventListener("pointerup",oe,{capture:!0})}}},[b,L,j]),m.useEffect(()=>{const Q=()=>L(!1);return window.addEventListener("blur",Q),window.addEventListener("resize",Q),()=>{window.removeEventListener("blur",Q),window.removeEventListener("resize",Q)}},[L]);const[B,$]=rM(Q=>{const ee=O().filter(pe=>!pe.disabled),oe=ee.find(pe=>pe.ref.current===document.activeElement),te=iM(ee,Q,oe);te&&setTimeout(()=>te.ref.current.focus())}),H=m.useCallback((Q,ee,oe)=>{const te=!q.current&&!oe;(y.value!==void 0&&y.value===ee||te)&&(I(Q),te&&(q.current=!0))},[y.value]),W=m.useCallback(()=>b==null?void 0:b.focus(),[b]),J=m.useCallback((Q,ee,oe)=>{const te=!q.current&&!oe;(y.value!==void 0&&y.value===ee||te)&&D(Q)},[y.value]),he=r==="popper"?iS:bee,fe=he===iS?{side:a,sideOffset:l,align:c,alignOffset:u,arrowPadding:f,collisionBoundary:h,collisionPadding:g,sticky:w,hideWhenDetached:v,avoidCollisions:E}:{};return m.createElement(ZD,{scope:n,content:b,viewport:N,onViewportChange:M,itemRefCallback:H,selectedItem:C,onItemLeave:W,itemTextRefCallback:J,focusSelectedItem:z,selectedItemText:A,position:r,isPositioned:R,searchRef:B},m.createElement(aee,{as:hu,allowPinchZoom:!0},m.createElement(TZ,{asChild:!0,trapped:y.open,onMountAutoFocus:Q=>{Q.preventDefault()},onUnmountAutoFocus:mn(i,Q=>{var ee;(ee=y.trigger)===null||ee===void 0||ee.focus({preventScroll:!0}),Q.preventDefault()})},m.createElement(_Z,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:o,onPointerDownOutside:s,onFocusOutside:Q=>Q.preventDefault(),onDismiss:()=>y.onOpenChange(!1)},m.createElement(he,Ye({role:"listbox",id:y.contentId,"data-state":y.open?"open":"closed",dir:y.dir,onContextMenu:Q=>Q.preventDefault()},x,fe,{onPlaced:()=>F(!0),ref:S,style:{display:"flex",flexDirection:"column",outline:"none",...x.style},onKeyDown:mn(x.onKeyDown,Q=>{const ee=Q.ctrlKey||Q.altKey||Q.metaKey;if(Q.key==="Tab"&&Q.preventDefault(),!ee&&Q.key.length===1&&$(Q.key),["ArrowUp","ArrowDown","Home","End"].includes(Q.key)){let te=O().filter(pe=>!pe.disabled).map(pe=>pe.ref.current);if(["ArrowUp","End"].includes(Q.key)&&(te=te.slice().reverse()),["ArrowUp","ArrowDown"].includes(Q.key)){const pe=Q.target,Ce=te.indexOf(pe);te=te.slice(Ce+1)}setTimeout(()=>K(te)),Q.preventDefault()}})}))))))}),bee=m.forwardRef((t,e)=>{const{__scopeSelect:n,onPlaced:r,...i}=t,o=Fs(sl,n),s=Yp(sl,n),[a,l]=m.useState(null),[c,u]=m.useState(null),f=An(e,S=>u(S)),h=Q1(n),g=m.useRef(!1),w=m.useRef(!0),{viewport:v,selectedItem:E,selectedItemText:x,focusSelectedItem:y}=s,b=m.useCallback(()=>{if(o.trigger&&o.valueNode&&a&&c&&v&&E&&x){const S=o.trigger.getBoundingClientRect(),C=c.getBoundingClientRect(),I=o.valueNode.getBoundingClientRect(),A=x.getBoundingClientRect();if(o.dir!=="rtl"){const pe=A.left-C.left,Ce=I.left-pe,Ke=S.left-Ce,st=S.width+Ke,Lt=Math.max(st,C.width),nr=window.innerWidth-ri,Er=qC(Ce,[ri,nr-Lt]);a.style.minWidth=st+"px",a.style.left=Er+"px"}else{const pe=C.right-A.right,Ce=window.innerWidth-I.right-pe,Ke=window.innerWidth-S.right-Ce,st=S.width+Ke,Lt=Math.max(st,C.width),nr=window.innerWidth-ri,Er=qC(Ce,[ri,nr-Lt]);a.style.minWidth=st+"px",a.style.right=Er+"px"}const D=h(),O=window.innerHeight-ri*2,R=v.scrollHeight,F=window.getComputedStyle(c),q=parseInt(F.borderTopWidth,10),K=parseInt(F.paddingTop,10),z=parseInt(F.borderBottomWidth,10),L=parseInt(F.paddingBottom,10),j=q+K+R+L+z,B=Math.min(E.offsetHeight*5,j),$=window.getComputedStyle(v),H=parseInt($.paddingTop,10),W=parseInt($.paddingBottom,10),J=S.top+S.height/2-ri,he=O-J,fe=E.offsetHeight/2,Q=E.offsetTop+fe,ee=q+K+Q,oe=j-ee;if(ee<=J){const pe=E===D[D.length-1].ref.current;a.style.bottom="0px";const Ce=c.clientHeight-v.offsetTop-v.offsetHeight,Ke=Math.max(he,fe+(pe?W:0)+Ce+z),st=ee+Ke;a.style.height=st+"px"}else{const pe=E===D[0].ref.current;a.style.top="0px";const Ke=Math.max(J,q+v.offsetTop+(pe?H:0)+fe)+oe;a.style.height=Ke+"px",v.scrollTop=ee-J+v.offsetTop}a.style.margin=`${ri}px 0`,a.style.minHeight=B+"px",a.style.maxHeight=O+"px",r==null||r(),requestAnimationFrame(()=>g.current=!0)}},[h,o.trigger,o.valueNode,a,c,v,E,x,o.dir,r]);Ai(()=>b(),[b]);const[P,N]=m.useState();Ai(()=>{c&&N(window.getComputedStyle(c).zIndex)},[c]);const M=m.useCallback(S=>{S&&w.current===!0&&(b(),y==null||y(),w.current=!1)},[b,y]);return m.createElement(Tee,{scope:n,contentWrapper:a,shouldExpandOnScrollRef:g,onScrollButtonChange:M},m.createElement("div",{ref:l,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:P}},m.createElement(cn.div,Ye({},i,{ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}}))))}),iS=m.forwardRef((t,e)=>{const{__scopeSelect:n,align:r="start",collisionPadding:i=ri,...o}=t,s=X1(n);return m.createElement(zZ,Ye({},s,o,{ref:e,align:r,collisionPadding:i,style:{boxSizing:"border-box",...o.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}}))}),[Tee,Cee]=Tl(sl,{}),oS="SelectViewport",See=m.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=Yp(oS,n),o=Cee(oS,n),s=An(e,i.onViewportChange),a=m.useRef(0);return m.createElement(m.Fragment,null,m.createElement("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"}}),m.createElement(Gp.Slot,{scope:n},m.createElement(cn.div,Ye({"data-radix-select-viewport":"",role:"presentation"},r,{ref:s,style:{position:"relative",flex:1,overflow:"auto",...r.style},onScroll:mn(r.onScroll,l=>{const c=l.currentTarget,{contentWrapper:u,shouldExpandOnScrollRef:f}=o;if(f!=null&&f.current&&u){const h=Math.abs(a.current-c.scrollTop);if(h>0){const g=window.innerHeight-ri*2,w=parseFloat(u.style.minHeight),v=parseFloat(u.style.height),E=Math.max(w,v);if(E<g){const x=E+h,y=Math.min(g,x),b=x-y;u.style.height=y+"px",u.style.bottom==="0px"&&(c.scrollTop=b>0?b:0,u.style.justifyContent="flex-end")}}}a.current=c.scrollTop})}))))}),Pee="SelectGroup",[Ane,Iee]=Tl(Pee),Aee="SelectLabel",kee=m.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=Iee(Aee,n);return m.createElement(cn.div,Ye({id:i.id},r,{ref:e}))}),Xy="SelectItem",[Ree,eM]=Tl(Xy),Nee=m.forwardRef((t,e)=>{const{__scopeSelect:n,value:r,disabled:i=!1,textValue:o,...s}=t,a=Fs(Xy,n),l=Yp(Xy,n),c=a.value===r,[u,f]=m.useState(o??""),[h,g]=m.useState(!1),w=An(e,x=>{var y;return(y=l.itemRefCallback)===null||y===void 0?void 0:y.call(l,x,r,i)}),v=UD(),E=()=>{i||(a.onValueChange(r),a.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return m.createElement(Ree,{scope:n,value:r,disabled:i,textId:v,isSelected:c,onItemTextChange:m.useCallback(x=>{f(y=>{var b;return y||((b=x==null?void 0:x.textContent)!==null&&b!==void 0?b:"").trim()})},[])},m.createElement(Gp.ItemSlot,{scope:n,value:r,disabled:i,textValue:u},m.createElement(cn.div,Ye({role:"option","aria-labelledby":v,"data-highlighted":h?"":void 0,"aria-selected":c&&h,"data-state":c?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1},s,{ref:w,onFocus:mn(s.onFocus,()=>g(!0)),onBlur:mn(s.onBlur,()=>g(!1)),onPointerUp:mn(s.onPointerUp,E),onPointerMove:mn(s.onPointerMove,x=>{if(i){var y;(y=l.onItemLeave)===null||y===void 0||y.call(l)}else x.currentTarget.focus({preventScroll:!0})}),onPointerLeave:mn(s.onPointerLeave,x=>{if(x.currentTarget===document.activeElement){var y;(y=l.onItemLeave)===null||y===void 0||y.call(l)}}),onKeyDown:mn(s.onKeyDown,x=>{var y;((y=l.searchRef)===null||y===void 0?void 0:y.current)!==""&&x.key===" "||(cee.includes(x.key)&&E(),x.key===" "&&x.preventDefault())})}))))}),Wd="SelectItemText",Dee=m.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:i,...o}=t,s=Fs(Wd,n),a=Yp(Wd,n),l=eM(Wd,n),c=hee(Wd,n),[u,f]=m.useState(null),h=An(e,x=>f(x),l.onItemTextChange,x=>{var y;return(y=a.itemTextRefCallback)===null||y===void 0?void 0:y.call(a,x,l.value,l.disabled)}),g=u==null?void 0:u.textContent,w=m.useMemo(()=>m.createElement("option",{key:l.value,value:l.value,disabled:l.disabled},g),[l.disabled,l.value,g]),{onNativeOptionAdd:v,onNativeOptionRemove:E}=c;return Ai(()=>(v(w),()=>E(w)),[v,E,w]),m.createElement(m.Fragment,null,m.createElement(cn.span,Ye({id:l.textId},o,{ref:h})),l.isSelected&&s.valueNode&&!s.valueNodeHasChildren?jo.createPortal(o.children,s.valueNode):null)}),Mee="SelectItemIndicator",Oee=m.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return eM(Mee,n).isSelected?m.createElement(cn.span,Ye({"aria-hidden":!0},r,{ref:e})):null}),Lee=m.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return m.createElement(cn.div,Ye({"aria-hidden":!0},r,{ref:e}))});function tM(t){return t===""||t===void 0}const nM=m.forwardRef((t,e)=>{const{value:n,...r}=t,i=m.useRef(null),o=An(e,i),s=GZ(n);return m.useEffect(()=>{const a=i.current,l=window.HTMLSelectElement.prototype,u=Object.getOwnPropertyDescriptor(l,"value").set;if(s!==n&&u){const f=new Event("change",{bubbles:!0});u.call(a,n),a.dispatchEvent(f)}},[s,n]),m.createElement(YZ,{asChild:!0},m.createElement("select",Ye({},r,{ref:o,defaultValue:n})))});nM.displayName="BubbleSelect";function rM(t){const e=Ii(t),n=m.useRef(""),r=m.useRef(0),i=m.useCallback(s=>{const a=n.current+s;e(a),function l(c){n.current=c,window.clearTimeout(r.current),c!==""&&(r.current=window.setTimeout(()=>l(""),1e3))}(a)},[e]),o=m.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return m.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,i,o]}function iM(t,e,n){const i=e.length>1&&Array.from(e).every(c=>c===e[0])?e[0]:e,o=n?t.indexOf(n):-1;let s=Vee(t,Math.max(o,0));i.length===1&&(s=s.filter(c=>c!==n));const l=s.find(c=>c.textValue.toLowerCase().startsWith(i.toLowerCase()));return l!==n?l:void 0}function Vee(t,e){return t.map((n,r)=>t[(e+r)%t.length])}const jee=pee,oM=gee,Fee=yee,$ee=wee,Uee=_ee,sM=xee,Bee=See,aM=kee,lM=Nee,Wee=Dee,zee=Oee,cM=Lee,Jy=jee,Zy=Fee,Mh=we.forwardRef(({className:t,children:e,...n},r)=>p.jsxs(oM,{ref:r,className:Ne("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 focus:shadow-[0_0_0_3px_rgba(226,125,191,0.2)] disabled:cursor-not-allowed disabled:opacity-50",t),...n,children:[e,p.jsx($ee,{asChild:!0,children:p.jsx(Zz,{className:"h-4 w-4 opacity-50"})})]}));Mh.displayName=oM.displayName;const Oh=we.forwardRef(({className:t,children:e,position:n="popper",...r},i)=>p.jsx(Uee,{children:p.jsx(sM,{ref:i,className:Ne("relative z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...r,children:p.jsx(Bee,{className:Ne("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e})})}));Oh.displayName=sM.displayName;const Hee=we.forwardRef(({className:t,...e},n)=>p.jsx(aM,{ref:n,className:Ne("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...e}));Hee.displayName=aM.displayName;const xa=we.forwardRef(({className:t,children:e,...n},r)=>p.jsxs(lM,{ref:r,className:Ne("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[p.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:p.jsx(zee,{children:p.jsx(bh,{className:"h-4 w-4"})})}),p.jsx(Wee,{children:e})]}));xa.displayName=lM.displayName;const qee=we.forwardRef(({className:t,...e},n)=>p.jsx(cM,{ref:n,className:Ne("-mx-1 my-1 h-px bg-muted",t),...e}));qee.displayName=cM.displayName;const Gee=({date:t,setDate:e,time:n,setTime:r,temperatureRaw:i,setTemperatureRaw:o,temperatureCorrected:s,setTemperatureCorrected:a,useCorrected:l,setUseCorrected:c,mucusSensation:u,setMucusSensation:f,mucusAppearance:h,setMucusAppearance:g,fertilitySymbol:w,setFertilitySymbol:v,observations:E,setObservations:x,ignored:y,setIgnored:b,isProcessing:P,isEditing:N,initialData:M,cycleStartDate:S,cycleEndDate:C})=>{const[I,A]=m.useState(!1);m.useEffect(()=>{N&&M&&(e(M.timestamp?ie(M.timestamp):ie(M.isoDate)),r(M.timestamp?_e(ie(M.timestamp),"HH:mm"):""),o(M.temperature_raw??""),a(M.temperature_corrected??""),c(M.use_corrected??!1),f(M.mucus_sensation??""),g(M.mucus_appearance??""),v(M.fertility_symbol??"none"),x(M.observations??""),b(M.ignored??!1))},[N,M]);const D=Se(ie(S)),O=C?Se(ie(C)):Rt(D,45),R=[{before:D},{after:O}];return p.jsxs(p.Fragment,{children:[p.jsxs("div",{className:"space-y-2",children:[p.jsxs(Bt,{htmlFor:"date",className:"flex items-center text-gray-700 text-lg",children:[p.jsx(sC,{className:"mr-2 h-5 w-5 text-pink-400"}),"Fecha del Registro"]}),p.jsxs(iZ,{open:I,onOpenChange:A,children:[p.jsx(oZ,{asChild:!0,children:p.jsxs(Ee,{variant:"outline",className:Ne("w-full justify-start text-left font-normal bg-gray-50 border-gray-200 text-gray-800 hover:bg-gray-100 hover:text-gray-800",!t&&"text-muted-foreground"),disabled:P,children:[p.jsx(sC,{className:"mr-2 h-4 w-4"}),t?_e(t,"PPP",{locale:rl}):p.jsx("span",{children:"Selecciona una fecha"})]})}),p.jsx(VD,{className:"w-auto p-0 bg-gray-50 border-gray-200 text-gray-800",align:"start",children:p.jsx(kN,{mode:"single",selected:t,onSelect:F=>{e(Se(F||new Date)),A(!1)},initialFocus:!0,locale:rl,disabled:P?()=>!0:R,className:"[&_button]:text-gray-800 [&_button:hover]:bg-gray-100 [&_button[aria-selected=true]]:bg-pink-500"})})]})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsxs(Bt,{htmlFor:"temperatureRaw",className:"flex items-center text-gray-700 text-lg",children:[p.jsx(mH,{className:"mr-2 h-5 w-5 text-rose-400"}),N?"Temperatura Original (°C)":"Temperatura Basal (°C)"," ",p.jsx("span",{className:"text-sm text-gray-700 ml-1",children:"(Opcional)"})]}),p.jsx(Xn,{id:"temperatureRaw",type:"number",step:"0.01",min:"34.0",max:"40.0",value:i,onChange:F=>o(F.target.value),placeholder:"Ej: 36.50",className:"bg-gray-50 border-gray-200 text-gray-800 placeholder-gray-400 focus:ring-pink-500 focus:border-pink-500 text-base",disabled:P||N&&(M==null?void 0:M.temperature_raw)!==null&&(M==null?void 0:M.temperature_raw)!==void 0,readOnly:N&&(M==null?void 0:M.temperature_raw)!==null&&(M==null?void 0:M.temperature_raw)!==void 0}),p.jsxs("div",{className:"space-y-2",children:[p.jsxs(Bt,{htmlFor:"time",className:"flex items-center text-gray-700 text-lg",children:[p.jsx(nH,{className:"mr-2 h-5 w-5 text-rose-400"}),"Hora de la Temperatura ",p.jsx("span",{className:"text-sm text-gray-700 ml-1",children:"(Opcional)"})]}),p.jsx(Xn,{id:"time",type:"time",value:n,onChange:F=>r(F.target.value),className:"bg-gray-50 border-gray-200 text-gray-800 placeholder-gray-400 focus:ring-pink-500 focus:border-pink-500 text-base",disabled:P})]})]}),N&&p.jsxs("div",{children:[p.jsxs("div",{className:"space-y-3 p-4 border border-gray-200 rounded-md bg-gray-50",children:[p.jsxs(Bt,{htmlFor:"temperatureCorrected",className:"flex items-center text-gray-700 text-md",children:[p.jsx(jy,{className:"mr-2 h-4 w-4 text-amber-400"}),"Temperatura Corregida (°C) ",p.jsx("span",{className:"text-sm text-gray-500 ml-1",children:"(Opcional)"})]}),p.jsx("div",{className:"flex items-center space-x-2"}),p.jsx(Xn,{id:"temperatureCorrected",type:"number",step:"0.01",min:"34.0",max:"40.0",value:s,onChange:F=>{a(F.target.value),F.target.value!==""&&c(!0)},placeholder:"Ej: 36.65",className:"bg-gray-50 border-gray-200 text-gray-800 placeholder-gray-400 focus:ring-pink-500 focus:border-pink-500 text-base",disabled:P}),p.jsx("button",{type:"button",onClick:()=>{a(""),c(!1)},className:"absolute right-2 transform -translate-y-20 text-rose-400  hover:text-rose-400",title:"Eliminar corrección",children:"X"})]}),p.jsxs("div",{className:"flex items-center space-x-2 mt-2",children:[p.jsx(wN,{id:"useCorrected",checked:l,onCheckedChange:c,className:"data-[state=checked]:bg-pink-500 data-[state=checked]:text-white border-gray-500",disabled:P||s===""}),p.jsx(Bt,{htmlFor:"useCorrected",className:"text-sm text-gray-500",children:"Usar corrección en la gráfica"})]}),p.jsxs(Ee,{type:"button",variant:y?"outline":"destructive",size:"sm",onClick:()=>b(!y),className:"mt-2 hover:bg-rose-200/20",disabled:P,children:[y?p.jsx(el,{className:"mr-1 h-4 w-4"}):p.jsx(Mp,{className:"mr-1 h-4 w-4"}),y?"Restaurar":"Despreciar"]})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsxs(Bt,{htmlFor:"fertilitySymbol",className:"flex items-center text-gray-700 text-lg",children:[p.jsx(dH,{className:"mr-2 h-5 w-5 text-teal-400"}),"Símbolo de Fertilidad"]}),p.jsxs(Jy,{value:w,onValueChange:v,disabled:P,children:[p.jsx(Mh,{className:"w-full bg-gray-50 border-gray-200 text-gray-800 hover:bg-gray-100 hover:text-gray-800",children:p.jsx(Zy,{placeholder:"Selecciona un símbolo"})}),p.jsx(Oh,{className:"bg-gray-50 border-gray-200 text-gray-800",children:cN.map(F=>p.jsx(xa,{value:F.value,className:"hover:bg-gray-100 focus:bg-gray-100",children:p.jsxs("div",{className:"flex items-center",children:[p.jsx("span",{className:`w-4 h-4 rounded-full mr-2 ${F.color} ${F.pattern?"pattern-bg":""}`}),F.label]})},F.value))})]})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsxs(Bt,{htmlFor:"mucusSensation",className:"flex items-center text-gray-700 text-lg",children:[p.jsx(rH,{className:"mr-2 h-5 w-5 text-sky-400"}),"Sensación del Moco Cervical"]}),p.jsx(yf,{id:"mucusSensation",value:u,onChange:F=>f(F.target.value),placeholder:"Describe la sensación (ej: Seca, Húmeda, Mojada)",className:"bg-gray-50 border-gray-200 text-gray-800 placeholder-gray-400 focus:ring-pink-500 focus:border-pink-500 text-base min-h-[80px]",disabled:P})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsxs(Bt,{htmlFor:"mucusAppearance",className:"flex items-center text-gray-700 text-lg",children:[p.jsx(el,{className:"mr-2 h-5 w-5 text-amber-400"}),"Apariencia del Moco Cervical"]}),p.jsx(yf,{id:"mucusAppearance",value:h,onChange:F=>g(F.target.value),placeholder:"Describe la apariencia (ej: Pegajoso, Elástico)",className:"bg-gray-50 border-gray-200 text-gray-800 placeholder-gray-400 focus:ring-pink-500 focus:border-pink-500 text-base min-h-[80px]",disabled:P})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsxs(Bt,{htmlFor:"observations",className:"flex items-center text-gray-700 text-lg",children:[p.jsx(Jz,{className:"mr-2 h-5 w-5 text-indigo-400"}),"Observaciones Adicionales"]}),p.jsx(yf,{id:"observations",value:E,onChange:F=>x(F.target.value),placeholder:"Anota cualquier otra observación relevante (ej: Dolor, medicación)",className:"bg-gray-50 border-gray-200 text-gray-800 placeholder-gray-400 focus:ring-pink-500 focus:border-pink-500 text-base min-h-[80px]",disabled:P})]})]})},Yee=({onCancel:t,isProcessing:e,isEditing:n})=>p.jsxs("div",{className:"flex space-x-4 pt-4",children:[t&&p.jsxs(Ee,{type:"button",onClick:t,variant:"outline",className:"w-full border-gray-300 text-gray-700 hover:bg-gray-100 font-semibold py-3 text-lg",disabled:e,children:[p.jsx(cu,{className:"mr-2 h-5 w-5"}),"Cancelar"]}),p.jsxs(Ee,{type:"submit",className:"w-full bg-gradient-to-r from-pink-500 to-fuchsia-600 hover:from-pink-600 hover:to-fuchsia-700 text-white font-semibold py-3 text-lg shadow-md hover:shadow-lg transition-all duration-300 transform hover:scale-102",disabled:e,children:[e?p.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white mr-2"}):p.jsx(hH,{className:"mr-2 h-5 w-5"}),n?"Actualizar Registro":"Guardar"]})]}),Kee=(t,e,n,r,i)=>{const[o,s]=m.useState(e!=null&&e.isoDate?ie(e.isoDate):Se(new Date)),[a,l]=m.useState((e==null?void 0:e.temperature_raw)===null||(e==null?void 0:e.temperature_raw)===void 0?"":String(e.temperature_raw)),[c,u]=m.useState(e!=null&&e.timestamp?_e(ie(e.timestamp),"HH:mm"):_e(new Date,"HH:mm")),[f,h]=m.useState((e==null?void 0:e.temperature_corrected)===null||(e==null?void 0:e.temperature_corrected)===void 0?"":String(e.temperature_corrected)),[g,w]=m.useState((e==null?void 0:e.use_corrected)||!1),[v,E]=m.useState((e==null?void 0:e.mucusSensation)||""),[x,y]=m.useState((e==null?void 0:e.mucusAppearance)||""),[b,P]=m.useState((e==null?void 0:e.fertility_symbol)||_a.NONE.value),[N,M]=m.useState((e==null?void 0:e.observations)||""),[S,C]=m.useState((e==null?void 0:e.ignored)||!1),{toast:I}=xl();return m.useEffect(()=>{e?(s(ie(e.isoDate)),l(e.temperature_raw===null||e.temperature_raw===void 0?"":String(e.temperature_raw)),u(e.timestamp?_e(ie(e.timestamp),"HH:mm"):""),h(e.temperature_corrected===null||e.temperature_corrected===void 0?"":String(e.temperature_corrected)),w(e.use_corrected||!1),E(e.mucusSensation||""),y(e.mucusAppearance||""),P(e.fertility_symbol||_a.NONE.value),M(e.observations||""),C(e.ignored||!1)):(s(Se(new Date)),l(""),u(_e(new Date,"HH:mm")),h(""),w(!1),E(""),y(""),P(_a.NONE.value),M(""),C(!1))},[e]),{date:o,setDate:s,temperatureRaw:a,setTemperatureRaw:l,time:c,setTime:u,temperatureCorrected:f,setTemperatureCorrected:h,useCorrected:g,setUseCorrected:w,mucusSensation:v,setMucusSensation:E,mucusAppearance:x,setMucusAppearance:y,fertilitySymbol:b,setFertilitySymbol:P,observations:N,setObservations:M,ignored:S,setIgnored:C,handleSubmit:D=>{if(D.preventDefault(),!o){I({title:"Error",description:"La fecha es obligatoria.",variant:"destructive"});return}const O=Se(ie(r)),R=i?Se(ie(i)):Rt(O,45);if(o<O||o>R){I({title:"Error",description:"La fecha debe estar dentro del ciclo.",variant:"destructive"});return}const F=_e(o,"yyyy-MM-dd");t({isoDate:F,time:c,temperature_raw:a===""?null:parseFloat(a),temperature_corrected:f===""?null:parseFloat(f),use_corrected:g,mucusSensation:v,mucusAppearance:x,fertility_symbol:b,observations:N,ignored:S}),n||(s(Se(new Date)),l(""),u(_e(new Date,"HH:mm")),h(""),w(!1),E(""),y(""),P(_a.NONE.value),M(""))}}},uM=({onSubmit:t,initialData:e,onCancel:n,cycleStartDate:r,cycleEndDate:i,isProcessing:o,isEditing:s=!1})=>{const a=m.useRef(null);m.useEffect(()=>{const R=a.current;if(!R)return;const F=q=>{q.target&&"scrollIntoView"in q.target&&setTimeout(()=>{q.target.scrollIntoView({behavior:"smooth",block:"center"})},50)};return R.addEventListener("focusin",F),()=>R.removeEventListener("focusin",F)},[]);const{date:l,setDate:c,time:u,setTime:f,temperatureRaw:h,setTemperatureRaw:g,temperatureCorrected:w,setTemperatureCorrected:v,useCorrected:E,setUseCorrected:x,mucusSensation:y,setMucusSensation:b,mucusAppearance:P,setMucusAppearance:N,fertilitySymbol:M,setFertilitySymbol:S,observations:C,setObservations:I,ignored:A,setIgnored:D,handleSubmit:O}=Kee(t,e,s,r,i);return p.jsxs(Te.form,{ref:a,onSubmit:O,className:"space-y-6 bg-white p-4 sm:p-6 rounded-xl border border-[#FFB1DD]/50 shadow w-full",initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5},children:[p.jsxs("div",{className:"flex justify-between items-center mb-6",children:[p.jsx("h2",{className:"text-2xl font-semibold text-[#292a46]",children:s?"Editar Registro":"Añadir Registro"}),n&&p.jsx(Ee,{type:"button",onClick:n,variant:"ghost",size:"icon",className:"text-gray-700 hover:text-pink-500 hover:bg-pink-50",children:p.jsx(cu,{className:"h-6 w-6"})})]}),p.jsx(Gee,{date:l,setDate:c,time:u,setTime:f,temperatureRaw:h,setTemperatureRaw:g,temperatureCorrected:w,setTemperatureCorrected:v,useCorrected:E,setUseCorrected:x,mucusSensation:y,setMucusSensation:b,mucusAppearance:P,setMucusAppearance:N,fertilitySymbol:M,setFertilitySymbol:S,observations:C,setObservations:I,ignored:A,setIgnored:D,isProcessing:o,isEditing:s,initialData:e,cycleStartDate:r,cycleEndDate:i}),p.jsx(Yee,{onCancel:n,isProcessing:o,isEditing:s})]})};var Qee=m.createContext(void 0);function Xee(t){const e=m.useContext(Qee);return t||e||"ltr"}function Jee(t,[e,n]){return Math.min(n,Math.max(e,t))}function Zee(t,e){return m.useReducer((n,r)=>e[n][r]??n,t)}var J1="ScrollArea",[dM,kne]=js(J1),[ete,tr]=dM(J1),fM=m.forwardRef((t,e)=>{const{__scopeScrollArea:n,type:r="hover",dir:i,scrollHideDelay:o=600,...s}=t,[a,l]=m.useState(null),[c,u]=m.useState(null),[f,h]=m.useState(null),[g,w]=m.useState(null),[v,E]=m.useState(null),[x,y]=m.useState(0),[b,P]=m.useState(0),[N,M]=m.useState(!1),[S,C]=m.useState(!1),I=lt(e,D=>l(D)),A=Xee(i);return p.jsx(ete,{scope:n,type:r,dir:A,scrollHideDelay:o,scrollArea:a,viewport:c,onViewportChange:u,content:f,onContentChange:h,scrollbarX:g,onScrollbarXChange:w,scrollbarXEnabled:N,onScrollbarXEnabledChange:M,scrollbarY:v,onScrollbarYChange:E,scrollbarYEnabled:S,onScrollbarYEnabledChange:C,onCornerWidthChange:y,onCornerHeightChange:P,children:p.jsx(ze.div,{dir:A,...s,ref:I,style:{position:"relative","--radix-scroll-area-corner-width":x+"px","--radix-scroll-area-corner-height":b+"px",...t.style}})})});fM.displayName=J1;var hM="ScrollAreaViewport",pM=m.forwardRef((t,e)=>{const{__scopeScrollArea:n,children:r,nonce:i,...o}=t,s=tr(hM,n),a=m.useRef(null),l=lt(e,a,s.onViewportChange);return p.jsxs(p.Fragment,{children:[p.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:i}),p.jsx(ze.div,{"data-radix-scroll-area-viewport":"",...o,ref:l,style:{overflowX:s.scrollbarXEnabled?"scroll":"hidden",overflowY:s.scrollbarYEnabled?"scroll":"hidden",...t.style},children:p.jsx("div",{ref:s.onContentChange,style:{minWidth:"100%",display:"table"},children:r})})]})});pM.displayName=hM;var Xr="ScrollAreaScrollbar",Z1=m.forwardRef((t,e)=>{const{forceMount:n,...r}=t,i=tr(Xr,t.__scopeScrollArea),{onScrollbarXEnabledChange:o,onScrollbarYEnabledChange:s}=i,a=t.orientation==="horizontal";return m.useEffect(()=>(a?o(!0):s(!0),()=>{a?o(!1):s(!1)}),[a,o,s]),i.type==="hover"?p.jsx(tte,{...r,ref:e,forceMount:n}):i.type==="scroll"?p.jsx(nte,{...r,ref:e,forceMount:n}):i.type==="auto"?p.jsx(mM,{...r,ref:e,forceMount:n}):i.type==="always"?p.jsx(e_,{...r,ref:e}):null});Z1.displayName=Xr;var tte=m.forwardRef((t,e)=>{const{forceMount:n,...r}=t,i=tr(Xr,t.__scopeScrollArea),[o,s]=m.useState(!1);return m.useEffect(()=>{const a=i.scrollArea;let l=0;if(a){const c=()=>{window.clearTimeout(l),s(!0)},u=()=>{l=window.setTimeout(()=>s(!1),i.scrollHideDelay)};return a.addEventListener("pointerenter",c),a.addEventListener("pointerleave",u),()=>{window.clearTimeout(l),a.removeEventListener("pointerenter",c),a.removeEventListener("pointerleave",u)}}},[i.scrollArea,i.scrollHideDelay]),p.jsx(er,{present:n||o,children:p.jsx(mM,{"data-state":o?"visible":"hidden",...r,ref:e})})}),nte=m.forwardRef((t,e)=>{const{forceMount:n,...r}=t,i=tr(Xr,t.__scopeScrollArea),o=t.orientation==="horizontal",s=Qp(()=>l("SCROLL_END"),100),[a,l]=Zee("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return m.useEffect(()=>{if(a==="idle"){const c=window.setTimeout(()=>l("HIDE"),i.scrollHideDelay);return()=>window.clearTimeout(c)}},[a,i.scrollHideDelay,l]),m.useEffect(()=>{const c=i.viewport,u=o?"scrollLeft":"scrollTop";if(c){let f=c[u];const h=()=>{const g=c[u];f!==g&&(l("SCROLL"),s()),f=g};return c.addEventListener("scroll",h),()=>c.removeEventListener("scroll",h)}},[i.viewport,o,l,s]),p.jsx(er,{present:n||a!=="hidden",children:p.jsx(e_,{"data-state":a==="hidden"?"hidden":"visible",...r,ref:e,onPointerEnter:Ue(t.onPointerEnter,()=>l("POINTER_ENTER")),onPointerLeave:Ue(t.onPointerLeave,()=>l("POINTER_LEAVE"))})})}),mM=m.forwardRef((t,e)=>{const n=tr(Xr,t.__scopeScrollArea),{forceMount:r,...i}=t,[o,s]=m.useState(!1),a=t.orientation==="horizontal",l=Qp(()=>{if(n.viewport){const c=n.viewport.offsetWidth<n.viewport.scrollWidth,u=n.viewport.offsetHeight<n.viewport.scrollHeight;s(a?c:u)}},10);return al(n.viewport,l),al(n.content,l),p.jsx(er,{present:r||o,children:p.jsx(e_,{"data-state":o?"visible":"hidden",...i,ref:e})})}),e_=m.forwardRef((t,e)=>{const{orientation:n="vertical",...r}=t,i=tr(Xr,t.__scopeScrollArea),o=m.useRef(null),s=m.useRef(0),[a,l]=m.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),c=_M(a.viewport,a.content),u={...r,sizes:a,onSizesChange:l,hasThumb:c>0&&c<1,onThumbChange:h=>o.current=h,onThumbPointerUp:()=>s.current=0,onThumbPointerDown:h=>s.current=h};function f(h,g){return lte(h,s.current,a,g)}return n==="horizontal"?p.jsx(rte,{...u,ref:e,onThumbPositionChange:()=>{if(i.viewport&&o.current){const h=i.viewport.scrollLeft,g=sS(h,a,i.dir);o.current.style.transform=`translate3d(${g}px, 0, 0)`}},onWheelScroll:h=>{i.viewport&&(i.viewport.scrollLeft=h)},onDragScroll:h=>{i.viewport&&(i.viewport.scrollLeft=f(h,i.dir))}}):n==="vertical"?p.jsx(ite,{...u,ref:e,onThumbPositionChange:()=>{if(i.viewport&&o.current){const h=i.viewport.scrollTop,g=sS(h,a);o.current.style.transform=`translate3d(0, ${g}px, 0)`}},onWheelScroll:h=>{i.viewport&&(i.viewport.scrollTop=h)},onDragScroll:h=>{i.viewport&&(i.viewport.scrollTop=f(h))}}):null}),rte=m.forwardRef((t,e)=>{const{sizes:n,onSizesChange:r,...i}=t,o=tr(Xr,t.__scopeScrollArea),[s,a]=m.useState(),l=m.useRef(null),c=lt(e,l,o.onScrollbarXChange);return m.useEffect(()=>{l.current&&a(getComputedStyle(l.current))},[l]),p.jsx(vM,{"data-orientation":"horizontal",...i,ref:c,sizes:n,style:{bottom:0,left:o.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:o.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":Kp(n)+"px",...t.style},onThumbPointerDown:u=>t.onThumbPointerDown(u.x),onDragScroll:u=>t.onDragScroll(u.x),onWheelScroll:(u,f)=>{if(o.viewport){const h=o.viewport.scrollLeft+u.deltaX;t.onWheelScroll(h),EM(h,f)&&u.preventDefault()}},onResize:()=>{l.current&&o.viewport&&s&&r({content:o.viewport.scrollWidth,viewport:o.viewport.offsetWidth,scrollbar:{size:l.current.clientWidth,paddingStart:Vh(s.paddingLeft),paddingEnd:Vh(s.paddingRight)}})}})}),ite=m.forwardRef((t,e)=>{const{sizes:n,onSizesChange:r,...i}=t,o=tr(Xr,t.__scopeScrollArea),[s,a]=m.useState(),l=m.useRef(null),c=lt(e,l,o.onScrollbarYChange);return m.useEffect(()=>{l.current&&a(getComputedStyle(l.current))},[l]),p.jsx(vM,{"data-orientation":"vertical",...i,ref:c,sizes:n,style:{top:0,right:o.dir==="ltr"?0:void 0,left:o.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":Kp(n)+"px",...t.style},onThumbPointerDown:u=>t.onThumbPointerDown(u.y),onDragScroll:u=>t.onDragScroll(u.y),onWheelScroll:(u,f)=>{if(o.viewport){const h=o.viewport.scrollTop+u.deltaY;t.onWheelScroll(h),EM(h,f)&&u.preventDefault()}},onResize:()=>{l.current&&o.viewport&&s&&r({content:o.viewport.scrollHeight,viewport:o.viewport.offsetHeight,scrollbar:{size:l.current.clientHeight,paddingStart:Vh(s.paddingTop),paddingEnd:Vh(s.paddingBottom)}})}})}),[ote,gM]=dM(Xr),vM=m.forwardRef((t,e)=>{const{__scopeScrollArea:n,sizes:r,hasThumb:i,onThumbChange:o,onThumbPointerUp:s,onThumbPointerDown:a,onThumbPositionChange:l,onDragScroll:c,onWheelScroll:u,onResize:f,...h}=t,g=tr(Xr,n),[w,v]=m.useState(null),E=lt(e,I=>v(I)),x=m.useRef(null),y=m.useRef(""),b=g.viewport,P=r.content-r.viewport,N=Ht(u),M=Ht(l),S=Qp(f,10);function C(I){if(x.current){const A=I.clientX-x.current.left,D=I.clientY-x.current.top;c({x:A,y:D})}}return m.useEffect(()=>{const I=A=>{const D=A.target;(w==null?void 0:w.contains(D))&&N(A,P)};return document.addEventListener("wheel",I,{passive:!1}),()=>document.removeEventListener("wheel",I,{passive:!1})},[b,w,P,N]),m.useEffect(M,[r,M]),al(w,S),al(g.content,S),p.jsx(ote,{scope:n,scrollbar:w,hasThumb:i,onThumbChange:Ht(o),onThumbPointerUp:Ht(s),onThumbPositionChange:M,onThumbPointerDown:Ht(a),children:p.jsx(ze.div,{...h,ref:E,style:{position:"absolute",...h.style},onPointerDown:Ue(t.onPointerDown,I=>{I.button===0&&(I.target.setPointerCapture(I.pointerId),x.current=w.getBoundingClientRect(),y.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",g.viewport&&(g.viewport.style.scrollBehavior="auto"),C(I))}),onPointerMove:Ue(t.onPointerMove,C),onPointerUp:Ue(t.onPointerUp,I=>{const A=I.target;A.hasPointerCapture(I.pointerId)&&A.releasePointerCapture(I.pointerId),document.body.style.webkitUserSelect=y.current,g.viewport&&(g.viewport.style.scrollBehavior=""),x.current=null})})})}),Lh="ScrollAreaThumb",yM=m.forwardRef((t,e)=>{const{forceMount:n,...r}=t,i=gM(Lh,t.__scopeScrollArea);return p.jsx(er,{present:n||i.hasThumb,children:p.jsx(ste,{ref:e,...r})})}),ste=m.forwardRef((t,e)=>{const{__scopeScrollArea:n,style:r,...i}=t,o=tr(Lh,n),s=gM(Lh,n),{onThumbPositionChange:a}=s,l=lt(e,f=>s.onThumbChange(f)),c=m.useRef(void 0),u=Qp(()=>{c.current&&(c.current(),c.current=void 0)},100);return m.useEffect(()=>{const f=o.viewport;if(f){const h=()=>{if(u(),!c.current){const g=cte(f,a);c.current=g,a()}};return a(),f.addEventListener("scroll",h),()=>f.removeEventListener("scroll",h)}},[o.viewport,u,a]),p.jsx(ze.div,{"data-state":s.hasThumb?"visible":"hidden",...i,ref:l,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...r},onPointerDownCapture:Ue(t.onPointerDownCapture,f=>{const g=f.target.getBoundingClientRect(),w=f.clientX-g.left,v=f.clientY-g.top;s.onThumbPointerDown({x:w,y:v})}),onPointerUp:Ue(t.onPointerUp,s.onThumbPointerUp)})});yM.displayName=Lh;var t_="ScrollAreaCorner",wM=m.forwardRef((t,e)=>{const n=tr(t_,t.__scopeScrollArea),r=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&r?p.jsx(ate,{...t,ref:e}):null});wM.displayName=t_;var ate=m.forwardRef((t,e)=>{const{__scopeScrollArea:n,...r}=t,i=tr(t_,n),[o,s]=m.useState(0),[a,l]=m.useState(0),c=!!(o&&a);return al(i.scrollbarX,()=>{var f;const u=((f=i.scrollbarX)==null?void 0:f.offsetHeight)||0;i.onCornerHeightChange(u),l(u)}),al(i.scrollbarY,()=>{var f;const u=((f=i.scrollbarY)==null?void 0:f.offsetWidth)||0;i.onCornerWidthChange(u),s(u)}),c?p.jsx(ze.div,{...r,ref:e,style:{width:o,height:a,position:"absolute",right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:0,...t.style}}):null});function Vh(t){return t?parseInt(t,10):0}function _M(t,e){const n=t/e;return isNaN(n)?0:n}function Kp(t){const e=_M(t.viewport,t.content),n=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,r=(t.scrollbar.size-n)*e;return Math.max(r,18)}function lte(t,e,n,r="ltr"){const i=Kp(n),o=i/2,s=e||o,a=i-s,l=n.scrollbar.paddingStart+s,c=n.scrollbar.size-n.scrollbar.paddingEnd-a,u=n.content-n.viewport,f=r==="ltr"?[0,u]:[u*-1,0];return xM([l,c],f)(t)}function sS(t,e,n="ltr"){const r=Kp(e),i=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,o=e.scrollbar.size-i,s=e.content-e.viewport,a=o-r,l=n==="ltr"?[0,s]:[s*-1,0],c=Jee(t,l);return xM([0,s],[0,a])(c)}function xM(t,e){return n=>{if(t[0]===t[1]||e[0]===e[1])return e[0];const r=(e[1]-e[0])/(t[1]-t[0]);return e[0]+r*(n-t[0])}}function EM(t,e){return t>0&&t<e}var cte=(t,e=()=>{})=>{let n={left:t.scrollLeft,top:t.scrollTop},r=0;return function i(){const o={left:t.scrollLeft,top:t.scrollTop},s=n.left!==o.left,a=n.top!==o.top;(s||a)&&e(),n=o,r=window.requestAnimationFrame(i)}(),()=>window.cancelAnimationFrame(r)};function Qp(t,e){const n=Ht(t),r=m.useRef(0);return m.useEffect(()=>()=>window.clearTimeout(r.current),[]),m.useCallback(()=>{window.clearTimeout(r.current),r.current=window.setTimeout(n,e)},[n,e])}function al(t,e){const n=Ht(e);qr(()=>{let r=0;if(t){const i=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(n)});return i.observe(t),()=>{window.cancelAnimationFrame(r),i.unobserve(t)}}},[t,n])}var bM=fM,ute=pM,dte=wM;const TM=we.forwardRef(({className:t,children:e,...n},r)=>p.jsxs(bM,{ref:r,className:Ne("relative overflow-hidden",t),...n,children:[p.jsx(ute,{className:"h-full w-full rounded-[inherit]",children:e}),p.jsx(CM,{}),p.jsx(dte,{})]}));TM.displayName=bM.displayName;const CM=we.forwardRef(({className:t,orientation:e="vertical",...n},r)=>p.jsx(Z1,{ref:r,orientation:e,className:Ne("flex touch-none select-none transition-colors",e==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",e==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",t),...n,children:p.jsx(yM,{className:"relative flex-1 rounded-full bg-border"})}));CM.displayName=Z1.displayName;const SM=({records:t,onEdit:e,onDelete:n,onClose:r,isArchiveView:i=!1,isProcessing:o})=>{if(!t||t.length===0)return p.jsxs(Te.div,{className:"text-center text-[#6B7280] p-8 bg-white rounded-xl shadow",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},children:[p.jsx("p",{className:"text-xl mb-4",children:"No hay registros para mostrar."}),r&&!i&&p.jsxs(Ee,{onClick:r,variant:"outline",className:"border-gray-300 hover:bg-gray-100 text-gray-700",children:[p.jsx(cu,{className:"mr-2 h-5 w-5"}),"Cerrar"]})]});const s=[...t].sort((a,l)=>{const c=a.timestamp?ie(a.timestamp):a.isoDate?ie(a.isoDate):0,u=l.timestamp?ie(l.timestamp):l.isoDate?ie(l.isoDate):0;return c-u});return p.jsxs(Te.div,{className:"w-full bg-white/70 backdrop-blur-md p-4 sm:p-6 rounded-xl ring-1 ring-[#FFB1DD]/20 shadow-xl",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},children:[p.jsxs("div",{className:"flex justify-between items-center mb-6",children:[p.jsx("h2",{className:"text-2xl font-semibold text-gray-800",children:i?"Registros del Ciclo":"Mis Registros"}),r&&!i&&p.jsx(Ee,{onClick:r,variant:"ghost",size:"icon",className:"text-gray-700 hover:text-pink-500 hover:bg-pink-50",children:p.jsx(cu,{className:"h-6 w-6"})})]}),p.jsx(TM,{className:"pr-4",children:p.jsx("ul",{className:"space-y-4",children:s.map(a=>{const l=C1(a.fertility_symbol),c=a.timestamp||a.isoDate,u=a.timestamp?_e(ie(a.timestamp),"HH:mm"):null;return p.jsxs(Te.li,{className:"bg-white/80 backdrop-blur-md ring-1 ring-[#FFB1DD]/50 border border-[#FFB1DD]/80 shadow-lg rounded-lg p-4 flex flex-col sm:flex-row justify-between items-start sm:items-center hover:shadow-xl transition-shadow duration-300",style:{boxShadow:"0 2px 6px rgba(0,0,0,0.05)"},layout:!0,initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,x:-20},transition:{duration:.2},children:[p.jsxs("div",{className:"flex-grow mb-3 sm:mb-0",children:[p.jsxs("h3",{className:"text-lg font-semibold text-pink-500 mb-1 ",children:[c?_e(ie(c),"dd/MM/yyyy",{locale:rl}):"Fecha no disponible"," (Día ",a.cycleDay||"N/A",")"]}),a.temperature_raw!=null&&p.jsxs("p",{className:"text-sm text-[#6B7280]",children:[p.jsx("span",{className:"font-semibold",children:"Original:"})," ",a.temperature_raw.toFixed(2),"°C",u&&p.jsx("span",{className:"ml-2 text-xs text-[#9CA3AF]",children:u}),a.temperature_corrected!=null&&!a.use_corrected&&p.jsx(bh,{className:"inline h-4 w-4 text-[#E27DBF] ml-1"})]}),a.temperature_corrected!=null&&p.jsxs("p",{className:"text-sm text-[#6B7280]",children:[p.jsx("span",{className:"font-semibold",children:"Corregida:"})," ",a.temperature_corrected.toFixed(2),"°C",a.use_corrected&&p.jsx(bh,{className:"inline h-4 w-4 text-emerald-400 ml-1"})]}),p.jsxs("div",{className:"flex items-center mt-1",children:[l&&l.value!=="none"&&p.jsx("span",{className:`w-4 h-4 rounded-full mr-2 ${l.color} ${l.pattern?"pattern-bg":""} ${l.value==="white"?"border border-gray-300":""}`}),p.jsx("p",{className:`text-sm ${l?l.textColor:"text-[#6B7280]"}`,children:l?l.label:"Sin Símbolo"})]}),p.jsxs("p",{className:"text-sm text-[#6B7280] mt-1",children:[p.jsx("span",{className:"font-semibold",children:"Sensación:"})," ",a.mucus_sensation||"N/A"]}),p.jsxs("p",{className:"text-sm text-[#6B7280]",children:[p.jsx("span",{className:"font-semibold",children:"Apariencia:"})," ",a.mucus_appearance||"N/A"]}),a.observations&&p.jsxs("p",{className:"text-sm text-[#6B7280] mt-1 italic",children:[p.jsx("span",{className:"font-semibold",children:"Observaciones:"})," ",a.observations]}),a.ignored&&p.jsx("p",{className:"text-xs text-rose-400 mt-1",children:"(Registro despreciado)"})]}),!i&&e&&n&&p.jsxs("div",{className:"flex space-x-2 self-end sm:self-center",children:[p.jsxs(Ee,{variant:"outline",size:"sm",onClick:()=>e(a),className:"border-sky-500 text-sky-400 hover:bg-sky-500/20 hover:text-sky-300",disabled:o,children:[p.jsx(Vy,{className:"mr-1 h-4 w-4"})," Editar"]}),p.jsxs(Ee,{variant:"destructive",size:"sm",onClick:()=>n(a.id),className:"bg-rose-600 hover:bg-rose-700",disabled:o,children:[p.jsx(Th,{className:"mr-1 h-4 w-4"})," Eliminar"]})]}),i&&e&&n&&p.jsxs("div",{className:"flex space-x-2 self-end sm:self-center",children:[p.jsxs(Ee,{variant:"outline",size:"sm",onClick:()=>e(a),className:"border-sky-500 text-sky-400 hover:bg-sky-500/20 hover:text-sky-300",disabled:o,children:[p.jsx(Vy,{className:"mr-1 h-4 w-4"})," Editar"]}),p.jsxs(Ee,{variant:"destructive",size:"sm",onClick:()=>n(a.id),className:"bg-rose-600 hover:bg-rose-700",disabled:o,children:[p.jsx(Th,{className:"mr-1 h-4 w-4"})," Eliminar"]})]})]},a.id||c)})})})]})},fte=()=>p.jsxs(Te.div,{className:"text-center text-slate-400 py-10",initial:{opacity:0},animate:{opacity:1},transition:{duration:.5,delay:.6},children:[p.jsx("p",{className:"text-xl mb-4",children:"Aún no hay datos registrados."}),p.jsx("p",{children:"Inicia un nuevo ciclo o añade un registro para comenzar."}),p.jsx("div",{className:"mt-8"})]});function Ps(t,e){m.useEffect(()=>{if(!t)return;const n=crypto.randomUUID?crypto.randomUUID():Math.random().toString(36).slice(2),r=i=>{i.state&&i.state.overlay===n&&e()};return window.history.pushState({overlay:n},""),window.addEventListener("popstate",r),()=>{window.removeEventListener("popstate",r),window.history.state&&window.history.state.overlay===n&&window.history.back()}},[t,e])}var Xp="Dialog",[PM,Rne]=js(Xp),[hte,xr]=PM(Xp),IM=t=>{const{__scopeDialog:e,children:n,open:r,defaultOpen:i,onOpenChange:o,modal:s=!0}=t,a=m.useRef(null),l=m.useRef(null),[c,u]=Op({prop:r,defaultProp:i??!1,onChange:o,caller:Xp});return p.jsx(hte,{scope:e,triggerRef:a,contentRef:l,contentId:_f(),titleId:_f(),descriptionId:_f(),open:c,onOpenChange:u,onOpenToggle:m.useCallback(()=>u(f=>!f),[u]),modal:s,children:n})};IM.displayName=Xp;var AM="DialogTrigger",kM=m.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=xr(AM,n),o=lt(e,i.triggerRef);return p.jsx(ze.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":i_(i.open),...r,ref:o,onClick:Ue(t.onClick,i.onOpenToggle)})});kM.displayName=AM;var n_="DialogPortal",[pte,RM]=PM(n_,{forceMount:void 0}),NM=t=>{const{__scopeDialog:e,forceMount:n,children:r,container:i}=t,o=xr(n_,e);return p.jsx(pte,{scope:e,forceMount:n,children:m.Children.map(r,s=>p.jsx(er,{present:n||o.open,children:p.jsx(Bp,{asChild:!0,container:i,children:s})}))})};NM.displayName=n_;var jh="DialogOverlay",DM=m.forwardRef((t,e)=>{const n=RM(jh,t.__scopeDialog),{forceMount:r=n.forceMount,...i}=t,o=xr(jh,t.__scopeDialog);return o.modal?p.jsx(er,{present:r||o.open,children:p.jsx(gte,{...i,ref:e})}):null});DM.displayName=jh;var mte=Xa("DialogOverlay.RemoveScroll"),gte=m.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=xr(jh,n);return p.jsx(CD,{as:mte,allowPinchZoom:!0,shards:[i.contentRef],children:p.jsx(ze.div,{"data-state":i_(i.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),Is="DialogContent",MM=m.forwardRef((t,e)=>{const n=RM(Is,t.__scopeDialog),{forceMount:r=n.forceMount,...i}=t,o=xr(Is,t.__scopeDialog);return p.jsx(er,{present:r||o.open,children:o.modal?p.jsx(vte,{...i,ref:e}):p.jsx(yte,{...i,ref:e})})});MM.displayName=Is;var vte=m.forwardRef((t,e)=>{const n=xr(Is,t.__scopeDialog),r=m.useRef(null),i=lt(e,n.contentRef,r);return m.useEffect(()=>{const o=r.current;if(o)return H1(o)},[]),p.jsx(OM,{...t,ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Ue(t.onCloseAutoFocus,o=>{var s;o.preventDefault(),(s=n.triggerRef.current)==null||s.focus()}),onPointerDownOutside:Ue(t.onPointerDownOutside,o=>{const s=o.detail.originalEvent,a=s.button===0&&s.ctrlKey===!0;(s.button===2||a)&&o.preventDefault()}),onFocusOutside:Ue(t.onFocusOutside,o=>o.preventDefault())})}),yte=m.forwardRef((t,e)=>{const n=xr(Is,t.__scopeDialog),r=m.useRef(!1),i=m.useRef(!1);return p.jsx(OM,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{var s,a;(s=t.onCloseAutoFocus)==null||s.call(t,o),o.defaultPrevented||(r.current||(a=n.triggerRef.current)==null||a.focus(),o.preventDefault()),r.current=!1,i.current=!1},onInteractOutside:o=>{var l,c;(l=t.onInteractOutside)==null||l.call(t,o),o.defaultPrevented||(r.current=!0,o.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const s=o.target;((c=n.triggerRef.current)==null?void 0:c.contains(s))&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&i.current&&o.preventDefault()}})}),OM=m.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:o,...s}=t,a=xr(Is,n),l=m.useRef(null),c=lt(e,l);return MN(),p.jsxs(p.Fragment,{children:[p.jsx(O1,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:o,children:p.jsx(jp,{role:"dialog",id:a.contentId,"aria-describedby":a.descriptionId,"aria-labelledby":a.titleId,"data-state":i_(a.open),...s,ref:c,onDismiss:()=>a.onOpenChange(!1)})}),p.jsxs(p.Fragment,{children:[p.jsx(wte,{titleId:a.titleId}),p.jsx(xte,{contentRef:l,descriptionId:a.descriptionId})]})]})}),r_="DialogTitle",LM=m.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=xr(r_,n);return p.jsx(ze.h2,{id:i.titleId,...r,ref:e})});LM.displayName=r_;var VM="DialogDescription",jM=m.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=xr(VM,n);return p.jsx(ze.p,{id:i.descriptionId,...r,ref:e})});jM.displayName=VM;var FM="DialogClose",$M=m.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=xr(FM,n);return p.jsx(ze.button,{type:"button",...r,ref:e,onClick:Ue(t.onClick,()=>i.onOpenChange(!1))})});$M.displayName=FM;function i_(t){return t?"open":"closed"}var UM="DialogTitleWarning",[Nne,BM]=nK(UM,{contentName:Is,titleName:r_,docsSlug:"dialog"}),wte=({titleId:t})=>{const e=BM(UM),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return m.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},_te="DialogDescriptionWarning",xte=({contentRef:t,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${BM(_te).contentName}}.`;return m.useEffect(()=>{var o;const i=(o=t.current)==null?void 0:o.getAttribute("aria-describedby");e&&i&&(document.getElementById(e)||console.warn(r))},[r,t,e]),null},WM=IM,Ete=kM,zM=NM,Jp=DM,Zp=MM,em=LM,tm=jM,HM=$M;const o_=WM,bte=zM,qM=we.forwardRef(({className:t,...e},n)=>p.jsx(Jp,{ref:n,className:Ne("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));qM.displayName=Jp.displayName;const nm=we.forwardRef(({className:t,children:e,...n},r)=>p.jsxs(bte,{children:[p.jsx(qM,{}),p.jsxs(Zp,{ref:r,className:Ne("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...n,children:[e,p.jsxs(HM,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[p.jsx(Lu,{className:"h-4 w-4"}),p.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));nm.displayName=Zp.displayName;const rm=({className:t,...e})=>p.jsx("div",{className:Ne("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});rm.displayName="DialogHeader";const im=({className:t,...e})=>p.jsx("div",{className:Ne("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});im.displayName="DialogFooter";const om=we.forwardRef(({className:t,...e},n)=>p.jsx(em,{ref:n,className:Ne("text-lg font-semibold leading-none tracking-tight",t),...e}));om.displayName=em.displayName;const sm=we.forwardRef(({className:t,...e},n)=>p.jsx(tm,{ref:n,className:Ne("text-sm text-muted-foreground",t),...e}));sm.displayName=tm.displayName;const GM=({isOpen:t,onClose:e,onConfirm:n,recordDate:r})=>(Ps(t,e),p.jsx(o_,{open:t,onOpenChange:e,children:p.jsxs(nm,{className:"bg-slate-800 border-slate-700 text-slate-50",children:[p.jsxs(rm,{children:[p.jsx(om,{children:"Confirmar Eliminación"}),p.jsxs(sm,{className:"text-slate-400",children:["¿Estás seguro de que quieres eliminar el registro del ",r,"? Esta acción no se puede deshacer."]})]}),p.jsxs(im,{className:"sm:justify-end",children:[p.jsx(Ee,{variant:"outline",onClick:e,className:"border-slate-600 hover:bg-slate-700",children:"Cancelar"}),p.jsx(Ee,{variant:"destructive",onClick:n,children:"Eliminar"})]})]})})),Tte=({isOpen:t,onClose:e,onConfirm:n,currentCycleStartDate:r})=>{const[i,o]=m.useState(_e(new Date,"yyyy-MM-dd"));Ps(t,e);const s=!r,a=()=>{n(i)};return p.jsx(o_,{open:t,onOpenChange:e,children:p.jsxs(nm,{className:"bg-white border-pink-100 text-gray-800",children:[p.jsxs(rm,{children:[p.jsx(om,{children:"Iniciar Nuevo Ciclo"}),p.jsx(sm,{className:"text-gray-600",children:s?"Este será tu primer ciclo. Selecciona la fecha de inicio.":`¿Estás seguro de que quieres iniciar un nuevo ciclo? Los datos del ciclo actual (${_e(new Date(r),"dd/MM/yyyy")} - ${_e(new Date,"dd/MM/yyyy")}) serán archivados.`})]}),p.jsxs("div",{className:"my-4 space-y-2",children:[p.jsx("label",{htmlFor:"startDate",className:"text-gray-700 text-sm",children:"Fecha de inicio del nuevo ciclo"}),p.jsx(Xn,{id:"startDate",type:"date",value:i,onChange:l=>o(l.target.value),max:_e(new Date,"yyyy-MM-dd"),className:"bg-gray-50 border-gray-200 text-gray-800"})]}),p.jsxs(im,{className:"sm:justify-end",children:[p.jsx(Ee,{variant:"outline",onClick:e,className:"border-gray-300 text-gray-700 hover:bg-gray-100",children:"Cancelar"}),p.jsx(Ee,{variant:"primary",onClick:a,className:"bg-pink-600 hover:bg-pink-700 text-white",children:s?"Iniciar Ciclo":"Confirmar Nuevo Ciclo"})]})]})})},Rc=({isOpen:t,onClose:e,onConfirm:n,initialStartDate:r,initialEndDate:i,includeEndDate:o=!0,title:s="Editar Fechas del Ciclo",description:a})=>{const[l,c]=m.useState(r||""),[u,f]=m.useState(i||""),[h,g]=m.useState("");Ps(t,e),m.useEffect(()=>{c(r||""),f(i||"")},[r,i]);const w=()=>{if(o&&!u){g("La fecha de fin es obligatoria");return}n(o?{startDate:l,endDate:u}:{startDate:l})};return p.jsx(o_,{open:t,onOpenChange:e,children:p.jsxs(nm,{className:"bg-white border-pink-100 text-gray-800",children:[p.jsxs(rm,{children:[p.jsx(om,{children:s}),p.jsx(sm,{className:"text-gray-600",children:a??(o?"Modifica la fecha de inicio y fin del ciclo.":"Modifica la fecha de inicio del ciclo.")})]}),p.jsxs("div",{className:"my-4 space-y-4",children:[p.jsxs("div",{children:[p.jsx("label",{htmlFor:"startDate",className:"text-gray-700 text-sm",children:"Inicio del ciclo"}),p.jsx(Xn,{id:"startDate",type:"date",value:l,onChange:v=>c(v.target.value),className:"bg-gray-50 border-gray-200 text-gray-800"})]}),o&&p.jsxs("div",{children:[p.jsx("label",{htmlFor:"endDate",className:"text-gray-700 text-sm",children:"Fin del ciclo"}),p.jsx(Xn,{id:"endDate",type:"date",value:u||"",onChange:v=>{f(v.target.value),g("")},className:"bg-gray-50 border-gray-200 text-gray-800"}),h&&p.jsx("p",{className:"text-red-500 text-sm mt-1",children:h})]})]}),p.jsxs(im,{className:"sm:justify-end",children:[p.jsx(Ee,{variant:"outline",onClick:e,className:"border-gray-300 text-gray-700 hover:bg-gray-100",children:"Cancelar"}),p.jsx(Ee,{variant:"primary",onClick:w,className:"bg-pink-600 hover:bg-pink-700 text-white",children:"Guardar"})]})]})})},Cte=(t,e)=>{if(!t||!e)return 0;const n=Se(ie(t)),r=Se(ie(e));return xo(n,r)+1},Yg=(t,e)=>!t||!Array.isArray(t)||!e?[]:[...t].sort((r,i)=>{const o=r.timestamp?ie(r.timestamp):r.iso_date?ie(r.iso_date):0,s=i.timestamp?ie(i.timestamp):i.iso_date?ie(i.iso_date):0;return kH(o,s)}).map(r=>({...r,id:r.id,isoDate:r.iso_date||(r.timestamp?_e(ie(r.timestamp),"yyyy-MM-dd"):null),date:r.timestamp?_e(ie(r.timestamp),"dd/MM"):r.iso_date?_e(ie(r.iso_date),"dd/MM"):"N/A",cycleDay:Cte(r.iso_date||r.timestamp,e),temperature_raw:r.temperature_raw,temperature_corrected:r.temperature_corrected,use_corrected:r.use_corrected,mucusSensation:r.mucus_sensation,mucusAppearance:r.mucus_appearance,fertility_symbol:r.fertility_symbol,observations:r.observations,ignored:r.ignored,temperature_chart:r.temperature_chart??(r.use_corrected?r.temperature_corrected??r.temperature_raw:r.temperature_raw??r.temperature_corrected),timestamp:r.timestamp})),Ste=async t=>{const e=Qn(At,`users/${t}/cycles`),n=await bi(e);if(n.empty)return null;const r=n.docs.map(l=>({id:l.id,...l.data()})).filter(l=>l.end_date===null||l.end_date===void 0).sort((l,c)=>(c.start_date||"").localeCompare(l.start_date||""));if(r.length>1&&console.warn(`Se detectaron ${r.length} ciclos abiertos. Se usará el más reciente.`),r.length===0)return null;const i=r[0],o=Qn(At,`users/${t}/cycles/${i.id}/entries`),a=(await bi(o)).docs.map(l=>({id:l.id,...l.data()}));return{id:i.id,startDate:i.start_date,endDate:i.end_date,data:a}},Pte=async(t,e)=>{const n=Qn(At,`users/${t}/cycles`),i=(await bi(n)).docs.map(s=>({id:s.id,...s.data()})).filter(s=>s.end_date!==null&&s.end_date!==void 0||e&&s.start_date&&s.start_date<e).sort((s,a)=>(a.start_date||"").localeCompare(s.start_date||""));return await Promise.all(i.map(async s=>{const a=Qn(At,`users/${t}/cycles/${s.id}/entries`),c=(await bi(a)).docs.map(u=>({id:u.id,...u.data()}));return{id:s.id,startDate:s.start_date,endDate:s.end_date,needsCompletion:!s.end_date,data:c}}))},aS=async(t,e)=>{const n=Ei(At,`users/${t}/cycles/${e}`),r=await xp(n);if(!r.exists())return null;const i=r.data(),o=Qn(At,`users/${t}/cycles/${e}/entries`),a=(await bi(o)).docs.map(l=>({id:l.id,...l.data()}));return{id:e,startDate:i.start_date,endDate:i.end_date,data:a}},lS=async(t,e)=>{const n=Qn(At,`users/${t}/cycles`),r=await bi(n),i=ie(e);if(r.docs.some(a=>{const l=a.data(),c=l.start_date?ie(l.start_date):null,u=l.end_date?ie(l.end_date):null;return c&&i>=c&&(!u||i<=u)}))throw new Error("Cycle dates overlap with an existing cycle");return{id:(await vy(Qn(At,`users/${t}/cycles`),{user_id:t,start_date:e,end_date:null})).id,start_date:e}},Ite=async t=>{const e=t.user_id,n=t.timestamp??new Date().toISOString(),r={timestamp:n,temperature_raw:t.temperature_raw,temperature_corrected:t.temperature_corrected,use_corrected:t.use_corrected,temperature_chart:t.temperature_chart,mucus_sensation:t.mucus_sensation,mucus_appearance:t.mucus_appearance,fertility_symbol:t.fertility_symbol,observations:t.observations,ignored:t.ignored},i=Qn(At,`users/${e}/cycles`),o=await bi(i),s=ie(n),a=o.docs.filter(c=>{const u=c.data(),f=u.start_date?ie(u.start_date):null,h=u.end_date?ie(u.end_date):null;return f&&s>=f&&(!h||s<=h)});let l=null;return a.length>1?l=a.sort((c,u)=>{const f=ie(c.data().start_date);return ie(u.data().start_date)-f})[0]:a.length===1&&(l=a[0]),l?{id:(await vy(Qn(At,`users/${e}/cycles/${l.id}/entries`),r)).id}:t.cycle_id?{id:(await vy(Qn(At,`users/${e}/cycles/${t.cycle_id}/entries`),r)).id}:{id:null}},cS=async(t,e,n,r)=>{const i=Ei(At,`users/${t}/cycles/${e}/entries/${n}`),o={temperature_raw:r.temperature_raw,temperature_corrected:r.temperature_corrected,use_corrected:r.use_corrected,temperature_chart:r.temperature_chart,mucus_sensation:r.mucus_sensation,mucus_appearance:r.mucus_appearance,fertility_symbol:r.fertility_symbol,observations:r.observations,ignored:r.ignored};return r.timestamp&&(o.timestamp=r.timestamp),await Vw(i,o),{id:n}},Ate=async(t,e,n)=>{await gy(Ei(At,`users/${t}/cycles/${e}/entries/${n}`))},kte=async(t,e,n)=>{const r=Ei(At,`users/${e}/cycles/${t}`);if(!(await xp(r)).exists())throw new Error("Cycle not found");await Vw(r,{end_date:n})},uS=async(t,e,n,r)=>{const i=Ei(At,`users/${e}/cycles/${t}`),o=await xp(i);if(!o.exists())throw new Error("Cycle not found");const s=o.data(),a=n??s.start_date,l=r!==void 0?r:s.end_date,c=a?ie(a):null,u=l?ie(l):null,f=Qn(At,`users/${e}/cycles`);if((await bi(f)).docs.some(v=>{if(v.id===t)return!1;const E=v.data(),x=E.start_date?ie(E.start_date):null,y=E.end_date?ie(E.end_date):null;if(!x)return!1;const b=y??new Date("9999-12-31"),P=u??new Date("9999-12-31");return c<=b&&x<=P}))throw new Error("Cycle dates overlap with an existing cycle");const w={};n!==void 0&&(w.start_date=n),r!==void 0&&(w.end_date=r),await Vw(i,w)},Rte=async(t,e)=>{const n=Qn(At,`users/${t}/cycles/${e}/entries`),r=await bi(n);await Promise.all(r.docs.map(i=>gy(i.ref))),await gy(Ei(At,`users/${t}/cycles/${e}`))},dS=(t,e)=>{if(!e)return t;const n=Se(ie(e));return t.filter(r=>ie(r.isoDate)<=n)},Xs=t=>t?typeof t=="string"?_e(Se(ie(t)),"yyyy-MM-dd"):typeof t.toDate=="function"?_e(Se(t.toDate()),"yyyy-MM-dd"):_e(Se(new Date(t)),"yyyy-MM-dd"):null,s_=(t=null)=>{const{user:e}=Ms(),{toast:n}=xl(),[r,i]=m.useState({id:null,startDate:null,data:[]}),[o,s]=m.useState([]),[a,l]=m.useState(!0),c=m.useCallback(async()=>{if(!(e!=null&&e.uid)){console.log("No user found, skipping cycle data load"),l(!1);return}console.log("Loading cycle data for user:",e.uid),l(!0);try{let y;if(t?(console.log("Loading specific cycle:",t),y=await aS(e.uid,t),y||(y={id:t,startDate:_e(Se(new Date),"yyyy-MM-dd"),data:[]})):(console.log("Loading current cycle"),y=await Ste(e.uid)),console.log("Cycle loaded:",y),y){const P=Xs(y.startDate),N=Xs(y.endDate);i({...y,startDate:P,endDate:N,data:Yg(y.data,P)})}else i({id:null,startDate:null,data:[]});console.log("Loading archived cycles");const b=await Pte(e.uid,y?y.startDate:null);s(b.map(P=>{const N=Xs(P.startDate),M=Xs(P.endDate),S=Yg(P.data||[],N),C=dS(S,M);return{...P,startDate:N??_e(Se(new Date),"yyyy-MM-dd"),endDate:M,needsCompletion:P.needsCompletion,data:C}}))}catch(y){console.error("Error in loadCycleData:",y),y.code==="permission-denied"&&console.error("Firebase permissions error. Check Firestore rules."),i({id:null,startDate:null,data:[]}),s([])}finally{l(!1)}},[e,t]);m.useEffect(()=>{c()},[c]);const u=m.useCallback(async(y,b)=>{if(!(e!=null&&e.uid)||!r.id)throw console.error("User or currentCycle.id is missing"),new Error("User or currentCycle.id is missing");console.log("Adding/updating data point:",y,"editing:",b),l(!0);try{const P=y.time&&y.time.trim()!==""?y.time:_e(new Date,"HH:mm"),N=HG(`${y.isoDate} ${P}`,"yyyy-MM-dd HH:mm",new Date),M=y.temperature_raw===""||y.temperature_raw===null||y.temperature_raw===void 0?null:parseFloat(y.temperature_raw),S=y.temperature_corrected===""||y.temperature_corrected===null||y.temperature_corrected===void 0?null:parseFloat(y.temperature_corrected),C=y.use_corrected||!1,I=C?S??M:M??S,A={cycle_id:r.id,user_id:e.uid,timestamp:_e(N,"yyyy-MM-dd'T'HH:mm:ssXXX"),temperature_raw:M,temperature_corrected:S,use_corrected:C,temperature_chart:I,mucus_sensation:y.mucusSensation||null,mucus_appearance:y.mucusAppearance||null,fertility_symbol:y.fertility_symbol==="none"?null:y.fertility_symbol,observations:y.observations||null,ignored:b?y.ignored??b.ignored:y.ignored||!1};b?(console.log("Updating existing record:",b.id),await cS(e.uid,r.id,b.id,A)):(console.log("Creating new record"),await Ite(A)),console.log("Data point saved successfully"),await c()}catch(P){throw console.error("Error adding/updating data point:",P),P}finally{l(!1)}},[e,r.id,c]),f=m.useCallback(async y=>{if(!(!(e!=null&&e.uid)||!r.id)){console.log("Deleting record:",y),l(!0);try{await Ate(e.uid,r.id,y),await c(),console.log("Record deleted successfully")}catch(b){throw console.error("Error deleting record:",b),b}finally{l(!1)}}},[e,r.id,c]),h=m.useCallback(async(y,b)=>{if(e!=null&&e.uid){console.log("Toggling ignore for record:",b,"in cycle:",y),l(!0);try{const P=y===r.id?r:o.find(S=>S.id===y);if(!P)throw new Error("Cycle not found for toggling ignore state.");const N=P.data.find(S=>S.id===b);if(!N)throw new Error("Record not found for toggling ignore state.");const M=!N.ignored;await cS(e.uid,y,b,{ignored:M}),await c(),console.log("Record ignore status toggled successfully")}catch(P){throw console.error("Error toggling ignore state:",P),P}finally{l(!1)}}},[e,r,o,c]),g=m.useCallback(async y=>{if(e!=null&&e.uid){console.log("Starting new cycle with date:",y),l(!0);try{const b=Se(y?ie(y):new Date);if(r.id){const M=_e(Rt(b,-1),"yyyy-MM-dd");await kte(r.id,e.uid,M)}const P=_e(b,"yyyy-MM-dd"),N=await lS(e.uid,P);i({id:N.id,startDate:N.start_date,data:[]}),await c(),console.log("New cycle started successfully")}catch(b){throw console.error("Error starting new cycle:",b),n({title:"Error",description:"No se pudo archivar el ciclo.",variant:"destructive"}),b}finally{l(!1)}}},[e,r,c,n]),w=m.useCallback(async(y,b)=>{if(e!=null&&e.uid){if(!b){n({title:"Error",description:"La fecha de fin es obligatoria.",variant:"destructive"});return}console.log("Adding archived cycle:",y,b),l(!0);try{const P=await lS(e.uid,y);await uS(P.id,e.uid,void 0,b),await c(),console.log("Archived cycle added successfully")}catch(P){console.error("Error adding archived cycle:",P);const N=P.message&&P.message.includes("overlap")?"Las fechas coinciden con otro ciclo.":"No se pudo crear el ciclo.";throw n({title:"Error",description:N,variant:"destructive"}),P}finally{l(!1)}}},[e,c,n]),v=m.useCallback(async y=>{if(e!=null&&e.uid){console.log("Deleting cycle:",y),l(!0);try{await Rte(e.uid,y),await c(),console.log("Cycle deleted successfully")}catch(b){throw console.error("Error deleting cycle:",b),n({title:"Error",description:"No se pudo eliminar el ciclo.",variant:"destructive"}),b}finally{l(!1)}}},[e,c,n]),E=m.useCallback(async(y,b,P)=>{if(e!=null&&e.uid){console.log("Updating cycle dates:",y,b,P),l(!0);try{await uS(y,e.uid,b,P),await c(),console.log("Cycle dates updated successfully")}catch(N){console.error("Error updating cycle dates:",N);const M=N.message&&N.message.includes("overlap")?"Las fechas coinciden con otro ciclo.":"No se pudieron actualizar las fechas.";throw n({title:"Error",description:M,variant:"destructive"}),N}finally{l(!1)}}},[e,c,n]),x=m.useCallback(async y=>{if(!(e!=null&&e.uid))return null;console.log("Fetching cycle by ID:",y),l(!0);try{const b=await aS(e.uid,y);if(!b)return null;const P=Xs(b.startDate),N=Xs(b.endDate),M=Yg(b.data||[],P),S=dS(M,N),C={...b,startDate:P??_e(Se(new Date),"yyyy-MM-dd"),endDate:N,data:S};return console.log("Cycle fetched successfully:",C),C}catch(b){return console.error("Error fetching cycle by ID:",b),null}finally{l(!1)}},[e]);return{currentCycle:r,archivedCycles:o,addOrUpdateDataPoint:u,deleteRecord:f,startNewCycle:g,updateCycleDates:E,isLoading:a,getCycleById:x,refreshData:c,toggleIgnoreRecord:h,addArchivedCycle:w,deleteCycle:v}},YM=()=>{const[t,e]=m.useState(!1),[n,r]=m.useState("portrait"),i=m.useCallback(async(l="portrait")=>{const c=document.documentElement;try{c.requestFullscreen?await c.requestFullscreen():c.mozRequestFullScreen?await c.mozRequestFullScreen():c.webkitRequestFullscreen?await c.webkitRequestFullscreen():c.msRequestFullscreen&&await c.msRequestFullscreen(),typeof window<"u"&&window.screen&&window.screen.orientation&&window.screen.orientation.lock&&await window.screen.orientation.lock(`${l}-primary`).catch(()=>{}),r(l)}catch{}},[]),o=m.useCallback(async()=>{try{document.exitFullscreen?await document.exitFullscreen():document.mozCancelFullScreen?await document.mozCancelFullScreen():document.webkitExitFullscreen?await document.webkitExitFullscreen():document.msExitFullscreen&&await document.msExitFullscreen(),typeof window<"u"&&window.screen&&window.screen.orientation&&window.screen.orientation.unlock&&window.screen.orientation.unlock()}catch{}},[]),s=m.useCallback(async()=>{t?await o():await i("portrait")},[t,i,o]),a=m.useCallback(async()=>{const l=n==="portrait"?"landscape":"portrait";t&&window.screen&&window.screen.orientation&&window.screen.orientation.lock&&await window.screen.orientation.lock(`${l}-primary`).catch(()=>{}),r(l)},[n,t]);return m.useEffect(()=>{const l=()=>{const c=!!(document.fullscreenElement||document.webkitIsFullScreen||document.mozFullScreenElement||document.msFullscreenElement);e(c),!c&&typeof window<"u"&&window.screen&&window.screen.orientation&&window.screen.orientation.unlock&&window.screen.orientation.unlock()};return document.addEventListener("fullscreenchange",l),document.addEventListener("webkitfullscreenchange",l),document.addEventListener("mozfullscreenchange",l),document.addEventListener("MSFullscreenChange",l),()=>{document.removeEventListener("fullscreenchange",l),document.removeEventListener("webkitfullscreenchange",l),document.removeEventListener("mozfullscreenchange",l),document.removeEventListener("MSFullscreenChange",l)}},[]),{isFullScreen:t,orientation:n,toggleFullScreen:s,rotateScreen:a}},Nte=Ru("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors",{variants:{variant:{default:"bg-primary text-primary-foreground border-transparent",secondary:"bg-secondary text-secondary-foreground border-transparent",destructive:"bg-destructive text-destructive-foreground border-transparent",outline:"text-foreground"}},defaultVariants:{variant:"default"}}),a_=m.forwardRef(({className:t,variant:e,...n},r)=>p.jsx("div",{ref:r,className:Ne(Nte({variant:e}),t),...n}));a_.displayName="Badge";function KM(t,e){if(!t||!e)return[];const n=typeof t=="string"?ie(t):t;return[...Array(e)].map((r,i)=>{const o=Rt(n,i),s=_e(o,"yyyy-MM-dd"),a=_e(o,"dd/MM"),l=xo(Se(o),Se(n))+1;return{date:a,isoDate:s,cycleDay:l,temperature:null,mucusSensation:null,mucusAppearance:null,id:`placeholder-${s}`,ignored:!1}})}const QM=28,XM=5,JM=10,Dte=(t,e)=>{let r=null,i=null;return i=14,{preovulatory:r,t8:i,hasSufficientData:3>=6}},Mte=({currentCycle:t,onShowRecords:e,onEditDates:n})=>{var s;if(!(t!=null&&t.startDate))return null;const r=xo(new Date,ie(t.startDate))+1,i=((s=t.data)==null?void 0:s.filter(a=>a.id&&!a.id.startsWith("placeholder-")).length)||0,o=Dte([],t.data);return p.jsxs(Te.header,{className:"w-full max-w-6xl flex items-center justify-between px-4 py-2 bg-white/60 backdrop-blur-sm border-b border-pink-100/50",initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},children:[p.jsxs("div",{className:"flex items-center space-x-2",children:[p.jsx("div",{className:"p-1.5 bg-gradient-to-br from-pink-500 to-rose-500 rounded-full shadow-sm",children:p.jsx(oH,{className:"h-4 w-4 text-white"})}),p.jsx(a_,{variant:"secondary",onClick:n,className:"bg-white/70 text-gray-700 border border-gray-200 px-2 py-1 rounded-full text-xs cursor-pointer hover:bg-white",children:_e(ie(t.startDate),"dd/MM/yyyy")})]}),p.jsxs("div",{className:"flex items-center space-x-4",children:[p.jsxs("div",{className:"flex items-center space-x-1",children:[p.jsx(Xz,{className:"h-4 w-4 text-pink-600"}),p.jsx("span",{className:"text-sm font-medium text-gray-700",children:r})]}),p.jsxs("button",{onClick:e,className:"flex items-center space-x-1 hover:opacity-80",children:[p.jsx(gH,{className:"h-4 w-4 text-emerald-600"}),p.jsx("span",{className:"text-sm font-medium text-gray-700",children:i})]}),p.jsxs("div",{className:"flex items-center space-x-1",children:[p.jsx(iH,{className:"h-4 w-4 text-purple-600"}),p.jsx("span",{className:"text-sm font-medium text-gray-700",children:o.preovulatory?`D${o.preovulatory}`:"—"})]})]})]})},Ote=({currentCycle:t,addOrUpdateDataPoint:e,deleteCurrentRecord:n,toggleIgnoreRecord:r,startNewCycle:i,isLoading:o,isFullScreen:s,toggleFullScreen:a,orientation:l,rotateScreen:c,chartDisplayData:u,scrollStart:f,showForm:h,setShowForm:g,showRecords:w,setShowRecords:v,editingRecord:E,setEditingRecord:x,recordToDelete:y,setRecordToDelete:b,confirmNewCycleDialog:P,setConfirmNewCycleDialog:N,toast:M,showInterpretation:S,setShowInterpretation:C,updateCycleDates:I})=>{const[A,D]=m.useState(!1),[O,R]=m.useState(!1);Ps(w,()=>v(!1)),Ps(h||E,()=>{g(!1),x(null)});const F=s?l==="portrait"?JM:QM:XM,q=W=>{const J=()=>{x(W),v(!1),g(!0)};s?(a(),setTimeout(J,300)):J()},K=W=>{const J=t.data.find(he=>he.id===W);b(J)},z=async({startDate:W})=>{try{await I(t.id,W),M({title:"Fechas actualizadas",description:"Las fechas del ciclo han sido modificadas."}),D(!1)}catch{}},L=()=>{y&&(n(y.id),M({title:"Registro eliminado",description:`El registro del ${_e(ie(y.isoDate),"dd/MM/yyyy")} ha sido eliminado.`,variant:"destructive"}),b(null))},j=()=>{x(null),v(!1),g(!0)},B=()=>{g(!1),x(null),v(!0)},$=()=>{N(!0)},H=W=>{i(W),M({title:"Nuevo Ciclo Iniciado",description:"Los datos del ciclo anterior han sido archivados."}),N(!1)};return o?p.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[60vh] space-y-4",children:[p.jsx(Te.div,{className:"w-8 h-8 rounded-full bg-pink-500/80",animate:{opacity:[.4,1,.4]},transition:{duration:1.2,repeat:1/0}}),p.jsx(Te.p,{className:"text-pink-600 font-medium",initial:{opacity:0},animate:{opacity:1},transition:{delay:.2},children:"Cargando datos del ciclo..."})]}):p.jsxs("div",{className:`flex flex-col items-center w-full min-h-screen bg-gradient-to-br from-pink-50 via-purple-50 to-indigo-50 ${s?"overflow-hidden h-full":""}`,children:[!s&&!h&&!w&&p.jsx(Mte,{currentCycle:t,onShowRecords:B,onEditDates:()=>(t==null?void 0:t.startDate)&&D(!0)}),p.jsxs("main",{className:`w-full ${s?"h-full flex items-center justify-center":"max-w-6xl flex-1 px-4"}`,children:[p.jsx(wa,{children:!h&&!w&&(u.length>0||s)&&p.jsxs(Te.div,{initial:{opacity:0,scale:s?1:.98,y:s?0:10},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:s?1:.98,y:s?0:10},transition:{duration:.4,ease:"easeOut"},className:`
                ${s?"w-full h-full p-0 fixed inset-0 z-50 bg-white":"p-4 sm:p-6 mb-6 bg-white/70 backdrop-blur-xl rounded-2xl border border-white/50"}
                shadow-xl shadow-purple-500/5
              `,children:[p.jsx(uN,{data:u,isFullScreen:s,orientation:l,onEdit:q,onToggleIgnore:r,cycleId:t.id,initialScrollIndex:f,visibleDays:F,showInterpretation:S}),p.jsx(Ee,{onClick:()=>C(W=>!W),variant:"ghost",size:"icon",title:S?"Ocultar interpretación":"Interpretar",className:`absolute ${s?"top-4 right-28":"top-3 right-14"} rounded-lg p-2 backdrop-blur-sm transition-all duration-200 ${S?"bg-pink-500 text-white hover:bg-pink-600 shadow-sm":"bg-white/80 text-gray-600 hover:bg-white hover:text-gray-800 border border-gray-200"}`,children:S?p.jsx(Mp,{className:"h-4 w-4"}):p.jsx(el,{className:"h-4 w-4"})}),!S&&!s&&p.jsx("span",{className:"absolute top-3 right-8 text-xs text-gray-600"}),s&&p.jsx(Ee,{onClick:c,variant:"ghost",size:"icon",className:"absolute top-4 right-16 text-gray-600 bg-white/80 hover:bg-white backdrop-blur-sm rounded-lg p-2 border border-gray-200",title:"Rotar Pantalla",children:p.jsx(fH,{className:"h-4 w-4"})}),p.jsx(Ee,{onClick:a,variant:"ghost",size:"icon",className:`
                  absolute ${s?"top-4 right-4":"top-3 right-3"} 
                  rounded-lg p-2 backdrop-blur-sm transition-all duration-200
                  ${s?"text-gray-600 bg-white/80 hover:bg-white border border-gray-200":"text-gray-500 hover:text-gray-700 bg-white/80 hover:bg-white border border-gray-200"}
                `,title:s?"Salir de Pantalla Completa":"Ver en Pantalla Completa",children:s?p.jsx(Lu,{className:"h-4 w-4"}):p.jsx(H2,{className:"h-4 w-4"})})]})}),p.jsx(wa,{children:(h||E)&&p.jsx(Te.div,{initial:{opacity:0,y:20,scale:.98},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:20,scale:.98},transition:{type:"spring",stiffness:260,damping:20},className:"w-full",children:p.jsx(uM,{onSubmit:e,initialData:E,isEditing:!!E,cycleStartDate:t.startDate,cycleEndDate:t.endDate,onCancel:()=>{g(!1),x(null)}})},"data-entry-form")}),p.jsx(wa,{children:w&&p.jsx(Te.div,{initial:{opacity:0,y:20,scale:.98},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-20,scale:.98},transition:{type:"spring",stiffness:260,damping:20},className:"w-full",children:p.jsx(SM,{records:t.data,onEdit:q,onDelete:K,onClose:()=>v(!1)})},"records-list")}),t.data.filter(W=>W.id&&!W.id.startsWith("placeholder-")).length===0&&!h&&!w&&!s&&p.jsx(Te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4,duration:.4},children:p.jsx(fte,{})})]}),!s&&p.jsxs("div",{className:"fixed bottom-6 right-6 z-50",children:[p.jsx(wa,{children:O&&!h&&!w&&p.jsxs(Te.div,{initial:{opacity:0,scale:.8,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.8,y:20},transition:{type:"spring",stiffness:300,damping:20},className:"flex flex-col items-end mb-3 space-y-2",children:[p.jsx("button",{onClick:()=>{R(!1),j()},className:"px-4 py-2 rounded-lg bg-white text-pink-600 shadow-md hover:shadow-lg border border-pink-200",children:"Nuevo Registro"}),p.jsx("button",{onClick:()=>{R(!1),$()},className:"px-4 py-2 rounded-lg bg-white text-pink-600 shadow-md hover:shadow-lg border border-pink-200",children:"Nuevo Ciclo"})]})}),p.jsx(Te.button,{onClick:()=>R(!O),className:"w-14 h-14 rounded-full bg-gradient-to-br from-pink-400 to-rose-500 text-white shadow-lg flex items-center justify-center",whileTap:{scale:.95},children:p.jsx(Te.span,{animate:{rotate:O?45:0},transition:{type:"spring",stiffness:260,damping:20},children:p.jsx(Fy,{className:"h-6 w-6"})})})]}),p.jsx(GM,{isOpen:!!y,onClose:()=>b(null),onConfirm:L,recordDate:y?_e(ie(y.isoDate),"dd/MM/yyyy"):""}),p.jsx(Tte,{isOpen:P,onClose:()=>N(!1),onConfirm:H,currentCycleStartDate:t.startDate}),p.jsx(Rc,{isOpen:A,onClose:()=>D(!1),onConfirm:z,initialStartDate:t.startDate,includeEndDate:!1})]})};function Lte(){const{currentCycle:t,addOrUpdateDataPoint:e,deleteRecord:n,startNewCycle:r,isLoading:i,refreshData:o,toggleIgnoreRecord:s,updateCycleDates:a}=s_(),[l,c]=m.useState(!1),[u,f]=m.useState(!1),[h,g]=m.useState(null),[w,v]=m.useState(null),[E,x]=m.useState(!1),[y,b]=m.useState(!1),{isFullScreen:P,orientation:N,toggleFullScreen:M,rotateScreen:S}=YM(),{toast:C}=xl();m.useEffect(()=>{o()},[o]);const I=R=>{e(R,h),C({title:h?"Registro actualizado":"Nuevo registro añadido",description:h?`Datos del ${_e(ie(R.isoDate),"dd/MM/yyyy")} actualizados.`:`Registro para el ${_e(ie(R.isoDate),"dd/MM/yyyy")} añadido.`}),c(!1),g(null)},A=m.useCallback(()=>{if(i||!t||!t.startDate)return{data:[],scrollStart:0};const R=ie(t.startDate),F=t.data.reduce((fe,Q)=>{const ee=ie(Q.isoDate);return ee>fe?ee:fe},R),q=Se(new Date),K=F>q?F:q,z=xo(Se(K),R),L=Math.max(QM,z+1),B=KM(R,L).map(fe=>{const Q=t.data.find(ee=>ee.isoDate===fe.isoDate);return Q?{...Q,date:fe.date}:fe});if(P&&N==="landscape")return{data:B,scrollStart:0};const $=xo(new Date,Se(R)),H=Math.min(Math.max($,0),L-1);let W=Math.min(L,H+1);const J=P?JM:XM;H<J-1&&(W=Math.min(L,J));const he=Math.max(0,W-J);return{data:B,scrollStart:he}},[t,P,i,N]),{data:D,scrollStart:O}=A();return p.jsx(Ote,{currentCycle:t,addOrUpdateDataPoint:I,deleteCurrentRecord:n,toggleIgnoreRecord:s,startNewCycle:r,isLoading:i,isFullScreen:P,toggleFullScreen:M,orientation:N,rotateScreen:S,chartDisplayData:D,scrollStart:O,showForm:l,setShowForm:c,showRecords:u,setShowRecords:f,editingRecord:h,setEditingRecord:g,recordToDelete:w,setRecordToDelete:v,confirmNewCycleDialog:E,setConfirmNewCycleDialog:x,toast:C,showInterpretation:y,setShowInterpretation:b,updateCycleDates:a})}const Vte=()=>{const{currentCycle:t,archivedCycles:e,isLoading:n,addArchivedCycle:r,updateCycleDates:i,deleteCycle:o}=s_(),[s,a]=m.useState(!1),[l,c]=m.useState(null),u=async({startDate:v,endDate:E})=>{try{await r(v,E),a(!1)}catch{}},f=async({startDate:v,endDate:E})=>{if(l)try{await i(l.id,v,E),c(null)}catch{}},h=v=>{window.confirm("¿Eliminar este ciclo?")&&o(v)},g=t.id?[{...t,isCurrent:!0,needsCompletion:!t.endDate},...e]:e;if(n)return p.jsx("div",{className:"text-center text-slate-300 p-8",children:"Cargando ciclos archivados..."});if(!g||g.length===0)return p.jsxs(Te.div,{className:"text-center text-slate-400 py-10 flex flex-col items-center",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:[p.jsx(z2,{className:"w-24 h-24 text-slate-500 mb-6"}),p.jsx("h2",{className:"text-2xl font-semibold text-slate-200 mb-4",children:"No hay ciclos archivados"}),p.jsx("p",{className:"text-lg",children:"Cuando inicies un nuevo ciclo, el anterior aparecerá aquí."}),p.jsxs("div",{className:"flex gap-4 mt-8",children:[p.jsx(Ee,{asChild:!0,className:"bg-gradient-to-r from-pink-500 to-fuchsia-600 hover:from-pink-600 hover:to-fuchsia-700 text-white",children:p.jsx(Xc,{to:"/",children:"Volver al Ciclo Actual"})}),p.jsxs(Ee,{onClick:()=>a(!0),className:"bg-pink-600 hover:bg-pink-700 text-white",children:[p.jsx(Fy,{className:"mr-2 h-4 w-4"})," Crear Ciclo"]})]}),p.jsx(Rc,{isOpen:s,onClose:()=>a(!1),onConfirm:u,title:"Añadir Ciclo Anterior",description:"Ingresa las fechas de un ciclo previo para añadir registros."})]});const w=[...g].sort((v,E)=>ie(E.startDate)-ie(v.startDate));return p.jsxs("div",{className:"w-full max-w-4xl mx-auto",children:[p.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center mb-8",children:[p.jsx(Te.h1,{className:"text-3xl sm:text-4xl font-bold text-slate-500 mb-4 sm:mb-0",initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5},children:"Mis Ciclos"}),p.jsxs(Ee,{onClick:()=>a(!0),className:"bg-pink-600 hover:bg-pink-700 text-white",children:[p.jsx(Fy,{className:"mr-2 h-4 w-4"})," Añadir Ciclo"]})]}),p.jsx(Te.ul,{className:"space-y-6",variants:{hidden:{opacity:0},show:{opacity:1,transition:{staggerChildren:.1}}},initial:"hidden",animate:"show",children:w.map(v=>{const E=v.endDate?_e(ie(v.endDate),"dd MMM yyyy",{locale:rl}):"Sin fecha fin",x=v.data?v.data.length:0;return v.needsCompletion,p.jsx(Te.li,{className:"bg-white/70 backdrop-blur-md ring-1 ring-[#FFB1DD]/50 shadow-xl rounded-xl p-6 hover:shadow-2xl transition-shadow duration-300",variants:{hidden:{opacity:0,y:20},show:{opacity:1,y:0}},children:p.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center",children:[p.jsxs("div",{children:[p.jsxs("h2",{className:"text-xl font-semibold text-pink-400 mb-1",children:["Ciclo: ",_e(ie(v.startDate),"dd MMM yyyy",{locale:rl})," - ",E,v.isCurrent&&p.jsx(a_,{className:"ml-2 bg-pink-500 text-white",children:"Ciclo actual"})]}),p.jsxs("p",{className:"text-sm text-slate-400",children:[x," registro",x!==1?"s":""]})]}),p.jsxs("div",{className:"flex gap-2 mt-4 sm:mt-0",children:[p.jsx(Ee,{asChild:!0,variant:"outline",className:"border-pink-500 text-pink-400 hover:bg-pink-500/20 hover:text-pink-300",children:p.jsxs(Xc,{to:v.isCurrent?"/":`/cycle/${v.id}`,children:[p.jsx(el,{className:"mr-2 h-4 w-4"})," Ver"]})}),p.jsxs(Ee,{variant:"destructive",onClick:()=>h(v.id),children:[p.jsx(Th,{className:"mr-2 h-4 w-4"})," Eliminar"]})]})]})},v.id)})}),p.jsx(Rc,{isOpen:s,onClose:()=>a(!1),onConfirm:u,title:"Añadir Ciclo Anterior",description:"Ingresa las fechas de un ciclo previo para añadir registros."}),p.jsx(Rc,{isOpen:!!l,onClose:()=>c(null),onConfirm:f,initialStartDate:l==null?void 0:l.startDate,initialEndDate:l==null?void 0:l.endDate,title:"Editar Fechas del Ciclo",description:"Actualiza las fechas del ciclo."})]})},jte=28,Fte=({cycleData:t,addOrUpdateDataPointForCycle:e,deleteRecordForCycle:n,toggleIgnoreRecordForCycle:r,isFullScreen:i,toggleFullScreen:o,orientation:s,showInterpretation:a,setShowInterpretation:l,chartDisplayData:c,showForm:u,setShowForm:f,editingRecord:h,setEditingRecord:g,recordToDelete:w,setRecordToDelete:v,isProcessing:E,toast:x,onEditCycleDates:y,onDeleteCycle:b})=>{Ps(u||h,()=>{f(!1),g(null)});const P=S=>{const C=()=>{g(S),f(!0)};i?(o(),setTimeout(C,300)):C()},N=S=>{const C=t.data.find(I=>I.id===S);v(C)},M=()=>{w&&n(w.id)};return p.jsxs("div",{className:`w-full ${i?"h-full overflow-hidden":"max-w-4xl mx-auto"}`,children:[p.jsxs(Te.div,{className:"flex items-center justify-between mb-8",initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5},children:[!i&&p.jsx(Ee,{variant:"outline",asChild:!0,className:"mt-4 sm:mt-0 border-pink-500 text-pink-400 hover:bg-pink-500/20 hover:text-pink-300",children:p.jsxs(Xc,{to:"/archived-cycles",children:[p.jsx(Qz,{className:"mr-2 h-4 w-4"})," Mis Ciclos"]})}),!i&&p.jsxs("h1",{className:"text-2xl sm:text-3xl font-bold hover:text-pink-300 text-center",children:["Detalle del Ciclo (",_e(ie(t.startDate),"dd/MM/yyyy"),")"]}),!i&&p.jsxs("div",{className:"flex gap-2 mt-4 sm:mt-0",children:[p.jsxs(Ee,{variant:"outline",onClick:y,className:"border-pink-500 text-pink-400 hover:bg-pink-500/20 hover:text-pink-300",children:[p.jsx(jy,{className:"mr-2 h-4 w-4"})," Editar Fechas"]}),p.jsxs(Ee,{variant:"destructive",onClick:b,children:[p.jsx(Th,{className:"mr-2 h-4 w-4"})," Eliminar Ciclo"]})]})]}),p.jsx(wa,{children:!u&&(c.length>0||i)&&p.jsxs(Te.div,{initial:{opacity:0,scale:i?1:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:i?1:.9},transition:{duration:.5},className:`shadow-2xl rounded-xl ${i?"w-full h-full p-0 fixed inset-0 z-50 bg-white":"p-4 sm:p-6 mb-8 bg-white/70 backdrop-blur-md ring-1 ring-[#FFB1DD]/50"}`,style:{boxShadow:"0 4px 8px rgba(0,0,0,0.04)"},children:[!i&&p.jsx("h2",{className:"text-xl font-medium text-[#393C65] mb-4 bg-white bg-opacity-90 px-4 py-2 rounded-md",children:"Gráfica"}),p.jsx(uN,{data:c,isFullScreen:i,orientation:s,onToggleIgnore:r,onEdit:P,cycleId:t.id,showInterpretation:a}),p.jsxs(Ee,{onClick:()=>l(S=>!S),variant:"ghost",size:"sm",className:`absolute ${i?"top-4 right-24":"top-2 right-24"} flex items-center font-semibold py-1 px-2 rounded-lg transition-colors ${a?"bg-[#E27DBF] text-white hover:bg-[#d46ab3]":"bg-transparent text-[#393C65] hover:bg-[#E27DBF]/20"}`,children:[a?p.jsx(Mp,{className:"mr-2 h-4 w-4"}):p.jsx(el,{className:"mr-2 h-4 w-4"}),a?"Ocultar":"Interpretar"]}),p.jsx(Ee,{onClick:o,variant:"ghost",size:"icon",className:`absolute ${i?"top-4 right-4 text-white bg-slate-700/50 hover:bg-slate-600/70":"top-2 right-2 text-slate-400 hover:text-slate-200 hover:bg-slate-700/50"}`,title:i?"Salir de Pantalla Completa":"Ver en Pantalla Completa",children:i?p.jsx(Lu,{className:"h-6 w-6"}):p.jsx(H2,{className:"h-5 w-5"})})]})}),!i&&p.jsxs(p.Fragment,{children:[p.jsx(wa,{children:u&&p.jsx(Te.div,{initial:{opacity:0,y:20,height:0},animate:{opacity:1,y:0,height:"auto"},exit:{opacity:0,y:20,height:0},transition:{duration:.3},className:"overflow-hidden mb-8",children:p.jsx(uM,{onSubmit:e,initialData:h,onCancel:()=>{f(!1),g(null)},cycleStartDate:t.startDate,cycleEndDate:t.endDate,isProcessing:E,isEditing:!!h})},"data-entry-form-detail")}),!u&&p.jsx("div",{className:"my-8",children:p.jsxs(Ee,{onClick:()=>{g(null),f(!0)},className:"w-full sm:w-auto bg-gradient-to-r from-pink-500 to-fuchsia-600 hover:from-pink-600 hover:to-fuchsia-700 text-white font-semibold py-3 px-6 rounded-lg shadow-lg hover:shadow-xl transition-all duration-300 transform hover:scale-105 flex items-center justify-center text-lg",disabled:E,children:[p.jsx(jy,{className:"mr-2 h-5 w-5"})," Añadir registro en este ciclo"]})}),p.jsx(SM,{records:t.data,onEdit:P,onDelete:N,isArchiveView:!0,isProcessing:E})]}),p.jsx(GM,{isOpen:!!w,onClose:()=>v(null),onConfirm:M,recordDate:w?_e(ie(w.isoDate),"dd/MM/yyyy"):"",isProcessing:E})]})},$te=()=>{const{cycleId:t}=ZV(),e=wu(),{user:n}=Ms(),{getCycleById:r,isLoading:i,refreshData:o,toggleIgnoreRecord:s,updateCycleDates:a,deleteCycle:l}=s_(t),[c,u]=m.useState(null),{toast:f}=xl(),[h,g]=m.useState(null),[w,v]=m.useState(!1),[E,x]=m.useState(null),[y,b]=m.useState(!1),{isFullScreen:P,toggleFullScreen:N,orientation:M}=YM(),[S,C]=m.useState(!1),[I,A]=m.useState(!1);m.useEffect(()=>{(async()=>{if(n){let H=await r(t);if(!H){const W=localStorage.getItem(`fertilityData_cycle_${n.uid}_${t}`);if(W){const J=JSON.parse(W);H={...J,data:O(J.data||[],J.startDate)}}}H?u(H):(f({title:"Error",description:"No se pudo cargar el ciclo.",variant:"destructive"}),e("/archived-cycles"))}})()},[t,n,r,f,e]);const D=($,H)=>{const W=Se(ie($)),J=Se(ie(H));return xo(W,J)+1},O=($,H)=>!$||!Array.isArray($)||!H?[]:[...$].sort((J,he)=>ie(J.isoDate)-ie(he.isoDate)).map(J=>({...J,ignored:J.ignored||!1,cycleDay:D(J.isoDate,H)})),R=$=>{if(!n||!$||!$.id)return;const H={...$,data:$.data.map(({cycleDay:W,...J})=>J)};localStorage.setItem(`fertilityData_cycle_${n.uid}_${$.id}`,JSON.stringify(H))},F=$=>{if(!c||!n)return;C(!0);const H=$.temperature_raw,W=$.temperature_corrected,he=$.use_corrected||!1?W??H:H??W;let fe;const Q={...$,temperature_chart:he,isoDate:_e(Se(ie($.isoDate)),"yyyy-MM-dd"),cycleDay:D($.isoDate,c.startDate),ignored:h?$.ignored??h.ignored:$.ignored||!1};if(h)fe=c.data.map(te=>te.id===h.id?{...te,...Q,id:h.id}:te);else{const te={...Q,id:crypto.randomUUID?crypto.randomUUID():Math.random().toString(36).slice(2)};fe=[...c.data,te]}const ee=O(fe,c.startDate),oe={...c,data:ee};R(oe),u(oe),f({title:h?"Registro actualizado":"Nuevo registro añadido",description:"Datos para el ciclo actualizados."}),v(!1),g(null),C(!1),o()},q=$=>{if(!c||!n)return;C(!0);const H=c.data.filter(he=>he.id!==$),W=O(H,c.startDate),J={...c,data:W};R(J),u(J),f({title:"Registro eliminado",description:"El registro ha sido eliminado del ciclo.",variant:"destructive"}),x(null),C(!1),o()},K=($,H)=>{if(!c||!n||c.id!==$)return;C(!0),s($,H),u(J=>{if(!J)return null;const he=J.data.map(ee=>ee.id===H?{...ee,ignored:!ee.ignored}:ee),fe=O(he,J.startDate),Q={...J,data:fe};return R(Q),Q});const W=c.data.find(J=>J.id===H);f({title:`Registro ${W&&!W.ignored?"despreciado":"restaurado"}`,description:`El registro del ${W?_e(ie(W.isoDate),"dd/MM/yyyy"):""} ha sido ${W&&!W.ignored?"marcado como despreciado":"restaurado"}.`}),C(!1)},z=async({startDate:$,endDate:H})=>{if(!(!c||!n)){C(!0);try{await a(c.id,$,H);const W=await r(c.id);W&&(R(W),u(W)),f({title:"Fechas actualizadas",description:"Las fechas del ciclo han sido modificadas."}),b(!1)}catch(W){console.error(W)}C(!1)}},L=async()=>{if(!(!c||!n)&&window.confirm("¿Eliminar este ciclo?")){C(!0);try{await l(c.id),f({title:"Ciclo eliminado",description:"El ciclo ha sido eliminado."}),e("/archived-cycles")}catch($){console.error($)}C(!1)}},j=m.useCallback(()=>{if(!c||!c.startDate)return[];const $=ie(c.startDate),H=c.data.reduce((Q,ee)=>{const oe=ie(ee.isoDate);return oe>Q?oe:Q},$),W=c.endDate?ie(c.endDate):null;let J;if(W)J=xo(Se(W),$)+1;else{const Q=Se(new Date),ee=H>Q?H:Q,oe=xo(Se(ee),$);J=Math.max(jte,oe+1)}return KM($,J).map(Q=>{const ee=c.data.find(oe=>oe.isoDate===Q.isoDate);return ee?{...ee,date:Q.date}:Q})},[c]);if(i||!c)return p.jsx("div",{className:"text-center text-slate-300 p-8",children:"Cargando detalles del ciclo..."});const B=j();return p.jsxs(p.Fragment,{children:[p.jsx(Fte,{cycleData:c,addOrUpdateDataPointForCycle:F,deleteRecordForCycle:q,toggleIgnoreRecordForCycle:K,isFullScreen:P,toggleFullScreen:N,orientation:M,showInterpretation:I,setShowInterpretation:A,chartDisplayData:B,showForm:w,setShowForm:v,editingRecord:h,setEditingRecord:g,recordToDelete:E,setRecordToDelete:x,isProcessing:S,toast:f,onEditCycleDates:()=>b(!0),onDeleteCycle:L}),p.jsx(Rc,{isOpen:y,onClose:()=>b(!1),onConfirm:z,initialStartDate:c.startDate,initialEndDate:c.endDate})]})},Ute=()=>{const{user:t,updateEmail:e,updatePassword:n,preferences:r,savePreferences:i}=Ms(),[o,s]=m.useState((t==null?void 0:t.email)||""),[a,l]=m.useState(""),[c,u]=m.useState((r==null?void 0:r.theme)||"light"),[f,h]=m.useState((r==null?void 0:r.units)||"metric");m.useEffect(()=>{s((t==null?void 0:t.email)||"")},[t]),m.useEffect(()=>{r&&(u(r.theme||"light"),h(r.units||"metric"))},[r]);const g=async E=>{E.preventDefault(),await e(o)},w=async E=>{E.preventDefault(),a&&(await n(a),l(""))},v=async E=>{E.preventDefault(),await i({theme:c,units:f})};return p.jsxs("div",{className:"max-w-md mx-auto space-y-8",children:[p.jsxs("form",{onSubmit:g,className:"space-y-2",children:[p.jsx(Bt,{htmlFor:"email",children:"Correo"}),p.jsx(Xn,{id:"email",type:"email",value:o,onChange:E=>s(E.target.value)}),p.jsx(Ee,{type:"submit",className:"mt-2",children:"Actualizar correo"})]}),p.jsxs("form",{onSubmit:w,className:"space-y-2",children:[p.jsx(Bt,{htmlFor:"password",children:"Contraseña nueva"}),p.jsx(Xn,{id:"password",type:"password",value:a,onChange:E=>l(E.target.value)}),p.jsx(Ee,{type:"submit",className:"mt-2",children:"Actualizar contraseña"})]}),p.jsxs("form",{onSubmit:v,className:"space-y-4",children:[p.jsxs("div",{className:"space-y-2",children:[p.jsx(Bt,{children:"Tema"}),p.jsxs(Jy,{value:c,onValueChange:u,children:[p.jsx(Mh,{children:p.jsx(Zy,{placeholder:"Tema"})}),p.jsxs(Oh,{children:[p.jsx(xa,{value:"light",children:"Claro"}),p.jsx(xa,{value:"dark",children:"Oscuro"})]})]})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx(Bt,{children:"Unidades"}),p.jsxs(Jy,{value:f,onValueChange:h,children:[p.jsx(Mh,{children:p.jsx(Zy,{placeholder:"Unidades"})}),p.jsxs(Oh,{children:[p.jsx(xa,{value:"metric",children:"Métrico"}),p.jsx(xa,{value:"imperial",children:"Imperial"})]})]})]}),p.jsx(Ee,{type:"submit",children:"Guardar preferencias"})]})]})},Bte=WM,Wte=Ete,ZM=HM,zte=zM,eO=we.forwardRef(({className:t,...e},n)=>p.jsx(Jp,{className:Ne("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e,ref:n}));eO.displayName=Jp.displayName;const Hte=Ru("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4 border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),tO=we.forwardRef(({side:t="right",className:e,children:n,...r},i)=>p.jsxs(zte,{children:[p.jsx(eO,{}),p.jsx(Zp,{ref:i,className:Ne(Hte({side:t}),e),...r,children:n})]}));tO.displayName=Zp.displayName;const qte=we.forwardRef(({className:t,...e},n)=>p.jsx(em,{ref:n,className:Ne("text-lg font-semibold text-foreground",t),...e}));qte.displayName=em.displayName;const Gte=we.forwardRef(({className:t,...e},n)=>p.jsx(tm,{ref:n,className:Ne("text-sm text-muted-foreground",t),...e}));Gte.displayName=tm.displayName;const Kg=({to:t,children:e,Icon:n,onClick:r})=>{const o=hl().pathname===t;return p.jsx(ZM,{asChild:!0,children:p.jsxs(Xc,{to:t,onClick:r,className:`flex items-center px-4 py-3 text-lg rounded-md transition-colors duration-200 ease-in-out
                         ${o?"bg-[#E27DBF] text-white shadow":"text-[#393C65] hover:bg-[#E27DBF]/10 hover:text-[#E27DBF]"}
                        `,children:[p.jsx(n,{className:`mr-3 h-6 w-6 ${o?"text-white":"text-[#E27DBF]"}`}),e]})})},zd=({children:t})=>{const{user:e,logout:n}=Ms(),r=wu(),[i,o]=m.useState(!1);Ps(i,()=>o(!1));const s=()=>{n(),r("/auth")};return p.jsxs("div",{className:"min-h-screen flex flex-col",children:[p.jsx("header",{className:"sticky top-0 z-40 w-full bg-[#FFB1DD]/20 backdrop-blur-md text-[#393C65]",children:p.jsxs("div",{className:"container mx-auto flex items-center justify-between h-20 px-4 sm:px-6",children:[p.jsxs(Xc,{to:"/",className:"flex items-center space-x-2",children:[p.jsx("img",{alt:"FertiliApp Logo ",className:"h-10 w-10 rounded-full",src:"https://i.postimg.cc/W3JHZ71t/Chat-GPT-Image-27-jun-2025-12-17-23.png"}),p.jsx("span",{className:"text-2xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-rose-400 via-pink-400 to-fuchsia-500",children:"FertiliApp"})]}),p.jsxs(Bte,{open:i,onOpenChange:o,children:[p.jsx(Wte,{asChild:!0,children:p.jsxs(Ee,{variant:"ghost",size:"icon",className:"text-[#393C65] hover:text-[#E27DBF] hover:bg-[#E27DBF]\\/10",children:[p.jsx(uH,{className:"h-8 w-8"}),p.jsx("span",{className:"sr-only",children:"Abrir menú"})]})}),p.jsxs(tO,{side:"right",className:"w-[300px] sm:w-[350px] bg-[#FFEAF5] border-l-[#FFB1DD] p-0 flex flex-col",children:[p.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-[#FFB1DD]",children:[p.jsxs("div",{className:"flex items-center space-x-3",children:[p.jsx(vH,{className:"h-10 w-10 text-[#FFB1DD]"}),p.jsxs("div",{children:[p.jsx("p",{className:"text-lg font-semibold",children:"Hola,"}),p.jsx("p",{className:"text-sm text-[#FFB1DD] truncate max-w-[180px]",children:e==null?void 0:e.email})]})]}),p.jsx(ZM,{asChild:!0,children:p.jsx(Ee,{variant:"ghost",size:"icon",className:"text-[#E27DBF] hover:bg-white/10",children:p.jsx(Lu,{className:"h-6 w-6"})})})]}),p.jsxs("nav",{className:"flex-grow p-6 space-y-3",children:[p.jsx(Kg,{to:"/",Icon:sH,onClick:()=>o(!1),children:"Ciclo Actual"}),p.jsx(Kg,{to:"/archived-cycles",Icon:z2,onClick:()=>o(!1),children:"Mis Ciclos"}),p.jsx(Kg,{to:"/settings",Icon:pH,onClick:()=>o(!1),children:"Ajustes"})]}),p.jsx("div",{className:"p-6 border-t border-[#FFB1DD]",children:p.jsxs(Ee,{onClick:()=>{s(),o(!1)},variant:"outline",className:"w-full border-[#FFB1DD] text-[#393C65] hover:bg-[#E27DBF]/10 hover:text-[#E27DBF] font-semibold py-3 text-lg flex items-center",children:[p.jsx(lH,{className:"mr-2 h-5 w-5"})," Salir"]})})]})]})]})}),p.jsx("div",{className:"flex-grow container mx-auto px-4 sm:px-6 py-8",children:t}),p.jsxs("footer",{className:"w-full py-8 text-center text-[#6B7280] text-sm border-t border-[#FFB1DD]/50 mt-12",children:[p.jsxs("p",{children:["© ",new Date().getFullYear()," Seguimiento de Fertilidad. Todos los derechos reservados."]}),p.jsx("p",{children:"Creado con Hostinger Horizons."})]})]})};function Yte(t){const e=t+"CollectionProvider",[n,r]=js(e),[i,o]=n(e,{collectionRef:{current:null},itemMap:new Map}),s=v=>{const{scope:E,children:x}=v,y=we.useRef(null),b=we.useRef(new Map).current;return p.jsx(i,{scope:E,itemMap:b,collectionRef:y,children:x})};s.displayName=e;const a=t+"CollectionSlot",l=Xa(a),c=we.forwardRef((v,E)=>{const{scope:x,children:y}=v,b=o(a,x),P=lt(E,b.collectionRef);return p.jsx(l,{ref:P,children:y})});c.displayName=a;const u=t+"CollectionItemSlot",f="data-radix-collection-item",h=Xa(u),g=we.forwardRef((v,E)=>{const{scope:x,children:y,...b}=v,P=we.useRef(null),N=lt(E,P),M=o(u,x);return we.useEffect(()=>(M.itemMap.set(P,{ref:P,...b}),()=>void M.itemMap.delete(P))),p.jsx(h,{[f]:"",ref:N,children:y})});g.displayName=u;function w(v){const E=o(t+"CollectionConsumer",v);return we.useCallback(()=>{const y=E.collectionRef.current;if(!y)return[];const b=Array.from(y.querySelectorAll(`[${f}]`));return Array.from(E.itemMap.values()).sort((M,S)=>b.indexOf(M.ref.current)-b.indexOf(S.ref.current))},[E.collectionRef,E.itemMap])}return[{Provider:s,Slot:c,ItemSlot:g},w,r]}var Kte=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),Qte="VisuallyHidden",l_=m.forwardRef((t,e)=>p.jsx(ze.span,{...t,ref:e,style:{...Kte,...t.style}}));l_.displayName=Qte;var c_="ToastProvider",[u_,Xte,Jte]=Yte("Toast"),[nO,Dne]=js("Toast",[Jte]),[Zte,am]=nO(c_),rO=t=>{const{__scopeToast:e,label:n="Notification",duration:r=5e3,swipeDirection:i="right",swipeThreshold:o=50,children:s}=t,[a,l]=m.useState(null),[c,u]=m.useState(0),f=m.useRef(!1),h=m.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${c_}\`. Expected non-empty \`string\`.`),p.jsx(u_.Provider,{scope:e,children:p.jsx(Zte,{scope:e,label:n,duration:r,swipeDirection:i,swipeThreshold:o,toastCount:c,viewport:a,onViewportChange:l,onToastAdd:m.useCallback(()=>u(g=>g+1),[]),onToastRemove:m.useCallback(()=>u(g=>g-1),[]),isFocusedToastEscapeKeyDownRef:f,isClosePausedRef:h,children:s})})};rO.displayName=c_;var iO="ToastViewport",ene=["F8"],e0="toast.viewportPause",t0="toast.viewportResume",oO=m.forwardRef((t,e)=>{const{__scopeToast:n,hotkey:r=ene,label:i="Notifications ({hotkey})",...o}=t,s=am(iO,n),a=Xte(n),l=m.useRef(null),c=m.useRef(null),u=m.useRef(null),f=m.useRef(null),h=lt(e,f,s.onViewportChange),g=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),w=s.toastCount>0;m.useEffect(()=>{const E=x=>{var b;r.length!==0&&r.every(P=>x[P]||x.code===P)&&((b=f.current)==null||b.focus())};return document.addEventListener("keydown",E),()=>document.removeEventListener("keydown",E)},[r]),m.useEffect(()=>{const E=l.current,x=f.current;if(w&&E&&x){const y=()=>{if(!s.isClosePausedRef.current){const M=new CustomEvent(e0);x.dispatchEvent(M),s.isClosePausedRef.current=!0}},b=()=>{if(s.isClosePausedRef.current){const M=new CustomEvent(t0);x.dispatchEvent(M),s.isClosePausedRef.current=!1}},P=M=>{!E.contains(M.relatedTarget)&&b()},N=()=>{E.contains(document.activeElement)||b()};return E.addEventListener("focusin",y),E.addEventListener("focusout",P),E.addEventListener("pointermove",y),E.addEventListener("pointerleave",N),window.addEventListener("blur",y),window.addEventListener("focus",b),()=>{E.removeEventListener("focusin",y),E.removeEventListener("focusout",P),E.removeEventListener("pointermove",y),E.removeEventListener("pointerleave",N),window.removeEventListener("blur",y),window.removeEventListener("focus",b)}}},[w,s.isClosePausedRef]);const v=m.useCallback(({tabbingDirection:E})=>{const y=a().map(b=>{const P=b.ref.current,N=[P,...hne(P)];return E==="forwards"?N:N.reverse()});return(E==="forwards"?y.reverse():y).flat()},[a]);return m.useEffect(()=>{const E=f.current;if(E){const x=y=>{var N,M,S;const b=y.altKey||y.ctrlKey||y.metaKey;if(y.key==="Tab"&&!b){const C=document.activeElement,I=y.shiftKey;if(y.target===E&&I){(N=c.current)==null||N.focus();return}const O=v({tabbingDirection:I?"backwards":"forwards"}),R=O.findIndex(F=>F===C);Qg(O.slice(R+1))?y.preventDefault():I?(M=c.current)==null||M.focus():(S=u.current)==null||S.focus()}};return E.addEventListener("keydown",x),()=>E.removeEventListener("keydown",x)}},[a,v]),p.jsxs(tX,{ref:l,role:"region","aria-label":i.replace("{hotkey}",g),tabIndex:-1,style:{pointerEvents:w?void 0:"none"},children:[w&&p.jsx(n0,{ref:c,onFocusFromOutsideViewport:()=>{const E=v({tabbingDirection:"forwards"});Qg(E)}}),p.jsx(u_.Slot,{scope:n,children:p.jsx(ze.ol,{tabIndex:-1,...o,ref:h})}),w&&p.jsx(n0,{ref:u,onFocusFromOutsideViewport:()=>{const E=v({tabbingDirection:"backwards"});Qg(E)}})]})});oO.displayName=iO;var sO="ToastFocusProxy",n0=m.forwardRef((t,e)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...i}=t,o=am(sO,n);return p.jsx(l_,{"aria-hidden":!0,tabIndex:0,...i,ref:e,style:{position:"fixed"},onFocus:s=>{var c;const a=s.relatedTarget;!((c=o.viewport)!=null&&c.contains(a))&&r()}})});n0.displayName=sO;var Bu="Toast",tne="toast.swipeStart",nne="toast.swipeMove",rne="toast.swipeCancel",ine="toast.swipeEnd",aO=m.forwardRef((t,e)=>{const{forceMount:n,open:r,defaultOpen:i,onOpenChange:o,...s}=t,[a,l]=Op({prop:r,defaultProp:i??!0,onChange:o,caller:Bu});return p.jsx(er,{present:n||a,children:p.jsx(ane,{open:a,...s,ref:e,onClose:()=>l(!1),onPause:Ht(t.onPause),onResume:Ht(t.onResume),onSwipeStart:Ue(t.onSwipeStart,c=>{c.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Ue(t.onSwipeMove,c=>{const{x:u,y:f}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","move"),c.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${u}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${f}px`)}),onSwipeCancel:Ue(t.onSwipeCancel,c=>{c.currentTarget.setAttribute("data-swipe","cancel"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Ue(t.onSwipeEnd,c=>{const{x:u,y:f}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","end"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${u}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${f}px`),l(!1)})})})});aO.displayName=Bu;var[one,sne]=nO(Bu,{onClose(){}}),ane=m.forwardRef((t,e)=>{const{__scopeToast:n,type:r="foreground",duration:i,open:o,onClose:s,onEscapeKeyDown:a,onPause:l,onResume:c,onSwipeStart:u,onSwipeMove:f,onSwipeCancel:h,onSwipeEnd:g,...w}=t,v=am(Bu,n),[E,x]=m.useState(null),y=lt(e,F=>x(F)),b=m.useRef(null),P=m.useRef(null),N=i||v.duration,M=m.useRef(0),S=m.useRef(N),C=m.useRef(0),{onToastAdd:I,onToastRemove:A}=v,D=Ht(()=>{var q;(E==null?void 0:E.contains(document.activeElement))&&((q=v.viewport)==null||q.focus()),s()}),O=m.useCallback(F=>{!F||F===1/0||(window.clearTimeout(C.current),M.current=new Date().getTime(),C.current=window.setTimeout(D,F))},[D]);m.useEffect(()=>{const F=v.viewport;if(F){const q=()=>{O(S.current),c==null||c()},K=()=>{const z=new Date().getTime()-M.current;S.current=S.current-z,window.clearTimeout(C.current),l==null||l()};return F.addEventListener(e0,K),F.addEventListener(t0,q),()=>{F.removeEventListener(e0,K),F.removeEventListener(t0,q)}}},[v.viewport,N,l,c,O]),m.useEffect(()=>{o&&!v.isClosePausedRef.current&&O(N)},[o,N,v.isClosePausedRef,O]),m.useEffect(()=>(I(),()=>A()),[I,A]);const R=m.useMemo(()=>E?pO(E):null,[E]);return v.viewport?p.jsxs(p.Fragment,{children:[R&&p.jsx(lne,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:R}),p.jsx(one,{scope:n,onClose:D,children:jo.createPortal(p.jsx(u_.ItemSlot,{scope:n,children:p.jsx(eX,{asChild:!0,onEscapeKeyDown:Ue(a,()=>{v.isFocusedToastEscapeKeyDownRef.current||D(),v.isFocusedToastEscapeKeyDownRef.current=!1}),children:p.jsx(ze.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":o?"open":"closed","data-swipe-direction":v.swipeDirection,...w,ref:y,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:Ue(t.onKeyDown,F=>{F.key==="Escape"&&(a==null||a(F.nativeEvent),F.nativeEvent.defaultPrevented||(v.isFocusedToastEscapeKeyDownRef.current=!0,D()))}),onPointerDown:Ue(t.onPointerDown,F=>{F.button===0&&(b.current={x:F.clientX,y:F.clientY})}),onPointerMove:Ue(t.onPointerMove,F=>{if(!b.current)return;const q=F.clientX-b.current.x,K=F.clientY-b.current.y,z=!!P.current,L=["left","right"].includes(v.swipeDirection),j=["left","up"].includes(v.swipeDirection)?Math.min:Math.max,B=L?j(0,q):0,$=L?0:j(0,K),H=F.pointerType==="touch"?10:2,W={x:B,y:$},J={originalEvent:F,delta:W};z?(P.current=W,Hd(nne,f,J,{discrete:!1})):fS(W,v.swipeDirection,H)?(P.current=W,Hd(tne,u,J,{discrete:!1}),F.target.setPointerCapture(F.pointerId)):(Math.abs(q)>H||Math.abs(K)>H)&&(b.current=null)}),onPointerUp:Ue(t.onPointerUp,F=>{const q=P.current,K=F.target;if(K.hasPointerCapture(F.pointerId)&&K.releasePointerCapture(F.pointerId),P.current=null,b.current=null,q){const z=F.currentTarget,L={originalEvent:F,delta:q};fS(q,v.swipeDirection,v.swipeThreshold)?Hd(ine,g,L,{discrete:!0}):Hd(rne,h,L,{discrete:!0}),z.addEventListener("click",j=>j.preventDefault(),{once:!0})}})})})}),v.viewport)})]}):null}),lne=t=>{const{__scopeToast:e,children:n,...r}=t,i=am(Bu,e),[o,s]=m.useState(!1),[a,l]=m.useState(!1);return dne(()=>s(!0)),m.useEffect(()=>{const c=window.setTimeout(()=>l(!0),1e3);return()=>window.clearTimeout(c)},[]),a?null:p.jsx(Bp,{asChild:!0,children:p.jsx(l_,{...r,children:o&&p.jsxs(p.Fragment,{children:[i.label," ",n]})})})},cne="ToastTitle",lO=m.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return p.jsx(ze.div,{...r,ref:e})});lO.displayName=cne;var une="ToastDescription",cO=m.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return p.jsx(ze.div,{...r,ref:e})});cO.displayName=une;var uO="ToastAction",dO=m.forwardRef((t,e)=>{const{altText:n,...r}=t;return n.trim()?p.jsx(hO,{altText:n,asChild:!0,children:p.jsx(d_,{...r,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${uO}\`. Expected non-empty \`string\`.`),null)});dO.displayName=uO;var fO="ToastClose",d_=m.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t,i=sne(fO,n);return p.jsx(hO,{asChild:!0,children:p.jsx(ze.button,{type:"button",...r,ref:e,onClick:Ue(t.onClick,i.onClose)})})});d_.displayName=fO;var hO=m.forwardRef((t,e)=>{const{__scopeToast:n,altText:r,...i}=t;return p.jsx(ze.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...i,ref:e})});function pO(t){const e=[];return Array.from(t.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&e.push(r.textContent),fne(r)){const i=r.ariaHidden||r.hidden||r.style.display==="none",o=r.dataset.radixToastAnnounceExclude==="";if(!i)if(o){const s=r.dataset.radixToastAnnounceAlt;s&&e.push(s)}else e.push(...pO(r))}}),e}function Hd(t,e,n,{discrete:r}){const i=n.originalEvent.currentTarget,o=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:n});e&&i.addEventListener(t,e,{once:!0}),r?wR(i,o):i.dispatchEvent(o)}var fS=(t,e,n=0)=>{const r=Math.abs(t.x),i=Math.abs(t.y),o=r>i;return e==="left"||e==="right"?o&&r>n:!o&&i>n};function dne(t=()=>{}){const e=Ht(t);qr(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[e])}function fne(t){return t.nodeType===t.ELEMENT_NODE}function hne(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function Qg(t){const e=document.activeElement;return t.some(n=>n===e?!0:(n.focus(),document.activeElement!==e))}var pne=rO,mO=oO,gO=aO,vO=lO,yO=cO,wO=dO,_O=d_;const mne=pne,xO=we.forwardRef(({className:t,...e},n)=>p.jsx(mO,{ref:n,className:Ne("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));xO.displayName=mO.displayName;const gne=Ru("data-[swipe=move]:transition-none group relative pointer-events-auto flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full data-[state=closed]:slide-out-to-right-full",{variants:{variant:{default:"bg-background border",destructive:"group destructive border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),EO=we.forwardRef(({className:t,variant:e,...n},r)=>p.jsx(gO,{ref:r,className:Ne(gne({variant:e}),t),...n}));EO.displayName=gO.displayName;const vne=we.forwardRef(({className:t,...e},n)=>p.jsx(wO,{ref:n,className:Ne("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-destructive/30 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...e}));vne.displayName=wO.displayName;const bO=we.forwardRef(({className:t,...e},n)=>p.jsx(_O,{ref:n,className:Ne("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:p.jsx(Lu,{className:"h-4 w-4"})}));bO.displayName=_O.displayName;const TO=we.forwardRef(({className:t,...e},n)=>p.jsx(vO,{ref:n,className:Ne("text-sm font-semibold",t),...e}));TO.displayName=vO.displayName;const CO=we.forwardRef(({className:t,...e},n)=>p.jsx(yO,{ref:n,className:Ne("text-sm opacity-90",t),...e}));CO.displayName=yO.displayName;function yne(){const{toasts:t}=xl();return p.jsxs(mne,{children:[t.map(({id:e,title:n,description:r,action:i,...o})=>p.jsxs(EO,{...o,children:[p.jsxs("div",{className:"grid gap-1",children:[n&&p.jsx(TO,{children:n}),r&&p.jsx(CO,{children:r})]}),i,p.jsx(bO,{})]},e)),p.jsx(xO,{})]})}function qd({children:t}){const{user:e}=Ms();return e?t:p.jsx(Hv,{to:"/auth",replace:!0})}function wne(){const{user:t,loadingAuth:e}=Ms();return e?p.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gradient-to-br from-pink-50 via-purple-50 to-indigo-50 space-y-4",children:[p.jsx(Te.div,{className:"w-8 h-8 rounded-full bg-pink-500/80",animate:{opacity:[.4,1,.4]},transition:{duration:1.2,repeat:1/0}}),p.jsx(Te.p,{className:"text-pink-600 font-medium",initial:{opacity:0},animate:{opacity:1},transition:{delay:.2},children:"Cargando aplicación..."})]}):p.jsxs(mj,{children:[p.jsx(Jo,{path:"/auth",element:t?p.jsx(Hv,{to:"/",replace:!0}):p.jsx(wH,{})}),p.jsx(Jo,{path:"/",element:p.jsx(qd,{children:p.jsx(zd,{children:p.jsx(Lte,{})})})}),p.jsx(Jo,{path:"/archived-cycles",element:p.jsx(qd,{children:p.jsx(zd,{children:p.jsx(Vte,{})})})}),p.jsx(Jo,{path:"/settings",element:p.jsx(qd,{children:p.jsx(zd,{children:p.jsx(Ute,{})})})}),p.jsx(Jo,{path:"/cycle/:cycleId",element:p.jsx(qd,{children:p.jsx(zd,{children:p.jsx($te,{})})})}),p.jsx(Jo,{path:"*",element:p.jsx(Hv,{to:t?"/":"/auth",replace:!0})})]})}function _ne(){return p.jsx(Ej,{basename:"/RNF-App",children:p.jsxs(zU,{children:[p.jsx(wne,{}),p.jsx(yne,{})]})})}Xg.createRoot(document.getElementById("root")).render(p.jsx(we.StrictMode,{children:p.jsx(_ne,{})}));"serviceWorker"in navigator&&window.addEventListener("load",()=>{const t="/sw.js";navigator.serviceWorker.register(t)});
