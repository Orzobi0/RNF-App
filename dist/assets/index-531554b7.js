function tL(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(t,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();function fS(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var hS={exports:{}},Oh={},pS={exports:{}},Pe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hu=Symbol.for("react.element"),nL=Symbol.for("react.portal"),rL=Symbol.for("react.fragment"),iL=Symbol.for("react.strict_mode"),oL=Symbol.for("react.profiler"),sL=Symbol.for("react.provider"),aL=Symbol.for("react.context"),lL=Symbol.for("react.forward_ref"),cL=Symbol.for("react.suspense"),uL=Symbol.for("react.memo"),dL=Symbol.for("react.lazy"),nx=Symbol.iterator;function fL(t){return t===null||typeof t!="object"?null:(t=nx&&t[nx]||t["@@iterator"],typeof t=="function"?t:null)}var mS={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},gS=Object.assign,vS={};function el(t,e,n){this.props=t,this.context=e,this.refs=vS,this.updater=n||mS}el.prototype.isReactComponent={};el.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};el.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function yS(){}yS.prototype=el.prototype;function Yy(t,e,n){this.props=t,this.context=e,this.refs=vS,this.updater=n||mS}var Ky=Yy.prototype=new yS;Ky.constructor=Yy;gS(Ky,el.prototype);Ky.isPureReactComponent=!0;var rx=Array.isArray,wS=Object.prototype.hasOwnProperty,Qy={current:null},_S={key:!0,ref:!0,__self:!0,__source:!0};function xS(t,e,n){var r,i={},o=null,s=null;if(e!=null)for(r in e.ref!==void 0&&(s=e.ref),e.key!==void 0&&(o=""+e.key),e)wS.call(e,r)&&!_S.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:hu,type:t,key:o,ref:s,props:i,_owner:Qy.current}}function hL(t,e){return{$$typeof:hu,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Xy(t){return typeof t=="object"&&t!==null&&t.$$typeof===hu}function pL(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var ix=/\/+/g;function _m(t,e){return typeof t=="object"&&t!==null&&t.key!=null?pL(""+t.key):e.toString(36)}function Gd(t,e,n,r,i){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var s=!1;if(t===null)s=!0;else switch(o){case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case hu:case nL:s=!0}}if(s)return s=t,i=i(s),t=r===""?"."+_m(s,0):r,rx(i)?(n="",t!=null&&(n=t.replace(ix,"$&/")+"/"),Gd(i,e,n,"",function(c){return c})):i!=null&&(Xy(i)&&(i=hL(i,n+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(ix,"$&/")+"/")+t)),e.push(i)),1;if(s=0,r=r===""?".":r+":",rx(t))for(var a=0;a<t.length;a++){o=t[a];var l=r+_m(o,a);s+=Gd(o,e,n,l,i)}else if(l=fL(t),typeof l=="function")for(t=l.call(t),a=0;!(o=t.next()).done;)o=o.value,l=r+_m(o,a++),s+=Gd(o,e,n,l,i);else if(o==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return s}function ad(t,e,n){if(t==null)return t;var r=[],i=0;return Gd(t,r,"","",function(o){return e.call(n,o,i++)}),r}function mL(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var mn={current:null},Yd={transition:null},gL={ReactCurrentDispatcher:mn,ReactCurrentBatchConfig:Yd,ReactCurrentOwner:Qy};function ES(){throw Error("act(...) is not supported in production builds of React.")}Pe.Children={map:ad,forEach:function(t,e,n){ad(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return ad(t,function(){e++}),e},toArray:function(t){return ad(t,function(e){return e})||[]},only:function(t){if(!Xy(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Pe.Component=el;Pe.Fragment=rL;Pe.Profiler=oL;Pe.PureComponent=Yy;Pe.StrictMode=iL;Pe.Suspense=cL;Pe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=gL;Pe.act=ES;Pe.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=gS({},t.props),i=t.key,o=t.ref,s=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,s=Qy.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)wS.call(e,l)&&!_S.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:hu,type:t.type,key:i,ref:o,props:r,_owner:s}};Pe.createContext=function(t){return t={$$typeof:aL,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:sL,_context:t},t.Consumer=t};Pe.createElement=xS;Pe.createFactory=function(t){var e=xS.bind(null,t);return e.type=t,e};Pe.createRef=function(){return{current:null}};Pe.forwardRef=function(t){return{$$typeof:lL,render:t}};Pe.isValidElement=Xy;Pe.lazy=function(t){return{$$typeof:dL,_payload:{_status:-1,_result:t},_init:mL}};Pe.memo=function(t,e){return{$$typeof:uL,type:t,compare:e===void 0?null:e}};Pe.startTransition=function(t){var e=Yd.transition;Yd.transition={};try{t()}finally{Yd.transition=e}};Pe.unstable_act=ES;Pe.useCallback=function(t,e){return mn.current.useCallback(t,e)};Pe.useContext=function(t){return mn.current.useContext(t)};Pe.useDebugValue=function(){};Pe.useDeferredValue=function(t){return mn.current.useDeferredValue(t)};Pe.useEffect=function(t,e){return mn.current.useEffect(t,e)};Pe.useId=function(){return mn.current.useId()};Pe.useImperativeHandle=function(t,e,n){return mn.current.useImperativeHandle(t,e,n)};Pe.useInsertionEffect=function(t,e){return mn.current.useInsertionEffect(t,e)};Pe.useLayoutEffect=function(t,e){return mn.current.useLayoutEffect(t,e)};Pe.useMemo=function(t,e){return mn.current.useMemo(t,e)};Pe.useReducer=function(t,e,n){return mn.current.useReducer(t,e,n)};Pe.useRef=function(t){return mn.current.useRef(t)};Pe.useState=function(t){return mn.current.useState(t)};Pe.useSyncExternalStore=function(t,e,n){return mn.current.useSyncExternalStore(t,e,n)};Pe.useTransition=function(){return mn.current.useTransition()};Pe.version="18.3.1";pS.exports=Pe;var m=pS.exports;const we=fS(m),Lh=tL({__proto__:null,default:we},[m]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vL=m,yL=Symbol.for("react.element"),wL=Symbol.for("react.fragment"),_L=Object.prototype.hasOwnProperty,xL=vL.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,EL={key:!0,ref:!0,__self:!0,__source:!0};function bS(t,e,n){var r,i={},o=null,s=null;n!==void 0&&(o=""+n),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(s=e.ref);for(r in e)_L.call(e,r)&&!EL.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:yL,type:t,key:o,ref:s,props:i,_owner:xL.current}}Oh.Fragment=wL;Oh.jsx=bS;Oh.jsxs=bS;hS.exports=Oh;var p=hS.exports,Hg={},TS={exports:{}},jn={},CS={exports:{}},SS={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(L,V){var $=L.length;L.push(V);e:for(;0<$;){var W=$-1>>>1,G=L[W];if(0<i(G,V))L[W]=V,L[$]=G,$=W;else break e}}function n(L){return L.length===0?null:L[0]}function r(L){if(L.length===0)return null;var V=L[0],$=L.pop();if($!==V){L[0]=$;e:for(var W=0,G=L.length,Y=G>>>1;W<Y;){var oe=2*(W+1)-1,fe=L[oe],Ee=oe+1,J=L[Ee];if(0>i(fe,$))Ee<G&&0>i(J,fe)?(L[W]=J,L[Ee]=$,W=Ee):(L[W]=fe,L[oe]=$,W=oe);else if(Ee<G&&0>i(J,$))L[W]=J,L[Ee]=$,W=Ee;else break e}}return V}function i(L,V){var $=L.sortIndex-V.sortIndex;return $!==0?$:L.id-V.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,a=s.now();t.unstable_now=function(){return s.now()-a}}var l=[],c=[],u=1,f=null,h=3,g=!1,_=!1,v=!1,E=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(L){for(var V=n(c);V!==null;){if(V.callback===null)r(c);else if(V.startTime<=L)r(c),V.sortIndex=V.expirationTime,e(l,V);else break;V=n(c)}}function I(L){if(v=!1,b(L),!_)if(n(l)!==null)_=!0,K(N);else{var V=n(c);V!==null&&F(I,V.startTime-L)}}function N(L,V){_=!1,v&&(v=!1,x(C),C=-1),g=!0;var $=h;try{for(b(V),f=n(l);f!==null&&(!(f.expirationTime>V)||L&&!M());){var W=f.callback;if(typeof W=="function"){f.callback=null,h=f.priorityLevel;var G=W(f.expirationTime<=V);V=t.unstable_now(),typeof G=="function"?f.callback=G:f===n(l)&&r(l),b(V)}else r(l);f=n(l)}if(f!==null)var Y=!0;else{var oe=n(c);oe!==null&&F(I,oe.startTime-V),Y=!1}return Y}finally{f=null,h=$,g=!1}}var O=!1,S=null,C=-1,P=5,A=-1;function M(){return!(t.unstable_now()-A<P)}function D(){if(S!==null){var L=t.unstable_now();A=L;var V=!0;try{V=S(!0,L)}finally{V?k():(O=!1,S=null)}}else O=!1}var k;if(typeof y=="function")k=function(){y(D)};else if(typeof MessageChannel<"u"){var B=new MessageChannel,q=B.port2;B.port1.onmessage=D,k=function(){q.postMessage(null)}}else k=function(){E(D,0)};function K(L){S=L,O||(O=!0,k())}function F(L,V){C=E(function(){L(t.unstable_now())},V)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(L){L.callback=null},t.unstable_continueExecution=function(){_||g||(_=!0,K(N))},t.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<L?Math.floor(1e3/L):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(L){switch(h){case 1:case 2:case 3:var V=3;break;default:V=h}var $=h;h=V;try{return L()}finally{h=$}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(L,V){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var $=h;h=L;try{return V()}finally{h=$}},t.unstable_scheduleCallback=function(L,V,$){var W=t.unstable_now();switch(typeof $=="object"&&$!==null?($=$.delay,$=typeof $=="number"&&0<$?W+$:W):$=W,L){case 1:var G=-1;break;case 2:G=250;break;case 5:G=1073741823;break;case 4:G=1e4;break;default:G=5e3}return G=$+G,L={id:u++,callback:V,priorityLevel:L,startTime:$,expirationTime:G,sortIndex:-1},$>W?(L.sortIndex=$,e(c,L),n(l)===null&&L===n(c)&&(v?(x(C),C=-1):v=!0,F(I,$-W))):(L.sortIndex=G,e(l,L),_||g||(_=!0,K(N))),L},t.unstable_shouldYield=M,t.unstable_wrapCallback=function(L){var V=h;return function(){var $=h;h=V;try{return L.apply(this,arguments)}finally{h=$}}}})(SS);CS.exports=SS;var bL=CS.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var TL=m,Ln=bL;function Q(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var PS=new Set,Ic={};function Ss(t,e){Ra(t,e),Ra(t+"Capture",e)}function Ra(t,e){for(Ic[t]=e,t=0;t<e.length;t++)PS.add(e[t])}var di=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),qg=Object.prototype.hasOwnProperty,CL=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,ox={},sx={};function SL(t){return qg.call(sx,t)?!0:qg.call(ox,t)?!1:CL.test(t)?sx[t]=!0:(ox[t]=!0,!1)}function PL(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function IL(t,e,n,r){if(e===null||typeof e>"u"||PL(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function gn(t,e,n,r,i,o,s){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=s}var Ht={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Ht[t]=new gn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Ht[e]=new gn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Ht[t]=new gn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Ht[t]=new gn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Ht[t]=new gn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Ht[t]=new gn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Ht[t]=new gn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Ht[t]=new gn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Ht[t]=new gn(t,5,!1,t.toLowerCase(),null,!1,!1)});var Jy=/[\-:]([a-z])/g;function Zy(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Jy,Zy);Ht[e]=new gn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Jy,Zy);Ht[e]=new gn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Jy,Zy);Ht[e]=new gn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Ht[t]=new gn(t,1,!1,t.toLowerCase(),null,!1,!1)});Ht.xlinkHref=new gn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Ht[t]=new gn(t,1,!1,t.toLowerCase(),null,!0,!0)});function e0(t,e,n,r){var i=Ht.hasOwnProperty(e)?Ht[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(IL(e,n,i,r)&&(n=null),r||i===null?SL(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Ci=TL.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ld=Symbol.for("react.element"),Js=Symbol.for("react.portal"),Zs=Symbol.for("react.fragment"),t0=Symbol.for("react.strict_mode"),Gg=Symbol.for("react.profiler"),IS=Symbol.for("react.provider"),AS=Symbol.for("react.context"),n0=Symbol.for("react.forward_ref"),Yg=Symbol.for("react.suspense"),Kg=Symbol.for("react.suspense_list"),r0=Symbol.for("react.memo"),Fi=Symbol.for("react.lazy"),RS=Symbol.for("react.offscreen"),ax=Symbol.iterator;function Ol(t){return t===null||typeof t!="object"?null:(t=ax&&t[ax]||t["@@iterator"],typeof t=="function"?t:null)}var ht=Object.assign,xm;function Kl(t){if(xm===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);xm=e&&e[1]||""}return`
`+xm+t}var Em=!1;function bm(t,e){if(!t||Em)return"";Em=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),o=r.stack.split(`
`),s=i.length-1,a=o.length-1;1<=s&&0<=a&&i[s]!==o[a];)a--;for(;1<=s&&0<=a;s--,a--)if(i[s]!==o[a]){if(s!==1||a!==1)do if(s--,a--,0>a||i[s]!==o[a]){var l=`
`+i[s].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=s&&0<=a);break}}}finally{Em=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Kl(t):""}function AL(t){switch(t.tag){case 5:return Kl(t.type);case 16:return Kl("Lazy");case 13:return Kl("Suspense");case 19:return Kl("SuspenseList");case 0:case 2:case 15:return t=bm(t.type,!1),t;case 11:return t=bm(t.type.render,!1),t;case 1:return t=bm(t.type,!0),t;default:return""}}function Qg(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Zs:return"Fragment";case Js:return"Portal";case Gg:return"Profiler";case t0:return"StrictMode";case Yg:return"Suspense";case Kg:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case AS:return(t.displayName||"Context")+".Consumer";case IS:return(t._context.displayName||"Context")+".Provider";case n0:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case r0:return e=t.displayName||null,e!==null?e:Qg(t.type)||"Memo";case Fi:e=t._payload,t=t._init;try{return Qg(t(e))}catch{}}return null}function RL(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Qg(e);case 8:return e===t0?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function wo(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function kS(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function kL(t){var e=kS(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(s){r=""+s,o.call(this,s)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function cd(t){t._valueTracker||(t._valueTracker=kL(t))}function NS(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=kS(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Ef(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Xg(t,e){var n=e.checked;return ht({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function lx(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=wo(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function DS(t,e){e=e.checked,e!=null&&e0(t,"checked",e,!1)}function Jg(t,e){DS(t,e);var n=wo(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Zg(t,e.type,n):e.hasOwnProperty("defaultValue")&&Zg(t,e.type,wo(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function cx(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Zg(t,e,n){(e!=="number"||Ef(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Ql=Array.isArray;function ga(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+wo(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function ev(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(Q(91));return ht({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function ux(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(Q(92));if(Ql(n)){if(1<n.length)throw Error(Q(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:wo(n)}}function MS(t,e){var n=wo(e.value),r=wo(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function dx(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function OS(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function tv(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?OS(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var ud,LS=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(ud=ud||document.createElement("div"),ud.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=ud.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Ac(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var sc={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},NL=["Webkit","ms","Moz","O"];Object.keys(sc).forEach(function(t){NL.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),sc[e]=sc[t]})});function VS(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||sc.hasOwnProperty(t)&&sc[t]?(""+e).trim():e+"px"}function jS(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=VS(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var DL=ht({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function nv(t,e){if(e){if(DL[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(Q(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(Q(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(Q(61))}if(e.style!=null&&typeof e.style!="object")throw Error(Q(62))}}function rv(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var iv=null;function i0(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var ov=null,va=null,ya=null;function fx(t){if(t=gu(t)){if(typeof ov!="function")throw Error(Q(280));var e=t.stateNode;e&&(e=Uh(e),ov(t.stateNode,t.type,e))}}function FS(t){va?ya?ya.push(t):ya=[t]:va=t}function $S(){if(va){var t=va,e=ya;if(ya=va=null,fx(t),e)for(t=0;t<e.length;t++)fx(e[t])}}function US(t,e){return t(e)}function BS(){}var Tm=!1;function WS(t,e,n){if(Tm)return t(e,n);Tm=!0;try{return US(t,e,n)}finally{Tm=!1,(va!==null||ya!==null)&&(BS(),$S())}}function Rc(t,e){var n=t.stateNode;if(n===null)return null;var r=Uh(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(Q(231,e,typeof n));return n}var sv=!1;if(di)try{var Ll={};Object.defineProperty(Ll,"passive",{get:function(){sv=!0}}),window.addEventListener("test",Ll,Ll),window.removeEventListener("test",Ll,Ll)}catch{sv=!1}function ML(t,e,n,r,i,o,s,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(u){this.onError(u)}}var ac=!1,bf=null,Tf=!1,av=null,OL={onError:function(t){ac=!0,bf=t}};function LL(t,e,n,r,i,o,s,a,l){ac=!1,bf=null,ML.apply(OL,arguments)}function VL(t,e,n,r,i,o,s,a,l){if(LL.apply(this,arguments),ac){if(ac){var c=bf;ac=!1,bf=null}else throw Error(Q(198));Tf||(Tf=!0,av=c)}}function Ps(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function zS(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function hx(t){if(Ps(t)!==t)throw Error(Q(188))}function jL(t){var e=t.alternate;if(!e){if(e=Ps(t),e===null)throw Error(Q(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return hx(i),t;if(o===r)return hx(i),e;o=o.sibling}throw Error(Q(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,a=i.child;a;){if(a===n){s=!0,n=i,r=o;break}if(a===r){s=!0,r=i,n=o;break}a=a.sibling}if(!s){for(a=o.child;a;){if(a===n){s=!0,n=o,r=i;break}if(a===r){s=!0,r=o,n=i;break}a=a.sibling}if(!s)throw Error(Q(189))}}if(n.alternate!==r)throw Error(Q(190))}if(n.tag!==3)throw Error(Q(188));return n.stateNode.current===n?t:e}function HS(t){return t=jL(t),t!==null?qS(t):null}function qS(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=qS(t);if(e!==null)return e;t=t.sibling}return null}var GS=Ln.unstable_scheduleCallback,px=Ln.unstable_cancelCallback,FL=Ln.unstable_shouldYield,$L=Ln.unstable_requestPaint,_t=Ln.unstable_now,UL=Ln.unstable_getCurrentPriorityLevel,o0=Ln.unstable_ImmediatePriority,YS=Ln.unstable_UserBlockingPriority,Cf=Ln.unstable_NormalPriority,BL=Ln.unstable_LowPriority,KS=Ln.unstable_IdlePriority,Vh=null,Ar=null;function WL(t){if(Ar&&typeof Ar.onCommitFiberRoot=="function")try{Ar.onCommitFiberRoot(Vh,t,void 0,(t.current.flags&128)===128)}catch{}}var ar=Math.clz32?Math.clz32:qL,zL=Math.log,HL=Math.LN2;function qL(t){return t>>>=0,t===0?32:31-(zL(t)/HL|0)|0}var dd=64,fd=4194304;function Xl(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Sf(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,o=t.pingedLanes,s=n&268435455;if(s!==0){var a=s&~i;a!==0?r=Xl(a):(o&=s,o!==0&&(r=Xl(o)))}else s=n&~i,s!==0?r=Xl(s):o!==0&&(r=Xl(o));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,o=e&-e,i>=o||i===16&&(o&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-ar(e),i=1<<n,r|=t[n],e&=~i;return r}function GL(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function YL(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,o=t.pendingLanes;0<o;){var s=31-ar(o),a=1<<s,l=i[s];l===-1?(!(a&n)||a&r)&&(i[s]=GL(a,e)):l<=e&&(t.expiredLanes|=a),o&=~a}}function lv(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function QS(){var t=dd;return dd<<=1,!(dd&4194240)&&(dd=64),t}function Cm(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function pu(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-ar(e),t[e]=n}function KL(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-ar(n),o=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~o}}function s0(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-ar(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var qe=0;function XS(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var JS,a0,ZS,eP,tP,cv=!1,hd=[],Zi=null,eo=null,to=null,kc=new Map,Nc=new Map,Bi=[],QL="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function mx(t,e){switch(t){case"focusin":case"focusout":Zi=null;break;case"dragenter":case"dragleave":eo=null;break;case"mouseover":case"mouseout":to=null;break;case"pointerover":case"pointerout":kc.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Nc.delete(e.pointerId)}}function Vl(t,e,n,r,i,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},e!==null&&(e=gu(e),e!==null&&a0(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function XL(t,e,n,r,i){switch(e){case"focusin":return Zi=Vl(Zi,t,e,n,r,i),!0;case"dragenter":return eo=Vl(eo,t,e,n,r,i),!0;case"mouseover":return to=Vl(to,t,e,n,r,i),!0;case"pointerover":var o=i.pointerId;return kc.set(o,Vl(kc.get(o)||null,t,e,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,Nc.set(o,Vl(Nc.get(o)||null,t,e,n,r,i)),!0}return!1}function nP(t){var e=es(t.target);if(e!==null){var n=Ps(e);if(n!==null){if(e=n.tag,e===13){if(e=zS(n),e!==null){t.blockedOn=e,tP(t.priority,function(){ZS(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Kd(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=uv(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);iv=r,n.target.dispatchEvent(r),iv=null}else return e=gu(n),e!==null&&a0(e),t.blockedOn=n,!1;e.shift()}return!0}function gx(t,e,n){Kd(t)&&n.delete(e)}function JL(){cv=!1,Zi!==null&&Kd(Zi)&&(Zi=null),eo!==null&&Kd(eo)&&(eo=null),to!==null&&Kd(to)&&(to=null),kc.forEach(gx),Nc.forEach(gx)}function jl(t,e){t.blockedOn===e&&(t.blockedOn=null,cv||(cv=!0,Ln.unstable_scheduleCallback(Ln.unstable_NormalPriority,JL)))}function Dc(t){function e(i){return jl(i,t)}if(0<hd.length){jl(hd[0],t);for(var n=1;n<hd.length;n++){var r=hd[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Zi!==null&&jl(Zi,t),eo!==null&&jl(eo,t),to!==null&&jl(to,t),kc.forEach(e),Nc.forEach(e),n=0;n<Bi.length;n++)r=Bi[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Bi.length&&(n=Bi[0],n.blockedOn===null);)nP(n),n.blockedOn===null&&Bi.shift()}var wa=Ci.ReactCurrentBatchConfig,Pf=!0;function ZL(t,e,n,r){var i=qe,o=wa.transition;wa.transition=null;try{qe=1,l0(t,e,n,r)}finally{qe=i,wa.transition=o}}function e4(t,e,n,r){var i=qe,o=wa.transition;wa.transition=null;try{qe=4,l0(t,e,n,r)}finally{qe=i,wa.transition=o}}function l0(t,e,n,r){if(Pf){var i=uv(t,e,n,r);if(i===null)Om(t,e,r,If,n),mx(t,r);else if(XL(i,t,e,n,r))r.stopPropagation();else if(mx(t,r),e&4&&-1<QL.indexOf(t)){for(;i!==null;){var o=gu(i);if(o!==null&&JS(o),o=uv(t,e,n,r),o===null&&Om(t,e,r,If,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else Om(t,e,r,null,n)}}var If=null;function uv(t,e,n,r){if(If=null,t=i0(r),t=es(t),t!==null)if(e=Ps(t),e===null)t=null;else if(n=e.tag,n===13){if(t=zS(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return If=t,null}function rP(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(UL()){case o0:return 1;case YS:return 4;case Cf:case BL:return 16;case KS:return 536870912;default:return 16}default:return 16}}var Yi=null,c0=null,Qd=null;function iP(){if(Qd)return Qd;var t,e=c0,n=e.length,r,i="value"in Yi?Yi.value:Yi.textContent,o=i.length;for(t=0;t<n&&e[t]===i[t];t++);var s=n-t;for(r=1;r<=s&&e[n-r]===i[o-r];r++);return Qd=i.slice(t,1<r?1-r:void 0)}function Xd(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function pd(){return!0}function vx(){return!1}function Fn(t){function e(n,r,i,o,s){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=s,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(o):o[a]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?pd:vx,this.isPropagationStopped=vx,this}return ht(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=pd)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=pd)},persist:function(){},isPersistent:pd}),e}var tl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},u0=Fn(tl),mu=ht({},tl,{view:0,detail:0}),t4=Fn(mu),Sm,Pm,Fl,jh=ht({},mu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:d0,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Fl&&(Fl&&t.type==="mousemove"?(Sm=t.screenX-Fl.screenX,Pm=t.screenY-Fl.screenY):Pm=Sm=0,Fl=t),Sm)},movementY:function(t){return"movementY"in t?t.movementY:Pm}}),yx=Fn(jh),n4=ht({},jh,{dataTransfer:0}),r4=Fn(n4),i4=ht({},mu,{relatedTarget:0}),Im=Fn(i4),o4=ht({},tl,{animationName:0,elapsedTime:0,pseudoElement:0}),s4=Fn(o4),a4=ht({},tl,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),l4=Fn(a4),c4=ht({},tl,{data:0}),wx=Fn(c4),u4={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},d4={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},f4={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function h4(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=f4[t])?!!e[t]:!1}function d0(){return h4}var p4=ht({},mu,{key:function(t){if(t.key){var e=u4[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Xd(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?d4[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:d0,charCode:function(t){return t.type==="keypress"?Xd(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Xd(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),m4=Fn(p4),g4=ht({},jh,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),_x=Fn(g4),v4=ht({},mu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:d0}),y4=Fn(v4),w4=ht({},tl,{propertyName:0,elapsedTime:0,pseudoElement:0}),_4=Fn(w4),x4=ht({},jh,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),E4=Fn(x4),b4=[9,13,27,32],f0=di&&"CompositionEvent"in window,lc=null;di&&"documentMode"in document&&(lc=document.documentMode);var T4=di&&"TextEvent"in window&&!lc,oP=di&&(!f0||lc&&8<lc&&11>=lc),xx=String.fromCharCode(32),Ex=!1;function sP(t,e){switch(t){case"keyup":return b4.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function aP(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ea=!1;function C4(t,e){switch(t){case"compositionend":return aP(e);case"keypress":return e.which!==32?null:(Ex=!0,xx);case"textInput":return t=e.data,t===xx&&Ex?null:t;default:return null}}function S4(t,e){if(ea)return t==="compositionend"||!f0&&sP(t,e)?(t=iP(),Qd=c0=Yi=null,ea=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return oP&&e.locale!=="ko"?null:e.data;default:return null}}var P4={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function bx(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!P4[t.type]:e==="textarea"}function lP(t,e,n,r){FS(r),e=Af(e,"onChange"),0<e.length&&(n=new u0("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var cc=null,Mc=null;function I4(t){wP(t,0)}function Fh(t){var e=ra(t);if(NS(e))return t}function A4(t,e){if(t==="change")return e}var cP=!1;if(di){var Am;if(di){var Rm="oninput"in document;if(!Rm){var Tx=document.createElement("div");Tx.setAttribute("oninput","return;"),Rm=typeof Tx.oninput=="function"}Am=Rm}else Am=!1;cP=Am&&(!document.documentMode||9<document.documentMode)}function Cx(){cc&&(cc.detachEvent("onpropertychange",uP),Mc=cc=null)}function uP(t){if(t.propertyName==="value"&&Fh(Mc)){var e=[];lP(e,Mc,t,i0(t)),WS(I4,e)}}function R4(t,e,n){t==="focusin"?(Cx(),cc=e,Mc=n,cc.attachEvent("onpropertychange",uP)):t==="focusout"&&Cx()}function k4(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Fh(Mc)}function N4(t,e){if(t==="click")return Fh(e)}function D4(t,e){if(t==="input"||t==="change")return Fh(e)}function M4(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var ur=typeof Object.is=="function"?Object.is:M4;function Oc(t,e){if(ur(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!qg.call(e,i)||!ur(t[i],e[i]))return!1}return!0}function Sx(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Px(t,e){var n=Sx(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Sx(n)}}function dP(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?dP(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function fP(){for(var t=window,e=Ef();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Ef(t.document)}return e}function h0(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function O4(t){var e=fP(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&dP(n.ownerDocument.documentElement,n)){if(r!==null&&h0(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!t.extend&&o>r&&(i=r,r=o,o=i),i=Px(n,o);var s=Px(n,r);i&&s&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==s.node||t.focusOffset!==s.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),o>r?(t.addRange(e),t.extend(s.node,s.offset)):(e.setEnd(s.node,s.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var L4=di&&"documentMode"in document&&11>=document.documentMode,ta=null,dv=null,uc=null,fv=!1;function Ix(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;fv||ta==null||ta!==Ef(r)||(r=ta,"selectionStart"in r&&h0(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),uc&&Oc(uc,r)||(uc=r,r=Af(dv,"onSelect"),0<r.length&&(e=new u0("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=ta)))}function md(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var na={animationend:md("Animation","AnimationEnd"),animationiteration:md("Animation","AnimationIteration"),animationstart:md("Animation","AnimationStart"),transitionend:md("Transition","TransitionEnd")},km={},hP={};di&&(hP=document.createElement("div").style,"AnimationEvent"in window||(delete na.animationend.animation,delete na.animationiteration.animation,delete na.animationstart.animation),"TransitionEvent"in window||delete na.transitionend.transition);function $h(t){if(km[t])return km[t];if(!na[t])return t;var e=na[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in hP)return km[t]=e[n];return t}var pP=$h("animationend"),mP=$h("animationiteration"),gP=$h("animationstart"),vP=$h("transitionend"),yP=new Map,Ax="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ko(t,e){yP.set(t,e),Ss(e,[t])}for(var Nm=0;Nm<Ax.length;Nm++){var Dm=Ax[Nm],V4=Dm.toLowerCase(),j4=Dm[0].toUpperCase()+Dm.slice(1);ko(V4,"on"+j4)}ko(pP,"onAnimationEnd");ko(mP,"onAnimationIteration");ko(gP,"onAnimationStart");ko("dblclick","onDoubleClick");ko("focusin","onFocus");ko("focusout","onBlur");ko(vP,"onTransitionEnd");Ra("onMouseEnter",["mouseout","mouseover"]);Ra("onMouseLeave",["mouseout","mouseover"]);Ra("onPointerEnter",["pointerout","pointerover"]);Ra("onPointerLeave",["pointerout","pointerover"]);Ss("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ss("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ss("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ss("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ss("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ss("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Jl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),F4=new Set("cancel close invalid load scroll toggle".split(" ").concat(Jl));function Rx(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,VL(r,e,void 0,t),t.currentTarget=null}function wP(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var o=void 0;if(e)for(var s=r.length-1;0<=s;s--){var a=r[s],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==o&&i.isPropagationStopped())break e;Rx(i,a,c),o=l}else for(s=0;s<r.length;s++){if(a=r[s],l=a.instance,c=a.currentTarget,a=a.listener,l!==o&&i.isPropagationStopped())break e;Rx(i,a,c),o=l}}}if(Tf)throw t=av,Tf=!1,av=null,t}function rt(t,e){var n=e[vv];n===void 0&&(n=e[vv]=new Set);var r=t+"__bubble";n.has(r)||(_P(e,t,2,!1),n.add(r))}function Mm(t,e,n){var r=0;e&&(r|=4),_P(n,t,r,e)}var gd="_reactListening"+Math.random().toString(36).slice(2);function Lc(t){if(!t[gd]){t[gd]=!0,PS.forEach(function(n){n!=="selectionchange"&&(F4.has(n)||Mm(n,!1,t),Mm(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[gd]||(e[gd]=!0,Mm("selectionchange",!1,e))}}function _P(t,e,n,r){switch(rP(e)){case 1:var i=ZL;break;case 4:i=e4;break;default:i=l0}n=i.bind(null,e,n,t),i=void 0,!sv||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Om(t,e,n,r,i){var o=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(s===4)for(s=r.return;s!==null;){var l=s.tag;if((l===3||l===4)&&(l=s.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;s=s.return}for(;a!==null;){if(s=es(a),s===null)return;if(l=s.tag,l===5||l===6){r=o=s;continue e}a=a.parentNode}}r=r.return}WS(function(){var c=o,u=i0(n),f=[];e:{var h=yP.get(t);if(h!==void 0){var g=u0,_=t;switch(t){case"keypress":if(Xd(n)===0)break e;case"keydown":case"keyup":g=m4;break;case"focusin":_="focus",g=Im;break;case"focusout":_="blur",g=Im;break;case"beforeblur":case"afterblur":g=Im;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=yx;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=r4;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=y4;break;case pP:case mP:case gP:g=s4;break;case vP:g=_4;break;case"scroll":g=t4;break;case"wheel":g=E4;break;case"copy":case"cut":case"paste":g=l4;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=_x}var v=(e&4)!==0,E=!v&&t==="scroll",x=v?h!==null?h+"Capture":null:h;v=[];for(var y=c,b;y!==null;){b=y;var I=b.stateNode;if(b.tag===5&&I!==null&&(b=I,x!==null&&(I=Rc(y,x),I!=null&&v.push(Vc(y,I,b)))),E)break;y=y.return}0<v.length&&(h=new g(h,_,null,n,u),f.push({event:h,listeners:v}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",g=t==="mouseout"||t==="pointerout",h&&n!==iv&&(_=n.relatedTarget||n.fromElement)&&(es(_)||_[fi]))break e;if((g||h)&&(h=u.window===u?u:(h=u.ownerDocument)?h.defaultView||h.parentWindow:window,g?(_=n.relatedTarget||n.toElement,g=c,_=_?es(_):null,_!==null&&(E=Ps(_),_!==E||_.tag!==5&&_.tag!==6)&&(_=null)):(g=null,_=c),g!==_)){if(v=yx,I="onMouseLeave",x="onMouseEnter",y="mouse",(t==="pointerout"||t==="pointerover")&&(v=_x,I="onPointerLeave",x="onPointerEnter",y="pointer"),E=g==null?h:ra(g),b=_==null?h:ra(_),h=new v(I,y+"leave",g,n,u),h.target=E,h.relatedTarget=b,I=null,es(u)===c&&(v=new v(x,y+"enter",_,n,u),v.target=b,v.relatedTarget=E,I=v),E=I,g&&_)t:{for(v=g,x=_,y=0,b=v;b;b=$s(b))y++;for(b=0,I=x;I;I=$s(I))b++;for(;0<y-b;)v=$s(v),y--;for(;0<b-y;)x=$s(x),b--;for(;y--;){if(v===x||x!==null&&v===x.alternate)break t;v=$s(v),x=$s(x)}v=null}else v=null;g!==null&&kx(f,h,g,v,!1),_!==null&&E!==null&&kx(f,E,_,v,!0)}}e:{if(h=c?ra(c):window,g=h.nodeName&&h.nodeName.toLowerCase(),g==="select"||g==="input"&&h.type==="file")var N=A4;else if(bx(h))if(cP)N=D4;else{N=k4;var O=R4}else(g=h.nodeName)&&g.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(N=N4);if(N&&(N=N(t,c))){lP(f,N,n,u);break e}O&&O(t,h,c),t==="focusout"&&(O=h._wrapperState)&&O.controlled&&h.type==="number"&&Zg(h,"number",h.value)}switch(O=c?ra(c):window,t){case"focusin":(bx(O)||O.contentEditable==="true")&&(ta=O,dv=c,uc=null);break;case"focusout":uc=dv=ta=null;break;case"mousedown":fv=!0;break;case"contextmenu":case"mouseup":case"dragend":fv=!1,Ix(f,n,u);break;case"selectionchange":if(L4)break;case"keydown":case"keyup":Ix(f,n,u)}var S;if(f0)e:{switch(t){case"compositionstart":var C="onCompositionStart";break e;case"compositionend":C="onCompositionEnd";break e;case"compositionupdate":C="onCompositionUpdate";break e}C=void 0}else ea?sP(t,n)&&(C="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(C="onCompositionStart");C&&(oP&&n.locale!=="ko"&&(ea||C!=="onCompositionStart"?C==="onCompositionEnd"&&ea&&(S=iP()):(Yi=u,c0="value"in Yi?Yi.value:Yi.textContent,ea=!0)),O=Af(c,C),0<O.length&&(C=new wx(C,t,null,n,u),f.push({event:C,listeners:O}),S?C.data=S:(S=aP(n),S!==null&&(C.data=S)))),(S=T4?C4(t,n):S4(t,n))&&(c=Af(c,"onBeforeInput"),0<c.length&&(u=new wx("onBeforeInput","beforeinput",null,n,u),f.push({event:u,listeners:c}),u.data=S))}wP(f,e)})}function Vc(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Af(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=Rc(t,n),o!=null&&r.unshift(Vc(t,o,i)),o=Rc(t,e),o!=null&&r.push(Vc(t,o,i))),t=t.return}return r}function $s(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function kx(t,e,n,r,i){for(var o=e._reactName,s=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,i?(l=Rc(n,o),l!=null&&s.unshift(Vc(n,l,a))):i||(l=Rc(n,o),l!=null&&s.push(Vc(n,l,a)))),n=n.return}s.length!==0&&t.push({event:e,listeners:s})}var $4=/\r\n?/g,U4=/\u0000|\uFFFD/g;function Nx(t){return(typeof t=="string"?t:""+t).replace($4,`
`).replace(U4,"")}function vd(t,e,n){if(e=Nx(e),Nx(t)!==e&&n)throw Error(Q(425))}function Rf(){}var hv=null,pv=null;function mv(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var gv=typeof setTimeout=="function"?setTimeout:void 0,B4=typeof clearTimeout=="function"?clearTimeout:void 0,Dx=typeof Promise=="function"?Promise:void 0,W4=typeof queueMicrotask=="function"?queueMicrotask:typeof Dx<"u"?function(t){return Dx.resolve(null).then(t).catch(z4)}:gv;function z4(t){setTimeout(function(){throw t})}function Lm(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Dc(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Dc(e)}function no(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Mx(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var nl=Math.random().toString(36).slice(2),br="__reactFiber$"+nl,jc="__reactProps$"+nl,fi="__reactContainer$"+nl,vv="__reactEvents$"+nl,H4="__reactListeners$"+nl,q4="__reactHandles$"+nl;function es(t){var e=t[br];if(e)return e;for(var n=t.parentNode;n;){if(e=n[fi]||n[br]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Mx(t);t!==null;){if(n=t[br])return n;t=Mx(t)}return e}t=n,n=t.parentNode}return null}function gu(t){return t=t[br]||t[fi],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function ra(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(Q(33))}function Uh(t){return t[jc]||null}var yv=[],ia=-1;function No(t){return{current:t}}function ot(t){0>ia||(t.current=yv[ia],yv[ia]=null,ia--)}function Xe(t,e){ia++,yv[ia]=t.current,t.current=e}var _o={},on=No(_o),En=No(!1),cs=_o;function ka(t,e){var n=t.type.contextTypes;if(!n)return _o;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=e[o];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function bn(t){return t=t.childContextTypes,t!=null}function kf(){ot(En),ot(on)}function Ox(t,e,n){if(on.current!==_o)throw Error(Q(168));Xe(on,e),Xe(En,n)}function xP(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(Q(108,RL(t)||"Unknown",i));return ht({},n,r)}function Nf(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||_o,cs=on.current,Xe(on,t),Xe(En,En.current),!0}function Lx(t,e,n){var r=t.stateNode;if(!r)throw Error(Q(169));n?(t=xP(t,e,cs),r.__reactInternalMemoizedMergedChildContext=t,ot(En),ot(on),Xe(on,t)):ot(En),Xe(En,n)}var Zr=null,Bh=!1,Vm=!1;function EP(t){Zr===null?Zr=[t]:Zr.push(t)}function G4(t){Bh=!0,EP(t)}function Do(){if(!Vm&&Zr!==null){Vm=!0;var t=0,e=qe;try{var n=Zr;for(qe=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Zr=null,Bh=!1}catch(i){throw Zr!==null&&(Zr=Zr.slice(t+1)),GS(o0,Do),i}finally{qe=e,Vm=!1}}return null}var oa=[],sa=0,Df=null,Mf=0,Bn=[],Wn=0,us=null,ei=1,ti="";function Go(t,e){oa[sa++]=Mf,oa[sa++]=Df,Df=t,Mf=e}function bP(t,e,n){Bn[Wn++]=ei,Bn[Wn++]=ti,Bn[Wn++]=us,us=t;var r=ei;t=ti;var i=32-ar(r)-1;r&=~(1<<i),n+=1;var o=32-ar(e)+i;if(30<o){var s=i-i%5;o=(r&(1<<s)-1).toString(32),r>>=s,i-=s,ei=1<<32-ar(e)+i|n<<i|r,ti=o+t}else ei=1<<o|n<<i|r,ti=t}function p0(t){t.return!==null&&(Go(t,1),bP(t,1,0))}function m0(t){for(;t===Df;)Df=oa[--sa],oa[sa]=null,Mf=oa[--sa],oa[sa]=null;for(;t===us;)us=Bn[--Wn],Bn[Wn]=null,ti=Bn[--Wn],Bn[Wn]=null,ei=Bn[--Wn],Bn[Wn]=null}var Mn=null,Nn=null,at=!1,or=null;function TP(t,e){var n=qn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Vx(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Mn=t,Nn=no(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Mn=t,Nn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=us!==null?{id:ei,overflow:ti}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=qn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Mn=t,Nn=null,!0):!1;default:return!1}}function wv(t){return(t.mode&1)!==0&&(t.flags&128)===0}function _v(t){if(at){var e=Nn;if(e){var n=e;if(!Vx(t,e)){if(wv(t))throw Error(Q(418));e=no(n.nextSibling);var r=Mn;e&&Vx(t,e)?TP(r,n):(t.flags=t.flags&-4097|2,at=!1,Mn=t)}}else{if(wv(t))throw Error(Q(418));t.flags=t.flags&-4097|2,at=!1,Mn=t}}}function jx(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Mn=t}function yd(t){if(t!==Mn)return!1;if(!at)return jx(t),at=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!mv(t.type,t.memoizedProps)),e&&(e=Nn)){if(wv(t))throw CP(),Error(Q(418));for(;e;)TP(t,e),e=no(e.nextSibling)}if(jx(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(Q(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Nn=no(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Nn=null}}else Nn=Mn?no(t.stateNode.nextSibling):null;return!0}function CP(){for(var t=Nn;t;)t=no(t.nextSibling)}function Na(){Nn=Mn=null,at=!1}function g0(t){or===null?or=[t]:or.push(t)}var Y4=Ci.ReactCurrentBatchConfig;function $l(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(Q(309));var r=n.stateNode}if(!r)throw Error(Q(147,t));var i=r,o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(s){var a=i.refs;s===null?delete a[o]:a[o]=s},e._stringRef=o,e)}if(typeof t!="string")throw Error(Q(284));if(!n._owner)throw Error(Q(290,t))}return t}function wd(t,e){throw t=Object.prototype.toString.call(e),Error(Q(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Fx(t){var e=t._init;return e(t._payload)}function SP(t){function e(x,y){if(t){var b=x.deletions;b===null?(x.deletions=[y],x.flags|=16):b.push(y)}}function n(x,y){if(!t)return null;for(;y!==null;)e(x,y),y=y.sibling;return null}function r(x,y){for(x=new Map;y!==null;)y.key!==null?x.set(y.key,y):x.set(y.index,y),y=y.sibling;return x}function i(x,y){return x=so(x,y),x.index=0,x.sibling=null,x}function o(x,y,b){return x.index=b,t?(b=x.alternate,b!==null?(b=b.index,b<y?(x.flags|=2,y):b):(x.flags|=2,y)):(x.flags|=1048576,y)}function s(x){return t&&x.alternate===null&&(x.flags|=2),x}function a(x,y,b,I){return y===null||y.tag!==6?(y=zm(b,x.mode,I),y.return=x,y):(y=i(y,b),y.return=x,y)}function l(x,y,b,I){var N=b.type;return N===Zs?u(x,y,b.props.children,I,b.key):y!==null&&(y.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===Fi&&Fx(N)===y.type)?(I=i(y,b.props),I.ref=$l(x,y,b),I.return=x,I):(I=of(b.type,b.key,b.props,null,x.mode,I),I.ref=$l(x,y,b),I.return=x,I)}function c(x,y,b,I){return y===null||y.tag!==4||y.stateNode.containerInfo!==b.containerInfo||y.stateNode.implementation!==b.implementation?(y=Hm(b,x.mode,I),y.return=x,y):(y=i(y,b.children||[]),y.return=x,y)}function u(x,y,b,I,N){return y===null||y.tag!==7?(y=as(b,x.mode,I,N),y.return=x,y):(y=i(y,b),y.return=x,y)}function f(x,y,b){if(typeof y=="string"&&y!==""||typeof y=="number")return y=zm(""+y,x.mode,b),y.return=x,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case ld:return b=of(y.type,y.key,y.props,null,x.mode,b),b.ref=$l(x,null,y),b.return=x,b;case Js:return y=Hm(y,x.mode,b),y.return=x,y;case Fi:var I=y._init;return f(x,I(y._payload),b)}if(Ql(y)||Ol(y))return y=as(y,x.mode,b,null),y.return=x,y;wd(x,y)}return null}function h(x,y,b,I){var N=y!==null?y.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return N!==null?null:a(x,y,""+b,I);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case ld:return b.key===N?l(x,y,b,I):null;case Js:return b.key===N?c(x,y,b,I):null;case Fi:return N=b._init,h(x,y,N(b._payload),I)}if(Ql(b)||Ol(b))return N!==null?null:u(x,y,b,I,null);wd(x,b)}return null}function g(x,y,b,I,N){if(typeof I=="string"&&I!==""||typeof I=="number")return x=x.get(b)||null,a(y,x,""+I,N);if(typeof I=="object"&&I!==null){switch(I.$$typeof){case ld:return x=x.get(I.key===null?b:I.key)||null,l(y,x,I,N);case Js:return x=x.get(I.key===null?b:I.key)||null,c(y,x,I,N);case Fi:var O=I._init;return g(x,y,b,O(I._payload),N)}if(Ql(I)||Ol(I))return x=x.get(b)||null,u(y,x,I,N,null);wd(y,I)}return null}function _(x,y,b,I){for(var N=null,O=null,S=y,C=y=0,P=null;S!==null&&C<b.length;C++){S.index>C?(P=S,S=null):P=S.sibling;var A=h(x,S,b[C],I);if(A===null){S===null&&(S=P);break}t&&S&&A.alternate===null&&e(x,S),y=o(A,y,C),O===null?N=A:O.sibling=A,O=A,S=P}if(C===b.length)return n(x,S),at&&Go(x,C),N;if(S===null){for(;C<b.length;C++)S=f(x,b[C],I),S!==null&&(y=o(S,y,C),O===null?N=S:O.sibling=S,O=S);return at&&Go(x,C),N}for(S=r(x,S);C<b.length;C++)P=g(S,x,C,b[C],I),P!==null&&(t&&P.alternate!==null&&S.delete(P.key===null?C:P.key),y=o(P,y,C),O===null?N=P:O.sibling=P,O=P);return t&&S.forEach(function(M){return e(x,M)}),at&&Go(x,C),N}function v(x,y,b,I){var N=Ol(b);if(typeof N!="function")throw Error(Q(150));if(b=N.call(b),b==null)throw Error(Q(151));for(var O=N=null,S=y,C=y=0,P=null,A=b.next();S!==null&&!A.done;C++,A=b.next()){S.index>C?(P=S,S=null):P=S.sibling;var M=h(x,S,A.value,I);if(M===null){S===null&&(S=P);break}t&&S&&M.alternate===null&&e(x,S),y=o(M,y,C),O===null?N=M:O.sibling=M,O=M,S=P}if(A.done)return n(x,S),at&&Go(x,C),N;if(S===null){for(;!A.done;C++,A=b.next())A=f(x,A.value,I),A!==null&&(y=o(A,y,C),O===null?N=A:O.sibling=A,O=A);return at&&Go(x,C),N}for(S=r(x,S);!A.done;C++,A=b.next())A=g(S,x,C,A.value,I),A!==null&&(t&&A.alternate!==null&&S.delete(A.key===null?C:A.key),y=o(A,y,C),O===null?N=A:O.sibling=A,O=A);return t&&S.forEach(function(D){return e(x,D)}),at&&Go(x,C),N}function E(x,y,b,I){if(typeof b=="object"&&b!==null&&b.type===Zs&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case ld:e:{for(var N=b.key,O=y;O!==null;){if(O.key===N){if(N=b.type,N===Zs){if(O.tag===7){n(x,O.sibling),y=i(O,b.props.children),y.return=x,x=y;break e}}else if(O.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===Fi&&Fx(N)===O.type){n(x,O.sibling),y=i(O,b.props),y.ref=$l(x,O,b),y.return=x,x=y;break e}n(x,O);break}else e(x,O);O=O.sibling}b.type===Zs?(y=as(b.props.children,x.mode,I,b.key),y.return=x,x=y):(I=of(b.type,b.key,b.props,null,x.mode,I),I.ref=$l(x,y,b),I.return=x,x=I)}return s(x);case Js:e:{for(O=b.key;y!==null;){if(y.key===O)if(y.tag===4&&y.stateNode.containerInfo===b.containerInfo&&y.stateNode.implementation===b.implementation){n(x,y.sibling),y=i(y,b.children||[]),y.return=x,x=y;break e}else{n(x,y);break}else e(x,y);y=y.sibling}y=Hm(b,x.mode,I),y.return=x,x=y}return s(x);case Fi:return O=b._init,E(x,y,O(b._payload),I)}if(Ql(b))return _(x,y,b,I);if(Ol(b))return v(x,y,b,I);wd(x,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,y!==null&&y.tag===6?(n(x,y.sibling),y=i(y,b),y.return=x,x=y):(n(x,y),y=zm(b,x.mode,I),y.return=x,x=y),s(x)):n(x,y)}return E}var Da=SP(!0),PP=SP(!1),Of=No(null),Lf=null,aa=null,v0=null;function y0(){v0=aa=Lf=null}function w0(t){var e=Of.current;ot(Of),t._currentValue=e}function xv(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function _a(t,e){Lf=t,v0=aa=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(_n=!0),t.firstContext=null)}function Yn(t){var e=t._currentValue;if(v0!==t)if(t={context:t,memoizedValue:e,next:null},aa===null){if(Lf===null)throw Error(Q(308));aa=t,Lf.dependencies={lanes:0,firstContext:t}}else aa=aa.next=t;return e}var ts=null;function _0(t){ts===null?ts=[t]:ts.push(t)}function IP(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,_0(e)):(n.next=i.next,i.next=n),e.interleaved=n,hi(t,r)}function hi(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var $i=!1;function x0(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function AP(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function oi(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function ro(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Ve&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,hi(t,n)}return i=r.interleaved,i===null?(e.next=e,_0(r)):(e.next=i.next,i.next=e),r.interleaved=e,hi(t,n)}function Jd(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,s0(t,n)}}function $x(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=s:o=o.next=s,n=n.next}while(n!==null);o===null?i=o=e:o=o.next=e}else i=o=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Vf(t,e,n,r){var i=t.updateQueue;$i=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,c=l.next;l.next=null,s===null?o=c:s.next=c,s=l;var u=t.alternate;u!==null&&(u=u.updateQueue,a=u.lastBaseUpdate,a!==s&&(a===null?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(o!==null){var f=i.baseState;s=0,u=c=l=null,a=o;do{var h=a.lane,g=a.eventTime;if((r&h)===h){u!==null&&(u=u.next={eventTime:g,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var _=t,v=a;switch(h=e,g=n,v.tag){case 1:if(_=v.payload,typeof _=="function"){f=_.call(g,f,h);break e}f=_;break e;case 3:_.flags=_.flags&-65537|128;case 0:if(_=v.payload,h=typeof _=="function"?_.call(g,f,h):_,h==null)break e;f=ht({},f,h);break e;case 2:$i=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,h=i.effects,h===null?i.effects=[a]:h.push(a))}else g={eventTime:g,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},u===null?(c=u=g,l=f):u=u.next=g,s|=h;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;h=a,a=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(1);if(u===null&&(l=f),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,e=i.shared.interleaved,e!==null){i=e;do s|=i.lane,i=i.next;while(i!==e)}else o===null&&(i.shared.lanes=0);fs|=s,t.lanes=s,t.memoizedState=f}}function Ux(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(Q(191,i));i.call(r)}}}var vu={},Rr=No(vu),Fc=No(vu),$c=No(vu);function ns(t){if(t===vu)throw Error(Q(174));return t}function E0(t,e){switch(Xe($c,e),Xe(Fc,t),Xe(Rr,vu),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:tv(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=tv(e,t)}ot(Rr),Xe(Rr,e)}function Ma(){ot(Rr),ot(Fc),ot($c)}function RP(t){ns($c.current);var e=ns(Rr.current),n=tv(e,t.type);e!==n&&(Xe(Fc,t),Xe(Rr,n))}function b0(t){Fc.current===t&&(ot(Rr),ot(Fc))}var ct=No(0);function jf(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var jm=[];function T0(){for(var t=0;t<jm.length;t++)jm[t]._workInProgressVersionPrimary=null;jm.length=0}var Zd=Ci.ReactCurrentDispatcher,Fm=Ci.ReactCurrentBatchConfig,ds=0,ft=null,Rt=null,Ot=null,Ff=!1,dc=!1,Uc=0,K4=0;function Qt(){throw Error(Q(321))}function C0(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!ur(t[n],e[n]))return!1;return!0}function S0(t,e,n,r,i,o){if(ds=o,ft=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Zd.current=t===null||t.memoizedState===null?Z4:eV,t=n(r,i),dc){o=0;do{if(dc=!1,Uc=0,25<=o)throw Error(Q(301));o+=1,Ot=Rt=null,e.updateQueue=null,Zd.current=tV,t=n(r,i)}while(dc)}if(Zd.current=$f,e=Rt!==null&&Rt.next!==null,ds=0,Ot=Rt=ft=null,Ff=!1,e)throw Error(Q(300));return t}function P0(){var t=Uc!==0;return Uc=0,t}function xr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ot===null?ft.memoizedState=Ot=t:Ot=Ot.next=t,Ot}function Kn(){if(Rt===null){var t=ft.alternate;t=t!==null?t.memoizedState:null}else t=Rt.next;var e=Ot===null?ft.memoizedState:Ot.next;if(e!==null)Ot=e,Rt=t;else{if(t===null)throw Error(Q(310));Rt=t,t={memoizedState:Rt.memoizedState,baseState:Rt.baseState,baseQueue:Rt.baseQueue,queue:Rt.queue,next:null},Ot===null?ft.memoizedState=Ot=t:Ot=Ot.next=t}return Ot}function Bc(t,e){return typeof e=="function"?e(t):e}function $m(t){var e=Kn(),n=e.queue;if(n===null)throw Error(Q(311));n.lastRenderedReducer=t;var r=Rt,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var a=s=null,l=null,c=o;do{var u=c.lane;if((ds&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var f={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=f,s=r):l=l.next=f,ft.lanes|=u,fs|=u}c=c.next}while(c!==null&&c!==o);l===null?s=r:l.next=a,ur(r,e.memoizedState)||(_n=!0),e.memoizedState=r,e.baseState=s,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do o=i.lane,ft.lanes|=o,fs|=o,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Um(t){var e=Kn(),n=e.queue;if(n===null)throw Error(Q(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,o=e.memoizedState;if(i!==null){n.pending=null;var s=i=i.next;do o=t(o,s.action),s=s.next;while(s!==i);ur(o,e.memoizedState)||(_n=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),n.lastRenderedState=o}return[o,r]}function kP(){}function NP(t,e){var n=ft,r=Kn(),i=e(),o=!ur(r.memoizedState,i);if(o&&(r.memoizedState=i,_n=!0),r=r.queue,I0(OP.bind(null,n,r,t),[t]),r.getSnapshot!==e||o||Ot!==null&&Ot.memoizedState.tag&1){if(n.flags|=2048,Wc(9,MP.bind(null,n,r,i,e),void 0,null),Vt===null)throw Error(Q(349));ds&30||DP(n,e,i)}return i}function DP(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=ft.updateQueue,e===null?(e={lastEffect:null,stores:null},ft.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function MP(t,e,n,r){e.value=n,e.getSnapshot=r,LP(e)&&VP(t)}function OP(t,e,n){return n(function(){LP(e)&&VP(t)})}function LP(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!ur(t,n)}catch{return!0}}function VP(t){var e=hi(t,1);e!==null&&lr(e,t,1,-1)}function Bx(t){var e=xr();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Bc,lastRenderedState:t},e.queue=t,t=t.dispatch=J4.bind(null,ft,t),[e.memoizedState,t]}function Wc(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=ft.updateQueue,e===null?(e={lastEffect:null,stores:null},ft.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function jP(){return Kn().memoizedState}function ef(t,e,n,r){var i=xr();ft.flags|=t,i.memoizedState=Wc(1|e,n,void 0,r===void 0?null:r)}function Wh(t,e,n,r){var i=Kn();r=r===void 0?null:r;var o=void 0;if(Rt!==null){var s=Rt.memoizedState;if(o=s.destroy,r!==null&&C0(r,s.deps)){i.memoizedState=Wc(e,n,o,r);return}}ft.flags|=t,i.memoizedState=Wc(1|e,n,o,r)}function Wx(t,e){return ef(8390656,8,t,e)}function I0(t,e){return Wh(2048,8,t,e)}function FP(t,e){return Wh(4,2,t,e)}function $P(t,e){return Wh(4,4,t,e)}function UP(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function BP(t,e,n){return n=n!=null?n.concat([t]):null,Wh(4,4,UP.bind(null,e,t),n)}function A0(){}function WP(t,e){var n=Kn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&C0(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function zP(t,e){var n=Kn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&C0(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function HP(t,e,n){return ds&21?(ur(n,e)||(n=QS(),ft.lanes|=n,fs|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,_n=!0),t.memoizedState=n)}function Q4(t,e){var n=qe;qe=n!==0&&4>n?n:4,t(!0);var r=Fm.transition;Fm.transition={};try{t(!1),e()}finally{qe=n,Fm.transition=r}}function qP(){return Kn().memoizedState}function X4(t,e,n){var r=oo(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},GP(t))YP(e,n);else if(n=IP(t,e,n,r),n!==null){var i=pn();lr(n,t,r,i),KP(n,e,r)}}function J4(t,e,n){var r=oo(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(GP(t))YP(e,i);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var s=e.lastRenderedState,a=o(s,n);if(i.hasEagerState=!0,i.eagerState=a,ur(a,s)){var l=e.interleaved;l===null?(i.next=i,_0(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=IP(t,e,i,r),n!==null&&(i=pn(),lr(n,t,r,i),KP(n,e,r))}}function GP(t){var e=t.alternate;return t===ft||e!==null&&e===ft}function YP(t,e){dc=Ff=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function KP(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,s0(t,n)}}var $f={readContext:Yn,useCallback:Qt,useContext:Qt,useEffect:Qt,useImperativeHandle:Qt,useInsertionEffect:Qt,useLayoutEffect:Qt,useMemo:Qt,useReducer:Qt,useRef:Qt,useState:Qt,useDebugValue:Qt,useDeferredValue:Qt,useTransition:Qt,useMutableSource:Qt,useSyncExternalStore:Qt,useId:Qt,unstable_isNewReconciler:!1},Z4={readContext:Yn,useCallback:function(t,e){return xr().memoizedState=[t,e===void 0?null:e],t},useContext:Yn,useEffect:Wx,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,ef(4194308,4,UP.bind(null,e,t),n)},useLayoutEffect:function(t,e){return ef(4194308,4,t,e)},useInsertionEffect:function(t,e){return ef(4,2,t,e)},useMemo:function(t,e){var n=xr();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=xr();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=X4.bind(null,ft,t),[r.memoizedState,t]},useRef:function(t){var e=xr();return t={current:t},e.memoizedState=t},useState:Bx,useDebugValue:A0,useDeferredValue:function(t){return xr().memoizedState=t},useTransition:function(){var t=Bx(!1),e=t[0];return t=Q4.bind(null,t[1]),xr().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=ft,i=xr();if(at){if(n===void 0)throw Error(Q(407));n=n()}else{if(n=e(),Vt===null)throw Error(Q(349));ds&30||DP(r,e,n)}i.memoizedState=n;var o={value:n,getSnapshot:e};return i.queue=o,Wx(OP.bind(null,r,o,t),[t]),r.flags|=2048,Wc(9,MP.bind(null,r,o,n,e),void 0,null),n},useId:function(){var t=xr(),e=Vt.identifierPrefix;if(at){var n=ti,r=ei;n=(r&~(1<<32-ar(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Uc++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=K4++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},eV={readContext:Yn,useCallback:WP,useContext:Yn,useEffect:I0,useImperativeHandle:BP,useInsertionEffect:FP,useLayoutEffect:$P,useMemo:zP,useReducer:$m,useRef:jP,useState:function(){return $m(Bc)},useDebugValue:A0,useDeferredValue:function(t){var e=Kn();return HP(e,Rt.memoizedState,t)},useTransition:function(){var t=$m(Bc)[0],e=Kn().memoizedState;return[t,e]},useMutableSource:kP,useSyncExternalStore:NP,useId:qP,unstable_isNewReconciler:!1},tV={readContext:Yn,useCallback:WP,useContext:Yn,useEffect:I0,useImperativeHandle:BP,useInsertionEffect:FP,useLayoutEffect:$P,useMemo:zP,useReducer:Um,useRef:jP,useState:function(){return Um(Bc)},useDebugValue:A0,useDeferredValue:function(t){var e=Kn();return Rt===null?e.memoizedState=t:HP(e,Rt.memoizedState,t)},useTransition:function(){var t=Um(Bc)[0],e=Kn().memoizedState;return[t,e]},useMutableSource:kP,useSyncExternalStore:NP,useId:qP,unstable_isNewReconciler:!1};function rr(t,e){if(t&&t.defaultProps){e=ht({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Ev(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:ht({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var zh={isMounted:function(t){return(t=t._reactInternals)?Ps(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=pn(),i=oo(t),o=oi(r,i);o.payload=e,n!=null&&(o.callback=n),e=ro(t,o,i),e!==null&&(lr(e,t,i,r),Jd(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=pn(),i=oo(t),o=oi(r,i);o.tag=1,o.payload=e,n!=null&&(o.callback=n),e=ro(t,o,i),e!==null&&(lr(e,t,i,r),Jd(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=pn(),r=oo(t),i=oi(n,r);i.tag=2,e!=null&&(i.callback=e),e=ro(t,i,r),e!==null&&(lr(e,t,r,n),Jd(e,t,r))}};function zx(t,e,n,r,i,o,s){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,o,s):e.prototype&&e.prototype.isPureReactComponent?!Oc(n,r)||!Oc(i,o):!0}function QP(t,e,n){var r=!1,i=_o,o=e.contextType;return typeof o=="object"&&o!==null?o=Yn(o):(i=bn(e)?cs:on.current,r=e.contextTypes,o=(r=r!=null)?ka(t,i):_o),e=new e(n,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=zh,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=o),e}function Hx(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&zh.enqueueReplaceState(e,e.state,null)}function bv(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},x0(t);var o=e.contextType;typeof o=="object"&&o!==null?i.context=Yn(o):(o=bn(e)?cs:on.current,i.context=ka(t,o)),i.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(Ev(t,e,o,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&zh.enqueueReplaceState(i,i.state,null),Vf(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Oa(t,e){try{var n="",r=e;do n+=AL(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:i,digest:null}}function Bm(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Tv(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var nV=typeof WeakMap=="function"?WeakMap:Map;function XP(t,e,n){n=oi(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Bf||(Bf=!0,Mv=r),Tv(t,e)},n}function JP(t,e,n){n=oi(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){Tv(t,e)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){Tv(t,e),typeof r!="function"&&(io===null?io=new Set([this]):io.add(this));var s=e.stack;this.componentDidCatch(e.value,{componentStack:s!==null?s:""})}),n}function qx(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new nV;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=gV.bind(null,t,e,n),e.then(t,t))}function Gx(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Yx(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=oi(-1,1),e.tag=2,ro(n,e,1))),n.lanes|=1),t)}var rV=Ci.ReactCurrentOwner,_n=!1;function fn(t,e,n,r){e.child=t===null?PP(e,null,n,r):Da(e,t.child,n,r)}function Kx(t,e,n,r,i){n=n.render;var o=e.ref;return _a(e,i),r=S0(t,e,n,r,o,i),n=P0(),t!==null&&!_n?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,pi(t,e,i)):(at&&n&&p0(e),e.flags|=1,fn(t,e,r,i),e.child)}function Qx(t,e,n,r,i){if(t===null){var o=n.type;return typeof o=="function"&&!V0(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=o,ZP(t,e,o,r,i)):(t=of(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,!(t.lanes&i)){var s=o.memoizedProps;if(n=n.compare,n=n!==null?n:Oc,n(s,r)&&t.ref===e.ref)return pi(t,e,i)}return e.flags|=1,t=so(o,r),t.ref=e.ref,t.return=e,e.child=t}function ZP(t,e,n,r,i){if(t!==null){var o=t.memoizedProps;if(Oc(o,r)&&t.ref===e.ref)if(_n=!1,e.pendingProps=r=o,(t.lanes&i)!==0)t.flags&131072&&(_n=!0);else return e.lanes=t.lanes,pi(t,e,i)}return Cv(t,e,n,r,i)}function eI(t,e,n){var r=e.pendingProps,i=r.children,o=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Xe(ca,Rn),Rn|=n;else{if(!(n&1073741824))return t=o!==null?o.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Xe(ca,Rn),Rn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,Xe(ca,Rn),Rn|=r}else o!==null?(r=o.baseLanes|n,e.memoizedState=null):r=n,Xe(ca,Rn),Rn|=r;return fn(t,e,i,n),e.child}function tI(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Cv(t,e,n,r,i){var o=bn(n)?cs:on.current;return o=ka(e,o),_a(e,i),n=S0(t,e,n,r,o,i),r=P0(),t!==null&&!_n?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,pi(t,e,i)):(at&&r&&p0(e),e.flags|=1,fn(t,e,n,i),e.child)}function Xx(t,e,n,r,i){if(bn(n)){var o=!0;Nf(e)}else o=!1;if(_a(e,i),e.stateNode===null)tf(t,e),QP(e,n,r),bv(e,n,r,i),r=!0;else if(t===null){var s=e.stateNode,a=e.memoizedProps;s.props=a;var l=s.context,c=n.contextType;typeof c=="object"&&c!==null?c=Yn(c):(c=bn(n)?cs:on.current,c=ka(e,c));var u=n.getDerivedStateFromProps,f=typeof u=="function"||typeof s.getSnapshotBeforeUpdate=="function";f||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==r||l!==c)&&Hx(e,s,r,c),$i=!1;var h=e.memoizedState;s.state=h,Vf(e,r,s,i),l=e.memoizedState,a!==r||h!==l||En.current||$i?(typeof u=="function"&&(Ev(e,n,u,r),l=e.memoizedState),(a=$i||zx(e,n,a,r,h,l,c))?(f||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(e.flags|=4194308)):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),s.props=r,s.state=l,s.context=c,r=a):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{s=e.stateNode,AP(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:rr(e.type,a),s.props=c,f=e.pendingProps,h=s.context,l=n.contextType,typeof l=="object"&&l!==null?l=Yn(l):(l=bn(n)?cs:on.current,l=ka(e,l));var g=n.getDerivedStateFromProps;(u=typeof g=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==f||h!==l)&&Hx(e,s,r,l),$i=!1,h=e.memoizedState,s.state=h,Vf(e,r,s,i);var _=e.memoizedState;a!==f||h!==_||En.current||$i?(typeof g=="function"&&(Ev(e,n,g,r),_=e.memoizedState),(c=$i||zx(e,n,c,r,h,_,l)||!1)?(u||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,_,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,_,l)),typeof s.componentDidUpdate=="function"&&(e.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=_),s.props=r,s.state=_,s.context=l,r=c):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),r=!1)}return Sv(t,e,n,r,o,i)}function Sv(t,e,n,r,i,o){tI(t,e);var s=(e.flags&128)!==0;if(!r&&!s)return i&&Lx(e,n,!1),pi(t,e,o);r=e.stateNode,rV.current=e;var a=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&s?(e.child=Da(e,t.child,null,o),e.child=Da(e,null,a,o)):fn(t,e,a,o),e.memoizedState=r.state,i&&Lx(e,n,!0),e.child}function nI(t){var e=t.stateNode;e.pendingContext?Ox(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Ox(t,e.context,!1),E0(t,e.containerInfo)}function Jx(t,e,n,r,i){return Na(),g0(i),e.flags|=256,fn(t,e,n,r),e.child}var Pv={dehydrated:null,treeContext:null,retryLane:0};function Iv(t){return{baseLanes:t,cachePool:null,transitions:null}}function rI(t,e,n){var r=e.pendingProps,i=ct.current,o=!1,s=(e.flags&128)!==0,a;if((a=s)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(o=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Xe(ct,i&1),t===null)return _v(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(s=r.children,t=r.fallback,o?(r=e.mode,o=e.child,s={mode:"hidden",children:s},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=s):o=Gh(s,r,0,null),t=as(t,r,n,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=Iv(n),e.memoizedState=Pv,t):R0(e,s));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return iV(t,e,s,r,a,i,n);if(o){o=r.fallback,s=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(s&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=so(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?o=so(a,o):(o=as(o,s,n,null),o.flags|=2),o.return=e,r.return=e,r.sibling=o,e.child=r,r=o,o=e.child,s=t.child.memoizedState,s=s===null?Iv(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},o.memoizedState=s,o.childLanes=t.childLanes&~n,e.memoizedState=Pv,r}return o=t.child,t=o.sibling,r=so(o,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function R0(t,e){return e=Gh({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function _d(t,e,n,r){return r!==null&&g0(r),Da(e,t.child,null,n),t=R0(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function iV(t,e,n,r,i,o,s){if(n)return e.flags&256?(e.flags&=-257,r=Bm(Error(Q(422))),_d(t,e,s,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(o=r.fallback,i=e.mode,r=Gh({mode:"visible",children:r.children},i,0,null),o=as(o,i,s,null),o.flags|=2,r.return=e,o.return=e,r.sibling=o,e.child=r,e.mode&1&&Da(e,t.child,null,s),e.child.memoizedState=Iv(s),e.memoizedState=Pv,o);if(!(e.mode&1))return _d(t,e,s,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,o=Error(Q(419)),r=Bm(o,r,void 0),_d(t,e,s,r)}if(a=(s&t.childLanes)!==0,_n||a){if(r=Vt,r!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|s)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,hi(t,i),lr(r,t,i,-1))}return L0(),r=Bm(Error(Q(421))),_d(t,e,s,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=vV.bind(null,t),i._reactRetry=e,null):(t=o.treeContext,Nn=no(i.nextSibling),Mn=e,at=!0,or=null,t!==null&&(Bn[Wn++]=ei,Bn[Wn++]=ti,Bn[Wn++]=us,ei=t.id,ti=t.overflow,us=e),e=R0(e,r.children),e.flags|=4096,e)}function Zx(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),xv(t.return,e,n)}function Wm(t,e,n,r,i){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function iI(t,e,n){var r=e.pendingProps,i=r.revealOrder,o=r.tail;if(fn(t,e,r.children,n),r=ct.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Zx(t,n,e);else if(t.tag===19)Zx(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Xe(ct,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&jf(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Wm(e,!1,i,n,o);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&jf(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Wm(e,!0,n,null,o);break;case"together":Wm(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function tf(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function pi(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),fs|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(Q(153));if(e.child!==null){for(t=e.child,n=so(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=so(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function oV(t,e,n){switch(e.tag){case 3:nI(e),Na();break;case 5:RP(e);break;case 1:bn(e.type)&&Nf(e);break;case 4:E0(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Xe(Of,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Xe(ct,ct.current&1),e.flags|=128,null):n&e.child.childLanes?rI(t,e,n):(Xe(ct,ct.current&1),t=pi(t,e,n),t!==null?t.sibling:null);Xe(ct,ct.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return iI(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Xe(ct,ct.current),r)break;return null;case 22:case 23:return e.lanes=0,eI(t,e,n)}return pi(t,e,n)}var oI,Av,sI,aI;oI=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Av=function(){};sI=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,ns(Rr.current);var o=null;switch(n){case"input":i=Xg(t,i),r=Xg(t,r),o=[];break;case"select":i=ht({},i,{value:void 0}),r=ht({},r,{value:void 0}),o=[];break;case"textarea":i=ev(t,i),r=ev(t,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Rf)}nv(n,r);var s;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var a=i[c];for(s in a)a.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Ic.hasOwnProperty(c)?o||(o=[]):(o=o||[]).push(c,null));for(c in r){var l=r[c];if(a=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(s in a)!a.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in l)l.hasOwnProperty(s)&&a[s]!==l[s]&&(n||(n={}),n[s]=l[s])}else n||(o||(o=[]),o.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(o=o||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(o=o||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Ic.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&rt("scroll",t),o||a===l||(o=[])):(o=o||[]).push(c,l))}n&&(o=o||[]).push("style",n);var c=o;(e.updateQueue=c)&&(e.flags|=4)}};aI=function(t,e,n,r){n!==r&&(e.flags|=4)};function Ul(t,e){if(!at)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Xt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function sV(t,e,n){var r=e.pendingProps;switch(m0(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Xt(e),null;case 1:return bn(e.type)&&kf(),Xt(e),null;case 3:return r=e.stateNode,Ma(),ot(En),ot(on),T0(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(yd(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,or!==null&&(Vv(or),or=null))),Av(t,e),Xt(e),null;case 5:b0(e);var i=ns($c.current);if(n=e.type,t!==null&&e.stateNode!=null)sI(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(Q(166));return Xt(e),null}if(t=ns(Rr.current),yd(e)){r=e.stateNode,n=e.type;var o=e.memoizedProps;switch(r[br]=e,r[jc]=o,t=(e.mode&1)!==0,n){case"dialog":rt("cancel",r),rt("close",r);break;case"iframe":case"object":case"embed":rt("load",r);break;case"video":case"audio":for(i=0;i<Jl.length;i++)rt(Jl[i],r);break;case"source":rt("error",r);break;case"img":case"image":case"link":rt("error",r),rt("load",r);break;case"details":rt("toggle",r);break;case"input":lx(r,o),rt("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},rt("invalid",r);break;case"textarea":ux(r,o),rt("invalid",r)}nv(n,o),i=null;for(var s in o)if(o.hasOwnProperty(s)){var a=o[s];s==="children"?typeof a=="string"?r.textContent!==a&&(o.suppressHydrationWarning!==!0&&vd(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(o.suppressHydrationWarning!==!0&&vd(r.textContent,a,t),i=["children",""+a]):Ic.hasOwnProperty(s)&&a!=null&&s==="onScroll"&&rt("scroll",r)}switch(n){case"input":cd(r),cx(r,o,!0);break;case"textarea":cd(r),dx(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=Rf)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=OS(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=s.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=s.createElement(n,{is:r.is}):(t=s.createElement(n),n==="select"&&(s=t,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):t=s.createElementNS(t,n),t[br]=e,t[jc]=r,oI(t,e,!1,!1),e.stateNode=t;e:{switch(s=rv(n,r),n){case"dialog":rt("cancel",t),rt("close",t),i=r;break;case"iframe":case"object":case"embed":rt("load",t),i=r;break;case"video":case"audio":for(i=0;i<Jl.length;i++)rt(Jl[i],t);i=r;break;case"source":rt("error",t),i=r;break;case"img":case"image":case"link":rt("error",t),rt("load",t),i=r;break;case"details":rt("toggle",t),i=r;break;case"input":lx(t,r),i=Xg(t,r),rt("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=ht({},r,{value:void 0}),rt("invalid",t);break;case"textarea":ux(t,r),i=ev(t,r),rt("invalid",t);break;default:i=r}nv(n,i),a=i;for(o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="style"?jS(t,l):o==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&LS(t,l)):o==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Ac(t,l):typeof l=="number"&&Ac(t,""+l):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(Ic.hasOwnProperty(o)?l!=null&&o==="onScroll"&&rt("scroll",t):l!=null&&e0(t,o,l,s))}switch(n){case"input":cd(t),cx(t,r,!1);break;case"textarea":cd(t),dx(t);break;case"option":r.value!=null&&t.setAttribute("value",""+wo(r.value));break;case"select":t.multiple=!!r.multiple,o=r.value,o!=null?ga(t,!!r.multiple,o,!1):r.defaultValue!=null&&ga(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Rf)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Xt(e),null;case 6:if(t&&e.stateNode!=null)aI(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(Q(166));if(n=ns($c.current),ns(Rr.current),yd(e)){if(r=e.stateNode,n=e.memoizedProps,r[br]=e,(o=r.nodeValue!==n)&&(t=Mn,t!==null))switch(t.tag){case 3:vd(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&vd(r.nodeValue,n,(t.mode&1)!==0)}o&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[br]=e,e.stateNode=r}return Xt(e),null;case 13:if(ot(ct),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(at&&Nn!==null&&e.mode&1&&!(e.flags&128))CP(),Na(),e.flags|=98560,o=!1;else if(o=yd(e),r!==null&&r.dehydrated!==null){if(t===null){if(!o)throw Error(Q(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(Q(317));o[br]=e}else Na(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Xt(e),o=!1}else or!==null&&(Vv(or),or=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||ct.current&1?kt===0&&(kt=3):L0())),e.updateQueue!==null&&(e.flags|=4),Xt(e),null);case 4:return Ma(),Av(t,e),t===null&&Lc(e.stateNode.containerInfo),Xt(e),null;case 10:return w0(e.type._context),Xt(e),null;case 17:return bn(e.type)&&kf(),Xt(e),null;case 19:if(ot(ct),o=e.memoizedState,o===null)return Xt(e),null;if(r=(e.flags&128)!==0,s=o.rendering,s===null)if(r)Ul(o,!1);else{if(kt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(s=jf(t),s!==null){for(e.flags|=128,Ul(o,!1),r=s.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)o=n,t=r,o.flags&=14680066,s=o.alternate,s===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,t=s.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Xe(ct,ct.current&1|2),e.child}t=t.sibling}o.tail!==null&&_t()>La&&(e.flags|=128,r=!0,Ul(o,!1),e.lanes=4194304)}else{if(!r)if(t=jf(s),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Ul(o,!0),o.tail===null&&o.tailMode==="hidden"&&!s.alternate&&!at)return Xt(e),null}else 2*_t()-o.renderingStartTime>La&&n!==1073741824&&(e.flags|=128,r=!0,Ul(o,!1),e.lanes=4194304);o.isBackwards?(s.sibling=e.child,e.child=s):(n=o.last,n!==null?n.sibling=s:e.child=s,o.last=s)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=_t(),e.sibling=null,n=ct.current,Xe(ct,r?n&1|2:n&1),e):(Xt(e),null);case 22:case 23:return O0(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Rn&1073741824&&(Xt(e),e.subtreeFlags&6&&(e.flags|=8192)):Xt(e),null;case 24:return null;case 25:return null}throw Error(Q(156,e.tag))}function aV(t,e){switch(m0(e),e.tag){case 1:return bn(e.type)&&kf(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Ma(),ot(En),ot(on),T0(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return b0(e),null;case 13:if(ot(ct),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(Q(340));Na()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return ot(ct),null;case 4:return Ma(),null;case 10:return w0(e.type._context),null;case 22:case 23:return O0(),null;case 24:return null;default:return null}}var xd=!1,tn=!1,lV=typeof WeakSet=="function"?WeakSet:Set,ie=null;function la(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){gt(t,e,r)}else n.current=null}function Rv(t,e,n){try{n()}catch(r){gt(t,e,r)}}var eE=!1;function cV(t,e){if(hv=Pf,t=fP(),h0(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var s=0,a=-1,l=-1,c=0,u=0,f=t,h=null;t:for(;;){for(var g;f!==n||i!==0&&f.nodeType!==3||(a=s+i),f!==o||r!==0&&f.nodeType!==3||(l=s+r),f.nodeType===3&&(s+=f.nodeValue.length),(g=f.firstChild)!==null;)h=f,f=g;for(;;){if(f===t)break t;if(h===n&&++c===i&&(a=s),h===o&&++u===r&&(l=s),(g=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=g}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(pv={focusedElem:t,selectionRange:n},Pf=!1,ie=e;ie!==null;)if(e=ie,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,ie=t;else for(;ie!==null;){e=ie;try{var _=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(_!==null){var v=_.memoizedProps,E=_.memoizedState,x=e.stateNode,y=x.getSnapshotBeforeUpdate(e.elementType===e.type?v:rr(e.type,v),E);x.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var b=e.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Q(163))}}catch(I){gt(e,e.return,I)}if(t=e.sibling,t!==null){t.return=e.return,ie=t;break}ie=e.return}return _=eE,eE=!1,_}function fc(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var o=i.destroy;i.destroy=void 0,o!==void 0&&Rv(e,n,o)}i=i.next}while(i!==r)}}function Hh(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function kv(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function lI(t){var e=t.alternate;e!==null&&(t.alternate=null,lI(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[br],delete e[jc],delete e[vv],delete e[H4],delete e[q4])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function cI(t){return t.tag===5||t.tag===3||t.tag===4}function tE(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||cI(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Nv(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Rf));else if(r!==4&&(t=t.child,t!==null))for(Nv(t,e,n),t=t.sibling;t!==null;)Nv(t,e,n),t=t.sibling}function Dv(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Dv(t,e,n),t=t.sibling;t!==null;)Dv(t,e,n),t=t.sibling}var $t=null,ir=!1;function Ni(t,e,n){for(n=n.child;n!==null;)uI(t,e,n),n=n.sibling}function uI(t,e,n){if(Ar&&typeof Ar.onCommitFiberUnmount=="function")try{Ar.onCommitFiberUnmount(Vh,n)}catch{}switch(n.tag){case 5:tn||la(n,e);case 6:var r=$t,i=ir;$t=null,Ni(t,e,n),$t=r,ir=i,$t!==null&&(ir?(t=$t,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):$t.removeChild(n.stateNode));break;case 18:$t!==null&&(ir?(t=$t,n=n.stateNode,t.nodeType===8?Lm(t.parentNode,n):t.nodeType===1&&Lm(t,n),Dc(t)):Lm($t,n.stateNode));break;case 4:r=$t,i=ir,$t=n.stateNode.containerInfo,ir=!0,Ni(t,e,n),$t=r,ir=i;break;case 0:case 11:case 14:case 15:if(!tn&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,s=o.destroy;o=o.tag,s!==void 0&&(o&2||o&4)&&Rv(n,e,s),i=i.next}while(i!==r)}Ni(t,e,n);break;case 1:if(!tn&&(la(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){gt(n,e,a)}Ni(t,e,n);break;case 21:Ni(t,e,n);break;case 22:n.mode&1?(tn=(r=tn)||n.memoizedState!==null,Ni(t,e,n),tn=r):Ni(t,e,n);break;default:Ni(t,e,n)}}function nE(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new lV),e.forEach(function(r){var i=yV.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function tr(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=t,s=e,a=s;e:for(;a!==null;){switch(a.tag){case 5:$t=a.stateNode,ir=!1;break e;case 3:$t=a.stateNode.containerInfo,ir=!0;break e;case 4:$t=a.stateNode.containerInfo,ir=!0;break e}a=a.return}if($t===null)throw Error(Q(160));uI(o,s,i),$t=null,ir=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){gt(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)dI(e,t),e=e.sibling}function dI(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(tr(e,t),_r(t),r&4){try{fc(3,t,t.return),Hh(3,t)}catch(v){gt(t,t.return,v)}try{fc(5,t,t.return)}catch(v){gt(t,t.return,v)}}break;case 1:tr(e,t),_r(t),r&512&&n!==null&&la(n,n.return);break;case 5:if(tr(e,t),_r(t),r&512&&n!==null&&la(n,n.return),t.flags&32){var i=t.stateNode;try{Ac(i,"")}catch(v){gt(t,t.return,v)}}if(r&4&&(i=t.stateNode,i!=null)){var o=t.memoizedProps,s=n!==null?n.memoizedProps:o,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&o.type==="radio"&&o.name!=null&&DS(i,o),rv(a,s);var c=rv(a,o);for(s=0;s<l.length;s+=2){var u=l[s],f=l[s+1];u==="style"?jS(i,f):u==="dangerouslySetInnerHTML"?LS(i,f):u==="children"?Ac(i,f):e0(i,u,f,c)}switch(a){case"input":Jg(i,o);break;case"textarea":MS(i,o);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var g=o.value;g!=null?ga(i,!!o.multiple,g,!1):h!==!!o.multiple&&(o.defaultValue!=null?ga(i,!!o.multiple,o.defaultValue,!0):ga(i,!!o.multiple,o.multiple?[]:"",!1))}i[jc]=o}catch(v){gt(t,t.return,v)}}break;case 6:if(tr(e,t),_r(t),r&4){if(t.stateNode===null)throw Error(Q(162));i=t.stateNode,o=t.memoizedProps;try{i.nodeValue=o}catch(v){gt(t,t.return,v)}}break;case 3:if(tr(e,t),_r(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Dc(e.containerInfo)}catch(v){gt(t,t.return,v)}break;case 4:tr(e,t),_r(t);break;case 13:tr(e,t),_r(t),i=t.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(D0=_t())),r&4&&nE(t);break;case 22:if(u=n!==null&&n.memoizedState!==null,t.mode&1?(tn=(c=tn)||u,tr(e,t),tn=c):tr(e,t),_r(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!u&&t.mode&1)for(ie=t,u=t.child;u!==null;){for(f=ie=u;ie!==null;){switch(h=ie,g=h.child,h.tag){case 0:case 11:case 14:case 15:fc(4,h,h.return);break;case 1:la(h,h.return);var _=h.stateNode;if(typeof _.componentWillUnmount=="function"){r=h,n=h.return;try{e=r,_.props=e.memoizedProps,_.state=e.memoizedState,_.componentWillUnmount()}catch(v){gt(r,n,v)}}break;case 5:la(h,h.return);break;case 22:if(h.memoizedState!==null){iE(f);continue}}g!==null?(g.return=h,ie=g):iE(f)}u=u.sibling}e:for(u=null,f=t;;){if(f.tag===5){if(u===null){u=f;try{i=f.stateNode,c?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(a=f.stateNode,l=f.memoizedProps.style,s=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=VS("display",s))}catch(v){gt(t,t.return,v)}}}else if(f.tag===6){if(u===null)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(v){gt(t,t.return,v)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;u===f&&(u=null),f=f.return}u===f&&(u=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:tr(e,t),_r(t),r&4&&nE(t);break;case 21:break;default:tr(e,t),_r(t)}}function _r(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(cI(n)){var r=n;break e}n=n.return}throw Error(Q(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Ac(i,""),r.flags&=-33);var o=tE(t);Dv(t,o,i);break;case 3:case 4:var s=r.stateNode.containerInfo,a=tE(t);Nv(t,a,s);break;default:throw Error(Q(161))}}catch(l){gt(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function uV(t,e,n){ie=t,fI(t)}function fI(t,e,n){for(var r=(t.mode&1)!==0;ie!==null;){var i=ie,o=i.child;if(i.tag===22&&r){var s=i.memoizedState!==null||xd;if(!s){var a=i.alternate,l=a!==null&&a.memoizedState!==null||tn;a=xd;var c=tn;if(xd=s,(tn=l)&&!c)for(ie=i;ie!==null;)s=ie,l=s.child,s.tag===22&&s.memoizedState!==null?oE(i):l!==null?(l.return=s,ie=l):oE(i);for(;o!==null;)ie=o,fI(o),o=o.sibling;ie=i,xd=a,tn=c}rE(t)}else i.subtreeFlags&8772&&o!==null?(o.return=i,ie=o):rE(t)}}function rE(t){for(;ie!==null;){var e=ie;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:tn||Hh(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!tn)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:rr(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&Ux(e,o,r);break;case 3:var s=e.updateQueue;if(s!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Ux(e,s,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var f=u.dehydrated;f!==null&&Dc(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Q(163))}tn||e.flags&512&&kv(e)}catch(h){gt(e,e.return,h)}}if(e===t){ie=null;break}if(n=e.sibling,n!==null){n.return=e.return,ie=n;break}ie=e.return}}function iE(t){for(;ie!==null;){var e=ie;if(e===t){ie=null;break}var n=e.sibling;if(n!==null){n.return=e.return,ie=n;break}ie=e.return}}function oE(t){for(;ie!==null;){var e=ie;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Hh(4,e)}catch(l){gt(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){gt(e,i,l)}}var o=e.return;try{kv(e)}catch(l){gt(e,o,l)}break;case 5:var s=e.return;try{kv(e)}catch(l){gt(e,s,l)}}}catch(l){gt(e,e.return,l)}if(e===t){ie=null;break}var a=e.sibling;if(a!==null){a.return=e.return,ie=a;break}ie=e.return}}var dV=Math.ceil,Uf=Ci.ReactCurrentDispatcher,k0=Ci.ReactCurrentOwner,Gn=Ci.ReactCurrentBatchConfig,Ve=0,Vt=null,St=null,zt=0,Rn=0,ca=No(0),kt=0,zc=null,fs=0,qh=0,N0=0,hc=null,yn=null,D0=0,La=1/0,Xr=null,Bf=!1,Mv=null,io=null,Ed=!1,Ki=null,Wf=0,pc=0,Ov=null,nf=-1,rf=0;function pn(){return Ve&6?_t():nf!==-1?nf:nf=_t()}function oo(t){return t.mode&1?Ve&2&&zt!==0?zt&-zt:Y4.transition!==null?(rf===0&&(rf=QS()),rf):(t=qe,t!==0||(t=window.event,t=t===void 0?16:rP(t.type)),t):1}function lr(t,e,n,r){if(50<pc)throw pc=0,Ov=null,Error(Q(185));pu(t,n,r),(!(Ve&2)||t!==Vt)&&(t===Vt&&(!(Ve&2)&&(qh|=n),kt===4&&Wi(t,zt)),Tn(t,r),n===1&&Ve===0&&!(e.mode&1)&&(La=_t()+500,Bh&&Do()))}function Tn(t,e){var n=t.callbackNode;YL(t,e);var r=Sf(t,t===Vt?zt:0);if(r===0)n!==null&&px(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&px(n),e===1)t.tag===0?G4(sE.bind(null,t)):EP(sE.bind(null,t)),W4(function(){!(Ve&6)&&Do()}),n=null;else{switch(XS(r)){case 1:n=o0;break;case 4:n=YS;break;case 16:n=Cf;break;case 536870912:n=KS;break;default:n=Cf}n=_I(n,hI.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function hI(t,e){if(nf=-1,rf=0,Ve&6)throw Error(Q(327));var n=t.callbackNode;if(xa()&&t.callbackNode!==n)return null;var r=Sf(t,t===Vt?zt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=zf(t,r);else{e=r;var i=Ve;Ve|=2;var o=mI();(Vt!==t||zt!==e)&&(Xr=null,La=_t()+500,ss(t,e));do try{pV();break}catch(a){pI(t,a)}while(1);y0(),Uf.current=o,Ve=i,St!==null?e=0:(Vt=null,zt=0,e=kt)}if(e!==0){if(e===2&&(i=lv(t),i!==0&&(r=i,e=Lv(t,i))),e===1)throw n=zc,ss(t,0),Wi(t,r),Tn(t,_t()),n;if(e===6)Wi(t,r);else{if(i=t.current.alternate,!(r&30)&&!fV(i)&&(e=zf(t,r),e===2&&(o=lv(t),o!==0&&(r=o,e=Lv(t,o))),e===1))throw n=zc,ss(t,0),Wi(t,r),Tn(t,_t()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(Q(345));case 2:Yo(t,yn,Xr);break;case 3:if(Wi(t,r),(r&130023424)===r&&(e=D0+500-_t(),10<e)){if(Sf(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){pn(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=gv(Yo.bind(null,t,yn,Xr),e);break}Yo(t,yn,Xr);break;case 4:if(Wi(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var s=31-ar(r);o=1<<s,s=e[s],s>i&&(i=s),r&=~o}if(r=i,r=_t()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*dV(r/1960))-r,10<r){t.timeoutHandle=gv(Yo.bind(null,t,yn,Xr),r);break}Yo(t,yn,Xr);break;case 5:Yo(t,yn,Xr);break;default:throw Error(Q(329))}}}return Tn(t,_t()),t.callbackNode===n?hI.bind(null,t):null}function Lv(t,e){var n=hc;return t.current.memoizedState.isDehydrated&&(ss(t,e).flags|=256),t=zf(t,e),t!==2&&(e=yn,yn=n,e!==null&&Vv(e)),t}function Vv(t){yn===null?yn=t:yn.push.apply(yn,t)}function fV(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!ur(o(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Wi(t,e){for(e&=~N0,e&=~qh,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-ar(e),r=1<<n;t[n]=-1,e&=~r}}function sE(t){if(Ve&6)throw Error(Q(327));xa();var e=Sf(t,0);if(!(e&1))return Tn(t,_t()),null;var n=zf(t,e);if(t.tag!==0&&n===2){var r=lv(t);r!==0&&(e=r,n=Lv(t,r))}if(n===1)throw n=zc,ss(t,0),Wi(t,e),Tn(t,_t()),n;if(n===6)throw Error(Q(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Yo(t,yn,Xr),Tn(t,_t()),null}function M0(t,e){var n=Ve;Ve|=1;try{return t(e)}finally{Ve=n,Ve===0&&(La=_t()+500,Bh&&Do())}}function hs(t){Ki!==null&&Ki.tag===0&&!(Ve&6)&&xa();var e=Ve;Ve|=1;var n=Gn.transition,r=qe;try{if(Gn.transition=null,qe=1,t)return t()}finally{qe=r,Gn.transition=n,Ve=e,!(Ve&6)&&Do()}}function O0(){Rn=ca.current,ot(ca)}function ss(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,B4(n)),St!==null)for(n=St.return;n!==null;){var r=n;switch(m0(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&kf();break;case 3:Ma(),ot(En),ot(on),T0();break;case 5:b0(r);break;case 4:Ma();break;case 13:ot(ct);break;case 19:ot(ct);break;case 10:w0(r.type._context);break;case 22:case 23:O0()}n=n.return}if(Vt=t,St=t=so(t.current,null),zt=Rn=e,kt=0,zc=null,N0=qh=fs=0,yn=hc=null,ts!==null){for(e=0;e<ts.length;e++)if(n=ts[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var s=o.next;o.next=i,r.next=s}n.pending=r}ts=null}return t}function pI(t,e){do{var n=St;try{if(y0(),Zd.current=$f,Ff){for(var r=ft.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Ff=!1}if(ds=0,Ot=Rt=ft=null,dc=!1,Uc=0,k0.current=null,n===null||n.return===null){kt=1,zc=e,St=null;break}e:{var o=t,s=n.return,a=n,l=e;if(e=zt,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=a,f=u.tag;if(!(u.mode&1)&&(f===0||f===11||f===15)){var h=u.alternate;h?(u.updateQueue=h.updateQueue,u.memoizedState=h.memoizedState,u.lanes=h.lanes):(u.updateQueue=null,u.memoizedState=null)}var g=Gx(s);if(g!==null){g.flags&=-257,Yx(g,s,a,o,e),g.mode&1&&qx(o,c,e),e=g,l=c;var _=e.updateQueue;if(_===null){var v=new Set;v.add(l),e.updateQueue=v}else _.add(l);break e}else{if(!(e&1)){qx(o,c,e),L0();break e}l=Error(Q(426))}}else if(at&&a.mode&1){var E=Gx(s);if(E!==null){!(E.flags&65536)&&(E.flags|=256),Yx(E,s,a,o,e),g0(Oa(l,a));break e}}o=l=Oa(l,a),kt!==4&&(kt=2),hc===null?hc=[o]:hc.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var x=XP(o,l,e);$x(o,x);break e;case 1:a=l;var y=o.type,b=o.stateNode;if(!(o.flags&128)&&(typeof y.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(io===null||!io.has(b)))){o.flags|=65536,e&=-e,o.lanes|=e;var I=JP(o,a,e);$x(o,I);break e}}o=o.return}while(o!==null)}vI(n)}catch(N){e=N,St===n&&n!==null&&(St=n=n.return);continue}break}while(1)}function mI(){var t=Uf.current;return Uf.current=$f,t===null?$f:t}function L0(){(kt===0||kt===3||kt===2)&&(kt=4),Vt===null||!(fs&268435455)&&!(qh&268435455)||Wi(Vt,zt)}function zf(t,e){var n=Ve;Ve|=2;var r=mI();(Vt!==t||zt!==e)&&(Xr=null,ss(t,e));do try{hV();break}catch(i){pI(t,i)}while(1);if(y0(),Ve=n,Uf.current=r,St!==null)throw Error(Q(261));return Vt=null,zt=0,kt}function hV(){for(;St!==null;)gI(St)}function pV(){for(;St!==null&&!FL();)gI(St)}function gI(t){var e=wI(t.alternate,t,Rn);t.memoizedProps=t.pendingProps,e===null?vI(t):St=e,k0.current=null}function vI(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=aV(n,e),n!==null){n.flags&=32767,St=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{kt=6,St=null;return}}else if(n=sV(n,e,Rn),n!==null){St=n;return}if(e=e.sibling,e!==null){St=e;return}St=e=t}while(e!==null);kt===0&&(kt=5)}function Yo(t,e,n){var r=qe,i=Gn.transition;try{Gn.transition=null,qe=1,mV(t,e,n,r)}finally{Gn.transition=i,qe=r}return null}function mV(t,e,n,r){do xa();while(Ki!==null);if(Ve&6)throw Error(Q(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(Q(177));t.callbackNode=null,t.callbackPriority=0;var o=n.lanes|n.childLanes;if(KL(t,o),t===Vt&&(St=Vt=null,zt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Ed||(Ed=!0,_I(Cf,function(){return xa(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=Gn.transition,Gn.transition=null;var s=qe;qe=1;var a=Ve;Ve|=4,k0.current=null,cV(t,n),dI(n,t),O4(pv),Pf=!!hv,pv=hv=null,t.current=n,uV(n),$L(),Ve=a,qe=s,Gn.transition=o}else t.current=n;if(Ed&&(Ed=!1,Ki=t,Wf=i),o=t.pendingLanes,o===0&&(io=null),WL(n.stateNode),Tn(t,_t()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Bf)throw Bf=!1,t=Mv,Mv=null,t;return Wf&1&&t.tag!==0&&xa(),o=t.pendingLanes,o&1?t===Ov?pc++:(pc=0,Ov=t):pc=0,Do(),null}function xa(){if(Ki!==null){var t=XS(Wf),e=Gn.transition,n=qe;try{if(Gn.transition=null,qe=16>t?16:t,Ki===null)var r=!1;else{if(t=Ki,Ki=null,Wf=0,Ve&6)throw Error(Q(331));var i=Ve;for(Ve|=4,ie=t.current;ie!==null;){var o=ie,s=o.child;if(ie.flags&16){var a=o.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(ie=c;ie!==null;){var u=ie;switch(u.tag){case 0:case 11:case 15:fc(8,u,o)}var f=u.child;if(f!==null)f.return=u,ie=f;else for(;ie!==null;){u=ie;var h=u.sibling,g=u.return;if(lI(u),u===c){ie=null;break}if(h!==null){h.return=g,ie=h;break}ie=g}}}var _=o.alternate;if(_!==null){var v=_.child;if(v!==null){_.child=null;do{var E=v.sibling;v.sibling=null,v=E}while(v!==null)}}ie=o}}if(o.subtreeFlags&2064&&s!==null)s.return=o,ie=s;else e:for(;ie!==null;){if(o=ie,o.flags&2048)switch(o.tag){case 0:case 11:case 15:fc(9,o,o.return)}var x=o.sibling;if(x!==null){x.return=o.return,ie=x;break e}ie=o.return}}var y=t.current;for(ie=y;ie!==null;){s=ie;var b=s.child;if(s.subtreeFlags&2064&&b!==null)b.return=s,ie=b;else e:for(s=y;ie!==null;){if(a=ie,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Hh(9,a)}}catch(N){gt(a,a.return,N)}if(a===s){ie=null;break e}var I=a.sibling;if(I!==null){I.return=a.return,ie=I;break e}ie=a.return}}if(Ve=i,Do(),Ar&&typeof Ar.onPostCommitFiberRoot=="function")try{Ar.onPostCommitFiberRoot(Vh,t)}catch{}r=!0}return r}finally{qe=n,Gn.transition=e}}return!1}function aE(t,e,n){e=Oa(n,e),e=XP(t,e,1),t=ro(t,e,1),e=pn(),t!==null&&(pu(t,1,e),Tn(t,e))}function gt(t,e,n){if(t.tag===3)aE(t,t,n);else for(;e!==null;){if(e.tag===3){aE(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(io===null||!io.has(r))){t=Oa(n,t),t=JP(e,t,1),e=ro(e,t,1),t=pn(),e!==null&&(pu(e,1,t),Tn(e,t));break}}e=e.return}}function gV(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=pn(),t.pingedLanes|=t.suspendedLanes&n,Vt===t&&(zt&n)===n&&(kt===4||kt===3&&(zt&130023424)===zt&&500>_t()-D0?ss(t,0):N0|=n),Tn(t,e)}function yI(t,e){e===0&&(t.mode&1?(e=fd,fd<<=1,!(fd&130023424)&&(fd=4194304)):e=1);var n=pn();t=hi(t,e),t!==null&&(pu(t,e,n),Tn(t,n))}function vV(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),yI(t,n)}function yV(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(Q(314))}r!==null&&r.delete(e),yI(t,n)}var wI;wI=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||En.current)_n=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return _n=!1,oV(t,e,n);_n=!!(t.flags&131072)}else _n=!1,at&&e.flags&1048576&&bP(e,Mf,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;tf(t,e),t=e.pendingProps;var i=ka(e,on.current);_a(e,n),i=S0(null,e,r,t,i,n);var o=P0();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,bn(r)?(o=!0,Nf(e)):o=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,x0(e),i.updater=zh,e.stateNode=i,i._reactInternals=e,bv(e,r,t,n),e=Sv(null,e,r,!0,o,n)):(e.tag=0,at&&o&&p0(e),fn(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(tf(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=_V(r),t=rr(r,t),i){case 0:e=Cv(null,e,r,t,n);break e;case 1:e=Xx(null,e,r,t,n);break e;case 11:e=Kx(null,e,r,t,n);break e;case 14:e=Qx(null,e,r,rr(r.type,t),n);break e}throw Error(Q(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:rr(r,i),Cv(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:rr(r,i),Xx(t,e,r,i,n);case 3:e:{if(nI(e),t===null)throw Error(Q(387));r=e.pendingProps,o=e.memoizedState,i=o.element,AP(t,e),Vf(e,r,null,n);var s=e.memoizedState;if(r=s.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){i=Oa(Error(Q(423)),e),e=Jx(t,e,r,n,i);break e}else if(r!==i){i=Oa(Error(Q(424)),e),e=Jx(t,e,r,n,i);break e}else for(Nn=no(e.stateNode.containerInfo.firstChild),Mn=e,at=!0,or=null,n=PP(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Na(),r===i){e=pi(t,e,n);break e}fn(t,e,r,n)}e=e.child}return e;case 5:return RP(e),t===null&&_v(e),r=e.type,i=e.pendingProps,o=t!==null?t.memoizedProps:null,s=i.children,mv(r,i)?s=null:o!==null&&mv(r,o)&&(e.flags|=32),tI(t,e),fn(t,e,s,n),e.child;case 6:return t===null&&_v(e),null;case 13:return rI(t,e,n);case 4:return E0(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Da(e,null,r,n):fn(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:rr(r,i),Kx(t,e,r,i,n);case 7:return fn(t,e,e.pendingProps,n),e.child;case 8:return fn(t,e,e.pendingProps.children,n),e.child;case 12:return fn(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,o=e.memoizedProps,s=i.value,Xe(Of,r._currentValue),r._currentValue=s,o!==null)if(ur(o.value,s)){if(o.children===i.children&&!En.current){e=pi(t,e,n);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var a=o.dependencies;if(a!==null){s=o.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(o.tag===1){l=oi(-1,n&-n),l.tag=2;var c=o.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),xv(o.return,n,e),a.lanes|=n;break}l=l.next}}else if(o.tag===10)s=o.type===e.type?null:o.child;else if(o.tag===18){if(s=o.return,s===null)throw Error(Q(341));s.lanes|=n,a=s.alternate,a!==null&&(a.lanes|=n),xv(s,n,e),s=o.sibling}else s=o.child;if(s!==null)s.return=o;else for(s=o;s!==null;){if(s===e){s=null;break}if(o=s.sibling,o!==null){o.return=s.return,s=o;break}s=s.return}o=s}fn(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,_a(e,n),i=Yn(i),r=r(i),e.flags|=1,fn(t,e,r,n),e.child;case 14:return r=e.type,i=rr(r,e.pendingProps),i=rr(r.type,i),Qx(t,e,r,i,n);case 15:return ZP(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:rr(r,i),tf(t,e),e.tag=1,bn(r)?(t=!0,Nf(e)):t=!1,_a(e,n),QP(e,r,i),bv(e,r,i,n),Sv(null,e,r,!0,t,n);case 19:return iI(t,e,n);case 22:return eI(t,e,n)}throw Error(Q(156,e.tag))};function _I(t,e){return GS(t,e)}function wV(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function qn(t,e,n,r){return new wV(t,e,n,r)}function V0(t){return t=t.prototype,!(!t||!t.isReactComponent)}function _V(t){if(typeof t=="function")return V0(t)?1:0;if(t!=null){if(t=t.$$typeof,t===n0)return 11;if(t===r0)return 14}return 2}function so(t,e){var n=t.alternate;return n===null?(n=qn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function of(t,e,n,r,i,o){var s=2;if(r=t,typeof t=="function")V0(t)&&(s=1);else if(typeof t=="string")s=5;else e:switch(t){case Zs:return as(n.children,i,o,e);case t0:s=8,i|=8;break;case Gg:return t=qn(12,n,e,i|2),t.elementType=Gg,t.lanes=o,t;case Yg:return t=qn(13,n,e,i),t.elementType=Yg,t.lanes=o,t;case Kg:return t=qn(19,n,e,i),t.elementType=Kg,t.lanes=o,t;case RS:return Gh(n,i,o,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case IS:s=10;break e;case AS:s=9;break e;case n0:s=11;break e;case r0:s=14;break e;case Fi:s=16,r=null;break e}throw Error(Q(130,t==null?t:typeof t,""))}return e=qn(s,n,e,i),e.elementType=t,e.type=r,e.lanes=o,e}function as(t,e,n,r){return t=qn(7,t,r,e),t.lanes=n,t}function Gh(t,e,n,r){return t=qn(22,t,r,e),t.elementType=RS,t.lanes=n,t.stateNode={isHidden:!1},t}function zm(t,e,n){return t=qn(6,t,null,e),t.lanes=n,t}function Hm(t,e,n){return e=qn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function xV(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Cm(0),this.expirationTimes=Cm(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Cm(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function j0(t,e,n,r,i,o,s,a,l){return t=new xV(t,e,n,a,l),e===1?(e=1,o===!0&&(e|=8)):e=0,o=qn(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},x0(o),t}function EV(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Js,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function xI(t){if(!t)return _o;t=t._reactInternals;e:{if(Ps(t)!==t||t.tag!==1)throw Error(Q(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(bn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(Q(171))}if(t.tag===1){var n=t.type;if(bn(n))return xP(t,n,e)}return e}function EI(t,e,n,r,i,o,s,a,l){return t=j0(n,r,!0,t,i,o,s,a,l),t.context=xI(null),n=t.current,r=pn(),i=oo(n),o=oi(r,i),o.callback=e??null,ro(n,o,i),t.current.lanes=i,pu(t,i,r),Tn(t,r),t}function Yh(t,e,n,r){var i=e.current,o=pn(),s=oo(i);return n=xI(n),e.context===null?e.context=n:e.pendingContext=n,e=oi(o,s),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=ro(i,e,s),t!==null&&(lr(t,i,s,o),Jd(t,i,s)),s}function Hf(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function lE(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function F0(t,e){lE(t,e),(t=t.alternate)&&lE(t,e)}function bV(){return null}var bI=typeof reportError=="function"?reportError:function(t){console.error(t)};function $0(t){this._internalRoot=t}Kh.prototype.render=$0.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(Q(409));Yh(t,e,null,null)};Kh.prototype.unmount=$0.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;hs(function(){Yh(null,t,null,null)}),e[fi]=null}};function Kh(t){this._internalRoot=t}Kh.prototype.unstable_scheduleHydration=function(t){if(t){var e=eP();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Bi.length&&e!==0&&e<Bi[n].priority;n++);Bi.splice(n,0,t),n===0&&nP(t)}};function U0(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Qh(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function cE(){}function TV(t,e,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var c=Hf(s);o.call(c)}}var s=EI(e,r,t,0,null,!1,!1,"",cE);return t._reactRootContainer=s,t[fi]=s.current,Lc(t.nodeType===8?t.parentNode:t),hs(),s}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var c=Hf(l);a.call(c)}}var l=j0(t,0,!1,null,null,!1,!1,"",cE);return t._reactRootContainer=l,t[fi]=l.current,Lc(t.nodeType===8?t.parentNode:t),hs(function(){Yh(e,l,n,r)}),l}function Xh(t,e,n,r,i){var o=n._reactRootContainer;if(o){var s=o;if(typeof i=="function"){var a=i;i=function(){var l=Hf(s);a.call(l)}}Yh(e,s,t,i)}else s=TV(n,e,t,i,r);return Hf(s)}JS=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Xl(e.pendingLanes);n!==0&&(s0(e,n|1),Tn(e,_t()),!(Ve&6)&&(La=_t()+500,Do()))}break;case 13:hs(function(){var r=hi(t,1);if(r!==null){var i=pn();lr(r,t,1,i)}}),F0(t,1)}};a0=function(t){if(t.tag===13){var e=hi(t,134217728);if(e!==null){var n=pn();lr(e,t,134217728,n)}F0(t,134217728)}};ZS=function(t){if(t.tag===13){var e=oo(t),n=hi(t,e);if(n!==null){var r=pn();lr(n,t,e,r)}F0(t,e)}};eP=function(){return qe};tP=function(t,e){var n=qe;try{return qe=t,e()}finally{qe=n}};ov=function(t,e,n){switch(e){case"input":if(Jg(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Uh(r);if(!i)throw Error(Q(90));NS(r),Jg(r,i)}}}break;case"textarea":MS(t,n);break;case"select":e=n.value,e!=null&&ga(t,!!n.multiple,e,!1)}};US=M0;BS=hs;var CV={usingClientEntryPoint:!1,Events:[gu,ra,Uh,FS,$S,M0]},Bl={findFiberByHostInstance:es,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},SV={bundleType:Bl.bundleType,version:Bl.version,rendererPackageName:Bl.rendererPackageName,rendererConfig:Bl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ci.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=HS(t),t===null?null:t.stateNode},findFiberByHostInstance:Bl.findFiberByHostInstance||bV,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var bd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!bd.isDisabled&&bd.supportsFiber)try{Vh=bd.inject(SV),Ar=bd}catch{}}jn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=CV;jn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!U0(e))throw Error(Q(200));return EV(t,e,null,n)};jn.createRoot=function(t,e){if(!U0(t))throw Error(Q(299));var n=!1,r="",i=bI;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=j0(t,1,!1,null,null,n,!1,r,i),t[fi]=e.current,Lc(t.nodeType===8?t.parentNode:t),new $0(e)};jn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(Q(188)):(t=Object.keys(t).join(","),Error(Q(268,t)));return t=HS(e),t=t===null?null:t.stateNode,t};jn.flushSync=function(t){return hs(t)};jn.hydrate=function(t,e,n){if(!Qh(e))throw Error(Q(200));return Xh(null,t,e,!0,n)};jn.hydrateRoot=function(t,e,n){if(!U0(t))throw Error(Q(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",s=bI;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),e=EI(e,null,t,1,n??null,i,!1,o,s),t[fi]=e.current,Lc(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Kh(e)};jn.render=function(t,e,n){if(!Qh(e))throw Error(Q(200));return Xh(null,t,e,!1,n)};jn.unmountComponentAtNode=function(t){if(!Qh(t))throw Error(Q(40));return t._reactRootContainer?(hs(function(){Xh(null,null,t,!1,function(){t._reactRootContainer=null,t[fi]=null})}),!0):!1};jn.unstable_batchedUpdates=M0;jn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Qh(n))throw Error(Q(200));if(t==null||t._reactInternals===void 0)throw Error(Q(38));return Xh(t,e,n,!1,r)};jn.version="18.3.1-next-f1338f8080-20240426";function TI(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(TI)}catch(t){console.error(t)}}TI(),TS.exports=jn;var Mo=TS.exports;const CI=fS(Mo);var uE=Mo;Hg.createRoot=uE.createRoot,Hg.hydrateRoot=uE.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Hc(){return Hc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Hc.apply(this,arguments)}var Qi;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Qi||(Qi={}));const dE="popstate";function PV(t){t===void 0&&(t={});function e(r,i){let{pathname:o,search:s,hash:a}=r.location;return jv("",{pathname:o,search:s,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:qf(i)}return AV(e,n,null,t)}function bt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function SI(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function IV(){return Math.random().toString(36).substr(2,8)}function fE(t,e){return{usr:t.state,key:t.key,idx:e}}function jv(t,e,n,r){return n===void 0&&(n=null),Hc({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?rl(e):e,{state:n,key:e&&e.key||r||IV()})}function qf(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function rl(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function AV(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:o=!1}=r,s=i.history,a=Qi.Pop,l=null,c=u();c==null&&(c=0,s.replaceState(Hc({},s.state,{idx:c}),""));function u(){return(s.state||{idx:null}).idx}function f(){a=Qi.Pop;let E=u(),x=E==null?null:E-c;c=E,l&&l({action:a,location:v.location,delta:x})}function h(E,x){a=Qi.Push;let y=jv(v.location,E,x);n&&n(y,E),c=u()+1;let b=fE(y,c),I=v.createHref(y);try{s.pushState(b,"",I)}catch(N){if(N instanceof DOMException&&N.name==="DataCloneError")throw N;i.location.assign(I)}o&&l&&l({action:a,location:v.location,delta:1})}function g(E,x){a=Qi.Replace;let y=jv(v.location,E,x);n&&n(y,E),c=u();let b=fE(y,c),I=v.createHref(y);s.replaceState(b,"",I),o&&l&&l({action:a,location:v.location,delta:0})}function _(E){let x=i.location.origin!=="null"?i.location.origin:i.location.href,y=typeof E=="string"?E:qf(E);return y=y.replace(/ $/,"%20"),bt(x,"No window.location.(origin|href) available to create URL for href: "+y),new URL(y,x)}let v={get action(){return a},get location(){return t(i,s)},listen(E){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(dE,f),l=E,()=>{i.removeEventListener(dE,f),l=null}},createHref(E){return e(i,E)},createURL:_,encodeLocation(E){let x=_(E);return{pathname:x.pathname,search:x.search,hash:x.hash}},push:h,replace:g,go(E){return s.go(E)}};return v}var hE;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(hE||(hE={}));function RV(t,e,n){return n===void 0&&(n="/"),kV(t,e,n,!1)}function kV(t,e,n,r){let i=typeof e=="string"?rl(e):e,o=B0(i.pathname||"/",n);if(o==null)return null;let s=PI(t);NV(s);let a=null;for(let l=0;a==null&&l<s.length;++l){let c=WV(o);a=UV(s[l],c,r)}return a}function PI(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(o,s,a)=>{let l={relativePath:a===void 0?o.path||"":a,caseSensitive:o.caseSensitive===!0,childrenIndex:s,route:o};l.relativePath.startsWith("/")&&(bt(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let c=ao([r,l.relativePath]),u=n.concat(l);o.children&&o.children.length>0&&(bt(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),PI(o.children,e,u,c)),!(o.path==null&&!o.index)&&e.push({path:c,score:FV(c,o.index),routesMeta:u})};return t.forEach((o,s)=>{var a;if(o.path===""||!((a=o.path)!=null&&a.includes("?")))i(o,s);else for(let l of II(o.path))i(o,s,l)}),e}function II(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let s=II(r.join("/")),a=[];return a.push(...s.map(l=>l===""?o:[o,l].join("/"))),i&&a.push(...s),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function NV(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:$V(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const DV=/^:[\w-]+$/,MV=3,OV=2,LV=1,VV=10,jV=-2,pE=t=>t==="*";function FV(t,e){let n=t.split("/"),r=n.length;return n.some(pE)&&(r+=jV),e&&(r+=OV),n.filter(i=>!pE(i)).reduce((i,o)=>i+(DV.test(o)?MV:o===""?LV:VV),r)}function $V(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function UV(t,e,n){n===void 0&&(n=!1);let{routesMeta:r}=t,i={},o="/",s=[];for(let a=0;a<r.length;++a){let l=r[a],c=a===r.length-1,u=o==="/"?e:e.slice(o.length)||"/",f=mE({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},u),h=l.route;if(!f&&c&&n&&!r[r.length-1].route.index&&(f=mE({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},u)),!f)return null;Object.assign(i,f.params),s.push({params:i,pathname:ao([o,f.pathname]),pathnameBase:GV(ao([o,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(o=ao([o,f.pathnameBase]))}return s}function mE(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=BV(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let o=i[0],s=o.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((c,u,f)=>{let{paramName:h,isOptional:g}=u;if(h==="*"){let v=a[f]||"";s=o.slice(0,o.length-v.length).replace(/(.)\/+$/,"$1")}const _=a[f];return g&&!_?c[h]=void 0:c[h]=(_||"").replace(/%2F/g,"/"),c},{}),pathname:o,pathnameBase:s,pattern:t}}function BV(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),SI(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function WV(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return SI(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function B0(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function zV(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?rl(t):t;return{pathname:n?n.startsWith("/")?n:HV(n,e):e,search:YV(r),hash:KV(i)}}function HV(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function qm(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function qV(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function W0(t,e){let n=qV(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function z0(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=rl(t):(i=Hc({},t),bt(!i.pathname||!i.pathname.includes("?"),qm("?","pathname","search",i)),bt(!i.pathname||!i.pathname.includes("#"),qm("#","pathname","hash",i)),bt(!i.search||!i.search.includes("#"),qm("#","search","hash",i)));let o=t===""||i.pathname==="",s=o?"/":i.pathname,a;if(s==null)a=n;else{let f=e.length-1;if(!r&&s.startsWith("..")){let h=s.split("/");for(;h[0]==="..";)h.shift(),f-=1;i.pathname=h.join("/")}a=f>=0?e[f]:"/"}let l=zV(i,a),c=s&&s!=="/"&&s.endsWith("/"),u=(o||s===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||u)&&(l.pathname+="/"),l}const ao=t=>t.join("/").replace(/\/\/+/g,"/"),GV=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),YV=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,KV=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function QV(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const AI=["post","put","patch","delete"];new Set(AI);const XV=["get",...AI];new Set(XV);/**
 * React Router v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function qc(){return qc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},qc.apply(this,arguments)}const H0=m.createContext(null),JV=m.createContext(null),Oo=m.createContext(null),Jh=m.createContext(null),Si=m.createContext({outlet:null,matches:[],isDataRoute:!1}),RI=m.createContext(null);function ZV(t,e){let{relative:n}=e===void 0?{}:e;il()||bt(!1);let{basename:r,navigator:i}=m.useContext(Oo),{hash:o,pathname:s,search:a}=NI(t,{relative:n}),l=s;return r!=="/"&&(l=s==="/"?r:ao([r,s])),i.createHref({pathname:l,search:a,hash:o})}function il(){return m.useContext(Jh)!=null}function ol(){return il()||bt(!1),m.useContext(Jh).location}function kI(t){m.useContext(Oo).static||m.useLayoutEffect(t)}function yu(){let{isDataRoute:t}=m.useContext(Si);return t?h5():e5()}function e5(){il()||bt(!1);let t=m.useContext(H0),{basename:e,future:n,navigator:r}=m.useContext(Oo),{matches:i}=m.useContext(Si),{pathname:o}=ol(),s=JSON.stringify(W0(i,n.v7_relativeSplatPath)),a=m.useRef(!1);return kI(()=>{a.current=!0}),m.useCallback(function(c,u){if(u===void 0&&(u={}),!a.current)return;if(typeof c=="number"){r.go(c);return}let f=z0(c,JSON.parse(s),o,u.relative==="path");t==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:ao([e,f.pathname])),(u.replace?r.replace:r.push)(f,u.state,u)},[e,r,s,o,t])}function t5(){let{matches:t}=m.useContext(Si),e=t[t.length-1];return e?e.params:{}}function NI(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=m.useContext(Oo),{matches:i}=m.useContext(Si),{pathname:o}=ol(),s=JSON.stringify(W0(i,r.v7_relativeSplatPath));return m.useMemo(()=>z0(t,JSON.parse(s),o,n==="path"),[t,s,o,n])}function n5(t,e){return r5(t,e)}function r5(t,e,n,r){il()||bt(!1);let{navigator:i,static:o}=m.useContext(Oo),{matches:s}=m.useContext(Si),a=s[s.length-1],l=a?a.params:{};a&&a.pathname;let c=a?a.pathnameBase:"/";a&&a.route;let u=ol(),f;if(e){var h;let x=typeof e=="string"?rl(e):e;c==="/"||(h=x.pathname)!=null&&h.startsWith(c)||bt(!1),f=x}else f=u;let g=f.pathname||"/",_=g;if(c!=="/"){let x=c.replace(/^\//,"").split("/");_="/"+g.replace(/^\//,"").split("/").slice(x.length).join("/")}let v=!o&&n&&n.matches&&n.matches.length>0?n.matches:RV(t,{pathname:_}),E=l5(v&&v.map(x=>Object.assign({},x,{params:Object.assign({},l,x.params),pathname:ao([c,i.encodeLocation?i.encodeLocation(x.pathname).pathname:x.pathname]),pathnameBase:x.pathnameBase==="/"?c:ao([c,i.encodeLocation?i.encodeLocation(x.pathnameBase).pathname:x.pathnameBase])})),s,n,r);return e&&E?m.createElement(Jh.Provider,{value:{location:qc({pathname:"/",search:"",hash:"",state:null,key:"default"},f),navigationType:Qi.Pop}},E):E}function i5(){let t=f5(),e=QV(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},o=null;return m.createElement(m.Fragment,null,m.createElement("h2",null,"Unexpected Application Error!"),m.createElement("h3",{style:{fontStyle:"italic"}},e),n?m.createElement("pre",{style:i},n):null,o)}const o5=m.createElement(i5,null);class s5 extends m.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?m.createElement(Si.Provider,{value:this.props.routeContext},m.createElement(RI.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function a5(t){let{routeContext:e,match:n,children:r}=t,i=m.useContext(H0);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),m.createElement(Si.Provider,{value:e},r)}function l5(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var o;if(!n)return null;if(n.errors)t=n.matches;else if((o=r)!=null&&o.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let s=t,a=(i=n)==null?void 0:i.errors;if(a!=null){let u=s.findIndex(f=>f.route.id&&(a==null?void 0:a[f.route.id])!==void 0);u>=0||bt(!1),s=s.slice(0,Math.min(s.length,u+1))}let l=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let u=0;u<s.length;u++){let f=s[u];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(c=u),f.route.id){let{loaderData:h,errors:g}=n,_=f.route.loader&&h[f.route.id]===void 0&&(!g||g[f.route.id]===void 0);if(f.route.lazy||_){l=!0,c>=0?s=s.slice(0,c+1):s=[s[0]];break}}}return s.reduceRight((u,f,h)=>{let g,_=!1,v=null,E=null;n&&(g=a&&f.route.id?a[f.route.id]:void 0,v=f.route.errorElement||o5,l&&(c<0&&h===0?(p5("route-fallback",!1),_=!0,E=null):c===h&&(_=!0,E=f.route.hydrateFallbackElement||null)));let x=e.concat(s.slice(0,h+1)),y=()=>{let b;return g?b=v:_?b=E:f.route.Component?b=m.createElement(f.route.Component,null):f.route.element?b=f.route.element:b=u,m.createElement(a5,{match:f,routeContext:{outlet:u,matches:x,isDataRoute:n!=null},children:b})};return n&&(f.route.ErrorBoundary||f.route.errorElement||h===0)?m.createElement(s5,{location:n.location,revalidation:n.revalidation,component:v,error:g,children:y(),routeContext:{outlet:null,matches:x,isDataRoute:!0}}):y()},null)}var DI=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(DI||{}),Gf=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Gf||{});function c5(t){let e=m.useContext(H0);return e||bt(!1),e}function u5(t){let e=m.useContext(JV);return e||bt(!1),e}function d5(t){let e=m.useContext(Si);return e||bt(!1),e}function MI(t){let e=d5(),n=e.matches[e.matches.length-1];return n.route.id||bt(!1),n.route.id}function f5(){var t;let e=m.useContext(RI),n=u5(Gf.UseRouteError),r=MI(Gf.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function h5(){let{router:t}=c5(DI.UseNavigateStable),e=MI(Gf.UseNavigateStable),n=m.useRef(!1);return kI(()=>{n.current=!0}),m.useCallback(function(i,o){o===void 0&&(o={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,qc({fromRouteId:e},o)))},[t,e])}const gE={};function p5(t,e,n){!e&&!gE[t]&&(gE[t]=!0)}function m5(t,e){t==null||t.v7_startTransition,(t==null?void 0:t.v7_relativeSplatPath)===void 0&&(!e||e.v7_relativeSplatPath),e&&(e.v7_fetcherPersist,e.v7_normalizeFormMethod,e.v7_partialHydration,e.v7_skipActionErrorRevalidation)}function Fv(t){let{to:e,replace:n,state:r,relative:i}=t;il()||bt(!1);let{future:o,static:s}=m.useContext(Oo),{matches:a}=m.useContext(Si),{pathname:l}=ol(),c=yu(),u=z0(e,W0(a,o.v7_relativeSplatPath),l,i==="path"),f=JSON.stringify(u);return m.useEffect(()=>c(JSON.parse(f),{replace:n,state:r,relative:i}),[c,f,i,n,r]),null}function Gs(t){bt(!1)}function g5(t){let{basename:e="/",children:n=null,location:r,navigationType:i=Qi.Pop,navigator:o,static:s=!1,future:a}=t;il()&&bt(!1);let l=e.replace(/^\/*/,"/"),c=m.useMemo(()=>({basename:l,navigator:o,static:s,future:qc({v7_relativeSplatPath:!1},a)}),[l,a,o,s]);typeof r=="string"&&(r=rl(r));let{pathname:u="/",search:f="",hash:h="",state:g=null,key:_="default"}=r,v=m.useMemo(()=>{let E=B0(u,l);return E==null?null:{location:{pathname:E,search:f,hash:h,state:g,key:_},navigationType:i}},[l,u,f,h,g,_,i]);return v==null?null:m.createElement(Oo.Provider,{value:c},m.createElement(Jh.Provider,{children:n,value:v}))}function v5(t){let{children:e,location:n}=t;return n5($v(e),n)}new Promise(()=>{});function $v(t,e){e===void 0&&(e=[]);let n=[];return m.Children.forEach(t,(r,i)=>{if(!m.isValidElement(r))return;let o=[...e,i];if(r.type===m.Fragment){n.push.apply(n,$v(r.props.children,o));return}r.type!==Gs&&bt(!1),!r.props.index||!r.props.children||bt(!1);let s={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(s.children=$v(r.props.children,o)),n.push(s)}),n}/**
 * React Router DOM v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Uv(){return Uv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Uv.apply(this,arguments)}function y5(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function w5(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function _5(t,e){return t.button===0&&(!e||e==="_self")&&!w5(t)}const x5=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],E5="6";try{window.__reactRouterVersion=E5}catch{}const b5="startTransition",vE=Lh[b5];function T5(t){let{basename:e,children:n,future:r,window:i}=t,o=m.useRef();o.current==null&&(o.current=PV({window:i,v5Compat:!0}));let s=o.current,[a,l]=m.useState({action:s.action,location:s.location}),{v7_startTransition:c}=r||{},u=m.useCallback(f=>{c&&vE?vE(()=>l(f)):l(f)},[l,c]);return m.useLayoutEffect(()=>s.listen(u),[s,u]),m.useEffect(()=>m5(r),[r]),m.createElement(g5,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:s,future:r})}const C5=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",S5=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Gc=m.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:o,replace:s,state:a,target:l,to:c,preventScrollReset:u,viewTransition:f}=e,h=y5(e,x5),{basename:g}=m.useContext(Oo),_,v=!1;if(typeof c=="string"&&S5.test(c)&&(_=c,C5))try{let b=new URL(window.location.href),I=c.startsWith("//")?new URL(b.protocol+c):new URL(c),N=B0(I.pathname,g);I.origin===b.origin&&N!=null?c=N+I.search+I.hash:v=!0}catch{}let E=ZV(c,{relative:i}),x=P5(c,{replace:s,state:a,target:l,preventScrollReset:u,relative:i,viewTransition:f});function y(b){r&&r(b),b.defaultPrevented||x(b)}return m.createElement("a",Uv({},h,{href:_||E,onClick:v||o?r:y,ref:n,target:l}))});var yE;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(yE||(yE={}));var wE;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(wE||(wE={}));function P5(t,e){let{target:n,replace:r,state:i,preventScrollReset:o,relative:s,viewTransition:a}=e===void 0?{}:e,l=yu(),c=ol(),u=NI(t,{relative:s});return m.useCallback(f=>{if(_5(f,n)){f.preventDefault();let h=r!==void 0?r:qf(c)===qf(u);l(t,{replace:h,state:i,preventScrollReset:o,relative:s,viewTransition:a})}},[c,l,u,r,i,n,t,o,s,a])}const I5=()=>{};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OI=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},A5=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=t[n++],s=t[n++],a=t[n++],l=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const o=t[n++],s=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},LI={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const o=t[i],s=i+1<t.length,a=s?t[i+1]:0,l=i+2<t.length,c=l?t[i+2]:0,u=o>>2,f=(o&3)<<4|a>>4;let h=(a&15)<<2|c>>6,g=c&63;l||(g=64,s||(h=64)),r.push(n[u],n[f],n[h],n[g])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(OI(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):A5(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const o=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const f=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||a==null||c==null||f==null)throw new R5;const h=o<<2|a>>4;if(r.push(h),c!==64){const g=a<<4&240|c>>2;if(r.push(g),f!==64){const _=c<<6&192|f;r.push(_)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class R5 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const k5=function(t){const e=OI(t);return LI.encodeByteArray(e,!0)},Yf=function(t){return k5(t).replace(/\./g,"")},VI=function(t){try{return LI.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N5(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D5=()=>N5().__FIREBASE_DEFAULTS__,M5=()=>{if(typeof process>"u"||typeof process.env>"u")return;const t={}.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},O5=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&VI(t[1]);return e&&JSON.parse(e)},Zh=()=>{try{return I5()||D5()||M5()||O5()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},jI=t=>{var e,n;return(n=(e=Zh())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},L5=t=>{const e=jI(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},FI=()=>{var t;return(t=Zh())==null?void 0:t.config},$I=t=>{var e;return(e=Zh())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V5{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sl(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function UI(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j5(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s={iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}},...t},a="";return[Yf(JSON.stringify(n)),Yf(JSON.stringify(s)),a].join(".")}const mc={};function F5(){const t={prod:[],emulator:[]};for(const e of Object.keys(mc))mc[e]?t.emulator.push(e):t.prod.push(e);return t}function $5(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let _E=!1;function BI(t,e){if(typeof window>"u"||typeof document>"u"||!sl(window.location.host)||mc[t]===e||mc[t]||_E)return;mc[t]=e;function n(h){return`__firebase__banner__${h}`}const r="__firebase__banner",o=F5().prod.length>0;function s(){const h=document.getElementById(r);h&&h.remove()}function a(h){h.style.display="flex",h.style.background="#7faaf0",h.style.position="fixed",h.style.bottom="5px",h.style.left="5px",h.style.padding=".5em",h.style.borderRadius="5px",h.style.alignItems="center"}function l(h,g){h.setAttribute("width","24"),h.setAttribute("id",g),h.setAttribute("height","24"),h.setAttribute("viewBox","0 0 24 24"),h.setAttribute("fill","none"),h.style.marginLeft="-6px"}function c(){const h=document.createElement("span");return h.style.cursor="pointer",h.style.marginLeft="16px",h.style.fontSize="24px",h.innerHTML=" &times;",h.onclick=()=>{_E=!0,s()},h}function u(h,g){h.setAttribute("id",g),h.innerText="Learn more",h.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",h.setAttribute("target","__blank"),h.style.paddingLeft="5px",h.style.textDecoration="underline"}function f(){const h=$5(r),g=n("text"),_=document.getElementById(g)||document.createElement("span"),v=n("learnmore"),E=document.getElementById(v)||document.createElement("a"),x=n("preprendIcon"),y=document.getElementById(x)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(h.created){const b=h.element;a(b),u(E,v);const I=c();l(y,x),b.append(y,_,E,I),document.body.appendChild(b)}o?(_.innerText="Preview backend disconnected.",y.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(y.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,_.innerText="Preview backend running in this workspace."),_.setAttribute("id",g)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",f):f()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function U5(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(sn())}function B5(){var e;const t=(e=Zh())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function W5(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function z5(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function H5(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function q5(){const t=sn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function G5(){return!B5()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Y5(){try{return typeof indexedDB=="object"}catch{return!1}}function K5(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)==null?void 0:o.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q5="FirebaseError";class Pi extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=Q5,Object.setPrototypeOf(this,Pi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,wu.prototype.create)}}class wu{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?X5(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new Pi(i,a,r)}}function X5(t,e){return t.replace(J5,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const J5=/\{\$([^}]+)}/g;function Z5(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function ps(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const o=t[i],s=e[i];if(xE(o)&&xE(s)){if(!ps(o,s))return!1}else if(o!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function xE(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _u(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Zl(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,o]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(o)}}),e}function ec(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function ej(t,e){const n=new tj(t,e);return n.subscribe.bind(n)}class tj{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");nj(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Gm),i.error===void 0&&(i.error=Gm),i.complete===void 0&&(i.complete=Gm);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function nj(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Gm(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jt(t){return t&&t._delegate?t._delegate:t}class ms{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ko="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let rj=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new V5;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(oj(e))try{this.getOrInitializeService({instanceIdentifier:Ko})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=Ko){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ko){return this.instances.has(e)}getOptions(e=Ko){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),i=this.onInitCallbacks.get(r)??new Set;i.add(e),this.onInitCallbacks.set(r,i);const o=this.instances.get(r);return o&&e(o,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:ij(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Ko){return this.component?this.component.multipleInstances?e:Ko:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function ij(t){return t===Ko?void 0:t}function oj(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sj{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new rj(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Re;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Re||(Re={}));const aj={debug:Re.DEBUG,verbose:Re.VERBOSE,info:Re.INFO,warn:Re.WARN,error:Re.ERROR,silent:Re.SILENT},lj=Re.INFO,cj={[Re.DEBUG]:"log",[Re.VERBOSE]:"log",[Re.INFO]:"info",[Re.WARN]:"warn",[Re.ERROR]:"error"},uj=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=cj[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class q0{constructor(e){this.name=e,this._logLevel=lj,this._logHandler=uj,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Re))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?aj[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Re.DEBUG,...e),this._logHandler(this,Re.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Re.VERBOSE,...e),this._logHandler(this,Re.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Re.INFO,...e),this._logHandler(this,Re.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Re.WARN,...e),this._logHandler(this,Re.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Re.ERROR,...e),this._logHandler(this,Re.ERROR,...e)}}const dj=(t,e)=>e.some(n=>t instanceof n);let EE,bE;function fj(){return EE||(EE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function hj(){return bE||(bE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const WI=new WeakMap,Bv=new WeakMap,zI=new WeakMap,Ym=new WeakMap,G0=new WeakMap;function pj(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(lo(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&WI.set(n,t)}).catch(()=>{}),G0.set(e,t),e}function mj(t){if(Bv.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});Bv.set(t,e)}let Wv={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Bv.get(t);if(e==="objectStoreNames")return t.objectStoreNames||zI.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return lo(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function gj(t){Wv=t(Wv)}function vj(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Km(this),e,...n);return zI.set(r,e.sort?e.sort():[e]),lo(r)}:hj().includes(t)?function(...e){return t.apply(Km(this),e),lo(WI.get(this))}:function(...e){return lo(t.apply(Km(this),e))}}function yj(t){return typeof t=="function"?vj(t):(t instanceof IDBTransaction&&mj(t),dj(t,fj())?new Proxy(t,Wv):t)}function lo(t){if(t instanceof IDBRequest)return pj(t);if(Ym.has(t))return Ym.get(t);const e=yj(t);return e!==t&&(Ym.set(t,e),G0.set(e,t)),e}const Km=t=>G0.get(t);function wj(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const s=indexedDB.open(t,e),a=lo(s);return r&&s.addEventListener("upgradeneeded",l=>{r(lo(s.result),l.oldVersion,l.newVersion,lo(s.transaction),l)}),n&&s.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{o&&l.addEventListener("close",()=>o()),i&&l.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const _j=["get","getKey","getAll","getAllKeys","count"],xj=["put","add","delete","clear"],Qm=new Map;function TE(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Qm.get(e))return Qm.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=xj.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||_j.includes(n)))return;const o=async function(s,...a){const l=this.transaction(s,i?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),i&&l.done]))[0]};return Qm.set(e,o),o}gj(t=>({...t,get:(e,n,r)=>TE(e,n)||t.get(e,n,r),has:(e,n)=>!!TE(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ej{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(bj(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function bj(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const zv="@firebase/app",CE="0.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mi=new q0("@firebase/app"),Tj="@firebase/app-compat",Cj="@firebase/analytics-compat",Sj="@firebase/analytics",Pj="@firebase/app-check-compat",Ij="@firebase/app-check",Aj="@firebase/auth",Rj="@firebase/auth-compat",kj="@firebase/database",Nj="@firebase/data-connect",Dj="@firebase/database-compat",Mj="@firebase/functions",Oj="@firebase/functions-compat",Lj="@firebase/installations",Vj="@firebase/installations-compat",jj="@firebase/messaging",Fj="@firebase/messaging-compat",$j="@firebase/performance",Uj="@firebase/performance-compat",Bj="@firebase/remote-config",Wj="@firebase/remote-config-compat",zj="@firebase/storage",Hj="@firebase/storage-compat",qj="@firebase/firestore",Gj="@firebase/ai",Yj="@firebase/firestore-compat",Kj="firebase",Qj="12.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hv="[DEFAULT]",Xj={[zv]:"fire-core",[Tj]:"fire-core-compat",[Sj]:"fire-analytics",[Cj]:"fire-analytics-compat",[Ij]:"fire-app-check",[Pj]:"fire-app-check-compat",[Aj]:"fire-auth",[Rj]:"fire-auth-compat",[kj]:"fire-rtdb",[Nj]:"fire-data-connect",[Dj]:"fire-rtdb-compat",[Mj]:"fire-fn",[Oj]:"fire-fn-compat",[Lj]:"fire-iid",[Vj]:"fire-iid-compat",[jj]:"fire-fcm",[Fj]:"fire-fcm-compat",[$j]:"fire-perf",[Uj]:"fire-perf-compat",[Bj]:"fire-rc",[Wj]:"fire-rc-compat",[zj]:"fire-gcs",[Hj]:"fire-gcs-compat",[qj]:"fire-fst",[Yj]:"fire-fst-compat",[Gj]:"fire-vertex","fire-js":"fire-js",[Kj]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kf=new Map,Jj=new Map,qv=new Map;function SE(t,e){try{t.container.addComponent(e)}catch(n){mi.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Va(t){const e=t.name;if(qv.has(e))return mi.debug(`There were multiple attempts to register component ${e}.`),!1;qv.set(e,t);for(const n of Kf.values())SE(n,t);for(const n of Jj.values())SE(n,t);return!0}function Y0(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function zn(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zj={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},co=new wu("app","Firebase",Zj);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e3{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ms("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw co.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const al=Qj;function HI(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:Hv,automaticDataCollectionEnabled:!0,...e},i=r.name;if(typeof i!="string"||!i)throw co.create("bad-app-name",{appName:String(i)});if(n||(n=FI()),!n)throw co.create("no-options");const o=Kf.get(i);if(o){if(ps(n,o.options)&&ps(r,o.config))return o;throw co.create("duplicate-app",{appName:i})}const s=new sj(i);for(const l of qv.values())s.addComponent(l);const a=new e3(n,r,s);return Kf.set(i,a),a}function qI(t=Hv){const e=Kf.get(t);if(!e&&t===Hv&&FI())return HI();if(!e)throw co.create("no-app",{appName:t});return e}function uo(t,e,n){let r=Xj[t]??t;n&&(r+=`-${n}`);const i=r.match(/\s|\//),o=e.match(/\s|\//);if(i||o){const s=[`Unable to register library "${r}" with version "${e}":`];i&&s.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&o&&s.push("and"),o&&s.push(`version name "${e}" contains illegal characters (whitespace or "/")`),mi.warn(s.join(" "));return}Va(new ms(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t3="firebase-heartbeat-database",n3=1,Yc="firebase-heartbeat-store";let Xm=null;function GI(){return Xm||(Xm=wj(t3,n3,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Yc)}catch(n){console.warn(n)}}}}).catch(t=>{throw co.create("idb-open",{originalErrorMessage:t.message})})),Xm}async function r3(t){try{const n=(await GI()).transaction(Yc),r=await n.objectStore(Yc).get(YI(t));return await n.done,r}catch(e){if(e instanceof Pi)mi.warn(e.message);else{const n=co.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});mi.warn(n.message)}}}async function PE(t,e){try{const r=(await GI()).transaction(Yc,"readwrite");await r.objectStore(Yc).put(e,YI(t)),await r.done}catch(n){if(n instanceof Pi)mi.warn(n.message);else{const r=co.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});mi.warn(r.message)}}}function YI(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i3=1024,o3=30;class s3{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new l3(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=IE();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats.length>o3){const s=c3(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){mi.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=IE(),{heartbeatsToSend:r,unsentEntries:i}=a3(this._heartbeatsCache.heartbeats),o=Yf(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return mi.warn(n),""}}}function IE(){return new Date().toISOString().substring(0,10)}function a3(t,e=i3){const n=[];let r=t.slice();for(const i of t){const o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),AE(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),AE(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class l3{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Y5()?K5().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await r3(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return PE(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return PE(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function AE(t){return Yf(JSON.stringify({version:2,heartbeats:t})).length}function c3(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u3(t){Va(new ms("platform-logger",e=>new Ej(e),"PRIVATE")),Va(new ms("heartbeat",e=>new s3(e),"PRIVATE")),uo(zv,CE,t),uo(zv,CE,"esm2020"),uo("fire-js","")}u3("");var d3="firebase",f3="12.1.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */uo(d3,f3,"app");var RE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var fo,KI;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(S,C){function P(){}P.prototype=C.prototype,S.D=C.prototype,S.prototype=new P,S.prototype.constructor=S,S.C=function(A,M,D){for(var k=Array(arguments.length-2),B=2;B<arguments.length;B++)k[B-2]=arguments[B];return C.prototype[M].apply(A,k)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(S,C,P){P||(P=0);var A=Array(16);if(typeof C=="string")for(var M=0;16>M;++M)A[M]=C.charCodeAt(P++)|C.charCodeAt(P++)<<8|C.charCodeAt(P++)<<16|C.charCodeAt(P++)<<24;else for(M=0;16>M;++M)A[M]=C[P++]|C[P++]<<8|C[P++]<<16|C[P++]<<24;C=S.g[0],P=S.g[1],M=S.g[2];var D=S.g[3],k=C+(D^P&(M^D))+A[0]+3614090360&4294967295;C=P+(k<<7&4294967295|k>>>25),k=D+(M^C&(P^M))+A[1]+3905402710&4294967295,D=C+(k<<12&4294967295|k>>>20),k=M+(P^D&(C^P))+A[2]+606105819&4294967295,M=D+(k<<17&4294967295|k>>>15),k=P+(C^M&(D^C))+A[3]+3250441966&4294967295,P=M+(k<<22&4294967295|k>>>10),k=C+(D^P&(M^D))+A[4]+4118548399&4294967295,C=P+(k<<7&4294967295|k>>>25),k=D+(M^C&(P^M))+A[5]+1200080426&4294967295,D=C+(k<<12&4294967295|k>>>20),k=M+(P^D&(C^P))+A[6]+2821735955&4294967295,M=D+(k<<17&4294967295|k>>>15),k=P+(C^M&(D^C))+A[7]+4249261313&4294967295,P=M+(k<<22&4294967295|k>>>10),k=C+(D^P&(M^D))+A[8]+1770035416&4294967295,C=P+(k<<7&4294967295|k>>>25),k=D+(M^C&(P^M))+A[9]+2336552879&4294967295,D=C+(k<<12&4294967295|k>>>20),k=M+(P^D&(C^P))+A[10]+4294925233&4294967295,M=D+(k<<17&4294967295|k>>>15),k=P+(C^M&(D^C))+A[11]+2304563134&4294967295,P=M+(k<<22&4294967295|k>>>10),k=C+(D^P&(M^D))+A[12]+1804603682&4294967295,C=P+(k<<7&4294967295|k>>>25),k=D+(M^C&(P^M))+A[13]+4254626195&4294967295,D=C+(k<<12&4294967295|k>>>20),k=M+(P^D&(C^P))+A[14]+2792965006&4294967295,M=D+(k<<17&4294967295|k>>>15),k=P+(C^M&(D^C))+A[15]+1236535329&4294967295,P=M+(k<<22&4294967295|k>>>10),k=C+(M^D&(P^M))+A[1]+4129170786&4294967295,C=P+(k<<5&4294967295|k>>>27),k=D+(P^M&(C^P))+A[6]+3225465664&4294967295,D=C+(k<<9&4294967295|k>>>23),k=M+(C^P&(D^C))+A[11]+643717713&4294967295,M=D+(k<<14&4294967295|k>>>18),k=P+(D^C&(M^D))+A[0]+3921069994&4294967295,P=M+(k<<20&4294967295|k>>>12),k=C+(M^D&(P^M))+A[5]+3593408605&4294967295,C=P+(k<<5&4294967295|k>>>27),k=D+(P^M&(C^P))+A[10]+38016083&4294967295,D=C+(k<<9&4294967295|k>>>23),k=M+(C^P&(D^C))+A[15]+3634488961&4294967295,M=D+(k<<14&4294967295|k>>>18),k=P+(D^C&(M^D))+A[4]+3889429448&4294967295,P=M+(k<<20&4294967295|k>>>12),k=C+(M^D&(P^M))+A[9]+568446438&4294967295,C=P+(k<<5&4294967295|k>>>27),k=D+(P^M&(C^P))+A[14]+3275163606&4294967295,D=C+(k<<9&4294967295|k>>>23),k=M+(C^P&(D^C))+A[3]+4107603335&4294967295,M=D+(k<<14&4294967295|k>>>18),k=P+(D^C&(M^D))+A[8]+1163531501&4294967295,P=M+(k<<20&4294967295|k>>>12),k=C+(M^D&(P^M))+A[13]+2850285829&4294967295,C=P+(k<<5&4294967295|k>>>27),k=D+(P^M&(C^P))+A[2]+4243563512&4294967295,D=C+(k<<9&4294967295|k>>>23),k=M+(C^P&(D^C))+A[7]+1735328473&4294967295,M=D+(k<<14&4294967295|k>>>18),k=P+(D^C&(M^D))+A[12]+2368359562&4294967295,P=M+(k<<20&4294967295|k>>>12),k=C+(P^M^D)+A[5]+4294588738&4294967295,C=P+(k<<4&4294967295|k>>>28),k=D+(C^P^M)+A[8]+2272392833&4294967295,D=C+(k<<11&4294967295|k>>>21),k=M+(D^C^P)+A[11]+1839030562&4294967295,M=D+(k<<16&4294967295|k>>>16),k=P+(M^D^C)+A[14]+4259657740&4294967295,P=M+(k<<23&4294967295|k>>>9),k=C+(P^M^D)+A[1]+2763975236&4294967295,C=P+(k<<4&4294967295|k>>>28),k=D+(C^P^M)+A[4]+1272893353&4294967295,D=C+(k<<11&4294967295|k>>>21),k=M+(D^C^P)+A[7]+4139469664&4294967295,M=D+(k<<16&4294967295|k>>>16),k=P+(M^D^C)+A[10]+3200236656&4294967295,P=M+(k<<23&4294967295|k>>>9),k=C+(P^M^D)+A[13]+681279174&4294967295,C=P+(k<<4&4294967295|k>>>28),k=D+(C^P^M)+A[0]+3936430074&4294967295,D=C+(k<<11&4294967295|k>>>21),k=M+(D^C^P)+A[3]+3572445317&4294967295,M=D+(k<<16&4294967295|k>>>16),k=P+(M^D^C)+A[6]+76029189&4294967295,P=M+(k<<23&4294967295|k>>>9),k=C+(P^M^D)+A[9]+3654602809&4294967295,C=P+(k<<4&4294967295|k>>>28),k=D+(C^P^M)+A[12]+3873151461&4294967295,D=C+(k<<11&4294967295|k>>>21),k=M+(D^C^P)+A[15]+530742520&4294967295,M=D+(k<<16&4294967295|k>>>16),k=P+(M^D^C)+A[2]+3299628645&4294967295,P=M+(k<<23&4294967295|k>>>9),k=C+(M^(P|~D))+A[0]+4096336452&4294967295,C=P+(k<<6&4294967295|k>>>26),k=D+(P^(C|~M))+A[7]+1126891415&4294967295,D=C+(k<<10&4294967295|k>>>22),k=M+(C^(D|~P))+A[14]+2878612391&4294967295,M=D+(k<<15&4294967295|k>>>17),k=P+(D^(M|~C))+A[5]+4237533241&4294967295,P=M+(k<<21&4294967295|k>>>11),k=C+(M^(P|~D))+A[12]+1700485571&4294967295,C=P+(k<<6&4294967295|k>>>26),k=D+(P^(C|~M))+A[3]+2399980690&4294967295,D=C+(k<<10&4294967295|k>>>22),k=M+(C^(D|~P))+A[10]+4293915773&4294967295,M=D+(k<<15&4294967295|k>>>17),k=P+(D^(M|~C))+A[1]+2240044497&4294967295,P=M+(k<<21&4294967295|k>>>11),k=C+(M^(P|~D))+A[8]+1873313359&4294967295,C=P+(k<<6&4294967295|k>>>26),k=D+(P^(C|~M))+A[15]+4264355552&4294967295,D=C+(k<<10&4294967295|k>>>22),k=M+(C^(D|~P))+A[6]+2734768916&4294967295,M=D+(k<<15&4294967295|k>>>17),k=P+(D^(M|~C))+A[13]+1309151649&4294967295,P=M+(k<<21&4294967295|k>>>11),k=C+(M^(P|~D))+A[4]+4149444226&4294967295,C=P+(k<<6&4294967295|k>>>26),k=D+(P^(C|~M))+A[11]+3174756917&4294967295,D=C+(k<<10&4294967295|k>>>22),k=M+(C^(D|~P))+A[2]+718787259&4294967295,M=D+(k<<15&4294967295|k>>>17),k=P+(D^(M|~C))+A[9]+3951481745&4294967295,S.g[0]=S.g[0]+C&4294967295,S.g[1]=S.g[1]+(M+(k<<21&4294967295|k>>>11))&4294967295,S.g[2]=S.g[2]+M&4294967295,S.g[3]=S.g[3]+D&4294967295}r.prototype.u=function(S,C){C===void 0&&(C=S.length);for(var P=C-this.blockSize,A=this.B,M=this.h,D=0;D<C;){if(M==0)for(;D<=P;)i(this,S,D),D+=this.blockSize;if(typeof S=="string"){for(;D<C;)if(A[M++]=S.charCodeAt(D++),M==this.blockSize){i(this,A),M=0;break}}else for(;D<C;)if(A[M++]=S[D++],M==this.blockSize){i(this,A),M=0;break}}this.h=M,this.o+=C},r.prototype.v=function(){var S=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);S[0]=128;for(var C=1;C<S.length-8;++C)S[C]=0;var P=8*this.o;for(C=S.length-8;C<S.length;++C)S[C]=P&255,P/=256;for(this.u(S),S=Array(16),C=P=0;4>C;++C)for(var A=0;32>A;A+=8)S[P++]=this.g[C]>>>A&255;return S};function o(S,C){var P=a;return Object.prototype.hasOwnProperty.call(P,S)?P[S]:P[S]=C(S)}function s(S,C){this.h=C;for(var P=[],A=!0,M=S.length-1;0<=M;M--){var D=S[M]|0;A&&D==C||(P[M]=D,A=!1)}this.g=P}var a={};function l(S){return-128<=S&&128>S?o(S,function(C){return new s([C|0],0>C?-1:0)}):new s([S|0],0>S?-1:0)}function c(S){if(isNaN(S)||!isFinite(S))return f;if(0>S)return E(c(-S));for(var C=[],P=1,A=0;S>=P;A++)C[A]=S/P|0,P*=4294967296;return new s(C,0)}function u(S,C){if(S.length==0)throw Error("number format error: empty string");if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(S.charAt(0)=="-")return E(u(S.substring(1),C));if(0<=S.indexOf("-"))throw Error('number format error: interior "-" character');for(var P=c(Math.pow(C,8)),A=f,M=0;M<S.length;M+=8){var D=Math.min(8,S.length-M),k=parseInt(S.substring(M,M+D),C);8>D?(D=c(Math.pow(C,D)),A=A.j(D).add(c(k))):(A=A.j(P),A=A.add(c(k)))}return A}var f=l(0),h=l(1),g=l(16777216);t=s.prototype,t.m=function(){if(v(this))return-E(this).m();for(var S=0,C=1,P=0;P<this.g.length;P++){var A=this.i(P);S+=(0<=A?A:4294967296+A)*C,C*=4294967296}return S},t.toString=function(S){if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(_(this))return"0";if(v(this))return"-"+E(this).toString(S);for(var C=c(Math.pow(S,6)),P=this,A="";;){var M=I(P,C).g;P=x(P,M.j(C));var D=((0<P.g.length?P.g[0]:P.h)>>>0).toString(S);if(P=M,_(P))return D+A;for(;6>D.length;)D="0"+D;A=D+A}},t.i=function(S){return 0>S?0:S<this.g.length?this.g[S]:this.h};function _(S){if(S.h!=0)return!1;for(var C=0;C<S.g.length;C++)if(S.g[C]!=0)return!1;return!0}function v(S){return S.h==-1}t.l=function(S){return S=x(this,S),v(S)?-1:_(S)?0:1};function E(S){for(var C=S.g.length,P=[],A=0;A<C;A++)P[A]=~S.g[A];return new s(P,~S.h).add(h)}t.abs=function(){return v(this)?E(this):this},t.add=function(S){for(var C=Math.max(this.g.length,S.g.length),P=[],A=0,M=0;M<=C;M++){var D=A+(this.i(M)&65535)+(S.i(M)&65535),k=(D>>>16)+(this.i(M)>>>16)+(S.i(M)>>>16);A=k>>>16,D&=65535,k&=65535,P[M]=k<<16|D}return new s(P,P[P.length-1]&-2147483648?-1:0)};function x(S,C){return S.add(E(C))}t.j=function(S){if(_(this)||_(S))return f;if(v(this))return v(S)?E(this).j(E(S)):E(E(this).j(S));if(v(S))return E(this.j(E(S)));if(0>this.l(g)&&0>S.l(g))return c(this.m()*S.m());for(var C=this.g.length+S.g.length,P=[],A=0;A<2*C;A++)P[A]=0;for(A=0;A<this.g.length;A++)for(var M=0;M<S.g.length;M++){var D=this.i(A)>>>16,k=this.i(A)&65535,B=S.i(M)>>>16,q=S.i(M)&65535;P[2*A+2*M]+=k*q,y(P,2*A+2*M),P[2*A+2*M+1]+=D*q,y(P,2*A+2*M+1),P[2*A+2*M+1]+=k*B,y(P,2*A+2*M+1),P[2*A+2*M+2]+=D*B,y(P,2*A+2*M+2)}for(A=0;A<C;A++)P[A]=P[2*A+1]<<16|P[2*A];for(A=C;A<2*C;A++)P[A]=0;return new s(P,0)};function y(S,C){for(;(S[C]&65535)!=S[C];)S[C+1]+=S[C]>>>16,S[C]&=65535,C++}function b(S,C){this.g=S,this.h=C}function I(S,C){if(_(C))throw Error("division by zero");if(_(S))return new b(f,f);if(v(S))return C=I(E(S),C),new b(E(C.g),E(C.h));if(v(C))return C=I(S,E(C)),new b(E(C.g),C.h);if(30<S.g.length){if(v(S)||v(C))throw Error("slowDivide_ only works with positive integers.");for(var P=h,A=C;0>=A.l(S);)P=N(P),A=N(A);var M=O(P,1),D=O(A,1);for(A=O(A,2),P=O(P,2);!_(A);){var k=D.add(A);0>=k.l(S)&&(M=M.add(P),D=k),A=O(A,1),P=O(P,1)}return C=x(S,M.j(C)),new b(M,C)}for(M=f;0<=S.l(C);){for(P=Math.max(1,Math.floor(S.m()/C.m())),A=Math.ceil(Math.log(P)/Math.LN2),A=48>=A?1:Math.pow(2,A-48),D=c(P),k=D.j(C);v(k)||0<k.l(S);)P-=A,D=c(P),k=D.j(C);_(D)&&(D=h),M=M.add(D),S=x(S,k)}return new b(M,S)}t.A=function(S){return I(this,S).h},t.and=function(S){for(var C=Math.max(this.g.length,S.g.length),P=[],A=0;A<C;A++)P[A]=this.i(A)&S.i(A);return new s(P,this.h&S.h)},t.or=function(S){for(var C=Math.max(this.g.length,S.g.length),P=[],A=0;A<C;A++)P[A]=this.i(A)|S.i(A);return new s(P,this.h|S.h)},t.xor=function(S){for(var C=Math.max(this.g.length,S.g.length),P=[],A=0;A<C;A++)P[A]=this.i(A)^S.i(A);return new s(P,this.h^S.h)};function N(S){for(var C=S.g.length+1,P=[],A=0;A<C;A++)P[A]=S.i(A)<<1|S.i(A-1)>>>31;return new s(P,S.h)}function O(S,C){var P=C>>5;C%=32;for(var A=S.g.length-P,M=[],D=0;D<A;D++)M[D]=0<C?S.i(D+P)>>>C|S.i(D+P+1)<<32-C:S.i(D+P);return new s(M,S.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,KI=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=c,s.fromString=u,fo=s}).apply(typeof RE<"u"?RE:typeof self<"u"?self:typeof window<"u"?window:{});var Td=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var QI,tc,XI,sf,Gv,JI,ZI,eA;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(d,w,T){return d==Array.prototype||d==Object.prototype||(d[w]=T.value),d};function n(d){d=[typeof globalThis=="object"&&globalThis,d,typeof window=="object"&&window,typeof self=="object"&&self,typeof Td=="object"&&Td];for(var w=0;w<d.length;++w){var T=d[w];if(T&&T.Math==Math)return T}throw Error("Cannot find global object")}var r=n(this);function i(d,w){if(w)e:{var T=r;d=d.split(".");for(var R=0;R<d.length-1;R++){var j=d[R];if(!(j in T))break e;T=T[j]}d=d[d.length-1],R=T[d],w=w(R),w!=R&&w!=null&&e(T,d,{configurable:!0,writable:!0,value:w})}}function o(d,w){d instanceof String&&(d+="");var T=0,R=!1,j={next:function(){if(!R&&T<d.length){var U=T++;return{value:w(U,d[U]),done:!1}}return R=!0,{done:!0,value:void 0}}};return j[Symbol.iterator]=function(){return j},j}i("Array.prototype.values",function(d){return d||function(){return o(this,function(w,T){return T})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var s=s||{},a=this||self;function l(d){var w=typeof d;return w=w!="object"?w:d?Array.isArray(d)?"array":w:"null",w=="array"||w=="object"&&typeof d.length=="number"}function c(d){var w=typeof d;return w=="object"&&d!=null||w=="function"}function u(d,w,T){return d.call.apply(d.bind,arguments)}function f(d,w,T){if(!d)throw Error();if(2<arguments.length){var R=Array.prototype.slice.call(arguments,2);return function(){var j=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(j,R),d.apply(w,j)}}return function(){return d.apply(w,arguments)}}function h(d,w,T){return h=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?u:f,h.apply(null,arguments)}function g(d,w){var T=Array.prototype.slice.call(arguments,1);return function(){var R=T.slice();return R.push.apply(R,arguments),d.apply(this,R)}}function _(d,w){function T(){}T.prototype=w.prototype,d.aa=w.prototype,d.prototype=new T,d.prototype.constructor=d,d.Qb=function(R,j,U){for(var X=Array(arguments.length-2),Ge=2;Ge<arguments.length;Ge++)X[Ge-2]=arguments[Ge];return w.prototype[j].apply(R,X)}}function v(d){const w=d.length;if(0<w){const T=Array(w);for(let R=0;R<w;R++)T[R]=d[R];return T}return[]}function E(d,w){for(let T=1;T<arguments.length;T++){const R=arguments[T];if(l(R)){const j=d.length||0,U=R.length||0;d.length=j+U;for(let X=0;X<U;X++)d[j+X]=R[X]}else d.push(R)}}class x{constructor(w,T){this.i=w,this.j=T,this.h=0,this.g=null}get(){let w;return 0<this.h?(this.h--,w=this.g,this.g=w.next,w.next=null):w=this.i(),w}}function y(d){return/^[\s\xa0]*$/.test(d)}function b(){var d=a.navigator;return d&&(d=d.userAgent)?d:""}function I(d){return I[" "](d),d}I[" "]=function(){};var N=b().indexOf("Gecko")!=-1&&!(b().toLowerCase().indexOf("webkit")!=-1&&b().indexOf("Edge")==-1)&&!(b().indexOf("Trident")!=-1||b().indexOf("MSIE")!=-1)&&b().indexOf("Edge")==-1;function O(d,w,T){for(const R in d)w.call(T,d[R],R,d)}function S(d,w){for(const T in d)w.call(void 0,d[T],T,d)}function C(d){const w={};for(const T in d)w[T]=d[T];return w}const P="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function A(d,w){let T,R;for(let j=1;j<arguments.length;j++){R=arguments[j];for(T in R)d[T]=R[T];for(let U=0;U<P.length;U++)T=P[U],Object.prototype.hasOwnProperty.call(R,T)&&(d[T]=R[T])}}function M(d){var w=1;d=d.split(":");const T=[];for(;0<w&&d.length;)T.push(d.shift()),w--;return d.length&&T.push(d.join(":")),T}function D(d){a.setTimeout(()=>{throw d},0)}function k(){var d=V;let w=null;return d.g&&(w=d.g,d.g=d.g.next,d.g||(d.h=null),w.next=null),w}class B{constructor(){this.h=this.g=null}add(w,T){const R=q.get();R.set(w,T),this.h?this.h.next=R:this.g=R,this.h=R}}var q=new x(()=>new K,d=>d.reset());class K{constructor(){this.next=this.g=this.h=null}set(w,T){this.h=w,this.g=T,this.next=null}reset(){this.next=this.g=this.h=null}}let F,L=!1,V=new B,$=()=>{const d=a.Promise.resolve(void 0);F=()=>{d.then(W)}};var W=()=>{for(var d;d=k();){try{d.h.call(d.g)}catch(T){D(T)}var w=q;w.j(d),100>w.h&&(w.h++,d.next=w.g,w.g=d)}L=!1};function G(){this.s=this.s,this.C=this.C}G.prototype.s=!1,G.prototype.ma=function(){this.s||(this.s=!0,this.N())},G.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Y(d,w){this.type=d,this.g=this.target=w,this.defaultPrevented=!1}Y.prototype.h=function(){this.defaultPrevented=!0};var oe=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var d=!1,w=Object.defineProperty({},"passive",{get:function(){d=!0}});try{const T=()=>{};a.addEventListener("test",T,w),a.removeEventListener("test",T,w)}catch{}return d}();function fe(d,w){if(Y.call(this,d?d.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,d){var T=this.type=d.type,R=d.changedTouches&&d.changedTouches.length?d.changedTouches[0]:null;if(this.target=d.target||d.srcElement,this.g=w,w=d.relatedTarget){if(N){e:{try{I(w.nodeName);var j=!0;break e}catch{}j=!1}j||(w=null)}}else T=="mouseover"?w=d.fromElement:T=="mouseout"&&(w=d.toElement);this.relatedTarget=w,R?(this.clientX=R.clientX!==void 0?R.clientX:R.pageX,this.clientY=R.clientY!==void 0?R.clientY:R.pageY,this.screenX=R.screenX||0,this.screenY=R.screenY||0):(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0),this.button=d.button,this.key=d.key||"",this.ctrlKey=d.ctrlKey,this.altKey=d.altKey,this.shiftKey=d.shiftKey,this.metaKey=d.metaKey,this.pointerId=d.pointerId||0,this.pointerType=typeof d.pointerType=="string"?d.pointerType:Ee[d.pointerType]||"",this.state=d.state,this.i=d,d.defaultPrevented&&fe.aa.h.call(this)}}_(fe,Y);var Ee={2:"touch",3:"pen",4:"mouse"};fe.prototype.h=function(){fe.aa.h.call(this);var d=this.i;d.preventDefault?d.preventDefault():d.returnValue=!1};var J="closure_listenable_"+(1e6*Math.random()|0),de=0;function le(d,w,T,R,j){this.listener=d,this.proxy=null,this.src=w,this.type=T,this.capture=!!R,this.ha=j,this.key=++de,this.da=this.fa=!1}function re(d){d.da=!0,d.listener=null,d.proxy=null,d.src=null,d.ha=null}function he(d){this.src=d,this.g={},this.h=0}he.prototype.add=function(d,w,T,R,j){var U=d.toString();d=this.g[U],d||(d=this.g[U]=[],this.h++);var X=Ke(d,w,R,j);return-1<X?(w=d[X],T||(w.fa=!1)):(w=new le(w,this.src,U,!!R,j),w.fa=T,d.push(w)),w};function Ce(d,w){var T=w.type;if(T in d.g){var R=d.g[T],j=Array.prototype.indexOf.call(R,w,void 0),U;(U=0<=j)&&Array.prototype.splice.call(R,j,1),U&&(re(w),d.g[T].length==0&&(delete d.g[T],d.h--))}}function Ke(d,w,T,R){for(var j=0;j<d.length;++j){var U=d[j];if(!U.da&&U.listener==w&&U.capture==!!T&&U.ha==R)return j}return-1}var st="closure_lm_"+(1e6*Math.random()|0),Dt={};function Zn(d,w,T,R,j){if(R&&R.once)return Gr(d,w,T,R,j);if(Array.isArray(w)){for(var U=0;U<w.length;U++)Zn(d,w[U],T,R,j);return null}return T=rm(T),d&&d[J]?d.K(w,T,c(R)?!!R.capture:!!R,j):wr(d,w,T,!1,R,j)}function wr(d,w,T,R,j,U){if(!w)throw Error("Invalid event type");var X=c(j)?!!j.capture:!!j,Ge=tm(d);if(Ge||(d[st]=Ge=new he(d)),T=Ge.add(w,T,R,X,U),T.proxy)return T;if(R=xl(),T.proxy=R,R.src=d,R.listener=T,d.addEventListener)oe||(j=X),j===void 0&&(j=!1),d.addEventListener(w.toString(),R,j);else if(d.attachEvent)d.attachEvent(s_(w.toString()),R);else if(d.addListener&&d.removeListener)d.addListener(R);else throw Error("addEventListener and attachEvent are unavailable.");return T}function xl(){function d(T){return w.call(d.src,d.listener,T)}const w=IO;return d}function Gr(d,w,T,R,j){if(Array.isArray(w)){for(var U=0;U<w.length;U++)Gr(d,w[U],T,R,j);return null}return T=rm(T),d&&d[J]?d.L(w,T,c(R)?!!R.capture:!!R,j):wr(d,w,T,!0,R,j)}function zu(d,w,T,R,j){if(Array.isArray(w))for(var U=0;U<w.length;U++)zu(d,w[U],T,R,j);else R=c(R)?!!R.capture:!!R,T=rm(T),d&&d[J]?(d=d.i,w=String(w).toString(),w in d.g&&(U=d.g[w],T=Ke(U,T,R,j),-1<T&&(re(U[T]),Array.prototype.splice.call(U,T,1),U.length==0&&(delete d.g[w],d.h--)))):d&&(d=tm(d))&&(w=d.g[w.toString()],d=-1,w&&(d=Ke(w,T,R,j)),(T=-1<d?w[d]:null)&&Ii(T))}function Ii(d){if(typeof d!="number"&&d&&!d.da){var w=d.src;if(w&&w[J])Ce(w.i,d);else{var T=d.type,R=d.proxy;w.removeEventListener?w.removeEventListener(T,R,d.capture):w.detachEvent?w.detachEvent(s_(T),R):w.addListener&&w.removeListener&&w.removeListener(R),(T=tm(w))?(Ce(T,d),T.h==0&&(T.src=null,w[st]=null)):re(d)}}}function s_(d){return d in Dt?Dt[d]:Dt[d]="on"+d}function IO(d,w){if(d.da)d=!0;else{w=new fe(w,this);var T=d.listener,R=d.ha||d.src;d.fa&&Ii(d),d=T.call(R,w)}return d}function tm(d){return d=d[st],d instanceof he?d:null}var nm="__closure_events_fn_"+(1e9*Math.random()>>>0);function rm(d){return typeof d=="function"?d:(d[nm]||(d[nm]=function(w){return d.handleEvent(w)}),d[nm])}function Gt(){G.call(this),this.i=new he(this),this.M=this,this.F=null}_(Gt,G),Gt.prototype[J]=!0,Gt.prototype.removeEventListener=function(d,w,T,R){zu(this,d,w,T,R)};function ln(d,w){var T,R=d.F;if(R)for(T=[];R;R=R.F)T.push(R);if(d=d.M,R=w.type||w,typeof w=="string")w=new Y(w,d);else if(w instanceof Y)w.target=w.target||d;else{var j=w;w=new Y(R,d),A(w,j)}if(j=!0,T)for(var U=T.length-1;0<=U;U--){var X=w.g=T[U];j=Hu(X,R,!0,w)&&j}if(X=w.g=d,j=Hu(X,R,!0,w)&&j,j=Hu(X,R,!1,w)&&j,T)for(U=0;U<T.length;U++)X=w.g=T[U],j=Hu(X,R,!1,w)&&j}Gt.prototype.N=function(){if(Gt.aa.N.call(this),this.i){var d=this.i,w;for(w in d.g){for(var T=d.g[w],R=0;R<T.length;R++)re(T[R]);delete d.g[w],d.h--}}this.F=null},Gt.prototype.K=function(d,w,T,R){return this.i.add(String(d),w,!1,T,R)},Gt.prototype.L=function(d,w,T,R){return this.i.add(String(d),w,!0,T,R)};function Hu(d,w,T,R){if(w=d.i.g[String(w)],!w)return!0;w=w.concat();for(var j=!0,U=0;U<w.length;++U){var X=w[U];if(X&&!X.da&&X.capture==T){var Ge=X.listener,Ft=X.ha||X.src;X.fa&&Ce(d.i,X),j=Ge.call(Ft,R)!==!1&&j}}return j&&!R.defaultPrevented}function a_(d,w,T){if(typeof d=="function")T&&(d=h(d,T));else if(d&&typeof d.handleEvent=="function")d=h(d.handleEvent,d);else throw Error("Invalid listener argument");return 2147483647<Number(w)?-1:a.setTimeout(d,w||0)}function l_(d){d.g=a_(()=>{d.g=null,d.i&&(d.i=!1,l_(d))},d.l);const w=d.h;d.h=null,d.m.apply(null,w)}class AO extends G{constructor(w,T){super(),this.m=w,this.l=T,this.h=null,this.i=!1,this.g=null}j(w){this.h=arguments,this.g?this.i=!0:l_(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function El(d){G.call(this),this.h=d,this.g={}}_(El,G);var c_=[];function u_(d){O(d.g,function(w,T){this.g.hasOwnProperty(T)&&Ii(w)},d),d.g={}}El.prototype.N=function(){El.aa.N.call(this),u_(this)},El.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var im=a.JSON.stringify,RO=a.JSON.parse,kO=class{stringify(d){return a.JSON.stringify(d,void 0)}parse(d){return a.JSON.parse(d,void 0)}};function om(){}om.prototype.h=null;function d_(d){return d.h||(d.h=d.i())}function f_(){}var bl={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function sm(){Y.call(this,"d")}_(sm,Y);function am(){Y.call(this,"c")}_(am,Y);var Bo={},h_=null;function qu(){return h_=h_||new Gt}Bo.La="serverreachability";function p_(d){Y.call(this,Bo.La,d)}_(p_,Y);function Tl(d){const w=qu();ln(w,new p_(w))}Bo.STAT_EVENT="statevent";function m_(d,w){Y.call(this,Bo.STAT_EVENT,d),this.stat=w}_(m_,Y);function cn(d){const w=qu();ln(w,new m_(w,d))}Bo.Ma="timingevent";function g_(d,w){Y.call(this,Bo.Ma,d),this.size=w}_(g_,Y);function Cl(d,w){if(typeof d!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){d()},w)}function Sl(){this.g=!0}Sl.prototype.xa=function(){this.g=!1};function NO(d,w,T,R,j,U){d.info(function(){if(d.g)if(U)for(var X="",Ge=U.split("&"),Ft=0;Ft<Ge.length;Ft++){var $e=Ge[Ft].split("=");if(1<$e.length){var Yt=$e[0];$e=$e[1];var Kt=Yt.split("_");X=2<=Kt.length&&Kt[1]=="type"?X+(Yt+"="+$e+"&"):X+(Yt+"=redacted&")}}else X=null;else X=U;return"XMLHTTP REQ ("+R+") [attempt "+j+"]: "+w+`
`+T+`
`+X})}function DO(d,w,T,R,j,U,X){d.info(function(){return"XMLHTTP RESP ("+R+") [ attempt "+j+"]: "+w+`
`+T+`
`+U+" "+X})}function Ls(d,w,T,R){d.info(function(){return"XMLHTTP TEXT ("+w+"): "+OO(d,T)+(R?" "+R:"")})}function MO(d,w){d.info(function(){return"TIMEOUT: "+w})}Sl.prototype.info=function(){};function OO(d,w){if(!d.g)return w;if(!w)return null;try{var T=JSON.parse(w);if(T){for(d=0;d<T.length;d++)if(Array.isArray(T[d])){var R=T[d];if(!(2>R.length)){var j=R[1];if(Array.isArray(j)&&!(1>j.length)){var U=j[0];if(U!="noop"&&U!="stop"&&U!="close")for(var X=1;X<j.length;X++)j[X]=""}}}}return im(T)}catch{return w}}var Gu={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},v_={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},lm;function Yu(){}_(Yu,om),Yu.prototype.g=function(){return new XMLHttpRequest},Yu.prototype.i=function(){return{}},lm=new Yu;function Ai(d,w,T,R){this.j=d,this.i=w,this.l=T,this.R=R||1,this.U=new El(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new y_}function y_(){this.i=null,this.g="",this.h=!1}var w_={},cm={};function um(d,w,T){d.L=1,d.v=Ju(Yr(w)),d.m=T,d.P=!0,__(d,null)}function __(d,w){d.F=Date.now(),Ku(d),d.A=Yr(d.v);var T=d.A,R=d.R;Array.isArray(R)||(R=[String(R)]),M_(T.i,"t",R),d.C=0,T=d.j.J,d.h=new y_,d.g=J_(d.j,T?w:null,!d.m),0<d.O&&(d.M=new AO(h(d.Y,d,d.g),d.O)),w=d.U,T=d.g,R=d.ca;var j="readystatechange";Array.isArray(j)||(j&&(c_[0]=j.toString()),j=c_);for(var U=0;U<j.length;U++){var X=Zn(T,j[U],R||w.handleEvent,!1,w.h||w);if(!X)break;w.g[X.key]=X}w=d.H?C(d.H):{},d.m?(d.u||(d.u="POST"),w["Content-Type"]="application/x-www-form-urlencoded",d.g.ea(d.A,d.u,d.m,w)):(d.u="GET",d.g.ea(d.A,d.u,null,w)),Tl(),NO(d.i,d.u,d.A,d.l,d.R,d.m)}Ai.prototype.ca=function(d){d=d.target;const w=this.M;w&&Kr(d)==3?w.j():this.Y(d)},Ai.prototype.Y=function(d){try{if(d==this.g)e:{const Kt=Kr(this.g);var w=this.g.Ba();const Fs=this.g.Z();if(!(3>Kt)&&(Kt!=3||this.g&&(this.h.h||this.g.oa()||U_(this.g)))){this.J||Kt!=4||w==7||(w==8||0>=Fs?Tl(3):Tl(2)),dm(this);var T=this.g.Z();this.X=T;t:if(x_(this)){var R=U_(this.g);d="";var j=R.length,U=Kr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Wo(this),Pl(this);var X="";break t}this.h.i=new a.TextDecoder}for(w=0;w<j;w++)this.h.h=!0,d+=this.h.i.decode(R[w],{stream:!(U&&w==j-1)});R.length=0,this.h.g+=d,this.C=0,X=this.h.g}else X=this.g.oa();if(this.o=T==200,DO(this.i,this.u,this.A,this.l,this.R,Kt,T),this.o){if(this.T&&!this.K){t:{if(this.g){var Ge,Ft=this.g;if((Ge=Ft.g?Ft.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!y(Ge)){var $e=Ge;break t}}$e=null}if(T=$e)Ls(this.i,this.l,T,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,fm(this,T);else{this.o=!1,this.s=3,cn(12),Wo(this),Pl(this);break e}}if(this.P){T=!0;let er;for(;!this.J&&this.C<X.length;)if(er=LO(this,X),er==cm){Kt==4&&(this.s=4,cn(14),T=!1),Ls(this.i,this.l,null,"[Incomplete Response]");break}else if(er==w_){this.s=4,cn(15),Ls(this.i,this.l,X,"[Invalid Chunk]"),T=!1;break}else Ls(this.i,this.l,er,null),fm(this,er);if(x_(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Kt!=4||X.length!=0||this.h.h||(this.s=1,cn(16),T=!1),this.o=this.o&&T,!T)Ls(this.i,this.l,X,"[Invalid Chunked Response]"),Wo(this),Pl(this);else if(0<X.length&&!this.W){this.W=!0;var Yt=this.j;Yt.g==this&&Yt.ba&&!Yt.M&&(Yt.j.info("Great, no buffering proxy detected. Bytes received: "+X.length),ym(Yt),Yt.M=!0,cn(11))}}else Ls(this.i,this.l,X,null),fm(this,X);Kt==4&&Wo(this),this.o&&!this.J&&(Kt==4?Y_(this.j,this):(this.o=!1,Ku(this)))}else ZO(this.g),T==400&&0<X.indexOf("Unknown SID")?(this.s=3,cn(12)):(this.s=0,cn(13)),Wo(this),Pl(this)}}}catch{}finally{}};function x_(d){return d.g?d.u=="GET"&&d.L!=2&&d.j.Ca:!1}function LO(d,w){var T=d.C,R=w.indexOf(`
`,T);return R==-1?cm:(T=Number(w.substring(T,R)),isNaN(T)?w_:(R+=1,R+T>w.length?cm:(w=w.slice(R,R+T),d.C=R+T,w)))}Ai.prototype.cancel=function(){this.J=!0,Wo(this)};function Ku(d){d.S=Date.now()+d.I,E_(d,d.I)}function E_(d,w){if(d.B!=null)throw Error("WatchDog timer not null");d.B=Cl(h(d.ba,d),w)}function dm(d){d.B&&(a.clearTimeout(d.B),d.B=null)}Ai.prototype.ba=function(){this.B=null;const d=Date.now();0<=d-this.S?(MO(this.i,this.A),this.L!=2&&(Tl(),cn(17)),Wo(this),this.s=2,Pl(this)):E_(this,this.S-d)};function Pl(d){d.j.G==0||d.J||Y_(d.j,d)}function Wo(d){dm(d);var w=d.M;w&&typeof w.ma=="function"&&w.ma(),d.M=null,u_(d.U),d.g&&(w=d.g,d.g=null,w.abort(),w.ma())}function fm(d,w){try{var T=d.j;if(T.G!=0&&(T.g==d||hm(T.h,d))){if(!d.K&&hm(T.h,d)&&T.G==3){try{var R=T.Da.g.parse(w)}catch{R=null}if(Array.isArray(R)&&R.length==3){var j=R;if(j[0]==0){e:if(!T.u){if(T.g)if(T.g.F+3e3<d.F)id(T),nd(T);else break e;vm(T),cn(18)}}else T.za=j[1],0<T.za-T.T&&37500>j[2]&&T.F&&T.v==0&&!T.C&&(T.C=Cl(h(T.Za,T),6e3));if(1>=C_(T.h)&&T.ca){try{T.ca()}catch{}T.ca=void 0}}else Ho(T,11)}else if((d.K||T.g==d)&&id(T),!y(w))for(j=T.Da.g.parse(w),w=0;w<j.length;w++){let $e=j[w];if(T.T=$e[0],$e=$e[1],T.G==2)if($e[0]=="c"){T.K=$e[1],T.ia=$e[2];const Yt=$e[3];Yt!=null&&(T.la=Yt,T.j.info("VER="+T.la));const Kt=$e[4];Kt!=null&&(T.Aa=Kt,T.j.info("SVER="+T.Aa));const Fs=$e[5];Fs!=null&&typeof Fs=="number"&&0<Fs&&(R=1.5*Fs,T.L=R,T.j.info("backChannelRequestTimeoutMs_="+R)),R=T;const er=d.g;if(er){const sd=er.g?er.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(sd){var U=R.h;U.g||sd.indexOf("spdy")==-1&&sd.indexOf("quic")==-1&&sd.indexOf("h2")==-1||(U.j=U.l,U.g=new Set,U.h&&(pm(U,U.h),U.h=null))}if(R.D){const wm=er.g?er.g.getResponseHeader("X-HTTP-Session-Id"):null;wm&&(R.ya=wm,tt(R.I,R.D,wm))}}T.G=3,T.l&&T.l.ua(),T.ba&&(T.R=Date.now()-d.F,T.j.info("Handshake RTT: "+T.R+"ms")),R=T;var X=d;if(R.qa=X_(R,R.J?R.ia:null,R.W),X.K){S_(R.h,X);var Ge=X,Ft=R.L;Ft&&(Ge.I=Ft),Ge.B&&(dm(Ge),Ku(Ge)),R.g=X}else q_(R);0<T.i.length&&rd(T)}else $e[0]!="stop"&&$e[0]!="close"||Ho(T,7);else T.G==3&&($e[0]=="stop"||$e[0]=="close"?$e[0]=="stop"?Ho(T,7):gm(T):$e[0]!="noop"&&T.l&&T.l.ta($e),T.v=0)}}Tl(4)}catch{}}var VO=class{constructor(d,w){this.g=d,this.map=w}};function b_(d){this.l=d||10,a.PerformanceNavigationTiming?(d=a.performance.getEntriesByType("navigation"),d=0<d.length&&(d[0].nextHopProtocol=="hq"||d[0].nextHopProtocol=="h2")):d=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=d?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function T_(d){return d.h?!0:d.g?d.g.size>=d.j:!1}function C_(d){return d.h?1:d.g?d.g.size:0}function hm(d,w){return d.h?d.h==w:d.g?d.g.has(w):!1}function pm(d,w){d.g?d.g.add(w):d.h=w}function S_(d,w){d.h&&d.h==w?d.h=null:d.g&&d.g.has(w)&&d.g.delete(w)}b_.prototype.cancel=function(){if(this.i=P_(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const d of this.g.values())d.cancel();this.g.clear()}};function P_(d){if(d.h!=null)return d.i.concat(d.h.D);if(d.g!=null&&d.g.size!==0){let w=d.i;for(const T of d.g.values())w=w.concat(T.D);return w}return v(d.i)}function jO(d){if(d.V&&typeof d.V=="function")return d.V();if(typeof Map<"u"&&d instanceof Map||typeof Set<"u"&&d instanceof Set)return Array.from(d.values());if(typeof d=="string")return d.split("");if(l(d)){for(var w=[],T=d.length,R=0;R<T;R++)w.push(d[R]);return w}w=[],T=0;for(R in d)w[T++]=d[R];return w}function FO(d){if(d.na&&typeof d.na=="function")return d.na();if(!d.V||typeof d.V!="function"){if(typeof Map<"u"&&d instanceof Map)return Array.from(d.keys());if(!(typeof Set<"u"&&d instanceof Set)){if(l(d)||typeof d=="string"){var w=[];d=d.length;for(var T=0;T<d;T++)w.push(T);return w}w=[],T=0;for(const R in d)w[T++]=R;return w}}}function I_(d,w){if(d.forEach&&typeof d.forEach=="function")d.forEach(w,void 0);else if(l(d)||typeof d=="string")Array.prototype.forEach.call(d,w,void 0);else for(var T=FO(d),R=jO(d),j=R.length,U=0;U<j;U++)w.call(void 0,R[U],T&&T[U],d)}var A_=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function $O(d,w){if(d){d=d.split("&");for(var T=0;T<d.length;T++){var R=d[T].indexOf("="),j=null;if(0<=R){var U=d[T].substring(0,R);j=d[T].substring(R+1)}else U=d[T];w(U,j?decodeURIComponent(j.replace(/\+/g," ")):"")}}}function zo(d){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,d instanceof zo){this.h=d.h,Qu(this,d.j),this.o=d.o,this.g=d.g,Xu(this,d.s),this.l=d.l;var w=d.i,T=new Rl;T.i=w.i,w.g&&(T.g=new Map(w.g),T.h=w.h),R_(this,T),this.m=d.m}else d&&(w=String(d).match(A_))?(this.h=!1,Qu(this,w[1]||"",!0),this.o=Il(w[2]||""),this.g=Il(w[3]||"",!0),Xu(this,w[4]),this.l=Il(w[5]||"",!0),R_(this,w[6]||"",!0),this.m=Il(w[7]||"")):(this.h=!1,this.i=new Rl(null,this.h))}zo.prototype.toString=function(){var d=[],w=this.j;w&&d.push(Al(w,k_,!0),":");var T=this.g;return(T||w=="file")&&(d.push("//"),(w=this.o)&&d.push(Al(w,k_,!0),"@"),d.push(encodeURIComponent(String(T)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),T=this.s,T!=null&&d.push(":",String(T))),(T=this.l)&&(this.g&&T.charAt(0)!="/"&&d.push("/"),d.push(Al(T,T.charAt(0)=="/"?WO:BO,!0))),(T=this.i.toString())&&d.push("?",T),(T=this.m)&&d.push("#",Al(T,HO)),d.join("")};function Yr(d){return new zo(d)}function Qu(d,w,T){d.j=T?Il(w,!0):w,d.j&&(d.j=d.j.replace(/:$/,""))}function Xu(d,w){if(w){if(w=Number(w),isNaN(w)||0>w)throw Error("Bad port number "+w);d.s=w}else d.s=null}function R_(d,w,T){w instanceof Rl?(d.i=w,qO(d.i,d.h)):(T||(w=Al(w,zO)),d.i=new Rl(w,d.h))}function tt(d,w,T){d.i.set(w,T)}function Ju(d){return tt(d,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),d}function Il(d,w){return d?w?decodeURI(d.replace(/%25/g,"%2525")):decodeURIComponent(d):""}function Al(d,w,T){return typeof d=="string"?(d=encodeURI(d).replace(w,UO),T&&(d=d.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d):null}function UO(d){return d=d.charCodeAt(0),"%"+(d>>4&15).toString(16)+(d&15).toString(16)}var k_=/[#\/\?@]/g,BO=/[#\?:]/g,WO=/[#\?]/g,zO=/[#\?@]/g,HO=/#/g;function Rl(d,w){this.h=this.g=null,this.i=d||null,this.j=!!w}function Ri(d){d.g||(d.g=new Map,d.h=0,d.i&&$O(d.i,function(w,T){d.add(decodeURIComponent(w.replace(/\+/g," ")),T)}))}t=Rl.prototype,t.add=function(d,w){Ri(this),this.i=null,d=Vs(this,d);var T=this.g.get(d);return T||this.g.set(d,T=[]),T.push(w),this.h+=1,this};function N_(d,w){Ri(d),w=Vs(d,w),d.g.has(w)&&(d.i=null,d.h-=d.g.get(w).length,d.g.delete(w))}function D_(d,w){return Ri(d),w=Vs(d,w),d.g.has(w)}t.forEach=function(d,w){Ri(this),this.g.forEach(function(T,R){T.forEach(function(j){d.call(w,j,R,this)},this)},this)},t.na=function(){Ri(this);const d=Array.from(this.g.values()),w=Array.from(this.g.keys()),T=[];for(let R=0;R<w.length;R++){const j=d[R];for(let U=0;U<j.length;U++)T.push(w[R])}return T},t.V=function(d){Ri(this);let w=[];if(typeof d=="string")D_(this,d)&&(w=w.concat(this.g.get(Vs(this,d))));else{d=Array.from(this.g.values());for(let T=0;T<d.length;T++)w=w.concat(d[T])}return w},t.set=function(d,w){return Ri(this),this.i=null,d=Vs(this,d),D_(this,d)&&(this.h-=this.g.get(d).length),this.g.set(d,[w]),this.h+=1,this},t.get=function(d,w){return d?(d=this.V(d),0<d.length?String(d[0]):w):w};function M_(d,w,T){N_(d,w),0<T.length&&(d.i=null,d.g.set(Vs(d,w),v(T)),d.h+=T.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const d=[],w=Array.from(this.g.keys());for(var T=0;T<w.length;T++){var R=w[T];const U=encodeURIComponent(String(R)),X=this.V(R);for(R=0;R<X.length;R++){var j=U;X[R]!==""&&(j+="="+encodeURIComponent(String(X[R]))),d.push(j)}}return this.i=d.join("&")};function Vs(d,w){return w=String(w),d.j&&(w=w.toLowerCase()),w}function qO(d,w){w&&!d.j&&(Ri(d),d.i=null,d.g.forEach(function(T,R){var j=R.toLowerCase();R!=j&&(N_(this,R),M_(this,j,T))},d)),d.j=w}function GO(d,w){const T=new Sl;if(a.Image){const R=new Image;R.onload=g(ki,T,"TestLoadImage: loaded",!0,w,R),R.onerror=g(ki,T,"TestLoadImage: error",!1,w,R),R.onabort=g(ki,T,"TestLoadImage: abort",!1,w,R),R.ontimeout=g(ki,T,"TestLoadImage: timeout",!1,w,R),a.setTimeout(function(){R.ontimeout&&R.ontimeout()},1e4),R.src=d}else w(!1)}function YO(d,w){const T=new Sl,R=new AbortController,j=setTimeout(()=>{R.abort(),ki(T,"TestPingServer: timeout",!1,w)},1e4);fetch(d,{signal:R.signal}).then(U=>{clearTimeout(j),U.ok?ki(T,"TestPingServer: ok",!0,w):ki(T,"TestPingServer: server error",!1,w)}).catch(()=>{clearTimeout(j),ki(T,"TestPingServer: error",!1,w)})}function ki(d,w,T,R,j){try{j&&(j.onload=null,j.onerror=null,j.onabort=null,j.ontimeout=null),R(T)}catch{}}function KO(){this.g=new kO}function QO(d,w,T){const R=T||"";try{I_(d,function(j,U){let X=j;c(j)&&(X=im(j)),w.push(R+U+"="+encodeURIComponent(X))})}catch(j){throw w.push(R+"type="+encodeURIComponent("_badmap")),j}}function Zu(d){this.l=d.Ub||null,this.j=d.eb||!1}_(Zu,om),Zu.prototype.g=function(){return new ed(this.l,this.j)},Zu.prototype.i=function(d){return function(){return d}}({});function ed(d,w){Gt.call(this),this.D=d,this.o=w,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}_(ed,Gt),t=ed.prototype,t.open=function(d,w){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=d,this.A=w,this.readyState=1,Nl(this)},t.send=function(d){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const w={headers:this.u,method:this.B,credentials:this.m,cache:void 0};d&&(w.body=d),(this.D||a).fetch(new Request(this.A,w)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,kl(this)),this.readyState=0},t.Sa=function(d){if(this.g&&(this.l=d,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=d.headers,this.readyState=2,Nl(this)),this.g&&(this.readyState=3,Nl(this),this.g)))if(this.responseType==="arraybuffer")d.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in d){if(this.j=d.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;O_(this)}else d.text().then(this.Ra.bind(this),this.ga.bind(this))};function O_(d){d.j.read().then(d.Pa.bind(d)).catch(d.ga.bind(d))}t.Pa=function(d){if(this.g){if(this.o&&d.value)this.response.push(d.value);else if(!this.o){var w=d.value?d.value:new Uint8Array(0);(w=this.v.decode(w,{stream:!d.done}))&&(this.response=this.responseText+=w)}d.done?kl(this):Nl(this),this.readyState==3&&O_(this)}},t.Ra=function(d){this.g&&(this.response=this.responseText=d,kl(this))},t.Qa=function(d){this.g&&(this.response=d,kl(this))},t.ga=function(){this.g&&kl(this)};function kl(d){d.readyState=4,d.l=null,d.j=null,d.v=null,Nl(d)}t.setRequestHeader=function(d,w){this.u.append(d,w)},t.getResponseHeader=function(d){return this.h&&this.h.get(d.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const d=[],w=this.h.entries();for(var T=w.next();!T.done;)T=T.value,d.push(T[0]+": "+T[1]),T=w.next();return d.join(`\r
`)};function Nl(d){d.onreadystatechange&&d.onreadystatechange.call(d)}Object.defineProperty(ed.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(d){this.m=d?"include":"same-origin"}});function L_(d){let w="";return O(d,function(T,R){w+=R,w+=":",w+=T,w+=`\r
`}),w}function mm(d,w,T){e:{for(R in T){var R=!1;break e}R=!0}R||(T=L_(T),typeof d=="string"?T!=null&&encodeURIComponent(String(T)):tt(d,w,T))}function mt(d){Gt.call(this),this.headers=new Map,this.o=d||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}_(mt,Gt);var XO=/^https?$/i,JO=["POST","PUT"];t=mt.prototype,t.Ha=function(d){this.J=d},t.ea=function(d,w,T,R){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+d);w=w?w.toUpperCase():"GET",this.D=d,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():lm.g(),this.v=this.o?d_(this.o):d_(lm),this.g.onreadystatechange=h(this.Ea,this);try{this.B=!0,this.g.open(w,String(d),!0),this.B=!1}catch(U){V_(this,U);return}if(d=T||"",T=new Map(this.headers),R)if(Object.getPrototypeOf(R)===Object.prototype)for(var j in R)T.set(j,R[j]);else if(typeof R.keys=="function"&&typeof R.get=="function")for(const U of R.keys())T.set(U,R.get(U));else throw Error("Unknown input type for opt_headers: "+String(R));R=Array.from(T.keys()).find(U=>U.toLowerCase()=="content-type"),j=a.FormData&&d instanceof a.FormData,!(0<=Array.prototype.indexOf.call(JO,w,void 0))||R||j||T.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[U,X]of T)this.g.setRequestHeader(U,X);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{$_(this),this.u=!0,this.g.send(d),this.u=!1}catch(U){V_(this,U)}};function V_(d,w){d.h=!1,d.g&&(d.j=!0,d.g.abort(),d.j=!1),d.l=w,d.m=5,j_(d),td(d)}function j_(d){d.A||(d.A=!0,ln(d,"complete"),ln(d,"error"))}t.abort=function(d){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=d||7,ln(this,"complete"),ln(this,"abort"),td(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),td(this,!0)),mt.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?F_(this):this.bb())},t.bb=function(){F_(this)};function F_(d){if(d.h&&typeof s<"u"&&(!d.v[1]||Kr(d)!=4||d.Z()!=2)){if(d.u&&Kr(d)==4)a_(d.Ea,0,d);else if(ln(d,"readystatechange"),Kr(d)==4){d.h=!1;try{const X=d.Z();e:switch(X){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var w=!0;break e;default:w=!1}var T;if(!(T=w)){var R;if(R=X===0){var j=String(d.D).match(A_)[1]||null;!j&&a.self&&a.self.location&&(j=a.self.location.protocol.slice(0,-1)),R=!XO.test(j?j.toLowerCase():"")}T=R}if(T)ln(d,"complete"),ln(d,"success");else{d.m=6;try{var U=2<Kr(d)?d.g.statusText:""}catch{U=""}d.l=U+" ["+d.Z()+"]",j_(d)}}finally{td(d)}}}}function td(d,w){if(d.g){$_(d);const T=d.g,R=d.v[0]?()=>{}:null;d.g=null,d.v=null,w||ln(d,"ready");try{T.onreadystatechange=R}catch{}}}function $_(d){d.I&&(a.clearTimeout(d.I),d.I=null)}t.isActive=function(){return!!this.g};function Kr(d){return d.g?d.g.readyState:0}t.Z=function(){try{return 2<Kr(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(d){if(this.g){var w=this.g.responseText;return d&&w.indexOf(d)==0&&(w=w.substring(d.length)),RO(w)}};function U_(d){try{if(!d.g)return null;if("response"in d.g)return d.g.response;switch(d.H){case"":case"text":return d.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in d.g)return d.g.mozResponseArrayBuffer}return null}catch{return null}}function ZO(d){const w={};d=(d.g&&2<=Kr(d)&&d.g.getAllResponseHeaders()||"").split(`\r
`);for(let R=0;R<d.length;R++){if(y(d[R]))continue;var T=M(d[R]);const j=T[0];if(T=T[1],typeof T!="string")continue;T=T.trim();const U=w[j]||[];w[j]=U,U.push(T)}S(w,function(R){return R.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Dl(d,w,T){return T&&T.internalChannelParams&&T.internalChannelParams[d]||w}function B_(d){this.Aa=0,this.i=[],this.j=new Sl,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Dl("failFast",!1,d),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Dl("baseRetryDelayMs",5e3,d),this.cb=Dl("retryDelaySeedMs",1e4,d),this.Wa=Dl("forwardChannelMaxRetries",2,d),this.wa=Dl("forwardChannelRequestTimeoutMs",2e4,d),this.pa=d&&d.xmlHttpFactory||void 0,this.Xa=d&&d.Tb||void 0,this.Ca=d&&d.useFetchStreams||!1,this.L=void 0,this.J=d&&d.supportsCrossDomainXhr||!1,this.K="",this.h=new b_(d&&d.concurrentRequestLimit),this.Da=new KO,this.P=d&&d.fastHandshake||!1,this.O=d&&d.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=d&&d.Rb||!1,d&&d.xa&&this.j.xa(),d&&d.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&d&&d.detectBufferingProxy||!1,this.ja=void 0,d&&d.longPollingTimeout&&0<d.longPollingTimeout&&(this.ja=d.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=B_.prototype,t.la=8,t.G=1,t.connect=function(d,w,T,R){cn(0),this.W=d,this.H=w||{},T&&R!==void 0&&(this.H.OSID=T,this.H.OAID=R),this.F=this.X,this.I=X_(this,null,this.W),rd(this)};function gm(d){if(W_(d),d.G==3){var w=d.U++,T=Yr(d.I);if(tt(T,"SID",d.K),tt(T,"RID",w),tt(T,"TYPE","terminate"),Ml(d,T),w=new Ai(d,d.j,w),w.L=2,w.v=Ju(Yr(T)),T=!1,a.navigator&&a.navigator.sendBeacon)try{T=a.navigator.sendBeacon(w.v.toString(),"")}catch{}!T&&a.Image&&(new Image().src=w.v,T=!0),T||(w.g=J_(w.j,null),w.g.ea(w.v)),w.F=Date.now(),Ku(w)}Q_(d)}function nd(d){d.g&&(ym(d),d.g.cancel(),d.g=null)}function W_(d){nd(d),d.u&&(a.clearTimeout(d.u),d.u=null),id(d),d.h.cancel(),d.s&&(typeof d.s=="number"&&a.clearTimeout(d.s),d.s=null)}function rd(d){if(!T_(d.h)&&!d.s){d.s=!0;var w=d.Ga;F||$(),L||(F(),L=!0),V.add(w,d),d.B=0}}function eL(d,w){return C_(d.h)>=d.h.j-(d.s?1:0)?!1:d.s?(d.i=w.D.concat(d.i),!0):d.G==1||d.G==2||d.B>=(d.Va?0:d.Wa)?!1:(d.s=Cl(h(d.Ga,d,w),K_(d,d.B)),d.B++,!0)}t.Ga=function(d){if(this.s)if(this.s=null,this.G==1){if(!d){this.U=Math.floor(1e5*Math.random()),d=this.U++;const j=new Ai(this,this.j,d);let U=this.o;if(this.S&&(U?(U=C(U),A(U,this.S)):U=this.S),this.m!==null||this.O||(j.H=U,U=null),this.P)e:{for(var w=0,T=0;T<this.i.length;T++){t:{var R=this.i[T];if("__data__"in R.map&&(R=R.map.__data__,typeof R=="string")){R=R.length;break t}R=void 0}if(R===void 0)break;if(w+=R,4096<w){w=T;break e}if(w===4096||T===this.i.length-1){w=T+1;break e}}w=1e3}else w=1e3;w=H_(this,j,w),T=Yr(this.I),tt(T,"RID",d),tt(T,"CVER",22),this.D&&tt(T,"X-HTTP-Session-Id",this.D),Ml(this,T),U&&(this.O?w="headers="+encodeURIComponent(String(L_(U)))+"&"+w:this.m&&mm(T,this.m,U)),pm(this.h,j),this.Ua&&tt(T,"TYPE","init"),this.P?(tt(T,"$req",w),tt(T,"SID","null"),j.T=!0,um(j,T,null)):um(j,T,w),this.G=2}}else this.G==3&&(d?z_(this,d):this.i.length==0||T_(this.h)||z_(this))};function z_(d,w){var T;w?T=w.l:T=d.U++;const R=Yr(d.I);tt(R,"SID",d.K),tt(R,"RID",T),tt(R,"AID",d.T),Ml(d,R),d.m&&d.o&&mm(R,d.m,d.o),T=new Ai(d,d.j,T,d.B+1),d.m===null&&(T.H=d.o),w&&(d.i=w.D.concat(d.i)),w=H_(d,T,1e3),T.I=Math.round(.5*d.wa)+Math.round(.5*d.wa*Math.random()),pm(d.h,T),um(T,R,w)}function Ml(d,w){d.H&&O(d.H,function(T,R){tt(w,R,T)}),d.l&&I_({},function(T,R){tt(w,R,T)})}function H_(d,w,T){T=Math.min(d.i.length,T);var R=d.l?h(d.l.Na,d.l,d):null;e:{var j=d.i;let U=-1;for(;;){const X=["count="+T];U==-1?0<T?(U=j[0].g,X.push("ofs="+U)):U=0:X.push("ofs="+U);let Ge=!0;for(let Ft=0;Ft<T;Ft++){let $e=j[Ft].g;const Yt=j[Ft].map;if($e-=U,0>$e)U=Math.max(0,j[Ft].g-100),Ge=!1;else try{QO(Yt,X,"req"+$e+"_")}catch{R&&R(Yt)}}if(Ge){R=X.join("&");break e}}}return d=d.i.splice(0,T),w.D=d,R}function q_(d){if(!d.g&&!d.u){d.Y=1;var w=d.Fa;F||$(),L||(F(),L=!0),V.add(w,d),d.v=0}}function vm(d){return d.g||d.u||3<=d.v?!1:(d.Y++,d.u=Cl(h(d.Fa,d),K_(d,d.v)),d.v++,!0)}t.Fa=function(){if(this.u=null,G_(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var d=2*this.R;this.j.info("BP detection timer enabled: "+d),this.A=Cl(h(this.ab,this),d)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,cn(10),nd(this),G_(this))};function ym(d){d.A!=null&&(a.clearTimeout(d.A),d.A=null)}function G_(d){d.g=new Ai(d,d.j,"rpc",d.Y),d.m===null&&(d.g.H=d.o),d.g.O=0;var w=Yr(d.qa);tt(w,"RID","rpc"),tt(w,"SID",d.K),tt(w,"AID",d.T),tt(w,"CI",d.F?"0":"1"),!d.F&&d.ja&&tt(w,"TO",d.ja),tt(w,"TYPE","xmlhttp"),Ml(d,w),d.m&&d.o&&mm(w,d.m,d.o),d.L&&(d.g.I=d.L);var T=d.g;d=d.ia,T.L=1,T.v=Ju(Yr(w)),T.m=null,T.P=!0,__(T,d)}t.Za=function(){this.C!=null&&(this.C=null,nd(this),vm(this),cn(19))};function id(d){d.C!=null&&(a.clearTimeout(d.C),d.C=null)}function Y_(d,w){var T=null;if(d.g==w){id(d),ym(d),d.g=null;var R=2}else if(hm(d.h,w))T=w.D,S_(d.h,w),R=1;else return;if(d.G!=0){if(w.o)if(R==1){T=w.m?w.m.length:0,w=Date.now()-w.F;var j=d.B;R=qu(),ln(R,new g_(R,T)),rd(d)}else q_(d);else if(j=w.s,j==3||j==0&&0<w.X||!(R==1&&eL(d,w)||R==2&&vm(d)))switch(T&&0<T.length&&(w=d.h,w.i=w.i.concat(T)),j){case 1:Ho(d,5);break;case 4:Ho(d,10);break;case 3:Ho(d,6);break;default:Ho(d,2)}}}function K_(d,w){let T=d.Ta+Math.floor(Math.random()*d.cb);return d.isActive()||(T*=2),T*w}function Ho(d,w){if(d.j.info("Error code "+w),w==2){var T=h(d.fb,d),R=d.Xa;const j=!R;R=new zo(R||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Qu(R,"https"),Ju(R),j?GO(R.toString(),T):YO(R.toString(),T)}else cn(2);d.G=0,d.l&&d.l.sa(w),Q_(d),W_(d)}t.fb=function(d){d?(this.j.info("Successfully pinged google.com"),cn(2)):(this.j.info("Failed to ping google.com"),cn(1))};function Q_(d){if(d.G=0,d.ka=[],d.l){const w=P_(d.h);(w.length!=0||d.i.length!=0)&&(E(d.ka,w),E(d.ka,d.i),d.h.i.length=0,v(d.i),d.i.length=0),d.l.ra()}}function X_(d,w,T){var R=T instanceof zo?Yr(T):new zo(T);if(R.g!="")w&&(R.g=w+"."+R.g),Xu(R,R.s);else{var j=a.location;R=j.protocol,w=w?w+"."+j.hostname:j.hostname,j=+j.port;var U=new zo(null);R&&Qu(U,R),w&&(U.g=w),j&&Xu(U,j),T&&(U.l=T),R=U}return T=d.D,w=d.ya,T&&w&&tt(R,T,w),tt(R,"VER",d.la),Ml(d,R),R}function J_(d,w,T){if(w&&!d.J)throw Error("Can't create secondary domain capable XhrIo object.");return w=d.Ca&&!d.pa?new mt(new Zu({eb:T})):new mt(d.pa),w.Ha(d.J),w}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Z_(){}t=Z_.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function od(){}od.prototype.g=function(d,w){return new In(d,w)};function In(d,w){Gt.call(this),this.g=new B_(w),this.l=d,this.h=w&&w.messageUrlParams||null,d=w&&w.messageHeaders||null,w&&w.clientProtocolHeaderRequired&&(d?d["X-Client-Protocol"]="webchannel":d={"X-Client-Protocol":"webchannel"}),this.g.o=d,d=w&&w.initMessageHeaders||null,w&&w.messageContentType&&(d?d["X-WebChannel-Content-Type"]=w.messageContentType:d={"X-WebChannel-Content-Type":w.messageContentType}),w&&w.va&&(d?d["X-WebChannel-Client-Profile"]=w.va:d={"X-WebChannel-Client-Profile":w.va}),this.g.S=d,(d=w&&w.Sb)&&!y(d)&&(this.g.m=d),this.v=w&&w.supportsCrossDomainXhr||!1,this.u=w&&w.sendRawJson||!1,(w=w&&w.httpSessionIdParam)&&!y(w)&&(this.g.D=w,d=this.h,d!==null&&w in d&&(d=this.h,w in d&&delete d[w])),this.j=new js(this)}_(In,Gt),In.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},In.prototype.close=function(){gm(this.g)},In.prototype.o=function(d){var w=this.g;if(typeof d=="string"){var T={};T.__data__=d,d=T}else this.u&&(T={},T.__data__=im(d),d=T);w.i.push(new VO(w.Ya++,d)),w.G==3&&rd(w)},In.prototype.N=function(){this.g.l=null,delete this.j,gm(this.g),delete this.g,In.aa.N.call(this)};function ex(d){sm.call(this),d.__headers__&&(this.headers=d.__headers__,this.statusCode=d.__status__,delete d.__headers__,delete d.__status__);var w=d.__sm__;if(w){e:{for(const T in w){d=T;break e}d=void 0}(this.i=d)&&(d=this.i,w=w!==null&&d in w?w[d]:void 0),this.data=w}else this.data=d}_(ex,sm);function tx(){am.call(this),this.status=1}_(tx,am);function js(d){this.g=d}_(js,Z_),js.prototype.ua=function(){ln(this.g,"a")},js.prototype.ta=function(d){ln(this.g,new ex(d))},js.prototype.sa=function(d){ln(this.g,new tx)},js.prototype.ra=function(){ln(this.g,"b")},od.prototype.createWebChannel=od.prototype.g,In.prototype.send=In.prototype.o,In.prototype.open=In.prototype.m,In.prototype.close=In.prototype.close,eA=function(){return new od},ZI=function(){return qu()},JI=Bo,Gv={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Gu.NO_ERROR=0,Gu.TIMEOUT=8,Gu.HTTP_ERROR=6,sf=Gu,v_.COMPLETE="complete",XI=v_,f_.EventType=bl,bl.OPEN="a",bl.CLOSE="b",bl.ERROR="c",bl.MESSAGE="d",Gt.prototype.listen=Gt.prototype.K,tc=f_,mt.prototype.listenOnce=mt.prototype.L,mt.prototype.getLastError=mt.prototype.Ka,mt.prototype.getLastErrorCode=mt.prototype.Ba,mt.prototype.getStatus=mt.prototype.Z,mt.prototype.getResponseJson=mt.prototype.Oa,mt.prototype.getResponseText=mt.prototype.oa,mt.prototype.send=mt.prototype.ea,mt.prototype.setWithCredentials=mt.prototype.Ha,QI=mt}).apply(typeof Td<"u"?Td:typeof self<"u"?self:typeof window<"u"?window:{});const kE="@firebase/firestore",NE="4.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class en{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}en.UNAUTHENTICATED=new en(null),en.GOOGLE_CREDENTIALS=new en("google-credentials-uid"),en.FIRST_PARTY=new en("first-party-uid"),en.MOCK_USER=new en("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ll="12.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gs=new q0("@firebase/firestore");function Ys(){return gs.logLevel}function te(t,...e){if(gs.logLevel<=Re.DEBUG){const n=e.map(K0);gs.debug(`Firestore (${ll}): ${t}`,...n)}}function gi(t,...e){if(gs.logLevel<=Re.ERROR){const n=e.map(K0);gs.error(`Firestore (${ll}): ${t}`,...n)}}function ja(t,...e){if(gs.logLevel<=Re.WARN){const n=e.map(K0);gs.warn(`Firestore (${ll}): ${t}`,...n)}}function K0(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ge(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,tA(t,r,n)}function tA(t,e,n){let r=`FIRESTORE (${ll}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw gi(r),new Error(r)}function We(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||tA(e,i,r)}function xe(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Z extends Pi{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class si{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nA{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class h3{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(en.UNAUTHENTICATED))}shutdown(){}}class p3{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class m3{constructor(e){this.t=e,this.currentUser=en.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){We(this.o===void 0,42304);let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let o=new si;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new si,e.enqueueRetryable(()=>i(this.currentUser))};const s=()=>{const l=o;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{te("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(te("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new si)}},0),s()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(te("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(We(typeof r.accessToken=="string",31837,{l:r}),new nA(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return We(e===null||typeof e=="string",2055,{h:e}),new en(e)}}class g3{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=en.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class v3{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new g3(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(en.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class DE{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class y3{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,zn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){We(this.o===void 0,3512);const r=o=>{o.error!=null&&te("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const s=o.token!==this.m;return this.m=o.token,te("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const i=o=>{te("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){const o=this.V.getImmediate({optional:!0});o?i(o):te("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new DE(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(We(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new DE(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w3(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q0{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=w3(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%62))}return r}}function ke(t,e){return t<e?-1:t>e?1:0}function Yv(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const i=t.charAt(r),o=e.charAt(r);if(i!==o)return Jm(i)===Jm(o)?ke(i,o):Jm(i)?1:-1}return ke(t.length,e.length)}const _3=55296,x3=57343;function Jm(t){const e=t.charCodeAt(0);return e>=_3&&e<=x3}function Fa(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ME="__name__";class Er{constructor(e,n,r){n===void 0?n=0:n>e.length&&ge(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&ge(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Er.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Er?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const o=Er.compareSegments(e.get(i),n.get(i));if(o!==0)return o}return ke(e.length,n.length)}static compareSegments(e,n){const r=Er.isNumericId(e),i=Er.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?Er.extractNumericId(e).compare(Er.extractNumericId(n)):Yv(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return fo.fromString(e.substring(4,e.length-2))}}class Qe extends Er{construct(e,n,r){return new Qe(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Z(z.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Qe(n)}static emptyPath(){return new Qe([])}}const E3=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Bt extends Er{construct(e,n,r){return new Bt(e,n,r)}static isValidIdentifier(e){return E3.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Bt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===ME}static keyField(){return new Bt([ME])}static fromServerFormat(e){const n=[];let r="",i=0;const o=()=>{if(r.length===0)throw new Z(z.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let s=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new Z(z.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new Z(z.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(s=!s,i++):a!=="."||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new Z(z.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Bt(n)}static emptyPath(){return new Bt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ue{constructor(e){this.path=e}static fromPath(e){return new ue(Qe.fromString(e))}static fromName(e){return new ue(Qe.fromString(e).popFirst(5))}static empty(){return new ue(Qe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Qe.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Qe.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ue(new Qe(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rA(t,e,n){if(!n)throw new Z(z.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function b3(t,e,n,r){if(e===!0&&r===!0)throw new Z(z.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function OE(t){if(!ue.isDocumentKey(t))throw new Z(z.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function LE(t){if(ue.isDocumentKey(t))throw new Z(z.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function iA(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function ep(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ge(12329,{type:typeof t})}function vi(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Z(z.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=ep(t);throw new Z(z.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function It(t,e){const n={typeString:t};return e&&(n.value=e),n}function xu(t,e){if(!iA(t))throw new Z(z.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const i=e[r].typeString,o="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const s=t[r];if(i&&typeof s!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(o!==void 0&&s!==o.value){n=`Expected '${r}' field to equal '${o.value}'`;break}}if(n)throw new Z(z.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VE=-62135596800,jE=1e6;class it{static now(){return it.fromMillis(Date.now())}static fromDate(e){return it.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*jE);return new it(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Z(z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Z(z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<VE)throw new Z(z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Z(z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/jE}_compareTo(e){return this.seconds===e.seconds?ke(this.nanoseconds,e.nanoseconds):ke(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:it._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(xu(e,it._jsonSchema))return new it(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-VE;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}it._jsonSchemaVersion="firestore/timestamp/1.0",it._jsonSchema={type:It("string",it._jsonSchemaVersion),seconds:It("number"),nanoseconds:It("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _e{static fromTimestamp(e){return new _e(e)}static min(){return new _e(new it(0,0))}static max(){return new _e(new it(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kc=-1;function T3(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=_e.fromTimestamp(r===1e9?new it(n+1,0):new it(n,r));return new xo(i,ue.empty(),e)}function C3(t){return new xo(t.readTime,t.key,Kc)}class xo{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new xo(_e.min(),ue.empty(),Kc)}static max(){return new xo(_e.max(),ue.empty(),Kc)}}function S3(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ue.comparator(t.documentKey,e.documentKey),n!==0?n:ke(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P3="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class I3{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cl(t){if(t.code!==z.FAILED_PRECONDITION||t.message!==P3)throw t;te("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ge(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new H((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof H?n:H.resolve(n)}catch(n){return H.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):H.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):H.reject(n)}static resolve(e){return new H((n,r)=>{n(e)})}static reject(e){return new H((n,r)=>{r(e)})}static waitFor(e){return new H((n,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&n()},l=>r(l))}),s=!0,o===i&&n()})}static or(e){let n=H.resolve(!1);for(const r of e)n=n.next(i=>i?H.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(e,n){return new H((r,i)=>{const o=e.length,s=new Array(o);let a=0;for(let l=0;l<o;l++){const c=l;n(e[c]).next(u=>{s[c]=u,++a,a===o&&r(s)},u=>i(u))}})}static doWhile(e,n){return new H((r,i)=>{const o=()=>{e()===!0?n().next(()=>{o()},i):r()};o()})}}function A3(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function ul(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tp{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}tp.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X0=-1;function np(t){return t==null}function Qf(t){return t===0&&1/t==-1/0}function R3(t){return typeof t=="number"&&Number.isInteger(t)&&!Qf(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oA="";function k3(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=FE(e)),e=N3(t.get(n),e);return FE(e)}function N3(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const o=t.charAt(i);switch(o){case"\0":n+="";break;case oA:n+="";break;default:n+=o}}return n}function FE(t){return t+oA+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $E(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Lo(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function sA(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pt{constructor(e,n){this.comparator=e,this.root=n||Ut.EMPTY}insert(e,n){return new pt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Ut.BLACK,null,null))}remove(e){return new pt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ut.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Cd(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Cd(this.root,e,this.comparator,!1)}getReverseIterator(){return new Cd(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Cd(this.root,e,this.comparator,!0)}}class Cd{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ut{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??Ut.RED,this.left=i??Ut.EMPTY,this.right=o??Ut.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new Ut(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Ut.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Ut.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ut.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ut.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ge(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ge(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw ge(27949);return e+(this.isRed()?0:1)}}Ut.EMPTY=null,Ut.RED=!0,Ut.BLACK=!1;Ut.EMPTY=new class{constructor(){this.size=0}get key(){throw ge(57766)}get value(){throw ge(16141)}get color(){throw ge(16727)}get left(){throw ge(29726)}get right(){throw ge(36894)}copy(e,n,r,i,o){return this}insert(e,n,r){return new Ut(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nt{constructor(e){this.comparator=e,this.data=new pt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new UE(this.data.getIterator())}getIteratorFrom(e){return new UE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Nt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Nt(this.comparator);return n.data=e,n}}class UE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dn{constructor(e){this.fields=e,e.sort(Bt.comparator)}static empty(){return new Dn([])}unionWith(e){let n=new Nt(Bt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Dn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Fa(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aA extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new aA("Invalid base64 string: "+o):o}}(e);return new qt(n)}static fromUint8Array(e){const n=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new qt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ke(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}qt.EMPTY_BYTE_STRING=new qt("");const D3=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Eo(t){if(We(!!t,39018),typeof t=="string"){let e=0;const n=D3.exec(t);if(We(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:wt(t.seconds),nanos:wt(t.nanos)}}function wt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function bo(t){return typeof t=="string"?qt.fromBase64String(t):qt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lA="server_timestamp",cA="__type__",uA="__previous_value__",dA="__local_write_time__";function J0(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[cA])==null?void 0:r.stringValue)===lA}function rp(t){const e=t.mapValue.fields[uA];return J0(e)?rp(e):e}function Qc(t){const e=Eo(t.mapValue.fields[dA].timestampValue);return new it(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M3{constructor(e,n,r,i,o,s,a,l,c,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=c,this.isUsingEmulator=u}}const Xf="(default)";class Xc{constructor(e,n){this.projectId=e,this.database=n||Xf}static empty(){return new Xc("","")}get isDefaultDatabase(){return this.database===Xf}isEqual(e){return e instanceof Xc&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fA="__type__",hA="__max__",Sd={mapValue:{fields:{__type__:{stringValue:hA}}}},pA="__vector__",Jf="value";function To(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?J0(t)?4:L3(t)?9007199254740991:O3(t)?10:11:ge(28295,{value:t})}function $r(t,e){if(t===e)return!0;const n=To(t);if(n!==To(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Qc(t).isEqual(Qc(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;const s=Eo(i.timestampValue),a=Eo(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,o){return bo(i.bytesValue).isEqual(bo(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,o){return wt(i.geoPointValue.latitude)===wt(o.geoPointValue.latitude)&&wt(i.geoPointValue.longitude)===wt(o.geoPointValue.longitude)}(t,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return wt(i.integerValue)===wt(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){const s=wt(i.doubleValue),a=wt(o.doubleValue);return s===a?Qf(s)===Qf(a):isNaN(s)&&isNaN(a)}return!1}(t,e);case 9:return Fa(t.arrayValue.values||[],e.arrayValue.values||[],$r);case 10:case 11:return function(i,o){const s=i.mapValue.fields||{},a=o.mapValue.fields||{};if($E(s)!==$E(a))return!1;for(const l in s)if(s.hasOwnProperty(l)&&(a[l]===void 0||!$r(s[l],a[l])))return!1;return!0}(t,e);default:return ge(52216,{left:t})}}function Jc(t,e){return(t.values||[]).find(n=>$r(n,e))!==void 0}function $a(t,e){if(t===e)return 0;const n=To(t),r=To(e);if(n!==r)return ke(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ke(t.booleanValue,e.booleanValue);case 2:return function(o,s){const a=wt(o.integerValue||o.doubleValue),l=wt(s.integerValue||s.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return BE(t.timestampValue,e.timestampValue);case 4:return BE(Qc(t),Qc(e));case 5:return Yv(t.stringValue,e.stringValue);case 6:return function(o,s){const a=bo(o),l=bo(s);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(o,s){const a=o.split("/"),l=s.split("/");for(let c=0;c<a.length&&c<l.length;c++){const u=ke(a[c],l[c]);if(u!==0)return u}return ke(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,s){const a=ke(wt(o.latitude),wt(s.latitude));return a!==0?a:ke(wt(o.longitude),wt(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return WE(t.arrayValue,e.arrayValue);case 10:return function(o,s){var h,g,_,v;const a=o.fields||{},l=s.fields||{},c=(h=a[Jf])==null?void 0:h.arrayValue,u=(g=l[Jf])==null?void 0:g.arrayValue,f=ke(((_=c==null?void 0:c.values)==null?void 0:_.length)||0,((v=u==null?void 0:u.values)==null?void 0:v.length)||0);return f!==0?f:WE(c,u)}(t.mapValue,e.mapValue);case 11:return function(o,s){if(o===Sd.mapValue&&s===Sd.mapValue)return 0;if(o===Sd.mapValue)return 1;if(s===Sd.mapValue)return-1;const a=o.fields||{},l=Object.keys(a),c=s.fields||{},u=Object.keys(c);l.sort(),u.sort();for(let f=0;f<l.length&&f<u.length;++f){const h=Yv(l[f],u[f]);if(h!==0)return h;const g=$a(a[l[f]],c[u[f]]);if(g!==0)return g}return ke(l.length,u.length)}(t.mapValue,e.mapValue);default:throw ge(23264,{he:n})}}function BE(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ke(t,e);const n=Eo(t),r=Eo(e),i=ke(n.seconds,r.seconds);return i!==0?i:ke(n.nanos,r.nanos)}function WE(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const o=$a(n[i],r[i]);if(o)return o}return ke(n.length,r.length)}function Ua(t){return Kv(t)}function Kv(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Eo(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return bo(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return ue.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const o of n.values||[])i?i=!1:r+=",",r+=Kv(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",o=!0;for(const s of r)o?o=!1:i+=",",i+=`${s}:${Kv(n.fields[s])}`;return i+"}"}(t.mapValue):ge(61005,{value:t})}function af(t){switch(To(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=rp(t);return e?16+af(e):16;case 5:return 2*t.stringValue.length;case 6:return bo(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,o)=>i+af(o),0)}(t.arrayValue);case 10:case 11:return function(r){let i=0;return Lo(r.fields,(o,s)=>{i+=o.length+af(s)}),i}(t.mapValue);default:throw ge(13486,{value:t})}}function zE(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Qv(t){return!!t&&"integerValue"in t}function Z0(t){return!!t&&"arrayValue"in t}function HE(t){return!!t&&"nullValue"in t}function qE(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function lf(t){return!!t&&"mapValue"in t}function O3(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[fA])==null?void 0:r.stringValue)===pA}function gc(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return Lo(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=gc(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=gc(t.arrayValue.values[n]);return e}return{...t}}function L3(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===hA}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wn{constructor(e){this.value=e}static empty(){return new wn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!lf(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=gc(n)}setAll(e){let n=Bt.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}s?r[a.lastSegment()]=gc(s):i.push(a.lastSegment())});const o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){const n=this.field(e.popLast());lf(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return $r(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];lf(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Lo(n,(i,o)=>e[i]=o);for(const i of r)delete e[i]}clone(){return new wn(gc(this.value))}}function mA(t){const e=[];return Lo(t.fields,(n,r)=>{const i=new Bt([n]);if(lf(r)){const o=mA(r.mapValue).fields;if(o.length===0)e.push(i);else for(const s of o)e.push(i.child(s))}else e.push(i)}),new Dn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nn{constructor(e,n,r,i,o,s,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new nn(e,0,_e.min(),_e.min(),_e.min(),wn.empty(),0)}static newFoundDocument(e,n,r,i){return new nn(e,1,n,_e.min(),r,i,0)}static newNoDocument(e,n){return new nn(e,2,n,_e.min(),_e.min(),wn.empty(),0)}static newUnknownDocument(e,n){return new nn(e,3,n,_e.min(),_e.min(),wn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(_e.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=wn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=wn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=_e.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof nn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new nn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zf{constructor(e,n){this.position=e,this.inclusive=n}}function GE(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const o=e[i],s=t.position[i];if(o.field.isKeyField()?r=ue.comparator(ue.fromName(s.referenceValue),n.key):r=$a(s,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function YE(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!$r(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eh{constructor(e,n="asc"){this.field=e,this.dir=n}}function V3(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gA{}class Pt extends gA{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new F3(e,n,r):n==="array-contains"?new B3(e,r):n==="in"?new W3(e,r):n==="not-in"?new z3(e,r):n==="array-contains-any"?new H3(e,r):new Pt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new $3(e,r):new U3(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison($a(n,this.value)):n!==null&&To(this.value)===To(n)&&this.matchesComparison($a(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ge(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class dr extends gA{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new dr(e,n)}matches(e){return vA(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function vA(t){return t.op==="and"}function yA(t){return j3(t)&&vA(t)}function j3(t){for(const e of t.filters)if(e instanceof dr)return!1;return!0}function Xv(t){if(t instanceof Pt)return t.field.canonicalString()+t.op.toString()+Ua(t.value);if(yA(t))return t.filters.map(e=>Xv(e)).join(",");{const e=t.filters.map(n=>Xv(n)).join(",");return`${t.op}(${e})`}}function wA(t,e){return t instanceof Pt?function(r,i){return i instanceof Pt&&r.op===i.op&&r.field.isEqual(i.field)&&$r(r.value,i.value)}(t,e):t instanceof dr?function(r,i){return i instanceof dr&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,a)=>o&&wA(s,i.filters[a]),!0):!1}(t,e):void ge(19439)}function _A(t){return t instanceof Pt?function(n){return`${n.field.canonicalString()} ${n.op} ${Ua(n.value)}`}(t):t instanceof dr?function(n){return n.op.toString()+" {"+n.getFilters().map(_A).join(" ,")+"}"}(t):"Filter"}class F3 extends Pt{constructor(e,n,r){super(e,n,r),this.key=ue.fromName(r.referenceValue)}matches(e){const n=ue.comparator(e.key,this.key);return this.matchesComparison(n)}}class $3 extends Pt{constructor(e,n){super(e,"in",n),this.keys=xA("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class U3 extends Pt{constructor(e,n){super(e,"not-in",n),this.keys=xA("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function xA(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map(r=>ue.fromName(r.referenceValue))}class B3 extends Pt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Z0(n)&&Jc(n.arrayValue,this.value)}}class W3 extends Pt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Jc(this.value.arrayValue,n)}}class z3 extends Pt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Jc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Jc(this.value.arrayValue,n)}}class H3 extends Pt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Z0(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Jc(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q3{constructor(e,n=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.Te=null}}function KE(t,e=null,n=[],r=[],i=null,o=null,s=null){return new q3(t,e,n,r,i,o,s)}function ew(t){const e=xe(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Xv(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),np(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Ua(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Ua(r)).join(",")),e.Te=n}return e.Te}function tw(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!V3(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!wA(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!YE(t.startAt,e.startAt)&&YE(t.endAt,e.endAt)}function Jv(t){return ue.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eu{constructor(e,n=null,r=[],i=[],o=null,s="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=l,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function G3(t,e,n,r,i,o,s,a){return new Eu(t,e,n,r,i,o,s,a)}function nw(t){return new Eu(t)}function QE(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function EA(t){return t.collectionGroup!==null}function vc(t){const e=xe(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const o of e.explicitOrderBy)e.Ie.push(o),n.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new Nt(Bt.comparator);return s.filters.forEach(l=>{l.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.Ie.push(new eh(o,r))}),n.has(Bt.keyField().canonicalString())||e.Ie.push(new eh(Bt.keyField(),r))}return e.Ie}function kr(t){const e=xe(t);return e.Ee||(e.Ee=Y3(e,vc(t))),e.Ee}function Y3(t,e){if(t.limitType==="F")return KE(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const o=i.dir==="desc"?"asc":"desc";return new eh(i.field,o)});const n=t.endAt?new Zf(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Zf(t.startAt.position,t.startAt.inclusive):null;return KE(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Zv(t,e){const n=t.filters.concat([e]);return new Eu(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function ey(t,e,n){return new Eu(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function ip(t,e){return tw(kr(t),kr(e))&&t.limitType===e.limitType}function bA(t){return`${ew(kr(t))}|lt:${t.limitType}`}function Ks(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>_A(i)).join(", ")}]`),np(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Ua(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Ua(i)).join(",")),`Target(${r})`}(kr(t))}; limitType=${t.limitType})`}function op(t,e){return e.isFoundDocument()&&function(r,i){const o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):ue.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(t,e)&&function(r,i){for(const o of vc(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const o of r.filters)if(!o.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(s,a,l){const c=GE(s,a,l);return s.inclusive?c<=0:c<0}(r.startAt,vc(r),i)||r.endAt&&!function(s,a,l){const c=GE(s,a,l);return s.inclusive?c>=0:c>0}(r.endAt,vc(r),i))}(t,e)}function K3(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function TA(t){return(e,n)=>{let r=!1;for(const i of vc(t)){const o=Q3(i,e,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function Q3(t,e,n){const r=t.field.isKeyField()?ue.comparator(e.key,n.key):function(o,s,a){const l=s.data.field(o),c=a.data.field(o);return l!==null&&c!==null?$a(l,c):ge(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return ge(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Is{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Lo(this.inner,(n,r)=>{for(const[i,o]of r)e(i,o)})}isEmpty(){return sA(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X3=new pt(ue.comparator);function yi(){return X3}const CA=new pt(ue.comparator);function nc(...t){let e=CA;for(const n of t)e=e.insert(n.key,n);return e}function SA(t){let e=CA;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function rs(){return yc()}function PA(){return yc()}function yc(){return new Is(t=>t.toString(),(t,e)=>t.isEqual(e))}const J3=new pt(ue.comparator),Z3=new Nt(ue.comparator);function Ne(...t){let e=Z3;for(const n of t)e=e.add(n);return e}const eF=new Nt(ke);function tF(){return eF}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rw(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Qf(e)?"-0":e}}function IA(t){return{integerValue:""+t}}function nF(t,e){return R3(e)?IA(e):rw(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sp{constructor(){this._=void 0}}function rF(t,e,n){return t instanceof th?function(i,o){const s={fields:{[cA]:{stringValue:lA},[dA]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&J0(o)&&(o=rp(o)),o&&(s.fields[uA]=o),{mapValue:s}}(n,e):t instanceof Zc?RA(t,e):t instanceof eu?kA(t,e):function(i,o){const s=AA(i,o),a=XE(s)+XE(i.Ae);return Qv(s)&&Qv(i.Ae)?IA(a):rw(i.serializer,a)}(t,e)}function iF(t,e,n){return t instanceof Zc?RA(t,e):t instanceof eu?kA(t,e):n}function AA(t,e){return t instanceof nh?function(r){return Qv(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}class th extends sp{}class Zc extends sp{constructor(e){super(),this.elements=e}}function RA(t,e){const n=NA(e);for(const r of t.elements)n.some(i=>$r(i,r))||n.push(r);return{arrayValue:{values:n}}}class eu extends sp{constructor(e){super(),this.elements=e}}function kA(t,e){let n=NA(e);for(const r of t.elements)n=n.filter(i=>!$r(i,r));return{arrayValue:{values:n}}}class nh extends sp{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function XE(t){return wt(t.integerValue||t.doubleValue)}function NA(t){return Z0(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function oF(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Zc&&i instanceof Zc||r instanceof eu&&i instanceof eu?Fa(r.elements,i.elements,$r):r instanceof nh&&i instanceof nh?$r(r.Ae,i.Ae):r instanceof th&&i instanceof th}(t.transform,e.transform)}class sF{constructor(e,n){this.version=e,this.transformResults=n}}class cr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new cr}static exists(e){return new cr(void 0,e)}static updateTime(e){return new cr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function cf(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class ap{}function DA(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new iw(t.key,cr.none()):new bu(t.key,t.data,cr.none());{const n=t.data,r=wn.empty();let i=new Nt(Bt.comparator);for(let o of e.fields)if(!i.has(o)){let s=n.field(o);s===null&&o.length>1&&(o=o.popLast(),s=n.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new Vo(t.key,r,new Dn(i.toArray()),cr.none())}}function aF(t,e,n){t instanceof bu?function(i,o,s){const a=i.value.clone(),l=ZE(i.fieldTransforms,o,s.transformResults);a.setAll(l),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Vo?function(i,o,s){if(!cf(i.precondition,o))return void o.convertToUnknownDocument(s.version);const a=ZE(i.fieldTransforms,o,s.transformResults),l=o.data;l.setAll(MA(i)),l.setAll(a),o.convertToFoundDocument(s.version,l).setHasCommittedMutations()}(t,e,n):function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function wc(t,e,n,r){return t instanceof bu?function(o,s,a,l){if(!cf(o.precondition,s))return a;const c=o.value.clone(),u=eb(o.fieldTransforms,l,s);return c.setAll(u),s.convertToFoundDocument(s.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof Vo?function(o,s,a,l){if(!cf(o.precondition,s))return a;const c=eb(o.fieldTransforms,l,s),u=s.data;return u.setAll(MA(o)),u.setAll(c),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),a===null?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(f=>f.field))}(t,e,n,r):function(o,s,a){return cf(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a}(t,e,n)}function lF(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),o=AA(r.transform,i||null);o!=null&&(n===null&&(n=wn.empty()),n.set(r.field,o))}return n||null}function JE(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Fa(r,i,(o,s)=>oF(o,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class bu extends ap{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Vo extends ap{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function MA(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function ZE(t,e,n){const r=new Map;We(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let i=0;i<n.length;i++){const o=t[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,iF(s,a,n[i]))}return r}function eb(t,e,n){const r=new Map;for(const i of t){const o=i.transform,s=n.data.field(i.field);r.set(i.field,rF(o,s,e))}return r}class iw extends ap{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class cF extends ap{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uF{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&aF(o,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=wc(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=wc(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=PA();return this.mutations.forEach(i=>{const o=e.get(i.key),s=o.overlayedDocument;let a=this.applyToLocalView(s,o.mutatedFields);a=n.has(i.key)?null:a;const l=DA(s,a);l!==null&&r.set(i.key,l),s.isValidDocument()||s.convertToNoDocument(_e.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Ne())}isEqual(e){return this.batchId===e.batchId&&Fa(this.mutations,e.mutations,(n,r)=>JE(n,r))&&Fa(this.baseMutations,e.baseMutations,(n,r)=>JE(n,r))}}class ow{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){We(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let i=function(){return J3}();const o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new ow(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let dF=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fF{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Tt,Le;function hF(t){switch(t){case z.OK:return ge(64938);case z.CANCELLED:case z.UNKNOWN:case z.DEADLINE_EXCEEDED:case z.RESOURCE_EXHAUSTED:case z.INTERNAL:case z.UNAVAILABLE:case z.UNAUTHENTICATED:return!1;case z.INVALID_ARGUMENT:case z.NOT_FOUND:case z.ALREADY_EXISTS:case z.PERMISSION_DENIED:case z.FAILED_PRECONDITION:case z.ABORTED:case z.OUT_OF_RANGE:case z.UNIMPLEMENTED:case z.DATA_LOSS:return!0;default:return ge(15467,{code:t})}}function OA(t){if(t===void 0)return gi("GRPC error has no .code"),z.UNKNOWN;switch(t){case Tt.OK:return z.OK;case Tt.CANCELLED:return z.CANCELLED;case Tt.UNKNOWN:return z.UNKNOWN;case Tt.DEADLINE_EXCEEDED:return z.DEADLINE_EXCEEDED;case Tt.RESOURCE_EXHAUSTED:return z.RESOURCE_EXHAUSTED;case Tt.INTERNAL:return z.INTERNAL;case Tt.UNAVAILABLE:return z.UNAVAILABLE;case Tt.UNAUTHENTICATED:return z.UNAUTHENTICATED;case Tt.INVALID_ARGUMENT:return z.INVALID_ARGUMENT;case Tt.NOT_FOUND:return z.NOT_FOUND;case Tt.ALREADY_EXISTS:return z.ALREADY_EXISTS;case Tt.PERMISSION_DENIED:return z.PERMISSION_DENIED;case Tt.FAILED_PRECONDITION:return z.FAILED_PRECONDITION;case Tt.ABORTED:return z.ABORTED;case Tt.OUT_OF_RANGE:return z.OUT_OF_RANGE;case Tt.UNIMPLEMENTED:return z.UNIMPLEMENTED;case Tt.DATA_LOSS:return z.DATA_LOSS;default:return ge(39323,{code:t})}}(Le=Tt||(Tt={}))[Le.OK=0]="OK",Le[Le.CANCELLED=1]="CANCELLED",Le[Le.UNKNOWN=2]="UNKNOWN",Le[Le.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Le[Le.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Le[Le.NOT_FOUND=5]="NOT_FOUND",Le[Le.ALREADY_EXISTS=6]="ALREADY_EXISTS",Le[Le.PERMISSION_DENIED=7]="PERMISSION_DENIED",Le[Le.UNAUTHENTICATED=16]="UNAUTHENTICATED",Le[Le.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Le[Le.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Le[Le.ABORTED=10]="ABORTED",Le[Le.OUT_OF_RANGE=11]="OUT_OF_RANGE",Le[Le.UNIMPLEMENTED=12]="UNIMPLEMENTED",Le[Le.INTERNAL=13]="INTERNAL",Le[Le.UNAVAILABLE=14]="UNAVAILABLE",Le[Le.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pF(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mF=new fo([4294967295,4294967295],0);function tb(t){const e=pF().encode(t),n=new KI;return n.update(e),new Uint8Array(n.digest())}function nb(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new fo([n,r],0),new fo([i,o],0)]}class sw{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new rc(`Invalid padding: ${n}`);if(r<0)throw new rc(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new rc(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new rc(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=fo.fromNumber(this.ge)}ye(e,n,r){let i=e.add(n.multiply(fo.fromNumber(r)));return i.compare(mF)===1&&(i=new fo([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=tb(e),[r,i]=nb(n);for(let o=0;o<this.hashCount;o++){const s=this.ye(r,i,o);if(!this.we(s))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new sw(o,i,n);return r.forEach(a=>s.insert(a)),s}insert(e){if(this.ge===0)return;const n=tb(e),[r,i]=nb(n);for(let o=0;o<this.hashCount;o++){const s=this.ye(r,i,o);this.Se(s)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class rc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lp{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Tu.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new lp(_e.min(),i,new pt(ke),yi(),Ne())}}class Tu{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Tu(r,n,Ne(),Ne(),Ne())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uf{constructor(e,n,r,i){this.be=e,this.removedTargetIds=n,this.key=r,this.De=i}}class LA{constructor(e,n){this.targetId=e,this.Ce=n}}class VA{constructor(e,n,r=qt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class rb{constructor(){this.ve=0,this.Fe=ib(),this.Me=qt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Ne(),n=Ne(),r=Ne();return this.Fe.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:ge(38017,{changeType:o})}}),new Tu(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=ib()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,We(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class gF{constructor(e){this.Ge=e,this.ze=new Map,this.je=yi(),this.Je=Pd(),this.He=Pd(),this.Ye=new pt(ke)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:ge(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach((r,i)=>{this.rt(i)&&n(i)})}st(e){const n=e.targetId,r=e.Ce.count,i=this.ot(n);if(i){const o=i.target;if(Jv(o))if(r===0){const s=new ue(o.path);this.et(n,s,nn.newNoDocument(s,_e.min()))}else We(r===1,20013,{expectedCount:r});else{const s=this._t(n);if(s!==r){const a=this.ut(e),l=a?this.ct(a,e,s):1;if(l!==0){this.it(n);const c=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,c)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=n;let s,a;try{s=bo(r).toUint8Array()}catch(l){if(l instanceof aA)return ja("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new sw(s,i,o)}catch(l){return ja(l instanceof rc?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.ge===0?null:a}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let i=0;return r.forEach(o=>{const s=this.Ge.ht(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.et(n,o,null),i++)}),i}Tt(e){const n=new Map;this.ze.forEach((o,s)=>{const a=this.ot(s);if(a){if(o.current&&Jv(a.target)){const l=new ue(a.target.path);this.It(l).has(s)||this.Et(s,l)||this.et(s,l,nn.newNoDocument(l,e))}o.Be&&(n.set(s,o.ke()),o.qe())}});let r=Ne();this.He.forEach((o,s)=>{let a=!0;s.forEachWhile(l=>{const c=this.ot(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(o))}),this.je.forEach((o,s)=>s.setReadTime(e));const i=new lp(e,n,this.Ye,this.je,r);return this.je=yi(),this.Je=Pd(),this.He=Pd(),this.Ye=new pt(ke),i}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const i=this.nt(e);this.Et(e,n)?i.Qe(n,1):i.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new rb,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new Nt(ke),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new Nt(ke),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||te("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new rb),this.Ge.getRemoteKeysForTarget(e).forEach(n=>{this.et(e,n,null)})}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Pd(){return new pt(ue.comparator)}function ib(){return new pt(ue.comparator)}const vF=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),yF=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),wF=(()=>({and:"AND",or:"OR"}))();class _F{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function ty(t,e){return t.useProto3Json||np(e)?e:{value:e}}function rh(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function jA(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function xF(t,e){return rh(t,e.toTimestamp())}function Nr(t){return We(!!t,49232),_e.fromTimestamp(function(n){const r=Eo(n);return new it(r.seconds,r.nanos)}(t))}function aw(t,e){return ny(t,e).canonicalString()}function ny(t,e){const n=function(i){return new Qe(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function FA(t){const e=Qe.fromString(t);return We(zA(e),10190,{key:e.toString()}),e}function ry(t,e){return aw(t.databaseId,e.path)}function Zm(t,e){const n=FA(e);if(n.get(1)!==t.databaseId.projectId)throw new Z(z.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Z(z.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ue(UA(n))}function $A(t,e){return aw(t.databaseId,e)}function EF(t){const e=FA(t);return e.length===4?Qe.emptyPath():UA(e)}function iy(t){return new Qe(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function UA(t){return We(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function ob(t,e,n){return{name:ry(t,e),fields:n.value.mapValue.fields}}function bF(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:ge(39313,{state:c})}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(c,u){return c.useProto3Json?(We(u===void 0||typeof u=="string",58123),qt.fromBase64String(u||"")):(We(u===void 0||u instanceof Buffer||u instanceof Uint8Array,16193),qt.fromUint8Array(u||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(c){const u=c.code===void 0?z.UNKNOWN:OA(c.code);return new Z(u,c.message||"")}(s);n=new VA(r,i,o,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Zm(t,r.document.name),o=Nr(r.document.updateTime),s=r.document.createTime?Nr(r.document.createTime):_e.min(),a=new wn({mapValue:{fields:r.document.fields}}),l=nn.newFoundDocument(i,o,s,a),c=r.targetIds||[],u=r.removedTargetIds||[];n=new uf(c,u,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Zm(t,r.document),o=r.readTime?Nr(r.readTime):_e.min(),s=nn.newNoDocument(i,o),a=r.removedTargetIds||[];n=new uf([],a,s.key,s)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Zm(t,r.document),o=r.removedTargetIds||[];n=new uf([],o,i,null)}else{if(!("filter"in e))return ge(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:o}=r,s=new fF(i,o),a=r.targetId;n=new LA(a,s)}}return n}function TF(t,e){let n;if(e instanceof bu)n={update:ob(t,e.key,e.value)};else if(e instanceof iw)n={delete:ry(t,e.key)};else if(e instanceof Vo)n={update:ob(t,e.key,e.data),updateMask:DF(e.fieldMask)};else{if(!(e instanceof cF))return ge(16599,{Vt:e.type});n={verify:ry(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(o,s){const a=s.transform;if(a instanceof th)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Zc)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof eu)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof nh)return{fieldPath:s.field.canonicalString(),increment:a.Ae};throw ge(20930,{transform:s.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:xF(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:ge(27497)}(t,e.precondition)),n}function CF(t,e){return t&&t.length>0?(We(e!==void 0,14353),t.map(n=>function(i,o){let s=i.updateTime?Nr(i.updateTime):Nr(o);return s.isEqual(_e.min())&&(s=Nr(o)),new sF(s,i.transformResults||[])}(n,e))):[]}function SF(t,e){return{documents:[$A(t,e.path)]}}function PF(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=$A(t,i);const o=function(c){if(c.length!==0)return WA(dr.create(c,"and"))}(e.filters);o&&(n.structuredQuery.where=o);const s=function(c){if(c.length!==0)return c.map(u=>function(h){return{field:Qs(h.field),direction:RF(h.dir)}}(u))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const a=ty(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{ft:n,parent:i}}function IF(t){let e=EF(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){We(r===1,65062);const u=n.from[0];u.allDescendants?i=u.collectionId:e=e.child(u.collectionId)}let o=[];n.where&&(o=function(f){const h=BA(f);return h instanceof dr&&yA(h)?h.getFilters():[h]}(n.where));let s=[];n.orderBy&&(s=function(f){return f.map(h=>function(_){return new eh(Xs(_.field),function(E){switch(E){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(_.direction))}(h))}(n.orderBy));let a=null;n.limit&&(a=function(f){let h;return h=typeof f=="object"?f.value:f,np(h)?null:h}(n.limit));let l=null;n.startAt&&(l=function(f){const h=!!f.before,g=f.values||[];return new Zf(g,h)}(n.startAt));let c=null;return n.endAt&&(c=function(f){const h=!f.before,g=f.values||[];return new Zf(g,h)}(n.endAt)),G3(e,i,s,o,a,"F",l,c)}function AF(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ge(28987,{purpose:i})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function BA(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Xs(n.unaryFilter.field);return Pt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Xs(n.unaryFilter.field);return Pt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Xs(n.unaryFilter.field);return Pt.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=Xs(n.unaryFilter.field);return Pt.create(s,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ge(61313);default:return ge(60726)}}(t):t.fieldFilter!==void 0?function(n){return Pt.create(Xs(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ge(58110);default:return ge(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return dr.create(n.compositeFilter.filters.map(r=>BA(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return ge(1026)}}(n.compositeFilter.op))}(t):ge(30097,{filter:t})}function RF(t){return vF[t]}function kF(t){return yF[t]}function NF(t){return wF[t]}function Qs(t){return{fieldPath:t.canonicalString()}}function Xs(t){return Bt.fromServerFormat(t.fieldPath)}function WA(t){return t instanceof Pt?function(n){if(n.op==="=="){if(qE(n.value))return{unaryFilter:{field:Qs(n.field),op:"IS_NAN"}};if(HE(n.value))return{unaryFilter:{field:Qs(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(qE(n.value))return{unaryFilter:{field:Qs(n.field),op:"IS_NOT_NAN"}};if(HE(n.value))return{unaryFilter:{field:Qs(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Qs(n.field),op:kF(n.op),value:n.value}}}(t):t instanceof dr?function(n){const r=n.getFilters().map(i=>WA(i));return r.length===1?r[0]:{compositeFilter:{op:NF(n.op),filters:r}}}(t):ge(54877,{filter:t})}function DF(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function zA(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xi{constructor(e,n,r,i,o=_e.min(),s=_e.min(),a=qt.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new Xi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Xi(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Xi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Xi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MF{constructor(e){this.yt=e}}function OF(t){const e=IF({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?ey(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LF{constructor(){this.Cn=new VF}addToCollectionParentIndex(e,n){return this.Cn.add(n),H.resolve()}getCollectionParents(e,n){return H.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return H.resolve()}deleteFieldIndex(e,n){return H.resolve()}deleteAllFieldIndexes(e){return H.resolve()}createTargetIndexes(e,n){return H.resolve()}getDocumentsMatchingTarget(e,n){return H.resolve(null)}getIndexType(e,n){return H.resolve(0)}getFieldIndexes(e,n){return H.resolve([])}getNextCollectionGroupToUpdate(e){return H.resolve(null)}getMinOffset(e,n){return H.resolve(xo.min())}getMinOffsetFromCollectionGroup(e,n){return H.resolve(xo.min())}updateCollectionGroup(e,n,r){return H.resolve()}updateIndexEntries(e,n){return H.resolve()}}class VF{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Nt(Qe.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Nt(Qe.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sb={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},HA=41943040;class vn{static withCacheSize(e){return new vn(e,vn.DEFAULT_COLLECTION_PERCENTILE,vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */vn.DEFAULT_COLLECTION_PERCENTILE=10,vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,vn.DEFAULT=new vn(HA,vn.DEFAULT_COLLECTION_PERCENTILE,vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),vn.DISABLED=new vn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ba{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Ba(0)}static cr(){return new Ba(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ab="LruGarbageCollector",jF=1048576;function lb([t,e],[n,r]){const i=ke(t,n);return i===0?ke(e,r):i}class FF{constructor(e){this.Ir=e,this.buffer=new Nt(lb),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();lb(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class $F{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){te(ab,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){ul(n)?te(ab,"Ignoring IndexedDB error during garbage collection: ",n):await cl(n)}await this.Vr(3e5)})}}class UF{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return H.resolve(tp.ce);const r=new FF(n);return this.mr.forEachTarget(e,i=>r.Ar(i.sequenceNumber)).next(()=>this.mr.pr(e,i=>r.Ar(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(te("LruGarbageCollector","Garbage collection skipped; disabled"),H.resolve(sb)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(te("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),sb):this.yr(e,n))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,i,o,s,a,l,c;const u=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(f=>(f>this.params.maximumSequenceNumbersToCollect?(te("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${f}`),i=this.params.maximumSequenceNumbersToCollect):i=f,s=Date.now(),this.nthSequenceNumber(e,i))).next(f=>(r=f,a=Date.now(),this.removeTargets(e,r,n))).next(f=>(o=f,l=Date.now(),this.removeOrphanedDocuments(e,r))).next(f=>(c=Date.now(),Ys()<=Re.DEBUG&&te("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-u}ms
	Determined least recently used ${i} in `+(a-s)+`ms
	Removed ${o} targets in `+(l-a)+`ms
	Removed ${f} documents in `+(c-l)+`ms
Total Duration: ${c-u}ms`),H.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:f})))}}function BF(t,e){return new UF(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WF{constructor(){this.changes=new Is(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,nn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?H.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zF{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HF{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&wc(r.mutation,i,Dn.empty(),it.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Ne()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Ne()){const i=rs();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(o=>{let s=nc();return o.forEach((a,l)=>{s=s.insert(a,l.overlayedDocument)}),s}))}getOverlayedDocuments(e,n){const r=rs();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Ne()))}populateOverlays(e,n,r){const i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{n.set(s,a)})})}computeViews(e,n,r,i){let o=yi();const s=yc(),a=function(){return yc()}();return n.forEach((l,c)=>{const u=r.get(c.key);i.has(c.key)&&(u===void 0||u.mutation instanceof Vo)?o=o.insert(c.key,c):u!==void 0?(s.set(c.key,u.mutation.getFieldMask()),wc(u.mutation,c,u.mutation.getFieldMask(),it.now())):s.set(c.key,Dn.empty())}),this.recalculateAndSaveOverlays(e,o).next(l=>(l.forEach((c,u)=>s.set(c,u)),n.forEach((c,u)=>a.set(c,new zF(u,s.get(c)??null))),a))}recalculateAndSaveOverlays(e,n){const r=yc();let i=new pt((s,a)=>s-a),o=Ne();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(s=>{for(const a of s)a.keys().forEach(l=>{const c=n.get(l);if(c===null)return;let u=r.get(l)||Dn.empty();u=a.applyToLocalView(c,u),r.set(l,u);const f=(i.get(a.batchId)||Ne()).add(l);i=i.insert(a.batchId,f)})}).next(()=>{const s=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),c=l.key,u=l.value,f=PA();u.forEach(h=>{if(!o.has(h)){const g=DA(n.get(h),r.get(h));g!==null&&f.set(h,g),o=o.add(h)}}),s.push(this.documentOverlayCache.saveOverlays(e,c,f))}return H.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(s){return ue.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):EA(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(o=>{const s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):H.resolve(rs());let a=Kc,l=o;return s.next(c=>H.forEach(c,(u,f)=>(a<f.largestBatchId&&(a=f.largestBatchId),o.get(u)?H.resolve():this.remoteDocumentCache.getEntry(e,u).next(h=>{l=l.insert(u,h)}))).next(()=>this.populateOverlays(e,c,o)).next(()=>this.computeViews(e,l,c,Ne())).next(u=>({batchId:a,changes:SA(u)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ue(n)).next(r=>{let i=nc();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const o=n.collectionGroup;let s=nc();return this.indexManager.getCollectionParents(e,o).next(a=>H.forEach(a,l=>{const c=function(f,h){return new Eu(h,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,l.child(o));return this.getDocumentsMatchingCollectionQuery(e,c,r,i).next(u=>{u.forEach((f,h)=>{s=s.insert(f,h)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,i))).next(s=>{o.forEach((l,c)=>{const u=c.getKey();s.get(u)===null&&(s=s.insert(u,nn.newInvalidDocument(u)))});let a=nc();return s.forEach((l,c)=>{const u=o.get(l);u!==void 0&&wc(u.mutation,c,Dn.empty(),it.now()),op(n,c)&&(a=a.insert(l,c))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qF{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return H.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Nr(i.createTime)}}(n)),H.resolve()}getNamedQuery(e,n){return H.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,function(i){return{name:i.name,query:OF(i.bundledQuery),readTime:Nr(i.readTime)}}(n)),H.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GF{constructor(){this.overlays=new pt(ue.comparator),this.qr=new Map}getOverlay(e,n){return H.resolve(this.overlays.get(n))}getOverlays(e,n){const r=rs();return H.forEach(n,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,o)=>{this.St(e,n,o)}),H.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.qr.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.qr.delete(r)),H.resolve()}getOverlaysForCollection(e,n,r){const i=rs(),o=n.length+1,s=new ue(n.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){const l=a.getNext().value,c=l.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===o&&l.largestBatchId>r&&i.set(l.getKey(),l)}return H.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new pt((c,u)=>c-u);const s=this.overlays.getIterator();for(;s.hasNext();){const c=s.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let u=o.get(c.largestBatchId);u===null&&(u=rs(),o=o.insert(c.largestBatchId,u)),u.set(c.getKey(),c)}}const a=rs(),l=o.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,u)=>a.set(c,u)),!(a.size()>=i)););return H.resolve(a)}St(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const s=this.qr.get(i.largestBatchId).delete(r.key);this.qr.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new dF(n,r));let o=this.qr.get(n);o===void 0&&(o=Ne(),this.qr.set(n,o)),this.qr.set(n,o.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YF{constructor(){this.sessionToken=qt.EMPTY_BYTE_STRING}getSessionToken(e){return H.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,H.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lw{constructor(){this.Qr=new Nt(Mt.$r),this.Ur=new Nt(Mt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new Mt(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Gr(new Mt(e,n))}zr(e,n){e.forEach(r=>this.removeReference(r,n))}jr(e){const n=new ue(new Qe([])),r=new Mt(n,e),i=new Mt(n,e+1),o=[];return this.Ur.forEachInRange([r,i],s=>{this.Gr(s),o.push(s.key)}),o}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new ue(new Qe([])),r=new Mt(n,e),i=new Mt(n,e+1);let o=Ne();return this.Ur.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){const n=new Mt(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Mt{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return ue.comparator(e.key,n.key)||ke(e.Yr,n.Yr)}static Kr(e,n){return ke(e.Yr,n.Yr)||ue.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KF{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Nt(Mt.$r)}checkEmpty(e){return H.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const o=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new uF(o,n,r,i);this.mutationQueue.push(s);for(const a of i)this.Zr=this.Zr.add(new Mt(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return H.resolve(s)}lookupMutationBatch(e,n){return H.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.ei(r),o=i<0?0:i;return H.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return H.resolve(this.mutationQueue.length===0?X0:this.tr-1)}getAllMutationBatches(e){return H.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Mt(n,0),i=new Mt(n,Number.POSITIVE_INFINITY),o=[];return this.Zr.forEachInRange([r,i],s=>{const a=this.Xr(s.Yr);o.push(a)}),H.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Nt(ke);return n.forEach(i=>{const o=new Mt(i,0),s=new Mt(i,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([o,s],a=>{r=r.add(a.Yr)})}),H.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let o=r;ue.isDocumentKey(o)||(o=o.child(""));const s=new Mt(new ue(o),0);let a=new Nt(ke);return this.Zr.forEachWhile(l=>{const c=l.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(a=a.add(l.Yr)),!0)},s),H.resolve(this.ti(a))}ti(e){const n=[];return e.forEach(r=>{const i=this.Xr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){We(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return H.forEach(n.mutations,i=>{const o=new Mt(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Zr=r})}ir(e){}containsKey(e,n){const r=new Mt(n,0),i=this.Zr.firstAfterOrEqual(r);return H.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,H.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QF{constructor(e){this.ri=e,this.docs=function(){return new pt(ue.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),o=i?i.size:0,s=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return H.resolve(r?r.document.mutableCopy():nn.newInvalidDocument(n))}getEntries(e,n){let r=yi();return n.forEach(i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():nn.newInvalidDocument(i))}),H.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=yi();const s=n.path,a=new ue(s.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:c,value:{document:u}}=l.getNext();if(!s.isPrefixOf(c.path))break;c.path.length>s.length+1||S3(C3(u),r)<=0||(i.has(u.key)||op(n,u))&&(o=o.insert(u.key,u.mutableCopy()))}return H.resolve(o)}getAllFromCollectionGroup(e,n,r,i){ge(9500)}ii(e,n){return H.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new XF(this)}getSize(e){return H.resolve(this.size)}}class XF extends WF{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.Nr.addEntry(e,i)):this.Nr.removeEntry(r)}),H.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JF{constructor(e){this.persistence=e,this.si=new Is(n=>ew(n),tw),this.lastRemoteSnapshotVersion=_e.min(),this.highestTargetId=0,this.oi=0,this._i=new lw,this.targetCount=0,this.ai=Ba.ur()}forEachTarget(e,n){return this.si.forEach((r,i)=>n(i)),H.resolve()}getLastRemoteSnapshotVersion(e){return H.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return H.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),H.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),H.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new Ba(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,H.resolve()}updateTargetData(e,n){return this.Pr(n),H.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,H.resolve()}removeTargets(e,n,r){let i=0;const o=[];return this.si.forEach((s,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.si.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),H.waitFor(o).next(()=>i)}getTargetCount(e){return H.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return H.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),H.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),H.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),H.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return H.resolve(r)}containsKey(e,n){return H.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qA{constructor(e,n){this.ui={},this.overlays={},this.ci=new tp(0),this.li=!1,this.li=!0,this.hi=new YF,this.referenceDelegate=e(this),this.Pi=new JF(this),this.indexManager=new LF,this.remoteDocumentCache=function(i){return new QF(i)}(r=>this.referenceDelegate.Ti(r)),this.serializer=new MF(n),this.Ii=new qF(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new GF,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new KF(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){te("MemoryPersistence","Starting transaction:",e);const i=new ZF(this.ci.next());return this.referenceDelegate.Ei(),r(i).next(o=>this.referenceDelegate.di(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Ai(e,n){return H.or(Object.values(this.ui).map(r=>()=>r.containsKey(e,n)))}}class ZF extends I3{constructor(e){super(),this.currentSequenceNumber=e}}class cw{constructor(e){this.persistence=e,this.Ri=new lw,this.Vi=null}static mi(e){return new cw(e)}get fi(){if(this.Vi)return this.Vi;throw ge(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),H.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),H.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),H.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach(i=>this.fi.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(o=>this.fi.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return H.forEach(this.fi,r=>{const i=ue.fromPath(r);return this.gi(e,i).next(o=>{o||n.removeEntry(i,_e.min())})}).next(()=>(this.Vi=null,n.apply(e)))}updateLimboDocument(e,n){return this.gi(e,n).next(r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())})}Ti(e){return 0}gi(e,n){return H.or([()=>H.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class ih{constructor(e,n){this.persistence=e,this.pi=new Is(r=>k3(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=BF(this,n)}static mi(e,n){return new ih(e,n)}Ei(){}di(e){return H.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}wr(e){let n=0;return this.pr(e,r=>{n++}).next(()=>n)}pr(e,n){return H.forEach(this.pi,(r,i)=>this.br(e,r,i).next(o=>o?H.resolve():n(i)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),o=i.newChangeBuffer();return i.ii(e,s=>this.br(e,s,n).next(a=>{a||(r++,o.removeEntry(s,_e.min()))})).next(()=>o.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),H.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),H.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),H.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),H.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=af(e.data.value)),n}br(e,n,r){return H.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.pi.get(n);return H.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uw{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=i}static As(e,n){let r=Ne(),i=Ne();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new uw(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e6{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t6{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return G5()?8:A3(sn())>0?6:4}()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,i){const o={result:null};return this.ys(e,n).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.ws(e,n,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;const s=new e6;return this.Ss(e,n,s).next(a=>{if(o.result=a,this.Vs)return this.bs(e,n,s,a.size)})}).next(()=>o.result)}bs(e,n,r,i){return r.documentReadCount<this.fs?(Ys()<=Re.DEBUG&&te("QueryEngine","SDK will not create cache indexes for query:",Ks(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),H.resolve()):(Ys()<=Re.DEBUG&&te("QueryEngine","Query:",Ks(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.gs*i?(Ys()<=Re.DEBUG&&te("QueryEngine","The SDK decides to create cache indexes for query:",Ks(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,kr(n))):H.resolve())}ys(e,n){if(QE(n))return H.resolve(null);let r=kr(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=ey(n,null,"F"),r=kr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const s=Ne(...o);return this.ps.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const c=this.Ds(n,a);return this.Cs(n,c,s,l.readTime)?this.ys(e,ey(n,null,"F")):this.vs(e,c,n,l)}))})))}ws(e,n,r,i){return QE(n)||i.isEqual(_e.min())?H.resolve(null):this.ps.getDocuments(e,r).next(o=>{const s=this.Ds(n,o);return this.Cs(n,s,r,i)?H.resolve(null):(Ys()<=Re.DEBUG&&te("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Ks(n)),this.vs(e,s,n,T3(i,Kc)).next(a=>a))})}Ds(e,n){let r=new Nt(TA(e));return n.forEach((i,o)=>{op(e,o)&&(r=r.add(o))}),r}Cs(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Ss(e,n,r){return Ys()<=Re.DEBUG&&te("QueryEngine","Using full collection scan to execute query:",Ks(n)),this.ps.getDocumentsMatchingQuery(e,n,xo.min(),r)}vs(e,n,r,i){return this.ps.getDocumentsMatchingQuery(e,r,i).next(o=>(n.forEach(s=>{o=o.insert(s.key,s)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dw="LocalStore",n6=3e8;class r6{constructor(e,n,r,i){this.persistence=e,this.Fs=n,this.serializer=i,this.Ms=new pt(ke),this.xs=new Is(o=>ew(o),tw),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new HF(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ms))}}function i6(t,e,n,r){return new r6(t,e,n,r)}async function GA(t,e){const n=xe(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n.Bs(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{const s=[],a=[];let l=Ne();for(const c of i){s.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}for(const c of o){a.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}return n.localDocuments.getDocuments(r,l).next(c=>({Ls:c,removedBatchIds:s,addedBatchIds:a}))})})}function o6(t,e){const n=xe(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),o=n.Ns.newChangeBuffer({trackRemovals:!0});return function(a,l,c,u){const f=c.batch,h=f.keys();let g=H.resolve();return h.forEach(_=>{g=g.next(()=>u.getEntry(l,_)).next(v=>{const E=c.docVersions.get(_);We(E!==null,48541),v.version.compareTo(E)<0&&(f.applyToRemoteDocument(v,c),v.isValidDocument()&&(v.setReadTime(c.commitVersion),u.addEntry(v)))})}),g.next(()=>a.mutationQueue.removeMutationBatch(l,f))}(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=Ne();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(l=l.add(a.batch.mutations[c].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function YA(t){const e=xe(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Pi.getLastRemoteSnapshotVersion(n))}function s6(t,e){const n=xe(t),r=e.snapshotVersion;let i=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const s=n.Ns.newChangeBuffer({trackRemovals:!0});i=n.Ms;const a=[];e.targetChanges.forEach((u,f)=>{const h=i.get(f);if(!h)return;a.push(n.Pi.removeMatchingKeys(o,u.removedDocuments,f).next(()=>n.Pi.addMatchingKeys(o,u.addedDocuments,f)));let g=h.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(f)!==null?g=g.withResumeToken(qt.EMPTY_BYTE_STRING,_e.min()).withLastLimboFreeSnapshotVersion(_e.min()):u.resumeToken.approximateByteSize()>0&&(g=g.withResumeToken(u.resumeToken,r)),i=i.insert(f,g),function(v,E,x){return v.resumeToken.approximateByteSize()===0||E.snapshotVersion.toMicroseconds()-v.snapshotVersion.toMicroseconds()>=n6?!0:x.addedDocuments.size+x.modifiedDocuments.size+x.removedDocuments.size>0}(h,g,u)&&a.push(n.Pi.updateTargetData(o,g))});let l=yi(),c=Ne();if(e.documentUpdates.forEach(u=>{e.resolvedLimboDocuments.has(u)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(o,u))}),a.push(a6(o,s,e.documentUpdates).next(u=>{l=u.ks,c=u.qs})),!r.isEqual(_e.min())){const u=n.Pi.getLastRemoteSnapshotVersion(o).next(f=>n.Pi.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(u)}return H.waitFor(a).next(()=>s.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,l,c)).next(()=>l)}).then(o=>(n.Ms=i,o))}function a6(t,e,n){let r=Ne(),i=Ne();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let s=yi();return n.forEach((a,l)=>{const c=o.get(a);l.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(_e.min())?(e.removeEntry(a,l.readTime),s=s.insert(a,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(l),s=s.insert(a,l)):te(dw,"Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",l.version)}),{ks:s,qs:i}})}function l6(t,e){const n=xe(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=X0),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function c6(t,e){const n=xe(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Pi.getTargetData(r,e).next(o=>o?(i=o,H.resolve(i)):n.Pi.allocateTargetId(r).next(s=>(i=new Xi(e,s,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.Ms.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r})}async function oy(t,e,n){const r=xe(t),i=r.Ms.get(e),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i))}catch(s){if(!ul(s))throw s;te(dw,`Failed to update sequence numbers for target ${e}: ${s}`)}r.Ms=r.Ms.remove(e),r.xs.delete(i.target)}function cb(t,e,n){const r=xe(t);let i=_e.min(),o=Ne();return r.persistence.runTransaction("Execute query","readwrite",s=>function(l,c,u){const f=xe(l),h=f.xs.get(u);return h!==void 0?H.resolve(f.Ms.get(h)):f.Pi.getTargetData(c,u)}(r,s,kr(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(s,a.targetId).next(l=>{o=l})}).next(()=>r.Fs.getDocumentsMatchingQuery(s,e,n?i:_e.min(),n?o:Ne())).next(a=>(u6(r,K3(e),a),{documents:a,Qs:o})))}function u6(t,e,n){let r=t.Os.get(e)||_e.min();n.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.Os.set(e,r)}class ub{constructor(){this.activeTargetIds=tF()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class d6{constructor(){this.Mo=new ub,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new ub,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f6{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const db="ConnectivityMonitor";class fb{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){te(db,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){te(db,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Id=null;function sy(){return Id===null?Id=function(){return 268435456+Math.round(2147483648*Math.random())}():Id++,"0x"+Id.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eg="RestConnection",h6={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class p6{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${i}`,this.Wo=this.databaseId.database===Xf?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Go(e,n,r,i,o){const s=sy(),a=this.zo(e,n.toUriEncodedString());te(eg,`Sending RPC '${e}' ${s}:`,a,r);const l={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(l,i,o);const{host:c}=new URL(a),u=sl(c);return this.Jo(e,a,l,r,u).then(f=>(te(eg,`Received RPC '${e}' ${s}: `,f),f),f=>{throw ja(eg,`RPC '${e}' ${s} failed with error: `,f,"url: ",a,"request:",r),f})}Ho(e,n,r,i,o,s){return this.Go(e,n,r,i,o)}jo(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+ll}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,o)=>e[o]=i),r&&r.headers.forEach((i,o)=>e[o]=i)}zo(e,n){const r=h6[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m6{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jt="WebChannelConnection";class g6 extends p6{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,i,o){const s=sy();return new Promise((a,l)=>{const c=new QI;c.setWithCredentials(!0),c.listenOnce(XI.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case sf.NO_ERROR:const f=c.getResponseJson();te(Jt,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(f)),a(f);break;case sf.TIMEOUT:te(Jt,`RPC '${e}' ${s} timed out`),l(new Z(z.DEADLINE_EXCEEDED,"Request time out"));break;case sf.HTTP_ERROR:const h=c.getStatus();if(te(Jt,`RPC '${e}' ${s} failed with status:`,h,"response text:",c.getResponseText()),h>0){let g=c.getResponseJson();Array.isArray(g)&&(g=g[0]);const _=g==null?void 0:g.error;if(_&&_.status&&_.message){const v=function(x){const y=x.toLowerCase().replace(/_/g,"-");return Object.values(z).indexOf(y)>=0?y:z.UNKNOWN}(_.status);l(new Z(v,_.message))}else l(new Z(z.UNKNOWN,"Server responded with status "+c.getStatus()))}else l(new Z(z.UNAVAILABLE,"Connection failed."));break;default:ge(9055,{l_:e,streamId:s,h_:c.getLastErrorCode(),P_:c.getLastError()})}}finally{te(Jt,`RPC '${e}' ${s} completed.`)}});const u=JSON.stringify(i);te(Jt,`RPC '${e}' ${s} sending request:`,i),c.send(n,"POST",u,r,15)})}T_(e,n,r){const i=sy(),o=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=eA(),a=ZI(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.useFetchStreams=!0),this.jo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const u=o.join("");te(Jt,`Creating RPC '${e}' stream ${i}: ${u}`,l);const f=s.createWebChannel(u,l);this.I_(f);let h=!1,g=!1;const _=new m6({Yo:E=>{g?te(Jt,`Not sending because RPC '${e}' stream ${i} is closed:`,E):(h||(te(Jt,`Opening RPC '${e}' stream ${i} transport.`),f.open(),h=!0),te(Jt,`RPC '${e}' stream ${i} sending:`,E),f.send(E))},Zo:()=>f.close()}),v=(E,x,y)=>{E.listen(x,b=>{try{y(b)}catch(I){setTimeout(()=>{throw I},0)}})};return v(f,tc.EventType.OPEN,()=>{g||(te(Jt,`RPC '${e}' stream ${i} transport opened.`),_.o_())}),v(f,tc.EventType.CLOSE,()=>{g||(g=!0,te(Jt,`RPC '${e}' stream ${i} transport closed`),_.a_(),this.E_(f))}),v(f,tc.EventType.ERROR,E=>{g||(g=!0,ja(Jt,`RPC '${e}' stream ${i} transport errored. Name:`,E.name,"Message:",E.message),_.a_(new Z(z.UNAVAILABLE,"The operation could not be completed")))}),v(f,tc.EventType.MESSAGE,E=>{var x;if(!g){const y=E.data[0];We(!!y,16349);const b=y,I=(b==null?void 0:b.error)||((x=b[0])==null?void 0:x.error);if(I){te(Jt,`RPC '${e}' stream ${i} received error:`,I);const N=I.status;let O=function(P){const A=Tt[P];if(A!==void 0)return OA(A)}(N),S=I.message;O===void 0&&(O=z.INTERNAL,S="Unknown error status: "+N+" with message "+I.message),g=!0,_.a_(new Z(O,S)),f.close()}else te(Jt,`RPC '${e}' stream ${i} received:`,y),_.u_(y)}}),v(a,JI.STAT_EVENT,E=>{E.stat===Gv.PROXY?te(Jt,`RPC '${e}' stream ${i} detected buffering proxy`):E.stat===Gv.NOPROXY&&te(Jt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{_.__()},0),_}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(n=>n===e)}}function tg(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cp(t){return new _F(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KA{constructor(e,n,r=1e3,i=1.5,o=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=i,this.R_=o,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),i=Math.max(0,n-r);i>0&&te("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,i,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hb="PersistentStream";class QA{constructor(e,n,r,i,o,s,a,l){this.Mi=e,this.S_=r,this.b_=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new KA(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===z.RESOURCE_EXHAUSTED?(gi(n.toString()),gi("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===z.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.D_===n&&this.G_(r,i)},r=>{e(()=>{const i=new Z(z.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(i)})})}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo(()=>{r(()=>this.listener.Xo())}),this.stream.t_(()=>{r(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(i=>{r(()=>this.z_(i))}),this.stream.onMessage(i=>{r(()=>++this.F_==1?this.J_(i):this.onNext(i))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return te(hb,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget(()=>this.D_===e?n():(te(hb,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class v6 extends QA{constructor(e,n,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=bF(this.serializer,e),r=function(o){if(!("targetChange"in o))return _e.min();const s=o.targetChange;return s.targetIds&&s.targetIds.length?_e.min():s.readTime?Nr(s.readTime):_e.min()}(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=iy(this.serializer),n.addTarget=function(o,s){let a;const l=s.target;if(a=Jv(l)?{documents:SF(o,l)}:{query:PF(o,l).ft},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=jA(o,s.resumeToken);const c=ty(o,s.expectedCount);c!==null&&(a.expectedCount=c)}else if(s.snapshotVersion.compareTo(_e.min())>0){a.readTime=rh(o,s.snapshotVersion.toTimestamp());const c=ty(o,s.expectedCount);c!==null&&(a.expectedCount=c)}return a}(this.serializer,e);const r=AF(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=iy(this.serializer),n.removeTarget=e,this.q_(n)}}class y6 extends QA{constructor(e,n,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return We(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,We(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){We(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=CF(e.writeResults,e.commitTime),r=Nr(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=iy(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>TF(this.serializer,r))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w6{}class _6 extends w6{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new Z(z.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Go(e,ny(n,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Z(z.UNKNOWN,o.toString())})}Ho(e,n,r,i,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Ho(e,ny(n,r),i,s,a,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Z(z.UNKNOWN,s.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class x6{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(gi(n),this.aa=!1):te("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vs="RemoteStore";class E6{constructor(e,n,r,i,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=o,this.Aa.Oo(s=>{r.enqueueAndForget(async()=>{As(this)&&(te(vs,"Restarting streams for network reachability change."),await async function(l){const c=xe(l);c.Ea.add(4),await Cu(c),c.Ra.set("Unknown"),c.Ea.delete(4),await up(c)}(this))})}),this.Ra=new x6(r,i)}}async function up(t){if(As(t))for(const e of t.da)await e(!0)}async function Cu(t){for(const e of t.da)await e(!1)}function XA(t,e){const n=xe(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),mw(n)?pw(n):dl(n).O_()&&hw(n,e))}function fw(t,e){const n=xe(t),r=dl(n);n.Ia.delete(e),r.O_()&&JA(n,e),n.Ia.size===0&&(r.O_()?r.L_():As(n)&&n.Ra.set("Unknown"))}function hw(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(_e.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}dl(t).Y_(e)}function JA(t,e){t.Va.Ue(e),dl(t).Z_(e)}function pw(t){t.Va=new gF({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),dl(t).start(),t.Ra.ua()}function mw(t){return As(t)&&!dl(t).x_()&&t.Ia.size>0}function As(t){return xe(t).Ea.size===0}function ZA(t){t.Va=void 0}async function b6(t){t.Ra.set("Online")}async function T6(t){t.Ia.forEach((e,n)=>{hw(t,e)})}async function C6(t,e){ZA(t),mw(t)?(t.Ra.ha(e),pw(t)):t.Ra.set("Unknown")}async function S6(t,e,n){if(t.Ra.set("Online"),e instanceof VA&&e.state===2&&e.cause)try{await async function(i,o){const s=o.cause;for(const a of o.targetIds)i.Ia.has(a)&&(await i.remoteSyncer.rejectListen(a,s),i.Ia.delete(a),i.Va.removeTarget(a))}(t,e)}catch(r){te(vs,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await oh(t,r)}else if(e instanceof uf?t.Va.Ze(e):e instanceof LA?t.Va.st(e):t.Va.tt(e),!n.isEqual(_e.min()))try{const r=await YA(t.localStore);n.compareTo(r)>=0&&await function(o,s){const a=o.Va.Tt(s);return a.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const u=o.Ia.get(c);u&&o.Ia.set(c,u.withResumeToken(l.resumeToken,s))}}),a.targetMismatches.forEach((l,c)=>{const u=o.Ia.get(l);if(!u)return;o.Ia.set(l,u.withResumeToken(qt.EMPTY_BYTE_STRING,u.snapshotVersion)),JA(o,l);const f=new Xi(u.target,l,c,u.sequenceNumber);hw(o,f)}),o.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){te(vs,"Failed to raise snapshot:",r),await oh(t,r)}}async function oh(t,e,n){if(!ul(e))throw e;t.Ea.add(1),await Cu(t),t.Ra.set("Offline"),n||(n=()=>YA(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{te(vs,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await up(t)})}function eR(t,e){return e().catch(n=>oh(t,n,e))}async function dp(t){const e=xe(t),n=Co(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:X0;for(;P6(e);)try{const i=await l6(e.localStore,r);if(i===null){e.Ta.length===0&&n.L_();break}r=i.batchId,I6(e,i)}catch(i){await oh(e,i)}tR(e)&&nR(e)}function P6(t){return As(t)&&t.Ta.length<10}function I6(t,e){t.Ta.push(e);const n=Co(t);n.O_()&&n.X_&&n.ea(e.mutations)}function tR(t){return As(t)&&!Co(t).x_()&&t.Ta.length>0}function nR(t){Co(t).start()}async function A6(t){Co(t).ra()}async function R6(t){const e=Co(t);for(const n of t.Ta)e.ea(n.mutations)}async function k6(t,e,n){const r=t.Ta.shift(),i=ow.from(r,e,n);await eR(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await dp(t)}async function N6(t,e){e&&Co(t).X_&&await async function(r,i){if(function(s){return hF(s)&&s!==z.ABORTED}(i.code)){const o=r.Ta.shift();Co(r).B_(),await eR(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),await dp(r)}}(t,e),tR(t)&&nR(t)}async function pb(t,e){const n=xe(t);n.asyncQueue.verifyOperationInProgress(),te(vs,"RemoteStore received new credentials");const r=As(n);n.Ea.add(3),await Cu(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await up(n)}async function D6(t,e){const n=xe(t);e?(n.Ea.delete(2),await up(n)):e||(n.Ea.add(2),await Cu(n),n.Ra.set("Unknown"))}function dl(t){return t.ma||(t.ma=function(n,r,i){const o=xe(n);return o.sa(),new v6(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Xo:b6.bind(null,t),t_:T6.bind(null,t),r_:C6.bind(null,t),H_:S6.bind(null,t)}),t.da.push(async e=>{e?(t.ma.B_(),mw(t)?pw(t):t.Ra.set("Unknown")):(await t.ma.stop(),ZA(t))})),t.ma}function Co(t){return t.fa||(t.fa=function(n,r,i){const o=xe(n);return o.sa(),new y6(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:A6.bind(null,t),r_:N6.bind(null,t),ta:R6.bind(null,t),na:k6.bind(null,t)}),t.da.push(async e=>{e?(t.fa.B_(),await dp(t)):(await t.fa.stop(),t.Ta.length>0&&(te(vs,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))})),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gw{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new si,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){const s=Date.now()+r,a=new gw(e,n,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Z(z.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function vw(t,e){if(gi("AsyncQueue",`${e}: ${t}`),ul(t))return new Z(z.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ea{static emptySet(e){return new Ea(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||ue.comparator(n.key,r.key):(n,r)=>ue.comparator(n.key,r.key),this.keyedMap=nc(),this.sortedSet=new pt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Ea)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Ea;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mb{constructor(){this.ga=new pt(ue.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):ge(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal((n,r)=>{e.push(r)}),e}}class Wa{constructor(e,n,r,i,o,s,a,l,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,i,o){const s=[];return n.forEach(a=>{s.push({type:0,doc:a})}),new Wa(e,n,Ea.emptySet(n),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&ip(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M6{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class O6{constructor(){this.queries=gb(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const i=xe(n),o=i.queries;i.queries=gb(),o.forEach((s,a)=>{for(const l of a.Sa)l.onError(r)})})(this,new Z(z.ABORTED,"Firestore shutting down"))}}function gb(){return new Is(t=>bA(t),ip)}async function rR(t,e){const n=xe(t);let r=3;const i=e.query;let o=n.queries.get(i);o?!o.ba()&&e.Da()&&(r=2):(o=new M6,r=e.Da()?0:1);try{switch(r){case 0:o.wa=await n.onListen(i,!0);break;case 1:o.wa=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(s){const a=vw(s,`Initialization of query '${Ks(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,o),o.Sa.push(e),e.va(n.onlineState),o.wa&&e.Fa(o.wa)&&yw(n)}async function iR(t,e){const n=xe(t),r=e.query;let i=3;const o=n.queries.get(r);if(o){const s=o.Sa.indexOf(e);s>=0&&(o.Sa.splice(s,1),o.Sa.length===0?i=e.Da()?0:1:!o.ba()&&e.Da()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function L6(t,e){const n=xe(t);let r=!1;for(const i of e){const o=i.query,s=n.queries.get(o);if(s){for(const a of s.Sa)a.Fa(i)&&(r=!0);s.wa=i}}r&&yw(n)}function V6(t,e,n){const r=xe(t),i=r.queries.get(e);if(i)for(const o of i.Sa)o.onError(n);r.queries.delete(e)}function yw(t){t.Ca.forEach(e=>{e.next()})}var ay,vb;(vb=ay||(ay={})).Ma="default",vb.Cache="cache";class oR{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Wa(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Wa.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==ay.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sR{constructor(e){this.key=e}}class aR{constructor(e){this.key=e}}class j6{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Ne(),this.mutatedKeys=Ne(),this.eu=TA(e),this.tu=new Ea(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new mb,i=n?n.tu:this.tu;let o=n?n.mutatedKeys:this.mutatedKeys,s=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,c=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((u,f)=>{const h=i.get(u),g=op(this.query,f)?f:null,_=!!h&&this.mutatedKeys.has(h.key),v=!!g&&(g.hasLocalMutations||this.mutatedKeys.has(g.key)&&g.hasCommittedMutations);let E=!1;h&&g?h.data.isEqual(g.data)?_!==v&&(r.track({type:3,doc:g}),E=!0):this.su(h,g)||(r.track({type:2,doc:g}),E=!0,(l&&this.eu(g,l)>0||c&&this.eu(g,c)<0)&&(a=!0)):!h&&g?(r.track({type:0,doc:g}),E=!0):h&&!g&&(r.track({type:1,doc:h}),E=!0,(l||c)&&(a=!0)),E&&(g?(s=s.add(g),o=v?o.add(u):o.delete(u)):(s=s.delete(u),o=o.delete(u)))}),this.query.limit!==null)for(;s.size>this.query.limit;){const u=this.query.limitType==="F"?s.last():s.first();s=s.delete(u.key),o=o.delete(u.key),r.track({type:1,doc:u})}return{tu:s,iu:r,Cs:a,mutatedKeys:o}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const o=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const s=e.iu.ya();s.sort((u,f)=>function(g,_){const v=E=>{switch(E){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ge(20277,{Rt:E})}};return v(g)-v(_)}(u.type,f.type)||this.eu(u.doc,f.doc)),this.ou(r),i=i??!1;const a=n&&!i?this._u():[],l=this.Xa.size===0&&this.current&&!i?1:0,c=l!==this.Za;return this.Za=l,s.length!==0||c?{snapshot:new Wa(this.query,e.tu,o,s,e.mutatedKeys,l===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:a}:{au:a}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new mb,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(n=>this.Ya=this.Ya.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ya=this.Ya.delete(n)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Ne(),this.tu.forEach(r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))});const n=[];return e.forEach(r=>{this.Xa.has(r)||n.push(new aR(r))}),this.Xa.forEach(r=>{e.has(r)||n.push(new sR(r))}),n}cu(e){this.Ya=e.Qs,this.Xa=Ne();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Wa.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const ww="SyncEngine";class F6{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class $6{constructor(e){this.key=e,this.hu=!1}}class U6{constructor(e,n,r,i,o,s){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.Pu={},this.Tu=new Is(a=>bA(a),ip),this.Iu=new Map,this.Eu=new Set,this.du=new pt(ue.comparator),this.Au=new Map,this.Ru=new lw,this.Vu={},this.mu=new Map,this.fu=Ba.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function B6(t,e,n=!0){const r=hR(t);let i;const o=r.Tu.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.lu()):i=await lR(r,e,n,!0),i}async function W6(t,e){const n=hR(t);await lR(n,e,!0,!1)}async function lR(t,e,n,r){const i=await c6(t.localStore,kr(e)),o=i.targetId,s=t.sharedClientState.addLocalQueryTarget(o,n);let a;return r&&(a=await z6(t,e,o,s==="current",i.resumeToken)),t.isPrimaryClient&&n&&XA(t.remoteStore,i),a}async function z6(t,e,n,r,i){t.pu=(f,h,g)=>async function(v,E,x,y){let b=E.view.ru(x);b.Cs&&(b=await cb(v.localStore,E.query,!1).then(({documents:S})=>E.view.ru(S,b)));const I=y&&y.targetChanges.get(E.targetId),N=y&&y.targetMismatches.get(E.targetId)!=null,O=E.view.applyChanges(b,v.isPrimaryClient,I,N);return wb(v,E.targetId,O.au),O.snapshot}(t,f,h,g);const o=await cb(t.localStore,e,!0),s=new j6(e,o.Qs),a=s.ru(o.documents),l=Tu.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),c=s.applyChanges(a,t.isPrimaryClient,l);wb(t,n,c.au);const u=new F6(e,n,s);return t.Tu.set(e,u),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),c.snapshot}async function H6(t,e,n){const r=xe(t),i=r.Tu.get(e),o=r.Iu.get(i.targetId);if(o.length>1)return r.Iu.set(i.targetId,o.filter(s=>!ip(s,e))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await oy(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&fw(r.remoteStore,i.targetId),ly(r,i.targetId)}).catch(cl)):(ly(r,i.targetId),await oy(r.localStore,i.targetId,!0))}async function q6(t,e){const n=xe(t),r=n.Tu.get(e),i=n.Iu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),fw(n.remoteStore,r.targetId))}async function G6(t,e,n){const r=e$(t);try{const i=await function(s,a){const l=xe(s),c=it.now(),u=a.reduce((g,_)=>g.add(_.key),Ne());let f,h;return l.persistence.runTransaction("Locally write mutations","readwrite",g=>{let _=yi(),v=Ne();return l.Ns.getEntries(g,u).next(E=>{_=E,_.forEach((x,y)=>{y.isValidDocument()||(v=v.add(x))})}).next(()=>l.localDocuments.getOverlayedDocuments(g,_)).next(E=>{f=E;const x=[];for(const y of a){const b=lF(y,f.get(y.key).overlayedDocument);b!=null&&x.push(new Vo(y.key,b,mA(b.value.mapValue),cr.exists(!0)))}return l.mutationQueue.addMutationBatch(g,c,x,a)}).next(E=>{h=E;const x=E.applyToLocalDocumentSet(f,v);return l.documentOverlayCache.saveOverlays(g,E.batchId,x)})}).then(()=>({batchId:h.batchId,changes:SA(f)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,a,l){let c=s.Vu[s.currentUser.toKey()];c||(c=new pt(ke)),c=c.insert(a,l),s.Vu[s.currentUser.toKey()]=c}(r,i.batchId,n),await Su(r,i.changes),await dp(r.remoteStore)}catch(i){const o=vw(i,"Failed to persist write");n.reject(o)}}async function cR(t,e){const n=xe(t);try{const r=await s6(n.localStore,e);e.targetChanges.forEach((i,o)=>{const s=n.Au.get(o);s&&(We(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?s.hu=!0:i.modifiedDocuments.size>0?We(s.hu,14607):i.removedDocuments.size>0&&(We(s.hu,42227),s.hu=!1))}),await Su(n,r,e)}catch(r){await cl(r)}}function yb(t,e,n){const r=xe(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Tu.forEach((o,s)=>{const a=s.view.va(e);a.snapshot&&i.push(a.snapshot)}),function(s,a){const l=xe(s);l.onlineState=a;let c=!1;l.queries.forEach((u,f)=>{for(const h of f.Sa)h.va(a)&&(c=!0)}),c&&yw(l)}(r.eventManager,e),i.length&&r.Pu.H_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function Y6(t,e,n){const r=xe(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Au.get(e),o=i&&i.key;if(o){let s=new pt(ue.comparator);s=s.insert(o,nn.newNoDocument(o,_e.min()));const a=Ne().add(o),l=new lp(_e.min(),new Map,new pt(ke),s,a);await cR(r,l),r.du=r.du.remove(o),r.Au.delete(e),_w(r)}else await oy(r.localStore,e,!1).then(()=>ly(r,e,n)).catch(cl)}async function K6(t,e){const n=xe(t),r=e.batch.batchId;try{const i=await o6(n.localStore,e);dR(n,r,null),uR(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Su(n,i)}catch(i){await cl(i)}}async function Q6(t,e,n){const r=xe(t);try{const i=await function(s,a){const l=xe(s);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let u;return l.mutationQueue.lookupMutationBatch(c,a).next(f=>(We(f!==null,37113),u=f.keys(),l.mutationQueue.removeMutationBatch(c,f))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,u,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,u)).next(()=>l.localDocuments.getDocuments(c,u))})}(r.localStore,e);dR(r,e,n),uR(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Su(r,i)}catch(i){await cl(i)}}function uR(t,e){(t.mu.get(e)||[]).forEach(n=>{n.resolve()}),t.mu.delete(e)}function dR(t,e,n){const r=xe(t);let i=r.Vu[r.currentUser.toKey()];if(i){const o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.Vu[r.currentUser.toKey()]=i}}function ly(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach(r=>{t.Ru.containsKey(r)||fR(t,r)})}function fR(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(fw(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),_w(t))}function wb(t,e,n){for(const r of n)r instanceof sR?(t.Ru.addReference(r.key,e),X6(t,r)):r instanceof aR?(te(ww,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||fR(t,r.key)):ge(19791,{wu:r})}function X6(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(te(ww,"New document in limbo: "+n),t.Eu.add(r),_w(t))}function _w(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new ue(Qe.fromString(e)),r=t.fu.next();t.Au.set(r,new $6(n)),t.du=t.du.insert(n,r),XA(t.remoteStore,new Xi(kr(nw(n.path)),r,"TargetPurposeLimboResolution",tp.ce))}}async function Su(t,e,n){const r=xe(t),i=[],o=[],s=[];r.Tu.isEmpty()||(r.Tu.forEach((a,l)=>{s.push(r.pu(l,e,n).then(c=>{var u;if((c||n)&&r.isPrimaryClient){const f=c?!c.fromCache:(u=n==null?void 0:n.targetChanges.get(l.targetId))==null?void 0:u.current;r.sharedClientState.updateQueryState(l.targetId,f?"current":"not-current")}if(c){i.push(c);const f=uw.As(l.targetId,c);o.push(f)}}))}),await Promise.all(s),r.Pu.H_(i),await async function(l,c){const u=xe(l);try{await u.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>H.forEach(c,h=>H.forEach(h.Es,g=>u.persistence.referenceDelegate.addReference(f,h.targetId,g)).next(()=>H.forEach(h.ds,g=>u.persistence.referenceDelegate.removeReference(f,h.targetId,g)))))}catch(f){if(!ul(f))throw f;te(dw,"Failed to update sequence numbers: "+f)}for(const f of c){const h=f.targetId;if(!f.fromCache){const g=u.Ms.get(h),_=g.snapshotVersion,v=g.withLastLimboFreeSnapshotVersion(_);u.Ms=u.Ms.insert(h,v)}}}(r.localStore,o))}async function J6(t,e){const n=xe(t);if(!n.currentUser.isEqual(e)){te(ww,"User change. New user:",e.toKey());const r=await GA(n.localStore,e);n.currentUser=e,function(o,s){o.mu.forEach(a=>{a.forEach(l=>{l.reject(new Z(z.CANCELLED,s))})}),o.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Su(n,r.Ls)}}function Z6(t,e){const n=xe(t),r=n.Au.get(e);if(r&&r.hu)return Ne().add(r.key);{let i=Ne();const o=n.Iu.get(e);if(!o)return i;for(const s of o){const a=n.Tu.get(s);i=i.unionWith(a.view.nu)}return i}}function hR(t){const e=xe(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=cR.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Z6.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Y6.bind(null,e),e.Pu.H_=L6.bind(null,e.eventManager),e.Pu.yu=V6.bind(null,e.eventManager),e}function e$(t){const e=xe(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=K6.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Q6.bind(null,e),e}class sh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=cp(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return i6(this.persistence,new t6,e.initialUser,this.serializer)}Cu(e){return new qA(cw.mi,this.serializer)}Du(e){return new d6}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}sh.provider={build:()=>new sh};class t$ extends sh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){We(this.persistence.referenceDelegate instanceof ih,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new $F(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?vn.withCacheSize(this.cacheSizeBytes):vn.DEFAULT;return new qA(r=>ih.mi(r,n),this.serializer)}}class cy{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>yb(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=J6.bind(null,this.syncEngine),await D6(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new O6}()}createDatastore(e){const n=cp(e.databaseInfo.databaseId),r=function(o){return new g6(o)}(e.databaseInfo);return function(o,s,a,l){return new _6(o,s,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,o,s,a){return new E6(r,i,o,s,a)}(this.localStore,this.datastore,e.asyncQueue,n=>yb(this.syncEngine,n,0),function(){return fb.v()?new fb:new f6}())}createSyncEngine(e,n){return function(i,o,s,a,l,c,u){const f=new U6(i,o,s,a,l,c);return u&&(f.gu=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const o=xe(i);te(vs,"RemoteStore shutting down."),o.Ea.add(5),await Cu(o),o.Aa.shutdown(),o.Ra.set("Unknown")}(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}cy.provider={build:()=>new cy};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pR{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):gi("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const So="FirestoreClient";class n${constructor(e,n,r,i,o){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=en.UNAUTHENTICATED,this.clientId=Q0.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,async s=>{te(So,"Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(te(So,"Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new si;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=vw(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function ng(t,e){t.asyncQueue.verifyOperationInProgress(),te(So,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await GA(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function _b(t,e){t.asyncQueue.verifyOperationInProgress();const n=await r$(t);te(So,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>pb(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>pb(e.remoteStore,i)),t._onlineComponents=e}async function r$(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){te(So,"Using user provided OfflineComponentProvider");try{await ng(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===z.FAILED_PRECONDITION||i.code===z.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;ja("Error using user provided cache. Falling back to memory cache: "+n),await ng(t,new sh)}}else te(So,"Using default OfflineComponentProvider"),await ng(t,new t$(void 0));return t._offlineComponents}async function mR(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(te(So,"Using user provided OnlineComponentProvider"),await _b(t,t._uninitializedComponentsProvider._online)):(te(So,"Using default OnlineComponentProvider"),await _b(t,new cy))),t._onlineComponents}function i$(t){return mR(t).then(e=>e.syncEngine)}async function gR(t){const e=await mR(t),n=e.eventManager;return n.onListen=B6.bind(null,e.syncEngine),n.onUnlisten=H6.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=W6.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=q6.bind(null,e.syncEngine),n}function o$(t,e,n={}){const r=new si;return t.asyncQueue.enqueueAndForget(async()=>function(o,s,a,l,c){const u=new pR({next:h=>{u.Nu(),s.enqueueAndForget(()=>iR(o,f));const g=h.docs.has(a);!g&&h.fromCache?c.reject(new Z(z.UNAVAILABLE,"Failed to get document because the client is offline.")):g&&h.fromCache&&l&&l.source==="server"?c.reject(new Z(z.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(h)},error:h=>c.reject(h)}),f=new oR(nw(a.path),u,{includeMetadataChanges:!0,qa:!0});return rR(o,f)}(await gR(t),t.asyncQueue,e,n,r)),r.promise}function s$(t,e,n={}){const r=new si;return t.asyncQueue.enqueueAndForget(async()=>function(o,s,a,l,c){const u=new pR({next:h=>{u.Nu(),s.enqueueAndForget(()=>iR(o,f)),h.fromCache&&l.source==="server"?c.reject(new Z(z.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(h)},error:h=>c.reject(h)}),f=new oR(a,u,{includeMetadataChanges:!0,qa:!0});return rR(o,f)}(await gR(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vR(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xb=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yR="firestore.googleapis.com",Eb=!0;class bb{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new Z(z.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=yR,this.ssl=Eb}else this.host=e.host,this.ssl=e.ssl??Eb;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=HA;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<jF)throw new Z(z.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}b3("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=vR(e.experimentalLongPollingOptions??{}),function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new Z(z.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new Z(z.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new Z(z.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class fp{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new bb({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Z(z.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Z(z.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new bb(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new h3;switch(r.type){case"firstParty":return new v3(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Z(z.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=xb.get(n);r&&(te("ComponentProvider","Removing Datastore"),xb.delete(n),r.terminate())}(this),Promise.resolve()}}function a$(t,e,n,r={}){var c;t=vi(t,fp);const i=sl(e),o=t._getSettings(),s={...o,emulatorOptions:t._getEmulatorOptions()},a=`${e}:${n}`;i&&(UI(`https://${a}`),BI("Firestore",!0)),o.host!==yR&&o.host!==a&&ja("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const l={...o,host:a,ssl:i,emulatorOptions:r};if(!ps(l,s)&&(t._setSettings(l),r.mockUserToken)){let u,f;if(typeof r.mockUserToken=="string")u=r.mockUserToken,f=en.MOCK_USER;else{u=j5(r.mockUserToken,(c=t._app)==null?void 0:c.options.projectId);const h=r.mockUserToken.sub||r.mockUserToken.user_id;if(!h)throw new Z(z.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new en(h)}t._authCredentials=new p3(new nA(u,f))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fl{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new fl(this.firestore,e,this._query)}}class At{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ho(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new At(this.firestore,e,this._key)}toJSON(){return{type:At._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(xu(n,At._jsonSchema))return new At(e,r||null,new ue(Qe.fromString(n.referencePath)))}}At._jsonSchemaVersion="firestore/documentReference/1.0",At._jsonSchema={type:It("string",At._jsonSchemaVersion),referencePath:It("string")};class ho extends fl{constructor(e,n,r){super(e,n,nw(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new At(this.firestore,null,new ue(e))}withConverter(e){return new ho(this.firestore,e,this._path)}}function ys(t,e,...n){if(t=jt(t),rA("collection","path",e),t instanceof fp){const r=Qe.fromString(e,...n);return LE(r),new ho(t,null,r)}{if(!(t instanceof At||t instanceof ho))throw new Z(z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Qe.fromString(e,...n));return LE(r),new ho(t.firestore,null,r)}}function hl(t,e,...n){if(t=jt(t),arguments.length===1&&(e=Q0.newId()),rA("doc","path",e),t instanceof fp){const r=Qe.fromString(e,...n);return OE(r),new At(t,null,new ue(r))}{if(!(t instanceof At||t instanceof ho))throw new Z(z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Qe.fromString(e,...n));return OE(r),new At(t.firestore,t instanceof ho?t.converter:null,new ue(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tb="AsyncQueue";class Cb{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new KA(this,"async_queue_retry"),this._c=()=>{const r=tg();r&&te(Tb,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=tg();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=tg();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const n=new si;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!ul(e))throw e;te(Tb,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const n=this.ac.then(()=>(this.rc=!0,e().catch(r=>{throw this.nc=r,this.rc=!1,gi("INTERNAL UNHANDLED ERROR: ",Sb(r)),r}).then(r=>(this.rc=!1,r))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const i=gw.createAndSchedule(this,e,n,r,o=>this.hc(o));return this.tc.push(i),i}uc(){this.nc&&ge(47125,{Pc:Sb(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function Sb(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class pl extends fp{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new Cb,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Cb(e),this._firestoreClient=void 0,await e}}}function l$(t,e){const n=typeof t=="object"?t:qI(),r=typeof t=="string"?t:e||Xf,i=Y0(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const o=L5("firestore");o&&a$(i,...o)}return i}function xw(t){if(t._terminated)throw new Z(z.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||c$(t),t._firestoreClient}function c$(t){var r,i,o;const e=t._freezeSettings(),n=function(a,l,c,u){return new M3(a,l,c,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,vR(u.experimentalLongPollingOptions),u.useFetchStreams,u.isUsingEmulator)}(t._databaseId,((r=t._app)==null?void 0:r.options.appId)||"",t._persistenceKey,e);t._componentsProvider||(i=e.localCache)!=null&&i._offlineComponentProvider&&((o=e.localCache)!=null&&o._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new n$(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&function(a){const l=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Hn(qt.fromBase64String(e))}catch(n){throw new Z(z.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Hn(qt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Hn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(xu(e,Hn._jsonSchema))return Hn.fromBase64String(e.bytes)}}Hn._jsonSchemaVersion="firestore/bytes/1.0",Hn._jsonSchema={type:It("string",Hn._jsonSchemaVersion),bytes:It("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hp{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Z(z.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Bt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ew{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dr{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Z(z.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Z(z.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return ke(this._lat,e._lat)||ke(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Dr._jsonSchemaVersion}}static fromJSON(e){if(xu(e,Dr._jsonSchema))return new Dr(e.latitude,e.longitude)}}Dr._jsonSchemaVersion="firestore/geoPoint/1.0",Dr._jsonSchema={type:It("string",Dr._jsonSchemaVersion),latitude:It("number"),longitude:It("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mr{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}(this._values,e._values)}toJSON(){return{type:Mr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(xu(e,Mr._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new Mr(e.vectorValues);throw new Z(z.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Mr._jsonSchemaVersion="firestore/vectorValue/1.0",Mr._jsonSchema={type:It("string",Mr._jsonSchemaVersion),vectorValues:It("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u$=/^__.*__$/;class d${constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Vo(e,this.data,this.fieldMask,n,this.fieldTransforms):new bu(e,this.data,n,this.fieldTransforms)}}class wR{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Vo(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function _R(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ge(40011,{Ac:t})}}class bw{constructor(e,n,r,i,o,s){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.Rc(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new bw({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var i;const n=(i=this.path)==null?void 0:i.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){var i;const n=(i=this.path)==null?void 0:i.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return ah(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(_R(this.Ac)&&u$.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class f${constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||cp(e)}Cc(e,n,r,i=!1){return new bw({Ac:e,methodName:n,Dc:r,path:Bt.emptyPath(),fc:!1,bc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Tw(t){const e=t._freezeSettings(),n=cp(t._databaseId);return new f$(t._databaseId,!!e.ignoreUndefinedProperties,n)}function h$(t,e,n,r,i,o={}){const s=t.Cc(o.merge||o.mergeFields?2:0,e,n,i);Cw("Data must be an object, but it was:",s,r);const a=xR(r,s);let l,c;if(o.merge)l=new Dn(s.fieldMask),c=s.fieldTransforms;else if(o.mergeFields){const u=[];for(const f of o.mergeFields){const h=uy(e,f,n);if(!s.contains(h))throw new Z(z.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);bR(u,h)||u.push(h)}l=new Dn(u),c=s.fieldTransforms.filter(f=>l.covers(f.field))}else l=null,c=s.fieldTransforms;return new d$(new wn(a),l,c)}class pp extends Ew{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof pp}}function p$(t,e,n,r){const i=t.Cc(1,e,n);Cw("Data must be an object, but it was:",i,r);const o=[],s=wn.empty();Lo(r,(l,c)=>{const u=Sw(e,l,n);c=jt(c);const f=i.yc(u);if(c instanceof pp)o.push(u);else{const h=Pu(c,f);h!=null&&(o.push(u),s.set(u,h))}});const a=new Dn(o);return new wR(s,a,i.fieldTransforms)}function m$(t,e,n,r,i,o){const s=t.Cc(1,e,n),a=[uy(e,r,n)],l=[i];if(o.length%2!=0)throw new Z(z.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<o.length;h+=2)a.push(uy(e,o[h])),l.push(o[h+1]);const c=[],u=wn.empty();for(let h=a.length-1;h>=0;--h)if(!bR(c,a[h])){const g=a[h];let _=l[h];_=jt(_);const v=s.yc(g);if(_ instanceof pp)c.push(g);else{const E=Pu(_,v);E!=null&&(c.push(g),u.set(g,E))}}const f=new Dn(c);return new wR(u,f,s.fieldTransforms)}function g$(t,e,n,r=!1){return Pu(n,t.Cc(r?4:3,e))}function Pu(t,e){if(ER(t=jt(t)))return Cw("Unsupported field value:",e,t),xR(t,e);if(t instanceof Ew)return function(r,i){if(!_R(i.Ac))throw i.Sc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Sc(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(r,i){const o=[];let s=0;for(const a of r){let l=Pu(a,i.wc(s));l==null&&(l={nullValue:"NULL_VALUE"}),o.push(l),s++}return{arrayValue:{values:o}}}(t,e)}return function(r,i){if((r=jt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return nF(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=it.fromDate(r);return{timestampValue:rh(i.serializer,o)}}if(r instanceof it){const o=new it(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:rh(i.serializer,o)}}if(r instanceof Dr)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Hn)return{bytesValue:jA(i.serializer,r._byteString)};if(r instanceof At){const o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.Sc(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:aw(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Mr)return function(s,a){return{mapValue:{fields:{[fA]:{stringValue:pA},[Jf]:{arrayValue:{values:s.toArray().map(c=>{if(typeof c!="number")throw a.Sc("VectorValues must only contain numeric values.");return rw(a.serializer,c)})}}}}}}(r,i);throw i.Sc(`Unsupported field value: ${ep(r)}`)}(t,e)}function xR(t,e){const n={};return sA(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Lo(t,(r,i)=>{const o=Pu(i,e.mc(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function ER(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof it||t instanceof Dr||t instanceof Hn||t instanceof At||t instanceof Ew||t instanceof Mr)}function Cw(t,e,n){if(!ER(n)||!iA(n)){const r=ep(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function uy(t,e,n){if((e=jt(e))instanceof hp)return e._internalPath;if(typeof e=="string")return Sw(t,e);throw ah("Field path arguments must be of type string or ",t,!1,void 0,n)}const v$=new RegExp("[~\\*/\\[\\]]");function Sw(t,e,n){if(e.search(v$)>=0)throw ah(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new hp(...e.split("."))._internalPath}catch{throw ah(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function ah(t,e,n,r,i){const o=r&&!r.isEmpty(),s=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(o||s)&&(l+=" (found",o&&(l+=` in field ${r}`),s&&(l+=` in document ${i}`),l+=")"),new Z(z.INVALID_ARGUMENT,a+t+l)}function bR(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TR{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new At(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new y$(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Pw("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class y$ extends TR{data(){return super.data()}}function Pw(t,e){return typeof e=="string"?Sw(t,e):e instanceof hp?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w$(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Z(z.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Iw{}class _$ extends Iw{}function tu(t,e,...n){let r=[];e instanceof Iw&&r.push(e),r=r.concat(n),function(o){const s=o.filter(l=>l instanceof Aw).length,a=o.filter(l=>l instanceof mp).length;if(s>1||s>0&&a>0)throw new Z(z.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class mp extends _${constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new mp(e,n,r)}_apply(e){const n=this._parse(e);return CR(e._query,n),new fl(e.firestore,e.converter,Zv(e._query,n))}_parse(e){const n=Tw(e.firestore);return function(o,s,a,l,c,u,f){let h;if(c.isKeyField()){if(u==="array-contains"||u==="array-contains-any")throw new Z(z.INVALID_ARGUMENT,`Invalid Query. You can't perform '${u}' queries on documentId().`);if(u==="in"||u==="not-in"){Ib(f,u);const _=[];for(const v of f)_.push(Pb(l,o,v));h={arrayValue:{values:_}}}else h=Pb(l,o,f)}else u!=="in"&&u!=="not-in"&&u!=="array-contains-any"||Ib(f,u),h=g$(a,s,f,u==="in"||u==="not-in");return Pt.create(c,u,h)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function po(t,e,n){const r=e,i=Pw("where",t);return mp._create(i,r,n)}class Aw extends Iw{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Aw(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:dr.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,o){let s=i;const a=o.getFlattenedFilters();for(const l of a)CR(s,l),s=Zv(s,l)}(e._query,n),new fl(e.firestore,e.converter,Zv(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function Pb(t,e,n){if(typeof(n=jt(n))=="string"){if(n==="")throw new Z(z.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!EA(e)&&n.indexOf("/")!==-1)throw new Z(z.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Qe.fromString(n));if(!ue.isDocumentKey(r))throw new Z(z.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return zE(t,new ue(r))}if(n instanceof At)return zE(t,n._key);throw new Z(z.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${ep(n)}.`)}function Ib(t,e){if(!Array.isArray(t)||t.length===0)throw new Z(z.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function CR(t,e){const n=function(i,o){for(const s of i)for(const a of s.getFlattenedFilters())if(o.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new Z(z.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Z(z.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class x${convertValue(e,n="none"){switch(To(e)){case 0:return null;case 1:return e.booleanValue;case 2:return wt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(bo(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw ge(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Lo(e,(i,o)=>{r[i]=this.convertValue(o,n)}),r}convertVectorValue(e){var r,i,o;const n=(o=(i=(r=e.fields)==null?void 0:r[Jf].arrayValue)==null?void 0:i.values)==null?void 0:o.map(s=>wt(s.doubleValue));return new Mr(n)}convertGeoPoint(e){return new Dr(wt(e.latitude),wt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=rp(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Qc(e));default:return null}}convertTimestamp(e){const n=Eo(e);return new it(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Qe.fromString(e);We(zA(r),9688,{name:e});const i=new Xc(r.get(1),r.get(3)),o=new ue(r.popFirst(5));return i.isEqual(n)||gi(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E$(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class ic{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ls extends TR{constructor(e,n,r,i,o,s){super(e,n,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new df(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Pw("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Z(z.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=ls._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}ls._jsonSchemaVersion="firestore/documentSnapshot/1.0",ls._jsonSchema={type:It("string",ls._jsonSchemaVersion),bundleSource:It("string","DocumentSnapshot"),bundleName:It("string"),bundle:It("string")};class df extends ls{data(e={}){return super.data(e)}}class ba{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new ic(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new df(this._firestore,this._userDataWriter,r.key,r,new ic(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Z(z.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>{const l=new df(i._firestore,i._userDataWriter,a.doc.key,a.doc,new ic(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>o||a.type!==3).map(a=>{const l=new df(i._firestore,i._userDataWriter,a.doc.key,a.doc,new ic(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let c=-1,u=-1;return a.type!==0&&(c=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),a.type!==1&&(s=s.add(a.doc),u=s.indexOf(a.doc.key)),{type:b$(a.type),doc:l,oldIndex:c,newIndex:u}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Z(z.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=ba._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Q0.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],i=[];return this.docs.forEach(o=>{o._document!==null&&(n.push(o._document),r.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),i.push(o.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function b$(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ge(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rw(t){t=vi(t,At);const e=vi(t.firestore,pl);return o$(xw(e),t._key).then(n=>C$(e,t,n))}ba._jsonSchemaVersion="firestore/querySnapshot/1.0",ba._jsonSchema={type:It("string",ba._jsonSchemaVersion),bundleSource:It("string","QuerySnapshot"),bundleName:It("string"),bundle:It("string")};class SR extends x${constructor(e){super(),this.firestore=e}convertBytes(e){return new Hn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new At(this.firestore,null,n)}}function nu(t){t=vi(t,fl);const e=vi(t.firestore,pl),n=xw(e),r=new SR(e);return w$(t._query),s$(n,t._query).then(i=>new ba(e,r,t,i))}function kw(t,e,n,...r){t=vi(t,At);const i=vi(t.firestore,pl),o=Tw(i);let s;return s=typeof(e=jt(e))=="string"||e instanceof hp?m$(o,"updateDoc",t._key,e,n,r):p$(o,"updateDoc",t._key,e),Nw(i,[s.toMutation(t._key,cr.exists(!0))])}function T$(t){return Nw(vi(t.firestore,pl),[new iw(t._key,cr.none())])}function PR(t,e){const n=vi(t.firestore,pl),r=hl(t),i=E$(t.converter,e);return Nw(n,[h$(Tw(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,cr.exists(!1))]).then(()=>r)}function Nw(t,e){return function(r,i){const o=new si;return r.asyncQueue.enqueueAndForget(async()=>G6(await i$(r),i,o)),o.promise}(xw(t),e)}function C$(t,e,n){const r=n.docs.get(e._key),i=new SR(t);return new ls(t,i,e._key,r,new ic(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){ll=i})(al),Va(new ms("firestore",(r,{instanceIdentifier:i,options:o})=>{const s=r.getProvider("app").getImmediate(),a=new pl(new m3(r.getProvider("auth-internal")),new y3(s,r.getProvider("app-check-internal")),function(c,u){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new Z(z.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Xc(c.options.projectId,u)}(s,i),s);return o={useFetchStreams:n,...o},a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),uo(kE,NE,e),uo(kE,NE,"esm2020")})();function IR(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const S$=IR,AR=new wu("auth","Firebase",IR());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lh=new q0("@firebase/auth");function P$(t,...e){lh.logLevel<=Re.WARN&&lh.warn(`Auth (${al}): ${t}`,...e)}function ff(t,...e){lh.logLevel<=Re.ERROR&&lh.error(`Auth (${al}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fr(t,...e){throw Dw(t,...e)}function Or(t,...e){return Dw(t,...e)}function RR(t,e,n){const r={...S$(),[e]:n};return new wu("auth","Firebase",r).create(e,{appName:t.name})}function ai(t){return RR(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Dw(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return AR.create(t,...e)}function me(t,e,...n){if(!t)throw Dw(e,...n)}function ni(t){const e="INTERNAL ASSERTION FAILED: "+t;throw ff(e),new Error(e)}function wi(t,e){t||ni(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dy(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function I$(){return Ab()==="http:"||Ab()==="https:"}function Ab(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A$(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(I$()||z5()||"connection"in navigator)?navigator.onLine:!0}function R$(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iu{constructor(e,n){this.shortDelay=e,this.longDelay=n,wi(n>e,"Short delay should be less than long delay!"),this.isMobile=U5()||H5()}get(){return A$()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mw(t,e){wi(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kR{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ni("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ni("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ni("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k$={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N$=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],D$=new Iu(3e4,6e4);function jo(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function Fo(t,e,n,r,i={}){return NR(t,i,async()=>{let o={},s={};r&&(e==="GET"?s=r:o={body:JSON.stringify(r)});const a=_u({key:t.config.apiKey,...s}).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const c={method:e,headers:l,...o};return W5()||(c.referrerPolicy="no-referrer"),t.emulatorConfig&&sl(t.emulatorConfig.host)&&(c.credentials="include"),kR.fetch()(await DR(t,t.config.apiHost,n,a),c)})}async function NR(t,e,n){t._canInitEmulator=!1;const r={...k$,...e};try{const i=new O$(t),o=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const s=await o.json();if("needConfirmation"in s)throw Ad(t,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{const a=o.ok?s.errorMessage:s.error.message,[l,c]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Ad(t,"credential-already-in-use",s);if(l==="EMAIL_EXISTS")throw Ad(t,"email-already-in-use",s);if(l==="USER_DISABLED")throw Ad(t,"user-disabled",s);const u=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw RR(t,u,c);fr(t,u)}}catch(i){if(i instanceof Pi)throw i;fr(t,"network-request-failed",{message:String(i)})}}async function Au(t,e,n,r,i={}){const o=await Fo(t,e,n,r,i);return"mfaPendingCredential"in o&&fr(t,"multi-factor-auth-required",{_serverResponse:o}),o}async function DR(t,e,n,r){const i=`${e}${n}?${r}`,o=t,s=o.config.emulator?Mw(t.config,i):`${t.config.apiScheme}://${i}`;return N$.includes(n)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(s).toString():s}function M$(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class O${clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Or(this.auth,"network-request-failed")),D$.get())})}}function Ad(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Or(t,e,r);return i.customData._tokenResponse=n,i}function Rb(t){return t!==void 0&&t.enterprise!==void 0}class L${constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return M$(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function V$(t,e){return Fo(t,"GET","/v2/recaptchaConfig",jo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function j$(t,e){return Fo(t,"POST","/v1/accounts:delete",e)}async function ch(t,e){return Fo(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _c(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function F$(t,e=!1){const n=jt(t),r=await n.getIdToken(e),i=Ow(r);me(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const o=typeof i.firebase=="object"?i.firebase:void 0,s=o==null?void 0:o.sign_in_provider;return{claims:i,token:r,authTime:_c(rg(i.auth_time)),issuedAtTime:_c(rg(i.iat)),expirationTime:_c(rg(i.exp)),signInProvider:s||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function rg(t){return Number(t)*1e3}function Ow(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return ff("JWT malformed, contained fewer than 3 sections"),null;try{const i=VI(n);return i?JSON.parse(i):(ff("Failed to decode base64 JWT payload"),null)}catch(i){return ff("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function kb(t){const e=Ow(t);return me(e,"internal-error"),me(typeof e.exp<"u","internal-error"),me(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ru(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Pi&&$$(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function $$({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U${constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fy{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=_c(this.lastLoginAt),this.creationTime=_c(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uh(t){var f;const e=t.auth,n=await t.getIdToken(),r=await ru(t,ch(e,{idToken:n}));me(r==null?void 0:r.users.length,e,"internal-error");const i=r.users[0];t._notifyReloadListener(i);const o=(f=i.providerUserInfo)!=null&&f.length?MR(i.providerUserInfo):[],s=W$(t.providerData,o),a=t.isAnonymous,l=!(t.email&&i.passwordHash)&&!(s!=null&&s.length),c=a?l:!1,u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new fy(i.createdAt,i.lastLoginAt),isAnonymous:c};Object.assign(t,u)}async function B$(t){const e=jt(t);await uh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function W$(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function MR(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function z$(t,e){const n=await NR(t,{},async()=>{const r=_u({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,s=await DR(t,i,"/v1/token",`key=${o}`),a=await t._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";const l={method:"POST",headers:a,body:r};return t.emulatorConfig&&sl(t.emulatorConfig.host)&&(l.credentials="include"),kR.fetch()(s,l)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function H$(t,e){return Fo(t,"POST","/v2/accounts:revokeToken",jo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ta{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){me(e.idToken,"internal-error"),me(typeof e.idToken<"u","internal-error"),me(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):kb(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){me(e.length!==0,"internal-error");const n=kb(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(me(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:o}=await z$(e,n);this.updateTokensAndExpiration(r,i,Number(o))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:o}=n,s=new Ta;return r&&(me(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(me(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&(me(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ta,this.toJSON())}_performRefresh(){return ni("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Di(t,e){me(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class sr{constructor({uid:e,auth:n,stsTokenManager:r,...i}){this.providerId="firebase",this.proactiveRefresh=new U$(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new fy(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await ru(this,this.stsTokenManager.getToken(this.auth,e));return me(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return F$(this,e)}reload(){return B$(this)}_assign(e){this!==e&&(me(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new sr({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){me(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await uh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(zn(this.auth.app))return Promise.reject(ai(this.auth));const e=await this.getIdToken();return await ru(this,j$(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,i=n.email??void 0,o=n.phoneNumber??void 0,s=n.photoURL??void 0,a=n.tenantId??void 0,l=n._redirectEventId??void 0,c=n.createdAt??void 0,u=n.lastLoginAt??void 0,{uid:f,emailVerified:h,isAnonymous:g,providerData:_,stsTokenManager:v}=n;me(f&&v,e,"internal-error");const E=Ta.fromJSON(this.name,v);me(typeof f=="string",e,"internal-error"),Di(r,e.name),Di(i,e.name),me(typeof h=="boolean",e,"internal-error"),me(typeof g=="boolean",e,"internal-error"),Di(o,e.name),Di(s,e.name),Di(a,e.name),Di(l,e.name),Di(c,e.name),Di(u,e.name);const x=new sr({uid:f,auth:e,email:i,emailVerified:h,displayName:r,isAnonymous:g,photoURL:s,phoneNumber:o,tenantId:a,stsTokenManager:E,createdAt:c,lastLoginAt:u});return _&&Array.isArray(_)&&(x.providerData=_.map(y=>({...y}))),l&&(x._redirectEventId=l),x}static async _fromIdTokenResponse(e,n,r=!1){const i=new Ta;i.updateFromServerResponse(n);const o=new sr({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await uh(o),o}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];me(i.localId!==void 0,"internal-error");const o=i.providerUserInfo!==void 0?MR(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!(o!=null&&o.length),a=new Ta;a.updateFromIdToken(r);const l=new sr({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:s}),c={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new fy(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(o!=null&&o.length)};return Object.assign(l,c),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nb=new Map;function ri(t){wi(t instanceof Function,"Expected a class definition");let e=Nb.get(t);return e?(wi(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,Nb.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OR{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}OR.type="NONE";const Db=OR;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hf(t,e,n){return`firebase:${t}:${e}:${n}`}class Ca{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:o}=this.auth;this.fullUserKey=hf(this.userKey,i.apiKey,o),this.fullPersistenceKey=hf("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await ch(this.auth,{idToken:e}).catch(()=>{});return n?sr._fromGetAccountInfoResponse(this.auth,n,e):null}return sr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Ca(ri(Db),e,r);const i=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let o=i[0]||ri(Db);const s=hf(r,e.config.apiKey,e.name);let a=null;for(const c of n)try{const u=await c._get(s);if(u){let f;if(typeof u=="string"){const h=await ch(e,{idToken:u}).catch(()=>{});if(!h)break;f=await sr._fromGetAccountInfoResponse(e,h,u)}else f=sr._fromJSON(e,u);c!==o&&(a=f),o=c;break}}catch{}const l=i.filter(c=>c._shouldAllowMigration);return!o._shouldAllowMigration||!l.length?new Ca(o,e,r):(o=l[0],a&&await o._set(s,a.toJSON()),await Promise.all(n.map(async c=>{if(c!==o)try{await c._remove(s)}catch{}})),new Ca(o,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mb(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(FR(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(LR(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(UR(e))return"Blackberry";if(BR(e))return"Webos";if(VR(e))return"Safari";if((e.includes("chrome/")||jR(e))&&!e.includes("edge/"))return"Chrome";if($R(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function LR(t=sn()){return/firefox\//i.test(t)}function VR(t=sn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function jR(t=sn()){return/crios\//i.test(t)}function FR(t=sn()){return/iemobile/i.test(t)}function $R(t=sn()){return/android/i.test(t)}function UR(t=sn()){return/blackberry/i.test(t)}function BR(t=sn()){return/webos/i.test(t)}function Lw(t=sn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function q$(t=sn()){var e;return Lw(t)&&!!((e=window.navigator)!=null&&e.standalone)}function G$(){return q5()&&document.documentMode===10}function WR(t=sn()){return Lw(t)||$R(t)||BR(t)||UR(t)||/windows phone/i.test(t)||FR(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zR(t,e=[]){let n;switch(t){case"Browser":n=Mb(sn());break;case"Worker":n=`${Mb(sn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${al}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y${constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=o=>new Promise((s,a)=>{try{const l=e(o);s(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function K$(t,e={}){return Fo(t,"GET","/v2/passwordPolicy",jo(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q$=6;class X${constructor(e){var r;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??Q$,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((r=e.allowedNonAlphanumericCharacters)==null?void 0:r.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J${constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ob(this),this.idTokenSubscription=new Ob(this),this.beforeStateQueue=new Y$(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=AR,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=ri(n)),this._initializationPromise=this.queue(async()=>{var r,i,o;if(!this._deleted&&(this.persistenceManager=await Ca.create(this,e),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((i=this._popupRedirectResolver)!=null&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((o=this.currentUser)==null?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await ch(this,{idToken:e}),r=await sr._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var o;if(zn(this.app)){const s=this.app.settings.authIdToken;return s?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(a,a))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const s=(o=this.redirectUser)==null?void 0:o._redirectEventId,a=r==null?void 0:r._redirectEventId,l=await this.tryRedirectSignIn(e);(!s||s===a)&&(l!=null&&l.user)&&(r=l.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(s){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return me(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await uh(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=R$()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(zn(this.app))return Promise.reject(ai(this));const n=e?jt(e):null;return n&&me(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&me(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return zn(this.app)?Promise.reject(ai(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return zn(this.app)?Promise.reject(ai(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ri(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await K$(this),n=new X$(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new wu("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await H$(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&ri(e)||this._popupRedirectResolver;me(n,this,"argument-error"),this.redirectPersistenceManager=await Ca.create(this,[ri(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const o=typeof n=="function"?n:n.next.bind(n);let s=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(me(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{s=!0,l()}}else{const l=e.addObserver(n);return()=>{s=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return me(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=zR(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var i;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((i=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:i.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){var n;if(zn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&P$(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function Rs(t){return jt(t)}class Ob{constructor(e){this.auth=e,this.observer=null,this.addObserver=ej(n=>this.observer=n)}get next(){return me(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let gp={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Z$(t){gp=t}function HR(t){return gp.loadJS(t)}function e9(){return gp.recaptchaEnterpriseScript}function t9(){return gp.gapiScript}function n9(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class r9{constructor(){this.enterprise=new i9}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class i9{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const o9="recaptcha-enterprise",qR="NO_RECAPTCHA";class s9{constructor(e){this.type=o9,this.auth=Rs(e)}async verify(e="verify",n=!1){async function r(o){if(!n){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(s,a)=>{V$(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const c=new L$(l);return o.tenantId==null?o._agentRecaptchaConfig=c:o._tenantRecaptchaConfigs[o.tenantId]=c,s(c.siteKey)}}).catch(l=>{a(l)})})}function i(o,s,a){const l=window.grecaptcha;Rb(l)?l.enterprise.ready(()=>{l.enterprise.execute(o,{action:e}).then(c=>{s(c)}).catch(()=>{s(qR)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new r9().execute("siteKey",{action:"verify"}):new Promise((o,s)=>{r(this.auth).then(a=>{if(!n&&Rb(window.grecaptcha))i(a,o,s);else{if(typeof window>"u"){s(new Error("RecaptchaVerifier is only supported in browser"));return}let l=e9();l.length!==0&&(l+=a),HR(l).then(()=>{i(a,o,s)}).catch(c=>{s(c)})}}).catch(a=>{s(a)})})}}async function Wl(t,e,n,r=!1,i=!1){const o=new s9(t);let s;if(i)s=qR;else try{s=await o.verify(n)}catch{s=await o.verify(n,!0)}const a={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in a){const l=a.phoneEnrollmentInfo.phoneNumber,c=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:l,recaptchaToken:c,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){const l=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:l,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return r?Object.assign(a,{captchaResp:s}):Object.assign(a,{captchaResponse:s}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function hy(t,e,n,r,i){var o,s;if(i==="EMAIL_PASSWORD_PROVIDER")if((o=t._getRecaptchaConfig())!=null&&o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const a=await Wl(t,e,n,n==="getOobCode");return r(t,a)}else return r(t,e).catch(async a=>{if(a.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const l=await Wl(t,e,n,n==="getOobCode");return r(t,l)}else return Promise.reject(a)});else if(i==="PHONE_PROVIDER")if((s=t._getRecaptchaConfig())!=null&&s.isProviderEnabled("PHONE_PROVIDER")){const a=await Wl(t,e,n);return r(t,a).catch(async l=>{var c;if(((c=t._getRecaptchaConfig())==null?void 0:c.getProviderEnforcementState("PHONE_PROVIDER"))==="AUDIT"&&(l.code==="auth/missing-recaptcha-token"||l.code==="auth/invalid-app-credential")){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${n} flow.`);const u=await Wl(t,e,n,!1,!0);return r(t,u)}return Promise.reject(l)})}else{const a=await Wl(t,e,n,!1,!0);return r(t,a)}else return Promise.reject(i+" provider is not supported.")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a9(t,e){const n=Y0(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),o=n.getOptions();if(ps(o,e??{}))return i;fr(i,"already-initialized")}return n.initialize({options:e})}function l9(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(ri);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function c9(t,e,n){const r=Rs(t);me(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!(n!=null&&n.disableWarnings),o=GR(e),{host:s,port:a}=u9(e),l=a===null?"":`:${a}`,c={url:`${o}//${s}${l}/`},u=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){me(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),me(ps(c,r.config.emulator)&&ps(u,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=c,r.emulatorConfig=u,r.settings.appVerificationDisabledForTesting=!0,sl(s)?(UI(`${o}//${s}${l}`),BI("Auth",!0)):i||d9()}function GR(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function u9(t){const e=GR(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const o=i[1];return{host:o,port:Lb(r.substr(o.length+1))}}else{const[o,s]=r.split(":");return{host:o,port:Lb(s)}}}function Lb(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function d9(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vw{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return ni("not implemented")}_getIdTokenResponse(e){return ni("not implemented")}_linkToIdToken(e,n){return ni("not implemented")}_getReauthenticationResolver(e){return ni("not implemented")}}async function f9(t,e){return Fo(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function h9(t,e){return Au(t,"POST","/v1/accounts:signInWithPassword",jo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function p9(t,e){return Au(t,"POST","/v1/accounts:signInWithEmailLink",jo(t,e))}async function m9(t,e){return Au(t,"POST","/v1/accounts:signInWithEmailLink",jo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iu extends Vw{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new iu(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new iu(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return hy(e,n,"signInWithPassword",h9,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return p9(e,{email:this._email,oobCode:this._password});default:fr(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return hy(e,r,"signUpPassword",f9,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return m9(e,{idToken:n,email:this._email,oobCode:this._password});default:fr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Sa(t,e){return Au(t,"POST","/v1/accounts:signInWithIdp",jo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g9="http://localhost";class ws extends Vw{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new ws(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):fr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i,...o}=n;if(!r||!i)return null;const s=new ws(r,i);return s.idToken=o.idToken||void 0,s.accessToken=o.accessToken||void 0,s.secret=o.secret,s.nonce=o.nonce,s.pendingToken=o.pendingToken||null,s}_getIdTokenResponse(e){const n=this.buildRequest();return Sa(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Sa(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Sa(e,n)}buildRequest(){const e={requestUri:g9,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=_u(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v9(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function y9(t){const e=Zl(ec(t)).link,n=e?Zl(ec(e)).deep_link_id:null,r=Zl(ec(t)).deep_link_id;return(r?Zl(ec(r)).link:null)||r||n||e||t}class jw{constructor(e){const n=Zl(ec(e)),r=n.apiKey??null,i=n.oobCode??null,o=v9(n.mode??null);me(r&&i&&o,"argument-error"),this.apiKey=r,this.operation=o,this.code=i,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=y9(e);try{return new jw(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ml{constructor(){this.providerId=ml.PROVIDER_ID}static credential(e,n){return iu._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=jw.parseLink(n);return me(r,"argument-error"),iu._fromEmailAndCode(e,r.code,r.tenantId)}}ml.PROVIDER_ID="password";ml.EMAIL_PASSWORD_SIGN_IN_METHOD="password";ml.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YR{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ru extends YR{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zi extends Ru{constructor(){super("facebook.com")}static credential(e){return ws._fromParams({providerId:zi.PROVIDER_ID,signInMethod:zi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return zi.credentialFromTaggedObject(e)}static credentialFromError(e){return zi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return zi.credential(e.oauthAccessToken)}catch{return null}}}zi.FACEBOOK_SIGN_IN_METHOD="facebook.com";zi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hi extends Ru{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return ws._fromParams({providerId:Hi.PROVIDER_ID,signInMethod:Hi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Hi.credentialFromTaggedObject(e)}static credentialFromError(e){return Hi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Hi.credential(n,r)}catch{return null}}}Hi.GOOGLE_SIGN_IN_METHOD="google.com";Hi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qi extends Ru{constructor(){super("github.com")}static credential(e){return ws._fromParams({providerId:qi.PROVIDER_ID,signInMethod:qi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return qi.credentialFromTaggedObject(e)}static credentialFromError(e){return qi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return qi.credential(e.oauthAccessToken)}catch{return null}}}qi.GITHUB_SIGN_IN_METHOD="github.com";qi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gi extends Ru{constructor(){super("twitter.com")}static credential(e,n){return ws._fromParams({providerId:Gi.PROVIDER_ID,signInMethod:Gi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Gi.credentialFromTaggedObject(e)}static credentialFromError(e){return Gi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Gi.credential(n,r)}catch{return null}}}Gi.TWITTER_SIGN_IN_METHOD="twitter.com";Gi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function w9(t,e){return Au(t,"POST","/v1/accounts:signUp",jo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _s{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const o=await sr._fromIdTokenResponse(e,r,i),s=Vb(r);return new _s({user:o,providerId:s,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=Vb(r);return new _s({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function Vb(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dh extends Pi{constructor(e,n,r,i){super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,dh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new dh(e,n,r,i)}}function KR(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?dh._fromErrorAndOperation(t,o,e,r):o})}async function _9(t,e,n=!1){const r=await ru(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return _s._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function x9(t,e,n=!1){const{auth:r}=t;if(zn(r.app))return Promise.reject(ai(r));const i="reauthenticate";try{const o=await ru(t,KR(r,i,e,t),n);me(o.idToken,r,"internal-error");const s=Ow(o.idToken);me(s,r,"internal-error");const{sub:a}=s;return me(t.uid===a,r,"user-mismatch"),_s._forOperation(t,i,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&fr(r,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QR(t,e,n=!1){if(zn(t.app))return Promise.reject(ai(t));const r="signIn",i=await KR(t,r,e),o=await _s._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(o.user),o}async function E9(t,e){return QR(Rs(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function XR(t){const e=Rs(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function b9(t,e,n){if(zn(t.app))return Promise.reject(ai(t));const r=Rs(t),s=await hy(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",w9,"EMAIL_PASSWORD_PROVIDER").catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&XR(t),l}),a=await _s._fromIdTokenResponse(r,"signIn",s);return await r._updateCurrentUser(a.user),a}function T9(t,e,n){return zn(t.app)?Promise.reject(ai(t)):E9(jt(t),ml.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&XR(t),r})}function C9(t,e,n,r){return jt(t).onIdTokenChanged(e,n,r)}function S9(t,e,n){return jt(t).beforeAuthStateChanged(e,n)}function P9(t,e,n,r){return jt(t).onAuthStateChanged(e,n,r)}function I9(t){return jt(t).signOut()}const fh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JR{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(fh,"1"),this.storage.removeItem(fh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A9=1e3,R9=10;class ZR extends JR{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=WR(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((s,a,l)=>{this.notifyListeners(s,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const s=this.storage.getItem(r);!n&&this.localCache[r]===s||this.notifyListeners(r,s)},o=this.storage.getItem(r);G$()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,R9):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},A9)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}ZR.type="LOCAL";const k9=ZR;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ek extends JR{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}ek.type="SESSION";const tk=ek;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N9(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vp{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new vp(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:o}=n.data,s=this.handlersMap[i];if(!(s!=null&&s.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(s).map(async c=>c(n.origin,o)),l=await N9(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}vp.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fw(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D9{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,s;return new Promise((a,l)=>{const c=Fw("",20);i.port1.start();const u=setTimeout(()=>{l(new Error("unsupported_event"))},r);s={messageChannel:i,onMessage(f){const h=f;if(h.data.eventId===c)switch(h.data.status){case"ack":clearTimeout(u),o=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),a(h.data.response);break;default:clearTimeout(u),clearTimeout(o),l(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lr(){return window}function M9(t){Lr().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nk(){return typeof Lr().WorkerGlobalScope<"u"&&typeof Lr().importScripts=="function"}async function O9(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function L9(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function V9(){return nk()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rk="firebaseLocalStorageDb",j9=1,hh="firebaseLocalStorage",ik="fbase_key";class ku{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function yp(t,e){return t.transaction([hh],e?"readwrite":"readonly").objectStore(hh)}function F9(){const t=indexedDB.deleteDatabase(rk);return new ku(t).toPromise()}function py(){const t=indexedDB.open(rk,j9);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(hh,{keyPath:ik})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(hh)?e(r):(r.close(),await F9(),e(await py()))})})}async function jb(t,e,n){const r=yp(t,!0).put({[ik]:e,value:n});return new ku(r).toPromise()}async function $9(t,e){const n=yp(t,!1).get(e),r=await new ku(n).toPromise();return r===void 0?null:r.value}function Fb(t,e){const n=yp(t,!0).delete(e);return new ku(n).toPromise()}const U9=800,B9=3;class ok{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await py(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>B9)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return nk()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=vp._getInstance(V9()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,r;if(this.activeServiceWorker=await O9(),!this.activeServiceWorker)return;this.sender=new D9(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(r=e[0])!=null&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||L9()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await py();return await jb(e,fh,"1"),await Fb(e,fh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>jb(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>$9(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Fb(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const o=yp(i,!1).getAll();return new ku(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:o}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(o)&&(this.notifyListeners(i,o),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),U9)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}ok.type="LOCAL";const W9=ok;new Iu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z9(t,e){return e?ri(e):(me(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $w extends Vw{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Sa(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Sa(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Sa(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function H9(t){return QR(t.auth,new $w(t),t.bypassAuthState)}function q9(t){const{auth:e,user:n}=t;return me(n,e,"internal-error"),x9(n,new $w(t),t.bypassAuthState)}async function G9(t){const{auth:e,user:n}=t;return me(n,e,"internal-error"),_9(n,new $w(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sk{constructor(e,n,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:o,error:s,type:a}=e;if(s){this.reject(s);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return H9;case"linkViaPopup":case"linkViaRedirect":return G9;case"reauthViaPopup":case"reauthViaRedirect":return q9;default:fr(this.auth,"internal-error")}}resolve(e){wi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){wi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y9=new Iu(2e3,1e4);class ua extends sk{constructor(e,n,r,i,o){super(e,n,i,o),this.provider=r,this.authWindow=null,this.pollId=null,ua.currentPopupAction&&ua.currentPopupAction.cancel(),ua.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return me(e,this.auth,"internal-error"),e}async onExecution(){wi(this.filter.length===1,"Popup operations only handle one event");const e=Fw();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Or(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(Or(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ua.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if((r=(n=this.authWindow)==null?void 0:n.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Or(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,Y9.get())};e()}}ua.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K9="pendingRedirect",pf=new Map;class Q9 extends sk{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=pf.get(this.auth._key());if(!e){try{const r=await X9(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}pf.set(this.auth._key(),e)}return this.bypassAuthState||pf.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function X9(t,e){const n=eU(e),r=Z9(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function J9(t,e){pf.set(t._key(),e)}function Z9(t){return ri(t._redirectPersistence)}function eU(t){return hf(K9,t.config.apiKey,t.name)}async function tU(t,e,n=!1){if(zn(t.app))return Promise.reject(ai(t));const r=Rs(t),i=z9(r,e),s=await new Q9(r,i,n).execute();return s&&!n&&(delete s.user._redirectEventId,await r._persistUserIfCurrent(s.user),await r._setRedirectUser(null,e)),s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nU=10*60*1e3;class rU{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!iU(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!ak(e)){const i=((r=e.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";n.onError(Or(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=nU&&this.cachedEventUids.clear(),this.cachedEventUids.has($b(e))}saveEventToCache(e){this.cachedEventUids.add($b(e)),this.lastProcessedEventTime=Date.now()}}function $b(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function ak({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function iU(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return ak(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oU(t,e={}){return Fo(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sU=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,aU=/^https?/;async function lU(t){if(t.config.emulator)return;const{authorizedDomains:e}=await oU(t);for(const n of e)try{if(cU(n))return}catch{}fr(t,"unauthorized-domain")}function cU(t){const e=dy(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const s=new URL(t);return s.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&s.hostname===r}if(!aU.test(n))return!1;if(sU.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uU=new Iu(3e4,6e4);function Ub(){const t=Lr().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function dU(t){return new Promise((e,n)=>{var i,o,s;function r(){Ub(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Ub(),n(Or(t,"network-request-failed"))},timeout:uU.get()})}if((o=(i=Lr().gapi)==null?void 0:i.iframes)!=null&&o.Iframe)e(gapi.iframes.getContext());else if((s=Lr().gapi)!=null&&s.load)r();else{const a=n9("iframefcb");return Lr()[a]=()=>{gapi.load?r():n(Or(t,"network-request-failed"))},HR(`${t9()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw mf=null,e})}let mf=null;function fU(t){return mf=mf||dU(t),mf}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hU=new Iu(5e3,15e3),pU="__/auth/iframe",mU="emulator/auth/iframe",gU={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},vU=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function yU(t){const e=t.config;me(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Mw(e,mU):`https://${t.config.authDomain}/${pU}`,r={apiKey:e.apiKey,appName:t.name,v:al},i=vU.get(t.config.apiHost);i&&(r.eid=i);const o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${_u(r).slice(1)}`}async function wU(t){const e=await fU(t),n=Lr().gapi;return me(n,t,"internal-error"),e.open({where:document.body,url:yU(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:gU,dontclear:!0},r=>new Promise(async(i,o)=>{await r.restyle({setHideOnLeave:!1});const s=Or(t,"network-request-failed"),a=Lr().setTimeout(()=>{o(s)},hU.get());function l(){Lr().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{o(s)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _U={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},xU=500,EU=600,bU="_blank",TU="http://localhost";class Bb{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function CU(t,e,n,r=xU,i=EU){const o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l={..._U,width:r.toString(),height:i.toString(),top:o,left:s},c=sn().toLowerCase();n&&(a=jR(c)?bU:n),LR(c)&&(e=e||TU,l.scrollbars="yes");const u=Object.entries(l).reduce((h,[g,_])=>`${h}${g}=${_},`,"");if(q$(c)&&a!=="_self")return SU(e||"",a),new Bb(null);const f=window.open(e||"",a,u);me(f,t,"popup-blocked");try{f.focus()}catch{}return new Bb(f)}function SU(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PU="__/auth/handler",IU="emulator/auth/handler",AU=encodeURIComponent("fac");async function Wb(t,e,n,r,i,o){me(t.config.authDomain,t,"auth-domain-config-required"),me(t.config.apiKey,t,"invalid-api-key");const s={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:al,eventId:i};if(e instanceof YR){e.setDefaultLanguage(t.languageCode),s.providerId=e.providerId||"",Z5(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(const[u,f]of Object.entries(o||{}))s[u]=f}if(e instanceof Ru){const u=e.getScopes().filter(f=>f!=="");u.length>0&&(s.scopes=u.join(","))}t.tenantId&&(s.tid=t.tenantId);const a=s;for(const u of Object.keys(a))a[u]===void 0&&delete a[u];const l=await t._getAppCheckToken(),c=l?`#${AU}=${encodeURIComponent(l)}`:"";return`${RU(t)}?${_u(a).slice(1)}${c}`}function RU({config:t}){return t.emulator?Mw(t,IU):`https://${t.authDomain}/${PU}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ig="webStorageSupport";class kU{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=tk,this._completeRedirectFn=tU,this._overrideRedirectResult=J9}async _openPopup(e,n,r,i){var s;wi((s=this.eventManagers[e._key()])==null?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await Wb(e,n,r,dy(),i);return CU(e,o,Fw())}async _openRedirect(e,n,r,i){await this._originValidation(e);const o=await Wb(e,n,r,dy(),i);return M9(o),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:o}=this.eventManagers[n];return i?Promise.resolve(i):(wi(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await wU(e),r=new rU(e);return n.register("authEvent",i=>(me(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(ig,{type:ig},i=>{var s;const o=(s=i==null?void 0:i[0])==null?void 0:s[ig];o!==void 0&&n(!!o),fr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=lU(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return WR()||VR()||Lw()}}const NU=kU;var zb="@firebase/auth",Hb="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DU{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){me(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MU(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function OU(t){Va(new ms("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;me(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:s,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:zR(t)},c=new J$(r,i,o,l);return l9(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Va(new ms("auth-internal",e=>{const n=Rs(e.getProvider("auth").getImmediate());return(r=>new DU(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),uo(zb,Hb,MU(t)),uo(zb,Hb,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LU=5*60,VU=$I("authIdTokenMaxAge")||LU;let qb=null;const jU=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>VU)return;const i=n==null?void 0:n.token;qb!==i&&(qb=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function FU(t=qI()){const e=Y0(t,"auth");if(e.isInitialized())return e.getImmediate();const n=a9(t,{popupRedirectResolver:NU,persistence:[W9,k9,tk]}),r=$I("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(r,location.origin);if(location.origin===o.origin){const s=jU(o.toString());S9(n,s,()=>s(n.currentUser)),C9(n,a=>s(a))}}const i=jI("auth");return i&&c9(n,`http://${i}`),n}function $U(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}Z$({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const o=Or("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",$U().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});OU("Browser");const UU={apiKey:"AIzaSyB_DoE2lhYw7INy1ucJ3hQwXHBsQrmD-DY",authDomain:"rnf-app.firebaseapp.com",projectId:"rnf-app",storageBucket:"rnf-app.firebasestorage.app",messagingSenderId:"771820334247",appId:"1:771820334247:web:a096ff668dc8963f5b7f82"},lk=HI(UU),Qn=l$(lk),Rd=FU(lk),ck=m.createContext(null),BU=({children:t})=>{const[e,n]=m.useState(null),[r,i]=m.useState(!0);m.useEffect(()=>{const l=P9(Rd,c=>{n(c?{id:c.uid,uid:c.uid,email:c.email}:null),i(!1)});return()=>l()},[]);const o=async(l,c)=>{await T9(Rd,l,c)},s=async(l,c)=>{await b9(Rd,l,c)},a=async()=>{await I9(Rd),n(null)};return p.jsx(ck.Provider,{value:{user:e,login:o,register:s,logout:a,loadingAuth:r},children:t})},gl=()=>m.useContext(ck);function uk(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=uk(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function dk(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=uk(t))&&(r&&(r+=" "),r+=e);return r}function WU(){for(var t=0,e,n,r="";t<arguments.length;)(e=arguments[t++])&&(n=fk(e))&&(r&&(r+=" "),r+=n);return r}function fk(t){if(typeof t=="string")return t;for(var e,n="",r=0;r<t.length;r++)t[r]&&(e=fk(t[r]))&&(n&&(n+=" "),n+=e);return n}var Uw="-";function zU(t){var e=qU(t),n=t.conflictingClassGroups,r=t.conflictingClassGroupModifiers,i=r===void 0?{}:r;function o(a){var l=a.split(Uw);return l[0]===""&&l.length!==1&&l.shift(),hk(l,e)||HU(a)}function s(a,l){var c=n[a]||[];return l&&i[a]?[].concat(c,i[a]):c}return{getClassGroupId:o,getConflictingClassGroupIds:s}}function hk(t,e){var s;if(t.length===0)return e.classGroupId;var n=t[0],r=e.nextPart.get(n),i=r?hk(t.slice(1),r):void 0;if(i)return i;if(e.validators.length!==0){var o=t.join(Uw);return(s=e.validators.find(function(a){var l=a.validator;return l(o)}))==null?void 0:s.classGroupId}}var Gb=/^\[(.+)\]$/;function HU(t){if(Gb.test(t)){var e=Gb.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}}function qU(t){var e=t.theme,n=t.prefix,r={nextPart:new Map,validators:[]},i=YU(Object.entries(t.classGroups),n);return i.forEach(function(o){var s=o[0],a=o[1];my(a,r,s,e)}),r}function my(t,e,n,r){t.forEach(function(i){if(typeof i=="string"){var o=i===""?e:Yb(e,i);o.classGroupId=n;return}if(typeof i=="function"){if(GU(i)){my(i(r),e,n,r);return}e.validators.push({validator:i,classGroupId:n});return}Object.entries(i).forEach(function(s){var a=s[0],l=s[1];my(l,Yb(e,a),n,r)})})}function Yb(t,e){var n=t;return e.split(Uw).forEach(function(r){n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n}function GU(t){return t.isThemeGetter}function YU(t,e){return e?t.map(function(n){var r=n[0],i=n[1],o=i.map(function(s){return typeof s=="string"?e+s:typeof s=="object"?Object.fromEntries(Object.entries(s).map(function(a){var l=a[0],c=a[1];return[e+l,c]})):s});return[r,o]}):t}function KU(t){if(t<1)return{get:function(){},set:function(){}};var e=0,n=new Map,r=new Map;function i(o,s){n.set(o,s),e++,e>t&&(e=0,r=n,n=new Map)}return{get:function(s){var a=n.get(s);if(a!==void 0)return a;if((a=r.get(s))!==void 0)return i(s,a),a},set:function(s,a){n.has(s)?n.set(s,a):i(s,a)}}}var pk="!";function QU(t){var e=t.separator||":",n=e.length===1,r=e[0],i=e.length;return function(s){for(var a=[],l=0,c=0,u,f=0;f<s.length;f++){var h=s[f];if(l===0){if(h===r&&(n||s.slice(f,f+i)===e)){a.push(s.slice(c,f)),c=f+i;continue}if(h==="/"){u=f;continue}}h==="["?l++:h==="]"&&l--}var g=a.length===0?s:s.substring(c),_=g.startsWith(pk),v=_?g.substring(1):g,E=u&&u>c?u-c:void 0;return{modifiers:a,hasImportantModifier:_,baseClassName:v,maybePostfixModifierPosition:E}}}function XU(t){if(t.length<=1)return t;var e=[],n=[];return t.forEach(function(r){var i=r[0]==="[";i?(e.push.apply(e,n.sort().concat([r])),n=[]):n.push(r)}),e.push.apply(e,n.sort()),e}function JU(t){return{cache:KU(t.cacheSize),splitModifiers:QU(t),...zU(t)}}var ZU=/\s+/;function e7(t,e){var n=e.splitModifiers,r=e.getClassGroupId,i=e.getConflictingClassGroupIds,o=new Set;return t.trim().split(ZU).map(function(s){var a=n(s),l=a.modifiers,c=a.hasImportantModifier,u=a.baseClassName,f=a.maybePostfixModifierPosition,h=r(f?u.substring(0,f):u),g=!!f;if(!h){if(!f)return{isTailwindClass:!1,originalClassName:s};if(h=r(u),!h)return{isTailwindClass:!1,originalClassName:s};g=!1}var _=XU(l).join(":"),v=c?_+pk:_;return{isTailwindClass:!0,modifierId:v,classGroupId:h,originalClassName:s,hasPostfixModifier:g}}).reverse().filter(function(s){if(!s.isTailwindClass)return!0;var a=s.modifierId,l=s.classGroupId,c=s.hasPostfixModifier,u=a+l;return o.has(u)?!1:(o.add(u),i(l,c).forEach(function(f){return o.add(a+f)}),!0)}).reverse().map(function(s){return s.originalClassName}).join(" ")}function t7(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r,i,o,s=a;function a(c){var u=e[0],f=e.slice(1),h=f.reduce(function(g,_){return _(g)},u());return r=JU(h),i=r.cache.get,o=r.cache.set,s=l,l(c)}function l(c){var u=i(c);if(u)return u;var f=e7(c,r);return o(c,f),f}return function(){return s(WU.apply(null,arguments))}}function nt(t){var e=function(r){return r[t]||[]};return e.isThemeGetter=!0,e}var mk=/^\[(?:([a-z-]+):)?(.+)\]$/i,n7=/^\d+\/\d+$/,r7=new Set(["px","full","screen"]),i7=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,o7=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,s7=/^-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/;function nr(t){return is(t)||r7.has(t)||n7.test(t)||gy(t)}function gy(t){return ks(t,"length",f7)}function a7(t){return ks(t,"size",gk)}function l7(t){return ks(t,"position",gk)}function c7(t){return ks(t,"url",h7)}function kd(t){return ks(t,"number",is)}function is(t){return!Number.isNaN(Number(t))}function u7(t){return t.endsWith("%")&&is(t.slice(0,-1))}function zl(t){return Kb(t)||ks(t,"number",Kb)}function Ae(t){return mk.test(t)}function Hl(){return!0}function Mi(t){return i7.test(t)}function d7(t){return ks(t,"",p7)}function ks(t,e,n){var r=mk.exec(t);return r?r[1]?r[1]===e:n(r[2]):!1}function f7(t){return o7.test(t)}function gk(){return!1}function h7(t){return t.startsWith("url(")}function Kb(t){return Number.isInteger(Number(t))}function p7(t){return s7.test(t)}function m7(){var t=nt("colors"),e=nt("spacing"),n=nt("blur"),r=nt("brightness"),i=nt("borderColor"),o=nt("borderRadius"),s=nt("borderSpacing"),a=nt("borderWidth"),l=nt("contrast"),c=nt("grayscale"),u=nt("hueRotate"),f=nt("invert"),h=nt("gap"),g=nt("gradientColorStops"),_=nt("gradientColorStopPositions"),v=nt("inset"),E=nt("margin"),x=nt("opacity"),y=nt("padding"),b=nt("saturate"),I=nt("scale"),N=nt("sepia"),O=nt("skew"),S=nt("space"),C=nt("translate"),P=function(){return["auto","contain","none"]},A=function(){return["auto","hidden","clip","visible","scroll"]},M=function(){return["auto",Ae,e]},D=function(){return[Ae,e]},k=function(){return["",nr]},B=function(){return["auto",is,Ae]},q=function(){return["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"]},K=function(){return["solid","dashed","dotted","double","none"]},F=function(){return["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity","plus-lighter"]},L=function(){return["start","end","center","between","around","evenly","stretch"]},V=function(){return["","0",Ae]},$=function(){return["auto","avoid","all","avoid-page","page","left","right","column"]},W=function(){return[is,kd]},G=function(){return[is,Ae]};return{cacheSize:500,theme:{colors:[Hl],spacing:[nr],blur:["none","",Mi,Ae],brightness:W(),borderColor:[t],borderRadius:["none","","full",Mi,Ae],borderSpacing:D(),borderWidth:k(),contrast:W(),grayscale:V(),hueRotate:G(),invert:V(),gap:D(),gradientColorStops:[t],gradientColorStopPositions:[u7,gy],inset:M(),margin:M(),opacity:W(),padding:D(),saturate:W(),scale:W(),sepia:V(),skew:G(),space:D(),translate:D()},classGroups:{aspect:[{aspect:["auto","square","video",Ae]}],container:["container"],columns:[{columns:[Mi]}],"break-after":[{"break-after":$()}],"break-before":[{"break-before":$()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none"]}],clear:[{clear:["left","right","both","none"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[].concat(q(),[Ae])}],overflow:[{overflow:A()}],"overflow-x":[{"overflow-x":A()}],"overflow-y":[{"overflow-y":A()}],overscroll:[{overscroll:P()}],"overscroll-x":[{"overscroll-x":P()}],"overscroll-y":[{"overscroll-y":P()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[v]}],"inset-x":[{"inset-x":[v]}],"inset-y":[{"inset-y":[v]}],start:[{start:[v]}],end:[{end:[v]}],top:[{top:[v]}],right:[{right:[v]}],bottom:[{bottom:[v]}],left:[{left:[v]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",zl]}],basis:[{basis:M()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Ae]}],grow:[{grow:V()}],shrink:[{shrink:V()}],order:[{order:["first","last","none",zl]}],"grid-cols":[{"grid-cols":[Hl]}],"col-start-end":[{col:["auto",{span:["full",zl]},Ae]}],"col-start":[{"col-start":B()}],"col-end":[{"col-end":B()}],"grid-rows":[{"grid-rows":[Hl]}],"row-start-end":[{row:["auto",{span:[zl]},Ae]}],"row-start":[{"row-start":B()}],"row-end":[{"row-end":B()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Ae]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Ae]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal"].concat(L())}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal"].concat(L(),["baseline"])}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[].concat(L(),["baseline"])}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[y]}],px:[{px:[y]}],py:[{py:[y]}],ps:[{ps:[y]}],pe:[{pe:[y]}],pt:[{pt:[y]}],pr:[{pr:[y]}],pb:[{pb:[y]}],pl:[{pl:[y]}],m:[{m:[E]}],mx:[{mx:[E]}],my:[{my:[E]}],ms:[{ms:[E]}],me:[{me:[E]}],mt:[{mt:[E]}],mr:[{mr:[E]}],mb:[{mb:[E]}],ml:[{ml:[E]}],"space-x":[{"space-x":[S]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[S]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit",Ae,e]}],"min-w":[{"min-w":["min","max","fit",Ae,nr]}],"max-w":[{"max-w":["0","none","full","min","max","fit","prose",{screen:[Mi]},Mi,Ae]}],h:[{h:[Ae,e,"auto","min","max","fit"]}],"min-h":[{"min-h":["min","max","fit",Ae,nr]}],"max-h":[{"max-h":[Ae,e,"min","max","fit"]}],"font-size":[{text:["base",Mi,gy]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",kd]}],"font-family":[{font:[Hl]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Ae]}],"line-clamp":[{"line-clamp":["none",is,kd]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Ae,nr]}],"list-image":[{"list-image":["none",Ae]}],"list-style-type":[{list:["none","disc","decimal",Ae]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[x]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[x]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[].concat(K(),["wavy"])}],"text-decoration-thickness":[{decoration:["auto","from-font",nr]}],"underline-offset":[{"underline-offset":["auto",Ae,nr]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],indent:[{indent:D()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ae]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ae]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[x]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[].concat(q(),[l7])}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",a7]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},c7]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[_]}],"gradient-via-pos":[{via:[_]}],"gradient-to-pos":[{to:[_]}],"gradient-from":[{from:[g]}],"gradient-via":[{via:[g]}],"gradient-to":[{to:[g]}],rounded:[{rounded:[o]}],"rounded-s":[{"rounded-s":[o]}],"rounded-e":[{"rounded-e":[o]}],"rounded-t":[{"rounded-t":[o]}],"rounded-r":[{"rounded-r":[o]}],"rounded-b":[{"rounded-b":[o]}],"rounded-l":[{"rounded-l":[o]}],"rounded-ss":[{"rounded-ss":[o]}],"rounded-se":[{"rounded-se":[o]}],"rounded-ee":[{"rounded-ee":[o]}],"rounded-es":[{"rounded-es":[o]}],"rounded-tl":[{"rounded-tl":[o]}],"rounded-tr":[{"rounded-tr":[o]}],"rounded-br":[{"rounded-br":[o]}],"rounded-bl":[{"rounded-bl":[o]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[x]}],"border-style":[{border:[].concat(K(),["hidden"])}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[x]}],"divide-style":[{divide:K()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:[""].concat(K())}],"outline-offset":[{"outline-offset":[Ae,nr]}],"outline-w":[{outline:[nr]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:k()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[x]}],"ring-offset-w":[{"ring-offset":[nr]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",Mi,d7]}],"shadow-color":[{shadow:[Hl]}],opacity:[{opacity:[x]}],"mix-blend":[{"mix-blend":F()}],"bg-blend":[{"bg-blend":F()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",Mi,Ae]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[u]}],invert:[{invert:[f]}],saturate:[{saturate:[b]}],sepia:[{sepia:[N]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[u]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[x]}],"backdrop-saturate":[{"backdrop-saturate":[b]}],"backdrop-sepia":[{"backdrop-sepia":[N]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[s]}],"border-spacing-x":[{"border-spacing-x":[s]}],"border-spacing-y":[{"border-spacing-y":[s]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Ae]}],duration:[{duration:G()}],ease:[{ease:["linear","in","out","in-out",Ae]}],delay:[{delay:G()}],animate:[{animate:["none","spin","ping","pulse","bounce",Ae]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[I]}],"scale-x":[{"scale-x":[I]}],"scale-y":[{"scale-y":[I]}],rotate:[{rotate:[zl,Ae]}],"translate-x":[{"translate-x":[C]}],"translate-y":[{"translate-y":[C]}],"skew-x":[{"skew-x":[O]}],"skew-y":[{"skew-y":[O]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Ae]}],accent:[{accent:["auto",t]}],appearance:["appearance-none"],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ae]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":D()}],"scroll-mx":[{"scroll-mx":D()}],"scroll-my":[{"scroll-my":D()}],"scroll-ms":[{"scroll-ms":D()}],"scroll-me":[{"scroll-me":D()}],"scroll-mt":[{"scroll-mt":D()}],"scroll-mr":[{"scroll-mr":D()}],"scroll-mb":[{"scroll-mb":D()}],"scroll-ml":[{"scroll-ml":D()}],"scroll-p":[{"scroll-p":D()}],"scroll-px":[{"scroll-px":D()}],"scroll-py":[{"scroll-py":D()}],"scroll-ps":[{"scroll-ps":D()}],"scroll-pe":[{"scroll-pe":D()}],"scroll-pt":[{"scroll-pt":D()}],"scroll-pr":[{"scroll-pr":D()}],"scroll-pb":[{"scroll-pb":D()}],"scroll-pl":[{"scroll-pl":D()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","pinch-zoom","manipulation",{pan:["x","left","right","y","up","down"]}]}],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ae]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[nr,kd]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}}var g7=t7(m7);function De(...t){return g7(dk(t))}function Qb(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function v7(...t){return e=>{let n=!1;const r=t.map(i=>{const o=Qb(i,e);return!n&&typeof o=="function"&&(n=!0),o});if(n)return()=>{for(let i=0;i<r.length;i++){const o=r[i];typeof o=="function"?o():Qb(t[i],null)}}}}function lt(...t){return m.useCallback(v7(...t),t)}function za(t){const e=w7(t),n=m.forwardRef((r,i)=>{const{children:o,...s}=r,a=m.Children.toArray(o),l=a.find(x7);if(l){const c=l.props.children,u=a.map(f=>f===l?m.Children.count(c)>1?m.Children.only(null):m.isValidElement(c)?c.props.children:null:f);return p.jsx(e,{...s,ref:i,children:m.isValidElement(c)?m.cloneElement(c,void 0,u):null})}return p.jsx(e,{...s,ref:i,children:o})});return n.displayName=`${t}.Slot`,n}var y7=za("Slot");function w7(t){const e=m.forwardRef((n,r)=>{const{children:i,...o}=n,s=m.isValidElement(i)?b7(i):void 0,a=lt(s,r);if(m.isValidElement(i)){const l=E7(o,i.props);return i.type!==m.Fragment&&(l.ref=a),m.cloneElement(i,l)}return m.Children.count(i)>1?m.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var _7=Symbol("radix.slottable");function x7(t){return m.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===_7}function E7(t,e){const n={...e};for(const r in e){const i=t[r],o=e[r];/^on[A-Z]/.test(r)?i&&o?n[r]=(...a)=>{const l=o(...a);return i(...a),l}:i&&(n[r]=i):r==="style"?n[r]={...i,...o}:r==="className"&&(n[r]=[i,o].filter(Boolean).join(" "))}return{...t,...n}}function b7(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}const Xb=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,Jb=dk,Nu=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return Jb(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:i,defaultVariants:o}=e,s=Object.keys(i).map(c=>{const u=n==null?void 0:n[c],f=o==null?void 0:o[c];if(u===null)return null;const h=Xb(u)||Xb(f);return i[c][h]}),a=n&&Object.entries(n).reduce((c,u)=>{let[f,h]=u;return h===void 0||(c[f]=h),c},{}),l=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((c,u)=>{let{class:f,className:h,...g}=u;return Object.entries(g).every(_=>{let[v,E]=_;return Array.isArray(E)?E.includes({...o,...a}[v]):{...o,...a}[v]===E})?[...c,f,h]:c},[]);return Jb(t,s,l,n==null?void 0:n.class,n==null?void 0:n.className)},vy=Nu("inline-flex items-center justify-center rounded-lg text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-[#E27DBF] text-white hover:bg-[#FFB1DD]",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-lg px-3",lg:"h-11 rounded-lg px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),Se=we.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...i},o)=>{const s=r?y7:"button";return p.jsx(s,{className:De(vy({variant:e,size:n,className:t})),ref:o,...i})});Se.displayName="Button";const Vr=we.forwardRef(({className:t,type:e,...n},r)=>p.jsx("input",{type:e,className:De("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:shadow-[0_0_0_3px_rgba(226,125,191,0.2)] disabled:cursor-not-allowed disabled:opacity-50",t),ref:r,...n}));Vr.displayName="Input";var T7=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],ze=T7.reduce((t,e)=>{const n=za(`Primitive.${e}`),r=m.forwardRef((i,o)=>{const{asChild:s,...a}=i,l=s?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),p.jsx(l,{...a,ref:o})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function vk(t,e){t&&Mo.flushSync(()=>t.dispatchEvent(e))}var C7="Label",yk=m.forwardRef((t,e)=>p.jsx(ze.label,{...t,ref:e,onMouseDown:n=>{var i;n.target.closest("button, input, select, textarea")||((i=t.onMouseDown)==null||i.call(t,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));yk.displayName=C7;var wk=yk;const S7=Nu("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),An=we.forwardRef(({className:t,...e},n)=>p.jsx(wk,{ref:n,className:De(S7(),t),...e}));An.displayName=wk.displayName;const P7=1;let og=0;function I7(){return og=(og+1)%Number.MAX_VALUE,og.toString()}const un={state:{toasts:[]},listeners:[],getState:()=>un.state,setState:t=>{typeof t=="function"?un.state=t(un.state):un.state={...un.state,...t},un.listeners.forEach(e=>e(un.state))},subscribe:t=>(un.listeners.push(t),()=>{un.listeners=un.listeners.filter(e=>e!==t)})},A7=({...t})=>{const e=I7(),n=i=>un.setState(o=>({...o,toasts:o.toasts.map(s=>s.id===e?{...s,...i}:s)})),r=()=>un.setState(i=>({...i,toasts:i.toasts.filter(o=>o.id!==e)}));return un.setState(i=>({...i,toasts:[{...t,id:e,dismiss:r},...i.toasts].slice(0,P7)})),{id:e,dismiss:r,update:n}};function vl(){const[t,e]=m.useState(un.getState());return m.useEffect(()=>un.subscribe(r=>{e(r)}),[]),m.useEffect(()=>{const n=[];return t.toasts.forEach(r=>{if(r.duration===1/0)return;const i=setTimeout(()=>{r.dismiss()},r.duration||5e3);n.push(i)}),()=>{n.forEach(r=>clearTimeout(r))}},[t.toasts]),{toast:A7,toasts:t.toasts}}const _k=m.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"}),wp=m.createContext({}),_p=m.createContext(null),xp=typeof document<"u",Bw=xp?m.useLayoutEffect:m.useEffect,xk=m.createContext({strict:!1}),Ww=t=>t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),R7="framerAppearId",Ek="data-"+Ww(R7);function k7(t,e,n,r){const{visualElement:i}=m.useContext(wp),o=m.useContext(xk),s=m.useContext(_p),a=m.useContext(_k).reducedMotion,l=m.useRef();r=r||o.renderer,!l.current&&r&&(l.current=r(t,{visualState:e,parent:i,props:n,presenceContext:s,blockInitialAnimation:s?s.initial===!1:!1,reducedMotionConfig:a}));const c=l.current;m.useInsertionEffect(()=>{c&&c.update(n,s)});const u=m.useRef(!!(n[Ek]&&!window.HandoffComplete));return Bw(()=>{c&&(c.render(),u.current&&c.animationState&&c.animationState.animateChanges())}),m.useEffect(()=>{c&&(c.updateFeatures(),!u.current&&c.animationState&&c.animationState.animateChanges(),u.current&&(u.current=!1,window.HandoffComplete=!0))}),c}function da(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function N7(t,e,n){return m.useCallback(r=>{r&&t.mount&&t.mount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):da(n)&&(n.current=r))},[e])}function ou(t){return typeof t=="string"||Array.isArray(t)}function Ep(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}const zw=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Hw=["initial",...zw];function bp(t){return Ep(t.animate)||Hw.some(e=>ou(t[e]))}function bk(t){return!!(bp(t)||t.variants)}function D7(t,e){if(bp(t)){const{initial:n,animate:r}=t;return{initial:n===!1||ou(n)?n:void 0,animate:ou(r)?r:void 0}}return t.inherit!==!1?e:{}}function M7(t){const{initial:e,animate:n}=D7(t,m.useContext(wp));return m.useMemo(()=>({initial:e,animate:n}),[Zb(e),Zb(n)])}function Zb(t){return Array.isArray(t)?t.join(" "):t}const eT={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},su={};for(const t in eT)su[t]={isEnabled:e=>eT[t].some(n=>!!e[n])};function O7(t){for(const e in t)su[e]={...su[e],...t[e]}}const qw=m.createContext({}),Tk=m.createContext({}),L7=Symbol.for("motionComponentSymbol");function V7({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:i}){t&&O7(t);function o(a,l){let c;const u={...m.useContext(_k),...a,layoutId:j7(a)},{isStatic:f}=u,h=M7(a),g=r(a,f);if(!f&&xp){h.visualElement=k7(i,g,u,e);const _=m.useContext(Tk),v=m.useContext(xk).strict;h.visualElement&&(c=h.visualElement.loadFeatures(u,v,t,_))}return m.createElement(wp.Provider,{value:h},c&&h.visualElement?m.createElement(c,{visualElement:h.visualElement,...u}):null,n(i,a,N7(g,h.visualElement,l),g,f,h.visualElement))}const s=m.forwardRef(o);return s[L7]=i,s}function j7({layoutId:t}){const e=m.useContext(qw).id;return e&&t!==void 0?e+"-"+t:t}function F7(t){function e(r,i={}){return V7(t(r,i))}if(typeof Proxy>"u")return e;const n=new Map;return new Proxy(e,{get:(r,i)=>(n.has(i)||n.set(i,e(i)),n.get(i))})}const $7=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Gw(t){return typeof t!="string"||t.includes("-")?!1:!!($7.indexOf(t)>-1||/[A-Z]/.test(t))}const ph={};function U7(t){Object.assign(ph,t)}const Du=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Ns=new Set(Du);function Ck(t,{layout:e,layoutId:n}){return Ns.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!ph[t]||t==="opacity")}const Sn=t=>!!(t&&t.getVelocity),B7={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},W7=Du.length;function z7(t,{enableHardwareAcceleration:e=!0,allowTransformNone:n=!0},r,i){let o="";for(let s=0;s<W7;s++){const a=Du[s];if(t[a]!==void 0){const l=B7[a]||a;o+=`${l}(${t[a]}) `}}return e&&!t.z&&(o+="translateZ(0)"),o=o.trim(),i?o=i(t,r?"":o):n&&r&&(o="none"),o}const Sk=t=>e=>typeof e=="string"&&e.startsWith(t),Pk=Sk("--"),yy=Sk("var(--"),H7=/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,q7=(t,e)=>e&&typeof t=="number"?e.transform(t):t,Po=(t,e,n)=>Math.min(Math.max(n,t),e),Ds={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},xc={...Ds,transform:t=>Po(0,1,t)},Nd={...Ds,default:1},Ec=t=>Math.round(t*1e5)/1e5,Tp=/(-)?([\d]*\.?[\d])+/g,Ik=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,G7=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function Mu(t){return typeof t=="string"}const Ou=t=>({test:e=>Mu(e)&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Li=Ou("deg"),jr=Ou("%"),pe=Ou("px"),Y7=Ou("vh"),K7=Ou("vw"),tT={...jr,parse:t=>jr.parse(t)/100,transform:t=>jr.transform(t*100)},nT={...Ds,transform:Math.round},Ak={borderWidth:pe,borderTopWidth:pe,borderRightWidth:pe,borderBottomWidth:pe,borderLeftWidth:pe,borderRadius:pe,radius:pe,borderTopLeftRadius:pe,borderTopRightRadius:pe,borderBottomRightRadius:pe,borderBottomLeftRadius:pe,width:pe,maxWidth:pe,height:pe,maxHeight:pe,size:pe,top:pe,right:pe,bottom:pe,left:pe,padding:pe,paddingTop:pe,paddingRight:pe,paddingBottom:pe,paddingLeft:pe,margin:pe,marginTop:pe,marginRight:pe,marginBottom:pe,marginLeft:pe,rotate:Li,rotateX:Li,rotateY:Li,rotateZ:Li,scale:Nd,scaleX:Nd,scaleY:Nd,scaleZ:Nd,skew:Li,skewX:Li,skewY:Li,distance:pe,translateX:pe,translateY:pe,translateZ:pe,x:pe,y:pe,z:pe,perspective:pe,transformPerspective:pe,opacity:xc,originX:tT,originY:tT,originZ:pe,zIndex:nT,fillOpacity:xc,strokeOpacity:xc,numOctaves:nT};function Yw(t,e,n,r){const{style:i,vars:o,transform:s,transformOrigin:a}=t;let l=!1,c=!1,u=!0;for(const f in e){const h=e[f];if(Pk(f)){o[f]=h;continue}const g=Ak[f],_=q7(h,g);if(Ns.has(f)){if(l=!0,s[f]=_,!u)continue;h!==(g.default||0)&&(u=!1)}else f.startsWith("origin")?(c=!0,a[f]=_):i[f]=_}if(e.transform||(l||r?i.transform=z7(t.transform,n,u,r):i.transform&&(i.transform="none")),c){const{originX:f="50%",originY:h="50%",originZ:g=0}=a;i.transformOrigin=`${f} ${h} ${g}`}}const Kw=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function Rk(t,e,n){for(const r in e)!Sn(e[r])&&!Ck(r,n)&&(t[r]=e[r])}function Q7({transformTemplate:t},e,n){return m.useMemo(()=>{const r=Kw();return Yw(r,e,{enableHardwareAcceleration:!n},t),Object.assign({},r.vars,r.style)},[e])}function X7(t,e,n){const r=t.style||{},i={};return Rk(i,r,t),Object.assign(i,Q7(t,e,n)),t.transformValues?t.transformValues(i):i}function J7(t,e,n){const r={},i=X7(t,e,n);return t.drag&&t.dragListener!==!1&&(r.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(r.tabIndex=0),r.style=i,r}const Z7=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function mh(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||Z7.has(t)}let kk=t=>!mh(t);function eB(t){t&&(kk=e=>e.startsWith("on")?!mh(e):t(e))}try{eB(require("@emotion/is-prop-valid").default)}catch{}function tB(t,e,n){const r={};for(const i in t)i==="values"&&typeof t.values=="object"||(kk(i)||n===!0&&mh(i)||!e&&!mh(i)||t.draggable&&i.startsWith("onDrag"))&&(r[i]=t[i]);return r}function rT(t,e,n){return typeof t=="string"?t:pe.transform(e+n*t)}function nB(t,e,n){const r=rT(e,t.x,t.width),i=rT(n,t.y,t.height);return`${r} ${i}`}const rB={offset:"stroke-dashoffset",array:"stroke-dasharray"},iB={offset:"strokeDashoffset",array:"strokeDasharray"};function oB(t,e,n=1,r=0,i=!0){t.pathLength=1;const o=i?rB:iB;t[o.offset]=pe.transform(-r);const s=pe.transform(e),a=pe.transform(n);t[o.array]=`${s} ${a}`}function Qw(t,{attrX:e,attrY:n,attrScale:r,originX:i,originY:o,pathLength:s,pathSpacing:a=1,pathOffset:l=0,...c},u,f,h){if(Yw(t,c,u,h),f){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:g,style:_,dimensions:v}=t;g.transform&&(v&&(_.transform=g.transform),delete g.transform),v&&(i!==void 0||o!==void 0||_.transform)&&(_.transformOrigin=nB(v,i!==void 0?i:.5,o!==void 0?o:.5)),e!==void 0&&(g.x=e),n!==void 0&&(g.y=n),r!==void 0&&(g.scale=r),s!==void 0&&oB(g,s,a,l,!1)}const Nk=()=>({...Kw(),attrs:{}}),Xw=t=>typeof t=="string"&&t.toLowerCase()==="svg";function sB(t,e,n,r){const i=m.useMemo(()=>{const o=Nk();return Qw(o,e,{enableHardwareAcceleration:!1},Xw(r),t.transformTemplate),{...o.attrs,style:{...o.style}}},[e]);if(t.style){const o={};Rk(o,t.style,t),i.style={...o,...i.style}}return i}function aB(t=!1){return(n,r,i,{latestValues:o},s)=>{const l=(Gw(n)?sB:J7)(r,o,s,n),u={...tB(r,typeof n=="string",t),...l,ref:i},{children:f}=r,h=m.useMemo(()=>Sn(f)?f.get():f,[f]);return m.createElement(n,{...u,children:h})}}function Dk(t,{style:e,vars:n},r,i){Object.assign(t.style,e,i&&i.getProjectionStyles(r));for(const o in n)t.style.setProperty(o,n[o])}const Mk=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function Ok(t,e,n,r){Dk(t,e,void 0,r);for(const i in e.attrs)t.setAttribute(Mk.has(i)?i:Ww(i),e.attrs[i])}function Jw(t,e){const{style:n}=t,r={};for(const i in n)(Sn(n[i])||e.style&&Sn(e.style[i])||Ck(i,t))&&(r[i]=n[i]);return r}function Lk(t,e){const n=Jw(t,e);for(const r in t)if(Sn(t[r])||Sn(e[r])){const i=Du.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;n[i]=t[r]}return n}function Zw(t,e,n,r={},i={}){return typeof e=="function"&&(e=e(n!==void 0?n:t.custom,r,i)),typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"&&(e=e(n!==void 0?n:t.custom,r,i)),e}function Vk(t){const e=m.useRef(null);return e.current===null&&(e.current=t()),e.current}const gh=t=>Array.isArray(t),lB=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),cB=t=>gh(t)?t[t.length-1]||0:t;function gf(t){const e=Sn(t)?t.get():t;return lB(e)?e.toValue():e}function uB({scrapeMotionValuesFromProps:t,createRenderState:e,onMount:n},r,i,o){const s={latestValues:dB(r,i,o,t),renderState:e()};return n&&(s.mount=a=>n(r,a,s)),s}const jk=t=>(e,n)=>{const r=m.useContext(wp),i=m.useContext(_p),o=()=>uB(t,e,r,i);return n?o():Vk(o)};function dB(t,e,n,r){const i={},o=r(t,{});for(const h in o)i[h]=gf(o[h]);let{initial:s,animate:a}=t;const l=bp(t),c=bk(t);e&&c&&!l&&t.inherit!==!1&&(s===void 0&&(s=e.initial),a===void 0&&(a=e.animate));let u=n?n.initial===!1:!1;u=u||s===!1;const f=u?a:s;return f&&typeof f!="boolean"&&!Ep(f)&&(Array.isArray(f)?f:[f]).forEach(g=>{const _=Zw(t,g);if(!_)return;const{transitionEnd:v,transition:E,...x}=_;for(const y in x){let b=x[y];if(Array.isArray(b)){const I=u?b.length-1:0;b=b[I]}b!==null&&(i[y]=b)}for(const y in v)i[y]=v[y]}),i}const vt=t=>t;class iT{constructor(){this.order=[],this.scheduled=new Set}add(e){if(!this.scheduled.has(e))return this.scheduled.add(e),this.order.push(e),!0}remove(e){const n=this.order.indexOf(e);n!==-1&&(this.order.splice(n,1),this.scheduled.delete(e))}clear(){this.order.length=0,this.scheduled.clear()}}function fB(t){let e=new iT,n=new iT,r=0,i=!1,o=!1;const s=new WeakSet,a={schedule:(l,c=!1,u=!1)=>{const f=u&&i,h=f?e:n;return c&&s.add(l),h.add(l)&&f&&i&&(r=e.order.length),l},cancel:l=>{n.remove(l),s.delete(l)},process:l=>{if(i){o=!0;return}if(i=!0,[e,n]=[n,e],n.clear(),r=e.order.length,r)for(let c=0;c<r;c++){const u=e.order[c];u(l),s.has(u)&&(a.schedule(u),t())}i=!1,o&&(o=!1,a.process(l))}};return a}const Dd=["prepare","read","update","preRender","render","postRender"],hB=40;function pB(t,e){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},o=Dd.reduce((f,h)=>(f[h]=fB(()=>n=!0),f),{}),s=f=>o[f].process(i),a=()=>{const f=performance.now();n=!1,i.delta=r?1e3/60:Math.max(Math.min(f-i.timestamp,hB),1),i.timestamp=f,i.isProcessing=!0,Dd.forEach(s),i.isProcessing=!1,n&&e&&(r=!1,t(a))},l=()=>{n=!0,r=!0,i.isProcessing||t(a)};return{schedule:Dd.reduce((f,h)=>{const g=o[h];return f[h]=(_,v=!1,E=!1)=>(n||l(),g.schedule(_,v,E)),f},{}),cancel:f=>Dd.forEach(h=>o[h].cancel(f)),state:i,steps:o}}const{schedule:Je,cancel:_i,state:Zt,steps:sg}=pB(typeof requestAnimationFrame<"u"?requestAnimationFrame:vt,!0),mB={useVisualState:jk({scrapeMotionValuesFromProps:Lk,createRenderState:Nk,onMount:(t,e,{renderState:n,latestValues:r})=>{Je.read(()=>{try{n.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{n.dimensions={x:0,y:0,width:0,height:0}}}),Je.render(()=>{Qw(n,r,{enableHardwareAcceleration:!1},Xw(e.tagName),t.transformTemplate),Ok(e,n)})}})},gB={useVisualState:jk({scrapeMotionValuesFromProps:Jw,createRenderState:Kw})};function vB(t,{forwardMotionProps:e=!1},n,r){return{...Gw(t)?mB:gB,preloadedFeatures:n,useRender:aB(e),createVisualElement:r,Component:t}}function ii(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}const Fk=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1;function Cp(t,e="page"){return{point:{x:t[e+"X"],y:t[e+"Y"]}}}const yB=t=>e=>Fk(e)&&t(e,Cp(e));function li(t,e,n,r){return ii(t,e,yB(n),r)}const wB=(t,e)=>n=>e(t(n)),mo=(...t)=>t.reduce(wB);function $k(t){let e=null;return()=>{const n=()=>{e=null};return e===null?(e=t,n):!1}}const oT=$k("dragHorizontal"),sT=$k("dragVertical");function Uk(t){let e=!1;if(t==="y")e=sT();else if(t==="x")e=oT();else{const n=oT(),r=sT();n&&r?e=()=>{n(),r()}:(n&&n(),r&&r())}return e}function Bk(){const t=Uk(!0);return t?(t(),!1):!0}class $o{constructor(e){this.isMounted=!1,this.node=e}update(){}}function aT(t,e){const n="pointer"+(e?"enter":"leave"),r="onHover"+(e?"Start":"End"),i=(o,s)=>{if(o.pointerType==="touch"||Bk())return;const a=t.getProps();t.animationState&&a.whileHover&&t.animationState.setActive("whileHover",e),a[r]&&Je.update(()=>a[r](o,s))};return li(t.current,n,i,{passive:!t.getProps()[r]})}class _B extends $o{mount(){this.unmount=mo(aT(this.node,!0),aT(this.node,!1))}unmount(){}}class xB extends $o{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=mo(ii(this.node.current,"focus",()=>this.onFocus()),ii(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const Wk=(t,e)=>e?t===e?!0:Wk(t,e.parentElement):!1;function ag(t,e){if(!e)return;const n=new PointerEvent("pointer"+t);e(n,Cp(n))}class EB extends $o{constructor(){super(...arguments),this.removeStartListeners=vt,this.removeEndListeners=vt,this.removeAccessibleListeners=vt,this.startPointerPress=(e,n)=>{if(this.isPressing)return;this.removeEndListeners();const r=this.node.getProps(),o=li(window,"pointerup",(a,l)=>{if(!this.checkPressEnd())return;const{onTap:c,onTapCancel:u,globalTapTarget:f}=this.node.getProps();Je.update(()=>{!f&&!Wk(this.node.current,a.target)?u&&u(a,l):c&&c(a,l)})},{passive:!(r.onTap||r.onPointerUp)}),s=li(window,"pointercancel",(a,l)=>this.cancelPress(a,l),{passive:!(r.onTapCancel||r.onPointerCancel)});this.removeEndListeners=mo(o,s),this.startPress(e,n)},this.startAccessiblePress=()=>{const e=o=>{if(o.key!=="Enter"||this.isPressing)return;const s=a=>{a.key!=="Enter"||!this.checkPressEnd()||ag("up",(l,c)=>{const{onTap:u}=this.node.getProps();u&&Je.update(()=>u(l,c))})};this.removeEndListeners(),this.removeEndListeners=ii(this.node.current,"keyup",s),ag("down",(a,l)=>{this.startPress(a,l)})},n=ii(this.node.current,"keydown",e),r=()=>{this.isPressing&&ag("cancel",(o,s)=>this.cancelPress(o,s))},i=ii(this.node.current,"blur",r);this.removeAccessibleListeners=mo(n,i)}}startPress(e,n){this.isPressing=!0;const{onTapStart:r,whileTap:i}=this.node.getProps();i&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),r&&Je.update(()=>r(e,n))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!Bk()}cancelPress(e,n){if(!this.checkPressEnd())return;const{onTapCancel:r}=this.node.getProps();r&&Je.update(()=>r(e,n))}mount(){const e=this.node.getProps(),n=li(e.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(e.onTapStart||e.onPointerStart)}),r=ii(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=mo(n,r)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const wy=new WeakMap,lg=new WeakMap,bB=t=>{const e=wy.get(t.target);e&&e(t)},TB=t=>{t.forEach(bB)};function CB({root:t,...e}){const n=t||document;lg.has(n)||lg.set(n,{});const r=lg.get(n),i=JSON.stringify(e);return r[i]||(r[i]=new IntersectionObserver(TB,{root:t,...e})),r[i]}function SB(t,e,n){const r=CB(e);return wy.set(t,n),r.observe(t),()=>{wy.delete(t),r.unobserve(t)}}const PB={some:0,all:1};class IB extends $o{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:o}=e,s={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:PB[i]},a=l=>{const{isIntersecting:c}=l;if(this.isInView===c||(this.isInView=c,o&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:u,onViewportLeave:f}=this.node.getProps(),h=c?u:f;h&&h(l)};return SB(this.node.current,s,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(AB(e,n))&&this.startObserver()}unmount(){}}function AB({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const RB={inView:{Feature:IB},tap:{Feature:EB},focus:{Feature:xB},hover:{Feature:_B}};function zk(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}function kB(t){const e={};return t.values.forEach((n,r)=>e[r]=n.get()),e}function NB(t){const e={};return t.values.forEach((n,r)=>e[r]=n.getVelocity()),e}function Sp(t,e,n){const r=t.getProps();return Zw(r,e,n!==void 0?n:r.custom,kB(t),NB(t))}let DB=vt,e1=vt;const go=t=>t*1e3,ci=t=>t/1e3,MB={current:!1},Hk=t=>Array.isArray(t)&&typeof t[0]=="number";function qk(t){return!!(!t||typeof t=="string"&&Gk[t]||Hk(t)||Array.isArray(t)&&t.every(qk))}const oc=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,Gk={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:oc([0,.65,.55,1]),circOut:oc([.55,0,1,.45]),backIn:oc([.31,.01,.66,-.59]),backOut:oc([.33,1.53,.69,.99])};function Yk(t){if(t)return Hk(t)?oc(t):Array.isArray(t)?t.map(Yk):Gk[t]}function OB(t,e,n,{delay:r=0,duration:i,repeat:o=0,repeatType:s="loop",ease:a,times:l}={}){const c={[e]:n};l&&(c.offset=l);const u=Yk(a);return Array.isArray(u)&&(c.easing=u),t.animate(c,{delay:r,duration:i,easing:Array.isArray(u)?"linear":u,fill:"both",iterations:o+1,direction:s==="reverse"?"alternate":"normal"})}function LB(t,{repeat:e,repeatType:n="loop"}){const r=e&&n!=="loop"&&e%2===1?0:t.length-1;return t[r]}const Kk=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,VB=1e-7,jB=12;function FB(t,e,n,r,i){let o,s,a=0;do s=e+(n-e)/2,o=Kk(s,r,i)-t,o>0?n=s:e=s;while(Math.abs(o)>VB&&++a<jB);return s}function Lu(t,e,n,r){if(t===e&&n===r)return vt;const i=o=>FB(o,0,1,t,n);return o=>o===0||o===1?o:Kk(i(o),e,r)}const $B=Lu(.42,0,1,1),UB=Lu(0,0,.58,1),Qk=Lu(.42,0,.58,1),BB=t=>Array.isArray(t)&&typeof t[0]!="number",Xk=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,Jk=t=>e=>1-t(1-e),t1=t=>1-Math.sin(Math.acos(t)),Zk=Jk(t1),WB=Xk(t1),e2=Lu(.33,1.53,.69,.99),n1=Jk(e2),zB=Xk(n1),HB=t=>(t*=2)<1?.5*n1(t):.5*(2-Math.pow(2,-10*(t-1))),qB={linear:vt,easeIn:$B,easeInOut:Qk,easeOut:UB,circIn:t1,circInOut:WB,circOut:Zk,backIn:n1,backInOut:zB,backOut:e2,anticipate:HB},lT=t=>{if(Array.isArray(t)){e1(t.length===4);const[e,n,r,i]=t;return Lu(e,n,r,i)}else if(typeof t=="string")return qB[t];return t},r1=(t,e)=>n=>!!(Mu(n)&&G7.test(n)&&n.startsWith(t)||e&&Object.prototype.hasOwnProperty.call(n,e)),t2=(t,e,n)=>r=>{if(!Mu(r))return r;const[i,o,s,a]=r.match(Tp);return{[t]:parseFloat(i),[e]:parseFloat(o),[n]:parseFloat(s),alpha:a!==void 0?parseFloat(a):1}},GB=t=>Po(0,255,t),cg={...Ds,transform:t=>Math.round(GB(t))},os={test:r1("rgb","red"),parse:t2("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+cg.transform(t)+", "+cg.transform(e)+", "+cg.transform(n)+", "+Ec(xc.transform(r))+")"};function YB(t){let e="",n="",r="",i="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),i=t.substring(4,5),e+=e,n+=n,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const _y={test:r1("#"),parse:YB,transform:os.transform},fa={test:r1("hsl","hue"),parse:t2("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+jr.transform(Ec(e))+", "+jr.transform(Ec(n))+", "+Ec(xc.transform(r))+")"},dn={test:t=>os.test(t)||_y.test(t)||fa.test(t),parse:t=>os.test(t)?os.parse(t):fa.test(t)?fa.parse(t):_y.parse(t),transform:t=>Mu(t)?t:t.hasOwnProperty("red")?os.transform(t):fa.transform(t)},ut=(t,e,n)=>-n*t+n*e+t;function ug(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function KB({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let i=0,o=0,s=0;if(!e)i=o=s=n;else{const a=n<.5?n*(1+e):n+e-n*e,l=2*n-a;i=ug(l,a,t+1/3),o=ug(l,a,t),s=ug(l,a,t-1/3)}return{red:Math.round(i*255),green:Math.round(o*255),blue:Math.round(s*255),alpha:r}}const dg=(t,e,n)=>{const r=t*t;return Math.sqrt(Math.max(0,n*(e*e-r)+r))},QB=[_y,os,fa],XB=t=>QB.find(e=>e.test(t));function cT(t){const e=XB(t);let n=e.parse(t);return e===fa&&(n=KB(n)),n}const n2=(t,e)=>{const n=cT(t),r=cT(e),i={...n};return o=>(i.red=dg(n.red,r.red,o),i.green=dg(n.green,r.green,o),i.blue=dg(n.blue,r.blue,o),i.alpha=ut(n.alpha,r.alpha,o),os.transform(i))};function JB(t){var e,n;return isNaN(t)&&Mu(t)&&(((e=t.match(Tp))===null||e===void 0?void 0:e.length)||0)+(((n=t.match(Ik))===null||n===void 0?void 0:n.length)||0)>0}const r2={regex:H7,countKey:"Vars",token:"${v}",parse:vt},i2={regex:Ik,countKey:"Colors",token:"${c}",parse:dn.parse},o2={regex:Tp,countKey:"Numbers",token:"${n}",parse:Ds.parse};function fg(t,{regex:e,countKey:n,token:r,parse:i}){const o=t.tokenised.match(e);o&&(t["num"+n]=o.length,t.tokenised=t.tokenised.replace(e,r),t.values.push(...o.map(i)))}function vh(t){const e=t.toString(),n={value:e,tokenised:e,values:[],numVars:0,numColors:0,numNumbers:0};return n.value.includes("var(--")&&fg(n,r2),fg(n,i2),fg(n,o2),n}function s2(t){return vh(t).values}function a2(t){const{values:e,numColors:n,numVars:r,tokenised:i}=vh(t),o=e.length;return s=>{let a=i;for(let l=0;l<o;l++)l<r?a=a.replace(r2.token,s[l]):l<r+n?a=a.replace(i2.token,dn.transform(s[l])):a=a.replace(o2.token,Ec(s[l]));return a}}const ZB=t=>typeof t=="number"?0:t;function e8(t){const e=s2(t);return a2(t)(e.map(ZB))}const Io={test:JB,parse:s2,createTransformer:a2,getAnimatableNone:e8},l2=(t,e)=>n=>`${n>0?e:t}`;function c2(t,e){return typeof t=="number"?n=>ut(t,e,n):dn.test(t)?n2(t,e):t.startsWith("var(")?l2(t,e):d2(t,e)}const u2=(t,e)=>{const n=[...t],r=n.length,i=t.map((o,s)=>c2(o,e[s]));return o=>{for(let s=0;s<r;s++)n[s]=i[s](o);return n}},t8=(t,e)=>{const n={...t,...e},r={};for(const i in n)t[i]!==void 0&&e[i]!==void 0&&(r[i]=c2(t[i],e[i]));return i=>{for(const o in r)n[o]=r[o](i);return n}},d2=(t,e)=>{const n=Io.createTransformer(e),r=vh(t),i=vh(e);return r.numVars===i.numVars&&r.numColors===i.numColors&&r.numNumbers>=i.numNumbers?mo(u2(r.values,i.values),n):l2(t,e)},au=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r},uT=(t,e)=>n=>ut(t,e,n);function n8(t){return typeof t=="number"?uT:typeof t=="string"?dn.test(t)?n2:d2:Array.isArray(t)?u2:typeof t=="object"?t8:uT}function r8(t,e,n){const r=[],i=n||n8(t[0]),o=t.length-1;for(let s=0;s<o;s++){let a=i(t[s],t[s+1]);if(e){const l=Array.isArray(e)?e[s]||vt:e;a=mo(l,a)}r.push(a)}return r}function f2(t,e,{clamp:n=!0,ease:r,mixer:i}={}){const o=t.length;if(e1(o===e.length),o===1)return()=>e[0];t[0]>t[o-1]&&(t=[...t].reverse(),e=[...e].reverse());const s=r8(e,r,i),a=s.length,l=c=>{let u=0;if(a>1)for(;u<t.length-2&&!(c<t[u+1]);u++);const f=au(t[u],t[u+1],c);return s[u](f)};return n?c=>l(Po(t[0],t[o-1],c)):l}function i8(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const i=au(0,e,r);t.push(ut(n,1,i))}}function o8(t){const e=[0];return i8(e,t.length-1),e}function s8(t,e){return t.map(n=>n*e)}function a8(t,e){return t.map(()=>e||Qk).splice(0,t.length-1)}function yh({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const i=BB(r)?r.map(lT):lT(r),o={done:!1,value:e[0]},s=s8(n&&n.length===e.length?n:o8(e),t),a=f2(s,e,{ease:Array.isArray(i)?i:a8(e,i)});return{calculatedDuration:t,next:l=>(o.value=a(l),o.done=l>=t,o)}}function h2(t,e){return e?t*(1e3/e):0}const l8=5;function p2(t,e,n){const r=Math.max(e-l8,0);return h2(n-t(r),e-r)}const hg=.001,c8=.01,dT=10,u8=.05,d8=1;function f8({duration:t=800,bounce:e=.25,velocity:n=0,mass:r=1}){let i,o;DB(t<=go(dT));let s=1-e;s=Po(u8,d8,s),t=Po(c8,dT,ci(t)),s<1?(i=c=>{const u=c*s,f=u*t,h=u-n,g=xy(c,s),_=Math.exp(-f);return hg-h/g*_},o=c=>{const f=c*s*t,h=f*n+n,g=Math.pow(s,2)*Math.pow(c,2)*t,_=Math.exp(-f),v=xy(Math.pow(c,2),s);return(-i(c)+hg>0?-1:1)*((h-g)*_)/v}):(i=c=>{const u=Math.exp(-c*t),f=(c-n)*t+1;return-hg+u*f},o=c=>{const u=Math.exp(-c*t),f=(n-c)*(t*t);return u*f});const a=5/t,l=p8(i,o,a);if(t=go(t),isNaN(l))return{stiffness:100,damping:10,duration:t};{const c=Math.pow(l,2)*r;return{stiffness:c,damping:s*2*Math.sqrt(r*c),duration:t}}}const h8=12;function p8(t,e,n){let r=n;for(let i=1;i<h8;i++)r=r-t(r)/e(r);return r}function xy(t,e){return t*Math.sqrt(1-e*e)}const m8=["duration","bounce"],g8=["stiffness","damping","mass"];function fT(t,e){return e.some(n=>t[n]!==void 0)}function v8(t){let e={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...t};if(!fT(t,g8)&&fT(t,m8)){const n=f8(t);e={...e,...n,mass:1},e.isResolvedFromDuration=!0}return e}function m2({keyframes:t,restDelta:e,restSpeed:n,...r}){const i=t[0],o=t[t.length-1],s={done:!1,value:i},{stiffness:a,damping:l,mass:c,duration:u,velocity:f,isResolvedFromDuration:h}=v8({...r,velocity:-ci(r.velocity||0)}),g=f||0,_=l/(2*Math.sqrt(a*c)),v=o-i,E=ci(Math.sqrt(a/c)),x=Math.abs(v)<5;n||(n=x?.01:2),e||(e=x?.005:.5);let y;if(_<1){const b=xy(E,_);y=I=>{const N=Math.exp(-_*E*I);return o-N*((g+_*E*v)/b*Math.sin(b*I)+v*Math.cos(b*I))}}else if(_===1)y=b=>o-Math.exp(-E*b)*(v+(g+E*v)*b);else{const b=E*Math.sqrt(_*_-1);y=I=>{const N=Math.exp(-_*E*I),O=Math.min(b*I,300);return o-N*((g+_*E*v)*Math.sinh(O)+b*v*Math.cosh(O))/b}}return{calculatedDuration:h&&u||null,next:b=>{const I=y(b);if(h)s.done=b>=u;else{let N=g;b!==0&&(_<1?N=p2(y,b,I):N=0);const O=Math.abs(N)<=n,S=Math.abs(o-I)<=e;s.done=O&&S}return s.value=s.done?o:I,s}}}function hT({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:o=500,modifyTarget:s,min:a,max:l,restDelta:c=.5,restSpeed:u}){const f=t[0],h={done:!1,value:f},g=C=>a!==void 0&&C<a||l!==void 0&&C>l,_=C=>a===void 0?l:l===void 0||Math.abs(a-C)<Math.abs(l-C)?a:l;let v=n*e;const E=f+v,x=s===void 0?E:s(E);x!==E&&(v=x-f);const y=C=>-v*Math.exp(-C/r),b=C=>x+y(C),I=C=>{const P=y(C),A=b(C);h.done=Math.abs(P)<=c,h.value=h.done?x:A};let N,O;const S=C=>{g(h.value)&&(N=C,O=m2({keyframes:[h.value,_(h.value)],velocity:p2(b,C,h.value),damping:i,stiffness:o,restDelta:c,restSpeed:u}))};return S(0),{calculatedDuration:null,next:C=>{let P=!1;return!O&&N===void 0&&(P=!0,I(C),S(C)),N!==void 0&&C>N?O.next(C-N):(!P&&I(C),h)}}}const y8=t=>{const e=({timestamp:n})=>t(n);return{start:()=>Je.update(e,!0),stop:()=>_i(e),now:()=>Zt.isProcessing?Zt.timestamp:performance.now()}},pT=2e4;function mT(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<pT;)e+=n,r=t.next(e);return e>=pT?1/0:e}const w8={decay:hT,inertia:hT,tween:yh,keyframes:yh,spring:m2};function wh({autoplay:t=!0,delay:e=0,driver:n=y8,keyframes:r,type:i="keyframes",repeat:o=0,repeatDelay:s=0,repeatType:a="loop",onPlay:l,onStop:c,onComplete:u,onUpdate:f,...h}){let g=1,_=!1,v,E;const x=()=>{E=new Promise(W=>{v=W})};x();let y;const b=w8[i]||yh;let I;b!==yh&&typeof r[0]!="number"&&(I=f2([0,100],r,{clamp:!1}),r=[0,100]);const N=b({...h,keyframes:r});let O;a==="mirror"&&(O=b({...h,keyframes:[...r].reverse(),velocity:-(h.velocity||0)}));let S="idle",C=null,P=null,A=null;N.calculatedDuration===null&&o&&(N.calculatedDuration=mT(N));const{calculatedDuration:M}=N;let D=1/0,k=1/0;M!==null&&(D=M+s,k=D*(o+1)-s);let B=0;const q=W=>{if(P===null)return;g>0&&(P=Math.min(P,W)),g<0&&(P=Math.min(W-k/g,P)),C!==null?B=C:B=Math.round(W-P)*g;const G=B-e*(g>=0?1:-1),Y=g>=0?G<0:G>k;B=Math.max(G,0),S==="finished"&&C===null&&(B=k);let oe=B,fe=N;if(o){const le=Math.min(B,k)/D;let re=Math.floor(le),he=le%1;!he&&le>=1&&(he=1),he===1&&re--,re=Math.min(re,o+1),!!(re%2)&&(a==="reverse"?(he=1-he,s&&(he-=s/D)):a==="mirror"&&(fe=O)),oe=Po(0,1,he)*D}const Ee=Y?{done:!1,value:r[0]}:fe.next(oe);I&&(Ee.value=I(Ee.value));let{done:J}=Ee;!Y&&M!==null&&(J=g>=0?B>=k:B<=0);const de=C===null&&(S==="finished"||S==="running"&&J);return f&&f(Ee.value),de&&L(),Ee},K=()=>{y&&y.stop(),y=void 0},F=()=>{S="idle",K(),v(),x(),P=A=null},L=()=>{S="finished",u&&u(),K(),v()},V=()=>{if(_)return;y||(y=n(q));const W=y.now();l&&l(),C!==null?P=W-C:(!P||S==="finished")&&(P=W),S==="finished"&&x(),A=P,C=null,S="running",y.start()};t&&V();const $={then(W,G){return E.then(W,G)},get time(){return ci(B)},set time(W){W=go(W),B=W,C!==null||!y||g===0?C=W:P=y.now()-W/g},get duration(){const W=N.calculatedDuration===null?mT(N):N.calculatedDuration;return ci(W)},get speed(){return g},set speed(W){W===g||!y||(g=W,$.time=ci(B))},get state(){return S},play:V,pause:()=>{S="paused",C=B},stop:()=>{_=!0,S!=="idle"&&(S="idle",c&&c(),F())},cancel:()=>{A!==null&&q(A),F()},complete:()=>{S="finished"},sample:W=>(P=0,q(W))};return $}function _8(t){let e;return()=>(e===void 0&&(e=t()),e)}const x8=_8(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),E8=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),Md=10,b8=2e4,T8=(t,e)=>e.type==="spring"||t==="backgroundColor"||!qk(e.ease);function C8(t,e,{onUpdate:n,onComplete:r,...i}){if(!(x8()&&E8.has(e)&&!i.repeatDelay&&i.repeatType!=="mirror"&&i.damping!==0&&i.type!=="inertia"))return!1;let s=!1,a,l,c=!1;const u=()=>{l=new Promise(b=>{a=b})};u();let{keyframes:f,duration:h=300,ease:g,times:_}=i;if(T8(e,i)){const b=wh({...i,repeat:0,delay:0});let I={done:!1,value:f[0]};const N=[];let O=0;for(;!I.done&&O<b8;)I=b.sample(O),N.push(I.value),O+=Md;_=void 0,f=N,h=O-Md,g="linear"}const v=OB(t.owner.current,e,f,{...i,duration:h,ease:g,times:_}),E=()=>{c=!1,v.cancel()},x=()=>{c=!0,Je.update(E),a(),u()};return v.onfinish=()=>{c||(t.set(LB(f,i)),r&&r(),x())},{then(b,I){return l.then(b,I)},attachTimeline(b){return v.timeline=b,v.onfinish=null,vt},get time(){return ci(v.currentTime||0)},set time(b){v.currentTime=go(b)},get speed(){return v.playbackRate},set speed(b){v.playbackRate=b},get duration(){return ci(h)},play:()=>{s||(v.play(),_i(E))},pause:()=>v.pause(),stop:()=>{if(s=!0,v.playState==="idle")return;const{currentTime:b}=v;if(b){const I=wh({...i,autoplay:!1});t.setWithVelocity(I.sample(b-Md).value,I.sample(b).value,Md)}x()},complete:()=>{c||v.finish()},cancel:x}}function S8({keyframes:t,delay:e,onUpdate:n,onComplete:r}){const i=()=>(n&&n(t[t.length-1]),r&&r(),{time:0,speed:1,duration:0,play:vt,pause:vt,stop:vt,then:o=>(o(),Promise.resolve()),cancel:vt,complete:vt});return e?wh({keyframes:[0,1],duration:0,delay:e,onComplete:i}):i()}const P8={type:"spring",stiffness:500,damping:25,restSpeed:10},I8=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),A8={type:"keyframes",duration:.8},R8={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},k8=(t,{keyframes:e})=>e.length>2?A8:Ns.has(t)?t.startsWith("scale")?I8(e[1]):P8:R8,Ey=(t,e)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(Io.test(e)||e==="0")&&!e.startsWith("url(")),N8=new Set(["brightness","contrast","saturate","opacity"]);function D8(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(Tp)||[];if(!r)return t;const i=n.replace(r,"");let o=N8.has(e)?1:0;return r!==n&&(o*=100),e+"("+o+i+")"}const M8=/([a-z-]*)\(.*?\)/g,by={...Io,getAnimatableNone:t=>{const e=t.match(M8);return e?e.map(D8).join(" "):t}},O8={...Ak,color:dn,backgroundColor:dn,outlineColor:dn,fill:dn,stroke:dn,borderColor:dn,borderTopColor:dn,borderRightColor:dn,borderBottomColor:dn,borderLeftColor:dn,filter:by,WebkitFilter:by},i1=t=>O8[t];function g2(t,e){let n=i1(t);return n!==by&&(n=Io),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const v2=t=>/^0[^.\s]+$/.test(t);function L8(t){if(typeof t=="number")return t===0;if(t!==null)return t==="none"||t==="0"||v2(t)}function V8(t,e,n,r){const i=Ey(e,n);let o;Array.isArray(n)?o=[...n]:o=[null,n];const s=r.from!==void 0?r.from:t.get();let a;const l=[];for(let c=0;c<o.length;c++)o[c]===null&&(o[c]=c===0?s:o[c-1]),L8(o[c])&&l.push(c),typeof o[c]=="string"&&o[c]!=="none"&&o[c]!=="0"&&(a=o[c]);if(i&&l.length&&a)for(let c=0;c<l.length;c++){const u=l[c];o[u]=g2(e,a)}return o}function j8({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:o,repeatType:s,repeatDelay:a,from:l,elapsed:c,...u}){return!!Object.keys(u).length}function o1(t,e){return t[e]||t.default||t}const F8={skipAnimations:!1},s1=(t,e,n,r={})=>i=>{const o=o1(r,t)||{},s=o.delay||r.delay||0;let{elapsed:a=0}=r;a=a-go(s);const l=V8(e,t,n,o),c=l[0],u=l[l.length-1],f=Ey(t,c),h=Ey(t,u);let g={keyframes:l,velocity:e.getVelocity(),ease:"easeOut",...o,delay:-a,onUpdate:_=>{e.set(_),o.onUpdate&&o.onUpdate(_)},onComplete:()=>{i(),o.onComplete&&o.onComplete()}};if(j8(o)||(g={...g,...k8(t,g)}),g.duration&&(g.duration=go(g.duration)),g.repeatDelay&&(g.repeatDelay=go(g.repeatDelay)),!f||!h||MB.current||o.type===!1||F8.skipAnimations)return S8(g);if(!r.isHandoff&&e.owner&&e.owner.current instanceof HTMLElement&&!e.owner.getProps().onUpdate){const _=C8(e,t,g);if(_)return _}return wh(g)};function _h(t){return!!(Sn(t)&&t.add)}const y2=t=>/^\-?\d*\.?\d+$/.test(t);function a1(t,e){t.indexOf(e)===-1&&t.push(e)}function l1(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class c1{constructor(){this.subscriptions=[]}add(e){return a1(this.subscriptions,e),()=>l1(this.subscriptions,e)}notify(e,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,n,r);else for(let o=0;o<i;o++){const s=this.subscriptions[o];s&&s(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const $8=t=>!isNaN(parseFloat(t));class U8{constructor(e,n={}){this.version="10.18.0",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(r,i=!0)=>{this.prev=this.current,this.current=r;const{delta:o,timestamp:s}=Zt;this.lastUpdated!==s&&(this.timeDelta=o,this.lastUpdated=s,Je.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>Je.postRender(this.velocityCheck),this.velocityCheck=({timestamp:r})=>{r!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=e,this.canTrackVelocity=$8(this.current),this.owner=n.owner}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new c1);const r=this.events[e].add(n);return e==="change"?()=>{r(),Je.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=e,this.timeDelta=r}jump(e){this.updateAndNotify(e),this.prev=e,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?h2(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Ha(t,e){return new U8(t,e)}const w2=t=>e=>e.test(t),B8={test:t=>t==="auto",parse:t=>t},_2=[Ds,pe,jr,Li,K7,Y7,B8],ql=t=>_2.find(w2(t)),W8=[..._2,dn,Io],z8=t=>W8.find(w2(t));function H8(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,Ha(n))}function q8(t,e){const n=Sp(t,e);let{transitionEnd:r={},transition:i={},...o}=n?t.makeTargetAnimatable(n,!1):{};o={...o,...r};for(const s in o){const a=cB(o[s]);H8(t,s,a)}}function G8(t,e,n){var r,i;const o=Object.keys(e).filter(a=>!t.hasValue(a)),s=o.length;if(s)for(let a=0;a<s;a++){const l=o[a],c=e[l];let u=null;Array.isArray(c)&&(u=c[0]),u===null&&(u=(i=(r=n[l])!==null&&r!==void 0?r:t.readValue(l))!==null&&i!==void 0?i:e[l]),u!=null&&(typeof u=="string"&&(y2(u)||v2(u))?u=parseFloat(u):!z8(u)&&Io.test(c)&&(u=g2(l,c)),t.addValue(l,Ha(u,{owner:t})),n[l]===void 0&&(n[l]=u),u!==null&&t.setBaseTarget(l,u))}}function Y8(t,e){return e?(e[t]||e.default||e).from:void 0}function K8(t,e,n){const r={};for(const i in t){const o=Y8(i,e);if(o!==void 0)r[i]=o;else{const s=n.getValue(i);s&&(r[i]=s.get())}}return r}function Q8({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function X8(t,e){const n=t.get();if(Array.isArray(e)){for(let r=0;r<e.length;r++)if(e[r]!==n)return!0}else return n!==e}function x2(t,e,{delay:n=0,transitionOverride:r,type:i}={}){let{transition:o=t.getDefaultTransition(),transitionEnd:s,...a}=t.makeTargetAnimatable(e);const l=t.getValue("willChange");r&&(o=r);const c=[],u=i&&t.animationState&&t.animationState.getState()[i];for(const f in a){const h=t.getValue(f),g=a[f];if(!h||g===void 0||u&&Q8(u,f))continue;const _={delay:n,elapsed:0,...o1(o||{},f)};if(window.HandoffAppearAnimations){const x=t.getProps()[Ek];if(x){const y=window.HandoffAppearAnimations(x,f,h,Je);y!==null&&(_.elapsed=y,_.isHandoff=!0)}}let v=!_.isHandoff&&!X8(h,g);if(_.type==="spring"&&(h.getVelocity()||_.velocity)&&(v=!1),h.animation&&(v=!1),v)continue;h.start(s1(f,h,g,t.shouldReduceMotion&&Ns.has(f)?{type:!1}:_));const E=h.animation;_h(l)&&(l.add(f),E.then(()=>l.remove(f))),c.push(E)}return s&&Promise.all(c).then(()=>{s&&q8(t,s)}),c}function Ty(t,e,n={}){const r=Sp(t,e,n.custom);let{transition:i=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(i=n.transitionOverride);const o=r?()=>Promise.all(x2(t,r,n)):()=>Promise.resolve(),s=t.variantChildren&&t.variantChildren.size?(l=0)=>{const{delayChildren:c=0,staggerChildren:u,staggerDirection:f}=i;return J8(t,e,c+l,u,f,n)}:()=>Promise.resolve(),{when:a}=i;if(a){const[l,c]=a==="beforeChildren"?[o,s]:[s,o];return l().then(()=>c())}else return Promise.all([o(),s(n.delay)])}function J8(t,e,n=0,r=0,i=1,o){const s=[],a=(t.variantChildren.size-1)*r,l=i===1?(c=0)=>c*r:(c=0)=>a-c*r;return Array.from(t.variantChildren).sort(Z8).forEach((c,u)=>{c.notify("AnimationStart",e),s.push(Ty(c,e,{...o,delay:n+l(u)}).then(()=>c.notify("AnimationComplete",e)))}),Promise.all(s)}function Z8(t,e){return t.sortNodePosition(e)}function eW(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const i=e.map(o=>Ty(t,o,n));r=Promise.all(i)}else if(typeof e=="string")r=Ty(t,e,n);else{const i=typeof e=="function"?Sp(t,e,n.custom):e;r=Promise.all(x2(t,i,n))}return r.then(()=>t.notify("AnimationComplete",e))}const tW=[...zw].reverse(),nW=zw.length;function rW(t){return e=>Promise.all(e.map(({animation:n,options:r})=>eW(t,n,r)))}function iW(t){let e=rW(t);const n=sW();let r=!0;const i=(l,c)=>{const u=Sp(t,c);if(u){const{transition:f,transitionEnd:h,...g}=u;l={...l,...g,...h}}return l};function o(l){e=l(t)}function s(l,c){const u=t.getProps(),f=t.getVariantContext(!0)||{},h=[],g=new Set;let _={},v=1/0;for(let x=0;x<nW;x++){const y=tW[x],b=n[y],I=u[y]!==void 0?u[y]:f[y],N=ou(I),O=y===c?b.isActive:null;O===!1&&(v=x);let S=I===f[y]&&I!==u[y]&&N;if(S&&r&&t.manuallyAnimateOnMount&&(S=!1),b.protectedKeys={..._},!b.isActive&&O===null||!I&&!b.prevProp||Ep(I)||typeof I=="boolean")continue;let P=oW(b.prevProp,I)||y===c&&b.isActive&&!S&&N||x>v&&N,A=!1;const M=Array.isArray(I)?I:[I];let D=M.reduce(i,{});O===!1&&(D={});const{prevResolvedValues:k={}}=b,B={...k,...D},q=K=>{P=!0,g.has(K)&&(A=!0,g.delete(K)),b.needsAnimating[K]=!0};for(const K in B){const F=D[K],L=k[K];if(_.hasOwnProperty(K))continue;let V=!1;gh(F)&&gh(L)?V=!zk(F,L):V=F!==L,V?F!==void 0?q(K):g.add(K):F!==void 0&&g.has(K)?q(K):b.protectedKeys[K]=!0}b.prevProp=I,b.prevResolvedValues=D,b.isActive&&(_={..._,...D}),r&&t.blockInitialAnimation&&(P=!1),P&&(!S||A)&&h.push(...M.map(K=>({animation:K,options:{type:y,...l}})))}if(g.size){const x={};g.forEach(y=>{const b=t.getBaseTarget(y);b!==void 0&&(x[y]=b)}),h.push({animation:x})}let E=!!h.length;return r&&(u.initial===!1||u.initial===u.animate)&&!t.manuallyAnimateOnMount&&(E=!1),r=!1,E?e(h):Promise.resolve()}function a(l,c,u){var f;if(n[l].isActive===c)return Promise.resolve();(f=t.variantChildren)===null||f===void 0||f.forEach(g=>{var _;return(_=g.animationState)===null||_===void 0?void 0:_.setActive(l,c)}),n[l].isActive=c;const h=s(u,l);for(const g in n)n[g].protectedKeys={};return h}return{animateChanges:s,setActive:a,setAnimateFunction:o,getState:()=>n}}function oW(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!zk(e,t):!1}function qo(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function sW(){return{animate:qo(!0),whileInView:qo(),whileHover:qo(),whileTap:qo(),whileDrag:qo(),whileFocus:qo(),exit:qo()}}class aW extends $o{constructor(e){super(e),e.animationState||(e.animationState=iW(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();this.unmount(),Ep(e)&&(this.unmount=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){}}let lW=0;class cW extends $o{constructor(){super(...arguments),this.id=lW++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n,custom:r}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===i)return;const o=this.node.animationState.setActive("exit",!e,{custom:r??this.node.getProps().custom});n&&!e&&o.then(()=>n(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const uW={animation:{Feature:aW},exit:{Feature:cW}},gT=(t,e)=>Math.abs(t-e);function dW(t,e){const n=gT(t.x,e.x),r=gT(t.y,e.y);return Math.sqrt(n**2+r**2)}class E2{constructor(e,n,{transformPagePoint:r,contextWindow:i,dragSnapToOrigin:o=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const f=mg(this.lastMoveEventInfo,this.history),h=this.startEvent!==null,g=dW(f.offset,{x:0,y:0})>=3;if(!h&&!g)return;const{point:_}=f,{timestamp:v}=Zt;this.history.push({..._,timestamp:v});const{onStart:E,onMove:x}=this.handlers;h||(E&&E(this.lastMoveEvent,f),this.startEvent=this.lastMoveEvent),x&&x(this.lastMoveEvent,f)},this.handlePointerMove=(f,h)=>{this.lastMoveEvent=f,this.lastMoveEventInfo=pg(h,this.transformPagePoint),Je.update(this.updatePoint,!0)},this.handlePointerUp=(f,h)=>{this.end();const{onEnd:g,onSessionEnd:_,resumeAnimation:v}=this.handlers;if(this.dragSnapToOrigin&&v&&v(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const E=mg(f.type==="pointercancel"?this.lastMoveEventInfo:pg(h,this.transformPagePoint),this.history);this.startEvent&&g&&g(f,E),_&&_(f,E)},!Fk(e))return;this.dragSnapToOrigin=o,this.handlers=n,this.transformPagePoint=r,this.contextWindow=i||window;const s=Cp(e),a=pg(s,this.transformPagePoint),{point:l}=a,{timestamp:c}=Zt;this.history=[{...l,timestamp:c}];const{onSessionStart:u}=n;u&&u(e,mg(a,this.history)),this.removeListeners=mo(li(this.contextWindow,"pointermove",this.handlePointerMove),li(this.contextWindow,"pointerup",this.handlePointerUp),li(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),_i(this.updatePoint)}}function pg(t,e){return e?{point:e(t.point)}:t}function vT(t,e){return{x:t.x-e.x,y:t.y-e.y}}function mg({point:t},e){return{point:t,delta:vT(t,b2(e)),offset:vT(t,fW(e)),velocity:hW(e,.1)}}function fW(t){return t[0]}function b2(t){return t[t.length-1]}function hW(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const i=b2(t);for(;n>=0&&(r=t[n],!(i.timestamp-r.timestamp>go(e)));)n--;if(!r)return{x:0,y:0};const o=ci(i.timestamp-r.timestamp);if(o===0)return{x:0,y:0};const s={x:(i.x-r.x)/o,y:(i.y-r.y)/o};return s.x===1/0&&(s.x=0),s.y===1/0&&(s.y=0),s}function Vn(t){return t.max-t.min}function Cy(t,e=0,n=.01){return Math.abs(t-e)<=n}function yT(t,e,n,r=.5){t.origin=r,t.originPoint=ut(e.min,e.max,t.origin),t.scale=Vn(n)/Vn(e),(Cy(t.scale,1,1e-4)||isNaN(t.scale))&&(t.scale=1),t.translate=ut(n.min,n.max,t.origin)-t.originPoint,(Cy(t.translate)||isNaN(t.translate))&&(t.translate=0)}function bc(t,e,n,r){yT(t.x,e.x,n.x,r?r.originX:void 0),yT(t.y,e.y,n.y,r?r.originY:void 0)}function wT(t,e,n){t.min=n.min+e.min,t.max=t.min+Vn(e)}function pW(t,e,n){wT(t.x,e.x,n.x),wT(t.y,e.y,n.y)}function _T(t,e,n){t.min=e.min-n.min,t.max=t.min+Vn(e)}function Tc(t,e,n){_T(t.x,e.x,n.x),_T(t.y,e.y,n.y)}function mW(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?ut(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?ut(n,t,r.max):Math.min(t,n)),t}function xT(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function gW(t,{top:e,left:n,bottom:r,right:i}){return{x:xT(t.x,n,i),y:xT(t.y,e,r)}}function ET(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function vW(t,e){return{x:ET(t.x,e.x),y:ET(t.y,e.y)}}function yW(t,e){let n=.5;const r=Vn(t),i=Vn(e);return i>r?n=au(e.min,e.max-r,t.min):r>i&&(n=au(t.min,t.max-i,e.min)),Po(0,1,n)}function wW(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const Sy=.35;function _W(t=Sy){return t===!1?t=0:t===!0&&(t=Sy),{x:bT(t,"left","right"),y:bT(t,"top","bottom")}}function bT(t,e,n){return{min:TT(t,e),max:TT(t,n)}}function TT(t,e){return typeof t=="number"?t:t[e]||0}const CT=()=>({translate:0,scale:1,origin:0,originPoint:0}),ha=()=>({x:CT(),y:CT()}),ST=()=>({min:0,max:0}),Ct=()=>({x:ST(),y:ST()});function Un(t){return[t("x"),t("y")]}function T2({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function xW({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function EW(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function gg(t){return t===void 0||t===1}function Py({scale:t,scaleX:e,scaleY:n}){return!gg(t)||!gg(e)||!gg(n)}function Qo(t){return Py(t)||C2(t)||t.z||t.rotate||t.rotateX||t.rotateY}function C2(t){return PT(t.x)||PT(t.y)}function PT(t){return t&&t!=="0%"}function xh(t,e,n){const r=t-n,i=e*r;return n+i}function IT(t,e,n,r,i){return i!==void 0&&(t=xh(t,i,r)),xh(t,n,r)+e}function Iy(t,e=0,n=1,r,i){t.min=IT(t.min,e,n,r,i),t.max=IT(t.max,e,n,r,i)}function S2(t,{x:e,y:n}){Iy(t.x,e.translate,e.scale,e.originPoint),Iy(t.y,n.translate,n.scale,n.originPoint)}function bW(t,e,n,r=!1){const i=n.length;if(!i)return;e.x=e.y=1;let o,s;for(let a=0;a<i;a++){o=n[a],s=o.projectionDelta;const l=o.instance;l&&l.style&&l.style.display==="contents"||(r&&o.options.layoutScroll&&o.scroll&&o!==o.root&&pa(t,{x:-o.scroll.offset.x,y:-o.scroll.offset.y}),s&&(e.x*=s.x.scale,e.y*=s.y.scale,S2(t,s)),r&&Qo(o.latestValues)&&pa(t,o.latestValues))}e.x=AT(e.x),e.y=AT(e.y)}function AT(t){return Number.isInteger(t)||t>1.0000000000001||t<.999999999999?t:1}function Ui(t,e){t.min=t.min+e,t.max=t.max+e}function RT(t,e,[n,r,i]){const o=e[i]!==void 0?e[i]:.5,s=ut(t.min,t.max,o);Iy(t,e[n],e[r],s,e.scale)}const TW=["x","scaleX","originX"],CW=["y","scaleY","originY"];function pa(t,e){RT(t.x,e,TW),RT(t.y,e,CW)}function P2(t,e){return T2(EW(t.getBoundingClientRect(),e))}function SW(t,e,n){const r=P2(t,n),{scroll:i}=e;return i&&(Ui(r.x,i.offset.x),Ui(r.y,i.offset.y)),r}const I2=({current:t})=>t?t.ownerDocument.defaultView:null,PW=new WeakMap;class IW{constructor(e){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Ct(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const i=u=>{const{dragSnapToOrigin:f}=this.getProps();f?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Cp(u,"page").point)},o=(u,f)=>{const{drag:h,dragPropagation:g,onDragStart:_}=this.getProps();if(h&&!g&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=Uk(h),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Un(E=>{let x=this.getAxisMotionValue(E).get()||0;if(jr.test(x)){const{projection:y}=this.visualElement;if(y&&y.layout){const b=y.layout.layoutBox[E];b&&(x=Vn(b)*(parseFloat(x)/100))}}this.originPoint[E]=x}),_&&Je.update(()=>_(u,f),!1,!0);const{animationState:v}=this.visualElement;v&&v.setActive("whileDrag",!0)},s=(u,f)=>{const{dragPropagation:h,dragDirectionLock:g,onDirectionLock:_,onDrag:v}=this.getProps();if(!h&&!this.openGlobalLock)return;const{offset:E}=f;if(g&&this.currentDirection===null){this.currentDirection=AW(E),this.currentDirection!==null&&_&&_(this.currentDirection);return}this.updateAxis("x",f.point,E),this.updateAxis("y",f.point,E),this.visualElement.render(),v&&v(u,f)},a=(u,f)=>this.stop(u,f),l=()=>Un(u=>{var f;return this.getAnimationState(u)==="paused"&&((f=this.getAxisMotionValue(u).animation)===null||f===void 0?void 0:f.play())}),{dragSnapToOrigin:c}=this.getProps();this.panSession=new E2(e,{onSessionStart:i,onStart:o,onMove:s,onSessionEnd:a,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:c,contextWindow:I2(this.visualElement)})}stop(e,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:i}=n;this.startAnimation(i);const{onDragEnd:o}=this.getProps();o&&Je.update(()=>o(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:i}=this.getProps();if(!r||!Od(e,i,this.currentDirection))return;const o=this.getAxisMotionValue(e);let s=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(s=mW(s,this.constraints[e],this.elastic[e])),o.set(s)}resolveConstraints(){var e;const{dragConstraints:n,dragElastic:r}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,o=this.constraints;n&&da(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&i?this.constraints=gW(i.layoutBox,n):this.constraints=!1,this.elastic=_W(r),o!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&Un(s=>{this.getAxisMotionValue(s)&&(this.constraints[s]=wW(i.layoutBox[s],this.constraints[s]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!da(e))return!1;const r=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const o=SW(r,i.root,this.visualElement.getTransformPagePoint());let s=vW(i.layout.layoutBox,o);if(n){const a=n(xW(s));this.hasMutatedConstraints=!!a,a&&(s=T2(a))}return s}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:o,dragSnapToOrigin:s,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},c=Un(u=>{if(!Od(u,n,this.currentDirection))return;let f=l&&l[u]||{};s&&(f={min:0,max:0});const h=i?200:1e6,g=i?40:1e7,_={type:"inertia",velocity:r?e[u]:0,bounceStiffness:h,bounceDamping:g,timeConstant:750,restDelta:1,restSpeed:10,...o,...f};return this.startAxisValueAnimation(u,_)});return Promise.all(c).then(a)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return r.start(s1(e,r,0,n))}stopAnimation(){Un(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Un(e=>{var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(e){const n="_drag"+e.toUpperCase(),r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){Un(n=>{const{drag:r}=this.getProps();if(!Od(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,o=this.getAxisMotionValue(n);if(i&&i.layout){const{min:s,max:a}=i.layout.layoutBox[n];o.set(e[n]-ut(s,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!da(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};Un(s=>{const a=this.getAxisMotionValue(s);if(a){const l=a.get();i[s]=yW({min:l,max:l},this.constraints[s])}});const{transformTemplate:o}=this.visualElement.getProps();this.visualElement.current.style.transform=o?o({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Un(s=>{if(!Od(s,e,null))return;const a=this.getAxisMotionValue(s),{min:l,max:c}=this.constraints[s];a.set(ut(l,c,i[s]))})}addListeners(){if(!this.visualElement.current)return;PW.set(this.visualElement,this);const e=this.visualElement.current,n=li(e,"pointerdown",l=>{const{drag:c,dragListener:u=!0}=this.getProps();c&&u&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();da(l)&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,o=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),r();const s=ii(window,"resize",()=>this.scalePositionWithinConstraints()),a=i.addEventListener("didUpdate",({delta:l,hasLayoutChanged:c})=>{this.isDragging&&c&&(Un(u=>{const f=this.getAxisMotionValue(u);f&&(this.originPoint[u]+=l[u].translate,f.set(f.get()+l[u].translate))}),this.visualElement.render())});return()=>{s(),n(),o(),a&&a()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:o=!1,dragElastic:s=Sy,dragMomentum:a=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:o,dragElastic:s,dragMomentum:a}}}function Od(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function AW(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class RW extends $o{constructor(e){super(e),this.removeGroupControls=vt,this.removeListeners=vt,this.controls=new IW(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||vt}unmount(){this.removeGroupControls(),this.removeListeners()}}const kT=t=>(e,n)=>{t&&Je.update(()=>t(e,n))};class kW extends $o{constructor(){super(...arguments),this.removePointerDownListener=vt}onPointerDown(e){this.session=new E2(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:I2(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:kT(e),onStart:kT(n),onMove:r,onEnd:(o,s)=>{delete this.session,i&&Je.update(()=>i(o,s))}}}mount(){this.removePointerDownListener=li(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function NW(){const t=m.useContext(_p);if(t===null)return[!0,null];const{isPresent:e,onExitComplete:n,register:r}=t,i=m.useId();return m.useEffect(()=>r(i),[]),!e&&n?[!1,()=>n&&n(i)]:[!0]}const vf={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function NT(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Gl={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(pe.test(t))t=parseFloat(t);else return t;const n=NT(t,e.target.x),r=NT(t,e.target.y);return`${n}% ${r}%`}},DW={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,i=Io.parse(t);if(i.length>5)return r;const o=Io.createTransformer(t),s=typeof i[0]!="number"?1:0,a=n.x.scale*e.x,l=n.y.scale*e.y;i[0+s]/=a,i[1+s]/=l;const c=ut(a,l,.5);return typeof i[2+s]=="number"&&(i[2+s]/=c),typeof i[3+s]=="number"&&(i[3+s]/=c),o(i)}};class MW extends we.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:o}=e;U7(OW),o&&(n.group&&n.group.add(o),r&&r.register&&i&&r.register(o),o.root.didUpdate(),o.addEventListener("animationComplete",()=>{this.safeToRemove()}),o.setOptions({...o.options,onExitComplete:()=>this.safeToRemove()})),vf.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:i,isPresent:o}=this.props,s=r.projection;return s&&(s.isPresent=o,i||e.layoutDependency!==n||n===void 0?s.willUpdate():this.safeToRemove(),e.isPresent!==o&&(o?s.promote():s.relegate()||Je.postRender(()=>{const a=s.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),queueMicrotask(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=e;i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function A2(t){const[e,n]=NW(),r=m.useContext(qw);return we.createElement(MW,{...t,layoutGroup:r,switchLayoutGroup:m.useContext(Tk),isPresent:e,safeToRemove:n})}const OW={borderRadius:{...Gl,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Gl,borderTopRightRadius:Gl,borderBottomLeftRadius:Gl,borderBottomRightRadius:Gl,boxShadow:DW},R2=["TopLeft","TopRight","BottomLeft","BottomRight"],LW=R2.length,DT=t=>typeof t=="string"?parseFloat(t):t,MT=t=>typeof t=="number"||pe.test(t);function VW(t,e,n,r,i,o){i?(t.opacity=ut(0,n.opacity!==void 0?n.opacity:1,jW(r)),t.opacityExit=ut(e.opacity!==void 0?e.opacity:1,0,FW(r))):o&&(t.opacity=ut(e.opacity!==void 0?e.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let s=0;s<LW;s++){const a=`border${R2[s]}Radius`;let l=OT(e,a),c=OT(n,a);if(l===void 0&&c===void 0)continue;l||(l=0),c||(c=0),l===0||c===0||MT(l)===MT(c)?(t[a]=Math.max(ut(DT(l),DT(c),r),0),(jr.test(c)||jr.test(l))&&(t[a]+="%")):t[a]=c}(e.rotate||n.rotate)&&(t.rotate=ut(e.rotate||0,n.rotate||0,r))}function OT(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const jW=k2(0,.5,Zk),FW=k2(.5,.95,vt);function k2(t,e,n){return r=>r<t?0:r>e?1:n(au(t,e,r))}function LT(t,e){t.min=e.min,t.max=e.max}function $n(t,e){LT(t.x,e.x),LT(t.y,e.y)}function VT(t,e,n,r,i){return t-=e,t=xh(t,1/n,r),i!==void 0&&(t=xh(t,1/i,r)),t}function $W(t,e=0,n=1,r=.5,i,o=t,s=t){if(jr.test(e)&&(e=parseFloat(e),e=ut(s.min,s.max,e/100)-s.min),typeof e!="number")return;let a=ut(o.min,o.max,r);t===o&&(a-=e),t.min=VT(t.min,e,n,a,i),t.max=VT(t.max,e,n,a,i)}function jT(t,e,[n,r,i],o,s){$W(t,e[n],e[r],e[i],e.scale,o,s)}const UW=["x","scaleX","originX"],BW=["y","scaleY","originY"];function FT(t,e,n,r){jT(t.x,e,UW,n?n.x:void 0,r?r.x:void 0),jT(t.y,e,BW,n?n.y:void 0,r?r.y:void 0)}function $T(t){return t.translate===0&&t.scale===1}function N2(t){return $T(t.x)&&$T(t.y)}function WW(t,e){return t.x.min===e.x.min&&t.x.max===e.x.max&&t.y.min===e.y.min&&t.y.max===e.y.max}function D2(t,e){return Math.round(t.x.min)===Math.round(e.x.min)&&Math.round(t.x.max)===Math.round(e.x.max)&&Math.round(t.y.min)===Math.round(e.y.min)&&Math.round(t.y.max)===Math.round(e.y.max)}function UT(t){return Vn(t.x)/Vn(t.y)}class zW{constructor(){this.members=[]}add(e){a1(this.members,e),e.scheduleRender()}remove(e){if(l1(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(i=>e===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const o=this.members[i];if(o.isPresent!==!1){r=o;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function BT(t,e,n){let r="";const i=t.x.translate/e.x,o=t.y.translate/e.y;if((i||o)&&(r=`translate3d(${i}px, ${o}px, 0) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{rotate:l,rotateX:c,rotateY:u}=n;l&&(r+=`rotate(${l}deg) `),c&&(r+=`rotateX(${c}deg) `),u&&(r+=`rotateY(${u}deg) `)}const s=t.x.scale*e.x,a=t.y.scale*e.y;return(s!==1||a!==1)&&(r+=`scale(${s}, ${a})`),r||"none"}const HW=(t,e)=>t.depth-e.depth;class qW{constructor(){this.children=[],this.isDirty=!1}add(e){a1(this.children,e),this.isDirty=!0}remove(e){l1(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(HW),this.isDirty=!1,this.children.forEach(e)}}function GW(t,e){const n=performance.now(),r=({timestamp:i})=>{const o=i-n;o>=e&&(_i(r),t(o-e))};return Je.read(r,!0),()=>_i(r)}function YW(t){window.MotionDebug&&window.MotionDebug.record(t)}function KW(t){return t instanceof SVGElement&&t.tagName!=="svg"}function QW(t,e,n){const r=Sn(t)?t:Ha(t);return r.start(s1("",r,e,n)),r.animation}const WT=["","X","Y","Z"],XW={visibility:"hidden"},zT=1e3;let JW=0;const Xo={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function M2({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(s={},a=e==null?void 0:e()){this.id=JW++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Xo.totalNodes=Xo.resolvedTargetDeltas=Xo.recalculatedProjection=0,this.nodes.forEach(tz),this.nodes.forEach(sz),this.nodes.forEach(az),this.nodes.forEach(nz),YW(Xo)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=s,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new qW)}addEventListener(s,a){return this.eventHandlers.has(s)||this.eventHandlers.set(s,new c1),this.eventHandlers.get(s).add(a)}notifyListeners(s,...a){const l=this.eventHandlers.get(s);l&&l.notify(...a)}hasListeners(s){return this.eventHandlers.has(s)}mount(s,a=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=KW(s),this.instance=s;const{layoutId:l,layout:c,visualElement:u}=this.options;if(u&&!u.current&&u.mount(s),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),a&&(c||l)&&(this.isLayoutDirty=!0),t){let f;const h=()=>this.root.updateBlockedByResize=!1;t(s,()=>{this.root.updateBlockedByResize=!0,f&&f(),f=GW(h,250),vf.hasAnimatedSinceResize&&(vf.hasAnimatedSinceResize=!1,this.nodes.forEach(qT))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&u&&(l||c)&&this.addEventListener("didUpdate",({delta:f,hasLayoutChanged:h,hasRelativeTargetChanged:g,layout:_})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const v=this.options.transition||u.getDefaultTransition()||fz,{onLayoutAnimationStart:E,onLayoutAnimationComplete:x}=u.getProps(),y=!this.targetLayout||!D2(this.targetLayout,_)||g,b=!h&&g;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||b||h&&(y||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(f,b);const I={...o1(v,"layout"),onPlay:E,onComplete:x};(u.shouldReduceMotion||this.options.layoutRoot)&&(I.delay=0,I.type=!1),this.startAnimation(I)}else h||qT(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=_})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const s=this.getStack();s&&s.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,_i(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(lz),this.animationId++)}getTransformTemplate(){const{visualElement:s}=this.options;return s&&s.getProps().transformTemplate}willUpdate(s=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let u=0;u<this.path.length;u++){const f=this.path[u];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),s&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(HT);return}this.isUpdating||this.nodes.forEach(iz),this.isUpdating=!1,this.nodes.forEach(oz),this.nodes.forEach(ZW),this.nodes.forEach(ez),this.clearAllSnapshots();const a=performance.now();Zt.delta=Po(0,1e3/60,a-Zt.timestamp),Zt.timestamp=a,Zt.isProcessing=!0,sg.update.process(Zt),sg.preRender.process(Zt),sg.render.process(Zt),Zt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(rz),this.sharedNodes.forEach(cz)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Je.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Je.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const s=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Ct(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,s?s.layoutBox:void 0)}updateScroll(s="measure"){let a=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===s&&(a=!1),a&&(this.scroll={animationId:this.root.animationId,phase:s,isRoot:r(this.instance),offset:n(this.instance)})}resetTransform(){if(!i)return;const s=this.isLayoutDirty||this.shouldResetTransform,a=this.projectionDelta&&!N2(this.projectionDelta),l=this.getTransformTemplate(),c=l?l(this.latestValues,""):void 0,u=c!==this.prevTransformTemplateValue;s&&(a||Qo(this.latestValues)||u)&&(i(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(s=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return s&&(l=this.removeTransform(l)),hz(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:s}=this.options;if(!s)return Ct();const a=s.measureViewportBox(),{scroll:l}=this.root;return l&&(Ui(a.x,l.offset.x),Ui(a.y,l.offset.y)),a}removeElementScroll(s){const a=Ct();$n(a,s);for(let l=0;l<this.path.length;l++){const c=this.path[l],{scroll:u,options:f}=c;if(c!==this.root&&u&&f.layoutScroll){if(u.isRoot){$n(a,s);const{scroll:h}=this.root;h&&(Ui(a.x,-h.offset.x),Ui(a.y,-h.offset.y))}Ui(a.x,u.offset.x),Ui(a.y,u.offset.y)}}return a}applyTransform(s,a=!1){const l=Ct();$n(l,s);for(let c=0;c<this.path.length;c++){const u=this.path[c];!a&&u.options.layoutScroll&&u.scroll&&u!==u.root&&pa(l,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),Qo(u.latestValues)&&pa(l,u.latestValues)}return Qo(this.latestValues)&&pa(l,this.latestValues),l}removeTransform(s){const a=Ct();$n(a,s);for(let l=0;l<this.path.length;l++){const c=this.path[l];if(!c.instance||!Qo(c.latestValues))continue;Py(c.latestValues)&&c.updateSnapshot();const u=Ct(),f=c.measurePageBox();$n(u,f),FT(a,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,u)}return Qo(this.latestValues)&&FT(a,this.latestValues),a}setTargetDelta(s){this.targetDelta=s,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(s){this.options={...this.options,...s,crossfade:s.crossfade!==void 0?s.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Zt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(s=!1){var a;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==l;if(!(s||c&&this.isSharedProjectionDirty||this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:f,layoutId:h}=this.options;if(!(!this.layout||!(f||h))){if(this.resolvedRelativeTargetAt=Zt.timestamp,!this.targetDelta&&!this.relativeTarget){const g=this.getClosestProjectingParent();g&&g.layout&&this.animationProgress!==1?(this.relativeParent=g,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ct(),this.relativeTargetOrigin=Ct(),Tc(this.relativeTargetOrigin,this.layout.layoutBox,g.layout.layoutBox),$n(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=Ct(),this.targetWithTransforms=Ct()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),pW(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):$n(this.target,this.layout.layoutBox),S2(this.target,this.targetDelta)):$n(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const g=this.getClosestProjectingParent();g&&!!g.resumingFrom==!!this.resumingFrom&&!g.options.layoutScroll&&g.target&&this.animationProgress!==1?(this.relativeParent=g,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ct(),this.relativeTargetOrigin=Ct(),Tc(this.relativeTargetOrigin,this.target,g.target),$n(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Xo.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||Py(this.parent.latestValues)||C2(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var s;const a=this.getLead(),l=!!this.resumingFrom||this!==a;let c=!0;if((this.isProjectionDirty||!((s=this.parent)===null||s===void 0)&&s.isProjectionDirty)&&(c=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===Zt.timestamp&&(c=!1),c)return;const{layout:u,layoutId:f}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||f))return;$n(this.layoutCorrected,this.layout.layoutBox);const h=this.treeScale.x,g=this.treeScale.y;bW(this.layoutCorrected,this.treeScale,this.path,l),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox);const{target:_}=a;if(!_){this.projectionTransform&&(this.projectionDelta=ha(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=ha(),this.projectionDeltaWithTransform=ha());const v=this.projectionTransform;bc(this.projectionDelta,this.layoutCorrected,_,this.latestValues),this.projectionTransform=BT(this.projectionDelta,this.treeScale),(this.projectionTransform!==v||this.treeScale.x!==h||this.treeScale.y!==g)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",_)),Xo.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(s=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),s){const a=this.getStack();a&&a.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(s,a=!1){const l=this.snapshot,c=l?l.latestValues:{},u={...this.latestValues},f=ha();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const h=Ct(),g=l?l.source:void 0,_=this.layout?this.layout.source:void 0,v=g!==_,E=this.getStack(),x=!E||E.members.length<=1,y=!!(v&&!x&&this.options.crossfade===!0&&!this.path.some(dz));this.animationProgress=0;let b;this.mixTargetDelta=I=>{const N=I/1e3;GT(f.x,s.x,N),GT(f.y,s.y,N),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Tc(h,this.layout.layoutBox,this.relativeParent.layout.layoutBox),uz(this.relativeTarget,this.relativeTargetOrigin,h,N),b&&WW(this.relativeTarget,b)&&(this.isProjectionDirty=!1),b||(b=Ct()),$n(b,this.relativeTarget)),v&&(this.animationValues=u,VW(u,c,this.latestValues,N,y,x)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=N},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(s){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(_i(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Je.update(()=>{vf.hasAnimatedSinceResize=!0,this.currentAnimation=QW(0,zT,{...s,onUpdate:a=>{this.mixTargetDelta(a),s.onUpdate&&s.onUpdate(a)},onComplete:()=>{s.onComplete&&s.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const s=this.getStack();s&&s.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(zT),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const s=this.getLead();let{targetWithTransforms:a,target:l,layout:c,latestValues:u}=s;if(!(!a||!l||!c)){if(this!==s&&this.layout&&c&&O2(this.options.animationType,this.layout.layoutBox,c.layoutBox)){l=this.target||Ct();const f=Vn(this.layout.layoutBox.x);l.x.min=s.target.x.min,l.x.max=l.x.min+f;const h=Vn(this.layout.layoutBox.y);l.y.min=s.target.y.min,l.y.max=l.y.min+h}$n(a,l),pa(a,u),bc(this.projectionDeltaWithTransform,this.layoutCorrected,a,u)}}registerSharedNode(s,a){this.sharedNodes.has(s)||this.sharedNodes.set(s,new zW),this.sharedNodes.get(s).add(a);const c=a.options.initialPromotionConfig;a.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(a):void 0})}isLead(){const s=this.getStack();return s?s.lead===this:!0}getLead(){var s;const{layoutId:a}=this.options;return a?((s=this.getStack())===null||s===void 0?void 0:s.lead)||this:this}getPrevLead(){var s;const{layoutId:a}=this.options;return a?(s=this.getStack())===null||s===void 0?void 0:s.prevLead:void 0}getStack(){const{layoutId:s}=this.options;if(s)return this.root.sharedNodes.get(s)}promote({needsReset:s,transition:a,preserveFollowOpacity:l}={}){const c=this.getStack();c&&c.promote(this,l),s&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const s=this.getStack();return s?s.relegate(this):!1}resetRotation(){const{visualElement:s}=this.options;if(!s)return;let a=!1;const{latestValues:l}=s;if((l.rotate||l.rotateX||l.rotateY||l.rotateZ)&&(a=!0),!a)return;const c={};for(let u=0;u<WT.length;u++){const f="rotate"+WT[u];l[f]&&(c[f]=l[f],s.setStaticValue(f,0))}s.render();for(const u in c)s.setStaticValue(u,c[u]);s.scheduleRender()}getProjectionStyles(s){var a,l;if(!this.instance||this.isSVG)return;if(!this.isVisible)return XW;const c={visibility:""},u=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,c.opacity="",c.pointerEvents=gf(s==null?void 0:s.pointerEvents)||"",c.transform=u?u(this.latestValues,""):"none",c;const f=this.getLead();if(!this.projectionDelta||!this.layout||!f.target){const v={};return this.options.layoutId&&(v.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,v.pointerEvents=gf(s==null?void 0:s.pointerEvents)||""),this.hasProjected&&!Qo(this.latestValues)&&(v.transform=u?u({},""):"none",this.hasProjected=!1),v}const h=f.animationValues||f.latestValues;this.applyTransformsToTarget(),c.transform=BT(this.projectionDeltaWithTransform,this.treeScale,h),u&&(c.transform=u(h,c.transform));const{x:g,y:_}=this.projectionDelta;c.transformOrigin=`${g.origin*100}% ${_.origin*100}% 0`,f.animationValues?c.opacity=f===this?(l=(a=h.opacity)!==null&&a!==void 0?a:this.latestValues.opacity)!==null&&l!==void 0?l:1:this.preserveOpacity?this.latestValues.opacity:h.opacityExit:c.opacity=f===this?h.opacity!==void 0?h.opacity:"":h.opacityExit!==void 0?h.opacityExit:0;for(const v in ph){if(h[v]===void 0)continue;const{correct:E,applyTo:x}=ph[v],y=c.transform==="none"?h[v]:E(h[v],f);if(x){const b=x.length;for(let I=0;I<b;I++)c[x[I]]=y}else c[v]=y}return this.options.layoutId&&(c.pointerEvents=f===this?gf(s==null?void 0:s.pointerEvents)||"":"none"),c}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(s=>{var a;return(a=s.currentAnimation)===null||a===void 0?void 0:a.stop()}),this.root.nodes.forEach(HT),this.root.sharedNodes.clear()}}}function ZW(t){t.updateLayout()}function ez(t){var e;const n=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=t.layout,{animationType:o}=t.options,s=n.source!==t.layout.source;o==="size"?Un(f=>{const h=s?n.measuredBox[f]:n.layoutBox[f],g=Vn(h);h.min=r[f].min,h.max=h.min+g}):O2(o,n.layoutBox,r)&&Un(f=>{const h=s?n.measuredBox[f]:n.layoutBox[f],g=Vn(r[f]);h.max=h.min+g,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[f].max=t.relativeTarget[f].min+g)});const a=ha();bc(a,r,n.layoutBox);const l=ha();s?bc(l,t.applyTransform(i,!0),n.measuredBox):bc(l,r,n.layoutBox);const c=!N2(a);let u=!1;if(!t.resumeFrom){const f=t.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:h,layout:g}=f;if(h&&g){const _=Ct();Tc(_,n.layoutBox,h.layoutBox);const v=Ct();Tc(v,r,g.layoutBox),D2(_,v)||(u=!0),f.options.layoutRoot&&(t.relativeTarget=v,t.relativeTargetOrigin=_,t.relativeParent=f)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:l,layoutDelta:a,hasLayoutChanged:c,hasRelativeTargetChanged:u})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function tz(t){Xo.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function nz(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function rz(t){t.clearSnapshot()}function HT(t){t.clearMeasurements()}function iz(t){t.isLayoutDirty=!1}function oz(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function qT(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function sz(t){t.resolveTargetDelta()}function az(t){t.calcProjection()}function lz(t){t.resetRotation()}function cz(t){t.removeLeadSnapshot()}function GT(t,e,n){t.translate=ut(e.translate,0,n),t.scale=ut(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function YT(t,e,n,r){t.min=ut(e.min,n.min,r),t.max=ut(e.max,n.max,r)}function uz(t,e,n,r){YT(t.x,e.x,n.x,r),YT(t.y,e.y,n.y,r)}function dz(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const fz={duration:.45,ease:[.4,0,.1,1]},KT=t=>typeof navigator<"u"&&navigator.userAgent.toLowerCase().includes(t),QT=KT("applewebkit/")&&!KT("chrome/")?Math.round:vt;function XT(t){t.min=QT(t.min),t.max=QT(t.max)}function hz(t){XT(t.x),XT(t.y)}function O2(t,e,n){return t==="position"||t==="preserve-aspect"&&!Cy(UT(e),UT(n),.2)}const pz=M2({attachResizeListener:(t,e)=>ii(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),vg={current:void 0},L2=M2({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!vg.current){const t=new pz({});t.mount(window),t.setOptions({layoutScroll:!0}),vg.current=t}return vg.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),mz={pan:{Feature:kW},drag:{Feature:RW,ProjectionNode:L2,MeasureLayout:A2}},gz=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function vz(t){const e=gz.exec(t);if(!e)return[,];const[,n,r]=e;return[n,r]}function Ay(t,e,n=1){const[r,i]=vz(t);if(!r)return;const o=window.getComputedStyle(e).getPropertyValue(r);if(o){const s=o.trim();return y2(s)?parseFloat(s):s}else return yy(i)?Ay(i,e,n+1):i}function yz(t,{...e},n){const r=t.current;if(!(r instanceof Element))return{target:e,transitionEnd:n};n&&(n={...n}),t.values.forEach(i=>{const o=i.get();if(!yy(o))return;const s=Ay(o,r);s&&i.set(s)});for(const i in e){const o=e[i];if(!yy(o))continue;const s=Ay(o,r);s&&(e[i]=s,n||(n={}),n[i]===void 0&&(n[i]=o))}return{target:e,transitionEnd:n}}const wz=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),V2=t=>wz.has(t),_z=t=>Object.keys(t).some(V2),JT=t=>t===Ds||t===pe,ZT=(t,e)=>parseFloat(t.split(", ")[e]),eC=(t,e)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const i=r.match(/^matrix3d\((.+)\)$/);if(i)return ZT(i[1],e);{const o=r.match(/^matrix\((.+)\)$/);return o?ZT(o[1],t):0}},xz=new Set(["x","y","z"]),Ez=Du.filter(t=>!xz.has(t));function bz(t){const e=[];return Ez.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e.length&&t.render(),e}const qa={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:eC(4,13),y:eC(5,14)};qa.translateX=qa.x;qa.translateY=qa.y;const Tz=(t,e,n)=>{const r=e.measureViewportBox(),i=e.current,o=getComputedStyle(i),{display:s}=o,a={};s==="none"&&e.setStaticValue("display",t.display||"block"),n.forEach(c=>{a[c]=qa[c](r,o)}),e.render();const l=e.measureViewportBox();return n.forEach(c=>{const u=e.getValue(c);u&&u.jump(a[c]),t[c]=qa[c](l,o)}),t},Cz=(t,e,n={},r={})=>{e={...e},r={...r};const i=Object.keys(e).filter(V2);let o=[],s=!1;const a=[];if(i.forEach(l=>{const c=t.getValue(l);if(!t.hasValue(l))return;let u=n[l],f=ql(u);const h=e[l];let g;if(gh(h)){const _=h.length,v=h[0]===null?1:0;u=h[v],f=ql(u);for(let E=v;E<_&&h[E]!==null;E++)g?e1(ql(h[E])===g):g=ql(h[E])}else g=ql(h);if(f!==g)if(JT(f)&&JT(g)){const _=c.get();typeof _=="string"&&c.set(parseFloat(_)),typeof h=="string"?e[l]=parseFloat(h):Array.isArray(h)&&g===pe&&(e[l]=h.map(parseFloat))}else f!=null&&f.transform&&(g!=null&&g.transform)&&(u===0||h===0)?u===0?c.set(g.transform(u)):e[l]=f.transform(h):(s||(o=bz(t),s=!0),a.push(l),r[l]=r[l]!==void 0?r[l]:e[l],c.jump(h))}),a.length){const l=a.indexOf("height")>=0?window.pageYOffset:null,c=Tz(e,t,a);return o.length&&o.forEach(([u,f])=>{t.getValue(u).set(f)}),t.render(),xp&&l!==null&&window.scrollTo({top:l}),{target:c,transitionEnd:r}}else return{target:e,transitionEnd:r}};function Sz(t,e,n,r){return _z(e)?Cz(t,e,n,r):{target:e,transitionEnd:r}}const Pz=(t,e,n,r)=>{const i=yz(t,e,r);return e=i.target,r=i.transitionEnd,Sz(t,e,n,r)},Ry={current:null},j2={current:!1};function Iz(){if(j2.current=!0,!!xp)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>Ry.current=t.matches;t.addListener(e),e()}else Ry.current=!1}function Az(t,e,n){const{willChange:r}=e;for(const i in e){const o=e[i],s=n[i];if(Sn(o))t.addValue(i,o),_h(r)&&r.add(i);else if(Sn(s))t.addValue(i,Ha(o,{owner:t})),_h(r)&&r.remove(i);else if(s!==o)if(t.hasValue(i)){const a=t.getValue(i);!a.hasAnimated&&a.set(o)}else{const a=t.getStaticValue(i);t.addValue(i,Ha(a!==void 0?a:o,{owner:t}))}}for(const i in n)e[i]===void 0&&t.removeValue(i);return e}const tC=new WeakMap,F2=Object.keys(su),Rz=F2.length,nC=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],kz=Hw.length;class Nz{constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:i,visualState:o},s={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>Je.render(this.render,!1,!0);const{latestValues:a,renderState:l}=o;this.latestValues=a,this.baseTarget={...a},this.initialValues=n.initial?{...a}:{},this.renderState=l,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=s,this.isControllingVariants=bp(n),this.isVariantNode=bk(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:c,...u}=this.scrapeMotionValuesFromProps(n,{});for(const f in u){const h=u[f];a[f]!==void 0&&Sn(h)&&(h.set(a[f],!1),_h(c)&&c.add(f))}}scrapeMotionValuesFromProps(e,n){return{}}mount(e){this.current=e,tC.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),j2.current||Iz(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Ry.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){tC.delete(this.current),this.projection&&this.projection.unmount(),_i(this.notifyUpdate),_i(this.render),this.valueSubscriptions.forEach(e=>e()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features)this.features[e].unmount();this.current=null}bindToMotionValue(e,n){const r=Ns.has(e),i=n.on("change",s=>{this.latestValues[e]=s,this.props.onUpdate&&Je.update(this.notifyUpdate,!1,!0),r&&this.projection&&(this.projection.isTransformDirty=!0)}),o=n.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(e,()=>{i(),o()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}loadFeatures({children:e,...n},r,i,o){let s,a;for(let l=0;l<Rz;l++){const c=F2[l],{isEnabled:u,Feature:f,ProjectionNode:h,MeasureLayout:g}=su[c];h&&(s=h),u(n)&&(!this.features[c]&&f&&(this.features[c]=new f(this)),g&&(a=g))}if((this.type==="html"||this.type==="svg")&&!this.projection&&s){this.projection=new s(this.latestValues,this.parent&&this.parent.projection);const{layoutId:l,layout:c,drag:u,dragConstraints:f,layoutScroll:h,layoutRoot:g}=n;this.projection.setOptions({layoutId:l,layout:c,alwaysMeasureLayout:!!u||f&&da(f),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof c=="string"?c:"both",initialPromotionConfig:o,layoutScroll:h,layoutRoot:g})}return a}updateFeatures(){for(const e in this.features){const n=this.features[e];n.isMounted?n.update():(n.mount(),n.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Ct()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}makeTargetAnimatable(e,n=!0){return this.makeTargetAnimatableFromInstance(e,this.props,n)}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<nC.length;r++){const i=nC[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const o=e["on"+i];o&&(this.propEventSubscriptions[i]=this.on(i,o))}this.prevMotionValues=Az(this,this.scrapeMotionValuesFromProps(e,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(e=!1){if(e)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const r=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(r.initial=this.props.initial),r}const n={};for(let r=0;r<kz;r++){const i=Hw[r],o=this.props[i];(ou(o)||o===!1)&&(n[i]=o)}return n}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){n!==this.values.get(e)&&(this.removeValue(e),this.bindToMotionValue(e,n)),this.values.set(e,n),this.latestValues[e]=n.get()}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=Ha(n,{owner:this}),this.addValue(e,r)),r}readValue(e){var n;return this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(n=this.getBaseTargetFromProps(this.props,e))!==null&&n!==void 0?n:this.readValueFromInstance(this.current,e,this.options)}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:r}=this.props,i=typeof r=="string"||typeof r=="object"?(n=Zw(this.props,r))===null||n===void 0?void 0:n[e]:void 0;if(r&&i!==void 0)return i;const o=this.getBaseTargetFromProps(this.props,e);return o!==void 0&&!Sn(o)?o:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new c1),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class $2 extends Nz{sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}makeTargetAnimatableFromInstance({transition:e,transitionEnd:n,...r},{transformValues:i},o){let s=K8(r,e||{},this);if(i&&(n&&(n=i(n)),r&&(r=i(r)),s&&(s=i(s))),o){G8(this,r,s);const a=Pz(this,r,s,n);n=a.transitionEnd,r=a.target}return{transition:e,transitionEnd:n,...r}}}function Dz(t){return window.getComputedStyle(t)}class Mz extends $2{constructor(){super(...arguments),this.type="html"}readValueFromInstance(e,n){if(Ns.has(n)){const r=i1(n);return r&&r.default||0}else{const r=Dz(e),i=(Pk(n)?r.getPropertyValue(n):r[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:n}){return P2(e,n)}build(e,n,r,i){Yw(e,n,r,i.transformTemplate)}scrapeMotionValuesFromProps(e,n){return Jw(e,n)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Sn(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}renderInstance(e,n,r,i){Dk(e,n,r,i)}}class Oz extends $2{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Ns.has(n)){const r=i1(n);return r&&r.default||0}return n=Mk.has(n)?n:Ww(n),e.getAttribute(n)}measureInstanceViewportBox(){return Ct()}scrapeMotionValuesFromProps(e,n){return Lk(e,n)}build(e,n,r,i){Qw(e,n,r,this.isSVGTag,i.transformTemplate)}renderInstance(e,n,r,i){Ok(e,n,r,i)}mount(e){this.isSVGTag=Xw(e.tagName),super.mount(e)}}const Lz=(t,e)=>Gw(t)?new Oz(e,{enableHardwareAcceleration:!1}):new Mz(e,{enableHardwareAcceleration:!0}),Vz={layout:{ProjectionNode:L2,MeasureLayout:A2}},jz={...uW,...RB,...mz,...Vz},be=F7((t,e)=>vB(t,e,jz,Lz));function U2(){const t=m.useRef(!1);return Bw(()=>(t.current=!0,()=>{t.current=!1}),[]),t}function Fz(){const t=U2(),[e,n]=m.useState(0),r=m.useCallback(()=>{t.current&&n(e+1)},[e]);return[m.useCallback(()=>Je.postRender(r),[r]),e]}class $z extends m.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=n.offsetHeight||0,r.width=n.offsetWidth||0,r.top=n.offsetTop,r.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function Uz({children:t,isPresent:e}){const n=m.useId(),r=m.useRef(null),i=m.useRef({width:0,height:0,top:0,left:0});return m.useInsertionEffect(()=>{const{width:o,height:s,top:a,left:l}=i.current;if(e||!r.current||!o||!s)return;r.current.dataset.motionPopId=n;const c=document.createElement("style");return document.head.appendChild(c),c.sheet&&c.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${o}px !important;
            height: ${s}px !important;
            top: ${a}px !important;
            left: ${l}px !important;
          }
        `),()=>{document.head.removeChild(c)}},[e]),m.createElement($z,{isPresent:e,childRef:r,sizeRef:i},m.cloneElement(t,{ref:r}))}const yg=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:i,presenceAffectsLayout:o,mode:s})=>{const a=Vk(Bz),l=m.useId(),c=m.useMemo(()=>({id:l,initial:e,isPresent:n,custom:i,onExitComplete:u=>{a.set(u,!0);for(const f of a.values())if(!f)return;r&&r()},register:u=>(a.set(u,!1),()=>a.delete(u))}),o?void 0:[n]);return m.useMemo(()=>{a.forEach((u,f)=>a.set(f,!1))},[n]),m.useEffect(()=>{!n&&!a.size&&r&&r()},[n]),s==="popLayout"&&(t=m.createElement(Uz,{isPresent:n},t)),m.createElement(_p.Provider,{value:c},t)};function Bz(){return new Map}function Wz(t){return m.useEffect(()=>()=>t(),[])}const Jo=t=>t.key||"";function zz(t,e){t.forEach(n=>{const r=Jo(n);e.set(r,n)})}function Hz(t){const e=[];return m.Children.forEach(t,n=>{m.isValidElement(n)&&e.push(n)}),e}const Cc=({children:t,custom:e,initial:n=!0,onExitComplete:r,exitBeforeEnter:i,presenceAffectsLayout:o=!0,mode:s="sync"})=>{const a=m.useContext(qw).forceRender||Fz()[0],l=U2(),c=Hz(t);let u=c;const f=m.useRef(new Map).current,h=m.useRef(u),g=m.useRef(new Map).current,_=m.useRef(!0);if(Bw(()=>{_.current=!1,zz(c,g),h.current=u}),Wz(()=>{_.current=!0,g.clear(),f.clear()}),_.current)return m.createElement(m.Fragment,null,u.map(y=>m.createElement(yg,{key:Jo(y),isPresent:!0,initial:n?void 0:!1,presenceAffectsLayout:o,mode:s},y)));u=[...u];const v=h.current.map(Jo),E=c.map(Jo),x=v.length;for(let y=0;y<x;y++){const b=v[y];E.indexOf(b)===-1&&!f.has(b)&&f.set(b,void 0)}return s==="wait"&&f.size&&(u=[]),f.forEach((y,b)=>{if(E.indexOf(b)!==-1)return;const I=g.get(b);if(!I)return;const N=v.indexOf(b);let O=y;if(!O){const S=()=>{f.delete(b);const C=Array.from(g.keys()).filter(P=>!E.includes(P));if(C.forEach(P=>g.delete(P)),h.current=c.filter(P=>{const A=Jo(P);return A===b||C.includes(A)}),!f.size){if(l.current===!1)return;a(),r&&r()}};O=m.createElement(yg,{key:Jo(I),isPresent:!1,onExitComplete:S,custom:e,presenceAffectsLayout:o,mode:s},I),f.set(b,O)}u.splice(N,0,O)}),u=u.map(y=>{const b=y.key;return f.has(b)?y:m.createElement(yg,{key:Jo(y),isPresent:!0,presenceAffectsLayout:o,mode:s},y)}),m.createElement(m.Fragment,null,f.size?u:u.map(y=>m.cloneElement(y)))};var qz={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const Gz=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Ie=(t,e)=>{const n=m.forwardRef(({color:r="currentColor",size:i=24,strokeWidth:o=2,absoluteStrokeWidth:s,children:a,...l},c)=>m.createElement("svg",{ref:c,...qz,width:i,height:i,stroke:r,strokeWidth:s?Number(o)*24/Number(i):o,className:`lucide lucide-${Gz(t)}`,...l},[...e.map(([u,f])=>m.createElement(u,f)),...(Array.isArray(a)?a:[a])||[]]));return n.displayName=`${t}`,n},B2=Ie("Archive",[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]]),Yz=Ie("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]),rC=Ie("CalendarDays",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]]),Kz=Ie("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]),Qz=Ie("CheckSquare",[["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}],["path",{d:"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11",key:"1jnkn4"}]]),Eh=Ie("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]),Xz=Ie("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),Jz=Ie("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]),Zz=Ie("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),eH=Ie("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]),tH=Ie("Droplets",[["path",{d:"M7 16.3c2.2 0 4-1.83 4-4.05 0-1.16-.57-2.26-1.71-3.19S7.29 6.75 7 5.3c-.29 1.45-1.14 2.84-2.29 3.76S3 11.1 3 12.25c0 2.22 1.8 4.05 4 4.05z",key:"1ptgy4"}],["path",{d:"M12.56 6.6A10.97 10.97 0 0 0 14 3.02c.5 2.5 2 4.9 4 6.5s3 3.5 3 5.5a6.98 6.98 0 0 1-11.91 4.97",key:"1sl1rz"}]]),nH=Ie("Egg",[["path",{d:"M12 22c6.23-.05 7.87-5.57 7.5-10-.36-4.34-3.95-9.96-7.5-10-3.55.04-7.14 5.66-7.5 10-.37 4.43 1.27 9.95 7.5 10z",key:"1c39pg"}]]),Pp=Ie("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]),Ga=Ie("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),rH=Ie("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]),iH=Ie("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]),iC=Ie("KeyRound",[["path",{d:"M2 18v3c0 .6.4 1 1 1h4v-3h3v-3h2l1.4-1.4a6.5 6.5 0 1 0-4-4Z",key:"167ctg"}],["circle",{cx:"16.5",cy:"7.5",r:".5",key:"1kog09"}]]),oH=Ie("List",[["line",{x1:"8",x2:"21",y1:"6",y2:"6",key:"7ey8pc"}],["line",{x1:"8",x2:"21",y1:"12",y2:"12",key:"rjfblc"}],["line",{x1:"8",x2:"21",y1:"18",y2:"18",key:"c3b1m8"}],["line",{x1:"3",x2:"3.01",y1:"6",y2:"6",key:"1g7gq3"}],["line",{x1:"3",x2:"3.01",y1:"12",y2:"12",key:"1pjlvk"}],["line",{x1:"3",x2:"3.01",y1:"18",y2:"18",key:"28t2mc"}]]),sH=Ie("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]),aH=Ie("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]),lH=Ie("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]),W2=Ie("Maximize",[["path",{d:"M8 3H5a2 2 0 0 0-2 2v3",key:"1dcmit"}],["path",{d:"M21 8V5a2 2 0 0 0-2-2h-3",key:"1e4gt3"}],["path",{d:"M3 16v3a2 2 0 0 0 2 2h3",key:"wsl5sc"}],["path",{d:"M16 21h3a2 2 0 0 0 2-2v-3",key:"18trek"}]]),cH=Ie("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]),uH=Ie("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",key:"1xcu5"}],["circle",{cx:"17.5",cy:"10.5",r:".5",key:"736e4u"}],["circle",{cx:"8.5",cy:"7.5",r:".5",key:"clrty"}],["circle",{cx:"6.5",cy:"12.5",r:".5",key:"1s4xz9"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]),ky=Ie("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.5 3.5a2.12 2.12 0 0 1 3 3L7 19l-4 1 1-4Z",key:"ymcmye"}]]),Ny=Ie("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]]),dH=Ie("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),fH=Ie("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]),hH=Ie("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]),pH=Ie("Thermometer",[["path",{d:"M14 4v10.54a4 4 0 1 1-4 0V4a2 2 0 0 1 4 0Z",key:"17jzev"}]]),mH=Ie("Timer",[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]]),oC=Ie("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),sC=Ie("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]),gH=Ie("UserCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]]),vH=Ie("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]),lu=Ie("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]),Vu=Ie("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),yH=()=>{const[t,e]=m.useState(!0),[n,r]=m.useState(""),[i,o]=m.useState(""),[s,a]=m.useState(""),{login:l,register:c}=gl(),u=yu(),{toast:f}=vl(),[h,g]=m.useState(!1),_=async v=>{v.preventDefault(),g(!0);try{if(t)await l(n,i),f({title:"Inicio de sesin exitoso",description:"Bienvenida de nuevo."}),u("/");else{if(i!==s){f({title:"Error de registro",description:"Las contraseas no coinciden.",variant:"destructive"}),g(!1);return}await c(n,i),f({title:"Registro exitoso",description:"Tu cuenta ha sido creada."}),u("/")}}catch(E){f({title:t?"Error al iniciar sesin":"Error al registrarse",description:E.message,variant:"destructive"}),g(!1)}};return p.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-purple-950 to-gray-900 flex flex-col justify-center items-center p-4",children:[p.jsxs(be.div,{className:"w-full max-w-md bg-slate-800/70 backdrop-blur-md shadow-2xl rounded-xl p-8 sm:p-10",initial:{opacity:0,y:-30},animate:{opacity:1,y:0},transition:{duration:.6,ease:"easeOut"},children:[p.jsxs("div",{className:"text-center mb-8",children:[p.jsx(be.h1,{className:"text-3xl sm:text-4xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-rose-400 via-pink-400 to-fuchsia-500 py-2 mb-2",initial:{opacity:0},animate:{opacity:1},transition:{delay:.2,duration:.5},children:"FertiliApp"}),p.jsx("p",{className:"text-slate-400 text-lg",children:t?"Inicia sesin para continuar":"Crea tu cuenta"})]}),p.jsxs("form",{onSubmit:_,className:"space-y-6",children:[p.jsxs("div",{className:"space-y-2",children:[p.jsxs(An,{htmlFor:"email",className:"flex items-center text-slate-300 text-lg",children:[p.jsx(lH,{className:"mr-2 h-5 w-5 text-pink-400"})," Correo Electrnico"]}),p.jsx(Vr,{id:"email",type:"email",value:n,onChange:v=>r(v.target.value),placeholder:"tu@email.com",required:!0,className:"bg-slate-700 border-slate-600 text-slate-50 placeholder-slate-400 focus:ring-pink-500 focus:border-pink-500 text-base py-3 px-4"})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsxs(An,{htmlFor:"password",className:"flex items-center text-slate-300 text-lg",children:[p.jsx(iC,{className:"mr-2 h-5 w-5 text-rose-400"})," Contrasea"]}),p.jsx(Vr,{id:"password",type:"password",value:i,onChange:v=>o(v.target.value),placeholder:"",required:!0,className:"bg-slate-700 border-slate-600 text-slate-50 placeholder-slate-400 focus:ring-pink-500 focus:border-pink-500 text-base py-3 px-4"})]}),!t&&p.jsxs("div",{className:"space-y-2",children:[p.jsxs(An,{htmlFor:"confirmPassword",className:"flex items-center text-slate-300 text-lg",children:[p.jsx(iC,{className:"mr-2 h-5 w-5 text-rose-400"})," Confirmar Contrasea"]}),p.jsx(Vr,{id:"confirmPassword",type:"password",value:s,onChange:v=>a(v.target.value),placeholder:"",required:!0,className:"bg-slate-700 border-slate-600 text-slate-50 placeholder-slate-400 focus:ring-pink-500 focus:border-pink-500 text-base py-3 px-4"})]}),p.jsx(Se,{type:"submit",disabled:h,className:"w-full bg-gradient-to-r from-pink-500 to-fuchsia-600 hover:from-pink-600 hover:to-fuchsia-700 text-white font-semibold py-3 text-lg shadow-md hover:shadow-lg transition-all duration-300 transform hover:scale-102 flex items-center justify-center",children:h?p.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white"}):t?p.jsxs(p.Fragment,{children:[p.jsx(sH,{className:"mr-2 h-5 w-5"})," Iniciar Sesin"]}):p.jsxs(p.Fragment,{children:[p.jsx(vH,{className:"mr-2 h-5 w-5"})," Registrarse"]})})]}),p.jsx("div",{className:"mt-8 text-center",children:p.jsx(Se,{variant:"link",onClick:()=>e(!t),className:"text-purple-400 hover:text-purple-300 text-base",children:t?"No tienes cuenta? Regstrate":"Ya tienes cuenta? Inicia sesin"})})]}),p.jsxs("footer",{className:"w-full max-w-md mt-12 text-center text-slate-500 text-sm",children:[p.jsxs("p",{children:[" ",new Date().getFullYear()," Seguimiento de Fertilidad. Todos los derechos reservados."]}),p.jsx("p",{children:"Creado con Hostinger Horizons."})]})]})},wH=({padding:t,chartWidth:e,chartHeight:n,tempMin:r,tempMax:i,tempRange:o,getY:s,getX:a,allDataPoints:l=[],responsiveFontSize:c,isFullScreen:u,showLeftLabels:f=!0})=>{const h={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.3,ease:"easeOut"}}},g=[];if(o>0){const _=o<=2.5?.1:.5;for(let v=r;v<=i+1e-9;v+=_)g.push(parseFloat(v.toFixed(1)))}else for(let _=35;_<=37.5+1e-9;_+=.5)g.push(parseFloat(_.toFixed(1)));return p.jsxs(p.Fragment,{children:[p.jsxs("defs",{children:[p.jsxs("linearGradient",{id:"bgGradient",x1:"0%",y1:"0%",x2:"0%",y2:"100%",children:[p.jsx("stop",{offset:"0%",stopColor:"rgba(252, 231, 243, 0.3)"}),p.jsx("stop",{offset:"50%",stopColor:"rgba(255, 255, 255, 0.8)"}),p.jsx("stop",{offset:"100%",stopColor:"rgba(252, 231, 243, 0.2)"})]}),p.jsxs("filter",{id:"softGlow",x:"-50%",y:"-50%",width:"200%",height:"200%",children:[p.jsx("feGaussianBlur",{stdDeviation:"1",result:"coloredBlur"}),p.jsxs("feMerge",{children:[p.jsx("feMergeNode",{in:"coloredBlur"}),p.jsx("feMergeNode",{in:"SourceGraphic"})]})]})]}),p.jsx("rect",{x:t.left,y:t.top,width:e-t.left-t.right,height:n-t.top-t.bottom,fill:"url(#bgGradient)",opacity:.4}),g.map((_,v)=>{const E=s(_),x=_.toFixed(1).endsWith(".0")||_.toFixed(1).endsWith(".5"),y=x?_.toFixed(1):`.${_.toFixed(1).split(".")[1]}`;return p.jsxs(be.g,{variants:h,children:[p.jsx("line",{x1:t.left,y1:E,x2:e-t.right,y2:E,stroke:x?"rgba(244, 114, 182, 0.25)":"rgba(244, 114, 182, 0.15)",strokeWidth:x?1.5:1,strokeDasharray:x?"0":"3,3",style:{filter:x?"drop-shadow(0 1px 2px rgba(244, 114, 182, 0.1))":"none"}}),f&&p.jsx("text",{x:t.left-c(1),y:E+c(.35),textAnchor:"end",fontSize:c(x?1:.9),fontWeight:x?"600":"500",fill:x?"#E91E63":"#EC4899",style:{filter:"drop-shadow(0 1px 1px rgba(255, 255, 255, 0.8))",fontFamily:'-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif'},children:y}),p.jsx("text",{x:e-t.right+c(1),y:E+c(.35),textAnchor:"start",fontSize:c(x?1:.9),fontWeight:x?"600":"500",fill:x?"#E91E63":"#EC4899",style:{filter:"drop-shadow(0 1px 1px rgba(255, 255, 255, 0.8))",fontFamily:'-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif'},children:y})]},`temp-tick-${v}`)}),l.map((_,v)=>{const E=a(v);return p.jsx("line",{x1:E,y1:t.top,x2:E,y2:n-t.bottom,stroke:"rgba(244, 114, 182, 0.12)",strokeWidth:.8,style:{filter:"drop-shadow(0 0 1px rgba(244, 114, 182, 0.1))"}},`day-grid-${v}`)}),f&&p.jsxs(be.g,{variants:h,children:[p.jsx("rect",{x:t.left-c(.2),y:t.top-c(.2),width:c(2.8),height:c(2),rx:c(.3),fill:"rgba(244, 114, 182, 0.1)",stroke:"rgba(244, 114, 182, 0.2)",strokeWidth:.5}),p.jsx("text",{x:t.left+c(1.2),y:t.top+c(1.1),textAnchor:"middle",fontSize:c(1.3),fontWeight:"700",fill:"#E91E63",style:{filter:"drop-shadow(0 1px 2px rgba(255, 255, 255, 0.8))",fontFamily:'-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif'},children:"C"})]}),p.jsx("rect",{x:t.left,y:t.top,width:e-t.left-t.right,height:n-t.top-t.bottom,fill:"none",stroke:"rgba(244, 114, 182, 0.2)",strokeWidth:1.5,rx:8,style:{filter:"drop-shadow(0 2px 4px rgba(244, 114, 182, 0.1))"}})]})},_H=({data:t,allDataPoints:e,getX:n,getY:r,baselineY:i,temperatureField:o="temperature"})=>{if(!t||t.length<2)return null;let s="",a=null;return e.forEach((l,c)=>{const u=t.find(f=>f.id===l.id);if(u&&u[o]!==null&&u[o]!==void 0&&!u.ignored){const f=n(c),h=r(u[o]);a!==null&&c===a+1?s+=` L ${f} ${h}`:s+=`${s?" ":""}M ${f} ${h}`,a=c}}),s.includes("L")?p.jsx(p.Fragment,{children:p.jsx(be.path,{d:s,fill:"none",stroke:"url(#tempLineGradientChart)",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round",initial:{pathLength:0,opacity:0},animate:{pathLength:1,opacity:1},transition:{duration:.2,ease:"easeInOut"}})}):null};function hr(t){"@babel/helpers - typeof";return hr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hr(t)}function Ze(t){if(t===null||t===!0||t===!1)return NaN;var e=Number(t);return isNaN(e)?e:e<0?Math.ceil(e):Math.floor(e)}function ae(t,e){if(e.length<t)throw new TypeError(t+" argument"+(t>1?"s":"")+" required, but only "+e.length+" present")}function ve(t){ae(1,arguments);var e=Object.prototype.toString.call(t);return t instanceof Date||hr(t)==="object"&&e==="[object Date]"?new Date(t.getTime()):typeof t=="number"||e==="[object Number]"?new Date(t):((typeof t=="string"||e==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}function Lt(t,e){ae(2,arguments);var n=ve(t),r=Ze(e);return isNaN(r)?new Date(NaN):(r&&n.setDate(n.getDate()+r),n)}function pr(t,e){ae(2,arguments);var n=ve(t),r=Ze(e);if(isNaN(r))return new Date(NaN);if(!r)return n;var i=n.getDate(),o=new Date(n.getTime());o.setMonth(n.getMonth()+r+1,0);var s=o.getDate();return i>=s?o:(n.setFullYear(o.getFullYear(),o.getMonth(),i),n)}function xH(t,e){ae(2,arguments);var n=ve(t).getTime(),r=Ze(e);return new Date(n+r)}var EH={};function zr(){return EH}function Ur(t,e){var n,r,i,o,s,a,l,c;ae(1,arguments);var u=zr(),f=Ze((n=(r=(i=(o=e==null?void 0:e.weekStartsOn)!==null&&o!==void 0?o:e==null||(s=e.locale)===null||s===void 0||(a=s.options)===null||a===void 0?void 0:a.weekStartsOn)!==null&&i!==void 0?i:u.weekStartsOn)!==null&&r!==void 0?r:(l=u.locale)===null||l===void 0||(c=l.options)===null||c===void 0?void 0:c.weekStartsOn)!==null&&n!==void 0?n:0);if(!(f>=0&&f<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var h=ve(t),g=h.getDay(),_=(g<f?7:0)+g-f;return h.setDate(h.getDate()-_),h.setHours(0,0,0,0),h}function xs(t){return ae(1,arguments),Ur(t,{weekStartsOn:1})}function bH(t){ae(1,arguments);var e=ve(t),n=e.getFullYear(),r=new Date(0);r.setFullYear(n+1,0,4),r.setHours(0,0,0,0);var i=xs(r),o=new Date(0);o.setFullYear(n,0,4),o.setHours(0,0,0,0);var s=xs(o);return e.getTime()>=i.getTime()?n+1:e.getTime()>=s.getTime()?n:n-1}function TH(t){ae(1,arguments);var e=bH(t),n=new Date(0);n.setFullYear(e,0,4),n.setHours(0,0,0,0);var r=xs(n);return r}function Ya(t){var e=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return e.setUTCFullYear(t.getFullYear()),t.getTime()-e.getTime()}function Te(t){ae(1,arguments);var e=ve(t);return e.setHours(0,0,0,0),e}var CH=864e5;function Ir(t,e){ae(2,arguments);var n=Te(t),r=Te(e),i=n.getTime()-Ya(n),o=r.getTime()-Ya(r);return Math.round((i-o)/CH)}function Dy(t,e){ae(2,arguments);var n=Ze(e),r=n*7;return Lt(t,r)}function SH(t,e){ae(2,arguments);var n=Ze(e);return pr(t,n*12)}function PH(t){ae(1,arguments);var e;if(t&&typeof t.forEach=="function")e=t;else if(hr(t)==="object"&&t!==null)e=Array.prototype.slice.call(t);else return new Date(NaN);var n;return e.forEach(function(r){var i=ve(r);(n===void 0||n<i||isNaN(Number(i)))&&(n=i)}),n||new Date(NaN)}function IH(t){ae(1,arguments);var e;if(t&&typeof t.forEach=="function")e=t;else if(hr(t)==="object"&&t!==null)e=Array.prototype.slice.call(t);else return new Date(NaN);var n;return e.forEach(function(r){var i=ve(r);(n===void 0||n>i||isNaN(i.getDate()))&&(n=i)}),n||new Date(NaN)}function AH(t,e){ae(2,arguments);var n=ve(t),r=ve(e),i=n.getTime()-r.getTime();return i<0?-1:i>0?1:i}var u1=6e4,d1=36e5,RH=1e3;function xn(t,e){ae(2,arguments);var n=Te(t),r=Te(e);return n.getTime()===r.getTime()}function f1(t){return ae(1,arguments),t instanceof Date||hr(t)==="object"&&Object.prototype.toString.call(t)==="[object Date]"}function kH(t){if(ae(1,arguments),!f1(t)&&typeof t!="number")return!1;var e=ve(t);return!isNaN(Number(e))}function cu(t,e){ae(2,arguments);var n=ve(t),r=ve(e),i=n.getFullYear()-r.getFullYear(),o=n.getMonth()-r.getMonth();return i*12+o}var NH=6048e5;function DH(t,e,n){ae(2,arguments);var r=Ur(t,n),i=Ur(e,n),o=r.getTime()-Ya(r),s=i.getTime()-Ya(i);return Math.round((o-s)/NH)}function aC(t,e){var n=t.getFullYear()-e.getFullYear()||t.getMonth()-e.getMonth()||t.getDate()-e.getDate()||t.getHours()-e.getHours()||t.getMinutes()-e.getMinutes()||t.getSeconds()-e.getSeconds()||t.getMilliseconds()-e.getMilliseconds();return n<0?-1:n>0?1:n}function vo(t,e){ae(2,arguments);var n=ve(t),r=ve(e),i=aC(n,r),o=Math.abs(Ir(n,r));n.setDate(n.getDate()-i*o);var s=+(aC(n,r)===-i),a=i*(o-s);return a===0?0:a}function h1(t){ae(1,arguments);var e=ve(t),n=e.getMonth();return e.setFullYear(e.getFullYear(),n+1,0),e.setHours(23,59,59,999),e}function Cn(t){ae(1,arguments);var e=ve(t);return e.setDate(1),e.setHours(0,0,0,0),e}function MH(t){ae(1,arguments);var e=ve(t),n=new Date(0);return n.setFullYear(e.getFullYear(),0,1),n.setHours(0,0,0,0),n}function p1(t,e){var n,r,i,o,s,a,l,c;ae(1,arguments);var u=zr(),f=Ze((n=(r=(i=(o=e==null?void 0:e.weekStartsOn)!==null&&o!==void 0?o:e==null||(s=e.locale)===null||s===void 0||(a=s.options)===null||a===void 0?void 0:a.weekStartsOn)!==null&&i!==void 0?i:u.weekStartsOn)!==null&&r!==void 0?r:(l=u.locale)===null||l===void 0||(c=l.options)===null||c===void 0?void 0:c.weekStartsOn)!==null&&n!==void 0?n:0);if(!(f>=0&&f<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var h=ve(t),g=h.getDay(),_=(g<f?-7:0)+6-(g-f);return h.setDate(h.getDate()+_),h.setHours(23,59,59,999),h}function z2(t){return ae(1,arguments),p1(t,{weekStartsOn:1})}function H2(t,e){ae(2,arguments);var n=Ze(e);return xH(t,-n)}var OH=864e5;function LH(t){ae(1,arguments);var e=ve(t),n=e.getTime();e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0);var r=e.getTime(),i=n-r;return Math.floor(i/OH)+1}function Ka(t){ae(1,arguments);var e=1,n=ve(t),r=n.getUTCDay(),i=(r<e?7:0)+r-e;return n.setUTCDate(n.getUTCDate()-i),n.setUTCHours(0,0,0,0),n}function q2(t){ae(1,arguments);var e=ve(t),n=e.getUTCFullYear(),r=new Date(0);r.setUTCFullYear(n+1,0,4),r.setUTCHours(0,0,0,0);var i=Ka(r),o=new Date(0);o.setUTCFullYear(n,0,4),o.setUTCHours(0,0,0,0);var s=Ka(o);return e.getTime()>=i.getTime()?n+1:e.getTime()>=s.getTime()?n:n-1}function VH(t){ae(1,arguments);var e=q2(t),n=new Date(0);n.setUTCFullYear(e,0,4),n.setUTCHours(0,0,0,0);var r=Ka(n);return r}var jH=6048e5;function G2(t){ae(1,arguments);var e=ve(t),n=Ka(e).getTime()-VH(e).getTime();return Math.round(n/jH)+1}function Es(t,e){var n,r,i,o,s,a,l,c;ae(1,arguments);var u=zr(),f=Ze((n=(r=(i=(o=e==null?void 0:e.weekStartsOn)!==null&&o!==void 0?o:e==null||(s=e.locale)===null||s===void 0||(a=s.options)===null||a===void 0?void 0:a.weekStartsOn)!==null&&i!==void 0?i:u.weekStartsOn)!==null&&r!==void 0?r:(l=u.locale)===null||l===void 0||(c=l.options)===null||c===void 0?void 0:c.weekStartsOn)!==null&&n!==void 0?n:0);if(!(f>=0&&f<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var h=ve(t),g=h.getUTCDay(),_=(g<f?7:0)+g-f;return h.setUTCDate(h.getUTCDate()-_),h.setUTCHours(0,0,0,0),h}function m1(t,e){var n,r,i,o,s,a,l,c;ae(1,arguments);var u=ve(t),f=u.getUTCFullYear(),h=zr(),g=Ze((n=(r=(i=(o=e==null?void 0:e.firstWeekContainsDate)!==null&&o!==void 0?o:e==null||(s=e.locale)===null||s===void 0||(a=s.options)===null||a===void 0?void 0:a.firstWeekContainsDate)!==null&&i!==void 0?i:h.firstWeekContainsDate)!==null&&r!==void 0?r:(l=h.locale)===null||l===void 0||(c=l.options)===null||c===void 0?void 0:c.firstWeekContainsDate)!==null&&n!==void 0?n:1);if(!(g>=1&&g<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var _=new Date(0);_.setUTCFullYear(f+1,0,g),_.setUTCHours(0,0,0,0);var v=Es(_,e),E=new Date(0);E.setUTCFullYear(f,0,g),E.setUTCHours(0,0,0,0);var x=Es(E,e);return u.getTime()>=v.getTime()?f+1:u.getTime()>=x.getTime()?f:f-1}function FH(t,e){var n,r,i,o,s,a,l,c;ae(1,arguments);var u=zr(),f=Ze((n=(r=(i=(o=e==null?void 0:e.firstWeekContainsDate)!==null&&o!==void 0?o:e==null||(s=e.locale)===null||s===void 0||(a=s.options)===null||a===void 0?void 0:a.firstWeekContainsDate)!==null&&i!==void 0?i:u.firstWeekContainsDate)!==null&&r!==void 0?r:(l=u.locale)===null||l===void 0||(c=l.options)===null||c===void 0?void 0:c.firstWeekContainsDate)!==null&&n!==void 0?n:1),h=m1(t,e),g=new Date(0);g.setUTCFullYear(h,0,f),g.setUTCHours(0,0,0,0);var _=Es(g,e);return _}var $H=6048e5;function Y2(t,e){ae(1,arguments);var n=ve(t),r=Es(n,e).getTime()-FH(n,e).getTime();return Math.round(r/$H)+1}function He(t,e){for(var n=t<0?"-":"",r=Math.abs(t).toString();r.length<e;)r="0"+r;return n+r}var UH={y:function(e,n){var r=e.getUTCFullYear(),i=r>0?r:1-r;return He(n==="yy"?i%100:i,n.length)},M:function(e,n){var r=e.getUTCMonth();return n==="M"?String(r+1):He(r+1,2)},d:function(e,n){return He(e.getUTCDate(),n.length)},a:function(e,n){var r=e.getUTCHours()/12>=1?"pm":"am";switch(n){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h:function(e,n){return He(e.getUTCHours()%12||12,n.length)},H:function(e,n){return He(e.getUTCHours(),n.length)},m:function(e,n){return He(e.getUTCMinutes(),n.length)},s:function(e,n){return He(e.getUTCSeconds(),n.length)},S:function(e,n){var r=n.length,i=e.getUTCMilliseconds(),o=Math.floor(i*Math.pow(10,r-3));return He(o,n.length)}};const Oi=UH;var Us={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},BH={G:function(e,n,r){var i=e.getUTCFullYear()>0?1:0;switch(n){case"G":case"GG":case"GGG":return r.era(i,{width:"abbreviated"});case"GGGGG":return r.era(i,{width:"narrow"});case"GGGG":default:return r.era(i,{width:"wide"})}},y:function(e,n,r){if(n==="yo"){var i=e.getUTCFullYear(),o=i>0?i:1-i;return r.ordinalNumber(o,{unit:"year"})}return Oi.y(e,n)},Y:function(e,n,r,i){var o=m1(e,i),s=o>0?o:1-o;if(n==="YY"){var a=s%100;return He(a,2)}return n==="Yo"?r.ordinalNumber(s,{unit:"year"}):He(s,n.length)},R:function(e,n){var r=q2(e);return He(r,n.length)},u:function(e,n){var r=e.getUTCFullYear();return He(r,n.length)},Q:function(e,n,r){var i=Math.ceil((e.getUTCMonth()+1)/3);switch(n){case"Q":return String(i);case"QQ":return He(i,2);case"Qo":return r.ordinalNumber(i,{unit:"quarter"});case"QQQ":return r.quarter(i,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(i,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(i,{width:"wide",context:"formatting"})}},q:function(e,n,r){var i=Math.ceil((e.getUTCMonth()+1)/3);switch(n){case"q":return String(i);case"qq":return He(i,2);case"qo":return r.ordinalNumber(i,{unit:"quarter"});case"qqq":return r.quarter(i,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(i,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(i,{width:"wide",context:"standalone"})}},M:function(e,n,r){var i=e.getUTCMonth();switch(n){case"M":case"MM":return Oi.M(e,n);case"Mo":return r.ordinalNumber(i+1,{unit:"month"});case"MMM":return r.month(i,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(i,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(i,{width:"wide",context:"formatting"})}},L:function(e,n,r){var i=e.getUTCMonth();switch(n){case"L":return String(i+1);case"LL":return He(i+1,2);case"Lo":return r.ordinalNumber(i+1,{unit:"month"});case"LLL":return r.month(i,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(i,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(i,{width:"wide",context:"standalone"})}},w:function(e,n,r,i){var o=Y2(e,i);return n==="wo"?r.ordinalNumber(o,{unit:"week"}):He(o,n.length)},I:function(e,n,r){var i=G2(e);return n==="Io"?r.ordinalNumber(i,{unit:"week"}):He(i,n.length)},d:function(e,n,r){return n==="do"?r.ordinalNumber(e.getUTCDate(),{unit:"date"}):Oi.d(e,n)},D:function(e,n,r){var i=LH(e);return n==="Do"?r.ordinalNumber(i,{unit:"dayOfYear"}):He(i,n.length)},E:function(e,n,r){var i=e.getUTCDay();switch(n){case"E":case"EE":case"EEE":return r.day(i,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(i,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(i,{width:"short",context:"formatting"});case"EEEE":default:return r.day(i,{width:"wide",context:"formatting"})}},e:function(e,n,r,i){var o=e.getUTCDay(),s=(o-i.weekStartsOn+8)%7||7;switch(n){case"e":return String(s);case"ee":return He(s,2);case"eo":return r.ordinalNumber(s,{unit:"day"});case"eee":return r.day(o,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(o,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(o,{width:"short",context:"formatting"});case"eeee":default:return r.day(o,{width:"wide",context:"formatting"})}},c:function(e,n,r,i){var o=e.getUTCDay(),s=(o-i.weekStartsOn+8)%7||7;switch(n){case"c":return String(s);case"cc":return He(s,n.length);case"co":return r.ordinalNumber(s,{unit:"day"});case"ccc":return r.day(o,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(o,{width:"narrow",context:"standalone"});case"cccccc":return r.day(o,{width:"short",context:"standalone"});case"cccc":default:return r.day(o,{width:"wide",context:"standalone"})}},i:function(e,n,r){var i=e.getUTCDay(),o=i===0?7:i;switch(n){case"i":return String(o);case"ii":return He(o,n.length);case"io":return r.ordinalNumber(o,{unit:"day"});case"iii":return r.day(i,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(i,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(i,{width:"short",context:"formatting"});case"iiii":default:return r.day(i,{width:"wide",context:"formatting"})}},a:function(e,n,r){var i=e.getUTCHours(),o=i/12>=1?"pm":"am";switch(n){case"a":case"aa":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(o,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(o,{width:"wide",context:"formatting"})}},b:function(e,n,r){var i=e.getUTCHours(),o;switch(i===12?o=Us.noon:i===0?o=Us.midnight:o=i/12>=1?"pm":"am",n){case"b":case"bb":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(o,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(o,{width:"wide",context:"formatting"})}},B:function(e,n,r){var i=e.getUTCHours(),o;switch(i>=17?o=Us.evening:i>=12?o=Us.afternoon:i>=4?o=Us.morning:o=Us.night,n){case"B":case"BB":case"BBB":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(o,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(o,{width:"wide",context:"formatting"})}},h:function(e,n,r){if(n==="ho"){var i=e.getUTCHours()%12;return i===0&&(i=12),r.ordinalNumber(i,{unit:"hour"})}return Oi.h(e,n)},H:function(e,n,r){return n==="Ho"?r.ordinalNumber(e.getUTCHours(),{unit:"hour"}):Oi.H(e,n)},K:function(e,n,r){var i=e.getUTCHours()%12;return n==="Ko"?r.ordinalNumber(i,{unit:"hour"}):He(i,n.length)},k:function(e,n,r){var i=e.getUTCHours();return i===0&&(i=24),n==="ko"?r.ordinalNumber(i,{unit:"hour"}):He(i,n.length)},m:function(e,n,r){return n==="mo"?r.ordinalNumber(e.getUTCMinutes(),{unit:"minute"}):Oi.m(e,n)},s:function(e,n,r){return n==="so"?r.ordinalNumber(e.getUTCSeconds(),{unit:"second"}):Oi.s(e,n)},S:function(e,n){return Oi.S(e,n)},X:function(e,n,r,i){var o=i._originalDate||e,s=o.getTimezoneOffset();if(s===0)return"Z";switch(n){case"X":return cC(s);case"XXXX":case"XX":return Zo(s);case"XXXXX":case"XXX":default:return Zo(s,":")}},x:function(e,n,r,i){var o=i._originalDate||e,s=o.getTimezoneOffset();switch(n){case"x":return cC(s);case"xxxx":case"xx":return Zo(s);case"xxxxx":case"xxx":default:return Zo(s,":")}},O:function(e,n,r,i){var o=i._originalDate||e,s=o.getTimezoneOffset();switch(n){case"O":case"OO":case"OOO":return"GMT"+lC(s,":");case"OOOO":default:return"GMT"+Zo(s,":")}},z:function(e,n,r,i){var o=i._originalDate||e,s=o.getTimezoneOffset();switch(n){case"z":case"zz":case"zzz":return"GMT"+lC(s,":");case"zzzz":default:return"GMT"+Zo(s,":")}},t:function(e,n,r,i){var o=i._originalDate||e,s=Math.floor(o.getTime()/1e3);return He(s,n.length)},T:function(e,n,r,i){var o=i._originalDate||e,s=o.getTime();return He(s,n.length)}};function lC(t,e){var n=t>0?"-":"+",r=Math.abs(t),i=Math.floor(r/60),o=r%60;if(o===0)return n+String(i);var s=e||"";return n+String(i)+s+He(o,2)}function cC(t,e){if(t%60===0){var n=t>0?"-":"+";return n+He(Math.abs(t)/60,2)}return Zo(t,e)}function Zo(t,e){var n=e||"",r=t>0?"-":"+",i=Math.abs(t),o=He(Math.floor(i/60),2),s=He(i%60,2);return r+o+n+s}const WH=BH;var uC=function(e,n){switch(e){case"P":return n.date({width:"short"});case"PP":return n.date({width:"medium"});case"PPP":return n.date({width:"long"});case"PPPP":default:return n.date({width:"full"})}},K2=function(e,n){switch(e){case"p":return n.time({width:"short"});case"pp":return n.time({width:"medium"});case"ppp":return n.time({width:"long"});case"pppp":default:return n.time({width:"full"})}},zH=function(e,n){var r=e.match(/(P+)(p+)?/)||[],i=r[1],o=r[2];if(!o)return uC(e,n);var s;switch(i){case"P":s=n.dateTime({width:"short"});break;case"PP":s=n.dateTime({width:"medium"});break;case"PPP":s=n.dateTime({width:"long"});break;case"PPPP":default:s=n.dateTime({width:"full"});break}return s.replace("{{date}}",uC(i,n)).replace("{{time}}",K2(o,n))},HH={p:K2,P:zH};const My=HH;var qH=["D","DD"],GH=["YY","YYYY"];function Q2(t){return qH.indexOf(t)!==-1}function X2(t){return GH.indexOf(t)!==-1}function bh(t,e,n){if(t==="YYYY")throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(e,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(t==="YY")throw new RangeError("Use `yy` instead of `YY` (in `".concat(e,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(t==="D")throw new RangeError("Use `d` instead of `D` (in `".concat(e,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(t==="DD")throw new RangeError("Use `dd` instead of `DD` (in `".concat(e,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}var YH={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},KH=function(e,n,r){var i,o=YH[e];return typeof o=="string"?i=o:n===1?i=o.one:i=o.other.replace("{{count}}",n.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+i:i+" ago":i};const QH=KH;function Pa(t){return function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.width?String(e.width):t.defaultWidth,r=t.formats[n]||t.formats[t.defaultWidth];return r}}var XH={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},JH={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},ZH={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},eq={date:Pa({formats:XH,defaultWidth:"full"}),time:Pa({formats:JH,defaultWidth:"full"}),dateTime:Pa({formats:ZH,defaultWidth:"full"})};const tq=eq;var nq={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},rq=function(e,n,r,i){return nq[e]};const iq=rq;function Tr(t){return function(e,n){var r=n!=null&&n.context?String(n.context):"standalone",i;if(r==="formatting"&&t.formattingValues){var o=t.defaultFormattingWidth||t.defaultWidth,s=n!=null&&n.width?String(n.width):o;i=t.formattingValues[s]||t.formattingValues[o]}else{var a=t.defaultWidth,l=n!=null&&n.width?String(n.width):t.defaultWidth;i=t.values[l]||t.values[a]}var c=t.argumentCallback?t.argumentCallback(e):e;return i[c]}}var oq={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},sq={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},aq={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},lq={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},cq={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},uq={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},dq=function(e,n){var r=Number(e),i=r%100;if(i>20||i<10)switch(i%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},fq={ordinalNumber:dq,era:Tr({values:oq,defaultWidth:"wide"}),quarter:Tr({values:sq,defaultWidth:"wide",argumentCallback:function(e){return e-1}}),month:Tr({values:aq,defaultWidth:"wide"}),day:Tr({values:lq,defaultWidth:"wide"}),dayPeriod:Tr({values:cq,defaultWidth:"wide",formattingValues:uq,defaultFormattingWidth:"wide"})};const hq=fq;function Cr(t){return function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=n.width,i=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],o=e.match(i);if(!o)return null;var s=o[0],a=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],l=Array.isArray(a)?mq(a,function(f){return f.test(s)}):pq(a,function(f){return f.test(s)}),c;c=t.valueCallback?t.valueCallback(l):l,c=n.valueCallback?n.valueCallback(c):c;var u=e.slice(s.length);return{value:c,rest:u}}}function pq(t,e){for(var n in t)if(t.hasOwnProperty(n)&&e(t[n]))return n}function mq(t,e){for(var n=0;n<t.length;n++)if(e(t[n]))return n}function J2(t){return function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=e.match(t.matchPattern);if(!r)return null;var i=r[0],o=e.match(t.parsePattern);if(!o)return null;var s=t.valueCallback?t.valueCallback(o[0]):o[0];s=n.valueCallback?n.valueCallback(s):s;var a=e.slice(i.length);return{value:s,rest:a}}}var gq=/^(\d+)(th|st|nd|rd)?/i,vq=/\d+/i,yq={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},wq={any:[/^b/i,/^(a|c)/i]},_q={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},xq={any:[/1/i,/2/i,/3/i,/4/i]},Eq={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},bq={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Tq={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Cq={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Sq={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Pq={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Iq={ordinalNumber:J2({matchPattern:gq,parsePattern:vq,valueCallback:function(e){return parseInt(e,10)}}),era:Cr({matchPatterns:yq,defaultMatchWidth:"wide",parsePatterns:wq,defaultParseWidth:"any"}),quarter:Cr({matchPatterns:_q,defaultMatchWidth:"wide",parsePatterns:xq,defaultParseWidth:"any",valueCallback:function(e){return e+1}}),month:Cr({matchPatterns:Eq,defaultMatchWidth:"wide",parsePatterns:bq,defaultParseWidth:"any"}),day:Cr({matchPatterns:Tq,defaultMatchWidth:"wide",parsePatterns:Cq,defaultParseWidth:"any"}),dayPeriod:Cr({matchPatterns:Sq,defaultMatchWidth:"any",parsePatterns:Pq,defaultParseWidth:"any"})};const Aq=Iq;var Rq={code:"en-US",formatDistance:QH,formatLong:tq,formatRelative:iq,localize:hq,match:Aq,options:{weekStartsOn:0,firstWeekContainsDate:1}};const g1=Rq;var kq=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Nq=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Dq=/^'([^]*?)'?$/,Mq=/''/g,Oq=/[a-zA-Z]/;function ce(t,e,n){var r,i,o,s,a,l,c,u,f,h,g,_,v,E,x,y,b,I;ae(2,arguments);var N=String(e),O=zr(),S=(r=(i=n==null?void 0:n.locale)!==null&&i!==void 0?i:O.locale)!==null&&r!==void 0?r:g1,C=Ze((o=(s=(a=(l=n==null?void 0:n.firstWeekContainsDate)!==null&&l!==void 0?l:n==null||(c=n.locale)===null||c===void 0||(u=c.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&a!==void 0?a:O.firstWeekContainsDate)!==null&&s!==void 0?s:(f=O.locale)===null||f===void 0||(h=f.options)===null||h===void 0?void 0:h.firstWeekContainsDate)!==null&&o!==void 0?o:1);if(!(C>=1&&C<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var P=Ze((g=(_=(v=(E=n==null?void 0:n.weekStartsOn)!==null&&E!==void 0?E:n==null||(x=n.locale)===null||x===void 0||(y=x.options)===null||y===void 0?void 0:y.weekStartsOn)!==null&&v!==void 0?v:O.weekStartsOn)!==null&&_!==void 0?_:(b=O.locale)===null||b===void 0||(I=b.options)===null||I===void 0?void 0:I.weekStartsOn)!==null&&g!==void 0?g:0);if(!(P>=0&&P<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!S.localize)throw new RangeError("locale must contain localize property");if(!S.formatLong)throw new RangeError("locale must contain formatLong property");var A=ve(t);if(!kH(A))throw new RangeError("Invalid time value");var M=Ya(A),D=H2(A,M),k={firstWeekContainsDate:C,weekStartsOn:P,locale:S,_originalDate:A},B=N.match(Nq).map(function(q){var K=q[0];if(K==="p"||K==="P"){var F=My[K];return F(q,S.formatLong)}return q}).join("").match(kq).map(function(q){if(q==="''")return"'";var K=q[0];if(K==="'")return Lq(q);var F=WH[K];if(F)return!(n!=null&&n.useAdditionalWeekYearTokens)&&X2(q)&&bh(q,e,String(t)),!(n!=null&&n.useAdditionalDayOfYearTokens)&&Q2(q)&&bh(q,e,String(t)),F(D,q,S.localize,k);if(K.match(Oq))throw new RangeError("Format string contains an unescaped latin alphabet character `"+K+"`");return q}).join("");return B}function Lq(t){var e=t.match(Dq);return e?e[1].replace(Mq,"'"):t}function Vq(t,e){if(t==null)throw new TypeError("assign requires that input parameter not be null or undefined");for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}function jq(t){ae(1,arguments);var e=ve(t),n=e.getFullYear(),r=e.getMonth(),i=new Date(0);return i.setFullYear(n,r+1,0),i.setHours(0,0,0,0),i.getDate()}var Fq=6048e5;function $q(t){ae(1,arguments);var e=ve(t),n=xs(e).getTime()-TH(e).getTime();return Math.round(n/Fq)+1}function Uq(t){ae(1,arguments);var e=ve(t),n=e.getTime();return n}function Bq(t){return ae(1,arguments),Math.floor(Uq(t)/1e3)}function Wq(t,e){var n,r,i,o,s,a,l,c;ae(1,arguments);var u=ve(t),f=u.getFullYear(),h=zr(),g=Ze((n=(r=(i=(o=e==null?void 0:e.firstWeekContainsDate)!==null&&o!==void 0?o:e==null||(s=e.locale)===null||s===void 0||(a=s.options)===null||a===void 0?void 0:a.firstWeekContainsDate)!==null&&i!==void 0?i:h.firstWeekContainsDate)!==null&&r!==void 0?r:(l=h.locale)===null||l===void 0||(c=l.options)===null||c===void 0?void 0:c.firstWeekContainsDate)!==null&&n!==void 0?n:1);if(!(g>=1&&g<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var _=new Date(0);_.setFullYear(f+1,0,g),_.setHours(0,0,0,0);var v=Ur(_,e),E=new Date(0);E.setFullYear(f,0,g),E.setHours(0,0,0,0);var x=Ur(E,e);return u.getTime()>=v.getTime()?f+1:u.getTime()>=x.getTime()?f:f-1}function zq(t,e){var n,r,i,o,s,a,l,c;ae(1,arguments);var u=zr(),f=Ze((n=(r=(i=(o=e==null?void 0:e.firstWeekContainsDate)!==null&&o!==void 0?o:e==null||(s=e.locale)===null||s===void 0||(a=s.options)===null||a===void 0?void 0:a.firstWeekContainsDate)!==null&&i!==void 0?i:u.firstWeekContainsDate)!==null&&r!==void 0?r:(l=u.locale)===null||l===void 0||(c=l.options)===null||c===void 0?void 0:c.firstWeekContainsDate)!==null&&n!==void 0?n:1),h=Wq(t,e),g=new Date(0);g.setFullYear(h,0,f),g.setHours(0,0,0,0);var _=Ur(g,e);return _}var Hq=6048e5;function qq(t,e){ae(1,arguments);var n=ve(t),r=Ur(n,e).getTime()-zq(n,e).getTime();return Math.round(r/Hq)+1}function Gq(t){ae(1,arguments);var e=ve(t),n=e.getMonth();return e.setFullYear(e.getFullYear(),n+1,0),e.setHours(0,0,0,0),e}function Yq(t,e){return ae(1,arguments),DH(Gq(t),Cn(t),e)+1}function Th(t,e){ae(2,arguments);var n=ve(t),r=ve(e);return n.getTime()>r.getTime()}function Z2(t,e){ae(2,arguments);var n=ve(t),r=ve(e);return n.getTime()<r.getTime()}function dC(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function Kq(t,e){if(t){if(typeof t=="string")return dC(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?dC(t,e):void 0}}function fC(t,e){var n=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=Kq(t))||e&&t&&typeof t.length=="number"){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(c){throw c},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var o,s=!0,a=!1;return{s:function(){n=n.call(t)},n:function(){var c=n.next();return s=c.done,c},e:function(c){a=!0,o=c},f:function(){try{s||n.return==null||n.return()}finally{if(a)throw o}}}}function ne(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Oy(t,e){return Oy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},Oy(t,e)}function je(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Oy(t,e)}function Ch(t){return Ch=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Ch(t)}function eN(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(eN=function(){return!!t})()}function Qq(t,e){if(e&&(hr(e)=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ne(t)}function Fe(t){var e=eN();return function(){var n,r=Ch(t);if(e){var i=Ch(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Qq(this,n)}}function Me(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Xq(t,e){if(hr(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(hr(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function tN(t){var e=Xq(t,"string");return hr(e)=="symbol"?e:e+""}function hC(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,tN(r.key),r)}}function Oe(t,e,n){return e&&hC(t.prototype,e),n&&hC(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function ee(t,e,n){return(e=tN(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Jq=10,nN=function(){function t(){Me(this,t),ee(this,"priority",void 0),ee(this,"subPriority",0)}return Oe(t,[{key:"validate",value:function(n,r){return!0}}]),t}(),Zq=function(t){je(n,t);var e=Fe(n);function n(r,i,o,s,a){var l;return Me(this,n),l=e.call(this),l.value=r,l.validateValue=i,l.setValue=o,l.priority=s,a&&(l.subPriority=a),l}return Oe(n,[{key:"validate",value:function(i,o){return this.validateValue(i,this.value,o)}},{key:"set",value:function(i,o,s){return this.setValue(i,o,this.value,s)}}]),n}(nN),eG=function(t){je(n,t);var e=Fe(n);function n(){var r;Me(this,n);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o)),ee(ne(r),"priority",Jq),ee(ne(r),"subPriority",-1),r}return Oe(n,[{key:"set",value:function(i,o){if(o.timestampIsSet)return i;var s=new Date(0);return s.setFullYear(i.getUTCFullYear(),i.getUTCMonth(),i.getUTCDate()),s.setHours(i.getUTCHours(),i.getUTCMinutes(),i.getUTCSeconds(),i.getUTCMilliseconds()),s}}]),n}(nN),Be=function(){function t(){Me(this,t),ee(this,"incompatibleTokens",void 0),ee(this,"priority",void 0),ee(this,"subPriority",void 0)}return Oe(t,[{key:"run",value:function(n,r,i,o){var s=this.parse(n,r,i,o);return s?{setter:new Zq(s.value,this.validate,this.set,this.priority,this.subPriority),rest:s.rest}:null}},{key:"validate",value:function(n,r,i){return!0}}]),t}(),tG=function(t){je(n,t);var e=Fe(n);function n(){var r;Me(this,n);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o)),ee(ne(r),"priority",140),ee(ne(r),"incompatibleTokens",["R","u","t","T"]),r}return Oe(n,[{key:"parse",value:function(i,o,s){switch(o){case"G":case"GG":case"GGG":return s.era(i,{width:"abbreviated"})||s.era(i,{width:"narrow"});case"GGGGG":return s.era(i,{width:"narrow"});case"GGGG":default:return s.era(i,{width:"wide"})||s.era(i,{width:"abbreviated"})||s.era(i,{width:"narrow"})}}},{key:"set",value:function(i,o,s){return o.era=s,i.setUTCFullYear(s,0,1),i.setUTCHours(0,0,0,0),i}}]),n}(Be),xt={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},Sr={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function Et(t,e){return t&&{value:e(t.value),rest:t.rest}}function dt(t,e){var n=e.match(t);return n?{value:parseInt(n[0],10),rest:e.slice(n[0].length)}:null}function Pr(t,e){var n=e.match(t);if(!n)return null;if(n[0]==="Z")return{value:0,rest:e.slice(1)};var r=n[1]==="+"?1:-1,i=n[2]?parseInt(n[2],10):0,o=n[3]?parseInt(n[3],10):0,s=n[5]?parseInt(n[5],10):0;return{value:r*(i*d1+o*u1+s*RH),rest:e.slice(n[0].length)}}function rN(t){return dt(xt.anyDigitsSigned,t)}function yt(t,e){switch(t){case 1:return dt(xt.singleDigit,e);case 2:return dt(xt.twoDigits,e);case 3:return dt(xt.threeDigits,e);case 4:return dt(xt.fourDigits,e);default:return dt(new RegExp("^\\d{1,"+t+"}"),e)}}function Sh(t,e){switch(t){case 1:return dt(xt.singleDigitSigned,e);case 2:return dt(xt.twoDigitsSigned,e);case 3:return dt(xt.threeDigitsSigned,e);case 4:return dt(xt.fourDigitsSigned,e);default:return dt(new RegExp("^-?\\d{1,"+t+"}"),e)}}function v1(t){switch(t){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function iN(t,e){var n=e>0,r=n?e:1-e,i;if(r<=50)i=t||100;else{var o=r+50,s=Math.floor(o/100)*100,a=t>=o%100;i=t+s-(a?100:0)}return n?i:1-i}function oN(t){return t%400===0||t%4===0&&t%100!==0}var nG=function(t){je(n,t);var e=Fe(n);function n(){var r;Me(this,n);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o)),ee(ne(r),"priority",130),ee(ne(r),"incompatibleTokens",["Y","R","u","w","I","i","e","c","t","T"]),r}return Oe(n,[{key:"parse",value:function(i,o,s){var a=function(c){return{year:c,isTwoDigitYear:o==="yy"}};switch(o){case"y":return Et(yt(4,i),a);case"yo":return Et(s.ordinalNumber(i,{unit:"year"}),a);default:return Et(yt(o.length,i),a)}}},{key:"validate",value:function(i,o){return o.isTwoDigitYear||o.year>0}},{key:"set",value:function(i,o,s){var a=i.getUTCFullYear();if(s.isTwoDigitYear){var l=iN(s.year,a);return i.setUTCFullYear(l,0,1),i.setUTCHours(0,0,0,0),i}var c=!("era"in o)||o.era===1?s.year:1-s.year;return i.setUTCFullYear(c,0,1),i.setUTCHours(0,0,0,0),i}}]),n}(Be),rG=function(t){je(n,t);var e=Fe(n);function n(){var r;Me(this,n);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o)),ee(ne(r),"priority",130),ee(ne(r),"incompatibleTokens",["y","R","u","Q","q","M","L","I","d","D","i","t","T"]),r}return Oe(n,[{key:"parse",value:function(i,o,s){var a=function(c){return{year:c,isTwoDigitYear:o==="YY"}};switch(o){case"Y":return Et(yt(4,i),a);case"Yo":return Et(s.ordinalNumber(i,{unit:"year"}),a);default:return Et(yt(o.length,i),a)}}},{key:"validate",value:function(i,o){return o.isTwoDigitYear||o.year>0}},{key:"set",value:function(i,o,s,a){var l=m1(i,a);if(s.isTwoDigitYear){var c=iN(s.year,l);return i.setUTCFullYear(c,0,a.firstWeekContainsDate),i.setUTCHours(0,0,0,0),Es(i,a)}var u=!("era"in o)||o.era===1?s.year:1-s.year;return i.setUTCFullYear(u,0,a.firstWeekContainsDate),i.setUTCHours(0,0,0,0),Es(i,a)}}]),n}(Be),iG=function(t){je(n,t);var e=Fe(n);function n(){var r;Me(this,n);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o)),ee(ne(r),"priority",130),ee(ne(r),"incompatibleTokens",["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"]),r}return Oe(n,[{key:"parse",value:function(i,o){return Sh(o==="R"?4:o.length,i)}},{key:"set",value:function(i,o,s){var a=new Date(0);return a.setUTCFullYear(s,0,4),a.setUTCHours(0,0,0,0),Ka(a)}}]),n}(Be),oG=function(t){je(n,t);var e=Fe(n);function n(){var r;Me(this,n);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o)),ee(ne(r),"priority",130),ee(ne(r),"incompatibleTokens",["G","y","Y","R","w","I","i","e","c","t","T"]),r}return Oe(n,[{key:"parse",value:function(i,o){return Sh(o==="u"?4:o.length,i)}},{key:"set",value:function(i,o,s){return i.setUTCFullYear(s,0,1),i.setUTCHours(0,0,0,0),i}}]),n}(Be),sG=function(t){je(n,t);var e=Fe(n);function n(){var r;Me(this,n);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o)),ee(ne(r),"priority",120),ee(ne(r),"incompatibleTokens",["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"]),r}return Oe(n,[{key:"parse",value:function(i,o,s){switch(o){case"Q":case"QQ":return yt(o.length,i);case"Qo":return s.ordinalNumber(i,{unit:"quarter"});case"QQQ":return s.quarter(i,{width:"abbreviated",context:"formatting"})||s.quarter(i,{width:"narrow",context:"formatting"});case"QQQQQ":return s.quarter(i,{width:"narrow",context:"formatting"});case"QQQQ":default:return s.quarter(i,{width:"wide",context:"formatting"})||s.quarter(i,{width:"abbreviated",context:"formatting"})||s.quarter(i,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(i,o){return o>=1&&o<=4}},{key:"set",value:function(i,o,s){return i.setUTCMonth((s-1)*3,1),i.setUTCHours(0,0,0,0),i}}]),n}(Be),aG=function(t){je(n,t);var e=Fe(n);function n(){var r;Me(this,n);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o)),ee(ne(r),"priority",120),ee(ne(r),"incompatibleTokens",["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"]),r}return Oe(n,[{key:"parse",value:function(i,o,s){switch(o){case"q":case"qq":return yt(o.length,i);case"qo":return s.ordinalNumber(i,{unit:"quarter"});case"qqq":return s.quarter(i,{width:"abbreviated",context:"standalone"})||s.quarter(i,{width:"narrow",context:"standalone"});case"qqqqq":return s.quarter(i,{width:"narrow",context:"standalone"});case"qqqq":default:return s.quarter(i,{width:"wide",context:"standalone"})||s.quarter(i,{width:"abbreviated",context:"standalone"})||s.quarter(i,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(i,o){return o>=1&&o<=4}},{key:"set",value:function(i,o,s){return i.setUTCMonth((s-1)*3,1),i.setUTCHours(0,0,0,0),i}}]),n}(Be),lG=function(t){je(n,t);var e=Fe(n);function n(){var r;Me(this,n);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o)),ee(ne(r),"incompatibleTokens",["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]),ee(ne(r),"priority",110),r}return Oe(n,[{key:"parse",value:function(i,o,s){var a=function(c){return c-1};switch(o){case"M":return Et(dt(xt.month,i),a);case"MM":return Et(yt(2,i),a);case"Mo":return Et(s.ordinalNumber(i,{unit:"month"}),a);case"MMM":return s.month(i,{width:"abbreviated",context:"formatting"})||s.month(i,{width:"narrow",context:"formatting"});case"MMMMM":return s.month(i,{width:"narrow",context:"formatting"});case"MMMM":default:return s.month(i,{width:"wide",context:"formatting"})||s.month(i,{width:"abbreviated",context:"formatting"})||s.month(i,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(i,o){return o>=0&&o<=11}},{key:"set",value:function(i,o,s){return i.setUTCMonth(s,1),i.setUTCHours(0,0,0,0),i}}]),n}(Be),cG=function(t){je(n,t);var e=Fe(n);function n(){var r;Me(this,n);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o)),ee(ne(r),"priority",110),ee(ne(r),"incompatibleTokens",["Y","R","q","Q","M","w","I","D","i","e","c","t","T"]),r}return Oe(n,[{key:"parse",value:function(i,o,s){var a=function(c){return c-1};switch(o){case"L":return Et(dt(xt.month,i),a);case"LL":return Et(yt(2,i),a);case"Lo":return Et(s.ordinalNumber(i,{unit:"month"}),a);case"LLL":return s.month(i,{width:"abbreviated",context:"standalone"})||s.month(i,{width:"narrow",context:"standalone"});case"LLLLL":return s.month(i,{width:"narrow",context:"standalone"});case"LLLL":default:return s.month(i,{width:"wide",context:"standalone"})||s.month(i,{width:"abbreviated",context:"standalone"})||s.month(i,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(i,o){return o>=0&&o<=11}},{key:"set",value:function(i,o,s){return i.setUTCMonth(s,1),i.setUTCHours(0,0,0,0),i}}]),n}(Be);function uG(t,e,n){ae(2,arguments);var r=ve(t),i=Ze(e),o=Y2(r,n)-i;return r.setUTCDate(r.getUTCDate()-o*7),r}var dG=function(t){je(n,t);var e=Fe(n);function n(){var r;Me(this,n);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o)),ee(ne(r),"priority",100),ee(ne(r),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","i","t","T"]),r}return Oe(n,[{key:"parse",value:function(i,o,s){switch(o){case"w":return dt(xt.week,i);case"wo":return s.ordinalNumber(i,{unit:"week"});default:return yt(o.length,i)}}},{key:"validate",value:function(i,o){return o>=1&&o<=53}},{key:"set",value:function(i,o,s,a){return Es(uG(i,s,a),a)}}]),n}(Be);function fG(t,e){ae(2,arguments);var n=ve(t),r=Ze(e),i=G2(n)-r;return n.setUTCDate(n.getUTCDate()-i*7),n}var hG=function(t){je(n,t);var e=Fe(n);function n(){var r;Me(this,n);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o)),ee(ne(r),"priority",100),ee(ne(r),"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"]),r}return Oe(n,[{key:"parse",value:function(i,o,s){switch(o){case"I":return dt(xt.week,i);case"Io":return s.ordinalNumber(i,{unit:"week"});default:return yt(o.length,i)}}},{key:"validate",value:function(i,o){return o>=1&&o<=53}},{key:"set",value:function(i,o,s){return Ka(fG(i,s))}}]),n}(Be),pG=[31,28,31,30,31,30,31,31,30,31,30,31],mG=[31,29,31,30,31,30,31,31,30,31,30,31],gG=function(t){je(n,t);var e=Fe(n);function n(){var r;Me(this,n);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o)),ee(ne(r),"priority",90),ee(ne(r),"subPriority",1),ee(ne(r),"incompatibleTokens",["Y","R","q","Q","w","I","D","i","e","c","t","T"]),r}return Oe(n,[{key:"parse",value:function(i,o,s){switch(o){case"d":return dt(xt.date,i);case"do":return s.ordinalNumber(i,{unit:"date"});default:return yt(o.length,i)}}},{key:"validate",value:function(i,o){var s=i.getUTCFullYear(),a=oN(s),l=i.getUTCMonth();return a?o>=1&&o<=mG[l]:o>=1&&o<=pG[l]}},{key:"set",value:function(i,o,s){return i.setUTCDate(s),i.setUTCHours(0,0,0,0),i}}]),n}(Be),vG=function(t){je(n,t);var e=Fe(n);function n(){var r;Me(this,n);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o)),ee(ne(r),"priority",90),ee(ne(r),"subpriority",1),ee(ne(r),"incompatibleTokens",["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"]),r}return Oe(n,[{key:"parse",value:function(i,o,s){switch(o){case"D":case"DD":return dt(xt.dayOfYear,i);case"Do":return s.ordinalNumber(i,{unit:"date"});default:return yt(o.length,i)}}},{key:"validate",value:function(i,o){var s=i.getUTCFullYear(),a=oN(s);return a?o>=1&&o<=366:o>=1&&o<=365}},{key:"set",value:function(i,o,s){return i.setUTCMonth(0,s),i.setUTCHours(0,0,0,0),i}}]),n}(Be);function y1(t,e,n){var r,i,o,s,a,l,c,u;ae(2,arguments);var f=zr(),h=Ze((r=(i=(o=(s=n==null?void 0:n.weekStartsOn)!==null&&s!==void 0?s:n==null||(a=n.locale)===null||a===void 0||(l=a.options)===null||l===void 0?void 0:l.weekStartsOn)!==null&&o!==void 0?o:f.weekStartsOn)!==null&&i!==void 0?i:(c=f.locale)===null||c===void 0||(u=c.options)===null||u===void 0?void 0:u.weekStartsOn)!==null&&r!==void 0?r:0);if(!(h>=0&&h<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var g=ve(t),_=Ze(e),v=g.getUTCDay(),E=_%7,x=(E+7)%7,y=(x<h?7:0)+_-v;return g.setUTCDate(g.getUTCDate()+y),g}var yG=function(t){je(n,t);var e=Fe(n);function n(){var r;Me(this,n);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o)),ee(ne(r),"priority",90),ee(ne(r),"incompatibleTokens",["D","i","e","c","t","T"]),r}return Oe(n,[{key:"parse",value:function(i,o,s){switch(o){case"E":case"EE":case"EEE":return s.day(i,{width:"abbreviated",context:"formatting"})||s.day(i,{width:"short",context:"formatting"})||s.day(i,{width:"narrow",context:"formatting"});case"EEEEE":return s.day(i,{width:"narrow",context:"formatting"});case"EEEEEE":return s.day(i,{width:"short",context:"formatting"})||s.day(i,{width:"narrow",context:"formatting"});case"EEEE":default:return s.day(i,{width:"wide",context:"formatting"})||s.day(i,{width:"abbreviated",context:"formatting"})||s.day(i,{width:"short",context:"formatting"})||s.day(i,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(i,o){return o>=0&&o<=6}},{key:"set",value:function(i,o,s,a){return i=y1(i,s,a),i.setUTCHours(0,0,0,0),i}}]),n}(Be),wG=function(t){je(n,t);var e=Fe(n);function n(){var r;Me(this,n);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o)),ee(ne(r),"priority",90),ee(ne(r),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"]),r}return Oe(n,[{key:"parse",value:function(i,o,s,a){var l=function(u){var f=Math.floor((u-1)/7)*7;return(u+a.weekStartsOn+6)%7+f};switch(o){case"e":case"ee":return Et(yt(o.length,i),l);case"eo":return Et(s.ordinalNumber(i,{unit:"day"}),l);case"eee":return s.day(i,{width:"abbreviated",context:"formatting"})||s.day(i,{width:"short",context:"formatting"})||s.day(i,{width:"narrow",context:"formatting"});case"eeeee":return s.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return s.day(i,{width:"short",context:"formatting"})||s.day(i,{width:"narrow",context:"formatting"});case"eeee":default:return s.day(i,{width:"wide",context:"formatting"})||s.day(i,{width:"abbreviated",context:"formatting"})||s.day(i,{width:"short",context:"formatting"})||s.day(i,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(i,o){return o>=0&&o<=6}},{key:"set",value:function(i,o,s,a){return i=y1(i,s,a),i.setUTCHours(0,0,0,0),i}}]),n}(Be),_G=function(t){je(n,t);var e=Fe(n);function n(){var r;Me(this,n);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o)),ee(ne(r),"priority",90),ee(ne(r),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"]),r}return Oe(n,[{key:"parse",value:function(i,o,s,a){var l=function(u){var f=Math.floor((u-1)/7)*7;return(u+a.weekStartsOn+6)%7+f};switch(o){case"c":case"cc":return Et(yt(o.length,i),l);case"co":return Et(s.ordinalNumber(i,{unit:"day"}),l);case"ccc":return s.day(i,{width:"abbreviated",context:"standalone"})||s.day(i,{width:"short",context:"standalone"})||s.day(i,{width:"narrow",context:"standalone"});case"ccccc":return s.day(i,{width:"narrow",context:"standalone"});case"cccccc":return s.day(i,{width:"short",context:"standalone"})||s.day(i,{width:"narrow",context:"standalone"});case"cccc":default:return s.day(i,{width:"wide",context:"standalone"})||s.day(i,{width:"abbreviated",context:"standalone"})||s.day(i,{width:"short",context:"standalone"})||s.day(i,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(i,o){return o>=0&&o<=6}},{key:"set",value:function(i,o,s,a){return i=y1(i,s,a),i.setUTCHours(0,0,0,0),i}}]),n}(Be);function xG(t,e){ae(2,arguments);var n=Ze(e);n%7===0&&(n=n-7);var r=1,i=ve(t),o=i.getUTCDay(),s=n%7,a=(s+7)%7,l=(a<r?7:0)+n-o;return i.setUTCDate(i.getUTCDate()+l),i}var EG=function(t){je(n,t);var e=Fe(n);function n(){var r;Me(this,n);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o)),ee(ne(r),"priority",90),ee(ne(r),"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"]),r}return Oe(n,[{key:"parse",value:function(i,o,s){var a=function(c){return c===0?7:c};switch(o){case"i":case"ii":return yt(o.length,i);case"io":return s.ordinalNumber(i,{unit:"day"});case"iii":return Et(s.day(i,{width:"abbreviated",context:"formatting"})||s.day(i,{width:"short",context:"formatting"})||s.day(i,{width:"narrow",context:"formatting"}),a);case"iiiii":return Et(s.day(i,{width:"narrow",context:"formatting"}),a);case"iiiiii":return Et(s.day(i,{width:"short",context:"formatting"})||s.day(i,{width:"narrow",context:"formatting"}),a);case"iiii":default:return Et(s.day(i,{width:"wide",context:"formatting"})||s.day(i,{width:"abbreviated",context:"formatting"})||s.day(i,{width:"short",context:"formatting"})||s.day(i,{width:"narrow",context:"formatting"}),a)}}},{key:"validate",value:function(i,o){return o>=1&&o<=7}},{key:"set",value:function(i,o,s){return i=xG(i,s),i.setUTCHours(0,0,0,0),i}}]),n}(Be),bG=function(t){je(n,t);var e=Fe(n);function n(){var r;Me(this,n);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o)),ee(ne(r),"priority",80),ee(ne(r),"incompatibleTokens",["b","B","H","k","t","T"]),r}return Oe(n,[{key:"parse",value:function(i,o,s){switch(o){case"a":case"aa":case"aaa":return s.dayPeriod(i,{width:"abbreviated",context:"formatting"})||s.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaaa":return s.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return s.dayPeriod(i,{width:"wide",context:"formatting"})||s.dayPeriod(i,{width:"abbreviated",context:"formatting"})||s.dayPeriod(i,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(i,o,s){return i.setUTCHours(v1(s),0,0,0),i}}]),n}(Be),TG=function(t){je(n,t);var e=Fe(n);function n(){var r;Me(this,n);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o)),ee(ne(r),"priority",80),ee(ne(r),"incompatibleTokens",["a","B","H","k","t","T"]),r}return Oe(n,[{key:"parse",value:function(i,o,s){switch(o){case"b":case"bb":case"bbb":return s.dayPeriod(i,{width:"abbreviated",context:"formatting"})||s.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbbb":return s.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return s.dayPeriod(i,{width:"wide",context:"formatting"})||s.dayPeriod(i,{width:"abbreviated",context:"formatting"})||s.dayPeriod(i,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(i,o,s){return i.setUTCHours(v1(s),0,0,0),i}}]),n}(Be),CG=function(t){je(n,t);var e=Fe(n);function n(){var r;Me(this,n);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o)),ee(ne(r),"priority",80),ee(ne(r),"incompatibleTokens",["a","b","t","T"]),r}return Oe(n,[{key:"parse",value:function(i,o,s){switch(o){case"B":case"BB":case"BBB":return s.dayPeriod(i,{width:"abbreviated",context:"formatting"})||s.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBBB":return s.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return s.dayPeriod(i,{width:"wide",context:"formatting"})||s.dayPeriod(i,{width:"abbreviated",context:"formatting"})||s.dayPeriod(i,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(i,o,s){return i.setUTCHours(v1(s),0,0,0),i}}]),n}(Be),SG=function(t){je(n,t);var e=Fe(n);function n(){var r;Me(this,n);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o)),ee(ne(r),"priority",70),ee(ne(r),"incompatibleTokens",["H","K","k","t","T"]),r}return Oe(n,[{key:"parse",value:function(i,o,s){switch(o){case"h":return dt(xt.hour12h,i);case"ho":return s.ordinalNumber(i,{unit:"hour"});default:return yt(o.length,i)}}},{key:"validate",value:function(i,o){return o>=1&&o<=12}},{key:"set",value:function(i,o,s){var a=i.getUTCHours()>=12;return a&&s<12?i.setUTCHours(s+12,0,0,0):!a&&s===12?i.setUTCHours(0,0,0,0):i.setUTCHours(s,0,0,0),i}}]),n}(Be),PG=function(t){je(n,t);var e=Fe(n);function n(){var r;Me(this,n);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o)),ee(ne(r),"priority",70),ee(ne(r),"incompatibleTokens",["a","b","h","K","k","t","T"]),r}return Oe(n,[{key:"parse",value:function(i,o,s){switch(o){case"H":return dt(xt.hour23h,i);case"Ho":return s.ordinalNumber(i,{unit:"hour"});default:return yt(o.length,i)}}},{key:"validate",value:function(i,o){return o>=0&&o<=23}},{key:"set",value:function(i,o,s){return i.setUTCHours(s,0,0,0),i}}]),n}(Be),IG=function(t){je(n,t);var e=Fe(n);function n(){var r;Me(this,n);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o)),ee(ne(r),"priority",70),ee(ne(r),"incompatibleTokens",["h","H","k","t","T"]),r}return Oe(n,[{key:"parse",value:function(i,o,s){switch(o){case"K":return dt(xt.hour11h,i);case"Ko":return s.ordinalNumber(i,{unit:"hour"});default:return yt(o.length,i)}}},{key:"validate",value:function(i,o){return o>=0&&o<=11}},{key:"set",value:function(i,o,s){var a=i.getUTCHours()>=12;return a&&s<12?i.setUTCHours(s+12,0,0,0):i.setUTCHours(s,0,0,0),i}}]),n}(Be),AG=function(t){je(n,t);var e=Fe(n);function n(){var r;Me(this,n);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o)),ee(ne(r),"priority",70),ee(ne(r),"incompatibleTokens",["a","b","h","H","K","t","T"]),r}return Oe(n,[{key:"parse",value:function(i,o,s){switch(o){case"k":return dt(xt.hour24h,i);case"ko":return s.ordinalNumber(i,{unit:"hour"});default:return yt(o.length,i)}}},{key:"validate",value:function(i,o){return o>=1&&o<=24}},{key:"set",value:function(i,o,s){var a=s<=24?s%24:s;return i.setUTCHours(a,0,0,0),i}}]),n}(Be),RG=function(t){je(n,t);var e=Fe(n);function n(){var r;Me(this,n);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o)),ee(ne(r),"priority",60),ee(ne(r),"incompatibleTokens",["t","T"]),r}return Oe(n,[{key:"parse",value:function(i,o,s){switch(o){case"m":return dt(xt.minute,i);case"mo":return s.ordinalNumber(i,{unit:"minute"});default:return yt(o.length,i)}}},{key:"validate",value:function(i,o){return o>=0&&o<=59}},{key:"set",value:function(i,o,s){return i.setUTCMinutes(s,0,0),i}}]),n}(Be),kG=function(t){je(n,t);var e=Fe(n);function n(){var r;Me(this,n);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o)),ee(ne(r),"priority",50),ee(ne(r),"incompatibleTokens",["t","T"]),r}return Oe(n,[{key:"parse",value:function(i,o,s){switch(o){case"s":return dt(xt.second,i);case"so":return s.ordinalNumber(i,{unit:"second"});default:return yt(o.length,i)}}},{key:"validate",value:function(i,o){return o>=0&&o<=59}},{key:"set",value:function(i,o,s){return i.setUTCSeconds(s,0),i}}]),n}(Be),NG=function(t){je(n,t);var e=Fe(n);function n(){var r;Me(this,n);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o)),ee(ne(r),"priority",30),ee(ne(r),"incompatibleTokens",["t","T"]),r}return Oe(n,[{key:"parse",value:function(i,o){var s=function(l){return Math.floor(l*Math.pow(10,-o.length+3))};return Et(yt(o.length,i),s)}},{key:"set",value:function(i,o,s){return i.setUTCMilliseconds(s),i}}]),n}(Be),DG=function(t){je(n,t);var e=Fe(n);function n(){var r;Me(this,n);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o)),ee(ne(r),"priority",10),ee(ne(r),"incompatibleTokens",["t","T","x"]),r}return Oe(n,[{key:"parse",value:function(i,o){switch(o){case"X":return Pr(Sr.basicOptionalMinutes,i);case"XX":return Pr(Sr.basic,i);case"XXXX":return Pr(Sr.basicOptionalSeconds,i);case"XXXXX":return Pr(Sr.extendedOptionalSeconds,i);case"XXX":default:return Pr(Sr.extended,i)}}},{key:"set",value:function(i,o,s){return o.timestampIsSet?i:new Date(i.getTime()-s)}}]),n}(Be),MG=function(t){je(n,t);var e=Fe(n);function n(){var r;Me(this,n);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o)),ee(ne(r),"priority",10),ee(ne(r),"incompatibleTokens",["t","T","X"]),r}return Oe(n,[{key:"parse",value:function(i,o){switch(o){case"x":return Pr(Sr.basicOptionalMinutes,i);case"xx":return Pr(Sr.basic,i);case"xxxx":return Pr(Sr.basicOptionalSeconds,i);case"xxxxx":return Pr(Sr.extendedOptionalSeconds,i);case"xxx":default:return Pr(Sr.extended,i)}}},{key:"set",value:function(i,o,s){return o.timestampIsSet?i:new Date(i.getTime()-s)}}]),n}(Be),OG=function(t){je(n,t);var e=Fe(n);function n(){var r;Me(this,n);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o)),ee(ne(r),"priority",40),ee(ne(r),"incompatibleTokens","*"),r}return Oe(n,[{key:"parse",value:function(i){return rN(i)}},{key:"set",value:function(i,o,s){return[new Date(s*1e3),{timestampIsSet:!0}]}}]),n}(Be),LG=function(t){je(n,t);var e=Fe(n);function n(){var r;Me(this,n);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o)),ee(ne(r),"priority",20),ee(ne(r),"incompatibleTokens","*"),r}return Oe(n,[{key:"parse",value:function(i){return rN(i)}},{key:"set",value:function(i,o,s){return[new Date(s),{timestampIsSet:!0}]}}]),n}(Be),VG={G:new tG,y:new nG,Y:new rG,R:new iG,u:new oG,Q:new sG,q:new aG,M:new lG,L:new cG,w:new dG,I:new hG,d:new gG,D:new vG,E:new yG,e:new wG,c:new _G,i:new EG,a:new bG,b:new TG,B:new CG,h:new SG,H:new PG,K:new IG,k:new AG,m:new RG,s:new kG,S:new NG,X:new DG,x:new MG,t:new OG,T:new LG},jG=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,FG=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,$G=/^'([^]*?)'?$/,UG=/''/g,BG=/\S/,WG=/[a-zA-Z]/;function zG(t,e,n,r){var i,o,s,a,l,c,u,f,h,g,_,v,E,x,y,b,I,N;ae(3,arguments);var O=String(t),S=String(e),C=zr(),P=(i=(o=r==null?void 0:r.locale)!==null&&o!==void 0?o:C.locale)!==null&&i!==void 0?i:g1;if(!P.match)throw new RangeError("locale must contain match property");var A=Ze((s=(a=(l=(c=r==null?void 0:r.firstWeekContainsDate)!==null&&c!==void 0?c:r==null||(u=r.locale)===null||u===void 0||(f=u.options)===null||f===void 0?void 0:f.firstWeekContainsDate)!==null&&l!==void 0?l:C.firstWeekContainsDate)!==null&&a!==void 0?a:(h=C.locale)===null||h===void 0||(g=h.options)===null||g===void 0?void 0:g.firstWeekContainsDate)!==null&&s!==void 0?s:1);if(!(A>=1&&A<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var M=Ze((_=(v=(E=(x=r==null?void 0:r.weekStartsOn)!==null&&x!==void 0?x:r==null||(y=r.locale)===null||y===void 0||(b=y.options)===null||b===void 0?void 0:b.weekStartsOn)!==null&&E!==void 0?E:C.weekStartsOn)!==null&&v!==void 0?v:(I=C.locale)===null||I===void 0||(N=I.options)===null||N===void 0?void 0:N.weekStartsOn)!==null&&_!==void 0?_:0);if(!(M>=0&&M<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(S==="")return O===""?ve(n):new Date(NaN);var D={firstWeekContainsDate:A,weekStartsOn:M,locale:P},k=[new eG],B=S.match(FG).map(function(de){var le=de[0];if(le in My){var re=My[le];return re(de,P.formatLong)}return de}).join("").match(jG),q=[],K=fC(B),F;try{var L=function(){var le=F.value;!(r!=null&&r.useAdditionalWeekYearTokens)&&X2(le)&&bh(le,S,t),!(r!=null&&r.useAdditionalDayOfYearTokens)&&Q2(le)&&bh(le,S,t);var re=le[0],he=VG[re];if(he){var Ce=he.incompatibleTokens;if(Array.isArray(Ce)){var Ke=q.find(function(Dt){return Ce.includes(Dt.token)||Dt.token===re});if(Ke)throw new RangeError("The format string mustn't contain `".concat(Ke.fullToken,"` and `").concat(le,"` at the same time"))}else if(he.incompatibleTokens==="*"&&q.length>0)throw new RangeError("The format string mustn't contain `".concat(le,"` and any other token at the same time"));q.push({token:re,fullToken:le});var st=he.run(O,le,P.match,D);if(!st)return{v:new Date(NaN)};k.push(st.setter),O=st.rest}else{if(re.match(WG))throw new RangeError("Format string contains an unescaped latin alphabet character `"+re+"`");if(le==="''"?le="'":re==="'"&&(le=HG(le)),O.indexOf(le)===0)O=O.slice(le.length);else return{v:new Date(NaN)}}};for(K.s();!(F=K.n()).done;){var V=L();if(hr(V)==="object")return V.v}}catch(de){K.e(de)}finally{K.f()}if(O.length>0&&BG.test(O))return new Date(NaN);var $=k.map(function(de){return de.priority}).sort(function(de,le){return le-de}).filter(function(de,le,re){return re.indexOf(de)===le}).map(function(de){return k.filter(function(le){return le.priority===de}).sort(function(le,re){return re.subPriority-le.subPriority})}).map(function(de){return de[0]}),W=ve(n);if(isNaN(W.getTime()))return new Date(NaN);var G=H2(W,Ya(W)),Y={},oe=fC($),fe;try{for(oe.s();!(fe=oe.n()).done;){var Ee=fe.value;if(!Ee.validate(G,D))return new Date(NaN);var J=Ee.set(G,Y,D);Array.isArray(J)?(G=J[0],Vq(Y,J[1])):G=J}}catch(de){oe.e(de)}finally{oe.f()}return G}function HG(t){return t.match($G)[1].replace(UG,"'")}function w1(t,e){ae(2,arguments);var n=ve(t),r=ve(e);return n.getFullYear()===r.getFullYear()&&n.getMonth()===r.getMonth()}function qG(t,e){ae(2,arguments);var n=ve(t),r=ve(e);return n.getFullYear()===r.getFullYear()}function wg(t,e){ae(2,arguments);var n=Ze(e);return Lt(t,-n)}function se(t,e){var n;ae(1,arguments);var r=Ze((n=e==null?void 0:e.additionalDigits)!==null&&n!==void 0?n:2);if(r!==2&&r!==1&&r!==0)throw new RangeError("additionalDigits must be 0, 1 or 2");if(!(typeof t=="string"||Object.prototype.toString.call(t)==="[object String]"))return new Date(NaN);var i=QG(t),o;if(i.date){var s=XG(i.date,r);o=JG(s.restDateString,s.year)}if(!o||isNaN(o.getTime()))return new Date(NaN);var a=o.getTime(),l=0,c;if(i.time&&(l=ZG(i.time),isNaN(l)))return new Date(NaN);if(i.timezone){if(c=eY(i.timezone),isNaN(c))return new Date(NaN)}else{var u=new Date(a+l),f=new Date(0);return f.setFullYear(u.getUTCFullYear(),u.getUTCMonth(),u.getUTCDate()),f.setHours(u.getUTCHours(),u.getUTCMinutes(),u.getUTCSeconds(),u.getUTCMilliseconds()),f}return new Date(a+l+c)}var Ld={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},GG=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,YG=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,KG=/^([+-])(\d{2})(?::?(\d{2}))?$/;function QG(t){var e={},n=t.split(Ld.dateTimeDelimiter),r;if(n.length>2)return e;if(/:/.test(n[0])?r=n[0]:(e.date=n[0],r=n[1],Ld.timeZoneDelimiter.test(e.date)&&(e.date=t.split(Ld.timeZoneDelimiter)[0],r=t.substr(e.date.length,t.length))),r){var i=Ld.timezone.exec(r);i?(e.time=r.replace(i[1],""),e.timezone=i[1]):e.time=r}return e}function XG(t,e){var n=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+e)+"})|(\\d{2}|[+-]\\d{"+(2+e)+"})$)"),r=t.match(n);if(!r)return{year:NaN,restDateString:""};var i=r[1]?parseInt(r[1]):null,o=r[2]?parseInt(r[2]):null;return{year:o===null?i:o*100,restDateString:t.slice((r[1]||r[2]).length)}}function JG(t,e){if(e===null)return new Date(NaN);var n=t.match(GG);if(!n)return new Date(NaN);var r=!!n[4],i=Yl(n[1]),o=Yl(n[2])-1,s=Yl(n[3]),a=Yl(n[4]),l=Yl(n[5])-1;if(r)return oY(e,a,l)?tY(e,a,l):new Date(NaN);var c=new Date(0);return!rY(e,o,s)||!iY(e,i)?new Date(NaN):(c.setUTCFullYear(e,o,Math.max(i,s)),c)}function Yl(t){return t?parseInt(t):1}function ZG(t){var e=t.match(YG);if(!e)return NaN;var n=_g(e[1]),r=_g(e[2]),i=_g(e[3]);return sY(n,r,i)?n*d1+r*u1+i*1e3:NaN}function _g(t){return t&&parseFloat(t.replace(",","."))||0}function eY(t){if(t==="Z")return 0;var e=t.match(KG);if(!e)return 0;var n=e[1]==="+"?-1:1,r=parseInt(e[2]),i=e[3]&&parseInt(e[3])||0;return aY(r,i)?n*(r*d1+i*u1):NaN}function tY(t,e,n){var r=new Date(0);r.setUTCFullYear(t,0,4);var i=r.getUTCDay()||7,o=(e-1)*7+n+1-i;return r.setUTCDate(r.getUTCDate()+o),r}var nY=[31,null,31,30,31,30,31,31,30,31,30,31];function sN(t){return t%400===0||t%4===0&&t%100!==0}function rY(t,e,n){return e>=0&&e<=11&&n>=1&&n<=(nY[e]||(sN(t)?29:28))}function iY(t,e){return e>=1&&e<=(sN(t)?366:365)}function oY(t,e,n){return e>=1&&e<=53&&n>=0&&n<=6}function sY(t,e,n){return t===24?e===0&&n===0:n>=0&&n<60&&e>=0&&e<60&&t>=0&&t<25}function aY(t,e){return e>=0&&e<=59}function xg(t,e){ae(2,arguments);var n=ve(t),r=Ze(e),i=n.getFullYear(),o=n.getDate(),s=new Date(0);s.setFullYear(i,r,15),s.setHours(0,0,0,0);var a=jq(s);return n.setMonth(r,Math.min(o,a)),n}function pC(t,e){ae(2,arguments);var n=ve(t),r=Ze(e);return isNaN(n.getTime())?new Date(NaN):(n.setFullYear(r),n)}const ma={NONE:{value:"none",label:"Sin Smbolo",color:"transparent",textColor:"#e2e8f0"},MENSTRUATION:{value:"red",label:"Menstruacin",color:"bg-red-500",textColor:"#e2e8f0"},FERTILE:{value:"white",label:"Frtil (Moco)",color:"bg-white",textColor:"#e2e8f0"},INFERTILE:{value:"green",label:"Infrtil (Sin Moco)",color:"bg-green-500",textColor:"#e2e8f0"},SPOTTING:{value:"spot",label:"Spotting",color:"bg-pink-300",textColor:"#e2e8f0",pattern:"spotting-pattern"}},aN=Object.values(ma),_1=t=>aN.find(n=>n.value===t)||ma.NONE,mC="#1E40AF",gC="#059669",vC="#BE185D",lY="rgba(30, 64, 175, 0.08)",cY="rgba(5, 150, 105, 0.08)",uY="rgba(190, 24, 93, 0.08)",dY=t=>{if(!t)return"";const[e,n]=t.split("/");return`${parseInt(e,10)}/${parseInt(n,10)}`},Eg=(t="",e,n,r="")=>{if(!t)return[r,""];if(t.length<=e)return[t,""];if(n)return[t.slice(0,e),""];const i=t.indexOf(" ",e);return i===-1?[t.slice(0,e),t.slice(e)]:[t.slice(0,i),t.slice(i+1)]},bg=(t="",e,n="")=>t?t.split(/\s+/).slice(0,e).join(" "):n,fY=({data:t,getX:e,getY:n,isFullScreen:r,orientation:i,responsiveFontSize:o,onPointInteraction:s,clearActivePoint:a,activePoint:l,padding:c,chartHeight:u,chartWidth:f,temperatureField:h="temperature_chart",textRowHeight:g})=>{const _={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.4,ease:"easeOut"}}},v={hidden:{opacity:0,scale:.5},visible:{opacity:1,scale:1,transition:{duration:.5,ease:"easeOut",type:"spring",stiffness:100}}},E=u-c.bottom,x=E+g*1,y=E+g*2,b=E+g*3,I=E+g*(r?5:4.5),N=E+g*(r?7:6),O=E+g*(r?9:7.5),S=f-c.left-c.right,C=g*(r?2:1.5);return p.jsxs(p.Fragment,{children:[p.jsxs("defs",{children:[p.jsx("filter",{id:"rowShadow",x:"-10%",y:"-10%",width:"120%",height:"120%",children:p.jsx("feDropShadow",{dx:"0",dy:"1",stdDeviation:"2",floodColor:"rgba(244, 114, 182, 0.15)"})}),p.jsxs("linearGradient",{id:"sensationGradient",x1:"0%",y1:"0%",x2:"100%",y2:"0%",children:[p.jsx("stop",{offset:"0%",stopColor:lY}),p.jsx("stop",{offset:"100%",stopColor:"rgba(30, 64, 175, 0.02)"})]}),p.jsxs("linearGradient",{id:"appearanceGradient",x1:"0%",y1:"0%",x2:"100%",y2:"0%",children:[p.jsx("stop",{offset:"0%",stopColor:cY}),p.jsx("stop",{offset:"100%",stopColor:"rgba(5, 150, 105, 0.02)"})]}),p.jsxs("linearGradient",{id:"observationGradient",x1:"0%",y1:"0%",x2:"100%",y2:"0%",children:[p.jsx("stop",{offset:"0%",stopColor:uY}),p.jsx("stop",{offset:"100%",stopColor:"rgba(190, 24, 93, 0.02)"})]})]}),p.jsxs("g",{children:[p.jsx("rect",{x:c.left,y:I-C/2,width:S,height:C,fill:"url(#sensationGradient)",rx:6,style:{filter:"url(#rowShadow)"}}),p.jsx("rect",{x:c.left,y:N-C/2,width:S,height:C,fill:"url(#appearanceGradient)",rx:6,style:{filter:"url(#rowShadow)"}}),p.jsx("rect",{x:c.left,y:O-C/2,width:S,height:C,fill:"url(#observationGradient)",rx:6,style:{filter:"url(#rowShadow)"}})]}),(!r||i!=="portrait")&&p.jsx(be.g,{variants:_,children:[{label:"Fecha",row:1,color:r?"#374151":"#6B7280"},{label:"Da",row:2,color:r?"#374151":"#6B7280"},{label:"Smbolo",row:3,color:r?"#374151":"#6B7280"},{label:"Sens.",row:r?5:4.5,color:mC},{label:"Apar.",row:r?7:6,color:gC},{label:"Observ.",row:r?9:7.5,color:vC}].map(({label:P,row:A,color:M})=>p.jsx("text",{x:c.left-o(1.5),y:E+g*A,textAnchor:"end",fontSize:o(.95),fontWeight:"600",fill:M,style:{filter:"drop-shadow(0 1px 1px rgba(255, 255, 255, 0.8))",fontFamily:'-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif'},children:P},P))}),t.map((P,A)=>{const M=e(A),D=P[h]!=null?n(P[h]):E,k=r?"#374151":"#6B7280",B=P[h]!=null,q=B||P.mucus_sensation||P.mucus_appearance||P.fertility_symbol,K=String(P.id||"").startsWith("placeholder-"),F=!q||K?{}:{pointerEvents:"all",style:{cursor:"pointer"},onMouseEnter:re=>s(P,A,re),onClick:re=>s(P,A,re)},L=_1(P.fertility_symbol);let V="transparent";if(L!=null&&L.color){const re=L.color.replace(/^bg-/,"");re==="red-500"?V="#ef4444":re==="white"?V="#ffffff":re==="green-500"?V="#22c55e":re==="pink-300"&&(V="#f9a8d4")}const $=o(r?1.4:1.6),W=P.isoDate?Th(Te(se(P.isoDate)),Te(new Date)):!1,G=r?4:9,Y=2,[oe,fe]=Eg(r?bg(P.mucus_sensation,Y,W?"":""):P.mucus_sensation,G,!1,W?"":""),[Ee,J]=Eg(r?bg(P.mucus_appearance,Y,W?"":""):P.mucus_appearance,G,!1,W?"":""),[de,le]=Eg(r?bg(P.observations,Y,""):P.observations,G,!1,"");return p.jsxs(be.g,{variants:_,...F,children:[B&&p.jsxs(be.g,{variants:v,children:[p.jsx("circle",{cx:M,cy:D,r:8,fill:"rgba(244, 114, 182, 0.15)",opacity:.6}),p.jsx("circle",{cx:M,cy:D,r:5,fill:P.ignored?"white":"url(#tempPointGradient)",stroke:P.use_corrected?"#F59E0B":"#E91E63",strokeWidth:P.ignored?2:2.5,style:{filter:"drop-shadow(0 2px 4px rgba(244, 114, 182, 0.3))",cursor:"pointer"},pointerEvents:"all",onMouseEnter:re=>s(P,A,re),onTouchStart:re=>s(P,A,re),onClick:re=>s(P,A,re)}),!P.ignored&&p.jsx("circle",{cx:M,cy:D,r:2,fill:"rgba(255, 255, 255, 0.8)"})]}),p.jsx("defs",{children:p.jsxs("radialGradient",{id:"tempPointGradient",cx:"30%",cy:"30%",children:[p.jsx("stop",{offset:"0%",stopColor:"#F472B6"}),p.jsx("stop",{offset:"70%",stopColor:"#E91E63"}),p.jsx("stop",{offset:"100%",stopColor:"#C2185B"})]})}),p.jsx("text",{x:M,y:x,textAnchor:"middle",fontSize:o(.95),fontWeight:"600",fill:k,style:{fontFamily:'-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif'},children:dY(P.date)}),p.jsx("text",{x:M,y,textAnchor:"middle",fontSize:o(.9),fontWeight:"500",fill:k,style:{fontFamily:'-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif'},children:P.cycleDay}),!K&&(L.value!=="none"?p.jsx("rect",{x:M-$/2,y:b-$*.75,width:$,height:$,fill:L.pattern==="spotting-pattern"?"url(#spotting-pattern-chart)":V,stroke:L.value==="white"?"#E91E63":"rgba(233, 30, 99, 0.3)",strokeWidth:L.value==="white"?1.5:1,rx:$*.25,style:{filter:"drop-shadow(0 1px 2px rgba(244, 114, 182, 0.2))"}}):p.jsx("text",{x:M,y:b,textAnchor:"middle",fontSize:o(.9),fill:k,fontWeight:"400",children:""})),p.jsxs("text",{x:M,y:I,textAnchor:"middle",fontSize:o(.85),fontWeight:"600",fill:mC,style:{fontFamily:'-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif'},children:[p.jsx("tspan",{x:M,dy:0,children:oe}),fe&&p.jsx("tspan",{x:M,dy:o(1),children:fe})]}),p.jsxs("text",{x:M,y:N,textAnchor:"middle",fontSize:o(.85),fontWeight:"600",fill:gC,style:{fontFamily:'-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif'},children:[p.jsx("tspan",{x:M,dy:0,children:Ee}),J&&p.jsx("tspan",{x:M,dy:o(1),children:J})]}),p.jsxs("text",{x:M,y:O,textAnchor:"middle",fontSize:o(.85),fontWeight:"600",fill:vC,style:{fontFamily:'-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif'},children:[p.jsx("tspan",{x:M,dy:0,children:de}),le&&p.jsx("tspan",{x:M,dy:o(1),children:le})]})]},`pt-${A}-${P.isoDate||P.timestamp}`)})]})};var hY={lessThanXSeconds:{one:"menos de un segundo",other:"menos de {{count}} segundos"},xSeconds:{one:"1 segundo",other:"{{count}} segundos"},halfAMinute:"medio minuto",lessThanXMinutes:{one:"menos de un minuto",other:"menos de {{count}} minutos"},xMinutes:{one:"1 minuto",other:"{{count}} minutos"},aboutXHours:{one:"alrededor de 1 hora",other:"alrededor de {{count}} horas"},xHours:{one:"1 hora",other:"{{count}} horas"},xDays:{one:"1 da",other:"{{count}} das"},aboutXWeeks:{one:"alrededor de 1 semana",other:"alrededor de {{count}} semanas"},xWeeks:{one:"1 semana",other:"{{count}} semanas"},aboutXMonths:{one:"alrededor de 1 mes",other:"alrededor de {{count}} meses"},xMonths:{one:"1 mes",other:"{{count}} meses"},aboutXYears:{one:"alrededor de 1 ao",other:"alrededor de {{count}} aos"},xYears:{one:"1 ao",other:"{{count}} aos"},overXYears:{one:"ms de 1 ao",other:"ms de {{count}} aos"},almostXYears:{one:"casi 1 ao",other:"casi {{count}} aos"}},pY=function(e,n,r){var i,o=hY[e];return typeof o=="string"?i=o:n===1?i=o.one:i=o.other.replace("{{count}}",n.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"en "+i:"hace "+i:i};const mY=pY;var gY={full:"EEEE, d 'de' MMMM 'de' y",long:"d 'de' MMMM 'de' y",medium:"d MMM y",short:"dd/MM/y"},vY={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},yY={full:"{{date}} 'a las' {{time}}",long:"{{date}} 'a las' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},wY={date:Pa({formats:gY,defaultWidth:"full"}),time:Pa({formats:vY,defaultWidth:"full"}),dateTime:Pa({formats:yY,defaultWidth:"full"})};const _Y=wY;var xY={lastWeek:"'el' eeee 'pasado a la' p",yesterday:"'ayer a la' p",today:"'hoy a la' p",tomorrow:"'maana a la' p",nextWeek:"eeee 'a la' p",other:"P"},EY={lastWeek:"'el' eeee 'pasado a las' p",yesterday:"'ayer a las' p",today:"'hoy a las' p",tomorrow:"'maana a las' p",nextWeek:"eeee 'a las' p",other:"P"},bY=function(e,n,r,i){return n.getUTCHours()!==1?EY[e]:xY[e]};const TY=bY;var CY={narrow:["AC","DC"],abbreviated:["AC","DC"],wide:["antes de cristo","despus de cristo"]},SY={narrow:["1","2","3","4"],abbreviated:["T1","T2","T3","T4"],wide:["1 trimestre","2 trimestre","3 trimestre","4 trimestre"]},PY={narrow:["e","f","m","a","m","j","j","a","s","o","n","d"],abbreviated:["ene","feb","mar","abr","may","jun","jul","ago","sep","oct","nov","dic"],wide:["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre"]},IY={narrow:["d","l","m","m","j","v","s"],short:["do","lu","ma","mi","ju","vi","s"],abbreviated:["dom","lun","mar","mi","jue","vie","sb"],wide:["domingo","lunes","martes","mircoles","jueves","viernes","sbado"]},AY={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"maana",afternoon:"tarde",evening:"tarde",night:"noche"},abbreviated:{am:"AM",pm:"PM",midnight:"medianoche",noon:"mediodia",morning:"maana",afternoon:"tarde",evening:"tarde",night:"noche"},wide:{am:"a.m.",pm:"p.m.",midnight:"medianoche",noon:"mediodia",morning:"maana",afternoon:"tarde",evening:"tarde",night:"noche"}},RY={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"de la maana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"},abbreviated:{am:"AM",pm:"PM",midnight:"medianoche",noon:"mediodia",morning:"de la maana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"},wide:{am:"a.m.",pm:"p.m.",midnight:"medianoche",noon:"mediodia",morning:"de la maana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"}},kY=function(e,n){var r=Number(e);return r+""},NY={ordinalNumber:kY,era:Tr({values:CY,defaultWidth:"wide"}),quarter:Tr({values:SY,defaultWidth:"wide",argumentCallback:function(e){return Number(e)-1}}),month:Tr({values:PY,defaultWidth:"wide"}),day:Tr({values:IY,defaultWidth:"wide"}),dayPeriod:Tr({values:AY,defaultWidth:"wide",formattingValues:RY,defaultFormattingWidth:"wide"})};const DY=NY;var MY=/^(\d+)()?/i,OY=/\d+/i,LY={narrow:/^(ac|dc|a|d)/i,abbreviated:/^(a\.?\s?c\.?|a\.?\s?e\.?\s?c\.?|d\.?\s?c\.?|e\.?\s?c\.?)/i,wide:/^(antes de cristo|antes de la era com[u]n|despu[e]s de cristo|era com[u]n)/i},VY={any:[/^ac/i,/^dc/i],wide:[/^(antes de cristo|antes de la era com[u]n)/i,/^(despu[e]s de cristo|era com[u]n)/i]},jY={narrow:/^[1234]/i,abbreviated:/^T[1234]/i,wide:/^[1234]()? trimestre/i},FY={any:[/1/i,/2/i,/3/i,/4/i]},$Y={narrow:/^[efmajsond]/i,abbreviated:/^(ene|feb|mar|abr|may|jun|jul|ago|sep|oct|nov|dic)/i,wide:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i},UY={narrow:[/^e/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^en/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i]},BY={narrow:/^[dlmjvs]/i,short:/^(do|lu|ma|mi|ju|vi|s[a])/i,abbreviated:/^(dom|lun|mar|mi[e]|jue|vie|s[a]b)/i,wide:/^(domingo|lunes|martes|mi[e]rcoles|jueves|viernes|s[a]bado)/i},WY={narrow:[/^d/i,/^l/i,/^m/i,/^m/i,/^j/i,/^v/i,/^s/i],any:[/^do/i,/^lu/i,/^ma/i,/^mi/i,/^ju/i,/^vi/i,/^sa/i]},zY={narrow:/^(a|p|mn|md|(de la|a las) (maana|tarde|noche))/i,any:/^([ap]\.?\s?m\.?|medianoche|mediodia|(de la|a las) (maana|tarde|noche))/i},HY={any:{am:/^a/i,pm:/^p/i,midnight:/^mn/i,noon:/^md/i,morning:/maana/i,afternoon:/tarde/i,evening:/tarde/i,night:/noche/i}},qY={ordinalNumber:J2({matchPattern:MY,parsePattern:OY,valueCallback:function(e){return parseInt(e,10)}}),era:Cr({matchPatterns:LY,defaultMatchWidth:"wide",parsePatterns:VY,defaultParseWidth:"any"}),quarter:Cr({matchPatterns:jY,defaultMatchWidth:"wide",parsePatterns:FY,defaultParseWidth:"any",valueCallback:function(e){return e+1}}),month:Cr({matchPatterns:$Y,defaultMatchWidth:"wide",parsePatterns:UY,defaultParseWidth:"any"}),day:Cr({matchPatterns:BY,defaultMatchWidth:"wide",parsePatterns:WY,defaultParseWidth:"any"}),dayPeriod:Cr({matchPatterns:zY,defaultMatchWidth:"any",parsePatterns:HY,defaultParseWidth:"any"})};const GY=qY;var YY={code:"es",formatDistance:mY,formatLong:_Y,formatRelative:TY,localize:DY,match:GY,options:{weekStartsOn:1,firstWeekContainsDate:1}};const Ji=YY,KY=({point:t,position:e,chartWidth:n,chartHeight:r,onToggleIgnore:i,onEdit:o,onClose:s})=>{if(!t)return null;const a=130,l=120;let c=e.clientX+10,u=e.clientY+10;c+a>n&&(c=e.clientX-a-10),u+l>r&&(u=e.clientY-l-10),c<0&&(c=5),u<0&&(u=5);const f=t.temperature_chart,h=_1(t.fertility_symbol),g=t.timestamp||t.isoDate;return p.jsxs(be.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},transition:{duration:.15},className:"absolute bg-white/80 border border-[#E27DBF] text-[#1F2937] p-2 rounded-lg shadow z-50",style:{top:u,left:c,width:a,minHeight:l},children:[p.jsx(Se,{variant:"ghost",size:"icon",onClick:s,className:"absolute top-1 right-1 text-[#E27DBF] hover:bg-[#FFB1DD]",children:p.jsx(lu,{size:16})}),p.jsxs("p",{className:"font-semibold text-sm text-[#E27DBF] mb-1",children:[g?ce(se(g),"d/M",{locale:Ji}):"Fecha",` (Da ${t.cycleDay||"N/A"})`]}),f!=null&&p.jsxs("p",{className:"text-xs mb-1",children:[p.jsx("span",{className:"font-medium",children:"T:"})," ",parseFloat(f).toFixed(2),"C",t.use_corrected&&p.jsx("span",{className:"inline-block ml-1 align-middle text-[#FF0000]",children:""})]}),p.jsxs("div",{className:"flex items-center mb-1",children:[h&&h.value!=="none"&&p.jsx("span",{className:`w-3 h-3 rounded-full mr-1 ${h.color} ${h.pattern?"pattern-bg":""} ${h.value==="white"?"border border-gray-300":""}`}),p.jsx("p",{className:"text-xs",children:h?h.label:"-"})]}),p.jsxs("p",{className:"text-xs mb-1",children:[p.jsx("span",{className:"font-medium",children:"Sens.:"})," ",t.mucus_sensation||"-"]}),p.jsxs("p",{className:"text-xs",children:[p.jsx("span",{className:"font-medium",children:"Apar.:"})," ",t.mucus_appearance||"-"]}),t.id&&!String(t.id).startsWith("placeholder-")&&p.jsxs("div",{className:"flex justify-center space-x-1 mt-1",children:[p.jsx(Se,{onClick:()=>{o&&o(t),s&&s()},variant:"outline",size:"icon",className:"text-[#393C65] hover:text-[#E27DBF] hover:bg-[#E27DBF]/10 ",children:p.jsx(ky,{className:"h-4 w-4"})}),p.jsx(Se,{onClick:()=>i(t.id),variant:t.ignored?"outline":"destructive",size:"icon",className:"hover:bg-[#FFB1DD]/20",children:t.ignored?p.jsx(Ga,{className:"h-4 w-4"}):p.jsx(Pp,{className:"h-4 w-4"})})]})]})},QY="#1E40AF",XY="#059669",JY="#BE185D",ZY=({padding:t,chartHeight:e,tempMin:n,tempMax:r,tempRange:i,getY:o,responsiveFontSize:s,textRowHeight:a,isFullScreen:l})=>{const c={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.4,ease:"easeOut"}}},u=[];if(i>0){const h=i<=2.5?.1:.5;for(let g=n;g<=r+1e-9;g+=h)u.push(parseFloat(g.toFixed(1)))}else for(let h=35;h<=37.5+1e-9;h+=.5)u.push(parseFloat(h.toFixed(1)));const f=e-t.bottom;return p.jsxs("svg",{width:t.left,height:e,className:"font-sans pointer-events-none",children:[p.jsxs("defs",{children:[p.jsxs("linearGradient",{id:"legendBgGradient",x1:"0%",y1:"0%",x2:"100%",y2:"0%",children:[p.jsx("stop",{offset:"0%",stopColor:"rgba(255, 255, 255, 0.95)"}),p.jsx("stop",{offset:"100%",stopColor:"rgba(252, 231, 243, 0.8)"})]}),p.jsx("filter",{id:"legendShadow",x:"-20%",y:"-20%",width:"140%",height:"140%",children:p.jsx("feDropShadow",{dx:"2",dy:"2",stdDeviation:"3",floodColor:"rgba(244, 114, 182, 0.15)"})})]}),p.jsx("rect",{x:0,y:f+a*.5,width:t.left,height:a*(l?9.5:8),fill:"url(#legendBgGradient)",rx:8,style:{filter:"url(#legendShadow)"}}),u.map((h,g)=>{const _=o(h),v=h.toFixed(1).endsWith(".0")||h.toFixed(1).endsWith(".5"),E=v?h.toFixed(1):`.${h.toFixed(1).split(".")[1]}`;return p.jsx(be.text,{variants:c,x:t.left-s(1),y:_+s(.35),textAnchor:"end",fontSize:s(v?1:.9),fontWeight:v?"600":"500",fill:v?"#E91E63":"#EC4899",style:{filter:"drop-shadow(0 1px 1px rgba(255, 255, 255, 0.8))",fontFamily:'-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif'},children:E},`temp-tick-fixed-${g}`)}),p.jsxs(be.g,{variants:c,children:[p.jsx("rect",{x:t.left-s(.3),y:t.top-s(.3),width:s(3),height:s(2.2),rx:s(.4),fill:"rgba(244, 114, 182, 0.12)",stroke:"rgba(244, 114, 182, 0.25)",strokeWidth:1,style:{filter:"drop-shadow(0 2px 4px rgba(244, 114, 182, 0.1))"}}),p.jsx("text",{x:t.left+s(1.2),y:t.top+s(1.2),textAnchor:"middle",fontSize:s(1.4),fontWeight:"700",fill:"#E91E63",style:{filter:"drop-shadow(0 1px 2px rgba(255, 255, 255, 0.8))",fontFamily:'-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif'},children:"C"})]}),p.jsx(be.g,{variants:c,children:[{label:"Fecha",row:1,color:l?"#374151":"#6B7280"},{label:"Da",row:2,color:l?"#374151":"#6B7280"},{label:"Smbolo",row:3,color:l?"#374151":"#6B7280"},{label:"Sens.",row:l?5:4.5,color:QY},{label:"Apar.",row:l?7:6,color:XY},{label:"Observ.",row:l?9:7.5,color:JY}].map(({label:h,row:g,color:_})=>p.jsx("text",{x:t.left-s(1.5),y:f+a*g,textAnchor:"end",fontSize:s(.95),fontWeight:"600",fill:_,style:{filter:"drop-shadow(0 1px 1px rgba(255, 255, 255, 0.8))",fontFamily:'-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif'},children:h},h))})]})},yC=35.5,wC=37.5,eK=(t,e,n,r,i,o=5)=>{const s=m.useRef(null),a=m.useRef(null),[l,c]=m.useState({width:600,height:400}),[u,f]=m.useState(null),[h,g]=m.useState({x:0,y:0}),_=m.useMemo(()=>t.map(V=>({...V,displayTemperature:V.temperature_chart})),[t]);m.useEffect(()=>{const V=()=>{if(!s.current)return;let W=s.current.clientWidth>0?s.current.clientWidth:600,G,Y;if(e)if(W=window.innerWidth,n==="portrait"){const oe=Math.max(30,W*.05);G=(W-oe)/o*t.length,Y=window.innerHeight}else G=W/o*t.length,Y=window.innerHeight;else G=W/o*t.length,Y=450;c({width:G,height:Y})};V(),window.addEventListener("resize",V);let $;return e&&s.current&&($=new ResizeObserver(V),$.observe(document.documentElement)),()=>{window.removeEventListener("resize",V),$&&$.disconnect()}},[e,t.length,o,n]);const v=m.useMemo(()=>_.filter(V=>V&&V.isoDate&&!V.ignored&&V.displayTemperature!==null&&V.displayTemperature!==void 0),[_]),E=m.useMemo(()=>_.filter(V=>V&&V.isoDate),[_]),{baselineTemp:x,baselineStartIndex:y}=m.useMemo(()=>{const V=$=>$&&$.displayTemperature!=null&&!$.ignored;for(let $=0;$<_.length;$++){const W=_[$];if(!V(W))continue;const G=[];for(let Y=$-1;Y>=0&&G.length<6;Y--){const oe=_[Y];V(oe)&&G.unshift({index:Y,temp:oe.displayTemperature})}if(!(G.length<6)&&G.every(Y=>Y.temp<W.displayTemperature)){const Y=Math.max(...G.map(fe=>fe.temp)),oe=G.find(fe=>fe.temp===Y).index;return{baselineTemp:Y,baselineStartIndex:oe}}}return{baselineTemp:null,baselineStartIndex:null}},[_]),{tempMin:b,tempMax:I}=m.useMemo(()=>{const V=v.map(G=>G.displayTemperature).filter(G=>G!=null);if(V.length===0)return{tempMin:yC,tempMax:wC};let $=Math.min(...V,yC),W=Math.max(...V,wC);if($=Math.floor($*2)/2,W=Math.ceil(W*2)/2,W-$<2){const G=($+W)/2;$=G-1,W=G+1}return{tempMin:$,tempMax:W}},[v]),N=I-b,O=l.width,S=l.height,C=9,P=(V=1)=>{if(!e)return C*V;const $=Math.min(O,S);return Math.max(8,Math.min(C*V,$/(E.length>0?40/V:40)))},A=P(e?1.5:1.8),D=A*5,k={top:e?Math.max(20,S*.05):20,right:e?Math.max(30,O*.05):50,bottom:(e?Math.max(60,S*.2):60)+D,left:e?Math.max(30,O*.05):50},B=V=>{if(V==null||N===0)return S-k.bottom;const $=S-k.top-k.bottom;return $<=0?S-k.bottom:S-k.bottom-(V-b)/N*$},q=V=>{const $=e?10:20,W=e?25:0,G=O-k.left-k.right-$-W*(E.length-1);if(G<=0)return k.left+$+W*V;const Y=E.length>1?E.length-1:1;return Y===0||E.length===0?k.left+$+W*V:k.left+$+V*(G/(E.length===1?1:Y))+W*V},K=(V,$,W)=>{if(!V||String(V.id).startsWith("placeholder-")){F();return}const G=s.current.getBoundingClientRect();let Y,oe;if(W.type.startsWith("touch")){const J=W.changedTouches[0];Y=J.clientX,oe=J.clientY}else Y=W.clientX,oe=W.clientY;const fe=q($),Ee=B(V.displayTemperature);g({svgX:fe,svgY:Ee,clientX:Y-G.left+s.current.scrollLeft,clientY:oe-G.top+s.current.scrollTop}),f(V)};m.useEffect(()=>{const V=$=>{var W;if(a.current&&!a.current.contains($.target)){const G=(W=s.current)==null?void 0:W.querySelectorAll("circle, text, rect");let Y=!1;if(G){for(let oe of G)if(oe.contains($.target)){Y=!0;break}}Y||f(null)}};return u&&(document.addEventListener("mousedown",V),document.addEventListener("touchstart",V)),()=>{document.removeEventListener("mousedown",V),document.removeEventListener("touchstart",V)}},[u]);const F=()=>{f(null)};return{chartRef:s,tooltipRef:a,dimensions:l,activePoint:u,tooltipPosition:h,processedData:_,validDataForLine:v,allDataPoints:E,tempMin:b,tempMax:I,tempRange:N,padding:k,textRowHeight:A,setActivePoint:f,getY:B,getX:q,handlePointInteraction:K,clearActivePoint:F,handleToggleIgnore:V=>{r&&V&&(r(i,V),f(null))},responsiveFontSize:P,baselineTemp:x,baselineStartIndex:y}},lN=({data:t,isFullScreen:e,orientation:n,onToggleIgnore:r,onEdit:i,cycleId:o,initialScrollIndex:s=0,visibleDays:a=5,showInterpretation:l=!1})=>{const{chartRef:c,tooltipRef:u,dimensions:f,activePoint:h,tooltipPosition:g,allDataPoints:_,validDataForLine:v,tempMin:E,tempMax:x,tempRange:y,padding:b,textRowHeight:I,getY:N,getX:O,handlePointInteraction:S,handleToggleIgnore:C,responsiveFontSize:P,clearActivePoint:A,setActivePoint:M,baselineTemp:D,baselineStartIndex:k}=eK(t,e,n,r,o,a);if(!_||_.length===0)return p.jsxs("div",{className:"text-center p-8",children:[p.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-gradient-to-br from-pink-100 to-rose-100 rounded-full mb-4",children:p.jsx("svg",{className:"w-8 h-8 text-pink-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})})}),p.jsx("p",{className:"text-slate-400 font-medium",children:"No hay datos para mostrar en el grfico"})]});const B=f.width,q=f.height,K=D!=null?N(D):null,F=D!=null?O(k):null,L={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.6,ease:"easeOut",staggerChildren:.1}}},V={hidden:{opacity:0,scale:.95},visible:{opacity:1,scale:1,transition:{duration:.5,ease:"easeOut"}}};return m.useEffect(()=>{if(e||!c.current)return;const $=c.current.clientWidth/a;c.current.scrollLeft=Math.max(0,$*s)},[e,s,a,f.width,n]),p.jsxs(be.div,{className:"relative",variants:L,initial:"hidden",animate:"visible",children:[(!e||n==="portrait")&&p.jsx("div",{className:"absolute left-0 top-0 h-full bg-transparent pointer-events-none z-10",style:{width:b.left},children:p.jsx(ZY,{padding:b,chartHeight:q,tempMin:E,tempMax:x,tempRange:y,getY:N,responsiveFontSize:P,textRowHeight:I,isFullScreen:e})}),p.jsxs(be.div,{ref:c,className:`relative p-0 rounded-2xl ${e?"w-full h-full bg-gradient-to-br from-white via-pink-50/30 to-rose-50/20 flex items-center justify-start overflow-x-auto overflow-y-hidden":"bg-gradient-to-br from-white via-pink-50/30 to-rose-50/20 overflow-x-auto overflow-y-hidden border border-pink-100/50"}`,style:{boxShadow:e?"inset 0 1px 3px rgba(244, 114, 182, 0.1)":"0 8px 32px rgba(244, 114, 182, 0.12), 0 2px 8px rgba(244, 114, 182, 0.08)"},variants:V,children:[p.jsxs(be.svg,{width:B,height:q,className:"font-sans flex-shrink-0",viewBox:`0 0 ${B} ${q}`,preserveAspectRatio:"xMidYMid meet",children:[p.jsxs("defs",{children:[p.jsxs("linearGradient",{id:"tempLineGradientChart",x1:"0%",y1:"0%",x2:"100%",y2:"0%",children:[p.jsx("stop",{offset:"0%",stopColor:"#F472B6"}),p.jsx("stop",{offset:"50%",stopColor:"#EC4899"}),p.jsx("stop",{offset:"100%",stopColor:"#E91E63"})]}),p.jsxs("linearGradient",{id:"tempAreaGradientChart",x1:"0%",y1:"0%",x2:"0%",y2:"100%",children:[p.jsx("stop",{offset:"0%",stopColor:"rgba(244,114,182,0.25)"}),p.jsx("stop",{offset:"50%",stopColor:"rgba(236,72,153,0.15)"}),p.jsx("stop",{offset:"100%",stopColor:"rgba(233,30,99,0.05)"})]}),p.jsxs("pattern",{id:"spotting-pattern-chart",patternUnits:"userSpaceOnUse",width:"8",height:"8",children:[p.jsx("circle",{cx:"2",cy:"2",r:"1.5",fill:"rgba(239,68,68,0.8)"}),p.jsx("circle",{cx:"6",cy:"6",r:"1.5",fill:"rgba(239,68,68,0.6)"})]}),p.jsxs("filter",{id:"chartShadow",x:"-50%",y:"-50%",width:"200%",height:"200%",children:[p.jsx("feGaussianBlur",{stdDeviation:"2",result:"coloredBlur"}),p.jsxs("feMerge",{children:[p.jsx("feMergeNode",{in:"coloredBlur"}),p.jsx("feMergeNode",{in:"SourceGraphic"})]})]}),p.jsxs("filter",{id:"baselineGlow",x:"-50%",y:"-50%",width:"200%",height:"200%",children:[p.jsx("feGaussianBlur",{stdDeviation:"1.5",result:"coloredBlur"}),p.jsxs("feMerge",{children:[p.jsx("feMergeNode",{in:"coloredBlur"}),p.jsx("feMergeNode",{in:"SourceGraphic"})]})]})]}),p.jsx("rect",{width:"100%",height:"100%",fill:"transparent"}),p.jsx(wH,{padding:b,chartWidth:B,chartHeight:q,tempMin:E,tempMax:x,tempRange:y,getY:N,getX:O,allDataPoints:_,responsiveFontSize:P,isFullScreen:e,showLeftLabels:e&&n==="landscape"}),p.jsx(_H,{data:v,allDataPoints:_,getX:O,getY:N,baselineY:q-b.bottom,temperatureField:"displayTemperature"}),l&&D!=null&&p.jsx(be.line,{x1:F,y1:K,x2:B-b.right,y2:K,stroke:"#F59E0B",strokeWidth:3,strokeDasharray:"6 4",style:{filter:"url(#baselineGlow)"},initial:{opacity:0,pathLength:0},animate:{opacity:1,pathLength:1},transition:{duration:1,ease:"easeInOut"}}),p.jsx(fY,{data:_,getX:O,getY:N,isFullScreen:e,orientation:n,responsiveFontSize:P,onPointInteraction:S,clearActivePoint:A,activePoint:h,padding:b,chartHeight:q,chartWidth:B,temperatureField:"displayTemperature",textRowHeight:I})]}),h&&p.jsx(be.div,{ref:u,initial:{opacity:0,scale:.9,y:10},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.9,y:10},transition:{duration:.2,ease:"easeOut"},children:p.jsx(KY,{point:h,position:g,chartWidth:B,chartHeight:q,onToggleIgnore:C,onEdit:i,onClose:A})})]})]})},yf=we.forwardRef(({className:t,...e},n)=>p.jsx("textarea",{className:De("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:n,...e}));yf.displayName="Textarea";function tK(t,e){const n=m.createContext(e),r=o=>{const{children:s,...a}=o,l=m.useMemo(()=>a,Object.values(a));return p.jsx(n.Provider,{value:l,children:s})};r.displayName=t+"Provider";function i(o){const s=m.useContext(n);if(s)return s;if(e!==void 0)return e;throw new Error(`\`${o}\` must be used within \`${t}\``)}return[r,i]}function Ms(t,e=[]){let n=[];function r(o,s){const a=m.createContext(s),l=n.length;n=[...n,s];const c=f=>{var x;const{scope:h,children:g,..._}=f,v=((x=h==null?void 0:h[t])==null?void 0:x[l])||a,E=m.useMemo(()=>_,Object.values(_));return p.jsx(v.Provider,{value:E,children:g})};c.displayName=o+"Provider";function u(f,h){var v;const g=((v=h==null?void 0:h[t])==null?void 0:v[l])||a,_=m.useContext(g);if(_)return _;if(s!==void 0)return s;throw new Error(`\`${f}\` must be used within \`${o}\``)}return[c,u]}const i=()=>{const o=n.map(s=>m.createContext(s));return function(a){const l=(a==null?void 0:a[t])||o;return m.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return i.scopeName=t,[r,nK(i,...e)]}function nK(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(o){const s=r.reduce((a,{useScope:l,scopeName:c})=>{const f=l(o)[`__scope${c}`];return{...a,...f}},{});return m.useMemo(()=>({[`__scope${e.scopeName}`]:s}),[s])}};return n.scopeName=e.scopeName,n}function Ue(t,e,{checkForDefaultPrevented:n=!0}={}){return function(i){if(t==null||t(i),n===!1||!i.defaultPrevented)return e==null?void 0:e(i)}}var Br=globalThis!=null&&globalThis.document?m.useLayoutEffect:()=>{},rK=Lh[" useInsertionEffect ".trim().toString()]||Br;function Ip({prop:t,defaultProp:e,onChange:n=()=>{},caller:r}){const[i,o,s]=iK({defaultProp:e,onChange:n}),a=t!==void 0,l=a?t:i;{const u=m.useRef(t!==void 0);m.useEffect(()=>{const f=u.current;f!==a&&console.warn(`${r} is changing from ${f?"controlled":"uncontrolled"} to ${a?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),u.current=a},[a,r])}const c=m.useCallback(u=>{var f;if(a){const h=oK(u)?u(t):u;h!==t&&((f=s.current)==null||f.call(s,h))}else o(u)},[a,t,o,s]);return[l,c]}function iK({defaultProp:t,onChange:e}){const[n,r]=m.useState(t),i=m.useRef(n),o=m.useRef(e);return rK(()=>{o.current=e},[e]),m.useEffect(()=>{var s;i.current!==n&&((s=o.current)==null||s.call(o,n),i.current=n)},[n,i]),[n,r,o]}function oK(t){return typeof t=="function"}function sK(t){const e=m.useRef({value:t,previous:t});return m.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}function cN(t){const[e,n]=m.useState(void 0);return Br(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const o=i[0];let s,a;if("borderBoxSize"in o){const l=o.borderBoxSize,c=Array.isArray(l)?l[0]:l;s=c.inlineSize,a=c.blockSize}else s=t.offsetWidth,a=t.offsetHeight;n({width:s,height:a})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}function aK(t,e){return m.useReducer((n,r)=>e[n][r]??n,t)}var Xn=t=>{const{present:e,children:n}=t,r=lK(e),i=typeof n=="function"?n({present:r.isPresent}):m.Children.only(n),o=lt(r.ref,cK(i));return typeof n=="function"||r.isPresent?m.cloneElement(i,{ref:o}):null};Xn.displayName="Presence";function lK(t){const[e,n]=m.useState(),r=m.useRef(null),i=m.useRef(t),o=m.useRef("none"),s=t?"mounted":"unmounted",[a,l]=aK(s,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return m.useEffect(()=>{const c=Vd(r.current);o.current=a==="mounted"?c:"none"},[a]),Br(()=>{const c=r.current,u=i.current;if(u!==t){const h=o.current,g=Vd(c);t?l("MOUNT"):g==="none"||(c==null?void 0:c.display)==="none"?l("UNMOUNT"):l(u&&h!==g?"ANIMATION_OUT":"UNMOUNT"),i.current=t}},[t,l]),Br(()=>{if(e){let c;const u=e.ownerDocument.defaultView??window,f=g=>{const v=Vd(r.current).includes(g.animationName);if(g.target===e&&v&&(l("ANIMATION_END"),!i.current)){const E=e.style.animationFillMode;e.style.animationFillMode="forwards",c=u.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=E)})}},h=g=>{g.target===e&&(o.current=Vd(r.current))};return e.addEventListener("animationstart",h),e.addEventListener("animationcancel",f),e.addEventListener("animationend",f),()=>{u.clearTimeout(c),e.removeEventListener("animationstart",h),e.removeEventListener("animationcancel",f),e.removeEventListener("animationend",f)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:m.useCallback(c=>{r.current=c?getComputedStyle(c):null,n(c)},[])}}function Vd(t){return(t==null?void 0:t.animationName)||"none"}function cK(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var Ap="Checkbox",[uK,Sne]=Ms(Ap),[dK,x1]=uK(Ap);function fK(t){const{__scopeCheckbox:e,checked:n,children:r,defaultChecked:i,disabled:o,form:s,name:a,onCheckedChange:l,required:c,value:u="on",internal_do_not_use_render:f}=t,[h,g]=Ip({prop:n,defaultProp:i??!1,onChange:l,caller:Ap}),[_,v]=m.useState(null),[E,x]=m.useState(null),y=m.useRef(!1),b=_?!!s||!!_.closest("form"):!0,I={checked:h,disabled:o,setChecked:g,control:_,setControl:v,name:a,form:s,value:u,hasConsumerStoppedPropagationRef:y,required:c,defaultChecked:yo(i)?!1:i,isFormControl:b,bubbleInput:E,setBubbleInput:x};return p.jsx(dK,{scope:e,...I,children:hK(f)?f(I):r})}var uN="CheckboxTrigger",dN=m.forwardRef(({__scopeCheckbox:t,onKeyDown:e,onClick:n,...r},i)=>{const{control:o,value:s,disabled:a,checked:l,required:c,setControl:u,setChecked:f,hasConsumerStoppedPropagationRef:h,isFormControl:g,bubbleInput:_}=x1(uN,t),v=lt(i,u),E=m.useRef(l);return m.useEffect(()=>{const x=o==null?void 0:o.form;if(x){const y=()=>f(E.current);return x.addEventListener("reset",y),()=>x.removeEventListener("reset",y)}},[o,f]),p.jsx(ze.button,{type:"button",role:"checkbox","aria-checked":yo(l)?"mixed":l,"aria-required":c,"data-state":gN(l),"data-disabled":a?"":void 0,disabled:a,value:s,...r,ref:v,onKeyDown:Ue(e,x=>{x.key==="Enter"&&x.preventDefault()}),onClick:Ue(n,x=>{f(y=>yo(y)?!0:!y),_&&g&&(h.current=x.isPropagationStopped(),h.current||x.stopPropagation())})})});dN.displayName=uN;var E1=m.forwardRef((t,e)=>{const{__scopeCheckbox:n,name:r,checked:i,defaultChecked:o,required:s,disabled:a,value:l,onCheckedChange:c,form:u,...f}=t;return p.jsx(fK,{__scopeCheckbox:n,checked:i,defaultChecked:o,disabled:a,required:s,onCheckedChange:c,name:r,form:u,value:l,internal_do_not_use_render:({isFormControl:h})=>p.jsxs(p.Fragment,{children:[p.jsx(dN,{...f,ref:e,__scopeCheckbox:n}),h&&p.jsx(mN,{__scopeCheckbox:n})]})})});E1.displayName=Ap;var fN="CheckboxIndicator",hN=m.forwardRef((t,e)=>{const{__scopeCheckbox:n,forceMount:r,...i}=t,o=x1(fN,n);return p.jsx(Xn,{present:r||yo(o.checked)||o.checked===!0,children:p.jsx(ze.span,{"data-state":gN(o.checked),"data-disabled":o.disabled?"":void 0,...i,ref:e,style:{pointerEvents:"none",...t.style}})})});hN.displayName=fN;var pN="CheckboxBubbleInput",mN=m.forwardRef(({__scopeCheckbox:t,...e},n)=>{const{control:r,hasConsumerStoppedPropagationRef:i,checked:o,defaultChecked:s,required:a,disabled:l,name:c,value:u,form:f,bubbleInput:h,setBubbleInput:g}=x1(pN,t),_=lt(n,g),v=sK(o),E=cN(r);m.useEffect(()=>{const y=h;if(!y)return;const b=window.HTMLInputElement.prototype,N=Object.getOwnPropertyDescriptor(b,"checked").set,O=!i.current;if(v!==o&&N){const S=new Event("click",{bubbles:O});y.indeterminate=yo(o),N.call(y,yo(o)?!1:o),y.dispatchEvent(S)}},[h,v,o,i]);const x=m.useRef(yo(o)?!1:o);return p.jsx(ze.input,{type:"checkbox","aria-hidden":!0,defaultChecked:s??x.current,required:a,disabled:l,name:c,value:u,form:f,...e,tabIndex:-1,ref:_,style:{...e.style,...E,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});mN.displayName=pN;function hK(t){return typeof t=="function"}function yo(t){return t==="indeterminate"}function gN(t){return yo(t)?"indeterminate":t?"checked":"unchecked"}const vN=we.forwardRef(({className:t,...e},n)=>p.jsx(E1,{ref:n,className:De("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",t),...e,children:p.jsx(hN,{className:De("flex items-center justify-center text-current"),children:p.jsx(Eh,{className:"h-4 w-4"})})}));vN.displayName=E1.displayName;var ye=function(){return ye=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},ye.apply(this,arguments)};function pK(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function yN(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,o;r<i;r++)(o||!(r in e))&&(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return t.concat(o||Array.prototype.slice.call(e))}function ju(t){return t.mode==="multiple"}function Fu(t){return t.mode==="range"}function Rp(t){return t.mode==="single"}var mK={root:"rdp",multiple_months:"rdp-multiple_months",with_weeknumber:"rdp-with_weeknumber",vhidden:"rdp-vhidden",button_reset:"rdp-button_reset",button:"rdp-button",caption:"rdp-caption",caption_start:"rdp-caption_start",caption_end:"rdp-caption_end",caption_between:"rdp-caption_between",caption_label:"rdp-caption_label",caption_dropdowns:"rdp-caption_dropdowns",dropdown:"rdp-dropdown",dropdown_month:"rdp-dropdown_month",dropdown_year:"rdp-dropdown_year",dropdown_icon:"rdp-dropdown_icon",months:"rdp-months",month:"rdp-month",table:"rdp-table",tbody:"rdp-tbody",tfoot:"rdp-tfoot",head:"rdp-head",head_row:"rdp-head_row",head_cell:"rdp-head_cell",nav:"rdp-nav",nav_button:"rdp-nav_button",nav_button_previous:"rdp-nav_button_previous",nav_button_next:"rdp-nav_button_next",nav_icon:"rdp-nav_icon",row:"rdp-row",weeknumber:"rdp-weeknumber",cell:"rdp-cell",day:"rdp-day",day_today:"rdp-day_today",day_outside:"rdp-day_outside",day_selected:"rdp-day_selected",day_disabled:"rdp-day_disabled",day_hidden:"rdp-day_hidden",day_range_start:"rdp-day_range_start",day_range_end:"rdp-day_range_end",day_range_middle:"rdp-day_range_middle"};function gK(t,e){return ce(t,"LLLL y",e)}function vK(t,e){return ce(t,"d",e)}function yK(t,e){return ce(t,"LLLL",e)}function wK(t){return"".concat(t)}function _K(t,e){return ce(t,"cccccc",e)}function xK(t,e){return ce(t,"yyyy",e)}var EK=Object.freeze({__proto__:null,formatCaption:gK,formatDay:vK,formatMonthCaption:yK,formatWeekNumber:wK,formatWeekdayName:_K,formatYearCaption:xK}),bK=function(t,e,n){return ce(t,"do MMMM (EEEE)",n)},TK=function(){return"Month: "},CK=function(){return"Go to next month"},SK=function(){return"Go to previous month"},PK=function(t,e){return ce(t,"cccc",e)},IK=function(t){return"Week n. ".concat(t)},AK=function(){return"Year: "},RK=Object.freeze({__proto__:null,labelDay:bK,labelMonthDropdown:TK,labelNext:CK,labelPrevious:SK,labelWeekNumber:IK,labelWeekday:PK,labelYearDropdown:AK});function kK(){var t="buttons",e=mK,n=g1,r={},i={},o=1,s={},a=new Date;return{captionLayout:t,classNames:e,formatters:EK,labels:RK,locale:n,modifiersClassNames:r,modifiers:i,numberOfMonths:o,styles:s,today:a,mode:"default"}}function NK(t){var e=t.fromYear,n=t.toYear,r=t.fromMonth,i=t.toMonth,o=t.fromDate,s=t.toDate;return r?o=Cn(r):e&&(o=new Date(e,0,1)),i?s=h1(i):n&&(s=new Date(n,11,31)),{fromDate:o?Te(o):void 0,toDate:s?Te(s):void 0}}var wN=m.createContext(void 0);function DK(t){var e,n=t.initialProps,r=kK(),i=NK(n),o=i.fromDate,s=i.toDate,a=(e=n.captionLayout)!==null&&e!==void 0?e:r.captionLayout;a!=="buttons"&&(!o||!s)&&(a="buttons");var l;(Rp(n)||ju(n)||Fu(n))&&(l=n.onSelect);var c=ye(ye(ye({},r),n),{captionLayout:a,classNames:ye(ye({},r.classNames),n.classNames),components:ye({},n.components),formatters:ye(ye({},r.formatters),n.formatters),fromDate:o,labels:ye(ye({},r.labels),n.labels),mode:n.mode||r.mode,modifiers:ye(ye({},r.modifiers),n.modifiers),modifiersClassNames:ye(ye({},r.modifiersClassNames),n.modifiersClassNames),onSelect:l,styles:ye(ye({},r.styles),n.styles),toDate:s});return p.jsx(wN.Provider,{value:c,children:t.children})}function et(){var t=m.useContext(wN);if(!t)throw new Error("useDayPicker must be used within a DayPickerProvider.");return t}function _N(t){var e=et(),n=e.locale,r=e.classNames,i=e.styles,o=e.formatters.formatCaption;return p.jsx("div",{className:r.caption_label,style:i.caption_label,"aria-live":"polite",role:"presentation",id:t.id,children:o(t.displayMonth,{locale:n})})}function MK(t){return p.jsx("svg",ye({width:"8px",height:"8px",viewBox:"0 0 120 120","data-testid":"iconDropdown"},t,{children:p.jsx("path",{d:"M4.22182541,48.2218254 C8.44222828,44.0014225 15.2388494,43.9273804 19.5496459,47.9996989 L19.7781746,48.2218254 L60,88.443 L100.221825,48.2218254 C104.442228,44.0014225 111.238849,43.9273804 115.549646,47.9996989 L115.778175,48.2218254 C119.998577,52.4422283 120.07262,59.2388494 116.000301,63.5496459 L115.778175,63.7781746 L67.7781746,111.778175 C63.5577717,115.998577 56.7611506,116.07262 52.4503541,112.000301 L52.2218254,111.778175 L4.22182541,63.7781746 C-0.0739418023,59.4824074 -0.0739418023,52.5175926 4.22182541,48.2218254 Z",fill:"currentColor",fillRule:"nonzero"})}))}function xN(t){var e,n,r=t.onChange,i=t.value,o=t.children,s=t.caption,a=t.className,l=t.style,c=et(),u=(n=(e=c.components)===null||e===void 0?void 0:e.IconDropdown)!==null&&n!==void 0?n:MK;return p.jsxs("div",{className:a,style:l,children:[p.jsx("span",{className:c.classNames.vhidden,children:t["aria-label"]}),p.jsx("select",{name:t.name,"aria-label":t["aria-label"],className:c.classNames.dropdown,style:c.styles.dropdown,value:i,onChange:r,children:o}),p.jsxs("div",{className:c.classNames.caption_label,style:c.styles.caption_label,"aria-hidden":"true",children:[s,p.jsx(u,{className:c.classNames.dropdown_icon,style:c.styles.dropdown_icon})]})]})}function OK(t){var e,n=et(),r=n.fromDate,i=n.toDate,o=n.styles,s=n.locale,a=n.formatters.formatMonthCaption,l=n.classNames,c=n.components,u=n.labels.labelMonthDropdown;if(!r)return p.jsx(p.Fragment,{});if(!i)return p.jsx(p.Fragment,{});var f=[];if(qG(r,i))for(var h=Cn(r),g=r.getMonth();g<=i.getMonth();g++)f.push(xg(h,g));else for(var h=Cn(new Date),g=0;g<=11;g++)f.push(xg(h,g));var _=function(E){var x=Number(E.target.value),y=xg(Cn(t.displayMonth),x);t.onChange(y)},v=(e=c==null?void 0:c.Dropdown)!==null&&e!==void 0?e:xN;return p.jsx(v,{name:"months","aria-label":u(),className:l.dropdown_month,style:o.dropdown_month,onChange:_,value:t.displayMonth.getMonth(),caption:a(t.displayMonth,{locale:s}),children:f.map(function(E){return p.jsx("option",{value:E.getMonth(),children:a(E,{locale:s})},E.getMonth())})})}function LK(t){var e,n=t.displayMonth,r=et(),i=r.fromDate,o=r.toDate,s=r.locale,a=r.styles,l=r.classNames,c=r.components,u=r.formatters.formatYearCaption,f=r.labels.labelYearDropdown,h=[];if(!i)return p.jsx(p.Fragment,{});if(!o)return p.jsx(p.Fragment,{});for(var g=i.getFullYear(),_=o.getFullYear(),v=g;v<=_;v++)h.push(pC(MH(new Date),v));var E=function(y){var b=pC(Cn(n),Number(y.target.value));t.onChange(b)},x=(e=c==null?void 0:c.Dropdown)!==null&&e!==void 0?e:xN;return p.jsx(x,{name:"years","aria-label":f(),className:l.dropdown_year,style:a.dropdown_year,onChange:E,value:n.getFullYear(),caption:u(n,{locale:s}),children:h.map(function(y){return p.jsx("option",{value:y.getFullYear(),children:u(y,{locale:s})},y.getFullYear())})})}function VK(t,e){var n=m.useState(t),r=n[0],i=n[1],o=e===void 0?r:e;return[o,i]}function jK(t){var e=t.month,n=t.defaultMonth,r=t.today,i=e||n||r||new Date,o=t.toDate,s=t.fromDate,a=t.numberOfMonths,l=a===void 0?1:a;if(o&&cu(o,i)<0){var c=-1*(l-1);i=pr(o,c)}return s&&cu(i,s)<0&&(i=s),Cn(i)}function FK(){var t=et(),e=jK(t),n=VK(e,t.month),r=n[0],i=n[1],o=function(s){var a;if(!t.disableNavigation){var l=Cn(s);i(l),(a=t.onMonthChange)===null||a===void 0||a.call(t,l)}};return[r,o]}function $K(t,e){for(var n=e.reverseMonths,r=e.numberOfMonths,i=Cn(t),o=Cn(pr(i,r)),s=cu(o,i),a=[],l=0;l<s;l++){var c=pr(i,l);a.push(c)}return n&&(a=a.reverse()),a}function UK(t,e){if(!e.disableNavigation){var n=e.toDate,r=e.pagedNavigation,i=e.numberOfMonths,o=i===void 0?1:i,s=r?o:1,a=Cn(t);if(!n)return pr(a,s);var l=cu(n,t);if(!(l<o))return pr(a,s)}}function BK(t,e){if(!e.disableNavigation){var n=e.fromDate,r=e.pagedNavigation,i=e.numberOfMonths,o=i===void 0?1:i,s=r?o:1,a=Cn(t);if(!n)return pr(a,-s);var l=cu(a,n);if(!(l<=0))return pr(a,-s)}}var EN=m.createContext(void 0);function WK(t){var e=et(),n=FK(),r=n[0],i=n[1],o=$K(r,e),s=UK(r,e),a=BK(r,e),l=function(f){return o.some(function(h){return w1(f,h)})},c=function(f,h){l(f)||(h&&Z2(f,h)?i(pr(f,1+e.numberOfMonths*-1)):i(f))},u={currentMonth:r,displayMonths:o,goToMonth:i,goToDate:c,previousMonth:a,nextMonth:s,isDateDisplayed:l};return p.jsx(EN.Provider,{value:u,children:t.children})}function $u(){var t=m.useContext(EN);if(!t)throw new Error("useNavigation must be used within a NavigationProvider");return t}function _C(t){var e,n=et(),r=n.classNames,i=n.styles,o=n.components,s=$u().goToMonth,a=function(u){s(pr(u,t.displayIndex?-t.displayIndex:0))},l=(e=o==null?void 0:o.CaptionLabel)!==null&&e!==void 0?e:_N,c=p.jsx(l,{id:t.id,displayMonth:t.displayMonth});return p.jsxs("div",{className:r.caption_dropdowns,style:i.caption_dropdowns,children:[p.jsx("div",{className:r.vhidden,children:c}),p.jsx(OK,{onChange:a,displayMonth:t.displayMonth}),p.jsx(LK,{onChange:a,displayMonth:t.displayMonth})]})}function zK(t){return p.jsx("svg",ye({width:"16px",height:"16px",viewBox:"0 0 120 120"},t,{children:p.jsx("path",{d:"M69.490332,3.34314575 C72.6145263,0.218951416 77.6798462,0.218951416 80.8040405,3.34314575 C83.8617626,6.40086786 83.9268205,11.3179931 80.9992143,14.4548388 L80.8040405,14.6568542 L35.461,60 L80.8040405,105.343146 C83.8617626,108.400868 83.9268205,113.317993 80.9992143,116.454839 L80.8040405,116.656854 C77.7463184,119.714576 72.8291931,119.779634 69.6923475,116.852028 L69.490332,116.656854 L18.490332,65.6568542 C15.4326099,62.5991321 15.367552,57.6820069 18.2951583,54.5451612 L18.490332,54.3431458 L69.490332,3.34314575 Z",fill:"currentColor",fillRule:"nonzero"})}))}function HK(t){return p.jsx("svg",ye({width:"16px",height:"16px",viewBox:"0 0 120 120"},t,{children:p.jsx("path",{d:"M49.8040405,3.34314575 C46.6798462,0.218951416 41.6145263,0.218951416 38.490332,3.34314575 C35.4326099,6.40086786 35.367552,11.3179931 38.2951583,14.4548388 L38.490332,14.6568542 L83.8333725,60 L38.490332,105.343146 C35.4326099,108.400868 35.367552,113.317993 38.2951583,116.454839 L38.490332,116.656854 C41.5480541,119.714576 46.4651794,119.779634 49.602025,116.852028 L49.8040405,116.656854 L100.804041,65.6568542 C103.861763,62.5991321 103.926821,57.6820069 100.999214,54.5451612 L100.804041,54.3431458 L49.8040405,3.34314575 Z",fill:"currentColor"})}))}var Ph=m.forwardRef(function(t,e){var n=et(),r=n.classNames,i=n.styles,o=[r.button_reset,r.button];t.className&&o.push(t.className);var s=o.join(" "),a=ye(ye({},i.button_reset),i.button);return t.style&&Object.assign(a,t.style),p.jsx("button",ye({},t,{ref:e,type:"button",className:s,style:a}))});function qK(t){var e,n,r=et(),i=r.dir,o=r.locale,s=r.classNames,a=r.styles,l=r.labels,c=l.labelPrevious,u=l.labelNext,f=r.components;if(!t.nextMonth&&!t.previousMonth)return p.jsx(p.Fragment,{});var h=c(t.previousMonth,{locale:o}),g=[s.nav_button,s.nav_button_previous].join(" "),_=u(t.nextMonth,{locale:o}),v=[s.nav_button,s.nav_button_next].join(" "),E=(e=f==null?void 0:f.IconRight)!==null&&e!==void 0?e:HK,x=(n=f==null?void 0:f.IconLeft)!==null&&n!==void 0?n:zK;return p.jsxs("div",{className:s.nav,style:a.nav,children:[!t.hidePrevious&&p.jsx(Ph,{name:"previous-month","aria-label":h,className:g,style:a.nav_button_previous,disabled:!t.previousMonth,onClick:t.onPreviousClick,children:i==="rtl"?p.jsx(E,{className:s.nav_icon,style:a.nav_icon}):p.jsx(x,{className:s.nav_icon,style:a.nav_icon})}),!t.hideNext&&p.jsx(Ph,{name:"next-month","aria-label":_,className:v,style:a.nav_button_next,disabled:!t.nextMonth,onClick:t.onNextClick,children:i==="rtl"?p.jsx(x,{className:s.nav_icon,style:a.nav_icon}):p.jsx(E,{className:s.nav_icon,style:a.nav_icon})})]})}function xC(t){var e=et().numberOfMonths,n=$u(),r=n.previousMonth,i=n.nextMonth,o=n.goToMonth,s=n.displayMonths,a=s.findIndex(function(_){return w1(t.displayMonth,_)}),l=a===0,c=a===s.length-1,u=e>1&&(l||!c),f=e>1&&(c||!l),h=function(){r&&o(r)},g=function(){i&&o(i)};return p.jsx(qK,{displayMonth:t.displayMonth,hideNext:u,hidePrevious:f,nextMonth:i,previousMonth:r,onPreviousClick:h,onNextClick:g})}function GK(t){var e,n=et(),r=n.classNames,i=n.disableNavigation,o=n.styles,s=n.captionLayout,a=n.components,l=(e=a==null?void 0:a.CaptionLabel)!==null&&e!==void 0?e:_N,c;return i?c=p.jsx(l,{id:t.id,displayMonth:t.displayMonth}):s==="dropdown"?c=p.jsx(_C,{displayMonth:t.displayMonth,id:t.id}):s==="dropdown-buttons"?c=p.jsxs(p.Fragment,{children:[p.jsx(_C,{displayMonth:t.displayMonth,displayIndex:t.displayIndex,id:t.id}),p.jsx(xC,{displayMonth:t.displayMonth,displayIndex:t.displayIndex,id:t.id})]}):c=p.jsxs(p.Fragment,{children:[p.jsx(l,{id:t.id,displayMonth:t.displayMonth,displayIndex:t.displayIndex}),p.jsx(xC,{displayMonth:t.displayMonth,id:t.id})]}),p.jsx("div",{className:r.caption,style:o.caption,children:c})}function YK(t){var e=et(),n=e.footer,r=e.styles,i=e.classNames.tfoot;return n?p.jsx("tfoot",{className:i,style:r.tfoot,children:p.jsx("tr",{children:p.jsx("td",{colSpan:8,children:n})})}):p.jsx(p.Fragment,{})}function KK(t,e,n){for(var r=n?xs(new Date):Ur(new Date,{locale:t,weekStartsOn:e}),i=[],o=0;o<7;o++){var s=Lt(r,o);i.push(s)}return i}function QK(){var t=et(),e=t.classNames,n=t.styles,r=t.showWeekNumber,i=t.locale,o=t.weekStartsOn,s=t.ISOWeek,a=t.formatters.formatWeekdayName,l=t.labels.labelWeekday,c=KK(i,o,s);return p.jsxs("tr",{style:n.head_row,className:e.head_row,children:[r&&p.jsx("td",{style:n.head_cell,className:e.head_cell}),c.map(function(u,f){return p.jsx("th",{scope:"col",className:e.head_cell,style:n.head_cell,"aria-label":l(u,{locale:i}),children:a(u,{locale:i})},f)})]})}function XK(){var t,e=et(),n=e.classNames,r=e.styles,i=e.components,o=(t=i==null?void 0:i.HeadRow)!==null&&t!==void 0?t:QK;return p.jsx("thead",{style:r.head,className:n.head,children:p.jsx(o,{})})}function JK(t){var e=et(),n=e.locale,r=e.formatters.formatDay;return p.jsx(p.Fragment,{children:r(t.date,{locale:n})})}var b1=m.createContext(void 0);function ZK(t){if(!ju(t.initialProps)){var e={selected:void 0,modifiers:{disabled:[]}};return p.jsx(b1.Provider,{value:e,children:t.children})}return p.jsx(eQ,{initialProps:t.initialProps,children:t.children})}function eQ(t){var e=t.initialProps,n=t.children,r=e.selected,i=e.min,o=e.max,s=function(c,u,f){var h,g;(h=e.onDayClick)===null||h===void 0||h.call(e,c,u,f);var _=!!(u.selected&&i&&(r==null?void 0:r.length)===i);if(!_){var v=!!(!u.selected&&o&&(r==null?void 0:r.length)===o);if(!v){var E=r?yN([],r,!0):[];if(u.selected){var x=E.findIndex(function(y){return xn(c,y)});E.splice(x,1)}else E.push(c);(g=e.onSelect)===null||g===void 0||g.call(e,E,c,u,f)}}},a={disabled:[]};r&&a.disabled.push(function(c){var u=o&&r.length>o-1,f=r.some(function(h){return xn(h,c)});return!!(u&&!f)});var l={selected:r,onDayClick:s,modifiers:a};return p.jsx(b1.Provider,{value:l,children:n})}function T1(){var t=m.useContext(b1);if(!t)throw new Error("useSelectMultiple must be used within a SelectMultipleProvider");return t}function tQ(t,e){var n=e||{},r=n.from,i=n.to;return r&&i?xn(i,t)&&xn(r,t)?void 0:xn(i,t)?{from:i,to:void 0}:xn(r,t)?void 0:Th(r,t)?{from:t,to:i}:{from:r,to:t}:i?Th(t,i)?{from:i,to:t}:{from:t,to:i}:r?Z2(t,r)?{from:t,to:r}:{from:r,to:t}:{from:t,to:void 0}}var C1=m.createContext(void 0);function nQ(t){if(!Fu(t.initialProps)){var e={selected:void 0,modifiers:{range_start:[],range_end:[],range_middle:[],disabled:[]}};return p.jsx(C1.Provider,{value:e,children:t.children})}return p.jsx(rQ,{initialProps:t.initialProps,children:t.children})}function rQ(t){var e=t.initialProps,n=t.children,r=e.selected,i=r||{},o=i.from,s=i.to,a=e.min,l=e.max,c=function(g,_,v){var E,x;(E=e.onDayClick)===null||E===void 0||E.call(e,g,_,v);var y=tQ(g,r);(x=e.onSelect)===null||x===void 0||x.call(e,y,g,_,v)},u={range_start:[],range_end:[],range_middle:[],disabled:[]};if(o?(u.range_start=[o],s?(u.range_end=[s],xn(o,s)||(u.range_middle=[{after:o,before:s}])):u.range_end=[o]):s&&(u.range_start=[s],u.range_end=[s]),a&&(o&&!s&&u.disabled.push({after:wg(o,a-1),before:Lt(o,a-1)}),o&&s&&u.disabled.push({after:o,before:Lt(o,a-1)}),!o&&s&&u.disabled.push({after:wg(s,a-1),before:Lt(s,a-1)})),l){if(o&&!s&&(u.disabled.push({before:Lt(o,-l+1)}),u.disabled.push({after:Lt(o,l-1)})),o&&s){var f=Ir(s,o)+1,h=l-f;u.disabled.push({before:wg(o,h)}),u.disabled.push({after:Lt(s,h)})}!o&&s&&(u.disabled.push({before:Lt(s,-l+1)}),u.disabled.push({after:Lt(s,l-1)}))}return p.jsx(C1.Provider,{value:{selected:r,onDayClick:c,modifiers:u},children:n})}function S1(){var t=m.useContext(C1);if(!t)throw new Error("useSelectRange must be used within a SelectRangeProvider");return t}function wf(t){return Array.isArray(t)?yN([],t,!0):t!==void 0?[t]:[]}function iQ(t){var e={};return Object.entries(t).forEach(function(n){var r=n[0],i=n[1];e[r]=wf(i)}),e}var mr;(function(t){t.Outside="outside",t.Disabled="disabled",t.Selected="selected",t.Hidden="hidden",t.Today="today",t.RangeStart="range_start",t.RangeEnd="range_end",t.RangeMiddle="range_middle"})(mr||(mr={}));var oQ=mr.Selected,Qr=mr.Disabled,sQ=mr.Hidden,aQ=mr.Today,Tg=mr.RangeEnd,Cg=mr.RangeMiddle,Sg=mr.RangeStart,lQ=mr.Outside;function cQ(t,e,n){var r,i=(r={},r[oQ]=wf(t.selected),r[Qr]=wf(t.disabled),r[sQ]=wf(t.hidden),r[aQ]=[t.today],r[Tg]=[],r[Cg]=[],r[Sg]=[],r[lQ]=[],r);return t.fromDate&&i[Qr].push({before:t.fromDate}),t.toDate&&i[Qr].push({after:t.toDate}),ju(t)?i[Qr]=i[Qr].concat(e.modifiers[Qr]):Fu(t)&&(i[Qr]=i[Qr].concat(n.modifiers[Qr]),i[Sg]=n.modifiers[Sg],i[Cg]=n.modifiers[Cg],i[Tg]=n.modifiers[Tg]),i}var bN=m.createContext(void 0);function uQ(t){var e=et(),n=T1(),r=S1(),i=cQ(e,n,r),o=iQ(e.modifiers),s=ye(ye({},i),o);return p.jsx(bN.Provider,{value:s,children:t.children})}function TN(){var t=m.useContext(bN);if(!t)throw new Error("useModifiers must be used within a ModifiersProvider");return t}function dQ(t){return!!(t&&typeof t=="object"&&"before"in t&&"after"in t)}function fQ(t){return!!(t&&typeof t=="object"&&"from"in t)}function hQ(t){return!!(t&&typeof t=="object"&&"after"in t)}function pQ(t){return!!(t&&typeof t=="object"&&"before"in t)}function mQ(t){return!!(t&&typeof t=="object"&&"dayOfWeek"in t)}function gQ(t,e){var n,r=e.from,i=e.to;if(r&&i){var o=Ir(i,r)<0;o&&(n=[i,r],r=n[0],i=n[1]);var s=Ir(t,r)>=0&&Ir(i,t)>=0;return s}return i?xn(i,t):r?xn(r,t):!1}function vQ(t){return f1(t)}function yQ(t){return Array.isArray(t)&&t.every(f1)}function wQ(t,e){return e.some(function(n){if(typeof n=="boolean")return n;if(vQ(n))return xn(t,n);if(yQ(n))return n.includes(t);if(fQ(n))return gQ(t,n);if(mQ(n))return n.dayOfWeek.includes(t.getDay());if(dQ(n)){var r=Ir(n.before,t),i=Ir(n.after,t),o=r>0,s=i<0,a=Th(n.before,n.after);return a?s&&o:o||s}return hQ(n)?Ir(t,n.after)>0:pQ(n)?Ir(n.before,t)>0:typeof n=="function"?n(t):!1})}function P1(t,e,n){var r=Object.keys(e).reduce(function(o,s){var a=e[s];return wQ(t,a)&&o.push(s),o},[]),i={};return r.forEach(function(o){return i[o]=!0}),n&&!w1(t,n)&&(i.outside=!0),i}function _Q(t,e){for(var n=Cn(t[0]),r=h1(t[t.length-1]),i,o,s=n;s<=r;){var a=P1(s,e),l=!a.disabled&&!a.hidden;if(!l){s=Lt(s,1);continue}if(a.selected)return s;a.today&&!o&&(o=s),i||(i=s),s=Lt(s,1)}return o||i}var xQ=365;function CN(t,e){var n=e.moveBy,r=e.direction,i=e.context,o=e.modifiers,s=e.retry,a=s===void 0?{count:0,lastFocused:t}:s,l=i.weekStartsOn,c=i.fromDate,u=i.toDate,f=i.locale,h={day:Lt,week:Dy,month:pr,year:SH,startOfWeek:function(E){return i.ISOWeek?xs(E):Ur(E,{locale:f,weekStartsOn:l})},endOfWeek:function(E){return i.ISOWeek?z2(E):p1(E,{locale:f,weekStartsOn:l})}},g=h[n](t,r==="after"?1:-1);r==="before"&&c?g=PH([c,g]):r==="after"&&u&&(g=IH([u,g]));var _=!0;if(o){var v=P1(g,o);_=!v.disabled&&!v.hidden}return _?g:a.count>xQ?a.lastFocused:CN(g,{moveBy:n,direction:r,context:i,modifiers:o,retry:ye(ye({},a),{count:a.count+1})})}var SN=m.createContext(void 0);function EQ(t){var e=$u(),n=TN(),r=m.useState(),i=r[0],o=r[1],s=m.useState(),a=s[0],l=s[1],c=_Q(e.displayMonths,n),u=i??(a&&e.isDateDisplayed(a))?a:c,f=function(){l(i),o(void 0)},h=function(E){o(E)},g=et(),_=function(E,x){if(i){var y=CN(i,{moveBy:E,direction:x,context:g,modifiers:n});xn(i,y)||(e.goToDate(y,i),h(y))}},v={focusedDay:i,focusTarget:u,blur:f,focus:h,focusDayAfter:function(){return _("day","after")},focusDayBefore:function(){return _("day","before")},focusWeekAfter:function(){return _("week","after")},focusWeekBefore:function(){return _("week","before")},focusMonthBefore:function(){return _("month","before")},focusMonthAfter:function(){return _("month","after")},focusYearBefore:function(){return _("year","before")},focusYearAfter:function(){return _("year","after")},focusStartOfWeek:function(){return _("startOfWeek","before")},focusEndOfWeek:function(){return _("endOfWeek","after")}};return p.jsx(SN.Provider,{value:v,children:t.children})}function I1(){var t=m.useContext(SN);if(!t)throw new Error("useFocusContext must be used within a FocusProvider");return t}function bQ(t,e){var n=TN(),r=P1(t,n,e);return r}var A1=m.createContext(void 0);function TQ(t){if(!Rp(t.initialProps)){var e={selected:void 0};return p.jsx(A1.Provider,{value:e,children:t.children})}return p.jsx(CQ,{initialProps:t.initialProps,children:t.children})}function CQ(t){var e=t.initialProps,n=t.children,r=function(o,s,a){var l,c,u;if((l=e.onDayClick)===null||l===void 0||l.call(e,o,s,a),s.selected&&!e.required){(c=e.onSelect)===null||c===void 0||c.call(e,void 0,o,s,a);return}(u=e.onSelect)===null||u===void 0||u.call(e,o,o,s,a)},i={selected:e.selected,onDayClick:r};return p.jsx(A1.Provider,{value:i,children:n})}function PN(){var t=m.useContext(A1);if(!t)throw new Error("useSelectSingle must be used within a SelectSingleProvider");return t}function SQ(t,e){var n=et(),r=PN(),i=T1(),o=S1(),s=I1(),a=s.focusDayAfter,l=s.focusDayBefore,c=s.focusWeekAfter,u=s.focusWeekBefore,f=s.blur,h=s.focus,g=s.focusMonthBefore,_=s.focusMonthAfter,v=s.focusYearBefore,E=s.focusYearAfter,x=s.focusStartOfWeek,y=s.focusEndOfWeek,b=function(F){var L,V,$,W;Rp(n)?(L=r.onDayClick)===null||L===void 0||L.call(r,t,e,F):ju(n)?(V=i.onDayClick)===null||V===void 0||V.call(i,t,e,F):Fu(n)?($=o.onDayClick)===null||$===void 0||$.call(o,t,e,F):(W=n.onDayClick)===null||W===void 0||W.call(n,t,e,F)},I=function(F){var L;h(t),(L=n.onDayFocus)===null||L===void 0||L.call(n,t,e,F)},N=function(F){var L;f(),(L=n.onDayBlur)===null||L===void 0||L.call(n,t,e,F)},O=function(F){var L;(L=n.onDayMouseEnter)===null||L===void 0||L.call(n,t,e,F)},S=function(F){var L;(L=n.onDayMouseLeave)===null||L===void 0||L.call(n,t,e,F)},C=function(F){var L;(L=n.onDayPointerEnter)===null||L===void 0||L.call(n,t,e,F)},P=function(F){var L;(L=n.onDayPointerLeave)===null||L===void 0||L.call(n,t,e,F)},A=function(F){var L;(L=n.onDayTouchCancel)===null||L===void 0||L.call(n,t,e,F)},M=function(F){var L;(L=n.onDayTouchEnd)===null||L===void 0||L.call(n,t,e,F)},D=function(F){var L;(L=n.onDayTouchMove)===null||L===void 0||L.call(n,t,e,F)},k=function(F){var L;(L=n.onDayTouchStart)===null||L===void 0||L.call(n,t,e,F)},B=function(F){var L;(L=n.onDayKeyUp)===null||L===void 0||L.call(n,t,e,F)},q=function(F){var L;switch(F.key){case"ArrowLeft":F.preventDefault(),F.stopPropagation(),n.dir==="rtl"?a():l();break;case"ArrowRight":F.preventDefault(),F.stopPropagation(),n.dir==="rtl"?l():a();break;case"ArrowDown":F.preventDefault(),F.stopPropagation(),c();break;case"ArrowUp":F.preventDefault(),F.stopPropagation(),u();break;case"PageUp":F.preventDefault(),F.stopPropagation(),F.shiftKey?v():g();break;case"PageDown":F.preventDefault(),F.stopPropagation(),F.shiftKey?E():_();break;case"Home":F.preventDefault(),F.stopPropagation(),x();break;case"End":F.preventDefault(),F.stopPropagation(),y();break}(L=n.onDayKeyDown)===null||L===void 0||L.call(n,t,e,F)},K={onClick:b,onFocus:I,onBlur:N,onKeyDown:q,onKeyUp:B,onMouseEnter:O,onMouseLeave:S,onPointerEnter:C,onPointerLeave:P,onTouchCancel:A,onTouchEnd:M,onTouchMove:D,onTouchStart:k};return K}function PQ(){var t=et(),e=PN(),n=T1(),r=S1(),i=Rp(t)?e.selected:ju(t)?n.selected:Fu(t)?r.selected:void 0;return i}function IQ(t){return Object.values(mr).includes(t)}function AQ(t,e){var n=[t.classNames.day];return Object.keys(e).forEach(function(r){var i=t.modifiersClassNames[r];if(i)n.push(i);else if(IQ(r)){var o=t.classNames["day_".concat(r)];o&&n.push(o)}}),n}function RQ(t,e){var n=ye({},t.styles.day);return Object.keys(e).forEach(function(r){var i;n=ye(ye({},n),(i=t.modifiersStyles)===null||i===void 0?void 0:i[r])}),n}function kQ(t,e,n){var r,i,o,s=et(),a=I1(),l=bQ(t,e),c=SQ(t,l),u=PQ(),f=!!(s.onDayClick||s.mode!=="default");m.useEffect(function(){var O;l.outside||a.focusedDay&&f&&xn(a.focusedDay,t)&&((O=n.current)===null||O===void 0||O.focus())},[a.focusedDay,t,n,f,l.outside]);var h=AQ(s,l).join(" "),g=RQ(s,l),_=!!(l.outside&&!s.showOutsideDays||l.hidden),v=(o=(i=s.components)===null||i===void 0?void 0:i.DayContent)!==null&&o!==void 0?o:JK,E=p.jsx(v,{date:t,displayMonth:e,activeModifiers:l}),x={style:g,className:h,children:E,role:"gridcell"},y=a.focusTarget&&xn(a.focusTarget,t)&&!l.outside,b=a.focusedDay&&xn(a.focusedDay,t),I=ye(ye(ye({},x),(r={disabled:l.disabled,role:"gridcell"},r["aria-selected"]=l.selected,r.tabIndex=b||y?0:-1,r)),c),N={isButton:f,isHidden:_,activeModifiers:l,selectedDays:u,buttonProps:I,divProps:x};return N}function NQ(t){var e=m.useRef(null),n=kQ(t.date,t.displayMonth,e);return n.isHidden?p.jsx("div",{role:"gridcell"}):n.isButton?p.jsx(Ph,ye({name:"day",ref:e},n.buttonProps)):p.jsx("div",ye({},n.divProps))}function DQ(t){var e=t.number,n=t.dates,r=et(),i=r.onWeekNumberClick,o=r.styles,s=r.classNames,a=r.locale,l=r.labels.labelWeekNumber,c=r.formatters.formatWeekNumber,u=c(Number(e),{locale:a});if(!i)return p.jsx("span",{className:s.weeknumber,style:o.weeknumber,children:u});var f=l(Number(e),{locale:a}),h=function(g){i(e,n,g)};return p.jsx(Ph,{name:"week-number","aria-label":f,className:s.weeknumber,style:o.weeknumber,onClick:h,children:u})}function MQ(t){var e,n,r=et(),i=r.styles,o=r.classNames,s=r.showWeekNumber,a=r.components,l=(e=a==null?void 0:a.Day)!==null&&e!==void 0?e:NQ,c=(n=a==null?void 0:a.WeekNumber)!==null&&n!==void 0?n:DQ,u;return s&&(u=p.jsx("td",{className:o.cell,style:i.cell,children:p.jsx(c,{number:t.weekNumber,dates:t.dates})})),p.jsxs("tr",{className:o.row,style:i.row,children:[u,t.dates.map(function(f){return p.jsx("td",{className:o.cell,style:i.cell,role:"presentation",children:p.jsx(l,{displayMonth:t.displayMonth,date:f})},Bq(f))})]})}function EC(t,e,n){for(var r=n!=null&&n.ISOWeek?z2(e):p1(e,n),i=n!=null&&n.ISOWeek?xs(t):Ur(t,n),o=Ir(r,i),s=[],a=0;a<=o;a++)s.push(Lt(i,a));var l=s.reduce(function(c,u){var f=n!=null&&n.ISOWeek?$q(u):qq(u,n),h=c.find(function(g){return g.weekNumber===f});return h?(h.dates.push(u),c):(c.push({weekNumber:f,dates:[u]}),c)},[]);return l}function OQ(t,e){var n=EC(Cn(t),h1(t),e);if(e!=null&&e.useFixedWeeks){var r=Yq(t,e);if(r<6){var i=n[n.length-1],o=i.dates[i.dates.length-1],s=Dy(o,6-r),a=EC(Dy(o,1),s,e);n.push.apply(n,a)}}return n}function LQ(t){var e,n,r,i=et(),o=i.locale,s=i.classNames,a=i.styles,l=i.hideHead,c=i.fixedWeeks,u=i.components,f=i.weekStartsOn,h=i.firstWeekContainsDate,g=i.ISOWeek,_=OQ(t.displayMonth,{useFixedWeeks:!!c,ISOWeek:g,locale:o,weekStartsOn:f,firstWeekContainsDate:h}),v=(e=u==null?void 0:u.Head)!==null&&e!==void 0?e:XK,E=(n=u==null?void 0:u.Row)!==null&&n!==void 0?n:MQ,x=(r=u==null?void 0:u.Footer)!==null&&r!==void 0?r:YK;return p.jsxs("table",{id:t.id,className:s.table,style:a.table,role:"grid","aria-labelledby":t["aria-labelledby"],children:[!l&&p.jsx(v,{}),p.jsx("tbody",{className:s.tbody,style:a.tbody,children:_.map(function(y){return p.jsx(E,{displayMonth:t.displayMonth,dates:y.dates,weekNumber:y.weekNumber},y.weekNumber)})}),p.jsx(x,{displayMonth:t.displayMonth})]})}function VQ(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}var jQ=VQ()?m.useLayoutEffect:m.useEffect,Pg=!1,FQ=0;function bC(){return"react-day-picker-".concat(++FQ)}function $Q(t){var e,n=t??(Pg?bC():null),r=m.useState(n),i=r[0],o=r[1];return jQ(function(){i===null&&o(bC())},[]),m.useEffect(function(){Pg===!1&&(Pg=!0)},[]),(e=t??i)!==null&&e!==void 0?e:void 0}function UQ(t){var e,n,r=et(),i=r.dir,o=r.classNames,s=r.styles,a=r.components,l=$u().displayMonths,c=$Q(r.id?"".concat(r.id,"-").concat(t.displayIndex):void 0),u=r.id?"".concat(r.id,"-grid-").concat(t.displayIndex):void 0,f=[o.month],h=s.month,g=t.displayIndex===0,_=t.displayIndex===l.length-1,v=!g&&!_;i==="rtl"&&(e=[g,_],_=e[0],g=e[1]),g&&(f.push(o.caption_start),h=ye(ye({},h),s.caption_start)),_&&(f.push(o.caption_end),h=ye(ye({},h),s.caption_end)),v&&(f.push(o.caption_between),h=ye(ye({},h),s.caption_between));var E=(n=a==null?void 0:a.Caption)!==null&&n!==void 0?n:GK;return p.jsxs("div",{className:f.join(" "),style:h,children:[p.jsx(E,{id:c,displayMonth:t.displayMonth,displayIndex:t.displayIndex}),p.jsx(LQ,{id:u,"aria-labelledby":c,displayMonth:t.displayMonth})]},t.displayIndex)}function BQ(t){var e=et(),n=e.classNames,r=e.styles;return p.jsx("div",{className:n.months,style:r.months,children:t.children})}function WQ(t){var e,n,r=t.initialProps,i=et(),o=I1(),s=$u(),a=m.useState(!1),l=a[0],c=a[1];m.useEffect(function(){i.initialFocus&&o.focusTarget&&(l||(o.focus(o.focusTarget),c(!0)))},[i.initialFocus,l,o.focus,o.focusTarget,o]);var u=[i.classNames.root,i.className];i.numberOfMonths>1&&u.push(i.classNames.multiple_months),i.showWeekNumber&&u.push(i.classNames.with_weeknumber);var f=ye(ye({},i.styles.root),i.style),h=Object.keys(r).filter(function(_){return _.startsWith("data-")}).reduce(function(_,v){var E;return ye(ye({},_),(E={},E[v]=r[v],E))},{}),g=(n=(e=r.components)===null||e===void 0?void 0:e.Months)!==null&&n!==void 0?n:BQ;return p.jsx("div",ye({className:u.join(" "),style:f,dir:i.dir,id:i.id,nonce:r.nonce,title:r.title,lang:r.lang},h,{children:p.jsx(g,{children:s.displayMonths.map(function(_,v){return p.jsx(UQ,{displayIndex:v,displayMonth:_},v)})})}))}function zQ(t){var e=t.children,n=pK(t,["children"]);return p.jsx(DK,{initialProps:n,children:p.jsx(WK,{children:p.jsx(TQ,{initialProps:n,children:p.jsx(ZK,{initialProps:n,children:p.jsx(nQ,{initialProps:n,children:p.jsx(uQ,{children:p.jsx(EQ,{children:e})})})})})})})}function HQ(t){return p.jsx(zQ,ye({},t,{children:p.jsx(WQ,{initialProps:t})}))}function IN({className:t,classNames:e,showOutsideDays:n=!0,...r}){return p.jsx(HQ,{showOutsideDays:n,className:De("p-3",t),classNames:{months:"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0",month:"space-y-4",caption:"flex justify-center pt-1 relative items-center",caption_label:"text-sm font-medium",nav:"space-x-1 flex items-center",nav_button:De(vy({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-y-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:"h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20",day:De(vy({variant:"ghost"}),"h-9 w-9 p-0 font-normal aria-selected:opacity-100"),day_selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",day_today:"bg-accent text-accent-foreground",day_outside:"text-muted-foreground opacity-50",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible",...e},components:{IconLeft:({...i})=>p.jsx(Jz,{className:"h-4 w-4"}),IconRight:({...i})=>p.jsx(Zz,{className:"h-4 w-4"})},...r})}IN.displayName="Calendar";function Wt(t){const e=m.useRef(t);return m.useEffect(()=>{e.current=t}),m.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function qQ(t,e=globalThis==null?void 0:globalThis.document){const n=Wt(t);m.useEffect(()=>{const r=i=>{i.key==="Escape"&&n(i)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var GQ="DismissableLayer",Ly="dismissableLayer.update",YQ="dismissableLayer.pointerDownOutside",KQ="dismissableLayer.focusOutside",TC,AN=m.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),kp=m.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:o,onInteractOutside:s,onDismiss:a,...l}=t,c=m.useContext(AN),[u,f]=m.useState(null),h=(u==null?void 0:u.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,g]=m.useState({}),_=lt(e,S=>f(S)),v=Array.from(c.layers),[E]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),x=v.indexOf(E),y=u?v.indexOf(u):-1,b=c.layersWithOutsidePointerEventsDisabled.size>0,I=y>=x,N=XQ(S=>{const C=S.target,P=[...c.branches].some(A=>A.contains(C));!I||P||(i==null||i(S),s==null||s(S),S.defaultPrevented||a==null||a())},h),O=JQ(S=>{const C=S.target;[...c.branches].some(A=>A.contains(C))||(o==null||o(S),s==null||s(S),S.defaultPrevented||a==null||a())},h);return qQ(S=>{y===c.layers.size-1&&(r==null||r(S),!S.defaultPrevented&&a&&(S.preventDefault(),a()))},h),m.useEffect(()=>{if(u)return n&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(TC=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(u)),c.layers.add(u),CC(),()=>{n&&c.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=TC)}},[u,h,n,c]),m.useEffect(()=>()=>{u&&(c.layers.delete(u),c.layersWithOutsidePointerEventsDisabled.delete(u),CC())},[u,c]),m.useEffect(()=>{const S=()=>g({});return document.addEventListener(Ly,S),()=>document.removeEventListener(Ly,S)},[]),p.jsx(ze.div,{...l,ref:_,style:{pointerEvents:b?I?"auto":"none":void 0,...t.style},onFocusCapture:Ue(t.onFocusCapture,O.onFocusCapture),onBlurCapture:Ue(t.onBlurCapture,O.onBlurCapture),onPointerDownCapture:Ue(t.onPointerDownCapture,N.onPointerDownCapture)})});kp.displayName=GQ;var QQ="DismissableLayerBranch",RN=m.forwardRef((t,e)=>{const n=m.useContext(AN),r=m.useRef(null),i=lt(e,r);return m.useEffect(()=>{const o=r.current;if(o)return n.branches.add(o),()=>{n.branches.delete(o)}},[n.branches]),p.jsx(ze.div,{...t,ref:i})});RN.displayName=QQ;function XQ(t,e=globalThis==null?void 0:globalThis.document){const n=Wt(t),r=m.useRef(!1),i=m.useRef(()=>{});return m.useEffect(()=>{const o=a=>{if(a.target&&!r.current){let l=function(){kN(YQ,n,c,{discrete:!0})};const c={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=l,e.addEventListener("click",i.current,{once:!0})):l()}else e.removeEventListener("click",i.current);r.current=!1},s=window.setTimeout(()=>{e.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(s),e.removeEventListener("pointerdown",o),e.removeEventListener("click",i.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function JQ(t,e=globalThis==null?void 0:globalThis.document){const n=Wt(t),r=m.useRef(!1);return m.useEffect(()=>{const i=o=>{o.target&&!r.current&&kN(KQ,n,{originalEvent:o},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function CC(){const t=new CustomEvent(Ly);document.dispatchEvent(t)}function kN(t,e,n,{discrete:r}){const i=n.originalEvent.target,o=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&i.addEventListener(t,e,{once:!0}),r?vk(i,o):i.dispatchEvent(o)}var ZQ=kp,eX=RN,Ig=0;function NN(){m.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??SC()),document.body.insertAdjacentElement("beforeend",t[1]??SC()),Ig++,()=>{Ig===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),Ig--}},[])}function SC(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var Ag="focusScope.autoFocusOnMount",Rg="focusScope.autoFocusOnUnmount",PC={bubbles:!1,cancelable:!0},tX="FocusScope",R1=m.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:i,onUnmountAutoFocus:o,...s}=t,[a,l]=m.useState(null),c=Wt(i),u=Wt(o),f=m.useRef(null),h=lt(e,v=>l(v)),g=m.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;m.useEffect(()=>{if(r){let v=function(b){if(g.paused||!a)return;const I=b.target;a.contains(I)?f.current=I:Vi(f.current,{select:!0})},E=function(b){if(g.paused||!a)return;const I=b.relatedTarget;I!==null&&(a.contains(I)||Vi(f.current,{select:!0}))},x=function(b){if(document.activeElement===document.body)for(const N of b)N.removedNodes.length>0&&Vi(a)};document.addEventListener("focusin",v),document.addEventListener("focusout",E);const y=new MutationObserver(x);return a&&y.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",v),document.removeEventListener("focusout",E),y.disconnect()}}},[r,a,g.paused]),m.useEffect(()=>{if(a){AC.add(g);const v=document.activeElement;if(!a.contains(v)){const x=new CustomEvent(Ag,PC);a.addEventListener(Ag,c),a.dispatchEvent(x),x.defaultPrevented||(nX(aX(DN(a)),{select:!0}),document.activeElement===v&&Vi(a))}return()=>{a.removeEventListener(Ag,c),setTimeout(()=>{const x=new CustomEvent(Rg,PC);a.addEventListener(Rg,u),a.dispatchEvent(x),x.defaultPrevented||Vi(v??document.body,{select:!0}),a.removeEventListener(Rg,u),AC.remove(g)},0)}}},[a,c,u,g]);const _=m.useCallback(v=>{if(!n&&!r||g.paused)return;const E=v.key==="Tab"&&!v.altKey&&!v.ctrlKey&&!v.metaKey,x=document.activeElement;if(E&&x){const y=v.currentTarget,[b,I]=rX(y);b&&I?!v.shiftKey&&x===I?(v.preventDefault(),n&&Vi(b,{select:!0})):v.shiftKey&&x===b&&(v.preventDefault(),n&&Vi(I,{select:!0})):x===y&&v.preventDefault()}},[n,r,g.paused]);return p.jsx(ze.div,{tabIndex:-1,...s,ref:h,onKeyDown:_})});R1.displayName=tX;function nX(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(Vi(r,{select:e}),document.activeElement!==n)return}function rX(t){const e=DN(t),n=IC(e,t),r=IC(e.reverse(),t);return[n,r]}function DN(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function IC(t,e){for(const n of t)if(!iX(n,{upTo:e}))return n}function iX(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function oX(t){return t instanceof HTMLInputElement&&"select"in t}function Vi(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&oX(t)&&e&&t.select()}}var AC=sX();function sX(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=RC(t,e),t.unshift(e)},remove(e){var n;t=RC(t,e),(n=t[0])==null||n.resume()}}}function RC(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function aX(t){return t.filter(e=>e.tagName!=="A")}var lX=Lh[" useId ".trim().toString()]||(()=>{}),cX=0;function _f(t){const[e,n]=m.useState(lX());return Br(()=>{t||n(r=>r??String(cX++))},[t]),t||(e?`radix-${e}`:"")}const uX=["top","right","bottom","left"],Ao=Math.min,kn=Math.max,Ih=Math.round,jd=Math.floor,Fr=t=>({x:t,y:t}),dX={left:"right",right:"left",bottom:"top",top:"bottom"},fX={start:"end",end:"start"};function Vy(t,e,n){return kn(t,Ao(e,n))}function xi(t,e){return typeof t=="function"?t(e):t}function Ei(t){return t.split("-")[0]}function yl(t){return t.split("-")[1]}function k1(t){return t==="x"?"y":"x"}function N1(t){return t==="y"?"height":"width"}function ui(t){return["top","bottom"].includes(Ei(t))?"y":"x"}function D1(t){return k1(ui(t))}function hX(t,e,n){n===void 0&&(n=!1);const r=yl(t),i=D1(t),o=N1(i);let s=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[o]>e.floating[o]&&(s=Ah(s)),[s,Ah(s)]}function pX(t){const e=Ah(t);return[jy(t),e,jy(e)]}function jy(t){return t.replace(/start|end/g,e=>fX[e])}function mX(t,e,n){const r=["left","right"],i=["right","left"],o=["top","bottom"],s=["bottom","top"];switch(t){case"top":case"bottom":return n?e?i:r:e?r:i;case"left":case"right":return e?o:s;default:return[]}}function gX(t,e,n,r){const i=yl(t);let o=mX(Ei(t),n==="start",r);return i&&(o=o.map(s=>s+"-"+i),e&&(o=o.concat(o.map(jy)))),o}function Ah(t){return t.replace(/left|right|bottom|top/g,e=>dX[e])}function vX(t){return{top:0,right:0,bottom:0,left:0,...t}}function MN(t){return typeof t!="number"?vX(t):{top:t,right:t,bottom:t,left:t}}function Rh(t){const{x:e,y:n,width:r,height:i}=t;return{width:r,height:i,top:n,left:e,right:e+r,bottom:n+i,x:e,y:n}}function kC(t,e,n){let{reference:r,floating:i}=t;const o=ui(e),s=D1(e),a=N1(s),l=Ei(e),c=o==="y",u=r.x+r.width/2-i.width/2,f=r.y+r.height/2-i.height/2,h=r[a]/2-i[a]/2;let g;switch(l){case"top":g={x:u,y:r.y-i.height};break;case"bottom":g={x:u,y:r.y+r.height};break;case"right":g={x:r.x+r.width,y:f};break;case"left":g={x:r.x-i.width,y:f};break;default:g={x:r.x,y:r.y}}switch(yl(e)){case"start":g[s]-=h*(n&&c?-1:1);break;case"end":g[s]+=h*(n&&c?-1:1);break}return g}const yX=async(t,e,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:o=[],platform:s}=n,a=o.filter(Boolean),l=await(s.isRTL==null?void 0:s.isRTL(e));let c=await s.getElementRects({reference:t,floating:e,strategy:i}),{x:u,y:f}=kC(c,r,l),h=r,g={},_=0;for(let v=0;v<a.length;v++){const{name:E,fn:x}=a[v],{x:y,y:b,data:I,reset:N}=await x({x:u,y:f,initialPlacement:r,placement:h,strategy:i,middlewareData:g,rects:c,platform:s,elements:{reference:t,floating:e}});u=y??u,f=b??f,g={...g,[E]:{...g[E],...I}},N&&_<=50&&(_++,typeof N=="object"&&(N.placement&&(h=N.placement),N.rects&&(c=N.rects===!0?await s.getElementRects({reference:t,floating:e,strategy:i}):N.rects),{x:u,y:f}=kC(c,h,l)),v=-1)}return{x:u,y:f,placement:h,strategy:i,middlewareData:g}};async function uu(t,e){var n;e===void 0&&(e={});const{x:r,y:i,platform:o,rects:s,elements:a,strategy:l}=t,{boundary:c="clippingAncestors",rootBoundary:u="viewport",elementContext:f="floating",altBoundary:h=!1,padding:g=0}=xi(e,t),_=MN(g),E=a[h?f==="floating"?"reference":"floating":f],x=Rh(await o.getClippingRect({element:(n=await(o.isElement==null?void 0:o.isElement(E)))==null||n?E:E.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(a.floating)),boundary:c,rootBoundary:u,strategy:l})),y=f==="floating"?{x:r,y:i,width:s.floating.width,height:s.floating.height}:s.reference,b=await(o.getOffsetParent==null?void 0:o.getOffsetParent(a.floating)),I=await(o.isElement==null?void 0:o.isElement(b))?await(o.getScale==null?void 0:o.getScale(b))||{x:1,y:1}:{x:1,y:1},N=Rh(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:y,offsetParent:b,strategy:l}):y);return{top:(x.top-N.top+_.top)/I.y,bottom:(N.bottom-x.bottom+_.bottom)/I.y,left:(x.left-N.left+_.left)/I.x,right:(N.right-x.right+_.right)/I.x}}const wX=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:i,rects:o,platform:s,elements:a,middlewareData:l}=e,{element:c,padding:u=0}=xi(t,e)||{};if(c==null)return{};const f=MN(u),h={x:n,y:r},g=D1(i),_=N1(g),v=await s.getDimensions(c),E=g==="y",x=E?"top":"left",y=E?"bottom":"right",b=E?"clientHeight":"clientWidth",I=o.reference[_]+o.reference[g]-h[g]-o.floating[_],N=h[g]-o.reference[g],O=await(s.getOffsetParent==null?void 0:s.getOffsetParent(c));let S=O?O[b]:0;(!S||!await(s.isElement==null?void 0:s.isElement(O)))&&(S=a.floating[b]||o.floating[_]);const C=I/2-N/2,P=S/2-v[_]/2-1,A=Ao(f[x],P),M=Ao(f[y],P),D=A,k=S-v[_]-M,B=S/2-v[_]/2+C,q=Vy(D,B,k),K=!l.arrow&&yl(i)!=null&&B!==q&&o.reference[_]/2-(B<D?A:M)-v[_]/2<0,F=K?B<D?B-D:B-k:0;return{[g]:h[g]+F,data:{[g]:q,centerOffset:B-q-F,...K&&{alignmentOffset:F}},reset:K}}}),_X=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:i,middlewareData:o,rects:s,initialPlacement:a,platform:l,elements:c}=e,{mainAxis:u=!0,crossAxis:f=!0,fallbackPlacements:h,fallbackStrategy:g="bestFit",fallbackAxisSideDirection:_="none",flipAlignment:v=!0,...E}=xi(t,e);if((n=o.arrow)!=null&&n.alignmentOffset)return{};const x=Ei(i),y=ui(a),b=Ei(a)===a,I=await(l.isRTL==null?void 0:l.isRTL(c.floating)),N=h||(b||!v?[Ah(a)]:pX(a)),O=_!=="none";!h&&O&&N.push(...gX(a,v,_,I));const S=[a,...N],C=await uu(e,E),P=[];let A=((r=o.flip)==null?void 0:r.overflows)||[];if(u&&P.push(C[x]),f){const q=hX(i,s,I);P.push(C[q[0]],C[q[1]])}if(A=[...A,{placement:i,overflows:P}],!P.every(q=>q<=0)){var M,D;const q=(((M=o.flip)==null?void 0:M.index)||0)+1,K=S[q];if(K){var k;const L=f==="alignment"?y!==ui(K):!1,V=((k=A[0])==null?void 0:k.overflows[0])>0;if(!L||V)return{data:{index:q,overflows:A},reset:{placement:K}}}let F=(D=A.filter(L=>L.overflows[0]<=0).sort((L,V)=>L.overflows[1]-V.overflows[1])[0])==null?void 0:D.placement;if(!F)switch(g){case"bestFit":{var B;const L=(B=A.filter(V=>{if(O){const $=ui(V.placement);return $===y||$==="y"}return!0}).map(V=>[V.placement,V.overflows.filter($=>$>0).reduce(($,W)=>$+W,0)]).sort((V,$)=>V[1]-$[1])[0])==null?void 0:B[0];L&&(F=L);break}case"initialPlacement":F=a;break}if(i!==F)return{reset:{placement:F}}}return{}}}};function NC(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function DC(t){return uX.some(e=>t[e]>=0)}const xX=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...i}=xi(t,e);switch(r){case"referenceHidden":{const o=await uu(e,{...i,elementContext:"reference"}),s=NC(o,n.reference);return{data:{referenceHiddenOffsets:s,referenceHidden:DC(s)}}}case"escaped":{const o=await uu(e,{...i,altBoundary:!0}),s=NC(o,n.floating);return{data:{escapedOffsets:s,escaped:DC(s)}}}default:return{}}}}};async function EX(t,e){const{placement:n,platform:r,elements:i}=t,o=await(r.isRTL==null?void 0:r.isRTL(i.floating)),s=Ei(n),a=yl(n),l=ui(n)==="y",c=["left","top"].includes(s)?-1:1,u=o&&l?-1:1,f=xi(e,t);let{mainAxis:h,crossAxis:g,alignmentAxis:_}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return a&&typeof _=="number"&&(g=a==="end"?_*-1:_),l?{x:g*u,y:h*c}:{x:h*c,y:g*u}}const bX=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:i,y:o,placement:s,middlewareData:a}=e,l=await EX(e,t);return s===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:i+l.x,y:o+l.y,data:{...l,placement:s}}}}},TX=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:i}=e,{mainAxis:o=!0,crossAxis:s=!1,limiter:a={fn:E=>{let{x,y}=E;return{x,y}}},...l}=xi(t,e),c={x:n,y:r},u=await uu(e,l),f=ui(Ei(i)),h=k1(f);let g=c[h],_=c[f];if(o){const E=h==="y"?"top":"left",x=h==="y"?"bottom":"right",y=g+u[E],b=g-u[x];g=Vy(y,g,b)}if(s){const E=f==="y"?"top":"left",x=f==="y"?"bottom":"right",y=_+u[E],b=_-u[x];_=Vy(y,_,b)}const v=a.fn({...e,[h]:g,[f]:_});return{...v,data:{x:v.x-n,y:v.y-r,enabled:{[h]:o,[f]:s}}}}}},CX=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:i,rects:o,middlewareData:s}=e,{offset:a=0,mainAxis:l=!0,crossAxis:c=!0}=xi(t,e),u={x:n,y:r},f=ui(i),h=k1(f);let g=u[h],_=u[f];const v=xi(a,e),E=typeof v=="number"?{mainAxis:v,crossAxis:0}:{mainAxis:0,crossAxis:0,...v};if(l){const b=h==="y"?"height":"width",I=o.reference[h]-o.floating[b]+E.mainAxis,N=o.reference[h]+o.reference[b]-E.mainAxis;g<I?g=I:g>N&&(g=N)}if(c){var x,y;const b=h==="y"?"width":"height",I=["top","left"].includes(Ei(i)),N=o.reference[f]-o.floating[b]+(I&&((x=s.offset)==null?void 0:x[f])||0)+(I?0:E.crossAxis),O=o.reference[f]+o.reference[b]+(I?0:((y=s.offset)==null?void 0:y[f])||0)-(I?E.crossAxis:0);_<N?_=N:_>O&&(_=O)}return{[h]:g,[f]:_}}}},SX=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:i,rects:o,platform:s,elements:a}=e,{apply:l=()=>{},...c}=xi(t,e),u=await uu(e,c),f=Ei(i),h=yl(i),g=ui(i)==="y",{width:_,height:v}=o.floating;let E,x;f==="top"||f==="bottom"?(E=f,x=h===(await(s.isRTL==null?void 0:s.isRTL(a.floating))?"start":"end")?"left":"right"):(x=f,E=h==="end"?"top":"bottom");const y=v-u.top-u.bottom,b=_-u.left-u.right,I=Ao(v-u[E],y),N=Ao(_-u[x],b),O=!e.middlewareData.shift;let S=I,C=N;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(C=b),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(S=y),O&&!h){const A=kn(u.left,0),M=kn(u.right,0),D=kn(u.top,0),k=kn(u.bottom,0);g?C=_-2*(A!==0||M!==0?A+M:kn(u.left,u.right)):S=v-2*(D!==0||k!==0?D+k:kn(u.top,u.bottom))}await l({...e,availableWidth:C,availableHeight:S});const P=await s.getDimensions(a.floating);return _!==P.width||v!==P.height?{reset:{rects:!0}}:{}}}};function Np(){return typeof window<"u"}function wl(t){return ON(t)?(t.nodeName||"").toLowerCase():"#document"}function On(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Hr(t){var e;return(e=(ON(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function ON(t){return Np()?t instanceof Node||t instanceof On(t).Node:!1}function gr(t){return Np()?t instanceof Element||t instanceof On(t).Element:!1}function Wr(t){return Np()?t instanceof HTMLElement||t instanceof On(t).HTMLElement:!1}function MC(t){return!Np()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof On(t).ShadowRoot}function Uu(t){const{overflow:e,overflowX:n,overflowY:r,display:i}=vr(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!["inline","contents"].includes(i)}function PX(t){return["table","td","th"].includes(wl(t))}function Dp(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function M1(t){const e=O1(),n=gr(t)?vr(t):t;return["transform","translate","scale","rotate","perspective"].some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function IX(t){let e=Ro(t);for(;Wr(e)&&!Qa(e);){if(M1(e))return e;if(Dp(e))return null;e=Ro(e)}return null}function O1(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Qa(t){return["html","body","#document"].includes(wl(t))}function vr(t){return On(t).getComputedStyle(t)}function Mp(t){return gr(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Ro(t){if(wl(t)==="html")return t;const e=t.assignedSlot||t.parentNode||MC(t)&&t.host||Hr(t);return MC(e)?e.host:e}function LN(t){const e=Ro(t);return Qa(e)?t.ownerDocument?t.ownerDocument.body:t.body:Wr(e)&&Uu(e)?e:LN(e)}function du(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const i=LN(t),o=i===((r=t.ownerDocument)==null?void 0:r.body),s=On(i);if(o){const a=Fy(s);return e.concat(s,s.visualViewport||[],Uu(i)?i:[],a&&n?du(a):[])}return e.concat(i,du(i,[],n))}function Fy(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function VN(t){const e=vr(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=Wr(t),o=i?t.offsetWidth:n,s=i?t.offsetHeight:r,a=Ih(n)!==o||Ih(r)!==s;return a&&(n=o,r=s),{width:n,height:r,$:a}}function L1(t){return gr(t)?t:t.contextElement}function Ia(t){const e=L1(t);if(!Wr(e))return Fr(1);const n=e.getBoundingClientRect(),{width:r,height:i,$:o}=VN(e);let s=(o?Ih(n.width):n.width)/r,a=(o?Ih(n.height):n.height)/i;return(!s||!Number.isFinite(s))&&(s=1),(!a||!Number.isFinite(a))&&(a=1),{x:s,y:a}}const AX=Fr(0);function jN(t){const e=On(t);return!O1()||!e.visualViewport?AX:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function RX(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==On(t)?!1:e}function bs(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const i=t.getBoundingClientRect(),o=L1(t);let s=Fr(1);e&&(r?gr(r)&&(s=Ia(r)):s=Ia(t));const a=RX(o,n,r)?jN(o):Fr(0);let l=(i.left+a.x)/s.x,c=(i.top+a.y)/s.y,u=i.width/s.x,f=i.height/s.y;if(o){const h=On(o),g=r&&gr(r)?On(r):r;let _=h,v=Fy(_);for(;v&&r&&g!==_;){const E=Ia(v),x=v.getBoundingClientRect(),y=vr(v),b=x.left+(v.clientLeft+parseFloat(y.paddingLeft))*E.x,I=x.top+(v.clientTop+parseFloat(y.paddingTop))*E.y;l*=E.x,c*=E.y,u*=E.x,f*=E.y,l+=b,c+=I,_=On(v),v=Fy(_)}}return Rh({width:u,height:f,x:l,y:c})}function V1(t,e){const n=Mp(t).scrollLeft;return e?e.left+n:bs(Hr(t)).left+n}function FN(t,e,n){n===void 0&&(n=!1);const r=t.getBoundingClientRect(),i=r.left+e.scrollLeft-(n?0:V1(t,r)),o=r.top+e.scrollTop;return{x:i,y:o}}function kX(t){let{elements:e,rect:n,offsetParent:r,strategy:i}=t;const o=i==="fixed",s=Hr(r),a=e?Dp(e.floating):!1;if(r===s||a&&o)return n;let l={scrollLeft:0,scrollTop:0},c=Fr(1);const u=Fr(0),f=Wr(r);if((f||!f&&!o)&&((wl(r)!=="body"||Uu(s))&&(l=Mp(r)),Wr(r))){const g=bs(r);c=Ia(r),u.x=g.x+r.clientLeft,u.y=g.y+r.clientTop}const h=s&&!f&&!o?FN(s,l,!0):Fr(0);return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-l.scrollLeft*c.x+u.x+h.x,y:n.y*c.y-l.scrollTop*c.y+u.y+h.y}}function NX(t){return Array.from(t.getClientRects())}function DX(t){const e=Hr(t),n=Mp(t),r=t.ownerDocument.body,i=kn(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),o=kn(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let s=-n.scrollLeft+V1(t);const a=-n.scrollTop;return vr(r).direction==="rtl"&&(s+=kn(e.clientWidth,r.clientWidth)-i),{width:i,height:o,x:s,y:a}}function MX(t,e){const n=On(t),r=Hr(t),i=n.visualViewport;let o=r.clientWidth,s=r.clientHeight,a=0,l=0;if(i){o=i.width,s=i.height;const c=O1();(!c||c&&e==="fixed")&&(a=i.offsetLeft,l=i.offsetTop)}return{width:o,height:s,x:a,y:l}}function OX(t,e){const n=bs(t,!0,e==="fixed"),r=n.top+t.clientTop,i=n.left+t.clientLeft,o=Wr(t)?Ia(t):Fr(1),s=t.clientWidth*o.x,a=t.clientHeight*o.y,l=i*o.x,c=r*o.y;return{width:s,height:a,x:l,y:c}}function OC(t,e,n){let r;if(e==="viewport")r=MX(t,n);else if(e==="document")r=DX(Hr(t));else if(gr(e))r=OX(e,n);else{const i=jN(t);r={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return Rh(r)}function $N(t,e){const n=Ro(t);return n===e||!gr(n)||Qa(n)?!1:vr(n).position==="fixed"||$N(n,e)}function LX(t,e){const n=e.get(t);if(n)return n;let r=du(t,[],!1).filter(a=>gr(a)&&wl(a)!=="body"),i=null;const o=vr(t).position==="fixed";let s=o?Ro(t):t;for(;gr(s)&&!Qa(s);){const a=vr(s),l=M1(s);!l&&a.position==="fixed"&&(i=null),(o?!l&&!i:!l&&a.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||Uu(s)&&!l&&$N(t,s))?r=r.filter(u=>u!==s):i=a,s=Ro(s)}return e.set(t,r),r}function VX(t){let{element:e,boundary:n,rootBoundary:r,strategy:i}=t;const s=[...n==="clippingAncestors"?Dp(e)?[]:LX(e,this._c):[].concat(n),r],a=s[0],l=s.reduce((c,u)=>{const f=OC(e,u,i);return c.top=kn(f.top,c.top),c.right=Ao(f.right,c.right),c.bottom=Ao(f.bottom,c.bottom),c.left=kn(f.left,c.left),c},OC(e,a,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function jX(t){const{width:e,height:n}=VN(t);return{width:e,height:n}}function FX(t,e,n){const r=Wr(e),i=Hr(e),o=n==="fixed",s=bs(t,!0,o,e);let a={scrollLeft:0,scrollTop:0};const l=Fr(0);function c(){l.x=V1(i)}if(r||!r&&!o)if((wl(e)!=="body"||Uu(i))&&(a=Mp(e)),r){const g=bs(e,!0,o,e);l.x=g.x+e.clientLeft,l.y=g.y+e.clientTop}else i&&c();o&&!r&&i&&c();const u=i&&!r&&!o?FN(i,a):Fr(0),f=s.left+a.scrollLeft-l.x-u.x,h=s.top+a.scrollTop-l.y-u.y;return{x:f,y:h,width:s.width,height:s.height}}function kg(t){return vr(t).position==="static"}function LC(t,e){if(!Wr(t)||vr(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return Hr(t)===n&&(n=n.ownerDocument.body),n}function UN(t,e){const n=On(t);if(Dp(t))return n;if(!Wr(t)){let i=Ro(t);for(;i&&!Qa(i);){if(gr(i)&&!kg(i))return i;i=Ro(i)}return n}let r=LC(t,e);for(;r&&PX(r)&&kg(r);)r=LC(r,e);return r&&Qa(r)&&kg(r)&&!M1(r)?n:r||IX(t)||n}const $X=async function(t){const e=this.getOffsetParent||UN,n=this.getDimensions,r=await n(t.floating);return{reference:FX(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function UX(t){return vr(t).direction==="rtl"}const BX={convertOffsetParentRelativeRectToViewportRelativeRect:kX,getDocumentElement:Hr,getClippingRect:VX,getOffsetParent:UN,getElementRects:$X,getClientRects:NX,getDimensions:jX,getScale:Ia,isElement:gr,isRTL:UX};function BN(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function WX(t,e){let n=null,r;const i=Hr(t);function o(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function s(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),o();const c=t.getBoundingClientRect(),{left:u,top:f,width:h,height:g}=c;if(a||e(),!h||!g)return;const _=jd(f),v=jd(i.clientWidth-(u+h)),E=jd(i.clientHeight-(f+g)),x=jd(u),b={rootMargin:-_+"px "+-v+"px "+-E+"px "+-x+"px",threshold:kn(0,Ao(1,l))||1};let I=!0;function N(O){const S=O[0].intersectionRatio;if(S!==l){if(!I)return s();S?s(!1,S):r=setTimeout(()=>{s(!1,1e-7)},1e3)}S===1&&!BN(c,t.getBoundingClientRect())&&s(),I=!1}try{n=new IntersectionObserver(N,{...b,root:i.ownerDocument})}catch{n=new IntersectionObserver(N,b)}n.observe(t)}return s(!0),o}function WN(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:o=!0,elementResize:s=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,c=L1(t),u=i||o?[...c?du(c):[],...du(e)]:[];u.forEach(x=>{i&&x.addEventListener("scroll",n,{passive:!0}),o&&x.addEventListener("resize",n)});const f=c&&a?WX(c,n):null;let h=-1,g=null;s&&(g=new ResizeObserver(x=>{let[y]=x;y&&y.target===c&&g&&(g.unobserve(e),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var b;(b=g)==null||b.observe(e)})),n()}),c&&!l&&g.observe(c),g.observe(e));let _,v=l?bs(t):null;l&&E();function E(){const x=bs(t);v&&!BN(v,x)&&n(),v=x,_=requestAnimationFrame(E)}return n(),()=>{var x;u.forEach(y=>{i&&y.removeEventListener("scroll",n),o&&y.removeEventListener("resize",n)}),f==null||f(),(x=g)==null||x.disconnect(),g=null,l&&cancelAnimationFrame(_)}}const zX=bX,HX=TX,qX=_X,GX=SX,YX=xX,VC=wX,KX=CX,QX=(t,e,n)=>{const r=new Map,i={platform:BX,...n},o={...i.platform,_c:r};return yX(t,e,{...i,platform:o})};var xf=typeof document<"u"?m.useLayoutEffect:m.useEffect;function kh(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,i;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!kh(t[r],e[r]))return!1;return!0}if(i=Object.keys(t),n=i.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,i[r]))return!1;for(r=n;r--!==0;){const o=i[r];if(!(o==="_owner"&&t.$$typeof)&&!kh(t[o],e[o]))return!1}return!0}return t!==t&&e!==e}function zN(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function jC(t,e){const n=zN(t);return Math.round(e*n)/n}function Ng(t){const e=m.useRef(t);return xf(()=>{e.current=t}),e}function HN(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:o,floating:s}={},transform:a=!0,whileElementsMounted:l,open:c}=t,[u,f]=m.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[h,g]=m.useState(r);kh(h,r)||g(r);const[_,v]=m.useState(null),[E,x]=m.useState(null),y=m.useCallback(L=>{L!==O.current&&(O.current=L,v(L))},[]),b=m.useCallback(L=>{L!==S.current&&(S.current=L,x(L))},[]),I=o||_,N=s||E,O=m.useRef(null),S=m.useRef(null),C=m.useRef(u),P=l!=null,A=Ng(l),M=Ng(i),D=Ng(c),k=m.useCallback(()=>{if(!O.current||!S.current)return;const L={placement:e,strategy:n,middleware:h};M.current&&(L.platform=M.current),QX(O.current,S.current,L).then(V=>{const $={...V,isPositioned:D.current!==!1};B.current&&!kh(C.current,$)&&(C.current=$,Mo.flushSync(()=>{f($)}))})},[h,e,n,M,D]);xf(()=>{c===!1&&C.current.isPositioned&&(C.current.isPositioned=!1,f(L=>({...L,isPositioned:!1})))},[c]);const B=m.useRef(!1);xf(()=>(B.current=!0,()=>{B.current=!1}),[]),xf(()=>{if(I&&(O.current=I),N&&(S.current=N),I&&N){if(A.current)return A.current(I,N,k);k()}},[I,N,k,A,P]);const q=m.useMemo(()=>({reference:O,floating:S,setReference:y,setFloating:b}),[y,b]),K=m.useMemo(()=>({reference:I,floating:N}),[I,N]),F=m.useMemo(()=>{const L={position:n,left:0,top:0};if(!K.floating)return L;const V=jC(K.floating,u.x),$=jC(K.floating,u.y);return a?{...L,transform:"translate("+V+"px, "+$+"px)",...zN(K.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:V,top:$}},[n,a,K.floating,u.x,u.y]);return m.useMemo(()=>({...u,update:k,refs:q,elements:K,floatingStyles:F}),[u,k,q,K,F])}const XX=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:i}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?VC({element:r.current,padding:i}).fn(n):{}:r?VC({element:r,padding:i}).fn(n):{}}}},qN=(t,e)=>({...zX(t),options:[t,e]}),GN=(t,e)=>({...HX(t),options:[t,e]}),YN=(t,e)=>({...KX(t),options:[t,e]}),KN=(t,e)=>({...qX(t),options:[t,e]}),QN=(t,e)=>({...GX(t),options:[t,e]}),XN=(t,e)=>({...YX(t),options:[t,e]}),JN=(t,e)=>({...XX(t),options:[t,e]});var JX="Arrow",ZN=m.forwardRef((t,e)=>{const{children:n,width:r=10,height:i=5,...o}=t;return p.jsx(ze.svg,{...o,ref:e,width:r,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:p.jsx("polygon",{points:"0,0 30,0 15,10"})})});ZN.displayName=JX;var ZX=ZN,j1="Popper",[eD,tD]=Ms(j1),[eJ,nD]=eD(j1),rD=t=>{const{__scopePopper:e,children:n}=t,[r,i]=m.useState(null);return p.jsx(eJ,{scope:e,anchor:r,onAnchorChange:i,children:n})};rD.displayName=j1;var iD="PopperAnchor",oD=m.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...i}=t,o=nD(iD,n),s=m.useRef(null),a=lt(e,s);return m.useEffect(()=>{o.onAnchorChange((r==null?void 0:r.current)||s.current)}),r?null:p.jsx(ze.div,{...i,ref:a})});oD.displayName=iD;var F1="PopperContent",[tJ,nJ]=eD(F1),sD=m.forwardRef((t,e)=>{var J,de,le,re,he,Ce;const{__scopePopper:n,side:r="bottom",sideOffset:i=0,align:o="center",alignOffset:s=0,arrowPadding:a=0,avoidCollisions:l=!0,collisionBoundary:c=[],collisionPadding:u=0,sticky:f="partial",hideWhenDetached:h=!1,updatePositionStrategy:g="optimized",onPlaced:_,...v}=t,E=nD(F1,n),[x,y]=m.useState(null),b=lt(e,Ke=>y(Ke)),[I,N]=m.useState(null),O=cN(I),S=(O==null?void 0:O.width)??0,C=(O==null?void 0:O.height)??0,P=r+(o!=="center"?"-"+o:""),A=typeof u=="number"?u:{top:0,right:0,bottom:0,left:0,...u},M=Array.isArray(c)?c:[c],D=M.length>0,k={padding:A,boundary:M.filter(iJ),altBoundary:D},{refs:B,floatingStyles:q,placement:K,isPositioned:F,middlewareData:L}=HN({strategy:"fixed",placement:P,whileElementsMounted:(...Ke)=>WN(...Ke,{animationFrame:g==="always"}),elements:{reference:E.anchor},middleware:[qN({mainAxis:i+C,alignmentAxis:s}),l&&GN({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?YN():void 0,...k}),l&&KN({...k}),QN({...k,apply:({elements:Ke,rects:st,availableWidth:Dt,availableHeight:Zn})=>{const{width:wr,height:xl}=st.reference,Gr=Ke.floating.style;Gr.setProperty("--radix-popper-available-width",`${Dt}px`),Gr.setProperty("--radix-popper-available-height",`${Zn}px`),Gr.setProperty("--radix-popper-anchor-width",`${wr}px`),Gr.setProperty("--radix-popper-anchor-height",`${xl}px`)}}),I&&JN({element:I,padding:a}),oJ({arrowWidth:S,arrowHeight:C}),h&&XN({strategy:"referenceHidden",...k})]}),[V,$]=cD(K),W=Wt(_);Br(()=>{F&&(W==null||W())},[F,W]);const G=(J=L.arrow)==null?void 0:J.x,Y=(de=L.arrow)==null?void 0:de.y,oe=((le=L.arrow)==null?void 0:le.centerOffset)!==0,[fe,Ee]=m.useState();return Br(()=>{x&&Ee(window.getComputedStyle(x).zIndex)},[x]),p.jsx("div",{ref:B.setFloating,"data-radix-popper-content-wrapper":"",style:{...q,transform:F?q.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:fe,"--radix-popper-transform-origin":[(re=L.transformOrigin)==null?void 0:re.x,(he=L.transformOrigin)==null?void 0:he.y].join(" "),...((Ce=L.hide)==null?void 0:Ce.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:p.jsx(tJ,{scope:n,placedSide:V,onArrowChange:N,arrowX:G,arrowY:Y,shouldHideArrow:oe,children:p.jsx(ze.div,{"data-side":V,"data-align":$,...v,ref:b,style:{...v.style,animation:F?void 0:"none"}})})})});sD.displayName=F1;var aD="PopperArrow",rJ={top:"bottom",right:"left",bottom:"top",left:"right"},lD=m.forwardRef(function(e,n){const{__scopePopper:r,...i}=e,o=nJ(aD,r),s=rJ[o.placedSide];return p.jsx("span",{ref:o.onArrowChange,style:{position:"absolute",left:o.arrowX,top:o.arrowY,[s]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[o.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[o.placedSide],visibility:o.shouldHideArrow?"hidden":void 0},children:p.jsx(ZX,{...i,ref:n,style:{...i.style,display:"block"}})})});lD.displayName=aD;function iJ(t){return t!==null}var oJ=t=>({name:"transformOrigin",options:t,fn(e){var E,x,y;const{placement:n,rects:r,middlewareData:i}=e,s=((E=i.arrow)==null?void 0:E.centerOffset)!==0,a=s?0:t.arrowWidth,l=s?0:t.arrowHeight,[c,u]=cD(n),f={start:"0%",center:"50%",end:"100%"}[u],h=(((x=i.arrow)==null?void 0:x.x)??0)+a/2,g=(((y=i.arrow)==null?void 0:y.y)??0)+l/2;let _="",v="";return c==="bottom"?(_=s?f:`${h}px`,v=`${-l}px`):c==="top"?(_=s?f:`${h}px`,v=`${r.floating.height+l}px`):c==="right"?(_=`${-l}px`,v=s?f:`${g}px`):c==="left"&&(_=`${r.floating.width+l}px`,v=s?f:`${g}px`),{data:{x:_,y:v}}}});function cD(t){const[e,n="center"]=t.split("-");return[e,n]}var sJ=rD,uD=oD,aJ=sD,lJ=lD,cJ="Portal",Op=m.forwardRef((t,e)=>{var a;const{container:n,...r}=t,[i,o]=m.useState(!1);Br(()=>o(!0),[]);const s=n||i&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return s?CI.createPortal(p.jsx(ze.div,{...r,ref:e}),s):null});Op.displayName=cJ;var uJ=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},Bs=new WeakMap,Fd=new WeakMap,$d={},Dg=0,dD=function(t){return t&&(t.host||dD(t.parentNode))},dJ=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=dD(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},fJ=function(t,e,n,r){var i=dJ(e,Array.isArray(t)?t:[t]);$d[n]||($d[n]=new WeakMap);var o=$d[n],s=[],a=new Set,l=new Set(i),c=function(f){!f||a.has(f)||(a.add(f),c(f.parentNode))};i.forEach(c);var u=function(f){!f||l.has(f)||Array.prototype.forEach.call(f.children,function(h){if(a.has(h))u(h);else try{var g=h.getAttribute(r),_=g!==null&&g!=="false",v=(Bs.get(h)||0)+1,E=(o.get(h)||0)+1;Bs.set(h,v),o.set(h,E),s.push(h),v===1&&_&&Fd.set(h,!0),E===1&&h.setAttribute(n,"true"),_||h.setAttribute(r,"true")}catch(x){console.error("aria-hidden: cannot operate on ",h,x)}})};return u(e),a.clear(),Dg++,function(){s.forEach(function(f){var h=Bs.get(f)-1,g=o.get(f)-1;Bs.set(f,h),o.set(f,g),h||(Fd.has(f)||f.removeAttribute(r),Fd.delete(f)),g||f.removeAttribute(n)}),Dg--,Dg||(Bs=new WeakMap,Bs=new WeakMap,Fd=new WeakMap,$d={})}},$1=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),i=e||uJ(t);return i?(r.push.apply(r,Array.from(i.querySelectorAll("[aria-live], script"))),fJ(r,i,n,"aria-hidden")):function(){return null}},rn=function(){return rn=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},rn.apply(this,arguments)};function U1(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function fD(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,o;r<i;r++)(o||!(r in e))&&(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return t.concat(o||Array.prototype.slice.call(e))}var Sc="right-scroll-bar-position",Pc="width-before-scroll-bar",hJ="with-scroll-bars-hidden",pJ="--removed-body-scroll-bar-size";function Mg(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function mJ(t,e){var n=m.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var i=n.value;i!==r&&(n.value=r,n.callback(r,i))}}}})[0];return n.callback=e,n.facade}var gJ=typeof window<"u"?m.useLayoutEffect:m.useEffect,FC=new WeakMap;function hD(t,e){var n=mJ(e||null,function(r){return t.forEach(function(i){return Mg(i,r)})});return gJ(function(){var r=FC.get(n);if(r){var i=new Set(r),o=new Set(t),s=n.current;i.forEach(function(a){o.has(a)||Mg(a,null)}),o.forEach(function(a){i.has(a)||Mg(a,s)})}FC.set(n,t)},[t]),n}function vJ(t){return t}function yJ(t,e){e===void 0&&(e=vJ);var n=[],r=!1,i={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(o){var s=e(o,r);return n.push(s),function(){n=n.filter(function(a){return a!==s})}},assignSyncMedium:function(o){for(r=!0;n.length;){var s=n;n=[],s.forEach(o)}n={push:function(a){return o(a)},filter:function(){return n}}},assignMedium:function(o){r=!0;var s=[];if(n.length){var a=n;n=[],a.forEach(o),s=n}var l=function(){var u=s;s=[],u.forEach(o)},c=function(){return Promise.resolve().then(l)};c(),n={push:function(u){s.push(u),c()},filter:function(u){return s=s.filter(u),n}}}};return i}function pD(t){t===void 0&&(t={});var e=yJ(null);return e.options=rn({async:!0,ssr:!1},t),e}var mD=function(t){var e=t.sideCar,n=U1(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return m.createElement(r,rn({},n))};mD.isSideCarExport=!0;function gD(t,e){return t.useMedium(e),mD}var vD=pD(),Og=function(){},Lp=m.forwardRef(function(t,e){var n=m.useRef(null),r=m.useState({onScrollCapture:Og,onWheelCapture:Og,onTouchMoveCapture:Og}),i=r[0],o=r[1],s=t.forwardProps,a=t.children,l=t.className,c=t.removeScrollBar,u=t.enabled,f=t.shards,h=t.sideCar,g=t.noRelative,_=t.noIsolation,v=t.inert,E=t.allowPinchZoom,x=t.as,y=x===void 0?"div":x,b=t.gapMode,I=U1(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),N=h,O=hD([n,e]),S=rn(rn({},I),i);return m.createElement(m.Fragment,null,u&&m.createElement(N,{sideCar:vD,removeScrollBar:c,shards:f,noRelative:g,noIsolation:_,inert:v,setCallbacks:o,allowPinchZoom:!!E,lockRef:n,gapMode:b}),s?m.cloneElement(m.Children.only(a),rn(rn({},S),{ref:O})):m.createElement(y,rn({},S,{className:l,ref:O}),a))});Lp.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Lp.classNames={fullWidth:Pc,zeroRight:Sc};var $C,wJ=function(){if($C)return $C;if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function _J(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=wJ();return e&&t.setAttribute("nonce",e),t}function xJ(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function EJ(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var bJ=function(){var t=0,e=null;return{add:function(n){t==0&&(e=_J())&&(xJ(e,n),EJ(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},TJ=function(){var t=bJ();return function(e,n){m.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},B1=function(){var t=TJ(),e=function(n){var r=n.styles,i=n.dynamic;return t(r,i),null};return e},CJ={left:0,top:0,right:0,gap:0},Lg=function(t){return parseInt(t||"",10)||0},SJ=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],i=e[t==="padding"?"paddingRight":"marginRight"];return[Lg(n),Lg(r),Lg(i)]},PJ=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return CJ;var e=SJ(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},IJ=B1(),Aa="data-scroll-locked",AJ=function(t,e,n,r){var i=t.left,o=t.top,s=t.right,a=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(hJ,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(a,"px ").concat(r,`;
  }
  body[`).concat(Aa,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(o,`px;
    padding-right: `).concat(s,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(a,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Sc,` {
    right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(Pc,` {
    margin-right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(Sc," .").concat(Sc,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Pc," .").concat(Pc,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Aa,`] {
    `).concat(pJ,": ").concat(a,`px;
  }
`)},UC=function(){var t=parseInt(document.body.getAttribute(Aa)||"0",10);return isFinite(t)?t:0},RJ=function(){m.useEffect(function(){return document.body.setAttribute(Aa,(UC()+1).toString()),function(){var t=UC()-1;t<=0?document.body.removeAttribute(Aa):document.body.setAttribute(Aa,t.toString())}},[])},yD=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,i=r===void 0?"margin":r;RJ();var o=m.useMemo(function(){return PJ(i)},[i]);return m.createElement(IJ,{styles:AJ(o,!e,i,n?"":"!important")})},$y=!1;if(typeof window<"u")try{var Ud=Object.defineProperty({},"passive",{get:function(){return $y=!0,!0}});window.addEventListener("test",Ud,Ud),window.removeEventListener("test",Ud,Ud)}catch{$y=!1}var Ws=$y?{passive:!1}:!1,kJ=function(t){return t.tagName==="TEXTAREA"},wD=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!kJ(t)&&n[e]==="visible")},NJ=function(t){return wD(t,"overflowY")},DJ=function(t){return wD(t,"overflowX")},BC=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var i=_D(t,r);if(i){var o=xD(t,r),s=o[1],a=o[2];if(s>a)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},MJ=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},OJ=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},_D=function(t,e){return t==="v"?NJ(e):DJ(e)},xD=function(t,e){return t==="v"?MJ(e):OJ(e)},LJ=function(t,e){return t==="h"&&e==="rtl"?-1:1},VJ=function(t,e,n,r,i){var o=LJ(t,window.getComputedStyle(e).direction),s=o*r,a=n.target,l=e.contains(a),c=!1,u=s>0,f=0,h=0;do{var g=xD(t,a),_=g[0],v=g[1],E=g[2],x=v-E-o*_;(_||x)&&_D(t,a)&&(f+=x,h+=_),a=a.parentNode.host||a.parentNode}while(!l&&a!==document.body||l&&(e.contains(a)||e===a));return(u&&(i&&Math.abs(f)<1||!i&&s>f)||!u&&(i&&Math.abs(h)<1||!i&&-s>h))&&(c=!0),c},Bd=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},WC=function(t){return[t.deltaX,t.deltaY]},zC=function(t){return t&&"current"in t?t.current:t},jJ=function(t,e){return t[0]===e[0]&&t[1]===e[1]},FJ=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},$J=0,zs=[];function UJ(t){var e=m.useRef([]),n=m.useRef([0,0]),r=m.useRef(),i=m.useState($J++)[0],o=m.useState(B1)[0],s=m.useRef(t);m.useEffect(function(){s.current=t},[t]),m.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(i));var v=fD([t.lockRef.current],(t.shards||[]).map(zC),!0).filter(Boolean);return v.forEach(function(E){return E.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),v.forEach(function(E){return E.classList.remove("allow-interactivity-".concat(i))})}}},[t.inert,t.lockRef.current,t.shards]);var a=m.useCallback(function(v,E){if("touches"in v&&v.touches.length===2||v.type==="wheel"&&v.ctrlKey)return!s.current.allowPinchZoom;var x=Bd(v),y=n.current,b="deltaX"in v?v.deltaX:y[0]-x[0],I="deltaY"in v?v.deltaY:y[1]-x[1],N,O=v.target,S=Math.abs(b)>Math.abs(I)?"h":"v";if("touches"in v&&S==="h"&&O.type==="range")return!1;var C=BC(S,O);if(!C)return!0;if(C?N=S:(N=S==="v"?"h":"v",C=BC(S,O)),!C)return!1;if(!r.current&&"changedTouches"in v&&(b||I)&&(r.current=N),!N)return!0;var P=r.current||N;return VJ(P,E,v,P==="h"?b:I,!0)},[]),l=m.useCallback(function(v){var E=v;if(!(!zs.length||zs[zs.length-1]!==o)){var x="deltaY"in E?WC(E):Bd(E),y=e.current.filter(function(N){return N.name===E.type&&(N.target===E.target||E.target===N.shadowParent)&&jJ(N.delta,x)})[0];if(y&&y.should){E.cancelable&&E.preventDefault();return}if(!y){var b=(s.current.shards||[]).map(zC).filter(Boolean).filter(function(N){return N.contains(E.target)}),I=b.length>0?a(E,b[0]):!s.current.noIsolation;I&&E.cancelable&&E.preventDefault()}}},[]),c=m.useCallback(function(v,E,x,y){var b={name:v,delta:E,target:x,should:y,shadowParent:BJ(x)};e.current.push(b),setTimeout(function(){e.current=e.current.filter(function(I){return I!==b})},1)},[]),u=m.useCallback(function(v){n.current=Bd(v),r.current=void 0},[]),f=m.useCallback(function(v){c(v.type,WC(v),v.target,a(v,t.lockRef.current))},[]),h=m.useCallback(function(v){c(v.type,Bd(v),v.target,a(v,t.lockRef.current))},[]);m.useEffect(function(){return zs.push(o),t.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:h}),document.addEventListener("wheel",l,Ws),document.addEventListener("touchmove",l,Ws),document.addEventListener("touchstart",u,Ws),function(){zs=zs.filter(function(v){return v!==o}),document.removeEventListener("wheel",l,Ws),document.removeEventListener("touchmove",l,Ws),document.removeEventListener("touchstart",u,Ws)}},[]);var g=t.removeScrollBar,_=t.inert;return m.createElement(m.Fragment,null,_?m.createElement(o,{styles:FJ(i)}):null,g?m.createElement(yD,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function BJ(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const WJ=gD(vD,UJ);var ED=m.forwardRef(function(t,e){return m.createElement(Lp,rn({},t,{ref:e,sideCar:WJ}))});ED.classNames=Lp.classNames;const bD=ED;var Vp="Popover",[TD,Pne]=Ms(Vp,[tD]),Bu=tD(),[zJ,Uo]=TD(Vp),CD=t=>{const{__scopePopover:e,children:n,open:r,defaultOpen:i,onOpenChange:o,modal:s=!1}=t,a=Bu(e),l=m.useRef(null),[c,u]=m.useState(!1),[f,h]=Ip({prop:r,defaultProp:i??!1,onChange:o,caller:Vp});return p.jsx(sJ,{...a,children:p.jsx(zJ,{scope:e,contentId:_f(),triggerRef:l,open:f,onOpenChange:h,onOpenToggle:m.useCallback(()=>h(g=>!g),[h]),hasCustomAnchor:c,onCustomAnchorAdd:m.useCallback(()=>u(!0),[]),onCustomAnchorRemove:m.useCallback(()=>u(!1),[]),modal:s,children:n})})};CD.displayName=Vp;var SD="PopoverAnchor",HJ=m.forwardRef((t,e)=>{const{__scopePopover:n,...r}=t,i=Uo(SD,n),o=Bu(n),{onCustomAnchorAdd:s,onCustomAnchorRemove:a}=i;return m.useEffect(()=>(s(),()=>a()),[s,a]),p.jsx(uD,{...o,...r,ref:e})});HJ.displayName=SD;var PD="PopoverTrigger",ID=m.forwardRef((t,e)=>{const{__scopePopover:n,...r}=t,i=Uo(PD,n),o=Bu(n),s=lt(e,i.triggerRef),a=p.jsx(ze.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":DD(i.open),...r,ref:s,onClick:Ue(t.onClick,i.onOpenToggle)});return i.hasCustomAnchor?a:p.jsx(uD,{asChild:!0,...o,children:a})});ID.displayName=PD;var W1="PopoverPortal",[qJ,GJ]=TD(W1,{forceMount:void 0}),AD=t=>{const{__scopePopover:e,forceMount:n,children:r,container:i}=t,o=Uo(W1,e);return p.jsx(qJ,{scope:e,forceMount:n,children:p.jsx(Xn,{present:n||o.open,children:p.jsx(Op,{asChild:!0,container:i,children:r})})})};AD.displayName=W1;var Xa="PopoverContent",RD=m.forwardRef((t,e)=>{const n=GJ(Xa,t.__scopePopover),{forceMount:r=n.forceMount,...i}=t,o=Uo(Xa,t.__scopePopover);return p.jsx(Xn,{present:r||o.open,children:o.modal?p.jsx(KJ,{...i,ref:e}):p.jsx(QJ,{...i,ref:e})})});RD.displayName=Xa;var YJ=za("PopoverContent.RemoveScroll"),KJ=m.forwardRef((t,e)=>{const n=Uo(Xa,t.__scopePopover),r=m.useRef(null),i=lt(e,r),o=m.useRef(!1);return m.useEffect(()=>{const s=r.current;if(s)return $1(s)},[]),p.jsx(bD,{as:YJ,allowPinchZoom:!0,children:p.jsx(kD,{...t,ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Ue(t.onCloseAutoFocus,s=>{var a;s.preventDefault(),o.current||(a=n.triggerRef.current)==null||a.focus()}),onPointerDownOutside:Ue(t.onPointerDownOutside,s=>{const a=s.detail.originalEvent,l=a.button===0&&a.ctrlKey===!0,c=a.button===2||l;o.current=c},{checkForDefaultPrevented:!1}),onFocusOutside:Ue(t.onFocusOutside,s=>s.preventDefault(),{checkForDefaultPrevented:!1})})})}),QJ=m.forwardRef((t,e)=>{const n=Uo(Xa,t.__scopePopover),r=m.useRef(!1),i=m.useRef(!1);return p.jsx(kD,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{var s,a;(s=t.onCloseAutoFocus)==null||s.call(t,o),o.defaultPrevented||(r.current||(a=n.triggerRef.current)==null||a.focus(),o.preventDefault()),r.current=!1,i.current=!1},onInteractOutside:o=>{var l,c;(l=t.onInteractOutside)==null||l.call(t,o),o.defaultPrevented||(r.current=!0,o.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const s=o.target;((c=n.triggerRef.current)==null?void 0:c.contains(s))&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&i.current&&o.preventDefault()}})}),kD=m.forwardRef((t,e)=>{const{__scopePopover:n,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:o,disableOutsidePointerEvents:s,onEscapeKeyDown:a,onPointerDownOutside:l,onFocusOutside:c,onInteractOutside:u,...f}=t,h=Uo(Xa,n),g=Bu(n);return NN(),p.jsx(R1,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:o,children:p.jsx(kp,{asChild:!0,disableOutsidePointerEvents:s,onInteractOutside:u,onEscapeKeyDown:a,onPointerDownOutside:l,onFocusOutside:c,onDismiss:()=>h.onOpenChange(!1),children:p.jsx(aJ,{"data-state":DD(h.open),role:"dialog",id:h.contentId,...g,...f,ref:e,style:{...f.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),ND="PopoverClose",XJ=m.forwardRef((t,e)=>{const{__scopePopover:n,...r}=t,i=Uo(ND,n);return p.jsx(ze.button,{type:"button",...r,ref:e,onClick:Ue(t.onClick,()=>i.onOpenChange(!1))})});XJ.displayName=ND;var JJ="PopoverArrow",ZJ=m.forwardRef((t,e)=>{const{__scopePopover:n,...r}=t,i=Bu(n);return p.jsx(lJ,{...i,...r,ref:e})});ZJ.displayName=JJ;function DD(t){return t?"open":"closed"}var eZ=CD,tZ=ID,nZ=AD,MD=RD;const rZ=eZ,iZ=tZ,OD=we.forwardRef(({className:t,align:e="center",sideOffset:n=4,...r},i)=>p.jsx(nZ,{children:p.jsx(MD,{ref:i,align:e,sideOffset:n,className:De("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...r})}));OD.displayName=MD.displayName;function Ye(){return Ye=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ye.apply(null,arguments)}function HC(t,[e,n]){return Math.min(n,Math.max(e,t))}function hn(t,e,{checkForDefaultPrevented:n=!0}={}){return function(i){if(t==null||t(i),n===!1||!i.defaultPrevented)return e==null?void 0:e(i)}}function z1(t,e=[]){let n=[];function r(o,s){const a=m.createContext(s),l=n.length;n=[...n,s];function c(f){const{scope:h,children:g,..._}=f,v=(h==null?void 0:h[t][l])||a,E=m.useMemo(()=>_,Object.values(_));return m.createElement(v.Provider,{value:E},g)}function u(f,h){const g=(h==null?void 0:h[t][l])||a,_=m.useContext(g);if(_)return _;if(s!==void 0)return s;throw new Error(`\`${f}\` must be used within \`${o}\``)}return c.displayName=o+"Provider",[c,u]}const i=()=>{const o=n.map(s=>m.createContext(s));return function(a){const l=(a==null?void 0:a[t])||o;return m.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return i.scopeName=t,[r,oZ(i,...e)]}function oZ(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(o){const s=r.reduce((a,{useScope:l,scopeName:c})=>{const f=l(o)[`__scope${c}`];return{...a,...f}},{});return m.useMemo(()=>({[`__scope${e.scopeName}`]:s}),[s])}};return n.scopeName=e.scopeName,n}function sZ(t,e){typeof t=="function"?t(e):t!=null&&(t.current=e)}function LD(...t){return e=>t.forEach(n=>sZ(n,e))}function Pn(...t){return m.useCallback(LD(...t),t)}const fu=m.forwardRef((t,e)=>{const{children:n,...r}=t,i=m.Children.toArray(n),o=i.find(lZ);if(o){const s=o.props.children,a=i.map(l=>l===o?m.Children.count(s)>1?m.Children.only(null):m.isValidElement(s)?s.props.children:null:l);return m.createElement(Uy,Ye({},r,{ref:e}),m.isValidElement(s)?m.cloneElement(s,void 0,a):null)}return m.createElement(Uy,Ye({},r,{ref:e}),n)});fu.displayName="Slot";const Uy=m.forwardRef((t,e)=>{const{children:n,...r}=t;return m.isValidElement(n)?m.cloneElement(n,{...cZ(r,n.props),ref:e?LD(e,n.ref):n.ref}):m.Children.count(n)>1?m.Children.only(null):null});Uy.displayName="SlotClone";const aZ=({children:t})=>m.createElement(m.Fragment,null,t);function lZ(t){return m.isValidElement(t)&&t.type===aZ}function cZ(t,e){const n={...e};for(const r in e){const i=t[r],o=e[r];/^on[A-Z]/.test(r)?i&&o?n[r]=(...a)=>{o(...a),i(...a)}:i&&(n[r]=i):r==="style"?n[r]={...i,...o}:r==="className"&&(n[r]=[i,o].filter(Boolean).join(" "))}return{...t,...n}}function uZ(t){const e=t+"CollectionProvider",[n,r]=z1(e),[i,o]=n(e,{collectionRef:{current:null},itemMap:new Map}),s=g=>{const{scope:_,children:v}=g,E=we.useRef(null),x=we.useRef(new Map).current;return we.createElement(i,{scope:_,itemMap:x,collectionRef:E},v)},a=t+"CollectionSlot",l=we.forwardRef((g,_)=>{const{scope:v,children:E}=g,x=o(a,v),y=Pn(_,x.collectionRef);return we.createElement(fu,{ref:y},E)}),c=t+"CollectionItemSlot",u="data-radix-collection-item",f=we.forwardRef((g,_)=>{const{scope:v,children:E,...x}=g,y=we.useRef(null),b=Pn(_,y),I=o(c,v);return we.useEffect(()=>(I.itemMap.set(y,{ref:y,...x}),()=>void I.itemMap.delete(y))),we.createElement(fu,{[u]:"",ref:b},E)});function h(g){const _=o(t+"CollectionConsumer",g);return we.useCallback(()=>{const E=_.collectionRef.current;if(!E)return[];const x=Array.from(E.querySelectorAll(`[${u}]`));return Array.from(_.itemMap.values()).sort((I,N)=>x.indexOf(I.ref.current)-x.indexOf(N.ref.current))},[_.collectionRef,_.itemMap])}return[{Provider:s,Slot:l,ItemSlot:f},h,r]}const dZ=m.createContext(void 0);function fZ(t){const e=m.useContext(dZ);return t||e||"ltr"}const hZ=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],an=hZ.reduce((t,e)=>{const n=m.forwardRef((r,i)=>{const{asChild:o,...s}=r,a=o?fu:e;return m.useEffect(()=>{window[Symbol.for("radix-ui")]=!0},[]),m.createElement(a,Ye({},s,{ref:i}))});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{});function pZ(t,e){t&&Mo.flushSync(()=>t.dispatchEvent(e))}function bi(t){const e=m.useRef(t);return m.useEffect(()=>{e.current=t}),m.useMemo(()=>(...n)=>{var r;return(r=e.current)===null||r===void 0?void 0:r.call(e,...n)},[])}function mZ(t,e=globalThis==null?void 0:globalThis.document){const n=bi(t);m.useEffect(()=>{const r=i=>{i.key==="Escape"&&n(i)};return e.addEventListener("keydown",r),()=>e.removeEventListener("keydown",r)},[n,e])}const By="dismissableLayer.update",gZ="dismissableLayer.pointerDownOutside",vZ="dismissableLayer.focusOutside";let qC;const yZ=m.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),wZ=m.forwardRef((t,e)=>{var n;const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:s,onInteractOutside:a,onDismiss:l,...c}=t,u=m.useContext(yZ),[f,h]=m.useState(null),g=(n=f==null?void 0:f.ownerDocument)!==null&&n!==void 0?n:globalThis==null?void 0:globalThis.document,[,_]=m.useState({}),v=Pn(e,C=>h(C)),E=Array.from(u.layers),[x]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),y=E.indexOf(x),b=f?E.indexOf(f):-1,I=u.layersWithOutsidePointerEventsDisabled.size>0,N=b>=y,O=_Z(C=>{const P=C.target,A=[...u.branches].some(M=>M.contains(P));!N||A||(o==null||o(C),a==null||a(C),C.defaultPrevented||l==null||l())},g),S=xZ(C=>{const P=C.target;[...u.branches].some(M=>M.contains(P))||(s==null||s(C),a==null||a(C),C.defaultPrevented||l==null||l())},g);return mZ(C=>{b===u.layers.size-1&&(i==null||i(C),!C.defaultPrevented&&l&&(C.preventDefault(),l()))},g),m.useEffect(()=>{if(f)return r&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(qC=g.body.style.pointerEvents,g.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(f)),u.layers.add(f),GC(),()=>{r&&u.layersWithOutsidePointerEventsDisabled.size===1&&(g.body.style.pointerEvents=qC)}},[f,g,r,u]),m.useEffect(()=>()=>{f&&(u.layers.delete(f),u.layersWithOutsidePointerEventsDisabled.delete(f),GC())},[f,u]),m.useEffect(()=>{const C=()=>_({});return document.addEventListener(By,C),()=>document.removeEventListener(By,C)},[]),m.createElement(an.div,Ye({},c,{ref:v,style:{pointerEvents:I?N?"auto":"none":void 0,...t.style},onFocusCapture:hn(t.onFocusCapture,S.onFocusCapture),onBlurCapture:hn(t.onBlurCapture,S.onBlurCapture),onPointerDownCapture:hn(t.onPointerDownCapture,O.onPointerDownCapture)}))});function _Z(t,e=globalThis==null?void 0:globalThis.document){const n=bi(t),r=m.useRef(!1),i=m.useRef(()=>{});return m.useEffect(()=>{const o=a=>{if(a.target&&!r.current){let u=function(){VD(gZ,n,c,{discrete:!0})};var l=u;const c={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=u,e.addEventListener("click",i.current,{once:!0})):u()}else e.removeEventListener("click",i.current);r.current=!1},s=window.setTimeout(()=>{e.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(s),e.removeEventListener("pointerdown",o),e.removeEventListener("click",i.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function xZ(t,e=globalThis==null?void 0:globalThis.document){const n=bi(t),r=m.useRef(!1);return m.useEffect(()=>{const i=o=>{o.target&&!r.current&&VD(vZ,n,{originalEvent:o},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function GC(){const t=new CustomEvent(By);document.dispatchEvent(t)}function VD(t,e,n,{discrete:r}){const i=n.originalEvent.target,o=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&i.addEventListener(t,e,{once:!0}),r?pZ(i,o):i.dispatchEvent(o)}let Vg=0;function EZ(){m.useEffect(()=>{var t,e;const n=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",(t=n[0])!==null&&t!==void 0?t:YC()),document.body.insertAdjacentElement("beforeend",(e=n[1])!==null&&e!==void 0?e:YC()),Vg++,()=>{Vg===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(r=>r.remove()),Vg--}},[])}function YC(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.cssText="outline: none; opacity: 0; position: fixed; pointer-events: none",t}const jg="focusScope.autoFocusOnMount",Fg="focusScope.autoFocusOnUnmount",KC={bubbles:!1,cancelable:!0},bZ=m.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:i,onUnmountAutoFocus:o,...s}=t,[a,l]=m.useState(null),c=bi(i),u=bi(o),f=m.useRef(null),h=Pn(e,v=>l(v)),g=m.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;m.useEffect(()=>{if(r){let y=function(O){if(g.paused||!a)return;const S=O.target;a.contains(S)?f.current=S:ji(f.current,{select:!0})},b=function(O){if(g.paused||!a)return;const S=O.relatedTarget;S!==null&&(a.contains(S)||ji(f.current,{select:!0}))},I=function(O){if(document.activeElement===document.body)for(const C of O)C.removedNodes.length>0&&ji(a)};var v=y,E=b,x=I;document.addEventListener("focusin",y),document.addEventListener("focusout",b);const N=new MutationObserver(I);return a&&N.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",y),document.removeEventListener("focusout",b),N.disconnect()}}},[r,a,g.paused]),m.useEffect(()=>{if(a){XC.add(g);const v=document.activeElement;if(!a.contains(v)){const x=new CustomEvent(jg,KC);a.addEventListener(jg,c),a.dispatchEvent(x),x.defaultPrevented||(TZ(AZ(jD(a)),{select:!0}),document.activeElement===v&&ji(a))}return()=>{a.removeEventListener(jg,c),setTimeout(()=>{const x=new CustomEvent(Fg,KC);a.addEventListener(Fg,u),a.dispatchEvent(x),x.defaultPrevented||ji(v??document.body,{select:!0}),a.removeEventListener(Fg,u),XC.remove(g)},0)}}},[a,c,u,g]);const _=m.useCallback(v=>{if(!n&&!r||g.paused)return;const E=v.key==="Tab"&&!v.altKey&&!v.ctrlKey&&!v.metaKey,x=document.activeElement;if(E&&x){const y=v.currentTarget,[b,I]=CZ(y);b&&I?!v.shiftKey&&x===I?(v.preventDefault(),n&&ji(b,{select:!0})):v.shiftKey&&x===b&&(v.preventDefault(),n&&ji(I,{select:!0})):x===y&&v.preventDefault()}},[n,r,g.paused]);return m.createElement(an.div,Ye({tabIndex:-1},s,{ref:h,onKeyDown:_}))});function TZ(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(ji(r,{select:e}),document.activeElement!==n)return}function CZ(t){const e=jD(t),n=QC(e,t),r=QC(e.reverse(),t);return[n,r]}function jD(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function QC(t,e){for(const n of t)if(!SZ(n,{upTo:e}))return n}function SZ(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function PZ(t){return t instanceof HTMLInputElement&&"select"in t}function ji(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&PZ(t)&&e&&t.select()}}const XC=IZ();function IZ(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=JC(t,e),t.unshift(e)},remove(e){var n;t=JC(t,e),(n=t[0])===null||n===void 0||n.resume()}}}function JC(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function AZ(t){return t.filter(e=>e.tagName!=="A")}const Ti=globalThis!=null&&globalThis.document?m.useLayoutEffect:()=>{},RZ=Lh["useId".toString()]||(()=>{});let kZ=0;function FD(t){const[e,n]=m.useState(RZ());return Ti(()=>{t||n(r=>r??String(kZ++))},[t]),t||(e?`radix-${e}`:"")}function NZ(t){const[e,n]=m.useState(void 0);return Ti(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const o=i[0];let s,a;if("borderBoxSize"in o){const l=o.borderBoxSize,c=Array.isArray(l)?l[0]:l;s=c.inlineSize,a=c.blockSize}else s=t.offsetWidth,a=t.offsetHeight;n({width:s,height:a})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}const $D="Popper",[UD,BD]=z1($D),[DZ,WD]=UD($D),MZ=t=>{const{__scopePopper:e,children:n}=t,[r,i]=m.useState(null);return m.createElement(DZ,{scope:e,anchor:r,onAnchorChange:i},n)},OZ="PopperAnchor",LZ=m.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...i}=t,o=WD(OZ,n),s=m.useRef(null),a=Pn(e,s);return m.useEffect(()=>{o.onAnchorChange((r==null?void 0:r.current)||s.current)}),r?null:m.createElement(an.div,Ye({},i,{ref:a}))}),zD="PopperContent",[VZ,Ine]=UD(zD),jZ=m.forwardRef((t,e)=>{var n,r,i,o,s,a,l,c;const{__scopePopper:u,side:f="bottom",sideOffset:h=0,align:g="center",alignOffset:_=0,arrowPadding:v=0,avoidCollisions:E=!0,collisionBoundary:x=[],collisionPadding:y=0,sticky:b="partial",hideWhenDetached:I=!1,updatePositionStrategy:N="optimized",onPlaced:O,...S}=t,C=WD(zD,u),[P,A]=m.useState(null),M=Pn(e,Dt=>A(Dt)),[D,k]=m.useState(null),B=NZ(D),q=(n=B==null?void 0:B.width)!==null&&n!==void 0?n:0,K=(r=B==null?void 0:B.height)!==null&&r!==void 0?r:0,F=f+(g!=="center"?"-"+g:""),L=typeof y=="number"?y:{top:0,right:0,bottom:0,left:0,...y},V=Array.isArray(x)?x:[x],$=V.length>0,W={padding:L,boundary:V.filter(FZ),altBoundary:$},{refs:G,floatingStyles:Y,placement:oe,isPositioned:fe,middlewareData:Ee}=HN({strategy:"fixed",placement:F,whileElementsMounted:(...Dt)=>WN(...Dt,{animationFrame:N==="always"}),elements:{reference:C.anchor},middleware:[qN({mainAxis:h+K,alignmentAxis:_}),E&&GN({mainAxis:!0,crossAxis:!1,limiter:b==="partial"?YN():void 0,...W}),E&&KN({...W}),QN({...W,apply:({elements:Dt,rects:Zn,availableWidth:wr,availableHeight:xl})=>{const{width:Gr,height:zu}=Zn.reference,Ii=Dt.floating.style;Ii.setProperty("--radix-popper-available-width",`${wr}px`),Ii.setProperty("--radix-popper-available-height",`${xl}px`),Ii.setProperty("--radix-popper-anchor-width",`${Gr}px`),Ii.setProperty("--radix-popper-anchor-height",`${zu}px`)}}),D&&JN({element:D,padding:v}),$Z({arrowWidth:q,arrowHeight:K}),I&&XN({strategy:"referenceHidden",...W})]}),[J,de]=HD(oe),le=bi(O);Ti(()=>{fe&&(le==null||le())},[fe,le]);const re=(i=Ee.arrow)===null||i===void 0?void 0:i.x,he=(o=Ee.arrow)===null||o===void 0?void 0:o.y,Ce=((s=Ee.arrow)===null||s===void 0?void 0:s.centerOffset)!==0,[Ke,st]=m.useState();return Ti(()=>{P&&st(window.getComputedStyle(P).zIndex)},[P]),m.createElement("div",{ref:G.setFloating,"data-radix-popper-content-wrapper":"",style:{...Y,transform:fe?Y.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Ke,"--radix-popper-transform-origin":[(a=Ee.transformOrigin)===null||a===void 0?void 0:a.x,(l=Ee.transformOrigin)===null||l===void 0?void 0:l.y].join(" ")},dir:t.dir},m.createElement(VZ,{scope:u,placedSide:J,onArrowChange:k,arrowX:re,arrowY:he,shouldHideArrow:Ce},m.createElement(an.div,Ye({"data-side":J,"data-align":de},S,{ref:M,style:{...S.style,animation:fe?void 0:"none",opacity:(c=Ee.hide)!==null&&c!==void 0&&c.referenceHidden?0:void 0}}))))});function FZ(t){return t!==null}const $Z=t=>({name:"transformOrigin",options:t,fn(e){var n,r,i,o,s;const{placement:a,rects:l,middlewareData:c}=e,f=((n=c.arrow)===null||n===void 0?void 0:n.centerOffset)!==0,h=f?0:t.arrowWidth,g=f?0:t.arrowHeight,[_,v]=HD(a),E={start:"0%",center:"50%",end:"100%"}[v],x=((r=(i=c.arrow)===null||i===void 0?void 0:i.x)!==null&&r!==void 0?r:0)+h/2,y=((o=(s=c.arrow)===null||s===void 0?void 0:s.y)!==null&&o!==void 0?o:0)+g/2;let b="",I="";return _==="bottom"?(b=f?E:`${x}px`,I=`${-g}px`):_==="top"?(b=f?E:`${x}px`,I=`${l.floating.height+g}px`):_==="right"?(b=`${-g}px`,I=f?E:`${y}px`):_==="left"&&(b=`${l.floating.width+g}px`,I=f?E:`${y}px`),{data:{x:b,y:I}}}});function HD(t){const[e,n="center"]=t.split("-");return[e,n]}const UZ=MZ,BZ=LZ,WZ=jZ,zZ=m.forwardRef((t,e)=>{var n;const{container:r=globalThis==null||(n=globalThis.document)===null||n===void 0?void 0:n.body,...i}=t;return r?CI.createPortal(m.createElement(an.div,Ye({},i,{ref:e})),r):null});function ZC({prop:t,defaultProp:e,onChange:n=()=>{}}){const[r,i]=HZ({defaultProp:e,onChange:n}),o=t!==void 0,s=o?t:r,a=bi(n),l=m.useCallback(c=>{if(o){const f=typeof c=="function"?c(t):c;f!==t&&a(f)}else i(c)},[o,t,i,a]);return[s,l]}function HZ({defaultProp:t,onChange:e}){const n=m.useState(t),[r]=n,i=m.useRef(r),o=bi(e);return m.useEffect(()=>{i.current!==r&&(o(r),i.current=r)},[r,i,o]),n}function qZ(t){const e=m.useRef({value:t,previous:t});return m.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}const GZ=m.forwardRef((t,e)=>m.createElement(an.span,Ye({},t,{ref:e,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...t.style}})));var qD=pD(),$g=function(){},jp=m.forwardRef(function(t,e){var n=m.useRef(null),r=m.useState({onScrollCapture:$g,onWheelCapture:$g,onTouchMoveCapture:$g}),i=r[0],o=r[1],s=t.forwardProps,a=t.children,l=t.className,c=t.removeScrollBar,u=t.enabled,f=t.shards,h=t.sideCar,g=t.noIsolation,_=t.inert,v=t.allowPinchZoom,E=t.as,x=E===void 0?"div":E,y=U1(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as"]),b=h,I=hD([n,e]),N=rn(rn({},y),i);return m.createElement(m.Fragment,null,u&&m.createElement(b,{sideCar:qD,removeScrollBar:c,shards:f,noIsolation:g,inert:_,setCallbacks:o,allowPinchZoom:!!v,lockRef:n}),s?m.cloneElement(m.Children.only(a),rn(rn({},N),{ref:I})):m.createElement(x,rn({},N,{className:l,ref:I}),a))});jp.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};jp.classNames={fullWidth:Pc,zeroRight:Sc};var Wy=!1;if(typeof window<"u")try{var Wd=Object.defineProperty({},"passive",{get:function(){return Wy=!0,!0}});window.addEventListener("test",Wd,Wd),window.removeEventListener("test",Wd,Wd)}catch{Wy=!1}var Hs=Wy?{passive:!1}:!1,YZ=function(t){return t.tagName==="TEXTAREA"},GD=function(t,e){var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!YZ(t)&&n[e]==="visible")},KZ=function(t){return GD(t,"overflowY")},QZ=function(t){return GD(t,"overflowX")},eS=function(t,e){var n=e;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var r=YD(t,n);if(r){var i=KD(t,n),o=i[1],s=i[2];if(o>s)return!0}n=n.parentNode}while(n&&n!==document.body);return!1},XZ=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},JZ=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},YD=function(t,e){return t==="v"?KZ(e):QZ(e)},KD=function(t,e){return t==="v"?XZ(e):JZ(e)},ZZ=function(t,e){return t==="h"&&e==="rtl"?-1:1},eee=function(t,e,n,r,i){var o=ZZ(t,window.getComputedStyle(e).direction),s=o*r,a=n.target,l=e.contains(a),c=!1,u=s>0,f=0,h=0;do{var g=KD(t,a),_=g[0],v=g[1],E=g[2],x=v-E-o*_;(_||x)&&YD(t,a)&&(f+=x,h+=_),a=a.parentNode}while(!l&&a!==document.body||l&&(e.contains(a)||e===a));return(u&&(i&&f===0||!i&&s>f)||!u&&(i&&h===0||!i&&-s>h))&&(c=!0),c},zd=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},tS=function(t){return[t.deltaX,t.deltaY]},nS=function(t){return t&&"current"in t?t.current:t},tee=function(t,e){return t[0]===e[0]&&t[1]===e[1]},nee=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},ree=0,qs=[];function iee(t){var e=m.useRef([]),n=m.useRef([0,0]),r=m.useRef(),i=m.useState(ree++)[0],o=m.useState(function(){return B1()})[0],s=m.useRef(t);m.useEffect(function(){s.current=t},[t]),m.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(i));var v=fD([t.lockRef.current],(t.shards||[]).map(nS),!0).filter(Boolean);return v.forEach(function(E){return E.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),v.forEach(function(E){return E.classList.remove("allow-interactivity-".concat(i))})}}},[t.inert,t.lockRef.current,t.shards]);var a=m.useCallback(function(v,E){if("touches"in v&&v.touches.length===2)return!s.current.allowPinchZoom;var x=zd(v),y=n.current,b="deltaX"in v?v.deltaX:y[0]-x[0],I="deltaY"in v?v.deltaY:y[1]-x[1],N,O=v.target,S=Math.abs(b)>Math.abs(I)?"h":"v";if("touches"in v&&S==="h"&&O.type==="range")return!1;var C=eS(S,O);if(!C)return!0;if(C?N=S:(N=S==="v"?"h":"v",C=eS(S,O)),!C)return!1;if(!r.current&&"changedTouches"in v&&(b||I)&&(r.current=N),!N)return!0;var P=r.current||N;return eee(P,E,v,P==="h"?b:I,!0)},[]),l=m.useCallback(function(v){var E=v;if(!(!qs.length||qs[qs.length-1]!==o)){var x="deltaY"in E?tS(E):zd(E),y=e.current.filter(function(N){return N.name===E.type&&N.target===E.target&&tee(N.delta,x)})[0];if(y&&y.should){E.cancelable&&E.preventDefault();return}if(!y){var b=(s.current.shards||[]).map(nS).filter(Boolean).filter(function(N){return N.contains(E.target)}),I=b.length>0?a(E,b[0]):!s.current.noIsolation;I&&E.cancelable&&E.preventDefault()}}},[]),c=m.useCallback(function(v,E,x,y){var b={name:v,delta:E,target:x,should:y};e.current.push(b),setTimeout(function(){e.current=e.current.filter(function(I){return I!==b})},1)},[]),u=m.useCallback(function(v){n.current=zd(v),r.current=void 0},[]),f=m.useCallback(function(v){c(v.type,tS(v),v.target,a(v,t.lockRef.current))},[]),h=m.useCallback(function(v){c(v.type,zd(v),v.target,a(v,t.lockRef.current))},[]);m.useEffect(function(){return qs.push(o),t.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:h}),document.addEventListener("wheel",l,Hs),document.addEventListener("touchmove",l,Hs),document.addEventListener("touchstart",u,Hs),function(){qs=qs.filter(function(v){return v!==o}),document.removeEventListener("wheel",l,Hs),document.removeEventListener("touchmove",l,Hs),document.removeEventListener("touchstart",u,Hs)}},[]);var g=t.removeScrollBar,_=t.inert;return m.createElement(m.Fragment,null,_?m.createElement(o,{styles:nee(i)}):null,g?m.createElement(yD,{gapMode:"margin"}):null)}const oee=gD(qD,iee);var QD=m.forwardRef(function(t,e){return m.createElement(jp,rn({},t,{ref:e,sideCar:oee}))});QD.classNames=jp.classNames;const see=QD,aee=[" ","Enter","ArrowUp","ArrowDown"],lee=[" ","Enter"],Fp="Select",[$p,H1,cee]=uZ(Fp),[_l,Ane]=z1(Fp,[cee,BD]),q1=BD(),[uee,Os]=_l(Fp),[dee,fee]=_l(Fp),hee=t=>{const{__scopeSelect:e,children:n,open:r,defaultOpen:i,onOpenChange:o,value:s,defaultValue:a,onValueChange:l,dir:c,name:u,autoComplete:f,disabled:h,required:g}=t,_=q1(e),[v,E]=m.useState(null),[x,y]=m.useState(null),[b,I]=m.useState(!1),N=fZ(c),[O=!1,S]=ZC({prop:r,defaultProp:i,onChange:o}),[C,P]=ZC({prop:s,defaultProp:a,onChange:l}),A=m.useRef(null),M=v?!!v.closest("form"):!0,[D,k]=m.useState(new Set),B=Array.from(D).map(q=>q.props.value).join(";");return m.createElement(UZ,_,m.createElement(uee,{required:g,scope:e,trigger:v,onTriggerChange:E,valueNode:x,onValueNodeChange:y,valueNodeHasChildren:b,onValueNodeHasChildrenChange:I,contentId:FD(),value:C,onValueChange:P,open:O,onOpenChange:S,dir:N,triggerPointerDownPosRef:A,disabled:h},m.createElement($p.Provider,{scope:e},m.createElement(dee,{scope:t.__scopeSelect,onNativeOptionAdd:m.useCallback(q=>{k(K=>new Set(K).add(q))},[]),onNativeOptionRemove:m.useCallback(q=>{k(K=>{const F=new Set(K);return F.delete(q),F})},[])},n)),M?m.createElement(eM,{key:B,"aria-hidden":!0,required:g,tabIndex:-1,name:u,autoComplete:f,value:C,onChange:q=>P(q.target.value),disabled:h},C===void 0?m.createElement("option",{value:""}):null,Array.from(D)):null))},pee="SelectTrigger",mee=m.forwardRef((t,e)=>{const{__scopeSelect:n,disabled:r=!1,...i}=t,o=q1(n),s=Os(pee,n),a=s.disabled||r,l=Pn(e,s.onTriggerChange),c=H1(n),[u,f,h]=tM(_=>{const v=c().filter(y=>!y.disabled),E=v.find(y=>y.value===s.value),x=nM(v,_,E);x!==void 0&&s.onValueChange(x.value)}),g=()=>{a||(s.onOpenChange(!0),h())};return m.createElement(BZ,Ye({asChild:!0},o),m.createElement(an.button,Ye({type:"button",role:"combobox","aria-controls":s.contentId,"aria-expanded":s.open,"aria-required":s.required,"aria-autocomplete":"none",dir:s.dir,"data-state":s.open?"open":"closed",disabled:a,"data-disabled":a?"":void 0,"data-placeholder":ZD(s.value)?"":void 0},i,{ref:l,onClick:hn(i.onClick,_=>{_.currentTarget.focus()}),onPointerDown:hn(i.onPointerDown,_=>{const v=_.target;v.hasPointerCapture(_.pointerId)&&v.releasePointerCapture(_.pointerId),_.button===0&&_.ctrlKey===!1&&(g(),s.triggerPointerDownPosRef.current={x:Math.round(_.pageX),y:Math.round(_.pageY)},_.preventDefault())}),onKeyDown:hn(i.onKeyDown,_=>{const v=u.current!=="";!(_.ctrlKey||_.altKey||_.metaKey)&&_.key.length===1&&f(_.key),!(v&&_.key===" ")&&aee.includes(_.key)&&(g(),_.preventDefault())})})))}),gee="SelectValue",vee=m.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:i,children:o,placeholder:s="",...a}=t,l=Os(gee,n),{onValueNodeHasChildrenChange:c}=l,u=o!==void 0,f=Pn(e,l.onValueNodeChange);return Ti(()=>{c(u)},[c,u]),m.createElement(an.span,Ye({},a,{ref:f,style:{pointerEvents:"none"}}),ZD(l.value)?m.createElement(m.Fragment,null,s):o)}),yee=m.forwardRef((t,e)=>{const{__scopeSelect:n,children:r,...i}=t;return m.createElement(an.span,Ye({"aria-hidden":!0},i,{ref:e}),r||"")}),wee=t=>m.createElement(zZ,Ye({asChild:!0},t)),Ja="SelectContent",_ee=m.forwardRef((t,e)=>{const n=Os(Ja,t.__scopeSelect),[r,i]=m.useState();if(Ti(()=>{i(new DocumentFragment)},[]),!n.open){const o=r;return o?Mo.createPortal(m.createElement(XD,{scope:t.__scopeSelect},m.createElement($p.Slot,{scope:t.__scopeSelect},m.createElement("div",null,t.children))),o):null}return m.createElement(xee,Ye({},t,{ref:e}))}),Jr=10,[XD,Up]=_l(Ja),xee=m.forwardRef((t,e)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:o,onPointerDownOutside:s,side:a,sideOffset:l,align:c,alignOffset:u,arrowPadding:f,collisionBoundary:h,collisionPadding:g,sticky:_,hideWhenDetached:v,avoidCollisions:E,...x}=t,y=Os(Ja,n),[b,I]=m.useState(null),[N,O]=m.useState(null),S=Pn(e,J=>I(J)),[C,P]=m.useState(null),[A,M]=m.useState(null),D=H1(n),[k,B]=m.useState(!1),q=m.useRef(!1);m.useEffect(()=>{if(b)return $1(b)},[b]),EZ();const K=m.useCallback(J=>{const[de,...le]=D().map(Ce=>Ce.ref.current),[re]=le.slice(-1),he=document.activeElement;for(const Ce of J)if(Ce===he||(Ce==null||Ce.scrollIntoView({block:"nearest"}),Ce===de&&N&&(N.scrollTop=0),Ce===re&&N&&(N.scrollTop=N.scrollHeight),Ce==null||Ce.focus(),document.activeElement!==he))return},[D,N]),F=m.useCallback(()=>K([C,b]),[K,C,b]);m.useEffect(()=>{k&&F()},[k,F]);const{onOpenChange:L,triggerPointerDownPosRef:V}=y;m.useEffect(()=>{if(b){let J={x:0,y:0};const de=re=>{var he,Ce,Ke,st;J={x:Math.abs(Math.round(re.pageX)-((he=(Ce=V.current)===null||Ce===void 0?void 0:Ce.x)!==null&&he!==void 0?he:0)),y:Math.abs(Math.round(re.pageY)-((Ke=(st=V.current)===null||st===void 0?void 0:st.y)!==null&&Ke!==void 0?Ke:0))}},le=re=>{J.x<=10&&J.y<=10?re.preventDefault():b.contains(re.target)||L(!1),document.removeEventListener("pointermove",de),V.current=null};return V.current!==null&&(document.addEventListener("pointermove",de),document.addEventListener("pointerup",le,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",de),document.removeEventListener("pointerup",le,{capture:!0})}}},[b,L,V]),m.useEffect(()=>{const J=()=>L(!1);return window.addEventListener("blur",J),window.addEventListener("resize",J),()=>{window.removeEventListener("blur",J),window.removeEventListener("resize",J)}},[L]);const[$,W]=tM(J=>{const de=D().filter(he=>!he.disabled),le=de.find(he=>he.ref.current===document.activeElement),re=nM(de,J,le);re&&setTimeout(()=>re.ref.current.focus())}),G=m.useCallback((J,de,le)=>{const re=!q.current&&!le;(y.value!==void 0&&y.value===de||re)&&(P(J),re&&(q.current=!0))},[y.value]),Y=m.useCallback(()=>b==null?void 0:b.focus(),[b]),oe=m.useCallback((J,de,le)=>{const re=!q.current&&!le;(y.value!==void 0&&y.value===de||re)&&M(J)},[y.value]),fe=r==="popper"?rS:Eee,Ee=fe===rS?{side:a,sideOffset:l,align:c,alignOffset:u,arrowPadding:f,collisionBoundary:h,collisionPadding:g,sticky:_,hideWhenDetached:v,avoidCollisions:E}:{};return m.createElement(XD,{scope:n,content:b,viewport:N,onViewportChange:O,itemRefCallback:G,selectedItem:C,onItemLeave:Y,itemTextRefCallback:oe,focusSelectedItem:F,selectedItemText:A,position:r,isPositioned:k,searchRef:$},m.createElement(see,{as:fu,allowPinchZoom:!0},m.createElement(bZ,{asChild:!0,trapped:y.open,onMountAutoFocus:J=>{J.preventDefault()},onUnmountAutoFocus:hn(i,J=>{var de;(de=y.trigger)===null||de===void 0||de.focus({preventScroll:!0}),J.preventDefault()})},m.createElement(wZ,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:o,onPointerDownOutside:s,onFocusOutside:J=>J.preventDefault(),onDismiss:()=>y.onOpenChange(!1)},m.createElement(fe,Ye({role:"listbox",id:y.contentId,"data-state":y.open?"open":"closed",dir:y.dir,onContextMenu:J=>J.preventDefault()},x,Ee,{onPlaced:()=>B(!0),ref:S,style:{display:"flex",flexDirection:"column",outline:"none",...x.style},onKeyDown:hn(x.onKeyDown,J=>{const de=J.ctrlKey||J.altKey||J.metaKey;if(J.key==="Tab"&&J.preventDefault(),!de&&J.key.length===1&&W(J.key),["ArrowUp","ArrowDown","Home","End"].includes(J.key)){let re=D().filter(he=>!he.disabled).map(he=>he.ref.current);if(["ArrowUp","End"].includes(J.key)&&(re=re.slice().reverse()),["ArrowUp","ArrowDown"].includes(J.key)){const he=J.target,Ce=re.indexOf(he);re=re.slice(Ce+1)}setTimeout(()=>K(re)),J.preventDefault()}})}))))))}),Eee=m.forwardRef((t,e)=>{const{__scopeSelect:n,onPlaced:r,...i}=t,o=Os(Ja,n),s=Up(Ja,n),[a,l]=m.useState(null),[c,u]=m.useState(null),f=Pn(e,S=>u(S)),h=H1(n),g=m.useRef(!1),_=m.useRef(!0),{viewport:v,selectedItem:E,selectedItemText:x,focusSelectedItem:y}=s,b=m.useCallback(()=>{if(o.trigger&&o.valueNode&&a&&c&&v&&E&&x){const S=o.trigger.getBoundingClientRect(),C=c.getBoundingClientRect(),P=o.valueNode.getBoundingClientRect(),A=x.getBoundingClientRect();if(o.dir!=="rtl"){const he=A.left-C.left,Ce=P.left-he,Ke=S.left-Ce,st=S.width+Ke,Dt=Math.max(st,C.width),Zn=window.innerWidth-Jr,wr=HC(Ce,[Jr,Zn-Dt]);a.style.minWidth=st+"px",a.style.left=wr+"px"}else{const he=C.right-A.right,Ce=window.innerWidth-P.right-he,Ke=window.innerWidth-S.right-Ce,st=S.width+Ke,Dt=Math.max(st,C.width),Zn=window.innerWidth-Jr,wr=HC(Ce,[Jr,Zn-Dt]);a.style.minWidth=st+"px",a.style.right=wr+"px"}const M=h(),D=window.innerHeight-Jr*2,k=v.scrollHeight,B=window.getComputedStyle(c),q=parseInt(B.borderTopWidth,10),K=parseInt(B.paddingTop,10),F=parseInt(B.borderBottomWidth,10),L=parseInt(B.paddingBottom,10),V=q+K+k+L+F,$=Math.min(E.offsetHeight*5,V),W=window.getComputedStyle(v),G=parseInt(W.paddingTop,10),Y=parseInt(W.paddingBottom,10),oe=S.top+S.height/2-Jr,fe=D-oe,Ee=E.offsetHeight/2,J=E.offsetTop+Ee,de=q+K+J,le=V-de;if(de<=oe){const he=E===M[M.length-1].ref.current;a.style.bottom="0px";const Ce=c.clientHeight-v.offsetTop-v.offsetHeight,Ke=Math.max(fe,Ee+(he?Y:0)+Ce+F),st=de+Ke;a.style.height=st+"px"}else{const he=E===M[0].ref.current;a.style.top="0px";const Ke=Math.max(oe,q+v.offsetTop+(he?G:0)+Ee)+le;a.style.height=Ke+"px",v.scrollTop=de-oe+v.offsetTop}a.style.margin=`${Jr}px 0`,a.style.minHeight=$+"px",a.style.maxHeight=D+"px",r==null||r(),requestAnimationFrame(()=>g.current=!0)}},[h,o.trigger,o.valueNode,a,c,v,E,x,o.dir,r]);Ti(()=>b(),[b]);const[I,N]=m.useState();Ti(()=>{c&&N(window.getComputedStyle(c).zIndex)},[c]);const O=m.useCallback(S=>{S&&_.current===!0&&(b(),y==null||y(),_.current=!1)},[b,y]);return m.createElement(bee,{scope:n,contentWrapper:a,shouldExpandOnScrollRef:g,onScrollButtonChange:O},m.createElement("div",{ref:l,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:I}},m.createElement(an.div,Ye({},i,{ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}}))))}),rS=m.forwardRef((t,e)=>{const{__scopeSelect:n,align:r="start",collisionPadding:i=Jr,...o}=t,s=q1(n);return m.createElement(WZ,Ye({},s,o,{ref:e,align:r,collisionPadding:i,style:{boxSizing:"border-box",...o.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}}))}),[bee,Tee]=_l(Ja,{}),iS="SelectViewport",Cee=m.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=Up(iS,n),o=Tee(iS,n),s=Pn(e,i.onViewportChange),a=m.useRef(0);return m.createElement(m.Fragment,null,m.createElement("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"}}),m.createElement($p.Slot,{scope:n},m.createElement(an.div,Ye({"data-radix-select-viewport":"",role:"presentation"},r,{ref:s,style:{position:"relative",flex:1,overflow:"auto",...r.style},onScroll:hn(r.onScroll,l=>{const c=l.currentTarget,{contentWrapper:u,shouldExpandOnScrollRef:f}=o;if(f!=null&&f.current&&u){const h=Math.abs(a.current-c.scrollTop);if(h>0){const g=window.innerHeight-Jr*2,_=parseFloat(u.style.minHeight),v=parseFloat(u.style.height),E=Math.max(_,v);if(E<g){const x=E+h,y=Math.min(g,x),b=x-y;u.style.height=y+"px",u.style.bottom==="0px"&&(c.scrollTop=b>0?b:0,u.style.justifyContent="flex-end")}}}a.current=c.scrollTop})}))))}),See="SelectGroup",[Rne,Pee]=_l(See),Iee="SelectLabel",Aee=m.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=Pee(Iee,n);return m.createElement(an.div,Ye({id:i.id},r,{ref:e}))}),zy="SelectItem",[Ree,JD]=_l(zy),kee=m.forwardRef((t,e)=>{const{__scopeSelect:n,value:r,disabled:i=!1,textValue:o,...s}=t,a=Os(zy,n),l=Up(zy,n),c=a.value===r,[u,f]=m.useState(o??""),[h,g]=m.useState(!1),_=Pn(e,x=>{var y;return(y=l.itemRefCallback)===null||y===void 0?void 0:y.call(l,x,r,i)}),v=FD(),E=()=>{i||(a.onValueChange(r),a.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return m.createElement(Ree,{scope:n,value:r,disabled:i,textId:v,isSelected:c,onItemTextChange:m.useCallback(x=>{f(y=>{var b;return y||((b=x==null?void 0:x.textContent)!==null&&b!==void 0?b:"").trim()})},[])},m.createElement($p.ItemSlot,{scope:n,value:r,disabled:i,textValue:u},m.createElement(an.div,Ye({role:"option","aria-labelledby":v,"data-highlighted":h?"":void 0,"aria-selected":c&&h,"data-state":c?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1},s,{ref:_,onFocus:hn(s.onFocus,()=>g(!0)),onBlur:hn(s.onBlur,()=>g(!1)),onPointerUp:hn(s.onPointerUp,E),onPointerMove:hn(s.onPointerMove,x=>{if(i){var y;(y=l.onItemLeave)===null||y===void 0||y.call(l)}else x.currentTarget.focus({preventScroll:!0})}),onPointerLeave:hn(s.onPointerLeave,x=>{if(x.currentTarget===document.activeElement){var y;(y=l.onItemLeave)===null||y===void 0||y.call(l)}}),onKeyDown:hn(s.onKeyDown,x=>{var y;((y=l.searchRef)===null||y===void 0?void 0:y.current)!==""&&x.key===" "||(lee.includes(x.key)&&E(),x.key===" "&&x.preventDefault())})}))))}),Hd="SelectItemText",Nee=m.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:i,...o}=t,s=Os(Hd,n),a=Up(Hd,n),l=JD(Hd,n),c=fee(Hd,n),[u,f]=m.useState(null),h=Pn(e,x=>f(x),l.onItemTextChange,x=>{var y;return(y=a.itemTextRefCallback)===null||y===void 0?void 0:y.call(a,x,l.value,l.disabled)}),g=u==null?void 0:u.textContent,_=m.useMemo(()=>m.createElement("option",{key:l.value,value:l.value,disabled:l.disabled},g),[l.disabled,l.value,g]),{onNativeOptionAdd:v,onNativeOptionRemove:E}=c;return Ti(()=>(v(_),()=>E(_)),[v,E,_]),m.createElement(m.Fragment,null,m.createElement(an.span,Ye({id:l.textId},o,{ref:h})),l.isSelected&&s.valueNode&&!s.valueNodeHasChildren?Mo.createPortal(o.children,s.valueNode):null)}),Dee="SelectItemIndicator",Mee=m.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return JD(Dee,n).isSelected?m.createElement(an.span,Ye({"aria-hidden":!0},r,{ref:e})):null}),Oee=m.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return m.createElement(an.div,Ye({"aria-hidden":!0},r,{ref:e}))});function ZD(t){return t===""||t===void 0}const eM=m.forwardRef((t,e)=>{const{value:n,...r}=t,i=m.useRef(null),o=Pn(e,i),s=qZ(n);return m.useEffect(()=>{const a=i.current,l=window.HTMLSelectElement.prototype,u=Object.getOwnPropertyDescriptor(l,"value").set;if(s!==n&&u){const f=new Event("change",{bubbles:!0});u.call(a,n),a.dispatchEvent(f)}},[s,n]),m.createElement(GZ,{asChild:!0},m.createElement("select",Ye({},r,{ref:o,defaultValue:n})))});eM.displayName="BubbleSelect";function tM(t){const e=bi(t),n=m.useRef(""),r=m.useRef(0),i=m.useCallback(s=>{const a=n.current+s;e(a),function l(c){n.current=c,window.clearTimeout(r.current),c!==""&&(r.current=window.setTimeout(()=>l(""),1e3))}(a)},[e]),o=m.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return m.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,i,o]}function nM(t,e,n){const i=e.length>1&&Array.from(e).every(c=>c===e[0])?e[0]:e,o=n?t.indexOf(n):-1;let s=Lee(t,Math.max(o,0));i.length===1&&(s=s.filter(c=>c!==n));const l=s.find(c=>c.textValue.toLowerCase().startsWith(i.toLowerCase()));return l!==n?l:void 0}function Lee(t,e){return t.map((n,r)=>t[(e+r)%t.length])}const Vee=hee,rM=mee,jee=vee,Fee=yee,$ee=wee,iM=_ee,Uee=Cee,oM=Aee,sM=kee,Bee=Nee,Wee=Mee,aM=Oee,zee=Vee,Hee=jee,lM=we.forwardRef(({className:t,children:e,...n},r)=>p.jsxs(rM,{ref:r,className:De("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 focus:shadow-[0_0_0_3px_rgba(226,125,191,0.2)] disabled:cursor-not-allowed disabled:opacity-50",t),...n,children:[e,p.jsx(Fee,{asChild:!0,children:p.jsx(Xz,{className:"h-4 w-4 opacity-50"})})]}));lM.displayName=rM.displayName;const cM=we.forwardRef(({className:t,children:e,position:n="popper",...r},i)=>p.jsx($ee,{children:p.jsx(iM,{ref:i,className:De("relative z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...r,children:p.jsx(Uee,{className:De("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e})})}));cM.displayName=iM.displayName;const qee=we.forwardRef(({className:t,...e},n)=>p.jsx(oM,{ref:n,className:De("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...e}));qee.displayName=oM.displayName;const uM=we.forwardRef(({className:t,children:e,...n},r)=>p.jsxs(sM,{ref:r,className:De("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[p.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:p.jsx(Wee,{children:p.jsx(Eh,{className:"h-4 w-4"})})}),p.jsx(Bee,{children:e})]}));uM.displayName=sM.displayName;const Gee=we.forwardRef(({className:t,...e},n)=>p.jsx(aM,{ref:n,className:De("-mx-1 my-1 h-px bg-muted",t),...e}));Gee.displayName=aM.displayName;const Yee=({date:t,setDate:e,time:n,setTime:r,temperatureRaw:i,setTemperatureRaw:o,temperatureCorrected:s,setTemperatureCorrected:a,useCorrected:l,setUseCorrected:c,mucusSensation:u,setMucusSensation:f,mucusAppearance:h,setMucusAppearance:g,fertilitySymbol:_,setFertilitySymbol:v,observations:E,setObservations:x,ignored:y,setIgnored:b,isProcessing:I,isEditing:N,initialData:O,cycleStartDate:S})=>{const[C,P]=m.useState(!1);m.useEffect(()=>{N&&O&&(e(O.timestamp?se(O.timestamp):se(O.isoDate)),r(O.timestamp?ce(se(O.timestamp),"HH:mm"):""),o(O.temperature_raw??""),a(O.temperature_corrected??""),c(O.use_corrected??!1),f(O.mucus_sensation??""),g(O.mucus_appearance??""),v(O.fertility_symbol??"none"),x(O.observations??""),b(O.ignored??!1))},[N,O]);const A=Te(se(S)),M=[{before:A},{after:Lt(A,45)}];return p.jsxs(p.Fragment,{children:[p.jsxs("div",{className:"space-y-2",children:[p.jsxs(An,{htmlFor:"date",className:"flex items-center text-[#32334d] text-lg",children:[p.jsx(rC,{className:"mr-2 h-5 w-5 text-pink-400"}),"Fecha del Registro"]}),p.jsxs(rZ,{open:C,onOpenChange:P,children:[p.jsx(iZ,{asChild:!0,children:p.jsxs(Se,{variant:"outline",className:De("w-full justify-start text-left font-normal bg-slate-700 border-slate-600 text-slate-50 hover:bg-slate-600 hover:text-slate-50",!t&&"text-muted-foreground"),disabled:I,children:[p.jsx(rC,{className:"mr-2 h-4 w-4"}),t?ce(t,"PPP",{locale:Ji}):p.jsx("span",{children:"Selecciona una fecha"})]})}),p.jsx(OD,{className:"w-auto p-0 bg-slate-700 border-slate-600 text-slate-50",align:"start",children:p.jsx(IN,{mode:"single",selected:t,onSelect:D=>{e(Te(D||new Date)),P(!1)},initialFocus:!0,locale:Ji,disabled:I?()=>!0:M,className:"[&_button]:text-slate-50 [&_button:hover]:bg-slate-600 [&_button[aria-selected=true]]:bg-pink-500"})})]})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsxs(An,{htmlFor:"temperatureRaw",className:"flex items-center text-[#32334d] text-lg",children:[p.jsx(pH,{className:"mr-2 h-5 w-5 text-rose-400"}),N?"Temperatura Original (C)":"Temperatura Basal (C)"," ",p.jsx("span",{className:"text-sm text-[#32334d] ml-1",children:"(Opcional)"})]}),p.jsx(Vr,{id:"temperatureRaw",type:"number",step:"0.01",min:"34.0",max:"40.0",value:i,onChange:D=>o(D.target.value),placeholder:"Ej: 36.50",className:"bg-slate-700 border-slate-600 text-slate-50 placeholder-slate-400 focus:ring-pink-500 focus:border-pink-500 text-base",disabled:I||N&&(O==null?void 0:O.temperature_raw)!==null&&(O==null?void 0:O.temperature_raw)!==void 0,readOnly:N&&(O==null?void 0:O.temperature_raw)!==null&&(O==null?void 0:O.temperature_raw)!==void 0}),p.jsxs("div",{className:"space-y-2",children:[p.jsxs(An,{htmlFor:"time",className:"flex items-center text-[#32334d] text-lg",children:[p.jsx(eH,{className:"mr-2 h-5 w-5 text-rose-400"}),"Hora de la Temperatura ",p.jsx("span",{className:"text-sm text-[#32334d] ml-1",children:"(Opcional)"})]}),p.jsx(Vr,{id:"time",type:"time",value:n,onChange:D=>r(D.target.value),className:"bg-slate-700 border-slate-600 text-slate-50 placeholder-slate-400 focus:ring-pink-500 focus:border-pink-500 text-base",disabled:I})]})]}),N&&p.jsxs("div",{children:[p.jsxs("div",{className:"space-y-3 p-4 border border-slate-700 rounded-md bg-slate-200/30",children:[p.jsxs(An,{htmlFor:"temperatureCorrected",className:"flex items-center text-[#32334d] text-md",children:[p.jsx(Ny,{className:"mr-2 h-4 w-4 text-amber-400"}),"Temperatura Corregida (C) ",p.jsx("span",{className:"text-sm text-slate-400 ml-1",children:"(Opcional)"})]}),p.jsx("div",{className:"flex items-center space-x-2"}),p.jsx(Vr,{id:"temperatureCorrected",type:"number",step:"0.01",min:"34.0",max:"40.0",value:s,onChange:D=>{a(D.target.value),D.target.value!==""&&c(!0)},placeholder:"Ej: 36.65",className:"bg-slate-600 border-slate-500 text-slate-50 placeholder-slate-400 focus:ring-pink-500 focus:border-pink-500 text-base",disabled:I}),p.jsx("button",{type:"button",onClick:()=>{a(""),c(!1)},className:"absolute right-2 transform -translate-y-20 text-rose-400  hover:text-rose-400",title:"Eliminar correccin",children:"X"})]}),p.jsxs("div",{className:"flex items-center space-x-2 mt-2",children:[p.jsx(vN,{id:"useCorrected",checked:l,onCheckedChange:c,className:"data-[state=checked]:bg-pink-500 data-[state=checked]:text-white border-slate-500",disabled:I||s===""}),p.jsx(An,{htmlFor:"useCorrected",className:"text-sm text-slate-300",children:"Usar correccin en la grfica"})]}),p.jsxs(Se,{type:"button",variant:y?"outline":"destructive",size:"sm",onClick:()=>b(!y),className:"mt-2 hover:bg-rose-200/20",disabled:I,children:[y?p.jsx(Ga,{className:"mr-1 h-4 w-4"}):p.jsx(Pp,{className:"mr-1 h-4 w-4"}),y?"Restaurar":"Despreciar"]})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsxs(An,{htmlFor:"fertilitySymbol",className:"flex items-center text-[#32334d] text-lg",children:[p.jsx(uH,{className:"mr-2 h-5 w-5 text-teal-400"}),"Smbolo de Fertilidad"]}),p.jsxs(zee,{value:_,onValueChange:v,disabled:I,children:[p.jsx(lM,{className:"w-full bg-slate-700 border-slate-600 text-slate-50 hover:bg-slate-600 hover:text-slate-50",children:p.jsx(Hee,{placeholder:"Selecciona un smbolo"})}),p.jsx(cM,{className:"bg-slate-700 border-slate-600 text-slate-50",children:aN.map(D=>p.jsx(uM,{value:D.value,className:"hover:bg-slate-600 focus:bg-slate-600",children:p.jsxs("div",{className:"flex items-center",children:[p.jsx("span",{className:`w-4 h-4 rounded-full mr-2 ${D.color} ${D.pattern?"pattern-bg":""}`}),D.label]})},D.value))})]})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsxs(An,{htmlFor:"mucusSensation",className:"flex items-center text-[#32334d] text-lg",children:[p.jsx(tH,{className:"mr-2 h-5 w-5 text-sky-400"}),"Sensacin del Moco Cervical"]}),p.jsx(yf,{id:"mucusSensation",value:u,onChange:D=>f(D.target.value),placeholder:"Describe la sensacin (ej: Seca, Hmeda, Mojada)",className:"bg-slate-700 border-slate-600 text-slate-50 placeholder-slate-400 focus:ring-pink-500 focus:border-pink-500 text-base min-h-[80px]",disabled:I})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsxs(An,{htmlFor:"mucusAppearance",className:"flex items-center text-[#32334d] text-lg",children:[p.jsx(Ga,{className:"mr-2 h-5 w-5 text-amber-400"}),"Apariencia del Moco Cervical"]}),p.jsx(yf,{id:"mucusAppearance",value:h,onChange:D=>g(D.target.value),placeholder:"Describe la apariencia (ej: Pegajoso, Elstico)",className:"bg-slate-700 border-slate-600 text-slate-50 placeholder-slate-400 focus:ring-pink-500 focus:border-pink-500 text-base min-h-[80px]",disabled:I})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsxs(An,{htmlFor:"observations",className:"flex items-center text-[#32334d] text-lg",children:[p.jsx(Qz,{className:"mr-2 h-5 w-5 text-indigo-400"}),"Observaciones Adicionales"]}),p.jsx(yf,{id:"observations",value:E,onChange:D=>x(D.target.value),placeholder:"Anota cualquier otra observacin relevante (ej: Dolor, medicacin)",className:"bg-slate-700 border-slate-600 text-slate-50 placeholder-slate-400 focus:ring-pink-500 focus:border-pink-500 text-base min-h-[80px]",disabled:I})]})]})},Kee=({onCancel:t,isProcessing:e,isEditing:n})=>p.jsxs("div",{className:"flex space-x-4 pt-4",children:[t&&p.jsxs(Se,{type:"button",onClick:t,variant:"outline",className:"w-full border-slate-600 hover:bg-slate-700 text-[#70747a] font-semibold py-3 text-lg",disabled:e,children:[p.jsx(lu,{className:"mr-2 h-5 w-5"}),"Cancelar"]}),p.jsxs(Se,{type:"submit",className:"w-full bg-gradient-to-r from-pink-500 to-fuchsia-600 hover:from-pink-600 hover:to-fuchsia-700 text-white font-semibold py-3 text-lg shadow-md hover:shadow-lg transition-all duration-300 transform hover:scale-102",disabled:e,children:[e?p.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white mr-2"}):p.jsx(hH,{className:"mr-2 h-5 w-5"}),n?"Actualizar Registro":"Guardar"]})]}),Qee=(t,e,n,r)=>{const[i,o]=m.useState(e!=null&&e.isoDate?se(e.isoDate):Te(new Date)),[s,a]=m.useState((e==null?void 0:e.temperature_raw)===null||(e==null?void 0:e.temperature_raw)===void 0?"":String(e.temperature_raw)),[l,c]=m.useState(e!=null&&e.timestamp?ce(se(e.timestamp),"HH:mm"):ce(new Date,"HH:mm")),[u,f]=m.useState((e==null?void 0:e.temperature_corrected)===null||(e==null?void 0:e.temperature_corrected)===void 0?"":String(e.temperature_corrected)),[h,g]=m.useState((e==null?void 0:e.use_corrected)||!1),[_,v]=m.useState((e==null?void 0:e.mucusSensation)||""),[E,x]=m.useState((e==null?void 0:e.mucusAppearance)||""),[y,b]=m.useState((e==null?void 0:e.fertility_symbol)||ma.NONE.value),[I,N]=m.useState((e==null?void 0:e.observations)||""),[O,S]=m.useState((e==null?void 0:e.ignored)||!1),{toast:C}=vl();return m.useEffect(()=>{e?(o(se(e.isoDate)),a(e.temperature_raw===null||e.temperature_raw===void 0?"":String(e.temperature_raw)),c(e.timestamp?ce(se(e.timestamp),"HH:mm"):""),f(e.temperature_corrected===null||e.temperature_corrected===void 0?"":String(e.temperature_corrected)),g(e.use_corrected||!1),v(e.mucusSensation||""),x(e.mucusAppearance||""),b(e.fertility_symbol||ma.NONE.value),N(e.observations||""),S(e.ignored||!1)):(o(Te(new Date)),a(""),c(ce(new Date,"HH:mm")),f(""),g(!1),v(""),x(""),b(ma.NONE.value),N(""),S(!1))},[e]),{date:i,setDate:o,temperatureRaw:s,setTemperatureRaw:a,time:l,setTime:c,temperatureCorrected:u,setTemperatureCorrected:f,useCorrected:h,setUseCorrected:g,mucusSensation:_,setMucusSensation:v,mucusAppearance:E,setMucusAppearance:x,fertilitySymbol:y,setFertilitySymbol:b,observations:I,setObservations:N,ignored:O,setIgnored:S,handleSubmit:A=>{if(A.preventDefault(),!i){C({title:"Error",description:"La fecha es obligatoria.",variant:"destructive"});return}const M=ce(i,"yyyy-MM-dd");t({isoDate:M,time:l,temperature_raw:s===""?null:parseFloat(s),temperature_corrected:u===""?null:parseFloat(u),use_corrected:h,mucusSensation:_,mucusAppearance:E,fertility_symbol:y,observations:I,ignored:O}),n||(o(Te(new Date)),a(""),c(ce(new Date,"HH:mm")),f(""),g(!1),v(""),x(""),b(ma.NONE.value),N(""))}}},dM=({onSubmit:t,initialData:e,onCancel:n,cycleStartDate:r,isProcessing:i,isEditing:o=!1})=>{const s=m.useRef(null);m.useEffect(()=>{const D=s.current;if(!D)return;const k=B=>{B.target&&"scrollIntoView"in B.target&&setTimeout(()=>{B.target.scrollIntoView({behavior:"smooth",block:"center"})},50)};return D.addEventListener("focusin",k),()=>D.removeEventListener("focusin",k)},[]);const{date:a,setDate:l,time:c,setTime:u,temperatureRaw:f,setTemperatureRaw:h,temperatureCorrected:g,setTemperatureCorrected:_,useCorrected:v,setUseCorrected:E,mucusSensation:x,setMucusSensation:y,mucusAppearance:b,setMucusAppearance:I,fertilitySymbol:N,setFertilitySymbol:O,observations:S,setObservations:C,ignored:P,setIgnored:A,handleSubmit:M}=Qee(t,e,o);return p.jsxs(be.form,{ref:s,onSubmit:M,className:"space-y-6 bg-white p-4 sm:p-6 rounded-xl border border-[#FFB1DD]/50 shadow w-full",initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5},children:[p.jsxs("div",{className:"flex justify-between items-center mb-6",children:[p.jsx("h2",{className:"text-2xl font-semibold text-[#292a46]",children:o?"Editar Registro":"Aadir Registro"}),n&&p.jsx(Se,{type:"button",onClick:n,variant:"ghost",size:"icon",className:"text-[#393C65] hover:text-[#E27DBF] hover:bg-[#E27DBF]/10",children:p.jsx(lu,{className:"h-6 w-6"})})]}),p.jsx(Yee,{date:a,setDate:l,time:c,setTime:u,temperatureRaw:f,setTemperatureRaw:h,temperatureCorrected:g,setTemperatureCorrected:_,useCorrected:v,setUseCorrected:E,mucusSensation:x,setMucusSensation:y,mucusAppearance:b,setMucusAppearance:I,fertilitySymbol:N,setFertilitySymbol:O,observations:S,setObservations:C,ignored:P,setIgnored:A,isProcessing:i,isEditing:o,initialData:e,cycleStartDate:r}),p.jsx(Kee,{onCancel:n,isProcessing:i,isEditing:o})]})};var Xee=m.createContext(void 0);function Jee(t){const e=m.useContext(Xee);return t||e||"ltr"}function Zee(t,[e,n]){return Math.min(n,Math.max(e,t))}function ete(t,e){return m.useReducer((n,r)=>e[n][r]??n,t)}var G1="ScrollArea",[fM,kne]=Ms(G1),[tte,Jn]=fM(G1),hM=m.forwardRef((t,e)=>{const{__scopeScrollArea:n,type:r="hover",dir:i,scrollHideDelay:o=600,...s}=t,[a,l]=m.useState(null),[c,u]=m.useState(null),[f,h]=m.useState(null),[g,_]=m.useState(null),[v,E]=m.useState(null),[x,y]=m.useState(0),[b,I]=m.useState(0),[N,O]=m.useState(!1),[S,C]=m.useState(!1),P=lt(e,M=>l(M)),A=Jee(i);return p.jsx(tte,{scope:n,type:r,dir:A,scrollHideDelay:o,scrollArea:a,viewport:c,onViewportChange:u,content:f,onContentChange:h,scrollbarX:g,onScrollbarXChange:_,scrollbarXEnabled:N,onScrollbarXEnabledChange:O,scrollbarY:v,onScrollbarYChange:E,scrollbarYEnabled:S,onScrollbarYEnabledChange:C,onCornerWidthChange:y,onCornerHeightChange:I,children:p.jsx(ze.div,{dir:A,...s,ref:P,style:{position:"relative","--radix-scroll-area-corner-width":x+"px","--radix-scroll-area-corner-height":b+"px",...t.style}})})});hM.displayName=G1;var pM="ScrollAreaViewport",mM=m.forwardRef((t,e)=>{const{__scopeScrollArea:n,children:r,nonce:i,...o}=t,s=Jn(pM,n),a=m.useRef(null),l=lt(e,a,s.onViewportChange);return p.jsxs(p.Fragment,{children:[p.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:i}),p.jsx(ze.div,{"data-radix-scroll-area-viewport":"",...o,ref:l,style:{overflowX:s.scrollbarXEnabled?"scroll":"hidden",overflowY:s.scrollbarYEnabled?"scroll":"hidden",...t.style},children:p.jsx("div",{ref:s.onContentChange,style:{minWidth:"100%",display:"table"},children:r})})]})});mM.displayName=pM;var qr="ScrollAreaScrollbar",Y1=m.forwardRef((t,e)=>{const{forceMount:n,...r}=t,i=Jn(qr,t.__scopeScrollArea),{onScrollbarXEnabledChange:o,onScrollbarYEnabledChange:s}=i,a=t.orientation==="horizontal";return m.useEffect(()=>(a?o(!0):s(!0),()=>{a?o(!1):s(!1)}),[a,o,s]),i.type==="hover"?p.jsx(nte,{...r,ref:e,forceMount:n}):i.type==="scroll"?p.jsx(rte,{...r,ref:e,forceMount:n}):i.type==="auto"?p.jsx(gM,{...r,ref:e,forceMount:n}):i.type==="always"?p.jsx(K1,{...r,ref:e}):null});Y1.displayName=qr;var nte=m.forwardRef((t,e)=>{const{forceMount:n,...r}=t,i=Jn(qr,t.__scopeScrollArea),[o,s]=m.useState(!1);return m.useEffect(()=>{const a=i.scrollArea;let l=0;if(a){const c=()=>{window.clearTimeout(l),s(!0)},u=()=>{l=window.setTimeout(()=>s(!1),i.scrollHideDelay)};return a.addEventListener("pointerenter",c),a.addEventListener("pointerleave",u),()=>{window.clearTimeout(l),a.removeEventListener("pointerenter",c),a.removeEventListener("pointerleave",u)}}},[i.scrollArea,i.scrollHideDelay]),p.jsx(Xn,{present:n||o,children:p.jsx(gM,{"data-state":o?"visible":"hidden",...r,ref:e})})}),rte=m.forwardRef((t,e)=>{const{forceMount:n,...r}=t,i=Jn(qr,t.__scopeScrollArea),o=t.orientation==="horizontal",s=Wp(()=>l("SCROLL_END"),100),[a,l]=ete("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return m.useEffect(()=>{if(a==="idle"){const c=window.setTimeout(()=>l("HIDE"),i.scrollHideDelay);return()=>window.clearTimeout(c)}},[a,i.scrollHideDelay,l]),m.useEffect(()=>{const c=i.viewport,u=o?"scrollLeft":"scrollTop";if(c){let f=c[u];const h=()=>{const g=c[u];f!==g&&(l("SCROLL"),s()),f=g};return c.addEventListener("scroll",h),()=>c.removeEventListener("scroll",h)}},[i.viewport,o,l,s]),p.jsx(Xn,{present:n||a!=="hidden",children:p.jsx(K1,{"data-state":a==="hidden"?"hidden":"visible",...r,ref:e,onPointerEnter:Ue(t.onPointerEnter,()=>l("POINTER_ENTER")),onPointerLeave:Ue(t.onPointerLeave,()=>l("POINTER_LEAVE"))})})}),gM=m.forwardRef((t,e)=>{const n=Jn(qr,t.__scopeScrollArea),{forceMount:r,...i}=t,[o,s]=m.useState(!1),a=t.orientation==="horizontal",l=Wp(()=>{if(n.viewport){const c=n.viewport.offsetWidth<n.viewport.scrollWidth,u=n.viewport.offsetHeight<n.viewport.scrollHeight;s(a?c:u)}},10);return Za(n.viewport,l),Za(n.content,l),p.jsx(Xn,{present:r||o,children:p.jsx(K1,{"data-state":o?"visible":"hidden",...i,ref:e})})}),K1=m.forwardRef((t,e)=>{const{orientation:n="vertical",...r}=t,i=Jn(qr,t.__scopeScrollArea),o=m.useRef(null),s=m.useRef(0),[a,l]=m.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),c=xM(a.viewport,a.content),u={...r,sizes:a,onSizesChange:l,hasThumb:c>0&&c<1,onThumbChange:h=>o.current=h,onThumbPointerUp:()=>s.current=0,onThumbPointerDown:h=>s.current=h};function f(h,g){return cte(h,s.current,a,g)}return n==="horizontal"?p.jsx(ite,{...u,ref:e,onThumbPositionChange:()=>{if(i.viewport&&o.current){const h=i.viewport.scrollLeft,g=oS(h,a,i.dir);o.current.style.transform=`translate3d(${g}px, 0, 0)`}},onWheelScroll:h=>{i.viewport&&(i.viewport.scrollLeft=h)},onDragScroll:h=>{i.viewport&&(i.viewport.scrollLeft=f(h,i.dir))}}):n==="vertical"?p.jsx(ote,{...u,ref:e,onThumbPositionChange:()=>{if(i.viewport&&o.current){const h=i.viewport.scrollTop,g=oS(h,a);o.current.style.transform=`translate3d(0, ${g}px, 0)`}},onWheelScroll:h=>{i.viewport&&(i.viewport.scrollTop=h)},onDragScroll:h=>{i.viewport&&(i.viewport.scrollTop=f(h))}}):null}),ite=m.forwardRef((t,e)=>{const{sizes:n,onSizesChange:r,...i}=t,o=Jn(qr,t.__scopeScrollArea),[s,a]=m.useState(),l=m.useRef(null),c=lt(e,l,o.onScrollbarXChange);return m.useEffect(()=>{l.current&&a(getComputedStyle(l.current))},[l]),p.jsx(yM,{"data-orientation":"horizontal",...i,ref:c,sizes:n,style:{bottom:0,left:o.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:o.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":Bp(n)+"px",...t.style},onThumbPointerDown:u=>t.onThumbPointerDown(u.x),onDragScroll:u=>t.onDragScroll(u.x),onWheelScroll:(u,f)=>{if(o.viewport){const h=o.viewport.scrollLeft+u.deltaX;t.onWheelScroll(h),bM(h,f)&&u.preventDefault()}},onResize:()=>{l.current&&o.viewport&&s&&r({content:o.viewport.scrollWidth,viewport:o.viewport.offsetWidth,scrollbar:{size:l.current.clientWidth,paddingStart:Dh(s.paddingLeft),paddingEnd:Dh(s.paddingRight)}})}})}),ote=m.forwardRef((t,e)=>{const{sizes:n,onSizesChange:r,...i}=t,o=Jn(qr,t.__scopeScrollArea),[s,a]=m.useState(),l=m.useRef(null),c=lt(e,l,o.onScrollbarYChange);return m.useEffect(()=>{l.current&&a(getComputedStyle(l.current))},[l]),p.jsx(yM,{"data-orientation":"vertical",...i,ref:c,sizes:n,style:{top:0,right:o.dir==="ltr"?0:void 0,left:o.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":Bp(n)+"px",...t.style},onThumbPointerDown:u=>t.onThumbPointerDown(u.y),onDragScroll:u=>t.onDragScroll(u.y),onWheelScroll:(u,f)=>{if(o.viewport){const h=o.viewport.scrollTop+u.deltaY;t.onWheelScroll(h),bM(h,f)&&u.preventDefault()}},onResize:()=>{l.current&&o.viewport&&s&&r({content:o.viewport.scrollHeight,viewport:o.viewport.offsetHeight,scrollbar:{size:l.current.clientHeight,paddingStart:Dh(s.paddingTop),paddingEnd:Dh(s.paddingBottom)}})}})}),[ste,vM]=fM(qr),yM=m.forwardRef((t,e)=>{const{__scopeScrollArea:n,sizes:r,hasThumb:i,onThumbChange:o,onThumbPointerUp:s,onThumbPointerDown:a,onThumbPositionChange:l,onDragScroll:c,onWheelScroll:u,onResize:f,...h}=t,g=Jn(qr,n),[_,v]=m.useState(null),E=lt(e,P=>v(P)),x=m.useRef(null),y=m.useRef(""),b=g.viewport,I=r.content-r.viewport,N=Wt(u),O=Wt(l),S=Wp(f,10);function C(P){if(x.current){const A=P.clientX-x.current.left,M=P.clientY-x.current.top;c({x:A,y:M})}}return m.useEffect(()=>{const P=A=>{const M=A.target;(_==null?void 0:_.contains(M))&&N(A,I)};return document.addEventListener("wheel",P,{passive:!1}),()=>document.removeEventListener("wheel",P,{passive:!1})},[b,_,I,N]),m.useEffect(O,[r,O]),Za(_,S),Za(g.content,S),p.jsx(ste,{scope:n,scrollbar:_,hasThumb:i,onThumbChange:Wt(o),onThumbPointerUp:Wt(s),onThumbPositionChange:O,onThumbPointerDown:Wt(a),children:p.jsx(ze.div,{...h,ref:E,style:{position:"absolute",...h.style},onPointerDown:Ue(t.onPointerDown,P=>{P.button===0&&(P.target.setPointerCapture(P.pointerId),x.current=_.getBoundingClientRect(),y.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",g.viewport&&(g.viewport.style.scrollBehavior="auto"),C(P))}),onPointerMove:Ue(t.onPointerMove,C),onPointerUp:Ue(t.onPointerUp,P=>{const A=P.target;A.hasPointerCapture(P.pointerId)&&A.releasePointerCapture(P.pointerId),document.body.style.webkitUserSelect=y.current,g.viewport&&(g.viewport.style.scrollBehavior=""),x.current=null})})})}),Nh="ScrollAreaThumb",wM=m.forwardRef((t,e)=>{const{forceMount:n,...r}=t,i=vM(Nh,t.__scopeScrollArea);return p.jsx(Xn,{present:n||i.hasThumb,children:p.jsx(ate,{ref:e,...r})})}),ate=m.forwardRef((t,e)=>{const{__scopeScrollArea:n,style:r,...i}=t,o=Jn(Nh,n),s=vM(Nh,n),{onThumbPositionChange:a}=s,l=lt(e,f=>s.onThumbChange(f)),c=m.useRef(void 0),u=Wp(()=>{c.current&&(c.current(),c.current=void 0)},100);return m.useEffect(()=>{const f=o.viewport;if(f){const h=()=>{if(u(),!c.current){const g=ute(f,a);c.current=g,a()}};return a(),f.addEventListener("scroll",h),()=>f.removeEventListener("scroll",h)}},[o.viewport,u,a]),p.jsx(ze.div,{"data-state":s.hasThumb?"visible":"hidden",...i,ref:l,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...r},onPointerDownCapture:Ue(t.onPointerDownCapture,f=>{const g=f.target.getBoundingClientRect(),_=f.clientX-g.left,v=f.clientY-g.top;s.onThumbPointerDown({x:_,y:v})}),onPointerUp:Ue(t.onPointerUp,s.onThumbPointerUp)})});wM.displayName=Nh;var Q1="ScrollAreaCorner",_M=m.forwardRef((t,e)=>{const n=Jn(Q1,t.__scopeScrollArea),r=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&r?p.jsx(lte,{...t,ref:e}):null});_M.displayName=Q1;var lte=m.forwardRef((t,e)=>{const{__scopeScrollArea:n,...r}=t,i=Jn(Q1,n),[o,s]=m.useState(0),[a,l]=m.useState(0),c=!!(o&&a);return Za(i.scrollbarX,()=>{var f;const u=((f=i.scrollbarX)==null?void 0:f.offsetHeight)||0;i.onCornerHeightChange(u),l(u)}),Za(i.scrollbarY,()=>{var f;const u=((f=i.scrollbarY)==null?void 0:f.offsetWidth)||0;i.onCornerWidthChange(u),s(u)}),c?p.jsx(ze.div,{...r,ref:e,style:{width:o,height:a,position:"absolute",right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:0,...t.style}}):null});function Dh(t){return t?parseInt(t,10):0}function xM(t,e){const n=t/e;return isNaN(n)?0:n}function Bp(t){const e=xM(t.viewport,t.content),n=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,r=(t.scrollbar.size-n)*e;return Math.max(r,18)}function cte(t,e,n,r="ltr"){const i=Bp(n),o=i/2,s=e||o,a=i-s,l=n.scrollbar.paddingStart+s,c=n.scrollbar.size-n.scrollbar.paddingEnd-a,u=n.content-n.viewport,f=r==="ltr"?[0,u]:[u*-1,0];return EM([l,c],f)(t)}function oS(t,e,n="ltr"){const r=Bp(e),i=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,o=e.scrollbar.size-i,s=e.content-e.viewport,a=o-r,l=n==="ltr"?[0,s]:[s*-1,0],c=Zee(t,l);return EM([0,s],[0,a])(c)}function EM(t,e){return n=>{if(t[0]===t[1]||e[0]===e[1])return e[0];const r=(e[1]-e[0])/(t[1]-t[0]);return e[0]+r*(n-t[0])}}function bM(t,e){return t>0&&t<e}var ute=(t,e=()=>{})=>{let n={left:t.scrollLeft,top:t.scrollTop},r=0;return function i(){const o={left:t.scrollLeft,top:t.scrollTop},s=n.left!==o.left,a=n.top!==o.top;(s||a)&&e(),n=o,r=window.requestAnimationFrame(i)}(),()=>window.cancelAnimationFrame(r)};function Wp(t,e){const n=Wt(t),r=m.useRef(0);return m.useEffect(()=>()=>window.clearTimeout(r.current),[]),m.useCallback(()=>{window.clearTimeout(r.current),r.current=window.setTimeout(n,e)},[n,e])}function Za(t,e){const n=Wt(e);Br(()=>{let r=0;if(t){const i=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(n)});return i.observe(t),()=>{window.cancelAnimationFrame(r),i.unobserve(t)}}},[t,n])}var TM=hM,dte=mM,fte=_M;const CM=we.forwardRef(({className:t,children:e,...n},r)=>p.jsxs(TM,{ref:r,className:De("relative overflow-hidden",t),...n,children:[p.jsx(dte,{className:"h-full w-full rounded-[inherit]",children:e}),p.jsx(SM,{}),p.jsx(fte,{})]}));CM.displayName=TM.displayName;const SM=we.forwardRef(({className:t,orientation:e="vertical",...n},r)=>p.jsx(Y1,{ref:r,orientation:e,className:De("flex touch-none select-none transition-colors",e==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",e==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",t),...n,children:p.jsx(wM,{className:"relative flex-1 rounded-full bg-border"})}));SM.displayName=Y1.displayName;const PM=({records:t,onEdit:e,onDelete:n,onClose:r,isArchiveView:i=!1,isProcessing:o})=>{if(!t||t.length===0)return p.jsxs(be.div,{className:"text-center text-[#6B7280] p-8 bg-white rounded-xl shadow",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},children:[p.jsx("p",{className:"text-xl mb-4",children:"No hay registros para mostrar."}),r&&!i&&p.jsxs(Se,{onClick:r,variant:"outline",className:"border-[#393C65] hover:bg-[#E27DBF]/10 text-[#393C65]",children:[p.jsx(lu,{className:"mr-2 h-5 w-5"}),"Cerrar"]})]});const s=[...t].sort((a,l)=>{const c=a.timestamp?se(a.timestamp):a.isoDate?se(a.isoDate):0,u=l.timestamp?se(l.timestamp):l.isoDate?se(l.isoDate):0;return c-u});return p.jsxs(be.div,{className:"w-full bg-white/70 backdrop-blur-md p-4 sm:p-6 rounded-xl ring-1 ring-[#FFB1DD]/20 shadow-xl",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},children:[p.jsxs("div",{className:"flex justify-between items-center mb-6",children:[p.jsx("h2",{className:"text-2xl font-semibold text-[#393C65]",children:i?"Registros del Ciclo":"Mis Registros"}),r&&!i&&p.jsx(Se,{onClick:r,variant:"ghost",size:"icon",className:"text-[#393C65] hover:text-[#E27DBF] hover:bg-[#E27DBF]/10",children:p.jsx(lu,{className:"h-6 w-6"})})]}),p.jsx(CM,{className:"pr-4",children:p.jsx("ul",{className:"space-y-4",children:s.map(a=>{const l=_1(a.fertility_symbol),c=a.timestamp||a.isoDate,u=a.timestamp?ce(se(a.timestamp),"HH:mm"):null;return p.jsxs(be.li,{className:"bg-white/80 backdrop-blur-md ring-1 ring-[#FFB1DD]/50 border border-[#FFB1DD]/80 shadow-lg rounded-lg p-4 flex flex-col sm:flex-row justify-between items-start sm:items-center hover:shadow-xl transition-shadow duration-300",style:{boxShadow:"0 2px 6px rgba(0,0,0,0.05)"},layout:!0,initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,x:-20},transition:{duration:.2},children:[p.jsxs("div",{className:"flex-grow mb-3 sm:mb-0",children:[p.jsxs("h3",{className:"text-lg font-semibold text-pink-500 mb-1 ",children:[c?ce(se(c),"dd/MM/yyyy",{locale:Ji}):"Fecha no disponible"," (Da ",a.cycleDay||"N/A",")"]}),a.temperature_raw!=null&&p.jsxs("p",{className:"text-sm text-[#6B7280]",children:[p.jsx("span",{className:"font-semibold",children:"Original:"})," ",a.temperature_raw.toFixed(2),"C",u&&p.jsx("span",{className:"ml-2 text-xs text-[#9CA3AF]",children:u}),a.temperature_corrected!=null&&!a.use_corrected&&p.jsx(Eh,{className:"inline h-4 w-4 text-[#E27DBF] ml-1"})]}),a.temperature_corrected!=null&&p.jsxs("p",{className:"text-sm text-[#6B7280]",children:[p.jsx("span",{className:"font-semibold",children:"Corregida:"})," ",a.temperature_corrected.toFixed(2),"C",a.use_corrected&&p.jsx(Eh,{className:"inline h-4 w-4 text-emerald-400 ml-1"})]}),p.jsxs("div",{className:"flex items-center mt-1",children:[l&&l.value!=="none"&&p.jsx("span",{className:`w-4 h-4 rounded-full mr-2 ${l.color} ${l.pattern?"pattern-bg":""} ${l.value==="white"?"border border-gray-300":""}`}),p.jsx("p",{className:`text-sm ${l?l.textColor:"text-[#6B7280]"}`,children:l?l.label:"Sin Smbolo"})]}),p.jsxs("p",{className:"text-sm text-[#6B7280] mt-1",children:[p.jsx("span",{className:"font-semibold",children:"Sensacin:"})," ",a.mucus_sensation||"N/A"]}),p.jsxs("p",{className:"text-sm text-[#6B7280]",children:[p.jsx("span",{className:"font-semibold",children:"Apariencia:"})," ",a.mucus_appearance||"N/A"]}),a.observations&&p.jsxs("p",{className:"text-sm text-[#6B7280] mt-1 italic",children:[p.jsx("span",{className:"font-semibold",children:"Observaciones:"})," ",a.observations]}),a.ignored&&p.jsx("p",{className:"text-xs text-rose-400 mt-1",children:"(Registro despreciado)"})]}),!i&&e&&n&&p.jsxs("div",{className:"flex space-x-2 self-end sm:self-center",children:[p.jsxs(Se,{variant:"outline",size:"sm",onClick:()=>e(a),className:"border-sky-500 text-sky-400 hover:bg-sky-500/20 hover:text-sky-300",disabled:o,children:[p.jsx(ky,{className:"mr-1 h-4 w-4"})," Editar"]}),p.jsxs(Se,{variant:"destructive",size:"sm",onClick:()=>n(a.id),className:"bg-rose-600 hover:bg-rose-700",disabled:o,children:[p.jsx(oC,{className:"mr-1 h-4 w-4"})," Eliminar"]})]}),i&&e&&n&&p.jsxs("div",{className:"flex space-x-2 self-end sm:self-center",children:[p.jsxs(Se,{variant:"outline",size:"sm",onClick:()=>e(a),className:"border-sky-500 text-sky-400 hover:bg-sky-500/20 hover:text-sky-300",disabled:o,children:[p.jsx(ky,{className:"mr-1 h-4 w-4"})," Editar"]}),p.jsxs(Se,{variant:"destructive",size:"sm",onClick:()=>n(a.id),className:"bg-rose-600 hover:bg-rose-700",disabled:o,children:[p.jsx(oC,{className:"mr-1 h-4 w-4"})," Eliminar"]})]})]},a.id||c)})})})]})},hte=()=>p.jsxs(be.div,{className:"text-center text-slate-400 py-10",initial:{opacity:0},animate:{opacity:1},transition:{duration:.5,delay:.6},children:[p.jsx("p",{className:"text-xl mb-4",children:"An no hay datos registrados para este ciclo."}),p.jsx("p",{children:'Haz clic en "Aadir Registro" para empezar.'}),p.jsx("div",{className:"mt-8"})]});function Ts(t,e){m.useEffect(()=>{if(!t)return;const n=crypto.randomUUID?crypto.randomUUID():Math.random().toString(36).slice(2),r=i=>{i.state&&i.state.overlay===n&&e()};return window.history.pushState({overlay:n},""),window.addEventListener("popstate",r),()=>{window.removeEventListener("popstate",r),window.history.state&&window.history.state.overlay===n&&window.history.back()}},[t,e])}var zp="Dialog",[IM,Nne]=Ms(zp),[pte,yr]=IM(zp),AM=t=>{const{__scopeDialog:e,children:n,open:r,defaultOpen:i,onOpenChange:o,modal:s=!0}=t,a=m.useRef(null),l=m.useRef(null),[c,u]=Ip({prop:r,defaultProp:i??!1,onChange:o,caller:zp});return p.jsx(pte,{scope:e,triggerRef:a,contentRef:l,contentId:_f(),titleId:_f(),descriptionId:_f(),open:c,onOpenChange:u,onOpenToggle:m.useCallback(()=>u(f=>!f),[u]),modal:s,children:n})};AM.displayName=zp;var RM="DialogTrigger",kM=m.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=yr(RM,n),o=lt(e,i.triggerRef);return p.jsx(ze.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":Z1(i.open),...r,ref:o,onClick:Ue(t.onClick,i.onOpenToggle)})});kM.displayName=RM;var X1="DialogPortal",[mte,NM]=IM(X1,{forceMount:void 0}),DM=t=>{const{__scopeDialog:e,forceMount:n,children:r,container:i}=t,o=yr(X1,e);return p.jsx(mte,{scope:e,forceMount:n,children:m.Children.map(r,s=>p.jsx(Xn,{present:n||o.open,children:p.jsx(Op,{asChild:!0,container:i,children:s})}))})};DM.displayName=X1;var Mh="DialogOverlay",MM=m.forwardRef((t,e)=>{const n=NM(Mh,t.__scopeDialog),{forceMount:r=n.forceMount,...i}=t,o=yr(Mh,t.__scopeDialog);return o.modal?p.jsx(Xn,{present:r||o.open,children:p.jsx(vte,{...i,ref:e})}):null});MM.displayName=Mh;var gte=za("DialogOverlay.RemoveScroll"),vte=m.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=yr(Mh,n);return p.jsx(bD,{as:gte,allowPinchZoom:!0,shards:[i.contentRef],children:p.jsx(ze.div,{"data-state":Z1(i.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),Cs="DialogContent",OM=m.forwardRef((t,e)=>{const n=NM(Cs,t.__scopeDialog),{forceMount:r=n.forceMount,...i}=t,o=yr(Cs,t.__scopeDialog);return p.jsx(Xn,{present:r||o.open,children:o.modal?p.jsx(yte,{...i,ref:e}):p.jsx(wte,{...i,ref:e})})});OM.displayName=Cs;var yte=m.forwardRef((t,e)=>{const n=yr(Cs,t.__scopeDialog),r=m.useRef(null),i=lt(e,n.contentRef,r);return m.useEffect(()=>{const o=r.current;if(o)return $1(o)},[]),p.jsx(LM,{...t,ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Ue(t.onCloseAutoFocus,o=>{var s;o.preventDefault(),(s=n.triggerRef.current)==null||s.focus()}),onPointerDownOutside:Ue(t.onPointerDownOutside,o=>{const s=o.detail.originalEvent,a=s.button===0&&s.ctrlKey===!0;(s.button===2||a)&&o.preventDefault()}),onFocusOutside:Ue(t.onFocusOutside,o=>o.preventDefault())})}),wte=m.forwardRef((t,e)=>{const n=yr(Cs,t.__scopeDialog),r=m.useRef(!1),i=m.useRef(!1);return p.jsx(LM,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{var s,a;(s=t.onCloseAutoFocus)==null||s.call(t,o),o.defaultPrevented||(r.current||(a=n.triggerRef.current)==null||a.focus(),o.preventDefault()),r.current=!1,i.current=!1},onInteractOutside:o=>{var l,c;(l=t.onInteractOutside)==null||l.call(t,o),o.defaultPrevented||(r.current=!0,o.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const s=o.target;((c=n.triggerRef.current)==null?void 0:c.contains(s))&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&i.current&&o.preventDefault()}})}),LM=m.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:o,...s}=t,a=yr(Cs,n),l=m.useRef(null),c=lt(e,l);return NN(),p.jsxs(p.Fragment,{children:[p.jsx(R1,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:o,children:p.jsx(kp,{role:"dialog",id:a.contentId,"aria-describedby":a.descriptionId,"aria-labelledby":a.titleId,"data-state":Z1(a.open),...s,ref:c,onDismiss:()=>a.onOpenChange(!1)})}),p.jsxs(p.Fragment,{children:[p.jsx(_te,{titleId:a.titleId}),p.jsx(Ete,{contentRef:l,descriptionId:a.descriptionId})]})]})}),J1="DialogTitle",VM=m.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=yr(J1,n);return p.jsx(ze.h2,{id:i.titleId,...r,ref:e})});VM.displayName=J1;var jM="DialogDescription",FM=m.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=yr(jM,n);return p.jsx(ze.p,{id:i.descriptionId,...r,ref:e})});FM.displayName=jM;var $M="DialogClose",UM=m.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=yr($M,n);return p.jsx(ze.button,{type:"button",...r,ref:e,onClick:Ue(t.onClick,()=>i.onOpenChange(!1))})});UM.displayName=$M;function Z1(t){return t?"open":"closed"}var BM="DialogTitleWarning",[Dne,WM]=tK(BM,{contentName:Cs,titleName:J1,docsSlug:"dialog"}),_te=({titleId:t})=>{const e=WM(BM),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return m.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},xte="DialogDescriptionWarning",Ete=({contentRef:t,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${WM(xte).contentName}}.`;return m.useEffect(()=>{var o;const i=(o=t.current)==null?void 0:o.getAttribute("aria-describedby");e&&i&&(document.getElementById(e)||console.warn(r))},[r,t,e]),null},zM=AM,bte=kM,HM=DM,Hp=MM,qp=OM,Gp=VM,Yp=FM,qM=UM;const e_=zM,Tte=HM,GM=we.forwardRef(({className:t,...e},n)=>p.jsx(Hp,{ref:n,className:De("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));GM.displayName=Hp.displayName;const Kp=we.forwardRef(({className:t,children:e,...n},r)=>p.jsxs(Tte,{children:[p.jsx(GM,{}),p.jsxs(qp,{ref:r,className:De("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...n,children:[e,p.jsxs(qM,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[p.jsx(Vu,{className:"h-4 w-4"}),p.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Kp.displayName=qp.displayName;const Qp=({className:t,...e})=>p.jsx("div",{className:De("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});Qp.displayName="DialogHeader";const Xp=({className:t,...e})=>p.jsx("div",{className:De("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});Xp.displayName="DialogFooter";const Jp=we.forwardRef(({className:t,...e},n)=>p.jsx(Gp,{ref:n,className:De("text-lg font-semibold leading-none tracking-tight",t),...e}));Jp.displayName=Gp.displayName;const Zp=we.forwardRef(({className:t,...e},n)=>p.jsx(Yp,{ref:n,className:De("text-sm text-muted-foreground",t),...e}));Zp.displayName=Yp.displayName;const YM=({isOpen:t,onClose:e,onConfirm:n,recordDate:r})=>(Ts(t,e),p.jsx(e_,{open:t,onOpenChange:e,children:p.jsxs(Kp,{className:"bg-slate-800 border-slate-700 text-slate-50",children:[p.jsxs(Qp,{children:[p.jsx(Jp,{children:"Confirmar Eliminacin"}),p.jsxs(Zp,{className:"text-slate-400",children:["Ests seguro de que quieres eliminar el registro del ",r,"? Esta accin no se puede deshacer."]})]}),p.jsxs(Xp,{className:"sm:justify-end",children:[p.jsx(Se,{variant:"outline",onClick:e,className:"border-slate-600 hover:bg-slate-700",children:"Cancelar"}),p.jsx(Se,{variant:"destructive",onClick:n,children:"Eliminar"})]})]})})),Cte=({isOpen:t,onClose:e,onConfirm:n,currentCycleStartDate:r})=>{const[i,o]=m.useState(ce(new Date,"yyyy-MM-dd"));Ts(t,e);const s=()=>{n(i)};return p.jsx(e_,{open:t,onOpenChange:e,children:p.jsxs(Kp,{className:"bg-slate-800 border-slate-700 text-slate-50",children:[p.jsxs(Qp,{children:[p.jsx(Jp,{children:"Iniciar Nuevo Ciclo"}),p.jsxs(Zp,{className:"text-slate-400",children:["Ests seguro de que quieres iniciar un nuevo ciclo? Los datos del ciclo actual (",ce(new Date(r),"dd/MM/yyyy")," - ",ce(new Date,"dd/MM/yyyy"),") sern archivados."]})]}),p.jsxs("div",{className:"my-4 space-y-2",children:[p.jsx("label",{htmlFor:"startDate",className:"text-slate-300 text-sm",children:"Fecha de inicio del nuevo ciclo"}),p.jsx(Vr,{id:"startDate",type:"date",value:i,onChange:a=>o(a.target.value),max:ce(new Date,"yyyy-MM-dd"),className:"bg-slate-700 border-slate-600 text-slate-50"})]}),p.jsxs(Xp,{className:"sm:justify-end",children:[p.jsx(Se,{variant:"outline",onClick:e,className:"border-slate-600 hover:bg-slate-700",children:"Cancelar"}),p.jsx(Se,{variant:"primary",onClick:s,className:"bg-pink-600 hover:bg-pink-700",children:"Confirmar Nuevo Ciclo"})]})]})})},Ste=(t,e)=>{if(!t||!e)return 0;const n=Te(se(t)),r=Te(se(e));return vo(n,r)+1},Ug=(t,e)=>!t||!Array.isArray(t)||!e?[]:[...t].sort((r,i)=>{const o=r.timestamp?se(r.timestamp):r.iso_date?se(r.iso_date):0,s=i.timestamp?se(i.timestamp):i.iso_date?se(i.iso_date):0;return AH(o,s)}).map(r=>({...r,id:r.id,isoDate:r.iso_date||(r.timestamp?ce(se(r.timestamp),"yyyy-MM-dd"):null),date:r.timestamp?ce(se(r.timestamp),"dd/MM"):r.iso_date?ce(se(r.iso_date),"dd/MM"):"N/A",cycleDay:Ste(r.iso_date||r.timestamp,e),temperature_raw:r.temperature_raw,temperature_corrected:r.temperature_corrected,use_corrected:r.use_corrected,mucusSensation:r.mucus_sensation,mucusAppearance:r.mucus_appearance,fertility_symbol:r.fertility_symbol,observations:r.observations,ignored:r.ignored,temperature_chart:r.temperature_chart??(r.use_corrected?r.temperature_corrected??r.temperature_raw:r.temperature_raw??r.temperature_corrected),timestamp:r.timestamp})),Pte=async t=>{const e=ys(Qn,"cycles"),n=tu(e,po("user_id","==",t)),r=await nu(n);if(r.empty)return null;const i=r.docs.map(u=>({id:u.id,...u.data()})).filter(u=>u.end_date===null||u.end_date===void 0).sort((u,f)=>(f.start_date||"").localeCompare(u.start_date||""));if(i.length===0)return null;const o=i[0],s=ys(Qn,"entries"),a=tu(s,po("cycle_id","==",o.id),po("user_id","==",t)),c=(await nu(a)).docs.map(u=>({id:u.id,...u.data()}));return{id:o.id,startDate:o.start_date,endDate:o.end_date,data:c}},Ite=async t=>{const e=ys(Qn,"cycles"),n=tu(e,po("user_id","==",t)),i=(await nu(n)).docs.map(s=>({id:s.id,...s.data()})).filter(s=>s.end_date!==null&&s.end_date!==void 0).sort((s,a)=>(a.start_date||"").localeCompare(s.start_date||""));return await Promise.all(i.map(async s=>{const a=ys(Qn,"entries"),l=tu(a,po("cycle_id","==",s.id),po("user_id","==",t)),u=(await nu(l)).docs.map(f=>({id:f.id,...f.data()}));return{id:s.id,startDate:s.start_date,endDate:s.end_date,data:u}}))},sS=async(t,e)=>{const n=hl(Qn,"cycles",e),r=await Rw(n);if(!r.exists())return null;const i=r.data();if(i.user_id!==t)return null;const o=ys(Qn,"entries"),s=tu(o,po("cycle_id","==",e),po("user_id","==",t)),l=(await nu(s)).docs.map(c=>({id:c.id,...c.data()}));return{id:e,startDate:i.start_date,endDate:i.end_date,data:l}},aS=async(t,e)=>({id:(await PR(ys(Qn,"cycles"),{user_id:t,start_date:e,end_date:null})).id,start_date:e}),Ate=async t=>({id:(await PR(ys(Qn,"entries"),{cycle_id:t.cycle_id,user_id:t.user_id,timestamp:t.timestamp??new Date().toISOString(),temperature_raw:t.temperature_raw,temperature_corrected:t.temperature_corrected,use_corrected:t.use_corrected,temperature_chart:t.temperature_chart,mucus_sensation:t.mucus_sensation,mucus_appearance:t.mucus_appearance,fertility_symbol:t.fertility_symbol,observations:t.observations,ignored:t.ignored})).id}),lS=async(t,e)=>{const n=hl(Qn,"entries",t),r={temperature_raw:e.temperature_raw,temperature_corrected:e.temperature_corrected,use_corrected:e.use_corrected,temperature_chart:e.temperature_chart,mucus_sensation:e.mucus_sensation,mucus_appearance:e.mucus_appearance,fertility_symbol:e.fertility_symbol,observations:e.observations,ignored:e.ignored};return e.timestamp&&(r.timestamp=e.timestamp),await kw(n,r),{id:t}},Rte=async t=>{await T$(hl(Qn,"entries",t))},kte=async(t,e,n)=>{const r=hl(Qn,"cycles",t),i=await Rw(r);if(!i.exists())throw new Error("Cycle not found");if(i.data().user_id!==e)throw new Error("Unauthorized");await kw(r,{end_date:n})},Nte=async(t,e,n,r)=>{const i=hl(Qn,"cycles",t),o=await Rw(i);if(!o.exists())throw new Error("Cycle not found");if(o.data().user_id!==e)throw new Error("Unauthorized");const a={};n!==void 0&&(a.start_date=n),r!==void 0&&(a.end_date=r),await kw(i,a)},cS=(t,e)=>{if(!e)return t;const n=Te(se(e));return t.filter(r=>se(r.isoDate)<=n)},t_=(t=null)=>{const{user:e}=gl(),{toast:n}=vl(),[r,i]=m.useState({id:null,startDate:ce(Te(new Date),"yyyy-MM-dd"),data:[]}),[o,s]=m.useState([]),[a,l]=m.useState(!0),c=m.useCallback(async()=>{if(!(e!=null&&e.uid)){console.log("No user found, skipping cycle data load"),l(!1);return}console.log("Loading cycle data for user:",e.uid),l(!0);try{let E;if(t)console.log("Loading specific cycle:",t),E=await sS(e.uid,t),E||(E={id:t,startDate:ce(Te(new Date),"yyyy-MM-dd"),data:[]});else if(console.log("Loading current cycle"),E=await Pte(e.uid),!E){console.log("No current cycle found, creating new one");const y=ce(Te(new Date),"yyyy-MM-dd"),b=await aS(e.uid,y);E={id:b.id,startDate:b.start_date,data:[]}}console.log("Cycle loaded:",E),i({...E,startDate:E.startDate?ce(Te(se(E.startDate)),"yyyy-MM-dd"):ce(Te(new Date),"yyyy-MM-dd"),data:Ug(E.data,E.startDate)}),console.log("Loading archived cycles");const x=await Ite(e.uid);s(x.map(y=>{const b=Ug(y.data||[],y.startDate),I=cS(b,y.endDate);return{...y,startDate:y.startDate?ce(Te(se(y.startDate)),"yyyy-MM-dd"):ce(Te(new Date),"yyyy-MM-dd"),endDate:y.endDate?ce(Te(se(y.endDate)),"yyyy-MM-dd"):null,data:I}}))}catch(E){console.error("Error in loadCycleData:",E),E.code==="permission-denied"&&console.error("Firebase permissions error. Check Firestore rules."),i({id:null,startDate:ce(Te(new Date),"yyyy-MM-dd"),data:[]}),s([])}finally{l(!1)}},[e,t]);m.useEffect(()=>{c()},[c]);const u=m.useCallback(async(E,x)=>{if(!(e!=null&&e.uid)||!r.id)throw console.error("User or currentCycle.id is missing"),new Error("User or currentCycle.id is missing");console.log("Adding/updating data point:",E,"editing:",x),l(!0);try{const y=E.time&&E.time.trim()!==""?E.time:ce(new Date,"HH:mm"),b=zG(`${E.isoDate} ${y}`,"yyyy-MM-dd HH:mm",new Date),I=E.temperature_raw===""||E.temperature_raw===null||E.temperature_raw===void 0?null:parseFloat(E.temperature_raw),N=E.temperature_corrected===""||E.temperature_corrected===null||E.temperature_corrected===void 0?null:parseFloat(E.temperature_corrected),O=E.use_corrected||!1,S=O?N??I:I??N,C={cycle_id:r.id,user_id:e.uid,timestamp:ce(b,"yyyy-MM-dd'T'HH:mm:ssXXX"),temperature_raw:I,temperature_corrected:N,use_corrected:O,temperature_chart:S,mucus_sensation:E.mucusSensation||null,mucus_appearance:E.mucusAppearance||null,fertility_symbol:E.fertility_symbol==="none"?null:E.fertility_symbol,observations:E.observations||null,ignored:x?E.ignored??x.ignored:E.ignored||!1};x?(console.log("Updating existing record:",x.id),await lS(x.id,C)):(console.log("Creating new record"),await Ate(C)),console.log("Data point saved successfully"),await c()}catch(y){throw console.error("Error adding/updating data point:",y),y}finally{l(!1)}},[e,r.id,c]),f=m.useCallback(async E=>{if(!(!(e!=null&&e.uid)||!r.id)){console.log("Deleting record:",E),l(!0);try{await Rte(E,e.uid),await c(),console.log("Record deleted successfully")}catch(x){throw console.error("Error deleting record:",x),x}finally{l(!1)}}},[e,r.id,c]),h=m.useCallback(async(E,x)=>{if(e!=null&&e.uid){console.log("Toggling ignore for record:",x,"in cycle:",E),l(!0);try{const y=E===r.id?r:o.find(N=>N.id===E);if(!y)throw new Error("Cycle not found for toggling ignore state.");const b=y.data.find(N=>N.id===x);if(!b)throw new Error("Record not found for toggling ignore state.");const I=!b.ignored;await lS(x,{ignored:I}),await c(),console.log("Record ignore status toggled successfully")}catch(y){throw console.error("Error toggling ignore state:",y),y}finally{l(!1)}}},[e,r,o,c]),g=m.useCallback(async E=>{if(!(!(e!=null&&e.uid)||!r.id)){console.log("Starting new cycle with date:",E),l(!0);try{const x=Te(E?se(E):new Date),y=ce(Lt(x,-1),"yyyy-MM-dd");await kte(r.id,e.uid,y);const b=ce(x,"yyyy-MM-dd"),I=await aS(e.uid,b);i({id:I.id,startDate:I.start_date,data:[]}),await c(),console.log("New cycle started successfully")}catch(x){throw console.error("Error starting new cycle:",x),n({title:"Error",description:"No se pudo archivar el ciclo.",variant:"destructive"}),x}finally{l(!1)}}},[e,r,c,n]),_=m.useCallback(async(E,x,y)=>{if(e!=null&&e.uid){console.log("Updating cycle dates:",E,x,y),l(!0);try{await Nte(E,e.uid,x,y),await c(),console.log("Cycle dates updated successfully")}catch(b){throw console.error("Error updating cycle dates:",b),n({title:"Error",description:"No se pudieron actualizar las fechas.",variant:"destructive"}),b}finally{l(!1)}}},[e,c,n]),v=m.useCallback(async E=>{if(!(e!=null&&e.uid))return null;console.log("Fetching cycle by ID:",E),l(!0);try{const x=await sS(e.uid,E);if(!x)return null;const y=Ug(x.data||[],x.startDate),b=cS(y,x.endDate),I={...x,startDate:x.startDate?ce(Te(se(x.startDate)),"yyyy-MM-dd"):ce(Te(new Date),"yyyy-MM-dd"),endDate:x.endDate?ce(Te(se(x.endDate)),"yyyy-MM-dd"):null,data:b};return console.log("Cycle fetched successfully:",I),I}catch(x){return console.error("Error fetching cycle by ID:",x),null}finally{l(!1)}},[e]);return{currentCycle:r,archivedCycles:o,addOrUpdateDataPoint:u,deleteRecord:f,startNewCycle:g,updateCycleDates:_,isLoading:a,getCycleById:v,refreshData:c,toggleIgnoreRecord:h}},KM=()=>{const[t,e]=m.useState(!1),[n,r]=m.useState("portrait"),i=m.useCallback(async(l="portrait")=>{const c=document.documentElement;try{c.requestFullscreen?await c.requestFullscreen():c.mozRequestFullScreen?await c.mozRequestFullScreen():c.webkitRequestFullscreen?await c.webkitRequestFullscreen():c.msRequestFullscreen&&await c.msRequestFullscreen(),typeof window<"u"&&window.screen&&window.screen.orientation&&window.screen.orientation.lock&&await window.screen.orientation.lock(`${l}-primary`).catch(()=>{}),r(l)}catch{}},[]),o=m.useCallback(async()=>{try{document.exitFullscreen?await document.exitFullscreen():document.mozCancelFullScreen?await document.mozCancelFullScreen():document.webkitExitFullscreen?await document.webkitExitFullscreen():document.msExitFullscreen&&await document.msExitFullscreen(),typeof window<"u"&&window.screen&&window.screen.orientation&&window.screen.orientation.unlock&&window.screen.orientation.unlock()}catch{}},[]),s=m.useCallback(async()=>{t?await o():await i("portrait")},[t,i,o]),a=m.useCallback(async()=>{const l=n==="portrait"?"landscape":"portrait";t&&window.screen&&window.screen.orientation&&window.screen.orientation.lock&&await window.screen.orientation.lock(`${l}-primary`).catch(()=>{}),r(l)},[n,t]);return m.useEffect(()=>{const l=()=>{const c=!!(document.fullscreenElement||document.webkitIsFullScreen||document.mozFullScreenElement||document.msFullscreenElement);e(c),!c&&typeof window<"u"&&window.screen&&window.screen.orientation&&window.screen.orientation.unlock&&window.screen.orientation.unlock()};return document.addEventListener("fullscreenchange",l),document.addEventListener("webkitfullscreenchange",l),document.addEventListener("mozfullscreenchange",l),document.addEventListener("MSFullscreenChange",l),()=>{document.removeEventListener("fullscreenchange",l),document.removeEventListener("webkitfullscreenchange",l),document.removeEventListener("mozfullscreenchange",l),document.removeEventListener("MSFullscreenChange",l)}},[]),{isFullScreen:t,orientation:n,toggleFullScreen:s,rotateScreen:a}},Dte=Nu("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors",{variants:{variant:{default:"bg-primary text-primary-foreground border-transparent",secondary:"bg-secondary text-secondary-foreground border-transparent",destructive:"bg-destructive text-destructive-foreground border-transparent",outline:"text-foreground"}},defaultVariants:{variant:"default"}}),QM=m.forwardRef(({className:t,variant:e,...n},r)=>p.jsx("div",{ref:r,className:De(Dte({variant:e}),t),...n}));QM.displayName="Badge";function XM(t,e){if(!t||!e)return[];const n=typeof t=="string"?se(t):t;return[...Array(e)].map((r,i)=>{const o=Lt(n,i),s=ce(o,"yyyy-MM-dd"),a=ce(o,"dd/MM"),l=vo(Te(o),Te(n))+1;return{date:a,isoDate:s,cycleDay:l,temperature:null,mucusSensation:null,mucusAppearance:null,id:`placeholder-${s}`,ignored:!1}})}const JM=28,ZM=5,eO=10,Mte=(t,e)=>{let r=null,i=null;return i=14,{preovulatory:r,t8:i,hasSufficientData:3>=6}},Ote=({currentCycle:t,onShowRecords:e})=>{var o;if(!(t!=null&&t.startDate))return null;const n=vo(new Date,se(t.startDate))+1,r=((o=t.data)==null?void 0:o.filter(s=>s.id&&!s.id.startsWith("placeholder-")).length)||0,i=Mte([],t.data);return p.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-2 mb-4",children:[p.jsx(be.div,{className:"bg-white/70 backdrop-blur-sm rounded-xl p-3 border border-pink-100/50 shadow-sm",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4,delay:.1},children:p.jsxs("div",{className:"flex items-center space-x-2",children:[p.jsx("div",{className:"p-1.5 bg-gradient-to-br from-pink-500/10 to-rose-500/10 rounded-lg",children:p.jsx(Kz,{className:"h-4 w-4 text-pink-600"})}),p.jsxs("div",{className:"flex-1 min-w-0",children:[p.jsx("p",{className:"text-xs font-medium text-gray-600 uppercase tracking-wide",children:"Da del Ciclo"}),p.jsx("p",{className:"text-lg font-bold text-pink-600 truncate",children:n})]})]})}),p.jsx(be.button,{onClick:e,className:"bg-white/70 backdrop-blur-sm rounded-xl p-3 border border-emerald-100/50 shadow-sm hover:shadow-md hover:scale-[1.02] transition-all duration-200 text-left group",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4,delay:.2},children:p.jsxs("div",{className:"flex items-center space-x-2",children:[p.jsx("div",{className:"p-1.5 bg-gradient-to-br from-emerald-500/10 to-teal-500/10 rounded-lg group-hover:from-emerald-500/20 group-hover:to-teal-500/20 transition-colors",children:p.jsx(sC,{className:"h-4 w-4 text-emerald-600"})}),p.jsxs("div",{className:"flex-1 min-w-0",children:[p.jsx("p",{className:"text-xs font-medium text-gray-600 uppercase tracking-wide",children:"Registros"}),p.jsx("p",{className:"text-lg font-bold text-emerald-600 truncate",children:r})]})]})}),p.jsxs(be.div,{className:"bg-white/70 backdrop-blur-sm rounded-xl p-2 border border-purple-100/50 shadow-sm col-span-2 md:col-span-2 lg:col-span-1",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4,delay:.3},children:[p.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[p.jsx("div",{className:"p-1 bg-gradient-to-br from-purple-500/10 to-indigo-500/10 rounded-lg",children:p.jsx(nH,{className:"h-3.5 w-3.5 text-purple-600"})}),p.jsx("p",{className:"text-xs font-medium text-gray-600 uppercase tracking-wide",children:"Ventana Frtil"})]}),i.hasSufficientData?p.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[p.jsxs("div",{className:"bg-purple-50/50 rounded-lg p-2",children:[p.jsxs("div",{className:"flex items-center space-x-1 mb-1",children:[p.jsx(mH,{className:"h-3 w-3 text-purple-500"}),p.jsx("p",{className:"text-xs text-purple-600 font-medium",children:"Clc. Preov."})]}),p.jsx("p",{className:"text-sm font-bold text-purple-700",children:i.preovulatory?`Da ${i.preovulatory}`:""})]}),p.jsxs("div",{className:"bg-indigo-50/50 rounded-lg p-2",children:[p.jsxs("div",{className:"flex items-center space-x-1 mb-1",children:[p.jsx(sC,{className:"h-3 w-3 text-indigo-500"}),p.jsx("p",{className:"text-xs text-indigo-600 font-medium",children:"T-8"})]}),p.jsx("p",{className:"text-sm font-bold text-indigo-700",children:i.t8?`Da ${i.t8}`:""})]})]}):p.jsxs("div",{className:"text-center py-2",children:[p.jsx("p",{className:"text-xs text-gray-500",children:"Datos insuficientes"}),p.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Se requieren 6 ciclos"})]})]})]})},Lte=({currentCycle:t,addOrUpdateDataPoint:e,deleteCurrentRecord:n,toggleIgnoreRecord:r,startNewCycle:i,isLoading:o,isFullScreen:s,toggleFullScreen:a,orientation:l,rotateScreen:c,chartDisplayData:u,scrollStart:f,showForm:h,setShowForm:g,showRecords:_,setShowRecords:v,editingRecord:E,setEditingRecord:x,recordToDelete:y,setRecordToDelete:b,confirmNewCycleDialog:I,setConfirmNewCycleDialog:N,toast:O,showInterpretation:S,setShowInterpretation:C})=>{Ts(_,()=>v(!1)),Ts(h||E,()=>{g(!1),x(null)});const P=s?l==="portrait"?eO:JM:ZM,A=F=>{const L=()=>{x(F),v(!1),g(!0)};s?(a(),setTimeout(L,300)):L()},M=F=>{const L=t.data.find(V=>V.id===F);b(L)},D=()=>{y&&(n(y.id),O({title:"Registro eliminado",description:`El registro del ${ce(se(y.isoDate),"dd/MM/yyyy")} ha sido eliminado.`,variant:"destructive"}),b(null))},k=()=>{x(null),v(!1),g(!0)},B=()=>{g(!1),x(null),v(!0)},q=()=>{N(!0)},K=F=>{i(F),O({title:"Nuevo Ciclo Iniciado",description:"Los datos del ciclo anterior han sido archivados."}),N(!1)};return o?p.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[60vh] space-y-4",children:[p.jsx(be.div,{className:"w-8 h-8 rounded-full bg-pink-500/80",animate:{opacity:[.4,1,.4]},transition:{duration:1.2,repeat:1/0}}),p.jsx(be.p,{className:"text-pink-600 font-medium",initial:{opacity:0},animate:{opacity:1},transition:{delay:.2},children:"Cargando datos del ciclo..."})]}):p.jsxs("div",{className:`flex flex-col items-center w-full min-h-screen bg-gradient-to-br from-pink-50 via-purple-50 to-indigo-50 ${s?"overflow-hidden h-full":""}`,children:[!s&&!h&&!_&&p.jsxs(be.div,{className:"w-full max-w-6xl px-4 pt-6 pb-4",initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5},children:[p.jsxs("div",{className:"text-center mb-6",children:[p.jsxs("div",{className:"inline-flex items-center space-x-2 mb-3",children:[p.jsx("div",{className:"p-2 bg-gradient-to-r from-pink-500 to-rose-500 rounded-xl shadow-sm",children:p.jsx(rH,{className:"h-5 w-5 text-white"})}),p.jsxs("div",{className:"text-left",children:[p.jsx("h1",{className:"text-2xl font-semibold text-gray-800",children:"Ciclo Actual"}),p.jsx("p",{className:"text-sm text-gray-500",children:"Seguimiento natural de fertilidad"})]})]}),p.jsx(QM,{variant:"secondary",className:"bg-white/60 text-gray-700 border-gray-200 px-3 py-1 rounded-full text-sm",children:t!=null&&t.startDate?`Iniciado el ${ce(se(t.startDate),"dd/MM/yyyy")}`:"Sin datos de ciclo"})]}),p.jsx(Ote,{currentCycle:t,onShowRecords:B})]}),p.jsxs("main",{className:`w-full ${s?"h-full flex items-center justify-center":"max-w-6xl flex-grow px-4"}`,children:[p.jsx(Cc,{children:!h&&!_&&(u.length>0||s)&&p.jsxs(be.div,{initial:{opacity:0,scale:s?1:.98,y:s?0:10},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:s?1:.98,y:s?0:10},transition:{duration:.4,ease:"easeOut"},className:`
                ${s?"w-full h-full p-0 fixed inset-0 z-50 bg-white":"p-4 sm:p-6 mb-6 bg-white/70 backdrop-blur-xl rounded-2xl border border-white/50"}
                shadow-xl shadow-purple-500/5
              `,children:[p.jsx(lN,{data:u,isFullScreen:s,orientation:l,onEdit:A,onToggleIgnore:r,cycleId:t.id,initialScrollIndex:f,visibleDays:P,showInterpretation:S}),p.jsxs(Se,{onClick:()=>C(F=>!F),variant:"ghost",size:"sm",className:`
                  absolute ${s?"top-4 right-28":"top-3 right-14"} 
                  flex items-center text-xs font-medium py-1.5 px-3 rounded-lg 
                  transition-all duration-200 backdrop-blur-sm
                  ${S?"bg-pink-500 text-white hover:bg-pink-600 shadow-sm":"bg-white/80 text-gray-600 hover:bg-white hover:text-gray-800 border border-gray-200"}
                `,children:[S?p.jsx(Pp,{className:"mr-1.5 h-3.5 w-3.5"}):p.jsx(Ga,{className:"mr-1.5 h-3.5 w-3.5"}),S?"Ocultar":"Interpretar"]}),s&&p.jsx(Se,{onClick:c,variant:"ghost",size:"icon",className:"absolute top-4 right-16 text-gray-600 bg-white/80 hover:bg-white backdrop-blur-sm rounded-lg p-2 border border-gray-200",title:"Rotar Pantalla",children:p.jsx(fH,{className:"h-4 w-4"})}),p.jsx(Se,{onClick:a,variant:"ghost",size:"icon",className:`
                  absolute ${s?"top-4 right-4":"top-3 right-3"} 
                  rounded-lg p-2 backdrop-blur-sm transition-all duration-200
                  ${s?"text-gray-600 bg-white/80 hover:bg-white border border-gray-200":"text-gray-500 hover:text-gray-700 bg-white/80 hover:bg-white border border-gray-200"}
                `,title:s?"Salir de Pantalla Completa":"Ver en Pantalla Completa",children:s?p.jsx(Vu,{className:"h-4 w-4"}):p.jsx(W2,{className:"h-4 w-4"})})]})}),!s&&!h&&!_&&p.jsxs(be.div,{className:"w-full max-w-md mx-auto mb-8",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3,duration:.4},children:[p.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[p.jsxs(Se,{onClick:k,className:"bg-gradient-to-r from-pink-500 to-rose-500 hover:from-pink-600 hover:to-rose-600 text-white font-medium py-3 rounded-xl shadow-sm hover:shadow-md transition-all duration-200 flex items-center justify-center space-x-2",children:[p.jsx(dH,{className:"h-4 w-4"}),p.jsx("span",{children:"Nuevo Registro"})]}),p.jsxs(Se,{onClick:B,variant:"outline",className:"border-pink-200 text-pink-700 hover:bg-pink-50 hover:text-pink-800 font-medium py-3 rounded-xl shadow-sm hover:shadow-md transition-all duration-200 flex items-center justify-center space-x-2",children:[p.jsx(oH,{className:"h-4 w-4"}),p.jsx("span",{children:"Mis Registros"})]})]}),p.jsx(Se,{onClick:q,variant:"outline",className:"w-full mt-3 border-pink-200 text-pink-600 hover:bg-pink-50 hover:text-pink-700 text-sm font-medium py-2",children:"Iniciar Nuevo Ciclo"})]}),p.jsx(Cc,{children:(h||E)&&p.jsx(be.div,{initial:{opacity:0,y:20,scale:.98},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:20,scale:.98},transition:{type:"spring",stiffness:260,damping:20},className:"w-full",children:p.jsx(dM,{onSubmit:e,initialData:E,isEditing:!!E,cycleStartDate:t.startDate,onCancel:()=>{g(!1),x(null)}})},"data-entry-form")}),p.jsx(Cc,{children:_&&p.jsx(be.div,{initial:{opacity:0,y:20,scale:.98},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-20,scale:.98},transition:{type:"spring",stiffness:260,damping:20},className:"w-full",children:p.jsx(PM,{records:t.data,onEdit:A,onDelete:M,onClose:()=>v(!1)})},"records-list")}),t.data.filter(F=>F.id&&!F.id.startsWith("placeholder-")).length===0&&!h&&!_&&!s&&p.jsx(be.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4,duration:.4},children:p.jsx(hte,{})})]}),p.jsx(YM,{isOpen:!!y,onClose:()=>b(null),onConfirm:D,recordDate:y?ce(se(y.isoDate),"dd/MM/yyyy"):""}),p.jsx(Cte,{isOpen:I,onClose:()=>N(!1),onConfirm:K,currentCycleStartDate:t.startDate})]})};function Vte(){const{currentCycle:t,addOrUpdateDataPoint:e,deleteRecord:n,startNewCycle:r,isLoading:i,refreshData:o,toggleIgnoreRecord:s}=t_(),[a,l]=m.useState(!1),[c,u]=m.useState(!1),[f,h]=m.useState(null),[g,_]=m.useState(null),[v,E]=m.useState(!1),[x,y]=m.useState(!1),{isFullScreen:b,orientation:I,toggleFullScreen:N,rotateScreen:O}=KM(),{toast:S}=vl();m.useEffect(()=>{o()},[o]);const C=D=>{e(D,f),S({title:f?"Registro actualizado":"Nuevo registro aadido",description:f?`Datos del ${ce(se(D.isoDate),"dd/MM/yyyy")} actualizados.`:`Registro para el ${ce(se(D.isoDate),"dd/MM/yyyy")} aadido.`}),l(!1),h(null)},P=m.useCallback(()=>{if(i||!t||!t.startDate)return{data:[],scrollStart:0};const D=se(t.startDate),k=t.data.reduce((fe,Ee)=>{const J=se(Ee.isoDate);return J>fe?J:fe},D),B=Te(new Date),q=k>B?k:B,K=vo(Te(q),D),F=Math.max(JM,K+1),V=XM(D,F).map(fe=>{const Ee=t.data.find(J=>J.isoDate===fe.isoDate);return Ee?{...Ee,date:fe.date}:fe});if(b&&I==="landscape")return{data:V,scrollStart:0};const $=vo(new Date,Te(D)),W=Math.min(Math.max($,0),F-1);let G=Math.min(F,W+1);const Y=b?eO:ZM;W<Y-1&&(G=Math.min(F,Y));const oe=Math.max(0,G-Y);return{data:V,scrollStart:oe}},[t,b,i,I]),{data:A,scrollStart:M}=P();return p.jsx(Lte,{currentCycle:t,addOrUpdateDataPoint:C,deleteCurrentRecord:n,toggleIgnoreRecord:s,startNewCycle:r,isLoading:i,isFullScreen:b,toggleFullScreen:N,orientation:I,rotateScreen:O,chartDisplayData:A,scrollStart:M,showForm:a,setShowForm:l,showRecords:c,setShowRecords:u,editingRecord:f,setEditingRecord:h,recordToDelete:g,setRecordToDelete:_,confirmNewCycleDialog:v,setConfirmNewCycleDialog:E,toast:S,showInterpretation:x,setShowInterpretation:y})}const jte=()=>{const{archivedCycles:t,isLoading:e}=t_();if(e)return p.jsx("div",{className:"text-center text-slate-300 p-8",children:"Cargando ciclos archivados..."});if(!t||t.length===0)return p.jsxs(be.div,{className:"text-center text-slate-400 py-10 flex flex-col items-center",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:[p.jsx(B2,{className:"w-24 h-24 text-slate-500 mb-6"}),p.jsx("h2",{className:"text-2xl font-semibold text-slate-200 mb-4",children:"No hay ciclos archivados"}),p.jsx("p",{className:"text-lg",children:"Cuando inicies un nuevo ciclo, el anterior aparecer aqu."}),p.jsx(Se,{asChild:!0,className:"mt-8 bg-gradient-to-r from-pink-500 to-fuchsia-600 hover:from-pink-600 hover:to-fuchsia-700 text-white",children:p.jsx(Gc,{to:"/",children:"Volver al Ciclo Actual"})})]});const n=[...t].sort((r,i)=>se(i.startDate)-se(r.startDate));return p.jsxs("div",{className:"w-full max-w-4xl mx-auto",children:[p.jsx(be.h1,{className:"text-3xl sm:text-4xl font-bold text-slate-100 mb-8 text-center",initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5},children:"Mis Ciclos Archivados"}),p.jsx(be.ul,{className:"space-y-6",variants:{hidden:{opacity:0},show:{opacity:1,transition:{staggerChildren:.1}}},initial:"hidden",animate:"show",children:n.map(r=>{const i=r.endDate?ce(se(r.endDate),"dd MMM yyyy",{locale:Ji}):r.data&&r.data.length>0?ce(se(r.data[r.data.length-1].isoDate),"dd MMM yyyy",{locale:Ji}):ce(se(r.startDate),"dd MMM yyyy",{locale:Ji}),o=r.data?r.data.length:0;return p.jsx(be.li,{className:"bg-white/70 backdrop-blur-md ring-1 ring-[#FFB1DD]/50 shadow-xl rounded-xl p-6 hover:shadow-2xl transition-shadow duration-300",variants:{hidden:{opacity:0,y:20},show:{opacity:1,y:0}},children:p.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center",children:[p.jsxs("div",{children:[p.jsxs("h2",{className:"text-xl font-semibold text-pink-400 mb-1",children:["Ciclo: ",ce(se(r.startDate),"dd MMM yyyy",{locale:Ji})," - ",i]}),p.jsxs("p",{className:"text-sm text-slate-400",children:[o," registro",o!==1?"s":""]})]}),p.jsx(Se,{asChild:!0,variant:"outline",className:"mt-4 sm:mt-0 border-pink-500 text-pink-400 hover:bg-pink-500/20 hover:text-pink-300",children:p.jsxs(Gc,{to:`/cycle/${r.id}`,children:[p.jsx(Ga,{className:"mr-2 h-4 w-4"})," Ver Detalles"]})})]})},r.id)})})]})},Fte=({isOpen:t,onClose:e,onConfirm:n,initialStartDate:r,initialEndDate:i})=>{const[o,s]=m.useState(r||""),[a,l]=m.useState(i||"");Ts(t,e),m.useEffect(()=>{s(r||""),l(i||"")},[r,i]);const c=()=>{n({startDate:o,endDate:a||null})};return p.jsx(e_,{open:t,onOpenChange:e,children:p.jsxs(Kp,{className:"bg-slate-800 border-slate-700 text-slate-50",children:[p.jsxs(Qp,{children:[p.jsx(Jp,{children:"Editar Fechas del Ciclo"}),p.jsx(Zp,{className:"text-slate-400",children:"Modifica la fecha de inicio y fin del ciclo."})]}),p.jsxs("div",{className:"my-4 space-y-4",children:[p.jsxs("div",{children:[p.jsx("label",{htmlFor:"startDate",className:"text-slate-300 text-sm",children:"Inicio del ciclo"}),p.jsx(Vr,{id:"startDate",type:"date",value:o,onChange:u=>s(u.target.value),className:"bg-slate-700 border-slate-600 text-slate-50"})]}),p.jsxs("div",{children:[p.jsx("label",{htmlFor:"endDate",className:"text-slate-300 text-sm",children:"Fin del ciclo"}),p.jsx(Vr,{id:"endDate",type:"date",value:a||"",onChange:u=>l(u.target.value),className:"bg-slate-700 border-slate-600 text-slate-50"})]})]}),p.jsxs(Xp,{className:"sm:justify-end",children:[p.jsx(Se,{variant:"outline",onClick:e,className:"border-slate-600 hover:bg-slate-700",children:"Cancelar"}),p.jsx(Se,{variant:"primary",onClick:c,className:"bg-pink-600 hover:bg-pink-700",children:"Guardar"})]})]})})},$te=28,Ute=({cycleData:t,addOrUpdateDataPointForCycle:e,deleteRecordForCycle:n,toggleIgnoreRecordForCycle:r,isFullScreen:i,toggleFullScreen:o,chartDisplayData:s,showForm:a,setShowForm:l,editingRecord:c,setEditingRecord:u,recordToDelete:f,setRecordToDelete:h,isProcessing:g,toast:_,onEditCycleDates:v})=>{Ts(a||c,()=>{l(!1),u(null)});const E=b=>{const I=()=>{u(b),l(!0)};i?(o(),setTimeout(I,300)):I()},x=b=>{const I=t.data.find(N=>N.id===b);h(I)},y=()=>{f&&n(f.id)};return p.jsxs("div",{className:`w-full ${i?"h-full overflow-hidden":"max-w-4xl mx-auto"}`,children:[p.jsxs(be.div,{className:"flex items-center justify-between mb-8",initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5},children:[!i&&p.jsx(Se,{variant:"outline",asChild:!0,className:"mt-4 sm:mt-0 border-pink-500 text-pink-400 hover:bg-pink-500/20 hover:text-pink-300",children:p.jsxs(Gc,{to:"/archived-cycles",children:[p.jsx(Yz,{className:"mr-2 h-4 w-4"})," Mis Ciclos"]})}),!i&&p.jsxs("h1",{className:"text-2xl sm:text-3xl font-bold hover:text-pink-300 text-center",children:["Detalle del Ciclo (",ce(se(t.startDate),"dd/MM/yyyy"),")"]}),!i&&p.jsxs(Se,{variant:"outline",onClick:v,className:"mt-4 sm:mt-0 border-pink-500 text-pink-400 hover:bg-pink-500/20 hover:text-pink-300",children:[p.jsx(Ny,{className:"mr-2 h-4 w-4"})," Editar Fechas"]})]}),p.jsx(Cc,{children:!a&&(s.length>0||i)&&p.jsxs(be.div,{initial:{opacity:0,scale:i?1:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:i?1:.9},transition:{duration:.5},className:`shadow-2xl rounded-xl ${i?"w-full h-full p-0 fixed inset-0 z-50 bg-white":"p-4 sm:p-6 mb-8 bg-white/70 backdrop-blur-md ring-1 ring-[#FFB1DD]/50"}`,style:{boxShadow:"0 4px 8px rgba(0,0,0,0.04)"},children:[!i&&p.jsx("h2",{className:"text-xl font-medium text-[#393C65] mb-4 bg-white bg-opacity-90 px-4 py-2 rounded-md",children:"Grfica"}),p.jsx(lN,{data:s,isFullScreen:i,orientation,onToggleIgnore:r,onEdit:E,cycleId:t.id,showInterpretation}),p.jsxs(Se,{onClick:()=>setShowInterpretation(b=>!b),variant:"ghost",size:"sm",className:`absolute ${i?"top-4 right-24":"top-2 right-24"} flex items-center font-semibold py-1 px-2 rounded-lg transition-colors ${showInterpretation?"bg-[#E27DBF] text-white hover:bg-[#d46ab3]":"bg-transparent text-[#393C65] hover:bg-[#E27DBF]/20"}`,children:[showInterpretation?p.jsx(Pp,{className:"mr-2 h-4 w-4"}):p.jsx(Ga,{className:"mr-2 h-4 w-4"}),showInterpretation?"Ocultar":"Interpretar"]}),p.jsx(Se,{onClick:o,variant:"ghost",size:"icon",className:`absolute ${i?"top-4 right-4 text-white bg-slate-700/50 hover:bg-slate-600/70":"top-2 right-2 text-slate-400 hover:text-slate-200 hover:bg-slate-700/50"}`,title:i?"Salir de Pantalla Completa":"Ver en Pantalla Completa",children:i?p.jsx(Vu,{className:"h-6 w-6"}):p.jsx(W2,{className:"h-5 w-5"})})]})}),!i&&p.jsxs(p.Fragment,{children:[p.jsx(Cc,{children:a&&p.jsx(be.div,{initial:{opacity:0,y:20,height:0},animate:{opacity:1,y:0,height:"auto"},exit:{opacity:0,y:20,height:0},transition:{duration:.3},className:"overflow-hidden mb-8",children:p.jsx(dM,{onSubmit:e,initialData:c,onCancel:()=>{l(!1),u(null)},cycleStartDate:t.startDate,isProcessing:g,isEditing:!!c})},"data-entry-form-detail")}),!a&&p.jsx("div",{className:"my-8",children:p.jsxs(Se,{onClick:()=>{u(null),l(!0)},className:"w-full sm:w-auto bg-gradient-to-r from-pink-500 to-fuchsia-600 hover:from-pink-600 hover:to-fuchsia-700 text-white font-semibold py-3 px-6 rounded-lg shadow-lg hover:shadow-xl transition-all duration-300 transform hover:scale-105 flex items-center justify-center text-lg",disabled:g,children:[p.jsx(Ny,{className:"mr-2 h-5 w-5"})," Aadir registro en este ciclo"]})}),p.jsx(PM,{records:t.data,onEdit:E,onDelete:x,isArchiveView:!0,isProcessing:g})]}),p.jsx(YM,{isOpen:!!f,onClose:()=>h(null),onConfirm:y,recordDate:f?ce(se(f.isoDate),"dd/MM/yyyy"):"",isProcessing:g})]})},Bte=()=>{const{cycleId:t}=t5(),e=yu(),{user:n}=gl(),{getCycleById:r,isLoading:i,refreshData:o,toggleIgnoreRecord:s,updateCycleDates:a}=t_(t),[l,c]=m.useState(null),{toast:u}=vl(),[f,h]=m.useState(null),[g,_]=m.useState(!1),[v,E]=m.useState(null),[x,y]=m.useState(!1),{isFullScreen:b,toggleFullScreen:I,orientation:N}=KM(),[O,S]=m.useState(!1);m.useState(!1),m.useEffect(()=>{(async()=>{if(n){let L=await r(t);if(!L){const V=localStorage.getItem(`fertilityData_cycle_${n.uid}_${t}`);if(V){const $=JSON.parse(V);L={...$,data:P($.data||[],$.startDate)}}}L?c(L):(u({title:"Error",description:"No se pudo cargar el ciclo.",variant:"destructive"}),e("/archived-cycles"))}})()},[t,n,r,u,e]);const C=(F,L)=>{const V=Te(se(F)),$=Te(se(L));return vo(V,$)+1},P=(F,L)=>!F||!Array.isArray(F)||!L?[]:[...F].sort(($,W)=>se($.isoDate)-se(W.isoDate)).map($=>({...$,ignored:$.ignored||!1,cycleDay:C($.isoDate,L)})),A=F=>{if(!n||!F||!F.id)return;const L={...F,data:F.data.map(({cycleDay:V,...$})=>$)};localStorage.setItem(`fertilityData_cycle_${n.uid}_${F.id}`,JSON.stringify(L))},M=F=>{if(!l||!n)return;S(!0);let L;const V={...F,isoDate:ce(Te(se(F.isoDate)),"yyyy-MM-dd"),cycleDay:C(F.isoDate,l.startDate),ignored:f?F.ignored??f.ignored:F.ignored||!1};if(f)L=l.data.map(G=>G.id===f.id?{...G,...V,id:f.id}:G);else{const G={...V,id:crypto.randomUUID?crypto.randomUUID():Math.random().toString(36).slice(2)};L=[...l.data,G]}const $=P(L,l.startDate),W={...l,data:$};A(W),c(W),u({title:f?"Registro actualizado":"Nuevo registro aadido",description:"Datos para el ciclo actualizados."}),_(!1),h(null),S(!1),o()},D=F=>{if(!l||!n)return;S(!0);const L=l.data.filter(W=>W.id!==F),V=P(L,l.startDate),$={...l,data:V};A($),c($),u({title:"Registro eliminado",description:"El registro ha sido eliminado del ciclo.",variant:"destructive"}),E(null),S(!1),o()},k=(F,L)=>{if(!l||!n||l.id!==F)return;S(!0),s(F,L),c($=>{if(!$)return null;const W=$.data.map(oe=>oe.id===L?{...oe,ignored:!oe.ignored}:oe),G=P(W,$.startDate),Y={...$,data:G};return A(Y),Y});const V=l.data.find($=>$.id===L);u({title:`Registro ${V&&!V.ignored?"despreciado":"restaurado"}`,description:`El registro del ${V?ce(se(V.isoDate),"dd/MM/yyyy"):""} ha sido ${V&&!V.ignored?"marcado como despreciado":"restaurado"}.`}),S(!1)},B=async({startDate:F,endDate:L})=>{if(!(!l||!n)){S(!0);try{await a(l.id,F,L);const V=await r(l.id);V&&(A(V),c(V)),u({title:"Fechas actualizadas",description:"Las fechas del ciclo han sido modificadas."})}catch(V){console.error(V)}S(!1)}},q=m.useCallback(()=>{if(!l||!l.startDate)return[];const F=se(l.startDate),L=l.data.reduce((Y,oe)=>{const fe=se(oe.isoDate);return fe>Y?fe:Y},F),V=l.endDate?se(l.endDate):null;let $;if(V)$=vo(Te(V),F)+1;else{const Y=Te(new Date),oe=L>Y?L:Y,fe=vo(Te(oe),F);$=Math.max($te,fe+1)}return XM(F,$).map(Y=>{const oe=l.data.find(fe=>fe.isoDate===Y.isoDate);return oe?{...oe,date:Y.date}:Y})},[l]);if(i||!l)return p.jsx("div",{className:"text-center text-slate-300 p-8",children:"Cargando detalles del ciclo..."});const K=q();return p.jsxs(p.Fragment,{children:[p.jsx(Ute,{cycleData:l,addOrUpdateDataPointForCycle:M,deleteRecordForCycle:D,toggleIgnoreRecordForCycle:k,isFullScreen:b,toggleFullScreen:I,chartDisplayData:K,showForm:g,setShowForm:_,editingRecord:f,setEditingRecord:h,recordToDelete:v,setRecordToDelete:E,isProcessing:O,toast:u,onEditCycleDates:()=>y(!0)}),p.jsx(Fte,{isOpen:x,onClose:()=>y(!1),onConfirm:B,initialStartDate:l.startDate,initialEndDate:l.endDate})]})},Wte=zM,zte=bte,tO=qM,Hte=HM,nO=we.forwardRef(({className:t,...e},n)=>p.jsx(Hp,{className:De("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e,ref:n}));nO.displayName=Hp.displayName;const qte=Nu("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4 border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),rO=we.forwardRef(({side:t="right",className:e,children:n,...r},i)=>p.jsxs(Hte,{children:[p.jsx(nO,{}),p.jsx(qp,{ref:i,className:De(qte({side:t}),e),...r,children:n})]}));rO.displayName=qp.displayName;const Gte=we.forwardRef(({className:t,...e},n)=>p.jsx(Gp,{ref:n,className:De("text-lg font-semibold text-foreground",t),...e}));Gte.displayName=Gp.displayName;const Yte=we.forwardRef(({className:t,...e},n)=>p.jsx(Yp,{ref:n,className:De("text-sm text-muted-foreground",t),...e}));Yte.displayName=Yp.displayName;const uS=({to:t,children:e,Icon:n,onClick:r})=>{const o=ol().pathname===t;return p.jsx(tO,{asChild:!0,children:p.jsxs(Gc,{to:t,onClick:r,className:`flex items-center px-4 py-3 text-lg rounded-md transition-colors duration-200 ease-in-out
                         ${o?"bg-[#E27DBF] text-white shadow":"text-[#393C65] hover:bg-[#E27DBF]/10 hover:text-[#E27DBF]"}
                        `,children:[p.jsx(n,{className:`mr-3 h-6 w-6 ${o?"text-white":"text-[#E27DBF]"}`}),e]})})},Bg=({children:t})=>{const{user:e,logout:n}=gl(),r=yu(),[i,o]=m.useState(!1);Ts(i,()=>o(!1));const s=()=>{n(),r("/auth")};return p.jsxs("div",{className:"min-h-screen flex flex-col",children:[p.jsx("header",{className:"sticky top-0 z-40 w-full bg-[#FFB1DD]/20 backdrop-blur-md text-[#393C65]",children:p.jsxs("div",{className:"container mx-auto flex items-center justify-between h-20 px-4 sm:px-6",children:[p.jsxs(Gc,{to:"/",className:"flex items-center space-x-2",children:[p.jsx("img",{alt:"FertiliApp Logo ",className:"h-10 w-10 rounded-full",src:"https://i.postimg.cc/W3JHZ71t/Chat-GPT-Image-27-jun-2025-12-17-23.png"}),p.jsx("span",{className:"text-2xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-rose-400 via-pink-400 to-fuchsia-500",children:"FertiliApp"})]}),p.jsxs(Wte,{open:i,onOpenChange:o,children:[p.jsx(zte,{asChild:!0,children:p.jsxs(Se,{variant:"ghost",size:"icon",className:"text-[#393C65] hover:text-[#E27DBF] hover:bg-[#E27DBF]\\/10",children:[p.jsx(cH,{className:"h-8 w-8"}),p.jsx("span",{className:"sr-only",children:"Abrir men"})]})}),p.jsxs(rO,{side:"right",className:"w-[300px] sm:w-[350px] bg-[#FFEAF5] border-l-[#FFB1DD] p-0 flex flex-col",children:[p.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-[#FFB1DD]",children:[p.jsxs("div",{className:"flex items-center space-x-3",children:[p.jsx(gH,{className:"h-10 w-10 text-[#FFB1DD]"}),p.jsxs("div",{children:[p.jsx("p",{className:"text-lg font-semibold",children:"Hola,"}),p.jsx("p",{className:"text-sm text-[#FFB1DD] truncate max-w-[180px]",children:e==null?void 0:e.email})]})]}),p.jsx(tO,{asChild:!0,children:p.jsx(Se,{variant:"ghost",size:"icon",className:"text-[#E27DBF] hover:bg-white/10",children:p.jsx(Vu,{className:"h-6 w-6"})})})]}),p.jsxs("nav",{className:"flex-grow p-6 space-y-3",children:[p.jsx(uS,{to:"/",Icon:iH,onClick:()=>o(!1),children:"Ciclo Actual"}),p.jsx(uS,{to:"/archived-cycles",Icon:B2,onClick:()=>o(!1),children:"Mis Ciclos"})]}),p.jsx("div",{className:"p-6 border-t border-[#FFB1DD]",children:p.jsxs(Se,{onClick:()=>{s(),o(!1)},variant:"outline",className:"w-full border-[#FFB1DD] text-[#393C65] hover:bg-[#E27DBF]/10 hover:text-[#E27DBF] font-semibold py-3 text-lg flex items-center",children:[p.jsx(aH,{className:"mr-2 h-5 w-5"})," Salir"]})})]})]})]})}),p.jsx("div",{className:"flex-grow container mx-auto px-4 sm:px-6 py-8",children:t}),p.jsxs("footer",{className:"w-full py-8 text-center text-[#6B7280] text-sm border-t border-[#FFB1DD]/50 mt-12",children:[p.jsxs("p",{children:[" ",new Date().getFullYear()," Seguimiento de Fertilidad. Todos los derechos reservados."]}),p.jsx("p",{children:"Creado con Hostinger Horizons."})]})]})};function Kte(t){const e=t+"CollectionProvider",[n,r]=Ms(e),[i,o]=n(e,{collectionRef:{current:null},itemMap:new Map}),s=v=>{const{scope:E,children:x}=v,y=we.useRef(null),b=we.useRef(new Map).current;return p.jsx(i,{scope:E,itemMap:b,collectionRef:y,children:x})};s.displayName=e;const a=t+"CollectionSlot",l=za(a),c=we.forwardRef((v,E)=>{const{scope:x,children:y}=v,b=o(a,x),I=lt(E,b.collectionRef);return p.jsx(l,{ref:I,children:y})});c.displayName=a;const u=t+"CollectionItemSlot",f="data-radix-collection-item",h=za(u),g=we.forwardRef((v,E)=>{const{scope:x,children:y,...b}=v,I=we.useRef(null),N=lt(E,I),O=o(u,x);return we.useEffect(()=>(O.itemMap.set(I,{ref:I,...b}),()=>void O.itemMap.delete(I))),p.jsx(h,{[f]:"",ref:N,children:y})});g.displayName=u;function _(v){const E=o(t+"CollectionConsumer",v);return we.useCallback(()=>{const y=E.collectionRef.current;if(!y)return[];const b=Array.from(y.querySelectorAll(`[${f}]`));return Array.from(E.itemMap.values()).sort((O,S)=>b.indexOf(O.ref.current)-b.indexOf(S.ref.current))},[E.collectionRef,E.itemMap])}return[{Provider:s,Slot:c,ItemSlot:g},_,r]}var Qte=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),Xte="VisuallyHidden",n_=m.forwardRef((t,e)=>p.jsx(ze.span,{...t,ref:e,style:{...Qte,...t.style}}));n_.displayName=Xte;var r_="ToastProvider",[i_,Jte,Zte]=Kte("Toast"),[iO,Mne]=Ms("Toast",[Zte]),[ene,em]=iO(r_),oO=t=>{const{__scopeToast:e,label:n="Notification",duration:r=5e3,swipeDirection:i="right",swipeThreshold:o=50,children:s}=t,[a,l]=m.useState(null),[c,u]=m.useState(0),f=m.useRef(!1),h=m.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${r_}\`. Expected non-empty \`string\`.`),p.jsx(i_.Provider,{scope:e,children:p.jsx(ene,{scope:e,label:n,duration:r,swipeDirection:i,swipeThreshold:o,toastCount:c,viewport:a,onViewportChange:l,onToastAdd:m.useCallback(()=>u(g=>g+1),[]),onToastRemove:m.useCallback(()=>u(g=>g-1),[]),isFocusedToastEscapeKeyDownRef:f,isClosePausedRef:h,children:s})})};oO.displayName=r_;var sO="ToastViewport",tne=["F8"],Hy="toast.viewportPause",qy="toast.viewportResume",aO=m.forwardRef((t,e)=>{const{__scopeToast:n,hotkey:r=tne,label:i="Notifications ({hotkey})",...o}=t,s=em(sO,n),a=Jte(n),l=m.useRef(null),c=m.useRef(null),u=m.useRef(null),f=m.useRef(null),h=lt(e,f,s.onViewportChange),g=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),_=s.toastCount>0;m.useEffect(()=>{const E=x=>{var b;r.length!==0&&r.every(I=>x[I]||x.code===I)&&((b=f.current)==null||b.focus())};return document.addEventListener("keydown",E),()=>document.removeEventListener("keydown",E)},[r]),m.useEffect(()=>{const E=l.current,x=f.current;if(_&&E&&x){const y=()=>{if(!s.isClosePausedRef.current){const O=new CustomEvent(Hy);x.dispatchEvent(O),s.isClosePausedRef.current=!0}},b=()=>{if(s.isClosePausedRef.current){const O=new CustomEvent(qy);x.dispatchEvent(O),s.isClosePausedRef.current=!1}},I=O=>{!E.contains(O.relatedTarget)&&b()},N=()=>{E.contains(document.activeElement)||b()};return E.addEventListener("focusin",y),E.addEventListener("focusout",I),E.addEventListener("pointermove",y),E.addEventListener("pointerleave",N),window.addEventListener("blur",y),window.addEventListener("focus",b),()=>{E.removeEventListener("focusin",y),E.removeEventListener("focusout",I),E.removeEventListener("pointermove",y),E.removeEventListener("pointerleave",N),window.removeEventListener("blur",y),window.removeEventListener("focus",b)}}},[_,s.isClosePausedRef]);const v=m.useCallback(({tabbingDirection:E})=>{const y=a().map(b=>{const I=b.ref.current,N=[I,...pne(I)];return E==="forwards"?N:N.reverse()});return(E==="forwards"?y.reverse():y).flat()},[a]);return m.useEffect(()=>{const E=f.current;if(E){const x=y=>{var N,O,S;const b=y.altKey||y.ctrlKey||y.metaKey;if(y.key==="Tab"&&!b){const C=document.activeElement,P=y.shiftKey;if(y.target===E&&P){(N=c.current)==null||N.focus();return}const D=v({tabbingDirection:P?"backwards":"forwards"}),k=D.findIndex(B=>B===C);Wg(D.slice(k+1))?y.preventDefault():P?(O=c.current)==null||O.focus():(S=u.current)==null||S.focus()}};return E.addEventListener("keydown",x),()=>E.removeEventListener("keydown",x)}},[a,v]),p.jsxs(eX,{ref:l,role:"region","aria-label":i.replace("{hotkey}",g),tabIndex:-1,style:{pointerEvents:_?void 0:"none"},children:[_&&p.jsx(Gy,{ref:c,onFocusFromOutsideViewport:()=>{const E=v({tabbingDirection:"forwards"});Wg(E)}}),p.jsx(i_.Slot,{scope:n,children:p.jsx(ze.ol,{tabIndex:-1,...o,ref:h})}),_&&p.jsx(Gy,{ref:u,onFocusFromOutsideViewport:()=>{const E=v({tabbingDirection:"backwards"});Wg(E)}})]})});aO.displayName=sO;var lO="ToastFocusProxy",Gy=m.forwardRef((t,e)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...i}=t,o=em(lO,n);return p.jsx(n_,{"aria-hidden":!0,tabIndex:0,...i,ref:e,style:{position:"fixed"},onFocus:s=>{var c;const a=s.relatedTarget;!((c=o.viewport)!=null&&c.contains(a))&&r()}})});Gy.displayName=lO;var Wu="Toast",nne="toast.swipeStart",rne="toast.swipeMove",ine="toast.swipeCancel",one="toast.swipeEnd",cO=m.forwardRef((t,e)=>{const{forceMount:n,open:r,defaultOpen:i,onOpenChange:o,...s}=t,[a,l]=Ip({prop:r,defaultProp:i??!0,onChange:o,caller:Wu});return p.jsx(Xn,{present:n||a,children:p.jsx(lne,{open:a,...s,ref:e,onClose:()=>l(!1),onPause:Wt(t.onPause),onResume:Wt(t.onResume),onSwipeStart:Ue(t.onSwipeStart,c=>{c.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Ue(t.onSwipeMove,c=>{const{x:u,y:f}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","move"),c.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${u}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${f}px`)}),onSwipeCancel:Ue(t.onSwipeCancel,c=>{c.currentTarget.setAttribute("data-swipe","cancel"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Ue(t.onSwipeEnd,c=>{const{x:u,y:f}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","end"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${u}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${f}px`),l(!1)})})})});cO.displayName=Wu;var[sne,ane]=iO(Wu,{onClose(){}}),lne=m.forwardRef((t,e)=>{const{__scopeToast:n,type:r="foreground",duration:i,open:o,onClose:s,onEscapeKeyDown:a,onPause:l,onResume:c,onSwipeStart:u,onSwipeMove:f,onSwipeCancel:h,onSwipeEnd:g,..._}=t,v=em(Wu,n),[E,x]=m.useState(null),y=lt(e,B=>x(B)),b=m.useRef(null),I=m.useRef(null),N=i||v.duration,O=m.useRef(0),S=m.useRef(N),C=m.useRef(0),{onToastAdd:P,onToastRemove:A}=v,M=Wt(()=>{var q;(E==null?void 0:E.contains(document.activeElement))&&((q=v.viewport)==null||q.focus()),s()}),D=m.useCallback(B=>{!B||B===1/0||(window.clearTimeout(C.current),O.current=new Date().getTime(),C.current=window.setTimeout(M,B))},[M]);m.useEffect(()=>{const B=v.viewport;if(B){const q=()=>{D(S.current),c==null||c()},K=()=>{const F=new Date().getTime()-O.current;S.current=S.current-F,window.clearTimeout(C.current),l==null||l()};return B.addEventListener(Hy,K),B.addEventListener(qy,q),()=>{B.removeEventListener(Hy,K),B.removeEventListener(qy,q)}}},[v.viewport,N,l,c,D]),m.useEffect(()=>{o&&!v.isClosePausedRef.current&&D(N)},[o,N,v.isClosePausedRef,D]),m.useEffect(()=>(P(),()=>A()),[P,A]);const k=m.useMemo(()=>E?gO(E):null,[E]);return v.viewport?p.jsxs(p.Fragment,{children:[k&&p.jsx(cne,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:k}),p.jsx(sne,{scope:n,onClose:M,children:Mo.createPortal(p.jsx(i_.ItemSlot,{scope:n,children:p.jsx(ZQ,{asChild:!0,onEscapeKeyDown:Ue(a,()=>{v.isFocusedToastEscapeKeyDownRef.current||M(),v.isFocusedToastEscapeKeyDownRef.current=!1}),children:p.jsx(ze.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":o?"open":"closed","data-swipe-direction":v.swipeDirection,..._,ref:y,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:Ue(t.onKeyDown,B=>{B.key==="Escape"&&(a==null||a(B.nativeEvent),B.nativeEvent.defaultPrevented||(v.isFocusedToastEscapeKeyDownRef.current=!0,M()))}),onPointerDown:Ue(t.onPointerDown,B=>{B.button===0&&(b.current={x:B.clientX,y:B.clientY})}),onPointerMove:Ue(t.onPointerMove,B=>{if(!b.current)return;const q=B.clientX-b.current.x,K=B.clientY-b.current.y,F=!!I.current,L=["left","right"].includes(v.swipeDirection),V=["left","up"].includes(v.swipeDirection)?Math.min:Math.max,$=L?V(0,q):0,W=L?0:V(0,K),G=B.pointerType==="touch"?10:2,Y={x:$,y:W},oe={originalEvent:B,delta:Y};F?(I.current=Y,qd(rne,f,oe,{discrete:!1})):dS(Y,v.swipeDirection,G)?(I.current=Y,qd(nne,u,oe,{discrete:!1}),B.target.setPointerCapture(B.pointerId)):(Math.abs(q)>G||Math.abs(K)>G)&&(b.current=null)}),onPointerUp:Ue(t.onPointerUp,B=>{const q=I.current,K=B.target;if(K.hasPointerCapture(B.pointerId)&&K.releasePointerCapture(B.pointerId),I.current=null,b.current=null,q){const F=B.currentTarget,L={originalEvent:B,delta:q};dS(q,v.swipeDirection,v.swipeThreshold)?qd(one,g,L,{discrete:!0}):qd(ine,h,L,{discrete:!0}),F.addEventListener("click",V=>V.preventDefault(),{once:!0})}})})})}),v.viewport)})]}):null}),cne=t=>{const{__scopeToast:e,children:n,...r}=t,i=em(Wu,e),[o,s]=m.useState(!1),[a,l]=m.useState(!1);return fne(()=>s(!0)),m.useEffect(()=>{const c=window.setTimeout(()=>l(!0),1e3);return()=>window.clearTimeout(c)},[]),a?null:p.jsx(Op,{asChild:!0,children:p.jsx(n_,{...r,children:o&&p.jsxs(p.Fragment,{children:[i.label," ",n]})})})},une="ToastTitle",uO=m.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return p.jsx(ze.div,{...r,ref:e})});uO.displayName=une;var dne="ToastDescription",dO=m.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return p.jsx(ze.div,{...r,ref:e})});dO.displayName=dne;var fO="ToastAction",hO=m.forwardRef((t,e)=>{const{altText:n,...r}=t;return n.trim()?p.jsx(mO,{altText:n,asChild:!0,children:p.jsx(o_,{...r,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${fO}\`. Expected non-empty \`string\`.`),null)});hO.displayName=fO;var pO="ToastClose",o_=m.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t,i=ane(pO,n);return p.jsx(mO,{asChild:!0,children:p.jsx(ze.button,{type:"button",...r,ref:e,onClick:Ue(t.onClick,i.onClose)})})});o_.displayName=pO;var mO=m.forwardRef((t,e)=>{const{__scopeToast:n,altText:r,...i}=t;return p.jsx(ze.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...i,ref:e})});function gO(t){const e=[];return Array.from(t.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&e.push(r.textContent),hne(r)){const i=r.ariaHidden||r.hidden||r.style.display==="none",o=r.dataset.radixToastAnnounceExclude==="";if(!i)if(o){const s=r.dataset.radixToastAnnounceAlt;s&&e.push(s)}else e.push(...gO(r))}}),e}function qd(t,e,n,{discrete:r}){const i=n.originalEvent.currentTarget,o=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:n});e&&i.addEventListener(t,e,{once:!0}),r?vk(i,o):i.dispatchEvent(o)}var dS=(t,e,n=0)=>{const r=Math.abs(t.x),i=Math.abs(t.y),o=r>i;return e==="left"||e==="right"?o&&r>n:!o&&i>n};function fne(t=()=>{}){const e=Wt(t);Br(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[e])}function hne(t){return t.nodeType===t.ELEMENT_NODE}function pne(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function Wg(t){const e=document.activeElement;return t.some(n=>n===e?!0:(n.focus(),document.activeElement!==e))}var mne=oO,vO=aO,yO=cO,wO=uO,_O=dO,xO=hO,EO=o_;const gne=mne,bO=we.forwardRef(({className:t,...e},n)=>p.jsx(vO,{ref:n,className:De("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));bO.displayName=vO.displayName;const vne=Nu("data-[swipe=move]:transition-none group relative pointer-events-auto flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full data-[state=closed]:slide-out-to-right-full",{variants:{variant:{default:"bg-background border",destructive:"group destructive border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),TO=we.forwardRef(({className:t,variant:e,...n},r)=>p.jsx(yO,{ref:r,className:De(vne({variant:e}),t),...n}));TO.displayName=yO.displayName;const yne=we.forwardRef(({className:t,...e},n)=>p.jsx(xO,{ref:n,className:De("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-destructive/30 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...e}));yne.displayName=xO.displayName;const CO=we.forwardRef(({className:t,...e},n)=>p.jsx(EO,{ref:n,className:De("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:p.jsx(Vu,{className:"h-4 w-4"})}));CO.displayName=EO.displayName;const SO=we.forwardRef(({className:t,...e},n)=>p.jsx(wO,{ref:n,className:De("text-sm font-semibold",t),...e}));SO.displayName=wO.displayName;const PO=we.forwardRef(({className:t,...e},n)=>p.jsx(_O,{ref:n,className:De("text-sm opacity-90",t),...e}));PO.displayName=_O.displayName;function wne(){const{toasts:t}=vl();return p.jsxs(gne,{children:[t.map(({id:e,title:n,description:r,action:i,...o})=>p.jsxs(TO,{...o,children:[p.jsxs("div",{className:"grid gap-1",children:[n&&p.jsx(SO,{children:n}),r&&p.jsx(PO,{children:r})]}),i,p.jsx(CO,{})]},e)),p.jsx(bO,{})]})}function zg({children:t}){const{user:e}=gl();return e?t:p.jsx(Fv,{to:"/auth",replace:!0})}function _ne(){const{user:t,loadingAuth:e}=gl();return e?p.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gradient-to-br from-pink-50 via-purple-50 to-indigo-50 space-y-4",children:[p.jsx(be.div,{className:"w-8 h-8 rounded-full bg-pink-500/80",animate:{opacity:[.4,1,.4]},transition:{duration:1.2,repeat:1/0}}),p.jsx(be.p,{className:"text-pink-600 font-medium",initial:{opacity:0},animate:{opacity:1},transition:{delay:.2},children:"Cargando aplicacin..."})]}):p.jsxs(v5,{children:[p.jsx(Gs,{path:"/auth",element:t?p.jsx(Fv,{to:"/",replace:!0}):p.jsx(yH,{})}),p.jsx(Gs,{path:"/",element:p.jsx(zg,{children:p.jsx(Bg,{children:p.jsx(Vte,{})})})}),p.jsx(Gs,{path:"/archived-cycles",element:p.jsx(zg,{children:p.jsx(Bg,{children:p.jsx(jte,{})})})}),p.jsx(Gs,{path:"/cycle/:cycleId",element:p.jsx(zg,{children:p.jsx(Bg,{children:p.jsx(Bte,{})})})}),p.jsx(Gs,{path:"*",element:p.jsx(Fv,{to:t?"/":"/auth",replace:!0})})]})}function xne(){return p.jsx(T5,{basename:"/RNF-App",children:p.jsxs(BU,{children:[p.jsx(_ne,{}),p.jsx(wne,{})]})})}Hg.createRoot(document.getElementById("root")).render(p.jsx(we.StrictMode,{children:p.jsx(xne,{})}));"serviceWorker"in navigator&&window.addEventListener("load",()=>{const t="/RNF-App/sw.js";navigator.serviceWorker.register(t)});
