function YO(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(t,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();function sS(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var aS={exports:{}},Dh={},lS={exports:{}},Se={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fu=Symbol.for("react.element"),KO=Symbol.for("react.portal"),QO=Symbol.for("react.fragment"),XO=Symbol.for("react.strict_mode"),JO=Symbol.for("react.profiler"),ZO=Symbol.for("react.provider"),eL=Symbol.for("react.context"),tL=Symbol.for("react.forward_ref"),nL=Symbol.for("react.suspense"),rL=Symbol.for("react.memo"),iL=Symbol.for("react.lazy"),Jx=Symbol.iterator;function oL(t){return t===null||typeof t!="object"?null:(t=Jx&&t[Jx]||t["@@iterator"],typeof t=="function"?t:null)}var cS={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},uS=Object.assign,dS={};function tl(t,e,n){this.props=t,this.context=e,this.refs=dS,this.updater=n||cS}tl.prototype.isReactComponent={};tl.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};tl.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function fS(){}fS.prototype=tl.prototype;function Gy(t,e,n){this.props=t,this.context=e,this.refs=dS,this.updater=n||cS}var Yy=Gy.prototype=new fS;Yy.constructor=Gy;uS(Yy,tl.prototype);Yy.isPureReactComponent=!0;var Zx=Array.isArray,hS=Object.prototype.hasOwnProperty,Ky={current:null},pS={key:!0,ref:!0,__self:!0,__source:!0};function mS(t,e,n){var r,i={},o=null,s=null;if(e!=null)for(r in e.ref!==void 0&&(s=e.ref),e.key!==void 0&&(o=""+e.key),e)hS.call(e,r)&&!pS.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:fu,type:t,key:o,ref:s,props:i,_owner:Ky.current}}function sL(t,e){return{$$typeof:fu,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Qy(t){return typeof t=="object"&&t!==null&&t.$$typeof===fu}function aL(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var e_=/\/+/g;function wm(t,e){return typeof t=="object"&&t!==null&&t.key!=null?aL(""+t.key):e.toString(36)}function Wd(t,e,n,r,i){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var s=!1;if(t===null)s=!0;else switch(o){case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case fu:case KO:s=!0}}if(s)return s=t,i=i(s),t=r===""?"."+wm(s,0):r,Zx(i)?(n="",t!=null&&(n=t.replace(e_,"$&/")+"/"),Wd(i,e,n,"",function(c){return c})):i!=null&&(Qy(i)&&(i=sL(i,n+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(e_,"$&/")+"/")+t)),e.push(i)),1;if(s=0,r=r===""?".":r+":",Zx(t))for(var a=0;a<t.length;a++){o=t[a];var l=r+wm(o,a);s+=Wd(o,e,n,l,i)}else if(l=oL(t),typeof l=="function")for(t=l.call(t),a=0;!(o=t.next()).done;)o=o.value,l=r+wm(o,a++),s+=Wd(o,e,n,l,i);else if(o==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return s}function id(t,e,n){if(t==null)return t;var r=[],i=0;return Wd(t,r,"","",function(o){return e.call(n,o,i++)}),r}function lL(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var mn={current:null},zd={transition:null},cL={ReactCurrentDispatcher:mn,ReactCurrentBatchConfig:zd,ReactCurrentOwner:Ky};function gS(){throw Error("act(...) is not supported in production builds of React.")}Se.Children={map:id,forEach:function(t,e,n){id(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return id(t,function(){e++}),e},toArray:function(t){return id(t,function(e){return e})||[]},only:function(t){if(!Qy(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Se.Component=tl;Se.Fragment=QO;Se.Profiler=JO;Se.PureComponent=Gy;Se.StrictMode=XO;Se.Suspense=nL;Se.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=cL;Se.act=gS;Se.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=uS({},t.props),i=t.key,o=t.ref,s=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,s=Ky.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)hS.call(e,l)&&!pS.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:fu,type:t.type,key:i,ref:o,props:r,_owner:s}};Se.createContext=function(t){return t={$$typeof:eL,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:ZO,_context:t},t.Consumer=t};Se.createElement=mS;Se.createFactory=function(t){var e=mS.bind(null,t);return e.type=t,e};Se.createRef=function(){return{current:null}};Se.forwardRef=function(t){return{$$typeof:tL,render:t}};Se.isValidElement=Qy;Se.lazy=function(t){return{$$typeof:iL,_payload:{_status:-1,_result:t},_init:lL}};Se.memo=function(t,e){return{$$typeof:rL,type:t,compare:e===void 0?null:e}};Se.startTransition=function(t){var e=zd.transition;zd.transition={};try{t()}finally{zd.transition=e}};Se.unstable_act=gS;Se.useCallback=function(t,e){return mn.current.useCallback(t,e)};Se.useContext=function(t){return mn.current.useContext(t)};Se.useDebugValue=function(){};Se.useDeferredValue=function(t){return mn.current.useDeferredValue(t)};Se.useEffect=function(t,e){return mn.current.useEffect(t,e)};Se.useId=function(){return mn.current.useId()};Se.useImperativeHandle=function(t,e,n){return mn.current.useImperativeHandle(t,e,n)};Se.useInsertionEffect=function(t,e){return mn.current.useInsertionEffect(t,e)};Se.useLayoutEffect=function(t,e){return mn.current.useLayoutEffect(t,e)};Se.useMemo=function(t,e){return mn.current.useMemo(t,e)};Se.useReducer=function(t,e,n){return mn.current.useReducer(t,e,n)};Se.useRef=function(t){return mn.current.useRef(t)};Se.useState=function(t){return mn.current.useState(t)};Se.useSyncExternalStore=function(t,e,n){return mn.current.useSyncExternalStore(t,e,n)};Se.useTransition=function(){return mn.current.useTransition()};Se.version="18.3.1";lS.exports=Se;var m=lS.exports;const xe=sS(m),Mh=YO({__proto__:null,default:xe},[m]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uL=m,dL=Symbol.for("react.element"),fL=Symbol.for("react.fragment"),hL=Object.prototype.hasOwnProperty,pL=uL.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,mL={key:!0,ref:!0,__self:!0,__source:!0};function vS(t,e,n){var r,i={},o=null,s=null;n!==void 0&&(o=""+n),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(s=e.ref);for(r in e)hL.call(e,r)&&!mL.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:dL,type:t,key:o,ref:s,props:i,_owner:pL.current}}Dh.Fragment=fL;Dh.jsx=vS;Dh.jsxs=vS;aS.exports=Dh;var p=aS.exports,zg={},yS={exports:{}},Fn={},wS={exports:{}},xS={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(L,V){var $=L.length;L.push(V);e:for(;0<$;){var F=$-1>>>1,W=L[F];if(0<i(W,V))L[F]=V,L[$]=W,$=F;else break e}}function n(L){return L.length===0?null:L[0]}function r(L){if(L.length===0)return null;var V=L[0],$=L.pop();if($!==V){L[0]=$;e:for(var F=0,W=L.length,K=W>>>1;F<K;){var oe=2*(F+1)-1,he=L[oe],ue=oe+1,X=L[ue];if(0>i(he,$))ue<W&&0>i(X,he)?(L[F]=X,L[ue]=$,F=ue):(L[F]=he,L[oe]=$,F=oe);else if(ue<W&&0>i(X,$))L[F]=X,L[ue]=$,F=ue;else break e}}return V}function i(L,V){var $=L.sortIndex-V.sortIndex;return $!==0?$:L.id-V.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,a=s.now();t.unstable_now=function(){return s.now()-a}}var l=[],c=[],u=1,f=null,h=3,g=!1,x=!1,w=!1,b=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function E(L){for(var V=n(c);V!==null;){if(V.callback===null)r(c);else if(V.startTime<=L)r(c),V.sortIndex=V.expirationTime,e(l,V);else break;V=n(c)}}function I(L){if(w=!1,E(L),!x)if(n(l)!==null)x=!0,Y(N);else{var V=n(c);V!==null&&z(I,V.startTime-L)}}function N(L,V){x=!1,w&&(w=!1,v(C),C=-1),g=!0;var $=h;try{for(E(V),f=n(l);f!==null&&(!(f.expirationTime>V)||L&&!M());){var F=f.callback;if(typeof F=="function"){f.callback=null,h=f.priorityLevel;var W=F(f.expirationTime<=V);V=t.unstable_now(),typeof W=="function"?f.callback=W:f===n(l)&&r(l),E(V)}else r(l);f=n(l)}if(f!==null)var K=!0;else{var oe=n(c);oe!==null&&z(I,oe.startTime-V),K=!1}return K}finally{f=null,h=$,g=!1}}var O=!1,S=null,C=-1,P=5,A=-1;function M(){return!(t.unstable_now()-A<P)}function D(){if(S!==null){var L=t.unstable_now();A=L;var V=!0;try{V=S(!0,L)}finally{V?R():(O=!1,S=null)}}else O=!1}var R;if(typeof y=="function")R=function(){y(D)};else if(typeof MessageChannel<"u"){var B=new MessageChannel,q=B.port2;B.port1.onmessage=D,R=function(){q.postMessage(null)}}else R=function(){b(D,0)};function Y(L){S=L,O||(O=!0,R())}function z(L,V){C=b(function(){L(t.unstable_now())},V)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(L){L.callback=null},t.unstable_continueExecution=function(){x||g||(x=!0,Y(N))},t.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<L?Math.floor(1e3/L):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(L){switch(h){case 1:case 2:case 3:var V=3;break;default:V=h}var $=h;h=V;try{return L()}finally{h=$}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(L,V){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var $=h;h=L;try{return V()}finally{h=$}},t.unstable_scheduleCallback=function(L,V,$){var F=t.unstable_now();switch(typeof $=="object"&&$!==null?($=$.delay,$=typeof $=="number"&&0<$?F+$:F):$=F,L){case 1:var W=-1;break;case 2:W=250;break;case 5:W=1073741823;break;case 4:W=1e4;break;default:W=5e3}return W=$+W,L={id:u++,callback:V,priorityLevel:L,startTime:$,expirationTime:W,sortIndex:-1},$>F?(L.sortIndex=$,e(c,L),n(l)===null&&L===n(c)&&(w?(v(C),C=-1):w=!0,z(I,$-F))):(L.sortIndex=W,e(l,L),x||g||(x=!0,Y(N))),L},t.unstable_shouldYield=M,t.unstable_wrapCallback=function(L){var V=h;return function(){var $=h;h=V;try{return L.apply(this,arguments)}finally{h=$}}}})(xS);wS.exports=xS;var gL=wS.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vL=m,Vn=gL;function Q(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var _S=new Set,Ac={};function Ss(t,e){ka(t,e),ka(t+"Capture",e)}function ka(t,e){for(Ac[t]=e,t=0;t<e.length;t++)_S.add(e[t])}var fi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Hg=Object.prototype.hasOwnProperty,yL=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,t_={},n_={};function wL(t){return Hg.call(n_,t)?!0:Hg.call(t_,t)?!1:yL.test(t)?n_[t]=!0:(t_[t]=!0,!1)}function xL(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function _L(t,e,n,r){if(e===null||typeof e>"u"||xL(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function gn(t,e,n,r,i,o,s){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=s}var zt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){zt[t]=new gn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];zt[e]=new gn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){zt[t]=new gn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){zt[t]=new gn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){zt[t]=new gn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){zt[t]=new gn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){zt[t]=new gn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){zt[t]=new gn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){zt[t]=new gn(t,5,!1,t.toLowerCase(),null,!1,!1)});var Xy=/[\-:]([a-z])/g;function Jy(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Xy,Jy);zt[e]=new gn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Xy,Jy);zt[e]=new gn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Xy,Jy);zt[e]=new gn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){zt[t]=new gn(t,1,!1,t.toLowerCase(),null,!1,!1)});zt.xlinkHref=new gn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){zt[t]=new gn(t,1,!1,t.toLowerCase(),null,!0,!0)});function Zy(t,e,n,r){var i=zt.hasOwnProperty(e)?zt[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(_L(e,n,i,r)&&(n=null),r||i===null?wL(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Si=vL.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,od=Symbol.for("react.element"),Js=Symbol.for("react.portal"),Zs=Symbol.for("react.fragment"),e0=Symbol.for("react.strict_mode"),qg=Symbol.for("react.profiler"),ES=Symbol.for("react.provider"),bS=Symbol.for("react.context"),t0=Symbol.for("react.forward_ref"),Gg=Symbol.for("react.suspense"),Yg=Symbol.for("react.suspense_list"),n0=Symbol.for("react.memo"),Bi=Symbol.for("react.lazy"),TS=Symbol.for("react.offscreen"),r_=Symbol.iterator;function Ol(t){return t===null||typeof t!="object"?null:(t=r_&&t[r_]||t["@@iterator"],typeof t=="function"?t:null)}var ht=Object.assign,xm;function Ql(t){if(xm===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);xm=e&&e[1]||""}return`
`+xm+t}var _m=!1;function Em(t,e){if(!t||_m)return"";_m=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),o=r.stack.split(`
`),s=i.length-1,a=o.length-1;1<=s&&0<=a&&i[s]!==o[a];)a--;for(;1<=s&&0<=a;s--,a--)if(i[s]!==o[a]){if(s!==1||a!==1)do if(s--,a--,0>a||i[s]!==o[a]){var l=`
`+i[s].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=s&&0<=a);break}}}finally{_m=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Ql(t):""}function EL(t){switch(t.tag){case 5:return Ql(t.type);case 16:return Ql("Lazy");case 13:return Ql("Suspense");case 19:return Ql("SuspenseList");case 0:case 2:case 15:return t=Em(t.type,!1),t;case 11:return t=Em(t.type.render,!1),t;case 1:return t=Em(t.type,!0),t;default:return""}}function Kg(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Zs:return"Fragment";case Js:return"Portal";case qg:return"Profiler";case e0:return"StrictMode";case Gg:return"Suspense";case Yg:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case bS:return(t.displayName||"Context")+".Consumer";case ES:return(t._context.displayName||"Context")+".Provider";case t0:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case n0:return e=t.displayName||null,e!==null?e:Kg(t.type)||"Memo";case Bi:e=t._payload,t=t._init;try{return Kg(t(e))}catch{}}return null}function bL(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Kg(e);case 8:return e===e0?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function _o(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function CS(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function TL(t){var e=CS(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(s){r=""+s,o.call(this,s)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function sd(t){t._valueTracker||(t._valueTracker=TL(t))}function SS(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=CS(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function yf(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Qg(t,e){var n=e.checked;return ht({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function i_(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=_o(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function PS(t,e){e=e.checked,e!=null&&Zy(t,"checked",e,!1)}function Xg(t,e){PS(t,e);var n=_o(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Jg(t,e.type,n):e.hasOwnProperty("defaultValue")&&Jg(t,e.type,_o(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function o_(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Jg(t,e,n){(e!=="number"||yf(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Xl=Array.isArray;function ga(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+_o(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Zg(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(Q(91));return ht({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function s_(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(Q(92));if(Xl(n)){if(1<n.length)throw Error(Q(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:_o(n)}}function IS(t,e){var n=_o(e.value),r=_o(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function a_(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function AS(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ev(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?AS(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var ad,kS=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(ad=ad||document.createElement("div"),ad.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=ad.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function kc(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var ac={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},CL=["Webkit","ms","Moz","O"];Object.keys(ac).forEach(function(t){CL.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),ac[e]=ac[t]})});function RS(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||ac.hasOwnProperty(t)&&ac[t]?(""+e).trim():e+"px"}function NS(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=RS(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var SL=ht({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function tv(t,e){if(e){if(SL[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(Q(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(Q(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(Q(61))}if(e.style!=null&&typeof e.style!="object")throw Error(Q(62))}}function nv(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var rv=null;function r0(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var iv=null,va=null,ya=null;function l_(t){if(t=mu(t)){if(typeof iv!="function")throw Error(Q(280));var e=t.stateNode;e&&(e=Fh(e),iv(t.stateNode,t.type,e))}}function DS(t){va?ya?ya.push(t):ya=[t]:va=t}function MS(){if(va){var t=va,e=ya;if(ya=va=null,l_(t),e)for(t=0;t<e.length;t++)l_(e[t])}}function OS(t,e){return t(e)}function LS(){}var bm=!1;function VS(t,e,n){if(bm)return t(e,n);bm=!0;try{return OS(t,e,n)}finally{bm=!1,(va!==null||ya!==null)&&(LS(),MS())}}function Rc(t,e){var n=t.stateNode;if(n===null)return null;var r=Fh(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(Q(231,e,typeof n));return n}var ov=!1;if(fi)try{var Ll={};Object.defineProperty(Ll,"passive",{get:function(){ov=!0}}),window.addEventListener("test",Ll,Ll),window.removeEventListener("test",Ll,Ll)}catch{ov=!1}function PL(t,e,n,r,i,o,s,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(u){this.onError(u)}}var lc=!1,wf=null,xf=!1,sv=null,IL={onError:function(t){lc=!0,wf=t}};function AL(t,e,n,r,i,o,s,a,l){lc=!1,wf=null,PL.apply(IL,arguments)}function kL(t,e,n,r,i,o,s,a,l){if(AL.apply(this,arguments),lc){if(lc){var c=wf;lc=!1,wf=null}else throw Error(Q(198));xf||(xf=!0,sv=c)}}function Ps(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function jS(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function c_(t){if(Ps(t)!==t)throw Error(Q(188))}function RL(t){var e=t.alternate;if(!e){if(e=Ps(t),e===null)throw Error(Q(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return c_(i),t;if(o===r)return c_(i),e;o=o.sibling}throw Error(Q(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,a=i.child;a;){if(a===n){s=!0,n=i,r=o;break}if(a===r){s=!0,r=i,n=o;break}a=a.sibling}if(!s){for(a=o.child;a;){if(a===n){s=!0,n=o,r=i;break}if(a===r){s=!0,r=o,n=i;break}a=a.sibling}if(!s)throw Error(Q(189))}}if(n.alternate!==r)throw Error(Q(190))}if(n.tag!==3)throw Error(Q(188));return n.stateNode.current===n?t:e}function FS(t){return t=RL(t),t!==null?$S(t):null}function $S(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=$S(t);if(e!==null)return e;t=t.sibling}return null}var US=Vn.unstable_scheduleCallback,u_=Vn.unstable_cancelCallback,NL=Vn.unstable_shouldYield,DL=Vn.unstable_requestPaint,xt=Vn.unstable_now,ML=Vn.unstable_getCurrentPriorityLevel,i0=Vn.unstable_ImmediatePriority,BS=Vn.unstable_UserBlockingPriority,_f=Vn.unstable_NormalPriority,OL=Vn.unstable_LowPriority,WS=Vn.unstable_IdlePriority,Oh=null,Ir=null;function LL(t){if(Ir&&typeof Ir.onCommitFiberRoot=="function")try{Ir.onCommitFiberRoot(Oh,t,void 0,(t.current.flags&128)===128)}catch{}}var ar=Math.clz32?Math.clz32:FL,VL=Math.log,jL=Math.LN2;function FL(t){return t>>>=0,t===0?32:31-(VL(t)/jL|0)|0}var ld=64,cd=4194304;function Jl(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Ef(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,o=t.pingedLanes,s=n&268435455;if(s!==0){var a=s&~i;a!==0?r=Jl(a):(o&=s,o!==0&&(r=Jl(o)))}else s=n&~i,s!==0?r=Jl(s):o!==0&&(r=Jl(o));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,o=e&-e,i>=o||i===16&&(o&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-ar(e),i=1<<n,r|=t[n],e&=~i;return r}function $L(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function UL(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,o=t.pendingLanes;0<o;){var s=31-ar(o),a=1<<s,l=i[s];l===-1?(!(a&n)||a&r)&&(i[s]=$L(a,e)):l<=e&&(t.expiredLanes|=a),o&=~a}}function av(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function zS(){var t=ld;return ld<<=1,!(ld&4194240)&&(ld=64),t}function Tm(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function hu(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-ar(e),t[e]=n}function BL(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-ar(n),o=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~o}}function o0(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-ar(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var qe=0;function HS(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var qS,s0,GS,YS,KS,lv=!1,ud=[],no=null,ro=null,io=null,Nc=new Map,Dc=new Map,Hi=[],WL="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function d_(t,e){switch(t){case"focusin":case"focusout":no=null;break;case"dragenter":case"dragleave":ro=null;break;case"mouseover":case"mouseout":io=null;break;case"pointerover":case"pointerout":Nc.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Dc.delete(e.pointerId)}}function Vl(t,e,n,r,i,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},e!==null&&(e=mu(e),e!==null&&s0(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function zL(t,e,n,r,i){switch(e){case"focusin":return no=Vl(no,t,e,n,r,i),!0;case"dragenter":return ro=Vl(ro,t,e,n,r,i),!0;case"mouseover":return io=Vl(io,t,e,n,r,i),!0;case"pointerover":var o=i.pointerId;return Nc.set(o,Vl(Nc.get(o)||null,t,e,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,Dc.set(o,Vl(Dc.get(o)||null,t,e,n,r,i)),!0}return!1}function QS(t){var e=ts(t.target);if(e!==null){var n=Ps(e);if(n!==null){if(e=n.tag,e===13){if(e=jS(n),e!==null){t.blockedOn=e,KS(t.priority,function(){GS(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Hd(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=cv(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);rv=r,n.target.dispatchEvent(r),rv=null}else return e=mu(n),e!==null&&s0(e),t.blockedOn=n,!1;e.shift()}return!0}function f_(t,e,n){Hd(t)&&n.delete(e)}function HL(){lv=!1,no!==null&&Hd(no)&&(no=null),ro!==null&&Hd(ro)&&(ro=null),io!==null&&Hd(io)&&(io=null),Nc.forEach(f_),Dc.forEach(f_)}function jl(t,e){t.blockedOn===e&&(t.blockedOn=null,lv||(lv=!0,Vn.unstable_scheduleCallback(Vn.unstable_NormalPriority,HL)))}function Mc(t){function e(i){return jl(i,t)}if(0<ud.length){jl(ud[0],t);for(var n=1;n<ud.length;n++){var r=ud[n];r.blockedOn===t&&(r.blockedOn=null)}}for(no!==null&&jl(no,t),ro!==null&&jl(ro,t),io!==null&&jl(io,t),Nc.forEach(e),Dc.forEach(e),n=0;n<Hi.length;n++)r=Hi[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Hi.length&&(n=Hi[0],n.blockedOn===null);)QS(n),n.blockedOn===null&&Hi.shift()}var wa=Si.ReactCurrentBatchConfig,bf=!0;function qL(t,e,n,r){var i=qe,o=wa.transition;wa.transition=null;try{qe=1,a0(t,e,n,r)}finally{qe=i,wa.transition=o}}function GL(t,e,n,r){var i=qe,o=wa.transition;wa.transition=null;try{qe=4,a0(t,e,n,r)}finally{qe=i,wa.transition=o}}function a0(t,e,n,r){if(bf){var i=cv(t,e,n,r);if(i===null)Mm(t,e,r,Tf,n),d_(t,r);else if(zL(i,t,e,n,r))r.stopPropagation();else if(d_(t,r),e&4&&-1<WL.indexOf(t)){for(;i!==null;){var o=mu(i);if(o!==null&&qS(o),o=cv(t,e,n,r),o===null&&Mm(t,e,r,Tf,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else Mm(t,e,r,null,n)}}var Tf=null;function cv(t,e,n,r){if(Tf=null,t=r0(r),t=ts(t),t!==null)if(e=Ps(t),e===null)t=null;else if(n=e.tag,n===13){if(t=jS(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Tf=t,null}function XS(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ML()){case i0:return 1;case BS:return 4;case _f:case OL:return 16;case WS:return 536870912;default:return 16}default:return 16}}var Xi=null,l0=null,qd=null;function JS(){if(qd)return qd;var t,e=l0,n=e.length,r,i="value"in Xi?Xi.value:Xi.textContent,o=i.length;for(t=0;t<n&&e[t]===i[t];t++);var s=n-t;for(r=1;r<=s&&e[n-r]===i[o-r];r++);return qd=i.slice(t,1<r?1-r:void 0)}function Gd(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function dd(){return!0}function h_(){return!1}function $n(t){function e(n,r,i,o,s){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=s,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(o):o[a]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?dd:h_,this.isPropagationStopped=h_,this}return ht(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=dd)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=dd)},persist:function(){},isPersistent:dd}),e}var nl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},c0=$n(nl),pu=ht({},nl,{view:0,detail:0}),YL=$n(pu),Cm,Sm,Fl,Lh=ht({},pu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:u0,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Fl&&(Fl&&t.type==="mousemove"?(Cm=t.screenX-Fl.screenX,Sm=t.screenY-Fl.screenY):Sm=Cm=0,Fl=t),Cm)},movementY:function(t){return"movementY"in t?t.movementY:Sm}}),p_=$n(Lh),KL=ht({},Lh,{dataTransfer:0}),QL=$n(KL),XL=ht({},pu,{relatedTarget:0}),Pm=$n(XL),JL=ht({},nl,{animationName:0,elapsedTime:0,pseudoElement:0}),ZL=$n(JL),e4=ht({},nl,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),t4=$n(e4),n4=ht({},nl,{data:0}),m_=$n(n4),r4={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},i4={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},o4={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function s4(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=o4[t])?!!e[t]:!1}function u0(){return s4}var a4=ht({},pu,{key:function(t){if(t.key){var e=r4[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Gd(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?i4[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:u0,charCode:function(t){return t.type==="keypress"?Gd(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Gd(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),l4=$n(a4),c4=ht({},Lh,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),g_=$n(c4),u4=ht({},pu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:u0}),d4=$n(u4),f4=ht({},nl,{propertyName:0,elapsedTime:0,pseudoElement:0}),h4=$n(f4),p4=ht({},Lh,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),m4=$n(p4),g4=[9,13,27,32],d0=fi&&"CompositionEvent"in window,cc=null;fi&&"documentMode"in document&&(cc=document.documentMode);var v4=fi&&"TextEvent"in window&&!cc,ZS=fi&&(!d0||cc&&8<cc&&11>=cc),v_=String.fromCharCode(32),y_=!1;function eP(t,e){switch(t){case"keyup":return g4.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function tP(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ea=!1;function y4(t,e){switch(t){case"compositionend":return tP(e);case"keypress":return e.which!==32?null:(y_=!0,v_);case"textInput":return t=e.data,t===v_&&y_?null:t;default:return null}}function w4(t,e){if(ea)return t==="compositionend"||!d0&&eP(t,e)?(t=JS(),qd=l0=Xi=null,ea=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return ZS&&e.locale!=="ko"?null:e.data;default:return null}}var x4={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function w_(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!x4[t.type]:e==="textarea"}function nP(t,e,n,r){DS(r),e=Cf(e,"onChange"),0<e.length&&(n=new c0("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var uc=null,Oc=null;function _4(t){hP(t,0)}function Vh(t){var e=ra(t);if(SS(e))return t}function E4(t,e){if(t==="change")return e}var rP=!1;if(fi){var Im;if(fi){var Am="oninput"in document;if(!Am){var x_=document.createElement("div");x_.setAttribute("oninput","return;"),Am=typeof x_.oninput=="function"}Im=Am}else Im=!1;rP=Im&&(!document.documentMode||9<document.documentMode)}function __(){uc&&(uc.detachEvent("onpropertychange",iP),Oc=uc=null)}function iP(t){if(t.propertyName==="value"&&Vh(Oc)){var e=[];nP(e,Oc,t,r0(t)),VS(_4,e)}}function b4(t,e,n){t==="focusin"?(__(),uc=e,Oc=n,uc.attachEvent("onpropertychange",iP)):t==="focusout"&&__()}function T4(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Vh(Oc)}function C4(t,e){if(t==="click")return Vh(e)}function S4(t,e){if(t==="input"||t==="change")return Vh(e)}function P4(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var ur=typeof Object.is=="function"?Object.is:P4;function Lc(t,e){if(ur(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Hg.call(e,i)||!ur(t[i],e[i]))return!1}return!0}function E_(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function b_(t,e){var n=E_(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=E_(n)}}function oP(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?oP(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function sP(){for(var t=window,e=yf();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=yf(t.document)}return e}function f0(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function I4(t){var e=sP(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&oP(n.ownerDocument.documentElement,n)){if(r!==null&&f0(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!t.extend&&o>r&&(i=r,r=o,o=i),i=b_(n,o);var s=b_(n,r);i&&s&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==s.node||t.focusOffset!==s.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),o>r?(t.addRange(e),t.extend(s.node,s.offset)):(e.setEnd(s.node,s.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var A4=fi&&"documentMode"in document&&11>=document.documentMode,ta=null,uv=null,dc=null,dv=!1;function T_(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;dv||ta==null||ta!==yf(r)||(r=ta,"selectionStart"in r&&f0(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),dc&&Lc(dc,r)||(dc=r,r=Cf(uv,"onSelect"),0<r.length&&(e=new c0("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=ta)))}function fd(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var na={animationend:fd("Animation","AnimationEnd"),animationiteration:fd("Animation","AnimationIteration"),animationstart:fd("Animation","AnimationStart"),transitionend:fd("Transition","TransitionEnd")},km={},aP={};fi&&(aP=document.createElement("div").style,"AnimationEvent"in window||(delete na.animationend.animation,delete na.animationiteration.animation,delete na.animationstart.animation),"TransitionEvent"in window||delete na.transitionend.transition);function jh(t){if(km[t])return km[t];if(!na[t])return t;var e=na[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in aP)return km[t]=e[n];return t}var lP=jh("animationend"),cP=jh("animationiteration"),uP=jh("animationstart"),dP=jh("transitionend"),fP=new Map,C_="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Do(t,e){fP.set(t,e),Ss(e,[t])}for(var Rm=0;Rm<C_.length;Rm++){var Nm=C_[Rm],k4=Nm.toLowerCase(),R4=Nm[0].toUpperCase()+Nm.slice(1);Do(k4,"on"+R4)}Do(lP,"onAnimationEnd");Do(cP,"onAnimationIteration");Do(uP,"onAnimationStart");Do("dblclick","onDoubleClick");Do("focusin","onFocus");Do("focusout","onBlur");Do(dP,"onTransitionEnd");ka("onMouseEnter",["mouseout","mouseover"]);ka("onMouseLeave",["mouseout","mouseover"]);ka("onPointerEnter",["pointerout","pointerover"]);ka("onPointerLeave",["pointerout","pointerover"]);Ss("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ss("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ss("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ss("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ss("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ss("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Zl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),N4=new Set("cancel close invalid load scroll toggle".split(" ").concat(Zl));function S_(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,kL(r,e,void 0,t),t.currentTarget=null}function hP(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var o=void 0;if(e)for(var s=r.length-1;0<=s;s--){var a=r[s],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==o&&i.isPropagationStopped())break e;S_(i,a,c),o=l}else for(s=0;s<r.length;s++){if(a=r[s],l=a.instance,c=a.currentTarget,a=a.listener,l!==o&&i.isPropagationStopped())break e;S_(i,a,c),o=l}}}if(xf)throw t=sv,xf=!1,sv=null,t}function nt(t,e){var n=e[gv];n===void 0&&(n=e[gv]=new Set);var r=t+"__bubble";n.has(r)||(pP(e,t,2,!1),n.add(r))}function Dm(t,e,n){var r=0;e&&(r|=4),pP(n,t,r,e)}var hd="_reactListening"+Math.random().toString(36).slice(2);function Vc(t){if(!t[hd]){t[hd]=!0,_S.forEach(function(n){n!=="selectionchange"&&(N4.has(n)||Dm(n,!1,t),Dm(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[hd]||(e[hd]=!0,Dm("selectionchange",!1,e))}}function pP(t,e,n,r){switch(XS(e)){case 1:var i=qL;break;case 4:i=GL;break;default:i=a0}n=i.bind(null,e,n,t),i=void 0,!ov||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Mm(t,e,n,r,i){var o=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(s===4)for(s=r.return;s!==null;){var l=s.tag;if((l===3||l===4)&&(l=s.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;s=s.return}for(;a!==null;){if(s=ts(a),s===null)return;if(l=s.tag,l===5||l===6){r=o=s;continue e}a=a.parentNode}}r=r.return}VS(function(){var c=o,u=r0(n),f=[];e:{var h=fP.get(t);if(h!==void 0){var g=c0,x=t;switch(t){case"keypress":if(Gd(n)===0)break e;case"keydown":case"keyup":g=l4;break;case"focusin":x="focus",g=Pm;break;case"focusout":x="blur",g=Pm;break;case"beforeblur":case"afterblur":g=Pm;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=p_;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=QL;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=d4;break;case lP:case cP:case uP:g=ZL;break;case dP:g=h4;break;case"scroll":g=YL;break;case"wheel":g=m4;break;case"copy":case"cut":case"paste":g=t4;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=g_}var w=(e&4)!==0,b=!w&&t==="scroll",v=w?h!==null?h+"Capture":null:h;w=[];for(var y=c,E;y!==null;){E=y;var I=E.stateNode;if(E.tag===5&&I!==null&&(E=I,v!==null&&(I=Rc(y,v),I!=null&&w.push(jc(y,I,E)))),b)break;y=y.return}0<w.length&&(h=new g(h,x,null,n,u),f.push({event:h,listeners:w}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",g=t==="mouseout"||t==="pointerout",h&&n!==rv&&(x=n.relatedTarget||n.fromElement)&&(ts(x)||x[hi]))break e;if((g||h)&&(h=u.window===u?u:(h=u.ownerDocument)?h.defaultView||h.parentWindow:window,g?(x=n.relatedTarget||n.toElement,g=c,x=x?ts(x):null,x!==null&&(b=Ps(x),x!==b||x.tag!==5&&x.tag!==6)&&(x=null)):(g=null,x=c),g!==x)){if(w=p_,I="onMouseLeave",v="onMouseEnter",y="mouse",(t==="pointerout"||t==="pointerover")&&(w=g_,I="onPointerLeave",v="onPointerEnter",y="pointer"),b=g==null?h:ra(g),E=x==null?h:ra(x),h=new w(I,y+"leave",g,n,u),h.target=b,h.relatedTarget=E,I=null,ts(u)===c&&(w=new w(v,y+"enter",x,n,u),w.target=E,w.relatedTarget=b,I=w),b=I,g&&x)t:{for(w=g,v=x,y=0,E=w;E;E=Fs(E))y++;for(E=0,I=v;I;I=Fs(I))E++;for(;0<y-E;)w=Fs(w),y--;for(;0<E-y;)v=Fs(v),E--;for(;y--;){if(w===v||v!==null&&w===v.alternate)break t;w=Fs(w),v=Fs(v)}w=null}else w=null;g!==null&&P_(f,h,g,w,!1),x!==null&&b!==null&&P_(f,b,x,w,!0)}}e:{if(h=c?ra(c):window,g=h.nodeName&&h.nodeName.toLowerCase(),g==="select"||g==="input"&&h.type==="file")var N=E4;else if(w_(h))if(rP)N=S4;else{N=T4;var O=b4}else(g=h.nodeName)&&g.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(N=C4);if(N&&(N=N(t,c))){nP(f,N,n,u);break e}O&&O(t,h,c),t==="focusout"&&(O=h._wrapperState)&&O.controlled&&h.type==="number"&&Jg(h,"number",h.value)}switch(O=c?ra(c):window,t){case"focusin":(w_(O)||O.contentEditable==="true")&&(ta=O,uv=c,dc=null);break;case"focusout":dc=uv=ta=null;break;case"mousedown":dv=!0;break;case"contextmenu":case"mouseup":case"dragend":dv=!1,T_(f,n,u);break;case"selectionchange":if(A4)break;case"keydown":case"keyup":T_(f,n,u)}var S;if(d0)e:{switch(t){case"compositionstart":var C="onCompositionStart";break e;case"compositionend":C="onCompositionEnd";break e;case"compositionupdate":C="onCompositionUpdate";break e}C=void 0}else ea?eP(t,n)&&(C="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(C="onCompositionStart");C&&(ZS&&n.locale!=="ko"&&(ea||C!=="onCompositionStart"?C==="onCompositionEnd"&&ea&&(S=JS()):(Xi=u,l0="value"in Xi?Xi.value:Xi.textContent,ea=!0)),O=Cf(c,C),0<O.length&&(C=new m_(C,t,null,n,u),f.push({event:C,listeners:O}),S?C.data=S:(S=tP(n),S!==null&&(C.data=S)))),(S=v4?y4(t,n):w4(t,n))&&(c=Cf(c,"onBeforeInput"),0<c.length&&(u=new m_("onBeforeInput","beforeinput",null,n,u),f.push({event:u,listeners:c}),u.data=S))}hP(f,e)})}function jc(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Cf(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=Rc(t,n),o!=null&&r.unshift(jc(t,o,i)),o=Rc(t,e),o!=null&&r.push(jc(t,o,i))),t=t.return}return r}function Fs(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function P_(t,e,n,r,i){for(var o=e._reactName,s=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,i?(l=Rc(n,o),l!=null&&s.unshift(jc(n,l,a))):i||(l=Rc(n,o),l!=null&&s.push(jc(n,l,a)))),n=n.return}s.length!==0&&t.push({event:e,listeners:s})}var D4=/\r\n?/g,M4=/\u0000|\uFFFD/g;function I_(t){return(typeof t=="string"?t:""+t).replace(D4,`
`).replace(M4,"")}function pd(t,e,n){if(e=I_(e),I_(t)!==e&&n)throw Error(Q(425))}function Sf(){}var fv=null,hv=null;function pv(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var mv=typeof setTimeout=="function"?setTimeout:void 0,O4=typeof clearTimeout=="function"?clearTimeout:void 0,A_=typeof Promise=="function"?Promise:void 0,L4=typeof queueMicrotask=="function"?queueMicrotask:typeof A_<"u"?function(t){return A_.resolve(null).then(t).catch(V4)}:mv;function V4(t){setTimeout(function(){throw t})}function Om(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Mc(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Mc(e)}function oo(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function k_(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var rl=Math.random().toString(36).slice(2),Er="__reactFiber$"+rl,Fc="__reactProps$"+rl,hi="__reactContainer$"+rl,gv="__reactEvents$"+rl,j4="__reactListeners$"+rl,F4="__reactHandles$"+rl;function ts(t){var e=t[Er];if(e)return e;for(var n=t.parentNode;n;){if(e=n[hi]||n[Er]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=k_(t);t!==null;){if(n=t[Er])return n;t=k_(t)}return e}t=n,n=t.parentNode}return null}function mu(t){return t=t[Er]||t[hi],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function ra(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(Q(33))}function Fh(t){return t[Fc]||null}var vv=[],ia=-1;function Mo(t){return{current:t}}function ot(t){0>ia||(t.current=vv[ia],vv[ia]=null,ia--)}function Qe(t,e){ia++,vv[ia]=t.current,t.current=e}var Eo={},on=Mo(Eo),En=Mo(!1),us=Eo;function Ra(t,e){var n=t.type.contextTypes;if(!n)return Eo;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=e[o];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function bn(t){return t=t.childContextTypes,t!=null}function Pf(){ot(En),ot(on)}function R_(t,e,n){if(on.current!==Eo)throw Error(Q(168));Qe(on,e),Qe(En,n)}function mP(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(Q(108,bL(t)||"Unknown",i));return ht({},n,r)}function If(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Eo,us=on.current,Qe(on,t),Qe(En,En.current),!0}function N_(t,e,n){var r=t.stateNode;if(!r)throw Error(Q(169));n?(t=mP(t,e,us),r.__reactInternalMemoizedMergedChildContext=t,ot(En),ot(on),Qe(on,t)):ot(En),Qe(En,n)}var Zr=null,$h=!1,Lm=!1;function gP(t){Zr===null?Zr=[t]:Zr.push(t)}function $4(t){$h=!0,gP(t)}function Oo(){if(!Lm&&Zr!==null){Lm=!0;var t=0,e=qe;try{var n=Zr;for(qe=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Zr=null,$h=!1}catch(i){throw Zr!==null&&(Zr=Zr.slice(t+1)),US(i0,Oo),i}finally{qe=e,Lm=!1}}return null}var oa=[],sa=0,Af=null,kf=0,Wn=[],zn=0,ds=null,ei=1,ti="";function Yo(t,e){oa[sa++]=kf,oa[sa++]=Af,Af=t,kf=e}function vP(t,e,n){Wn[zn++]=ei,Wn[zn++]=ti,Wn[zn++]=ds,ds=t;var r=ei;t=ti;var i=32-ar(r)-1;r&=~(1<<i),n+=1;var o=32-ar(e)+i;if(30<o){var s=i-i%5;o=(r&(1<<s)-1).toString(32),r>>=s,i-=s,ei=1<<32-ar(e)+i|n<<i|r,ti=o+t}else ei=1<<o|n<<i|r,ti=t}function h0(t){t.return!==null&&(Yo(t,1),vP(t,1,0))}function p0(t){for(;t===Af;)Af=oa[--sa],oa[sa]=null,kf=oa[--sa],oa[sa]=null;for(;t===ds;)ds=Wn[--zn],Wn[zn]=null,ti=Wn[--zn],Wn[zn]=null,ei=Wn[--zn],Wn[zn]=null}var On=null,Dn=null,at=!1,or=null;function yP(t,e){var n=Gn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function D_(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,On=t,Dn=oo(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,On=t,Dn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=ds!==null?{id:ei,overflow:ti}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Gn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,On=t,Dn=null,!0):!1;default:return!1}}function yv(t){return(t.mode&1)!==0&&(t.flags&128)===0}function wv(t){if(at){var e=Dn;if(e){var n=e;if(!D_(t,e)){if(yv(t))throw Error(Q(418));e=oo(n.nextSibling);var r=On;e&&D_(t,e)?yP(r,n):(t.flags=t.flags&-4097|2,at=!1,On=t)}}else{if(yv(t))throw Error(Q(418));t.flags=t.flags&-4097|2,at=!1,On=t}}}function M_(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;On=t}function md(t){if(t!==On)return!1;if(!at)return M_(t),at=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!pv(t.type,t.memoizedProps)),e&&(e=Dn)){if(yv(t))throw wP(),Error(Q(418));for(;e;)yP(t,e),e=oo(e.nextSibling)}if(M_(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(Q(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Dn=oo(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Dn=null}}else Dn=On?oo(t.stateNode.nextSibling):null;return!0}function wP(){for(var t=Dn;t;)t=oo(t.nextSibling)}function Na(){Dn=On=null,at=!1}function m0(t){or===null?or=[t]:or.push(t)}var U4=Si.ReactCurrentBatchConfig;function $l(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(Q(309));var r=n.stateNode}if(!r)throw Error(Q(147,t));var i=r,o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(s){var a=i.refs;s===null?delete a[o]:a[o]=s},e._stringRef=o,e)}if(typeof t!="string")throw Error(Q(284));if(!n._owner)throw Error(Q(290,t))}return t}function gd(t,e){throw t=Object.prototype.toString.call(e),Error(Q(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function O_(t){var e=t._init;return e(t._payload)}function xP(t){function e(v,y){if(t){var E=v.deletions;E===null?(v.deletions=[y],v.flags|=16):E.push(y)}}function n(v,y){if(!t)return null;for(;y!==null;)e(v,y),y=y.sibling;return null}function r(v,y){for(v=new Map;y!==null;)y.key!==null?v.set(y.key,y):v.set(y.index,y),y=y.sibling;return v}function i(v,y){return v=co(v,y),v.index=0,v.sibling=null,v}function o(v,y,E){return v.index=E,t?(E=v.alternate,E!==null?(E=E.index,E<y?(v.flags|=2,y):E):(v.flags|=2,y)):(v.flags|=1048576,y)}function s(v){return t&&v.alternate===null&&(v.flags|=2),v}function a(v,y,E,I){return y===null||y.tag!==6?(y=Wm(E,v.mode,I),y.return=v,y):(y=i(y,E),y.return=v,y)}function l(v,y,E,I){var N=E.type;return N===Zs?u(v,y,E.props.children,I,E.key):y!==null&&(y.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===Bi&&O_(N)===y.type)?(I=i(y,E.props),I.ref=$l(v,y,E),I.return=v,I):(I=ef(E.type,E.key,E.props,null,v.mode,I),I.ref=$l(v,y,E),I.return=v,I)}function c(v,y,E,I){return y===null||y.tag!==4||y.stateNode.containerInfo!==E.containerInfo||y.stateNode.implementation!==E.implementation?(y=zm(E,v.mode,I),y.return=v,y):(y=i(y,E.children||[]),y.return=v,y)}function u(v,y,E,I,N){return y===null||y.tag!==7?(y=ls(E,v.mode,I,N),y.return=v,y):(y=i(y,E),y.return=v,y)}function f(v,y,E){if(typeof y=="string"&&y!==""||typeof y=="number")return y=Wm(""+y,v.mode,E),y.return=v,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case od:return E=ef(y.type,y.key,y.props,null,v.mode,E),E.ref=$l(v,null,y),E.return=v,E;case Js:return y=zm(y,v.mode,E),y.return=v,y;case Bi:var I=y._init;return f(v,I(y._payload),E)}if(Xl(y)||Ol(y))return y=ls(y,v.mode,E,null),y.return=v,y;gd(v,y)}return null}function h(v,y,E,I){var N=y!==null?y.key:null;if(typeof E=="string"&&E!==""||typeof E=="number")return N!==null?null:a(v,y,""+E,I);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case od:return E.key===N?l(v,y,E,I):null;case Js:return E.key===N?c(v,y,E,I):null;case Bi:return N=E._init,h(v,y,N(E._payload),I)}if(Xl(E)||Ol(E))return N!==null?null:u(v,y,E,I,null);gd(v,E)}return null}function g(v,y,E,I,N){if(typeof I=="string"&&I!==""||typeof I=="number")return v=v.get(E)||null,a(y,v,""+I,N);if(typeof I=="object"&&I!==null){switch(I.$$typeof){case od:return v=v.get(I.key===null?E:I.key)||null,l(y,v,I,N);case Js:return v=v.get(I.key===null?E:I.key)||null,c(y,v,I,N);case Bi:var O=I._init;return g(v,y,E,O(I._payload),N)}if(Xl(I)||Ol(I))return v=v.get(E)||null,u(y,v,I,N,null);gd(y,I)}return null}function x(v,y,E,I){for(var N=null,O=null,S=y,C=y=0,P=null;S!==null&&C<E.length;C++){S.index>C?(P=S,S=null):P=S.sibling;var A=h(v,S,E[C],I);if(A===null){S===null&&(S=P);break}t&&S&&A.alternate===null&&e(v,S),y=o(A,y,C),O===null?N=A:O.sibling=A,O=A,S=P}if(C===E.length)return n(v,S),at&&Yo(v,C),N;if(S===null){for(;C<E.length;C++)S=f(v,E[C],I),S!==null&&(y=o(S,y,C),O===null?N=S:O.sibling=S,O=S);return at&&Yo(v,C),N}for(S=r(v,S);C<E.length;C++)P=g(S,v,C,E[C],I),P!==null&&(t&&P.alternate!==null&&S.delete(P.key===null?C:P.key),y=o(P,y,C),O===null?N=P:O.sibling=P,O=P);return t&&S.forEach(function(M){return e(v,M)}),at&&Yo(v,C),N}function w(v,y,E,I){var N=Ol(E);if(typeof N!="function")throw Error(Q(150));if(E=N.call(E),E==null)throw Error(Q(151));for(var O=N=null,S=y,C=y=0,P=null,A=E.next();S!==null&&!A.done;C++,A=E.next()){S.index>C?(P=S,S=null):P=S.sibling;var M=h(v,S,A.value,I);if(M===null){S===null&&(S=P);break}t&&S&&M.alternate===null&&e(v,S),y=o(M,y,C),O===null?N=M:O.sibling=M,O=M,S=P}if(A.done)return n(v,S),at&&Yo(v,C),N;if(S===null){for(;!A.done;C++,A=E.next())A=f(v,A.value,I),A!==null&&(y=o(A,y,C),O===null?N=A:O.sibling=A,O=A);return at&&Yo(v,C),N}for(S=r(v,S);!A.done;C++,A=E.next())A=g(S,v,C,A.value,I),A!==null&&(t&&A.alternate!==null&&S.delete(A.key===null?C:A.key),y=o(A,y,C),O===null?N=A:O.sibling=A,O=A);return t&&S.forEach(function(D){return e(v,D)}),at&&Yo(v,C),N}function b(v,y,E,I){if(typeof E=="object"&&E!==null&&E.type===Zs&&E.key===null&&(E=E.props.children),typeof E=="object"&&E!==null){switch(E.$$typeof){case od:e:{for(var N=E.key,O=y;O!==null;){if(O.key===N){if(N=E.type,N===Zs){if(O.tag===7){n(v,O.sibling),y=i(O,E.props.children),y.return=v,v=y;break e}}else if(O.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===Bi&&O_(N)===O.type){n(v,O.sibling),y=i(O,E.props),y.ref=$l(v,O,E),y.return=v,v=y;break e}n(v,O);break}else e(v,O);O=O.sibling}E.type===Zs?(y=ls(E.props.children,v.mode,I,E.key),y.return=v,v=y):(I=ef(E.type,E.key,E.props,null,v.mode,I),I.ref=$l(v,y,E),I.return=v,v=I)}return s(v);case Js:e:{for(O=E.key;y!==null;){if(y.key===O)if(y.tag===4&&y.stateNode.containerInfo===E.containerInfo&&y.stateNode.implementation===E.implementation){n(v,y.sibling),y=i(y,E.children||[]),y.return=v,v=y;break e}else{n(v,y);break}else e(v,y);y=y.sibling}y=zm(E,v.mode,I),y.return=v,v=y}return s(v);case Bi:return O=E._init,b(v,y,O(E._payload),I)}if(Xl(E))return x(v,y,E,I);if(Ol(E))return w(v,y,E,I);gd(v,E)}return typeof E=="string"&&E!==""||typeof E=="number"?(E=""+E,y!==null&&y.tag===6?(n(v,y.sibling),y=i(y,E),y.return=v,v=y):(n(v,y),y=Wm(E,v.mode,I),y.return=v,v=y),s(v)):n(v,y)}return b}var Da=xP(!0),_P=xP(!1),Rf=Mo(null),Nf=null,aa=null,g0=null;function v0(){g0=aa=Nf=null}function y0(t){var e=Rf.current;ot(Rf),t._currentValue=e}function xv(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function xa(t,e){Nf=t,g0=aa=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(xn=!0),t.firstContext=null)}function Kn(t){var e=t._currentValue;if(g0!==t)if(t={context:t,memoizedValue:e,next:null},aa===null){if(Nf===null)throw Error(Q(308));aa=t,Nf.dependencies={lanes:0,firstContext:t}}else aa=aa.next=t;return e}var ns=null;function w0(t){ns===null?ns=[t]:ns.push(t)}function EP(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,w0(e)):(n.next=i.next,i.next=n),e.interleaved=n,pi(t,r)}function pi(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Wi=!1;function x0(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function bP(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function oi(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function so(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Ve&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,pi(t,n)}return i=r.interleaved,i===null?(e.next=e,w0(r)):(e.next=i.next,i.next=e),r.interleaved=e,pi(t,n)}function Yd(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,o0(t,n)}}function L_(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=s:o=o.next=s,n=n.next}while(n!==null);o===null?i=o=e:o=o.next=e}else i=o=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Df(t,e,n,r){var i=t.updateQueue;Wi=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,c=l.next;l.next=null,s===null?o=c:s.next=c,s=l;var u=t.alternate;u!==null&&(u=u.updateQueue,a=u.lastBaseUpdate,a!==s&&(a===null?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(o!==null){var f=i.baseState;s=0,u=c=l=null,a=o;do{var h=a.lane,g=a.eventTime;if((r&h)===h){u!==null&&(u=u.next={eventTime:g,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var x=t,w=a;switch(h=e,g=n,w.tag){case 1:if(x=w.payload,typeof x=="function"){f=x.call(g,f,h);break e}f=x;break e;case 3:x.flags=x.flags&-65537|128;case 0:if(x=w.payload,h=typeof x=="function"?x.call(g,f,h):x,h==null)break e;f=ht({},f,h);break e;case 2:Wi=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,h=i.effects,h===null?i.effects=[a]:h.push(a))}else g={eventTime:g,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},u===null?(c=u=g,l=f):u=u.next=g,s|=h;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;h=a,a=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(1);if(u===null&&(l=f),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,e=i.shared.interleaved,e!==null){i=e;do s|=i.lane,i=i.next;while(i!==e)}else o===null&&(i.shared.lanes=0);hs|=s,t.lanes=s,t.memoizedState=f}}function V_(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(Q(191,i));i.call(r)}}}var gu={},Ar=Mo(gu),$c=Mo(gu),Uc=Mo(gu);function rs(t){if(t===gu)throw Error(Q(174));return t}function _0(t,e){switch(Qe(Uc,e),Qe($c,t),Qe(Ar,gu),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:ev(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=ev(e,t)}ot(Ar),Qe(Ar,e)}function Ma(){ot(Ar),ot($c),ot(Uc)}function TP(t){rs(Uc.current);var e=rs(Ar.current),n=ev(e,t.type);e!==n&&(Qe($c,t),Qe(Ar,n))}function E0(t){$c.current===t&&(ot(Ar),ot($c))}var ct=Mo(0);function Mf(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Vm=[];function b0(){for(var t=0;t<Vm.length;t++)Vm[t]._workInProgressVersionPrimary=null;Vm.length=0}var Kd=Si.ReactCurrentDispatcher,jm=Si.ReactCurrentBatchConfig,fs=0,ft=null,It=null,Ot=null,Of=!1,fc=!1,Bc=0,B4=0;function Qt(){throw Error(Q(321))}function T0(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!ur(t[n],e[n]))return!1;return!0}function C0(t,e,n,r,i,o){if(fs=o,ft=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Kd.current=t===null||t.memoizedState===null?q4:G4,t=n(r,i),fc){o=0;do{if(fc=!1,Bc=0,25<=o)throw Error(Q(301));o+=1,Ot=It=null,e.updateQueue=null,Kd.current=Y4,t=n(r,i)}while(fc)}if(Kd.current=Lf,e=It!==null&&It.next!==null,fs=0,Ot=It=ft=null,Of=!1,e)throw Error(Q(300));return t}function S0(){var t=Bc!==0;return Bc=0,t}function xr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ot===null?ft.memoizedState=Ot=t:Ot=Ot.next=t,Ot}function Qn(){if(It===null){var t=ft.alternate;t=t!==null?t.memoizedState:null}else t=It.next;var e=Ot===null?ft.memoizedState:Ot.next;if(e!==null)Ot=e,It=t;else{if(t===null)throw Error(Q(310));It=t,t={memoizedState:It.memoizedState,baseState:It.baseState,baseQueue:It.baseQueue,queue:It.queue,next:null},Ot===null?ft.memoizedState=Ot=t:Ot=Ot.next=t}return Ot}function Wc(t,e){return typeof e=="function"?e(t):e}function Fm(t){var e=Qn(),n=e.queue;if(n===null)throw Error(Q(311));n.lastRenderedReducer=t;var r=It,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var a=s=null,l=null,c=o;do{var u=c.lane;if((fs&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var f={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=f,s=r):l=l.next=f,ft.lanes|=u,hs|=u}c=c.next}while(c!==null&&c!==o);l===null?s=r:l.next=a,ur(r,e.memoizedState)||(xn=!0),e.memoizedState=r,e.baseState=s,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do o=i.lane,ft.lanes|=o,hs|=o,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function $m(t){var e=Qn(),n=e.queue;if(n===null)throw Error(Q(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,o=e.memoizedState;if(i!==null){n.pending=null;var s=i=i.next;do o=t(o,s.action),s=s.next;while(s!==i);ur(o,e.memoizedState)||(xn=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),n.lastRenderedState=o}return[o,r]}function CP(){}function SP(t,e){var n=ft,r=Qn(),i=e(),o=!ur(r.memoizedState,i);if(o&&(r.memoizedState=i,xn=!0),r=r.queue,P0(AP.bind(null,n,r,t),[t]),r.getSnapshot!==e||o||Ot!==null&&Ot.memoizedState.tag&1){if(n.flags|=2048,zc(9,IP.bind(null,n,r,i,e),void 0,null),Vt===null)throw Error(Q(349));fs&30||PP(n,e,i)}return i}function PP(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=ft.updateQueue,e===null?(e={lastEffect:null,stores:null},ft.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function IP(t,e,n,r){e.value=n,e.getSnapshot=r,kP(e)&&RP(t)}function AP(t,e,n){return n(function(){kP(e)&&RP(t)})}function kP(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!ur(t,n)}catch{return!0}}function RP(t){var e=pi(t,1);e!==null&&lr(e,t,1,-1)}function j_(t){var e=xr();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Wc,lastRenderedState:t},e.queue=t,t=t.dispatch=H4.bind(null,ft,t),[e.memoizedState,t]}function zc(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=ft.updateQueue,e===null?(e={lastEffect:null,stores:null},ft.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function NP(){return Qn().memoizedState}function Qd(t,e,n,r){var i=xr();ft.flags|=t,i.memoizedState=zc(1|e,n,void 0,r===void 0?null:r)}function Uh(t,e,n,r){var i=Qn();r=r===void 0?null:r;var o=void 0;if(It!==null){var s=It.memoizedState;if(o=s.destroy,r!==null&&T0(r,s.deps)){i.memoizedState=zc(e,n,o,r);return}}ft.flags|=t,i.memoizedState=zc(1|e,n,o,r)}function F_(t,e){return Qd(8390656,8,t,e)}function P0(t,e){return Uh(2048,8,t,e)}function DP(t,e){return Uh(4,2,t,e)}function MP(t,e){return Uh(4,4,t,e)}function OP(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function LP(t,e,n){return n=n!=null?n.concat([t]):null,Uh(4,4,OP.bind(null,e,t),n)}function I0(){}function VP(t,e){var n=Qn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&T0(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function jP(t,e){var n=Qn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&T0(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function FP(t,e,n){return fs&21?(ur(n,e)||(n=zS(),ft.lanes|=n,hs|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,xn=!0),t.memoizedState=n)}function W4(t,e){var n=qe;qe=n!==0&&4>n?n:4,t(!0);var r=jm.transition;jm.transition={};try{t(!1),e()}finally{qe=n,jm.transition=r}}function $P(){return Qn().memoizedState}function z4(t,e,n){var r=lo(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},UP(t))BP(e,n);else if(n=EP(t,e,n,r),n!==null){var i=pn();lr(n,t,r,i),WP(n,e,r)}}function H4(t,e,n){var r=lo(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(UP(t))BP(e,i);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var s=e.lastRenderedState,a=o(s,n);if(i.hasEagerState=!0,i.eagerState=a,ur(a,s)){var l=e.interleaved;l===null?(i.next=i,w0(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=EP(t,e,i,r),n!==null&&(i=pn(),lr(n,t,r,i),WP(n,e,r))}}function UP(t){var e=t.alternate;return t===ft||e!==null&&e===ft}function BP(t,e){fc=Of=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function WP(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,o0(t,n)}}var Lf={readContext:Kn,useCallback:Qt,useContext:Qt,useEffect:Qt,useImperativeHandle:Qt,useInsertionEffect:Qt,useLayoutEffect:Qt,useMemo:Qt,useReducer:Qt,useRef:Qt,useState:Qt,useDebugValue:Qt,useDeferredValue:Qt,useTransition:Qt,useMutableSource:Qt,useSyncExternalStore:Qt,useId:Qt,unstable_isNewReconciler:!1},q4={readContext:Kn,useCallback:function(t,e){return xr().memoizedState=[t,e===void 0?null:e],t},useContext:Kn,useEffect:F_,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Qd(4194308,4,OP.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Qd(4194308,4,t,e)},useInsertionEffect:function(t,e){return Qd(4,2,t,e)},useMemo:function(t,e){var n=xr();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=xr();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=z4.bind(null,ft,t),[r.memoizedState,t]},useRef:function(t){var e=xr();return t={current:t},e.memoizedState=t},useState:j_,useDebugValue:I0,useDeferredValue:function(t){return xr().memoizedState=t},useTransition:function(){var t=j_(!1),e=t[0];return t=W4.bind(null,t[1]),xr().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=ft,i=xr();if(at){if(n===void 0)throw Error(Q(407));n=n()}else{if(n=e(),Vt===null)throw Error(Q(349));fs&30||PP(r,e,n)}i.memoizedState=n;var o={value:n,getSnapshot:e};return i.queue=o,F_(AP.bind(null,r,o,t),[t]),r.flags|=2048,zc(9,IP.bind(null,r,o,n,e),void 0,null),n},useId:function(){var t=xr(),e=Vt.identifierPrefix;if(at){var n=ti,r=ei;n=(r&~(1<<32-ar(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Bc++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=B4++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},G4={readContext:Kn,useCallback:VP,useContext:Kn,useEffect:P0,useImperativeHandle:LP,useInsertionEffect:DP,useLayoutEffect:MP,useMemo:jP,useReducer:Fm,useRef:NP,useState:function(){return Fm(Wc)},useDebugValue:I0,useDeferredValue:function(t){var e=Qn();return FP(e,It.memoizedState,t)},useTransition:function(){var t=Fm(Wc)[0],e=Qn().memoizedState;return[t,e]},useMutableSource:CP,useSyncExternalStore:SP,useId:$P,unstable_isNewReconciler:!1},Y4={readContext:Kn,useCallback:VP,useContext:Kn,useEffect:P0,useImperativeHandle:LP,useInsertionEffect:DP,useLayoutEffect:MP,useMemo:jP,useReducer:$m,useRef:NP,useState:function(){return $m(Wc)},useDebugValue:I0,useDeferredValue:function(t){var e=Qn();return It===null?e.memoizedState=t:FP(e,It.memoizedState,t)},useTransition:function(){var t=$m(Wc)[0],e=Qn().memoizedState;return[t,e]},useMutableSource:CP,useSyncExternalStore:SP,useId:$P,unstable_isNewReconciler:!1};function rr(t,e){if(t&&t.defaultProps){e=ht({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function _v(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:ht({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Bh={isMounted:function(t){return(t=t._reactInternals)?Ps(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=pn(),i=lo(t),o=oi(r,i);o.payload=e,n!=null&&(o.callback=n),e=so(t,o,i),e!==null&&(lr(e,t,i,r),Yd(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=pn(),i=lo(t),o=oi(r,i);o.tag=1,o.payload=e,n!=null&&(o.callback=n),e=so(t,o,i),e!==null&&(lr(e,t,i,r),Yd(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=pn(),r=lo(t),i=oi(n,r);i.tag=2,e!=null&&(i.callback=e),e=so(t,i,r),e!==null&&(lr(e,t,r,n),Yd(e,t,r))}};function $_(t,e,n,r,i,o,s){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,o,s):e.prototype&&e.prototype.isPureReactComponent?!Lc(n,r)||!Lc(i,o):!0}function zP(t,e,n){var r=!1,i=Eo,o=e.contextType;return typeof o=="object"&&o!==null?o=Kn(o):(i=bn(e)?us:on.current,r=e.contextTypes,o=(r=r!=null)?Ra(t,i):Eo),e=new e(n,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Bh,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=o),e}function U_(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Bh.enqueueReplaceState(e,e.state,null)}function Ev(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},x0(t);var o=e.contextType;typeof o=="object"&&o!==null?i.context=Kn(o):(o=bn(e)?us:on.current,i.context=Ra(t,o)),i.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(_v(t,e,o,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Bh.enqueueReplaceState(i,i.state,null),Df(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Oa(t,e){try{var n="",r=e;do n+=EL(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:i,digest:null}}function Um(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function bv(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var K4=typeof WeakMap=="function"?WeakMap:Map;function HP(t,e,n){n=oi(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){jf||(jf=!0,Dv=r),bv(t,e)},n}function qP(t,e,n){n=oi(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){bv(t,e)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){bv(t,e),typeof r!="function"&&(ao===null?ao=new Set([this]):ao.add(this));var s=e.stack;this.componentDidCatch(e.value,{componentStack:s!==null?s:""})}),n}function B_(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new K4;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=cV.bind(null,t,e,n),e.then(t,t))}function W_(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function z_(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=oi(-1,1),e.tag=2,so(n,e,1))),n.lanes|=1),t)}var Q4=Si.ReactCurrentOwner,xn=!1;function fn(t,e,n,r){e.child=t===null?_P(e,null,n,r):Da(e,t.child,n,r)}function H_(t,e,n,r,i){n=n.render;var o=e.ref;return xa(e,i),r=C0(t,e,n,r,o,i),n=S0(),t!==null&&!xn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,mi(t,e,i)):(at&&n&&h0(e),e.flags|=1,fn(t,e,r,i),e.child)}function q_(t,e,n,r,i){if(t===null){var o=n.type;return typeof o=="function"&&!L0(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=o,GP(t,e,o,r,i)):(t=ef(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,!(t.lanes&i)){var s=o.memoizedProps;if(n=n.compare,n=n!==null?n:Lc,n(s,r)&&t.ref===e.ref)return mi(t,e,i)}return e.flags|=1,t=co(o,r),t.ref=e.ref,t.return=e,e.child=t}function GP(t,e,n,r,i){if(t!==null){var o=t.memoizedProps;if(Lc(o,r)&&t.ref===e.ref)if(xn=!1,e.pendingProps=r=o,(t.lanes&i)!==0)t.flags&131072&&(xn=!0);else return e.lanes=t.lanes,mi(t,e,i)}return Tv(t,e,n,r,i)}function YP(t,e,n){var r=e.pendingProps,i=r.children,o=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Qe(ca,Rn),Rn|=n;else{if(!(n&1073741824))return t=o!==null?o.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Qe(ca,Rn),Rn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,Qe(ca,Rn),Rn|=r}else o!==null?(r=o.baseLanes|n,e.memoizedState=null):r=n,Qe(ca,Rn),Rn|=r;return fn(t,e,i,n),e.child}function KP(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Tv(t,e,n,r,i){var o=bn(n)?us:on.current;return o=Ra(e,o),xa(e,i),n=C0(t,e,n,r,o,i),r=S0(),t!==null&&!xn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,mi(t,e,i)):(at&&r&&h0(e),e.flags|=1,fn(t,e,n,i),e.child)}function G_(t,e,n,r,i){if(bn(n)){var o=!0;If(e)}else o=!1;if(xa(e,i),e.stateNode===null)Xd(t,e),zP(e,n,r),Ev(e,n,r,i),r=!0;else if(t===null){var s=e.stateNode,a=e.memoizedProps;s.props=a;var l=s.context,c=n.contextType;typeof c=="object"&&c!==null?c=Kn(c):(c=bn(n)?us:on.current,c=Ra(e,c));var u=n.getDerivedStateFromProps,f=typeof u=="function"||typeof s.getSnapshotBeforeUpdate=="function";f||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==r||l!==c)&&U_(e,s,r,c),Wi=!1;var h=e.memoizedState;s.state=h,Df(e,r,s,i),l=e.memoizedState,a!==r||h!==l||En.current||Wi?(typeof u=="function"&&(_v(e,n,u,r),l=e.memoizedState),(a=Wi||$_(e,n,a,r,h,l,c))?(f||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(e.flags|=4194308)):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),s.props=r,s.state=l,s.context=c,r=a):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{s=e.stateNode,bP(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:rr(e.type,a),s.props=c,f=e.pendingProps,h=s.context,l=n.contextType,typeof l=="object"&&l!==null?l=Kn(l):(l=bn(n)?us:on.current,l=Ra(e,l));var g=n.getDerivedStateFromProps;(u=typeof g=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==f||h!==l)&&U_(e,s,r,l),Wi=!1,h=e.memoizedState,s.state=h,Df(e,r,s,i);var x=e.memoizedState;a!==f||h!==x||En.current||Wi?(typeof g=="function"&&(_v(e,n,g,r),x=e.memoizedState),(c=Wi||$_(e,n,c,r,h,x,l)||!1)?(u||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,x,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,x,l)),typeof s.componentDidUpdate=="function"&&(e.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=x),s.props=r,s.state=x,s.context=l,r=c):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),r=!1)}return Cv(t,e,n,r,o,i)}function Cv(t,e,n,r,i,o){KP(t,e);var s=(e.flags&128)!==0;if(!r&&!s)return i&&N_(e,n,!1),mi(t,e,o);r=e.stateNode,Q4.current=e;var a=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&s?(e.child=Da(e,t.child,null,o),e.child=Da(e,null,a,o)):fn(t,e,a,o),e.memoizedState=r.state,i&&N_(e,n,!0),e.child}function QP(t){var e=t.stateNode;e.pendingContext?R_(t,e.pendingContext,e.pendingContext!==e.context):e.context&&R_(t,e.context,!1),_0(t,e.containerInfo)}function Y_(t,e,n,r,i){return Na(),m0(i),e.flags|=256,fn(t,e,n,r),e.child}var Sv={dehydrated:null,treeContext:null,retryLane:0};function Pv(t){return{baseLanes:t,cachePool:null,transitions:null}}function XP(t,e,n){var r=e.pendingProps,i=ct.current,o=!1,s=(e.flags&128)!==0,a;if((a=s)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(o=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Qe(ct,i&1),t===null)return wv(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(s=r.children,t=r.fallback,o?(r=e.mode,o=e.child,s={mode:"hidden",children:s},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=s):o=Hh(s,r,0,null),t=ls(t,r,n,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=Pv(n),e.memoizedState=Sv,t):A0(e,s));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return X4(t,e,s,r,a,i,n);if(o){o=r.fallback,s=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(s&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=co(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?o=co(a,o):(o=ls(o,s,n,null),o.flags|=2),o.return=e,r.return=e,r.sibling=o,e.child=r,r=o,o=e.child,s=t.child.memoizedState,s=s===null?Pv(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},o.memoizedState=s,o.childLanes=t.childLanes&~n,e.memoizedState=Sv,r}return o=t.child,t=o.sibling,r=co(o,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function A0(t,e){return e=Hh({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function vd(t,e,n,r){return r!==null&&m0(r),Da(e,t.child,null,n),t=A0(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function X4(t,e,n,r,i,o,s){if(n)return e.flags&256?(e.flags&=-257,r=Um(Error(Q(422))),vd(t,e,s,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(o=r.fallback,i=e.mode,r=Hh({mode:"visible",children:r.children},i,0,null),o=ls(o,i,s,null),o.flags|=2,r.return=e,o.return=e,r.sibling=o,e.child=r,e.mode&1&&Da(e,t.child,null,s),e.child.memoizedState=Pv(s),e.memoizedState=Sv,o);if(!(e.mode&1))return vd(t,e,s,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,o=Error(Q(419)),r=Um(o,r,void 0),vd(t,e,s,r)}if(a=(s&t.childLanes)!==0,xn||a){if(r=Vt,r!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|s)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,pi(t,i),lr(r,t,i,-1))}return O0(),r=Um(Error(Q(421))),vd(t,e,s,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=uV.bind(null,t),i._reactRetry=e,null):(t=o.treeContext,Dn=oo(i.nextSibling),On=e,at=!0,or=null,t!==null&&(Wn[zn++]=ei,Wn[zn++]=ti,Wn[zn++]=ds,ei=t.id,ti=t.overflow,ds=e),e=A0(e,r.children),e.flags|=4096,e)}function K_(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),xv(t.return,e,n)}function Bm(t,e,n,r,i){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function JP(t,e,n){var r=e.pendingProps,i=r.revealOrder,o=r.tail;if(fn(t,e,r.children,n),r=ct.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&K_(t,n,e);else if(t.tag===19)K_(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Qe(ct,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Mf(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Bm(e,!1,i,n,o);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Mf(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Bm(e,!0,n,null,o);break;case"together":Bm(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Xd(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function mi(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),hs|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(Q(153));if(e.child!==null){for(t=e.child,n=co(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=co(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function J4(t,e,n){switch(e.tag){case 3:QP(e),Na();break;case 5:TP(e);break;case 1:bn(e.type)&&If(e);break;case 4:_0(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Qe(Rf,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Qe(ct,ct.current&1),e.flags|=128,null):n&e.child.childLanes?XP(t,e,n):(Qe(ct,ct.current&1),t=mi(t,e,n),t!==null?t.sibling:null);Qe(ct,ct.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return JP(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Qe(ct,ct.current),r)break;return null;case 22:case 23:return e.lanes=0,YP(t,e,n)}return mi(t,e,n)}var ZP,Iv,eI,tI;ZP=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Iv=function(){};eI=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,rs(Ar.current);var o=null;switch(n){case"input":i=Qg(t,i),r=Qg(t,r),o=[];break;case"select":i=ht({},i,{value:void 0}),r=ht({},r,{value:void 0}),o=[];break;case"textarea":i=Zg(t,i),r=Zg(t,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Sf)}tv(n,r);var s;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var a=i[c];for(s in a)a.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Ac.hasOwnProperty(c)?o||(o=[]):(o=o||[]).push(c,null));for(c in r){var l=r[c];if(a=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(s in a)!a.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in l)l.hasOwnProperty(s)&&a[s]!==l[s]&&(n||(n={}),n[s]=l[s])}else n||(o||(o=[]),o.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(o=o||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(o=o||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Ac.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&nt("scroll",t),o||a===l||(o=[])):(o=o||[]).push(c,l))}n&&(o=o||[]).push("style",n);var c=o;(e.updateQueue=c)&&(e.flags|=4)}};tI=function(t,e,n,r){n!==r&&(e.flags|=4)};function Ul(t,e){if(!at)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Xt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function Z4(t,e,n){var r=e.pendingProps;switch(p0(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Xt(e),null;case 1:return bn(e.type)&&Pf(),Xt(e),null;case 3:return r=e.stateNode,Ma(),ot(En),ot(on),b0(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(md(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,or!==null&&(Lv(or),or=null))),Iv(t,e),Xt(e),null;case 5:E0(e);var i=rs(Uc.current);if(n=e.type,t!==null&&e.stateNode!=null)eI(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(Q(166));return Xt(e),null}if(t=rs(Ar.current),md(e)){r=e.stateNode,n=e.type;var o=e.memoizedProps;switch(r[Er]=e,r[Fc]=o,t=(e.mode&1)!==0,n){case"dialog":nt("cancel",r),nt("close",r);break;case"iframe":case"object":case"embed":nt("load",r);break;case"video":case"audio":for(i=0;i<Zl.length;i++)nt(Zl[i],r);break;case"source":nt("error",r);break;case"img":case"image":case"link":nt("error",r),nt("load",r);break;case"details":nt("toggle",r);break;case"input":i_(r,o),nt("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},nt("invalid",r);break;case"textarea":s_(r,o),nt("invalid",r)}tv(n,o),i=null;for(var s in o)if(o.hasOwnProperty(s)){var a=o[s];s==="children"?typeof a=="string"?r.textContent!==a&&(o.suppressHydrationWarning!==!0&&pd(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(o.suppressHydrationWarning!==!0&&pd(r.textContent,a,t),i=["children",""+a]):Ac.hasOwnProperty(s)&&a!=null&&s==="onScroll"&&nt("scroll",r)}switch(n){case"input":sd(r),o_(r,o,!0);break;case"textarea":sd(r),a_(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=Sf)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=AS(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=s.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=s.createElement(n,{is:r.is}):(t=s.createElement(n),n==="select"&&(s=t,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):t=s.createElementNS(t,n),t[Er]=e,t[Fc]=r,ZP(t,e,!1,!1),e.stateNode=t;e:{switch(s=nv(n,r),n){case"dialog":nt("cancel",t),nt("close",t),i=r;break;case"iframe":case"object":case"embed":nt("load",t),i=r;break;case"video":case"audio":for(i=0;i<Zl.length;i++)nt(Zl[i],t);i=r;break;case"source":nt("error",t),i=r;break;case"img":case"image":case"link":nt("error",t),nt("load",t),i=r;break;case"details":nt("toggle",t),i=r;break;case"input":i_(t,r),i=Qg(t,r),nt("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=ht({},r,{value:void 0}),nt("invalid",t);break;case"textarea":s_(t,r),i=Zg(t,r),nt("invalid",t);break;default:i=r}tv(n,i),a=i;for(o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="style"?NS(t,l):o==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&kS(t,l)):o==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&kc(t,l):typeof l=="number"&&kc(t,""+l):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(Ac.hasOwnProperty(o)?l!=null&&o==="onScroll"&&nt("scroll",t):l!=null&&Zy(t,o,l,s))}switch(n){case"input":sd(t),o_(t,r,!1);break;case"textarea":sd(t),a_(t);break;case"option":r.value!=null&&t.setAttribute("value",""+_o(r.value));break;case"select":t.multiple=!!r.multiple,o=r.value,o!=null?ga(t,!!r.multiple,o,!1):r.defaultValue!=null&&ga(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Sf)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Xt(e),null;case 6:if(t&&e.stateNode!=null)tI(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(Q(166));if(n=rs(Uc.current),rs(Ar.current),md(e)){if(r=e.stateNode,n=e.memoizedProps,r[Er]=e,(o=r.nodeValue!==n)&&(t=On,t!==null))switch(t.tag){case 3:pd(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&pd(r.nodeValue,n,(t.mode&1)!==0)}o&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Er]=e,e.stateNode=r}return Xt(e),null;case 13:if(ot(ct),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(at&&Dn!==null&&e.mode&1&&!(e.flags&128))wP(),Na(),e.flags|=98560,o=!1;else if(o=md(e),r!==null&&r.dehydrated!==null){if(t===null){if(!o)throw Error(Q(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(Q(317));o[Er]=e}else Na(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Xt(e),o=!1}else or!==null&&(Lv(or),or=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||ct.current&1?kt===0&&(kt=3):O0())),e.updateQueue!==null&&(e.flags|=4),Xt(e),null);case 4:return Ma(),Iv(t,e),t===null&&Vc(e.stateNode.containerInfo),Xt(e),null;case 10:return y0(e.type._context),Xt(e),null;case 17:return bn(e.type)&&Pf(),Xt(e),null;case 19:if(ot(ct),o=e.memoizedState,o===null)return Xt(e),null;if(r=(e.flags&128)!==0,s=o.rendering,s===null)if(r)Ul(o,!1);else{if(kt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(s=Mf(t),s!==null){for(e.flags|=128,Ul(o,!1),r=s.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)o=n,t=r,o.flags&=14680066,s=o.alternate,s===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,t=s.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Qe(ct,ct.current&1|2),e.child}t=t.sibling}o.tail!==null&&xt()>La&&(e.flags|=128,r=!0,Ul(o,!1),e.lanes=4194304)}else{if(!r)if(t=Mf(s),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Ul(o,!0),o.tail===null&&o.tailMode==="hidden"&&!s.alternate&&!at)return Xt(e),null}else 2*xt()-o.renderingStartTime>La&&n!==1073741824&&(e.flags|=128,r=!0,Ul(o,!1),e.lanes=4194304);o.isBackwards?(s.sibling=e.child,e.child=s):(n=o.last,n!==null?n.sibling=s:e.child=s,o.last=s)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=xt(),e.sibling=null,n=ct.current,Qe(ct,r?n&1|2:n&1),e):(Xt(e),null);case 22:case 23:return M0(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Rn&1073741824&&(Xt(e),e.subtreeFlags&6&&(e.flags|=8192)):Xt(e),null;case 24:return null;case 25:return null}throw Error(Q(156,e.tag))}function eV(t,e){switch(p0(e),e.tag){case 1:return bn(e.type)&&Pf(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Ma(),ot(En),ot(on),b0(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return E0(e),null;case 13:if(ot(ct),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(Q(340));Na()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return ot(ct),null;case 4:return Ma(),null;case 10:return y0(e.type._context),null;case 22:case 23:return M0(),null;case 24:return null;default:return null}}var yd=!1,tn=!1,tV=typeof WeakSet=="function"?WeakSet:Set,re=null;function la(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){gt(t,e,r)}else n.current=null}function Av(t,e,n){try{n()}catch(r){gt(t,e,r)}}var Q_=!1;function nV(t,e){if(fv=bf,t=sP(),f0(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var s=0,a=-1,l=-1,c=0,u=0,f=t,h=null;t:for(;;){for(var g;f!==n||i!==0&&f.nodeType!==3||(a=s+i),f!==o||r!==0&&f.nodeType!==3||(l=s+r),f.nodeType===3&&(s+=f.nodeValue.length),(g=f.firstChild)!==null;)h=f,f=g;for(;;){if(f===t)break t;if(h===n&&++c===i&&(a=s),h===o&&++u===r&&(l=s),(g=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=g}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(hv={focusedElem:t,selectionRange:n},bf=!1,re=e;re!==null;)if(e=re,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,re=t;else for(;re!==null;){e=re;try{var x=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(x!==null){var w=x.memoizedProps,b=x.memoizedState,v=e.stateNode,y=v.getSnapshotBeforeUpdate(e.elementType===e.type?w:rr(e.type,w),b);v.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var E=e.stateNode.containerInfo;E.nodeType===1?E.textContent="":E.nodeType===9&&E.documentElement&&E.removeChild(E.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Q(163))}}catch(I){gt(e,e.return,I)}if(t=e.sibling,t!==null){t.return=e.return,re=t;break}re=e.return}return x=Q_,Q_=!1,x}function hc(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var o=i.destroy;i.destroy=void 0,o!==void 0&&Av(e,n,o)}i=i.next}while(i!==r)}}function Wh(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function kv(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function nI(t){var e=t.alternate;e!==null&&(t.alternate=null,nI(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Er],delete e[Fc],delete e[gv],delete e[j4],delete e[F4])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function rI(t){return t.tag===5||t.tag===3||t.tag===4}function X_(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||rI(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Rv(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Sf));else if(r!==4&&(t=t.child,t!==null))for(Rv(t,e,n),t=t.sibling;t!==null;)Rv(t,e,n),t=t.sibling}function Nv(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Nv(t,e,n),t=t.sibling;t!==null;)Nv(t,e,n),t=t.sibling}var Ft=null,ir=!1;function Oi(t,e,n){for(n=n.child;n!==null;)iI(t,e,n),n=n.sibling}function iI(t,e,n){if(Ir&&typeof Ir.onCommitFiberUnmount=="function")try{Ir.onCommitFiberUnmount(Oh,n)}catch{}switch(n.tag){case 5:tn||la(n,e);case 6:var r=Ft,i=ir;Ft=null,Oi(t,e,n),Ft=r,ir=i,Ft!==null&&(ir?(t=Ft,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Ft.removeChild(n.stateNode));break;case 18:Ft!==null&&(ir?(t=Ft,n=n.stateNode,t.nodeType===8?Om(t.parentNode,n):t.nodeType===1&&Om(t,n),Mc(t)):Om(Ft,n.stateNode));break;case 4:r=Ft,i=ir,Ft=n.stateNode.containerInfo,ir=!0,Oi(t,e,n),Ft=r,ir=i;break;case 0:case 11:case 14:case 15:if(!tn&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,s=o.destroy;o=o.tag,s!==void 0&&(o&2||o&4)&&Av(n,e,s),i=i.next}while(i!==r)}Oi(t,e,n);break;case 1:if(!tn&&(la(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){gt(n,e,a)}Oi(t,e,n);break;case 21:Oi(t,e,n);break;case 22:n.mode&1?(tn=(r=tn)||n.memoizedState!==null,Oi(t,e,n),tn=r):Oi(t,e,n);break;default:Oi(t,e,n)}}function J_(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new tV),e.forEach(function(r){var i=dV.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function tr(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=t,s=e,a=s;e:for(;a!==null;){switch(a.tag){case 5:Ft=a.stateNode,ir=!1;break e;case 3:Ft=a.stateNode.containerInfo,ir=!0;break e;case 4:Ft=a.stateNode.containerInfo,ir=!0;break e}a=a.return}if(Ft===null)throw Error(Q(160));iI(o,s,i),Ft=null,ir=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){gt(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)oI(e,t),e=e.sibling}function oI(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(tr(e,t),wr(t),r&4){try{hc(3,t,t.return),Wh(3,t)}catch(w){gt(t,t.return,w)}try{hc(5,t,t.return)}catch(w){gt(t,t.return,w)}}break;case 1:tr(e,t),wr(t),r&512&&n!==null&&la(n,n.return);break;case 5:if(tr(e,t),wr(t),r&512&&n!==null&&la(n,n.return),t.flags&32){var i=t.stateNode;try{kc(i,"")}catch(w){gt(t,t.return,w)}}if(r&4&&(i=t.stateNode,i!=null)){var o=t.memoizedProps,s=n!==null?n.memoizedProps:o,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&o.type==="radio"&&o.name!=null&&PS(i,o),nv(a,s);var c=nv(a,o);for(s=0;s<l.length;s+=2){var u=l[s],f=l[s+1];u==="style"?NS(i,f):u==="dangerouslySetInnerHTML"?kS(i,f):u==="children"?kc(i,f):Zy(i,u,f,c)}switch(a){case"input":Xg(i,o);break;case"textarea":IS(i,o);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var g=o.value;g!=null?ga(i,!!o.multiple,g,!1):h!==!!o.multiple&&(o.defaultValue!=null?ga(i,!!o.multiple,o.defaultValue,!0):ga(i,!!o.multiple,o.multiple?[]:"",!1))}i[Fc]=o}catch(w){gt(t,t.return,w)}}break;case 6:if(tr(e,t),wr(t),r&4){if(t.stateNode===null)throw Error(Q(162));i=t.stateNode,o=t.memoizedProps;try{i.nodeValue=o}catch(w){gt(t,t.return,w)}}break;case 3:if(tr(e,t),wr(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Mc(e.containerInfo)}catch(w){gt(t,t.return,w)}break;case 4:tr(e,t),wr(t);break;case 13:tr(e,t),wr(t),i=t.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(N0=xt())),r&4&&J_(t);break;case 22:if(u=n!==null&&n.memoizedState!==null,t.mode&1?(tn=(c=tn)||u,tr(e,t),tn=c):tr(e,t),wr(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!u&&t.mode&1)for(re=t,u=t.child;u!==null;){for(f=re=u;re!==null;){switch(h=re,g=h.child,h.tag){case 0:case 11:case 14:case 15:hc(4,h,h.return);break;case 1:la(h,h.return);var x=h.stateNode;if(typeof x.componentWillUnmount=="function"){r=h,n=h.return;try{e=r,x.props=e.memoizedProps,x.state=e.memoizedState,x.componentWillUnmount()}catch(w){gt(r,n,w)}}break;case 5:la(h,h.return);break;case 22:if(h.memoizedState!==null){eE(f);continue}}g!==null?(g.return=h,re=g):eE(f)}u=u.sibling}e:for(u=null,f=t;;){if(f.tag===5){if(u===null){u=f;try{i=f.stateNode,c?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(a=f.stateNode,l=f.memoizedProps.style,s=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=RS("display",s))}catch(w){gt(t,t.return,w)}}}else if(f.tag===6){if(u===null)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(w){gt(t,t.return,w)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;u===f&&(u=null),f=f.return}u===f&&(u=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:tr(e,t),wr(t),r&4&&J_(t);break;case 21:break;default:tr(e,t),wr(t)}}function wr(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(rI(n)){var r=n;break e}n=n.return}throw Error(Q(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(kc(i,""),r.flags&=-33);var o=X_(t);Nv(t,o,i);break;case 3:case 4:var s=r.stateNode.containerInfo,a=X_(t);Rv(t,a,s);break;default:throw Error(Q(161))}}catch(l){gt(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function rV(t,e,n){re=t,sI(t)}function sI(t,e,n){for(var r=(t.mode&1)!==0;re!==null;){var i=re,o=i.child;if(i.tag===22&&r){var s=i.memoizedState!==null||yd;if(!s){var a=i.alternate,l=a!==null&&a.memoizedState!==null||tn;a=yd;var c=tn;if(yd=s,(tn=l)&&!c)for(re=i;re!==null;)s=re,l=s.child,s.tag===22&&s.memoizedState!==null?tE(i):l!==null?(l.return=s,re=l):tE(i);for(;o!==null;)re=o,sI(o),o=o.sibling;re=i,yd=a,tn=c}Z_(t)}else i.subtreeFlags&8772&&o!==null?(o.return=i,re=o):Z_(t)}}function Z_(t){for(;re!==null;){var e=re;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:tn||Wh(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!tn)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:rr(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&V_(e,o,r);break;case 3:var s=e.updateQueue;if(s!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}V_(e,s,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var f=u.dehydrated;f!==null&&Mc(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Q(163))}tn||e.flags&512&&kv(e)}catch(h){gt(e,e.return,h)}}if(e===t){re=null;break}if(n=e.sibling,n!==null){n.return=e.return,re=n;break}re=e.return}}function eE(t){for(;re!==null;){var e=re;if(e===t){re=null;break}var n=e.sibling;if(n!==null){n.return=e.return,re=n;break}re=e.return}}function tE(t){for(;re!==null;){var e=re;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Wh(4,e)}catch(l){gt(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){gt(e,i,l)}}var o=e.return;try{kv(e)}catch(l){gt(e,o,l)}break;case 5:var s=e.return;try{kv(e)}catch(l){gt(e,s,l)}}}catch(l){gt(e,e.return,l)}if(e===t){re=null;break}var a=e.sibling;if(a!==null){a.return=e.return,re=a;break}re=e.return}}var iV=Math.ceil,Vf=Si.ReactCurrentDispatcher,k0=Si.ReactCurrentOwner,Yn=Si.ReactCurrentBatchConfig,Ve=0,Vt=null,St=null,Wt=0,Rn=0,ca=Mo(0),kt=0,Hc=null,hs=0,zh=0,R0=0,pc=null,yn=null,N0=0,La=1/0,Xr=null,jf=!1,Dv=null,ao=null,wd=!1,Ji=null,Ff=0,mc=0,Mv=null,Jd=-1,Zd=0;function pn(){return Ve&6?xt():Jd!==-1?Jd:Jd=xt()}function lo(t){return t.mode&1?Ve&2&&Wt!==0?Wt&-Wt:U4.transition!==null?(Zd===0&&(Zd=zS()),Zd):(t=qe,t!==0||(t=window.event,t=t===void 0?16:XS(t.type)),t):1}function lr(t,e,n,r){if(50<mc)throw mc=0,Mv=null,Error(Q(185));hu(t,n,r),(!(Ve&2)||t!==Vt)&&(t===Vt&&(!(Ve&2)&&(zh|=n),kt===4&&qi(t,Wt)),Tn(t,r),n===1&&Ve===0&&!(e.mode&1)&&(La=xt()+500,$h&&Oo()))}function Tn(t,e){var n=t.callbackNode;UL(t,e);var r=Ef(t,t===Vt?Wt:0);if(r===0)n!==null&&u_(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&u_(n),e===1)t.tag===0?$4(nE.bind(null,t)):gP(nE.bind(null,t)),L4(function(){!(Ve&6)&&Oo()}),n=null;else{switch(HS(r)){case 1:n=i0;break;case 4:n=BS;break;case 16:n=_f;break;case 536870912:n=WS;break;default:n=_f}n=pI(n,aI.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function aI(t,e){if(Jd=-1,Zd=0,Ve&6)throw Error(Q(327));var n=t.callbackNode;if(_a()&&t.callbackNode!==n)return null;var r=Ef(t,t===Vt?Wt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=$f(t,r);else{e=r;var i=Ve;Ve|=2;var o=cI();(Vt!==t||Wt!==e)&&(Xr=null,La=xt()+500,as(t,e));do try{aV();break}catch(a){lI(t,a)}while(1);v0(),Vf.current=o,Ve=i,St!==null?e=0:(Vt=null,Wt=0,e=kt)}if(e!==0){if(e===2&&(i=av(t),i!==0&&(r=i,e=Ov(t,i))),e===1)throw n=Hc,as(t,0),qi(t,r),Tn(t,xt()),n;if(e===6)qi(t,r);else{if(i=t.current.alternate,!(r&30)&&!oV(i)&&(e=$f(t,r),e===2&&(o=av(t),o!==0&&(r=o,e=Ov(t,o))),e===1))throw n=Hc,as(t,0),qi(t,r),Tn(t,xt()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(Q(345));case 2:Ko(t,yn,Xr);break;case 3:if(qi(t,r),(r&130023424)===r&&(e=N0+500-xt(),10<e)){if(Ef(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){pn(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=mv(Ko.bind(null,t,yn,Xr),e);break}Ko(t,yn,Xr);break;case 4:if(qi(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var s=31-ar(r);o=1<<s,s=e[s],s>i&&(i=s),r&=~o}if(r=i,r=xt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*iV(r/1960))-r,10<r){t.timeoutHandle=mv(Ko.bind(null,t,yn,Xr),r);break}Ko(t,yn,Xr);break;case 5:Ko(t,yn,Xr);break;default:throw Error(Q(329))}}}return Tn(t,xt()),t.callbackNode===n?aI.bind(null,t):null}function Ov(t,e){var n=pc;return t.current.memoizedState.isDehydrated&&(as(t,e).flags|=256),t=$f(t,e),t!==2&&(e=yn,yn=n,e!==null&&Lv(e)),t}function Lv(t){yn===null?yn=t:yn.push.apply(yn,t)}function oV(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!ur(o(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function qi(t,e){for(e&=~R0,e&=~zh,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-ar(e),r=1<<n;t[n]=-1,e&=~r}}function nE(t){if(Ve&6)throw Error(Q(327));_a();var e=Ef(t,0);if(!(e&1))return Tn(t,xt()),null;var n=$f(t,e);if(t.tag!==0&&n===2){var r=av(t);r!==0&&(e=r,n=Ov(t,r))}if(n===1)throw n=Hc,as(t,0),qi(t,e),Tn(t,xt()),n;if(n===6)throw Error(Q(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Ko(t,yn,Xr),Tn(t,xt()),null}function D0(t,e){var n=Ve;Ve|=1;try{return t(e)}finally{Ve=n,Ve===0&&(La=xt()+500,$h&&Oo())}}function ps(t){Ji!==null&&Ji.tag===0&&!(Ve&6)&&_a();var e=Ve;Ve|=1;var n=Yn.transition,r=qe;try{if(Yn.transition=null,qe=1,t)return t()}finally{qe=r,Yn.transition=n,Ve=e,!(Ve&6)&&Oo()}}function M0(){Rn=ca.current,ot(ca)}function as(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,O4(n)),St!==null)for(n=St.return;n!==null;){var r=n;switch(p0(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Pf();break;case 3:Ma(),ot(En),ot(on),b0();break;case 5:E0(r);break;case 4:Ma();break;case 13:ot(ct);break;case 19:ot(ct);break;case 10:y0(r.type._context);break;case 22:case 23:M0()}n=n.return}if(Vt=t,St=t=co(t.current,null),Wt=Rn=e,kt=0,Hc=null,R0=zh=hs=0,yn=pc=null,ns!==null){for(e=0;e<ns.length;e++)if(n=ns[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var s=o.next;o.next=i,r.next=s}n.pending=r}ns=null}return t}function lI(t,e){do{var n=St;try{if(v0(),Kd.current=Lf,Of){for(var r=ft.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Of=!1}if(fs=0,Ot=It=ft=null,fc=!1,Bc=0,k0.current=null,n===null||n.return===null){kt=1,Hc=e,St=null;break}e:{var o=t,s=n.return,a=n,l=e;if(e=Wt,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=a,f=u.tag;if(!(u.mode&1)&&(f===0||f===11||f===15)){var h=u.alternate;h?(u.updateQueue=h.updateQueue,u.memoizedState=h.memoizedState,u.lanes=h.lanes):(u.updateQueue=null,u.memoizedState=null)}var g=W_(s);if(g!==null){g.flags&=-257,z_(g,s,a,o,e),g.mode&1&&B_(o,c,e),e=g,l=c;var x=e.updateQueue;if(x===null){var w=new Set;w.add(l),e.updateQueue=w}else x.add(l);break e}else{if(!(e&1)){B_(o,c,e),O0();break e}l=Error(Q(426))}}else if(at&&a.mode&1){var b=W_(s);if(b!==null){!(b.flags&65536)&&(b.flags|=256),z_(b,s,a,o,e),m0(Oa(l,a));break e}}o=l=Oa(l,a),kt!==4&&(kt=2),pc===null?pc=[o]:pc.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var v=HP(o,l,e);L_(o,v);break e;case 1:a=l;var y=o.type,E=o.stateNode;if(!(o.flags&128)&&(typeof y.getDerivedStateFromError=="function"||E!==null&&typeof E.componentDidCatch=="function"&&(ao===null||!ao.has(E)))){o.flags|=65536,e&=-e,o.lanes|=e;var I=qP(o,a,e);L_(o,I);break e}}o=o.return}while(o!==null)}dI(n)}catch(N){e=N,St===n&&n!==null&&(St=n=n.return);continue}break}while(1)}function cI(){var t=Vf.current;return Vf.current=Lf,t===null?Lf:t}function O0(){(kt===0||kt===3||kt===2)&&(kt=4),Vt===null||!(hs&268435455)&&!(zh&268435455)||qi(Vt,Wt)}function $f(t,e){var n=Ve;Ve|=2;var r=cI();(Vt!==t||Wt!==e)&&(Xr=null,as(t,e));do try{sV();break}catch(i){lI(t,i)}while(1);if(v0(),Ve=n,Vf.current=r,St!==null)throw Error(Q(261));return Vt=null,Wt=0,kt}function sV(){for(;St!==null;)uI(St)}function aV(){for(;St!==null&&!NL();)uI(St)}function uI(t){var e=hI(t.alternate,t,Rn);t.memoizedProps=t.pendingProps,e===null?dI(t):St=e,k0.current=null}function dI(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=eV(n,e),n!==null){n.flags&=32767,St=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{kt=6,St=null;return}}else if(n=Z4(n,e,Rn),n!==null){St=n;return}if(e=e.sibling,e!==null){St=e;return}St=e=t}while(e!==null);kt===0&&(kt=5)}function Ko(t,e,n){var r=qe,i=Yn.transition;try{Yn.transition=null,qe=1,lV(t,e,n,r)}finally{Yn.transition=i,qe=r}return null}function lV(t,e,n,r){do _a();while(Ji!==null);if(Ve&6)throw Error(Q(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(Q(177));t.callbackNode=null,t.callbackPriority=0;var o=n.lanes|n.childLanes;if(BL(t,o),t===Vt&&(St=Vt=null,Wt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||wd||(wd=!0,pI(_f,function(){return _a(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=Yn.transition,Yn.transition=null;var s=qe;qe=1;var a=Ve;Ve|=4,k0.current=null,nV(t,n),oI(n,t),I4(hv),bf=!!fv,hv=fv=null,t.current=n,rV(n),DL(),Ve=a,qe=s,Yn.transition=o}else t.current=n;if(wd&&(wd=!1,Ji=t,Ff=i),o=t.pendingLanes,o===0&&(ao=null),LL(n.stateNode),Tn(t,xt()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(jf)throw jf=!1,t=Dv,Dv=null,t;return Ff&1&&t.tag!==0&&_a(),o=t.pendingLanes,o&1?t===Mv?mc++:(mc=0,Mv=t):mc=0,Oo(),null}function _a(){if(Ji!==null){var t=HS(Ff),e=Yn.transition,n=qe;try{if(Yn.transition=null,qe=16>t?16:t,Ji===null)var r=!1;else{if(t=Ji,Ji=null,Ff=0,Ve&6)throw Error(Q(331));var i=Ve;for(Ve|=4,re=t.current;re!==null;){var o=re,s=o.child;if(re.flags&16){var a=o.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(re=c;re!==null;){var u=re;switch(u.tag){case 0:case 11:case 15:hc(8,u,o)}var f=u.child;if(f!==null)f.return=u,re=f;else for(;re!==null;){u=re;var h=u.sibling,g=u.return;if(nI(u),u===c){re=null;break}if(h!==null){h.return=g,re=h;break}re=g}}}var x=o.alternate;if(x!==null){var w=x.child;if(w!==null){x.child=null;do{var b=w.sibling;w.sibling=null,w=b}while(w!==null)}}re=o}}if(o.subtreeFlags&2064&&s!==null)s.return=o,re=s;else e:for(;re!==null;){if(o=re,o.flags&2048)switch(o.tag){case 0:case 11:case 15:hc(9,o,o.return)}var v=o.sibling;if(v!==null){v.return=o.return,re=v;break e}re=o.return}}var y=t.current;for(re=y;re!==null;){s=re;var E=s.child;if(s.subtreeFlags&2064&&E!==null)E.return=s,re=E;else e:for(s=y;re!==null;){if(a=re,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Wh(9,a)}}catch(N){gt(a,a.return,N)}if(a===s){re=null;break e}var I=a.sibling;if(I!==null){I.return=a.return,re=I;break e}re=a.return}}if(Ve=i,Oo(),Ir&&typeof Ir.onPostCommitFiberRoot=="function")try{Ir.onPostCommitFiberRoot(Oh,t)}catch{}r=!0}return r}finally{qe=n,Yn.transition=e}}return!1}function rE(t,e,n){e=Oa(n,e),e=HP(t,e,1),t=so(t,e,1),e=pn(),t!==null&&(hu(t,1,e),Tn(t,e))}function gt(t,e,n){if(t.tag===3)rE(t,t,n);else for(;e!==null;){if(e.tag===3){rE(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(ao===null||!ao.has(r))){t=Oa(n,t),t=qP(e,t,1),e=so(e,t,1),t=pn(),e!==null&&(hu(e,1,t),Tn(e,t));break}}e=e.return}}function cV(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=pn(),t.pingedLanes|=t.suspendedLanes&n,Vt===t&&(Wt&n)===n&&(kt===4||kt===3&&(Wt&130023424)===Wt&&500>xt()-N0?as(t,0):R0|=n),Tn(t,e)}function fI(t,e){e===0&&(t.mode&1?(e=cd,cd<<=1,!(cd&130023424)&&(cd=4194304)):e=1);var n=pn();t=pi(t,e),t!==null&&(hu(t,e,n),Tn(t,n))}function uV(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),fI(t,n)}function dV(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(Q(314))}r!==null&&r.delete(e),fI(t,n)}var hI;hI=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||En.current)xn=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return xn=!1,J4(t,e,n);xn=!!(t.flags&131072)}else xn=!1,at&&e.flags&1048576&&vP(e,kf,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Xd(t,e),t=e.pendingProps;var i=Ra(e,on.current);xa(e,n),i=C0(null,e,r,t,i,n);var o=S0();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,bn(r)?(o=!0,If(e)):o=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,x0(e),i.updater=Bh,e.stateNode=i,i._reactInternals=e,Ev(e,r,t,n),e=Cv(null,e,r,!0,o,n)):(e.tag=0,at&&o&&h0(e),fn(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Xd(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=hV(r),t=rr(r,t),i){case 0:e=Tv(null,e,r,t,n);break e;case 1:e=G_(null,e,r,t,n);break e;case 11:e=H_(null,e,r,t,n);break e;case 14:e=q_(null,e,r,rr(r.type,t),n);break e}throw Error(Q(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:rr(r,i),Tv(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:rr(r,i),G_(t,e,r,i,n);case 3:e:{if(QP(e),t===null)throw Error(Q(387));r=e.pendingProps,o=e.memoizedState,i=o.element,bP(t,e),Df(e,r,null,n);var s=e.memoizedState;if(r=s.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){i=Oa(Error(Q(423)),e),e=Y_(t,e,r,n,i);break e}else if(r!==i){i=Oa(Error(Q(424)),e),e=Y_(t,e,r,n,i);break e}else for(Dn=oo(e.stateNode.containerInfo.firstChild),On=e,at=!0,or=null,n=_P(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Na(),r===i){e=mi(t,e,n);break e}fn(t,e,r,n)}e=e.child}return e;case 5:return TP(e),t===null&&wv(e),r=e.type,i=e.pendingProps,o=t!==null?t.memoizedProps:null,s=i.children,pv(r,i)?s=null:o!==null&&pv(r,o)&&(e.flags|=32),KP(t,e),fn(t,e,s,n),e.child;case 6:return t===null&&wv(e),null;case 13:return XP(t,e,n);case 4:return _0(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Da(e,null,r,n):fn(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:rr(r,i),H_(t,e,r,i,n);case 7:return fn(t,e,e.pendingProps,n),e.child;case 8:return fn(t,e,e.pendingProps.children,n),e.child;case 12:return fn(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,o=e.memoizedProps,s=i.value,Qe(Rf,r._currentValue),r._currentValue=s,o!==null)if(ur(o.value,s)){if(o.children===i.children&&!En.current){e=mi(t,e,n);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var a=o.dependencies;if(a!==null){s=o.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(o.tag===1){l=oi(-1,n&-n),l.tag=2;var c=o.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),xv(o.return,n,e),a.lanes|=n;break}l=l.next}}else if(o.tag===10)s=o.type===e.type?null:o.child;else if(o.tag===18){if(s=o.return,s===null)throw Error(Q(341));s.lanes|=n,a=s.alternate,a!==null&&(a.lanes|=n),xv(s,n,e),s=o.sibling}else s=o.child;if(s!==null)s.return=o;else for(s=o;s!==null;){if(s===e){s=null;break}if(o=s.sibling,o!==null){o.return=s.return,s=o;break}s=s.return}o=s}fn(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,xa(e,n),i=Kn(i),r=r(i),e.flags|=1,fn(t,e,r,n),e.child;case 14:return r=e.type,i=rr(r,e.pendingProps),i=rr(r.type,i),q_(t,e,r,i,n);case 15:return GP(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:rr(r,i),Xd(t,e),e.tag=1,bn(r)?(t=!0,If(e)):t=!1,xa(e,n),zP(e,r,i),Ev(e,r,i,n),Cv(null,e,r,!0,t,n);case 19:return JP(t,e,n);case 22:return YP(t,e,n)}throw Error(Q(156,e.tag))};function pI(t,e){return US(t,e)}function fV(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Gn(t,e,n,r){return new fV(t,e,n,r)}function L0(t){return t=t.prototype,!(!t||!t.isReactComponent)}function hV(t){if(typeof t=="function")return L0(t)?1:0;if(t!=null){if(t=t.$$typeof,t===t0)return 11;if(t===n0)return 14}return 2}function co(t,e){var n=t.alternate;return n===null?(n=Gn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function ef(t,e,n,r,i,o){var s=2;if(r=t,typeof t=="function")L0(t)&&(s=1);else if(typeof t=="string")s=5;else e:switch(t){case Zs:return ls(n.children,i,o,e);case e0:s=8,i|=8;break;case qg:return t=Gn(12,n,e,i|2),t.elementType=qg,t.lanes=o,t;case Gg:return t=Gn(13,n,e,i),t.elementType=Gg,t.lanes=o,t;case Yg:return t=Gn(19,n,e,i),t.elementType=Yg,t.lanes=o,t;case TS:return Hh(n,i,o,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case ES:s=10;break e;case bS:s=9;break e;case t0:s=11;break e;case n0:s=14;break e;case Bi:s=16,r=null;break e}throw Error(Q(130,t==null?t:typeof t,""))}return e=Gn(s,n,e,i),e.elementType=t,e.type=r,e.lanes=o,e}function ls(t,e,n,r){return t=Gn(7,t,r,e),t.lanes=n,t}function Hh(t,e,n,r){return t=Gn(22,t,r,e),t.elementType=TS,t.lanes=n,t.stateNode={isHidden:!1},t}function Wm(t,e,n){return t=Gn(6,t,null,e),t.lanes=n,t}function zm(t,e,n){return e=Gn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function pV(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Tm(0),this.expirationTimes=Tm(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Tm(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function V0(t,e,n,r,i,o,s,a,l){return t=new pV(t,e,n,a,l),e===1?(e=1,o===!0&&(e|=8)):e=0,o=Gn(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},x0(o),t}function mV(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Js,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function mI(t){if(!t)return Eo;t=t._reactInternals;e:{if(Ps(t)!==t||t.tag!==1)throw Error(Q(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(bn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(Q(171))}if(t.tag===1){var n=t.type;if(bn(n))return mP(t,n,e)}return e}function gI(t,e,n,r,i,o,s,a,l){return t=V0(n,r,!0,t,i,o,s,a,l),t.context=mI(null),n=t.current,r=pn(),i=lo(n),o=oi(r,i),o.callback=e??null,so(n,o,i),t.current.lanes=i,hu(t,i,r),Tn(t,r),t}function qh(t,e,n,r){var i=e.current,o=pn(),s=lo(i);return n=mI(n),e.context===null?e.context=n:e.pendingContext=n,e=oi(o,s),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=so(i,e,s),t!==null&&(lr(t,i,s,o),Yd(t,i,s)),s}function Uf(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function iE(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function j0(t,e){iE(t,e),(t=t.alternate)&&iE(t,e)}function gV(){return null}var vI=typeof reportError=="function"?reportError:function(t){console.error(t)};function F0(t){this._internalRoot=t}Gh.prototype.render=F0.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(Q(409));qh(t,e,null,null)};Gh.prototype.unmount=F0.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;ps(function(){qh(null,t,null,null)}),e[hi]=null}};function Gh(t){this._internalRoot=t}Gh.prototype.unstable_scheduleHydration=function(t){if(t){var e=YS();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Hi.length&&e!==0&&e<Hi[n].priority;n++);Hi.splice(n,0,t),n===0&&QS(t)}};function $0(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Yh(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function oE(){}function vV(t,e,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var c=Uf(s);o.call(c)}}var s=gI(e,r,t,0,null,!1,!1,"",oE);return t._reactRootContainer=s,t[hi]=s.current,Vc(t.nodeType===8?t.parentNode:t),ps(),s}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var c=Uf(l);a.call(c)}}var l=V0(t,0,!1,null,null,!1,!1,"",oE);return t._reactRootContainer=l,t[hi]=l.current,Vc(t.nodeType===8?t.parentNode:t),ps(function(){qh(e,l,n,r)}),l}function Kh(t,e,n,r,i){var o=n._reactRootContainer;if(o){var s=o;if(typeof i=="function"){var a=i;i=function(){var l=Uf(s);a.call(l)}}qh(e,s,t,i)}else s=vV(n,e,t,i,r);return Uf(s)}qS=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Jl(e.pendingLanes);n!==0&&(o0(e,n|1),Tn(e,xt()),!(Ve&6)&&(La=xt()+500,Oo()))}break;case 13:ps(function(){var r=pi(t,1);if(r!==null){var i=pn();lr(r,t,1,i)}}),j0(t,1)}};s0=function(t){if(t.tag===13){var e=pi(t,134217728);if(e!==null){var n=pn();lr(e,t,134217728,n)}j0(t,134217728)}};GS=function(t){if(t.tag===13){var e=lo(t),n=pi(t,e);if(n!==null){var r=pn();lr(n,t,e,r)}j0(t,e)}};YS=function(){return qe};KS=function(t,e){var n=qe;try{return qe=t,e()}finally{qe=n}};iv=function(t,e,n){switch(e){case"input":if(Xg(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Fh(r);if(!i)throw Error(Q(90));SS(r),Xg(r,i)}}}break;case"textarea":IS(t,n);break;case"select":e=n.value,e!=null&&ga(t,!!n.multiple,e,!1)}};OS=D0;LS=ps;var yV={usingClientEntryPoint:!1,Events:[mu,ra,Fh,DS,MS,D0]},Bl={findFiberByHostInstance:ts,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},wV={bundleType:Bl.bundleType,version:Bl.version,rendererPackageName:Bl.rendererPackageName,rendererConfig:Bl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Si.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=FS(t),t===null?null:t.stateNode},findFiberByHostInstance:Bl.findFiberByHostInstance||gV,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var xd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!xd.isDisabled&&xd.supportsFiber)try{Oh=xd.inject(wV),Ir=xd}catch{}}Fn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=yV;Fn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!$0(e))throw Error(Q(200));return mV(t,e,null,n)};Fn.createRoot=function(t,e){if(!$0(t))throw Error(Q(299));var n=!1,r="",i=vI;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=V0(t,1,!1,null,null,n,!1,r,i),t[hi]=e.current,Vc(t.nodeType===8?t.parentNode:t),new F0(e)};Fn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(Q(188)):(t=Object.keys(t).join(","),Error(Q(268,t)));return t=FS(e),t=t===null?null:t.stateNode,t};Fn.flushSync=function(t){return ps(t)};Fn.hydrate=function(t,e,n){if(!Yh(e))throw Error(Q(200));return Kh(null,t,e,!0,n)};Fn.hydrateRoot=function(t,e,n){if(!$0(t))throw Error(Q(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",s=vI;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),e=gI(e,null,t,1,n??null,i,!1,o,s),t[hi]=e.current,Vc(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Gh(e)};Fn.render=function(t,e,n){if(!Yh(e))throw Error(Q(200));return Kh(null,t,e,!1,n)};Fn.unmountComponentAtNode=function(t){if(!Yh(t))throw Error(Q(40));return t._reactRootContainer?(ps(function(){Kh(null,null,t,!1,function(){t._reactRootContainer=null,t[hi]=null})}),!0):!1};Fn.unstable_batchedUpdates=D0;Fn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Yh(n))throw Error(Q(200));if(t==null||t._reactInternals===void 0)throw Error(Q(38));return Kh(t,e,n,!1,r)};Fn.version="18.3.1-next-f1338f8080-20240426";function yI(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(yI)}catch(t){console.error(t)}}yI(),yS.exports=Fn;var Lo=yS.exports;const wI=sS(Lo);var sE=Lo;zg.createRoot=sE.createRoot,zg.hydrateRoot=sE.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function qc(){return qc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},qc.apply(this,arguments)}var Zi;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Zi||(Zi={}));const aE="popstate";function xV(t){t===void 0&&(t={});function e(r,i){let{pathname:o,search:s,hash:a}=r.location;return Vv("",{pathname:o,search:s,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Bf(i)}return EV(e,n,null,t)}function bt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function xI(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function _V(){return Math.random().toString(36).substr(2,8)}function lE(t,e){return{usr:t.state,key:t.key,idx:e}}function Vv(t,e,n,r){return n===void 0&&(n=null),qc({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?il(e):e,{state:n,key:e&&e.key||r||_V()})}function Bf(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function il(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function EV(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:o=!1}=r,s=i.history,a=Zi.Pop,l=null,c=u();c==null&&(c=0,s.replaceState(qc({},s.state,{idx:c}),""));function u(){return(s.state||{idx:null}).idx}function f(){a=Zi.Pop;let b=u(),v=b==null?null:b-c;c=b,l&&l({action:a,location:w.location,delta:v})}function h(b,v){a=Zi.Push;let y=Vv(w.location,b,v);n&&n(y,b),c=u()+1;let E=lE(y,c),I=w.createHref(y);try{s.pushState(E,"",I)}catch(N){if(N instanceof DOMException&&N.name==="DataCloneError")throw N;i.location.assign(I)}o&&l&&l({action:a,location:w.location,delta:1})}function g(b,v){a=Zi.Replace;let y=Vv(w.location,b,v);n&&n(y,b),c=u();let E=lE(y,c),I=w.createHref(y);s.replaceState(E,"",I),o&&l&&l({action:a,location:w.location,delta:0})}function x(b){let v=i.location.origin!=="null"?i.location.origin:i.location.href,y=typeof b=="string"?b:Bf(b);return y=y.replace(/ $/,"%20"),bt(v,"No window.location.(origin|href) available to create URL for href: "+y),new URL(y,v)}let w={get action(){return a},get location(){return t(i,s)},listen(b){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(aE,f),l=b,()=>{i.removeEventListener(aE,f),l=null}},createHref(b){return e(i,b)},createURL:x,encodeLocation(b){let v=x(b);return{pathname:v.pathname,search:v.search,hash:v.hash}},push:h,replace:g,go(b){return s.go(b)}};return w}var cE;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(cE||(cE={}));function bV(t,e,n){return n===void 0&&(n="/"),TV(t,e,n,!1)}function TV(t,e,n,r){let i=typeof e=="string"?il(e):e,o=U0(i.pathname||"/",n);if(o==null)return null;let s=_I(t);CV(s);let a=null;for(let l=0;a==null&&l<s.length;++l){let c=LV(o);a=MV(s[l],c,r)}return a}function _I(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(o,s,a)=>{let l={relativePath:a===void 0?o.path||"":a,caseSensitive:o.caseSensitive===!0,childrenIndex:s,route:o};l.relativePath.startsWith("/")&&(bt(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let c=uo([r,l.relativePath]),u=n.concat(l);o.children&&o.children.length>0&&(bt(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),_I(o.children,e,u,c)),!(o.path==null&&!o.index)&&e.push({path:c,score:NV(c,o.index),routesMeta:u})};return t.forEach((o,s)=>{var a;if(o.path===""||!((a=o.path)!=null&&a.includes("?")))i(o,s);else for(let l of EI(o.path))i(o,s,l)}),e}function EI(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let s=EI(r.join("/")),a=[];return a.push(...s.map(l=>l===""?o:[o,l].join("/"))),i&&a.push(...s),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function CV(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:DV(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const SV=/^:[\w-]+$/,PV=3,IV=2,AV=1,kV=10,RV=-2,uE=t=>t==="*";function NV(t,e){let n=t.split("/"),r=n.length;return n.some(uE)&&(r+=RV),e&&(r+=IV),n.filter(i=>!uE(i)).reduce((i,o)=>i+(SV.test(o)?PV:o===""?AV:kV),r)}function DV(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function MV(t,e,n){n===void 0&&(n=!1);let{routesMeta:r}=t,i={},o="/",s=[];for(let a=0;a<r.length;++a){let l=r[a],c=a===r.length-1,u=o==="/"?e:e.slice(o.length)||"/",f=dE({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},u),h=l.route;if(!f&&c&&n&&!r[r.length-1].route.index&&(f=dE({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},u)),!f)return null;Object.assign(i,f.params),s.push({params:i,pathname:uo([o,f.pathname]),pathnameBase:$V(uo([o,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(o=uo([o,f.pathnameBase]))}return s}function dE(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=OV(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let o=i[0],s=o.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((c,u,f)=>{let{paramName:h,isOptional:g}=u;if(h==="*"){let w=a[f]||"";s=o.slice(0,o.length-w.length).replace(/(.)\/+$/,"$1")}const x=a[f];return g&&!x?c[h]=void 0:c[h]=(x||"").replace(/%2F/g,"/"),c},{}),pathname:o,pathnameBase:s,pattern:t}}function OV(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),xI(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function LV(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return xI(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function U0(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function VV(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?il(t):t;return{pathname:n?n.startsWith("/")?n:jV(n,e):e,search:UV(r),hash:BV(i)}}function jV(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Hm(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function FV(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function B0(t,e){let n=FV(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function W0(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=il(t):(i=qc({},t),bt(!i.pathname||!i.pathname.includes("?"),Hm("?","pathname","search",i)),bt(!i.pathname||!i.pathname.includes("#"),Hm("#","pathname","hash",i)),bt(!i.search||!i.search.includes("#"),Hm("#","search","hash",i)));let o=t===""||i.pathname==="",s=o?"/":i.pathname,a;if(s==null)a=n;else{let f=e.length-1;if(!r&&s.startsWith("..")){let h=s.split("/");for(;h[0]==="..";)h.shift(),f-=1;i.pathname=h.join("/")}a=f>=0?e[f]:"/"}let l=VV(i,a),c=s&&s!=="/"&&s.endsWith("/"),u=(o||s===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||u)&&(l.pathname+="/"),l}const uo=t=>t.join("/").replace(/\/\/+/g,"/"),$V=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),UV=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,BV=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function WV(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const bI=["post","put","patch","delete"];new Set(bI);const zV=["get",...bI];new Set(zV);/**
 * React Router v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Gc(){return Gc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Gc.apply(this,arguments)}const z0=m.createContext(null),HV=m.createContext(null),Vo=m.createContext(null),Qh=m.createContext(null),Pi=m.createContext({outlet:null,matches:[],isDataRoute:!1}),TI=m.createContext(null);function qV(t,e){let{relative:n}=e===void 0?{}:e;ol()||bt(!1);let{basename:r,navigator:i}=m.useContext(Vo),{hash:o,pathname:s,search:a}=SI(t,{relative:n}),l=s;return r!=="/"&&(l=s==="/"?r:uo([r,s])),i.createHref({pathname:l,search:a,hash:o})}function ol(){return m.useContext(Qh)!=null}function sl(){return ol()||bt(!1),m.useContext(Qh).location}function CI(t){m.useContext(Vo).static||m.useLayoutEffect(t)}function vu(){let{isDataRoute:t}=m.useContext(Pi);return t?s5():GV()}function GV(){ol()||bt(!1);let t=m.useContext(z0),{basename:e,future:n,navigator:r}=m.useContext(Vo),{matches:i}=m.useContext(Pi),{pathname:o}=sl(),s=JSON.stringify(B0(i,n.v7_relativeSplatPath)),a=m.useRef(!1);return CI(()=>{a.current=!0}),m.useCallback(function(c,u){if(u===void 0&&(u={}),!a.current)return;if(typeof c=="number"){r.go(c);return}let f=W0(c,JSON.parse(s),o,u.relative==="path");t==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:uo([e,f.pathname])),(u.replace?r.replace:r.push)(f,u.state,u)},[e,r,s,o,t])}function YV(){let{matches:t}=m.useContext(Pi),e=t[t.length-1];return e?e.params:{}}function SI(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=m.useContext(Vo),{matches:i}=m.useContext(Pi),{pathname:o}=sl(),s=JSON.stringify(B0(i,r.v7_relativeSplatPath));return m.useMemo(()=>W0(t,JSON.parse(s),o,n==="path"),[t,s,o,n])}function KV(t,e){return QV(t,e)}function QV(t,e,n,r){ol()||bt(!1);let{navigator:i,static:o}=m.useContext(Vo),{matches:s}=m.useContext(Pi),a=s[s.length-1],l=a?a.params:{};a&&a.pathname;let c=a?a.pathnameBase:"/";a&&a.route;let u=sl(),f;if(e){var h;let v=typeof e=="string"?il(e):e;c==="/"||(h=v.pathname)!=null&&h.startsWith(c)||bt(!1),f=v}else f=u;let g=f.pathname||"/",x=g;if(c!=="/"){let v=c.replace(/^\//,"").split("/");x="/"+g.replace(/^\//,"").split("/").slice(v.length).join("/")}let w=!o&&n&&n.matches&&n.matches.length>0?n.matches:bV(t,{pathname:x}),b=t5(w&&w.map(v=>Object.assign({},v,{params:Object.assign({},l,v.params),pathname:uo([c,i.encodeLocation?i.encodeLocation(v.pathname).pathname:v.pathname]),pathnameBase:v.pathnameBase==="/"?c:uo([c,i.encodeLocation?i.encodeLocation(v.pathnameBase).pathname:v.pathnameBase])})),s,n,r);return e&&b?m.createElement(Qh.Provider,{value:{location:Gc({pathname:"/",search:"",hash:"",state:null,key:"default"},f),navigationType:Zi.Pop}},b):b}function XV(){let t=o5(),e=WV(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},o=null;return m.createElement(m.Fragment,null,m.createElement("h2",null,"Unexpected Application Error!"),m.createElement("h3",{style:{fontStyle:"italic"}},e),n?m.createElement("pre",{style:i},n):null,o)}const JV=m.createElement(XV,null);class ZV extends m.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?m.createElement(Pi.Provider,{value:this.props.routeContext},m.createElement(TI.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function e5(t){let{routeContext:e,match:n,children:r}=t,i=m.useContext(z0);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),m.createElement(Pi.Provider,{value:e},r)}function t5(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var o;if(!n)return null;if(n.errors)t=n.matches;else if((o=r)!=null&&o.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let s=t,a=(i=n)==null?void 0:i.errors;if(a!=null){let u=s.findIndex(f=>f.route.id&&(a==null?void 0:a[f.route.id])!==void 0);u>=0||bt(!1),s=s.slice(0,Math.min(s.length,u+1))}let l=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let u=0;u<s.length;u++){let f=s[u];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(c=u),f.route.id){let{loaderData:h,errors:g}=n,x=f.route.loader&&h[f.route.id]===void 0&&(!g||g[f.route.id]===void 0);if(f.route.lazy||x){l=!0,c>=0?s=s.slice(0,c+1):s=[s[0]];break}}}return s.reduceRight((u,f,h)=>{let g,x=!1,w=null,b=null;n&&(g=a&&f.route.id?a[f.route.id]:void 0,w=f.route.errorElement||JV,l&&(c<0&&h===0?(a5("route-fallback",!1),x=!0,b=null):c===h&&(x=!0,b=f.route.hydrateFallbackElement||null)));let v=e.concat(s.slice(0,h+1)),y=()=>{let E;return g?E=w:x?E=b:f.route.Component?E=m.createElement(f.route.Component,null):f.route.element?E=f.route.element:E=u,m.createElement(e5,{match:f,routeContext:{outlet:u,matches:v,isDataRoute:n!=null},children:E})};return n&&(f.route.ErrorBoundary||f.route.errorElement||h===0)?m.createElement(ZV,{location:n.location,revalidation:n.revalidation,component:w,error:g,children:y(),routeContext:{outlet:null,matches:v,isDataRoute:!0}}):y()},null)}var PI=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(PI||{}),Wf=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Wf||{});function n5(t){let e=m.useContext(z0);return e||bt(!1),e}function r5(t){let e=m.useContext(HV);return e||bt(!1),e}function i5(t){let e=m.useContext(Pi);return e||bt(!1),e}function II(t){let e=i5(),n=e.matches[e.matches.length-1];return n.route.id||bt(!1),n.route.id}function o5(){var t;let e=m.useContext(TI),n=r5(Wf.UseRouteError),r=II(Wf.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function s5(){let{router:t}=n5(PI.UseNavigateStable),e=II(Wf.UseNavigateStable),n=m.useRef(!1);return CI(()=>{n.current=!0}),m.useCallback(function(i,o){o===void 0&&(o={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,Gc({fromRouteId:e},o)))},[t,e])}const fE={};function a5(t,e,n){!e&&!fE[t]&&(fE[t]=!0)}function l5(t,e){t==null||t.v7_startTransition,(t==null?void 0:t.v7_relativeSplatPath)===void 0&&(!e||e.v7_relativeSplatPath),e&&(e.v7_fetcherPersist,e.v7_normalizeFormMethod,e.v7_partialHydration,e.v7_skipActionErrorRevalidation)}function jv(t){let{to:e,replace:n,state:r,relative:i}=t;ol()||bt(!1);let{future:o,static:s}=m.useContext(Vo),{matches:a}=m.useContext(Pi),{pathname:l}=sl(),c=vu(),u=W0(e,B0(a,o.v7_relativeSplatPath),l,i==="path"),f=JSON.stringify(u);return m.useEffect(()=>c(JSON.parse(f),{replace:n,state:r,relative:i}),[c,f,i,n,r]),null}function Gs(t){bt(!1)}function c5(t){let{basename:e="/",children:n=null,location:r,navigationType:i=Zi.Pop,navigator:o,static:s=!1,future:a}=t;ol()&&bt(!1);let l=e.replace(/^\/*/,"/"),c=m.useMemo(()=>({basename:l,navigator:o,static:s,future:Gc({v7_relativeSplatPath:!1},a)}),[l,a,o,s]);typeof r=="string"&&(r=il(r));let{pathname:u="/",search:f="",hash:h="",state:g=null,key:x="default"}=r,w=m.useMemo(()=>{let b=U0(u,l);return b==null?null:{location:{pathname:b,search:f,hash:h,state:g,key:x},navigationType:i}},[l,u,f,h,g,x,i]);return w==null?null:m.createElement(Vo.Provider,{value:c},m.createElement(Qh.Provider,{children:n,value:w}))}function u5(t){let{children:e,location:n}=t;return KV(Fv(e),n)}new Promise(()=>{});function Fv(t,e){e===void 0&&(e=[]);let n=[];return m.Children.forEach(t,(r,i)=>{if(!m.isValidElement(r))return;let o=[...e,i];if(r.type===m.Fragment){n.push.apply(n,Fv(r.props.children,o));return}r.type!==Gs&&bt(!1),!r.props.index||!r.props.children||bt(!1);let s={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(s.children=Fv(r.props.children,o)),n.push(s)}),n}/**
 * React Router DOM v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function $v(){return $v=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},$v.apply(this,arguments)}function d5(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function f5(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function h5(t,e){return t.button===0&&(!e||e==="_self")&&!f5(t)}const p5=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],m5="6";try{window.__reactRouterVersion=m5}catch{}const g5="startTransition",hE=Mh[g5];function v5(t){let{basename:e,children:n,future:r,window:i}=t,o=m.useRef();o.current==null&&(o.current=xV({window:i,v5Compat:!0}));let s=o.current,[a,l]=m.useState({action:s.action,location:s.location}),{v7_startTransition:c}=r||{},u=m.useCallback(f=>{c&&hE?hE(()=>l(f)):l(f)},[l,c]);return m.useLayoutEffect(()=>s.listen(u),[s,u]),m.useEffect(()=>l5(r),[r]),m.createElement(c5,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:s,future:r})}const y5=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",w5=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Yc=m.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:o,replace:s,state:a,target:l,to:c,preventScrollReset:u,viewTransition:f}=e,h=d5(e,p5),{basename:g}=m.useContext(Vo),x,w=!1;if(typeof c=="string"&&w5.test(c)&&(x=c,y5))try{let E=new URL(window.location.href),I=c.startsWith("//")?new URL(E.protocol+c):new URL(c),N=U0(I.pathname,g);I.origin===E.origin&&N!=null?c=N+I.search+I.hash:w=!0}catch{}let b=qV(c,{relative:i}),v=x5(c,{replace:s,state:a,target:l,preventScrollReset:u,relative:i,viewTransition:f});function y(E){r&&r(E),E.defaultPrevented||v(E)}return m.createElement("a",$v({},h,{href:x||b,onClick:w||o?r:y,ref:n,target:l}))});var pE;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(pE||(pE={}));var mE;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(mE||(mE={}));function x5(t,e){let{target:n,replace:r,state:i,preventScrollReset:o,relative:s,viewTransition:a}=e===void 0?{}:e,l=vu(),c=sl(),u=SI(t,{relative:s});return m.useCallback(f=>{if(h5(f,n)){f.preventDefault();let h=r!==void 0?r:Bf(c)===Bf(u);l(t,{replace:h,state:i,preventScrollReset:o,relative:s,viewTransition:a})}},[c,l,u,r,i,n,t,o,s,a])}const _5=()=>{};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AI=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},E5=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=t[n++],s=t[n++],a=t[n++],l=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const o=t[n++],s=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},kI={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const o=t[i],s=i+1<t.length,a=s?t[i+1]:0,l=i+2<t.length,c=l?t[i+2]:0,u=o>>2,f=(o&3)<<4|a>>4;let h=(a&15)<<2|c>>6,g=c&63;l||(g=64,s||(h=64)),r.push(n[u],n[f],n[h],n[g])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(AI(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):E5(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const o=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const f=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||a==null||c==null||f==null)throw new b5;const h=o<<2|a>>4;if(r.push(h),c!==64){const g=a<<4&240|c>>2;if(r.push(g),f!==64){const x=c<<6&192|f;r.push(x)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class b5 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const T5=function(t){const e=AI(t);return kI.encodeByteArray(e,!0)},zf=function(t){return T5(t).replace(/\./g,"")},RI=function(t){try{return kI.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C5(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S5=()=>C5().__FIREBASE_DEFAULTS__,P5=()=>{if(typeof process>"u"||typeof process.env>"u")return;const t={}.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},I5=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&RI(t[1]);return e&&JSON.parse(e)},Xh=()=>{try{return _5()||S5()||P5()||I5()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},NI=t=>{var e,n;return(n=(e=Xh())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},A5=t=>{const e=NI(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},DI=()=>{var t;return(t=Xh())==null?void 0:t.config},MI=t=>{var e;return(e=Xh())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k5{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function al(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function OI(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R5(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s={iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}},...t},a="";return[zf(JSON.stringify(n)),zf(JSON.stringify(s)),a].join(".")}const gc={};function N5(){const t={prod:[],emulator:[]};for(const e of Object.keys(gc))gc[e]?t.emulator.push(e):t.prod.push(e);return t}function D5(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let gE=!1;function LI(t,e){if(typeof window>"u"||typeof document>"u"||!al(window.location.host)||gc[t]===e||gc[t]||gE)return;gc[t]=e;function n(h){return`__firebase__banner__${h}`}const r="__firebase__banner",o=N5().prod.length>0;function s(){const h=document.getElementById(r);h&&h.remove()}function a(h){h.style.display="flex",h.style.background="#7faaf0",h.style.position="fixed",h.style.bottom="5px",h.style.left="5px",h.style.padding=".5em",h.style.borderRadius="5px",h.style.alignItems="center"}function l(h,g){h.setAttribute("width","24"),h.setAttribute("id",g),h.setAttribute("height","24"),h.setAttribute("viewBox","0 0 24 24"),h.setAttribute("fill","none"),h.style.marginLeft="-6px"}function c(){const h=document.createElement("span");return h.style.cursor="pointer",h.style.marginLeft="16px",h.style.fontSize="24px",h.innerHTML=" &times;",h.onclick=()=>{gE=!0,s()},h}function u(h,g){h.setAttribute("id",g),h.innerText="Learn more",h.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",h.setAttribute("target","__blank"),h.style.paddingLeft="5px",h.style.textDecoration="underline"}function f(){const h=D5(r),g=n("text"),x=document.getElementById(g)||document.createElement("span"),w=n("learnmore"),b=document.getElementById(w)||document.createElement("a"),v=n("preprendIcon"),y=document.getElementById(v)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(h.created){const E=h.element;a(E),u(b,w);const I=c();l(y,v),E.append(y,x,b,I),document.body.appendChild(E)}o?(x.innerText="Preview backend disconnected.",y.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(y.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,x.innerText="Preview backend running in this workspace."),x.setAttribute("id",g)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",f):f()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function M5(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(sn())}function O5(){var e;const t=(e=Xh())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function L5(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function V5(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function j5(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function F5(){const t=sn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function $5(){return!O5()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function U5(){try{return typeof indexedDB=="object"}catch{return!1}}function B5(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)==null?void 0:o.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W5="FirebaseError";class Ii extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=W5,Object.setPrototypeOf(this,Ii.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,yu.prototype.create)}}class yu{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?z5(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new Ii(i,a,r)}}function z5(t,e){return t.replace(H5,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const H5=/\{\$([^}]+)}/g;function q5(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function ms(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const o=t[i],s=e[i];if(vE(o)&&vE(s)){if(!ms(o,s))return!1}else if(o!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function vE(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wu(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function ec(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,o]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(o)}}),e}function tc(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function G5(t,e){const n=new Y5(t,e);return n.subscribe.bind(n)}class Y5{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");K5(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=qm),i.error===void 0&&(i.error=qm),i.complete===void 0&&(i.complete=qm);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function K5(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function qm(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ht(t){return t&&t._delegate?t._delegate:t}class gs{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qo="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Q5=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new k5;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(J5(e))try{this.getOrInitializeService({instanceIdentifier:Qo})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=Qo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Qo){return this.instances.has(e)}getOptions(e=Qo){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),i=this.onInitCallbacks.get(r)??new Set;i.add(e),this.onInitCallbacks.set(r,i);const o=this.instances.get(r);return o&&e(o,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:X5(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Qo){return this.component?this.component.multipleInstances?e:Qo:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function X5(t){return t===Qo?void 0:t}function J5(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z5{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new Q5(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ae;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ae||(Ae={}));const ej={debug:Ae.DEBUG,verbose:Ae.VERBOSE,info:Ae.INFO,warn:Ae.WARN,error:Ae.ERROR,silent:Ae.SILENT},tj=Ae.INFO,nj={[Ae.DEBUG]:"log",[Ae.VERBOSE]:"log",[Ae.INFO]:"info",[Ae.WARN]:"warn",[Ae.ERROR]:"error"},rj=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=nj[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class H0{constructor(e){this.name=e,this._logLevel=tj,this._logHandler=rj,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ae))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?ej[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ae.DEBUG,...e),this._logHandler(this,Ae.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ae.VERBOSE,...e),this._logHandler(this,Ae.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ae.INFO,...e),this._logHandler(this,Ae.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ae.WARN,...e),this._logHandler(this,Ae.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ae.ERROR,...e),this._logHandler(this,Ae.ERROR,...e)}}const ij=(t,e)=>e.some(n=>t instanceof n);let yE,wE;function oj(){return yE||(yE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function sj(){return wE||(wE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const VI=new WeakMap,Uv=new WeakMap,jI=new WeakMap,Gm=new WeakMap,q0=new WeakMap;function aj(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(fo(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&VI.set(n,t)}).catch(()=>{}),q0.set(e,t),e}function lj(t){if(Uv.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});Uv.set(t,e)}let Bv={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Uv.get(t);if(e==="objectStoreNames")return t.objectStoreNames||jI.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return fo(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function cj(t){Bv=t(Bv)}function uj(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Ym(this),e,...n);return jI.set(r,e.sort?e.sort():[e]),fo(r)}:sj().includes(t)?function(...e){return t.apply(Ym(this),e),fo(VI.get(this))}:function(...e){return fo(t.apply(Ym(this),e))}}function dj(t){return typeof t=="function"?uj(t):(t instanceof IDBTransaction&&lj(t),ij(t,oj())?new Proxy(t,Bv):t)}function fo(t){if(t instanceof IDBRequest)return aj(t);if(Gm.has(t))return Gm.get(t);const e=dj(t);return e!==t&&(Gm.set(t,e),q0.set(e,t)),e}const Ym=t=>q0.get(t);function fj(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const s=indexedDB.open(t,e),a=fo(s);return r&&s.addEventListener("upgradeneeded",l=>{r(fo(s.result),l.oldVersion,l.newVersion,fo(s.transaction),l)}),n&&s.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{o&&l.addEventListener("close",()=>o()),i&&l.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const hj=["get","getKey","getAll","getAllKeys","count"],pj=["put","add","delete","clear"],Km=new Map;function xE(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Km.get(e))return Km.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=pj.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||hj.includes(n)))return;const o=async function(s,...a){const l=this.transaction(s,i?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),i&&l.done]))[0]};return Km.set(e,o),o}cj(t=>({...t,get:(e,n,r)=>xE(e,n)||t.get(e,n,r),has:(e,n)=>!!xE(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mj{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(gj(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function gj(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Wv="@firebase/app",_E="0.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gi=new H0("@firebase/app"),vj="@firebase/app-compat",yj="@firebase/analytics-compat",wj="@firebase/analytics",xj="@firebase/app-check-compat",_j="@firebase/app-check",Ej="@firebase/auth",bj="@firebase/auth-compat",Tj="@firebase/database",Cj="@firebase/data-connect",Sj="@firebase/database-compat",Pj="@firebase/functions",Ij="@firebase/functions-compat",Aj="@firebase/installations",kj="@firebase/installations-compat",Rj="@firebase/messaging",Nj="@firebase/messaging-compat",Dj="@firebase/performance",Mj="@firebase/performance-compat",Oj="@firebase/remote-config",Lj="@firebase/remote-config-compat",Vj="@firebase/storage",jj="@firebase/storage-compat",Fj="@firebase/firestore",$j="@firebase/ai",Uj="@firebase/firestore-compat",Bj="firebase",Wj="12.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zv="[DEFAULT]",zj={[Wv]:"fire-core",[vj]:"fire-core-compat",[wj]:"fire-analytics",[yj]:"fire-analytics-compat",[_j]:"fire-app-check",[xj]:"fire-app-check-compat",[Ej]:"fire-auth",[bj]:"fire-auth-compat",[Tj]:"fire-rtdb",[Cj]:"fire-data-connect",[Sj]:"fire-rtdb-compat",[Pj]:"fire-fn",[Ij]:"fire-fn-compat",[Aj]:"fire-iid",[kj]:"fire-iid-compat",[Rj]:"fire-fcm",[Nj]:"fire-fcm-compat",[Dj]:"fire-perf",[Mj]:"fire-perf-compat",[Oj]:"fire-rc",[Lj]:"fire-rc-compat",[Vj]:"fire-gcs",[jj]:"fire-gcs-compat",[Fj]:"fire-fst",[Uj]:"fire-fst-compat",[$j]:"fire-vertex","fire-js":"fire-js",[Bj]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hf=new Map,Hj=new Map,Hv=new Map;function EE(t,e){try{t.container.addComponent(e)}catch(n){gi.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Va(t){const e=t.name;if(Hv.has(e))return gi.debug(`There were multiple attempts to register component ${e}.`),!1;Hv.set(e,t);for(const n of Hf.values())EE(n,t);for(const n of Hj.values())EE(n,t);return!0}function G0(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Hn(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qj={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ho=new yu("app","Firebase",qj);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gj{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new gs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ho.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ll=Wj;function FI(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:zv,automaticDataCollectionEnabled:!0,...e},i=r.name;if(typeof i!="string"||!i)throw ho.create("bad-app-name",{appName:String(i)});if(n||(n=DI()),!n)throw ho.create("no-options");const o=Hf.get(i);if(o){if(ms(n,o.options)&&ms(r,o.config))return o;throw ho.create("duplicate-app",{appName:i})}const s=new Z5(i);for(const l of Hv.values())s.addComponent(l);const a=new Gj(n,r,s);return Hf.set(i,a),a}function $I(t=zv){const e=Hf.get(t);if(!e&&t===zv&&DI())return FI();if(!e)throw ho.create("no-app",{appName:t});return e}function po(t,e,n){let r=zj[t]??t;n&&(r+=`-${n}`);const i=r.match(/\s|\//),o=e.match(/\s|\//);if(i||o){const s=[`Unable to register library "${r}" with version "${e}":`];i&&s.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&o&&s.push("and"),o&&s.push(`version name "${e}" contains illegal characters (whitespace or "/")`),gi.warn(s.join(" "));return}Va(new gs(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yj="firebase-heartbeat-database",Kj=1,Kc="firebase-heartbeat-store";let Qm=null;function UI(){return Qm||(Qm=fj(Yj,Kj,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Kc)}catch(n){console.warn(n)}}}}).catch(t=>{throw ho.create("idb-open",{originalErrorMessage:t.message})})),Qm}async function Qj(t){try{const n=(await UI()).transaction(Kc),r=await n.objectStore(Kc).get(BI(t));return await n.done,r}catch(e){if(e instanceof Ii)gi.warn(e.message);else{const n=ho.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});gi.warn(n.message)}}}async function bE(t,e){try{const r=(await UI()).transaction(Kc,"readwrite");await r.objectStore(Kc).put(e,BI(t)),await r.done}catch(n){if(n instanceof Ii)gi.warn(n.message);else{const r=ho.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});gi.warn(r.message)}}}function BI(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xj=1024,Jj=30;class Zj{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new t3(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=TE();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats.length>Jj){const s=n3(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){gi.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=TE(),{heartbeatsToSend:r,unsentEntries:i}=e3(this._heartbeatsCache.heartbeats),o=zf(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return gi.warn(n),""}}}function TE(){return new Date().toISOString().substring(0,10)}function e3(t,e=Xj){const n=[];let r=t.slice();for(const i of t){const o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),CE(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),CE(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class t3{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return U5()?B5().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await Qj(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return bE(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return bE(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function CE(t){return zf(JSON.stringify({version:2,heartbeats:t})).length}function n3(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r3(t){Va(new gs("platform-logger",e=>new mj(e),"PRIVATE")),Va(new gs("heartbeat",e=>new Zj(e),"PRIVATE")),po(Wv,_E,t),po(Wv,_E,"esm2020"),po("fire-js","")}r3("");var i3="firebase",o3="12.1.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */po(i3,o3,"app");var SE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var mo,WI;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(S,C){function P(){}P.prototype=C.prototype,S.D=C.prototype,S.prototype=new P,S.prototype.constructor=S,S.C=function(A,M,D){for(var R=Array(arguments.length-2),B=2;B<arguments.length;B++)R[B-2]=arguments[B];return C.prototype[M].apply(A,R)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(S,C,P){P||(P=0);var A=Array(16);if(typeof C=="string")for(var M=0;16>M;++M)A[M]=C.charCodeAt(P++)|C.charCodeAt(P++)<<8|C.charCodeAt(P++)<<16|C.charCodeAt(P++)<<24;else for(M=0;16>M;++M)A[M]=C[P++]|C[P++]<<8|C[P++]<<16|C[P++]<<24;C=S.g[0],P=S.g[1],M=S.g[2];var D=S.g[3],R=C+(D^P&(M^D))+A[0]+3614090360&4294967295;C=P+(R<<7&4294967295|R>>>25),R=D+(M^C&(P^M))+A[1]+3905402710&4294967295,D=C+(R<<12&4294967295|R>>>20),R=M+(P^D&(C^P))+A[2]+606105819&4294967295,M=D+(R<<17&4294967295|R>>>15),R=P+(C^M&(D^C))+A[3]+3250441966&4294967295,P=M+(R<<22&4294967295|R>>>10),R=C+(D^P&(M^D))+A[4]+4118548399&4294967295,C=P+(R<<7&4294967295|R>>>25),R=D+(M^C&(P^M))+A[5]+1200080426&4294967295,D=C+(R<<12&4294967295|R>>>20),R=M+(P^D&(C^P))+A[6]+2821735955&4294967295,M=D+(R<<17&4294967295|R>>>15),R=P+(C^M&(D^C))+A[7]+4249261313&4294967295,P=M+(R<<22&4294967295|R>>>10),R=C+(D^P&(M^D))+A[8]+1770035416&4294967295,C=P+(R<<7&4294967295|R>>>25),R=D+(M^C&(P^M))+A[9]+2336552879&4294967295,D=C+(R<<12&4294967295|R>>>20),R=M+(P^D&(C^P))+A[10]+4294925233&4294967295,M=D+(R<<17&4294967295|R>>>15),R=P+(C^M&(D^C))+A[11]+2304563134&4294967295,P=M+(R<<22&4294967295|R>>>10),R=C+(D^P&(M^D))+A[12]+1804603682&4294967295,C=P+(R<<7&4294967295|R>>>25),R=D+(M^C&(P^M))+A[13]+4254626195&4294967295,D=C+(R<<12&4294967295|R>>>20),R=M+(P^D&(C^P))+A[14]+2792965006&4294967295,M=D+(R<<17&4294967295|R>>>15),R=P+(C^M&(D^C))+A[15]+1236535329&4294967295,P=M+(R<<22&4294967295|R>>>10),R=C+(M^D&(P^M))+A[1]+4129170786&4294967295,C=P+(R<<5&4294967295|R>>>27),R=D+(P^M&(C^P))+A[6]+3225465664&4294967295,D=C+(R<<9&4294967295|R>>>23),R=M+(C^P&(D^C))+A[11]+643717713&4294967295,M=D+(R<<14&4294967295|R>>>18),R=P+(D^C&(M^D))+A[0]+3921069994&4294967295,P=M+(R<<20&4294967295|R>>>12),R=C+(M^D&(P^M))+A[5]+3593408605&4294967295,C=P+(R<<5&4294967295|R>>>27),R=D+(P^M&(C^P))+A[10]+38016083&4294967295,D=C+(R<<9&4294967295|R>>>23),R=M+(C^P&(D^C))+A[15]+3634488961&4294967295,M=D+(R<<14&4294967295|R>>>18),R=P+(D^C&(M^D))+A[4]+3889429448&4294967295,P=M+(R<<20&4294967295|R>>>12),R=C+(M^D&(P^M))+A[9]+568446438&4294967295,C=P+(R<<5&4294967295|R>>>27),R=D+(P^M&(C^P))+A[14]+3275163606&4294967295,D=C+(R<<9&4294967295|R>>>23),R=M+(C^P&(D^C))+A[3]+4107603335&4294967295,M=D+(R<<14&4294967295|R>>>18),R=P+(D^C&(M^D))+A[8]+1163531501&4294967295,P=M+(R<<20&4294967295|R>>>12),R=C+(M^D&(P^M))+A[13]+2850285829&4294967295,C=P+(R<<5&4294967295|R>>>27),R=D+(P^M&(C^P))+A[2]+4243563512&4294967295,D=C+(R<<9&4294967295|R>>>23),R=M+(C^P&(D^C))+A[7]+1735328473&4294967295,M=D+(R<<14&4294967295|R>>>18),R=P+(D^C&(M^D))+A[12]+2368359562&4294967295,P=M+(R<<20&4294967295|R>>>12),R=C+(P^M^D)+A[5]+4294588738&4294967295,C=P+(R<<4&4294967295|R>>>28),R=D+(C^P^M)+A[8]+2272392833&4294967295,D=C+(R<<11&4294967295|R>>>21),R=M+(D^C^P)+A[11]+1839030562&4294967295,M=D+(R<<16&4294967295|R>>>16),R=P+(M^D^C)+A[14]+4259657740&4294967295,P=M+(R<<23&4294967295|R>>>9),R=C+(P^M^D)+A[1]+2763975236&4294967295,C=P+(R<<4&4294967295|R>>>28),R=D+(C^P^M)+A[4]+1272893353&4294967295,D=C+(R<<11&4294967295|R>>>21),R=M+(D^C^P)+A[7]+4139469664&4294967295,M=D+(R<<16&4294967295|R>>>16),R=P+(M^D^C)+A[10]+3200236656&4294967295,P=M+(R<<23&4294967295|R>>>9),R=C+(P^M^D)+A[13]+681279174&4294967295,C=P+(R<<4&4294967295|R>>>28),R=D+(C^P^M)+A[0]+3936430074&4294967295,D=C+(R<<11&4294967295|R>>>21),R=M+(D^C^P)+A[3]+3572445317&4294967295,M=D+(R<<16&4294967295|R>>>16),R=P+(M^D^C)+A[6]+76029189&4294967295,P=M+(R<<23&4294967295|R>>>9),R=C+(P^M^D)+A[9]+3654602809&4294967295,C=P+(R<<4&4294967295|R>>>28),R=D+(C^P^M)+A[12]+3873151461&4294967295,D=C+(R<<11&4294967295|R>>>21),R=M+(D^C^P)+A[15]+530742520&4294967295,M=D+(R<<16&4294967295|R>>>16),R=P+(M^D^C)+A[2]+3299628645&4294967295,P=M+(R<<23&4294967295|R>>>9),R=C+(M^(P|~D))+A[0]+4096336452&4294967295,C=P+(R<<6&4294967295|R>>>26),R=D+(P^(C|~M))+A[7]+1126891415&4294967295,D=C+(R<<10&4294967295|R>>>22),R=M+(C^(D|~P))+A[14]+2878612391&4294967295,M=D+(R<<15&4294967295|R>>>17),R=P+(D^(M|~C))+A[5]+4237533241&4294967295,P=M+(R<<21&4294967295|R>>>11),R=C+(M^(P|~D))+A[12]+1700485571&4294967295,C=P+(R<<6&4294967295|R>>>26),R=D+(P^(C|~M))+A[3]+2399980690&4294967295,D=C+(R<<10&4294967295|R>>>22),R=M+(C^(D|~P))+A[10]+4293915773&4294967295,M=D+(R<<15&4294967295|R>>>17),R=P+(D^(M|~C))+A[1]+2240044497&4294967295,P=M+(R<<21&4294967295|R>>>11),R=C+(M^(P|~D))+A[8]+1873313359&4294967295,C=P+(R<<6&4294967295|R>>>26),R=D+(P^(C|~M))+A[15]+4264355552&4294967295,D=C+(R<<10&4294967295|R>>>22),R=M+(C^(D|~P))+A[6]+2734768916&4294967295,M=D+(R<<15&4294967295|R>>>17),R=P+(D^(M|~C))+A[13]+1309151649&4294967295,P=M+(R<<21&4294967295|R>>>11),R=C+(M^(P|~D))+A[4]+4149444226&4294967295,C=P+(R<<6&4294967295|R>>>26),R=D+(P^(C|~M))+A[11]+3174756917&4294967295,D=C+(R<<10&4294967295|R>>>22),R=M+(C^(D|~P))+A[2]+718787259&4294967295,M=D+(R<<15&4294967295|R>>>17),R=P+(D^(M|~C))+A[9]+3951481745&4294967295,S.g[0]=S.g[0]+C&4294967295,S.g[1]=S.g[1]+(M+(R<<21&4294967295|R>>>11))&4294967295,S.g[2]=S.g[2]+M&4294967295,S.g[3]=S.g[3]+D&4294967295}r.prototype.u=function(S,C){C===void 0&&(C=S.length);for(var P=C-this.blockSize,A=this.B,M=this.h,D=0;D<C;){if(M==0)for(;D<=P;)i(this,S,D),D+=this.blockSize;if(typeof S=="string"){for(;D<C;)if(A[M++]=S.charCodeAt(D++),M==this.blockSize){i(this,A),M=0;break}}else for(;D<C;)if(A[M++]=S[D++],M==this.blockSize){i(this,A),M=0;break}}this.h=M,this.o+=C},r.prototype.v=function(){var S=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);S[0]=128;for(var C=1;C<S.length-8;++C)S[C]=0;var P=8*this.o;for(C=S.length-8;C<S.length;++C)S[C]=P&255,P/=256;for(this.u(S),S=Array(16),C=P=0;4>C;++C)for(var A=0;32>A;A+=8)S[P++]=this.g[C]>>>A&255;return S};function o(S,C){var P=a;return Object.prototype.hasOwnProperty.call(P,S)?P[S]:P[S]=C(S)}function s(S,C){this.h=C;for(var P=[],A=!0,M=S.length-1;0<=M;M--){var D=S[M]|0;A&&D==C||(P[M]=D,A=!1)}this.g=P}var a={};function l(S){return-128<=S&&128>S?o(S,function(C){return new s([C|0],0>C?-1:0)}):new s([S|0],0>S?-1:0)}function c(S){if(isNaN(S)||!isFinite(S))return f;if(0>S)return b(c(-S));for(var C=[],P=1,A=0;S>=P;A++)C[A]=S/P|0,P*=4294967296;return new s(C,0)}function u(S,C){if(S.length==0)throw Error("number format error: empty string");if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(S.charAt(0)=="-")return b(u(S.substring(1),C));if(0<=S.indexOf("-"))throw Error('number format error: interior "-" character');for(var P=c(Math.pow(C,8)),A=f,M=0;M<S.length;M+=8){var D=Math.min(8,S.length-M),R=parseInt(S.substring(M,M+D),C);8>D?(D=c(Math.pow(C,D)),A=A.j(D).add(c(R))):(A=A.j(P),A=A.add(c(R)))}return A}var f=l(0),h=l(1),g=l(16777216);t=s.prototype,t.m=function(){if(w(this))return-b(this).m();for(var S=0,C=1,P=0;P<this.g.length;P++){var A=this.i(P);S+=(0<=A?A:4294967296+A)*C,C*=4294967296}return S},t.toString=function(S){if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(x(this))return"0";if(w(this))return"-"+b(this).toString(S);for(var C=c(Math.pow(S,6)),P=this,A="";;){var M=I(P,C).g;P=v(P,M.j(C));var D=((0<P.g.length?P.g[0]:P.h)>>>0).toString(S);if(P=M,x(P))return D+A;for(;6>D.length;)D="0"+D;A=D+A}},t.i=function(S){return 0>S?0:S<this.g.length?this.g[S]:this.h};function x(S){if(S.h!=0)return!1;for(var C=0;C<S.g.length;C++)if(S.g[C]!=0)return!1;return!0}function w(S){return S.h==-1}t.l=function(S){return S=v(this,S),w(S)?-1:x(S)?0:1};function b(S){for(var C=S.g.length,P=[],A=0;A<C;A++)P[A]=~S.g[A];return new s(P,~S.h).add(h)}t.abs=function(){return w(this)?b(this):this},t.add=function(S){for(var C=Math.max(this.g.length,S.g.length),P=[],A=0,M=0;M<=C;M++){var D=A+(this.i(M)&65535)+(S.i(M)&65535),R=(D>>>16)+(this.i(M)>>>16)+(S.i(M)>>>16);A=R>>>16,D&=65535,R&=65535,P[M]=R<<16|D}return new s(P,P[P.length-1]&-2147483648?-1:0)};function v(S,C){return S.add(b(C))}t.j=function(S){if(x(this)||x(S))return f;if(w(this))return w(S)?b(this).j(b(S)):b(b(this).j(S));if(w(S))return b(this.j(b(S)));if(0>this.l(g)&&0>S.l(g))return c(this.m()*S.m());for(var C=this.g.length+S.g.length,P=[],A=0;A<2*C;A++)P[A]=0;for(A=0;A<this.g.length;A++)for(var M=0;M<S.g.length;M++){var D=this.i(A)>>>16,R=this.i(A)&65535,B=S.i(M)>>>16,q=S.i(M)&65535;P[2*A+2*M]+=R*q,y(P,2*A+2*M),P[2*A+2*M+1]+=D*q,y(P,2*A+2*M+1),P[2*A+2*M+1]+=R*B,y(P,2*A+2*M+1),P[2*A+2*M+2]+=D*B,y(P,2*A+2*M+2)}for(A=0;A<C;A++)P[A]=P[2*A+1]<<16|P[2*A];for(A=C;A<2*C;A++)P[A]=0;return new s(P,0)};function y(S,C){for(;(S[C]&65535)!=S[C];)S[C+1]+=S[C]>>>16,S[C]&=65535,C++}function E(S,C){this.g=S,this.h=C}function I(S,C){if(x(C))throw Error("division by zero");if(x(S))return new E(f,f);if(w(S))return C=I(b(S),C),new E(b(C.g),b(C.h));if(w(C))return C=I(S,b(C)),new E(b(C.g),C.h);if(30<S.g.length){if(w(S)||w(C))throw Error("slowDivide_ only works with positive integers.");for(var P=h,A=C;0>=A.l(S);)P=N(P),A=N(A);var M=O(P,1),D=O(A,1);for(A=O(A,2),P=O(P,2);!x(A);){var R=D.add(A);0>=R.l(S)&&(M=M.add(P),D=R),A=O(A,1),P=O(P,1)}return C=v(S,M.j(C)),new E(M,C)}for(M=f;0<=S.l(C);){for(P=Math.max(1,Math.floor(S.m()/C.m())),A=Math.ceil(Math.log(P)/Math.LN2),A=48>=A?1:Math.pow(2,A-48),D=c(P),R=D.j(C);w(R)||0<R.l(S);)P-=A,D=c(P),R=D.j(C);x(D)&&(D=h),M=M.add(D),S=v(S,R)}return new E(M,S)}t.A=function(S){return I(this,S).h},t.and=function(S){for(var C=Math.max(this.g.length,S.g.length),P=[],A=0;A<C;A++)P[A]=this.i(A)&S.i(A);return new s(P,this.h&S.h)},t.or=function(S){for(var C=Math.max(this.g.length,S.g.length),P=[],A=0;A<C;A++)P[A]=this.i(A)|S.i(A);return new s(P,this.h|S.h)},t.xor=function(S){for(var C=Math.max(this.g.length,S.g.length),P=[],A=0;A<C;A++)P[A]=this.i(A)^S.i(A);return new s(P,this.h^S.h)};function N(S){for(var C=S.g.length+1,P=[],A=0;A<C;A++)P[A]=S.i(A)<<1|S.i(A-1)>>>31;return new s(P,S.h)}function O(S,C){var P=C>>5;C%=32;for(var A=S.g.length-P,M=[],D=0;D<A;D++)M[D]=0<C?S.i(D+P)>>>C|S.i(D+P+1)<<32-C:S.i(D+P);return new s(M,S.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,WI=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=c,s.fromString=u,mo=s}).apply(typeof SE<"u"?SE:typeof self<"u"?self:typeof window<"u"?window:{});var _d=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var zI,nc,HI,tf,qv,qI,GI,YI;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(d,_,T){return d==Array.prototype||d==Object.prototype||(d[_]=T.value),d};function n(d){d=[typeof globalThis=="object"&&globalThis,d,typeof window=="object"&&window,typeof self=="object"&&self,typeof _d=="object"&&_d];for(var _=0;_<d.length;++_){var T=d[_];if(T&&T.Math==Math)return T}throw Error("Cannot find global object")}var r=n(this);function i(d,_){if(_)e:{var T=r;d=d.split(".");for(var k=0;k<d.length-1;k++){var j=d[k];if(!(j in T))break e;T=T[j]}d=d[d.length-1],k=T[d],_=_(k),_!=k&&_!=null&&e(T,d,{configurable:!0,writable:!0,value:_})}}function o(d,_){d instanceof String&&(d+="");var T=0,k=!1,j={next:function(){if(!k&&T<d.length){var U=T++;return{value:_(U,d[U]),done:!1}}return k=!0,{done:!0,value:void 0}}};return j[Symbol.iterator]=function(){return j},j}i("Array.prototype.values",function(d){return d||function(){return o(this,function(_,T){return T})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var s=s||{},a=this||self;function l(d){var _=typeof d;return _=_!="object"?_:d?Array.isArray(d)?"array":_:"null",_=="array"||_=="object"&&typeof d.length=="number"}function c(d){var _=typeof d;return _=="object"&&d!=null||_=="function"}function u(d,_,T){return d.call.apply(d.bind,arguments)}function f(d,_,T){if(!d)throw Error();if(2<arguments.length){var k=Array.prototype.slice.call(arguments,2);return function(){var j=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(j,k),d.apply(_,j)}}return function(){return d.apply(_,arguments)}}function h(d,_,T){return h=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?u:f,h.apply(null,arguments)}function g(d,_){var T=Array.prototype.slice.call(arguments,1);return function(){var k=T.slice();return k.push.apply(k,arguments),d.apply(this,k)}}function x(d,_){function T(){}T.prototype=_.prototype,d.aa=_.prototype,d.prototype=new T,d.prototype.constructor=d,d.Qb=function(k,j,U){for(var J=Array(arguments.length-2),Ge=2;Ge<arguments.length;Ge++)J[Ge-2]=arguments[Ge];return _.prototype[j].apply(k,J)}}function w(d){const _=d.length;if(0<_){const T=Array(_);for(let k=0;k<_;k++)T[k]=d[k];return T}return[]}function b(d,_){for(let T=1;T<arguments.length;T++){const k=arguments[T];if(l(k)){const j=d.length||0,U=k.length||0;d.length=j+U;for(let J=0;J<U;J++)d[j+J]=k[J]}else d.push(k)}}class v{constructor(_,T){this.i=_,this.j=T,this.h=0,this.g=null}get(){let _;return 0<this.h?(this.h--,_=this.g,this.g=_.next,_.next=null):_=this.i(),_}}function y(d){return/^[\s\xa0]*$/.test(d)}function E(){var d=a.navigator;return d&&(d=d.userAgent)?d:""}function I(d){return I[" "](d),d}I[" "]=function(){};var N=E().indexOf("Gecko")!=-1&&!(E().toLowerCase().indexOf("webkit")!=-1&&E().indexOf("Edge")==-1)&&!(E().indexOf("Trident")!=-1||E().indexOf("MSIE")!=-1)&&E().indexOf("Edge")==-1;function O(d,_,T){for(const k in d)_.call(T,d[k],k,d)}function S(d,_){for(const T in d)_.call(void 0,d[T],T,d)}function C(d){const _={};for(const T in d)_[T]=d[T];return _}const P="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function A(d,_){let T,k;for(let j=1;j<arguments.length;j++){k=arguments[j];for(T in k)d[T]=k[T];for(let U=0;U<P.length;U++)T=P[U],Object.prototype.hasOwnProperty.call(k,T)&&(d[T]=k[T])}}function M(d){var _=1;d=d.split(":");const T=[];for(;0<_&&d.length;)T.push(d.shift()),_--;return d.length&&T.push(d.join(":")),T}function D(d){a.setTimeout(()=>{throw d},0)}function R(){var d=V;let _=null;return d.g&&(_=d.g,d.g=d.g.next,d.g||(d.h=null),_.next=null),_}class B{constructor(){this.h=this.g=null}add(_,T){const k=q.get();k.set(_,T),this.h?this.h.next=k:this.g=k,this.h=k}}var q=new v(()=>new Y,d=>d.reset());class Y{constructor(){this.next=this.g=this.h=null}set(_,T){this.h=_,this.g=T,this.next=null}reset(){this.next=this.g=this.h=null}}let z,L=!1,V=new B,$=()=>{const d=a.Promise.resolve(void 0);z=()=>{d.then(F)}};var F=()=>{for(var d;d=R();){try{d.h.call(d.g)}catch(T){D(T)}var _=q;_.j(d),100>_.h&&(_.h++,d.next=_.g,_.g=d)}L=!1};function W(){this.s=this.s,this.C=this.C}W.prototype.s=!1,W.prototype.ma=function(){this.s||(this.s=!0,this.N())},W.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function K(d,_){this.type=d,this.g=this.target=_,this.defaultPrevented=!1}K.prototype.h=function(){this.defaultPrevented=!0};var oe=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var d=!1,_=Object.defineProperty({},"passive",{get:function(){d=!0}});try{const T=()=>{};a.addEventListener("test",T,_),a.removeEventListener("test",T,_)}catch{}return d}();function he(d,_){if(K.call(this,d?d.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,d){var T=this.type=d.type,k=d.changedTouches&&d.changedTouches.length?d.changedTouches[0]:null;if(this.target=d.target||d.srcElement,this.g=_,_=d.relatedTarget){if(N){e:{try{I(_.nodeName);var j=!0;break e}catch{}j=!1}j||(_=null)}}else T=="mouseover"?_=d.fromElement:T=="mouseout"&&(_=d.toElement);this.relatedTarget=_,k?(this.clientX=k.clientX!==void 0?k.clientX:k.pageX,this.clientY=k.clientY!==void 0?k.clientY:k.pageY,this.screenX=k.screenX||0,this.screenY=k.screenY||0):(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0),this.button=d.button,this.key=d.key||"",this.ctrlKey=d.ctrlKey,this.altKey=d.altKey,this.shiftKey=d.shiftKey,this.metaKey=d.metaKey,this.pointerId=d.pointerId||0,this.pointerType=typeof d.pointerType=="string"?d.pointerType:ue[d.pointerType]||"",this.state=d.state,this.i=d,d.defaultPrevented&&he.aa.h.call(this)}}x(he,K);var ue={2:"touch",3:"pen",4:"mouse"};he.prototype.h=function(){he.aa.h.call(this);var d=this.i;d.preventDefault?d.preventDefault():d.returnValue=!1};var X="closure_listenable_"+(1e6*Math.random()|0),ae=0;function ce(d,_,T,k,j){this.listener=d,this.proxy=null,this.src=_,this.type=T,this.capture=!!k,this.ha=j,this.key=++ae,this.da=this.fa=!1}function ne(d){d.da=!0,d.listener=null,d.proxy=null,d.src=null,d.ha=null}function me(d){this.src=d,this.g={},this.h=0}me.prototype.add=function(d,_,T,k,j){var U=d.toString();d=this.g[U],d||(d=this.g[U]=[],this.h++);var J=Ke(d,_,k,j);return-1<J?(_=d[J],T||(_.fa=!1)):(_=new ce(_,this.src,U,!!k,j),_.fa=T,d.push(_)),_};function Ce(d,_){var T=_.type;if(T in d.g){var k=d.g[T],j=Array.prototype.indexOf.call(k,_,void 0),U;(U=0<=j)&&Array.prototype.splice.call(k,j,1),U&&(ne(_),d.g[T].length==0&&(delete d.g[T],d.h--))}}function Ke(d,_,T,k){for(var j=0;j<d.length;++j){var U=d[j];if(!U.da&&U.listener==_&&U.capture==!!T&&U.ha==k)return j}return-1}var st="closure_lm_"+(1e6*Math.random()|0),Dt={};function Zn(d,_,T,k,j){if(k&&k.once)return Gr(d,_,T,k,j);if(Array.isArray(_)){for(var U=0;U<_.length;U++)Zn(d,_[U],T,k,j);return null}return T=nm(T),d&&d[X]?d.K(_,T,c(k)?!!k.capture:!!k,j):yr(d,_,T,!1,k,j)}function yr(d,_,T,k,j,U){if(!_)throw Error("Invalid event type");var J=c(j)?!!j.capture:!!j,Ge=em(d);if(Ge||(d[st]=Ge=new me(d)),T=Ge.add(_,T,k,J,U),T.proxy)return T;if(k=_l(),T.proxy=k,k.src=d,k.listener=T,d.addEventListener)oe||(j=J),j===void 0&&(j=!1),d.addEventListener(_.toString(),k,j);else if(d.attachEvent)d.attachEvent(nx(_.toString()),k);else if(d.addListener&&d.removeListener)d.addListener(k);else throw Error("addEventListener and attachEvent are unavailable.");return T}function _l(){function d(T){return _.call(d.src,d.listener,T)}const _=_O;return d}function Gr(d,_,T,k,j){if(Array.isArray(_)){for(var U=0;U<_.length;U++)Gr(d,_[U],T,k,j);return null}return T=nm(T),d&&d[X]?d.L(_,T,c(k)?!!k.capture:!!k,j):yr(d,_,T,!0,k,j)}function Uu(d,_,T,k,j){if(Array.isArray(_))for(var U=0;U<_.length;U++)Uu(d,_[U],T,k,j);else k=c(k)?!!k.capture:!!k,T=nm(T),d&&d[X]?(d=d.i,_=String(_).toString(),_ in d.g&&(U=d.g[_],T=Ke(U,T,k,j),-1<T&&(ne(U[T]),Array.prototype.splice.call(U,T,1),U.length==0&&(delete d.g[_],d.h--)))):d&&(d=em(d))&&(_=d.g[_.toString()],d=-1,_&&(d=Ke(_,T,k,j)),(T=-1<d?_[d]:null)&&Ri(T))}function Ri(d){if(typeof d!="number"&&d&&!d.da){var _=d.src;if(_&&_[X])Ce(_.i,d);else{var T=d.type,k=d.proxy;_.removeEventListener?_.removeEventListener(T,k,d.capture):_.detachEvent?_.detachEvent(nx(T),k):_.addListener&&_.removeListener&&_.removeListener(k),(T=em(_))?(Ce(T,d),T.h==0&&(T.src=null,_[st]=null)):ne(d)}}}function nx(d){return d in Dt?Dt[d]:Dt[d]="on"+d}function _O(d,_){if(d.da)d=!0;else{_=new he(_,this);var T=d.listener,k=d.ha||d.src;d.fa&&Ri(d),d=T.call(k,_)}return d}function em(d){return d=d[st],d instanceof me?d:null}var tm="__closure_events_fn_"+(1e9*Math.random()>>>0);function nm(d){return typeof d=="function"?d:(d[tm]||(d[tm]=function(_){return d.handleEvent(_)}),d[tm])}function Gt(){W.call(this),this.i=new me(this),this.M=this,this.F=null}x(Gt,W),Gt.prototype[X]=!0,Gt.prototype.removeEventListener=function(d,_,T,k){Uu(this,d,_,T,k)};function ln(d,_){var T,k=d.F;if(k)for(T=[];k;k=k.F)T.push(k);if(d=d.M,k=_.type||_,typeof _=="string")_=new K(_,d);else if(_ instanceof K)_.target=_.target||d;else{var j=_;_=new K(k,d),A(_,j)}if(j=!0,T)for(var U=T.length-1;0<=U;U--){var J=_.g=T[U];j=Bu(J,k,!0,_)&&j}if(J=_.g=d,j=Bu(J,k,!0,_)&&j,j=Bu(J,k,!1,_)&&j,T)for(U=0;U<T.length;U++)J=_.g=T[U],j=Bu(J,k,!1,_)&&j}Gt.prototype.N=function(){if(Gt.aa.N.call(this),this.i){var d=this.i,_;for(_ in d.g){for(var T=d.g[_],k=0;k<T.length;k++)ne(T[k]);delete d.g[_],d.h--}}this.F=null},Gt.prototype.K=function(d,_,T,k){return this.i.add(String(d),_,!1,T,k)},Gt.prototype.L=function(d,_,T,k){return this.i.add(String(d),_,!0,T,k)};function Bu(d,_,T,k){if(_=d.i.g[String(_)],!_)return!0;_=_.concat();for(var j=!0,U=0;U<_.length;++U){var J=_[U];if(J&&!J.da&&J.capture==T){var Ge=J.listener,jt=J.ha||J.src;J.fa&&Ce(d.i,J),j=Ge.call(jt,k)!==!1&&j}}return j&&!k.defaultPrevented}function rx(d,_,T){if(typeof d=="function")T&&(d=h(d,T));else if(d&&typeof d.handleEvent=="function")d=h(d.handleEvent,d);else throw Error("Invalid listener argument");return 2147483647<Number(_)?-1:a.setTimeout(d,_||0)}function ix(d){d.g=rx(()=>{d.g=null,d.i&&(d.i=!1,ix(d))},d.l);const _=d.h;d.h=null,d.m.apply(null,_)}class EO extends W{constructor(_,T){super(),this.m=_,this.l=T,this.h=null,this.i=!1,this.g=null}j(_){this.h=arguments,this.g?this.i=!0:ix(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function El(d){W.call(this),this.h=d,this.g={}}x(El,W);var ox=[];function sx(d){O(d.g,function(_,T){this.g.hasOwnProperty(T)&&Ri(_)},d),d.g={}}El.prototype.N=function(){El.aa.N.call(this),sx(this)},El.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var rm=a.JSON.stringify,bO=a.JSON.parse,TO=class{stringify(d){return a.JSON.stringify(d,void 0)}parse(d){return a.JSON.parse(d,void 0)}};function im(){}im.prototype.h=null;function ax(d){return d.h||(d.h=d.i())}function lx(){}var bl={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function om(){K.call(this,"d")}x(om,K);function sm(){K.call(this,"c")}x(sm,K);var Wo={},cx=null;function Wu(){return cx=cx||new Gt}Wo.La="serverreachability";function ux(d){K.call(this,Wo.La,d)}x(ux,K);function Tl(d){const _=Wu();ln(_,new ux(_))}Wo.STAT_EVENT="statevent";function dx(d,_){K.call(this,Wo.STAT_EVENT,d),this.stat=_}x(dx,K);function cn(d){const _=Wu();ln(_,new dx(_,d))}Wo.Ma="timingevent";function fx(d,_){K.call(this,Wo.Ma,d),this.size=_}x(fx,K);function Cl(d,_){if(typeof d!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){d()},_)}function Sl(){this.g=!0}Sl.prototype.xa=function(){this.g=!1};function CO(d,_,T,k,j,U){d.info(function(){if(d.g)if(U)for(var J="",Ge=U.split("&"),jt=0;jt<Ge.length;jt++){var $e=Ge[jt].split("=");if(1<$e.length){var Yt=$e[0];$e=$e[1];var Kt=Yt.split("_");J=2<=Kt.length&&Kt[1]=="type"?J+(Yt+"="+$e+"&"):J+(Yt+"=redacted&")}}else J=null;else J=U;return"XMLHTTP REQ ("+k+") [attempt "+j+"]: "+_+`
`+T+`
`+J})}function SO(d,_,T,k,j,U,J){d.info(function(){return"XMLHTTP RESP ("+k+") [ attempt "+j+"]: "+_+`
`+T+`
`+U+" "+J})}function Os(d,_,T,k){d.info(function(){return"XMLHTTP TEXT ("+_+"): "+IO(d,T)+(k?" "+k:"")})}function PO(d,_){d.info(function(){return"TIMEOUT: "+_})}Sl.prototype.info=function(){};function IO(d,_){if(!d.g)return _;if(!_)return null;try{var T=JSON.parse(_);if(T){for(d=0;d<T.length;d++)if(Array.isArray(T[d])){var k=T[d];if(!(2>k.length)){var j=k[1];if(Array.isArray(j)&&!(1>j.length)){var U=j[0];if(U!="noop"&&U!="stop"&&U!="close")for(var J=1;J<j.length;J++)j[J]=""}}}}return rm(T)}catch{return _}}var zu={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},hx={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},am;function Hu(){}x(Hu,im),Hu.prototype.g=function(){return new XMLHttpRequest},Hu.prototype.i=function(){return{}},am=new Hu;function Ni(d,_,T,k){this.j=d,this.i=_,this.l=T,this.R=k||1,this.U=new El(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new px}function px(){this.i=null,this.g="",this.h=!1}var mx={},lm={};function cm(d,_,T){d.L=1,d.v=Ku(Yr(_)),d.m=T,d.P=!0,gx(d,null)}function gx(d,_){d.F=Date.now(),qu(d),d.A=Yr(d.v);var T=d.A,k=d.R;Array.isArray(k)||(k=[String(k)]),kx(T.i,"t",k),d.C=0,T=d.j.J,d.h=new px,d.g=Yx(d.j,T?_:null,!d.m),0<d.O&&(d.M=new EO(h(d.Y,d,d.g),d.O)),_=d.U,T=d.g,k=d.ca;var j="readystatechange";Array.isArray(j)||(j&&(ox[0]=j.toString()),j=ox);for(var U=0;U<j.length;U++){var J=Zn(T,j[U],k||_.handleEvent,!1,_.h||_);if(!J)break;_.g[J.key]=J}_=d.H?C(d.H):{},d.m?(d.u||(d.u="POST"),_["Content-Type"]="application/x-www-form-urlencoded",d.g.ea(d.A,d.u,d.m,_)):(d.u="GET",d.g.ea(d.A,d.u,null,_)),Tl(),CO(d.i,d.u,d.A,d.l,d.R,d.m)}Ni.prototype.ca=function(d){d=d.target;const _=this.M;_&&Kr(d)==3?_.j():this.Y(d)},Ni.prototype.Y=function(d){try{if(d==this.g)e:{const Kt=Kr(this.g);var _=this.g.Ba();const js=this.g.Z();if(!(3>Kt)&&(Kt!=3||this.g&&(this.h.h||this.g.oa()||Vx(this.g)))){this.J||Kt!=4||_==7||(_==8||0>=js?Tl(3):Tl(2)),um(this);var T=this.g.Z();this.X=T;t:if(vx(this)){var k=Vx(this.g);d="";var j=k.length,U=Kr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){zo(this),Pl(this);var J="";break t}this.h.i=new a.TextDecoder}for(_=0;_<j;_++)this.h.h=!0,d+=this.h.i.decode(k[_],{stream:!(U&&_==j-1)});k.length=0,this.h.g+=d,this.C=0,J=this.h.g}else J=this.g.oa();if(this.o=T==200,SO(this.i,this.u,this.A,this.l,this.R,Kt,T),this.o){if(this.T&&!this.K){t:{if(this.g){var Ge,jt=this.g;if((Ge=jt.g?jt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!y(Ge)){var $e=Ge;break t}}$e=null}if(T=$e)Os(this.i,this.l,T,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,dm(this,T);else{this.o=!1,this.s=3,cn(12),zo(this),Pl(this);break e}}if(this.P){T=!0;let er;for(;!this.J&&this.C<J.length;)if(er=AO(this,J),er==lm){Kt==4&&(this.s=4,cn(14),T=!1),Os(this.i,this.l,null,"[Incomplete Response]");break}else if(er==mx){this.s=4,cn(15),Os(this.i,this.l,J,"[Invalid Chunk]"),T=!1;break}else Os(this.i,this.l,er,null),dm(this,er);if(vx(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Kt!=4||J.length!=0||this.h.h||(this.s=1,cn(16),T=!1),this.o=this.o&&T,!T)Os(this.i,this.l,J,"[Invalid Chunked Response]"),zo(this),Pl(this);else if(0<J.length&&!this.W){this.W=!0;var Yt=this.j;Yt.g==this&&Yt.ba&&!Yt.M&&(Yt.j.info("Great, no buffering proxy detected. Bytes received: "+J.length),vm(Yt),Yt.M=!0,cn(11))}}else Os(this.i,this.l,J,null),dm(this,J);Kt==4&&zo(this),this.o&&!this.J&&(Kt==4?zx(this.j,this):(this.o=!1,qu(this)))}else qO(this.g),T==400&&0<J.indexOf("Unknown SID")?(this.s=3,cn(12)):(this.s=0,cn(13)),zo(this),Pl(this)}}}catch{}finally{}};function vx(d){return d.g?d.u=="GET"&&d.L!=2&&d.j.Ca:!1}function AO(d,_){var T=d.C,k=_.indexOf(`
`,T);return k==-1?lm:(T=Number(_.substring(T,k)),isNaN(T)?mx:(k+=1,k+T>_.length?lm:(_=_.slice(k,k+T),d.C=k+T,_)))}Ni.prototype.cancel=function(){this.J=!0,zo(this)};function qu(d){d.S=Date.now()+d.I,yx(d,d.I)}function yx(d,_){if(d.B!=null)throw Error("WatchDog timer not null");d.B=Cl(h(d.ba,d),_)}function um(d){d.B&&(a.clearTimeout(d.B),d.B=null)}Ni.prototype.ba=function(){this.B=null;const d=Date.now();0<=d-this.S?(PO(this.i,this.A),this.L!=2&&(Tl(),cn(17)),zo(this),this.s=2,Pl(this)):yx(this,this.S-d)};function Pl(d){d.j.G==0||d.J||zx(d.j,d)}function zo(d){um(d);var _=d.M;_&&typeof _.ma=="function"&&_.ma(),d.M=null,sx(d.U),d.g&&(_=d.g,d.g=null,_.abort(),_.ma())}function dm(d,_){try{var T=d.j;if(T.G!=0&&(T.g==d||fm(T.h,d))){if(!d.K&&fm(T.h,d)&&T.G==3){try{var k=T.Da.g.parse(_)}catch{k=null}if(Array.isArray(k)&&k.length==3){var j=k;if(j[0]==0){e:if(!T.u){if(T.g)if(T.g.F+3e3<d.F)td(T),Zu(T);else break e;gm(T),cn(18)}}else T.za=j[1],0<T.za-T.T&&37500>j[2]&&T.F&&T.v==0&&!T.C&&(T.C=Cl(h(T.Za,T),6e3));if(1>=_x(T.h)&&T.ca){try{T.ca()}catch{}T.ca=void 0}}else qo(T,11)}else if((d.K||T.g==d)&&td(T),!y(_))for(j=T.Da.g.parse(_),_=0;_<j.length;_++){let $e=j[_];if(T.T=$e[0],$e=$e[1],T.G==2)if($e[0]=="c"){T.K=$e[1],T.ia=$e[2];const Yt=$e[3];Yt!=null&&(T.la=Yt,T.j.info("VER="+T.la));const Kt=$e[4];Kt!=null&&(T.Aa=Kt,T.j.info("SVER="+T.Aa));const js=$e[5];js!=null&&typeof js=="number"&&0<js&&(k=1.5*js,T.L=k,T.j.info("backChannelRequestTimeoutMs_="+k)),k=T;const er=d.g;if(er){const rd=er.g?er.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(rd){var U=k.h;U.g||rd.indexOf("spdy")==-1&&rd.indexOf("quic")==-1&&rd.indexOf("h2")==-1||(U.j=U.l,U.g=new Set,U.h&&(hm(U,U.h),U.h=null))}if(k.D){const ym=er.g?er.g.getResponseHeader("X-HTTP-Session-Id"):null;ym&&(k.ya=ym,et(k.I,k.D,ym))}}T.G=3,T.l&&T.l.ua(),T.ba&&(T.R=Date.now()-d.F,T.j.info("Handshake RTT: "+T.R+"ms")),k=T;var J=d;if(k.qa=Gx(k,k.J?k.ia:null,k.W),J.K){Ex(k.h,J);var Ge=J,jt=k.L;jt&&(Ge.I=jt),Ge.B&&(um(Ge),qu(Ge)),k.g=J}else Bx(k);0<T.i.length&&ed(T)}else $e[0]!="stop"&&$e[0]!="close"||qo(T,7);else T.G==3&&($e[0]=="stop"||$e[0]=="close"?$e[0]=="stop"?qo(T,7):mm(T):$e[0]!="noop"&&T.l&&T.l.ta($e),T.v=0)}}Tl(4)}catch{}}var kO=class{constructor(d,_){this.g=d,this.map=_}};function wx(d){this.l=d||10,a.PerformanceNavigationTiming?(d=a.performance.getEntriesByType("navigation"),d=0<d.length&&(d[0].nextHopProtocol=="hq"||d[0].nextHopProtocol=="h2")):d=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=d?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function xx(d){return d.h?!0:d.g?d.g.size>=d.j:!1}function _x(d){return d.h?1:d.g?d.g.size:0}function fm(d,_){return d.h?d.h==_:d.g?d.g.has(_):!1}function hm(d,_){d.g?d.g.add(_):d.h=_}function Ex(d,_){d.h&&d.h==_?d.h=null:d.g&&d.g.has(_)&&d.g.delete(_)}wx.prototype.cancel=function(){if(this.i=bx(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const d of this.g.values())d.cancel();this.g.clear()}};function bx(d){if(d.h!=null)return d.i.concat(d.h.D);if(d.g!=null&&d.g.size!==0){let _=d.i;for(const T of d.g.values())_=_.concat(T.D);return _}return w(d.i)}function RO(d){if(d.V&&typeof d.V=="function")return d.V();if(typeof Map<"u"&&d instanceof Map||typeof Set<"u"&&d instanceof Set)return Array.from(d.values());if(typeof d=="string")return d.split("");if(l(d)){for(var _=[],T=d.length,k=0;k<T;k++)_.push(d[k]);return _}_=[],T=0;for(k in d)_[T++]=d[k];return _}function NO(d){if(d.na&&typeof d.na=="function")return d.na();if(!d.V||typeof d.V!="function"){if(typeof Map<"u"&&d instanceof Map)return Array.from(d.keys());if(!(typeof Set<"u"&&d instanceof Set)){if(l(d)||typeof d=="string"){var _=[];d=d.length;for(var T=0;T<d;T++)_.push(T);return _}_=[],T=0;for(const k in d)_[T++]=k;return _}}}function Tx(d,_){if(d.forEach&&typeof d.forEach=="function")d.forEach(_,void 0);else if(l(d)||typeof d=="string")Array.prototype.forEach.call(d,_,void 0);else for(var T=NO(d),k=RO(d),j=k.length,U=0;U<j;U++)_.call(void 0,k[U],T&&T[U],d)}var Cx=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function DO(d,_){if(d){d=d.split("&");for(var T=0;T<d.length;T++){var k=d[T].indexOf("="),j=null;if(0<=k){var U=d[T].substring(0,k);j=d[T].substring(k+1)}else U=d[T];_(U,j?decodeURIComponent(j.replace(/\+/g," ")):"")}}}function Ho(d){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,d instanceof Ho){this.h=d.h,Gu(this,d.j),this.o=d.o,this.g=d.g,Yu(this,d.s),this.l=d.l;var _=d.i,T=new kl;T.i=_.i,_.g&&(T.g=new Map(_.g),T.h=_.h),Sx(this,T),this.m=d.m}else d&&(_=String(d).match(Cx))?(this.h=!1,Gu(this,_[1]||"",!0),this.o=Il(_[2]||""),this.g=Il(_[3]||"",!0),Yu(this,_[4]),this.l=Il(_[5]||"",!0),Sx(this,_[6]||"",!0),this.m=Il(_[7]||"")):(this.h=!1,this.i=new kl(null,this.h))}Ho.prototype.toString=function(){var d=[],_=this.j;_&&d.push(Al(_,Px,!0),":");var T=this.g;return(T||_=="file")&&(d.push("//"),(_=this.o)&&d.push(Al(_,Px,!0),"@"),d.push(encodeURIComponent(String(T)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),T=this.s,T!=null&&d.push(":",String(T))),(T=this.l)&&(this.g&&T.charAt(0)!="/"&&d.push("/"),d.push(Al(T,T.charAt(0)=="/"?LO:OO,!0))),(T=this.i.toString())&&d.push("?",T),(T=this.m)&&d.push("#",Al(T,jO)),d.join("")};function Yr(d){return new Ho(d)}function Gu(d,_,T){d.j=T?Il(_,!0):_,d.j&&(d.j=d.j.replace(/:$/,""))}function Yu(d,_){if(_){if(_=Number(_),isNaN(_)||0>_)throw Error("Bad port number "+_);d.s=_}else d.s=null}function Sx(d,_,T){_ instanceof kl?(d.i=_,FO(d.i,d.h)):(T||(_=Al(_,VO)),d.i=new kl(_,d.h))}function et(d,_,T){d.i.set(_,T)}function Ku(d){return et(d,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),d}function Il(d,_){return d?_?decodeURI(d.replace(/%25/g,"%2525")):decodeURIComponent(d):""}function Al(d,_,T){return typeof d=="string"?(d=encodeURI(d).replace(_,MO),T&&(d=d.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d):null}function MO(d){return d=d.charCodeAt(0),"%"+(d>>4&15).toString(16)+(d&15).toString(16)}var Px=/[#\/\?@]/g,OO=/[#\?:]/g,LO=/[#\?]/g,VO=/[#\?@]/g,jO=/#/g;function kl(d,_){this.h=this.g=null,this.i=d||null,this.j=!!_}function Di(d){d.g||(d.g=new Map,d.h=0,d.i&&DO(d.i,function(_,T){d.add(decodeURIComponent(_.replace(/\+/g," ")),T)}))}t=kl.prototype,t.add=function(d,_){Di(this),this.i=null,d=Ls(this,d);var T=this.g.get(d);return T||this.g.set(d,T=[]),T.push(_),this.h+=1,this};function Ix(d,_){Di(d),_=Ls(d,_),d.g.has(_)&&(d.i=null,d.h-=d.g.get(_).length,d.g.delete(_))}function Ax(d,_){return Di(d),_=Ls(d,_),d.g.has(_)}t.forEach=function(d,_){Di(this),this.g.forEach(function(T,k){T.forEach(function(j){d.call(_,j,k,this)},this)},this)},t.na=function(){Di(this);const d=Array.from(this.g.values()),_=Array.from(this.g.keys()),T=[];for(let k=0;k<_.length;k++){const j=d[k];for(let U=0;U<j.length;U++)T.push(_[k])}return T},t.V=function(d){Di(this);let _=[];if(typeof d=="string")Ax(this,d)&&(_=_.concat(this.g.get(Ls(this,d))));else{d=Array.from(this.g.values());for(let T=0;T<d.length;T++)_=_.concat(d[T])}return _},t.set=function(d,_){return Di(this),this.i=null,d=Ls(this,d),Ax(this,d)&&(this.h-=this.g.get(d).length),this.g.set(d,[_]),this.h+=1,this},t.get=function(d,_){return d?(d=this.V(d),0<d.length?String(d[0]):_):_};function kx(d,_,T){Ix(d,_),0<T.length&&(d.i=null,d.g.set(Ls(d,_),w(T)),d.h+=T.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const d=[],_=Array.from(this.g.keys());for(var T=0;T<_.length;T++){var k=_[T];const U=encodeURIComponent(String(k)),J=this.V(k);for(k=0;k<J.length;k++){var j=U;J[k]!==""&&(j+="="+encodeURIComponent(String(J[k]))),d.push(j)}}return this.i=d.join("&")};function Ls(d,_){return _=String(_),d.j&&(_=_.toLowerCase()),_}function FO(d,_){_&&!d.j&&(Di(d),d.i=null,d.g.forEach(function(T,k){var j=k.toLowerCase();k!=j&&(Ix(this,k),kx(this,j,T))},d)),d.j=_}function $O(d,_){const T=new Sl;if(a.Image){const k=new Image;k.onload=g(Mi,T,"TestLoadImage: loaded",!0,_,k),k.onerror=g(Mi,T,"TestLoadImage: error",!1,_,k),k.onabort=g(Mi,T,"TestLoadImage: abort",!1,_,k),k.ontimeout=g(Mi,T,"TestLoadImage: timeout",!1,_,k),a.setTimeout(function(){k.ontimeout&&k.ontimeout()},1e4),k.src=d}else _(!1)}function UO(d,_){const T=new Sl,k=new AbortController,j=setTimeout(()=>{k.abort(),Mi(T,"TestPingServer: timeout",!1,_)},1e4);fetch(d,{signal:k.signal}).then(U=>{clearTimeout(j),U.ok?Mi(T,"TestPingServer: ok",!0,_):Mi(T,"TestPingServer: server error",!1,_)}).catch(()=>{clearTimeout(j),Mi(T,"TestPingServer: error",!1,_)})}function Mi(d,_,T,k,j){try{j&&(j.onload=null,j.onerror=null,j.onabort=null,j.ontimeout=null),k(T)}catch{}}function BO(){this.g=new TO}function WO(d,_,T){const k=T||"";try{Tx(d,function(j,U){let J=j;c(j)&&(J=rm(j)),_.push(k+U+"="+encodeURIComponent(J))})}catch(j){throw _.push(k+"type="+encodeURIComponent("_badmap")),j}}function Qu(d){this.l=d.Ub||null,this.j=d.eb||!1}x(Qu,im),Qu.prototype.g=function(){return new Xu(this.l,this.j)},Qu.prototype.i=function(d){return function(){return d}}({});function Xu(d,_){Gt.call(this),this.D=d,this.o=_,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}x(Xu,Gt),t=Xu.prototype,t.open=function(d,_){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=d,this.A=_,this.readyState=1,Nl(this)},t.send=function(d){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const _={headers:this.u,method:this.B,credentials:this.m,cache:void 0};d&&(_.body=d),(this.D||a).fetch(new Request(this.A,_)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Rl(this)),this.readyState=0},t.Sa=function(d){if(this.g&&(this.l=d,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=d.headers,this.readyState=2,Nl(this)),this.g&&(this.readyState=3,Nl(this),this.g)))if(this.responseType==="arraybuffer")d.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in d){if(this.j=d.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Rx(this)}else d.text().then(this.Ra.bind(this),this.ga.bind(this))};function Rx(d){d.j.read().then(d.Pa.bind(d)).catch(d.ga.bind(d))}t.Pa=function(d){if(this.g){if(this.o&&d.value)this.response.push(d.value);else if(!this.o){var _=d.value?d.value:new Uint8Array(0);(_=this.v.decode(_,{stream:!d.done}))&&(this.response=this.responseText+=_)}d.done?Rl(this):Nl(this),this.readyState==3&&Rx(this)}},t.Ra=function(d){this.g&&(this.response=this.responseText=d,Rl(this))},t.Qa=function(d){this.g&&(this.response=d,Rl(this))},t.ga=function(){this.g&&Rl(this)};function Rl(d){d.readyState=4,d.l=null,d.j=null,d.v=null,Nl(d)}t.setRequestHeader=function(d,_){this.u.append(d,_)},t.getResponseHeader=function(d){return this.h&&this.h.get(d.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const d=[],_=this.h.entries();for(var T=_.next();!T.done;)T=T.value,d.push(T[0]+": "+T[1]),T=_.next();return d.join(`\r
`)};function Nl(d){d.onreadystatechange&&d.onreadystatechange.call(d)}Object.defineProperty(Xu.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(d){this.m=d?"include":"same-origin"}});function Nx(d){let _="";return O(d,function(T,k){_+=k,_+=":",_+=T,_+=`\r
`}),_}function pm(d,_,T){e:{for(k in T){var k=!1;break e}k=!0}k||(T=Nx(T),typeof d=="string"?T!=null&&encodeURIComponent(String(T)):et(d,_,T))}function mt(d){Gt.call(this),this.headers=new Map,this.o=d||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}x(mt,Gt);var zO=/^https?$/i,HO=["POST","PUT"];t=mt.prototype,t.Ha=function(d){this.J=d},t.ea=function(d,_,T,k){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+d);_=_?_.toUpperCase():"GET",this.D=d,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():am.g(),this.v=this.o?ax(this.o):ax(am),this.g.onreadystatechange=h(this.Ea,this);try{this.B=!0,this.g.open(_,String(d),!0),this.B=!1}catch(U){Dx(this,U);return}if(d=T||"",T=new Map(this.headers),k)if(Object.getPrototypeOf(k)===Object.prototype)for(var j in k)T.set(j,k[j]);else if(typeof k.keys=="function"&&typeof k.get=="function")for(const U of k.keys())T.set(U,k.get(U));else throw Error("Unknown input type for opt_headers: "+String(k));k=Array.from(T.keys()).find(U=>U.toLowerCase()=="content-type"),j=a.FormData&&d instanceof a.FormData,!(0<=Array.prototype.indexOf.call(HO,_,void 0))||k||j||T.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[U,J]of T)this.g.setRequestHeader(U,J);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Lx(this),this.u=!0,this.g.send(d),this.u=!1}catch(U){Dx(this,U)}};function Dx(d,_){d.h=!1,d.g&&(d.j=!0,d.g.abort(),d.j=!1),d.l=_,d.m=5,Mx(d),Ju(d)}function Mx(d){d.A||(d.A=!0,ln(d,"complete"),ln(d,"error"))}t.abort=function(d){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=d||7,ln(this,"complete"),ln(this,"abort"),Ju(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ju(this,!0)),mt.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Ox(this):this.bb())},t.bb=function(){Ox(this)};function Ox(d){if(d.h&&typeof s<"u"&&(!d.v[1]||Kr(d)!=4||d.Z()!=2)){if(d.u&&Kr(d)==4)rx(d.Ea,0,d);else if(ln(d,"readystatechange"),Kr(d)==4){d.h=!1;try{const J=d.Z();e:switch(J){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var _=!0;break e;default:_=!1}var T;if(!(T=_)){var k;if(k=J===0){var j=String(d.D).match(Cx)[1]||null;!j&&a.self&&a.self.location&&(j=a.self.location.protocol.slice(0,-1)),k=!zO.test(j?j.toLowerCase():"")}T=k}if(T)ln(d,"complete"),ln(d,"success");else{d.m=6;try{var U=2<Kr(d)?d.g.statusText:""}catch{U=""}d.l=U+" ["+d.Z()+"]",Mx(d)}}finally{Ju(d)}}}}function Ju(d,_){if(d.g){Lx(d);const T=d.g,k=d.v[0]?()=>{}:null;d.g=null,d.v=null,_||ln(d,"ready");try{T.onreadystatechange=k}catch{}}}function Lx(d){d.I&&(a.clearTimeout(d.I),d.I=null)}t.isActive=function(){return!!this.g};function Kr(d){return d.g?d.g.readyState:0}t.Z=function(){try{return 2<Kr(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(d){if(this.g){var _=this.g.responseText;return d&&_.indexOf(d)==0&&(_=_.substring(d.length)),bO(_)}};function Vx(d){try{if(!d.g)return null;if("response"in d.g)return d.g.response;switch(d.H){case"":case"text":return d.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in d.g)return d.g.mozResponseArrayBuffer}return null}catch{return null}}function qO(d){const _={};d=(d.g&&2<=Kr(d)&&d.g.getAllResponseHeaders()||"").split(`\r
`);for(let k=0;k<d.length;k++){if(y(d[k]))continue;var T=M(d[k]);const j=T[0];if(T=T[1],typeof T!="string")continue;T=T.trim();const U=_[j]||[];_[j]=U,U.push(T)}S(_,function(k){return k.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Dl(d,_,T){return T&&T.internalChannelParams&&T.internalChannelParams[d]||_}function jx(d){this.Aa=0,this.i=[],this.j=new Sl,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Dl("failFast",!1,d),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Dl("baseRetryDelayMs",5e3,d),this.cb=Dl("retryDelaySeedMs",1e4,d),this.Wa=Dl("forwardChannelMaxRetries",2,d),this.wa=Dl("forwardChannelRequestTimeoutMs",2e4,d),this.pa=d&&d.xmlHttpFactory||void 0,this.Xa=d&&d.Tb||void 0,this.Ca=d&&d.useFetchStreams||!1,this.L=void 0,this.J=d&&d.supportsCrossDomainXhr||!1,this.K="",this.h=new wx(d&&d.concurrentRequestLimit),this.Da=new BO,this.P=d&&d.fastHandshake||!1,this.O=d&&d.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=d&&d.Rb||!1,d&&d.xa&&this.j.xa(),d&&d.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&d&&d.detectBufferingProxy||!1,this.ja=void 0,d&&d.longPollingTimeout&&0<d.longPollingTimeout&&(this.ja=d.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=jx.prototype,t.la=8,t.G=1,t.connect=function(d,_,T,k){cn(0),this.W=d,this.H=_||{},T&&k!==void 0&&(this.H.OSID=T,this.H.OAID=k),this.F=this.X,this.I=Gx(this,null,this.W),ed(this)};function mm(d){if(Fx(d),d.G==3){var _=d.U++,T=Yr(d.I);if(et(T,"SID",d.K),et(T,"RID",_),et(T,"TYPE","terminate"),Ml(d,T),_=new Ni(d,d.j,_),_.L=2,_.v=Ku(Yr(T)),T=!1,a.navigator&&a.navigator.sendBeacon)try{T=a.navigator.sendBeacon(_.v.toString(),"")}catch{}!T&&a.Image&&(new Image().src=_.v,T=!0),T||(_.g=Yx(_.j,null),_.g.ea(_.v)),_.F=Date.now(),qu(_)}qx(d)}function Zu(d){d.g&&(vm(d),d.g.cancel(),d.g=null)}function Fx(d){Zu(d),d.u&&(a.clearTimeout(d.u),d.u=null),td(d),d.h.cancel(),d.s&&(typeof d.s=="number"&&a.clearTimeout(d.s),d.s=null)}function ed(d){if(!xx(d.h)&&!d.s){d.s=!0;var _=d.Ga;z||$(),L||(z(),L=!0),V.add(_,d),d.B=0}}function GO(d,_){return _x(d.h)>=d.h.j-(d.s?1:0)?!1:d.s?(d.i=_.D.concat(d.i),!0):d.G==1||d.G==2||d.B>=(d.Va?0:d.Wa)?!1:(d.s=Cl(h(d.Ga,d,_),Hx(d,d.B)),d.B++,!0)}t.Ga=function(d){if(this.s)if(this.s=null,this.G==1){if(!d){this.U=Math.floor(1e5*Math.random()),d=this.U++;const j=new Ni(this,this.j,d);let U=this.o;if(this.S&&(U?(U=C(U),A(U,this.S)):U=this.S),this.m!==null||this.O||(j.H=U,U=null),this.P)e:{for(var _=0,T=0;T<this.i.length;T++){t:{var k=this.i[T];if("__data__"in k.map&&(k=k.map.__data__,typeof k=="string")){k=k.length;break t}k=void 0}if(k===void 0)break;if(_+=k,4096<_){_=T;break e}if(_===4096||T===this.i.length-1){_=T+1;break e}}_=1e3}else _=1e3;_=Ux(this,j,_),T=Yr(this.I),et(T,"RID",d),et(T,"CVER",22),this.D&&et(T,"X-HTTP-Session-Id",this.D),Ml(this,T),U&&(this.O?_="headers="+encodeURIComponent(String(Nx(U)))+"&"+_:this.m&&pm(T,this.m,U)),hm(this.h,j),this.Ua&&et(T,"TYPE","init"),this.P?(et(T,"$req",_),et(T,"SID","null"),j.T=!0,cm(j,T,null)):cm(j,T,_),this.G=2}}else this.G==3&&(d?$x(this,d):this.i.length==0||xx(this.h)||$x(this))};function $x(d,_){var T;_?T=_.l:T=d.U++;const k=Yr(d.I);et(k,"SID",d.K),et(k,"RID",T),et(k,"AID",d.T),Ml(d,k),d.m&&d.o&&pm(k,d.m,d.o),T=new Ni(d,d.j,T,d.B+1),d.m===null&&(T.H=d.o),_&&(d.i=_.D.concat(d.i)),_=Ux(d,T,1e3),T.I=Math.round(.5*d.wa)+Math.round(.5*d.wa*Math.random()),hm(d.h,T),cm(T,k,_)}function Ml(d,_){d.H&&O(d.H,function(T,k){et(_,k,T)}),d.l&&Tx({},function(T,k){et(_,k,T)})}function Ux(d,_,T){T=Math.min(d.i.length,T);var k=d.l?h(d.l.Na,d.l,d):null;e:{var j=d.i;let U=-1;for(;;){const J=["count="+T];U==-1?0<T?(U=j[0].g,J.push("ofs="+U)):U=0:J.push("ofs="+U);let Ge=!0;for(let jt=0;jt<T;jt++){let $e=j[jt].g;const Yt=j[jt].map;if($e-=U,0>$e)U=Math.max(0,j[jt].g-100),Ge=!1;else try{WO(Yt,J,"req"+$e+"_")}catch{k&&k(Yt)}}if(Ge){k=J.join("&");break e}}}return d=d.i.splice(0,T),_.D=d,k}function Bx(d){if(!d.g&&!d.u){d.Y=1;var _=d.Fa;z||$(),L||(z(),L=!0),V.add(_,d),d.v=0}}function gm(d){return d.g||d.u||3<=d.v?!1:(d.Y++,d.u=Cl(h(d.Fa,d),Hx(d,d.v)),d.v++,!0)}t.Fa=function(){if(this.u=null,Wx(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var d=2*this.R;this.j.info("BP detection timer enabled: "+d),this.A=Cl(h(this.ab,this),d)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,cn(10),Zu(this),Wx(this))};function vm(d){d.A!=null&&(a.clearTimeout(d.A),d.A=null)}function Wx(d){d.g=new Ni(d,d.j,"rpc",d.Y),d.m===null&&(d.g.H=d.o),d.g.O=0;var _=Yr(d.qa);et(_,"RID","rpc"),et(_,"SID",d.K),et(_,"AID",d.T),et(_,"CI",d.F?"0":"1"),!d.F&&d.ja&&et(_,"TO",d.ja),et(_,"TYPE","xmlhttp"),Ml(d,_),d.m&&d.o&&pm(_,d.m,d.o),d.L&&(d.g.I=d.L);var T=d.g;d=d.ia,T.L=1,T.v=Ku(Yr(_)),T.m=null,T.P=!0,gx(T,d)}t.Za=function(){this.C!=null&&(this.C=null,Zu(this),gm(this),cn(19))};function td(d){d.C!=null&&(a.clearTimeout(d.C),d.C=null)}function zx(d,_){var T=null;if(d.g==_){td(d),vm(d),d.g=null;var k=2}else if(fm(d.h,_))T=_.D,Ex(d.h,_),k=1;else return;if(d.G!=0){if(_.o)if(k==1){T=_.m?_.m.length:0,_=Date.now()-_.F;var j=d.B;k=Wu(),ln(k,new fx(k,T)),ed(d)}else Bx(d);else if(j=_.s,j==3||j==0&&0<_.X||!(k==1&&GO(d,_)||k==2&&gm(d)))switch(T&&0<T.length&&(_=d.h,_.i=_.i.concat(T)),j){case 1:qo(d,5);break;case 4:qo(d,10);break;case 3:qo(d,6);break;default:qo(d,2)}}}function Hx(d,_){let T=d.Ta+Math.floor(Math.random()*d.cb);return d.isActive()||(T*=2),T*_}function qo(d,_){if(d.j.info("Error code "+_),_==2){var T=h(d.fb,d),k=d.Xa;const j=!k;k=new Ho(k||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Gu(k,"https"),Ku(k),j?$O(k.toString(),T):UO(k.toString(),T)}else cn(2);d.G=0,d.l&&d.l.sa(_),qx(d),Fx(d)}t.fb=function(d){d?(this.j.info("Successfully pinged google.com"),cn(2)):(this.j.info("Failed to ping google.com"),cn(1))};function qx(d){if(d.G=0,d.ka=[],d.l){const _=bx(d.h);(_.length!=0||d.i.length!=0)&&(b(d.ka,_),b(d.ka,d.i),d.h.i.length=0,w(d.i),d.i.length=0),d.l.ra()}}function Gx(d,_,T){var k=T instanceof Ho?Yr(T):new Ho(T);if(k.g!="")_&&(k.g=_+"."+k.g),Yu(k,k.s);else{var j=a.location;k=j.protocol,_=_?_+"."+j.hostname:j.hostname,j=+j.port;var U=new Ho(null);k&&Gu(U,k),_&&(U.g=_),j&&Yu(U,j),T&&(U.l=T),k=U}return T=d.D,_=d.ya,T&&_&&et(k,T,_),et(k,"VER",d.la),Ml(d,k),k}function Yx(d,_,T){if(_&&!d.J)throw Error("Can't create secondary domain capable XhrIo object.");return _=d.Ca&&!d.pa?new mt(new Qu({eb:T})):new mt(d.pa),_.Ha(d.J),_}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Kx(){}t=Kx.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function nd(){}nd.prototype.g=function(d,_){return new An(d,_)};function An(d,_){Gt.call(this),this.g=new jx(_),this.l=d,this.h=_&&_.messageUrlParams||null,d=_&&_.messageHeaders||null,_&&_.clientProtocolHeaderRequired&&(d?d["X-Client-Protocol"]="webchannel":d={"X-Client-Protocol":"webchannel"}),this.g.o=d,d=_&&_.initMessageHeaders||null,_&&_.messageContentType&&(d?d["X-WebChannel-Content-Type"]=_.messageContentType:d={"X-WebChannel-Content-Type":_.messageContentType}),_&&_.va&&(d?d["X-WebChannel-Client-Profile"]=_.va:d={"X-WebChannel-Client-Profile":_.va}),this.g.S=d,(d=_&&_.Sb)&&!y(d)&&(this.g.m=d),this.v=_&&_.supportsCrossDomainXhr||!1,this.u=_&&_.sendRawJson||!1,(_=_&&_.httpSessionIdParam)&&!y(_)&&(this.g.D=_,d=this.h,d!==null&&_ in d&&(d=this.h,_ in d&&delete d[_])),this.j=new Vs(this)}x(An,Gt),An.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},An.prototype.close=function(){mm(this.g)},An.prototype.o=function(d){var _=this.g;if(typeof d=="string"){var T={};T.__data__=d,d=T}else this.u&&(T={},T.__data__=rm(d),d=T);_.i.push(new kO(_.Ya++,d)),_.G==3&&ed(_)},An.prototype.N=function(){this.g.l=null,delete this.j,mm(this.g),delete this.g,An.aa.N.call(this)};function Qx(d){om.call(this),d.__headers__&&(this.headers=d.__headers__,this.statusCode=d.__status__,delete d.__headers__,delete d.__status__);var _=d.__sm__;if(_){e:{for(const T in _){d=T;break e}d=void 0}(this.i=d)&&(d=this.i,_=_!==null&&d in _?_[d]:void 0),this.data=_}else this.data=d}x(Qx,om);function Xx(){sm.call(this),this.status=1}x(Xx,sm);function Vs(d){this.g=d}x(Vs,Kx),Vs.prototype.ua=function(){ln(this.g,"a")},Vs.prototype.ta=function(d){ln(this.g,new Qx(d))},Vs.prototype.sa=function(d){ln(this.g,new Xx)},Vs.prototype.ra=function(){ln(this.g,"b")},nd.prototype.createWebChannel=nd.prototype.g,An.prototype.send=An.prototype.o,An.prototype.open=An.prototype.m,An.prototype.close=An.prototype.close,YI=function(){return new nd},GI=function(){return Wu()},qI=Wo,qv={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},zu.NO_ERROR=0,zu.TIMEOUT=8,zu.HTTP_ERROR=6,tf=zu,hx.COMPLETE="complete",HI=hx,lx.EventType=bl,bl.OPEN="a",bl.CLOSE="b",bl.ERROR="c",bl.MESSAGE="d",Gt.prototype.listen=Gt.prototype.K,nc=lx,mt.prototype.listenOnce=mt.prototype.L,mt.prototype.getLastError=mt.prototype.Ka,mt.prototype.getLastErrorCode=mt.prototype.Ba,mt.prototype.getStatus=mt.prototype.Z,mt.prototype.getResponseJson=mt.prototype.Oa,mt.prototype.getResponseText=mt.prototype.oa,mt.prototype.send=mt.prototype.ea,mt.prototype.setWithCredentials=mt.prototype.Ha,zI=mt}).apply(typeof _d<"u"?_d:typeof self<"u"?self:typeof window<"u"?window:{});const PE="@firebase/firestore",IE="4.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class en{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}en.UNAUTHENTICATED=new en(null),en.GOOGLE_CREDENTIALS=new en("google-credentials-uid"),en.FIRST_PARTY=new en("first-party-uid"),en.MOCK_USER=new en("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let cl="12.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vs=new H0("@firebase/firestore");function Ys(){return vs.logLevel}function ee(t,...e){if(vs.logLevel<=Ae.DEBUG){const n=e.map(Y0);vs.debug(`Firestore (${cl}): ${t}`,...n)}}function vi(t,...e){if(vs.logLevel<=Ae.ERROR){const n=e.map(Y0);vs.error(`Firestore (${cl}): ${t}`,...n)}}function ja(t,...e){if(vs.logLevel<=Ae.WARN){const n=e.map(Y0);vs.warn(`Firestore (${cl}): ${t}`,...n)}}function Y0(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ve(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,KI(t,r,n)}function KI(t,e,n){let r=`FIRESTORE (${cl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw vi(r),new Error(r)}function We(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||KI(e,i,r)}function Ee(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ie extends Ii{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class si{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QI{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class s3{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(en.UNAUTHENTICATED))}shutdown(){}}class a3{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class l3{constructor(e){this.t=e,this.currentUser=en.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){We(this.o===void 0,42304);let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let o=new si;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new si,e.enqueueRetryable(()=>i(this.currentUser))};const s=()=>{const l=o;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{ee("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(ee("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new si)}},0),s()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(ee("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(We(typeof r.accessToken=="string",31837,{l:r}),new QI(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return We(e===null||typeof e=="string",2055,{h:e}),new en(e)}}class c3{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=en.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class u3{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new c3(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(en.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class AE{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class d3{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Hn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){We(this.o===void 0,3512);const r=o=>{o.error!=null&&ee("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const s=o.token!==this.m;return this.m=o.token,ee("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const i=o=>{ee("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){const o=this.V.getImmediate({optional:!0});o?i(o):ee("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new AE(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(We(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new AE(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f3(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K0{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=f3(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%62))}return r}}function ke(t,e){return t<e?-1:t>e?1:0}function Gv(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const i=t.charAt(r),o=e.charAt(r);if(i!==o)return Xm(i)===Xm(o)?ke(i,o):Xm(i)?1:-1}return ke(t.length,e.length)}const h3=55296,p3=57343;function Xm(t){const e=t.charCodeAt(0);return e>=h3&&e<=p3}function Fa(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kE="__name__";class _r{constructor(e,n,r){n===void 0?n=0:n>e.length&&ve(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&ve(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return _r.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof _r?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const o=_r.compareSegments(e.get(i),n.get(i));if(o!==0)return o}return ke(e.length,n.length)}static compareSegments(e,n){const r=_r.isNumericId(e),i=_r.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?_r.extractNumericId(e).compare(_r.extractNumericId(n)):Gv(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return mo.fromString(e.substring(4,e.length-2))}}class rt extends _r{construct(e,n,r){return new rt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new ie(G.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new rt(n)}static emptyPath(){return new rt([])}}const m3=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ut extends _r{construct(e,n,r){return new Ut(e,n,r)}static isValidIdentifier(e){return m3.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ut.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===kE}static keyField(){return new Ut([kE])}static fromServerFormat(e){const n=[];let r="",i=0;const o=()=>{if(r.length===0)throw new ie(G.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let s=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new ie(G.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new ie(G.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(s=!s,i++):a!=="."||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new ie(G.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ut(n)}static emptyPath(){return new Ut([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fe{constructor(e){this.path=e}static fromPath(e){return new fe(rt.fromString(e))}static fromName(e){return new fe(rt.fromString(e).popFirst(5))}static empty(){return new fe(rt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&rt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return rt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new fe(new rt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XI(t,e,n){if(!n)throw new ie(G.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function g3(t,e,n,r){if(e===!0&&r===!0)throw new ie(G.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function RE(t){if(!fe.isDocumentKey(t))throw new ie(G.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function NE(t){if(fe.isDocumentKey(t))throw new ie(G.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function JI(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function Q0(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ve(12329,{type:typeof t})}function yi(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ie(G.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Q0(t);throw new ie(G.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pt(t,e){const n={typeString:t};return e&&(n.value=e),n}function xu(t,e){if(!JI(t))throw new ie(G.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const i=e[r].typeString,o="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const s=t[r];if(i&&typeof s!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(o!==void 0&&s!==o.value){n=`Expected '${r}' field to equal '${o.value}'`;break}}if(n)throw new ie(G.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DE=-62135596800,ME=1e6;class it{static now(){return it.fromMillis(Date.now())}static fromDate(e){return it.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*ME);return new it(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ie(G.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ie(G.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<DE)throw new ie(G.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ie(G.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/ME}_compareTo(e){return this.seconds===e.seconds?ke(this.nanoseconds,e.nanoseconds):ke(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:it._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(xu(e,it._jsonSchema))return new it(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-DE;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}it._jsonSchemaVersion="firestore/timestamp/1.0",it._jsonSchema={type:Pt("string",it._jsonSchemaVersion),seconds:Pt("number"),nanoseconds:Pt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _e{static fromTimestamp(e){return new _e(e)}static min(){return new _e(new it(0,0))}static max(){return new _e(new it(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qc=-1;function v3(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=_e.fromTimestamp(r===1e9?new it(n+1,0):new it(n,r));return new bo(i,fe.empty(),e)}function y3(t){return new bo(t.readTime,t.key,Qc)}class bo{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new bo(_e.min(),fe.empty(),Qc)}static max(){return new bo(_e.max(),fe.empty(),Qc)}}function w3(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=fe.comparator(t.documentKey,e.documentKey),n!==0?n:ke(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x3="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class _3{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ul(t){if(t.code!==G.FAILED_PRECONDITION||t.message!==x3)throw t;ee("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ve(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new H((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof H?n:H.resolve(n)}catch(n){return H.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):H.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):H.reject(n)}static resolve(e){return new H((n,r)=>{n(e)})}static reject(e){return new H((n,r)=>{r(e)})}static waitFor(e){return new H((n,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&n()},l=>r(l))}),s=!0,o===i&&n()})}static or(e){let n=H.resolve(!1);for(const r of e)n=n.next(i=>i?H.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(e,n){return new H((r,i)=>{const o=e.length,s=new Array(o);let a=0;for(let l=0;l<o;l++){const c=l;n(e[c]).next(u=>{s[c]=u,++a,a===o&&r(s)},u=>i(u))}})}static doWhile(e,n){return new H((r,i)=>{const o=()=>{e()===!0?n().next(()=>{o()},i):r()};o()})}}function E3(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function dl(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jh{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Jh.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X0=-1;function Zh(t){return t==null}function qf(t){return t===0&&1/t==-1/0}function b3(t){return typeof t=="number"&&Number.isInteger(t)&&!qf(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZI="";function T3(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=OE(e)),e=C3(t.get(n),e);return OE(e)}function C3(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const o=t.charAt(i);switch(o){case"\0":n+="";break;case ZI:n+="";break;default:n+=o}}return n}function OE(t){return t+ZI+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LE(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function jo(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function eA(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pt{constructor(e,n){this.comparator=e,this.root=n||$t.EMPTY}insert(e,n){return new pt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,$t.BLACK,null,null))}remove(e){return new pt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,$t.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ed(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ed(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ed(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ed(this.root,e,this.comparator,!0)}}class Ed{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class $t{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??$t.RED,this.left=i??$t.EMPTY,this.right=o??$t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new $t(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return $t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return $t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,$t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,$t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ve(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ve(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw ve(27949);return e+(this.isRed()?0:1)}}$t.EMPTY=null,$t.RED=!0,$t.BLACK=!1;$t.EMPTY=new class{constructor(){this.size=0}get key(){throw ve(57766)}get value(){throw ve(16141)}get color(){throw ve(16727)}get left(){throw ve(29726)}get right(){throw ve(36894)}copy(e,n,r,i,o){return this}insert(e,n,r){return new $t(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nt{constructor(e){this.comparator=e,this.data=new pt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new VE(this.data.getIterator())}getIteratorFrom(e){return new VE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Nt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Nt(this.comparator);return n.data=e,n}}class VE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mn{constructor(e){this.fields=e,e.sort(Ut.comparator)}static empty(){return new Mn([])}unionWith(e){let n=new Nt(Ut.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Mn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Fa(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tA extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new tA("Invalid base64 string: "+o):o}}(e);return new qt(n)}static fromUint8Array(e){const n=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new qt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ke(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}qt.EMPTY_BYTE_STRING=new qt("");const S3=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function To(t){if(We(!!t,39018),typeof t=="string"){let e=0;const n=S3.exec(t);if(We(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:wt(t.seconds),nanos:wt(t.nanos)}}function wt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Co(t){return typeof t=="string"?qt.fromBase64String(t):qt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nA="server_timestamp",rA="__type__",iA="__previous_value__",oA="__local_write_time__";function J0(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[rA])==null?void 0:r.stringValue)===nA}function ep(t){const e=t.mapValue.fields[iA];return J0(e)?ep(e):e}function Xc(t){const e=To(t.mapValue.fields[oA].timestampValue);return new it(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P3{constructor(e,n,r,i,o,s,a,l,c,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=c,this.isUsingEmulator=u}}const Gf="(default)";class Jc{constructor(e,n){this.projectId=e,this.database=n||Gf}static empty(){return new Jc("","")}get isDefaultDatabase(){return this.database===Gf}isEqual(e){return e instanceof Jc&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sA="__type__",aA="__max__",bd={mapValue:{fields:{__type__:{stringValue:aA}}}},lA="__vector__",Yf="value";function So(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?J0(t)?4:A3(t)?9007199254740991:I3(t)?10:11:ve(28295,{value:t})}function Fr(t,e){if(t===e)return!0;const n=So(t);if(n!==So(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Xc(t).isEqual(Xc(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;const s=To(i.timestampValue),a=To(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,o){return Co(i.bytesValue).isEqual(Co(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,o){return wt(i.geoPointValue.latitude)===wt(o.geoPointValue.latitude)&&wt(i.geoPointValue.longitude)===wt(o.geoPointValue.longitude)}(t,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return wt(i.integerValue)===wt(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){const s=wt(i.doubleValue),a=wt(o.doubleValue);return s===a?qf(s)===qf(a):isNaN(s)&&isNaN(a)}return!1}(t,e);case 9:return Fa(t.arrayValue.values||[],e.arrayValue.values||[],Fr);case 10:case 11:return function(i,o){const s=i.mapValue.fields||{},a=o.mapValue.fields||{};if(LE(s)!==LE(a))return!1;for(const l in s)if(s.hasOwnProperty(l)&&(a[l]===void 0||!Fr(s[l],a[l])))return!1;return!0}(t,e);default:return ve(52216,{left:t})}}function Zc(t,e){return(t.values||[]).find(n=>Fr(n,e))!==void 0}function $a(t,e){if(t===e)return 0;const n=So(t),r=So(e);if(n!==r)return ke(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ke(t.booleanValue,e.booleanValue);case 2:return function(o,s){const a=wt(o.integerValue||o.doubleValue),l=wt(s.integerValue||s.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return jE(t.timestampValue,e.timestampValue);case 4:return jE(Xc(t),Xc(e));case 5:return Gv(t.stringValue,e.stringValue);case 6:return function(o,s){const a=Co(o),l=Co(s);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(o,s){const a=o.split("/"),l=s.split("/");for(let c=0;c<a.length&&c<l.length;c++){const u=ke(a[c],l[c]);if(u!==0)return u}return ke(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,s){const a=ke(wt(o.latitude),wt(s.latitude));return a!==0?a:ke(wt(o.longitude),wt(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return FE(t.arrayValue,e.arrayValue);case 10:return function(o,s){var h,g,x,w;const a=o.fields||{},l=s.fields||{},c=(h=a[Yf])==null?void 0:h.arrayValue,u=(g=l[Yf])==null?void 0:g.arrayValue,f=ke(((x=c==null?void 0:c.values)==null?void 0:x.length)||0,((w=u==null?void 0:u.values)==null?void 0:w.length)||0);return f!==0?f:FE(c,u)}(t.mapValue,e.mapValue);case 11:return function(o,s){if(o===bd.mapValue&&s===bd.mapValue)return 0;if(o===bd.mapValue)return 1;if(s===bd.mapValue)return-1;const a=o.fields||{},l=Object.keys(a),c=s.fields||{},u=Object.keys(c);l.sort(),u.sort();for(let f=0;f<l.length&&f<u.length;++f){const h=Gv(l[f],u[f]);if(h!==0)return h;const g=$a(a[l[f]],c[u[f]]);if(g!==0)return g}return ke(l.length,u.length)}(t.mapValue,e.mapValue);default:throw ve(23264,{he:n})}}function jE(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ke(t,e);const n=To(t),r=To(e),i=ke(n.seconds,r.seconds);return i!==0?i:ke(n.nanos,r.nanos)}function FE(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const o=$a(n[i],r[i]);if(o)return o}return ke(n.length,r.length)}function Ua(t){return Yv(t)}function Yv(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=To(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Co(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return fe.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const o of n.values||[])i?i=!1:r+=",",r+=Yv(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",o=!0;for(const s of r)o?o=!1:i+=",",i+=`${s}:${Yv(n.fields[s])}`;return i+"}"}(t.mapValue):ve(61005,{value:t})}function nf(t){switch(So(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=ep(t);return e?16+nf(e):16;case 5:return 2*t.stringValue.length;case 6:return Co(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,o)=>i+nf(o),0)}(t.arrayValue);case 10:case 11:return function(r){let i=0;return jo(r.fields,(o,s)=>{i+=o.length+nf(s)}),i}(t.mapValue);default:throw ve(13486,{value:t})}}function Kv(t){return!!t&&"integerValue"in t}function Z0(t){return!!t&&"arrayValue"in t}function $E(t){return!!t&&"nullValue"in t}function UE(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function rf(t){return!!t&&"mapValue"in t}function I3(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[sA])==null?void 0:r.stringValue)===lA}function vc(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return jo(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=vc(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=vc(t.arrayValue.values[n]);return e}return{...t}}function A3(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===aA}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wn{constructor(e){this.value=e}static empty(){return new wn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!rf(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=vc(n)}setAll(e){let n=Ut.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}s?r[a.lastSegment()]=vc(s):i.push(a.lastSegment())});const o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){const n=this.field(e.popLast());rf(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Fr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];rf(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){jo(n,(i,o)=>e[i]=o);for(const i of r)delete e[i]}clone(){return new wn(vc(this.value))}}function cA(t){const e=[];return jo(t.fields,(n,r)=>{const i=new Ut([n]);if(rf(r)){const o=cA(r.mapValue).fields;if(o.length===0)e.push(i);else for(const s of o)e.push(i.child(s))}else e.push(i)}),new Mn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nn{constructor(e,n,r,i,o,s,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new nn(e,0,_e.min(),_e.min(),_e.min(),wn.empty(),0)}static newFoundDocument(e,n,r,i){return new nn(e,1,n,_e.min(),r,i,0)}static newNoDocument(e,n){return new nn(e,2,n,_e.min(),_e.min(),wn.empty(),0)}static newUnknownDocument(e,n){return new nn(e,3,n,_e.min(),_e.min(),wn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(_e.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=wn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=wn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=_e.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof nn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new nn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kf{constructor(e,n){this.position=e,this.inclusive=n}}function BE(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const o=e[i],s=t.position[i];if(o.field.isKeyField()?r=fe.comparator(fe.fromName(s.referenceValue),n.key):r=$a(s,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function WE(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Fr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qf{constructor(e,n="asc"){this.field=e,this.dir=n}}function k3(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uA{}class At extends uA{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new N3(e,n,r):n==="array-contains"?new O3(e,r):n==="in"?new L3(e,r):n==="not-in"?new V3(e,r):n==="array-contains-any"?new j3(e,r):new At(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new D3(e,r):new M3(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison($a(n,this.value)):n!==null&&So(this.value)===So(n)&&this.matchesComparison($a(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ve(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class $r extends uA{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new $r(e,n)}matches(e){return dA(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function dA(t){return t.op==="and"}function fA(t){return R3(t)&&dA(t)}function R3(t){for(const e of t.filters)if(e instanceof $r)return!1;return!0}function Qv(t){if(t instanceof At)return t.field.canonicalString()+t.op.toString()+Ua(t.value);if(fA(t))return t.filters.map(e=>Qv(e)).join(",");{const e=t.filters.map(n=>Qv(n)).join(",");return`${t.op}(${e})`}}function hA(t,e){return t instanceof At?function(r,i){return i instanceof At&&r.op===i.op&&r.field.isEqual(i.field)&&Fr(r.value,i.value)}(t,e):t instanceof $r?function(r,i){return i instanceof $r&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,a)=>o&&hA(s,i.filters[a]),!0):!1}(t,e):void ve(19439)}function pA(t){return t instanceof At?function(n){return`${n.field.canonicalString()} ${n.op} ${Ua(n.value)}`}(t):t instanceof $r?function(n){return n.op.toString()+" {"+n.getFilters().map(pA).join(" ,")+"}"}(t):"Filter"}class N3 extends At{constructor(e,n,r){super(e,n,r),this.key=fe.fromName(r.referenceValue)}matches(e){const n=fe.comparator(e.key,this.key);return this.matchesComparison(n)}}class D3 extends At{constructor(e,n){super(e,"in",n),this.keys=mA("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class M3 extends At{constructor(e,n){super(e,"not-in",n),this.keys=mA("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function mA(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map(r=>fe.fromName(r.referenceValue))}class O3 extends At{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Z0(n)&&Zc(n.arrayValue,this.value)}}class L3 extends At{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Zc(this.value.arrayValue,n)}}class V3 extends At{constructor(e,n){super(e,"not-in",n)}matches(e){if(Zc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Zc(this.value.arrayValue,n)}}class j3 extends At{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Z0(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Zc(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F3{constructor(e,n=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.Te=null}}function zE(t,e=null,n=[],r=[],i=null,o=null,s=null){return new F3(t,e,n,r,i,o,s)}function ew(t){const e=Ee(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Qv(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),Zh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Ua(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Ua(r)).join(",")),e.Te=n}return e.Te}function tw(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!k3(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!hA(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!WE(t.startAt,e.startAt)&&WE(t.endAt,e.endAt)}function Xv(t){return fe.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tp{constructor(e,n=null,r=[],i=[],o=null,s="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=l,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function $3(t,e,n,r,i,o,s,a){return new tp(t,e,n,r,i,o,s,a)}function nw(t){return new tp(t)}function HE(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function U3(t){return t.collectionGroup!==null}function yc(t){const e=Ee(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const o of e.explicitOrderBy)e.Ie.push(o),n.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new Nt(Ut.comparator);return s.filters.forEach(l=>{l.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.Ie.push(new Qf(o,r))}),n.has(Ut.keyField().canonicalString())||e.Ie.push(new Qf(Ut.keyField(),r))}return e.Ie}function kr(t){const e=Ee(t);return e.Ee||(e.Ee=B3(e,yc(t))),e.Ee}function B3(t,e){if(t.limitType==="F")return zE(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const o=i.dir==="desc"?"asc":"desc";return new Qf(i.field,o)});const n=t.endAt?new Kf(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Kf(t.startAt.position,t.startAt.inclusive):null;return zE(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Jv(t,e,n){return new tp(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function np(t,e){return tw(kr(t),kr(e))&&t.limitType===e.limitType}function gA(t){return`${ew(kr(t))}|lt:${t.limitType}`}function Ks(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>pA(i)).join(", ")}]`),Zh(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Ua(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Ua(i)).join(",")),`Target(${r})`}(kr(t))}; limitType=${t.limitType})`}function rp(t,e){return e.isFoundDocument()&&function(r,i){const o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):fe.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(t,e)&&function(r,i){for(const o of yc(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const o of r.filters)if(!o.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(s,a,l){const c=BE(s,a,l);return s.inclusive?c<=0:c<0}(r.startAt,yc(r),i)||r.endAt&&!function(s,a,l){const c=BE(s,a,l);return s.inclusive?c>=0:c>0}(r.endAt,yc(r),i))}(t,e)}function W3(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function vA(t){return(e,n)=>{let r=!1;for(const i of yc(t)){const o=z3(i,e,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function z3(t,e,n){const r=t.field.isKeyField()?fe.comparator(e.key,n.key):function(o,s,a){const l=s.data.field(o),c=a.data.field(o);return l!==null&&c!==null?$a(l,c):ve(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return ve(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Is{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){jo(this.inner,(n,r)=>{for(const[i,o]of r)e(i,o)})}isEmpty(){return eA(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H3=new pt(fe.comparator);function wi(){return H3}const yA=new pt(fe.comparator);function rc(...t){let e=yA;for(const n of t)e=e.insert(n.key,n);return e}function wA(t){let e=yA;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function is(){return wc()}function xA(){return wc()}function wc(){return new Is(t=>t.toString(),(t,e)=>t.isEqual(e))}const q3=new pt(fe.comparator),G3=new Nt(fe.comparator);function Re(...t){let e=G3;for(const n of t)e=e.add(n);return e}const Y3=new Nt(ke);function K3(){return Y3}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rw(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:qf(e)?"-0":e}}function _A(t){return{integerValue:""+t}}function Q3(t,e){return b3(e)?_A(e):rw(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ip{constructor(){this._=void 0}}function X3(t,e,n){return t instanceof Xf?function(i,o){const s={fields:{[rA]:{stringValue:nA},[oA]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&J0(o)&&(o=ep(o)),o&&(s.fields[iA]=o),{mapValue:s}}(n,e):t instanceof eu?bA(t,e):t instanceof tu?TA(t,e):function(i,o){const s=EA(i,o),a=qE(s)+qE(i.Ae);return Kv(s)&&Kv(i.Ae)?_A(a):rw(i.serializer,a)}(t,e)}function J3(t,e,n){return t instanceof eu?bA(t,e):t instanceof tu?TA(t,e):n}function EA(t,e){return t instanceof Jf?function(r){return Kv(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}class Xf extends ip{}class eu extends ip{constructor(e){super(),this.elements=e}}function bA(t,e){const n=CA(e);for(const r of t.elements)n.some(i=>Fr(i,r))||n.push(r);return{arrayValue:{values:n}}}class tu extends ip{constructor(e){super(),this.elements=e}}function TA(t,e){let n=CA(e);for(const r of t.elements)n=n.filter(i=>!Fr(i,r));return{arrayValue:{values:n}}}class Jf extends ip{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function qE(t){return wt(t.integerValue||t.doubleValue)}function CA(t){return Z0(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function Z3(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof eu&&i instanceof eu||r instanceof tu&&i instanceof tu?Fa(r.elements,i.elements,Fr):r instanceof Jf&&i instanceof Jf?Fr(r.Ae,i.Ae):r instanceof Xf&&i instanceof Xf}(t.transform,e.transform)}class eF{constructor(e,n){this.version=e,this.transformResults=n}}class cr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new cr}static exists(e){return new cr(void 0,e)}static updateTime(e){return new cr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function of(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class op{}function SA(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new iw(t.key,cr.none()):new _u(t.key,t.data,cr.none());{const n=t.data,r=wn.empty();let i=new Nt(Ut.comparator);for(let o of e.fields)if(!i.has(o)){let s=n.field(o);s===null&&o.length>1&&(o=o.popLast(),s=n.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new Fo(t.key,r,new Mn(i.toArray()),cr.none())}}function tF(t,e,n){t instanceof _u?function(i,o,s){const a=i.value.clone(),l=YE(i.fieldTransforms,o,s.transformResults);a.setAll(l),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Fo?function(i,o,s){if(!of(i.precondition,o))return void o.convertToUnknownDocument(s.version);const a=YE(i.fieldTransforms,o,s.transformResults),l=o.data;l.setAll(PA(i)),l.setAll(a),o.convertToFoundDocument(s.version,l).setHasCommittedMutations()}(t,e,n):function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function xc(t,e,n,r){return t instanceof _u?function(o,s,a,l){if(!of(o.precondition,s))return a;const c=o.value.clone(),u=KE(o.fieldTransforms,l,s);return c.setAll(u),s.convertToFoundDocument(s.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof Fo?function(o,s,a,l){if(!of(o.precondition,s))return a;const c=KE(o.fieldTransforms,l,s),u=s.data;return u.setAll(PA(o)),u.setAll(c),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),a===null?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(f=>f.field))}(t,e,n,r):function(o,s,a){return of(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a}(t,e,n)}function nF(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),o=EA(r.transform,i||null);o!=null&&(n===null&&(n=wn.empty()),n.set(r.field,o))}return n||null}function GE(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Fa(r,i,(o,s)=>Z3(o,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class _u extends op{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Fo extends op{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function PA(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function YE(t,e,n){const r=new Map;We(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let i=0;i<n.length;i++){const o=t[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,J3(s,a,n[i]))}return r}function KE(t,e,n){const r=new Map;for(const i of t){const o=i.transform,s=n.data.field(i.field);r.set(i.field,X3(o,s,e))}return r}class iw extends op{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class rF extends op{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iF{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&tF(o,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=xc(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=xc(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=xA();return this.mutations.forEach(i=>{const o=e.get(i.key),s=o.overlayedDocument;let a=this.applyToLocalView(s,o.mutatedFields);a=n.has(i.key)?null:a;const l=SA(s,a);l!==null&&r.set(i.key,l),s.isValidDocument()||s.convertToNoDocument(_e.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Re())}isEqual(e){return this.batchId===e.batchId&&Fa(this.mutations,e.mutations,(n,r)=>GE(n,r))&&Fa(this.baseMutations,e.baseMutations,(n,r)=>GE(n,r))}}class ow{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){We(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let i=function(){return q3}();const o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new ow(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let oF=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sF{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Tt,Le;function aF(t){switch(t){case G.OK:return ve(64938);case G.CANCELLED:case G.UNKNOWN:case G.DEADLINE_EXCEEDED:case G.RESOURCE_EXHAUSTED:case G.INTERNAL:case G.UNAVAILABLE:case G.UNAUTHENTICATED:return!1;case G.INVALID_ARGUMENT:case G.NOT_FOUND:case G.ALREADY_EXISTS:case G.PERMISSION_DENIED:case G.FAILED_PRECONDITION:case G.ABORTED:case G.OUT_OF_RANGE:case G.UNIMPLEMENTED:case G.DATA_LOSS:return!0;default:return ve(15467,{code:t})}}function IA(t){if(t===void 0)return vi("GRPC error has no .code"),G.UNKNOWN;switch(t){case Tt.OK:return G.OK;case Tt.CANCELLED:return G.CANCELLED;case Tt.UNKNOWN:return G.UNKNOWN;case Tt.DEADLINE_EXCEEDED:return G.DEADLINE_EXCEEDED;case Tt.RESOURCE_EXHAUSTED:return G.RESOURCE_EXHAUSTED;case Tt.INTERNAL:return G.INTERNAL;case Tt.UNAVAILABLE:return G.UNAVAILABLE;case Tt.UNAUTHENTICATED:return G.UNAUTHENTICATED;case Tt.INVALID_ARGUMENT:return G.INVALID_ARGUMENT;case Tt.NOT_FOUND:return G.NOT_FOUND;case Tt.ALREADY_EXISTS:return G.ALREADY_EXISTS;case Tt.PERMISSION_DENIED:return G.PERMISSION_DENIED;case Tt.FAILED_PRECONDITION:return G.FAILED_PRECONDITION;case Tt.ABORTED:return G.ABORTED;case Tt.OUT_OF_RANGE:return G.OUT_OF_RANGE;case Tt.UNIMPLEMENTED:return G.UNIMPLEMENTED;case Tt.DATA_LOSS:return G.DATA_LOSS;default:return ve(39323,{code:t})}}(Le=Tt||(Tt={}))[Le.OK=0]="OK",Le[Le.CANCELLED=1]="CANCELLED",Le[Le.UNKNOWN=2]="UNKNOWN",Le[Le.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Le[Le.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Le[Le.NOT_FOUND=5]="NOT_FOUND",Le[Le.ALREADY_EXISTS=6]="ALREADY_EXISTS",Le[Le.PERMISSION_DENIED=7]="PERMISSION_DENIED",Le[Le.UNAUTHENTICATED=16]="UNAUTHENTICATED",Le[Le.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Le[Le.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Le[Le.ABORTED=10]="ABORTED",Le[Le.OUT_OF_RANGE=11]="OUT_OF_RANGE",Le[Le.UNIMPLEMENTED=12]="UNIMPLEMENTED",Le[Le.INTERNAL=13]="INTERNAL",Le[Le.UNAVAILABLE=14]="UNAVAILABLE",Le[Le.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lF(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cF=new mo([4294967295,4294967295],0);function QE(t){const e=lF().encode(t),n=new WI;return n.update(e),new Uint8Array(n.digest())}function XE(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new mo([n,r],0),new mo([i,o],0)]}class sw{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new ic(`Invalid padding: ${n}`);if(r<0)throw new ic(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new ic(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new ic(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=mo.fromNumber(this.ge)}ye(e,n,r){let i=e.add(n.multiply(mo.fromNumber(r)));return i.compare(cF)===1&&(i=new mo([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=QE(e),[r,i]=XE(n);for(let o=0;o<this.hashCount;o++){const s=this.ye(r,i,o);if(!this.we(s))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new sw(o,i,n);return r.forEach(a=>s.insert(a)),s}insert(e){if(this.ge===0)return;const n=QE(e),[r,i]=XE(n);for(let o=0;o<this.hashCount;o++){const s=this.ye(r,i,o);this.Se(s)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class ic extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sp{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Eu.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new sp(_e.min(),i,new pt(ke),wi(),Re())}}class Eu{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Eu(r,n,Re(),Re(),Re())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sf{constructor(e,n,r,i){this.be=e,this.removedTargetIds=n,this.key=r,this.De=i}}class AA{constructor(e,n){this.targetId=e,this.Ce=n}}class kA{constructor(e,n,r=qt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class JE{constructor(){this.ve=0,this.Fe=ZE(),this.Me=qt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Re(),n=Re(),r=Re();return this.Fe.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:ve(38017,{changeType:o})}}),new Eu(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=ZE()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,We(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class uF{constructor(e){this.Ge=e,this.ze=new Map,this.je=wi(),this.Je=Td(),this.He=Td(),this.Ye=new pt(ke)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:ve(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach((r,i)=>{this.rt(i)&&n(i)})}st(e){const n=e.targetId,r=e.Ce.count,i=this.ot(n);if(i){const o=i.target;if(Xv(o))if(r===0){const s=new fe(o.path);this.et(n,s,nn.newNoDocument(s,_e.min()))}else We(r===1,20013,{expectedCount:r});else{const s=this._t(n);if(s!==r){const a=this.ut(e),l=a?this.ct(a,e,s):1;if(l!==0){this.it(n);const c=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,c)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=n;let s,a;try{s=Co(r).toUint8Array()}catch(l){if(l instanceof tA)return ja("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new sw(s,i,o)}catch(l){return ja(l instanceof ic?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.ge===0?null:a}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let i=0;return r.forEach(o=>{const s=this.Ge.ht(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.et(n,o,null),i++)}),i}Tt(e){const n=new Map;this.ze.forEach((o,s)=>{const a=this.ot(s);if(a){if(o.current&&Xv(a.target)){const l=new fe(a.target.path);this.It(l).has(s)||this.Et(s,l)||this.et(s,l,nn.newNoDocument(l,e))}o.Be&&(n.set(s,o.ke()),o.qe())}});let r=Re();this.He.forEach((o,s)=>{let a=!0;s.forEachWhile(l=>{const c=this.ot(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(o))}),this.je.forEach((o,s)=>s.setReadTime(e));const i=new sp(e,n,this.Ye,this.je,r);return this.je=wi(),this.Je=Td(),this.He=Td(),this.Ye=new pt(ke),i}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const i=this.nt(e);this.Et(e,n)?i.Qe(n,1):i.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new JE,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new Nt(ke),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new Nt(ke),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||ee("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new JE),this.Ge.getRemoteKeysForTarget(e).forEach(n=>{this.et(e,n,null)})}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Td(){return new pt(fe.comparator)}function ZE(){return new pt(fe.comparator)}const dF=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),fF=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),hF=(()=>({and:"AND",or:"OR"}))();class pF{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Zv(t,e){return t.useProto3Json||Zh(e)?e:{value:e}}function Zf(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function RA(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function mF(t,e){return Zf(t,e.toTimestamp())}function Rr(t){return We(!!t,49232),_e.fromTimestamp(function(n){const r=To(n);return new it(r.seconds,r.nanos)}(t))}function aw(t,e){return ey(t,e).canonicalString()}function ey(t,e){const n=function(i){return new rt(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function NA(t){const e=rt.fromString(t);return We(VA(e),10190,{key:e.toString()}),e}function ty(t,e){return aw(t.databaseId,e.path)}function Jm(t,e){const n=NA(e);if(n.get(1)!==t.databaseId.projectId)throw new ie(G.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new ie(G.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new fe(MA(n))}function DA(t,e){return aw(t.databaseId,e)}function gF(t){const e=NA(t);return e.length===4?rt.emptyPath():MA(e)}function ny(t){return new rt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function MA(t){return We(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function eb(t,e,n){return{name:ty(t,e),fields:n.value.mapValue.fields}}function vF(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:ve(39313,{state:c})}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(c,u){return c.useProto3Json?(We(u===void 0||typeof u=="string",58123),qt.fromBase64String(u||"")):(We(u===void 0||u instanceof Buffer||u instanceof Uint8Array,16193),qt.fromUint8Array(u||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(c){const u=c.code===void 0?G.UNKNOWN:IA(c.code);return new ie(u,c.message||"")}(s);n=new kA(r,i,o,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Jm(t,r.document.name),o=Rr(r.document.updateTime),s=r.document.createTime?Rr(r.document.createTime):_e.min(),a=new wn({mapValue:{fields:r.document.fields}}),l=nn.newFoundDocument(i,o,s,a),c=r.targetIds||[],u=r.removedTargetIds||[];n=new sf(c,u,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Jm(t,r.document),o=r.readTime?Rr(r.readTime):_e.min(),s=nn.newNoDocument(i,o),a=r.removedTargetIds||[];n=new sf([],a,s.key,s)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Jm(t,r.document),o=r.removedTargetIds||[];n=new sf([],o,i,null)}else{if(!("filter"in e))return ve(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:o}=r,s=new sF(i,o),a=r.targetId;n=new AA(a,s)}}return n}function yF(t,e){let n;if(e instanceof _u)n={update:eb(t,e.key,e.value)};else if(e instanceof iw)n={delete:ty(t,e.key)};else if(e instanceof Fo)n={update:eb(t,e.key,e.data),updateMask:PF(e.fieldMask)};else{if(!(e instanceof rF))return ve(16599,{Vt:e.type});n={verify:ty(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(o,s){const a=s.transform;if(a instanceof Xf)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof eu)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof tu)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Jf)return{fieldPath:s.field.canonicalString(),increment:a.Ae};throw ve(20930,{transform:s.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:mF(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:ve(27497)}(t,e.precondition)),n}function wF(t,e){return t&&t.length>0?(We(e!==void 0,14353),t.map(n=>function(i,o){let s=i.updateTime?Rr(i.updateTime):Rr(o);return s.isEqual(_e.min())&&(s=Rr(o)),new eF(s,i.transformResults||[])}(n,e))):[]}function xF(t,e){return{documents:[DA(t,e.path)]}}function _F(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=DA(t,i);const o=function(c){if(c.length!==0)return LA($r.create(c,"and"))}(e.filters);o&&(n.structuredQuery.where=o);const s=function(c){if(c.length!==0)return c.map(u=>function(h){return{field:Qs(h.field),direction:TF(h.dir)}}(u))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const a=Zv(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{ft:n,parent:i}}function EF(t){let e=gF(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){We(r===1,65062);const u=n.from[0];u.allDescendants?i=u.collectionId:e=e.child(u.collectionId)}let o=[];n.where&&(o=function(f){const h=OA(f);return h instanceof $r&&fA(h)?h.getFilters():[h]}(n.where));let s=[];n.orderBy&&(s=function(f){return f.map(h=>function(x){return new Qf(Xs(x.field),function(b){switch(b){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(x.direction))}(h))}(n.orderBy));let a=null;n.limit&&(a=function(f){let h;return h=typeof f=="object"?f.value:f,Zh(h)?null:h}(n.limit));let l=null;n.startAt&&(l=function(f){const h=!!f.before,g=f.values||[];return new Kf(g,h)}(n.startAt));let c=null;return n.endAt&&(c=function(f){const h=!f.before,g=f.values||[];return new Kf(g,h)}(n.endAt)),$3(e,i,s,o,a,"F",l,c)}function bF(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ve(28987,{purpose:i})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function OA(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Xs(n.unaryFilter.field);return At.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Xs(n.unaryFilter.field);return At.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Xs(n.unaryFilter.field);return At.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=Xs(n.unaryFilter.field);return At.create(s,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ve(61313);default:return ve(60726)}}(t):t.fieldFilter!==void 0?function(n){return At.create(Xs(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ve(58110);default:return ve(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return $r.create(n.compositeFilter.filters.map(r=>OA(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return ve(1026)}}(n.compositeFilter.op))}(t):ve(30097,{filter:t})}function TF(t){return dF[t]}function CF(t){return fF[t]}function SF(t){return hF[t]}function Qs(t){return{fieldPath:t.canonicalString()}}function Xs(t){return Ut.fromServerFormat(t.fieldPath)}function LA(t){return t instanceof At?function(n){if(n.op==="=="){if(UE(n.value))return{unaryFilter:{field:Qs(n.field),op:"IS_NAN"}};if($E(n.value))return{unaryFilter:{field:Qs(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(UE(n.value))return{unaryFilter:{field:Qs(n.field),op:"IS_NOT_NAN"}};if($E(n.value))return{unaryFilter:{field:Qs(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Qs(n.field),op:CF(n.op),value:n.value}}}(t):t instanceof $r?function(n){const r=n.getFilters().map(i=>LA(i));return r.length===1?r[0]:{compositeFilter:{op:SF(n.op),filters:r}}}(t):ve(54877,{filter:t})}function PF(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function VA(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eo{constructor(e,n,r,i,o=_e.min(),s=_e.min(),a=qt.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new eo(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new eo(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new eo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new eo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IF{constructor(e){this.yt=e}}function AF(t){const e=EF({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Jv(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kF{constructor(){this.Cn=new RF}addToCollectionParentIndex(e,n){return this.Cn.add(n),H.resolve()}getCollectionParents(e,n){return H.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return H.resolve()}deleteFieldIndex(e,n){return H.resolve()}deleteAllFieldIndexes(e){return H.resolve()}createTargetIndexes(e,n){return H.resolve()}getDocumentsMatchingTarget(e,n){return H.resolve(null)}getIndexType(e,n){return H.resolve(0)}getFieldIndexes(e,n){return H.resolve([])}getNextCollectionGroupToUpdate(e){return H.resolve(null)}getMinOffset(e,n){return H.resolve(bo.min())}getMinOffsetFromCollectionGroup(e,n){return H.resolve(bo.min())}updateCollectionGroup(e,n,r){return H.resolve()}updateIndexEntries(e,n){return H.resolve()}}class RF{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Nt(rt.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Nt(rt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tb={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},jA=41943040;class vn{static withCacheSize(e){return new vn(e,vn.DEFAULT_COLLECTION_PERCENTILE,vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */vn.DEFAULT_COLLECTION_PERCENTILE=10,vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,vn.DEFAULT=new vn(jA,vn.DEFAULT_COLLECTION_PERCENTILE,vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),vn.DISABLED=new vn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ba{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Ba(0)}static cr(){return new Ba(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nb="LruGarbageCollector",NF=1048576;function rb([t,e],[n,r]){const i=ke(t,n);return i===0?ke(e,r):i}class DF{constructor(e){this.Ir=e,this.buffer=new Nt(rb),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();rb(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class MF{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){ee(nb,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){dl(n)?ee(nb,"Ignoring IndexedDB error during garbage collection: ",n):await ul(n)}await this.Vr(3e5)})}}class OF{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return H.resolve(Jh.ce);const r=new DF(n);return this.mr.forEachTarget(e,i=>r.Ar(i.sequenceNumber)).next(()=>this.mr.pr(e,i=>r.Ar(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ee("LruGarbageCollector","Garbage collection skipped; disabled"),H.resolve(tb)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(ee("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),tb):this.yr(e,n))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,i,o,s,a,l,c;const u=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(f=>(f>this.params.maximumSequenceNumbersToCollect?(ee("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${f}`),i=this.params.maximumSequenceNumbersToCollect):i=f,s=Date.now(),this.nthSequenceNumber(e,i))).next(f=>(r=f,a=Date.now(),this.removeTargets(e,r,n))).next(f=>(o=f,l=Date.now(),this.removeOrphanedDocuments(e,r))).next(f=>(c=Date.now(),Ys()<=Ae.DEBUG&&ee("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-u}ms
	Determined least recently used ${i} in `+(a-s)+`ms
	Removed ${o} targets in `+(l-a)+`ms
	Removed ${f} documents in `+(c-l)+`ms
Total Duration: ${c-u}ms`),H.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:f})))}}function LF(t,e){return new OF(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VF{constructor(){this.changes=new Is(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,nn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?H.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jF{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FF{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&xc(r.mutation,i,Mn.empty(),it.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Re()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Re()){const i=is();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(o=>{let s=rc();return o.forEach((a,l)=>{s=s.insert(a,l.overlayedDocument)}),s}))}getOverlayedDocuments(e,n){const r=is();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Re()))}populateOverlays(e,n,r){const i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{n.set(s,a)})})}computeViews(e,n,r,i){let o=wi();const s=wc(),a=function(){return wc()}();return n.forEach((l,c)=>{const u=r.get(c.key);i.has(c.key)&&(u===void 0||u.mutation instanceof Fo)?o=o.insert(c.key,c):u!==void 0?(s.set(c.key,u.mutation.getFieldMask()),xc(u.mutation,c,u.mutation.getFieldMask(),it.now())):s.set(c.key,Mn.empty())}),this.recalculateAndSaveOverlays(e,o).next(l=>(l.forEach((c,u)=>s.set(c,u)),n.forEach((c,u)=>a.set(c,new jF(u,s.get(c)??null))),a))}recalculateAndSaveOverlays(e,n){const r=wc();let i=new pt((s,a)=>s-a),o=Re();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(s=>{for(const a of s)a.keys().forEach(l=>{const c=n.get(l);if(c===null)return;let u=r.get(l)||Mn.empty();u=a.applyToLocalView(c,u),r.set(l,u);const f=(i.get(a.batchId)||Re()).add(l);i=i.insert(a.batchId,f)})}).next(()=>{const s=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),c=l.key,u=l.value,f=xA();u.forEach(h=>{if(!o.has(h)){const g=SA(n.get(h),r.get(h));g!==null&&f.set(h,g),o=o.add(h)}}),s.push(this.documentOverlayCache.saveOverlays(e,c,f))}return H.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(s){return fe.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):U3(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(o=>{const s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):H.resolve(is());let a=Qc,l=o;return s.next(c=>H.forEach(c,(u,f)=>(a<f.largestBatchId&&(a=f.largestBatchId),o.get(u)?H.resolve():this.remoteDocumentCache.getEntry(e,u).next(h=>{l=l.insert(u,h)}))).next(()=>this.populateOverlays(e,c,o)).next(()=>this.computeViews(e,l,c,Re())).next(u=>({batchId:a,changes:wA(u)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new fe(n)).next(r=>{let i=rc();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const o=n.collectionGroup;let s=rc();return this.indexManager.getCollectionParents(e,o).next(a=>H.forEach(a,l=>{const c=function(f,h){return new tp(h,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,l.child(o));return this.getDocumentsMatchingCollectionQuery(e,c,r,i).next(u=>{u.forEach((f,h)=>{s=s.insert(f,h)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,i))).next(s=>{o.forEach((l,c)=>{const u=c.getKey();s.get(u)===null&&(s=s.insert(u,nn.newInvalidDocument(u)))});let a=rc();return s.forEach((l,c)=>{const u=o.get(l);u!==void 0&&xc(u.mutation,c,Mn.empty(),it.now()),rp(n,c)&&(a=a.insert(l,c))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $F{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return H.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Rr(i.createTime)}}(n)),H.resolve()}getNamedQuery(e,n){return H.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,function(i){return{name:i.name,query:AF(i.bundledQuery),readTime:Rr(i.readTime)}}(n)),H.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UF{constructor(){this.overlays=new pt(fe.comparator),this.qr=new Map}getOverlay(e,n){return H.resolve(this.overlays.get(n))}getOverlays(e,n){const r=is();return H.forEach(n,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,o)=>{this.St(e,n,o)}),H.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.qr.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.qr.delete(r)),H.resolve()}getOverlaysForCollection(e,n,r){const i=is(),o=n.length+1,s=new fe(n.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){const l=a.getNext().value,c=l.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===o&&l.largestBatchId>r&&i.set(l.getKey(),l)}return H.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new pt((c,u)=>c-u);const s=this.overlays.getIterator();for(;s.hasNext();){const c=s.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let u=o.get(c.largestBatchId);u===null&&(u=is(),o=o.insert(c.largestBatchId,u)),u.set(c.getKey(),c)}}const a=is(),l=o.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,u)=>a.set(c,u)),!(a.size()>=i)););return H.resolve(a)}St(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const s=this.qr.get(i.largestBatchId).delete(r.key);this.qr.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new oF(n,r));let o=this.qr.get(n);o===void 0&&(o=Re(),this.qr.set(n,o)),this.qr.set(n,o.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BF{constructor(){this.sessionToken=qt.EMPTY_BYTE_STRING}getSessionToken(e){return H.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,H.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lw{constructor(){this.Qr=new Nt(Mt.$r),this.Ur=new Nt(Mt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new Mt(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Gr(new Mt(e,n))}zr(e,n){e.forEach(r=>this.removeReference(r,n))}jr(e){const n=new fe(new rt([])),r=new Mt(n,e),i=new Mt(n,e+1),o=[];return this.Ur.forEachInRange([r,i],s=>{this.Gr(s),o.push(s.key)}),o}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new fe(new rt([])),r=new Mt(n,e),i=new Mt(n,e+1);let o=Re();return this.Ur.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){const n=new Mt(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Mt{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return fe.comparator(e.key,n.key)||ke(e.Yr,n.Yr)}static Kr(e,n){return ke(e.Yr,n.Yr)||fe.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WF{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Nt(Mt.$r)}checkEmpty(e){return H.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const o=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new iF(o,n,r,i);this.mutationQueue.push(s);for(const a of i)this.Zr=this.Zr.add(new Mt(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return H.resolve(s)}lookupMutationBatch(e,n){return H.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.ei(r),o=i<0?0:i;return H.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return H.resolve(this.mutationQueue.length===0?X0:this.tr-1)}getAllMutationBatches(e){return H.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Mt(n,0),i=new Mt(n,Number.POSITIVE_INFINITY),o=[];return this.Zr.forEachInRange([r,i],s=>{const a=this.Xr(s.Yr);o.push(a)}),H.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Nt(ke);return n.forEach(i=>{const o=new Mt(i,0),s=new Mt(i,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([o,s],a=>{r=r.add(a.Yr)})}),H.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let o=r;fe.isDocumentKey(o)||(o=o.child(""));const s=new Mt(new fe(o),0);let a=new Nt(ke);return this.Zr.forEachWhile(l=>{const c=l.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(a=a.add(l.Yr)),!0)},s),H.resolve(this.ti(a))}ti(e){const n=[];return e.forEach(r=>{const i=this.Xr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){We(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return H.forEach(n.mutations,i=>{const o=new Mt(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Zr=r})}ir(e){}containsKey(e,n){const r=new Mt(n,0),i=this.Zr.firstAfterOrEqual(r);return H.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,H.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zF{constructor(e){this.ri=e,this.docs=function(){return new pt(fe.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),o=i?i.size:0,s=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return H.resolve(r?r.document.mutableCopy():nn.newInvalidDocument(n))}getEntries(e,n){let r=wi();return n.forEach(i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():nn.newInvalidDocument(i))}),H.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=wi();const s=n.path,a=new fe(s.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:c,value:{document:u}}=l.getNext();if(!s.isPrefixOf(c.path))break;c.path.length>s.length+1||w3(y3(u),r)<=0||(i.has(u.key)||rp(n,u))&&(o=o.insert(u.key,u.mutableCopy()))}return H.resolve(o)}getAllFromCollectionGroup(e,n,r,i){ve(9500)}ii(e,n){return H.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new HF(this)}getSize(e){return H.resolve(this.size)}}class HF extends VF{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.Nr.addEntry(e,i)):this.Nr.removeEntry(r)}),H.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qF{constructor(e){this.persistence=e,this.si=new Is(n=>ew(n),tw),this.lastRemoteSnapshotVersion=_e.min(),this.highestTargetId=0,this.oi=0,this._i=new lw,this.targetCount=0,this.ai=Ba.ur()}forEachTarget(e,n){return this.si.forEach((r,i)=>n(i)),H.resolve()}getLastRemoteSnapshotVersion(e){return H.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return H.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),H.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),H.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new Ba(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,H.resolve()}updateTargetData(e,n){return this.Pr(n),H.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,H.resolve()}removeTargets(e,n,r){let i=0;const o=[];return this.si.forEach((s,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.si.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),H.waitFor(o).next(()=>i)}getTargetCount(e){return H.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return H.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),H.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),H.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),H.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return H.resolve(r)}containsKey(e,n){return H.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FA{constructor(e,n){this.ui={},this.overlays={},this.ci=new Jh(0),this.li=!1,this.li=!0,this.hi=new BF,this.referenceDelegate=e(this),this.Pi=new qF(this),this.indexManager=new kF,this.remoteDocumentCache=function(i){return new zF(i)}(r=>this.referenceDelegate.Ti(r)),this.serializer=new IF(n),this.Ii=new $F(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new UF,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new WF(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){ee("MemoryPersistence","Starting transaction:",e);const i=new GF(this.ci.next());return this.referenceDelegate.Ei(),r(i).next(o=>this.referenceDelegate.di(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Ai(e,n){return H.or(Object.values(this.ui).map(r=>()=>r.containsKey(e,n)))}}class GF extends _3{constructor(e){super(),this.currentSequenceNumber=e}}class cw{constructor(e){this.persistence=e,this.Ri=new lw,this.Vi=null}static mi(e){return new cw(e)}get fi(){if(this.Vi)return this.Vi;throw ve(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),H.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),H.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),H.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach(i=>this.fi.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(o=>this.fi.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return H.forEach(this.fi,r=>{const i=fe.fromPath(r);return this.gi(e,i).next(o=>{o||n.removeEntry(i,_e.min())})}).next(()=>(this.Vi=null,n.apply(e)))}updateLimboDocument(e,n){return this.gi(e,n).next(r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())})}Ti(e){return 0}gi(e,n){return H.or([()=>H.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class eh{constructor(e,n){this.persistence=e,this.pi=new Is(r=>T3(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=LF(this,n)}static mi(e,n){return new eh(e,n)}Ei(){}di(e){return H.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}wr(e){let n=0;return this.pr(e,r=>{n++}).next(()=>n)}pr(e,n){return H.forEach(this.pi,(r,i)=>this.br(e,r,i).next(o=>o?H.resolve():n(i)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),o=i.newChangeBuffer();return i.ii(e,s=>this.br(e,s,n).next(a=>{a||(r++,o.removeEntry(s,_e.min()))})).next(()=>o.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),H.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),H.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),H.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),H.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=nf(e.data.value)),n}br(e,n,r){return H.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.pi.get(n);return H.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uw{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=i}static As(e,n){let r=Re(),i=Re();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new uw(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YF{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KF{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return $5()?8:E3(sn())>0?6:4}()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,i){const o={result:null};return this.ys(e,n).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.ws(e,n,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;const s=new YF;return this.Ss(e,n,s).next(a=>{if(o.result=a,this.Vs)return this.bs(e,n,s,a.size)})}).next(()=>o.result)}bs(e,n,r,i){return r.documentReadCount<this.fs?(Ys()<=Ae.DEBUG&&ee("QueryEngine","SDK will not create cache indexes for query:",Ks(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),H.resolve()):(Ys()<=Ae.DEBUG&&ee("QueryEngine","Query:",Ks(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.gs*i?(Ys()<=Ae.DEBUG&&ee("QueryEngine","The SDK decides to create cache indexes for query:",Ks(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,kr(n))):H.resolve())}ys(e,n){if(HE(n))return H.resolve(null);let r=kr(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Jv(n,null,"F"),r=kr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const s=Re(...o);return this.ps.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const c=this.Ds(n,a);return this.Cs(n,c,s,l.readTime)?this.ys(e,Jv(n,null,"F")):this.vs(e,c,n,l)}))})))}ws(e,n,r,i){return HE(n)||i.isEqual(_e.min())?H.resolve(null):this.ps.getDocuments(e,r).next(o=>{const s=this.Ds(n,o);return this.Cs(n,s,r,i)?H.resolve(null):(Ys()<=Ae.DEBUG&&ee("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Ks(n)),this.vs(e,s,n,v3(i,Qc)).next(a=>a))})}Ds(e,n){let r=new Nt(vA(e));return n.forEach((i,o)=>{rp(e,o)&&(r=r.add(o))}),r}Cs(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Ss(e,n,r){return Ys()<=Ae.DEBUG&&ee("QueryEngine","Using full collection scan to execute query:",Ks(n)),this.ps.getDocumentsMatchingQuery(e,n,bo.min(),r)}vs(e,n,r,i){return this.ps.getDocumentsMatchingQuery(e,r,i).next(o=>(n.forEach(s=>{o=o.insert(s.key,s)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dw="LocalStore",QF=3e8;class XF{constructor(e,n,r,i){this.persistence=e,this.Fs=n,this.serializer=i,this.Ms=new pt(ke),this.xs=new Is(o=>ew(o),tw),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new FF(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ms))}}function JF(t,e,n,r){return new XF(t,e,n,r)}async function $A(t,e){const n=Ee(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n.Bs(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{const s=[],a=[];let l=Re();for(const c of i){s.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}for(const c of o){a.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}return n.localDocuments.getDocuments(r,l).next(c=>({Ls:c,removedBatchIds:s,addedBatchIds:a}))})})}function ZF(t,e){const n=Ee(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),o=n.Ns.newChangeBuffer({trackRemovals:!0});return function(a,l,c,u){const f=c.batch,h=f.keys();let g=H.resolve();return h.forEach(x=>{g=g.next(()=>u.getEntry(l,x)).next(w=>{const b=c.docVersions.get(x);We(b!==null,48541),w.version.compareTo(b)<0&&(f.applyToRemoteDocument(w,c),w.isValidDocument()&&(w.setReadTime(c.commitVersion),u.addEntry(w)))})}),g.next(()=>a.mutationQueue.removeMutationBatch(l,f))}(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=Re();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(l=l.add(a.batch.mutations[c].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function UA(t){const e=Ee(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Pi.getLastRemoteSnapshotVersion(n))}function e6(t,e){const n=Ee(t),r=e.snapshotVersion;let i=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const s=n.Ns.newChangeBuffer({trackRemovals:!0});i=n.Ms;const a=[];e.targetChanges.forEach((u,f)=>{const h=i.get(f);if(!h)return;a.push(n.Pi.removeMatchingKeys(o,u.removedDocuments,f).next(()=>n.Pi.addMatchingKeys(o,u.addedDocuments,f)));let g=h.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(f)!==null?g=g.withResumeToken(qt.EMPTY_BYTE_STRING,_e.min()).withLastLimboFreeSnapshotVersion(_e.min()):u.resumeToken.approximateByteSize()>0&&(g=g.withResumeToken(u.resumeToken,r)),i=i.insert(f,g),function(w,b,v){return w.resumeToken.approximateByteSize()===0||b.snapshotVersion.toMicroseconds()-w.snapshotVersion.toMicroseconds()>=QF?!0:v.addedDocuments.size+v.modifiedDocuments.size+v.removedDocuments.size>0}(h,g,u)&&a.push(n.Pi.updateTargetData(o,g))});let l=wi(),c=Re();if(e.documentUpdates.forEach(u=>{e.resolvedLimboDocuments.has(u)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(o,u))}),a.push(t6(o,s,e.documentUpdates).next(u=>{l=u.ks,c=u.qs})),!r.isEqual(_e.min())){const u=n.Pi.getLastRemoteSnapshotVersion(o).next(f=>n.Pi.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(u)}return H.waitFor(a).next(()=>s.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,l,c)).next(()=>l)}).then(o=>(n.Ms=i,o))}function t6(t,e,n){let r=Re(),i=Re();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let s=wi();return n.forEach((a,l)=>{const c=o.get(a);l.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(_e.min())?(e.removeEntry(a,l.readTime),s=s.insert(a,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(l),s=s.insert(a,l)):ee(dw,"Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",l.version)}),{ks:s,qs:i}})}function n6(t,e){const n=Ee(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=X0),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function r6(t,e){const n=Ee(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Pi.getTargetData(r,e).next(o=>o?(i=o,H.resolve(i)):n.Pi.allocateTargetId(r).next(s=>(i=new eo(e,s,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.Ms.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r})}async function ry(t,e,n){const r=Ee(t),i=r.Ms.get(e),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i))}catch(s){if(!dl(s))throw s;ee(dw,`Failed to update sequence numbers for target ${e}: ${s}`)}r.Ms=r.Ms.remove(e),r.xs.delete(i.target)}function ib(t,e,n){const r=Ee(t);let i=_e.min(),o=Re();return r.persistence.runTransaction("Execute query","readwrite",s=>function(l,c,u){const f=Ee(l),h=f.xs.get(u);return h!==void 0?H.resolve(f.Ms.get(h)):f.Pi.getTargetData(c,u)}(r,s,kr(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(s,a.targetId).next(l=>{o=l})}).next(()=>r.Fs.getDocumentsMatchingQuery(s,e,n?i:_e.min(),n?o:Re())).next(a=>(i6(r,W3(e),a),{documents:a,Qs:o})))}function i6(t,e,n){let r=t.Os.get(e)||_e.min();n.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.Os.set(e,r)}class ob{constructor(){this.activeTargetIds=K3()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class o6{constructor(){this.Mo=new ob,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new ob,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s6{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sb="ConnectivityMonitor";class ab{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ee(sb,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){ee(sb,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Cd=null;function iy(){return Cd===null?Cd=function(){return 268435456+Math.round(2147483648*Math.random())}():Cd++,"0x"+Cd.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zm="RestConnection",a6={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class l6{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${i}`,this.Wo=this.databaseId.database===Gf?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Go(e,n,r,i,o){const s=iy(),a=this.zo(e,n.toUriEncodedString());ee(Zm,`Sending RPC '${e}' ${s}:`,a,r);const l={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(l,i,o);const{host:c}=new URL(a),u=al(c);return this.Jo(e,a,l,r,u).then(f=>(ee(Zm,`Received RPC '${e}' ${s}: `,f),f),f=>{throw ja(Zm,`RPC '${e}' ${s} failed with error: `,f,"url: ",a,"request:",r),f})}Ho(e,n,r,i,o,s){return this.Go(e,n,r,i,o)}jo(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+cl}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,o)=>e[o]=i),r&&r.headers.forEach((i,o)=>e[o]=i)}zo(e,n){const r=a6[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c6{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jt="WebChannelConnection";class u6 extends l6{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,i,o){const s=iy();return new Promise((a,l)=>{const c=new zI;c.setWithCredentials(!0),c.listenOnce(HI.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case tf.NO_ERROR:const f=c.getResponseJson();ee(Jt,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(f)),a(f);break;case tf.TIMEOUT:ee(Jt,`RPC '${e}' ${s} timed out`),l(new ie(G.DEADLINE_EXCEEDED,"Request time out"));break;case tf.HTTP_ERROR:const h=c.getStatus();if(ee(Jt,`RPC '${e}' ${s} failed with status:`,h,"response text:",c.getResponseText()),h>0){let g=c.getResponseJson();Array.isArray(g)&&(g=g[0]);const x=g==null?void 0:g.error;if(x&&x.status&&x.message){const w=function(v){const y=v.toLowerCase().replace(/_/g,"-");return Object.values(G).indexOf(y)>=0?y:G.UNKNOWN}(x.status);l(new ie(w,x.message))}else l(new ie(G.UNKNOWN,"Server responded with status "+c.getStatus()))}else l(new ie(G.UNAVAILABLE,"Connection failed."));break;default:ve(9055,{l_:e,streamId:s,h_:c.getLastErrorCode(),P_:c.getLastError()})}}finally{ee(Jt,`RPC '${e}' ${s} completed.`)}});const u=JSON.stringify(i);ee(Jt,`RPC '${e}' ${s} sending request:`,i),c.send(n,"POST",u,r,15)})}T_(e,n,r){const i=iy(),o=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=YI(),a=GI(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.useFetchStreams=!0),this.jo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const u=o.join("");ee(Jt,`Creating RPC '${e}' stream ${i}: ${u}`,l);const f=s.createWebChannel(u,l);this.I_(f);let h=!1,g=!1;const x=new c6({Yo:b=>{g?ee(Jt,`Not sending because RPC '${e}' stream ${i} is closed:`,b):(h||(ee(Jt,`Opening RPC '${e}' stream ${i} transport.`),f.open(),h=!0),ee(Jt,`RPC '${e}' stream ${i} sending:`,b),f.send(b))},Zo:()=>f.close()}),w=(b,v,y)=>{b.listen(v,E=>{try{y(E)}catch(I){setTimeout(()=>{throw I},0)}})};return w(f,nc.EventType.OPEN,()=>{g||(ee(Jt,`RPC '${e}' stream ${i} transport opened.`),x.o_())}),w(f,nc.EventType.CLOSE,()=>{g||(g=!0,ee(Jt,`RPC '${e}' stream ${i} transport closed`),x.a_(),this.E_(f))}),w(f,nc.EventType.ERROR,b=>{g||(g=!0,ja(Jt,`RPC '${e}' stream ${i} transport errored. Name:`,b.name,"Message:",b.message),x.a_(new ie(G.UNAVAILABLE,"The operation could not be completed")))}),w(f,nc.EventType.MESSAGE,b=>{var v;if(!g){const y=b.data[0];We(!!y,16349);const E=y,I=(E==null?void 0:E.error)||((v=E[0])==null?void 0:v.error);if(I){ee(Jt,`RPC '${e}' stream ${i} received error:`,I);const N=I.status;let O=function(P){const A=Tt[P];if(A!==void 0)return IA(A)}(N),S=I.message;O===void 0&&(O=G.INTERNAL,S="Unknown error status: "+N+" with message "+I.message),g=!0,x.a_(new ie(O,S)),f.close()}else ee(Jt,`RPC '${e}' stream ${i} received:`,y),x.u_(y)}}),w(a,qI.STAT_EVENT,b=>{b.stat===qv.PROXY?ee(Jt,`RPC '${e}' stream ${i} detected buffering proxy`):b.stat===qv.NOPROXY&&ee(Jt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{x.__()},0),x}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(n=>n===e)}}function eg(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ap(t){return new pF(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BA{constructor(e,n,r=1e3,i=1.5,o=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=i,this.R_=o,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),i=Math.max(0,n-r);i>0&&ee("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,i,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lb="PersistentStream";class WA{constructor(e,n,r,i,o,s,a,l){this.Mi=e,this.S_=r,this.b_=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new BA(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===G.RESOURCE_EXHAUSTED?(vi(n.toString()),vi("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===G.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.D_===n&&this.G_(r,i)},r=>{e(()=>{const i=new ie(G.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(i)})})}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo(()=>{r(()=>this.listener.Xo())}),this.stream.t_(()=>{r(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(i=>{r(()=>this.z_(i))}),this.stream.onMessage(i=>{r(()=>++this.F_==1?this.J_(i):this.onNext(i))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return ee(lb,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget(()=>this.D_===e?n():(ee(lb,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class d6 extends WA{constructor(e,n,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=vF(this.serializer,e),r=function(o){if(!("targetChange"in o))return _e.min();const s=o.targetChange;return s.targetIds&&s.targetIds.length?_e.min():s.readTime?Rr(s.readTime):_e.min()}(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=ny(this.serializer),n.addTarget=function(o,s){let a;const l=s.target;if(a=Xv(l)?{documents:xF(o,l)}:{query:_F(o,l).ft},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=RA(o,s.resumeToken);const c=Zv(o,s.expectedCount);c!==null&&(a.expectedCount=c)}else if(s.snapshotVersion.compareTo(_e.min())>0){a.readTime=Zf(o,s.snapshotVersion.toTimestamp());const c=Zv(o,s.expectedCount);c!==null&&(a.expectedCount=c)}return a}(this.serializer,e);const r=bF(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=ny(this.serializer),n.removeTarget=e,this.q_(n)}}class f6 extends WA{constructor(e,n,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return We(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,We(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){We(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=wF(e.writeResults,e.commitTime),r=Rr(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=ny(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>yF(this.serializer,r))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h6{}class p6 extends h6{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new ie(G.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Go(e,ey(n,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===G.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new ie(G.UNKNOWN,o.toString())})}Ho(e,n,r,i,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Ho(e,ey(n,r),i,s,a,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===G.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new ie(G.UNKNOWN,s.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class m6{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(vi(n),this.aa=!1):ee("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ys="RemoteStore";class g6{constructor(e,n,r,i,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=o,this.Aa.Oo(s=>{r.enqueueAndForget(async()=>{As(this)&&(ee(ys,"Restarting streams for network reachability change."),await async function(l){const c=Ee(l);c.Ea.add(4),await bu(c),c.Ra.set("Unknown"),c.Ea.delete(4),await lp(c)}(this))})}),this.Ra=new m6(r,i)}}async function lp(t){if(As(t))for(const e of t.da)await e(!0)}async function bu(t){for(const e of t.da)await e(!1)}function zA(t,e){const n=Ee(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),mw(n)?pw(n):fl(n).O_()&&hw(n,e))}function fw(t,e){const n=Ee(t),r=fl(n);n.Ia.delete(e),r.O_()&&HA(n,e),n.Ia.size===0&&(r.O_()?r.L_():As(n)&&n.Ra.set("Unknown"))}function hw(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(_e.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}fl(t).Y_(e)}function HA(t,e){t.Va.Ue(e),fl(t).Z_(e)}function pw(t){t.Va=new uF({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),fl(t).start(),t.Ra.ua()}function mw(t){return As(t)&&!fl(t).x_()&&t.Ia.size>0}function As(t){return Ee(t).Ea.size===0}function qA(t){t.Va=void 0}async function v6(t){t.Ra.set("Online")}async function y6(t){t.Ia.forEach((e,n)=>{hw(t,e)})}async function w6(t,e){qA(t),mw(t)?(t.Ra.ha(e),pw(t)):t.Ra.set("Unknown")}async function x6(t,e,n){if(t.Ra.set("Online"),e instanceof kA&&e.state===2&&e.cause)try{await async function(i,o){const s=o.cause;for(const a of o.targetIds)i.Ia.has(a)&&(await i.remoteSyncer.rejectListen(a,s),i.Ia.delete(a),i.Va.removeTarget(a))}(t,e)}catch(r){ee(ys,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await th(t,r)}else if(e instanceof sf?t.Va.Ze(e):e instanceof AA?t.Va.st(e):t.Va.tt(e),!n.isEqual(_e.min()))try{const r=await UA(t.localStore);n.compareTo(r)>=0&&await function(o,s){const a=o.Va.Tt(s);return a.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const u=o.Ia.get(c);u&&o.Ia.set(c,u.withResumeToken(l.resumeToken,s))}}),a.targetMismatches.forEach((l,c)=>{const u=o.Ia.get(l);if(!u)return;o.Ia.set(l,u.withResumeToken(qt.EMPTY_BYTE_STRING,u.snapshotVersion)),HA(o,l);const f=new eo(u.target,l,c,u.sequenceNumber);hw(o,f)}),o.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){ee(ys,"Failed to raise snapshot:",r),await th(t,r)}}async function th(t,e,n){if(!dl(e))throw e;t.Ea.add(1),await bu(t),t.Ra.set("Offline"),n||(n=()=>UA(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{ee(ys,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await lp(t)})}function GA(t,e){return e().catch(n=>th(t,n,e))}async function cp(t){const e=Ee(t),n=Po(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:X0;for(;_6(e);)try{const i=await n6(e.localStore,r);if(i===null){e.Ta.length===0&&n.L_();break}r=i.batchId,E6(e,i)}catch(i){await th(e,i)}YA(e)&&KA(e)}function _6(t){return As(t)&&t.Ta.length<10}function E6(t,e){t.Ta.push(e);const n=Po(t);n.O_()&&n.X_&&n.ea(e.mutations)}function YA(t){return As(t)&&!Po(t).x_()&&t.Ta.length>0}function KA(t){Po(t).start()}async function b6(t){Po(t).ra()}async function T6(t){const e=Po(t);for(const n of t.Ta)e.ea(n.mutations)}async function C6(t,e,n){const r=t.Ta.shift(),i=ow.from(r,e,n);await GA(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await cp(t)}async function S6(t,e){e&&Po(t).X_&&await async function(r,i){if(function(s){return aF(s)&&s!==G.ABORTED}(i.code)){const o=r.Ta.shift();Po(r).B_(),await GA(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),await cp(r)}}(t,e),YA(t)&&KA(t)}async function cb(t,e){const n=Ee(t);n.asyncQueue.verifyOperationInProgress(),ee(ys,"RemoteStore received new credentials");const r=As(n);n.Ea.add(3),await bu(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await lp(n)}async function P6(t,e){const n=Ee(t);e?(n.Ea.delete(2),await lp(n)):e||(n.Ea.add(2),await bu(n),n.Ra.set("Unknown"))}function fl(t){return t.ma||(t.ma=function(n,r,i){const o=Ee(n);return o.sa(),new d6(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Xo:v6.bind(null,t),t_:y6.bind(null,t),r_:w6.bind(null,t),H_:x6.bind(null,t)}),t.da.push(async e=>{e?(t.ma.B_(),mw(t)?pw(t):t.Ra.set("Unknown")):(await t.ma.stop(),qA(t))})),t.ma}function Po(t){return t.fa||(t.fa=function(n,r,i){const o=Ee(n);return o.sa(),new f6(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:b6.bind(null,t),r_:S6.bind(null,t),ta:T6.bind(null,t),na:C6.bind(null,t)}),t.da.push(async e=>{e?(t.fa.B_(),await cp(t)):(await t.fa.stop(),t.Ta.length>0&&(ee(ys,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))})),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gw{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new si,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){const s=Date.now()+r,a=new gw(e,n,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ie(G.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function vw(t,e){if(vi("AsyncQueue",`${e}: ${t}`),dl(t))return new ie(G.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ea{static emptySet(e){return new Ea(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||fe.comparator(n.key,r.key):(n,r)=>fe.comparator(n.key,r.key),this.keyedMap=rc(),this.sortedSet=new pt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Ea)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Ea;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ub{constructor(){this.ga=new pt(fe.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):ve(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal((n,r)=>{e.push(r)}),e}}class Wa{constructor(e,n,r,i,o,s,a,l,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,i,o){const s=[];return n.forEach(a=>{s.push({type:0,doc:a})}),new Wa(e,n,Ea.emptySet(n),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&np(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I6{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class A6{constructor(){this.queries=db(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const i=Ee(n),o=i.queries;i.queries=db(),o.forEach((s,a)=>{for(const l of a.Sa)l.onError(r)})})(this,new ie(G.ABORTED,"Firestore shutting down"))}}function db(){return new Is(t=>gA(t),np)}async function QA(t,e){const n=Ee(t);let r=3;const i=e.query;let o=n.queries.get(i);o?!o.ba()&&e.Da()&&(r=2):(o=new I6,r=e.Da()?0:1);try{switch(r){case 0:o.wa=await n.onListen(i,!0);break;case 1:o.wa=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(s){const a=vw(s,`Initialization of query '${Ks(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,o),o.Sa.push(e),e.va(n.onlineState),o.wa&&e.Fa(o.wa)&&yw(n)}async function XA(t,e){const n=Ee(t),r=e.query;let i=3;const o=n.queries.get(r);if(o){const s=o.Sa.indexOf(e);s>=0&&(o.Sa.splice(s,1),o.Sa.length===0?i=e.Da()?0:1:!o.ba()&&e.Da()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function k6(t,e){const n=Ee(t);let r=!1;for(const i of e){const o=i.query,s=n.queries.get(o);if(s){for(const a of s.Sa)a.Fa(i)&&(r=!0);s.wa=i}}r&&yw(n)}function R6(t,e,n){const r=Ee(t),i=r.queries.get(e);if(i)for(const o of i.Sa)o.onError(n);r.queries.delete(e)}function yw(t){t.Ca.forEach(e=>{e.next()})}var oy,fb;(fb=oy||(oy={})).Ma="default",fb.Cache="cache";class JA{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Wa(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Wa.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==oy.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZA{constructor(e){this.key=e}}class ek{constructor(e){this.key=e}}class N6{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Re(),this.mutatedKeys=Re(),this.eu=vA(e),this.tu=new Ea(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new ub,i=n?n.tu:this.tu;let o=n?n.mutatedKeys:this.mutatedKeys,s=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,c=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((u,f)=>{const h=i.get(u),g=rp(this.query,f)?f:null,x=!!h&&this.mutatedKeys.has(h.key),w=!!g&&(g.hasLocalMutations||this.mutatedKeys.has(g.key)&&g.hasCommittedMutations);let b=!1;h&&g?h.data.isEqual(g.data)?x!==w&&(r.track({type:3,doc:g}),b=!0):this.su(h,g)||(r.track({type:2,doc:g}),b=!0,(l&&this.eu(g,l)>0||c&&this.eu(g,c)<0)&&(a=!0)):!h&&g?(r.track({type:0,doc:g}),b=!0):h&&!g&&(r.track({type:1,doc:h}),b=!0,(l||c)&&(a=!0)),b&&(g?(s=s.add(g),o=w?o.add(u):o.delete(u)):(s=s.delete(u),o=o.delete(u)))}),this.query.limit!==null)for(;s.size>this.query.limit;){const u=this.query.limitType==="F"?s.last():s.first();s=s.delete(u.key),o=o.delete(u.key),r.track({type:1,doc:u})}return{tu:s,iu:r,Cs:a,mutatedKeys:o}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const o=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const s=e.iu.ya();s.sort((u,f)=>function(g,x){const w=b=>{switch(b){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ve(20277,{Rt:b})}};return w(g)-w(x)}(u.type,f.type)||this.eu(u.doc,f.doc)),this.ou(r),i=i??!1;const a=n&&!i?this._u():[],l=this.Xa.size===0&&this.current&&!i?1:0,c=l!==this.Za;return this.Za=l,s.length!==0||c?{snapshot:new Wa(this.query,e.tu,o,s,e.mutatedKeys,l===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:a}:{au:a}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new ub,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(n=>this.Ya=this.Ya.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ya=this.Ya.delete(n)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Re(),this.tu.forEach(r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))});const n=[];return e.forEach(r=>{this.Xa.has(r)||n.push(new ek(r))}),this.Xa.forEach(r=>{e.has(r)||n.push(new ZA(r))}),n}cu(e){this.Ya=e.Qs,this.Xa=Re();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Wa.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const ww="SyncEngine";class D6{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class M6{constructor(e){this.key=e,this.hu=!1}}class O6{constructor(e,n,r,i,o,s){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.Pu={},this.Tu=new Is(a=>gA(a),np),this.Iu=new Map,this.Eu=new Set,this.du=new pt(fe.comparator),this.Au=new Map,this.Ru=new lw,this.Vu={},this.mu=new Map,this.fu=Ba.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function L6(t,e,n=!0){const r=sk(t);let i;const o=r.Tu.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.lu()):i=await tk(r,e,n,!0),i}async function V6(t,e){const n=sk(t);await tk(n,e,!0,!1)}async function tk(t,e,n,r){const i=await r6(t.localStore,kr(e)),o=i.targetId,s=t.sharedClientState.addLocalQueryTarget(o,n);let a;return r&&(a=await j6(t,e,o,s==="current",i.resumeToken)),t.isPrimaryClient&&n&&zA(t.remoteStore,i),a}async function j6(t,e,n,r,i){t.pu=(f,h,g)=>async function(w,b,v,y){let E=b.view.ru(v);E.Cs&&(E=await ib(w.localStore,b.query,!1).then(({documents:S})=>b.view.ru(S,E)));const I=y&&y.targetChanges.get(b.targetId),N=y&&y.targetMismatches.get(b.targetId)!=null,O=b.view.applyChanges(E,w.isPrimaryClient,I,N);return pb(w,b.targetId,O.au),O.snapshot}(t,f,h,g);const o=await ib(t.localStore,e,!0),s=new N6(e,o.Qs),a=s.ru(o.documents),l=Eu.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),c=s.applyChanges(a,t.isPrimaryClient,l);pb(t,n,c.au);const u=new D6(e,n,s);return t.Tu.set(e,u),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),c.snapshot}async function F6(t,e,n){const r=Ee(t),i=r.Tu.get(e),o=r.Iu.get(i.targetId);if(o.length>1)return r.Iu.set(i.targetId,o.filter(s=>!np(s,e))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await ry(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&fw(r.remoteStore,i.targetId),sy(r,i.targetId)}).catch(ul)):(sy(r,i.targetId),await ry(r.localStore,i.targetId,!0))}async function $6(t,e){const n=Ee(t),r=n.Tu.get(e),i=n.Iu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),fw(n.remoteStore,r.targetId))}async function U6(t,e,n){const r=Y6(t);try{const i=await function(s,a){const l=Ee(s),c=it.now(),u=a.reduce((g,x)=>g.add(x.key),Re());let f,h;return l.persistence.runTransaction("Locally write mutations","readwrite",g=>{let x=wi(),w=Re();return l.Ns.getEntries(g,u).next(b=>{x=b,x.forEach((v,y)=>{y.isValidDocument()||(w=w.add(v))})}).next(()=>l.localDocuments.getOverlayedDocuments(g,x)).next(b=>{f=b;const v=[];for(const y of a){const E=nF(y,f.get(y.key).overlayedDocument);E!=null&&v.push(new Fo(y.key,E,cA(E.value.mapValue),cr.exists(!0)))}return l.mutationQueue.addMutationBatch(g,c,v,a)}).next(b=>{h=b;const v=b.applyToLocalDocumentSet(f,w);return l.documentOverlayCache.saveOverlays(g,b.batchId,v)})}).then(()=>({batchId:h.batchId,changes:wA(f)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,a,l){let c=s.Vu[s.currentUser.toKey()];c||(c=new pt(ke)),c=c.insert(a,l),s.Vu[s.currentUser.toKey()]=c}(r,i.batchId,n),await Tu(r,i.changes),await cp(r.remoteStore)}catch(i){const o=vw(i,"Failed to persist write");n.reject(o)}}async function nk(t,e){const n=Ee(t);try{const r=await e6(n.localStore,e);e.targetChanges.forEach((i,o)=>{const s=n.Au.get(o);s&&(We(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?s.hu=!0:i.modifiedDocuments.size>0?We(s.hu,14607):i.removedDocuments.size>0&&(We(s.hu,42227),s.hu=!1))}),await Tu(n,r,e)}catch(r){await ul(r)}}function hb(t,e,n){const r=Ee(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Tu.forEach((o,s)=>{const a=s.view.va(e);a.snapshot&&i.push(a.snapshot)}),function(s,a){const l=Ee(s);l.onlineState=a;let c=!1;l.queries.forEach((u,f)=>{for(const h of f.Sa)h.va(a)&&(c=!0)}),c&&yw(l)}(r.eventManager,e),i.length&&r.Pu.H_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function B6(t,e,n){const r=Ee(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Au.get(e),o=i&&i.key;if(o){let s=new pt(fe.comparator);s=s.insert(o,nn.newNoDocument(o,_e.min()));const a=Re().add(o),l=new sp(_e.min(),new Map,new pt(ke),s,a);await nk(r,l),r.du=r.du.remove(o),r.Au.delete(e),xw(r)}else await ry(r.localStore,e,!1).then(()=>sy(r,e,n)).catch(ul)}async function W6(t,e){const n=Ee(t),r=e.batch.batchId;try{const i=await ZF(n.localStore,e);ik(n,r,null),rk(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Tu(n,i)}catch(i){await ul(i)}}async function z6(t,e,n){const r=Ee(t);try{const i=await function(s,a){const l=Ee(s);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let u;return l.mutationQueue.lookupMutationBatch(c,a).next(f=>(We(f!==null,37113),u=f.keys(),l.mutationQueue.removeMutationBatch(c,f))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,u,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,u)).next(()=>l.localDocuments.getDocuments(c,u))})}(r.localStore,e);ik(r,e,n),rk(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Tu(r,i)}catch(i){await ul(i)}}function rk(t,e){(t.mu.get(e)||[]).forEach(n=>{n.resolve()}),t.mu.delete(e)}function ik(t,e,n){const r=Ee(t);let i=r.Vu[r.currentUser.toKey()];if(i){const o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.Vu[r.currentUser.toKey()]=i}}function sy(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach(r=>{t.Ru.containsKey(r)||ok(t,r)})}function ok(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(fw(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),xw(t))}function pb(t,e,n){for(const r of n)r instanceof ZA?(t.Ru.addReference(r.key,e),H6(t,r)):r instanceof ek?(ee(ww,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||ok(t,r.key)):ve(19791,{wu:r})}function H6(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(ee(ww,"New document in limbo: "+n),t.Eu.add(r),xw(t))}function xw(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new fe(rt.fromString(e)),r=t.fu.next();t.Au.set(r,new M6(n)),t.du=t.du.insert(n,r),zA(t.remoteStore,new eo(kr(nw(n.path)),r,"TargetPurposeLimboResolution",Jh.ce))}}async function Tu(t,e,n){const r=Ee(t),i=[],o=[],s=[];r.Tu.isEmpty()||(r.Tu.forEach((a,l)=>{s.push(r.pu(l,e,n).then(c=>{var u;if((c||n)&&r.isPrimaryClient){const f=c?!c.fromCache:(u=n==null?void 0:n.targetChanges.get(l.targetId))==null?void 0:u.current;r.sharedClientState.updateQueryState(l.targetId,f?"current":"not-current")}if(c){i.push(c);const f=uw.As(l.targetId,c);o.push(f)}}))}),await Promise.all(s),r.Pu.H_(i),await async function(l,c){const u=Ee(l);try{await u.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>H.forEach(c,h=>H.forEach(h.Es,g=>u.persistence.referenceDelegate.addReference(f,h.targetId,g)).next(()=>H.forEach(h.ds,g=>u.persistence.referenceDelegate.removeReference(f,h.targetId,g)))))}catch(f){if(!dl(f))throw f;ee(dw,"Failed to update sequence numbers: "+f)}for(const f of c){const h=f.targetId;if(!f.fromCache){const g=u.Ms.get(h),x=g.snapshotVersion,w=g.withLastLimboFreeSnapshotVersion(x);u.Ms=u.Ms.insert(h,w)}}}(r.localStore,o))}async function q6(t,e){const n=Ee(t);if(!n.currentUser.isEqual(e)){ee(ww,"User change. New user:",e.toKey());const r=await $A(n.localStore,e);n.currentUser=e,function(o,s){o.mu.forEach(a=>{a.forEach(l=>{l.reject(new ie(G.CANCELLED,s))})}),o.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Tu(n,r.Ls)}}function G6(t,e){const n=Ee(t),r=n.Au.get(e);if(r&&r.hu)return Re().add(r.key);{let i=Re();const o=n.Iu.get(e);if(!o)return i;for(const s of o){const a=n.Tu.get(s);i=i.unionWith(a.view.nu)}return i}}function sk(t){const e=Ee(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=nk.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=G6.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=B6.bind(null,e),e.Pu.H_=k6.bind(null,e.eventManager),e.Pu.yu=R6.bind(null,e.eventManager),e}function Y6(t){const e=Ee(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=W6.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=z6.bind(null,e),e}class nh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=ap(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return JF(this.persistence,new KF,e.initialUser,this.serializer)}Cu(e){return new FA(cw.mi,this.serializer)}Du(e){return new o6}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}nh.provider={build:()=>new nh};class K6 extends nh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){We(this.persistence.referenceDelegate instanceof eh,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new MF(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?vn.withCacheSize(this.cacheSizeBytes):vn.DEFAULT;return new FA(r=>eh.mi(r,n),this.serializer)}}class ay{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>hb(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=q6.bind(null,this.syncEngine),await P6(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new A6}()}createDatastore(e){const n=ap(e.databaseInfo.databaseId),r=function(o){return new u6(o)}(e.databaseInfo);return function(o,s,a,l){return new p6(o,s,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,o,s,a){return new g6(r,i,o,s,a)}(this.localStore,this.datastore,e.asyncQueue,n=>hb(this.syncEngine,n,0),function(){return ab.v()?new ab:new s6}())}createSyncEngine(e,n){return function(i,o,s,a,l,c,u){const f=new O6(i,o,s,a,l,c);return u&&(f.gu=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const o=Ee(i);ee(ys,"RemoteStore shutting down."),o.Ea.add(5),await bu(o),o.Aa.shutdown(),o.Ra.set("Unknown")}(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}ay.provider={build:()=>new ay};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ak{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):vi("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Io="FirestoreClient";class Q6{constructor(e,n,r,i,o){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=en.UNAUTHENTICATED,this.clientId=K0.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,async s=>{ee(Io,"Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(ee(Io,"Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new si;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=vw(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function tg(t,e){t.asyncQueue.verifyOperationInProgress(),ee(Io,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await $A(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function mb(t,e){t.asyncQueue.verifyOperationInProgress();const n=await X6(t);ee(Io,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>cb(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>cb(e.remoteStore,i)),t._onlineComponents=e}async function X6(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){ee(Io,"Using user provided OfflineComponentProvider");try{await tg(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===G.FAILED_PRECONDITION||i.code===G.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;ja("Error using user provided cache. Falling back to memory cache: "+n),await tg(t,new nh)}}else ee(Io,"Using default OfflineComponentProvider"),await tg(t,new K6(void 0));return t._offlineComponents}async function lk(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(ee(Io,"Using user provided OnlineComponentProvider"),await mb(t,t._uninitializedComponentsProvider._online)):(ee(Io,"Using default OnlineComponentProvider"),await mb(t,new ay))),t._onlineComponents}function J6(t){return lk(t).then(e=>e.syncEngine)}async function ck(t){const e=await lk(t),n=e.eventManager;return n.onListen=L6.bind(null,e.syncEngine),n.onUnlisten=F6.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=V6.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=$6.bind(null,e.syncEngine),n}function Z6(t,e,n={}){const r=new si;return t.asyncQueue.enqueueAndForget(async()=>function(o,s,a,l,c){const u=new ak({next:h=>{u.Nu(),s.enqueueAndForget(()=>XA(o,f));const g=h.docs.has(a);!g&&h.fromCache?c.reject(new ie(G.UNAVAILABLE,"Failed to get document because the client is offline.")):g&&h.fromCache&&l&&l.source==="server"?c.reject(new ie(G.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(h)},error:h=>c.reject(h)}),f=new JA(nw(a.path),u,{includeMetadataChanges:!0,qa:!0});return QA(o,f)}(await ck(t),t.asyncQueue,e,n,r)),r.promise}function e$(t,e,n={}){const r=new si;return t.asyncQueue.enqueueAndForget(async()=>function(o,s,a,l,c){const u=new ak({next:h=>{u.Nu(),s.enqueueAndForget(()=>XA(o,f)),h.fromCache&&l.source==="server"?c.reject(new ie(G.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(h)},error:h=>c.reject(h)}),f=new JA(a,u,{includeMetadataChanges:!0,qa:!0});return QA(o,f)}(await ck(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uk(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gb=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dk="firestore.googleapis.com",vb=!0;class yb{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ie(G.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=dk,this.ssl=vb}else this.host=e.host,this.ssl=e.ssl??vb;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=jA;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<NF)throw new ie(G.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}g3("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=uk(e.experimentalLongPollingOptions??{}),function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new ie(G.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new ie(G.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new ie(G.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class up{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new yb({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ie(G.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ie(G.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new yb(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new s3;switch(r.type){case"firstParty":return new u3(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ie(G.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=gb.get(n);r&&(ee("ComponentProvider","Removing Datastore"),gb.delete(n),r.terminate())}(this),Promise.resolve()}}function t$(t,e,n,r={}){var c;t=yi(t,up);const i=al(e),o=t._getSettings(),s={...o,emulatorOptions:t._getEmulatorOptions()},a=`${e}:${n}`;i&&(OI(`https://${a}`),LI("Firestore",!0)),o.host!==dk&&o.host!==a&&ja("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const l={...o,host:a,ssl:i,emulatorOptions:r};if(!ms(l,s)&&(t._setSettings(l),r.mockUserToken)){let u,f;if(typeof r.mockUserToken=="string")u=r.mockUserToken,f=en.MOCK_USER;else{u=R5(r.mockUserToken,(c=t._app)==null?void 0:c.options.projectId);const h=r.mockUserToken.sub||r.mockUserToken.user_id;if(!h)throw new ie(G.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new en(h)}t._authCredentials=new a3(new QI(u,f))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dp{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new dp(this.firestore,e,this._query)}}class Rt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new go(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Rt(this.firestore,e,this._key)}toJSON(){return{type:Rt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(xu(n,Rt._jsonSchema))return new Rt(e,r||null,new fe(rt.fromString(n.referencePath)))}}Rt._jsonSchemaVersion="firestore/documentReference/1.0",Rt._jsonSchema={type:Pt("string",Rt._jsonSchemaVersion),referencePath:Pt("string")};class go extends dp{constructor(e,n,r){super(e,n,nw(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Rt(this.firestore,null,new fe(e))}withConverter(e){return new go(this.firestore,e,this._path)}}function ai(t,e,...n){if(t=Ht(t),XI("collection","path",e),t instanceof up){const r=rt.fromString(e,...n);return NE(r),new go(t,null,r)}{if(!(t instanceof Rt||t instanceof go))throw new ie(G.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(rt.fromString(e,...n));return NE(r),new go(t.firestore,null,r)}}function hl(t,e,...n){if(t=Ht(t),arguments.length===1&&(e=K0.newId()),XI("doc","path",e),t instanceof up){const r=rt.fromString(e,...n);return RE(r),new Rt(t,null,new fe(r))}{if(!(t instanceof Rt||t instanceof go))throw new ie(G.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(rt.fromString(e,...n));return RE(r),new Rt(t.firestore,t instanceof go?t.converter:null,new fe(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wb="AsyncQueue";class xb{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new BA(this,"async_queue_retry"),this._c=()=>{const r=eg();r&&ee(wb,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=eg();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=eg();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const n=new si;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!dl(e))throw e;ee(wb,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const n=this.ac.then(()=>(this.rc=!0,e().catch(r=>{throw this.nc=r,this.rc=!1,vi("INTERNAL UNHANDLED ERROR: ",_b(r)),r}).then(r=>(this.rc=!1,r))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const i=gw.createAndSchedule(this,e,n,r,o=>this.hc(o));return this.tc.push(i),i}uc(){this.nc&&ve(47125,{Pc:_b(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function _b(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class pl extends up{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new xb,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new xb(e),this._firestoreClient=void 0,await e}}}function n$(t,e){const n=typeof t=="object"?t:$I(),r=typeof t=="string"?t:e||Gf,i=G0(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const o=A5("firestore");o&&t$(i,...o)}return i}function _w(t){if(t._terminated)throw new ie(G.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||r$(t),t._firestoreClient}function r$(t){var r,i,o;const e=t._freezeSettings(),n=function(a,l,c,u){return new P3(a,l,c,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,uk(u.experimentalLongPollingOptions),u.useFetchStreams,u.isUsingEmulator)}(t._databaseId,((r=t._app)==null?void 0:r.options.appId)||"",t._persistenceKey,e);t._componentsProvider||(i=e.localCache)!=null&&i._offlineComponentProvider&&((o=e.localCache)!=null&&o._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new Q6(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&function(a){const l=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new qn(qt.fromBase64String(e))}catch(n){throw new ie(G.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new qn(qt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:qn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(xu(e,qn._jsonSchema))return qn.fromBase64String(e.bytes)}}qn._jsonSchemaVersion="firestore/bytes/1.0",qn._jsonSchema={type:Pt("string",qn._jsonSchemaVersion),bytes:Pt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fp{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ie(G.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ut(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ew{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nr{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ie(G.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ie(G.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return ke(this._lat,e._lat)||ke(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Nr._jsonSchemaVersion}}static fromJSON(e){if(xu(e,Nr._jsonSchema))return new Nr(e.latitude,e.longitude)}}Nr._jsonSchemaVersion="firestore/geoPoint/1.0",Nr._jsonSchema={type:Pt("string",Nr._jsonSchemaVersion),latitude:Pt("number"),longitude:Pt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dr{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}(this._values,e._values)}toJSON(){return{type:Dr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(xu(e,Dr._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new Dr(e.vectorValues);throw new ie(G.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Dr._jsonSchemaVersion="firestore/vectorValue/1.0",Dr._jsonSchema={type:Pt("string",Dr._jsonSchemaVersion),vectorValues:Pt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i$=/^__.*__$/;class o${constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Fo(e,this.data,this.fieldMask,n,this.fieldTransforms):new _u(e,this.data,n,this.fieldTransforms)}}class fk{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Fo(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function hk(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ve(40011,{Ac:t})}}class bw{constructor(e,n,r,i,o,s){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.Rc(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new bw({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var i;const n=(i=this.path)==null?void 0:i.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){var i;const n=(i=this.path)==null?void 0:i.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return rh(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(hk(this.Ac)&&i$.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class s${constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||ap(e)}Cc(e,n,r,i=!1){return new bw({Ac:e,methodName:n,Dc:r,path:Ut.emptyPath(),fc:!1,bc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function pk(t){const e=t._freezeSettings(),n=ap(t._databaseId);return new s$(t._databaseId,!!e.ignoreUndefinedProperties,n)}function a$(t,e,n,r,i,o={}){const s=t.Cc(o.merge||o.mergeFields?2:0,e,n,i);Tw("Data must be an object, but it was:",s,r);const a=mk(r,s);let l,c;if(o.merge)l=new Mn(s.fieldMask),c=s.fieldTransforms;else if(o.mergeFields){const u=[];for(const f of o.mergeFields){const h=ly(e,f,n);if(!s.contains(h))throw new ie(G.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);vk(u,h)||u.push(h)}l=new Mn(u),c=s.fieldTransforms.filter(f=>l.covers(f.field))}else l=null,c=s.fieldTransforms;return new o$(new wn(a),l,c)}class hp extends Ew{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof hp}}function l$(t,e,n,r){const i=t.Cc(1,e,n);Tw("Data must be an object, but it was:",i,r);const o=[],s=wn.empty();jo(r,(l,c)=>{const u=Cw(e,l,n);c=Ht(c);const f=i.yc(u);if(c instanceof hp)o.push(u);else{const h=pp(c,f);h!=null&&(o.push(u),s.set(u,h))}});const a=new Mn(o);return new fk(s,a,i.fieldTransforms)}function c$(t,e,n,r,i,o){const s=t.Cc(1,e,n),a=[ly(e,r,n)],l=[i];if(o.length%2!=0)throw new ie(G.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<o.length;h+=2)a.push(ly(e,o[h])),l.push(o[h+1]);const c=[],u=wn.empty();for(let h=a.length-1;h>=0;--h)if(!vk(c,a[h])){const g=a[h];let x=l[h];x=Ht(x);const w=s.yc(g);if(x instanceof hp)c.push(g);else{const b=pp(x,w);b!=null&&(c.push(g),u.set(g,b))}}const f=new Mn(c);return new fk(u,f,s.fieldTransforms)}function pp(t,e){if(gk(t=Ht(t)))return Tw("Unsupported field value:",e,t),mk(t,e);if(t instanceof Ew)return function(r,i){if(!hk(i.Ac))throw i.Sc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Sc(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(r,i){const o=[];let s=0;for(const a of r){let l=pp(a,i.wc(s));l==null&&(l={nullValue:"NULL_VALUE"}),o.push(l),s++}return{arrayValue:{values:o}}}(t,e)}return function(r,i){if((r=Ht(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return Q3(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=it.fromDate(r);return{timestampValue:Zf(i.serializer,o)}}if(r instanceof it){const o=new it(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Zf(i.serializer,o)}}if(r instanceof Nr)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof qn)return{bytesValue:RA(i.serializer,r._byteString)};if(r instanceof Rt){const o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.Sc(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:aw(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Dr)return function(s,a){return{mapValue:{fields:{[sA]:{stringValue:lA},[Yf]:{arrayValue:{values:s.toArray().map(c=>{if(typeof c!="number")throw a.Sc("VectorValues must only contain numeric values.");return rw(a.serializer,c)})}}}}}}(r,i);throw i.Sc(`Unsupported field value: ${Q0(r)}`)}(t,e)}function mk(t,e){const n={};return eA(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):jo(t,(r,i)=>{const o=pp(i,e.mc(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function gk(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof it||t instanceof Nr||t instanceof qn||t instanceof Rt||t instanceof Ew||t instanceof Dr)}function Tw(t,e,n){if(!gk(n)||!JI(n)){const r=Q0(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function ly(t,e,n){if((e=Ht(e))instanceof fp)return e._internalPath;if(typeof e=="string")return Cw(t,e);throw rh("Field path arguments must be of type string or ",t,!1,void 0,n)}const u$=new RegExp("[~\\*/\\[\\]]");function Cw(t,e,n){if(e.search(u$)>=0)throw rh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new fp(...e.split("."))._internalPath}catch{throw rh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function rh(t,e,n,r,i){const o=r&&!r.isEmpty(),s=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(o||s)&&(l+=" (found",o&&(l+=` in field ${r}`),s&&(l+=` in document ${i}`),l+=")"),new ie(G.INVALID_ARGUMENT,a+t+l)}function vk(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yk{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Rt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new d$(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(wk("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class d$ extends yk{data(){return super.data()}}function wk(t,e){return typeof e=="string"?Cw(t,e):e instanceof fp?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f$(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new ie(G.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class h${convertValue(e,n="none"){switch(So(e)){case 0:return null;case 1:return e.booleanValue;case 2:return wt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Co(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw ve(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return jo(e,(i,o)=>{r[i]=this.convertValue(o,n)}),r}convertVectorValue(e){var r,i,o;const n=(o=(i=(r=e.fields)==null?void 0:r[Yf].arrayValue)==null?void 0:i.values)==null?void 0:o.map(s=>wt(s.doubleValue));return new Dr(n)}convertGeoPoint(e){return new Nr(wt(e.latitude),wt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=ep(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Xc(e));default:return null}}convertTimestamp(e){const n=To(e);return new it(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=rt.fromString(e);We(VA(r),9688,{name:e});const i=new Jc(r.get(1),r.get(3)),o=new fe(r.popFirst(5));return i.isEqual(n)||vi(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p$(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class oc{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class cs extends yk{constructor(e,n,r,i,o,s){super(e,n,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new af(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(wk("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ie(G.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=cs._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}cs._jsonSchemaVersion="firestore/documentSnapshot/1.0",cs._jsonSchema={type:Pt("string",cs._jsonSchemaVersion),bundleSource:Pt("string","DocumentSnapshot"),bundleName:Pt("string"),bundle:Pt("string")};class af extends cs{data(e={}){return super.data(e)}}class ba{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new oc(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new af(this._firestore,this._userDataWriter,r.key,r,new oc(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ie(G.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>{const l=new af(i._firestore,i._userDataWriter,a.doc.key,a.doc,new oc(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>o||a.type!==3).map(a=>{const l=new af(i._firestore,i._userDataWriter,a.doc.key,a.doc,new oc(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let c=-1,u=-1;return a.type!==0&&(c=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),a.type!==1&&(s=s.add(a.doc),u=s.indexOf(a.doc.key)),{type:m$(a.type),doc:l,oldIndex:c,newIndex:u}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ie(G.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=ba._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=K0.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],i=[];return this.docs.forEach(o=>{o._document!==null&&(n.push(o._document),r.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),i.push(o.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function m$(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ve(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sw(t){t=yi(t,Rt);const e=yi(t.firestore,pl);return Z6(_w(e),t._key).then(n=>v$(e,t,n))}ba._jsonSchemaVersion="firestore/querySnapshot/1.0",ba._jsonSchema={type:Pt("string",ba._jsonSchemaVersion),bundleSource:Pt("string","QuerySnapshot"),bundleName:Pt("string"),bundle:Pt("string")};class xk extends h${constructor(e){super(),this.firestore=e}convertBytes(e){return new qn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Rt(this.firestore,null,n)}}function za(t){t=yi(t,dp);const e=yi(t.firestore,pl),n=_w(e),r=new xk(e);return f$(t._query),e$(n,t._query).then(i=>new ba(e,r,t,i))}function Pw(t,e,n,...r){t=yi(t,Rt);const i=yi(t.firestore,pl),o=pk(i);let s;return s=typeof(e=Ht(e))=="string"||e instanceof fp?c$(o,"updateDoc",t._key,e,n,r):l$(o,"updateDoc",t._key,e),Iw(i,[s.toMutation(t._key,cr.exists(!0))])}function g$(t){return Iw(yi(t.firestore,pl),[new iw(t._key,cr.none())])}function cy(t,e){const n=yi(t.firestore,pl),r=hl(t),i=p$(t.converter,e);return Iw(n,[a$(pk(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,cr.exists(!1))]).then(()=>r)}function Iw(t,e){return function(r,i){const o=new si;return r.asyncQueue.enqueueAndForget(async()=>U6(await J6(r),i,o)),o.promise}(_w(t),e)}function v$(t,e,n){const r=n.docs.get(e._key),i=new xk(t);return new cs(t,i,e._key,r,new oc(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){cl=i})(ll),Va(new gs("firestore",(r,{instanceIdentifier:i,options:o})=>{const s=r.getProvider("app").getImmediate(),a=new pl(new l3(r.getProvider("auth-internal")),new d3(s,r.getProvider("app-check-internal")),function(c,u){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new ie(G.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Jc(c.options.projectId,u)}(s,i),s);return o={useFetchStreams:n,...o},a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),po(PE,IE,e),po(PE,IE,"esm2020")})();function _k(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const y$=_k,Ek=new yu("auth","Firebase",_k());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ih=new H0("@firebase/auth");function w$(t,...e){ih.logLevel<=Ae.WARN&&ih.warn(`Auth (${ll}): ${t}`,...e)}function lf(t,...e){ih.logLevel<=Ae.ERROR&&ih.error(`Auth (${ll}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dr(t,...e){throw Aw(t,...e)}function Mr(t,...e){return Aw(t,...e)}function bk(t,e,n){const r={...y$(),[e]:n};return new yu("auth","Firebase",r).create(e,{appName:t.name})}function li(t){return bk(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Aw(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return Ek.create(t,...e)}function de(t,e,...n){if(!t)throw Aw(e,...n)}function ni(t){const e="INTERNAL ASSERTION FAILED: "+t;throw lf(e),new Error(e)}function xi(t,e){t||ni(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uy(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function x$(){return Eb()==="http:"||Eb()==="https:"}function Eb(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _$(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(x$()||V5()||"connection"in navigator)?navigator.onLine:!0}function E$(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cu{constructor(e,n){this.shortDelay=e,this.longDelay=n,xi(n>e,"Short delay should be less than long delay!"),this.isMobile=M5()||j5()}get(){return _$()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kw(t,e){xi(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tk{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ni("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ni("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ni("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b$={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T$=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],C$=new Cu(3e4,6e4);function Ai(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function ki(t,e,n,r,i={}){return Ck(t,i,async()=>{let o={},s={};r&&(e==="GET"?s=r:o={body:JSON.stringify(r)});const a=wu({key:t.config.apiKey,...s}).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const c={method:e,headers:l,...o};return L5()||(c.referrerPolicy="no-referrer"),t.emulatorConfig&&al(t.emulatorConfig.host)&&(c.credentials="include"),Tk.fetch()(await Sk(t,t.config.apiHost,n,a),c)})}async function Ck(t,e,n){t._canInitEmulator=!1;const r={...b$,...e};try{const i=new P$(t),o=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const s=await o.json();if("needConfirmation"in s)throw Sd(t,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{const a=o.ok?s.errorMessage:s.error.message,[l,c]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Sd(t,"credential-already-in-use",s);if(l==="EMAIL_EXISTS")throw Sd(t,"email-already-in-use",s);if(l==="USER_DISABLED")throw Sd(t,"user-disabled",s);const u=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw bk(t,u,c);dr(t,u)}}catch(i){if(i instanceof Ii)throw i;dr(t,"network-request-failed",{message:String(i)})}}async function Su(t,e,n,r,i={}){const o=await ki(t,e,n,r,i);return"mfaPendingCredential"in o&&dr(t,"multi-factor-auth-required",{_serverResponse:o}),o}async function Sk(t,e,n,r){const i=`${e}${n}?${r}`,o=t,s=o.config.emulator?kw(t.config,i):`${t.config.apiScheme}://${i}`;return T$.includes(n)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(s).toString():s}function S$(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class P${clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Mr(this.auth,"network-request-failed")),C$.get())})}}function Sd(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Mr(t,e,r);return i.customData._tokenResponse=n,i}function bb(t){return t!==void 0&&t.enterprise!==void 0}class I${constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return S$(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function A$(t,e){return ki(t,"GET","/v2/recaptchaConfig",Ai(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function k$(t,e){return ki(t,"POST","/v1/accounts:delete",e)}async function oh(t,e){return ki(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _c(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function R$(t,e=!1){const n=Ht(t),r=await n.getIdToken(e),i=Rw(r);de(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const o=typeof i.firebase=="object"?i.firebase:void 0,s=o==null?void 0:o.sign_in_provider;return{claims:i,token:r,authTime:_c(ng(i.auth_time)),issuedAtTime:_c(ng(i.iat)),expirationTime:_c(ng(i.exp)),signInProvider:s||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function ng(t){return Number(t)*1e3}function Rw(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return lf("JWT malformed, contained fewer than 3 sections"),null;try{const i=RI(n);return i?JSON.parse(i):(lf("Failed to decode base64 JWT payload"),null)}catch(i){return lf("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function Tb(t){const e=Rw(t);return de(e,"internal-error"),de(typeof e.exp<"u","internal-error"),de(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nu(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Ii&&N$(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function N$({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D${constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dy{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=_c(this.lastLoginAt),this.creationTime=_c(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sh(t){var f;const e=t.auth,n=await t.getIdToken(),r=await nu(t,oh(e,{idToken:n}));de(r==null?void 0:r.users.length,e,"internal-error");const i=r.users[0];t._notifyReloadListener(i);const o=(f=i.providerUserInfo)!=null&&f.length?Pk(i.providerUserInfo):[],s=O$(t.providerData,o),a=t.isAnonymous,l=!(t.email&&i.passwordHash)&&!(s!=null&&s.length),c=a?l:!1,u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new dy(i.createdAt,i.lastLoginAt),isAnonymous:c};Object.assign(t,u)}async function M$(t){const e=Ht(t);await sh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function O$(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function Pk(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function L$(t,e){const n=await Ck(t,{},async()=>{const r=wu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,s=await Sk(t,i,"/v1/token",`key=${o}`),a=await t._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";const l={method:"POST",headers:a,body:r};return t.emulatorConfig&&al(t.emulatorConfig.host)&&(l.credentials="include"),Tk.fetch()(s,l)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function V$(t,e){return ki(t,"POST","/v2/accounts:revokeToken",Ai(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ta{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){de(e.idToken,"internal-error"),de(typeof e.idToken<"u","internal-error"),de(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Tb(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){de(e.length!==0,"internal-error");const n=Tb(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(de(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:o}=await L$(e,n);this.updateTokensAndExpiration(r,i,Number(o))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:o}=n,s=new Ta;return r&&(de(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(de(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&(de(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ta,this.toJSON())}_performRefresh(){return ni("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Li(t,e){de(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class sr{constructor({uid:e,auth:n,stsTokenManager:r,...i}){this.providerId="firebase",this.proactiveRefresh=new D$(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new dy(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await nu(this,this.stsTokenManager.getToken(this.auth,e));return de(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return R$(this,e)}reload(){return M$(this)}_assign(e){this!==e&&(de(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new sr({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){de(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await sh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Hn(this.auth.app))return Promise.reject(li(this.auth));const e=await this.getIdToken();return await nu(this,k$(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,i=n.email??void 0,o=n.phoneNumber??void 0,s=n.photoURL??void 0,a=n.tenantId??void 0,l=n._redirectEventId??void 0,c=n.createdAt??void 0,u=n.lastLoginAt??void 0,{uid:f,emailVerified:h,isAnonymous:g,providerData:x,stsTokenManager:w}=n;de(f&&w,e,"internal-error");const b=Ta.fromJSON(this.name,w);de(typeof f=="string",e,"internal-error"),Li(r,e.name),Li(i,e.name),de(typeof h=="boolean",e,"internal-error"),de(typeof g=="boolean",e,"internal-error"),Li(o,e.name),Li(s,e.name),Li(a,e.name),Li(l,e.name),Li(c,e.name),Li(u,e.name);const v=new sr({uid:f,auth:e,email:i,emailVerified:h,displayName:r,isAnonymous:g,photoURL:s,phoneNumber:o,tenantId:a,stsTokenManager:b,createdAt:c,lastLoginAt:u});return x&&Array.isArray(x)&&(v.providerData=x.map(y=>({...y}))),l&&(v._redirectEventId=l),v}static async _fromIdTokenResponse(e,n,r=!1){const i=new Ta;i.updateFromServerResponse(n);const o=new sr({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await sh(o),o}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];de(i.localId!==void 0,"internal-error");const o=i.providerUserInfo!==void 0?Pk(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!(o!=null&&o.length),a=new Ta;a.updateFromIdToken(r);const l=new sr({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:s}),c={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new dy(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(o!=null&&o.length)};return Object.assign(l,c),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cb=new Map;function ri(t){xi(t instanceof Function,"Expected a class definition");let e=Cb.get(t);return e?(xi(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,Cb.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ik{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}Ik.type="NONE";const Sb=Ik;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cf(t,e,n){return`firebase:${t}:${e}:${n}`}class Ca{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:o}=this.auth;this.fullUserKey=cf(this.userKey,i.apiKey,o),this.fullPersistenceKey=cf("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await oh(this.auth,{idToken:e}).catch(()=>{});return n?sr._fromGetAccountInfoResponse(this.auth,n,e):null}return sr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Ca(ri(Sb),e,r);const i=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let o=i[0]||ri(Sb);const s=cf(r,e.config.apiKey,e.name);let a=null;for(const c of n)try{const u=await c._get(s);if(u){let f;if(typeof u=="string"){const h=await oh(e,{idToken:u}).catch(()=>{});if(!h)break;f=await sr._fromGetAccountInfoResponse(e,h,u)}else f=sr._fromJSON(e,u);c!==o&&(a=f),o=c;break}}catch{}const l=i.filter(c=>c._shouldAllowMigration);return!o._shouldAllowMigration||!l.length?new Ca(o,e,r):(o=l[0],a&&await o._set(s,a.toJSON()),await Promise.all(n.map(async c=>{if(c!==o)try{await c._remove(s)}catch{}})),new Ca(o,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pb(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Nk(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Ak(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Mk(e))return"Blackberry";if(Ok(e))return"Webos";if(kk(e))return"Safari";if((e.includes("chrome/")||Rk(e))&&!e.includes("edge/"))return"Chrome";if(Dk(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function Ak(t=sn()){return/firefox\//i.test(t)}function kk(t=sn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Rk(t=sn()){return/crios\//i.test(t)}function Nk(t=sn()){return/iemobile/i.test(t)}function Dk(t=sn()){return/android/i.test(t)}function Mk(t=sn()){return/blackberry/i.test(t)}function Ok(t=sn()){return/webos/i.test(t)}function Nw(t=sn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function j$(t=sn()){var e;return Nw(t)&&!!((e=window.navigator)!=null&&e.standalone)}function F$(){return F5()&&document.documentMode===10}function Lk(t=sn()){return Nw(t)||Dk(t)||Ok(t)||Mk(t)||/windows phone/i.test(t)||Nk(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vk(t,e=[]){let n;switch(t){case"Browser":n=Pb(sn());break;case"Worker":n=`${Pb(sn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${ll}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $${constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=o=>new Promise((s,a)=>{try{const l=e(o);s(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function U$(t,e={}){return ki(t,"GET","/v2/passwordPolicy",Ai(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B$=6;class W${constructor(e){var r;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??B$,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((r=e.allowedNonAlphanumericCharacters)==null?void 0:r.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z${constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ib(this),this.idTokenSubscription=new Ib(this),this.beforeStateQueue=new $$(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Ek,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=ri(n)),this._initializationPromise=this.queue(async()=>{var r,i,o;if(!this._deleted&&(this.persistenceManager=await Ca.create(this,e),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((i=this._popupRedirectResolver)!=null&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((o=this.currentUser)==null?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await oh(this,{idToken:e}),r=await sr._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var o;if(Hn(this.app)){const s=this.app.settings.authIdToken;return s?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(a,a))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const s=(o=this.redirectUser)==null?void 0:o._redirectEventId,a=r==null?void 0:r._redirectEventId,l=await this.tryRedirectSignIn(e);(!s||s===a)&&(l!=null&&l.user)&&(r=l.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(s){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return de(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await sh(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=E$()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Hn(this.app))return Promise.reject(li(this));const n=e?Ht(e):null;return n&&de(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&de(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Hn(this.app)?Promise.reject(li(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Hn(this.app)?Promise.reject(li(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ri(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await U$(this),n=new W$(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new yu("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await V$(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&ri(e)||this._popupRedirectResolver;de(n,this,"argument-error"),this.redirectPersistenceManager=await Ca.create(this,[ri(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const o=typeof n=="function"?n:n.next.bind(n);let s=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(de(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{s=!0,l()}}else{const l=e.addObserver(n);return()=>{s=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return de(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Vk(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var i;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((i=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:i.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){var n;if(Hn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&w$(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function $o(t){return Ht(t)}class Ib{constructor(e){this.auth=e,this.observer=null,this.addObserver=G5(n=>this.observer=n)}get next(){return de(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let mp={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function H$(t){mp=t}function jk(t){return mp.loadJS(t)}function q$(){return mp.recaptchaEnterpriseScript}function G$(){return mp.gapiScript}function Y$(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class K${constructor(){this.enterprise=new Q$}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class Q${ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const X$="recaptcha-enterprise",Fk="NO_RECAPTCHA";class J${constructor(e){this.type=X$,this.auth=$o(e)}async verify(e="verify",n=!1){async function r(o){if(!n){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(s,a)=>{A$(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const c=new I$(l);return o.tenantId==null?o._agentRecaptchaConfig=c:o._tenantRecaptchaConfigs[o.tenantId]=c,s(c.siteKey)}}).catch(l=>{a(l)})})}function i(o,s,a){const l=window.grecaptcha;bb(l)?l.enterprise.ready(()=>{l.enterprise.execute(o,{action:e}).then(c=>{s(c)}).catch(()=>{s(Fk)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new K$().execute("siteKey",{action:"verify"}):new Promise((o,s)=>{r(this.auth).then(a=>{if(!n&&bb(window.grecaptcha))i(a,o,s);else{if(typeof window>"u"){s(new Error("RecaptchaVerifier is only supported in browser"));return}let l=q$();l.length!==0&&(l+=a),jk(l).then(()=>{i(a,o,s)}).catch(c=>{s(c)})}}).catch(a=>{s(a)})})}}async function Wl(t,e,n,r=!1,i=!1){const o=new J$(t);let s;if(i)s=Fk;else try{s=await o.verify(n)}catch{s=await o.verify(n,!0)}const a={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in a){const l=a.phoneEnrollmentInfo.phoneNumber,c=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:l,recaptchaToken:c,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){const l=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:l,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return r?Object.assign(a,{captchaResp:s}):Object.assign(a,{captchaResponse:s}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function ah(t,e,n,r,i){var o,s;if(i==="EMAIL_PASSWORD_PROVIDER")if((o=t._getRecaptchaConfig())!=null&&o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const a=await Wl(t,e,n,n==="getOobCode");return r(t,a)}else return r(t,e).catch(async a=>{if(a.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const l=await Wl(t,e,n,n==="getOobCode");return r(t,l)}else return Promise.reject(a)});else if(i==="PHONE_PROVIDER")if((s=t._getRecaptchaConfig())!=null&&s.isProviderEnabled("PHONE_PROVIDER")){const a=await Wl(t,e,n);return r(t,a).catch(async l=>{var c;if(((c=t._getRecaptchaConfig())==null?void 0:c.getProviderEnforcementState("PHONE_PROVIDER"))==="AUDIT"&&(l.code==="auth/missing-recaptcha-token"||l.code==="auth/invalid-app-credential")){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${n} flow.`);const u=await Wl(t,e,n,!1,!0);return r(t,u)}return Promise.reject(l)})}else{const a=await Wl(t,e,n,!1,!0);return r(t,a)}else return Promise.reject(i+" provider is not supported.")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z$(t,e){const n=G0(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),o=n.getOptions();if(ms(o,e??{}))return i;dr(i,"already-initialized")}return n.initialize({options:e})}function e9(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(ri);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function t9(t,e,n){const r=$o(t);de(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!(n!=null&&n.disableWarnings),o=$k(e),{host:s,port:a}=n9(e),l=a===null?"":`:${a}`,c={url:`${o}//${s}${l}/`},u=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){de(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),de(ms(c,r.config.emulator)&&ms(u,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=c,r.emulatorConfig=u,r.settings.appVerificationDisabledForTesting=!0,al(s)?(OI(`${o}//${s}${l}`),LI("Auth",!0)):i||r9()}function $k(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function n9(t){const e=$k(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const o=i[1];return{host:o,port:Ab(r.substr(o.length+1))}}else{const[o,s]=r.split(":");return{host:o,port:Ab(s)}}}function Ab(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function r9(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dw{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return ni("not implemented")}_getIdTokenResponse(e){return ni("not implemented")}_linkToIdToken(e,n){return ni("not implemented")}_getReauthenticationResolver(e){return ni("not implemented")}}async function i9(t,e){return ki(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function o9(t,e){return Su(t,"POST","/v1/accounts:signInWithPassword",Ai(t,e))}async function s9(t,e){return ki(t,"POST","/v1/accounts:sendOobCode",Ai(t,e))}async function a9(t,e){return s9(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function l9(t,e){return Su(t,"POST","/v1/accounts:signInWithEmailLink",Ai(t,e))}async function c9(t,e){return Su(t,"POST","/v1/accounts:signInWithEmailLink",Ai(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ru extends Dw{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new ru(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new ru(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return ah(e,n,"signInWithPassword",o9,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return l9(e,{email:this._email,oobCode:this._password});default:dr(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return ah(e,r,"signUpPassword",i9,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return c9(e,{idToken:n,email:this._email,oobCode:this._password});default:dr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Sa(t,e){return Su(t,"POST","/v1/accounts:signInWithIdp",Ai(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u9="http://localhost";class ws extends Dw{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new ws(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):dr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i,...o}=n;if(!r||!i)return null;const s=new ws(r,i);return s.idToken=o.idToken||void 0,s.accessToken=o.accessToken||void 0,s.secret=o.secret,s.nonce=o.nonce,s.pendingToken=o.pendingToken||null,s}_getIdTokenResponse(e){const n=this.buildRequest();return Sa(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Sa(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Sa(e,n)}buildRequest(){const e={requestUri:u9,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=wu(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d9(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function f9(t){const e=ec(tc(t)).link,n=e?ec(tc(e)).deep_link_id:null,r=ec(tc(t)).deep_link_id;return(r?ec(tc(r)).link:null)||r||n||e||t}class Mw{constructor(e){const n=ec(tc(e)),r=n.apiKey??null,i=n.oobCode??null,o=d9(n.mode??null);de(r&&i&&o,"argument-error"),this.apiKey=r,this.operation=o,this.code=i,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=f9(e);try{return new Mw(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ml{constructor(){this.providerId=ml.PROVIDER_ID}static credential(e,n){return ru._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=Mw.parseLink(n);return de(r,"argument-error"),ru._fromEmailAndCode(e,r.code,r.tenantId)}}ml.PROVIDER_ID="password";ml.EMAIL_PASSWORD_SIGN_IN_METHOD="password";ml.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uk{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pu extends Uk{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gi extends Pu{constructor(){super("facebook.com")}static credential(e){return ws._fromParams({providerId:Gi.PROVIDER_ID,signInMethod:Gi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Gi.credentialFromTaggedObject(e)}static credentialFromError(e){return Gi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Gi.credential(e.oauthAccessToken)}catch{return null}}}Gi.FACEBOOK_SIGN_IN_METHOD="facebook.com";Gi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yi extends Pu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return ws._fromParams({providerId:Yi.PROVIDER_ID,signInMethod:Yi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Yi.credentialFromTaggedObject(e)}static credentialFromError(e){return Yi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Yi.credential(n,r)}catch{return null}}}Yi.GOOGLE_SIGN_IN_METHOD="google.com";Yi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ki extends Pu{constructor(){super("github.com")}static credential(e){return ws._fromParams({providerId:Ki.PROVIDER_ID,signInMethod:Ki.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ki.credentialFromTaggedObject(e)}static credentialFromError(e){return Ki.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ki.credential(e.oauthAccessToken)}catch{return null}}}Ki.GITHUB_SIGN_IN_METHOD="github.com";Ki.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qi extends Pu{constructor(){super("twitter.com")}static credential(e,n){return ws._fromParams({providerId:Qi.PROVIDER_ID,signInMethod:Qi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Qi.credentialFromTaggedObject(e)}static credentialFromError(e){return Qi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Qi.credential(n,r)}catch{return null}}}Qi.TWITTER_SIGN_IN_METHOD="twitter.com";Qi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function h9(t,e){return Su(t,"POST","/v1/accounts:signUp",Ai(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xs{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const o=await sr._fromIdTokenResponse(e,r,i),s=kb(r);return new xs({user:o,providerId:s,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=kb(r);return new xs({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function kb(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lh extends Ii{constructor(e,n,r,i){super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,lh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new lh(e,n,r,i)}}function Bk(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?lh._fromErrorAndOperation(t,o,e,r):o})}async function p9(t,e,n=!1){const r=await nu(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return xs._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function m9(t,e,n=!1){const{auth:r}=t;if(Hn(r.app))return Promise.reject(li(r));const i="reauthenticate";try{const o=await nu(t,Bk(r,i,e,t),n);de(o.idToken,r,"internal-error");const s=Rw(o.idToken);de(s,r,"internal-error");const{sub:a}=s;return de(t.uid===a,r,"user-mismatch"),xs._forOperation(t,i,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&dr(r,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wk(t,e,n=!1){if(Hn(t.app))return Promise.reject(li(t));const r="signIn",i=await Bk(t,r,e),o=await xs._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(o.user),o}async function g9(t,e){return Wk($o(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v9(t,e,n){var r;de(((r=n.url)==null?void 0:r.length)>0,t,"invalid-continue-uri"),de(typeof n.dynamicLinkDomain>"u"||n.dynamicLinkDomain.length>0,t,"invalid-dynamic-link-domain"),de(typeof n.linkDomain>"u"||n.linkDomain.length>0,t,"invalid-hosting-link-domain"),e.continueUrl=n.url,e.dynamicLinkDomain=n.dynamicLinkDomain,e.linkDomain=n.linkDomain,e.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(de(n.iOS.bundleId.length>0,t,"missing-ios-bundle-id"),e.iOSBundleId=n.iOS.bundleId),n.android&&(de(n.android.packageName.length>0,t,"missing-android-pkg-name"),e.androidInstallApp=n.android.installApp,e.androidMinimumVersionCode=n.android.minimumVersion,e.androidPackageName=n.android.packageName)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zk(t){const e=$o(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function y9(t,e,n){const r=$o(t),i={requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"};n&&v9(r,i,n),await ah(r,i,"getOobCode",a9,"EMAIL_PASSWORD_PROVIDER")}async function w9(t,e,n){if(Hn(t.app))return Promise.reject(li(t));const r=$o(t),s=await ah(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",h9,"EMAIL_PASSWORD_PROVIDER").catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&zk(t),l}),a=await xs._fromIdTokenResponse(r,"signIn",s);return await r._updateCurrentUser(a.user),a}function x9(t,e,n){return Hn(t.app)?Promise.reject(li(t)):g9(Ht(t),ml.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&zk(t),r})}function _9(t,e,n,r){return Ht(t).onIdTokenChanged(e,n,r)}function E9(t,e,n){return Ht(t).beforeAuthStateChanged(e,n)}function b9(t,e,n,r){return Ht(t).onAuthStateChanged(e,n,r)}function T9(t){return Ht(t).signOut()}const ch="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hk{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(ch,"1"),this.storage.removeItem(ch),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C9=1e3,S9=10;class qk extends Hk{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Lk(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((s,a,l)=>{this.notifyListeners(s,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const s=this.storage.getItem(r);!n&&this.localCache[r]===s||this.notifyListeners(r,s)},o=this.storage.getItem(r);F$()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,S9):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},C9)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}qk.type="LOCAL";const P9=qk;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gk extends Hk{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}Gk.type="SESSION";const Yk=Gk;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I9(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gp{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new gp(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:o}=n.data,s=this.handlersMap[i];if(!(s!=null&&s.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(s).map(async c=>c(n.origin,o)),l=await I9(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}gp.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ow(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A9{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,s;return new Promise((a,l)=>{const c=Ow("",20);i.port1.start();const u=setTimeout(()=>{l(new Error("unsupported_event"))},r);s={messageChannel:i,onMessage(f){const h=f;if(h.data.eventId===c)switch(h.data.status){case"ack":clearTimeout(u),o=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),a(h.data.response);break;default:clearTimeout(u),clearTimeout(o),l(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Or(){return window}function k9(t){Or().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kk(){return typeof Or().WorkerGlobalScope<"u"&&typeof Or().importScripts=="function"}async function R9(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function N9(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function D9(){return Kk()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qk="firebaseLocalStorageDb",M9=1,uh="firebaseLocalStorage",Xk="fbase_key";class Iu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function vp(t,e){return t.transaction([uh],e?"readwrite":"readonly").objectStore(uh)}function O9(){const t=indexedDB.deleteDatabase(Qk);return new Iu(t).toPromise()}function fy(){const t=indexedDB.open(Qk,M9);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(uh,{keyPath:Xk})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(uh)?e(r):(r.close(),await O9(),e(await fy()))})})}async function Rb(t,e,n){const r=vp(t,!0).put({[Xk]:e,value:n});return new Iu(r).toPromise()}async function L9(t,e){const n=vp(t,!1).get(e),r=await new Iu(n).toPromise();return r===void 0?null:r.value}function Nb(t,e){const n=vp(t,!0).delete(e);return new Iu(n).toPromise()}const V9=800,j9=3;class Jk{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await fy(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>j9)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Kk()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=gp._getInstance(D9()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,r;if(this.activeServiceWorker=await R9(),!this.activeServiceWorker)return;this.sender=new A9(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(r=e[0])!=null&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||N9()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await fy();return await Rb(e,ch,"1"),await Nb(e,ch),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>Rb(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>L9(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Nb(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const o=vp(i,!1).getAll();return new Iu(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:o}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(o)&&(this.notifyListeners(i,o),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),V9)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Jk.type="LOCAL";const F9=Jk;new Cu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $9(t,e){return e?ri(e):(de(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lw extends Dw{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Sa(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Sa(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Sa(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function U9(t){return Wk(t.auth,new Lw(t),t.bypassAuthState)}function B9(t){const{auth:e,user:n}=t;return de(n,e,"internal-error"),m9(n,new Lw(t),t.bypassAuthState)}async function W9(t){const{auth:e,user:n}=t;return de(n,e,"internal-error"),p9(n,new Lw(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zk{constructor(e,n,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:o,error:s,type:a}=e;if(s){this.reject(s);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return U9;case"linkViaPopup":case"linkViaRedirect":return W9;case"reauthViaPopup":case"reauthViaRedirect":return B9;default:dr(this.auth,"internal-error")}}resolve(e){xi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){xi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z9=new Cu(2e3,1e4);class ua extends Zk{constructor(e,n,r,i,o){super(e,n,i,o),this.provider=r,this.authWindow=null,this.pollId=null,ua.currentPopupAction&&ua.currentPopupAction.cancel(),ua.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return de(e,this.auth,"internal-error"),e}async onExecution(){xi(this.filter.length===1,"Popup operations only handle one event");const e=Ow();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Mr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(Mr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ua.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if((r=(n=this.authWindow)==null?void 0:n.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Mr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,z9.get())};e()}}ua.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H9="pendingRedirect",uf=new Map;class q9 extends Zk{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=uf.get(this.auth._key());if(!e){try{const r=await G9(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}uf.set(this.auth._key(),e)}return this.bypassAuthState||uf.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function G9(t,e){const n=Q9(e),r=K9(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function Y9(t,e){uf.set(t._key(),e)}function K9(t){return ri(t._redirectPersistence)}function Q9(t){return cf(H9,t.config.apiKey,t.name)}async function X9(t,e,n=!1){if(Hn(t.app))return Promise.reject(li(t));const r=$o(t),i=$9(r,e),s=await new q9(r,i,n).execute();return s&&!n&&(delete s.user._redirectEventId,await r._persistUserIfCurrent(s.user),await r._setRedirectUser(null,e)),s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J9=10*60*1e3;class Z9{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!eU(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!eR(e)){const i=((r=e.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";n.onError(Mr(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=J9&&this.cachedEventUids.clear(),this.cachedEventUids.has(Db(e))}saveEventToCache(e){this.cachedEventUids.add(Db(e)),this.lastProcessedEventTime=Date.now()}}function Db(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function eR({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function eU(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return eR(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tU(t,e={}){return ki(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nU=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,rU=/^https?/;async function iU(t){if(t.config.emulator)return;const{authorizedDomains:e}=await tU(t);for(const n of e)try{if(oU(n))return}catch{}dr(t,"unauthorized-domain")}function oU(t){const e=uy(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const s=new URL(t);return s.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&s.hostname===r}if(!rU.test(n))return!1;if(nU.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sU=new Cu(3e4,6e4);function Mb(){const t=Or().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function aU(t){return new Promise((e,n)=>{var i,o,s;function r(){Mb(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Mb(),n(Mr(t,"network-request-failed"))},timeout:sU.get()})}if((o=(i=Or().gapi)==null?void 0:i.iframes)!=null&&o.Iframe)e(gapi.iframes.getContext());else if((s=Or().gapi)!=null&&s.load)r();else{const a=Y$("iframefcb");return Or()[a]=()=>{gapi.load?r():n(Mr(t,"network-request-failed"))},jk(`${G$()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw df=null,e})}let df=null;function lU(t){return df=df||aU(t),df}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cU=new Cu(5e3,15e3),uU="__/auth/iframe",dU="emulator/auth/iframe",fU={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},hU=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function pU(t){const e=t.config;de(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?kw(e,dU):`https://${t.config.authDomain}/${uU}`,r={apiKey:e.apiKey,appName:t.name,v:ll},i=hU.get(t.config.apiHost);i&&(r.eid=i);const o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${wu(r).slice(1)}`}async function mU(t){const e=await lU(t),n=Or().gapi;return de(n,t,"internal-error"),e.open({where:document.body,url:pU(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:fU,dontclear:!0},r=>new Promise(async(i,o)=>{await r.restyle({setHideOnLeave:!1});const s=Mr(t,"network-request-failed"),a=Or().setTimeout(()=>{o(s)},cU.get());function l(){Or().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{o(s)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gU={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},vU=500,yU=600,wU="_blank",xU="http://localhost";class Ob{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function _U(t,e,n,r=vU,i=yU){const o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l={...gU,width:r.toString(),height:i.toString(),top:o,left:s},c=sn().toLowerCase();n&&(a=Rk(c)?wU:n),Ak(c)&&(e=e||xU,l.scrollbars="yes");const u=Object.entries(l).reduce((h,[g,x])=>`${h}${g}=${x},`,"");if(j$(c)&&a!=="_self")return EU(e||"",a),new Ob(null);const f=window.open(e||"",a,u);de(f,t,"popup-blocked");try{f.focus()}catch{}return new Ob(f)}function EU(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bU="__/auth/handler",TU="emulator/auth/handler",CU=encodeURIComponent("fac");async function Lb(t,e,n,r,i,o){de(t.config.authDomain,t,"auth-domain-config-required"),de(t.config.apiKey,t,"invalid-api-key");const s={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:ll,eventId:i};if(e instanceof Uk){e.setDefaultLanguage(t.languageCode),s.providerId=e.providerId||"",q5(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(const[u,f]of Object.entries(o||{}))s[u]=f}if(e instanceof Pu){const u=e.getScopes().filter(f=>f!=="");u.length>0&&(s.scopes=u.join(","))}t.tenantId&&(s.tid=t.tenantId);const a=s;for(const u of Object.keys(a))a[u]===void 0&&delete a[u];const l=await t._getAppCheckToken(),c=l?`#${CU}=${encodeURIComponent(l)}`:"";return`${SU(t)}?${wu(a).slice(1)}${c}`}function SU({config:t}){return t.emulator?kw(t,TU):`https://${t.authDomain}/${bU}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rg="webStorageSupport";class PU{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Yk,this._completeRedirectFn=X9,this._overrideRedirectResult=Y9}async _openPopup(e,n,r,i){var s;xi((s=this.eventManagers[e._key()])==null?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await Lb(e,n,r,uy(),i);return _U(e,o,Ow())}async _openRedirect(e,n,r,i){await this._originValidation(e);const o=await Lb(e,n,r,uy(),i);return k9(o),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:o}=this.eventManagers[n];return i?Promise.resolve(i):(xi(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await mU(e),r=new Z9(e);return n.register("authEvent",i=>(de(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(rg,{type:rg},i=>{var s;const o=(s=i==null?void 0:i[0])==null?void 0:s[rg];o!==void 0&&n(!!o),dr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=iU(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return Lk()||kk()||Nw()}}const IU=PU;var Vb="@firebase/auth",jb="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AU{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){de(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kU(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function RU(t){Va(new gs("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;de(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:s,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Vk(t)},c=new z$(r,i,o,l);return e9(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Va(new gs("auth-internal",e=>{const n=$o(e.getProvider("auth").getImmediate());return(r=>new AU(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),po(Vb,jb,kU(t)),po(Vb,jb,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NU=5*60,DU=MI("authIdTokenMaxAge")||NU;let Fb=null;const MU=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>DU)return;const i=n==null?void 0:n.token;Fb!==i&&(Fb=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function OU(t=$I()){const e=G0(t,"auth");if(e.isInitialized())return e.getImmediate();const n=Z$(t,{popupRedirectResolver:IU,persistence:[F9,P9,Yk]}),r=MI("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(r,location.origin);if(location.origin===o.origin){const s=MU(o.toString());E9(n,s,()=>s(n.currentUser)),_9(n,a=>s(a))}}const i=NI("auth");return i&&t9(n,`http://${i}`),n}function LU(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}H$({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const o=Mr("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",LU().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});RU("Browser");const VU={apiKey:"AIzaSyB_DoE2lhYw7INy1ucJ3hQwXHBsQrmD-DY",authDomain:"rnf-app.firebaseapp.com",projectId:"rnf-app",storageBucket:"rnf-app.firebasestorage.app",messagingSenderId:"771820334247",appId:"1:771820334247:web:a096ff668dc8963f5b7f82"},tR=FI(VU),Cn=n$(tR),zl=OU(tR),nR=m.createContext(null),jU=({children:t})=>{const[e,n]=m.useState(null),[r,i]=m.useState(!0);m.useEffect(()=>{const c=b9(zl,u=>{n(u?{id:u.uid,uid:u.uid,email:u.email}:null),i(!1)});return()=>c()},[]);const o=async(c,u)=>{await x9(zl,c,u)},s=async(c,u)=>{await w9(zl,c,u)},a=async c=>{await y9(zl,c)},l=async()=>{await T9(zl),n(null)};return p.jsx(nR.Provider,{value:{user:e,login:o,register:s,logout:l,resetPassword:a,loadingAuth:r},children:t})},gl=()=>m.useContext(nR);function rR(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=rR(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function iR(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=rR(t))&&(r&&(r+=" "),r+=e);return r}function FU(){for(var t=0,e,n,r="";t<arguments.length;)(e=arguments[t++])&&(n=oR(e))&&(r&&(r+=" "),r+=n);return r}function oR(t){if(typeof t=="string")return t;for(var e,n="",r=0;r<t.length;r++)t[r]&&(e=oR(t[r]))&&(n&&(n+=" "),n+=e);return n}var Vw="-";function $U(t){var e=BU(t),n=t.conflictingClassGroups,r=t.conflictingClassGroupModifiers,i=r===void 0?{}:r;function o(a){var l=a.split(Vw);return l[0]===""&&l.length!==1&&l.shift(),sR(l,e)||UU(a)}function s(a,l){var c=n[a]||[];return l&&i[a]?[].concat(c,i[a]):c}return{getClassGroupId:o,getConflictingClassGroupIds:s}}function sR(t,e){var s;if(t.length===0)return e.classGroupId;var n=t[0],r=e.nextPart.get(n),i=r?sR(t.slice(1),r):void 0;if(i)return i;if(e.validators.length!==0){var o=t.join(Vw);return(s=e.validators.find(function(a){var l=a.validator;return l(o)}))==null?void 0:s.classGroupId}}var $b=/^\[(.+)\]$/;function UU(t){if($b.test(t)){var e=$b.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}}function BU(t){var e=t.theme,n=t.prefix,r={nextPart:new Map,validators:[]},i=zU(Object.entries(t.classGroups),n);return i.forEach(function(o){var s=o[0],a=o[1];hy(a,r,s,e)}),r}function hy(t,e,n,r){t.forEach(function(i){if(typeof i=="string"){var o=i===""?e:Ub(e,i);o.classGroupId=n;return}if(typeof i=="function"){if(WU(i)){hy(i(r),e,n,r);return}e.validators.push({validator:i,classGroupId:n});return}Object.entries(i).forEach(function(s){var a=s[0],l=s[1];hy(l,Ub(e,a),n,r)})})}function Ub(t,e){var n=t;return e.split(Vw).forEach(function(r){n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n}function WU(t){return t.isThemeGetter}function zU(t,e){return e?t.map(function(n){var r=n[0],i=n[1],o=i.map(function(s){return typeof s=="string"?e+s:typeof s=="object"?Object.fromEntries(Object.entries(s).map(function(a){var l=a[0],c=a[1];return[e+l,c]})):s});return[r,o]}):t}function HU(t){if(t<1)return{get:function(){},set:function(){}};var e=0,n=new Map,r=new Map;function i(o,s){n.set(o,s),e++,e>t&&(e=0,r=n,n=new Map)}return{get:function(s){var a=n.get(s);if(a!==void 0)return a;if((a=r.get(s))!==void 0)return i(s,a),a},set:function(s,a){n.has(s)?n.set(s,a):i(s,a)}}}var aR="!";function qU(t){var e=t.separator||":",n=e.length===1,r=e[0],i=e.length;return function(s){for(var a=[],l=0,c=0,u,f=0;f<s.length;f++){var h=s[f];if(l===0){if(h===r&&(n||s.slice(f,f+i)===e)){a.push(s.slice(c,f)),c=f+i;continue}if(h==="/"){u=f;continue}}h==="["?l++:h==="]"&&l--}var g=a.length===0?s:s.substring(c),x=g.startsWith(aR),w=x?g.substring(1):g,b=u&&u>c?u-c:void 0;return{modifiers:a,hasImportantModifier:x,baseClassName:w,maybePostfixModifierPosition:b}}}function GU(t){if(t.length<=1)return t;var e=[],n=[];return t.forEach(function(r){var i=r[0]==="[";i?(e.push.apply(e,n.sort().concat([r])),n=[]):n.push(r)}),e.push.apply(e,n.sort()),e}function YU(t){return{cache:HU(t.cacheSize),splitModifiers:qU(t),...$U(t)}}var KU=/\s+/;function QU(t,e){var n=e.splitModifiers,r=e.getClassGroupId,i=e.getConflictingClassGroupIds,o=new Set;return t.trim().split(KU).map(function(s){var a=n(s),l=a.modifiers,c=a.hasImportantModifier,u=a.baseClassName,f=a.maybePostfixModifierPosition,h=r(f?u.substring(0,f):u),g=!!f;if(!h){if(!f)return{isTailwindClass:!1,originalClassName:s};if(h=r(u),!h)return{isTailwindClass:!1,originalClassName:s};g=!1}var x=GU(l).join(":"),w=c?x+aR:x;return{isTailwindClass:!0,modifierId:w,classGroupId:h,originalClassName:s,hasPostfixModifier:g}}).reverse().filter(function(s){if(!s.isTailwindClass)return!0;var a=s.modifierId,l=s.classGroupId,c=s.hasPostfixModifier,u=a+l;return o.has(u)?!1:(o.add(u),i(l,c).forEach(function(f){return o.add(a+f)}),!0)}).reverse().map(function(s){return s.originalClassName}).join(" ")}function XU(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r,i,o,s=a;function a(c){var u=e[0],f=e.slice(1),h=f.reduce(function(g,x){return x(g)},u());return r=YU(h),i=r.cache.get,o=r.cache.set,s=l,l(c)}function l(c){var u=i(c);if(u)return u;var f=QU(c,r);return o(c,f),f}return function(){return s(FU.apply(null,arguments))}}function tt(t){var e=function(r){return r[t]||[]};return e.isThemeGetter=!0,e}var lR=/^\[(?:([a-z-]+):)?(.+)\]$/i,JU=/^\d+\/\d+$/,ZU=new Set(["px","full","screen"]),e7=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,t7=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,n7=/^-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/;function nr(t){return os(t)||ZU.has(t)||JU.test(t)||py(t)}function py(t){return ks(t,"length",l7)}function r7(t){return ks(t,"size",cR)}function i7(t){return ks(t,"position",cR)}function o7(t){return ks(t,"url",c7)}function Pd(t){return ks(t,"number",os)}function os(t){return!Number.isNaN(Number(t))}function s7(t){return t.endsWith("%")&&os(t.slice(0,-1))}function Hl(t){return Bb(t)||ks(t,"number",Bb)}function Ie(t){return lR.test(t)}function ql(){return!0}function Vi(t){return e7.test(t)}function a7(t){return ks(t,"",u7)}function ks(t,e,n){var r=lR.exec(t);return r?r[1]?r[1]===e:n(r[2]):!1}function l7(t){return t7.test(t)}function cR(){return!1}function c7(t){return t.startsWith("url(")}function Bb(t){return Number.isInteger(Number(t))}function u7(t){return n7.test(t)}function d7(){var t=tt("colors"),e=tt("spacing"),n=tt("blur"),r=tt("brightness"),i=tt("borderColor"),o=tt("borderRadius"),s=tt("borderSpacing"),a=tt("borderWidth"),l=tt("contrast"),c=tt("grayscale"),u=tt("hueRotate"),f=tt("invert"),h=tt("gap"),g=tt("gradientColorStops"),x=tt("gradientColorStopPositions"),w=tt("inset"),b=tt("margin"),v=tt("opacity"),y=tt("padding"),E=tt("saturate"),I=tt("scale"),N=tt("sepia"),O=tt("skew"),S=tt("space"),C=tt("translate"),P=function(){return["auto","contain","none"]},A=function(){return["auto","hidden","clip","visible","scroll"]},M=function(){return["auto",Ie,e]},D=function(){return[Ie,e]},R=function(){return["",nr]},B=function(){return["auto",os,Ie]},q=function(){return["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"]},Y=function(){return["solid","dashed","dotted","double","none"]},z=function(){return["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity","plus-lighter"]},L=function(){return["start","end","center","between","around","evenly","stretch"]},V=function(){return["","0",Ie]},$=function(){return["auto","avoid","all","avoid-page","page","left","right","column"]},F=function(){return[os,Pd]},W=function(){return[os,Ie]};return{cacheSize:500,theme:{colors:[ql],spacing:[nr],blur:["none","",Vi,Ie],brightness:F(),borderColor:[t],borderRadius:["none","","full",Vi,Ie],borderSpacing:D(),borderWidth:R(),contrast:F(),grayscale:V(),hueRotate:W(),invert:V(),gap:D(),gradientColorStops:[t],gradientColorStopPositions:[s7,py],inset:M(),margin:M(),opacity:F(),padding:D(),saturate:F(),scale:F(),sepia:V(),skew:W(),space:D(),translate:D()},classGroups:{aspect:[{aspect:["auto","square","video",Ie]}],container:["container"],columns:[{columns:[Vi]}],"break-after":[{"break-after":$()}],"break-before":[{"break-before":$()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none"]}],clear:[{clear:["left","right","both","none"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[].concat(q(),[Ie])}],overflow:[{overflow:A()}],"overflow-x":[{"overflow-x":A()}],"overflow-y":[{"overflow-y":A()}],overscroll:[{overscroll:P()}],"overscroll-x":[{"overscroll-x":P()}],"overscroll-y":[{"overscroll-y":P()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[w]}],"inset-x":[{"inset-x":[w]}],"inset-y":[{"inset-y":[w]}],start:[{start:[w]}],end:[{end:[w]}],top:[{top:[w]}],right:[{right:[w]}],bottom:[{bottom:[w]}],left:[{left:[w]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Hl]}],basis:[{basis:M()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Ie]}],grow:[{grow:V()}],shrink:[{shrink:V()}],order:[{order:["first","last","none",Hl]}],"grid-cols":[{"grid-cols":[ql]}],"col-start-end":[{col:["auto",{span:["full",Hl]},Ie]}],"col-start":[{"col-start":B()}],"col-end":[{"col-end":B()}],"grid-rows":[{"grid-rows":[ql]}],"row-start-end":[{row:["auto",{span:[Hl]},Ie]}],"row-start":[{"row-start":B()}],"row-end":[{"row-end":B()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Ie]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Ie]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal"].concat(L())}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal"].concat(L(),["baseline"])}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[].concat(L(),["baseline"])}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[y]}],px:[{px:[y]}],py:[{py:[y]}],ps:[{ps:[y]}],pe:[{pe:[y]}],pt:[{pt:[y]}],pr:[{pr:[y]}],pb:[{pb:[y]}],pl:[{pl:[y]}],m:[{m:[b]}],mx:[{mx:[b]}],my:[{my:[b]}],ms:[{ms:[b]}],me:[{me:[b]}],mt:[{mt:[b]}],mr:[{mr:[b]}],mb:[{mb:[b]}],ml:[{ml:[b]}],"space-x":[{"space-x":[S]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[S]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit",Ie,e]}],"min-w":[{"min-w":["min","max","fit",Ie,nr]}],"max-w":[{"max-w":["0","none","full","min","max","fit","prose",{screen:[Vi]},Vi,Ie]}],h:[{h:[Ie,e,"auto","min","max","fit"]}],"min-h":[{"min-h":["min","max","fit",Ie,nr]}],"max-h":[{"max-h":[Ie,e,"min","max","fit"]}],"font-size":[{text:["base",Vi,py]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Pd]}],"font-family":[{font:[ql]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Ie]}],"line-clamp":[{"line-clamp":["none",os,Pd]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Ie,nr]}],"list-image":[{"list-image":["none",Ie]}],"list-style-type":[{list:["none","disc","decimal",Ie]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[v]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[v]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[].concat(Y(),["wavy"])}],"text-decoration-thickness":[{decoration:["auto","from-font",nr]}],"underline-offset":[{"underline-offset":["auto",Ie,nr]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],indent:[{indent:D()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ie]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ie]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[v]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[].concat(q(),[i7])}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",r7]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},o7]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[x]}],"gradient-via-pos":[{via:[x]}],"gradient-to-pos":[{to:[x]}],"gradient-from":[{from:[g]}],"gradient-via":[{via:[g]}],"gradient-to":[{to:[g]}],rounded:[{rounded:[o]}],"rounded-s":[{"rounded-s":[o]}],"rounded-e":[{"rounded-e":[o]}],"rounded-t":[{"rounded-t":[o]}],"rounded-r":[{"rounded-r":[o]}],"rounded-b":[{"rounded-b":[o]}],"rounded-l":[{"rounded-l":[o]}],"rounded-ss":[{"rounded-ss":[o]}],"rounded-se":[{"rounded-se":[o]}],"rounded-ee":[{"rounded-ee":[o]}],"rounded-es":[{"rounded-es":[o]}],"rounded-tl":[{"rounded-tl":[o]}],"rounded-tr":[{"rounded-tr":[o]}],"rounded-br":[{"rounded-br":[o]}],"rounded-bl":[{"rounded-bl":[o]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[v]}],"border-style":[{border:[].concat(Y(),["hidden"])}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[v]}],"divide-style":[{divide:Y()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:[""].concat(Y())}],"outline-offset":[{"outline-offset":[Ie,nr]}],"outline-w":[{outline:[nr]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:R()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[v]}],"ring-offset-w":[{"ring-offset":[nr]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",Vi,a7]}],"shadow-color":[{shadow:[ql]}],opacity:[{opacity:[v]}],"mix-blend":[{"mix-blend":z()}],"bg-blend":[{"bg-blend":z()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",Vi,Ie]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[u]}],invert:[{invert:[f]}],saturate:[{saturate:[E]}],sepia:[{sepia:[N]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[u]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[v]}],"backdrop-saturate":[{"backdrop-saturate":[E]}],"backdrop-sepia":[{"backdrop-sepia":[N]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[s]}],"border-spacing-x":[{"border-spacing-x":[s]}],"border-spacing-y":[{"border-spacing-y":[s]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Ie]}],duration:[{duration:W()}],ease:[{ease:["linear","in","out","in-out",Ie]}],delay:[{delay:W()}],animate:[{animate:["none","spin","ping","pulse","bounce",Ie]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[I]}],"scale-x":[{"scale-x":[I]}],"scale-y":[{"scale-y":[I]}],rotate:[{rotate:[Hl,Ie]}],"translate-x":[{"translate-x":[C]}],"translate-y":[{"translate-y":[C]}],"skew-x":[{"skew-x":[O]}],"skew-y":[{"skew-y":[O]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Ie]}],accent:[{accent:["auto",t]}],appearance:["appearance-none"],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ie]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":D()}],"scroll-mx":[{"scroll-mx":D()}],"scroll-my":[{"scroll-my":D()}],"scroll-ms":[{"scroll-ms":D()}],"scroll-me":[{"scroll-me":D()}],"scroll-mt":[{"scroll-mt":D()}],"scroll-mr":[{"scroll-mr":D()}],"scroll-mb":[{"scroll-mb":D()}],"scroll-ml":[{"scroll-ml":D()}],"scroll-p":[{"scroll-p":D()}],"scroll-px":[{"scroll-px":D()}],"scroll-py":[{"scroll-py":D()}],"scroll-ps":[{"scroll-ps":D()}],"scroll-pe":[{"scroll-pe":D()}],"scroll-pt":[{"scroll-pt":D()}],"scroll-pr":[{"scroll-pr":D()}],"scroll-pb":[{"scroll-pb":D()}],"scroll-pl":[{"scroll-pl":D()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","pinch-zoom","manipulation",{pan:["x","left","right","y","up","down"]}]}],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ie]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[nr,Pd]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}}var f7=XU(d7);function Ne(...t){return f7(iR(t))}function Wb(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function h7(...t){return e=>{let n=!1;const r=t.map(i=>{const o=Wb(i,e);return!n&&typeof o=="function"&&(n=!0),o});if(n)return()=>{for(let i=0;i<r.length;i++){const o=r[i];typeof o=="function"?o():Wb(t[i],null)}}}}function lt(...t){return m.useCallback(h7(...t),t)}function Ha(t){const e=m7(t),n=m.forwardRef((r,i)=>{const{children:o,...s}=r,a=m.Children.toArray(o),l=a.find(v7);if(l){const c=l.props.children,u=a.map(f=>f===l?m.Children.count(c)>1?m.Children.only(null):m.isValidElement(c)?c.props.children:null:f);return p.jsx(e,{...s,ref:i,children:m.isValidElement(c)?m.cloneElement(c,void 0,u):null})}return p.jsx(e,{...s,ref:i,children:o})});return n.displayName=`${t}.Slot`,n}var p7=Ha("Slot");function m7(t){const e=m.forwardRef((n,r)=>{const{children:i,...o}=n,s=m.isValidElement(i)?w7(i):void 0,a=lt(s,r);if(m.isValidElement(i)){const l=y7(o,i.props);return i.type!==m.Fragment&&(l.ref=a),m.cloneElement(i,l)}return m.Children.count(i)>1?m.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var g7=Symbol("radix.slottable");function v7(t){return m.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===g7}function y7(t,e){const n={...e};for(const r in e){const i=t[r],o=e[r];/^on[A-Z]/.test(r)?i&&o?n[r]=(...a)=>{const l=o(...a);return i(...a),l}:i&&(n[r]=i):r==="style"?n[r]={...i,...o}:r==="className"&&(n[r]=[i,o].filter(Boolean).join(" "))}return{...t,...n}}function w7(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}const zb=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,Hb=iR,Au=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return Hb(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:i,defaultVariants:o}=e,s=Object.keys(i).map(c=>{const u=n==null?void 0:n[c],f=o==null?void 0:o[c];if(u===null)return null;const h=zb(u)||zb(f);return i[c][h]}),a=n&&Object.entries(n).reduce((c,u)=>{let[f,h]=u;return h===void 0||(c[f]=h),c},{}),l=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((c,u)=>{let{class:f,className:h,...g}=u;return Object.entries(g).every(x=>{let[w,b]=x;return Array.isArray(b)?b.includes({...o,...a}[w]):{...o,...a}[w]===b})?[...c,f,h]:c},[]);return Hb(t,s,l,n==null?void 0:n.class,n==null?void 0:n.className)},my=Au("inline-flex items-center justify-center rounded-lg text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-[#E27DBF] text-white hover:bg-[#FFB1DD]",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-lg px-3",lg:"h-11 rounded-lg px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),Te=xe.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...i},o)=>{const s=r?p7:"button";return p.jsx(s,{className:Ne(my({variant:e,size:n,className:t})),ref:o,...i})});Te.displayName="Button";const Lr=xe.forwardRef(({className:t,type:e,...n},r)=>p.jsx("input",{type:e,className:Ne("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:shadow-[0_0_0_3px_rgba(226,125,191,0.2)] disabled:cursor-not-allowed disabled:opacity-50",t),ref:r,...n}));Lr.displayName="Input";var x7=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],ze=x7.reduce((t,e)=>{const n=Ha(`Primitive.${e}`),r=m.forwardRef((i,o)=>{const{asChild:s,...a}=i,l=s?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),p.jsx(l,{...a,ref:o})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function uR(t,e){t&&Lo.flushSync(()=>t.dispatchEvent(e))}var _7="Label",dR=m.forwardRef((t,e)=>p.jsx(ze.label,{...t,ref:e,onMouseDown:n=>{var i;n.target.closest("button, input, select, textarea")||((i=t.onMouseDown)==null||i.call(t,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));dR.displayName=_7;var fR=dR;const E7=Au("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),kn=xe.forwardRef(({className:t,...e},n)=>p.jsx(fR,{ref:n,className:Ne(E7(),t),...e}));kn.displayName=fR.displayName;const b7=1;let ig=0;function T7(){return ig=(ig+1)%Number.MAX_VALUE,ig.toString()}const un={state:{toasts:[]},listeners:[],getState:()=>un.state,setState:t=>{typeof t=="function"?un.state=t(un.state):un.state={...un.state,...t},un.listeners.forEach(e=>e(un.state))},subscribe:t=>(un.listeners.push(t),()=>{un.listeners=un.listeners.filter(e=>e!==t)})},C7=({...t})=>{const e=T7(),n=i=>un.setState(o=>({...o,toasts:o.toasts.map(s=>s.id===e?{...s,...i}:s)})),r=()=>un.setState(i=>({...i,toasts:i.toasts.filter(o=>o.id!==e)}));return un.setState(i=>({...i,toasts:[{...t,id:e,dismiss:r},...i.toasts].slice(0,b7)})),{id:e,dismiss:r,update:n}};function vl(){const[t,e]=m.useState(un.getState());return m.useEffect(()=>un.subscribe(r=>{e(r)}),[]),m.useEffect(()=>{const n=[];return t.toasts.forEach(r=>{if(r.duration===1/0)return;const i=setTimeout(()=>{r.dismiss()},r.duration||5e3);n.push(i)}),()=>{n.forEach(r=>clearTimeout(r))}},[t.toasts]),{toast:C7,toasts:t.toasts}}const hR=m.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"}),yp=m.createContext({}),wp=m.createContext(null),xp=typeof document<"u",jw=xp?m.useLayoutEffect:m.useEffect,pR=m.createContext({strict:!1}),Fw=t=>t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),S7="framerAppearId",mR="data-"+Fw(S7);function P7(t,e,n,r){const{visualElement:i}=m.useContext(yp),o=m.useContext(pR),s=m.useContext(wp),a=m.useContext(hR).reducedMotion,l=m.useRef();r=r||o.renderer,!l.current&&r&&(l.current=r(t,{visualState:e,parent:i,props:n,presenceContext:s,blockInitialAnimation:s?s.initial===!1:!1,reducedMotionConfig:a}));const c=l.current;m.useInsertionEffect(()=>{c&&c.update(n,s)});const u=m.useRef(!!(n[mR]&&!window.HandoffComplete));return jw(()=>{c&&(c.render(),u.current&&c.animationState&&c.animationState.animateChanges())}),m.useEffect(()=>{c&&(c.updateFeatures(),!u.current&&c.animationState&&c.animationState.animateChanges(),u.current&&(u.current=!1,window.HandoffComplete=!0))}),c}function da(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function I7(t,e,n){return m.useCallback(r=>{r&&t.mount&&t.mount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):da(n)&&(n.current=r))},[e])}function iu(t){return typeof t=="string"||Array.isArray(t)}function _p(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}const $w=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Uw=["initial",...$w];function Ep(t){return _p(t.animate)||Uw.some(e=>iu(t[e]))}function gR(t){return!!(Ep(t)||t.variants)}function A7(t,e){if(Ep(t)){const{initial:n,animate:r}=t;return{initial:n===!1||iu(n)?n:void 0,animate:iu(r)?r:void 0}}return t.inherit!==!1?e:{}}function k7(t){const{initial:e,animate:n}=A7(t,m.useContext(yp));return m.useMemo(()=>({initial:e,animate:n}),[qb(e),qb(n)])}function qb(t){return Array.isArray(t)?t.join(" "):t}const Gb={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},ou={};for(const t in Gb)ou[t]={isEnabled:e=>Gb[t].some(n=>!!e[n])};function R7(t){for(const e in t)ou[e]={...ou[e],...t[e]}}const Bw=m.createContext({}),vR=m.createContext({}),N7=Symbol.for("motionComponentSymbol");function D7({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:i}){t&&R7(t);function o(a,l){let c;const u={...m.useContext(hR),...a,layoutId:M7(a)},{isStatic:f}=u,h=k7(a),g=r(a,f);if(!f&&xp){h.visualElement=P7(i,g,u,e);const x=m.useContext(vR),w=m.useContext(pR).strict;h.visualElement&&(c=h.visualElement.loadFeatures(u,w,t,x))}return m.createElement(yp.Provider,{value:h},c&&h.visualElement?m.createElement(c,{visualElement:h.visualElement,...u}):null,n(i,a,I7(g,h.visualElement,l),g,f,h.visualElement))}const s=m.forwardRef(o);return s[N7]=i,s}function M7({layoutId:t}){const e=m.useContext(Bw).id;return e&&t!==void 0?e+"-"+t:t}function O7(t){function e(r,i={}){return D7(t(r,i))}if(typeof Proxy>"u")return e;const n=new Map;return new Proxy(e,{get:(r,i)=>(n.has(i)||n.set(i,e(i)),n.get(i))})}const L7=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Ww(t){return typeof t!="string"||t.includes("-")?!1:!!(L7.indexOf(t)>-1||/[A-Z]/.test(t))}const dh={};function V7(t){Object.assign(dh,t)}const ku=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Rs=new Set(ku);function yR(t,{layout:e,layoutId:n}){return Rs.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!dh[t]||t==="opacity")}const Pn=t=>!!(t&&t.getVelocity),j7={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},F7=ku.length;function $7(t,{enableHardwareAcceleration:e=!0,allowTransformNone:n=!0},r,i){let o="";for(let s=0;s<F7;s++){const a=ku[s];if(t[a]!==void 0){const l=j7[a]||a;o+=`${l}(${t[a]}) `}}return e&&!t.z&&(o+="translateZ(0)"),o=o.trim(),i?o=i(t,r?"":o):n&&r&&(o="none"),o}const wR=t=>e=>typeof e=="string"&&e.startsWith(t),xR=wR("--"),gy=wR("var(--"),U7=/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,B7=(t,e)=>e&&typeof t=="number"?e.transform(t):t,Ao=(t,e,n)=>Math.min(Math.max(n,t),e),Ns={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Ec={...Ns,transform:t=>Ao(0,1,t)},Id={...Ns,default:1},bc=t=>Math.round(t*1e5)/1e5,bp=/(-)?([\d]*\.?[\d])+/g,_R=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,W7=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function Ru(t){return typeof t=="string"}const Nu=t=>({test:e=>Ru(e)&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Fi=Nu("deg"),Vr=Nu("%"),ge=Nu("px"),z7=Nu("vh"),H7=Nu("vw"),Yb={...Vr,parse:t=>Vr.parse(t)/100,transform:t=>Vr.transform(t*100)},Kb={...Ns,transform:Math.round},ER={borderWidth:ge,borderTopWidth:ge,borderRightWidth:ge,borderBottomWidth:ge,borderLeftWidth:ge,borderRadius:ge,radius:ge,borderTopLeftRadius:ge,borderTopRightRadius:ge,borderBottomRightRadius:ge,borderBottomLeftRadius:ge,width:ge,maxWidth:ge,height:ge,maxHeight:ge,size:ge,top:ge,right:ge,bottom:ge,left:ge,padding:ge,paddingTop:ge,paddingRight:ge,paddingBottom:ge,paddingLeft:ge,margin:ge,marginTop:ge,marginRight:ge,marginBottom:ge,marginLeft:ge,rotate:Fi,rotateX:Fi,rotateY:Fi,rotateZ:Fi,scale:Id,scaleX:Id,scaleY:Id,scaleZ:Id,skew:Fi,skewX:Fi,skewY:Fi,distance:ge,translateX:ge,translateY:ge,translateZ:ge,x:ge,y:ge,z:ge,perspective:ge,transformPerspective:ge,opacity:Ec,originX:Yb,originY:Yb,originZ:ge,zIndex:Kb,fillOpacity:Ec,strokeOpacity:Ec,numOctaves:Kb};function zw(t,e,n,r){const{style:i,vars:o,transform:s,transformOrigin:a}=t;let l=!1,c=!1,u=!0;for(const f in e){const h=e[f];if(xR(f)){o[f]=h;continue}const g=ER[f],x=B7(h,g);if(Rs.has(f)){if(l=!0,s[f]=x,!u)continue;h!==(g.default||0)&&(u=!1)}else f.startsWith("origin")?(c=!0,a[f]=x):i[f]=x}if(e.transform||(l||r?i.transform=$7(t.transform,n,u,r):i.transform&&(i.transform="none")),c){const{originX:f="50%",originY:h="50%",originZ:g=0}=a;i.transformOrigin=`${f} ${h} ${g}`}}const Hw=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function bR(t,e,n){for(const r in e)!Pn(e[r])&&!yR(r,n)&&(t[r]=e[r])}function q7({transformTemplate:t},e,n){return m.useMemo(()=>{const r=Hw();return zw(r,e,{enableHardwareAcceleration:!n},t),Object.assign({},r.vars,r.style)},[e])}function G7(t,e,n){const r=t.style||{},i={};return bR(i,r,t),Object.assign(i,q7(t,e,n)),t.transformValues?t.transformValues(i):i}function Y7(t,e,n){const r={},i=G7(t,e,n);return t.drag&&t.dragListener!==!1&&(r.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(r.tabIndex=0),r.style=i,r}const K7=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function fh(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||K7.has(t)}let TR=t=>!fh(t);function Q7(t){t&&(TR=e=>e.startsWith("on")?!fh(e):t(e))}try{Q7(require("@emotion/is-prop-valid").default)}catch{}function X7(t,e,n){const r={};for(const i in t)i==="values"&&typeof t.values=="object"||(TR(i)||n===!0&&fh(i)||!e&&!fh(i)||t.draggable&&i.startsWith("onDrag"))&&(r[i]=t[i]);return r}function Qb(t,e,n){return typeof t=="string"?t:ge.transform(e+n*t)}function J7(t,e,n){const r=Qb(e,t.x,t.width),i=Qb(n,t.y,t.height);return`${r} ${i}`}const Z7={offset:"stroke-dashoffset",array:"stroke-dasharray"},e8={offset:"strokeDashoffset",array:"strokeDasharray"};function t8(t,e,n=1,r=0,i=!0){t.pathLength=1;const o=i?Z7:e8;t[o.offset]=ge.transform(-r);const s=ge.transform(e),a=ge.transform(n);t[o.array]=`${s} ${a}`}function qw(t,{attrX:e,attrY:n,attrScale:r,originX:i,originY:o,pathLength:s,pathSpacing:a=1,pathOffset:l=0,...c},u,f,h){if(zw(t,c,u,h),f){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:g,style:x,dimensions:w}=t;g.transform&&(w&&(x.transform=g.transform),delete g.transform),w&&(i!==void 0||o!==void 0||x.transform)&&(x.transformOrigin=J7(w,i!==void 0?i:.5,o!==void 0?o:.5)),e!==void 0&&(g.x=e),n!==void 0&&(g.y=n),r!==void 0&&(g.scale=r),s!==void 0&&t8(g,s,a,l,!1)}const CR=()=>({...Hw(),attrs:{}}),Gw=t=>typeof t=="string"&&t.toLowerCase()==="svg";function n8(t,e,n,r){const i=m.useMemo(()=>{const o=CR();return qw(o,e,{enableHardwareAcceleration:!1},Gw(r),t.transformTemplate),{...o.attrs,style:{...o.style}}},[e]);if(t.style){const o={};bR(o,t.style,t),i.style={...o,...i.style}}return i}function r8(t=!1){return(n,r,i,{latestValues:o},s)=>{const l=(Ww(n)?n8:Y7)(r,o,s,n),u={...X7(r,typeof n=="string",t),...l,ref:i},{children:f}=r,h=m.useMemo(()=>Pn(f)?f.get():f,[f]);return m.createElement(n,{...u,children:h})}}function SR(t,{style:e,vars:n},r,i){Object.assign(t.style,e,i&&i.getProjectionStyles(r));for(const o in n)t.style.setProperty(o,n[o])}const PR=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function IR(t,e,n,r){SR(t,e,void 0,r);for(const i in e.attrs)t.setAttribute(PR.has(i)?i:Fw(i),e.attrs[i])}function Yw(t,e){const{style:n}=t,r={};for(const i in n)(Pn(n[i])||e.style&&Pn(e.style[i])||yR(i,t))&&(r[i]=n[i]);return r}function AR(t,e){const n=Yw(t,e);for(const r in t)if(Pn(t[r])||Pn(e[r])){const i=ku.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;n[i]=t[r]}return n}function Kw(t,e,n,r={},i={}){return typeof e=="function"&&(e=e(n!==void 0?n:t.custom,r,i)),typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"&&(e=e(n!==void 0?n:t.custom,r,i)),e}function kR(t){const e=m.useRef(null);return e.current===null&&(e.current=t()),e.current}const hh=t=>Array.isArray(t),i8=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),o8=t=>hh(t)?t[t.length-1]||0:t;function ff(t){const e=Pn(t)?t.get():t;return i8(e)?e.toValue():e}function s8({scrapeMotionValuesFromProps:t,createRenderState:e,onMount:n},r,i,o){const s={latestValues:a8(r,i,o,t),renderState:e()};return n&&(s.mount=a=>n(r,a,s)),s}const RR=t=>(e,n)=>{const r=m.useContext(yp),i=m.useContext(wp),o=()=>s8(t,e,r,i);return n?o():kR(o)};function a8(t,e,n,r){const i={},o=r(t,{});for(const h in o)i[h]=ff(o[h]);let{initial:s,animate:a}=t;const l=Ep(t),c=gR(t);e&&c&&!l&&t.inherit!==!1&&(s===void 0&&(s=e.initial),a===void 0&&(a=e.animate));let u=n?n.initial===!1:!1;u=u||s===!1;const f=u?a:s;return f&&typeof f!="boolean"&&!_p(f)&&(Array.isArray(f)?f:[f]).forEach(g=>{const x=Kw(t,g);if(!x)return;const{transitionEnd:w,transition:b,...v}=x;for(const y in v){let E=v[y];if(Array.isArray(E)){const I=u?E.length-1:0;E=E[I]}E!==null&&(i[y]=E)}for(const y in w)i[y]=w[y]}),i}const vt=t=>t;class Xb{constructor(){this.order=[],this.scheduled=new Set}add(e){if(!this.scheduled.has(e))return this.scheduled.add(e),this.order.push(e),!0}remove(e){const n=this.order.indexOf(e);n!==-1&&(this.order.splice(n,1),this.scheduled.delete(e))}clear(){this.order.length=0,this.scheduled.clear()}}function l8(t){let e=new Xb,n=new Xb,r=0,i=!1,o=!1;const s=new WeakSet,a={schedule:(l,c=!1,u=!1)=>{const f=u&&i,h=f?e:n;return c&&s.add(l),h.add(l)&&f&&i&&(r=e.order.length),l},cancel:l=>{n.remove(l),s.delete(l)},process:l=>{if(i){o=!0;return}if(i=!0,[e,n]=[n,e],n.clear(),r=e.order.length,r)for(let c=0;c<r;c++){const u=e.order[c];u(l),s.has(u)&&(a.schedule(u),t())}i=!1,o&&(o=!1,a.process(l))}};return a}const Ad=["prepare","read","update","preRender","render","postRender"],c8=40;function u8(t,e){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},o=Ad.reduce((f,h)=>(f[h]=l8(()=>n=!0),f),{}),s=f=>o[f].process(i),a=()=>{const f=performance.now();n=!1,i.delta=r?1e3/60:Math.max(Math.min(f-i.timestamp,c8),1),i.timestamp=f,i.isProcessing=!0,Ad.forEach(s),i.isProcessing=!1,n&&e&&(r=!1,t(a))},l=()=>{n=!0,r=!0,i.isProcessing||t(a)};return{schedule:Ad.reduce((f,h)=>{const g=o[h];return f[h]=(x,w=!1,b=!1)=>(n||l(),g.schedule(x,w,b)),f},{}),cancel:f=>Ad.forEach(h=>o[h].cancel(f)),state:i,steps:o}}const{schedule:Xe,cancel:_i,state:Zt,steps:og}=u8(typeof requestAnimationFrame<"u"?requestAnimationFrame:vt,!0),d8={useVisualState:RR({scrapeMotionValuesFromProps:AR,createRenderState:CR,onMount:(t,e,{renderState:n,latestValues:r})=>{Xe.read(()=>{try{n.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{n.dimensions={x:0,y:0,width:0,height:0}}}),Xe.render(()=>{qw(n,r,{enableHardwareAcceleration:!1},Gw(e.tagName),t.transformTemplate),IR(e,n)})}})},f8={useVisualState:RR({scrapeMotionValuesFromProps:Yw,createRenderState:Hw})};function h8(t,{forwardMotionProps:e=!1},n,r){return{...Ww(t)?d8:f8,preloadedFeatures:n,useRender:r8(e),createVisualElement:r,Component:t}}function ii(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}const NR=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1;function Tp(t,e="page"){return{point:{x:t[e+"X"],y:t[e+"Y"]}}}const p8=t=>e=>NR(e)&&t(e,Tp(e));function ci(t,e,n,r){return ii(t,e,p8(n),r)}const m8=(t,e)=>n=>e(t(n)),vo=(...t)=>t.reduce(m8);function DR(t){let e=null;return()=>{const n=()=>{e=null};return e===null?(e=t,n):!1}}const Jb=DR("dragHorizontal"),Zb=DR("dragVertical");function MR(t){let e=!1;if(t==="y")e=Zb();else if(t==="x")e=Jb();else{const n=Jb(),r=Zb();n&&r?e=()=>{n(),r()}:(n&&n(),r&&r())}return e}function OR(){const t=MR(!0);return t?(t(),!1):!0}class Uo{constructor(e){this.isMounted=!1,this.node=e}update(){}}function eT(t,e){const n="pointer"+(e?"enter":"leave"),r="onHover"+(e?"Start":"End"),i=(o,s)=>{if(o.pointerType==="touch"||OR())return;const a=t.getProps();t.animationState&&a.whileHover&&t.animationState.setActive("whileHover",e),a[r]&&Xe.update(()=>a[r](o,s))};return ci(t.current,n,i,{passive:!t.getProps()[r]})}class g8 extends Uo{mount(){this.unmount=vo(eT(this.node,!0),eT(this.node,!1))}unmount(){}}class v8 extends Uo{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=vo(ii(this.node.current,"focus",()=>this.onFocus()),ii(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const LR=(t,e)=>e?t===e?!0:LR(t,e.parentElement):!1;function sg(t,e){if(!e)return;const n=new PointerEvent("pointer"+t);e(n,Tp(n))}class y8 extends Uo{constructor(){super(...arguments),this.removeStartListeners=vt,this.removeEndListeners=vt,this.removeAccessibleListeners=vt,this.startPointerPress=(e,n)=>{if(this.isPressing)return;this.removeEndListeners();const r=this.node.getProps(),o=ci(window,"pointerup",(a,l)=>{if(!this.checkPressEnd())return;const{onTap:c,onTapCancel:u,globalTapTarget:f}=this.node.getProps();Xe.update(()=>{!f&&!LR(this.node.current,a.target)?u&&u(a,l):c&&c(a,l)})},{passive:!(r.onTap||r.onPointerUp)}),s=ci(window,"pointercancel",(a,l)=>this.cancelPress(a,l),{passive:!(r.onTapCancel||r.onPointerCancel)});this.removeEndListeners=vo(o,s),this.startPress(e,n)},this.startAccessiblePress=()=>{const e=o=>{if(o.key!=="Enter"||this.isPressing)return;const s=a=>{a.key!=="Enter"||!this.checkPressEnd()||sg("up",(l,c)=>{const{onTap:u}=this.node.getProps();u&&Xe.update(()=>u(l,c))})};this.removeEndListeners(),this.removeEndListeners=ii(this.node.current,"keyup",s),sg("down",(a,l)=>{this.startPress(a,l)})},n=ii(this.node.current,"keydown",e),r=()=>{this.isPressing&&sg("cancel",(o,s)=>this.cancelPress(o,s))},i=ii(this.node.current,"blur",r);this.removeAccessibleListeners=vo(n,i)}}startPress(e,n){this.isPressing=!0;const{onTapStart:r,whileTap:i}=this.node.getProps();i&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),r&&Xe.update(()=>r(e,n))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!OR()}cancelPress(e,n){if(!this.checkPressEnd())return;const{onTapCancel:r}=this.node.getProps();r&&Xe.update(()=>r(e,n))}mount(){const e=this.node.getProps(),n=ci(e.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(e.onTapStart||e.onPointerStart)}),r=ii(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=vo(n,r)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const vy=new WeakMap,ag=new WeakMap,w8=t=>{const e=vy.get(t.target);e&&e(t)},x8=t=>{t.forEach(w8)};function _8({root:t,...e}){const n=t||document;ag.has(n)||ag.set(n,{});const r=ag.get(n),i=JSON.stringify(e);return r[i]||(r[i]=new IntersectionObserver(x8,{root:t,...e})),r[i]}function E8(t,e,n){const r=_8(e);return vy.set(t,n),r.observe(t),()=>{vy.delete(t),r.unobserve(t)}}const b8={some:0,all:1};class T8 extends Uo{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:o}=e,s={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:b8[i]},a=l=>{const{isIntersecting:c}=l;if(this.isInView===c||(this.isInView=c,o&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:u,onViewportLeave:f}=this.node.getProps(),h=c?u:f;h&&h(l)};return E8(this.node.current,s,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(C8(e,n))&&this.startObserver()}unmount(){}}function C8({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const S8={inView:{Feature:T8},tap:{Feature:y8},focus:{Feature:v8},hover:{Feature:g8}};function VR(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}function P8(t){const e={};return t.values.forEach((n,r)=>e[r]=n.get()),e}function I8(t){const e={};return t.values.forEach((n,r)=>e[r]=n.getVelocity()),e}function Cp(t,e,n){const r=t.getProps();return Kw(r,e,n!==void 0?n:r.custom,P8(t),I8(t))}let A8=vt,Qw=vt;const yo=t=>t*1e3,ui=t=>t/1e3,k8={current:!1},jR=t=>Array.isArray(t)&&typeof t[0]=="number";function FR(t){return!!(!t||typeof t=="string"&&$R[t]||jR(t)||Array.isArray(t)&&t.every(FR))}const sc=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,$R={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:sc([0,.65,.55,1]),circOut:sc([.55,0,1,.45]),backIn:sc([.31,.01,.66,-.59]),backOut:sc([.33,1.53,.69,.99])};function UR(t){if(t)return jR(t)?sc(t):Array.isArray(t)?t.map(UR):$R[t]}function R8(t,e,n,{delay:r=0,duration:i,repeat:o=0,repeatType:s="loop",ease:a,times:l}={}){const c={[e]:n};l&&(c.offset=l);const u=UR(a);return Array.isArray(u)&&(c.easing=u),t.animate(c,{delay:r,duration:i,easing:Array.isArray(u)?"linear":u,fill:"both",iterations:o+1,direction:s==="reverse"?"alternate":"normal"})}function N8(t,{repeat:e,repeatType:n="loop"}){const r=e&&n!=="loop"&&e%2===1?0:t.length-1;return t[r]}const BR=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,D8=1e-7,M8=12;function O8(t,e,n,r,i){let o,s,a=0;do s=e+(n-e)/2,o=BR(s,r,i)-t,o>0?n=s:e=s;while(Math.abs(o)>D8&&++a<M8);return s}function Du(t,e,n,r){if(t===e&&n===r)return vt;const i=o=>O8(o,0,1,t,n);return o=>o===0||o===1?o:BR(i(o),e,r)}const L8=Du(.42,0,1,1),V8=Du(0,0,.58,1),WR=Du(.42,0,.58,1),j8=t=>Array.isArray(t)&&typeof t[0]!="number",zR=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,HR=t=>e=>1-t(1-e),Xw=t=>1-Math.sin(Math.acos(t)),qR=HR(Xw),F8=zR(Xw),GR=Du(.33,1.53,.69,.99),Jw=HR(GR),$8=zR(Jw),U8=t=>(t*=2)<1?.5*Jw(t):.5*(2-Math.pow(2,-10*(t-1))),B8={linear:vt,easeIn:L8,easeInOut:WR,easeOut:V8,circIn:Xw,circInOut:F8,circOut:qR,backIn:Jw,backInOut:$8,backOut:GR,anticipate:U8},tT=t=>{if(Array.isArray(t)){Qw(t.length===4);const[e,n,r,i]=t;return Du(e,n,r,i)}else if(typeof t=="string")return B8[t];return t},Zw=(t,e)=>n=>!!(Ru(n)&&W7.test(n)&&n.startsWith(t)||e&&Object.prototype.hasOwnProperty.call(n,e)),YR=(t,e,n)=>r=>{if(!Ru(r))return r;const[i,o,s,a]=r.match(bp);return{[t]:parseFloat(i),[e]:parseFloat(o),[n]:parseFloat(s),alpha:a!==void 0?parseFloat(a):1}},W8=t=>Ao(0,255,t),lg={...Ns,transform:t=>Math.round(W8(t))},ss={test:Zw("rgb","red"),parse:YR("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+lg.transform(t)+", "+lg.transform(e)+", "+lg.transform(n)+", "+bc(Ec.transform(r))+")"};function z8(t){let e="",n="",r="",i="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),i=t.substring(4,5),e+=e,n+=n,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const yy={test:Zw("#"),parse:z8,transform:ss.transform},fa={test:Zw("hsl","hue"),parse:YR("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+Vr.transform(bc(e))+", "+Vr.transform(bc(n))+", "+bc(Ec.transform(r))+")"},dn={test:t=>ss.test(t)||yy.test(t)||fa.test(t),parse:t=>ss.test(t)?ss.parse(t):fa.test(t)?fa.parse(t):yy.parse(t),transform:t=>Ru(t)?t:t.hasOwnProperty("red")?ss.transform(t):fa.transform(t)},ut=(t,e,n)=>-n*t+n*e+t;function cg(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function H8({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let i=0,o=0,s=0;if(!e)i=o=s=n;else{const a=n<.5?n*(1+e):n+e-n*e,l=2*n-a;i=cg(l,a,t+1/3),o=cg(l,a,t),s=cg(l,a,t-1/3)}return{red:Math.round(i*255),green:Math.round(o*255),blue:Math.round(s*255),alpha:r}}const ug=(t,e,n)=>{const r=t*t;return Math.sqrt(Math.max(0,n*(e*e-r)+r))},q8=[yy,ss,fa],G8=t=>q8.find(e=>e.test(t));function nT(t){const e=G8(t);let n=e.parse(t);return e===fa&&(n=H8(n)),n}const KR=(t,e)=>{const n=nT(t),r=nT(e),i={...n};return o=>(i.red=ug(n.red,r.red,o),i.green=ug(n.green,r.green,o),i.blue=ug(n.blue,r.blue,o),i.alpha=ut(n.alpha,r.alpha,o),ss.transform(i))};function Y8(t){var e,n;return isNaN(t)&&Ru(t)&&(((e=t.match(bp))===null||e===void 0?void 0:e.length)||0)+(((n=t.match(_R))===null||n===void 0?void 0:n.length)||0)>0}const QR={regex:U7,countKey:"Vars",token:"${v}",parse:vt},XR={regex:_R,countKey:"Colors",token:"${c}",parse:dn.parse},JR={regex:bp,countKey:"Numbers",token:"${n}",parse:Ns.parse};function dg(t,{regex:e,countKey:n,token:r,parse:i}){const o=t.tokenised.match(e);o&&(t["num"+n]=o.length,t.tokenised=t.tokenised.replace(e,r),t.values.push(...o.map(i)))}function ph(t){const e=t.toString(),n={value:e,tokenised:e,values:[],numVars:0,numColors:0,numNumbers:0};return n.value.includes("var(--")&&dg(n,QR),dg(n,XR),dg(n,JR),n}function ZR(t){return ph(t).values}function e2(t){const{values:e,numColors:n,numVars:r,tokenised:i}=ph(t),o=e.length;return s=>{let a=i;for(let l=0;l<o;l++)l<r?a=a.replace(QR.token,s[l]):l<r+n?a=a.replace(XR.token,dn.transform(s[l])):a=a.replace(JR.token,bc(s[l]));return a}}const K8=t=>typeof t=="number"?0:t;function Q8(t){const e=ZR(t);return e2(t)(e.map(K8))}const ko={test:Y8,parse:ZR,createTransformer:e2,getAnimatableNone:Q8},t2=(t,e)=>n=>`${n>0?e:t}`;function n2(t,e){return typeof t=="number"?n=>ut(t,e,n):dn.test(t)?KR(t,e):t.startsWith("var(")?t2(t,e):i2(t,e)}const r2=(t,e)=>{const n=[...t],r=n.length,i=t.map((o,s)=>n2(o,e[s]));return o=>{for(let s=0;s<r;s++)n[s]=i[s](o);return n}},X8=(t,e)=>{const n={...t,...e},r={};for(const i in n)t[i]!==void 0&&e[i]!==void 0&&(r[i]=n2(t[i],e[i]));return i=>{for(const o in r)n[o]=r[o](i);return n}},i2=(t,e)=>{const n=ko.createTransformer(e),r=ph(t),i=ph(e);return r.numVars===i.numVars&&r.numColors===i.numColors&&r.numNumbers>=i.numNumbers?vo(r2(r.values,i.values),n):t2(t,e)},su=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r},rT=(t,e)=>n=>ut(t,e,n);function J8(t){return typeof t=="number"?rT:typeof t=="string"?dn.test(t)?KR:i2:Array.isArray(t)?r2:typeof t=="object"?X8:rT}function Z8(t,e,n){const r=[],i=n||J8(t[0]),o=t.length-1;for(let s=0;s<o;s++){let a=i(t[s],t[s+1]);if(e){const l=Array.isArray(e)?e[s]||vt:e;a=vo(l,a)}r.push(a)}return r}function o2(t,e,{clamp:n=!0,ease:r,mixer:i}={}){const o=t.length;if(Qw(o===e.length),o===1)return()=>e[0];t[0]>t[o-1]&&(t=[...t].reverse(),e=[...e].reverse());const s=Z8(e,r,i),a=s.length,l=c=>{let u=0;if(a>1)for(;u<t.length-2&&!(c<t[u+1]);u++);const f=su(t[u],t[u+1],c);return s[u](f)};return n?c=>l(Ao(t[0],t[o-1],c)):l}function eB(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const i=su(0,e,r);t.push(ut(n,1,i))}}function tB(t){const e=[0];return eB(e,t.length-1),e}function nB(t,e){return t.map(n=>n*e)}function rB(t,e){return t.map(()=>e||WR).splice(0,t.length-1)}function mh({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const i=j8(r)?r.map(tT):tT(r),o={done:!1,value:e[0]},s=nB(n&&n.length===e.length?n:tB(e),t),a=o2(s,e,{ease:Array.isArray(i)?i:rB(e,i)});return{calculatedDuration:t,next:l=>(o.value=a(l),o.done=l>=t,o)}}function s2(t,e){return e?t*(1e3/e):0}const iB=5;function a2(t,e,n){const r=Math.max(e-iB,0);return s2(n-t(r),e-r)}const fg=.001,oB=.01,iT=10,sB=.05,aB=1;function lB({duration:t=800,bounce:e=.25,velocity:n=0,mass:r=1}){let i,o;A8(t<=yo(iT));let s=1-e;s=Ao(sB,aB,s),t=Ao(oB,iT,ui(t)),s<1?(i=c=>{const u=c*s,f=u*t,h=u-n,g=wy(c,s),x=Math.exp(-f);return fg-h/g*x},o=c=>{const f=c*s*t,h=f*n+n,g=Math.pow(s,2)*Math.pow(c,2)*t,x=Math.exp(-f),w=wy(Math.pow(c,2),s);return(-i(c)+fg>0?-1:1)*((h-g)*x)/w}):(i=c=>{const u=Math.exp(-c*t),f=(c-n)*t+1;return-fg+u*f},o=c=>{const u=Math.exp(-c*t),f=(n-c)*(t*t);return u*f});const a=5/t,l=uB(i,o,a);if(t=yo(t),isNaN(l))return{stiffness:100,damping:10,duration:t};{const c=Math.pow(l,2)*r;return{stiffness:c,damping:s*2*Math.sqrt(r*c),duration:t}}}const cB=12;function uB(t,e,n){let r=n;for(let i=1;i<cB;i++)r=r-t(r)/e(r);return r}function wy(t,e){return t*Math.sqrt(1-e*e)}const dB=["duration","bounce"],fB=["stiffness","damping","mass"];function oT(t,e){return e.some(n=>t[n]!==void 0)}function hB(t){let e={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...t};if(!oT(t,fB)&&oT(t,dB)){const n=lB(t);e={...e,...n,mass:1},e.isResolvedFromDuration=!0}return e}function l2({keyframes:t,restDelta:e,restSpeed:n,...r}){const i=t[0],o=t[t.length-1],s={done:!1,value:i},{stiffness:a,damping:l,mass:c,duration:u,velocity:f,isResolvedFromDuration:h}=hB({...r,velocity:-ui(r.velocity||0)}),g=f||0,x=l/(2*Math.sqrt(a*c)),w=o-i,b=ui(Math.sqrt(a/c)),v=Math.abs(w)<5;n||(n=v?.01:2),e||(e=v?.005:.5);let y;if(x<1){const E=wy(b,x);y=I=>{const N=Math.exp(-x*b*I);return o-N*((g+x*b*w)/E*Math.sin(E*I)+w*Math.cos(E*I))}}else if(x===1)y=E=>o-Math.exp(-b*E)*(w+(g+b*w)*E);else{const E=b*Math.sqrt(x*x-1);y=I=>{const N=Math.exp(-x*b*I),O=Math.min(E*I,300);return o-N*((g+x*b*w)*Math.sinh(O)+E*w*Math.cosh(O))/E}}return{calculatedDuration:h&&u||null,next:E=>{const I=y(E);if(h)s.done=E>=u;else{let N=g;E!==0&&(x<1?N=a2(y,E,I):N=0);const O=Math.abs(N)<=n,S=Math.abs(o-I)<=e;s.done=O&&S}return s.value=s.done?o:I,s}}}function sT({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:o=500,modifyTarget:s,min:a,max:l,restDelta:c=.5,restSpeed:u}){const f=t[0],h={done:!1,value:f},g=C=>a!==void 0&&C<a||l!==void 0&&C>l,x=C=>a===void 0?l:l===void 0||Math.abs(a-C)<Math.abs(l-C)?a:l;let w=n*e;const b=f+w,v=s===void 0?b:s(b);v!==b&&(w=v-f);const y=C=>-w*Math.exp(-C/r),E=C=>v+y(C),I=C=>{const P=y(C),A=E(C);h.done=Math.abs(P)<=c,h.value=h.done?v:A};let N,O;const S=C=>{g(h.value)&&(N=C,O=l2({keyframes:[h.value,x(h.value)],velocity:a2(E,C,h.value),damping:i,stiffness:o,restDelta:c,restSpeed:u}))};return S(0),{calculatedDuration:null,next:C=>{let P=!1;return!O&&N===void 0&&(P=!0,I(C),S(C)),N!==void 0&&C>N?O.next(C-N):(!P&&I(C),h)}}}const pB=t=>{const e=({timestamp:n})=>t(n);return{start:()=>Xe.update(e,!0),stop:()=>_i(e),now:()=>Zt.isProcessing?Zt.timestamp:performance.now()}},aT=2e4;function lT(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<aT;)e+=n,r=t.next(e);return e>=aT?1/0:e}const mB={decay:sT,inertia:sT,tween:mh,keyframes:mh,spring:l2};function gh({autoplay:t=!0,delay:e=0,driver:n=pB,keyframes:r,type:i="keyframes",repeat:o=0,repeatDelay:s=0,repeatType:a="loop",onPlay:l,onStop:c,onComplete:u,onUpdate:f,...h}){let g=1,x=!1,w,b;const v=()=>{b=new Promise(F=>{w=F})};v();let y;const E=mB[i]||mh;let I;E!==mh&&typeof r[0]!="number"&&(I=o2([0,100],r,{clamp:!1}),r=[0,100]);const N=E({...h,keyframes:r});let O;a==="mirror"&&(O=E({...h,keyframes:[...r].reverse(),velocity:-(h.velocity||0)}));let S="idle",C=null,P=null,A=null;N.calculatedDuration===null&&o&&(N.calculatedDuration=lT(N));const{calculatedDuration:M}=N;let D=1/0,R=1/0;M!==null&&(D=M+s,R=D*(o+1)-s);let B=0;const q=F=>{if(P===null)return;g>0&&(P=Math.min(P,F)),g<0&&(P=Math.min(F-R/g,P)),C!==null?B=C:B=Math.round(F-P)*g;const W=B-e*(g>=0?1:-1),K=g>=0?W<0:W>R;B=Math.max(W,0),S==="finished"&&C===null&&(B=R);let oe=B,he=N;if(o){const ce=Math.min(B,R)/D;let ne=Math.floor(ce),me=ce%1;!me&&ce>=1&&(me=1),me===1&&ne--,ne=Math.min(ne,o+1),!!(ne%2)&&(a==="reverse"?(me=1-me,s&&(me-=s/D)):a==="mirror"&&(he=O)),oe=Ao(0,1,me)*D}const ue=K?{done:!1,value:r[0]}:he.next(oe);I&&(ue.value=I(ue.value));let{done:X}=ue;!K&&M!==null&&(X=g>=0?B>=R:B<=0);const ae=C===null&&(S==="finished"||S==="running"&&X);return f&&f(ue.value),ae&&L(),ue},Y=()=>{y&&y.stop(),y=void 0},z=()=>{S="idle",Y(),w(),v(),P=A=null},L=()=>{S="finished",u&&u(),Y(),w()},V=()=>{if(x)return;y||(y=n(q));const F=y.now();l&&l(),C!==null?P=F-C:(!P||S==="finished")&&(P=F),S==="finished"&&v(),A=P,C=null,S="running",y.start()};t&&V();const $={then(F,W){return b.then(F,W)},get time(){return ui(B)},set time(F){F=yo(F),B=F,C!==null||!y||g===0?C=F:P=y.now()-F/g},get duration(){const F=N.calculatedDuration===null?lT(N):N.calculatedDuration;return ui(F)},get speed(){return g},set speed(F){F===g||!y||(g=F,$.time=ui(B))},get state(){return S},play:V,pause:()=>{S="paused",C=B},stop:()=>{x=!0,S!=="idle"&&(S="idle",c&&c(),z())},cancel:()=>{A!==null&&q(A),z()},complete:()=>{S="finished"},sample:F=>(P=0,q(F))};return $}function gB(t){let e;return()=>(e===void 0&&(e=t()),e)}const vB=gB(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),yB=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),kd=10,wB=2e4,xB=(t,e)=>e.type==="spring"||t==="backgroundColor"||!FR(e.ease);function _B(t,e,{onUpdate:n,onComplete:r,...i}){if(!(vB()&&yB.has(e)&&!i.repeatDelay&&i.repeatType!=="mirror"&&i.damping!==0&&i.type!=="inertia"))return!1;let s=!1,a,l,c=!1;const u=()=>{l=new Promise(E=>{a=E})};u();let{keyframes:f,duration:h=300,ease:g,times:x}=i;if(xB(e,i)){const E=gh({...i,repeat:0,delay:0});let I={done:!1,value:f[0]};const N=[];let O=0;for(;!I.done&&O<wB;)I=E.sample(O),N.push(I.value),O+=kd;x=void 0,f=N,h=O-kd,g="linear"}const w=R8(t.owner.current,e,f,{...i,duration:h,ease:g,times:x}),b=()=>{c=!1,w.cancel()},v=()=>{c=!0,Xe.update(b),a(),u()};return w.onfinish=()=>{c||(t.set(N8(f,i)),r&&r(),v())},{then(E,I){return l.then(E,I)},attachTimeline(E){return w.timeline=E,w.onfinish=null,vt},get time(){return ui(w.currentTime||0)},set time(E){w.currentTime=yo(E)},get speed(){return w.playbackRate},set speed(E){w.playbackRate=E},get duration(){return ui(h)},play:()=>{s||(w.play(),_i(b))},pause:()=>w.pause(),stop:()=>{if(s=!0,w.playState==="idle")return;const{currentTime:E}=w;if(E){const I=gh({...i,autoplay:!1});t.setWithVelocity(I.sample(E-kd).value,I.sample(E).value,kd)}v()},complete:()=>{c||w.finish()},cancel:v}}function EB({keyframes:t,delay:e,onUpdate:n,onComplete:r}){const i=()=>(n&&n(t[t.length-1]),r&&r(),{time:0,speed:1,duration:0,play:vt,pause:vt,stop:vt,then:o=>(o(),Promise.resolve()),cancel:vt,complete:vt});return e?gh({keyframes:[0,1],duration:0,delay:e,onComplete:i}):i()}const bB={type:"spring",stiffness:500,damping:25,restSpeed:10},TB=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),CB={type:"keyframes",duration:.8},SB={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},PB=(t,{keyframes:e})=>e.length>2?CB:Rs.has(t)?t.startsWith("scale")?TB(e[1]):bB:SB,xy=(t,e)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(ko.test(e)||e==="0")&&!e.startsWith("url(")),IB=new Set(["brightness","contrast","saturate","opacity"]);function AB(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(bp)||[];if(!r)return t;const i=n.replace(r,"");let o=IB.has(e)?1:0;return r!==n&&(o*=100),e+"("+o+i+")"}const kB=/([a-z-]*)\(.*?\)/g,_y={...ko,getAnimatableNone:t=>{const e=t.match(kB);return e?e.map(AB).join(" "):t}},RB={...ER,color:dn,backgroundColor:dn,outlineColor:dn,fill:dn,stroke:dn,borderColor:dn,borderTopColor:dn,borderRightColor:dn,borderBottomColor:dn,borderLeftColor:dn,filter:_y,WebkitFilter:_y},e1=t=>RB[t];function c2(t,e){let n=e1(t);return n!==_y&&(n=ko),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const u2=t=>/^0[^.\s]+$/.test(t);function NB(t){if(typeof t=="number")return t===0;if(t!==null)return t==="none"||t==="0"||u2(t)}function DB(t,e,n,r){const i=xy(e,n);let o;Array.isArray(n)?o=[...n]:o=[null,n];const s=r.from!==void 0?r.from:t.get();let a;const l=[];for(let c=0;c<o.length;c++)o[c]===null&&(o[c]=c===0?s:o[c-1]),NB(o[c])&&l.push(c),typeof o[c]=="string"&&o[c]!=="none"&&o[c]!=="0"&&(a=o[c]);if(i&&l.length&&a)for(let c=0;c<l.length;c++){const u=l[c];o[u]=c2(e,a)}return o}function MB({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:o,repeatType:s,repeatDelay:a,from:l,elapsed:c,...u}){return!!Object.keys(u).length}function t1(t,e){return t[e]||t.default||t}const OB={skipAnimations:!1},n1=(t,e,n,r={})=>i=>{const o=t1(r,t)||{},s=o.delay||r.delay||0;let{elapsed:a=0}=r;a=a-yo(s);const l=DB(e,t,n,o),c=l[0],u=l[l.length-1],f=xy(t,c),h=xy(t,u);let g={keyframes:l,velocity:e.getVelocity(),ease:"easeOut",...o,delay:-a,onUpdate:x=>{e.set(x),o.onUpdate&&o.onUpdate(x)},onComplete:()=>{i(),o.onComplete&&o.onComplete()}};if(MB(o)||(g={...g,...PB(t,g)}),g.duration&&(g.duration=yo(g.duration)),g.repeatDelay&&(g.repeatDelay=yo(g.repeatDelay)),!f||!h||k8.current||o.type===!1||OB.skipAnimations)return EB(g);if(!r.isHandoff&&e.owner&&e.owner.current instanceof HTMLElement&&!e.owner.getProps().onUpdate){const x=_B(e,t,g);if(x)return x}return gh(g)};function vh(t){return!!(Pn(t)&&t.add)}const d2=t=>/^\-?\d*\.?\d+$/.test(t);function r1(t,e){t.indexOf(e)===-1&&t.push(e)}function i1(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class o1{constructor(){this.subscriptions=[]}add(e){return r1(this.subscriptions,e),()=>i1(this.subscriptions,e)}notify(e,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,n,r);else for(let o=0;o<i;o++){const s=this.subscriptions[o];s&&s(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const LB=t=>!isNaN(parseFloat(t));class VB{constructor(e,n={}){this.version="10.18.0",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(r,i=!0)=>{this.prev=this.current,this.current=r;const{delta:o,timestamp:s}=Zt;this.lastUpdated!==s&&(this.timeDelta=o,this.lastUpdated=s,Xe.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>Xe.postRender(this.velocityCheck),this.velocityCheck=({timestamp:r})=>{r!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=e,this.canTrackVelocity=LB(this.current),this.owner=n.owner}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new o1);const r=this.events[e].add(n);return e==="change"?()=>{r(),Xe.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=e,this.timeDelta=r}jump(e){this.updateAndNotify(e),this.prev=e,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?s2(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function qa(t,e){return new VB(t,e)}const f2=t=>e=>e.test(t),jB={test:t=>t==="auto",parse:t=>t},h2=[Ns,ge,Vr,Fi,H7,z7,jB],Gl=t=>h2.find(f2(t)),FB=[...h2,dn,ko],$B=t=>FB.find(f2(t));function UB(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,qa(n))}function BB(t,e){const n=Cp(t,e);let{transitionEnd:r={},transition:i={},...o}=n?t.makeTargetAnimatable(n,!1):{};o={...o,...r};for(const s in o){const a=o8(o[s]);UB(t,s,a)}}function WB(t,e,n){var r,i;const o=Object.keys(e).filter(a=>!t.hasValue(a)),s=o.length;if(s)for(let a=0;a<s;a++){const l=o[a],c=e[l];let u=null;Array.isArray(c)&&(u=c[0]),u===null&&(u=(i=(r=n[l])!==null&&r!==void 0?r:t.readValue(l))!==null&&i!==void 0?i:e[l]),u!=null&&(typeof u=="string"&&(d2(u)||u2(u))?u=parseFloat(u):!$B(u)&&ko.test(c)&&(u=c2(l,c)),t.addValue(l,qa(u,{owner:t})),n[l]===void 0&&(n[l]=u),u!==null&&t.setBaseTarget(l,u))}}function zB(t,e){return e?(e[t]||e.default||e).from:void 0}function HB(t,e,n){const r={};for(const i in t){const o=zB(i,e);if(o!==void 0)r[i]=o;else{const s=n.getValue(i);s&&(r[i]=s.get())}}return r}function qB({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function GB(t,e){const n=t.get();if(Array.isArray(e)){for(let r=0;r<e.length;r++)if(e[r]!==n)return!0}else return n!==e}function p2(t,e,{delay:n=0,transitionOverride:r,type:i}={}){let{transition:o=t.getDefaultTransition(),transitionEnd:s,...a}=t.makeTargetAnimatable(e);const l=t.getValue("willChange");r&&(o=r);const c=[],u=i&&t.animationState&&t.animationState.getState()[i];for(const f in a){const h=t.getValue(f),g=a[f];if(!h||g===void 0||u&&qB(u,f))continue;const x={delay:n,elapsed:0,...t1(o||{},f)};if(window.HandoffAppearAnimations){const v=t.getProps()[mR];if(v){const y=window.HandoffAppearAnimations(v,f,h,Xe);y!==null&&(x.elapsed=y,x.isHandoff=!0)}}let w=!x.isHandoff&&!GB(h,g);if(x.type==="spring"&&(h.getVelocity()||x.velocity)&&(w=!1),h.animation&&(w=!1),w)continue;h.start(n1(f,h,g,t.shouldReduceMotion&&Rs.has(f)?{type:!1}:x));const b=h.animation;vh(l)&&(l.add(f),b.then(()=>l.remove(f))),c.push(b)}return s&&Promise.all(c).then(()=>{s&&BB(t,s)}),c}function Ey(t,e,n={}){const r=Cp(t,e,n.custom);let{transition:i=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(i=n.transitionOverride);const o=r?()=>Promise.all(p2(t,r,n)):()=>Promise.resolve(),s=t.variantChildren&&t.variantChildren.size?(l=0)=>{const{delayChildren:c=0,staggerChildren:u,staggerDirection:f}=i;return YB(t,e,c+l,u,f,n)}:()=>Promise.resolve(),{when:a}=i;if(a){const[l,c]=a==="beforeChildren"?[o,s]:[s,o];return l().then(()=>c())}else return Promise.all([o(),s(n.delay)])}function YB(t,e,n=0,r=0,i=1,o){const s=[],a=(t.variantChildren.size-1)*r,l=i===1?(c=0)=>c*r:(c=0)=>a-c*r;return Array.from(t.variantChildren).sort(KB).forEach((c,u)=>{c.notify("AnimationStart",e),s.push(Ey(c,e,{...o,delay:n+l(u)}).then(()=>c.notify("AnimationComplete",e)))}),Promise.all(s)}function KB(t,e){return t.sortNodePosition(e)}function QB(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const i=e.map(o=>Ey(t,o,n));r=Promise.all(i)}else if(typeof e=="string")r=Ey(t,e,n);else{const i=typeof e=="function"?Cp(t,e,n.custom):e;r=Promise.all(p2(t,i,n))}return r.then(()=>t.notify("AnimationComplete",e))}const XB=[...$w].reverse(),JB=$w.length;function ZB(t){return e=>Promise.all(e.map(({animation:n,options:r})=>QB(t,n,r)))}function eW(t){let e=ZB(t);const n=nW();let r=!0;const i=(l,c)=>{const u=Cp(t,c);if(u){const{transition:f,transitionEnd:h,...g}=u;l={...l,...g,...h}}return l};function o(l){e=l(t)}function s(l,c){const u=t.getProps(),f=t.getVariantContext(!0)||{},h=[],g=new Set;let x={},w=1/0;for(let v=0;v<JB;v++){const y=XB[v],E=n[y],I=u[y]!==void 0?u[y]:f[y],N=iu(I),O=y===c?E.isActive:null;O===!1&&(w=v);let S=I===f[y]&&I!==u[y]&&N;if(S&&r&&t.manuallyAnimateOnMount&&(S=!1),E.protectedKeys={...x},!E.isActive&&O===null||!I&&!E.prevProp||_p(I)||typeof I=="boolean")continue;let P=tW(E.prevProp,I)||y===c&&E.isActive&&!S&&N||v>w&&N,A=!1;const M=Array.isArray(I)?I:[I];let D=M.reduce(i,{});O===!1&&(D={});const{prevResolvedValues:R={}}=E,B={...R,...D},q=Y=>{P=!0,g.has(Y)&&(A=!0,g.delete(Y)),E.needsAnimating[Y]=!0};for(const Y in B){const z=D[Y],L=R[Y];if(x.hasOwnProperty(Y))continue;let V=!1;hh(z)&&hh(L)?V=!VR(z,L):V=z!==L,V?z!==void 0?q(Y):g.add(Y):z!==void 0&&g.has(Y)?q(Y):E.protectedKeys[Y]=!0}E.prevProp=I,E.prevResolvedValues=D,E.isActive&&(x={...x,...D}),r&&t.blockInitialAnimation&&(P=!1),P&&(!S||A)&&h.push(...M.map(Y=>({animation:Y,options:{type:y,...l}})))}if(g.size){const v={};g.forEach(y=>{const E=t.getBaseTarget(y);E!==void 0&&(v[y]=E)}),h.push({animation:v})}let b=!!h.length;return r&&(u.initial===!1||u.initial===u.animate)&&!t.manuallyAnimateOnMount&&(b=!1),r=!1,b?e(h):Promise.resolve()}function a(l,c,u){var f;if(n[l].isActive===c)return Promise.resolve();(f=t.variantChildren)===null||f===void 0||f.forEach(g=>{var x;return(x=g.animationState)===null||x===void 0?void 0:x.setActive(l,c)}),n[l].isActive=c;const h=s(u,l);for(const g in n)n[g].protectedKeys={};return h}return{animateChanges:s,setActive:a,setAnimateFunction:o,getState:()=>n}}function tW(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!VR(e,t):!1}function Go(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function nW(){return{animate:Go(!0),whileInView:Go(),whileHover:Go(),whileTap:Go(),whileDrag:Go(),whileFocus:Go(),exit:Go()}}class rW extends Uo{constructor(e){super(e),e.animationState||(e.animationState=eW(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();this.unmount(),_p(e)&&(this.unmount=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){}}let iW=0;class oW extends Uo{constructor(){super(...arguments),this.id=iW++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n,custom:r}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===i)return;const o=this.node.animationState.setActive("exit",!e,{custom:r??this.node.getProps().custom});n&&!e&&o.then(()=>n(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const sW={animation:{Feature:rW},exit:{Feature:oW}},cT=(t,e)=>Math.abs(t-e);function aW(t,e){const n=cT(t.x,e.x),r=cT(t.y,e.y);return Math.sqrt(n**2+r**2)}class m2{constructor(e,n,{transformPagePoint:r,contextWindow:i,dragSnapToOrigin:o=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const f=pg(this.lastMoveEventInfo,this.history),h=this.startEvent!==null,g=aW(f.offset,{x:0,y:0})>=3;if(!h&&!g)return;const{point:x}=f,{timestamp:w}=Zt;this.history.push({...x,timestamp:w});const{onStart:b,onMove:v}=this.handlers;h||(b&&b(this.lastMoveEvent,f),this.startEvent=this.lastMoveEvent),v&&v(this.lastMoveEvent,f)},this.handlePointerMove=(f,h)=>{this.lastMoveEvent=f,this.lastMoveEventInfo=hg(h,this.transformPagePoint),Xe.update(this.updatePoint,!0)},this.handlePointerUp=(f,h)=>{this.end();const{onEnd:g,onSessionEnd:x,resumeAnimation:w}=this.handlers;if(this.dragSnapToOrigin&&w&&w(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const b=pg(f.type==="pointercancel"?this.lastMoveEventInfo:hg(h,this.transformPagePoint),this.history);this.startEvent&&g&&g(f,b),x&&x(f,b)},!NR(e))return;this.dragSnapToOrigin=o,this.handlers=n,this.transformPagePoint=r,this.contextWindow=i||window;const s=Tp(e),a=hg(s,this.transformPagePoint),{point:l}=a,{timestamp:c}=Zt;this.history=[{...l,timestamp:c}];const{onSessionStart:u}=n;u&&u(e,pg(a,this.history)),this.removeListeners=vo(ci(this.contextWindow,"pointermove",this.handlePointerMove),ci(this.contextWindow,"pointerup",this.handlePointerUp),ci(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),_i(this.updatePoint)}}function hg(t,e){return e?{point:e(t.point)}:t}function uT(t,e){return{x:t.x-e.x,y:t.y-e.y}}function pg({point:t},e){return{point:t,delta:uT(t,g2(e)),offset:uT(t,lW(e)),velocity:cW(e,.1)}}function lW(t){return t[0]}function g2(t){return t[t.length-1]}function cW(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const i=g2(t);for(;n>=0&&(r=t[n],!(i.timestamp-r.timestamp>yo(e)));)n--;if(!r)return{x:0,y:0};const o=ui(i.timestamp-r.timestamp);if(o===0)return{x:0,y:0};const s={x:(i.x-r.x)/o,y:(i.y-r.y)/o};return s.x===1/0&&(s.x=0),s.y===1/0&&(s.y=0),s}function jn(t){return t.max-t.min}function by(t,e=0,n=.01){return Math.abs(t-e)<=n}function dT(t,e,n,r=.5){t.origin=r,t.originPoint=ut(e.min,e.max,t.origin),t.scale=jn(n)/jn(e),(by(t.scale,1,1e-4)||isNaN(t.scale))&&(t.scale=1),t.translate=ut(n.min,n.max,t.origin)-t.originPoint,(by(t.translate)||isNaN(t.translate))&&(t.translate=0)}function Tc(t,e,n,r){dT(t.x,e.x,n.x,r?r.originX:void 0),dT(t.y,e.y,n.y,r?r.originY:void 0)}function fT(t,e,n){t.min=n.min+e.min,t.max=t.min+jn(e)}function uW(t,e,n){fT(t.x,e.x,n.x),fT(t.y,e.y,n.y)}function hT(t,e,n){t.min=e.min-n.min,t.max=t.min+jn(e)}function Cc(t,e,n){hT(t.x,e.x,n.x),hT(t.y,e.y,n.y)}function dW(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?ut(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?ut(n,t,r.max):Math.min(t,n)),t}function pT(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function fW(t,{top:e,left:n,bottom:r,right:i}){return{x:pT(t.x,n,i),y:pT(t.y,e,r)}}function mT(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function hW(t,e){return{x:mT(t.x,e.x),y:mT(t.y,e.y)}}function pW(t,e){let n=.5;const r=jn(t),i=jn(e);return i>r?n=su(e.min,e.max-r,t.min):r>i&&(n=su(t.min,t.max-i,e.min)),Ao(0,1,n)}function mW(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const Ty=.35;function gW(t=Ty){return t===!1?t=0:t===!0&&(t=Ty),{x:gT(t,"left","right"),y:gT(t,"top","bottom")}}function gT(t,e,n){return{min:vT(t,e),max:vT(t,n)}}function vT(t,e){return typeof t=="number"?t:t[e]||0}const yT=()=>({translate:0,scale:1,origin:0,originPoint:0}),ha=()=>({x:yT(),y:yT()}),wT=()=>({min:0,max:0}),Ct=()=>({x:wT(),y:wT()});function Bn(t){return[t("x"),t("y")]}function v2({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function vW({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function yW(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function mg(t){return t===void 0||t===1}function Cy({scale:t,scaleX:e,scaleY:n}){return!mg(t)||!mg(e)||!mg(n)}function Xo(t){return Cy(t)||y2(t)||t.z||t.rotate||t.rotateX||t.rotateY}function y2(t){return xT(t.x)||xT(t.y)}function xT(t){return t&&t!=="0%"}function yh(t,e,n){const r=t-n,i=e*r;return n+i}function _T(t,e,n,r,i){return i!==void 0&&(t=yh(t,i,r)),yh(t,n,r)+e}function Sy(t,e=0,n=1,r,i){t.min=_T(t.min,e,n,r,i),t.max=_T(t.max,e,n,r,i)}function w2(t,{x:e,y:n}){Sy(t.x,e.translate,e.scale,e.originPoint),Sy(t.y,n.translate,n.scale,n.originPoint)}function wW(t,e,n,r=!1){const i=n.length;if(!i)return;e.x=e.y=1;let o,s;for(let a=0;a<i;a++){o=n[a],s=o.projectionDelta;const l=o.instance;l&&l.style&&l.style.display==="contents"||(r&&o.options.layoutScroll&&o.scroll&&o!==o.root&&pa(t,{x:-o.scroll.offset.x,y:-o.scroll.offset.y}),s&&(e.x*=s.x.scale,e.y*=s.y.scale,w2(t,s)),r&&Xo(o.latestValues)&&pa(t,o.latestValues))}e.x=ET(e.x),e.y=ET(e.y)}function ET(t){return Number.isInteger(t)||t>1.0000000000001||t<.999999999999?t:1}function zi(t,e){t.min=t.min+e,t.max=t.max+e}function bT(t,e,[n,r,i]){const o=e[i]!==void 0?e[i]:.5,s=ut(t.min,t.max,o);Sy(t,e[n],e[r],s,e.scale)}const xW=["x","scaleX","originX"],_W=["y","scaleY","originY"];function pa(t,e){bT(t.x,e,xW),bT(t.y,e,_W)}function x2(t,e){return v2(yW(t.getBoundingClientRect(),e))}function EW(t,e,n){const r=x2(t,n),{scroll:i}=e;return i&&(zi(r.x,i.offset.x),zi(r.y,i.offset.y)),r}const _2=({current:t})=>t?t.ownerDocument.defaultView:null,bW=new WeakMap;class TW{constructor(e){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Ct(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const i=u=>{const{dragSnapToOrigin:f}=this.getProps();f?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Tp(u,"page").point)},o=(u,f)=>{const{drag:h,dragPropagation:g,onDragStart:x}=this.getProps();if(h&&!g&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=MR(h),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Bn(b=>{let v=this.getAxisMotionValue(b).get()||0;if(Vr.test(v)){const{projection:y}=this.visualElement;if(y&&y.layout){const E=y.layout.layoutBox[b];E&&(v=jn(E)*(parseFloat(v)/100))}}this.originPoint[b]=v}),x&&Xe.update(()=>x(u,f),!1,!0);const{animationState:w}=this.visualElement;w&&w.setActive("whileDrag",!0)},s=(u,f)=>{const{dragPropagation:h,dragDirectionLock:g,onDirectionLock:x,onDrag:w}=this.getProps();if(!h&&!this.openGlobalLock)return;const{offset:b}=f;if(g&&this.currentDirection===null){this.currentDirection=CW(b),this.currentDirection!==null&&x&&x(this.currentDirection);return}this.updateAxis("x",f.point,b),this.updateAxis("y",f.point,b),this.visualElement.render(),w&&w(u,f)},a=(u,f)=>this.stop(u,f),l=()=>Bn(u=>{var f;return this.getAnimationState(u)==="paused"&&((f=this.getAxisMotionValue(u).animation)===null||f===void 0?void 0:f.play())}),{dragSnapToOrigin:c}=this.getProps();this.panSession=new m2(e,{onSessionStart:i,onStart:o,onMove:s,onSessionEnd:a,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:c,contextWindow:_2(this.visualElement)})}stop(e,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:i}=n;this.startAnimation(i);const{onDragEnd:o}=this.getProps();o&&Xe.update(()=>o(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:i}=this.getProps();if(!r||!Rd(e,i,this.currentDirection))return;const o=this.getAxisMotionValue(e);let s=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(s=dW(s,this.constraints[e],this.elastic[e])),o.set(s)}resolveConstraints(){var e;const{dragConstraints:n,dragElastic:r}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,o=this.constraints;n&&da(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&i?this.constraints=fW(i.layoutBox,n):this.constraints=!1,this.elastic=gW(r),o!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&Bn(s=>{this.getAxisMotionValue(s)&&(this.constraints[s]=mW(i.layoutBox[s],this.constraints[s]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!da(e))return!1;const r=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const o=EW(r,i.root,this.visualElement.getTransformPagePoint());let s=hW(i.layout.layoutBox,o);if(n){const a=n(vW(s));this.hasMutatedConstraints=!!a,a&&(s=v2(a))}return s}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:o,dragSnapToOrigin:s,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},c=Bn(u=>{if(!Rd(u,n,this.currentDirection))return;let f=l&&l[u]||{};s&&(f={min:0,max:0});const h=i?200:1e6,g=i?40:1e7,x={type:"inertia",velocity:r?e[u]:0,bounceStiffness:h,bounceDamping:g,timeConstant:750,restDelta:1,restSpeed:10,...o,...f};return this.startAxisValueAnimation(u,x)});return Promise.all(c).then(a)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return r.start(n1(e,r,0,n))}stopAnimation(){Bn(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Bn(e=>{var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(e){const n="_drag"+e.toUpperCase(),r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){Bn(n=>{const{drag:r}=this.getProps();if(!Rd(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,o=this.getAxisMotionValue(n);if(i&&i.layout){const{min:s,max:a}=i.layout.layoutBox[n];o.set(e[n]-ut(s,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!da(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};Bn(s=>{const a=this.getAxisMotionValue(s);if(a){const l=a.get();i[s]=pW({min:l,max:l},this.constraints[s])}});const{transformTemplate:o}=this.visualElement.getProps();this.visualElement.current.style.transform=o?o({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Bn(s=>{if(!Rd(s,e,null))return;const a=this.getAxisMotionValue(s),{min:l,max:c}=this.constraints[s];a.set(ut(l,c,i[s]))})}addListeners(){if(!this.visualElement.current)return;bW.set(this.visualElement,this);const e=this.visualElement.current,n=ci(e,"pointerdown",l=>{const{drag:c,dragListener:u=!0}=this.getProps();c&&u&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();da(l)&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,o=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),r();const s=ii(window,"resize",()=>this.scalePositionWithinConstraints()),a=i.addEventListener("didUpdate",({delta:l,hasLayoutChanged:c})=>{this.isDragging&&c&&(Bn(u=>{const f=this.getAxisMotionValue(u);f&&(this.originPoint[u]+=l[u].translate,f.set(f.get()+l[u].translate))}),this.visualElement.render())});return()=>{s(),n(),o(),a&&a()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:o=!1,dragElastic:s=Ty,dragMomentum:a=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:o,dragElastic:s,dragMomentum:a}}}function Rd(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function CW(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class SW extends Uo{constructor(e){super(e),this.removeGroupControls=vt,this.removeListeners=vt,this.controls=new TW(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||vt}unmount(){this.removeGroupControls(),this.removeListeners()}}const TT=t=>(e,n)=>{t&&Xe.update(()=>t(e,n))};class PW extends Uo{constructor(){super(...arguments),this.removePointerDownListener=vt}onPointerDown(e){this.session=new m2(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:_2(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:TT(e),onStart:TT(n),onMove:r,onEnd:(o,s)=>{delete this.session,i&&Xe.update(()=>i(o,s))}}}mount(){this.removePointerDownListener=ci(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function IW(){const t=m.useContext(wp);if(t===null)return[!0,null];const{isPresent:e,onExitComplete:n,register:r}=t,i=m.useId();return m.useEffect(()=>r(i),[]),!e&&n?[!1,()=>n&&n(i)]:[!0]}const hf={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function CT(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Yl={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(ge.test(t))t=parseFloat(t);else return t;const n=CT(t,e.target.x),r=CT(t,e.target.y);return`${n}% ${r}%`}},AW={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,i=ko.parse(t);if(i.length>5)return r;const o=ko.createTransformer(t),s=typeof i[0]!="number"?1:0,a=n.x.scale*e.x,l=n.y.scale*e.y;i[0+s]/=a,i[1+s]/=l;const c=ut(a,l,.5);return typeof i[2+s]=="number"&&(i[2+s]/=c),typeof i[3+s]=="number"&&(i[3+s]/=c),o(i)}};class kW extends xe.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:o}=e;V7(RW),o&&(n.group&&n.group.add(o),r&&r.register&&i&&r.register(o),o.root.didUpdate(),o.addEventListener("animationComplete",()=>{this.safeToRemove()}),o.setOptions({...o.options,onExitComplete:()=>this.safeToRemove()})),hf.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:i,isPresent:o}=this.props,s=r.projection;return s&&(s.isPresent=o,i||e.layoutDependency!==n||n===void 0?s.willUpdate():this.safeToRemove(),e.isPresent!==o&&(o?s.promote():s.relegate()||Xe.postRender(()=>{const a=s.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),queueMicrotask(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=e;i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function E2(t){const[e,n]=IW(),r=m.useContext(Bw);return xe.createElement(kW,{...t,layoutGroup:r,switchLayoutGroup:m.useContext(vR),isPresent:e,safeToRemove:n})}const RW={borderRadius:{...Yl,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Yl,borderTopRightRadius:Yl,borderBottomLeftRadius:Yl,borderBottomRightRadius:Yl,boxShadow:AW},b2=["TopLeft","TopRight","BottomLeft","BottomRight"],NW=b2.length,ST=t=>typeof t=="string"?parseFloat(t):t,PT=t=>typeof t=="number"||ge.test(t);function DW(t,e,n,r,i,o){i?(t.opacity=ut(0,n.opacity!==void 0?n.opacity:1,MW(r)),t.opacityExit=ut(e.opacity!==void 0?e.opacity:1,0,OW(r))):o&&(t.opacity=ut(e.opacity!==void 0?e.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let s=0;s<NW;s++){const a=`border${b2[s]}Radius`;let l=IT(e,a),c=IT(n,a);if(l===void 0&&c===void 0)continue;l||(l=0),c||(c=0),l===0||c===0||PT(l)===PT(c)?(t[a]=Math.max(ut(ST(l),ST(c),r),0),(Vr.test(c)||Vr.test(l))&&(t[a]+="%")):t[a]=c}(e.rotate||n.rotate)&&(t.rotate=ut(e.rotate||0,n.rotate||0,r))}function IT(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const MW=T2(0,.5,qR),OW=T2(.5,.95,vt);function T2(t,e,n){return r=>r<t?0:r>e?1:n(su(t,e,r))}function AT(t,e){t.min=e.min,t.max=e.max}function Un(t,e){AT(t.x,e.x),AT(t.y,e.y)}function kT(t,e,n,r,i){return t-=e,t=yh(t,1/n,r),i!==void 0&&(t=yh(t,1/i,r)),t}function LW(t,e=0,n=1,r=.5,i,o=t,s=t){if(Vr.test(e)&&(e=parseFloat(e),e=ut(s.min,s.max,e/100)-s.min),typeof e!="number")return;let a=ut(o.min,o.max,r);t===o&&(a-=e),t.min=kT(t.min,e,n,a,i),t.max=kT(t.max,e,n,a,i)}function RT(t,e,[n,r,i],o,s){LW(t,e[n],e[r],e[i],e.scale,o,s)}const VW=["x","scaleX","originX"],jW=["y","scaleY","originY"];function NT(t,e,n,r){RT(t.x,e,VW,n?n.x:void 0,r?r.x:void 0),RT(t.y,e,jW,n?n.y:void 0,r?r.y:void 0)}function DT(t){return t.translate===0&&t.scale===1}function C2(t){return DT(t.x)&&DT(t.y)}function FW(t,e){return t.x.min===e.x.min&&t.x.max===e.x.max&&t.y.min===e.y.min&&t.y.max===e.y.max}function S2(t,e){return Math.round(t.x.min)===Math.round(e.x.min)&&Math.round(t.x.max)===Math.round(e.x.max)&&Math.round(t.y.min)===Math.round(e.y.min)&&Math.round(t.y.max)===Math.round(e.y.max)}function MT(t){return jn(t.x)/jn(t.y)}class $W{constructor(){this.members=[]}add(e){r1(this.members,e),e.scheduleRender()}remove(e){if(i1(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(i=>e===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const o=this.members[i];if(o.isPresent!==!1){r=o;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function OT(t,e,n){let r="";const i=t.x.translate/e.x,o=t.y.translate/e.y;if((i||o)&&(r=`translate3d(${i}px, ${o}px, 0) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{rotate:l,rotateX:c,rotateY:u}=n;l&&(r+=`rotate(${l}deg) `),c&&(r+=`rotateX(${c}deg) `),u&&(r+=`rotateY(${u}deg) `)}const s=t.x.scale*e.x,a=t.y.scale*e.y;return(s!==1||a!==1)&&(r+=`scale(${s}, ${a})`),r||"none"}const UW=(t,e)=>t.depth-e.depth;class BW{constructor(){this.children=[],this.isDirty=!1}add(e){r1(this.children,e),this.isDirty=!0}remove(e){i1(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(UW),this.isDirty=!1,this.children.forEach(e)}}function WW(t,e){const n=performance.now(),r=({timestamp:i})=>{const o=i-n;o>=e&&(_i(r),t(o-e))};return Xe.read(r,!0),()=>_i(r)}function zW(t){window.MotionDebug&&window.MotionDebug.record(t)}function HW(t){return t instanceof SVGElement&&t.tagName!=="svg"}function qW(t,e,n){const r=Pn(t)?t:qa(t);return r.start(n1("",r,e,n)),r.animation}const LT=["","X","Y","Z"],GW={visibility:"hidden"},VT=1e3;let YW=0;const Jo={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function P2({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(s={},a=e==null?void 0:e()){this.id=YW++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Jo.totalNodes=Jo.resolvedTargetDeltas=Jo.recalculatedProjection=0,this.nodes.forEach(XW),this.nodes.forEach(nz),this.nodes.forEach(rz),this.nodes.forEach(JW),zW(Jo)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=s,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new BW)}addEventListener(s,a){return this.eventHandlers.has(s)||this.eventHandlers.set(s,new o1),this.eventHandlers.get(s).add(a)}notifyListeners(s,...a){const l=this.eventHandlers.get(s);l&&l.notify(...a)}hasListeners(s){return this.eventHandlers.has(s)}mount(s,a=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=HW(s),this.instance=s;const{layoutId:l,layout:c,visualElement:u}=this.options;if(u&&!u.current&&u.mount(s),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),a&&(c||l)&&(this.isLayoutDirty=!0),t){let f;const h=()=>this.root.updateBlockedByResize=!1;t(s,()=>{this.root.updateBlockedByResize=!0,f&&f(),f=WW(h,250),hf.hasAnimatedSinceResize&&(hf.hasAnimatedSinceResize=!1,this.nodes.forEach(FT))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&u&&(l||c)&&this.addEventListener("didUpdate",({delta:f,hasLayoutChanged:h,hasRelativeTargetChanged:g,layout:x})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const w=this.options.transition||u.getDefaultTransition()||lz,{onLayoutAnimationStart:b,onLayoutAnimationComplete:v}=u.getProps(),y=!this.targetLayout||!S2(this.targetLayout,x)||g,E=!h&&g;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||E||h&&(y||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(f,E);const I={...t1(w,"layout"),onPlay:b,onComplete:v};(u.shouldReduceMotion||this.options.layoutRoot)&&(I.delay=0,I.type=!1),this.startAnimation(I)}else h||FT(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=x})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const s=this.getStack();s&&s.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,_i(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(iz),this.animationId++)}getTransformTemplate(){const{visualElement:s}=this.options;return s&&s.getProps().transformTemplate}willUpdate(s=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let u=0;u<this.path.length;u++){const f=this.path[u];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),s&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(jT);return}this.isUpdating||this.nodes.forEach(ez),this.isUpdating=!1,this.nodes.forEach(tz),this.nodes.forEach(KW),this.nodes.forEach(QW),this.clearAllSnapshots();const a=performance.now();Zt.delta=Ao(0,1e3/60,a-Zt.timestamp),Zt.timestamp=a,Zt.isProcessing=!0,og.update.process(Zt),og.preRender.process(Zt),og.render.process(Zt),Zt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(ZW),this.sharedNodes.forEach(oz)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Xe.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Xe.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const s=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Ct(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,s?s.layoutBox:void 0)}updateScroll(s="measure"){let a=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===s&&(a=!1),a&&(this.scroll={animationId:this.root.animationId,phase:s,isRoot:r(this.instance),offset:n(this.instance)})}resetTransform(){if(!i)return;const s=this.isLayoutDirty||this.shouldResetTransform,a=this.projectionDelta&&!C2(this.projectionDelta),l=this.getTransformTemplate(),c=l?l(this.latestValues,""):void 0,u=c!==this.prevTransformTemplateValue;s&&(a||Xo(this.latestValues)||u)&&(i(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(s=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return s&&(l=this.removeTransform(l)),cz(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:s}=this.options;if(!s)return Ct();const a=s.measureViewportBox(),{scroll:l}=this.root;return l&&(zi(a.x,l.offset.x),zi(a.y,l.offset.y)),a}removeElementScroll(s){const a=Ct();Un(a,s);for(let l=0;l<this.path.length;l++){const c=this.path[l],{scroll:u,options:f}=c;if(c!==this.root&&u&&f.layoutScroll){if(u.isRoot){Un(a,s);const{scroll:h}=this.root;h&&(zi(a.x,-h.offset.x),zi(a.y,-h.offset.y))}zi(a.x,u.offset.x),zi(a.y,u.offset.y)}}return a}applyTransform(s,a=!1){const l=Ct();Un(l,s);for(let c=0;c<this.path.length;c++){const u=this.path[c];!a&&u.options.layoutScroll&&u.scroll&&u!==u.root&&pa(l,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),Xo(u.latestValues)&&pa(l,u.latestValues)}return Xo(this.latestValues)&&pa(l,this.latestValues),l}removeTransform(s){const a=Ct();Un(a,s);for(let l=0;l<this.path.length;l++){const c=this.path[l];if(!c.instance||!Xo(c.latestValues))continue;Cy(c.latestValues)&&c.updateSnapshot();const u=Ct(),f=c.measurePageBox();Un(u,f),NT(a,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,u)}return Xo(this.latestValues)&&NT(a,this.latestValues),a}setTargetDelta(s){this.targetDelta=s,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(s){this.options={...this.options,...s,crossfade:s.crossfade!==void 0?s.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Zt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(s=!1){var a;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==l;if(!(s||c&&this.isSharedProjectionDirty||this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:f,layoutId:h}=this.options;if(!(!this.layout||!(f||h))){if(this.resolvedRelativeTargetAt=Zt.timestamp,!this.targetDelta&&!this.relativeTarget){const g=this.getClosestProjectingParent();g&&g.layout&&this.animationProgress!==1?(this.relativeParent=g,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ct(),this.relativeTargetOrigin=Ct(),Cc(this.relativeTargetOrigin,this.layout.layoutBox,g.layout.layoutBox),Un(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=Ct(),this.targetWithTransforms=Ct()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),uW(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Un(this.target,this.layout.layoutBox),w2(this.target,this.targetDelta)):Un(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const g=this.getClosestProjectingParent();g&&!!g.resumingFrom==!!this.resumingFrom&&!g.options.layoutScroll&&g.target&&this.animationProgress!==1?(this.relativeParent=g,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ct(),this.relativeTargetOrigin=Ct(),Cc(this.relativeTargetOrigin,this.target,g.target),Un(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Jo.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||Cy(this.parent.latestValues)||y2(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var s;const a=this.getLead(),l=!!this.resumingFrom||this!==a;let c=!0;if((this.isProjectionDirty||!((s=this.parent)===null||s===void 0)&&s.isProjectionDirty)&&(c=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===Zt.timestamp&&(c=!1),c)return;const{layout:u,layoutId:f}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||f))return;Un(this.layoutCorrected,this.layout.layoutBox);const h=this.treeScale.x,g=this.treeScale.y;wW(this.layoutCorrected,this.treeScale,this.path,l),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox);const{target:x}=a;if(!x){this.projectionTransform&&(this.projectionDelta=ha(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=ha(),this.projectionDeltaWithTransform=ha());const w=this.projectionTransform;Tc(this.projectionDelta,this.layoutCorrected,x,this.latestValues),this.projectionTransform=OT(this.projectionDelta,this.treeScale),(this.projectionTransform!==w||this.treeScale.x!==h||this.treeScale.y!==g)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",x)),Jo.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(s=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),s){const a=this.getStack();a&&a.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(s,a=!1){const l=this.snapshot,c=l?l.latestValues:{},u={...this.latestValues},f=ha();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const h=Ct(),g=l?l.source:void 0,x=this.layout?this.layout.source:void 0,w=g!==x,b=this.getStack(),v=!b||b.members.length<=1,y=!!(w&&!v&&this.options.crossfade===!0&&!this.path.some(az));this.animationProgress=0;let E;this.mixTargetDelta=I=>{const N=I/1e3;$T(f.x,s.x,N),$T(f.y,s.y,N),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Cc(h,this.layout.layoutBox,this.relativeParent.layout.layoutBox),sz(this.relativeTarget,this.relativeTargetOrigin,h,N),E&&FW(this.relativeTarget,E)&&(this.isProjectionDirty=!1),E||(E=Ct()),Un(E,this.relativeTarget)),w&&(this.animationValues=u,DW(u,c,this.latestValues,N,y,v)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=N},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(s){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(_i(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Xe.update(()=>{hf.hasAnimatedSinceResize=!0,this.currentAnimation=qW(0,VT,{...s,onUpdate:a=>{this.mixTargetDelta(a),s.onUpdate&&s.onUpdate(a)},onComplete:()=>{s.onComplete&&s.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const s=this.getStack();s&&s.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(VT),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const s=this.getLead();let{targetWithTransforms:a,target:l,layout:c,latestValues:u}=s;if(!(!a||!l||!c)){if(this!==s&&this.layout&&c&&I2(this.options.animationType,this.layout.layoutBox,c.layoutBox)){l=this.target||Ct();const f=jn(this.layout.layoutBox.x);l.x.min=s.target.x.min,l.x.max=l.x.min+f;const h=jn(this.layout.layoutBox.y);l.y.min=s.target.y.min,l.y.max=l.y.min+h}Un(a,l),pa(a,u),Tc(this.projectionDeltaWithTransform,this.layoutCorrected,a,u)}}registerSharedNode(s,a){this.sharedNodes.has(s)||this.sharedNodes.set(s,new $W),this.sharedNodes.get(s).add(a);const c=a.options.initialPromotionConfig;a.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(a):void 0})}isLead(){const s=this.getStack();return s?s.lead===this:!0}getLead(){var s;const{layoutId:a}=this.options;return a?((s=this.getStack())===null||s===void 0?void 0:s.lead)||this:this}getPrevLead(){var s;const{layoutId:a}=this.options;return a?(s=this.getStack())===null||s===void 0?void 0:s.prevLead:void 0}getStack(){const{layoutId:s}=this.options;if(s)return this.root.sharedNodes.get(s)}promote({needsReset:s,transition:a,preserveFollowOpacity:l}={}){const c=this.getStack();c&&c.promote(this,l),s&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const s=this.getStack();return s?s.relegate(this):!1}resetRotation(){const{visualElement:s}=this.options;if(!s)return;let a=!1;const{latestValues:l}=s;if((l.rotate||l.rotateX||l.rotateY||l.rotateZ)&&(a=!0),!a)return;const c={};for(let u=0;u<LT.length;u++){const f="rotate"+LT[u];l[f]&&(c[f]=l[f],s.setStaticValue(f,0))}s.render();for(const u in c)s.setStaticValue(u,c[u]);s.scheduleRender()}getProjectionStyles(s){var a,l;if(!this.instance||this.isSVG)return;if(!this.isVisible)return GW;const c={visibility:""},u=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,c.opacity="",c.pointerEvents=ff(s==null?void 0:s.pointerEvents)||"",c.transform=u?u(this.latestValues,""):"none",c;const f=this.getLead();if(!this.projectionDelta||!this.layout||!f.target){const w={};return this.options.layoutId&&(w.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,w.pointerEvents=ff(s==null?void 0:s.pointerEvents)||""),this.hasProjected&&!Xo(this.latestValues)&&(w.transform=u?u({},""):"none",this.hasProjected=!1),w}const h=f.animationValues||f.latestValues;this.applyTransformsToTarget(),c.transform=OT(this.projectionDeltaWithTransform,this.treeScale,h),u&&(c.transform=u(h,c.transform));const{x:g,y:x}=this.projectionDelta;c.transformOrigin=`${g.origin*100}% ${x.origin*100}% 0`,f.animationValues?c.opacity=f===this?(l=(a=h.opacity)!==null&&a!==void 0?a:this.latestValues.opacity)!==null&&l!==void 0?l:1:this.preserveOpacity?this.latestValues.opacity:h.opacityExit:c.opacity=f===this?h.opacity!==void 0?h.opacity:"":h.opacityExit!==void 0?h.opacityExit:0;for(const w in dh){if(h[w]===void 0)continue;const{correct:b,applyTo:v}=dh[w],y=c.transform==="none"?h[w]:b(h[w],f);if(v){const E=v.length;for(let I=0;I<E;I++)c[v[I]]=y}else c[w]=y}return this.options.layoutId&&(c.pointerEvents=f===this?ff(s==null?void 0:s.pointerEvents)||"":"none"),c}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(s=>{var a;return(a=s.currentAnimation)===null||a===void 0?void 0:a.stop()}),this.root.nodes.forEach(jT),this.root.sharedNodes.clear()}}}function KW(t){t.updateLayout()}function QW(t){var e;const n=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=t.layout,{animationType:o}=t.options,s=n.source!==t.layout.source;o==="size"?Bn(f=>{const h=s?n.measuredBox[f]:n.layoutBox[f],g=jn(h);h.min=r[f].min,h.max=h.min+g}):I2(o,n.layoutBox,r)&&Bn(f=>{const h=s?n.measuredBox[f]:n.layoutBox[f],g=jn(r[f]);h.max=h.min+g,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[f].max=t.relativeTarget[f].min+g)});const a=ha();Tc(a,r,n.layoutBox);const l=ha();s?Tc(l,t.applyTransform(i,!0),n.measuredBox):Tc(l,r,n.layoutBox);const c=!C2(a);let u=!1;if(!t.resumeFrom){const f=t.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:h,layout:g}=f;if(h&&g){const x=Ct();Cc(x,n.layoutBox,h.layoutBox);const w=Ct();Cc(w,r,g.layoutBox),S2(x,w)||(u=!0),f.options.layoutRoot&&(t.relativeTarget=w,t.relativeTargetOrigin=x,t.relativeParent=f)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:l,layoutDelta:a,hasLayoutChanged:c,hasRelativeTargetChanged:u})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function XW(t){Jo.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function JW(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function ZW(t){t.clearSnapshot()}function jT(t){t.clearMeasurements()}function ez(t){t.isLayoutDirty=!1}function tz(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function FT(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function nz(t){t.resolveTargetDelta()}function rz(t){t.calcProjection()}function iz(t){t.resetRotation()}function oz(t){t.removeLeadSnapshot()}function $T(t,e,n){t.translate=ut(e.translate,0,n),t.scale=ut(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function UT(t,e,n,r){t.min=ut(e.min,n.min,r),t.max=ut(e.max,n.max,r)}function sz(t,e,n,r){UT(t.x,e.x,n.x,r),UT(t.y,e.y,n.y,r)}function az(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const lz={duration:.45,ease:[.4,0,.1,1]},BT=t=>typeof navigator<"u"&&navigator.userAgent.toLowerCase().includes(t),WT=BT("applewebkit/")&&!BT("chrome/")?Math.round:vt;function zT(t){t.min=WT(t.min),t.max=WT(t.max)}function cz(t){zT(t.x),zT(t.y)}function I2(t,e,n){return t==="position"||t==="preserve-aspect"&&!by(MT(e),MT(n),.2)}const uz=P2({attachResizeListener:(t,e)=>ii(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),gg={current:void 0},A2=P2({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!gg.current){const t=new uz({});t.mount(window),t.setOptions({layoutScroll:!0}),gg.current=t}return gg.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),dz={pan:{Feature:PW},drag:{Feature:SW,ProjectionNode:A2,MeasureLayout:E2}},fz=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function hz(t){const e=fz.exec(t);if(!e)return[,];const[,n,r]=e;return[n,r]}function Py(t,e,n=1){const[r,i]=hz(t);if(!r)return;const o=window.getComputedStyle(e).getPropertyValue(r);if(o){const s=o.trim();return d2(s)?parseFloat(s):s}else return gy(i)?Py(i,e,n+1):i}function pz(t,{...e},n){const r=t.current;if(!(r instanceof Element))return{target:e,transitionEnd:n};n&&(n={...n}),t.values.forEach(i=>{const o=i.get();if(!gy(o))return;const s=Py(o,r);s&&i.set(s)});for(const i in e){const o=e[i];if(!gy(o))continue;const s=Py(o,r);s&&(e[i]=s,n||(n={}),n[i]===void 0&&(n[i]=o))}return{target:e,transitionEnd:n}}const mz=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),k2=t=>mz.has(t),gz=t=>Object.keys(t).some(k2),HT=t=>t===Ns||t===ge,qT=(t,e)=>parseFloat(t.split(", ")[e]),GT=(t,e)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const i=r.match(/^matrix3d\((.+)\)$/);if(i)return qT(i[1],e);{const o=r.match(/^matrix\((.+)\)$/);return o?qT(o[1],t):0}},vz=new Set(["x","y","z"]),yz=ku.filter(t=>!vz.has(t));function wz(t){const e=[];return yz.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e.length&&t.render(),e}const Ga={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:GT(4,13),y:GT(5,14)};Ga.translateX=Ga.x;Ga.translateY=Ga.y;const xz=(t,e,n)=>{const r=e.measureViewportBox(),i=e.current,o=getComputedStyle(i),{display:s}=o,a={};s==="none"&&e.setStaticValue("display",t.display||"block"),n.forEach(c=>{a[c]=Ga[c](r,o)}),e.render();const l=e.measureViewportBox();return n.forEach(c=>{const u=e.getValue(c);u&&u.jump(a[c]),t[c]=Ga[c](l,o)}),t},_z=(t,e,n={},r={})=>{e={...e},r={...r};const i=Object.keys(e).filter(k2);let o=[],s=!1;const a=[];if(i.forEach(l=>{const c=t.getValue(l);if(!t.hasValue(l))return;let u=n[l],f=Gl(u);const h=e[l];let g;if(hh(h)){const x=h.length,w=h[0]===null?1:0;u=h[w],f=Gl(u);for(let b=w;b<x&&h[b]!==null;b++)g?Qw(Gl(h[b])===g):g=Gl(h[b])}else g=Gl(h);if(f!==g)if(HT(f)&&HT(g)){const x=c.get();typeof x=="string"&&c.set(parseFloat(x)),typeof h=="string"?e[l]=parseFloat(h):Array.isArray(h)&&g===ge&&(e[l]=h.map(parseFloat))}else f!=null&&f.transform&&(g!=null&&g.transform)&&(u===0||h===0)?u===0?c.set(g.transform(u)):e[l]=f.transform(h):(s||(o=wz(t),s=!0),a.push(l),r[l]=r[l]!==void 0?r[l]:e[l],c.jump(h))}),a.length){const l=a.indexOf("height")>=0?window.pageYOffset:null,c=xz(e,t,a);return o.length&&o.forEach(([u,f])=>{t.getValue(u).set(f)}),t.render(),xp&&l!==null&&window.scrollTo({top:l}),{target:c,transitionEnd:r}}else return{target:e,transitionEnd:r}};function Ez(t,e,n,r){return gz(e)?_z(t,e,n,r):{target:e,transitionEnd:r}}const bz=(t,e,n,r)=>{const i=pz(t,e,r);return e=i.target,r=i.transitionEnd,Ez(t,e,n,r)},Iy={current:null},R2={current:!1};function Tz(){if(R2.current=!0,!!xp)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>Iy.current=t.matches;t.addListener(e),e()}else Iy.current=!1}function Cz(t,e,n){const{willChange:r}=e;for(const i in e){const o=e[i],s=n[i];if(Pn(o))t.addValue(i,o),vh(r)&&r.add(i);else if(Pn(s))t.addValue(i,qa(o,{owner:t})),vh(r)&&r.remove(i);else if(s!==o)if(t.hasValue(i)){const a=t.getValue(i);!a.hasAnimated&&a.set(o)}else{const a=t.getStaticValue(i);t.addValue(i,qa(a!==void 0?a:o,{owner:t}))}}for(const i in n)e[i]===void 0&&t.removeValue(i);return e}const YT=new WeakMap,N2=Object.keys(ou),Sz=N2.length,KT=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],Pz=Uw.length;class Iz{constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:i,visualState:o},s={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>Xe.render(this.render,!1,!0);const{latestValues:a,renderState:l}=o;this.latestValues=a,this.baseTarget={...a},this.initialValues=n.initial?{...a}:{},this.renderState=l,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=s,this.isControllingVariants=Ep(n),this.isVariantNode=gR(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:c,...u}=this.scrapeMotionValuesFromProps(n,{});for(const f in u){const h=u[f];a[f]!==void 0&&Pn(h)&&(h.set(a[f],!1),vh(c)&&c.add(f))}}scrapeMotionValuesFromProps(e,n){return{}}mount(e){this.current=e,YT.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),R2.current||Tz(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Iy.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){YT.delete(this.current),this.projection&&this.projection.unmount(),_i(this.notifyUpdate),_i(this.render),this.valueSubscriptions.forEach(e=>e()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features)this.features[e].unmount();this.current=null}bindToMotionValue(e,n){const r=Rs.has(e),i=n.on("change",s=>{this.latestValues[e]=s,this.props.onUpdate&&Xe.update(this.notifyUpdate,!1,!0),r&&this.projection&&(this.projection.isTransformDirty=!0)}),o=n.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(e,()=>{i(),o()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}loadFeatures({children:e,...n},r,i,o){let s,a;for(let l=0;l<Sz;l++){const c=N2[l],{isEnabled:u,Feature:f,ProjectionNode:h,MeasureLayout:g}=ou[c];h&&(s=h),u(n)&&(!this.features[c]&&f&&(this.features[c]=new f(this)),g&&(a=g))}if((this.type==="html"||this.type==="svg")&&!this.projection&&s){this.projection=new s(this.latestValues,this.parent&&this.parent.projection);const{layoutId:l,layout:c,drag:u,dragConstraints:f,layoutScroll:h,layoutRoot:g}=n;this.projection.setOptions({layoutId:l,layout:c,alwaysMeasureLayout:!!u||f&&da(f),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof c=="string"?c:"both",initialPromotionConfig:o,layoutScroll:h,layoutRoot:g})}return a}updateFeatures(){for(const e in this.features){const n=this.features[e];n.isMounted?n.update():(n.mount(),n.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Ct()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}makeTargetAnimatable(e,n=!0){return this.makeTargetAnimatableFromInstance(e,this.props,n)}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<KT.length;r++){const i=KT[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const o=e["on"+i];o&&(this.propEventSubscriptions[i]=this.on(i,o))}this.prevMotionValues=Cz(this,this.scrapeMotionValuesFromProps(e,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(e=!1){if(e)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const r=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(r.initial=this.props.initial),r}const n={};for(let r=0;r<Pz;r++){const i=Uw[r],o=this.props[i];(iu(o)||o===!1)&&(n[i]=o)}return n}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){n!==this.values.get(e)&&(this.removeValue(e),this.bindToMotionValue(e,n)),this.values.set(e,n),this.latestValues[e]=n.get()}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=qa(n,{owner:this}),this.addValue(e,r)),r}readValue(e){var n;return this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(n=this.getBaseTargetFromProps(this.props,e))!==null&&n!==void 0?n:this.readValueFromInstance(this.current,e,this.options)}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:r}=this.props,i=typeof r=="string"||typeof r=="object"?(n=Kw(this.props,r))===null||n===void 0?void 0:n[e]:void 0;if(r&&i!==void 0)return i;const o=this.getBaseTargetFromProps(this.props,e);return o!==void 0&&!Pn(o)?o:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new o1),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class D2 extends Iz{sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}makeTargetAnimatableFromInstance({transition:e,transitionEnd:n,...r},{transformValues:i},o){let s=HB(r,e||{},this);if(i&&(n&&(n=i(n)),r&&(r=i(r)),s&&(s=i(s))),o){WB(this,r,s);const a=bz(this,r,s,n);n=a.transitionEnd,r=a.target}return{transition:e,transitionEnd:n,...r}}}function Az(t){return window.getComputedStyle(t)}class kz extends D2{constructor(){super(...arguments),this.type="html"}readValueFromInstance(e,n){if(Rs.has(n)){const r=e1(n);return r&&r.default||0}else{const r=Az(e),i=(xR(n)?r.getPropertyValue(n):r[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:n}){return x2(e,n)}build(e,n,r,i){zw(e,n,r,i.transformTemplate)}scrapeMotionValuesFromProps(e,n){return Yw(e,n)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Pn(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}renderInstance(e,n,r,i){SR(e,n,r,i)}}class Rz extends D2{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Rs.has(n)){const r=e1(n);return r&&r.default||0}return n=PR.has(n)?n:Fw(n),e.getAttribute(n)}measureInstanceViewportBox(){return Ct()}scrapeMotionValuesFromProps(e,n){return AR(e,n)}build(e,n,r,i){qw(e,n,r,this.isSVGTag,i.transformTemplate)}renderInstance(e,n,r,i){IR(e,n,r,i)}mount(e){this.isSVGTag=Gw(e.tagName),super.mount(e)}}const Nz=(t,e)=>Ww(t)?new Rz(e,{enableHardwareAcceleration:!1}):new kz(e,{enableHardwareAcceleration:!0}),Dz={layout:{ProjectionNode:A2,MeasureLayout:E2}},Mz={...sW,...S8,...dz,...Dz},be=O7((t,e)=>h8(t,e,Mz,Nz));function M2(){const t=m.useRef(!1);return jw(()=>(t.current=!0,()=>{t.current=!1}),[]),t}function Oz(){const t=M2(),[e,n]=m.useState(0),r=m.useCallback(()=>{t.current&&n(e+1)},[e]);return[m.useCallback(()=>Xe.postRender(r),[r]),e]}class Lz extends m.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=n.offsetHeight||0,r.width=n.offsetWidth||0,r.top=n.offsetTop,r.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function Vz({children:t,isPresent:e}){const n=m.useId(),r=m.useRef(null),i=m.useRef({width:0,height:0,top:0,left:0});return m.useInsertionEffect(()=>{const{width:o,height:s,top:a,left:l}=i.current;if(e||!r.current||!o||!s)return;r.current.dataset.motionPopId=n;const c=document.createElement("style");return document.head.appendChild(c),c.sheet&&c.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${o}px !important;
            height: ${s}px !important;
            top: ${a}px !important;
            left: ${l}px !important;
          }
        `),()=>{document.head.removeChild(c)}},[e]),m.createElement(Lz,{isPresent:e,childRef:r,sizeRef:i},m.cloneElement(t,{ref:r}))}const vg=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:i,presenceAffectsLayout:o,mode:s})=>{const a=kR(jz),l=m.useId(),c=m.useMemo(()=>({id:l,initial:e,isPresent:n,custom:i,onExitComplete:u=>{a.set(u,!0);for(const f of a.values())if(!f)return;r&&r()},register:u=>(a.set(u,!1),()=>a.delete(u))}),o?void 0:[n]);return m.useMemo(()=>{a.forEach((u,f)=>a.set(f,!1))},[n]),m.useEffect(()=>{!n&&!a.size&&r&&r()},[n]),s==="popLayout"&&(t=m.createElement(Vz,{isPresent:n},t)),m.createElement(wp.Provider,{value:c},t)};function jz(){return new Map}function Fz(t){return m.useEffect(()=>()=>t(),[])}const Zo=t=>t.key||"";function $z(t,e){t.forEach(n=>{const r=Zo(n);e.set(r,n)})}function Uz(t){const e=[];return m.Children.forEach(t,n=>{m.isValidElement(n)&&e.push(n)}),e}const Sc=({children:t,custom:e,initial:n=!0,onExitComplete:r,exitBeforeEnter:i,presenceAffectsLayout:o=!0,mode:s="sync"})=>{const a=m.useContext(Bw).forceRender||Oz()[0],l=M2(),c=Uz(t);let u=c;const f=m.useRef(new Map).current,h=m.useRef(u),g=m.useRef(new Map).current,x=m.useRef(!0);if(jw(()=>{x.current=!1,$z(c,g),h.current=u}),Fz(()=>{x.current=!0,g.clear(),f.clear()}),x.current)return m.createElement(m.Fragment,null,u.map(y=>m.createElement(vg,{key:Zo(y),isPresent:!0,initial:n?void 0:!1,presenceAffectsLayout:o,mode:s},y)));u=[...u];const w=h.current.map(Zo),b=c.map(Zo),v=w.length;for(let y=0;y<v;y++){const E=w[y];b.indexOf(E)===-1&&!f.has(E)&&f.set(E,void 0)}return s==="wait"&&f.size&&(u=[]),f.forEach((y,E)=>{if(b.indexOf(E)!==-1)return;const I=g.get(E);if(!I)return;const N=w.indexOf(E);let O=y;if(!O){const S=()=>{f.delete(E);const C=Array.from(g.keys()).filter(P=>!b.includes(P));if(C.forEach(P=>g.delete(P)),h.current=c.filter(P=>{const A=Zo(P);return A===E||C.includes(A)}),!f.size){if(l.current===!1)return;a(),r&&r()}};O=m.createElement(vg,{key:Zo(I),isPresent:!1,onExitComplete:S,custom:e,presenceAffectsLayout:o,mode:s},I),f.set(E,O)}u.splice(N,0,O)}),u=u.map(y=>{const E=y.key;return f.has(E)?y:m.createElement(vg,{key:Zo(y),isPresent:!0,presenceAffectsLayout:o,mode:s},y)}),m.createElement(m.Fragment,null,f.size?u:u.map(y=>m.cloneElement(y)))};var Bz={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const Wz=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Pe=(t,e)=>{const n=m.forwardRef(({color:r="currentColor",size:i=24,strokeWidth:o=2,absoluteStrokeWidth:s,children:a,...l},c)=>m.createElement("svg",{ref:c,...Bz,width:i,height:i,stroke:r,strokeWidth:s?Number(o)*24/Number(i):o,className:`lucide lucide-${Wz(t)}`,...l},[...e.map(([u,f])=>m.createElement(u,f)),...(Array.isArray(a)?a:[a])||[]]));return n.displayName=`${t}`,n},O2=Pe("Archive",[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]]),zz=Pe("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]),QT=Pe("CalendarDays",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]]),Hz=Pe("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]),qz=Pe("CheckSquare",[["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}],["path",{d:"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11",key:"1jnkn4"}]]),wh=Pe("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]),Gz=Pe("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),Yz=Pe("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]),Kz=Pe("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),Qz=Pe("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]),Xz=Pe("Droplets",[["path",{d:"M7 16.3c2.2 0 4-1.83 4-4.05 0-1.16-.57-2.26-1.71-3.19S7.29 6.75 7 5.3c-.29 1.45-1.14 2.84-2.29 3.76S3 11.1 3 12.25c0 2.22 1.8 4.05 4 4.05z",key:"1ptgy4"}],["path",{d:"M12.56 6.6A10.97 10.97 0 0 0 14 3.02c.5 2.5 2 4.9 4 6.5s3 3.5 3 5.5a6.98 6.98 0 0 1-11.91 4.97",key:"1sl1rz"}]]),Jz=Pe("Egg",[["path",{d:"M12 22c6.23-.05 7.87-5.57 7.5-10-.36-4.34-3.95-9.96-7.5-10-3.55.04-7.14 5.66-7.5 10-.37 4.43 1.27 9.95 7.5 10z",key:"1c39pg"}]]),Sp=Pe("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]),Ya=Pe("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),Zz=Pe("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]),eH=Pe("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]),XT=Pe("KeyRound",[["path",{d:"M2 18v3c0 .6.4 1 1 1h4v-3h3v-3h2l1.4-1.4a6.5 6.5 0 1 0-4-4Z",key:"167ctg"}],["circle",{cx:"16.5",cy:"7.5",r:".5",key:"1kog09"}]]),tH=Pe("List",[["line",{x1:"8",x2:"21",y1:"6",y2:"6",key:"7ey8pc"}],["line",{x1:"8",x2:"21",y1:"12",y2:"12",key:"rjfblc"}],["line",{x1:"8",x2:"21",y1:"18",y2:"18",key:"c3b1m8"}],["line",{x1:"3",x2:"3.01",y1:"6",y2:"6",key:"1g7gq3"}],["line",{x1:"3",x2:"3.01",y1:"12",y2:"12",key:"1pjlvk"}],["line",{x1:"3",x2:"3.01",y1:"18",y2:"18",key:"28t2mc"}]]),nH=Pe("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]),rH=Pe("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]),iH=Pe("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]),L2=Pe("Maximize",[["path",{d:"M8 3H5a2 2 0 0 0-2 2v3",key:"1dcmit"}],["path",{d:"M21 8V5a2 2 0 0 0-2-2h-3",key:"1e4gt3"}],["path",{d:"M3 16v3a2 2 0 0 0 2 2h3",key:"wsl5sc"}],["path",{d:"M16 21h3a2 2 0 0 0 2-2v-3",key:"18trek"}]]),oH=Pe("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]),sH=Pe("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",key:"1xcu5"}],["circle",{cx:"17.5",cy:"10.5",r:".5",key:"736e4u"}],["circle",{cx:"8.5",cy:"7.5",r:".5",key:"clrty"}],["circle",{cx:"6.5",cy:"12.5",r:".5",key:"1s4xz9"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]),Ay=Pe("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.5 3.5a2.12 2.12 0 0 1 3 3L7 19l-4 1 1-4Z",key:"ymcmye"}]]),ky=Pe("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]]),Ry=Pe("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),aH=Pe("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]),lH=Pe("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]),cH=Pe("Thermometer",[["path",{d:"M14 4v10.54a4 4 0 1 1-4 0V4a2 2 0 0 1 4 0Z",key:"17jzev"}]]),uH=Pe("Timer",[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]]),JT=Pe("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),ZT=Pe("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]),dH=Pe("UserCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]]),fH=Pe("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]),au=Pe("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]),Mu=Pe("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),hH=()=>{const[t,e]=m.useState(!0),[n,r]=m.useState(""),[i,o]=m.useState(""),[s,a]=m.useState(""),{login:l,register:c,resetPassword:u}=gl(),f=vu(),{toast:h}=vl(),[g,x]=m.useState(!1),w=async v=>{v.preventDefault(),x(!0);try{if(t)await l(n,i),h({title:"Inicio de sesión exitoso",description:"Bienvenida de nuevo."}),f("/");else{if(i!==s){h({title:"Error de registro",description:"Las contraseñas no coinciden.",variant:"destructive"}),x(!1);return}await c(n,i),h({title:"Registro exitoso",description:"Tu cuenta ha sido creada."}),f("/")}}catch(y){h({title:t?"Error al iniciar sesión":"Error al registrarse",description:y.message,variant:"destructive"}),x(!1)}},b=async()=>{if(!n){h({title:"Correo requerido",description:"Introduce tu correo para restablecer la contraseña.",variant:"destructive"});return}try{await u(n),h({title:"Correo enviado",description:"Revisa tu bandeja para restablecer la contraseña."})}catch(v){h({title:"Error",description:v.message,variant:"destructive"})}};return p.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-pink-50 via-purple-50 to-indigo-50 flex flex-col justify-center items-center p-4",children:[p.jsxs(be.div,{className:"w-full max-w-md bg-white/80 backdrop-blur-md shadow-xl rounded-xl p-8 sm:p-10",initial:{opacity:0,y:-30},animate:{opacity:1,y:0},transition:{duration:.6,ease:"easeOut"},children:[p.jsxs("div",{className:"text-center mb-8",children:[p.jsx(be.h1,{className:"text-3xl sm:text-4xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-rose-400 via-pink-400 to-fuchsia-500 py-2 mb-2",initial:{opacity:0},animate:{opacity:1},transition:{delay:.2,duration:.5},children:"FertiliApp"}),p.jsx("p",{className:"text-gray-600 text-lg",children:t?"Inicia sesión para continuar":"Crea tu cuenta"})]}),p.jsxs("form",{onSubmit:w,className:"space-y-6",children:[p.jsxs("div",{className:"space-y-2",children:[p.jsxs(kn,{htmlFor:"email",className:"flex items-center text-gray-700 text-lg",children:[p.jsx(iH,{className:"mr-2 h-5 w-5 text-pink-400"})," Correo Electrónico"]}),p.jsx(Lr,{id:"email",type:"email",value:n,onChange:v=>r(v.target.value),placeholder:"tu@email.com",required:!0,className:"bg-gray-50 border-gray-200 text-gray-800 placeholder-gray-400 focus:ring-pink-500 focus:border-pink-500 text-base py-3 px-4"})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsxs(kn,{htmlFor:"password",className:"flex items-center text-gray-700 text-lg",children:[p.jsx(XT,{className:"mr-2 h-5 w-5 text-rose-400"})," Contraseña"]}),p.jsx(Lr,{id:"password",type:"password",value:i,onChange:v=>o(v.target.value),placeholder:"••••••••",required:!0,className:"bg-gray-50 border-gray-200 text-gray-800 placeholder-gray-400 focus:ring-pink-500 focus:border-pink-500 text-base py-3 px-4"})]}),t&&p.jsx("div",{className:"text-right",children:p.jsx(Te,{variant:"link",type:"button",onClick:b,className:"text-pink-600 hover:text-pink-500 text-sm",children:"¿Olvidaste tu contraseña?"})}),!t&&p.jsxs("div",{className:"space-y-2",children:[p.jsxs(kn,{htmlFor:"confirmPassword",className:"flex items-center text-gray-700 text-lg",children:[p.jsx(XT,{className:"mr-2 h-5 w-5 text-rose-400"})," Confirmar Contraseña"]}),p.jsx(Lr,{id:"confirmPassword",type:"password",value:s,onChange:v=>a(v.target.value),placeholder:"••••••••",required:!0,className:"bg-gray-50 border-gray-200 text-gray-800 placeholder-gray-400 focus:ring-pink-500 focus:border-pink-500 text-base py-3 px-4"})]}),p.jsx(Te,{type:"submit",disabled:g,className:"w-full bg-gradient-to-r from-pink-500 to-fuchsia-600 hover:from-pink-600 hover:to-fuchsia-700 text-white font-semibold py-3 text-lg shadow-md hover:shadow-lg transition-all duration-300 transform hover:scale-105 flex items-center justify-center",children:g?p.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white"}):t?p.jsxs(p.Fragment,{children:[p.jsx(nH,{className:"mr-2 h-5 w-5"})," Iniciar Sesión"]}):p.jsxs(p.Fragment,{children:[p.jsx(fH,{className:"mr-2 h-5 w-5"})," Registrarse"]})})]}),p.jsx("div",{className:"mt-8 text-center",children:p.jsx(Te,{variant:"link",onClick:()=>e(!t),className:"text-pink-600 hover:text-pink-500 text-base",children:t?"¿No tienes cuenta? Regístrate":"¿Ya tienes cuenta? Inicia sesión"})})]}),p.jsx("footer",{className:"w-full max-w-md mt-12 text-center text-gray-500 text-sm",children:p.jsxs("p",{children:["© ",new Date().getFullYear()," FertiliApp. Todos los derechos reservados."]})})]})},pH=({padding:t,chartWidth:e,chartHeight:n,tempMin:r,tempMax:i,tempRange:o,getY:s,getX:a,allDataPoints:l=[],responsiveFontSize:c,isFullScreen:u,showLeftLabels:f=!0})=>{const h={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.3,ease:"easeOut"}}},g=[];if(o>0){const x=o<=2.5?.1:.5;for(let w=r;w<=i+1e-9;w+=x)g.push(parseFloat(w.toFixed(1)))}else for(let x=35;x<=37.5+1e-9;x+=.5)g.push(parseFloat(x.toFixed(1)));return p.jsxs(p.Fragment,{children:[p.jsxs("defs",{children:[p.jsxs("linearGradient",{id:"bgGradient",x1:"0%",y1:"0%",x2:"0%",y2:"100%",children:[p.jsx("stop",{offset:"0%",stopColor:"rgba(252, 231, 243, 0.3)"}),p.jsx("stop",{offset:"50%",stopColor:"rgba(255, 255, 255, 0.8)"}),p.jsx("stop",{offset:"100%",stopColor:"rgba(252, 231, 243, 0.2)"})]}),p.jsxs("filter",{id:"softGlow",x:"-50%",y:"-50%",width:"200%",height:"200%",children:[p.jsx("feGaussianBlur",{stdDeviation:"1",result:"coloredBlur"}),p.jsxs("feMerge",{children:[p.jsx("feMergeNode",{in:"coloredBlur"}),p.jsx("feMergeNode",{in:"SourceGraphic"})]})]})]}),p.jsx("rect",{x:t.left,y:t.top,width:e-t.left-t.right,height:n-t.top-t.bottom,fill:"url(#bgGradient)",opacity:.4}),g.map((x,w)=>{const b=s(x),v=x.toFixed(1).endsWith(".0")||x.toFixed(1).endsWith(".5"),y=v?x.toFixed(1):`.${x.toFixed(1).split(".")[1]}`;return p.jsxs(be.g,{variants:h,children:[p.jsx("line",{x1:t.left,y1:b,x2:e-t.right,y2:b,stroke:v?"rgba(244, 114, 182, 0.25)":"rgba(244, 114, 182, 0.15)",strokeWidth:v?1.5:1,strokeDasharray:v?"0":"3,3",style:{filter:v?"drop-shadow(0 1px 2px rgba(244, 114, 182, 0.1))":"none"}}),f&&p.jsx("text",{x:t.left-c(1),y:b+c(.35),textAnchor:"end",fontSize:c(v?1:.9),fontWeight:v?"600":"500",fill:v?"#E91E63":"#EC4899",style:{filter:"drop-shadow(0 1px 1px rgba(255, 255, 255, 0.8))",fontFamily:'-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif'},children:y}),p.jsx("text",{x:e-t.right+c(1),y:b+c(.35),textAnchor:"start",fontSize:c(v?1:.9),fontWeight:v?"600":"500",fill:v?"#E91E63":"#EC4899",style:{filter:"drop-shadow(0 1px 1px rgba(255, 255, 255, 0.8))",fontFamily:'-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif'},children:y})]},`temp-tick-${w}`)}),l.map((x,w)=>{const b=a(w);return p.jsx("line",{x1:b,y1:t.top,x2:b,y2:n-t.bottom,stroke:"rgba(244, 114, 182, 0.12)",strokeWidth:.8,style:{filter:"drop-shadow(0 0 1px rgba(244, 114, 182, 0.1))"}},`day-grid-${w}`)}),f&&p.jsxs(be.g,{variants:h,children:[p.jsx("rect",{x:t.left-c(.2),y:t.top-c(.2),width:c(2.8),height:c(2),rx:c(.3),fill:"rgba(244, 114, 182, 0.1)",stroke:"rgba(244, 114, 182, 0.2)",strokeWidth:.5}),p.jsx("text",{x:t.left+c(1.2),y:t.top+c(1.1),textAnchor:"middle",fontSize:c(1.3),fontWeight:"700",fill:"#E91E63",style:{filter:"drop-shadow(0 1px 2px rgba(255, 255, 255, 0.8))",fontFamily:'-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif'},children:"°C"})]}),p.jsx("rect",{x:t.left,y:t.top,width:e-t.left-t.right,height:n-t.top-t.bottom,fill:"none",stroke:"rgba(244, 114, 182, 0.2)",strokeWidth:1.5,rx:8,style:{filter:"drop-shadow(0 2px 4px rgba(244, 114, 182, 0.1))"}})]})},mH=({data:t,allDataPoints:e,getX:n,getY:r,baselineY:i,temperatureField:o="temperature"})=>{if(!t||t.length<2)return null;let s="",a=null;return e.forEach((l,c)=>{const u=t.find(f=>f.id===l.id);if(u&&u[o]!==null&&u[o]!==void 0&&!u.ignored){const f=n(c),h=r(u[o]);a!==null&&c===a+1?s+=` L ${f} ${h}`:s+=`${s?" ":""}M ${f} ${h}`,a=c}}),s.includes("L")?p.jsx(p.Fragment,{children:p.jsx(be.path,{d:s,fill:"none",stroke:"url(#tempLineGradientChart)",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round",initial:{pathLength:0,opacity:0},animate:{pathLength:1,opacity:1},transition:{duration:.2,ease:"easeInOut"}})}):null};function fr(t){"@babel/helpers - typeof";return fr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fr(t)}function Je(t){if(t===null||t===!0||t===!1)return NaN;var e=Number(t);return isNaN(e)?e:e<0?Math.ceil(e):Math.floor(e)}function se(t,e){if(e.length<t)throw new TypeError(t+" argument"+(t>1?"s":"")+" required, but only "+e.length+" present")}function ye(t){se(1,arguments);var e=Object.prototype.toString.call(t);return t instanceof Date||fr(t)==="object"&&e==="[object Date]"?new Date(t.getTime()):typeof t=="number"||e==="[object Number]"?new Date(t):((typeof t=="string"||e==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}function Lt(t,e){se(2,arguments);var n=ye(t),r=Je(e);return isNaN(r)?new Date(NaN):(r&&n.setDate(n.getDate()+r),n)}function hr(t,e){se(2,arguments);var n=ye(t),r=Je(e);if(isNaN(r))return new Date(NaN);if(!r)return n;var i=n.getDate(),o=new Date(n.getTime());o.setMonth(n.getMonth()+r+1,0);var s=o.getDate();return i>=s?o:(n.setFullYear(o.getFullYear(),o.getMonth(),i),n)}function gH(t,e){se(2,arguments);var n=ye(t).getTime(),r=Je(e);return new Date(n+r)}var vH={};function zr(){return vH}function Ur(t,e){var n,r,i,o,s,a,l,c;se(1,arguments);var u=zr(),f=Je((n=(r=(i=(o=e==null?void 0:e.weekStartsOn)!==null&&o!==void 0?o:e==null||(s=e.locale)===null||s===void 0||(a=s.options)===null||a===void 0?void 0:a.weekStartsOn)!==null&&i!==void 0?i:u.weekStartsOn)!==null&&r!==void 0?r:(l=u.locale)===null||l===void 0||(c=l.options)===null||c===void 0?void 0:c.weekStartsOn)!==null&&n!==void 0?n:0);if(!(f>=0&&f<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var h=ye(t),g=h.getDay(),x=(g<f?7:0)+g-f;return h.setDate(h.getDate()-x),h.setHours(0,0,0,0),h}function _s(t){return se(1,arguments),Ur(t,{weekStartsOn:1})}function yH(t){se(1,arguments);var e=ye(t),n=e.getFullYear(),r=new Date(0);r.setFullYear(n+1,0,4),r.setHours(0,0,0,0);var i=_s(r),o=new Date(0);o.setFullYear(n,0,4),o.setHours(0,0,0,0);var s=_s(o);return e.getTime()>=i.getTime()?n+1:e.getTime()>=s.getTime()?n:n-1}function wH(t){se(1,arguments);var e=yH(t),n=new Date(0);n.setFullYear(e,0,4),n.setHours(0,0,0,0);var r=_s(n);return r}function Ka(t){var e=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return e.setUTCFullYear(t.getFullYear()),t.getTime()-e.getTime()}function De(t){se(1,arguments);var e=ye(t);return e.setHours(0,0,0,0),e}var xH=864e5;function Pr(t,e){se(2,arguments);var n=De(t),r=De(e),i=n.getTime()-Ka(n),o=r.getTime()-Ka(r);return Math.round((i-o)/xH)}function Ny(t,e){se(2,arguments);var n=Je(e),r=n*7;return Lt(t,r)}function _H(t,e){se(2,arguments);var n=Je(e);return hr(t,n*12)}function EH(t){se(1,arguments);var e;if(t&&typeof t.forEach=="function")e=t;else if(fr(t)==="object"&&t!==null)e=Array.prototype.slice.call(t);else return new Date(NaN);var n;return e.forEach(function(r){var i=ye(r);(n===void 0||n<i||isNaN(Number(i)))&&(n=i)}),n||new Date(NaN)}function bH(t){se(1,arguments);var e;if(t&&typeof t.forEach=="function")e=t;else if(fr(t)==="object"&&t!==null)e=Array.prototype.slice.call(t);else return new Date(NaN);var n;return e.forEach(function(r){var i=ye(r);(n===void 0||n>i||isNaN(i.getDate()))&&(n=i)}),n||new Date(NaN)}function TH(t,e){se(2,arguments);var n=ye(t),r=ye(e),i=n.getTime()-r.getTime();return i<0?-1:i>0?1:i}var s1=6e4,a1=36e5,CH=1e3;function _n(t,e){se(2,arguments);var n=De(t),r=De(e);return n.getTime()===r.getTime()}function l1(t){return se(1,arguments),t instanceof Date||fr(t)==="object"&&Object.prototype.toString.call(t)==="[object Date]"}function SH(t){if(se(1,arguments),!l1(t)&&typeof t!="number")return!1;var e=ye(t);return!isNaN(Number(e))}function lu(t,e){se(2,arguments);var n=ye(t),r=ye(e),i=n.getFullYear()-r.getFullYear(),o=n.getMonth()-r.getMonth();return i*12+o}var PH=6048e5;function IH(t,e,n){se(2,arguments);var r=Ur(t,n),i=Ur(e,n),o=r.getTime()-Ka(r),s=i.getTime()-Ka(i);return Math.round((o-s)/PH)}function eC(t,e){var n=t.getFullYear()-e.getFullYear()||t.getMonth()-e.getMonth()||t.getDate()-e.getDate()||t.getHours()-e.getHours()||t.getMinutes()-e.getMinutes()||t.getSeconds()-e.getSeconds()||t.getMilliseconds()-e.getMilliseconds();return n<0?-1:n>0?1:n}function wo(t,e){se(2,arguments);var n=ye(t),r=ye(e),i=eC(n,r),o=Math.abs(Pr(n,r));n.setDate(n.getDate()-i*o);var s=+(eC(n,r)===-i),a=i*(o-s);return a===0?0:a}function c1(t){se(1,arguments);var e=ye(t),n=e.getMonth();return e.setFullYear(e.getFullYear(),n+1,0),e.setHours(23,59,59,999),e}function Sn(t){se(1,arguments);var e=ye(t);return e.setDate(1),e.setHours(0,0,0,0),e}function AH(t){se(1,arguments);var e=ye(t),n=new Date(0);return n.setFullYear(e.getFullYear(),0,1),n.setHours(0,0,0,0),n}function u1(t,e){var n,r,i,o,s,a,l,c;se(1,arguments);var u=zr(),f=Je((n=(r=(i=(o=e==null?void 0:e.weekStartsOn)!==null&&o!==void 0?o:e==null||(s=e.locale)===null||s===void 0||(a=s.options)===null||a===void 0?void 0:a.weekStartsOn)!==null&&i!==void 0?i:u.weekStartsOn)!==null&&r!==void 0?r:(l=u.locale)===null||l===void 0||(c=l.options)===null||c===void 0?void 0:c.weekStartsOn)!==null&&n!==void 0?n:0);if(!(f>=0&&f<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var h=ye(t),g=h.getDay(),x=(g<f?-7:0)+6-(g-f);return h.setDate(h.getDate()+x),h.setHours(23,59,59,999),h}function V2(t){return se(1,arguments),u1(t,{weekStartsOn:1})}function j2(t,e){se(2,arguments);var n=Je(e);return gH(t,-n)}var kH=864e5;function RH(t){se(1,arguments);var e=ye(t),n=e.getTime();e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0);var r=e.getTime(),i=n-r;return Math.floor(i/kH)+1}function Qa(t){se(1,arguments);var e=1,n=ye(t),r=n.getUTCDay(),i=(r<e?7:0)+r-e;return n.setUTCDate(n.getUTCDate()-i),n.setUTCHours(0,0,0,0),n}function F2(t){se(1,arguments);var e=ye(t),n=e.getUTCFullYear(),r=new Date(0);r.setUTCFullYear(n+1,0,4),r.setUTCHours(0,0,0,0);var i=Qa(r),o=new Date(0);o.setUTCFullYear(n,0,4),o.setUTCHours(0,0,0,0);var s=Qa(o);return e.getTime()>=i.getTime()?n+1:e.getTime()>=s.getTime()?n:n-1}function NH(t){se(1,arguments);var e=F2(t),n=new Date(0);n.setUTCFullYear(e,0,4),n.setUTCHours(0,0,0,0);var r=Qa(n);return r}var DH=6048e5;function $2(t){se(1,arguments);var e=ye(t),n=Qa(e).getTime()-NH(e).getTime();return Math.round(n/DH)+1}function Es(t,e){var n,r,i,o,s,a,l,c;se(1,arguments);var u=zr(),f=Je((n=(r=(i=(o=e==null?void 0:e.weekStartsOn)!==null&&o!==void 0?o:e==null||(s=e.locale)===null||s===void 0||(a=s.options)===null||a===void 0?void 0:a.weekStartsOn)!==null&&i!==void 0?i:u.weekStartsOn)!==null&&r!==void 0?r:(l=u.locale)===null||l===void 0||(c=l.options)===null||c===void 0?void 0:c.weekStartsOn)!==null&&n!==void 0?n:0);if(!(f>=0&&f<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var h=ye(t),g=h.getUTCDay(),x=(g<f?7:0)+g-f;return h.setUTCDate(h.getUTCDate()-x),h.setUTCHours(0,0,0,0),h}function d1(t,e){var n,r,i,o,s,a,l,c;se(1,arguments);var u=ye(t),f=u.getUTCFullYear(),h=zr(),g=Je((n=(r=(i=(o=e==null?void 0:e.firstWeekContainsDate)!==null&&o!==void 0?o:e==null||(s=e.locale)===null||s===void 0||(a=s.options)===null||a===void 0?void 0:a.firstWeekContainsDate)!==null&&i!==void 0?i:h.firstWeekContainsDate)!==null&&r!==void 0?r:(l=h.locale)===null||l===void 0||(c=l.options)===null||c===void 0?void 0:c.firstWeekContainsDate)!==null&&n!==void 0?n:1);if(!(g>=1&&g<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var x=new Date(0);x.setUTCFullYear(f+1,0,g),x.setUTCHours(0,0,0,0);var w=Es(x,e),b=new Date(0);b.setUTCFullYear(f,0,g),b.setUTCHours(0,0,0,0);var v=Es(b,e);return u.getTime()>=w.getTime()?f+1:u.getTime()>=v.getTime()?f:f-1}function MH(t,e){var n,r,i,o,s,a,l,c;se(1,arguments);var u=zr(),f=Je((n=(r=(i=(o=e==null?void 0:e.firstWeekContainsDate)!==null&&o!==void 0?o:e==null||(s=e.locale)===null||s===void 0||(a=s.options)===null||a===void 0?void 0:a.firstWeekContainsDate)!==null&&i!==void 0?i:u.firstWeekContainsDate)!==null&&r!==void 0?r:(l=u.locale)===null||l===void 0||(c=l.options)===null||c===void 0?void 0:c.firstWeekContainsDate)!==null&&n!==void 0?n:1),h=d1(t,e),g=new Date(0);g.setUTCFullYear(h,0,f),g.setUTCHours(0,0,0,0);var x=Es(g,e);return x}var OH=6048e5;function U2(t,e){se(1,arguments);var n=ye(t),r=Es(n,e).getTime()-MH(n,e).getTime();return Math.round(r/OH)+1}function He(t,e){for(var n=t<0?"-":"",r=Math.abs(t).toString();r.length<e;)r="0"+r;return n+r}var LH={y:function(e,n){var r=e.getUTCFullYear(),i=r>0?r:1-r;return He(n==="yy"?i%100:i,n.length)},M:function(e,n){var r=e.getUTCMonth();return n==="M"?String(r+1):He(r+1,2)},d:function(e,n){return He(e.getUTCDate(),n.length)},a:function(e,n){var r=e.getUTCHours()/12>=1?"pm":"am";switch(n){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h:function(e,n){return He(e.getUTCHours()%12||12,n.length)},H:function(e,n){return He(e.getUTCHours(),n.length)},m:function(e,n){return He(e.getUTCMinutes(),n.length)},s:function(e,n){return He(e.getUTCSeconds(),n.length)},S:function(e,n){var r=n.length,i=e.getUTCMilliseconds(),o=Math.floor(i*Math.pow(10,r-3));return He(o,n.length)}};const ji=LH;var $s={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},VH={G:function(e,n,r){var i=e.getUTCFullYear()>0?1:0;switch(n){case"G":case"GG":case"GGG":return r.era(i,{width:"abbreviated"});case"GGGGG":return r.era(i,{width:"narrow"});case"GGGG":default:return r.era(i,{width:"wide"})}},y:function(e,n,r){if(n==="yo"){var i=e.getUTCFullYear(),o=i>0?i:1-i;return r.ordinalNumber(o,{unit:"year"})}return ji.y(e,n)},Y:function(e,n,r,i){var o=d1(e,i),s=o>0?o:1-o;if(n==="YY"){var a=s%100;return He(a,2)}return n==="Yo"?r.ordinalNumber(s,{unit:"year"}):He(s,n.length)},R:function(e,n){var r=F2(e);return He(r,n.length)},u:function(e,n){var r=e.getUTCFullYear();return He(r,n.length)},Q:function(e,n,r){var i=Math.ceil((e.getUTCMonth()+1)/3);switch(n){case"Q":return String(i);case"QQ":return He(i,2);case"Qo":return r.ordinalNumber(i,{unit:"quarter"});case"QQQ":return r.quarter(i,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(i,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(i,{width:"wide",context:"formatting"})}},q:function(e,n,r){var i=Math.ceil((e.getUTCMonth()+1)/3);switch(n){case"q":return String(i);case"qq":return He(i,2);case"qo":return r.ordinalNumber(i,{unit:"quarter"});case"qqq":return r.quarter(i,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(i,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(i,{width:"wide",context:"standalone"})}},M:function(e,n,r){var i=e.getUTCMonth();switch(n){case"M":case"MM":return ji.M(e,n);case"Mo":return r.ordinalNumber(i+1,{unit:"month"});case"MMM":return r.month(i,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(i,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(i,{width:"wide",context:"formatting"})}},L:function(e,n,r){var i=e.getUTCMonth();switch(n){case"L":return String(i+1);case"LL":return He(i+1,2);case"Lo":return r.ordinalNumber(i+1,{unit:"month"});case"LLL":return r.month(i,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(i,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(i,{width:"wide",context:"standalone"})}},w:function(e,n,r,i){var o=U2(e,i);return n==="wo"?r.ordinalNumber(o,{unit:"week"}):He(o,n.length)},I:function(e,n,r){var i=$2(e);return n==="Io"?r.ordinalNumber(i,{unit:"week"}):He(i,n.length)},d:function(e,n,r){return n==="do"?r.ordinalNumber(e.getUTCDate(),{unit:"date"}):ji.d(e,n)},D:function(e,n,r){var i=RH(e);return n==="Do"?r.ordinalNumber(i,{unit:"dayOfYear"}):He(i,n.length)},E:function(e,n,r){var i=e.getUTCDay();switch(n){case"E":case"EE":case"EEE":return r.day(i,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(i,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(i,{width:"short",context:"formatting"});case"EEEE":default:return r.day(i,{width:"wide",context:"formatting"})}},e:function(e,n,r,i){var o=e.getUTCDay(),s=(o-i.weekStartsOn+8)%7||7;switch(n){case"e":return String(s);case"ee":return He(s,2);case"eo":return r.ordinalNumber(s,{unit:"day"});case"eee":return r.day(o,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(o,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(o,{width:"short",context:"formatting"});case"eeee":default:return r.day(o,{width:"wide",context:"formatting"})}},c:function(e,n,r,i){var o=e.getUTCDay(),s=(o-i.weekStartsOn+8)%7||7;switch(n){case"c":return String(s);case"cc":return He(s,n.length);case"co":return r.ordinalNumber(s,{unit:"day"});case"ccc":return r.day(o,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(o,{width:"narrow",context:"standalone"});case"cccccc":return r.day(o,{width:"short",context:"standalone"});case"cccc":default:return r.day(o,{width:"wide",context:"standalone"})}},i:function(e,n,r){var i=e.getUTCDay(),o=i===0?7:i;switch(n){case"i":return String(o);case"ii":return He(o,n.length);case"io":return r.ordinalNumber(o,{unit:"day"});case"iii":return r.day(i,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(i,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(i,{width:"short",context:"formatting"});case"iiii":default:return r.day(i,{width:"wide",context:"formatting"})}},a:function(e,n,r){var i=e.getUTCHours(),o=i/12>=1?"pm":"am";switch(n){case"a":case"aa":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(o,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(o,{width:"wide",context:"formatting"})}},b:function(e,n,r){var i=e.getUTCHours(),o;switch(i===12?o=$s.noon:i===0?o=$s.midnight:o=i/12>=1?"pm":"am",n){case"b":case"bb":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(o,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(o,{width:"wide",context:"formatting"})}},B:function(e,n,r){var i=e.getUTCHours(),o;switch(i>=17?o=$s.evening:i>=12?o=$s.afternoon:i>=4?o=$s.morning:o=$s.night,n){case"B":case"BB":case"BBB":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(o,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(o,{width:"wide",context:"formatting"})}},h:function(e,n,r){if(n==="ho"){var i=e.getUTCHours()%12;return i===0&&(i=12),r.ordinalNumber(i,{unit:"hour"})}return ji.h(e,n)},H:function(e,n,r){return n==="Ho"?r.ordinalNumber(e.getUTCHours(),{unit:"hour"}):ji.H(e,n)},K:function(e,n,r){var i=e.getUTCHours()%12;return n==="Ko"?r.ordinalNumber(i,{unit:"hour"}):He(i,n.length)},k:function(e,n,r){var i=e.getUTCHours();return i===0&&(i=24),n==="ko"?r.ordinalNumber(i,{unit:"hour"}):He(i,n.length)},m:function(e,n,r){return n==="mo"?r.ordinalNumber(e.getUTCMinutes(),{unit:"minute"}):ji.m(e,n)},s:function(e,n,r){return n==="so"?r.ordinalNumber(e.getUTCSeconds(),{unit:"second"}):ji.s(e,n)},S:function(e,n){return ji.S(e,n)},X:function(e,n,r,i){var o=i._originalDate||e,s=o.getTimezoneOffset();if(s===0)return"Z";switch(n){case"X":return nC(s);case"XXXX":case"XX":return es(s);case"XXXXX":case"XXX":default:return es(s,":")}},x:function(e,n,r,i){var o=i._originalDate||e,s=o.getTimezoneOffset();switch(n){case"x":return nC(s);case"xxxx":case"xx":return es(s);case"xxxxx":case"xxx":default:return es(s,":")}},O:function(e,n,r,i){var o=i._originalDate||e,s=o.getTimezoneOffset();switch(n){case"O":case"OO":case"OOO":return"GMT"+tC(s,":");case"OOOO":default:return"GMT"+es(s,":")}},z:function(e,n,r,i){var o=i._originalDate||e,s=o.getTimezoneOffset();switch(n){case"z":case"zz":case"zzz":return"GMT"+tC(s,":");case"zzzz":default:return"GMT"+es(s,":")}},t:function(e,n,r,i){var o=i._originalDate||e,s=Math.floor(o.getTime()/1e3);return He(s,n.length)},T:function(e,n,r,i){var o=i._originalDate||e,s=o.getTime();return He(s,n.length)}};function tC(t,e){var n=t>0?"-":"+",r=Math.abs(t),i=Math.floor(r/60),o=r%60;if(o===0)return n+String(i);var s=e||"";return n+String(i)+s+He(o,2)}function nC(t,e){if(t%60===0){var n=t>0?"-":"+";return n+He(Math.abs(t)/60,2)}return es(t,e)}function es(t,e){var n=e||"",r=t>0?"-":"+",i=Math.abs(t),o=He(Math.floor(i/60),2),s=He(i%60,2);return r+o+n+s}const jH=VH;var rC=function(e,n){switch(e){case"P":return n.date({width:"short"});case"PP":return n.date({width:"medium"});case"PPP":return n.date({width:"long"});case"PPPP":default:return n.date({width:"full"})}},B2=function(e,n){switch(e){case"p":return n.time({width:"short"});case"pp":return n.time({width:"medium"});case"ppp":return n.time({width:"long"});case"pppp":default:return n.time({width:"full"})}},FH=function(e,n){var r=e.match(/(P+)(p+)?/)||[],i=r[1],o=r[2];if(!o)return rC(e,n);var s;switch(i){case"P":s=n.dateTime({width:"short"});break;case"PP":s=n.dateTime({width:"medium"});break;case"PPP":s=n.dateTime({width:"long"});break;case"PPPP":default:s=n.dateTime({width:"full"});break}return s.replace("{{date}}",rC(i,n)).replace("{{time}}",B2(o,n))},$H={p:B2,P:FH};const Dy=$H;var UH=["D","DD"],BH=["YY","YYYY"];function W2(t){return UH.indexOf(t)!==-1}function z2(t){return BH.indexOf(t)!==-1}function xh(t,e,n){if(t==="YYYY")throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(e,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(t==="YY")throw new RangeError("Use `yy` instead of `YY` (in `".concat(e,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(t==="D")throw new RangeError("Use `d` instead of `D` (in `".concat(e,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(t==="DD")throw new RangeError("Use `dd` instead of `DD` (in `".concat(e,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}var WH={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},zH=function(e,n,r){var i,o=WH[e];return typeof o=="string"?i=o:n===1?i=o.one:i=o.other.replace("{{count}}",n.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+i:i+" ago":i};const HH=zH;function Pa(t){return function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.width?String(e.width):t.defaultWidth,r=t.formats[n]||t.formats[t.defaultWidth];return r}}var qH={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},GH={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},YH={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},KH={date:Pa({formats:qH,defaultWidth:"full"}),time:Pa({formats:GH,defaultWidth:"full"}),dateTime:Pa({formats:YH,defaultWidth:"full"})};const QH=KH;var XH={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},JH=function(e,n,r,i){return XH[e]};const ZH=JH;function br(t){return function(e,n){var r=n!=null&&n.context?String(n.context):"standalone",i;if(r==="formatting"&&t.formattingValues){var o=t.defaultFormattingWidth||t.defaultWidth,s=n!=null&&n.width?String(n.width):o;i=t.formattingValues[s]||t.formattingValues[o]}else{var a=t.defaultWidth,l=n!=null&&n.width?String(n.width):t.defaultWidth;i=t.values[l]||t.values[a]}var c=t.argumentCallback?t.argumentCallback(e):e;return i[c]}}var eq={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},tq={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},nq={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},rq={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},iq={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},oq={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},sq=function(e,n){var r=Number(e),i=r%100;if(i>20||i<10)switch(i%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},aq={ordinalNumber:sq,era:br({values:eq,defaultWidth:"wide"}),quarter:br({values:tq,defaultWidth:"wide",argumentCallback:function(e){return e-1}}),month:br({values:nq,defaultWidth:"wide"}),day:br({values:rq,defaultWidth:"wide"}),dayPeriod:br({values:iq,defaultWidth:"wide",formattingValues:oq,defaultFormattingWidth:"wide"})};const lq=aq;function Tr(t){return function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=n.width,i=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],o=e.match(i);if(!o)return null;var s=o[0],a=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],l=Array.isArray(a)?uq(a,function(f){return f.test(s)}):cq(a,function(f){return f.test(s)}),c;c=t.valueCallback?t.valueCallback(l):l,c=n.valueCallback?n.valueCallback(c):c;var u=e.slice(s.length);return{value:c,rest:u}}}function cq(t,e){for(var n in t)if(t.hasOwnProperty(n)&&e(t[n]))return n}function uq(t,e){for(var n=0;n<t.length;n++)if(e(t[n]))return n}function H2(t){return function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=e.match(t.matchPattern);if(!r)return null;var i=r[0],o=e.match(t.parsePattern);if(!o)return null;var s=t.valueCallback?t.valueCallback(o[0]):o[0];s=n.valueCallback?n.valueCallback(s):s;var a=e.slice(i.length);return{value:s,rest:a}}}var dq=/^(\d+)(th|st|nd|rd)?/i,fq=/\d+/i,hq={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},pq={any:[/^b/i,/^(a|c)/i]},mq={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},gq={any:[/1/i,/2/i,/3/i,/4/i]},vq={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},yq={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},wq={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},xq={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},_q={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Eq={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},bq={ordinalNumber:H2({matchPattern:dq,parsePattern:fq,valueCallback:function(e){return parseInt(e,10)}}),era:Tr({matchPatterns:hq,defaultMatchWidth:"wide",parsePatterns:pq,defaultParseWidth:"any"}),quarter:Tr({matchPatterns:mq,defaultMatchWidth:"wide",parsePatterns:gq,defaultParseWidth:"any",valueCallback:function(e){return e+1}}),month:Tr({matchPatterns:vq,defaultMatchWidth:"wide",parsePatterns:yq,defaultParseWidth:"any"}),day:Tr({matchPatterns:wq,defaultMatchWidth:"wide",parsePatterns:xq,defaultParseWidth:"any"}),dayPeriod:Tr({matchPatterns:_q,defaultMatchWidth:"any",parsePatterns:Eq,defaultParseWidth:"any"})};const Tq=bq;var Cq={code:"en-US",formatDistance:HH,formatLong:QH,formatRelative:ZH,localize:lq,match:Tq,options:{weekStartsOn:0,firstWeekContainsDate:1}};const f1=Cq;var Sq=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Pq=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Iq=/^'([^]*?)'?$/,Aq=/''/g,kq=/[a-zA-Z]/;function pe(t,e,n){var r,i,o,s,a,l,c,u,f,h,g,x,w,b,v,y,E,I;se(2,arguments);var N=String(e),O=zr(),S=(r=(i=n==null?void 0:n.locale)!==null&&i!==void 0?i:O.locale)!==null&&r!==void 0?r:f1,C=Je((o=(s=(a=(l=n==null?void 0:n.firstWeekContainsDate)!==null&&l!==void 0?l:n==null||(c=n.locale)===null||c===void 0||(u=c.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&a!==void 0?a:O.firstWeekContainsDate)!==null&&s!==void 0?s:(f=O.locale)===null||f===void 0||(h=f.options)===null||h===void 0?void 0:h.firstWeekContainsDate)!==null&&o!==void 0?o:1);if(!(C>=1&&C<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var P=Je((g=(x=(w=(b=n==null?void 0:n.weekStartsOn)!==null&&b!==void 0?b:n==null||(v=n.locale)===null||v===void 0||(y=v.options)===null||y===void 0?void 0:y.weekStartsOn)!==null&&w!==void 0?w:O.weekStartsOn)!==null&&x!==void 0?x:(E=O.locale)===null||E===void 0||(I=E.options)===null||I===void 0?void 0:I.weekStartsOn)!==null&&g!==void 0?g:0);if(!(P>=0&&P<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!S.localize)throw new RangeError("locale must contain localize property");if(!S.formatLong)throw new RangeError("locale must contain formatLong property");var A=ye(t);if(!SH(A))throw new RangeError("Invalid time value");var M=Ka(A),D=j2(A,M),R={firstWeekContainsDate:C,weekStartsOn:P,locale:S,_originalDate:A},B=N.match(Pq).map(function(q){var Y=q[0];if(Y==="p"||Y==="P"){var z=Dy[Y];return z(q,S.formatLong)}return q}).join("").match(Sq).map(function(q){if(q==="''")return"'";var Y=q[0];if(Y==="'")return Rq(q);var z=jH[Y];if(z)return!(n!=null&&n.useAdditionalWeekYearTokens)&&z2(q)&&xh(q,e,String(t)),!(n!=null&&n.useAdditionalDayOfYearTokens)&&W2(q)&&xh(q,e,String(t)),z(D,q,S.localize,R);if(Y.match(kq))throw new RangeError("Format string contains an unescaped latin alphabet character `"+Y+"`");return q}).join("");return B}function Rq(t){var e=t.match(Iq);return e?e[1].replace(Aq,"'"):t}function Nq(t,e){if(t==null)throw new TypeError("assign requires that input parameter not be null or undefined");for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}function Dq(t){se(1,arguments);var e=ye(t),n=e.getFullYear(),r=e.getMonth(),i=new Date(0);return i.setFullYear(n,r+1,0),i.setHours(0,0,0,0),i.getDate()}var Mq=6048e5;function Oq(t){se(1,arguments);var e=ye(t),n=_s(e).getTime()-wH(e).getTime();return Math.round(n/Mq)+1}function Lq(t){se(1,arguments);var e=ye(t),n=e.getTime();return n}function Vq(t){return se(1,arguments),Math.floor(Lq(t)/1e3)}function jq(t,e){var n,r,i,o,s,a,l,c;se(1,arguments);var u=ye(t),f=u.getFullYear(),h=zr(),g=Je((n=(r=(i=(o=e==null?void 0:e.firstWeekContainsDate)!==null&&o!==void 0?o:e==null||(s=e.locale)===null||s===void 0||(a=s.options)===null||a===void 0?void 0:a.firstWeekContainsDate)!==null&&i!==void 0?i:h.firstWeekContainsDate)!==null&&r!==void 0?r:(l=h.locale)===null||l===void 0||(c=l.options)===null||c===void 0?void 0:c.firstWeekContainsDate)!==null&&n!==void 0?n:1);if(!(g>=1&&g<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var x=new Date(0);x.setFullYear(f+1,0,g),x.setHours(0,0,0,0);var w=Ur(x,e),b=new Date(0);b.setFullYear(f,0,g),b.setHours(0,0,0,0);var v=Ur(b,e);return u.getTime()>=w.getTime()?f+1:u.getTime()>=v.getTime()?f:f-1}function Fq(t,e){var n,r,i,o,s,a,l,c;se(1,arguments);var u=zr(),f=Je((n=(r=(i=(o=e==null?void 0:e.firstWeekContainsDate)!==null&&o!==void 0?o:e==null||(s=e.locale)===null||s===void 0||(a=s.options)===null||a===void 0?void 0:a.firstWeekContainsDate)!==null&&i!==void 0?i:u.firstWeekContainsDate)!==null&&r!==void 0?r:(l=u.locale)===null||l===void 0||(c=l.options)===null||c===void 0?void 0:c.firstWeekContainsDate)!==null&&n!==void 0?n:1),h=jq(t,e),g=new Date(0);g.setFullYear(h,0,f),g.setHours(0,0,0,0);var x=Ur(g,e);return x}var $q=6048e5;function Uq(t,e){se(1,arguments);var n=ye(t),r=Ur(n,e).getTime()-Fq(n,e).getTime();return Math.round(r/$q)+1}function Bq(t){se(1,arguments);var e=ye(t),n=e.getMonth();return e.setFullYear(e.getFullYear(),n+1,0),e.setHours(0,0,0,0),e}function Wq(t,e){return se(1,arguments),IH(Bq(t),Sn(t),e)+1}function _h(t,e){se(2,arguments);var n=ye(t),r=ye(e);return n.getTime()>r.getTime()}function q2(t,e){se(2,arguments);var n=ye(t),r=ye(e);return n.getTime()<r.getTime()}function iC(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function zq(t,e){if(t){if(typeof t=="string")return iC(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?iC(t,e):void 0}}function oC(t,e){var n=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=zq(t))||e&&t&&typeof t.length=="number"){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(c){throw c},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var o,s=!0,a=!1;return{s:function(){n=n.call(t)},n:function(){var c=n.next();return s=c.done,c},e:function(c){a=!0,o=c},f:function(){try{s||n.return==null||n.return()}finally{if(a)throw o}}}}function te(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function My(t,e){return My=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},My(t,e)}function je(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&My(t,e)}function Eh(t){return Eh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Eh(t)}function G2(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(G2=function(){return!!t})()}function Hq(t,e){if(e&&(fr(e)=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return te(t)}function Fe(t){var e=G2();return function(){var n,r=Eh(t);if(e){var i=Eh(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Hq(this,n)}}function Me(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function qq(t,e){if(fr(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(fr(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Y2(t){var e=qq(t,"string");return fr(e)=="symbol"?e:e+""}function sC(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Y2(r.key),r)}}function Oe(t,e,n){return e&&sC(t.prototype,e),n&&sC(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Z(t,e,n){return(e=Y2(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Gq=10,K2=function(){function t(){Me(this,t),Z(this,"priority",void 0),Z(this,"subPriority",0)}return Oe(t,[{key:"validate",value:function(n,r){return!0}}]),t}(),Yq=function(t){je(n,t);var e=Fe(n);function n(r,i,o,s,a){var l;return Me(this,n),l=e.call(this),l.value=r,l.validateValue=i,l.setValue=o,l.priority=s,a&&(l.subPriority=a),l}return Oe(n,[{key:"validate",value:function(i,o){return this.validateValue(i,this.value,o)}},{key:"set",value:function(i,o,s){return this.setValue(i,o,this.value,s)}}]),n}(K2),Kq=function(t){je(n,t);var e=Fe(n);function n(){var r;Me(this,n);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o)),Z(te(r),"priority",Gq),Z(te(r),"subPriority",-1),r}return Oe(n,[{key:"set",value:function(i,o){if(o.timestampIsSet)return i;var s=new Date(0);return s.setFullYear(i.getUTCFullYear(),i.getUTCMonth(),i.getUTCDate()),s.setHours(i.getUTCHours(),i.getUTCMinutes(),i.getUTCSeconds(),i.getUTCMilliseconds()),s}}]),n}(K2),Be=function(){function t(){Me(this,t),Z(this,"incompatibleTokens",void 0),Z(this,"priority",void 0),Z(this,"subPriority",void 0)}return Oe(t,[{key:"run",value:function(n,r,i,o){var s=this.parse(n,r,i,o);return s?{setter:new Yq(s.value,this.validate,this.set,this.priority,this.subPriority),rest:s.rest}:null}},{key:"validate",value:function(n,r,i){return!0}}]),t}(),Qq=function(t){je(n,t);var e=Fe(n);function n(){var r;Me(this,n);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o)),Z(te(r),"priority",140),Z(te(r),"incompatibleTokens",["R","u","t","T"]),r}return Oe(n,[{key:"parse",value:function(i,o,s){switch(o){case"G":case"GG":case"GGG":return s.era(i,{width:"abbreviated"})||s.era(i,{width:"narrow"});case"GGGGG":return s.era(i,{width:"narrow"});case"GGGG":default:return s.era(i,{width:"wide"})||s.era(i,{width:"abbreviated"})||s.era(i,{width:"narrow"})}}},{key:"set",value:function(i,o,s){return o.era=s,i.setUTCFullYear(s,0,1),i.setUTCHours(0,0,0,0),i}}]),n}(Be),_t={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},Cr={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function Et(t,e){return t&&{value:e(t.value),rest:t.rest}}function dt(t,e){var n=e.match(t);return n?{value:parseInt(n[0],10),rest:e.slice(n[0].length)}:null}function Sr(t,e){var n=e.match(t);if(!n)return null;if(n[0]==="Z")return{value:0,rest:e.slice(1)};var r=n[1]==="+"?1:-1,i=n[2]?parseInt(n[2],10):0,o=n[3]?parseInt(n[3],10):0,s=n[5]?parseInt(n[5],10):0;return{value:r*(i*a1+o*s1+s*CH),rest:e.slice(n[0].length)}}function Q2(t){return dt(_t.anyDigitsSigned,t)}function yt(t,e){switch(t){case 1:return dt(_t.singleDigit,e);case 2:return dt(_t.twoDigits,e);case 3:return dt(_t.threeDigits,e);case 4:return dt(_t.fourDigits,e);default:return dt(new RegExp("^\\d{1,"+t+"}"),e)}}function bh(t,e){switch(t){case 1:return dt(_t.singleDigitSigned,e);case 2:return dt(_t.twoDigitsSigned,e);case 3:return dt(_t.threeDigitsSigned,e);case 4:return dt(_t.fourDigitsSigned,e);default:return dt(new RegExp("^-?\\d{1,"+t+"}"),e)}}function h1(t){switch(t){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function X2(t,e){var n=e>0,r=n?e:1-e,i;if(r<=50)i=t||100;else{var o=r+50,s=Math.floor(o/100)*100,a=t>=o%100;i=t+s-(a?100:0)}return n?i:1-i}function J2(t){return t%400===0||t%4===0&&t%100!==0}var Xq=function(t){je(n,t);var e=Fe(n);function n(){var r;Me(this,n);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o)),Z(te(r),"priority",130),Z(te(r),"incompatibleTokens",["Y","R","u","w","I","i","e","c","t","T"]),r}return Oe(n,[{key:"parse",value:function(i,o,s){var a=function(c){return{year:c,isTwoDigitYear:o==="yy"}};switch(o){case"y":return Et(yt(4,i),a);case"yo":return Et(s.ordinalNumber(i,{unit:"year"}),a);default:return Et(yt(o.length,i),a)}}},{key:"validate",value:function(i,o){return o.isTwoDigitYear||o.year>0}},{key:"set",value:function(i,o,s){var a=i.getUTCFullYear();if(s.isTwoDigitYear){var l=X2(s.year,a);return i.setUTCFullYear(l,0,1),i.setUTCHours(0,0,0,0),i}var c=!("era"in o)||o.era===1?s.year:1-s.year;return i.setUTCFullYear(c,0,1),i.setUTCHours(0,0,0,0),i}}]),n}(Be),Jq=function(t){je(n,t);var e=Fe(n);function n(){var r;Me(this,n);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o)),Z(te(r),"priority",130),Z(te(r),"incompatibleTokens",["y","R","u","Q","q","M","L","I","d","D","i","t","T"]),r}return Oe(n,[{key:"parse",value:function(i,o,s){var a=function(c){return{year:c,isTwoDigitYear:o==="YY"}};switch(o){case"Y":return Et(yt(4,i),a);case"Yo":return Et(s.ordinalNumber(i,{unit:"year"}),a);default:return Et(yt(o.length,i),a)}}},{key:"validate",value:function(i,o){return o.isTwoDigitYear||o.year>0}},{key:"set",value:function(i,o,s,a){var l=d1(i,a);if(s.isTwoDigitYear){var c=X2(s.year,l);return i.setUTCFullYear(c,0,a.firstWeekContainsDate),i.setUTCHours(0,0,0,0),Es(i,a)}var u=!("era"in o)||o.era===1?s.year:1-s.year;return i.setUTCFullYear(u,0,a.firstWeekContainsDate),i.setUTCHours(0,0,0,0),Es(i,a)}}]),n}(Be),Zq=function(t){je(n,t);var e=Fe(n);function n(){var r;Me(this,n);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o)),Z(te(r),"priority",130),Z(te(r),"incompatibleTokens",["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"]),r}return Oe(n,[{key:"parse",value:function(i,o){return bh(o==="R"?4:o.length,i)}},{key:"set",value:function(i,o,s){var a=new Date(0);return a.setUTCFullYear(s,0,4),a.setUTCHours(0,0,0,0),Qa(a)}}]),n}(Be),eG=function(t){je(n,t);var e=Fe(n);function n(){var r;Me(this,n);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o)),Z(te(r),"priority",130),Z(te(r),"incompatibleTokens",["G","y","Y","R","w","I","i","e","c","t","T"]),r}return Oe(n,[{key:"parse",value:function(i,o){return bh(o==="u"?4:o.length,i)}},{key:"set",value:function(i,o,s){return i.setUTCFullYear(s,0,1),i.setUTCHours(0,0,0,0),i}}]),n}(Be),tG=function(t){je(n,t);var e=Fe(n);function n(){var r;Me(this,n);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o)),Z(te(r),"priority",120),Z(te(r),"incompatibleTokens",["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"]),r}return Oe(n,[{key:"parse",value:function(i,o,s){switch(o){case"Q":case"QQ":return yt(o.length,i);case"Qo":return s.ordinalNumber(i,{unit:"quarter"});case"QQQ":return s.quarter(i,{width:"abbreviated",context:"formatting"})||s.quarter(i,{width:"narrow",context:"formatting"});case"QQQQQ":return s.quarter(i,{width:"narrow",context:"formatting"});case"QQQQ":default:return s.quarter(i,{width:"wide",context:"formatting"})||s.quarter(i,{width:"abbreviated",context:"formatting"})||s.quarter(i,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(i,o){return o>=1&&o<=4}},{key:"set",value:function(i,o,s){return i.setUTCMonth((s-1)*3,1),i.setUTCHours(0,0,0,0),i}}]),n}(Be),nG=function(t){je(n,t);var e=Fe(n);function n(){var r;Me(this,n);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o)),Z(te(r),"priority",120),Z(te(r),"incompatibleTokens",["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"]),r}return Oe(n,[{key:"parse",value:function(i,o,s){switch(o){case"q":case"qq":return yt(o.length,i);case"qo":return s.ordinalNumber(i,{unit:"quarter"});case"qqq":return s.quarter(i,{width:"abbreviated",context:"standalone"})||s.quarter(i,{width:"narrow",context:"standalone"});case"qqqqq":return s.quarter(i,{width:"narrow",context:"standalone"});case"qqqq":default:return s.quarter(i,{width:"wide",context:"standalone"})||s.quarter(i,{width:"abbreviated",context:"standalone"})||s.quarter(i,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(i,o){return o>=1&&o<=4}},{key:"set",value:function(i,o,s){return i.setUTCMonth((s-1)*3,1),i.setUTCHours(0,0,0,0),i}}]),n}(Be),rG=function(t){je(n,t);var e=Fe(n);function n(){var r;Me(this,n);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o)),Z(te(r),"incompatibleTokens",["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]),Z(te(r),"priority",110),r}return Oe(n,[{key:"parse",value:function(i,o,s){var a=function(c){return c-1};switch(o){case"M":return Et(dt(_t.month,i),a);case"MM":return Et(yt(2,i),a);case"Mo":return Et(s.ordinalNumber(i,{unit:"month"}),a);case"MMM":return s.month(i,{width:"abbreviated",context:"formatting"})||s.month(i,{width:"narrow",context:"formatting"});case"MMMMM":return s.month(i,{width:"narrow",context:"formatting"});case"MMMM":default:return s.month(i,{width:"wide",context:"formatting"})||s.month(i,{width:"abbreviated",context:"formatting"})||s.month(i,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(i,o){return o>=0&&o<=11}},{key:"set",value:function(i,o,s){return i.setUTCMonth(s,1),i.setUTCHours(0,0,0,0),i}}]),n}(Be),iG=function(t){je(n,t);var e=Fe(n);function n(){var r;Me(this,n);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o)),Z(te(r),"priority",110),Z(te(r),"incompatibleTokens",["Y","R","q","Q","M","w","I","D","i","e","c","t","T"]),r}return Oe(n,[{key:"parse",value:function(i,o,s){var a=function(c){return c-1};switch(o){case"L":return Et(dt(_t.month,i),a);case"LL":return Et(yt(2,i),a);case"Lo":return Et(s.ordinalNumber(i,{unit:"month"}),a);case"LLL":return s.month(i,{width:"abbreviated",context:"standalone"})||s.month(i,{width:"narrow",context:"standalone"});case"LLLLL":return s.month(i,{width:"narrow",context:"standalone"});case"LLLL":default:return s.month(i,{width:"wide",context:"standalone"})||s.month(i,{width:"abbreviated",context:"standalone"})||s.month(i,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(i,o){return o>=0&&o<=11}},{key:"set",value:function(i,o,s){return i.setUTCMonth(s,1),i.setUTCHours(0,0,0,0),i}}]),n}(Be);function oG(t,e,n){se(2,arguments);var r=ye(t),i=Je(e),o=U2(r,n)-i;return r.setUTCDate(r.getUTCDate()-o*7),r}var sG=function(t){je(n,t);var e=Fe(n);function n(){var r;Me(this,n);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o)),Z(te(r),"priority",100),Z(te(r),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","i","t","T"]),r}return Oe(n,[{key:"parse",value:function(i,o,s){switch(o){case"w":return dt(_t.week,i);case"wo":return s.ordinalNumber(i,{unit:"week"});default:return yt(o.length,i)}}},{key:"validate",value:function(i,o){return o>=1&&o<=53}},{key:"set",value:function(i,o,s,a){return Es(oG(i,s,a),a)}}]),n}(Be);function aG(t,e){se(2,arguments);var n=ye(t),r=Je(e),i=$2(n)-r;return n.setUTCDate(n.getUTCDate()-i*7),n}var lG=function(t){je(n,t);var e=Fe(n);function n(){var r;Me(this,n);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o)),Z(te(r),"priority",100),Z(te(r),"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"]),r}return Oe(n,[{key:"parse",value:function(i,o,s){switch(o){case"I":return dt(_t.week,i);case"Io":return s.ordinalNumber(i,{unit:"week"});default:return yt(o.length,i)}}},{key:"validate",value:function(i,o){return o>=1&&o<=53}},{key:"set",value:function(i,o,s){return Qa(aG(i,s))}}]),n}(Be),cG=[31,28,31,30,31,30,31,31,30,31,30,31],uG=[31,29,31,30,31,30,31,31,30,31,30,31],dG=function(t){je(n,t);var e=Fe(n);function n(){var r;Me(this,n);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o)),Z(te(r),"priority",90),Z(te(r),"subPriority",1),Z(te(r),"incompatibleTokens",["Y","R","q","Q","w","I","D","i","e","c","t","T"]),r}return Oe(n,[{key:"parse",value:function(i,o,s){switch(o){case"d":return dt(_t.date,i);case"do":return s.ordinalNumber(i,{unit:"date"});default:return yt(o.length,i)}}},{key:"validate",value:function(i,o){var s=i.getUTCFullYear(),a=J2(s),l=i.getUTCMonth();return a?o>=1&&o<=uG[l]:o>=1&&o<=cG[l]}},{key:"set",value:function(i,o,s){return i.setUTCDate(s),i.setUTCHours(0,0,0,0),i}}]),n}(Be),fG=function(t){je(n,t);var e=Fe(n);function n(){var r;Me(this,n);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o)),Z(te(r),"priority",90),Z(te(r),"subpriority",1),Z(te(r),"incompatibleTokens",["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"]),r}return Oe(n,[{key:"parse",value:function(i,o,s){switch(o){case"D":case"DD":return dt(_t.dayOfYear,i);case"Do":return s.ordinalNumber(i,{unit:"date"});default:return yt(o.length,i)}}},{key:"validate",value:function(i,o){var s=i.getUTCFullYear(),a=J2(s);return a?o>=1&&o<=366:o>=1&&o<=365}},{key:"set",value:function(i,o,s){return i.setUTCMonth(0,s),i.setUTCHours(0,0,0,0),i}}]),n}(Be);function p1(t,e,n){var r,i,o,s,a,l,c,u;se(2,arguments);var f=zr(),h=Je((r=(i=(o=(s=n==null?void 0:n.weekStartsOn)!==null&&s!==void 0?s:n==null||(a=n.locale)===null||a===void 0||(l=a.options)===null||l===void 0?void 0:l.weekStartsOn)!==null&&o!==void 0?o:f.weekStartsOn)!==null&&i!==void 0?i:(c=f.locale)===null||c===void 0||(u=c.options)===null||u===void 0?void 0:u.weekStartsOn)!==null&&r!==void 0?r:0);if(!(h>=0&&h<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var g=ye(t),x=Je(e),w=g.getUTCDay(),b=x%7,v=(b+7)%7,y=(v<h?7:0)+x-w;return g.setUTCDate(g.getUTCDate()+y),g}var hG=function(t){je(n,t);var e=Fe(n);function n(){var r;Me(this,n);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o)),Z(te(r),"priority",90),Z(te(r),"incompatibleTokens",["D","i","e","c","t","T"]),r}return Oe(n,[{key:"parse",value:function(i,o,s){switch(o){case"E":case"EE":case"EEE":return s.day(i,{width:"abbreviated",context:"formatting"})||s.day(i,{width:"short",context:"formatting"})||s.day(i,{width:"narrow",context:"formatting"});case"EEEEE":return s.day(i,{width:"narrow",context:"formatting"});case"EEEEEE":return s.day(i,{width:"short",context:"formatting"})||s.day(i,{width:"narrow",context:"formatting"});case"EEEE":default:return s.day(i,{width:"wide",context:"formatting"})||s.day(i,{width:"abbreviated",context:"formatting"})||s.day(i,{width:"short",context:"formatting"})||s.day(i,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(i,o){return o>=0&&o<=6}},{key:"set",value:function(i,o,s,a){return i=p1(i,s,a),i.setUTCHours(0,0,0,0),i}}]),n}(Be),pG=function(t){je(n,t);var e=Fe(n);function n(){var r;Me(this,n);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o)),Z(te(r),"priority",90),Z(te(r),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"]),r}return Oe(n,[{key:"parse",value:function(i,o,s,a){var l=function(u){var f=Math.floor((u-1)/7)*7;return(u+a.weekStartsOn+6)%7+f};switch(o){case"e":case"ee":return Et(yt(o.length,i),l);case"eo":return Et(s.ordinalNumber(i,{unit:"day"}),l);case"eee":return s.day(i,{width:"abbreviated",context:"formatting"})||s.day(i,{width:"short",context:"formatting"})||s.day(i,{width:"narrow",context:"formatting"});case"eeeee":return s.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return s.day(i,{width:"short",context:"formatting"})||s.day(i,{width:"narrow",context:"formatting"});case"eeee":default:return s.day(i,{width:"wide",context:"formatting"})||s.day(i,{width:"abbreviated",context:"formatting"})||s.day(i,{width:"short",context:"formatting"})||s.day(i,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(i,o){return o>=0&&o<=6}},{key:"set",value:function(i,o,s,a){return i=p1(i,s,a),i.setUTCHours(0,0,0,0),i}}]),n}(Be),mG=function(t){je(n,t);var e=Fe(n);function n(){var r;Me(this,n);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o)),Z(te(r),"priority",90),Z(te(r),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"]),r}return Oe(n,[{key:"parse",value:function(i,o,s,a){var l=function(u){var f=Math.floor((u-1)/7)*7;return(u+a.weekStartsOn+6)%7+f};switch(o){case"c":case"cc":return Et(yt(o.length,i),l);case"co":return Et(s.ordinalNumber(i,{unit:"day"}),l);case"ccc":return s.day(i,{width:"abbreviated",context:"standalone"})||s.day(i,{width:"short",context:"standalone"})||s.day(i,{width:"narrow",context:"standalone"});case"ccccc":return s.day(i,{width:"narrow",context:"standalone"});case"cccccc":return s.day(i,{width:"short",context:"standalone"})||s.day(i,{width:"narrow",context:"standalone"});case"cccc":default:return s.day(i,{width:"wide",context:"standalone"})||s.day(i,{width:"abbreviated",context:"standalone"})||s.day(i,{width:"short",context:"standalone"})||s.day(i,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(i,o){return o>=0&&o<=6}},{key:"set",value:function(i,o,s,a){return i=p1(i,s,a),i.setUTCHours(0,0,0,0),i}}]),n}(Be);function gG(t,e){se(2,arguments);var n=Je(e);n%7===0&&(n=n-7);var r=1,i=ye(t),o=i.getUTCDay(),s=n%7,a=(s+7)%7,l=(a<r?7:0)+n-o;return i.setUTCDate(i.getUTCDate()+l),i}var vG=function(t){je(n,t);var e=Fe(n);function n(){var r;Me(this,n);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o)),Z(te(r),"priority",90),Z(te(r),"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"]),r}return Oe(n,[{key:"parse",value:function(i,o,s){var a=function(c){return c===0?7:c};switch(o){case"i":case"ii":return yt(o.length,i);case"io":return s.ordinalNumber(i,{unit:"day"});case"iii":return Et(s.day(i,{width:"abbreviated",context:"formatting"})||s.day(i,{width:"short",context:"formatting"})||s.day(i,{width:"narrow",context:"formatting"}),a);case"iiiii":return Et(s.day(i,{width:"narrow",context:"formatting"}),a);case"iiiiii":return Et(s.day(i,{width:"short",context:"formatting"})||s.day(i,{width:"narrow",context:"formatting"}),a);case"iiii":default:return Et(s.day(i,{width:"wide",context:"formatting"})||s.day(i,{width:"abbreviated",context:"formatting"})||s.day(i,{width:"short",context:"formatting"})||s.day(i,{width:"narrow",context:"formatting"}),a)}}},{key:"validate",value:function(i,o){return o>=1&&o<=7}},{key:"set",value:function(i,o,s){return i=gG(i,s),i.setUTCHours(0,0,0,0),i}}]),n}(Be),yG=function(t){je(n,t);var e=Fe(n);function n(){var r;Me(this,n);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o)),Z(te(r),"priority",80),Z(te(r),"incompatibleTokens",["b","B","H","k","t","T"]),r}return Oe(n,[{key:"parse",value:function(i,o,s){switch(o){case"a":case"aa":case"aaa":return s.dayPeriod(i,{width:"abbreviated",context:"formatting"})||s.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaaa":return s.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return s.dayPeriod(i,{width:"wide",context:"formatting"})||s.dayPeriod(i,{width:"abbreviated",context:"formatting"})||s.dayPeriod(i,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(i,o,s){return i.setUTCHours(h1(s),0,0,0),i}}]),n}(Be),wG=function(t){je(n,t);var e=Fe(n);function n(){var r;Me(this,n);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o)),Z(te(r),"priority",80),Z(te(r),"incompatibleTokens",["a","B","H","k","t","T"]),r}return Oe(n,[{key:"parse",value:function(i,o,s){switch(o){case"b":case"bb":case"bbb":return s.dayPeriod(i,{width:"abbreviated",context:"formatting"})||s.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbbb":return s.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return s.dayPeriod(i,{width:"wide",context:"formatting"})||s.dayPeriod(i,{width:"abbreviated",context:"formatting"})||s.dayPeriod(i,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(i,o,s){return i.setUTCHours(h1(s),0,0,0),i}}]),n}(Be),xG=function(t){je(n,t);var e=Fe(n);function n(){var r;Me(this,n);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o)),Z(te(r),"priority",80),Z(te(r),"incompatibleTokens",["a","b","t","T"]),r}return Oe(n,[{key:"parse",value:function(i,o,s){switch(o){case"B":case"BB":case"BBB":return s.dayPeriod(i,{width:"abbreviated",context:"formatting"})||s.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBBB":return s.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return s.dayPeriod(i,{width:"wide",context:"formatting"})||s.dayPeriod(i,{width:"abbreviated",context:"formatting"})||s.dayPeriod(i,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(i,o,s){return i.setUTCHours(h1(s),0,0,0),i}}]),n}(Be),_G=function(t){je(n,t);var e=Fe(n);function n(){var r;Me(this,n);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o)),Z(te(r),"priority",70),Z(te(r),"incompatibleTokens",["H","K","k","t","T"]),r}return Oe(n,[{key:"parse",value:function(i,o,s){switch(o){case"h":return dt(_t.hour12h,i);case"ho":return s.ordinalNumber(i,{unit:"hour"});default:return yt(o.length,i)}}},{key:"validate",value:function(i,o){return o>=1&&o<=12}},{key:"set",value:function(i,o,s){var a=i.getUTCHours()>=12;return a&&s<12?i.setUTCHours(s+12,0,0,0):!a&&s===12?i.setUTCHours(0,0,0,0):i.setUTCHours(s,0,0,0),i}}]),n}(Be),EG=function(t){je(n,t);var e=Fe(n);function n(){var r;Me(this,n);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o)),Z(te(r),"priority",70),Z(te(r),"incompatibleTokens",["a","b","h","K","k","t","T"]),r}return Oe(n,[{key:"parse",value:function(i,o,s){switch(o){case"H":return dt(_t.hour23h,i);case"Ho":return s.ordinalNumber(i,{unit:"hour"});default:return yt(o.length,i)}}},{key:"validate",value:function(i,o){return o>=0&&o<=23}},{key:"set",value:function(i,o,s){return i.setUTCHours(s,0,0,0),i}}]),n}(Be),bG=function(t){je(n,t);var e=Fe(n);function n(){var r;Me(this,n);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o)),Z(te(r),"priority",70),Z(te(r),"incompatibleTokens",["h","H","k","t","T"]),r}return Oe(n,[{key:"parse",value:function(i,o,s){switch(o){case"K":return dt(_t.hour11h,i);case"Ko":return s.ordinalNumber(i,{unit:"hour"});default:return yt(o.length,i)}}},{key:"validate",value:function(i,o){return o>=0&&o<=11}},{key:"set",value:function(i,o,s){var a=i.getUTCHours()>=12;return a&&s<12?i.setUTCHours(s+12,0,0,0):i.setUTCHours(s,0,0,0),i}}]),n}(Be),TG=function(t){je(n,t);var e=Fe(n);function n(){var r;Me(this,n);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o)),Z(te(r),"priority",70),Z(te(r),"incompatibleTokens",["a","b","h","H","K","t","T"]),r}return Oe(n,[{key:"parse",value:function(i,o,s){switch(o){case"k":return dt(_t.hour24h,i);case"ko":return s.ordinalNumber(i,{unit:"hour"});default:return yt(o.length,i)}}},{key:"validate",value:function(i,o){return o>=1&&o<=24}},{key:"set",value:function(i,o,s){var a=s<=24?s%24:s;return i.setUTCHours(a,0,0,0),i}}]),n}(Be),CG=function(t){je(n,t);var e=Fe(n);function n(){var r;Me(this,n);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o)),Z(te(r),"priority",60),Z(te(r),"incompatibleTokens",["t","T"]),r}return Oe(n,[{key:"parse",value:function(i,o,s){switch(o){case"m":return dt(_t.minute,i);case"mo":return s.ordinalNumber(i,{unit:"minute"});default:return yt(o.length,i)}}},{key:"validate",value:function(i,o){return o>=0&&o<=59}},{key:"set",value:function(i,o,s){return i.setUTCMinutes(s,0,0),i}}]),n}(Be),SG=function(t){je(n,t);var e=Fe(n);function n(){var r;Me(this,n);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o)),Z(te(r),"priority",50),Z(te(r),"incompatibleTokens",["t","T"]),r}return Oe(n,[{key:"parse",value:function(i,o,s){switch(o){case"s":return dt(_t.second,i);case"so":return s.ordinalNumber(i,{unit:"second"});default:return yt(o.length,i)}}},{key:"validate",value:function(i,o){return o>=0&&o<=59}},{key:"set",value:function(i,o,s){return i.setUTCSeconds(s,0),i}}]),n}(Be),PG=function(t){je(n,t);var e=Fe(n);function n(){var r;Me(this,n);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o)),Z(te(r),"priority",30),Z(te(r),"incompatibleTokens",["t","T"]),r}return Oe(n,[{key:"parse",value:function(i,o){var s=function(l){return Math.floor(l*Math.pow(10,-o.length+3))};return Et(yt(o.length,i),s)}},{key:"set",value:function(i,o,s){return i.setUTCMilliseconds(s),i}}]),n}(Be),IG=function(t){je(n,t);var e=Fe(n);function n(){var r;Me(this,n);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o)),Z(te(r),"priority",10),Z(te(r),"incompatibleTokens",["t","T","x"]),r}return Oe(n,[{key:"parse",value:function(i,o){switch(o){case"X":return Sr(Cr.basicOptionalMinutes,i);case"XX":return Sr(Cr.basic,i);case"XXXX":return Sr(Cr.basicOptionalSeconds,i);case"XXXXX":return Sr(Cr.extendedOptionalSeconds,i);case"XXX":default:return Sr(Cr.extended,i)}}},{key:"set",value:function(i,o,s){return o.timestampIsSet?i:new Date(i.getTime()-s)}}]),n}(Be),AG=function(t){je(n,t);var e=Fe(n);function n(){var r;Me(this,n);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o)),Z(te(r),"priority",10),Z(te(r),"incompatibleTokens",["t","T","X"]),r}return Oe(n,[{key:"parse",value:function(i,o){switch(o){case"x":return Sr(Cr.basicOptionalMinutes,i);case"xx":return Sr(Cr.basic,i);case"xxxx":return Sr(Cr.basicOptionalSeconds,i);case"xxxxx":return Sr(Cr.extendedOptionalSeconds,i);case"xxx":default:return Sr(Cr.extended,i)}}},{key:"set",value:function(i,o,s){return o.timestampIsSet?i:new Date(i.getTime()-s)}}]),n}(Be),kG=function(t){je(n,t);var e=Fe(n);function n(){var r;Me(this,n);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o)),Z(te(r),"priority",40),Z(te(r),"incompatibleTokens","*"),r}return Oe(n,[{key:"parse",value:function(i){return Q2(i)}},{key:"set",value:function(i,o,s){return[new Date(s*1e3),{timestampIsSet:!0}]}}]),n}(Be),RG=function(t){je(n,t);var e=Fe(n);function n(){var r;Me(this,n);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o)),Z(te(r),"priority",20),Z(te(r),"incompatibleTokens","*"),r}return Oe(n,[{key:"parse",value:function(i){return Q2(i)}},{key:"set",value:function(i,o,s){return[new Date(s),{timestampIsSet:!0}]}}]),n}(Be),NG={G:new Qq,y:new Xq,Y:new Jq,R:new Zq,u:new eG,Q:new tG,q:new nG,M:new rG,L:new iG,w:new sG,I:new lG,d:new dG,D:new fG,E:new hG,e:new pG,c:new mG,i:new vG,a:new yG,b:new wG,B:new xG,h:new _G,H:new EG,K:new bG,k:new TG,m:new CG,s:new SG,S:new PG,X:new IG,x:new AG,t:new kG,T:new RG},DG=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,MG=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,OG=/^'([^]*?)'?$/,LG=/''/g,VG=/\S/,jG=/[a-zA-Z]/;function FG(t,e,n,r){var i,o,s,a,l,c,u,f,h,g,x,w,b,v,y,E,I,N;se(3,arguments);var O=String(t),S=String(e),C=zr(),P=(i=(o=r==null?void 0:r.locale)!==null&&o!==void 0?o:C.locale)!==null&&i!==void 0?i:f1;if(!P.match)throw new RangeError("locale must contain match property");var A=Je((s=(a=(l=(c=r==null?void 0:r.firstWeekContainsDate)!==null&&c!==void 0?c:r==null||(u=r.locale)===null||u===void 0||(f=u.options)===null||f===void 0?void 0:f.firstWeekContainsDate)!==null&&l!==void 0?l:C.firstWeekContainsDate)!==null&&a!==void 0?a:(h=C.locale)===null||h===void 0||(g=h.options)===null||g===void 0?void 0:g.firstWeekContainsDate)!==null&&s!==void 0?s:1);if(!(A>=1&&A<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var M=Je((x=(w=(b=(v=r==null?void 0:r.weekStartsOn)!==null&&v!==void 0?v:r==null||(y=r.locale)===null||y===void 0||(E=y.options)===null||E===void 0?void 0:E.weekStartsOn)!==null&&b!==void 0?b:C.weekStartsOn)!==null&&w!==void 0?w:(I=C.locale)===null||I===void 0||(N=I.options)===null||N===void 0?void 0:N.weekStartsOn)!==null&&x!==void 0?x:0);if(!(M>=0&&M<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(S==="")return O===""?ye(n):new Date(NaN);var D={firstWeekContainsDate:A,weekStartsOn:M,locale:P},R=[new Kq],B=S.match(MG).map(function(ae){var ce=ae[0];if(ce in Dy){var ne=Dy[ce];return ne(ae,P.formatLong)}return ae}).join("").match(DG),q=[],Y=oC(B),z;try{var L=function(){var ce=z.value;!(r!=null&&r.useAdditionalWeekYearTokens)&&z2(ce)&&xh(ce,S,t),!(r!=null&&r.useAdditionalDayOfYearTokens)&&W2(ce)&&xh(ce,S,t);var ne=ce[0],me=NG[ne];if(me){var Ce=me.incompatibleTokens;if(Array.isArray(Ce)){var Ke=q.find(function(Dt){return Ce.includes(Dt.token)||Dt.token===ne});if(Ke)throw new RangeError("The format string mustn't contain `".concat(Ke.fullToken,"` and `").concat(ce,"` at the same time"))}else if(me.incompatibleTokens==="*"&&q.length>0)throw new RangeError("The format string mustn't contain `".concat(ce,"` and any other token at the same time"));q.push({token:ne,fullToken:ce});var st=me.run(O,ce,P.match,D);if(!st)return{v:new Date(NaN)};R.push(st.setter),O=st.rest}else{if(ne.match(jG))throw new RangeError("Format string contains an unescaped latin alphabet character `"+ne+"`");if(ce==="''"?ce="'":ne==="'"&&(ce=$G(ce)),O.indexOf(ce)===0)O=O.slice(ce.length);else return{v:new Date(NaN)}}};for(Y.s();!(z=Y.n()).done;){var V=L();if(fr(V)==="object")return V.v}}catch(ae){Y.e(ae)}finally{Y.f()}if(O.length>0&&VG.test(O))return new Date(NaN);var $=R.map(function(ae){return ae.priority}).sort(function(ae,ce){return ce-ae}).filter(function(ae,ce,ne){return ne.indexOf(ae)===ce}).map(function(ae){return R.filter(function(ce){return ce.priority===ae}).sort(function(ce,ne){return ne.subPriority-ce.subPriority})}).map(function(ae){return ae[0]}),F=ye(n);if(isNaN(F.getTime()))return new Date(NaN);var W=j2(F,Ka(F)),K={},oe=oC($),he;try{for(oe.s();!(he=oe.n()).done;){var ue=he.value;if(!ue.validate(W,D))return new Date(NaN);var X=ue.set(W,K,D);Array.isArray(X)?(W=X[0],Nq(K,X[1])):W=X}}catch(ae){oe.e(ae)}finally{oe.f()}return W}function $G(t){return t.match(OG)[1].replace(LG,"'")}function m1(t,e){se(2,arguments);var n=ye(t),r=ye(e);return n.getFullYear()===r.getFullYear()&&n.getMonth()===r.getMonth()}function UG(t,e){se(2,arguments);var n=ye(t),r=ye(e);return n.getFullYear()===r.getFullYear()}function yg(t,e){se(2,arguments);var n=Je(e);return Lt(t,-n)}function le(t,e){var n;se(1,arguments);var r=Je((n=e==null?void 0:e.additionalDigits)!==null&&n!==void 0?n:2);if(r!==2&&r!==1&&r!==0)throw new RangeError("additionalDigits must be 0, 1 or 2");if(!(typeof t=="string"||Object.prototype.toString.call(t)==="[object String]"))return new Date(NaN);var i=HG(t),o;if(i.date){var s=qG(i.date,r);o=GG(s.restDateString,s.year)}if(!o||isNaN(o.getTime()))return new Date(NaN);var a=o.getTime(),l=0,c;if(i.time&&(l=YG(i.time),isNaN(l)))return new Date(NaN);if(i.timezone){if(c=KG(i.timezone),isNaN(c))return new Date(NaN)}else{var u=new Date(a+l),f=new Date(0);return f.setFullYear(u.getUTCFullYear(),u.getUTCMonth(),u.getUTCDate()),f.setHours(u.getUTCHours(),u.getUTCMinutes(),u.getUTCSeconds(),u.getUTCMilliseconds()),f}return new Date(a+l+c)}var Nd={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},BG=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,WG=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,zG=/^([+-])(\d{2})(?::?(\d{2}))?$/;function HG(t){var e={},n=t.split(Nd.dateTimeDelimiter),r;if(n.length>2)return e;if(/:/.test(n[0])?r=n[0]:(e.date=n[0],r=n[1],Nd.timeZoneDelimiter.test(e.date)&&(e.date=t.split(Nd.timeZoneDelimiter)[0],r=t.substr(e.date.length,t.length))),r){var i=Nd.timezone.exec(r);i?(e.time=r.replace(i[1],""),e.timezone=i[1]):e.time=r}return e}function qG(t,e){var n=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+e)+"})|(\\d{2}|[+-]\\d{"+(2+e)+"})$)"),r=t.match(n);if(!r)return{year:NaN,restDateString:""};var i=r[1]?parseInt(r[1]):null,o=r[2]?parseInt(r[2]):null;return{year:o===null?i:o*100,restDateString:t.slice((r[1]||r[2]).length)}}function GG(t,e){if(e===null)return new Date(NaN);var n=t.match(BG);if(!n)return new Date(NaN);var r=!!n[4],i=Kl(n[1]),o=Kl(n[2])-1,s=Kl(n[3]),a=Kl(n[4]),l=Kl(n[5])-1;if(r)return eY(e,a,l)?QG(e,a,l):new Date(NaN);var c=new Date(0);return!JG(e,o,s)||!ZG(e,i)?new Date(NaN):(c.setUTCFullYear(e,o,Math.max(i,s)),c)}function Kl(t){return t?parseInt(t):1}function YG(t){var e=t.match(WG);if(!e)return NaN;var n=wg(e[1]),r=wg(e[2]),i=wg(e[3]);return tY(n,r,i)?n*a1+r*s1+i*1e3:NaN}function wg(t){return t&&parseFloat(t.replace(",","."))||0}function KG(t){if(t==="Z")return 0;var e=t.match(zG);if(!e)return 0;var n=e[1]==="+"?-1:1,r=parseInt(e[2]),i=e[3]&&parseInt(e[3])||0;return nY(r,i)?n*(r*a1+i*s1):NaN}function QG(t,e,n){var r=new Date(0);r.setUTCFullYear(t,0,4);var i=r.getUTCDay()||7,o=(e-1)*7+n+1-i;return r.setUTCDate(r.getUTCDate()+o),r}var XG=[31,null,31,30,31,30,31,31,30,31,30,31];function Z2(t){return t%400===0||t%4===0&&t%100!==0}function JG(t,e,n){return e>=0&&e<=11&&n>=1&&n<=(XG[e]||(Z2(t)?29:28))}function ZG(t,e){return e>=1&&e<=(Z2(t)?366:365)}function eY(t,e,n){return e>=1&&e<=53&&n>=0&&n<=6}function tY(t,e,n){return t===24?e===0&&n===0:n>=0&&n<60&&e>=0&&e<60&&t>=0&&t<25}function nY(t,e){return e>=0&&e<=59}function xg(t,e){se(2,arguments);var n=ye(t),r=Je(e),i=n.getFullYear(),o=n.getDate(),s=new Date(0);s.setFullYear(i,r,15),s.setHours(0,0,0,0);var a=Dq(s);return n.setMonth(r,Math.min(o,a)),n}function aC(t,e){se(2,arguments);var n=ye(t),r=Je(e);return isNaN(n.getTime())?new Date(NaN):(n.setFullYear(r),n)}const ma={NONE:{value:"none",label:"Sin Símbolo",color:"transparent",textColor:"#e2e8f0"},MENSTRUATION:{value:"red",label:"Menstruación",color:"bg-red-500",textColor:"#e2e8f0"},FERTILE:{value:"white",label:"Fértil (Moco)",color:"bg-white",textColor:"#e2e8f0"},INFERTILE:{value:"green",label:"Infértil (Sin Moco)",color:"bg-green-500",textColor:"#e2e8f0"},SPOTTING:{value:"spot",label:"Spotting",color:"bg-pink-300",textColor:"#e2e8f0",pattern:"spotting-pattern"}},eN=Object.values(ma),g1=t=>eN.find(n=>n.value===t)||ma.NONE,lC="#1E40AF",cC="#059669",uC="#BE185D",rY="rgba(30, 64, 175, 0.08)",iY="rgba(5, 150, 105, 0.08)",oY="rgba(190, 24, 93, 0.08)",sY=t=>{if(!t)return"";const[e,n]=t.split("/");return`${parseInt(e,10)}/${parseInt(n,10)}`},_g=(t="",e,n,r="–")=>{if(!t)return[r,""];if(t.length<=e)return[t,""];if(n)return[t.slice(0,e),""];const i=t.indexOf(" ",e);return i===-1?[t.slice(0,e),t.slice(e)]:[t.slice(0,i),t.slice(i+1)]},Eg=(t="",e,n="–")=>t?t.split(/\s+/).slice(0,e).join(" "):n,aY=({data:t,getX:e,getY:n,isFullScreen:r,orientation:i,responsiveFontSize:o,onPointInteraction:s,clearActivePoint:a,activePoint:l,padding:c,chartHeight:u,chartWidth:f,temperatureField:h="temperature_chart",textRowHeight:g})=>{const x={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.4,ease:"easeOut"}}},w={hidden:{opacity:0,scale:.5},visible:{opacity:1,scale:1,transition:{duration:.5,ease:"easeOut",type:"spring",stiffness:100}}},b=u-c.bottom,v=b+g*1,y=b+g*2,E=b+g*3,I=b+g*(r?5:4.5),N=b+g*(r?7:6),O=b+g*(r?9:7.5),S=f-c.left-c.right,C=g*(r?2:1.5);return p.jsxs(p.Fragment,{children:[p.jsxs("defs",{children:[p.jsx("filter",{id:"rowShadow",x:"-10%",y:"-10%",width:"120%",height:"120%",children:p.jsx("feDropShadow",{dx:"0",dy:"1",stdDeviation:"2",floodColor:"rgba(244, 114, 182, 0.15)"})}),p.jsxs("linearGradient",{id:"sensationGradient",x1:"0%",y1:"0%",x2:"100%",y2:"0%",children:[p.jsx("stop",{offset:"0%",stopColor:rY}),p.jsx("stop",{offset:"100%",stopColor:"rgba(30, 64, 175, 0.02)"})]}),p.jsxs("linearGradient",{id:"appearanceGradient",x1:"0%",y1:"0%",x2:"100%",y2:"0%",children:[p.jsx("stop",{offset:"0%",stopColor:iY}),p.jsx("stop",{offset:"100%",stopColor:"rgba(5, 150, 105, 0.02)"})]}),p.jsxs("linearGradient",{id:"observationGradient",x1:"0%",y1:"0%",x2:"100%",y2:"0%",children:[p.jsx("stop",{offset:"0%",stopColor:oY}),p.jsx("stop",{offset:"100%",stopColor:"rgba(190, 24, 93, 0.02)"})]})]}),p.jsxs("g",{children:[p.jsx("rect",{x:c.left,y:I-C/2,width:S,height:C,fill:"url(#sensationGradient)",rx:6,style:{filter:"url(#rowShadow)"}}),p.jsx("rect",{x:c.left,y:N-C/2,width:S,height:C,fill:"url(#appearanceGradient)",rx:6,style:{filter:"url(#rowShadow)"}}),p.jsx("rect",{x:c.left,y:O-C/2,width:S,height:C,fill:"url(#observationGradient)",rx:6,style:{filter:"url(#rowShadow)"}})]}),(!r||i!=="portrait")&&p.jsx(be.g,{variants:x,children:[{label:"Fecha",row:1,color:r?"#374151":"#6B7280"},{label:"Día",row:2,color:r?"#374151":"#6B7280"},{label:"Símbolo",row:3,color:r?"#374151":"#6B7280"},{label:"Sens.",row:r?5:4.5,color:lC},{label:"Apar.",row:r?7:6,color:cC},{label:"Observ.",row:r?9:7.5,color:uC}].map(({label:P,row:A,color:M})=>p.jsx("text",{x:c.left-o(1.5),y:b+g*A,textAnchor:"end",fontSize:o(.95),fontWeight:"600",fill:M,style:{filter:"drop-shadow(0 1px 1px rgba(255, 255, 255, 0.8))",fontFamily:'-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif'},children:P},P))}),t.map((P,A)=>{const M=e(A),D=P[h]!=null?n(P[h]):b,R=r?"#374151":"#6B7280",B=P[h]!=null,q=B||P.mucus_sensation||P.mucus_appearance||P.fertility_symbol,Y=String(P.id||"").startsWith("placeholder-"),z=!q||Y?{}:{pointerEvents:"all",style:{cursor:"pointer"},onMouseEnter:ne=>s(P,A,ne),onClick:ne=>s(P,A,ne)},L=g1(P.fertility_symbol);let V="transparent";if(L!=null&&L.color){const ne=L.color.replace(/^bg-/,"");ne==="red-500"?V="#ef4444":ne==="white"?V="#ffffff":ne==="green-500"?V="#22c55e":ne==="pink-300"&&(V="#f9a8d4")}const $=o(r?1.4:1.6),F=P.isoDate?_h(De(le(P.isoDate)),De(new Date)):!1,W=r?4:9,K=2,[oe,he]=_g(r?Eg(P.mucus_sensation,K,F?"":"–"):P.mucus_sensation,W,!1,F?"":"–"),[ue,X]=_g(r?Eg(P.mucus_appearance,K,F?"":"–"):P.mucus_appearance,W,!1,F?"":"–"),[ae,ce]=_g(r?Eg(P.observations,K,""):P.observations,W,!1,"");return p.jsxs(be.g,{variants:x,...z,children:[B&&p.jsxs(be.g,{variants:w,children:[p.jsx("circle",{cx:M,cy:D,r:8,fill:"rgba(244, 114, 182, 0.15)",opacity:.6}),p.jsx("circle",{cx:M,cy:D,r:5,fill:P.ignored?"white":"url(#tempPointGradient)",stroke:P.use_corrected?"#F59E0B":"#E91E63",strokeWidth:P.ignored?2:2.5,style:{filter:"drop-shadow(0 2px 4px rgba(244, 114, 182, 0.3))",cursor:"pointer"},pointerEvents:"all",onMouseEnter:ne=>s(P,A,ne),onTouchStart:ne=>s(P,A,ne),onClick:ne=>s(P,A,ne)}),!P.ignored&&p.jsx("circle",{cx:M,cy:D,r:2,fill:"rgba(255, 255, 255, 0.8)"})]}),p.jsx("defs",{children:p.jsxs("radialGradient",{id:"tempPointGradient",cx:"30%",cy:"30%",children:[p.jsx("stop",{offset:"0%",stopColor:"#F472B6"}),p.jsx("stop",{offset:"70%",stopColor:"#E91E63"}),p.jsx("stop",{offset:"100%",stopColor:"#C2185B"})]})}),p.jsx("text",{x:M,y:v,textAnchor:"middle",fontSize:o(.95),fontWeight:"600",fill:R,style:{fontFamily:'-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif'},children:sY(P.date)}),p.jsx("text",{x:M,y,textAnchor:"middle",fontSize:o(.9),fontWeight:"500",fill:R,style:{fontFamily:'-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif'},children:P.cycleDay}),!Y&&(L.value!=="none"?p.jsx("rect",{x:M-$/2,y:E-$*.75,width:$,height:$,fill:L.pattern==="spotting-pattern"?"url(#spotting-pattern-chart)":V,stroke:L.value==="white"?"#E91E63":"rgba(233, 30, 99, 0.3)",strokeWidth:L.value==="white"?1.5:1,rx:$*.25,style:{filter:"drop-shadow(0 1px 2px rgba(244, 114, 182, 0.2))"}}):p.jsx("text",{x:M,y:E,textAnchor:"middle",fontSize:o(.9),fill:R,fontWeight:"400",children:"–"})),p.jsxs("text",{x:M,y:I,textAnchor:"middle",fontSize:o(.85),fontWeight:"600",fill:lC,style:{fontFamily:'-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif'},children:[p.jsx("tspan",{x:M,dy:0,children:oe}),he&&p.jsx("tspan",{x:M,dy:o(1),children:he})]}),p.jsxs("text",{x:M,y:N,textAnchor:"middle",fontSize:o(.85),fontWeight:"600",fill:cC,style:{fontFamily:'-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif'},children:[p.jsx("tspan",{x:M,dy:0,children:ue}),X&&p.jsx("tspan",{x:M,dy:o(1),children:X})]}),p.jsxs("text",{x:M,y:O,textAnchor:"middle",fontSize:o(.85),fontWeight:"600",fill:uC,style:{fontFamily:'-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif'},children:[p.jsx("tspan",{x:M,dy:0,children:ae}),ce&&p.jsx("tspan",{x:M,dy:o(1),children:ce})]})]},`pt-${A}-${P.isoDate||P.timestamp}`)})]})};var lY={lessThanXSeconds:{one:"menos de un segundo",other:"menos de {{count}} segundos"},xSeconds:{one:"1 segundo",other:"{{count}} segundos"},halfAMinute:"medio minuto",lessThanXMinutes:{one:"menos de un minuto",other:"menos de {{count}} minutos"},xMinutes:{one:"1 minuto",other:"{{count}} minutos"},aboutXHours:{one:"alrededor de 1 hora",other:"alrededor de {{count}} horas"},xHours:{one:"1 hora",other:"{{count}} horas"},xDays:{one:"1 día",other:"{{count}} días"},aboutXWeeks:{one:"alrededor de 1 semana",other:"alrededor de {{count}} semanas"},xWeeks:{one:"1 semana",other:"{{count}} semanas"},aboutXMonths:{one:"alrededor de 1 mes",other:"alrededor de {{count}} meses"},xMonths:{one:"1 mes",other:"{{count}} meses"},aboutXYears:{one:"alrededor de 1 año",other:"alrededor de {{count}} años"},xYears:{one:"1 año",other:"{{count}} años"},overXYears:{one:"más de 1 año",other:"más de {{count}} años"},almostXYears:{one:"casi 1 año",other:"casi {{count}} años"}},cY=function(e,n,r){var i,o=lY[e];return typeof o=="string"?i=o:n===1?i=o.one:i=o.other.replace("{{count}}",n.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"en "+i:"hace "+i:i};const uY=cY;var dY={full:"EEEE, d 'de' MMMM 'de' y",long:"d 'de' MMMM 'de' y",medium:"d MMM y",short:"dd/MM/y"},fY={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},hY={full:"{{date}} 'a las' {{time}}",long:"{{date}} 'a las' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},pY={date:Pa({formats:dY,defaultWidth:"full"}),time:Pa({formats:fY,defaultWidth:"full"}),dateTime:Pa({formats:hY,defaultWidth:"full"})};const mY=pY;var gY={lastWeek:"'el' eeee 'pasado a la' p",yesterday:"'ayer a la' p",today:"'hoy a la' p",tomorrow:"'mañana a la' p",nextWeek:"eeee 'a la' p",other:"P"},vY={lastWeek:"'el' eeee 'pasado a las' p",yesterday:"'ayer a las' p",today:"'hoy a las' p",tomorrow:"'mañana a las' p",nextWeek:"eeee 'a las' p",other:"P"},yY=function(e,n,r,i){return n.getUTCHours()!==1?vY[e]:gY[e]};const wY=yY;var xY={narrow:["AC","DC"],abbreviated:["AC","DC"],wide:["antes de cristo","después de cristo"]},_Y={narrow:["1","2","3","4"],abbreviated:["T1","T2","T3","T4"],wide:["1º trimestre","2º trimestre","3º trimestre","4º trimestre"]},EY={narrow:["e","f","m","a","m","j","j","a","s","o","n","d"],abbreviated:["ene","feb","mar","abr","may","jun","jul","ago","sep","oct","nov","dic"],wide:["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre"]},bY={narrow:["d","l","m","m","j","v","s"],short:["do","lu","ma","mi","ju","vi","sá"],abbreviated:["dom","lun","mar","mié","jue","vie","sáb"],wide:["domingo","lunes","martes","miércoles","jueves","viernes","sábado"]},TY={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"mañana",afternoon:"tarde",evening:"tarde",night:"noche"},abbreviated:{am:"AM",pm:"PM",midnight:"medianoche",noon:"mediodia",morning:"mañana",afternoon:"tarde",evening:"tarde",night:"noche"},wide:{am:"a.m.",pm:"p.m.",midnight:"medianoche",noon:"mediodia",morning:"mañana",afternoon:"tarde",evening:"tarde",night:"noche"}},CY={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"de la mañana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"},abbreviated:{am:"AM",pm:"PM",midnight:"medianoche",noon:"mediodia",morning:"de la mañana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"},wide:{am:"a.m.",pm:"p.m.",midnight:"medianoche",noon:"mediodia",morning:"de la mañana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"}},SY=function(e,n){var r=Number(e);return r+"º"},PY={ordinalNumber:SY,era:br({values:xY,defaultWidth:"wide"}),quarter:br({values:_Y,defaultWidth:"wide",argumentCallback:function(e){return Number(e)-1}}),month:br({values:EY,defaultWidth:"wide"}),day:br({values:bY,defaultWidth:"wide"}),dayPeriod:br({values:TY,defaultWidth:"wide",formattingValues:CY,defaultFormattingWidth:"wide"})};const IY=PY;var AY=/^(\d+)(º)?/i,kY=/\d+/i,RY={narrow:/^(ac|dc|a|d)/i,abbreviated:/^(a\.?\s?c\.?|a\.?\s?e\.?\s?c\.?|d\.?\s?c\.?|e\.?\s?c\.?)/i,wide:/^(antes de cristo|antes de la era com[uú]n|despu[eé]s de cristo|era com[uú]n)/i},NY={any:[/^ac/i,/^dc/i],wide:[/^(antes de cristo|antes de la era com[uú]n)/i,/^(despu[eé]s de cristo|era com[uú]n)/i]},DY={narrow:/^[1234]/i,abbreviated:/^T[1234]/i,wide:/^[1234](º)? trimestre/i},MY={any:[/1/i,/2/i,/3/i,/4/i]},OY={narrow:/^[efmajsond]/i,abbreviated:/^(ene|feb|mar|abr|may|jun|jul|ago|sep|oct|nov|dic)/i,wide:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i},LY={narrow:[/^e/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^en/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i]},VY={narrow:/^[dlmjvs]/i,short:/^(do|lu|ma|mi|ju|vi|s[áa])/i,abbreviated:/^(dom|lun|mar|mi[ée]|jue|vie|s[áa]b)/i,wide:/^(domingo|lunes|martes|mi[ée]rcoles|jueves|viernes|s[áa]bado)/i},jY={narrow:[/^d/i,/^l/i,/^m/i,/^m/i,/^j/i,/^v/i,/^s/i],any:[/^do/i,/^lu/i,/^ma/i,/^mi/i,/^ju/i,/^vi/i,/^sa/i]},FY={narrow:/^(a|p|mn|md|(de la|a las) (mañana|tarde|noche))/i,any:/^([ap]\.?\s?m\.?|medianoche|mediodia|(de la|a las) (mañana|tarde|noche))/i},$Y={any:{am:/^a/i,pm:/^p/i,midnight:/^mn/i,noon:/^md/i,morning:/mañana/i,afternoon:/tarde/i,evening:/tarde/i,night:/noche/i}},UY={ordinalNumber:H2({matchPattern:AY,parsePattern:kY,valueCallback:function(e){return parseInt(e,10)}}),era:Tr({matchPatterns:RY,defaultMatchWidth:"wide",parsePatterns:NY,defaultParseWidth:"any"}),quarter:Tr({matchPatterns:DY,defaultMatchWidth:"wide",parsePatterns:MY,defaultParseWidth:"any",valueCallback:function(e){return e+1}}),month:Tr({matchPatterns:OY,defaultMatchWidth:"wide",parsePatterns:LY,defaultParseWidth:"any"}),day:Tr({matchPatterns:VY,defaultMatchWidth:"wide",parsePatterns:jY,defaultParseWidth:"any"}),dayPeriod:Tr({matchPatterns:FY,defaultMatchWidth:"any",parsePatterns:$Y,defaultParseWidth:"any"})};const BY=UY;var WY={code:"es",formatDistance:uY,formatLong:mY,formatRelative:wY,localize:IY,match:BY,options:{weekStartsOn:1,firstWeekContainsDate:1}};const to=WY,zY=({point:t,position:e,chartWidth:n,chartHeight:r,onToggleIgnore:i,onEdit:o,onClose:s})=>{if(!t)return null;const a=130,l=120;let c=e.clientX+10,u=e.clientY+10;c+a>n&&(c=e.clientX-a-10),u+l>r&&(u=e.clientY-l-10),c<0&&(c=5),u<0&&(u=5);const f=t.temperature_chart,h=g1(t.fertility_symbol),g=t.timestamp||t.isoDate;return p.jsxs(be.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},transition:{duration:.15},className:"absolute bg-white/80 border border-[#E27DBF] text-[#1F2937] p-2 rounded-lg shadow z-50",style:{top:u,left:c,width:a,minHeight:l},children:[p.jsx(Te,{variant:"ghost",size:"icon",onClick:s,className:"absolute top-1 right-1 text-[#E27DBF] hover:bg-[#FFB1DD]",children:p.jsx(au,{size:16})}),p.jsxs("p",{className:"font-semibold text-sm text-[#E27DBF] mb-1",children:[g?pe(le(g),"d/M",{locale:to}):"Fecha",` (Día ${t.cycleDay||"N/A"})`]}),f!=null&&p.jsxs("p",{className:"text-xs mb-1",children:[p.jsx("span",{className:"font-medium",children:"T:"})," ",parseFloat(f).toFixed(2),"°C",t.use_corrected&&p.jsx("span",{className:"inline-block ml-1 align-middle text-[#FF0000]",children:"·"})]}),p.jsxs("div",{className:"flex items-center mb-1",children:[h&&h.value!=="none"&&p.jsx("span",{className:`w-3 h-3 rounded-full mr-1 ${h.color} ${h.pattern?"pattern-bg":""} ${h.value==="white"?"border border-gray-300":""}`}),p.jsx("p",{className:"text-xs",children:h?h.label:"-"})]}),p.jsxs("p",{className:"text-xs mb-1",children:[p.jsx("span",{className:"font-medium",children:"Sens.:"})," ",t.mucus_sensation||"-"]}),p.jsxs("p",{className:"text-xs",children:[p.jsx("span",{className:"font-medium",children:"Apar.:"})," ",t.mucus_appearance||"-"]}),t.id&&!String(t.id).startsWith("placeholder-")&&p.jsxs("div",{className:"flex justify-center space-x-1 mt-1",children:[p.jsx(Te,{onClick:()=>{o&&o(t),s&&s()},variant:"outline",size:"icon",className:"text-[#393C65] hover:text-[#E27DBF] hover:bg-[#E27DBF]/10 ",children:p.jsx(Ay,{className:"h-4 w-4"})}),p.jsx(Te,{onClick:()=>i(t.id),variant:t.ignored?"outline":"destructive",size:"icon",className:"hover:bg-[#FFB1DD]/20",children:t.ignored?p.jsx(Ya,{className:"h-4 w-4"}):p.jsx(Sp,{className:"h-4 w-4"})})]})]})},HY="#1E40AF",qY="#059669",GY="#BE185D",YY=({padding:t,chartHeight:e,tempMin:n,tempMax:r,tempRange:i,getY:o,responsiveFontSize:s,textRowHeight:a,isFullScreen:l})=>{const c={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.4,ease:"easeOut"}}},u=[];if(i>0){const h=i<=2.5?.1:.5;for(let g=n;g<=r+1e-9;g+=h)u.push(parseFloat(g.toFixed(1)))}else for(let h=35;h<=37.5+1e-9;h+=.5)u.push(parseFloat(h.toFixed(1)));const f=e-t.bottom;return p.jsxs("svg",{width:t.left,height:e,className:"font-sans pointer-events-none",children:[p.jsxs("defs",{children:[p.jsxs("linearGradient",{id:"legendBgGradient",x1:"0%",y1:"0%",x2:"100%",y2:"0%",children:[p.jsx("stop",{offset:"0%",stopColor:"rgba(255, 255, 255, 0.95)"}),p.jsx("stop",{offset:"100%",stopColor:"rgba(252, 231, 243, 0.8)"})]}),p.jsx("filter",{id:"legendShadow",x:"-20%",y:"-20%",width:"140%",height:"140%",children:p.jsx("feDropShadow",{dx:"2",dy:"2",stdDeviation:"3",floodColor:"rgba(244, 114, 182, 0.15)"})})]}),p.jsx("rect",{x:0,y:f+a*.5,width:t.left,height:a*(l?9.5:8),fill:"url(#legendBgGradient)",rx:8,style:{filter:"url(#legendShadow)"}}),u.map((h,g)=>{const x=o(h),w=h.toFixed(1).endsWith(".0")||h.toFixed(1).endsWith(".5"),b=w?h.toFixed(1):`.${h.toFixed(1).split(".")[1]}`;return p.jsx(be.text,{variants:c,x:t.left-s(1),y:x+s(.35),textAnchor:"end",fontSize:s(w?1:.9),fontWeight:w?"600":"500",fill:w?"#E91E63":"#EC4899",style:{filter:"drop-shadow(0 1px 1px rgba(255, 255, 255, 0.8))",fontFamily:'-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif'},children:b},`temp-tick-fixed-${g}`)}),p.jsxs(be.g,{variants:c,children:[p.jsx("rect",{x:t.left-s(.3),y:t.top-s(.3),width:s(3),height:s(2.2),rx:s(.4),fill:"rgba(244, 114, 182, 0.12)",stroke:"rgba(244, 114, 182, 0.25)",strokeWidth:1,style:{filter:"drop-shadow(0 2px 4px rgba(244, 114, 182, 0.1))"}}),p.jsx("text",{x:t.left+s(1.2),y:t.top+s(1.2),textAnchor:"middle",fontSize:s(1.4),fontWeight:"700",fill:"#E91E63",style:{filter:"drop-shadow(0 1px 2px rgba(255, 255, 255, 0.8))",fontFamily:'-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif'},children:"°C"})]}),p.jsx(be.g,{variants:c,children:[{label:"Fecha",row:1,color:l?"#374151":"#6B7280"},{label:"Día",row:2,color:l?"#374151":"#6B7280"},{label:"Símbolo",row:3,color:l?"#374151":"#6B7280"},{label:"Sens.",row:l?5:4.5,color:HY},{label:"Apar.",row:l?7:6,color:qY},{label:"Observ.",row:l?9:7.5,color:GY}].map(({label:h,row:g,color:x})=>p.jsx("text",{x:t.left-s(1.5),y:f+a*g,textAnchor:"end",fontSize:s(.95),fontWeight:"600",fill:x,style:{filter:"drop-shadow(0 1px 1px rgba(255, 255, 255, 0.8))",fontFamily:'-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif'},children:h},h))})]})},dC=35.5,fC=37.5,KY=(t,e,n,r,i,o=5)=>{const s=m.useRef(null),a=m.useRef(null),[l,c]=m.useState({width:600,height:400}),[u,f]=m.useState(null),[h,g]=m.useState({x:0,y:0}),x=m.useMemo(()=>t.map(V=>({...V,displayTemperature:V.temperature_chart})),[t]);m.useEffect(()=>{const V=()=>{if(!s.current)return;let F=s.current.clientWidth>0?s.current.clientWidth:600,W,K;if(e)if(F=window.innerWidth,n==="portrait"){const oe=Math.max(30,F*.05);W=(F-oe)/o*t.length,K=window.innerHeight}else W=F/o*t.length,K=window.innerHeight;else W=F/o*t.length,K=450;c({width:W,height:K})};V(),window.addEventListener("resize",V);let $;return e&&s.current&&($=new ResizeObserver(V),$.observe(document.documentElement)),()=>{window.removeEventListener("resize",V),$&&$.disconnect()}},[e,t.length,o,n]);const w=m.useMemo(()=>x.filter(V=>V&&V.isoDate&&!V.ignored&&V.displayTemperature!==null&&V.displayTemperature!==void 0),[x]),b=m.useMemo(()=>x.filter(V=>V&&V.isoDate),[x]),{baselineTemp:v,baselineStartIndex:y}=m.useMemo(()=>{const V=$=>$&&$.displayTemperature!=null&&!$.ignored;for(let $=0;$<x.length;$++){const F=x[$];if(!V(F))continue;const W=[];for(let K=$-1;K>=0&&W.length<6;K--){const oe=x[K];V(oe)&&W.unshift({index:K,temp:oe.displayTemperature})}if(!(W.length<6)&&W.every(K=>K.temp<F.displayTemperature)){const K=Math.max(...W.map(he=>he.temp)),oe=W.find(he=>he.temp===K).index;return{baselineTemp:K,baselineStartIndex:oe}}}return{baselineTemp:null,baselineStartIndex:null}},[x]),{tempMin:E,tempMax:I}=m.useMemo(()=>{const V=w.map(W=>W.displayTemperature).filter(W=>W!=null);if(V.length===0)return{tempMin:dC,tempMax:fC};let $=Math.min(...V,dC),F=Math.max(...V,fC);if($=Math.floor($*2)/2,F=Math.ceil(F*2)/2,F-$<2){const W=($+F)/2;$=W-1,F=W+1}return{tempMin:$,tempMax:F}},[w]),N=I-E,O=l.width,S=l.height,C=9,P=(V=1)=>{if(!e)return C*V;const $=Math.min(O,S);return Math.max(8,Math.min(C*V,$/(b.length>0?40/V:40)))},A=P(e?1.5:1.8),D=A*5,R={top:e?Math.max(20,S*.05):20,right:e?Math.max(30,O*.05):50,bottom:(e?Math.max(60,S*.2):60)+D,left:e?Math.max(30,O*.05):50},B=V=>{if(V==null||N===0)return S-R.bottom;const $=S-R.top-R.bottom;return $<=0?S-R.bottom:S-R.bottom-(V-E)/N*$},q=V=>{const $=e?10:20,F=e?25:0,W=O-R.left-R.right-$-F*(b.length-1);if(W<=0)return R.left+$+F*V;const K=b.length>1?b.length-1:1;return K===0||b.length===0?R.left+$+F*V:R.left+$+V*(W/(b.length===1?1:K))+F*V},Y=(V,$,F)=>{if(!V||String(V.id).startsWith("placeholder-")){z();return}const W=s.current.getBoundingClientRect();let K,oe;if(F.type.startsWith("touch")){const X=F.changedTouches[0];K=X.clientX,oe=X.clientY}else K=F.clientX,oe=F.clientY;const he=q($),ue=B(V.displayTemperature);g({svgX:he,svgY:ue,clientX:K-W.left+s.current.scrollLeft,clientY:oe-W.top+s.current.scrollTop}),f(V)};m.useEffect(()=>{const V=$=>{var F;if(a.current&&!a.current.contains($.target)){const W=(F=s.current)==null?void 0:F.querySelectorAll("circle, text, rect");let K=!1;if(W){for(let oe of W)if(oe.contains($.target)){K=!0;break}}K||f(null)}};return u&&(document.addEventListener("mousedown",V),document.addEventListener("touchstart",V)),()=>{document.removeEventListener("mousedown",V),document.removeEventListener("touchstart",V)}},[u]);const z=()=>{f(null)};return{chartRef:s,tooltipRef:a,dimensions:l,activePoint:u,tooltipPosition:h,processedData:x,validDataForLine:w,allDataPoints:b,tempMin:E,tempMax:I,tempRange:N,padding:R,textRowHeight:A,setActivePoint:f,getY:B,getX:q,handlePointInteraction:Y,clearActivePoint:z,handleToggleIgnore:V=>{r&&V&&(r(i,V),f(null))},responsiveFontSize:P,baselineTemp:v,baselineStartIndex:y}},tN=({data:t,isFullScreen:e,orientation:n,onToggleIgnore:r,onEdit:i,cycleId:o,initialScrollIndex:s=0,visibleDays:a=5,showInterpretation:l=!1})=>{const{chartRef:c,tooltipRef:u,dimensions:f,activePoint:h,tooltipPosition:g,allDataPoints:x,validDataForLine:w,tempMin:b,tempMax:v,tempRange:y,padding:E,textRowHeight:I,getY:N,getX:O,handlePointInteraction:S,handleToggleIgnore:C,responsiveFontSize:P,clearActivePoint:A,setActivePoint:M,baselineTemp:D,baselineStartIndex:R}=KY(t,e,n,r,o,a);if(!x||x.length===0)return p.jsxs("div",{className:"text-center p-8",children:[p.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-gradient-to-br from-pink-100 to-rose-100 rounded-full mb-4",children:p.jsx("svg",{className:"w-8 h-8 text-pink-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})})}),p.jsx("p",{className:"text-slate-400 font-medium",children:"No hay datos para mostrar en el gráfico"})]});const B=f.width,q=f.height,Y=D!=null?N(D):null,z=D!=null?O(R):null,L={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.6,ease:"easeOut",staggerChildren:.1}}},V={hidden:{opacity:0,scale:.95},visible:{opacity:1,scale:1,transition:{duration:.5,ease:"easeOut"}}};return m.useEffect(()=>{if(e||!c.current)return;const $=c.current.clientWidth/a;c.current.scrollLeft=Math.max(0,$*s)},[e,s,a,f.width,n]),p.jsxs(be.div,{className:"relative",variants:L,initial:"hidden",animate:"visible",children:[(!e||n==="portrait")&&p.jsx("div",{className:"absolute left-0 top-0 h-full bg-transparent pointer-events-none z-10",style:{width:E.left},children:p.jsx(YY,{padding:E,chartHeight:q,tempMin:b,tempMax:v,tempRange:y,getY:N,responsiveFontSize:P,textRowHeight:I,isFullScreen:e})}),p.jsxs(be.div,{ref:c,className:`relative p-0 rounded-2xl ${e?"w-full h-full bg-gradient-to-br from-white via-pink-50/30 to-rose-50/20 flex items-center justify-start overflow-x-auto overflow-y-hidden":"bg-gradient-to-br from-white via-pink-50/30 to-rose-50/20 overflow-x-auto overflow-y-hidden border border-pink-100/50"}`,style:{boxShadow:e?"inset 0 1px 3px rgba(244, 114, 182, 0.1)":"0 8px 32px rgba(244, 114, 182, 0.12), 0 2px 8px rgba(244, 114, 182, 0.08)"},variants:V,children:[p.jsxs(be.svg,{width:B,height:q,className:"font-sans flex-shrink-0",viewBox:`0 0 ${B} ${q}`,preserveAspectRatio:"xMidYMid meet",children:[p.jsxs("defs",{children:[p.jsxs("linearGradient",{id:"tempLineGradientChart",x1:"0%",y1:"0%",x2:"100%",y2:"0%",children:[p.jsx("stop",{offset:"0%",stopColor:"#F472B6"}),p.jsx("stop",{offset:"50%",stopColor:"#EC4899"}),p.jsx("stop",{offset:"100%",stopColor:"#E91E63"})]}),p.jsxs("linearGradient",{id:"tempAreaGradientChart",x1:"0%",y1:"0%",x2:"0%",y2:"100%",children:[p.jsx("stop",{offset:"0%",stopColor:"rgba(244,114,182,0.25)"}),p.jsx("stop",{offset:"50%",stopColor:"rgba(236,72,153,0.15)"}),p.jsx("stop",{offset:"100%",stopColor:"rgba(233,30,99,0.05)"})]}),p.jsxs("pattern",{id:"spotting-pattern-chart",patternUnits:"userSpaceOnUse",width:"8",height:"8",children:[p.jsx("circle",{cx:"2",cy:"2",r:"1.5",fill:"rgba(239,68,68,0.8)"}),p.jsx("circle",{cx:"6",cy:"6",r:"1.5",fill:"rgba(239,68,68,0.6)"})]}),p.jsxs("filter",{id:"chartShadow",x:"-50%",y:"-50%",width:"200%",height:"200%",children:[p.jsx("feGaussianBlur",{stdDeviation:"2",result:"coloredBlur"}),p.jsxs("feMerge",{children:[p.jsx("feMergeNode",{in:"coloredBlur"}),p.jsx("feMergeNode",{in:"SourceGraphic"})]})]}),p.jsxs("filter",{id:"baselineGlow",x:"-50%",y:"-50%",width:"200%",height:"200%",children:[p.jsx("feGaussianBlur",{stdDeviation:"1.5",result:"coloredBlur"}),p.jsxs("feMerge",{children:[p.jsx("feMergeNode",{in:"coloredBlur"}),p.jsx("feMergeNode",{in:"SourceGraphic"})]})]})]}),p.jsx("rect",{width:"100%",height:"100%",fill:"transparent"}),p.jsx(pH,{padding:E,chartWidth:B,chartHeight:q,tempMin:b,tempMax:v,tempRange:y,getY:N,getX:O,allDataPoints:x,responsiveFontSize:P,isFullScreen:e,showLeftLabels:e&&n==="landscape"}),p.jsx(mH,{data:w,allDataPoints:x,getX:O,getY:N,baselineY:q-E.bottom,temperatureField:"displayTemperature"}),l&&D!=null&&p.jsx(be.line,{x1:z,y1:Y,x2:B-E.right,y2:Y,stroke:"#F59E0B",strokeWidth:3,strokeDasharray:"6 4",style:{filter:"url(#baselineGlow)"},initial:{opacity:0,pathLength:0},animate:{opacity:1,pathLength:1},transition:{duration:1,ease:"easeInOut"}}),p.jsx(aY,{data:x,getX:O,getY:N,isFullScreen:e,orientation:n,responsiveFontSize:P,onPointInteraction:S,clearActivePoint:A,activePoint:h,padding:E,chartHeight:q,chartWidth:B,temperatureField:"displayTemperature",textRowHeight:I})]}),h&&p.jsx(be.div,{ref:u,initial:{opacity:0,scale:.9,y:10},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.9,y:10},transition:{duration:.2,ease:"easeOut"},children:p.jsx(zY,{point:h,position:g,chartWidth:B,chartHeight:q,onToggleIgnore:C,onEdit:i,onClose:A})})]})]})},pf=xe.forwardRef(({className:t,...e},n)=>p.jsx("textarea",{className:Ne("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:n,...e}));pf.displayName="Textarea";function QY(t,e){const n=m.createContext(e),r=o=>{const{children:s,...a}=o,l=m.useMemo(()=>a,Object.values(a));return p.jsx(n.Provider,{value:l,children:s})};r.displayName=t+"Provider";function i(o){const s=m.useContext(n);if(s)return s;if(e!==void 0)return e;throw new Error(`\`${o}\` must be used within \`${t}\``)}return[r,i]}function Ds(t,e=[]){let n=[];function r(o,s){const a=m.createContext(s),l=n.length;n=[...n,s];const c=f=>{var v;const{scope:h,children:g,...x}=f,w=((v=h==null?void 0:h[t])==null?void 0:v[l])||a,b=m.useMemo(()=>x,Object.values(x));return p.jsx(w.Provider,{value:b,children:g})};c.displayName=o+"Provider";function u(f,h){var w;const g=((w=h==null?void 0:h[t])==null?void 0:w[l])||a,x=m.useContext(g);if(x)return x;if(s!==void 0)return s;throw new Error(`\`${f}\` must be used within \`${o}\``)}return[c,u]}const i=()=>{const o=n.map(s=>m.createContext(s));return function(a){const l=(a==null?void 0:a[t])||o;return m.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return i.scopeName=t,[r,XY(i,...e)]}function XY(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(o){const s=r.reduce((a,{useScope:l,scopeName:c})=>{const f=l(o)[`__scope${c}`];return{...a,...f}},{});return m.useMemo(()=>({[`__scope${e.scopeName}`]:s}),[s])}};return n.scopeName=e.scopeName,n}function Ue(t,e,{checkForDefaultPrevented:n=!0}={}){return function(i){if(t==null||t(i),n===!1||!i.defaultPrevented)return e==null?void 0:e(i)}}var Br=globalThis!=null&&globalThis.document?m.useLayoutEffect:()=>{},JY=Mh[" useInsertionEffect ".trim().toString()]||Br;function Pp({prop:t,defaultProp:e,onChange:n=()=>{},caller:r}){const[i,o,s]=ZY({defaultProp:e,onChange:n}),a=t!==void 0,l=a?t:i;{const u=m.useRef(t!==void 0);m.useEffect(()=>{const f=u.current;f!==a&&console.warn(`${r} is changing from ${f?"controlled":"uncontrolled"} to ${a?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),u.current=a},[a,r])}const c=m.useCallback(u=>{var f;if(a){const h=eK(u)?u(t):u;h!==t&&((f=s.current)==null||f.call(s,h))}else o(u)},[a,t,o,s]);return[l,c]}function ZY({defaultProp:t,onChange:e}){const[n,r]=m.useState(t),i=m.useRef(n),o=m.useRef(e);return JY(()=>{o.current=e},[e]),m.useEffect(()=>{var s;i.current!==n&&((s=o.current)==null||s.call(o,n),i.current=n)},[n,i]),[n,r,o]}function eK(t){return typeof t=="function"}function tK(t){const e=m.useRef({value:t,previous:t});return m.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}function nN(t){const[e,n]=m.useState(void 0);return Br(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const o=i[0];let s,a;if("borderBoxSize"in o){const l=o.borderBoxSize,c=Array.isArray(l)?l[0]:l;s=c.inlineSize,a=c.blockSize}else s=t.offsetWidth,a=t.offsetHeight;n({width:s,height:a})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}function nK(t,e){return m.useReducer((n,r)=>e[n][r]??n,t)}var Xn=t=>{const{present:e,children:n}=t,r=rK(e),i=typeof n=="function"?n({present:r.isPresent}):m.Children.only(n),o=lt(r.ref,iK(i));return typeof n=="function"||r.isPresent?m.cloneElement(i,{ref:o}):null};Xn.displayName="Presence";function rK(t){const[e,n]=m.useState(),r=m.useRef(null),i=m.useRef(t),o=m.useRef("none"),s=t?"mounted":"unmounted",[a,l]=nK(s,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return m.useEffect(()=>{const c=Dd(r.current);o.current=a==="mounted"?c:"none"},[a]),Br(()=>{const c=r.current,u=i.current;if(u!==t){const h=o.current,g=Dd(c);t?l("MOUNT"):g==="none"||(c==null?void 0:c.display)==="none"?l("UNMOUNT"):l(u&&h!==g?"ANIMATION_OUT":"UNMOUNT"),i.current=t}},[t,l]),Br(()=>{if(e){let c;const u=e.ownerDocument.defaultView??window,f=g=>{const w=Dd(r.current).includes(g.animationName);if(g.target===e&&w&&(l("ANIMATION_END"),!i.current)){const b=e.style.animationFillMode;e.style.animationFillMode="forwards",c=u.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=b)})}},h=g=>{g.target===e&&(o.current=Dd(r.current))};return e.addEventListener("animationstart",h),e.addEventListener("animationcancel",f),e.addEventListener("animationend",f),()=>{u.clearTimeout(c),e.removeEventListener("animationstart",h),e.removeEventListener("animationcancel",f),e.removeEventListener("animationend",f)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:m.useCallback(c=>{r.current=c?getComputedStyle(c):null,n(c)},[])}}function Dd(t){return(t==null?void 0:t.animationName)||"none"}function iK(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var Ip="Checkbox",[oK,wne]=Ds(Ip),[sK,v1]=oK(Ip);function aK(t){const{__scopeCheckbox:e,checked:n,children:r,defaultChecked:i,disabled:o,form:s,name:a,onCheckedChange:l,required:c,value:u="on",internal_do_not_use_render:f}=t,[h,g]=Pp({prop:n,defaultProp:i??!1,onChange:l,caller:Ip}),[x,w]=m.useState(null),[b,v]=m.useState(null),y=m.useRef(!1),E=x?!!s||!!x.closest("form"):!0,I={checked:h,disabled:o,setChecked:g,control:x,setControl:w,name:a,form:s,value:u,hasConsumerStoppedPropagationRef:y,required:c,defaultChecked:xo(i)?!1:i,isFormControl:E,bubbleInput:b,setBubbleInput:v};return p.jsx(sK,{scope:e,...I,children:lK(f)?f(I):r})}var rN="CheckboxTrigger",iN=m.forwardRef(({__scopeCheckbox:t,onKeyDown:e,onClick:n,...r},i)=>{const{control:o,value:s,disabled:a,checked:l,required:c,setControl:u,setChecked:f,hasConsumerStoppedPropagationRef:h,isFormControl:g,bubbleInput:x}=v1(rN,t),w=lt(i,u),b=m.useRef(l);return m.useEffect(()=>{const v=o==null?void 0:o.form;if(v){const y=()=>f(b.current);return v.addEventListener("reset",y),()=>v.removeEventListener("reset",y)}},[o,f]),p.jsx(ze.button,{type:"button",role:"checkbox","aria-checked":xo(l)?"mixed":l,"aria-required":c,"data-state":cN(l),"data-disabled":a?"":void 0,disabled:a,value:s,...r,ref:w,onKeyDown:Ue(e,v=>{v.key==="Enter"&&v.preventDefault()}),onClick:Ue(n,v=>{f(y=>xo(y)?!0:!y),x&&g&&(h.current=v.isPropagationStopped(),h.current||v.stopPropagation())})})});iN.displayName=rN;var y1=m.forwardRef((t,e)=>{const{__scopeCheckbox:n,name:r,checked:i,defaultChecked:o,required:s,disabled:a,value:l,onCheckedChange:c,form:u,...f}=t;return p.jsx(aK,{__scopeCheckbox:n,checked:i,defaultChecked:o,disabled:a,required:s,onCheckedChange:c,name:r,form:u,value:l,internal_do_not_use_render:({isFormControl:h})=>p.jsxs(p.Fragment,{children:[p.jsx(iN,{...f,ref:e,__scopeCheckbox:n}),h&&p.jsx(lN,{__scopeCheckbox:n})]})})});y1.displayName=Ip;var oN="CheckboxIndicator",sN=m.forwardRef((t,e)=>{const{__scopeCheckbox:n,forceMount:r,...i}=t,o=v1(oN,n);return p.jsx(Xn,{present:r||xo(o.checked)||o.checked===!0,children:p.jsx(ze.span,{"data-state":cN(o.checked),"data-disabled":o.disabled?"":void 0,...i,ref:e,style:{pointerEvents:"none",...t.style}})})});sN.displayName=oN;var aN="CheckboxBubbleInput",lN=m.forwardRef(({__scopeCheckbox:t,...e},n)=>{const{control:r,hasConsumerStoppedPropagationRef:i,checked:o,defaultChecked:s,required:a,disabled:l,name:c,value:u,form:f,bubbleInput:h,setBubbleInput:g}=v1(aN,t),x=lt(n,g),w=tK(o),b=nN(r);m.useEffect(()=>{const y=h;if(!y)return;const E=window.HTMLInputElement.prototype,N=Object.getOwnPropertyDescriptor(E,"checked").set,O=!i.current;if(w!==o&&N){const S=new Event("click",{bubbles:O});y.indeterminate=xo(o),N.call(y,xo(o)?!1:o),y.dispatchEvent(S)}},[h,w,o,i]);const v=m.useRef(xo(o)?!1:o);return p.jsx(ze.input,{type:"checkbox","aria-hidden":!0,defaultChecked:s??v.current,required:a,disabled:l,name:c,value:u,form:f,...e,tabIndex:-1,ref:x,style:{...e.style,...b,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});lN.displayName=aN;function lK(t){return typeof t=="function"}function xo(t){return t==="indeterminate"}function cN(t){return xo(t)?"indeterminate":t?"checked":"unchecked"}const uN=xe.forwardRef(({className:t,...e},n)=>p.jsx(y1,{ref:n,className:Ne("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",t),...e,children:p.jsx(sN,{className:Ne("flex items-center justify-center text-current"),children:p.jsx(wh,{className:"h-4 w-4"})})}));uN.displayName=y1.displayName;var we=function(){return we=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},we.apply(this,arguments)};function cK(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function dN(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,o;r<i;r++)(o||!(r in e))&&(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return t.concat(o||Array.prototype.slice.call(e))}function Ou(t){return t.mode==="multiple"}function Lu(t){return t.mode==="range"}function Ap(t){return t.mode==="single"}var uK={root:"rdp",multiple_months:"rdp-multiple_months",with_weeknumber:"rdp-with_weeknumber",vhidden:"rdp-vhidden",button_reset:"rdp-button_reset",button:"rdp-button",caption:"rdp-caption",caption_start:"rdp-caption_start",caption_end:"rdp-caption_end",caption_between:"rdp-caption_between",caption_label:"rdp-caption_label",caption_dropdowns:"rdp-caption_dropdowns",dropdown:"rdp-dropdown",dropdown_month:"rdp-dropdown_month",dropdown_year:"rdp-dropdown_year",dropdown_icon:"rdp-dropdown_icon",months:"rdp-months",month:"rdp-month",table:"rdp-table",tbody:"rdp-tbody",tfoot:"rdp-tfoot",head:"rdp-head",head_row:"rdp-head_row",head_cell:"rdp-head_cell",nav:"rdp-nav",nav_button:"rdp-nav_button",nav_button_previous:"rdp-nav_button_previous",nav_button_next:"rdp-nav_button_next",nav_icon:"rdp-nav_icon",row:"rdp-row",weeknumber:"rdp-weeknumber",cell:"rdp-cell",day:"rdp-day",day_today:"rdp-day_today",day_outside:"rdp-day_outside",day_selected:"rdp-day_selected",day_disabled:"rdp-day_disabled",day_hidden:"rdp-day_hidden",day_range_start:"rdp-day_range_start",day_range_end:"rdp-day_range_end",day_range_middle:"rdp-day_range_middle"};function dK(t,e){return pe(t,"LLLL y",e)}function fK(t,e){return pe(t,"d",e)}function hK(t,e){return pe(t,"LLLL",e)}function pK(t){return"".concat(t)}function mK(t,e){return pe(t,"cccccc",e)}function gK(t,e){return pe(t,"yyyy",e)}var vK=Object.freeze({__proto__:null,formatCaption:dK,formatDay:fK,formatMonthCaption:hK,formatWeekNumber:pK,formatWeekdayName:mK,formatYearCaption:gK}),yK=function(t,e,n){return pe(t,"do MMMM (EEEE)",n)},wK=function(){return"Month: "},xK=function(){return"Go to next month"},_K=function(){return"Go to previous month"},EK=function(t,e){return pe(t,"cccc",e)},bK=function(t){return"Week n. ".concat(t)},TK=function(){return"Year: "},CK=Object.freeze({__proto__:null,labelDay:yK,labelMonthDropdown:wK,labelNext:xK,labelPrevious:_K,labelWeekNumber:bK,labelWeekday:EK,labelYearDropdown:TK});function SK(){var t="buttons",e=uK,n=f1,r={},i={},o=1,s={},a=new Date;return{captionLayout:t,classNames:e,formatters:vK,labels:CK,locale:n,modifiersClassNames:r,modifiers:i,numberOfMonths:o,styles:s,today:a,mode:"default"}}function PK(t){var e=t.fromYear,n=t.toYear,r=t.fromMonth,i=t.toMonth,o=t.fromDate,s=t.toDate;return r?o=Sn(r):e&&(o=new Date(e,0,1)),i?s=c1(i):n&&(s=new Date(n,11,31)),{fromDate:o?De(o):void 0,toDate:s?De(s):void 0}}var fN=m.createContext(void 0);function IK(t){var e,n=t.initialProps,r=SK(),i=PK(n),o=i.fromDate,s=i.toDate,a=(e=n.captionLayout)!==null&&e!==void 0?e:r.captionLayout;a!=="buttons"&&(!o||!s)&&(a="buttons");var l;(Ap(n)||Ou(n)||Lu(n))&&(l=n.onSelect);var c=we(we(we({},r),n),{captionLayout:a,classNames:we(we({},r.classNames),n.classNames),components:we({},n.components),formatters:we(we({},r.formatters),n.formatters),fromDate:o,labels:we(we({},r.labels),n.labels),mode:n.mode||r.mode,modifiers:we(we({},r.modifiers),n.modifiers),modifiersClassNames:we(we({},r.modifiersClassNames),n.modifiersClassNames),onSelect:l,styles:we(we({},r.styles),n.styles),toDate:s});return p.jsx(fN.Provider,{value:c,children:t.children})}function Ze(){var t=m.useContext(fN);if(!t)throw new Error("useDayPicker must be used within a DayPickerProvider.");return t}function hN(t){var e=Ze(),n=e.locale,r=e.classNames,i=e.styles,o=e.formatters.formatCaption;return p.jsx("div",{className:r.caption_label,style:i.caption_label,"aria-live":"polite",role:"presentation",id:t.id,children:o(t.displayMonth,{locale:n})})}function AK(t){return p.jsx("svg",we({width:"8px",height:"8px",viewBox:"0 0 120 120","data-testid":"iconDropdown"},t,{children:p.jsx("path",{d:"M4.22182541,48.2218254 C8.44222828,44.0014225 15.2388494,43.9273804 19.5496459,47.9996989 L19.7781746,48.2218254 L60,88.443 L100.221825,48.2218254 C104.442228,44.0014225 111.238849,43.9273804 115.549646,47.9996989 L115.778175,48.2218254 C119.998577,52.4422283 120.07262,59.2388494 116.000301,63.5496459 L115.778175,63.7781746 L67.7781746,111.778175 C63.5577717,115.998577 56.7611506,116.07262 52.4503541,112.000301 L52.2218254,111.778175 L4.22182541,63.7781746 C-0.0739418023,59.4824074 -0.0739418023,52.5175926 4.22182541,48.2218254 Z",fill:"currentColor",fillRule:"nonzero"})}))}function pN(t){var e,n,r=t.onChange,i=t.value,o=t.children,s=t.caption,a=t.className,l=t.style,c=Ze(),u=(n=(e=c.components)===null||e===void 0?void 0:e.IconDropdown)!==null&&n!==void 0?n:AK;return p.jsxs("div",{className:a,style:l,children:[p.jsx("span",{className:c.classNames.vhidden,children:t["aria-label"]}),p.jsx("select",{name:t.name,"aria-label":t["aria-label"],className:c.classNames.dropdown,style:c.styles.dropdown,value:i,onChange:r,children:o}),p.jsxs("div",{className:c.classNames.caption_label,style:c.styles.caption_label,"aria-hidden":"true",children:[s,p.jsx(u,{className:c.classNames.dropdown_icon,style:c.styles.dropdown_icon})]})]})}function kK(t){var e,n=Ze(),r=n.fromDate,i=n.toDate,o=n.styles,s=n.locale,a=n.formatters.formatMonthCaption,l=n.classNames,c=n.components,u=n.labels.labelMonthDropdown;if(!r)return p.jsx(p.Fragment,{});if(!i)return p.jsx(p.Fragment,{});var f=[];if(UG(r,i))for(var h=Sn(r),g=r.getMonth();g<=i.getMonth();g++)f.push(xg(h,g));else for(var h=Sn(new Date),g=0;g<=11;g++)f.push(xg(h,g));var x=function(b){var v=Number(b.target.value),y=xg(Sn(t.displayMonth),v);t.onChange(y)},w=(e=c==null?void 0:c.Dropdown)!==null&&e!==void 0?e:pN;return p.jsx(w,{name:"months","aria-label":u(),className:l.dropdown_month,style:o.dropdown_month,onChange:x,value:t.displayMonth.getMonth(),caption:a(t.displayMonth,{locale:s}),children:f.map(function(b){return p.jsx("option",{value:b.getMonth(),children:a(b,{locale:s})},b.getMonth())})})}function RK(t){var e,n=t.displayMonth,r=Ze(),i=r.fromDate,o=r.toDate,s=r.locale,a=r.styles,l=r.classNames,c=r.components,u=r.formatters.formatYearCaption,f=r.labels.labelYearDropdown,h=[];if(!i)return p.jsx(p.Fragment,{});if(!o)return p.jsx(p.Fragment,{});for(var g=i.getFullYear(),x=o.getFullYear(),w=g;w<=x;w++)h.push(aC(AH(new Date),w));var b=function(y){var E=aC(Sn(n),Number(y.target.value));t.onChange(E)},v=(e=c==null?void 0:c.Dropdown)!==null&&e!==void 0?e:pN;return p.jsx(v,{name:"years","aria-label":f(),className:l.dropdown_year,style:a.dropdown_year,onChange:b,value:n.getFullYear(),caption:u(n,{locale:s}),children:h.map(function(y){return p.jsx("option",{value:y.getFullYear(),children:u(y,{locale:s})},y.getFullYear())})})}function NK(t,e){var n=m.useState(t),r=n[0],i=n[1],o=e===void 0?r:e;return[o,i]}function DK(t){var e=t.month,n=t.defaultMonth,r=t.today,i=e||n||r||new Date,o=t.toDate,s=t.fromDate,a=t.numberOfMonths,l=a===void 0?1:a;if(o&&lu(o,i)<0){var c=-1*(l-1);i=hr(o,c)}return s&&lu(i,s)<0&&(i=s),Sn(i)}function MK(){var t=Ze(),e=DK(t),n=NK(e,t.month),r=n[0],i=n[1],o=function(s){var a;if(!t.disableNavigation){var l=Sn(s);i(l),(a=t.onMonthChange)===null||a===void 0||a.call(t,l)}};return[r,o]}function OK(t,e){for(var n=e.reverseMonths,r=e.numberOfMonths,i=Sn(t),o=Sn(hr(i,r)),s=lu(o,i),a=[],l=0;l<s;l++){var c=hr(i,l);a.push(c)}return n&&(a=a.reverse()),a}function LK(t,e){if(!e.disableNavigation){var n=e.toDate,r=e.pagedNavigation,i=e.numberOfMonths,o=i===void 0?1:i,s=r?o:1,a=Sn(t);if(!n)return hr(a,s);var l=lu(n,t);if(!(l<o))return hr(a,s)}}function VK(t,e){if(!e.disableNavigation){var n=e.fromDate,r=e.pagedNavigation,i=e.numberOfMonths,o=i===void 0?1:i,s=r?o:1,a=Sn(t);if(!n)return hr(a,-s);var l=lu(a,n);if(!(l<=0))return hr(a,-s)}}var mN=m.createContext(void 0);function jK(t){var e=Ze(),n=MK(),r=n[0],i=n[1],o=OK(r,e),s=LK(r,e),a=VK(r,e),l=function(f){return o.some(function(h){return m1(f,h)})},c=function(f,h){l(f)||(h&&q2(f,h)?i(hr(f,1+e.numberOfMonths*-1)):i(f))},u={currentMonth:r,displayMonths:o,goToMonth:i,goToDate:c,previousMonth:a,nextMonth:s,isDateDisplayed:l};return p.jsx(mN.Provider,{value:u,children:t.children})}function Vu(){var t=m.useContext(mN);if(!t)throw new Error("useNavigation must be used within a NavigationProvider");return t}function hC(t){var e,n=Ze(),r=n.classNames,i=n.styles,o=n.components,s=Vu().goToMonth,a=function(u){s(hr(u,t.displayIndex?-t.displayIndex:0))},l=(e=o==null?void 0:o.CaptionLabel)!==null&&e!==void 0?e:hN,c=p.jsx(l,{id:t.id,displayMonth:t.displayMonth});return p.jsxs("div",{className:r.caption_dropdowns,style:i.caption_dropdowns,children:[p.jsx("div",{className:r.vhidden,children:c}),p.jsx(kK,{onChange:a,displayMonth:t.displayMonth}),p.jsx(RK,{onChange:a,displayMonth:t.displayMonth})]})}function FK(t){return p.jsx("svg",we({width:"16px",height:"16px",viewBox:"0 0 120 120"},t,{children:p.jsx("path",{d:"M69.490332,3.34314575 C72.6145263,0.218951416 77.6798462,0.218951416 80.8040405,3.34314575 C83.8617626,6.40086786 83.9268205,11.3179931 80.9992143,14.4548388 L80.8040405,14.6568542 L35.461,60 L80.8040405,105.343146 C83.8617626,108.400868 83.9268205,113.317993 80.9992143,116.454839 L80.8040405,116.656854 C77.7463184,119.714576 72.8291931,119.779634 69.6923475,116.852028 L69.490332,116.656854 L18.490332,65.6568542 C15.4326099,62.5991321 15.367552,57.6820069 18.2951583,54.5451612 L18.490332,54.3431458 L69.490332,3.34314575 Z",fill:"currentColor",fillRule:"nonzero"})}))}function $K(t){return p.jsx("svg",we({width:"16px",height:"16px",viewBox:"0 0 120 120"},t,{children:p.jsx("path",{d:"M49.8040405,3.34314575 C46.6798462,0.218951416 41.6145263,0.218951416 38.490332,3.34314575 C35.4326099,6.40086786 35.367552,11.3179931 38.2951583,14.4548388 L38.490332,14.6568542 L83.8333725,60 L38.490332,105.343146 C35.4326099,108.400868 35.367552,113.317993 38.2951583,116.454839 L38.490332,116.656854 C41.5480541,119.714576 46.4651794,119.779634 49.602025,116.852028 L49.8040405,116.656854 L100.804041,65.6568542 C103.861763,62.5991321 103.926821,57.6820069 100.999214,54.5451612 L100.804041,54.3431458 L49.8040405,3.34314575 Z",fill:"currentColor"})}))}var Th=m.forwardRef(function(t,e){var n=Ze(),r=n.classNames,i=n.styles,o=[r.button_reset,r.button];t.className&&o.push(t.className);var s=o.join(" "),a=we(we({},i.button_reset),i.button);return t.style&&Object.assign(a,t.style),p.jsx("button",we({},t,{ref:e,type:"button",className:s,style:a}))});function UK(t){var e,n,r=Ze(),i=r.dir,o=r.locale,s=r.classNames,a=r.styles,l=r.labels,c=l.labelPrevious,u=l.labelNext,f=r.components;if(!t.nextMonth&&!t.previousMonth)return p.jsx(p.Fragment,{});var h=c(t.previousMonth,{locale:o}),g=[s.nav_button,s.nav_button_previous].join(" "),x=u(t.nextMonth,{locale:o}),w=[s.nav_button,s.nav_button_next].join(" "),b=(e=f==null?void 0:f.IconRight)!==null&&e!==void 0?e:$K,v=(n=f==null?void 0:f.IconLeft)!==null&&n!==void 0?n:FK;return p.jsxs("div",{className:s.nav,style:a.nav,children:[!t.hidePrevious&&p.jsx(Th,{name:"previous-month","aria-label":h,className:g,style:a.nav_button_previous,disabled:!t.previousMonth,onClick:t.onPreviousClick,children:i==="rtl"?p.jsx(b,{className:s.nav_icon,style:a.nav_icon}):p.jsx(v,{className:s.nav_icon,style:a.nav_icon})}),!t.hideNext&&p.jsx(Th,{name:"next-month","aria-label":x,className:w,style:a.nav_button_next,disabled:!t.nextMonth,onClick:t.onNextClick,children:i==="rtl"?p.jsx(v,{className:s.nav_icon,style:a.nav_icon}):p.jsx(b,{className:s.nav_icon,style:a.nav_icon})})]})}function pC(t){var e=Ze().numberOfMonths,n=Vu(),r=n.previousMonth,i=n.nextMonth,o=n.goToMonth,s=n.displayMonths,a=s.findIndex(function(x){return m1(t.displayMonth,x)}),l=a===0,c=a===s.length-1,u=e>1&&(l||!c),f=e>1&&(c||!l),h=function(){r&&o(r)},g=function(){i&&o(i)};return p.jsx(UK,{displayMonth:t.displayMonth,hideNext:u,hidePrevious:f,nextMonth:i,previousMonth:r,onPreviousClick:h,onNextClick:g})}function BK(t){var e,n=Ze(),r=n.classNames,i=n.disableNavigation,o=n.styles,s=n.captionLayout,a=n.components,l=(e=a==null?void 0:a.CaptionLabel)!==null&&e!==void 0?e:hN,c;return i?c=p.jsx(l,{id:t.id,displayMonth:t.displayMonth}):s==="dropdown"?c=p.jsx(hC,{displayMonth:t.displayMonth,id:t.id}):s==="dropdown-buttons"?c=p.jsxs(p.Fragment,{children:[p.jsx(hC,{displayMonth:t.displayMonth,displayIndex:t.displayIndex,id:t.id}),p.jsx(pC,{displayMonth:t.displayMonth,displayIndex:t.displayIndex,id:t.id})]}):c=p.jsxs(p.Fragment,{children:[p.jsx(l,{id:t.id,displayMonth:t.displayMonth,displayIndex:t.displayIndex}),p.jsx(pC,{displayMonth:t.displayMonth,id:t.id})]}),p.jsx("div",{className:r.caption,style:o.caption,children:c})}function WK(t){var e=Ze(),n=e.footer,r=e.styles,i=e.classNames.tfoot;return n?p.jsx("tfoot",{className:i,style:r.tfoot,children:p.jsx("tr",{children:p.jsx("td",{colSpan:8,children:n})})}):p.jsx(p.Fragment,{})}function zK(t,e,n){for(var r=n?_s(new Date):Ur(new Date,{locale:t,weekStartsOn:e}),i=[],o=0;o<7;o++){var s=Lt(r,o);i.push(s)}return i}function HK(){var t=Ze(),e=t.classNames,n=t.styles,r=t.showWeekNumber,i=t.locale,o=t.weekStartsOn,s=t.ISOWeek,a=t.formatters.formatWeekdayName,l=t.labels.labelWeekday,c=zK(i,o,s);return p.jsxs("tr",{style:n.head_row,className:e.head_row,children:[r&&p.jsx("td",{style:n.head_cell,className:e.head_cell}),c.map(function(u,f){return p.jsx("th",{scope:"col",className:e.head_cell,style:n.head_cell,"aria-label":l(u,{locale:i}),children:a(u,{locale:i})},f)})]})}function qK(){var t,e=Ze(),n=e.classNames,r=e.styles,i=e.components,o=(t=i==null?void 0:i.HeadRow)!==null&&t!==void 0?t:HK;return p.jsx("thead",{style:r.head,className:n.head,children:p.jsx(o,{})})}function GK(t){var e=Ze(),n=e.locale,r=e.formatters.formatDay;return p.jsx(p.Fragment,{children:r(t.date,{locale:n})})}var w1=m.createContext(void 0);function YK(t){if(!Ou(t.initialProps)){var e={selected:void 0,modifiers:{disabled:[]}};return p.jsx(w1.Provider,{value:e,children:t.children})}return p.jsx(KK,{initialProps:t.initialProps,children:t.children})}function KK(t){var e=t.initialProps,n=t.children,r=e.selected,i=e.min,o=e.max,s=function(c,u,f){var h,g;(h=e.onDayClick)===null||h===void 0||h.call(e,c,u,f);var x=!!(u.selected&&i&&(r==null?void 0:r.length)===i);if(!x){var w=!!(!u.selected&&o&&(r==null?void 0:r.length)===o);if(!w){var b=r?dN([],r,!0):[];if(u.selected){var v=b.findIndex(function(y){return _n(c,y)});b.splice(v,1)}else b.push(c);(g=e.onSelect)===null||g===void 0||g.call(e,b,c,u,f)}}},a={disabled:[]};r&&a.disabled.push(function(c){var u=o&&r.length>o-1,f=r.some(function(h){return _n(h,c)});return!!(u&&!f)});var l={selected:r,onDayClick:s,modifiers:a};return p.jsx(w1.Provider,{value:l,children:n})}function x1(){var t=m.useContext(w1);if(!t)throw new Error("useSelectMultiple must be used within a SelectMultipleProvider");return t}function QK(t,e){var n=e||{},r=n.from,i=n.to;return r&&i?_n(i,t)&&_n(r,t)?void 0:_n(i,t)?{from:i,to:void 0}:_n(r,t)?void 0:_h(r,t)?{from:t,to:i}:{from:r,to:t}:i?_h(t,i)?{from:i,to:t}:{from:t,to:i}:r?q2(t,r)?{from:t,to:r}:{from:r,to:t}:{from:t,to:void 0}}var _1=m.createContext(void 0);function XK(t){if(!Lu(t.initialProps)){var e={selected:void 0,modifiers:{range_start:[],range_end:[],range_middle:[],disabled:[]}};return p.jsx(_1.Provider,{value:e,children:t.children})}return p.jsx(JK,{initialProps:t.initialProps,children:t.children})}function JK(t){var e=t.initialProps,n=t.children,r=e.selected,i=r||{},o=i.from,s=i.to,a=e.min,l=e.max,c=function(g,x,w){var b,v;(b=e.onDayClick)===null||b===void 0||b.call(e,g,x,w);var y=QK(g,r);(v=e.onSelect)===null||v===void 0||v.call(e,y,g,x,w)},u={range_start:[],range_end:[],range_middle:[],disabled:[]};if(o?(u.range_start=[o],s?(u.range_end=[s],_n(o,s)||(u.range_middle=[{after:o,before:s}])):u.range_end=[o]):s&&(u.range_start=[s],u.range_end=[s]),a&&(o&&!s&&u.disabled.push({after:yg(o,a-1),before:Lt(o,a-1)}),o&&s&&u.disabled.push({after:o,before:Lt(o,a-1)}),!o&&s&&u.disabled.push({after:yg(s,a-1),before:Lt(s,a-1)})),l){if(o&&!s&&(u.disabled.push({before:Lt(o,-l+1)}),u.disabled.push({after:Lt(o,l-1)})),o&&s){var f=Pr(s,o)+1,h=l-f;u.disabled.push({before:yg(o,h)}),u.disabled.push({after:Lt(s,h)})}!o&&s&&(u.disabled.push({before:Lt(s,-l+1)}),u.disabled.push({after:Lt(s,l-1)}))}return p.jsx(_1.Provider,{value:{selected:r,onDayClick:c,modifiers:u},children:n})}function E1(){var t=m.useContext(_1);if(!t)throw new Error("useSelectRange must be used within a SelectRangeProvider");return t}function mf(t){return Array.isArray(t)?dN([],t,!0):t!==void 0?[t]:[]}function ZK(t){var e={};return Object.entries(t).forEach(function(n){var r=n[0],i=n[1];e[r]=mf(i)}),e}var pr;(function(t){t.Outside="outside",t.Disabled="disabled",t.Selected="selected",t.Hidden="hidden",t.Today="today",t.RangeStart="range_start",t.RangeEnd="range_end",t.RangeMiddle="range_middle"})(pr||(pr={}));var eQ=pr.Selected,Qr=pr.Disabled,tQ=pr.Hidden,nQ=pr.Today,bg=pr.RangeEnd,Tg=pr.RangeMiddle,Cg=pr.RangeStart,rQ=pr.Outside;function iQ(t,e,n){var r,i=(r={},r[eQ]=mf(t.selected),r[Qr]=mf(t.disabled),r[tQ]=mf(t.hidden),r[nQ]=[t.today],r[bg]=[],r[Tg]=[],r[Cg]=[],r[rQ]=[],r);return t.fromDate&&i[Qr].push({before:t.fromDate}),t.toDate&&i[Qr].push({after:t.toDate}),Ou(t)?i[Qr]=i[Qr].concat(e.modifiers[Qr]):Lu(t)&&(i[Qr]=i[Qr].concat(n.modifiers[Qr]),i[Cg]=n.modifiers[Cg],i[Tg]=n.modifiers[Tg],i[bg]=n.modifiers[bg]),i}var gN=m.createContext(void 0);function oQ(t){var e=Ze(),n=x1(),r=E1(),i=iQ(e,n,r),o=ZK(e.modifiers),s=we(we({},i),o);return p.jsx(gN.Provider,{value:s,children:t.children})}function vN(){var t=m.useContext(gN);if(!t)throw new Error("useModifiers must be used within a ModifiersProvider");return t}function sQ(t){return!!(t&&typeof t=="object"&&"before"in t&&"after"in t)}function aQ(t){return!!(t&&typeof t=="object"&&"from"in t)}function lQ(t){return!!(t&&typeof t=="object"&&"after"in t)}function cQ(t){return!!(t&&typeof t=="object"&&"before"in t)}function uQ(t){return!!(t&&typeof t=="object"&&"dayOfWeek"in t)}function dQ(t,e){var n,r=e.from,i=e.to;if(r&&i){var o=Pr(i,r)<0;o&&(n=[i,r],r=n[0],i=n[1]);var s=Pr(t,r)>=0&&Pr(i,t)>=0;return s}return i?_n(i,t):r?_n(r,t):!1}function fQ(t){return l1(t)}function hQ(t){return Array.isArray(t)&&t.every(l1)}function pQ(t,e){return e.some(function(n){if(typeof n=="boolean")return n;if(fQ(n))return _n(t,n);if(hQ(n))return n.includes(t);if(aQ(n))return dQ(t,n);if(uQ(n))return n.dayOfWeek.includes(t.getDay());if(sQ(n)){var r=Pr(n.before,t),i=Pr(n.after,t),o=r>0,s=i<0,a=_h(n.before,n.after);return a?s&&o:o||s}return lQ(n)?Pr(t,n.after)>0:cQ(n)?Pr(n.before,t)>0:typeof n=="function"?n(t):!1})}function b1(t,e,n){var r=Object.keys(e).reduce(function(o,s){var a=e[s];return pQ(t,a)&&o.push(s),o},[]),i={};return r.forEach(function(o){return i[o]=!0}),n&&!m1(t,n)&&(i.outside=!0),i}function mQ(t,e){for(var n=Sn(t[0]),r=c1(t[t.length-1]),i,o,s=n;s<=r;){var a=b1(s,e),l=!a.disabled&&!a.hidden;if(!l){s=Lt(s,1);continue}if(a.selected)return s;a.today&&!o&&(o=s),i||(i=s),s=Lt(s,1)}return o||i}var gQ=365;function yN(t,e){var n=e.moveBy,r=e.direction,i=e.context,o=e.modifiers,s=e.retry,a=s===void 0?{count:0,lastFocused:t}:s,l=i.weekStartsOn,c=i.fromDate,u=i.toDate,f=i.locale,h={day:Lt,week:Ny,month:hr,year:_H,startOfWeek:function(b){return i.ISOWeek?_s(b):Ur(b,{locale:f,weekStartsOn:l})},endOfWeek:function(b){return i.ISOWeek?V2(b):u1(b,{locale:f,weekStartsOn:l})}},g=h[n](t,r==="after"?1:-1);r==="before"&&c?g=EH([c,g]):r==="after"&&u&&(g=bH([u,g]));var x=!0;if(o){var w=b1(g,o);x=!w.disabled&&!w.hidden}return x?g:a.count>gQ?a.lastFocused:yN(g,{moveBy:n,direction:r,context:i,modifiers:o,retry:we(we({},a),{count:a.count+1})})}var wN=m.createContext(void 0);function vQ(t){var e=Vu(),n=vN(),r=m.useState(),i=r[0],o=r[1],s=m.useState(),a=s[0],l=s[1],c=mQ(e.displayMonths,n),u=i??(a&&e.isDateDisplayed(a))?a:c,f=function(){l(i),o(void 0)},h=function(b){o(b)},g=Ze(),x=function(b,v){if(i){var y=yN(i,{moveBy:b,direction:v,context:g,modifiers:n});_n(i,y)||(e.goToDate(y,i),h(y))}},w={focusedDay:i,focusTarget:u,blur:f,focus:h,focusDayAfter:function(){return x("day","after")},focusDayBefore:function(){return x("day","before")},focusWeekAfter:function(){return x("week","after")},focusWeekBefore:function(){return x("week","before")},focusMonthBefore:function(){return x("month","before")},focusMonthAfter:function(){return x("month","after")},focusYearBefore:function(){return x("year","before")},focusYearAfter:function(){return x("year","after")},focusStartOfWeek:function(){return x("startOfWeek","before")},focusEndOfWeek:function(){return x("endOfWeek","after")}};return p.jsx(wN.Provider,{value:w,children:t.children})}function T1(){var t=m.useContext(wN);if(!t)throw new Error("useFocusContext must be used within a FocusProvider");return t}function yQ(t,e){var n=vN(),r=b1(t,n,e);return r}var C1=m.createContext(void 0);function wQ(t){if(!Ap(t.initialProps)){var e={selected:void 0};return p.jsx(C1.Provider,{value:e,children:t.children})}return p.jsx(xQ,{initialProps:t.initialProps,children:t.children})}function xQ(t){var e=t.initialProps,n=t.children,r=function(o,s,a){var l,c,u;if((l=e.onDayClick)===null||l===void 0||l.call(e,o,s,a),s.selected&&!e.required){(c=e.onSelect)===null||c===void 0||c.call(e,void 0,o,s,a);return}(u=e.onSelect)===null||u===void 0||u.call(e,o,o,s,a)},i={selected:e.selected,onDayClick:r};return p.jsx(C1.Provider,{value:i,children:n})}function xN(){var t=m.useContext(C1);if(!t)throw new Error("useSelectSingle must be used within a SelectSingleProvider");return t}function _Q(t,e){var n=Ze(),r=xN(),i=x1(),o=E1(),s=T1(),a=s.focusDayAfter,l=s.focusDayBefore,c=s.focusWeekAfter,u=s.focusWeekBefore,f=s.blur,h=s.focus,g=s.focusMonthBefore,x=s.focusMonthAfter,w=s.focusYearBefore,b=s.focusYearAfter,v=s.focusStartOfWeek,y=s.focusEndOfWeek,E=function(z){var L,V,$,F;Ap(n)?(L=r.onDayClick)===null||L===void 0||L.call(r,t,e,z):Ou(n)?(V=i.onDayClick)===null||V===void 0||V.call(i,t,e,z):Lu(n)?($=o.onDayClick)===null||$===void 0||$.call(o,t,e,z):(F=n.onDayClick)===null||F===void 0||F.call(n,t,e,z)},I=function(z){var L;h(t),(L=n.onDayFocus)===null||L===void 0||L.call(n,t,e,z)},N=function(z){var L;f(),(L=n.onDayBlur)===null||L===void 0||L.call(n,t,e,z)},O=function(z){var L;(L=n.onDayMouseEnter)===null||L===void 0||L.call(n,t,e,z)},S=function(z){var L;(L=n.onDayMouseLeave)===null||L===void 0||L.call(n,t,e,z)},C=function(z){var L;(L=n.onDayPointerEnter)===null||L===void 0||L.call(n,t,e,z)},P=function(z){var L;(L=n.onDayPointerLeave)===null||L===void 0||L.call(n,t,e,z)},A=function(z){var L;(L=n.onDayTouchCancel)===null||L===void 0||L.call(n,t,e,z)},M=function(z){var L;(L=n.onDayTouchEnd)===null||L===void 0||L.call(n,t,e,z)},D=function(z){var L;(L=n.onDayTouchMove)===null||L===void 0||L.call(n,t,e,z)},R=function(z){var L;(L=n.onDayTouchStart)===null||L===void 0||L.call(n,t,e,z)},B=function(z){var L;(L=n.onDayKeyUp)===null||L===void 0||L.call(n,t,e,z)},q=function(z){var L;switch(z.key){case"ArrowLeft":z.preventDefault(),z.stopPropagation(),n.dir==="rtl"?a():l();break;case"ArrowRight":z.preventDefault(),z.stopPropagation(),n.dir==="rtl"?l():a();break;case"ArrowDown":z.preventDefault(),z.stopPropagation(),c();break;case"ArrowUp":z.preventDefault(),z.stopPropagation(),u();break;case"PageUp":z.preventDefault(),z.stopPropagation(),z.shiftKey?w():g();break;case"PageDown":z.preventDefault(),z.stopPropagation(),z.shiftKey?b():x();break;case"Home":z.preventDefault(),z.stopPropagation(),v();break;case"End":z.preventDefault(),z.stopPropagation(),y();break}(L=n.onDayKeyDown)===null||L===void 0||L.call(n,t,e,z)},Y={onClick:E,onFocus:I,onBlur:N,onKeyDown:q,onKeyUp:B,onMouseEnter:O,onMouseLeave:S,onPointerEnter:C,onPointerLeave:P,onTouchCancel:A,onTouchEnd:M,onTouchMove:D,onTouchStart:R};return Y}function EQ(){var t=Ze(),e=xN(),n=x1(),r=E1(),i=Ap(t)?e.selected:Ou(t)?n.selected:Lu(t)?r.selected:void 0;return i}function bQ(t){return Object.values(pr).includes(t)}function TQ(t,e){var n=[t.classNames.day];return Object.keys(e).forEach(function(r){var i=t.modifiersClassNames[r];if(i)n.push(i);else if(bQ(r)){var o=t.classNames["day_".concat(r)];o&&n.push(o)}}),n}function CQ(t,e){var n=we({},t.styles.day);return Object.keys(e).forEach(function(r){var i;n=we(we({},n),(i=t.modifiersStyles)===null||i===void 0?void 0:i[r])}),n}function SQ(t,e,n){var r,i,o,s=Ze(),a=T1(),l=yQ(t,e),c=_Q(t,l),u=EQ(),f=!!(s.onDayClick||s.mode!=="default");m.useEffect(function(){var O;l.outside||a.focusedDay&&f&&_n(a.focusedDay,t)&&((O=n.current)===null||O===void 0||O.focus())},[a.focusedDay,t,n,f,l.outside]);var h=TQ(s,l).join(" "),g=CQ(s,l),x=!!(l.outside&&!s.showOutsideDays||l.hidden),w=(o=(i=s.components)===null||i===void 0?void 0:i.DayContent)!==null&&o!==void 0?o:GK,b=p.jsx(w,{date:t,displayMonth:e,activeModifiers:l}),v={style:g,className:h,children:b,role:"gridcell"},y=a.focusTarget&&_n(a.focusTarget,t)&&!l.outside,E=a.focusedDay&&_n(a.focusedDay,t),I=we(we(we({},v),(r={disabled:l.disabled,role:"gridcell"},r["aria-selected"]=l.selected,r.tabIndex=E||y?0:-1,r)),c),N={isButton:f,isHidden:x,activeModifiers:l,selectedDays:u,buttonProps:I,divProps:v};return N}function PQ(t){var e=m.useRef(null),n=SQ(t.date,t.displayMonth,e);return n.isHidden?p.jsx("div",{role:"gridcell"}):n.isButton?p.jsx(Th,we({name:"day",ref:e},n.buttonProps)):p.jsx("div",we({},n.divProps))}function IQ(t){var e=t.number,n=t.dates,r=Ze(),i=r.onWeekNumberClick,o=r.styles,s=r.classNames,a=r.locale,l=r.labels.labelWeekNumber,c=r.formatters.formatWeekNumber,u=c(Number(e),{locale:a});if(!i)return p.jsx("span",{className:s.weeknumber,style:o.weeknumber,children:u});var f=l(Number(e),{locale:a}),h=function(g){i(e,n,g)};return p.jsx(Th,{name:"week-number","aria-label":f,className:s.weeknumber,style:o.weeknumber,onClick:h,children:u})}function AQ(t){var e,n,r=Ze(),i=r.styles,o=r.classNames,s=r.showWeekNumber,a=r.components,l=(e=a==null?void 0:a.Day)!==null&&e!==void 0?e:PQ,c=(n=a==null?void 0:a.WeekNumber)!==null&&n!==void 0?n:IQ,u;return s&&(u=p.jsx("td",{className:o.cell,style:i.cell,children:p.jsx(c,{number:t.weekNumber,dates:t.dates})})),p.jsxs("tr",{className:o.row,style:i.row,children:[u,t.dates.map(function(f){return p.jsx("td",{className:o.cell,style:i.cell,role:"presentation",children:p.jsx(l,{displayMonth:t.displayMonth,date:f})},Vq(f))})]})}function mC(t,e,n){for(var r=n!=null&&n.ISOWeek?V2(e):u1(e,n),i=n!=null&&n.ISOWeek?_s(t):Ur(t,n),o=Pr(r,i),s=[],a=0;a<=o;a++)s.push(Lt(i,a));var l=s.reduce(function(c,u){var f=n!=null&&n.ISOWeek?Oq(u):Uq(u,n),h=c.find(function(g){return g.weekNumber===f});return h?(h.dates.push(u),c):(c.push({weekNumber:f,dates:[u]}),c)},[]);return l}function kQ(t,e){var n=mC(Sn(t),c1(t),e);if(e!=null&&e.useFixedWeeks){var r=Wq(t,e);if(r<6){var i=n[n.length-1],o=i.dates[i.dates.length-1],s=Ny(o,6-r),a=mC(Ny(o,1),s,e);n.push.apply(n,a)}}return n}function RQ(t){var e,n,r,i=Ze(),o=i.locale,s=i.classNames,a=i.styles,l=i.hideHead,c=i.fixedWeeks,u=i.components,f=i.weekStartsOn,h=i.firstWeekContainsDate,g=i.ISOWeek,x=kQ(t.displayMonth,{useFixedWeeks:!!c,ISOWeek:g,locale:o,weekStartsOn:f,firstWeekContainsDate:h}),w=(e=u==null?void 0:u.Head)!==null&&e!==void 0?e:qK,b=(n=u==null?void 0:u.Row)!==null&&n!==void 0?n:AQ,v=(r=u==null?void 0:u.Footer)!==null&&r!==void 0?r:WK;return p.jsxs("table",{id:t.id,className:s.table,style:a.table,role:"grid","aria-labelledby":t["aria-labelledby"],children:[!l&&p.jsx(w,{}),p.jsx("tbody",{className:s.tbody,style:a.tbody,children:x.map(function(y){return p.jsx(b,{displayMonth:t.displayMonth,dates:y.dates,weekNumber:y.weekNumber},y.weekNumber)})}),p.jsx(v,{displayMonth:t.displayMonth})]})}function NQ(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}var DQ=NQ()?m.useLayoutEffect:m.useEffect,Sg=!1,MQ=0;function gC(){return"react-day-picker-".concat(++MQ)}function OQ(t){var e,n=t??(Sg?gC():null),r=m.useState(n),i=r[0],o=r[1];return DQ(function(){i===null&&o(gC())},[]),m.useEffect(function(){Sg===!1&&(Sg=!0)},[]),(e=t??i)!==null&&e!==void 0?e:void 0}function LQ(t){var e,n,r=Ze(),i=r.dir,o=r.classNames,s=r.styles,a=r.components,l=Vu().displayMonths,c=OQ(r.id?"".concat(r.id,"-").concat(t.displayIndex):void 0),u=r.id?"".concat(r.id,"-grid-").concat(t.displayIndex):void 0,f=[o.month],h=s.month,g=t.displayIndex===0,x=t.displayIndex===l.length-1,w=!g&&!x;i==="rtl"&&(e=[g,x],x=e[0],g=e[1]),g&&(f.push(o.caption_start),h=we(we({},h),s.caption_start)),x&&(f.push(o.caption_end),h=we(we({},h),s.caption_end)),w&&(f.push(o.caption_between),h=we(we({},h),s.caption_between));var b=(n=a==null?void 0:a.Caption)!==null&&n!==void 0?n:BK;return p.jsxs("div",{className:f.join(" "),style:h,children:[p.jsx(b,{id:c,displayMonth:t.displayMonth,displayIndex:t.displayIndex}),p.jsx(RQ,{id:u,"aria-labelledby":c,displayMonth:t.displayMonth})]},t.displayIndex)}function VQ(t){var e=Ze(),n=e.classNames,r=e.styles;return p.jsx("div",{className:n.months,style:r.months,children:t.children})}function jQ(t){var e,n,r=t.initialProps,i=Ze(),o=T1(),s=Vu(),a=m.useState(!1),l=a[0],c=a[1];m.useEffect(function(){i.initialFocus&&o.focusTarget&&(l||(o.focus(o.focusTarget),c(!0)))},[i.initialFocus,l,o.focus,o.focusTarget,o]);var u=[i.classNames.root,i.className];i.numberOfMonths>1&&u.push(i.classNames.multiple_months),i.showWeekNumber&&u.push(i.classNames.with_weeknumber);var f=we(we({},i.styles.root),i.style),h=Object.keys(r).filter(function(x){return x.startsWith("data-")}).reduce(function(x,w){var b;return we(we({},x),(b={},b[w]=r[w],b))},{}),g=(n=(e=r.components)===null||e===void 0?void 0:e.Months)!==null&&n!==void 0?n:VQ;return p.jsx("div",we({className:u.join(" "),style:f,dir:i.dir,id:i.id,nonce:r.nonce,title:r.title,lang:r.lang},h,{children:p.jsx(g,{children:s.displayMonths.map(function(x,w){return p.jsx(LQ,{displayIndex:w,displayMonth:x},w)})})}))}function FQ(t){var e=t.children,n=cK(t,["children"]);return p.jsx(IK,{initialProps:n,children:p.jsx(jK,{children:p.jsx(wQ,{initialProps:n,children:p.jsx(YK,{initialProps:n,children:p.jsx(XK,{initialProps:n,children:p.jsx(oQ,{children:p.jsx(vQ,{children:e})})})})})})})}function $Q(t){return p.jsx(FQ,we({},t,{children:p.jsx(jQ,{initialProps:t})}))}function _N({className:t,classNames:e,showOutsideDays:n=!0,...r}){return p.jsx($Q,{showOutsideDays:n,className:Ne("p-3",t),classNames:{months:"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0",month:"space-y-4",caption:"flex justify-center pt-1 relative items-center",caption_label:"text-sm font-medium",nav:"space-x-1 flex items-center",nav_button:Ne(my({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-y-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:"h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20",day:Ne(my({variant:"ghost"}),"h-9 w-9 p-0 font-normal aria-selected:opacity-100"),day_selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",day_today:"bg-accent text-accent-foreground",day_outside:"text-muted-foreground opacity-50",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible",...e},components:{IconLeft:({...i})=>p.jsx(Yz,{className:"h-4 w-4"}),IconRight:({...i})=>p.jsx(Kz,{className:"h-4 w-4"})},...r})}_N.displayName="Calendar";function Bt(t){const e=m.useRef(t);return m.useEffect(()=>{e.current=t}),m.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function UQ(t,e=globalThis==null?void 0:globalThis.document){const n=Bt(t);m.useEffect(()=>{const r=i=>{i.key==="Escape"&&n(i)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var BQ="DismissableLayer",Oy="dismissableLayer.update",WQ="dismissableLayer.pointerDownOutside",zQ="dismissableLayer.focusOutside",vC,EN=m.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),kp=m.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:o,onInteractOutside:s,onDismiss:a,...l}=t,c=m.useContext(EN),[u,f]=m.useState(null),h=(u==null?void 0:u.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,g]=m.useState({}),x=lt(e,S=>f(S)),w=Array.from(c.layers),[b]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),v=w.indexOf(b),y=u?w.indexOf(u):-1,E=c.layersWithOutsidePointerEventsDisabled.size>0,I=y>=v,N=qQ(S=>{const C=S.target,P=[...c.branches].some(A=>A.contains(C));!I||P||(i==null||i(S),s==null||s(S),S.defaultPrevented||a==null||a())},h),O=GQ(S=>{const C=S.target;[...c.branches].some(A=>A.contains(C))||(o==null||o(S),s==null||s(S),S.defaultPrevented||a==null||a())},h);return UQ(S=>{y===c.layers.size-1&&(r==null||r(S),!S.defaultPrevented&&a&&(S.preventDefault(),a()))},h),m.useEffect(()=>{if(u)return n&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(vC=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(u)),c.layers.add(u),yC(),()=>{n&&c.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=vC)}},[u,h,n,c]),m.useEffect(()=>()=>{u&&(c.layers.delete(u),c.layersWithOutsidePointerEventsDisabled.delete(u),yC())},[u,c]),m.useEffect(()=>{const S=()=>g({});return document.addEventListener(Oy,S),()=>document.removeEventListener(Oy,S)},[]),p.jsx(ze.div,{...l,ref:x,style:{pointerEvents:E?I?"auto":"none":void 0,...t.style},onFocusCapture:Ue(t.onFocusCapture,O.onFocusCapture),onBlurCapture:Ue(t.onBlurCapture,O.onBlurCapture),onPointerDownCapture:Ue(t.onPointerDownCapture,N.onPointerDownCapture)})});kp.displayName=BQ;var HQ="DismissableLayerBranch",bN=m.forwardRef((t,e)=>{const n=m.useContext(EN),r=m.useRef(null),i=lt(e,r);return m.useEffect(()=>{const o=r.current;if(o)return n.branches.add(o),()=>{n.branches.delete(o)}},[n.branches]),p.jsx(ze.div,{...t,ref:i})});bN.displayName=HQ;function qQ(t,e=globalThis==null?void 0:globalThis.document){const n=Bt(t),r=m.useRef(!1),i=m.useRef(()=>{});return m.useEffect(()=>{const o=a=>{if(a.target&&!r.current){let l=function(){TN(WQ,n,c,{discrete:!0})};const c={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=l,e.addEventListener("click",i.current,{once:!0})):l()}else e.removeEventListener("click",i.current);r.current=!1},s=window.setTimeout(()=>{e.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(s),e.removeEventListener("pointerdown",o),e.removeEventListener("click",i.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function GQ(t,e=globalThis==null?void 0:globalThis.document){const n=Bt(t),r=m.useRef(!1);return m.useEffect(()=>{const i=o=>{o.target&&!r.current&&TN(zQ,n,{originalEvent:o},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function yC(){const t=new CustomEvent(Oy);document.dispatchEvent(t)}function TN(t,e,n,{discrete:r}){const i=n.originalEvent.target,o=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&i.addEventListener(t,e,{once:!0}),r?uR(i,o):i.dispatchEvent(o)}var YQ=kp,KQ=bN,Pg=0;function CN(){m.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??wC()),document.body.insertAdjacentElement("beforeend",t[1]??wC()),Pg++,()=>{Pg===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),Pg--}},[])}function wC(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var Ig="focusScope.autoFocusOnMount",Ag="focusScope.autoFocusOnUnmount",xC={bubbles:!1,cancelable:!0},QQ="FocusScope",S1=m.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:i,onUnmountAutoFocus:o,...s}=t,[a,l]=m.useState(null),c=Bt(i),u=Bt(o),f=m.useRef(null),h=lt(e,w=>l(w)),g=m.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;m.useEffect(()=>{if(r){let w=function(E){if(g.paused||!a)return;const I=E.target;a.contains(I)?f.current=I:$i(f.current,{select:!0})},b=function(E){if(g.paused||!a)return;const I=E.relatedTarget;I!==null&&(a.contains(I)||$i(f.current,{select:!0}))},v=function(E){if(document.activeElement===document.body)for(const N of E)N.removedNodes.length>0&&$i(a)};document.addEventListener("focusin",w),document.addEventListener("focusout",b);const y=new MutationObserver(v);return a&&y.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",w),document.removeEventListener("focusout",b),y.disconnect()}}},[r,a,g.paused]),m.useEffect(()=>{if(a){EC.add(g);const w=document.activeElement;if(!a.contains(w)){const v=new CustomEvent(Ig,xC);a.addEventListener(Ig,c),a.dispatchEvent(v),v.defaultPrevented||(XQ(nX(SN(a)),{select:!0}),document.activeElement===w&&$i(a))}return()=>{a.removeEventListener(Ig,c),setTimeout(()=>{const v=new CustomEvent(Ag,xC);a.addEventListener(Ag,u),a.dispatchEvent(v),v.defaultPrevented||$i(w??document.body,{select:!0}),a.removeEventListener(Ag,u),EC.remove(g)},0)}}},[a,c,u,g]);const x=m.useCallback(w=>{if(!n&&!r||g.paused)return;const b=w.key==="Tab"&&!w.altKey&&!w.ctrlKey&&!w.metaKey,v=document.activeElement;if(b&&v){const y=w.currentTarget,[E,I]=JQ(y);E&&I?!w.shiftKey&&v===I?(w.preventDefault(),n&&$i(E,{select:!0})):w.shiftKey&&v===E&&(w.preventDefault(),n&&$i(I,{select:!0})):v===y&&w.preventDefault()}},[n,r,g.paused]);return p.jsx(ze.div,{tabIndex:-1,...s,ref:h,onKeyDown:x})});S1.displayName=QQ;function XQ(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if($i(r,{select:e}),document.activeElement!==n)return}function JQ(t){const e=SN(t),n=_C(e,t),r=_C(e.reverse(),t);return[n,r]}function SN(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function _C(t,e){for(const n of t)if(!ZQ(n,{upTo:e}))return n}function ZQ(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function eX(t){return t instanceof HTMLInputElement&&"select"in t}function $i(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&eX(t)&&e&&t.select()}}var EC=tX();function tX(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=bC(t,e),t.unshift(e)},remove(e){var n;t=bC(t,e),(n=t[0])==null||n.resume()}}}function bC(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function nX(t){return t.filter(e=>e.tagName!=="A")}var rX=Mh[" useId ".trim().toString()]||(()=>{}),iX=0;function gf(t){const[e,n]=m.useState(rX());return Br(()=>{t||n(r=>r??String(iX++))},[t]),t||(e?`radix-${e}`:"")}const oX=["top","right","bottom","left"],Ro=Math.min,Nn=Math.max,Ch=Math.round,Md=Math.floor,jr=t=>({x:t,y:t}),sX={left:"right",right:"left",bottom:"top",top:"bottom"},aX={start:"end",end:"start"};function Ly(t,e,n){return Nn(t,Ro(e,n))}function Ei(t,e){return typeof t=="function"?t(e):t}function bi(t){return t.split("-")[0]}function yl(t){return t.split("-")[1]}function P1(t){return t==="x"?"y":"x"}function I1(t){return t==="y"?"height":"width"}function di(t){return["top","bottom"].includes(bi(t))?"y":"x"}function A1(t){return P1(di(t))}function lX(t,e,n){n===void 0&&(n=!1);const r=yl(t),i=A1(t),o=I1(i);let s=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[o]>e.floating[o]&&(s=Sh(s)),[s,Sh(s)]}function cX(t){const e=Sh(t);return[Vy(t),e,Vy(e)]}function Vy(t){return t.replace(/start|end/g,e=>aX[e])}function uX(t,e,n){const r=["left","right"],i=["right","left"],o=["top","bottom"],s=["bottom","top"];switch(t){case"top":case"bottom":return n?e?i:r:e?r:i;case"left":case"right":return e?o:s;default:return[]}}function dX(t,e,n,r){const i=yl(t);let o=uX(bi(t),n==="start",r);return i&&(o=o.map(s=>s+"-"+i),e&&(o=o.concat(o.map(Vy)))),o}function Sh(t){return t.replace(/left|right|bottom|top/g,e=>sX[e])}function fX(t){return{top:0,right:0,bottom:0,left:0,...t}}function PN(t){return typeof t!="number"?fX(t):{top:t,right:t,bottom:t,left:t}}function Ph(t){const{x:e,y:n,width:r,height:i}=t;return{width:r,height:i,top:n,left:e,right:e+r,bottom:n+i,x:e,y:n}}function TC(t,e,n){let{reference:r,floating:i}=t;const o=di(e),s=A1(e),a=I1(s),l=bi(e),c=o==="y",u=r.x+r.width/2-i.width/2,f=r.y+r.height/2-i.height/2,h=r[a]/2-i[a]/2;let g;switch(l){case"top":g={x:u,y:r.y-i.height};break;case"bottom":g={x:u,y:r.y+r.height};break;case"right":g={x:r.x+r.width,y:f};break;case"left":g={x:r.x-i.width,y:f};break;default:g={x:r.x,y:r.y}}switch(yl(e)){case"start":g[s]-=h*(n&&c?-1:1);break;case"end":g[s]+=h*(n&&c?-1:1);break}return g}const hX=async(t,e,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:o=[],platform:s}=n,a=o.filter(Boolean),l=await(s.isRTL==null?void 0:s.isRTL(e));let c=await s.getElementRects({reference:t,floating:e,strategy:i}),{x:u,y:f}=TC(c,r,l),h=r,g={},x=0;for(let w=0;w<a.length;w++){const{name:b,fn:v}=a[w],{x:y,y:E,data:I,reset:N}=await v({x:u,y:f,initialPlacement:r,placement:h,strategy:i,middlewareData:g,rects:c,platform:s,elements:{reference:t,floating:e}});u=y??u,f=E??f,g={...g,[b]:{...g[b],...I}},N&&x<=50&&(x++,typeof N=="object"&&(N.placement&&(h=N.placement),N.rects&&(c=N.rects===!0?await s.getElementRects({reference:t,floating:e,strategy:i}):N.rects),{x:u,y:f}=TC(c,h,l)),w=-1)}return{x:u,y:f,placement:h,strategy:i,middlewareData:g}};async function cu(t,e){var n;e===void 0&&(e={});const{x:r,y:i,platform:o,rects:s,elements:a,strategy:l}=t,{boundary:c="clippingAncestors",rootBoundary:u="viewport",elementContext:f="floating",altBoundary:h=!1,padding:g=0}=Ei(e,t),x=PN(g),b=a[h?f==="floating"?"reference":"floating":f],v=Ph(await o.getClippingRect({element:(n=await(o.isElement==null?void 0:o.isElement(b)))==null||n?b:b.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(a.floating)),boundary:c,rootBoundary:u,strategy:l})),y=f==="floating"?{x:r,y:i,width:s.floating.width,height:s.floating.height}:s.reference,E=await(o.getOffsetParent==null?void 0:o.getOffsetParent(a.floating)),I=await(o.isElement==null?void 0:o.isElement(E))?await(o.getScale==null?void 0:o.getScale(E))||{x:1,y:1}:{x:1,y:1},N=Ph(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:y,offsetParent:E,strategy:l}):y);return{top:(v.top-N.top+x.top)/I.y,bottom:(N.bottom-v.bottom+x.bottom)/I.y,left:(v.left-N.left+x.left)/I.x,right:(N.right-v.right+x.right)/I.x}}const pX=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:i,rects:o,platform:s,elements:a,middlewareData:l}=e,{element:c,padding:u=0}=Ei(t,e)||{};if(c==null)return{};const f=PN(u),h={x:n,y:r},g=A1(i),x=I1(g),w=await s.getDimensions(c),b=g==="y",v=b?"top":"left",y=b?"bottom":"right",E=b?"clientHeight":"clientWidth",I=o.reference[x]+o.reference[g]-h[g]-o.floating[x],N=h[g]-o.reference[g],O=await(s.getOffsetParent==null?void 0:s.getOffsetParent(c));let S=O?O[E]:0;(!S||!await(s.isElement==null?void 0:s.isElement(O)))&&(S=a.floating[E]||o.floating[x]);const C=I/2-N/2,P=S/2-w[x]/2-1,A=Ro(f[v],P),M=Ro(f[y],P),D=A,R=S-w[x]-M,B=S/2-w[x]/2+C,q=Ly(D,B,R),Y=!l.arrow&&yl(i)!=null&&B!==q&&o.reference[x]/2-(B<D?A:M)-w[x]/2<0,z=Y?B<D?B-D:B-R:0;return{[g]:h[g]+z,data:{[g]:q,centerOffset:B-q-z,...Y&&{alignmentOffset:z}},reset:Y}}}),mX=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:i,middlewareData:o,rects:s,initialPlacement:a,platform:l,elements:c}=e,{mainAxis:u=!0,crossAxis:f=!0,fallbackPlacements:h,fallbackStrategy:g="bestFit",fallbackAxisSideDirection:x="none",flipAlignment:w=!0,...b}=Ei(t,e);if((n=o.arrow)!=null&&n.alignmentOffset)return{};const v=bi(i),y=di(a),E=bi(a)===a,I=await(l.isRTL==null?void 0:l.isRTL(c.floating)),N=h||(E||!w?[Sh(a)]:cX(a)),O=x!=="none";!h&&O&&N.push(...dX(a,w,x,I));const S=[a,...N],C=await cu(e,b),P=[];let A=((r=o.flip)==null?void 0:r.overflows)||[];if(u&&P.push(C[v]),f){const q=lX(i,s,I);P.push(C[q[0]],C[q[1]])}if(A=[...A,{placement:i,overflows:P}],!P.every(q=>q<=0)){var M,D;const q=(((M=o.flip)==null?void 0:M.index)||0)+1,Y=S[q];if(Y){var R;const L=f==="alignment"?y!==di(Y):!1,V=((R=A[0])==null?void 0:R.overflows[0])>0;if(!L||V)return{data:{index:q,overflows:A},reset:{placement:Y}}}let z=(D=A.filter(L=>L.overflows[0]<=0).sort((L,V)=>L.overflows[1]-V.overflows[1])[0])==null?void 0:D.placement;if(!z)switch(g){case"bestFit":{var B;const L=(B=A.filter(V=>{if(O){const $=di(V.placement);return $===y||$==="y"}return!0}).map(V=>[V.placement,V.overflows.filter($=>$>0).reduce(($,F)=>$+F,0)]).sort((V,$)=>V[1]-$[1])[0])==null?void 0:B[0];L&&(z=L);break}case"initialPlacement":z=a;break}if(i!==z)return{reset:{placement:z}}}return{}}}};function CC(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function SC(t){return oX.some(e=>t[e]>=0)}const gX=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...i}=Ei(t,e);switch(r){case"referenceHidden":{const o=await cu(e,{...i,elementContext:"reference"}),s=CC(o,n.reference);return{data:{referenceHiddenOffsets:s,referenceHidden:SC(s)}}}case"escaped":{const o=await cu(e,{...i,altBoundary:!0}),s=CC(o,n.floating);return{data:{escapedOffsets:s,escaped:SC(s)}}}default:return{}}}}};async function vX(t,e){const{placement:n,platform:r,elements:i}=t,o=await(r.isRTL==null?void 0:r.isRTL(i.floating)),s=bi(n),a=yl(n),l=di(n)==="y",c=["left","top"].includes(s)?-1:1,u=o&&l?-1:1,f=Ei(e,t);let{mainAxis:h,crossAxis:g,alignmentAxis:x}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return a&&typeof x=="number"&&(g=a==="end"?x*-1:x),l?{x:g*u,y:h*c}:{x:h*c,y:g*u}}const yX=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:i,y:o,placement:s,middlewareData:a}=e,l=await vX(e,t);return s===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:i+l.x,y:o+l.y,data:{...l,placement:s}}}}},wX=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:i}=e,{mainAxis:o=!0,crossAxis:s=!1,limiter:a={fn:b=>{let{x:v,y}=b;return{x:v,y}}},...l}=Ei(t,e),c={x:n,y:r},u=await cu(e,l),f=di(bi(i)),h=P1(f);let g=c[h],x=c[f];if(o){const b=h==="y"?"top":"left",v=h==="y"?"bottom":"right",y=g+u[b],E=g-u[v];g=Ly(y,g,E)}if(s){const b=f==="y"?"top":"left",v=f==="y"?"bottom":"right",y=x+u[b],E=x-u[v];x=Ly(y,x,E)}const w=a.fn({...e,[h]:g,[f]:x});return{...w,data:{x:w.x-n,y:w.y-r,enabled:{[h]:o,[f]:s}}}}}},xX=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:i,rects:o,middlewareData:s}=e,{offset:a=0,mainAxis:l=!0,crossAxis:c=!0}=Ei(t,e),u={x:n,y:r},f=di(i),h=P1(f);let g=u[h],x=u[f];const w=Ei(a,e),b=typeof w=="number"?{mainAxis:w,crossAxis:0}:{mainAxis:0,crossAxis:0,...w};if(l){const E=h==="y"?"height":"width",I=o.reference[h]-o.floating[E]+b.mainAxis,N=o.reference[h]+o.reference[E]-b.mainAxis;g<I?g=I:g>N&&(g=N)}if(c){var v,y;const E=h==="y"?"width":"height",I=["top","left"].includes(bi(i)),N=o.reference[f]-o.floating[E]+(I&&((v=s.offset)==null?void 0:v[f])||0)+(I?0:b.crossAxis),O=o.reference[f]+o.reference[E]+(I?0:((y=s.offset)==null?void 0:y[f])||0)-(I?b.crossAxis:0);x<N?x=N:x>O&&(x=O)}return{[h]:g,[f]:x}}}},_X=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:i,rects:o,platform:s,elements:a}=e,{apply:l=()=>{},...c}=Ei(t,e),u=await cu(e,c),f=bi(i),h=yl(i),g=di(i)==="y",{width:x,height:w}=o.floating;let b,v;f==="top"||f==="bottom"?(b=f,v=h===(await(s.isRTL==null?void 0:s.isRTL(a.floating))?"start":"end")?"left":"right"):(v=f,b=h==="end"?"top":"bottom");const y=w-u.top-u.bottom,E=x-u.left-u.right,I=Ro(w-u[b],y),N=Ro(x-u[v],E),O=!e.middlewareData.shift;let S=I,C=N;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(C=E),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(S=y),O&&!h){const A=Nn(u.left,0),M=Nn(u.right,0),D=Nn(u.top,0),R=Nn(u.bottom,0);g?C=x-2*(A!==0||M!==0?A+M:Nn(u.left,u.right)):S=w-2*(D!==0||R!==0?D+R:Nn(u.top,u.bottom))}await l({...e,availableWidth:C,availableHeight:S});const P=await s.getDimensions(a.floating);return x!==P.width||w!==P.height?{reset:{rects:!0}}:{}}}};function Rp(){return typeof window<"u"}function wl(t){return IN(t)?(t.nodeName||"").toLowerCase():"#document"}function Ln(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Hr(t){var e;return(e=(IN(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function IN(t){return Rp()?t instanceof Node||t instanceof Ln(t).Node:!1}function mr(t){return Rp()?t instanceof Element||t instanceof Ln(t).Element:!1}function Wr(t){return Rp()?t instanceof HTMLElement||t instanceof Ln(t).HTMLElement:!1}function PC(t){return!Rp()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Ln(t).ShadowRoot}function ju(t){const{overflow:e,overflowX:n,overflowY:r,display:i}=gr(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!["inline","contents"].includes(i)}function EX(t){return["table","td","th"].includes(wl(t))}function Np(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function k1(t){const e=R1(),n=mr(t)?gr(t):t;return["transform","translate","scale","rotate","perspective"].some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function bX(t){let e=No(t);for(;Wr(e)&&!Xa(e);){if(k1(e))return e;if(Np(e))return null;e=No(e)}return null}function R1(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Xa(t){return["html","body","#document"].includes(wl(t))}function gr(t){return Ln(t).getComputedStyle(t)}function Dp(t){return mr(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function No(t){if(wl(t)==="html")return t;const e=t.assignedSlot||t.parentNode||PC(t)&&t.host||Hr(t);return PC(e)?e.host:e}function AN(t){const e=No(t);return Xa(e)?t.ownerDocument?t.ownerDocument.body:t.body:Wr(e)&&ju(e)?e:AN(e)}function uu(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const i=AN(t),o=i===((r=t.ownerDocument)==null?void 0:r.body),s=Ln(i);if(o){const a=jy(s);return e.concat(s,s.visualViewport||[],ju(i)?i:[],a&&n?uu(a):[])}return e.concat(i,uu(i,[],n))}function jy(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function kN(t){const e=gr(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=Wr(t),o=i?t.offsetWidth:n,s=i?t.offsetHeight:r,a=Ch(n)!==o||Ch(r)!==s;return a&&(n=o,r=s),{width:n,height:r,$:a}}function N1(t){return mr(t)?t:t.contextElement}function Ia(t){const e=N1(t);if(!Wr(e))return jr(1);const n=e.getBoundingClientRect(),{width:r,height:i,$:o}=kN(e);let s=(o?Ch(n.width):n.width)/r,a=(o?Ch(n.height):n.height)/i;return(!s||!Number.isFinite(s))&&(s=1),(!a||!Number.isFinite(a))&&(a=1),{x:s,y:a}}const TX=jr(0);function RN(t){const e=Ln(t);return!R1()||!e.visualViewport?TX:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function CX(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==Ln(t)?!1:e}function bs(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const i=t.getBoundingClientRect(),o=N1(t);let s=jr(1);e&&(r?mr(r)&&(s=Ia(r)):s=Ia(t));const a=CX(o,n,r)?RN(o):jr(0);let l=(i.left+a.x)/s.x,c=(i.top+a.y)/s.y,u=i.width/s.x,f=i.height/s.y;if(o){const h=Ln(o),g=r&&mr(r)?Ln(r):r;let x=h,w=jy(x);for(;w&&r&&g!==x;){const b=Ia(w),v=w.getBoundingClientRect(),y=gr(w),E=v.left+(w.clientLeft+parseFloat(y.paddingLeft))*b.x,I=v.top+(w.clientTop+parseFloat(y.paddingTop))*b.y;l*=b.x,c*=b.y,u*=b.x,f*=b.y,l+=E,c+=I,x=Ln(w),w=jy(x)}}return Ph({width:u,height:f,x:l,y:c})}function D1(t,e){const n=Dp(t).scrollLeft;return e?e.left+n:bs(Hr(t)).left+n}function NN(t,e,n){n===void 0&&(n=!1);const r=t.getBoundingClientRect(),i=r.left+e.scrollLeft-(n?0:D1(t,r)),o=r.top+e.scrollTop;return{x:i,y:o}}function SX(t){let{elements:e,rect:n,offsetParent:r,strategy:i}=t;const o=i==="fixed",s=Hr(r),a=e?Np(e.floating):!1;if(r===s||a&&o)return n;let l={scrollLeft:0,scrollTop:0},c=jr(1);const u=jr(0),f=Wr(r);if((f||!f&&!o)&&((wl(r)!=="body"||ju(s))&&(l=Dp(r)),Wr(r))){const g=bs(r);c=Ia(r),u.x=g.x+r.clientLeft,u.y=g.y+r.clientTop}const h=s&&!f&&!o?NN(s,l,!0):jr(0);return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-l.scrollLeft*c.x+u.x+h.x,y:n.y*c.y-l.scrollTop*c.y+u.y+h.y}}function PX(t){return Array.from(t.getClientRects())}function IX(t){const e=Hr(t),n=Dp(t),r=t.ownerDocument.body,i=Nn(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),o=Nn(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let s=-n.scrollLeft+D1(t);const a=-n.scrollTop;return gr(r).direction==="rtl"&&(s+=Nn(e.clientWidth,r.clientWidth)-i),{width:i,height:o,x:s,y:a}}function AX(t,e){const n=Ln(t),r=Hr(t),i=n.visualViewport;let o=r.clientWidth,s=r.clientHeight,a=0,l=0;if(i){o=i.width,s=i.height;const c=R1();(!c||c&&e==="fixed")&&(a=i.offsetLeft,l=i.offsetTop)}return{width:o,height:s,x:a,y:l}}function kX(t,e){const n=bs(t,!0,e==="fixed"),r=n.top+t.clientTop,i=n.left+t.clientLeft,o=Wr(t)?Ia(t):jr(1),s=t.clientWidth*o.x,a=t.clientHeight*o.y,l=i*o.x,c=r*o.y;return{width:s,height:a,x:l,y:c}}function IC(t,e,n){let r;if(e==="viewport")r=AX(t,n);else if(e==="document")r=IX(Hr(t));else if(mr(e))r=kX(e,n);else{const i=RN(t);r={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return Ph(r)}function DN(t,e){const n=No(t);return n===e||!mr(n)||Xa(n)?!1:gr(n).position==="fixed"||DN(n,e)}function RX(t,e){const n=e.get(t);if(n)return n;let r=uu(t,[],!1).filter(a=>mr(a)&&wl(a)!=="body"),i=null;const o=gr(t).position==="fixed";let s=o?No(t):t;for(;mr(s)&&!Xa(s);){const a=gr(s),l=k1(s);!l&&a.position==="fixed"&&(i=null),(o?!l&&!i:!l&&a.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||ju(s)&&!l&&DN(t,s))?r=r.filter(u=>u!==s):i=a,s=No(s)}return e.set(t,r),r}function NX(t){let{element:e,boundary:n,rootBoundary:r,strategy:i}=t;const s=[...n==="clippingAncestors"?Np(e)?[]:RX(e,this._c):[].concat(n),r],a=s[0],l=s.reduce((c,u)=>{const f=IC(e,u,i);return c.top=Nn(f.top,c.top),c.right=Ro(f.right,c.right),c.bottom=Ro(f.bottom,c.bottom),c.left=Nn(f.left,c.left),c},IC(e,a,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function DX(t){const{width:e,height:n}=kN(t);return{width:e,height:n}}function MX(t,e,n){const r=Wr(e),i=Hr(e),o=n==="fixed",s=bs(t,!0,o,e);let a={scrollLeft:0,scrollTop:0};const l=jr(0);function c(){l.x=D1(i)}if(r||!r&&!o)if((wl(e)!=="body"||ju(i))&&(a=Dp(e)),r){const g=bs(e,!0,o,e);l.x=g.x+e.clientLeft,l.y=g.y+e.clientTop}else i&&c();o&&!r&&i&&c();const u=i&&!r&&!o?NN(i,a):jr(0),f=s.left+a.scrollLeft-l.x-u.x,h=s.top+a.scrollTop-l.y-u.y;return{x:f,y:h,width:s.width,height:s.height}}function kg(t){return gr(t).position==="static"}function AC(t,e){if(!Wr(t)||gr(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return Hr(t)===n&&(n=n.ownerDocument.body),n}function MN(t,e){const n=Ln(t);if(Np(t))return n;if(!Wr(t)){let i=No(t);for(;i&&!Xa(i);){if(mr(i)&&!kg(i))return i;i=No(i)}return n}let r=AC(t,e);for(;r&&EX(r)&&kg(r);)r=AC(r,e);return r&&Xa(r)&&kg(r)&&!k1(r)?n:r||bX(t)||n}const OX=async function(t){const e=this.getOffsetParent||MN,n=this.getDimensions,r=await n(t.floating);return{reference:MX(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function LX(t){return gr(t).direction==="rtl"}const VX={convertOffsetParentRelativeRectToViewportRelativeRect:SX,getDocumentElement:Hr,getClippingRect:NX,getOffsetParent:MN,getElementRects:OX,getClientRects:PX,getDimensions:DX,getScale:Ia,isElement:mr,isRTL:LX};function ON(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function jX(t,e){let n=null,r;const i=Hr(t);function o(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function s(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),o();const c=t.getBoundingClientRect(),{left:u,top:f,width:h,height:g}=c;if(a||e(),!h||!g)return;const x=Md(f),w=Md(i.clientWidth-(u+h)),b=Md(i.clientHeight-(f+g)),v=Md(u),E={rootMargin:-x+"px "+-w+"px "+-b+"px "+-v+"px",threshold:Nn(0,Ro(1,l))||1};let I=!0;function N(O){const S=O[0].intersectionRatio;if(S!==l){if(!I)return s();S?s(!1,S):r=setTimeout(()=>{s(!1,1e-7)},1e3)}S===1&&!ON(c,t.getBoundingClientRect())&&s(),I=!1}try{n=new IntersectionObserver(N,{...E,root:i.ownerDocument})}catch{n=new IntersectionObserver(N,E)}n.observe(t)}return s(!0),o}function LN(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:o=!0,elementResize:s=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,c=N1(t),u=i||o?[...c?uu(c):[],...uu(e)]:[];u.forEach(v=>{i&&v.addEventListener("scroll",n,{passive:!0}),o&&v.addEventListener("resize",n)});const f=c&&a?jX(c,n):null;let h=-1,g=null;s&&(g=new ResizeObserver(v=>{let[y]=v;y&&y.target===c&&g&&(g.unobserve(e),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var E;(E=g)==null||E.observe(e)})),n()}),c&&!l&&g.observe(c),g.observe(e));let x,w=l?bs(t):null;l&&b();function b(){const v=bs(t);w&&!ON(w,v)&&n(),w=v,x=requestAnimationFrame(b)}return n(),()=>{var v;u.forEach(y=>{i&&y.removeEventListener("scroll",n),o&&y.removeEventListener("resize",n)}),f==null||f(),(v=g)==null||v.disconnect(),g=null,l&&cancelAnimationFrame(x)}}const FX=yX,$X=wX,UX=mX,BX=_X,WX=gX,kC=pX,zX=xX,HX=(t,e,n)=>{const r=new Map,i={platform:VX,...n},o={...i.platform,_c:r};return hX(t,e,{...i,platform:o})};var vf=typeof document<"u"?m.useLayoutEffect:m.useEffect;function Ih(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,i;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!Ih(t[r],e[r]))return!1;return!0}if(i=Object.keys(t),n=i.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,i[r]))return!1;for(r=n;r--!==0;){const o=i[r];if(!(o==="_owner"&&t.$$typeof)&&!Ih(t[o],e[o]))return!1}return!0}return t!==t&&e!==e}function VN(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function RC(t,e){const n=VN(t);return Math.round(e*n)/n}function Rg(t){const e=m.useRef(t);return vf(()=>{e.current=t}),e}function jN(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:o,floating:s}={},transform:a=!0,whileElementsMounted:l,open:c}=t,[u,f]=m.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[h,g]=m.useState(r);Ih(h,r)||g(r);const[x,w]=m.useState(null),[b,v]=m.useState(null),y=m.useCallback(L=>{L!==O.current&&(O.current=L,w(L))},[]),E=m.useCallback(L=>{L!==S.current&&(S.current=L,v(L))},[]),I=o||x,N=s||b,O=m.useRef(null),S=m.useRef(null),C=m.useRef(u),P=l!=null,A=Rg(l),M=Rg(i),D=Rg(c),R=m.useCallback(()=>{if(!O.current||!S.current)return;const L={placement:e,strategy:n,middleware:h};M.current&&(L.platform=M.current),HX(O.current,S.current,L).then(V=>{const $={...V,isPositioned:D.current!==!1};B.current&&!Ih(C.current,$)&&(C.current=$,Lo.flushSync(()=>{f($)}))})},[h,e,n,M,D]);vf(()=>{c===!1&&C.current.isPositioned&&(C.current.isPositioned=!1,f(L=>({...L,isPositioned:!1})))},[c]);const B=m.useRef(!1);vf(()=>(B.current=!0,()=>{B.current=!1}),[]),vf(()=>{if(I&&(O.current=I),N&&(S.current=N),I&&N){if(A.current)return A.current(I,N,R);R()}},[I,N,R,A,P]);const q=m.useMemo(()=>({reference:O,floating:S,setReference:y,setFloating:E}),[y,E]),Y=m.useMemo(()=>({reference:I,floating:N}),[I,N]),z=m.useMemo(()=>{const L={position:n,left:0,top:0};if(!Y.floating)return L;const V=RC(Y.floating,u.x),$=RC(Y.floating,u.y);return a?{...L,transform:"translate("+V+"px, "+$+"px)",...VN(Y.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:V,top:$}},[n,a,Y.floating,u.x,u.y]);return m.useMemo(()=>({...u,update:R,refs:q,elements:Y,floatingStyles:z}),[u,R,q,Y,z])}const qX=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:i}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?kC({element:r.current,padding:i}).fn(n):{}:r?kC({element:r,padding:i}).fn(n):{}}}},FN=(t,e)=>({...FX(t),options:[t,e]}),$N=(t,e)=>({...$X(t),options:[t,e]}),UN=(t,e)=>({...zX(t),options:[t,e]}),BN=(t,e)=>({...UX(t),options:[t,e]}),WN=(t,e)=>({...BX(t),options:[t,e]}),zN=(t,e)=>({...WX(t),options:[t,e]}),HN=(t,e)=>({...qX(t),options:[t,e]});var GX="Arrow",qN=m.forwardRef((t,e)=>{const{children:n,width:r=10,height:i=5,...o}=t;return p.jsx(ze.svg,{...o,ref:e,width:r,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:p.jsx("polygon",{points:"0,0 30,0 15,10"})})});qN.displayName=GX;var YX=qN,M1="Popper",[GN,YN]=Ds(M1),[KX,KN]=GN(M1),QN=t=>{const{__scopePopper:e,children:n}=t,[r,i]=m.useState(null);return p.jsx(KX,{scope:e,anchor:r,onAnchorChange:i,children:n})};QN.displayName=M1;var XN="PopperAnchor",JN=m.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...i}=t,o=KN(XN,n),s=m.useRef(null),a=lt(e,s);return m.useEffect(()=>{o.onAnchorChange((r==null?void 0:r.current)||s.current)}),r?null:p.jsx(ze.div,{...i,ref:a})});JN.displayName=XN;var O1="PopperContent",[QX,XX]=GN(O1),ZN=m.forwardRef((t,e)=>{var X,ae,ce,ne,me,Ce;const{__scopePopper:n,side:r="bottom",sideOffset:i=0,align:o="center",alignOffset:s=0,arrowPadding:a=0,avoidCollisions:l=!0,collisionBoundary:c=[],collisionPadding:u=0,sticky:f="partial",hideWhenDetached:h=!1,updatePositionStrategy:g="optimized",onPlaced:x,...w}=t,b=KN(O1,n),[v,y]=m.useState(null),E=lt(e,Ke=>y(Ke)),[I,N]=m.useState(null),O=nN(I),S=(O==null?void 0:O.width)??0,C=(O==null?void 0:O.height)??0,P=r+(o!=="center"?"-"+o:""),A=typeof u=="number"?u:{top:0,right:0,bottom:0,left:0,...u},M=Array.isArray(c)?c:[c],D=M.length>0,R={padding:A,boundary:M.filter(ZX),altBoundary:D},{refs:B,floatingStyles:q,placement:Y,isPositioned:z,middlewareData:L}=jN({strategy:"fixed",placement:P,whileElementsMounted:(...Ke)=>LN(...Ke,{animationFrame:g==="always"}),elements:{reference:b.anchor},middleware:[FN({mainAxis:i+C,alignmentAxis:s}),l&&$N({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?UN():void 0,...R}),l&&BN({...R}),WN({...R,apply:({elements:Ke,rects:st,availableWidth:Dt,availableHeight:Zn})=>{const{width:yr,height:_l}=st.reference,Gr=Ke.floating.style;Gr.setProperty("--radix-popper-available-width",`${Dt}px`),Gr.setProperty("--radix-popper-available-height",`${Zn}px`),Gr.setProperty("--radix-popper-anchor-width",`${yr}px`),Gr.setProperty("--radix-popper-anchor-height",`${_l}px`)}}),I&&HN({element:I,padding:a}),eJ({arrowWidth:S,arrowHeight:C}),h&&zN({strategy:"referenceHidden",...R})]}),[V,$]=nD(Y),F=Bt(x);Br(()=>{z&&(F==null||F())},[z,F]);const W=(X=L.arrow)==null?void 0:X.x,K=(ae=L.arrow)==null?void 0:ae.y,oe=((ce=L.arrow)==null?void 0:ce.centerOffset)!==0,[he,ue]=m.useState();return Br(()=>{v&&ue(window.getComputedStyle(v).zIndex)},[v]),p.jsx("div",{ref:B.setFloating,"data-radix-popper-content-wrapper":"",style:{...q,transform:z?q.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:he,"--radix-popper-transform-origin":[(ne=L.transformOrigin)==null?void 0:ne.x,(me=L.transformOrigin)==null?void 0:me.y].join(" "),...((Ce=L.hide)==null?void 0:Ce.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:p.jsx(QX,{scope:n,placedSide:V,onArrowChange:N,arrowX:W,arrowY:K,shouldHideArrow:oe,children:p.jsx(ze.div,{"data-side":V,"data-align":$,...w,ref:E,style:{...w.style,animation:z?void 0:"none"}})})})});ZN.displayName=O1;var eD="PopperArrow",JX={top:"bottom",right:"left",bottom:"top",left:"right"},tD=m.forwardRef(function(e,n){const{__scopePopper:r,...i}=e,o=XX(eD,r),s=JX[o.placedSide];return p.jsx("span",{ref:o.onArrowChange,style:{position:"absolute",left:o.arrowX,top:o.arrowY,[s]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[o.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[o.placedSide],visibility:o.shouldHideArrow?"hidden":void 0},children:p.jsx(YX,{...i,ref:n,style:{...i.style,display:"block"}})})});tD.displayName=eD;function ZX(t){return t!==null}var eJ=t=>({name:"transformOrigin",options:t,fn(e){var b,v,y;const{placement:n,rects:r,middlewareData:i}=e,s=((b=i.arrow)==null?void 0:b.centerOffset)!==0,a=s?0:t.arrowWidth,l=s?0:t.arrowHeight,[c,u]=nD(n),f={start:"0%",center:"50%",end:"100%"}[u],h=(((v=i.arrow)==null?void 0:v.x)??0)+a/2,g=(((y=i.arrow)==null?void 0:y.y)??0)+l/2;let x="",w="";return c==="bottom"?(x=s?f:`${h}px`,w=`${-l}px`):c==="top"?(x=s?f:`${h}px`,w=`${r.floating.height+l}px`):c==="right"?(x=`${-l}px`,w=s?f:`${g}px`):c==="left"&&(x=`${r.floating.width+l}px`,w=s?f:`${g}px`),{data:{x,y:w}}}});function nD(t){const[e,n="center"]=t.split("-");return[e,n]}var tJ=QN,rD=JN,nJ=ZN,rJ=tD,iJ="Portal",Mp=m.forwardRef((t,e)=>{var a;const{container:n,...r}=t,[i,o]=m.useState(!1);Br(()=>o(!0),[]);const s=n||i&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return s?wI.createPortal(p.jsx(ze.div,{...r,ref:e}),s):null});Mp.displayName=iJ;var oJ=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},Us=new WeakMap,Od=new WeakMap,Ld={},Ng=0,iD=function(t){return t&&(t.host||iD(t.parentNode))},sJ=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=iD(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},aJ=function(t,e,n,r){var i=sJ(e,Array.isArray(t)?t:[t]);Ld[n]||(Ld[n]=new WeakMap);var o=Ld[n],s=[],a=new Set,l=new Set(i),c=function(f){!f||a.has(f)||(a.add(f),c(f.parentNode))};i.forEach(c);var u=function(f){!f||l.has(f)||Array.prototype.forEach.call(f.children,function(h){if(a.has(h))u(h);else try{var g=h.getAttribute(r),x=g!==null&&g!=="false",w=(Us.get(h)||0)+1,b=(o.get(h)||0)+1;Us.set(h,w),o.set(h,b),s.push(h),w===1&&x&&Od.set(h,!0),b===1&&h.setAttribute(n,"true"),x||h.setAttribute(r,"true")}catch(v){console.error("aria-hidden: cannot operate on ",h,v)}})};return u(e),a.clear(),Ng++,function(){s.forEach(function(f){var h=Us.get(f)-1,g=o.get(f)-1;Us.set(f,h),o.set(f,g),h||(Od.has(f)||f.removeAttribute(r),Od.delete(f)),g||f.removeAttribute(n)}),Ng--,Ng||(Us=new WeakMap,Us=new WeakMap,Od=new WeakMap,Ld={})}},L1=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),i=e||oJ(t);return i?(r.push.apply(r,Array.from(i.querySelectorAll("[aria-live], script"))),aJ(r,i,n,"aria-hidden")):function(){return null}},rn=function(){return rn=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},rn.apply(this,arguments)};function V1(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function oD(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,o;r<i;r++)(o||!(r in e))&&(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return t.concat(o||Array.prototype.slice.call(e))}var Pc="right-scroll-bar-position",Ic="width-before-scroll-bar",lJ="with-scroll-bars-hidden",cJ="--removed-body-scroll-bar-size";function Dg(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function uJ(t,e){var n=m.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var i=n.value;i!==r&&(n.value=r,n.callback(r,i))}}}})[0];return n.callback=e,n.facade}var dJ=typeof window<"u"?m.useLayoutEffect:m.useEffect,NC=new WeakMap;function sD(t,e){var n=uJ(e||null,function(r){return t.forEach(function(i){return Dg(i,r)})});return dJ(function(){var r=NC.get(n);if(r){var i=new Set(r),o=new Set(t),s=n.current;i.forEach(function(a){o.has(a)||Dg(a,null)}),o.forEach(function(a){i.has(a)||Dg(a,s)})}NC.set(n,t)},[t]),n}function fJ(t){return t}function hJ(t,e){e===void 0&&(e=fJ);var n=[],r=!1,i={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(o){var s=e(o,r);return n.push(s),function(){n=n.filter(function(a){return a!==s})}},assignSyncMedium:function(o){for(r=!0;n.length;){var s=n;n=[],s.forEach(o)}n={push:function(a){return o(a)},filter:function(){return n}}},assignMedium:function(o){r=!0;var s=[];if(n.length){var a=n;n=[],a.forEach(o),s=n}var l=function(){var u=s;s=[],u.forEach(o)},c=function(){return Promise.resolve().then(l)};c(),n={push:function(u){s.push(u),c()},filter:function(u){return s=s.filter(u),n}}}};return i}function aD(t){t===void 0&&(t={});var e=hJ(null);return e.options=rn({async:!0,ssr:!1},t),e}var lD=function(t){var e=t.sideCar,n=V1(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return m.createElement(r,rn({},n))};lD.isSideCarExport=!0;function cD(t,e){return t.useMedium(e),lD}var uD=aD(),Mg=function(){},Op=m.forwardRef(function(t,e){var n=m.useRef(null),r=m.useState({onScrollCapture:Mg,onWheelCapture:Mg,onTouchMoveCapture:Mg}),i=r[0],o=r[1],s=t.forwardProps,a=t.children,l=t.className,c=t.removeScrollBar,u=t.enabled,f=t.shards,h=t.sideCar,g=t.noRelative,x=t.noIsolation,w=t.inert,b=t.allowPinchZoom,v=t.as,y=v===void 0?"div":v,E=t.gapMode,I=V1(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),N=h,O=sD([n,e]),S=rn(rn({},I),i);return m.createElement(m.Fragment,null,u&&m.createElement(N,{sideCar:uD,removeScrollBar:c,shards:f,noRelative:g,noIsolation:x,inert:w,setCallbacks:o,allowPinchZoom:!!b,lockRef:n,gapMode:E}),s?m.cloneElement(m.Children.only(a),rn(rn({},S),{ref:O})):m.createElement(y,rn({},S,{className:l,ref:O}),a))});Op.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Op.classNames={fullWidth:Ic,zeroRight:Pc};var DC,pJ=function(){if(DC)return DC;if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function mJ(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=pJ();return e&&t.setAttribute("nonce",e),t}function gJ(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function vJ(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var yJ=function(){var t=0,e=null;return{add:function(n){t==0&&(e=mJ())&&(gJ(e,n),vJ(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},wJ=function(){var t=yJ();return function(e,n){m.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},j1=function(){var t=wJ(),e=function(n){var r=n.styles,i=n.dynamic;return t(r,i),null};return e},xJ={left:0,top:0,right:0,gap:0},Og=function(t){return parseInt(t||"",10)||0},_J=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],i=e[t==="padding"?"paddingRight":"marginRight"];return[Og(n),Og(r),Og(i)]},EJ=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return xJ;var e=_J(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},bJ=j1(),Aa="data-scroll-locked",TJ=function(t,e,n,r){var i=t.left,o=t.top,s=t.right,a=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(lJ,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(a,"px ").concat(r,`;
  }
  body[`).concat(Aa,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(o,`px;
    padding-right: `).concat(s,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(a,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Pc,` {
    right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(Ic,` {
    margin-right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(Pc," .").concat(Pc,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Ic," .").concat(Ic,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Aa,`] {
    `).concat(cJ,": ").concat(a,`px;
  }
`)},MC=function(){var t=parseInt(document.body.getAttribute(Aa)||"0",10);return isFinite(t)?t:0},CJ=function(){m.useEffect(function(){return document.body.setAttribute(Aa,(MC()+1).toString()),function(){var t=MC()-1;t<=0?document.body.removeAttribute(Aa):document.body.setAttribute(Aa,t.toString())}},[])},dD=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,i=r===void 0?"margin":r;CJ();var o=m.useMemo(function(){return EJ(i)},[i]);return m.createElement(bJ,{styles:TJ(o,!e,i,n?"":"!important")})},Fy=!1;if(typeof window<"u")try{var Vd=Object.defineProperty({},"passive",{get:function(){return Fy=!0,!0}});window.addEventListener("test",Vd,Vd),window.removeEventListener("test",Vd,Vd)}catch{Fy=!1}var Bs=Fy?{passive:!1}:!1,SJ=function(t){return t.tagName==="TEXTAREA"},fD=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!SJ(t)&&n[e]==="visible")},PJ=function(t){return fD(t,"overflowY")},IJ=function(t){return fD(t,"overflowX")},OC=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var i=hD(t,r);if(i){var o=pD(t,r),s=o[1],a=o[2];if(s>a)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},AJ=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},kJ=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},hD=function(t,e){return t==="v"?PJ(e):IJ(e)},pD=function(t,e){return t==="v"?AJ(e):kJ(e)},RJ=function(t,e){return t==="h"&&e==="rtl"?-1:1},NJ=function(t,e,n,r,i){var o=RJ(t,window.getComputedStyle(e).direction),s=o*r,a=n.target,l=e.contains(a),c=!1,u=s>0,f=0,h=0;do{var g=pD(t,a),x=g[0],w=g[1],b=g[2],v=w-b-o*x;(x||v)&&hD(t,a)&&(f+=v,h+=x),a=a.parentNode.host||a.parentNode}while(!l&&a!==document.body||l&&(e.contains(a)||e===a));return(u&&(i&&Math.abs(f)<1||!i&&s>f)||!u&&(i&&Math.abs(h)<1||!i&&-s>h))&&(c=!0),c},jd=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},LC=function(t){return[t.deltaX,t.deltaY]},VC=function(t){return t&&"current"in t?t.current:t},DJ=function(t,e){return t[0]===e[0]&&t[1]===e[1]},MJ=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},OJ=0,Ws=[];function LJ(t){var e=m.useRef([]),n=m.useRef([0,0]),r=m.useRef(),i=m.useState(OJ++)[0],o=m.useState(j1)[0],s=m.useRef(t);m.useEffect(function(){s.current=t},[t]),m.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(i));var w=oD([t.lockRef.current],(t.shards||[]).map(VC),!0).filter(Boolean);return w.forEach(function(b){return b.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),w.forEach(function(b){return b.classList.remove("allow-interactivity-".concat(i))})}}},[t.inert,t.lockRef.current,t.shards]);var a=m.useCallback(function(w,b){if("touches"in w&&w.touches.length===2||w.type==="wheel"&&w.ctrlKey)return!s.current.allowPinchZoom;var v=jd(w),y=n.current,E="deltaX"in w?w.deltaX:y[0]-v[0],I="deltaY"in w?w.deltaY:y[1]-v[1],N,O=w.target,S=Math.abs(E)>Math.abs(I)?"h":"v";if("touches"in w&&S==="h"&&O.type==="range")return!1;var C=OC(S,O);if(!C)return!0;if(C?N=S:(N=S==="v"?"h":"v",C=OC(S,O)),!C)return!1;if(!r.current&&"changedTouches"in w&&(E||I)&&(r.current=N),!N)return!0;var P=r.current||N;return NJ(P,b,w,P==="h"?E:I,!0)},[]),l=m.useCallback(function(w){var b=w;if(!(!Ws.length||Ws[Ws.length-1]!==o)){var v="deltaY"in b?LC(b):jd(b),y=e.current.filter(function(N){return N.name===b.type&&(N.target===b.target||b.target===N.shadowParent)&&DJ(N.delta,v)})[0];if(y&&y.should){b.cancelable&&b.preventDefault();return}if(!y){var E=(s.current.shards||[]).map(VC).filter(Boolean).filter(function(N){return N.contains(b.target)}),I=E.length>0?a(b,E[0]):!s.current.noIsolation;I&&b.cancelable&&b.preventDefault()}}},[]),c=m.useCallback(function(w,b,v,y){var E={name:w,delta:b,target:v,should:y,shadowParent:VJ(v)};e.current.push(E),setTimeout(function(){e.current=e.current.filter(function(I){return I!==E})},1)},[]),u=m.useCallback(function(w){n.current=jd(w),r.current=void 0},[]),f=m.useCallback(function(w){c(w.type,LC(w),w.target,a(w,t.lockRef.current))},[]),h=m.useCallback(function(w){c(w.type,jd(w),w.target,a(w,t.lockRef.current))},[]);m.useEffect(function(){return Ws.push(o),t.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:h}),document.addEventListener("wheel",l,Bs),document.addEventListener("touchmove",l,Bs),document.addEventListener("touchstart",u,Bs),function(){Ws=Ws.filter(function(w){return w!==o}),document.removeEventListener("wheel",l,Bs),document.removeEventListener("touchmove",l,Bs),document.removeEventListener("touchstart",u,Bs)}},[]);var g=t.removeScrollBar,x=t.inert;return m.createElement(m.Fragment,null,x?m.createElement(o,{styles:MJ(i)}):null,g?m.createElement(dD,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function VJ(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const jJ=cD(uD,LJ);var mD=m.forwardRef(function(t,e){return m.createElement(Op,rn({},t,{ref:e,sideCar:jJ}))});mD.classNames=Op.classNames;const gD=mD;var Lp="Popover",[vD,xne]=Ds(Lp,[YN]),Fu=YN(),[FJ,Bo]=vD(Lp),yD=t=>{const{__scopePopover:e,children:n,open:r,defaultOpen:i,onOpenChange:o,modal:s=!1}=t,a=Fu(e),l=m.useRef(null),[c,u]=m.useState(!1),[f,h]=Pp({prop:r,defaultProp:i??!1,onChange:o,caller:Lp});return p.jsx(tJ,{...a,children:p.jsx(FJ,{scope:e,contentId:gf(),triggerRef:l,open:f,onOpenChange:h,onOpenToggle:m.useCallback(()=>h(g=>!g),[h]),hasCustomAnchor:c,onCustomAnchorAdd:m.useCallback(()=>u(!0),[]),onCustomAnchorRemove:m.useCallback(()=>u(!1),[]),modal:s,children:n})})};yD.displayName=Lp;var wD="PopoverAnchor",$J=m.forwardRef((t,e)=>{const{__scopePopover:n,...r}=t,i=Bo(wD,n),o=Fu(n),{onCustomAnchorAdd:s,onCustomAnchorRemove:a}=i;return m.useEffect(()=>(s(),()=>a()),[s,a]),p.jsx(rD,{...o,...r,ref:e})});$J.displayName=wD;var xD="PopoverTrigger",_D=m.forwardRef((t,e)=>{const{__scopePopover:n,...r}=t,i=Bo(xD,n),o=Fu(n),s=lt(e,i.triggerRef),a=p.jsx(ze.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":SD(i.open),...r,ref:s,onClick:Ue(t.onClick,i.onOpenToggle)});return i.hasCustomAnchor?a:p.jsx(rD,{asChild:!0,...o,children:a})});_D.displayName=xD;var F1="PopoverPortal",[UJ,BJ]=vD(F1,{forceMount:void 0}),ED=t=>{const{__scopePopover:e,forceMount:n,children:r,container:i}=t,o=Bo(F1,e);return p.jsx(UJ,{scope:e,forceMount:n,children:p.jsx(Xn,{present:n||o.open,children:p.jsx(Mp,{asChild:!0,container:i,children:r})})})};ED.displayName=F1;var Ja="PopoverContent",bD=m.forwardRef((t,e)=>{const n=BJ(Ja,t.__scopePopover),{forceMount:r=n.forceMount,...i}=t,o=Bo(Ja,t.__scopePopover);return p.jsx(Xn,{present:r||o.open,children:o.modal?p.jsx(zJ,{...i,ref:e}):p.jsx(HJ,{...i,ref:e})})});bD.displayName=Ja;var WJ=Ha("PopoverContent.RemoveScroll"),zJ=m.forwardRef((t,e)=>{const n=Bo(Ja,t.__scopePopover),r=m.useRef(null),i=lt(e,r),o=m.useRef(!1);return m.useEffect(()=>{const s=r.current;if(s)return L1(s)},[]),p.jsx(gD,{as:WJ,allowPinchZoom:!0,children:p.jsx(TD,{...t,ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Ue(t.onCloseAutoFocus,s=>{var a;s.preventDefault(),o.current||(a=n.triggerRef.current)==null||a.focus()}),onPointerDownOutside:Ue(t.onPointerDownOutside,s=>{const a=s.detail.originalEvent,l=a.button===0&&a.ctrlKey===!0,c=a.button===2||l;o.current=c},{checkForDefaultPrevented:!1}),onFocusOutside:Ue(t.onFocusOutside,s=>s.preventDefault(),{checkForDefaultPrevented:!1})})})}),HJ=m.forwardRef((t,e)=>{const n=Bo(Ja,t.__scopePopover),r=m.useRef(!1),i=m.useRef(!1);return p.jsx(TD,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{var s,a;(s=t.onCloseAutoFocus)==null||s.call(t,o),o.defaultPrevented||(r.current||(a=n.triggerRef.current)==null||a.focus(),o.preventDefault()),r.current=!1,i.current=!1},onInteractOutside:o=>{var l,c;(l=t.onInteractOutside)==null||l.call(t,o),o.defaultPrevented||(r.current=!0,o.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const s=o.target;((c=n.triggerRef.current)==null?void 0:c.contains(s))&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&i.current&&o.preventDefault()}})}),TD=m.forwardRef((t,e)=>{const{__scopePopover:n,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:o,disableOutsidePointerEvents:s,onEscapeKeyDown:a,onPointerDownOutside:l,onFocusOutside:c,onInteractOutside:u,...f}=t,h=Bo(Ja,n),g=Fu(n);return CN(),p.jsx(S1,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:o,children:p.jsx(kp,{asChild:!0,disableOutsidePointerEvents:s,onInteractOutside:u,onEscapeKeyDown:a,onPointerDownOutside:l,onFocusOutside:c,onDismiss:()=>h.onOpenChange(!1),children:p.jsx(nJ,{"data-state":SD(h.open),role:"dialog",id:h.contentId,...g,...f,ref:e,style:{...f.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),CD="PopoverClose",qJ=m.forwardRef((t,e)=>{const{__scopePopover:n,...r}=t,i=Bo(CD,n);return p.jsx(ze.button,{type:"button",...r,ref:e,onClick:Ue(t.onClick,()=>i.onOpenChange(!1))})});qJ.displayName=CD;var GJ="PopoverArrow",YJ=m.forwardRef((t,e)=>{const{__scopePopover:n,...r}=t,i=Fu(n);return p.jsx(rJ,{...i,...r,ref:e})});YJ.displayName=GJ;function SD(t){return t?"open":"closed"}var KJ=yD,QJ=_D,XJ=ED,PD=bD;const JJ=KJ,ZJ=QJ,ID=xe.forwardRef(({className:t,align:e="center",sideOffset:n=4,...r},i)=>p.jsx(XJ,{children:p.jsx(PD,{ref:i,align:e,sideOffset:n,className:Ne("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...r})}));ID.displayName=PD.displayName;function Ye(){return Ye=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ye.apply(null,arguments)}function jC(t,[e,n]){return Math.min(n,Math.max(e,t))}function hn(t,e,{checkForDefaultPrevented:n=!0}={}){return function(i){if(t==null||t(i),n===!1||!i.defaultPrevented)return e==null?void 0:e(i)}}function $1(t,e=[]){let n=[];function r(o,s){const a=m.createContext(s),l=n.length;n=[...n,s];function c(f){const{scope:h,children:g,...x}=f,w=(h==null?void 0:h[t][l])||a,b=m.useMemo(()=>x,Object.values(x));return m.createElement(w.Provider,{value:b},g)}function u(f,h){const g=(h==null?void 0:h[t][l])||a,x=m.useContext(g);if(x)return x;if(s!==void 0)return s;throw new Error(`\`${f}\` must be used within \`${o}\``)}return c.displayName=o+"Provider",[c,u]}const i=()=>{const o=n.map(s=>m.createContext(s));return function(a){const l=(a==null?void 0:a[t])||o;return m.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return i.scopeName=t,[r,eZ(i,...e)]}function eZ(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(o){const s=r.reduce((a,{useScope:l,scopeName:c})=>{const f=l(o)[`__scope${c}`];return{...a,...f}},{});return m.useMemo(()=>({[`__scope${e.scopeName}`]:s}),[s])}};return n.scopeName=e.scopeName,n}function tZ(t,e){typeof t=="function"?t(e):t!=null&&(t.current=e)}function AD(...t){return e=>t.forEach(n=>tZ(n,e))}function In(...t){return m.useCallback(AD(...t),t)}const du=m.forwardRef((t,e)=>{const{children:n,...r}=t,i=m.Children.toArray(n),o=i.find(rZ);if(o){const s=o.props.children,a=i.map(l=>l===o?m.Children.count(s)>1?m.Children.only(null):m.isValidElement(s)?s.props.children:null:l);return m.createElement($y,Ye({},r,{ref:e}),m.isValidElement(s)?m.cloneElement(s,void 0,a):null)}return m.createElement($y,Ye({},r,{ref:e}),n)});du.displayName="Slot";const $y=m.forwardRef((t,e)=>{const{children:n,...r}=t;return m.isValidElement(n)?m.cloneElement(n,{...iZ(r,n.props),ref:e?AD(e,n.ref):n.ref}):m.Children.count(n)>1?m.Children.only(null):null});$y.displayName="SlotClone";const nZ=({children:t})=>m.createElement(m.Fragment,null,t);function rZ(t){return m.isValidElement(t)&&t.type===nZ}function iZ(t,e){const n={...e};for(const r in e){const i=t[r],o=e[r];/^on[A-Z]/.test(r)?i&&o?n[r]=(...a)=>{o(...a),i(...a)}:i&&(n[r]=i):r==="style"?n[r]={...i,...o}:r==="className"&&(n[r]=[i,o].filter(Boolean).join(" "))}return{...t,...n}}function oZ(t){const e=t+"CollectionProvider",[n,r]=$1(e),[i,o]=n(e,{collectionRef:{current:null},itemMap:new Map}),s=g=>{const{scope:x,children:w}=g,b=xe.useRef(null),v=xe.useRef(new Map).current;return xe.createElement(i,{scope:x,itemMap:v,collectionRef:b},w)},a=t+"CollectionSlot",l=xe.forwardRef((g,x)=>{const{scope:w,children:b}=g,v=o(a,w),y=In(x,v.collectionRef);return xe.createElement(du,{ref:y},b)}),c=t+"CollectionItemSlot",u="data-radix-collection-item",f=xe.forwardRef((g,x)=>{const{scope:w,children:b,...v}=g,y=xe.useRef(null),E=In(x,y),I=o(c,w);return xe.useEffect(()=>(I.itemMap.set(y,{ref:y,...v}),()=>void I.itemMap.delete(y))),xe.createElement(du,{[u]:"",ref:E},b)});function h(g){const x=o(t+"CollectionConsumer",g);return xe.useCallback(()=>{const b=x.collectionRef.current;if(!b)return[];const v=Array.from(b.querySelectorAll(`[${u}]`));return Array.from(x.itemMap.values()).sort((I,N)=>v.indexOf(I.ref.current)-v.indexOf(N.ref.current))},[x.collectionRef,x.itemMap])}return[{Provider:s,Slot:l,ItemSlot:f},h,r]}const sZ=m.createContext(void 0);function aZ(t){const e=m.useContext(sZ);return t||e||"ltr"}const lZ=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],an=lZ.reduce((t,e)=>{const n=m.forwardRef((r,i)=>{const{asChild:o,...s}=r,a=o?du:e;return m.useEffect(()=>{window[Symbol.for("radix-ui")]=!0},[]),m.createElement(a,Ye({},s,{ref:i}))});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{});function cZ(t,e){t&&Lo.flushSync(()=>t.dispatchEvent(e))}function Ti(t){const e=m.useRef(t);return m.useEffect(()=>{e.current=t}),m.useMemo(()=>(...n)=>{var r;return(r=e.current)===null||r===void 0?void 0:r.call(e,...n)},[])}function uZ(t,e=globalThis==null?void 0:globalThis.document){const n=Ti(t);m.useEffect(()=>{const r=i=>{i.key==="Escape"&&n(i)};return e.addEventListener("keydown",r),()=>e.removeEventListener("keydown",r)},[n,e])}const Uy="dismissableLayer.update",dZ="dismissableLayer.pointerDownOutside",fZ="dismissableLayer.focusOutside";let FC;const hZ=m.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),pZ=m.forwardRef((t,e)=>{var n;const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:s,onInteractOutside:a,onDismiss:l,...c}=t,u=m.useContext(hZ),[f,h]=m.useState(null),g=(n=f==null?void 0:f.ownerDocument)!==null&&n!==void 0?n:globalThis==null?void 0:globalThis.document,[,x]=m.useState({}),w=In(e,C=>h(C)),b=Array.from(u.layers),[v]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),y=b.indexOf(v),E=f?b.indexOf(f):-1,I=u.layersWithOutsidePointerEventsDisabled.size>0,N=E>=y,O=mZ(C=>{const P=C.target,A=[...u.branches].some(M=>M.contains(P));!N||A||(o==null||o(C),a==null||a(C),C.defaultPrevented||l==null||l())},g),S=gZ(C=>{const P=C.target;[...u.branches].some(M=>M.contains(P))||(s==null||s(C),a==null||a(C),C.defaultPrevented||l==null||l())},g);return uZ(C=>{E===u.layers.size-1&&(i==null||i(C),!C.defaultPrevented&&l&&(C.preventDefault(),l()))},g),m.useEffect(()=>{if(f)return r&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(FC=g.body.style.pointerEvents,g.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(f)),u.layers.add(f),$C(),()=>{r&&u.layersWithOutsidePointerEventsDisabled.size===1&&(g.body.style.pointerEvents=FC)}},[f,g,r,u]),m.useEffect(()=>()=>{f&&(u.layers.delete(f),u.layersWithOutsidePointerEventsDisabled.delete(f),$C())},[f,u]),m.useEffect(()=>{const C=()=>x({});return document.addEventListener(Uy,C),()=>document.removeEventListener(Uy,C)},[]),m.createElement(an.div,Ye({},c,{ref:w,style:{pointerEvents:I?N?"auto":"none":void 0,...t.style},onFocusCapture:hn(t.onFocusCapture,S.onFocusCapture),onBlurCapture:hn(t.onBlurCapture,S.onBlurCapture),onPointerDownCapture:hn(t.onPointerDownCapture,O.onPointerDownCapture)}))});function mZ(t,e=globalThis==null?void 0:globalThis.document){const n=Ti(t),r=m.useRef(!1),i=m.useRef(()=>{});return m.useEffect(()=>{const o=a=>{if(a.target&&!r.current){let u=function(){kD(dZ,n,c,{discrete:!0})};var l=u;const c={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=u,e.addEventListener("click",i.current,{once:!0})):u()}else e.removeEventListener("click",i.current);r.current=!1},s=window.setTimeout(()=>{e.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(s),e.removeEventListener("pointerdown",o),e.removeEventListener("click",i.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function gZ(t,e=globalThis==null?void 0:globalThis.document){const n=Ti(t),r=m.useRef(!1);return m.useEffect(()=>{const i=o=>{o.target&&!r.current&&kD(fZ,n,{originalEvent:o},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function $C(){const t=new CustomEvent(Uy);document.dispatchEvent(t)}function kD(t,e,n,{discrete:r}){const i=n.originalEvent.target,o=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&i.addEventListener(t,e,{once:!0}),r?cZ(i,o):i.dispatchEvent(o)}let Lg=0;function vZ(){m.useEffect(()=>{var t,e;const n=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",(t=n[0])!==null&&t!==void 0?t:UC()),document.body.insertAdjacentElement("beforeend",(e=n[1])!==null&&e!==void 0?e:UC()),Lg++,()=>{Lg===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(r=>r.remove()),Lg--}},[])}function UC(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.cssText="outline: none; opacity: 0; position: fixed; pointer-events: none",t}const Vg="focusScope.autoFocusOnMount",jg="focusScope.autoFocusOnUnmount",BC={bubbles:!1,cancelable:!0},yZ=m.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:i,onUnmountAutoFocus:o,...s}=t,[a,l]=m.useState(null),c=Ti(i),u=Ti(o),f=m.useRef(null),h=In(e,w=>l(w)),g=m.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;m.useEffect(()=>{if(r){let y=function(O){if(g.paused||!a)return;const S=O.target;a.contains(S)?f.current=S:Ui(f.current,{select:!0})},E=function(O){if(g.paused||!a)return;const S=O.relatedTarget;S!==null&&(a.contains(S)||Ui(f.current,{select:!0}))},I=function(O){if(document.activeElement===document.body)for(const C of O)C.removedNodes.length>0&&Ui(a)};var w=y,b=E,v=I;document.addEventListener("focusin",y),document.addEventListener("focusout",E);const N=new MutationObserver(I);return a&&N.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",y),document.removeEventListener("focusout",E),N.disconnect()}}},[r,a,g.paused]),m.useEffect(()=>{if(a){zC.add(g);const w=document.activeElement;if(!a.contains(w)){const v=new CustomEvent(Vg,BC);a.addEventListener(Vg,c),a.dispatchEvent(v),v.defaultPrevented||(wZ(TZ(RD(a)),{select:!0}),document.activeElement===w&&Ui(a))}return()=>{a.removeEventListener(Vg,c),setTimeout(()=>{const v=new CustomEvent(jg,BC);a.addEventListener(jg,u),a.dispatchEvent(v),v.defaultPrevented||Ui(w??document.body,{select:!0}),a.removeEventListener(jg,u),zC.remove(g)},0)}}},[a,c,u,g]);const x=m.useCallback(w=>{if(!n&&!r||g.paused)return;const b=w.key==="Tab"&&!w.altKey&&!w.ctrlKey&&!w.metaKey,v=document.activeElement;if(b&&v){const y=w.currentTarget,[E,I]=xZ(y);E&&I?!w.shiftKey&&v===I?(w.preventDefault(),n&&Ui(E,{select:!0})):w.shiftKey&&v===E&&(w.preventDefault(),n&&Ui(I,{select:!0})):v===y&&w.preventDefault()}},[n,r,g.paused]);return m.createElement(an.div,Ye({tabIndex:-1},s,{ref:h,onKeyDown:x}))});function wZ(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(Ui(r,{select:e}),document.activeElement!==n)return}function xZ(t){const e=RD(t),n=WC(e,t),r=WC(e.reverse(),t);return[n,r]}function RD(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function WC(t,e){for(const n of t)if(!_Z(n,{upTo:e}))return n}function _Z(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function EZ(t){return t instanceof HTMLInputElement&&"select"in t}function Ui(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&EZ(t)&&e&&t.select()}}const zC=bZ();function bZ(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=HC(t,e),t.unshift(e)},remove(e){var n;t=HC(t,e),(n=t[0])===null||n===void 0||n.resume()}}}function HC(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function TZ(t){return t.filter(e=>e.tagName!=="A")}const Ci=globalThis!=null&&globalThis.document?m.useLayoutEffect:()=>{},CZ=Mh["useId".toString()]||(()=>{});let SZ=0;function ND(t){const[e,n]=m.useState(CZ());return Ci(()=>{t||n(r=>r??String(SZ++))},[t]),t||(e?`radix-${e}`:"")}function PZ(t){const[e,n]=m.useState(void 0);return Ci(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const o=i[0];let s,a;if("borderBoxSize"in o){const l=o.borderBoxSize,c=Array.isArray(l)?l[0]:l;s=c.inlineSize,a=c.blockSize}else s=t.offsetWidth,a=t.offsetHeight;n({width:s,height:a})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}const DD="Popper",[MD,OD]=$1(DD),[IZ,LD]=MD(DD),AZ=t=>{const{__scopePopper:e,children:n}=t,[r,i]=m.useState(null);return m.createElement(IZ,{scope:e,anchor:r,onAnchorChange:i},n)},kZ="PopperAnchor",RZ=m.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...i}=t,o=LD(kZ,n),s=m.useRef(null),a=In(e,s);return m.useEffect(()=>{o.onAnchorChange((r==null?void 0:r.current)||s.current)}),r?null:m.createElement(an.div,Ye({},i,{ref:a}))}),VD="PopperContent",[NZ,_ne]=MD(VD),DZ=m.forwardRef((t,e)=>{var n,r,i,o,s,a,l,c;const{__scopePopper:u,side:f="bottom",sideOffset:h=0,align:g="center",alignOffset:x=0,arrowPadding:w=0,avoidCollisions:b=!0,collisionBoundary:v=[],collisionPadding:y=0,sticky:E="partial",hideWhenDetached:I=!1,updatePositionStrategy:N="optimized",onPlaced:O,...S}=t,C=LD(VD,u),[P,A]=m.useState(null),M=In(e,Dt=>A(Dt)),[D,R]=m.useState(null),B=PZ(D),q=(n=B==null?void 0:B.width)!==null&&n!==void 0?n:0,Y=(r=B==null?void 0:B.height)!==null&&r!==void 0?r:0,z=f+(g!=="center"?"-"+g:""),L=typeof y=="number"?y:{top:0,right:0,bottom:0,left:0,...y},V=Array.isArray(v)?v:[v],$=V.length>0,F={padding:L,boundary:V.filter(MZ),altBoundary:$},{refs:W,floatingStyles:K,placement:oe,isPositioned:he,middlewareData:ue}=jN({strategy:"fixed",placement:z,whileElementsMounted:(...Dt)=>LN(...Dt,{animationFrame:N==="always"}),elements:{reference:C.anchor},middleware:[FN({mainAxis:h+Y,alignmentAxis:x}),b&&$N({mainAxis:!0,crossAxis:!1,limiter:E==="partial"?UN():void 0,...F}),b&&BN({...F}),WN({...F,apply:({elements:Dt,rects:Zn,availableWidth:yr,availableHeight:_l})=>{const{width:Gr,height:Uu}=Zn.reference,Ri=Dt.floating.style;Ri.setProperty("--radix-popper-available-width",`${yr}px`),Ri.setProperty("--radix-popper-available-height",`${_l}px`),Ri.setProperty("--radix-popper-anchor-width",`${Gr}px`),Ri.setProperty("--radix-popper-anchor-height",`${Uu}px`)}}),D&&HN({element:D,padding:w}),OZ({arrowWidth:q,arrowHeight:Y}),I&&zN({strategy:"referenceHidden",...F})]}),[X,ae]=jD(oe),ce=Ti(O);Ci(()=>{he&&(ce==null||ce())},[he,ce]);const ne=(i=ue.arrow)===null||i===void 0?void 0:i.x,me=(o=ue.arrow)===null||o===void 0?void 0:o.y,Ce=((s=ue.arrow)===null||s===void 0?void 0:s.centerOffset)!==0,[Ke,st]=m.useState();return Ci(()=>{P&&st(window.getComputedStyle(P).zIndex)},[P]),m.createElement("div",{ref:W.setFloating,"data-radix-popper-content-wrapper":"",style:{...K,transform:he?K.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Ke,"--radix-popper-transform-origin":[(a=ue.transformOrigin)===null||a===void 0?void 0:a.x,(l=ue.transformOrigin)===null||l===void 0?void 0:l.y].join(" ")},dir:t.dir},m.createElement(NZ,{scope:u,placedSide:X,onArrowChange:R,arrowX:ne,arrowY:me,shouldHideArrow:Ce},m.createElement(an.div,Ye({"data-side":X,"data-align":ae},S,{ref:M,style:{...S.style,animation:he?void 0:"none",opacity:(c=ue.hide)!==null&&c!==void 0&&c.referenceHidden?0:void 0}}))))});function MZ(t){return t!==null}const OZ=t=>({name:"transformOrigin",options:t,fn(e){var n,r,i,o,s;const{placement:a,rects:l,middlewareData:c}=e,f=((n=c.arrow)===null||n===void 0?void 0:n.centerOffset)!==0,h=f?0:t.arrowWidth,g=f?0:t.arrowHeight,[x,w]=jD(a),b={start:"0%",center:"50%",end:"100%"}[w],v=((r=(i=c.arrow)===null||i===void 0?void 0:i.x)!==null&&r!==void 0?r:0)+h/2,y=((o=(s=c.arrow)===null||s===void 0?void 0:s.y)!==null&&o!==void 0?o:0)+g/2;let E="",I="";return x==="bottom"?(E=f?b:`${v}px`,I=`${-g}px`):x==="top"?(E=f?b:`${v}px`,I=`${l.floating.height+g}px`):x==="right"?(E=`${-g}px`,I=f?b:`${y}px`):x==="left"&&(E=`${l.floating.width+g}px`,I=f?b:`${y}px`),{data:{x:E,y:I}}}});function jD(t){const[e,n="center"]=t.split("-");return[e,n]}const LZ=AZ,VZ=RZ,jZ=DZ,FZ=m.forwardRef((t,e)=>{var n;const{container:r=globalThis==null||(n=globalThis.document)===null||n===void 0?void 0:n.body,...i}=t;return r?wI.createPortal(m.createElement(an.div,Ye({},i,{ref:e})),r):null});function qC({prop:t,defaultProp:e,onChange:n=()=>{}}){const[r,i]=$Z({defaultProp:e,onChange:n}),o=t!==void 0,s=o?t:r,a=Ti(n),l=m.useCallback(c=>{if(o){const f=typeof c=="function"?c(t):c;f!==t&&a(f)}else i(c)},[o,t,i,a]);return[s,l]}function $Z({defaultProp:t,onChange:e}){const n=m.useState(t),[r]=n,i=m.useRef(r),o=Ti(e);return m.useEffect(()=>{i.current!==r&&(o(r),i.current=r)},[r,i,o]),n}function UZ(t){const e=m.useRef({value:t,previous:t});return m.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}const BZ=m.forwardRef((t,e)=>m.createElement(an.span,Ye({},t,{ref:e,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...t.style}})));var FD=aD(),Fg=function(){},Vp=m.forwardRef(function(t,e){var n=m.useRef(null),r=m.useState({onScrollCapture:Fg,onWheelCapture:Fg,onTouchMoveCapture:Fg}),i=r[0],o=r[1],s=t.forwardProps,a=t.children,l=t.className,c=t.removeScrollBar,u=t.enabled,f=t.shards,h=t.sideCar,g=t.noIsolation,x=t.inert,w=t.allowPinchZoom,b=t.as,v=b===void 0?"div":b,y=V1(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as"]),E=h,I=sD([n,e]),N=rn(rn({},y),i);return m.createElement(m.Fragment,null,u&&m.createElement(E,{sideCar:FD,removeScrollBar:c,shards:f,noIsolation:g,inert:x,setCallbacks:o,allowPinchZoom:!!w,lockRef:n}),s?m.cloneElement(m.Children.only(a),rn(rn({},N),{ref:I})):m.createElement(v,rn({},N,{className:l,ref:I}),a))});Vp.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Vp.classNames={fullWidth:Ic,zeroRight:Pc};var By=!1;if(typeof window<"u")try{var Fd=Object.defineProperty({},"passive",{get:function(){return By=!0,!0}});window.addEventListener("test",Fd,Fd),window.removeEventListener("test",Fd,Fd)}catch{By=!1}var zs=By?{passive:!1}:!1,WZ=function(t){return t.tagName==="TEXTAREA"},$D=function(t,e){var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!WZ(t)&&n[e]==="visible")},zZ=function(t){return $D(t,"overflowY")},HZ=function(t){return $D(t,"overflowX")},GC=function(t,e){var n=e;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var r=UD(t,n);if(r){var i=BD(t,n),o=i[1],s=i[2];if(o>s)return!0}n=n.parentNode}while(n&&n!==document.body);return!1},qZ=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},GZ=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},UD=function(t,e){return t==="v"?zZ(e):HZ(e)},BD=function(t,e){return t==="v"?qZ(e):GZ(e)},YZ=function(t,e){return t==="h"&&e==="rtl"?-1:1},KZ=function(t,e,n,r,i){var o=YZ(t,window.getComputedStyle(e).direction),s=o*r,a=n.target,l=e.contains(a),c=!1,u=s>0,f=0,h=0;do{var g=BD(t,a),x=g[0],w=g[1],b=g[2],v=w-b-o*x;(x||v)&&UD(t,a)&&(f+=v,h+=x),a=a.parentNode}while(!l&&a!==document.body||l&&(e.contains(a)||e===a));return(u&&(i&&f===0||!i&&s>f)||!u&&(i&&h===0||!i&&-s>h))&&(c=!0),c},$d=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},YC=function(t){return[t.deltaX,t.deltaY]},KC=function(t){return t&&"current"in t?t.current:t},QZ=function(t,e){return t[0]===e[0]&&t[1]===e[1]},XZ=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},JZ=0,Hs=[];function ZZ(t){var e=m.useRef([]),n=m.useRef([0,0]),r=m.useRef(),i=m.useState(JZ++)[0],o=m.useState(function(){return j1()})[0],s=m.useRef(t);m.useEffect(function(){s.current=t},[t]),m.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(i));var w=oD([t.lockRef.current],(t.shards||[]).map(KC),!0).filter(Boolean);return w.forEach(function(b){return b.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),w.forEach(function(b){return b.classList.remove("allow-interactivity-".concat(i))})}}},[t.inert,t.lockRef.current,t.shards]);var a=m.useCallback(function(w,b){if("touches"in w&&w.touches.length===2)return!s.current.allowPinchZoom;var v=$d(w),y=n.current,E="deltaX"in w?w.deltaX:y[0]-v[0],I="deltaY"in w?w.deltaY:y[1]-v[1],N,O=w.target,S=Math.abs(E)>Math.abs(I)?"h":"v";if("touches"in w&&S==="h"&&O.type==="range")return!1;var C=GC(S,O);if(!C)return!0;if(C?N=S:(N=S==="v"?"h":"v",C=GC(S,O)),!C)return!1;if(!r.current&&"changedTouches"in w&&(E||I)&&(r.current=N),!N)return!0;var P=r.current||N;return KZ(P,b,w,P==="h"?E:I,!0)},[]),l=m.useCallback(function(w){var b=w;if(!(!Hs.length||Hs[Hs.length-1]!==o)){var v="deltaY"in b?YC(b):$d(b),y=e.current.filter(function(N){return N.name===b.type&&N.target===b.target&&QZ(N.delta,v)})[0];if(y&&y.should){b.cancelable&&b.preventDefault();return}if(!y){var E=(s.current.shards||[]).map(KC).filter(Boolean).filter(function(N){return N.contains(b.target)}),I=E.length>0?a(b,E[0]):!s.current.noIsolation;I&&b.cancelable&&b.preventDefault()}}},[]),c=m.useCallback(function(w,b,v,y){var E={name:w,delta:b,target:v,should:y};e.current.push(E),setTimeout(function(){e.current=e.current.filter(function(I){return I!==E})},1)},[]),u=m.useCallback(function(w){n.current=$d(w),r.current=void 0},[]),f=m.useCallback(function(w){c(w.type,YC(w),w.target,a(w,t.lockRef.current))},[]),h=m.useCallback(function(w){c(w.type,$d(w),w.target,a(w,t.lockRef.current))},[]);m.useEffect(function(){return Hs.push(o),t.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:h}),document.addEventListener("wheel",l,zs),document.addEventListener("touchmove",l,zs),document.addEventListener("touchstart",u,zs),function(){Hs=Hs.filter(function(w){return w!==o}),document.removeEventListener("wheel",l,zs),document.removeEventListener("touchmove",l,zs),document.removeEventListener("touchstart",u,zs)}},[]);var g=t.removeScrollBar,x=t.inert;return m.createElement(m.Fragment,null,x?m.createElement(o,{styles:XZ(i)}):null,g?m.createElement(dD,{gapMode:"margin"}):null)}const eee=cD(FD,ZZ);var WD=m.forwardRef(function(t,e){return m.createElement(Vp,rn({},t,{ref:e,sideCar:eee}))});WD.classNames=Vp.classNames;const tee=WD,nee=[" ","Enter","ArrowUp","ArrowDown"],ree=[" ","Enter"],jp="Select",[Fp,U1,iee]=oZ(jp),[xl,Ene]=$1(jp,[iee,OD]),B1=OD(),[oee,Ms]=xl(jp),[see,aee]=xl(jp),lee=t=>{const{__scopeSelect:e,children:n,open:r,defaultOpen:i,onOpenChange:o,value:s,defaultValue:a,onValueChange:l,dir:c,name:u,autoComplete:f,disabled:h,required:g}=t,x=B1(e),[w,b]=m.useState(null),[v,y]=m.useState(null),[E,I]=m.useState(!1),N=aZ(c),[O=!1,S]=qC({prop:r,defaultProp:i,onChange:o}),[C,P]=qC({prop:s,defaultProp:a,onChange:l}),A=m.useRef(null),M=w?!!w.closest("form"):!0,[D,R]=m.useState(new Set),B=Array.from(D).map(q=>q.props.value).join(";");return m.createElement(LZ,x,m.createElement(oee,{required:g,scope:e,trigger:w,onTriggerChange:b,valueNode:v,onValueNodeChange:y,valueNodeHasChildren:E,onValueNodeHasChildrenChange:I,contentId:ND(),value:C,onValueChange:P,open:O,onOpenChange:S,dir:N,triggerPointerDownPosRef:A,disabled:h},m.createElement(Fp.Provider,{scope:e},m.createElement(see,{scope:t.__scopeSelect,onNativeOptionAdd:m.useCallback(q=>{R(Y=>new Set(Y).add(q))},[]),onNativeOptionRemove:m.useCallback(q=>{R(Y=>{const z=new Set(Y);return z.delete(q),z})},[])},n)),M?m.createElement(GD,{key:B,"aria-hidden":!0,required:g,tabIndex:-1,name:u,autoComplete:f,value:C,onChange:q=>P(q.target.value),disabled:h},C===void 0?m.createElement("option",{value:""}):null,Array.from(D)):null))},cee="SelectTrigger",uee=m.forwardRef((t,e)=>{const{__scopeSelect:n,disabled:r=!1,...i}=t,o=B1(n),s=Ms(cee,n),a=s.disabled||r,l=In(e,s.onTriggerChange),c=U1(n),[u,f,h]=YD(x=>{const w=c().filter(y=>!y.disabled),b=w.find(y=>y.value===s.value),v=KD(w,x,b);v!==void 0&&s.onValueChange(v.value)}),g=()=>{a||(s.onOpenChange(!0),h())};return m.createElement(VZ,Ye({asChild:!0},o),m.createElement(an.button,Ye({type:"button",role:"combobox","aria-controls":s.contentId,"aria-expanded":s.open,"aria-required":s.required,"aria-autocomplete":"none",dir:s.dir,"data-state":s.open?"open":"closed",disabled:a,"data-disabled":a?"":void 0,"data-placeholder":qD(s.value)?"":void 0},i,{ref:l,onClick:hn(i.onClick,x=>{x.currentTarget.focus()}),onPointerDown:hn(i.onPointerDown,x=>{const w=x.target;w.hasPointerCapture(x.pointerId)&&w.releasePointerCapture(x.pointerId),x.button===0&&x.ctrlKey===!1&&(g(),s.triggerPointerDownPosRef.current={x:Math.round(x.pageX),y:Math.round(x.pageY)},x.preventDefault())}),onKeyDown:hn(i.onKeyDown,x=>{const w=u.current!=="";!(x.ctrlKey||x.altKey||x.metaKey)&&x.key.length===1&&f(x.key),!(w&&x.key===" ")&&nee.includes(x.key)&&(g(),x.preventDefault())})})))}),dee="SelectValue",fee=m.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:i,children:o,placeholder:s="",...a}=t,l=Ms(dee,n),{onValueNodeHasChildrenChange:c}=l,u=o!==void 0,f=In(e,l.onValueNodeChange);return Ci(()=>{c(u)},[c,u]),m.createElement(an.span,Ye({},a,{ref:f,style:{pointerEvents:"none"}}),qD(l.value)?m.createElement(m.Fragment,null,s):o)}),hee=m.forwardRef((t,e)=>{const{__scopeSelect:n,children:r,...i}=t;return m.createElement(an.span,Ye({"aria-hidden":!0},i,{ref:e}),r||"▼")}),pee=t=>m.createElement(FZ,Ye({asChild:!0},t)),Za="SelectContent",mee=m.forwardRef((t,e)=>{const n=Ms(Za,t.__scopeSelect),[r,i]=m.useState();if(Ci(()=>{i(new DocumentFragment)},[]),!n.open){const o=r;return o?Lo.createPortal(m.createElement(zD,{scope:t.__scopeSelect},m.createElement(Fp.Slot,{scope:t.__scopeSelect},m.createElement("div",null,t.children))),o):null}return m.createElement(gee,Ye({},t,{ref:e}))}),Jr=10,[zD,$p]=xl(Za),gee=m.forwardRef((t,e)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:o,onPointerDownOutside:s,side:a,sideOffset:l,align:c,alignOffset:u,arrowPadding:f,collisionBoundary:h,collisionPadding:g,sticky:x,hideWhenDetached:w,avoidCollisions:b,...v}=t,y=Ms(Za,n),[E,I]=m.useState(null),[N,O]=m.useState(null),S=In(e,X=>I(X)),[C,P]=m.useState(null),[A,M]=m.useState(null),D=U1(n),[R,B]=m.useState(!1),q=m.useRef(!1);m.useEffect(()=>{if(E)return L1(E)},[E]),vZ();const Y=m.useCallback(X=>{const[ae,...ce]=D().map(Ce=>Ce.ref.current),[ne]=ce.slice(-1),me=document.activeElement;for(const Ce of X)if(Ce===me||(Ce==null||Ce.scrollIntoView({block:"nearest"}),Ce===ae&&N&&(N.scrollTop=0),Ce===ne&&N&&(N.scrollTop=N.scrollHeight),Ce==null||Ce.focus(),document.activeElement!==me))return},[D,N]),z=m.useCallback(()=>Y([C,E]),[Y,C,E]);m.useEffect(()=>{R&&z()},[R,z]);const{onOpenChange:L,triggerPointerDownPosRef:V}=y;m.useEffect(()=>{if(E){let X={x:0,y:0};const ae=ne=>{var me,Ce,Ke,st;X={x:Math.abs(Math.round(ne.pageX)-((me=(Ce=V.current)===null||Ce===void 0?void 0:Ce.x)!==null&&me!==void 0?me:0)),y:Math.abs(Math.round(ne.pageY)-((Ke=(st=V.current)===null||st===void 0?void 0:st.y)!==null&&Ke!==void 0?Ke:0))}},ce=ne=>{X.x<=10&&X.y<=10?ne.preventDefault():E.contains(ne.target)||L(!1),document.removeEventListener("pointermove",ae),V.current=null};return V.current!==null&&(document.addEventListener("pointermove",ae),document.addEventListener("pointerup",ce,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",ae),document.removeEventListener("pointerup",ce,{capture:!0})}}},[E,L,V]),m.useEffect(()=>{const X=()=>L(!1);return window.addEventListener("blur",X),window.addEventListener("resize",X),()=>{window.removeEventListener("blur",X),window.removeEventListener("resize",X)}},[L]);const[$,F]=YD(X=>{const ae=D().filter(me=>!me.disabled),ce=ae.find(me=>me.ref.current===document.activeElement),ne=KD(ae,X,ce);ne&&setTimeout(()=>ne.ref.current.focus())}),W=m.useCallback((X,ae,ce)=>{const ne=!q.current&&!ce;(y.value!==void 0&&y.value===ae||ne)&&(P(X),ne&&(q.current=!0))},[y.value]),K=m.useCallback(()=>E==null?void 0:E.focus(),[E]),oe=m.useCallback((X,ae,ce)=>{const ne=!q.current&&!ce;(y.value!==void 0&&y.value===ae||ne)&&M(X)},[y.value]),he=r==="popper"?QC:vee,ue=he===QC?{side:a,sideOffset:l,align:c,alignOffset:u,arrowPadding:f,collisionBoundary:h,collisionPadding:g,sticky:x,hideWhenDetached:w,avoidCollisions:b}:{};return m.createElement(zD,{scope:n,content:E,viewport:N,onViewportChange:O,itemRefCallback:W,selectedItem:C,onItemLeave:K,itemTextRefCallback:oe,focusSelectedItem:z,selectedItemText:A,position:r,isPositioned:R,searchRef:$},m.createElement(tee,{as:du,allowPinchZoom:!0},m.createElement(yZ,{asChild:!0,trapped:y.open,onMountAutoFocus:X=>{X.preventDefault()},onUnmountAutoFocus:hn(i,X=>{var ae;(ae=y.trigger)===null||ae===void 0||ae.focus({preventScroll:!0}),X.preventDefault()})},m.createElement(pZ,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:o,onPointerDownOutside:s,onFocusOutside:X=>X.preventDefault(),onDismiss:()=>y.onOpenChange(!1)},m.createElement(he,Ye({role:"listbox",id:y.contentId,"data-state":y.open?"open":"closed",dir:y.dir,onContextMenu:X=>X.preventDefault()},v,ue,{onPlaced:()=>B(!0),ref:S,style:{display:"flex",flexDirection:"column",outline:"none",...v.style},onKeyDown:hn(v.onKeyDown,X=>{const ae=X.ctrlKey||X.altKey||X.metaKey;if(X.key==="Tab"&&X.preventDefault(),!ae&&X.key.length===1&&F(X.key),["ArrowUp","ArrowDown","Home","End"].includes(X.key)){let ne=D().filter(me=>!me.disabled).map(me=>me.ref.current);if(["ArrowUp","End"].includes(X.key)&&(ne=ne.slice().reverse()),["ArrowUp","ArrowDown"].includes(X.key)){const me=X.target,Ce=ne.indexOf(me);ne=ne.slice(Ce+1)}setTimeout(()=>Y(ne)),X.preventDefault()}})}))))))}),vee=m.forwardRef((t,e)=>{const{__scopeSelect:n,onPlaced:r,...i}=t,o=Ms(Za,n),s=$p(Za,n),[a,l]=m.useState(null),[c,u]=m.useState(null),f=In(e,S=>u(S)),h=U1(n),g=m.useRef(!1),x=m.useRef(!0),{viewport:w,selectedItem:b,selectedItemText:v,focusSelectedItem:y}=s,E=m.useCallback(()=>{if(o.trigger&&o.valueNode&&a&&c&&w&&b&&v){const S=o.trigger.getBoundingClientRect(),C=c.getBoundingClientRect(),P=o.valueNode.getBoundingClientRect(),A=v.getBoundingClientRect();if(o.dir!=="rtl"){const me=A.left-C.left,Ce=P.left-me,Ke=S.left-Ce,st=S.width+Ke,Dt=Math.max(st,C.width),Zn=window.innerWidth-Jr,yr=jC(Ce,[Jr,Zn-Dt]);a.style.minWidth=st+"px",a.style.left=yr+"px"}else{const me=C.right-A.right,Ce=window.innerWidth-P.right-me,Ke=window.innerWidth-S.right-Ce,st=S.width+Ke,Dt=Math.max(st,C.width),Zn=window.innerWidth-Jr,yr=jC(Ce,[Jr,Zn-Dt]);a.style.minWidth=st+"px",a.style.right=yr+"px"}const M=h(),D=window.innerHeight-Jr*2,R=w.scrollHeight,B=window.getComputedStyle(c),q=parseInt(B.borderTopWidth,10),Y=parseInt(B.paddingTop,10),z=parseInt(B.borderBottomWidth,10),L=parseInt(B.paddingBottom,10),V=q+Y+R+L+z,$=Math.min(b.offsetHeight*5,V),F=window.getComputedStyle(w),W=parseInt(F.paddingTop,10),K=parseInt(F.paddingBottom,10),oe=S.top+S.height/2-Jr,he=D-oe,ue=b.offsetHeight/2,X=b.offsetTop+ue,ae=q+Y+X,ce=V-ae;if(ae<=oe){const me=b===M[M.length-1].ref.current;a.style.bottom="0px";const Ce=c.clientHeight-w.offsetTop-w.offsetHeight,Ke=Math.max(he,ue+(me?K:0)+Ce+z),st=ae+Ke;a.style.height=st+"px"}else{const me=b===M[0].ref.current;a.style.top="0px";const Ke=Math.max(oe,q+w.offsetTop+(me?W:0)+ue)+ce;a.style.height=Ke+"px",w.scrollTop=ae-oe+w.offsetTop}a.style.margin=`${Jr}px 0`,a.style.minHeight=$+"px",a.style.maxHeight=D+"px",r==null||r(),requestAnimationFrame(()=>g.current=!0)}},[h,o.trigger,o.valueNode,a,c,w,b,v,o.dir,r]);Ci(()=>E(),[E]);const[I,N]=m.useState();Ci(()=>{c&&N(window.getComputedStyle(c).zIndex)},[c]);const O=m.useCallback(S=>{S&&x.current===!0&&(E(),y==null||y(),x.current=!1)},[E,y]);return m.createElement(yee,{scope:n,contentWrapper:a,shouldExpandOnScrollRef:g,onScrollButtonChange:O},m.createElement("div",{ref:l,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:I}},m.createElement(an.div,Ye({},i,{ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}}))))}),QC=m.forwardRef((t,e)=>{const{__scopeSelect:n,align:r="start",collisionPadding:i=Jr,...o}=t,s=B1(n);return m.createElement(jZ,Ye({},s,o,{ref:e,align:r,collisionPadding:i,style:{boxSizing:"border-box",...o.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}}))}),[yee,wee]=xl(Za,{}),XC="SelectViewport",xee=m.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=$p(XC,n),o=wee(XC,n),s=In(e,i.onViewportChange),a=m.useRef(0);return m.createElement(m.Fragment,null,m.createElement("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"}}),m.createElement(Fp.Slot,{scope:n},m.createElement(an.div,Ye({"data-radix-select-viewport":"",role:"presentation"},r,{ref:s,style:{position:"relative",flex:1,overflow:"auto",...r.style},onScroll:hn(r.onScroll,l=>{const c=l.currentTarget,{contentWrapper:u,shouldExpandOnScrollRef:f}=o;if(f!=null&&f.current&&u){const h=Math.abs(a.current-c.scrollTop);if(h>0){const g=window.innerHeight-Jr*2,x=parseFloat(u.style.minHeight),w=parseFloat(u.style.height),b=Math.max(x,w);if(b<g){const v=b+h,y=Math.min(g,v),E=v-y;u.style.height=y+"px",u.style.bottom==="0px"&&(c.scrollTop=E>0?E:0,u.style.justifyContent="flex-end")}}}a.current=c.scrollTop})}))))}),_ee="SelectGroup",[bne,Eee]=xl(_ee),bee="SelectLabel",Tee=m.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=Eee(bee,n);return m.createElement(an.div,Ye({id:i.id},r,{ref:e}))}),Wy="SelectItem",[Cee,HD]=xl(Wy),See=m.forwardRef((t,e)=>{const{__scopeSelect:n,value:r,disabled:i=!1,textValue:o,...s}=t,a=Ms(Wy,n),l=$p(Wy,n),c=a.value===r,[u,f]=m.useState(o??""),[h,g]=m.useState(!1),x=In(e,v=>{var y;return(y=l.itemRefCallback)===null||y===void 0?void 0:y.call(l,v,r,i)}),w=ND(),b=()=>{i||(a.onValueChange(r),a.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return m.createElement(Cee,{scope:n,value:r,disabled:i,textId:w,isSelected:c,onItemTextChange:m.useCallback(v=>{f(y=>{var E;return y||((E=v==null?void 0:v.textContent)!==null&&E!==void 0?E:"").trim()})},[])},m.createElement(Fp.ItemSlot,{scope:n,value:r,disabled:i,textValue:u},m.createElement(an.div,Ye({role:"option","aria-labelledby":w,"data-highlighted":h?"":void 0,"aria-selected":c&&h,"data-state":c?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1},s,{ref:x,onFocus:hn(s.onFocus,()=>g(!0)),onBlur:hn(s.onBlur,()=>g(!1)),onPointerUp:hn(s.onPointerUp,b),onPointerMove:hn(s.onPointerMove,v=>{if(i){var y;(y=l.onItemLeave)===null||y===void 0||y.call(l)}else v.currentTarget.focus({preventScroll:!0})}),onPointerLeave:hn(s.onPointerLeave,v=>{if(v.currentTarget===document.activeElement){var y;(y=l.onItemLeave)===null||y===void 0||y.call(l)}}),onKeyDown:hn(s.onKeyDown,v=>{var y;((y=l.searchRef)===null||y===void 0?void 0:y.current)!==""&&v.key===" "||(ree.includes(v.key)&&b(),v.key===" "&&v.preventDefault())})}))))}),Ud="SelectItemText",Pee=m.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:i,...o}=t,s=Ms(Ud,n),a=$p(Ud,n),l=HD(Ud,n),c=aee(Ud,n),[u,f]=m.useState(null),h=In(e,v=>f(v),l.onItemTextChange,v=>{var y;return(y=a.itemTextRefCallback)===null||y===void 0?void 0:y.call(a,v,l.value,l.disabled)}),g=u==null?void 0:u.textContent,x=m.useMemo(()=>m.createElement("option",{key:l.value,value:l.value,disabled:l.disabled},g),[l.disabled,l.value,g]),{onNativeOptionAdd:w,onNativeOptionRemove:b}=c;return Ci(()=>(w(x),()=>b(x)),[w,b,x]),m.createElement(m.Fragment,null,m.createElement(an.span,Ye({id:l.textId},o,{ref:h})),l.isSelected&&s.valueNode&&!s.valueNodeHasChildren?Lo.createPortal(o.children,s.valueNode):null)}),Iee="SelectItemIndicator",Aee=m.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return HD(Iee,n).isSelected?m.createElement(an.span,Ye({"aria-hidden":!0},r,{ref:e})):null}),kee=m.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return m.createElement(an.div,Ye({"aria-hidden":!0},r,{ref:e}))});function qD(t){return t===""||t===void 0}const GD=m.forwardRef((t,e)=>{const{value:n,...r}=t,i=m.useRef(null),o=In(e,i),s=UZ(n);return m.useEffect(()=>{const a=i.current,l=window.HTMLSelectElement.prototype,u=Object.getOwnPropertyDescriptor(l,"value").set;if(s!==n&&u){const f=new Event("change",{bubbles:!0});u.call(a,n),a.dispatchEvent(f)}},[s,n]),m.createElement(BZ,{asChild:!0},m.createElement("select",Ye({},r,{ref:o,defaultValue:n})))});GD.displayName="BubbleSelect";function YD(t){const e=Ti(t),n=m.useRef(""),r=m.useRef(0),i=m.useCallback(s=>{const a=n.current+s;e(a),function l(c){n.current=c,window.clearTimeout(r.current),c!==""&&(r.current=window.setTimeout(()=>l(""),1e3))}(a)},[e]),o=m.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return m.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,i,o]}function KD(t,e,n){const i=e.length>1&&Array.from(e).every(c=>c===e[0])?e[0]:e,o=n?t.indexOf(n):-1;let s=Ree(t,Math.max(o,0));i.length===1&&(s=s.filter(c=>c!==n));const l=s.find(c=>c.textValue.toLowerCase().startsWith(i.toLowerCase()));return l!==n?l:void 0}function Ree(t,e){return t.map((n,r)=>t[(e+r)%t.length])}const Nee=lee,QD=uee,Dee=fee,Mee=hee,Oee=pee,XD=mee,Lee=xee,JD=Tee,ZD=See,Vee=Pee,jee=Aee,eM=kee,Fee=Nee,$ee=Dee,tM=xe.forwardRef(({className:t,children:e,...n},r)=>p.jsxs(QD,{ref:r,className:Ne("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 focus:shadow-[0_0_0_3px_rgba(226,125,191,0.2)] disabled:cursor-not-allowed disabled:opacity-50",t),...n,children:[e,p.jsx(Mee,{asChild:!0,children:p.jsx(Gz,{className:"h-4 w-4 opacity-50"})})]}));tM.displayName=QD.displayName;const nM=xe.forwardRef(({className:t,children:e,position:n="popper",...r},i)=>p.jsx(Oee,{children:p.jsx(XD,{ref:i,className:Ne("relative z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...r,children:p.jsx(Lee,{className:Ne("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e})})}));nM.displayName=XD.displayName;const Uee=xe.forwardRef(({className:t,...e},n)=>p.jsx(JD,{ref:n,className:Ne("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...e}));Uee.displayName=JD.displayName;const rM=xe.forwardRef(({className:t,children:e,...n},r)=>p.jsxs(ZD,{ref:r,className:Ne("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[p.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:p.jsx(jee,{children:p.jsx(wh,{className:"h-4 w-4"})})}),p.jsx(Vee,{children:e})]}));rM.displayName=ZD.displayName;const Bee=xe.forwardRef(({className:t,...e},n)=>p.jsx(eM,{ref:n,className:Ne("-mx-1 my-1 h-px bg-muted",t),...e}));Bee.displayName=eM.displayName;const Wee=({date:t,setDate:e,time:n,setTime:r,temperatureRaw:i,setTemperatureRaw:o,temperatureCorrected:s,setTemperatureCorrected:a,useCorrected:l,setUseCorrected:c,mucusSensation:u,setMucusSensation:f,mucusAppearance:h,setMucusAppearance:g,fertilitySymbol:x,setFertilitySymbol:w,observations:b,setObservations:v,ignored:y,setIgnored:E,isProcessing:I,isEditing:N,initialData:O,cycleStartDate:S})=>{const[C,P]=m.useState(!1);m.useEffect(()=>{N&&O&&(e(O.timestamp?le(O.timestamp):le(O.isoDate)),r(O.timestamp?pe(le(O.timestamp),"HH:mm"):""),o(O.temperature_raw??""),a(O.temperature_corrected??""),c(O.use_corrected??!1),f(O.mucus_sensation??""),g(O.mucus_appearance??""),w(O.fertility_symbol??"none"),v(O.observations??""),E(O.ignored??!1))},[N,O]);const A=De(le(S)),M=[{before:A},{after:Lt(A,45)}];return p.jsxs(p.Fragment,{children:[p.jsxs("div",{className:"space-y-2",children:[p.jsxs(kn,{htmlFor:"date",className:"flex items-center text-gray-700 text-lg",children:[p.jsx(QT,{className:"mr-2 h-5 w-5 text-pink-400"}),"Fecha del Registro"]}),p.jsxs(JJ,{open:C,onOpenChange:P,children:[p.jsx(ZJ,{asChild:!0,children:p.jsxs(Te,{variant:"outline",className:Ne("w-full justify-start text-left font-normal bg-gray-50 border-gray-200 text-gray-800 hover:bg-gray-100 hover:text-gray-800",!t&&"text-muted-foreground"),disabled:I,children:[p.jsx(QT,{className:"mr-2 h-4 w-4"}),t?pe(t,"PPP",{locale:to}):p.jsx("span",{children:"Selecciona una fecha"})]})}),p.jsx(ID,{className:"w-auto p-0 bg-gray-50 border-gray-200 text-gray-800",align:"start",children:p.jsx(_N,{mode:"single",selected:t,onSelect:D=>{e(De(D||new Date)),P(!1)},initialFocus:!0,locale:to,disabled:I?()=>!0:M,className:"[&_button]:text-gray-800 [&_button:hover]:bg-gray-100 [&_button[aria-selected=true]]:bg-pink-500"})})]})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsxs(kn,{htmlFor:"temperatureRaw",className:"flex items-center text-gray-700 text-lg",children:[p.jsx(cH,{className:"mr-2 h-5 w-5 text-rose-400"}),N?"Temperatura Original (°C)":"Temperatura Basal (°C)"," ",p.jsx("span",{className:"text-sm text-gray-700 ml-1",children:"(Opcional)"})]}),p.jsx(Lr,{id:"temperatureRaw",type:"number",step:"0.01",min:"34.0",max:"40.0",value:i,onChange:D=>o(D.target.value),placeholder:"Ej: 36.50",className:"bg-gray-50 border-gray-200 text-gray-800 placeholder-gray-400 focus:ring-pink-500 focus:border-pink-500 text-base",disabled:I||N&&(O==null?void 0:O.temperature_raw)!==null&&(O==null?void 0:O.temperature_raw)!==void 0,readOnly:N&&(O==null?void 0:O.temperature_raw)!==null&&(O==null?void 0:O.temperature_raw)!==void 0}),p.jsxs("div",{className:"space-y-2",children:[p.jsxs(kn,{htmlFor:"time",className:"flex items-center text-gray-700 text-lg",children:[p.jsx(Qz,{className:"mr-2 h-5 w-5 text-rose-400"}),"Hora de la Temperatura ",p.jsx("span",{className:"text-sm text-gray-700 ml-1",children:"(Opcional)"})]}),p.jsx(Lr,{id:"time",type:"time",value:n,onChange:D=>r(D.target.value),className:"bg-gray-50 border-gray-200 text-gray-800 placeholder-gray-400 focus:ring-pink-500 focus:border-pink-500 text-base",disabled:I})]})]}),N&&p.jsxs("div",{children:[p.jsxs("div",{className:"space-y-3 p-4 border border-gray-200 rounded-md bg-gray-50",children:[p.jsxs(kn,{htmlFor:"temperatureCorrected",className:"flex items-center text-gray-700 text-md",children:[p.jsx(ky,{className:"mr-2 h-4 w-4 text-amber-400"}),"Temperatura Corregida (°C) ",p.jsx("span",{className:"text-sm text-gray-500 ml-1",children:"(Opcional)"})]}),p.jsx("div",{className:"flex items-center space-x-2"}),p.jsx(Lr,{id:"temperatureCorrected",type:"number",step:"0.01",min:"34.0",max:"40.0",value:s,onChange:D=>{a(D.target.value),D.target.value!==""&&c(!0)},placeholder:"Ej: 36.65",className:"bg-gray-50 border-gray-200 text-gray-800 placeholder-gray-400 focus:ring-pink-500 focus:border-pink-500 text-base",disabled:I}),p.jsx("button",{type:"button",onClick:()=>{a(""),c(!1)},className:"absolute right-2 transform -translate-y-20 text-rose-400  hover:text-rose-400",title:"Eliminar corrección",children:"X"})]}),p.jsxs("div",{className:"flex items-center space-x-2 mt-2",children:[p.jsx(uN,{id:"useCorrected",checked:l,onCheckedChange:c,className:"data-[state=checked]:bg-pink-500 data-[state=checked]:text-white border-gray-500",disabled:I||s===""}),p.jsx(kn,{htmlFor:"useCorrected",className:"text-sm text-gray-500",children:"Usar corrección en la gráfica"})]}),p.jsxs(Te,{type:"button",variant:y?"outline":"destructive",size:"sm",onClick:()=>E(!y),className:"mt-2 hover:bg-rose-200/20",disabled:I,children:[y?p.jsx(Ya,{className:"mr-1 h-4 w-4"}):p.jsx(Sp,{className:"mr-1 h-4 w-4"}),y?"Restaurar":"Despreciar"]})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsxs(kn,{htmlFor:"fertilitySymbol",className:"flex items-center text-gray-700 text-lg",children:[p.jsx(sH,{className:"mr-2 h-5 w-5 text-teal-400"}),"Símbolo de Fertilidad"]}),p.jsxs(Fee,{value:x,onValueChange:w,disabled:I,children:[p.jsx(tM,{className:"w-full bg-gray-50 border-gray-200 text-gray-800 hover:bg-gray-100 hover:text-gray-800",children:p.jsx($ee,{placeholder:"Selecciona un símbolo"})}),p.jsx(nM,{className:"bg-gray-50 border-gray-200 text-gray-800",children:eN.map(D=>p.jsx(rM,{value:D.value,className:"hover:bg-gray-100 focus:bg-gray-100",children:p.jsxs("div",{className:"flex items-center",children:[p.jsx("span",{className:`w-4 h-4 rounded-full mr-2 ${D.color} ${D.pattern?"pattern-bg":""}`}),D.label]})},D.value))})]})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsxs(kn,{htmlFor:"mucusSensation",className:"flex items-center text-gray-700 text-lg",children:[p.jsx(Xz,{className:"mr-2 h-5 w-5 text-sky-400"}),"Sensación del Moco Cervical"]}),p.jsx(pf,{id:"mucusSensation",value:u,onChange:D=>f(D.target.value),placeholder:"Describe la sensación (ej: Seca, Húmeda, Mojada)",className:"bg-gray-50 border-gray-200 text-gray-800 placeholder-gray-400 focus:ring-pink-500 focus:border-pink-500 text-base min-h-[80px]",disabled:I})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsxs(kn,{htmlFor:"mucusAppearance",className:"flex items-center text-gray-700 text-lg",children:[p.jsx(Ya,{className:"mr-2 h-5 w-5 text-amber-400"}),"Apariencia del Moco Cervical"]}),p.jsx(pf,{id:"mucusAppearance",value:h,onChange:D=>g(D.target.value),placeholder:"Describe la apariencia (ej: Pegajoso, Elástico)",className:"bg-gray-50 border-gray-200 text-gray-800 placeholder-gray-400 focus:ring-pink-500 focus:border-pink-500 text-base min-h-[80px]",disabled:I})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsxs(kn,{htmlFor:"observations",className:"flex items-center text-gray-700 text-lg",children:[p.jsx(qz,{className:"mr-2 h-5 w-5 text-indigo-400"}),"Observaciones Adicionales"]}),p.jsx(pf,{id:"observations",value:b,onChange:D=>v(D.target.value),placeholder:"Anota cualquier otra observación relevante (ej: Dolor, medicación)",className:"bg-gray-50 border-gray-200 text-gray-800 placeholder-gray-400 focus:ring-pink-500 focus:border-pink-500 text-base min-h-[80px]",disabled:I})]})]})},zee=({onCancel:t,isProcessing:e,isEditing:n})=>p.jsxs("div",{className:"flex space-x-4 pt-4",children:[t&&p.jsxs(Te,{type:"button",onClick:t,variant:"outline",className:"w-full border-gray-300 text-gray-700 hover:bg-gray-100 font-semibold py-3 text-lg",disabled:e,children:[p.jsx(au,{className:"mr-2 h-5 w-5"}),"Cancelar"]}),p.jsxs(Te,{type:"submit",className:"w-full bg-gradient-to-r from-pink-500 to-fuchsia-600 hover:from-pink-600 hover:to-fuchsia-700 text-white font-semibold py-3 text-lg shadow-md hover:shadow-lg transition-all duration-300 transform hover:scale-102",disabled:e,children:[e?p.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white mr-2"}):p.jsx(lH,{className:"mr-2 h-5 w-5"}),n?"Actualizar Registro":"Guardar"]})]}),Hee=(t,e,n,r)=>{const[i,o]=m.useState(e!=null&&e.isoDate?le(e.isoDate):De(new Date)),[s,a]=m.useState((e==null?void 0:e.temperature_raw)===null||(e==null?void 0:e.temperature_raw)===void 0?"":String(e.temperature_raw)),[l,c]=m.useState(e!=null&&e.timestamp?pe(le(e.timestamp),"HH:mm"):pe(new Date,"HH:mm")),[u,f]=m.useState((e==null?void 0:e.temperature_corrected)===null||(e==null?void 0:e.temperature_corrected)===void 0?"":String(e.temperature_corrected)),[h,g]=m.useState((e==null?void 0:e.use_corrected)||!1),[x,w]=m.useState((e==null?void 0:e.mucusSensation)||""),[b,v]=m.useState((e==null?void 0:e.mucusAppearance)||""),[y,E]=m.useState((e==null?void 0:e.fertility_symbol)||ma.NONE.value),[I,N]=m.useState((e==null?void 0:e.observations)||""),[O,S]=m.useState((e==null?void 0:e.ignored)||!1),{toast:C}=vl();return m.useEffect(()=>{e?(o(le(e.isoDate)),a(e.temperature_raw===null||e.temperature_raw===void 0?"":String(e.temperature_raw)),c(e.timestamp?pe(le(e.timestamp),"HH:mm"):""),f(e.temperature_corrected===null||e.temperature_corrected===void 0?"":String(e.temperature_corrected)),g(e.use_corrected||!1),w(e.mucusSensation||""),v(e.mucusAppearance||""),E(e.fertility_symbol||ma.NONE.value),N(e.observations||""),S(e.ignored||!1)):(o(De(new Date)),a(""),c(pe(new Date,"HH:mm")),f(""),g(!1),w(""),v(""),E(ma.NONE.value),N(""),S(!1))},[e]),{date:i,setDate:o,temperatureRaw:s,setTemperatureRaw:a,time:l,setTime:c,temperatureCorrected:u,setTemperatureCorrected:f,useCorrected:h,setUseCorrected:g,mucusSensation:x,setMucusSensation:w,mucusAppearance:b,setMucusAppearance:v,fertilitySymbol:y,setFertilitySymbol:E,observations:I,setObservations:N,ignored:O,setIgnored:S,handleSubmit:A=>{if(A.preventDefault(),!i){C({title:"Error",description:"La fecha es obligatoria.",variant:"destructive"});return}const M=pe(i,"yyyy-MM-dd");t({isoDate:M,time:l,temperature_raw:s===""?null:parseFloat(s),temperature_corrected:u===""?null:parseFloat(u),use_corrected:h,mucusSensation:x,mucusAppearance:b,fertility_symbol:y,observations:I,ignored:O}),n||(o(De(new Date)),a(""),c(pe(new Date,"HH:mm")),f(""),g(!1),w(""),v(""),E(ma.NONE.value),N(""))}}},iM=({onSubmit:t,initialData:e,onCancel:n,cycleStartDate:r,isProcessing:i,isEditing:o=!1})=>{const s=m.useRef(null);m.useEffect(()=>{const D=s.current;if(!D)return;const R=B=>{B.target&&"scrollIntoView"in B.target&&setTimeout(()=>{B.target.scrollIntoView({behavior:"smooth",block:"center"})},50)};return D.addEventListener("focusin",R),()=>D.removeEventListener("focusin",R)},[]);const{date:a,setDate:l,time:c,setTime:u,temperatureRaw:f,setTemperatureRaw:h,temperatureCorrected:g,setTemperatureCorrected:x,useCorrected:w,setUseCorrected:b,mucusSensation:v,setMucusSensation:y,mucusAppearance:E,setMucusAppearance:I,fertilitySymbol:N,setFertilitySymbol:O,observations:S,setObservations:C,ignored:P,setIgnored:A,handleSubmit:M}=Hee(t,e,o);return p.jsxs(be.form,{ref:s,onSubmit:M,className:"space-y-6 bg-white p-4 sm:p-6 rounded-xl border border-[#FFB1DD]/50 shadow w-full",initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5},children:[p.jsxs("div",{className:"flex justify-between items-center mb-6",children:[p.jsx("h2",{className:"text-2xl font-semibold text-[#292a46]",children:o?"Editar Registro":"Añadir Registro"}),n&&p.jsx(Te,{type:"button",onClick:n,variant:"ghost",size:"icon",className:"text-gray-700 hover:text-pink-500 hover:bg-pink-50",children:p.jsx(au,{className:"h-6 w-6"})})]}),p.jsx(Wee,{date:a,setDate:l,time:c,setTime:u,temperatureRaw:f,setTemperatureRaw:h,temperatureCorrected:g,setTemperatureCorrected:x,useCorrected:w,setUseCorrected:b,mucusSensation:v,setMucusSensation:y,mucusAppearance:E,setMucusAppearance:I,fertilitySymbol:N,setFertilitySymbol:O,observations:S,setObservations:C,ignored:P,setIgnored:A,isProcessing:i,isEditing:o,initialData:e,cycleStartDate:r}),p.jsx(zee,{onCancel:n,isProcessing:i,isEditing:o})]})};var qee=m.createContext(void 0);function Gee(t){const e=m.useContext(qee);return t||e||"ltr"}function Yee(t,[e,n]){return Math.min(n,Math.max(e,t))}function Kee(t,e){return m.useReducer((n,r)=>e[n][r]??n,t)}var W1="ScrollArea",[oM,Tne]=Ds(W1),[Qee,Jn]=oM(W1),sM=m.forwardRef((t,e)=>{const{__scopeScrollArea:n,type:r="hover",dir:i,scrollHideDelay:o=600,...s}=t,[a,l]=m.useState(null),[c,u]=m.useState(null),[f,h]=m.useState(null),[g,x]=m.useState(null),[w,b]=m.useState(null),[v,y]=m.useState(0),[E,I]=m.useState(0),[N,O]=m.useState(!1),[S,C]=m.useState(!1),P=lt(e,M=>l(M)),A=Gee(i);return p.jsx(Qee,{scope:n,type:r,dir:A,scrollHideDelay:o,scrollArea:a,viewport:c,onViewportChange:u,content:f,onContentChange:h,scrollbarX:g,onScrollbarXChange:x,scrollbarXEnabled:N,onScrollbarXEnabledChange:O,scrollbarY:w,onScrollbarYChange:b,scrollbarYEnabled:S,onScrollbarYEnabledChange:C,onCornerWidthChange:y,onCornerHeightChange:I,children:p.jsx(ze.div,{dir:A,...s,ref:P,style:{position:"relative","--radix-scroll-area-corner-width":v+"px","--radix-scroll-area-corner-height":E+"px",...t.style}})})});sM.displayName=W1;var aM="ScrollAreaViewport",lM=m.forwardRef((t,e)=>{const{__scopeScrollArea:n,children:r,nonce:i,...o}=t,s=Jn(aM,n),a=m.useRef(null),l=lt(e,a,s.onViewportChange);return p.jsxs(p.Fragment,{children:[p.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:i}),p.jsx(ze.div,{"data-radix-scroll-area-viewport":"",...o,ref:l,style:{overflowX:s.scrollbarXEnabled?"scroll":"hidden",overflowY:s.scrollbarYEnabled?"scroll":"hidden",...t.style},children:p.jsx("div",{ref:s.onContentChange,style:{minWidth:"100%",display:"table"},children:r})})]})});lM.displayName=aM;var qr="ScrollAreaScrollbar",z1=m.forwardRef((t,e)=>{const{forceMount:n,...r}=t,i=Jn(qr,t.__scopeScrollArea),{onScrollbarXEnabledChange:o,onScrollbarYEnabledChange:s}=i,a=t.orientation==="horizontal";return m.useEffect(()=>(a?o(!0):s(!0),()=>{a?o(!1):s(!1)}),[a,o,s]),i.type==="hover"?p.jsx(Xee,{...r,ref:e,forceMount:n}):i.type==="scroll"?p.jsx(Jee,{...r,ref:e,forceMount:n}):i.type==="auto"?p.jsx(cM,{...r,ref:e,forceMount:n}):i.type==="always"?p.jsx(H1,{...r,ref:e}):null});z1.displayName=qr;var Xee=m.forwardRef((t,e)=>{const{forceMount:n,...r}=t,i=Jn(qr,t.__scopeScrollArea),[o,s]=m.useState(!1);return m.useEffect(()=>{const a=i.scrollArea;let l=0;if(a){const c=()=>{window.clearTimeout(l),s(!0)},u=()=>{l=window.setTimeout(()=>s(!1),i.scrollHideDelay)};return a.addEventListener("pointerenter",c),a.addEventListener("pointerleave",u),()=>{window.clearTimeout(l),a.removeEventListener("pointerenter",c),a.removeEventListener("pointerleave",u)}}},[i.scrollArea,i.scrollHideDelay]),p.jsx(Xn,{present:n||o,children:p.jsx(cM,{"data-state":o?"visible":"hidden",...r,ref:e})})}),Jee=m.forwardRef((t,e)=>{const{forceMount:n,...r}=t,i=Jn(qr,t.__scopeScrollArea),o=t.orientation==="horizontal",s=Bp(()=>l("SCROLL_END"),100),[a,l]=Kee("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return m.useEffect(()=>{if(a==="idle"){const c=window.setTimeout(()=>l("HIDE"),i.scrollHideDelay);return()=>window.clearTimeout(c)}},[a,i.scrollHideDelay,l]),m.useEffect(()=>{const c=i.viewport,u=o?"scrollLeft":"scrollTop";if(c){let f=c[u];const h=()=>{const g=c[u];f!==g&&(l("SCROLL"),s()),f=g};return c.addEventListener("scroll",h),()=>c.removeEventListener("scroll",h)}},[i.viewport,o,l,s]),p.jsx(Xn,{present:n||a!=="hidden",children:p.jsx(H1,{"data-state":a==="hidden"?"hidden":"visible",...r,ref:e,onPointerEnter:Ue(t.onPointerEnter,()=>l("POINTER_ENTER")),onPointerLeave:Ue(t.onPointerLeave,()=>l("POINTER_LEAVE"))})})}),cM=m.forwardRef((t,e)=>{const n=Jn(qr,t.__scopeScrollArea),{forceMount:r,...i}=t,[o,s]=m.useState(!1),a=t.orientation==="horizontal",l=Bp(()=>{if(n.viewport){const c=n.viewport.offsetWidth<n.viewport.scrollWidth,u=n.viewport.offsetHeight<n.viewport.scrollHeight;s(a?c:u)}},10);return el(n.viewport,l),el(n.content,l),p.jsx(Xn,{present:r||o,children:p.jsx(H1,{"data-state":o?"visible":"hidden",...i,ref:e})})}),H1=m.forwardRef((t,e)=>{const{orientation:n="vertical",...r}=t,i=Jn(qr,t.__scopeScrollArea),o=m.useRef(null),s=m.useRef(0),[a,l]=m.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),c=pM(a.viewport,a.content),u={...r,sizes:a,onSizesChange:l,hasThumb:c>0&&c<1,onThumbChange:h=>o.current=h,onThumbPointerUp:()=>s.current=0,onThumbPointerDown:h=>s.current=h};function f(h,g){return ite(h,s.current,a,g)}return n==="horizontal"?p.jsx(Zee,{...u,ref:e,onThumbPositionChange:()=>{if(i.viewport&&o.current){const h=i.viewport.scrollLeft,g=JC(h,a,i.dir);o.current.style.transform=`translate3d(${g}px, 0, 0)`}},onWheelScroll:h=>{i.viewport&&(i.viewport.scrollLeft=h)},onDragScroll:h=>{i.viewport&&(i.viewport.scrollLeft=f(h,i.dir))}}):n==="vertical"?p.jsx(ete,{...u,ref:e,onThumbPositionChange:()=>{if(i.viewport&&o.current){const h=i.viewport.scrollTop,g=JC(h,a);o.current.style.transform=`translate3d(0, ${g}px, 0)`}},onWheelScroll:h=>{i.viewport&&(i.viewport.scrollTop=h)},onDragScroll:h=>{i.viewport&&(i.viewport.scrollTop=f(h))}}):null}),Zee=m.forwardRef((t,e)=>{const{sizes:n,onSizesChange:r,...i}=t,o=Jn(qr,t.__scopeScrollArea),[s,a]=m.useState(),l=m.useRef(null),c=lt(e,l,o.onScrollbarXChange);return m.useEffect(()=>{l.current&&a(getComputedStyle(l.current))},[l]),p.jsx(dM,{"data-orientation":"horizontal",...i,ref:c,sizes:n,style:{bottom:0,left:o.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:o.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":Up(n)+"px",...t.style},onThumbPointerDown:u=>t.onThumbPointerDown(u.x),onDragScroll:u=>t.onDragScroll(u.x),onWheelScroll:(u,f)=>{if(o.viewport){const h=o.viewport.scrollLeft+u.deltaX;t.onWheelScroll(h),gM(h,f)&&u.preventDefault()}},onResize:()=>{l.current&&o.viewport&&s&&r({content:o.viewport.scrollWidth,viewport:o.viewport.offsetWidth,scrollbar:{size:l.current.clientWidth,paddingStart:kh(s.paddingLeft),paddingEnd:kh(s.paddingRight)}})}})}),ete=m.forwardRef((t,e)=>{const{sizes:n,onSizesChange:r,...i}=t,o=Jn(qr,t.__scopeScrollArea),[s,a]=m.useState(),l=m.useRef(null),c=lt(e,l,o.onScrollbarYChange);return m.useEffect(()=>{l.current&&a(getComputedStyle(l.current))},[l]),p.jsx(dM,{"data-orientation":"vertical",...i,ref:c,sizes:n,style:{top:0,right:o.dir==="ltr"?0:void 0,left:o.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":Up(n)+"px",...t.style},onThumbPointerDown:u=>t.onThumbPointerDown(u.y),onDragScroll:u=>t.onDragScroll(u.y),onWheelScroll:(u,f)=>{if(o.viewport){const h=o.viewport.scrollTop+u.deltaY;t.onWheelScroll(h),gM(h,f)&&u.preventDefault()}},onResize:()=>{l.current&&o.viewport&&s&&r({content:o.viewport.scrollHeight,viewport:o.viewport.offsetHeight,scrollbar:{size:l.current.clientHeight,paddingStart:kh(s.paddingTop),paddingEnd:kh(s.paddingBottom)}})}})}),[tte,uM]=oM(qr),dM=m.forwardRef((t,e)=>{const{__scopeScrollArea:n,sizes:r,hasThumb:i,onThumbChange:o,onThumbPointerUp:s,onThumbPointerDown:a,onThumbPositionChange:l,onDragScroll:c,onWheelScroll:u,onResize:f,...h}=t,g=Jn(qr,n),[x,w]=m.useState(null),b=lt(e,P=>w(P)),v=m.useRef(null),y=m.useRef(""),E=g.viewport,I=r.content-r.viewport,N=Bt(u),O=Bt(l),S=Bp(f,10);function C(P){if(v.current){const A=P.clientX-v.current.left,M=P.clientY-v.current.top;c({x:A,y:M})}}return m.useEffect(()=>{const P=A=>{const M=A.target;(x==null?void 0:x.contains(M))&&N(A,I)};return document.addEventListener("wheel",P,{passive:!1}),()=>document.removeEventListener("wheel",P,{passive:!1})},[E,x,I,N]),m.useEffect(O,[r,O]),el(x,S),el(g.content,S),p.jsx(tte,{scope:n,scrollbar:x,hasThumb:i,onThumbChange:Bt(o),onThumbPointerUp:Bt(s),onThumbPositionChange:O,onThumbPointerDown:Bt(a),children:p.jsx(ze.div,{...h,ref:b,style:{position:"absolute",...h.style},onPointerDown:Ue(t.onPointerDown,P=>{P.button===0&&(P.target.setPointerCapture(P.pointerId),v.current=x.getBoundingClientRect(),y.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",g.viewport&&(g.viewport.style.scrollBehavior="auto"),C(P))}),onPointerMove:Ue(t.onPointerMove,C),onPointerUp:Ue(t.onPointerUp,P=>{const A=P.target;A.hasPointerCapture(P.pointerId)&&A.releasePointerCapture(P.pointerId),document.body.style.webkitUserSelect=y.current,g.viewport&&(g.viewport.style.scrollBehavior=""),v.current=null})})})}),Ah="ScrollAreaThumb",fM=m.forwardRef((t,e)=>{const{forceMount:n,...r}=t,i=uM(Ah,t.__scopeScrollArea);return p.jsx(Xn,{present:n||i.hasThumb,children:p.jsx(nte,{ref:e,...r})})}),nte=m.forwardRef((t,e)=>{const{__scopeScrollArea:n,style:r,...i}=t,o=Jn(Ah,n),s=uM(Ah,n),{onThumbPositionChange:a}=s,l=lt(e,f=>s.onThumbChange(f)),c=m.useRef(void 0),u=Bp(()=>{c.current&&(c.current(),c.current=void 0)},100);return m.useEffect(()=>{const f=o.viewport;if(f){const h=()=>{if(u(),!c.current){const g=ote(f,a);c.current=g,a()}};return a(),f.addEventListener("scroll",h),()=>f.removeEventListener("scroll",h)}},[o.viewport,u,a]),p.jsx(ze.div,{"data-state":s.hasThumb?"visible":"hidden",...i,ref:l,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...r},onPointerDownCapture:Ue(t.onPointerDownCapture,f=>{const g=f.target.getBoundingClientRect(),x=f.clientX-g.left,w=f.clientY-g.top;s.onThumbPointerDown({x,y:w})}),onPointerUp:Ue(t.onPointerUp,s.onThumbPointerUp)})});fM.displayName=Ah;var q1="ScrollAreaCorner",hM=m.forwardRef((t,e)=>{const n=Jn(q1,t.__scopeScrollArea),r=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&r?p.jsx(rte,{...t,ref:e}):null});hM.displayName=q1;var rte=m.forwardRef((t,e)=>{const{__scopeScrollArea:n,...r}=t,i=Jn(q1,n),[o,s]=m.useState(0),[a,l]=m.useState(0),c=!!(o&&a);return el(i.scrollbarX,()=>{var f;const u=((f=i.scrollbarX)==null?void 0:f.offsetHeight)||0;i.onCornerHeightChange(u),l(u)}),el(i.scrollbarY,()=>{var f;const u=((f=i.scrollbarY)==null?void 0:f.offsetWidth)||0;i.onCornerWidthChange(u),s(u)}),c?p.jsx(ze.div,{...r,ref:e,style:{width:o,height:a,position:"absolute",right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:0,...t.style}}):null});function kh(t){return t?parseInt(t,10):0}function pM(t,e){const n=t/e;return isNaN(n)?0:n}function Up(t){const e=pM(t.viewport,t.content),n=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,r=(t.scrollbar.size-n)*e;return Math.max(r,18)}function ite(t,e,n,r="ltr"){const i=Up(n),o=i/2,s=e||o,a=i-s,l=n.scrollbar.paddingStart+s,c=n.scrollbar.size-n.scrollbar.paddingEnd-a,u=n.content-n.viewport,f=r==="ltr"?[0,u]:[u*-1,0];return mM([l,c],f)(t)}function JC(t,e,n="ltr"){const r=Up(e),i=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,o=e.scrollbar.size-i,s=e.content-e.viewport,a=o-r,l=n==="ltr"?[0,s]:[s*-1,0],c=Yee(t,l);return mM([0,s],[0,a])(c)}function mM(t,e){return n=>{if(t[0]===t[1]||e[0]===e[1])return e[0];const r=(e[1]-e[0])/(t[1]-t[0]);return e[0]+r*(n-t[0])}}function gM(t,e){return t>0&&t<e}var ote=(t,e=()=>{})=>{let n={left:t.scrollLeft,top:t.scrollTop},r=0;return function i(){const o={left:t.scrollLeft,top:t.scrollTop},s=n.left!==o.left,a=n.top!==o.top;(s||a)&&e(),n=o,r=window.requestAnimationFrame(i)}(),()=>window.cancelAnimationFrame(r)};function Bp(t,e){const n=Bt(t),r=m.useRef(0);return m.useEffect(()=>()=>window.clearTimeout(r.current),[]),m.useCallback(()=>{window.clearTimeout(r.current),r.current=window.setTimeout(n,e)},[n,e])}function el(t,e){const n=Bt(e);Br(()=>{let r=0;if(t){const i=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(n)});return i.observe(t),()=>{window.cancelAnimationFrame(r),i.unobserve(t)}}},[t,n])}var vM=sM,ste=lM,ate=hM;const yM=xe.forwardRef(({className:t,children:e,...n},r)=>p.jsxs(vM,{ref:r,className:Ne("relative overflow-hidden",t),...n,children:[p.jsx(ste,{className:"h-full w-full rounded-[inherit]",children:e}),p.jsx(wM,{}),p.jsx(ate,{})]}));yM.displayName=vM.displayName;const wM=xe.forwardRef(({className:t,orientation:e="vertical",...n},r)=>p.jsx(z1,{ref:r,orientation:e,className:Ne("flex touch-none select-none transition-colors",e==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",e==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",t),...n,children:p.jsx(fM,{className:"relative flex-1 rounded-full bg-border"})}));wM.displayName=z1.displayName;const xM=({records:t,onEdit:e,onDelete:n,onClose:r,isArchiveView:i=!1,isProcessing:o})=>{if(!t||t.length===0)return p.jsxs(be.div,{className:"text-center text-[#6B7280] p-8 bg-white rounded-xl shadow",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},children:[p.jsx("p",{className:"text-xl mb-4",children:"No hay registros para mostrar."}),r&&!i&&p.jsxs(Te,{onClick:r,variant:"outline",className:"border-gray-300 hover:bg-gray-100 text-gray-700",children:[p.jsx(au,{className:"mr-2 h-5 w-5"}),"Cerrar"]})]});const s=[...t].sort((a,l)=>{const c=a.timestamp?le(a.timestamp):a.isoDate?le(a.isoDate):0,u=l.timestamp?le(l.timestamp):l.isoDate?le(l.isoDate):0;return c-u});return p.jsxs(be.div,{className:"w-full bg-white/70 backdrop-blur-md p-4 sm:p-6 rounded-xl ring-1 ring-[#FFB1DD]/20 shadow-xl",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},children:[p.jsxs("div",{className:"flex justify-between items-center mb-6",children:[p.jsx("h2",{className:"text-2xl font-semibold text-gray-800",children:i?"Registros del Ciclo":"Mis Registros"}),r&&!i&&p.jsx(Te,{onClick:r,variant:"ghost",size:"icon",className:"text-gray-700 hover:text-pink-500 hover:bg-pink-50",children:p.jsx(au,{className:"h-6 w-6"})})]}),p.jsx(yM,{className:"pr-4",children:p.jsx("ul",{className:"space-y-4",children:s.map(a=>{const l=g1(a.fertility_symbol),c=a.timestamp||a.isoDate,u=a.timestamp?pe(le(a.timestamp),"HH:mm"):null;return p.jsxs(be.li,{className:"bg-white/80 backdrop-blur-md ring-1 ring-[#FFB1DD]/50 border border-[#FFB1DD]/80 shadow-lg rounded-lg p-4 flex flex-col sm:flex-row justify-between items-start sm:items-center hover:shadow-xl transition-shadow duration-300",style:{boxShadow:"0 2px 6px rgba(0,0,0,0.05)"},layout:!0,initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,x:-20},transition:{duration:.2},children:[p.jsxs("div",{className:"flex-grow mb-3 sm:mb-0",children:[p.jsxs("h3",{className:"text-lg font-semibold text-pink-500 mb-1 ",children:[c?pe(le(c),"dd/MM/yyyy",{locale:to}):"Fecha no disponible"," (Día ",a.cycleDay||"N/A",")"]}),a.temperature_raw!=null&&p.jsxs("p",{className:"text-sm text-[#6B7280]",children:[p.jsx("span",{className:"font-semibold",children:"Original:"})," ",a.temperature_raw.toFixed(2),"°C",u&&p.jsx("span",{className:"ml-2 text-xs text-[#9CA3AF]",children:u}),a.temperature_corrected!=null&&!a.use_corrected&&p.jsx(wh,{className:"inline h-4 w-4 text-[#E27DBF] ml-1"})]}),a.temperature_corrected!=null&&p.jsxs("p",{className:"text-sm text-[#6B7280]",children:[p.jsx("span",{className:"font-semibold",children:"Corregida:"})," ",a.temperature_corrected.toFixed(2),"°C",a.use_corrected&&p.jsx(wh,{className:"inline h-4 w-4 text-emerald-400 ml-1"})]}),p.jsxs("div",{className:"flex items-center mt-1",children:[l&&l.value!=="none"&&p.jsx("span",{className:`w-4 h-4 rounded-full mr-2 ${l.color} ${l.pattern?"pattern-bg":""} ${l.value==="white"?"border border-gray-300":""}`}),p.jsx("p",{className:`text-sm ${l?l.textColor:"text-[#6B7280]"}`,children:l?l.label:"Sin Símbolo"})]}),p.jsxs("p",{className:"text-sm text-[#6B7280] mt-1",children:[p.jsx("span",{className:"font-semibold",children:"Sensación:"})," ",a.mucus_sensation||"N/A"]}),p.jsxs("p",{className:"text-sm text-[#6B7280]",children:[p.jsx("span",{className:"font-semibold",children:"Apariencia:"})," ",a.mucus_appearance||"N/A"]}),a.observations&&p.jsxs("p",{className:"text-sm text-[#6B7280] mt-1 italic",children:[p.jsx("span",{className:"font-semibold",children:"Observaciones:"})," ",a.observations]}),a.ignored&&p.jsx("p",{className:"text-xs text-rose-400 mt-1",children:"(Registro despreciado)"})]}),!i&&e&&n&&p.jsxs("div",{className:"flex space-x-2 self-end sm:self-center",children:[p.jsxs(Te,{variant:"outline",size:"sm",onClick:()=>e(a),className:"border-sky-500 text-sky-400 hover:bg-sky-500/20 hover:text-sky-300",disabled:o,children:[p.jsx(Ay,{className:"mr-1 h-4 w-4"})," Editar"]}),p.jsxs(Te,{variant:"destructive",size:"sm",onClick:()=>n(a.id),className:"bg-rose-600 hover:bg-rose-700",disabled:o,children:[p.jsx(JT,{className:"mr-1 h-4 w-4"})," Eliminar"]})]}),i&&e&&n&&p.jsxs("div",{className:"flex space-x-2 self-end sm:self-center",children:[p.jsxs(Te,{variant:"outline",size:"sm",onClick:()=>e(a),className:"border-sky-500 text-sky-400 hover:bg-sky-500/20 hover:text-sky-300",disabled:o,children:[p.jsx(Ay,{className:"mr-1 h-4 w-4"})," Editar"]}),p.jsxs(Te,{variant:"destructive",size:"sm",onClick:()=>n(a.id),className:"bg-rose-600 hover:bg-rose-700",disabled:o,children:[p.jsx(JT,{className:"mr-1 h-4 w-4"})," Eliminar"]})]})]},a.id||c)})})})]})},lte=()=>p.jsxs(be.div,{className:"text-center text-slate-400 py-10",initial:{opacity:0},animate:{opacity:1},transition:{duration:.5,delay:.6},children:[p.jsx("p",{className:"text-xl mb-4",children:"Aún no hay datos registrados."}),p.jsx("p",{children:"Inicia un nuevo ciclo o añade un registro para comenzar."}),p.jsx("div",{className:"mt-8"})]});function Ts(t,e){m.useEffect(()=>{if(!t)return;const n=crypto.randomUUID?crypto.randomUUID():Math.random().toString(36).slice(2),r=i=>{i.state&&i.state.overlay===n&&e()};return window.history.pushState({overlay:n},""),window.addEventListener("popstate",r),()=>{window.removeEventListener("popstate",r),window.history.state&&window.history.state.overlay===n&&window.history.back()}},[t,e])}var Wp="Dialog",[_M,Cne]=Ds(Wp),[cte,vr]=_M(Wp),EM=t=>{const{__scopeDialog:e,children:n,open:r,defaultOpen:i,onOpenChange:o,modal:s=!0}=t,a=m.useRef(null),l=m.useRef(null),[c,u]=Pp({prop:r,defaultProp:i??!1,onChange:o,caller:Wp});return p.jsx(cte,{scope:e,triggerRef:a,contentRef:l,contentId:gf(),titleId:gf(),descriptionId:gf(),open:c,onOpenChange:u,onOpenToggle:m.useCallback(()=>u(f=>!f),[u]),modal:s,children:n})};EM.displayName=Wp;var bM="DialogTrigger",TM=m.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=vr(bM,n),o=lt(e,i.triggerRef);return p.jsx(ze.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":K1(i.open),...r,ref:o,onClick:Ue(t.onClick,i.onOpenToggle)})});TM.displayName=bM;var G1="DialogPortal",[ute,CM]=_M(G1,{forceMount:void 0}),SM=t=>{const{__scopeDialog:e,forceMount:n,children:r,container:i}=t,o=vr(G1,e);return p.jsx(ute,{scope:e,forceMount:n,children:m.Children.map(r,s=>p.jsx(Xn,{present:n||o.open,children:p.jsx(Mp,{asChild:!0,container:i,children:s})}))})};SM.displayName=G1;var Rh="DialogOverlay",PM=m.forwardRef((t,e)=>{const n=CM(Rh,t.__scopeDialog),{forceMount:r=n.forceMount,...i}=t,o=vr(Rh,t.__scopeDialog);return o.modal?p.jsx(Xn,{present:r||o.open,children:p.jsx(fte,{...i,ref:e})}):null});PM.displayName=Rh;var dte=Ha("DialogOverlay.RemoveScroll"),fte=m.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=vr(Rh,n);return p.jsx(gD,{as:dte,allowPinchZoom:!0,shards:[i.contentRef],children:p.jsx(ze.div,{"data-state":K1(i.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),Cs="DialogContent",IM=m.forwardRef((t,e)=>{const n=CM(Cs,t.__scopeDialog),{forceMount:r=n.forceMount,...i}=t,o=vr(Cs,t.__scopeDialog);return p.jsx(Xn,{present:r||o.open,children:o.modal?p.jsx(hte,{...i,ref:e}):p.jsx(pte,{...i,ref:e})})});IM.displayName=Cs;var hte=m.forwardRef((t,e)=>{const n=vr(Cs,t.__scopeDialog),r=m.useRef(null),i=lt(e,n.contentRef,r);return m.useEffect(()=>{const o=r.current;if(o)return L1(o)},[]),p.jsx(AM,{...t,ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Ue(t.onCloseAutoFocus,o=>{var s;o.preventDefault(),(s=n.triggerRef.current)==null||s.focus()}),onPointerDownOutside:Ue(t.onPointerDownOutside,o=>{const s=o.detail.originalEvent,a=s.button===0&&s.ctrlKey===!0;(s.button===2||a)&&o.preventDefault()}),onFocusOutside:Ue(t.onFocusOutside,o=>o.preventDefault())})}),pte=m.forwardRef((t,e)=>{const n=vr(Cs,t.__scopeDialog),r=m.useRef(!1),i=m.useRef(!1);return p.jsx(AM,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{var s,a;(s=t.onCloseAutoFocus)==null||s.call(t,o),o.defaultPrevented||(r.current||(a=n.triggerRef.current)==null||a.focus(),o.preventDefault()),r.current=!1,i.current=!1},onInteractOutside:o=>{var l,c;(l=t.onInteractOutside)==null||l.call(t,o),o.defaultPrevented||(r.current=!0,o.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const s=o.target;((c=n.triggerRef.current)==null?void 0:c.contains(s))&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&i.current&&o.preventDefault()}})}),AM=m.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:o,...s}=t,a=vr(Cs,n),l=m.useRef(null),c=lt(e,l);return CN(),p.jsxs(p.Fragment,{children:[p.jsx(S1,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:o,children:p.jsx(kp,{role:"dialog",id:a.contentId,"aria-describedby":a.descriptionId,"aria-labelledby":a.titleId,"data-state":K1(a.open),...s,ref:c,onDismiss:()=>a.onOpenChange(!1)})}),p.jsxs(p.Fragment,{children:[p.jsx(mte,{titleId:a.titleId}),p.jsx(vte,{contentRef:l,descriptionId:a.descriptionId})]})]})}),Y1="DialogTitle",kM=m.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=vr(Y1,n);return p.jsx(ze.h2,{id:i.titleId,...r,ref:e})});kM.displayName=Y1;var RM="DialogDescription",NM=m.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=vr(RM,n);return p.jsx(ze.p,{id:i.descriptionId,...r,ref:e})});NM.displayName=RM;var DM="DialogClose",MM=m.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=vr(DM,n);return p.jsx(ze.button,{type:"button",...r,ref:e,onClick:Ue(t.onClick,()=>i.onOpenChange(!1))})});MM.displayName=DM;function K1(t){return t?"open":"closed"}var OM="DialogTitleWarning",[Sne,LM]=QY(OM,{contentName:Cs,titleName:Y1,docsSlug:"dialog"}),mte=({titleId:t})=>{const e=LM(OM),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return m.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},gte="DialogDescriptionWarning",vte=({contentRef:t,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${LM(gte).contentName}}.`;return m.useEffect(()=>{var o;const i=(o=t.current)==null?void 0:o.getAttribute("aria-describedby");e&&i&&(document.getElementById(e)||console.warn(r))},[r,t,e]),null},VM=EM,yte=TM,jM=SM,zp=PM,Hp=IM,qp=kM,Gp=NM,FM=MM;const Q1=VM,wte=jM,$M=xe.forwardRef(({className:t,...e},n)=>p.jsx(zp,{ref:n,className:Ne("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));$M.displayName=zp.displayName;const Yp=xe.forwardRef(({className:t,children:e,...n},r)=>p.jsxs(wte,{children:[p.jsx($M,{}),p.jsxs(Hp,{ref:r,className:Ne("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...n,children:[e,p.jsxs(FM,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[p.jsx(Mu,{className:"h-4 w-4"}),p.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Yp.displayName=Hp.displayName;const Kp=({className:t,...e})=>p.jsx("div",{className:Ne("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});Kp.displayName="DialogHeader";const Qp=({className:t,...e})=>p.jsx("div",{className:Ne("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});Qp.displayName="DialogFooter";const Xp=xe.forwardRef(({className:t,...e},n)=>p.jsx(qp,{ref:n,className:Ne("text-lg font-semibold leading-none tracking-tight",t),...e}));Xp.displayName=qp.displayName;const Jp=xe.forwardRef(({className:t,...e},n)=>p.jsx(Gp,{ref:n,className:Ne("text-sm text-muted-foreground",t),...e}));Jp.displayName=Gp.displayName;const UM=({isOpen:t,onClose:e,onConfirm:n,recordDate:r})=>(Ts(t,e),p.jsx(Q1,{open:t,onOpenChange:e,children:p.jsxs(Yp,{className:"bg-slate-800 border-slate-700 text-slate-50",children:[p.jsxs(Kp,{children:[p.jsx(Xp,{children:"Confirmar Eliminación"}),p.jsxs(Jp,{className:"text-slate-400",children:["¿Estás seguro de que quieres eliminar el registro del ",r,"? Esta acción no se puede deshacer."]})]}),p.jsxs(Qp,{className:"sm:justify-end",children:[p.jsx(Te,{variant:"outline",onClick:e,className:"border-slate-600 hover:bg-slate-700",children:"Cancelar"}),p.jsx(Te,{variant:"destructive",onClick:n,children:"Eliminar"})]})]})})),xte=({isOpen:t,onClose:e,onConfirm:n,currentCycleStartDate:r})=>{const[i,o]=m.useState(pe(new Date,"yyyy-MM-dd"));Ts(t,e);const s=!r,a=()=>{n(i)};return p.jsx(Q1,{open:t,onOpenChange:e,children:p.jsxs(Yp,{className:"bg-white border-pink-100 text-gray-800",children:[p.jsxs(Kp,{children:[p.jsx(Xp,{children:"Iniciar Nuevo Ciclo"}),p.jsx(Jp,{className:"text-gray-600",children:s?"Este será tu primer ciclo. Selecciona la fecha de inicio.":`¿Estás seguro de que quieres iniciar un nuevo ciclo? Los datos del ciclo actual (${pe(new Date(r),"dd/MM/yyyy")} - ${pe(new Date,"dd/MM/yyyy")}) serán archivados.`})]}),p.jsxs("div",{className:"my-4 space-y-2",children:[p.jsx("label",{htmlFor:"startDate",className:"text-gray-700 text-sm",children:"Fecha de inicio del nuevo ciclo"}),p.jsx(Lr,{id:"startDate",type:"date",value:i,onChange:l=>o(l.target.value),max:pe(new Date,"yyyy-MM-dd"),className:"bg-gray-50 border-gray-200 text-gray-800"})]}),p.jsxs(Qp,{className:"sm:justify-end",children:[p.jsx(Te,{variant:"outline",onClick:e,className:"border-gray-300 text-gray-700 hover:bg-gray-100",children:"Cancelar"}),p.jsx(Te,{variant:"primary",onClick:a,className:"bg-pink-600 hover:bg-pink-700 text-white",children:s?"Iniciar Ciclo":"Confirmar Nuevo Ciclo"})]})]})})},Nh=({isOpen:t,onClose:e,onConfirm:n,initialStartDate:r,initialEndDate:i,includeEndDate:o=!0,title:s="Editar Fechas del Ciclo",description:a})=>{const[l,c]=m.useState(r||""),[u,f]=m.useState(i||"");Ts(t,e),m.useEffect(()=>{c(r||""),f(i||"")},[r,i]);const h=()=>{n(o?{startDate:l,endDate:u||null}:{startDate:l})};return p.jsx(Q1,{open:t,onOpenChange:e,children:p.jsxs(Yp,{className:"bg-white border-pink-100 text-gray-800",children:[p.jsxs(Kp,{children:[p.jsx(Xp,{children:s}),p.jsx(Jp,{className:"text-gray-600",children:a??(o?"Modifica la fecha de inicio y fin del ciclo.":"Modifica la fecha de inicio del ciclo.")})]}),p.jsxs("div",{className:"my-4 space-y-4",children:[p.jsxs("div",{children:[p.jsx("label",{htmlFor:"startDate",className:"text-gray-700 text-sm",children:"Inicio del ciclo"}),p.jsx(Lr,{id:"startDate",type:"date",value:l,onChange:g=>c(g.target.value),className:"bg-gray-50 border-gray-200 text-gray-800"})]}),o&&p.jsxs("div",{children:[p.jsx("label",{htmlFor:"endDate",className:"text-gray-700 text-sm",children:"Fin del ciclo"}),p.jsx(Lr,{id:"endDate",type:"date",value:u||"",onChange:g=>f(g.target.value),className:"bg-gray-50 border-gray-200 text-gray-800"})]})]}),p.jsxs(Qp,{className:"sm:justify-end",children:[p.jsx(Te,{variant:"outline",onClick:e,className:"border-gray-300 text-gray-700 hover:bg-gray-100",children:"Cancelar"}),p.jsx(Te,{variant:"primary",onClick:h,className:"bg-pink-600 hover:bg-pink-700 text-white",children:"Guardar"})]})]})})},_te=(t,e)=>{if(!t||!e)return 0;const n=De(le(t)),r=De(le(e));return wo(n,r)+1},$g=(t,e)=>!t||!Array.isArray(t)||!e?[]:[...t].sort((r,i)=>{const o=r.timestamp?le(r.timestamp):r.iso_date?le(r.iso_date):0,s=i.timestamp?le(i.timestamp):i.iso_date?le(i.iso_date):0;return TH(o,s)}).map(r=>({...r,id:r.id,isoDate:r.iso_date||(r.timestamp?pe(le(r.timestamp),"yyyy-MM-dd"):null),date:r.timestamp?pe(le(r.timestamp),"dd/MM"):r.iso_date?pe(le(r.iso_date),"dd/MM"):"N/A",cycleDay:_te(r.iso_date||r.timestamp,e),temperature_raw:r.temperature_raw,temperature_corrected:r.temperature_corrected,use_corrected:r.use_corrected,mucusSensation:r.mucus_sensation,mucusAppearance:r.mucus_appearance,fertility_symbol:r.fertility_symbol,observations:r.observations,ignored:r.ignored,temperature_chart:r.temperature_chart??(r.use_corrected?r.temperature_corrected??r.temperature_raw:r.temperature_raw??r.temperature_corrected),timestamp:r.timestamp})),Ete=async t=>{const e=ai(Cn,`users/${t}/cycles`),n=await za(e);if(n.empty)return null;const r=n.docs.map(l=>({id:l.id,...l.data()})).filter(l=>l.end_date===null||l.end_date===void 0).sort((l,c)=>(c.start_date||"").localeCompare(l.start_date||""));if(r.length===0)return null;const i=r[0],o=ai(Cn,`users/${t}/cycles/${i.id}/entries`),a=(await za(o)).docs.map(l=>({id:l.id,...l.data()}));return{id:i.id,startDate:i.start_date,endDate:i.end_date,data:a}},bte=async t=>{const e=ai(Cn,`users/${t}/cycles`),r=(await za(e)).docs.map(o=>({id:o.id,...o.data()})).filter(o=>o.end_date!==null&&o.end_date!==void 0).sort((o,s)=>(s.start_date||"").localeCompare(o.start_date||""));return await Promise.all(r.map(async o=>{const s=ai(Cn,`users/${t}/cycles/${o.id}/entries`),l=(await za(s)).docs.map(c=>({id:c.id,...c.data()}));return{id:o.id,startDate:o.start_date,endDate:o.end_date,data:l}}))},ZC=async(t,e)=>{const n=hl(Cn,`users/${t}/cycles/${e}`),r=await Sw(n);if(!r.exists())return null;const i=r.data(),o=ai(Cn,`users/${t}/cycles/${e}/entries`),a=(await za(o)).docs.map(l=>({id:l.id,...l.data()}));return{id:e,startDate:i.start_date,endDate:i.end_date,data:a}},eS=async(t,e)=>({id:(await cy(ai(Cn,`users/${t}/cycles`),{user_id:t,start_date:e,end_date:null})).id,start_date:e}),Tte=async t=>{const e=t.user_id,n=t.timestamp??new Date().toISOString(),r={timestamp:n,temperature_raw:t.temperature_raw,temperature_corrected:t.temperature_corrected,use_corrected:t.use_corrected,temperature_chart:t.temperature_chart,mucus_sensation:t.mucus_sensation,mucus_appearance:t.mucus_appearance,fertility_symbol:t.fertility_symbol,observations:t.observations,ignored:t.ignored},i=ai(Cn,`users/${e}/cycles`),o=await za(i),s=le(n),a=o.docs.filter(c=>{const u=c.data(),f=u.start_date?le(u.start_date):null,h=u.end_date?le(u.end_date):null;return f&&s>=f&&(!h||s<=h)}),l=[];for(const c of a){const u=await cy(ai(Cn,`users/${e}/cycles/${c.id}/entries`),r);l.push(u.id)}if(l.length===0&&t.cycle_id){const c=await cy(ai(Cn,`users/${e}/cycles/${t.cycle_id}/entries`),r);l.push(c.id)}return{id:l[0]??null}},tS=async(t,e,n,r)=>{const i=hl(Cn,`users/${t}/cycles/${e}/entries/${n}`),o={temperature_raw:r.temperature_raw,temperature_corrected:r.temperature_corrected,use_corrected:r.use_corrected,temperature_chart:r.temperature_chart,mucus_sensation:r.mucus_sensation,mucus_appearance:r.mucus_appearance,fertility_symbol:r.fertility_symbol,observations:r.observations,ignored:r.ignored};return r.timestamp&&(o.timestamp=r.timestamp),await Pw(i,o),{id:n}},Cte=async(t,e,n)=>{await g$(hl(Cn,`users/${t}/cycles/${e}/entries/${n}`))},Ste=async(t,e,n)=>{const r=hl(Cn,`users/${e}/cycles/${t}`);if(!(await Sw(r)).exists())throw new Error("Cycle not found");await Pw(r,{end_date:n})},nS=async(t,e,n,r)=>{const i=hl(Cn,`users/${e}/cycles/${t}`);if(!(await Sw(i)).exists())throw new Error("Cycle not found");const s={};n!==void 0&&(s.start_date=n),r!==void 0&&(s.end_date=r),await Pw(i,s)},rS=(t,e)=>{if(!e)return t;const n=De(le(e));return t.filter(r=>le(r.isoDate)<=n)},qs=t=>t?typeof t=="string"?pe(De(le(t)),"yyyy-MM-dd"):typeof t.toDate=="function"?pe(De(t.toDate()),"yyyy-MM-dd"):pe(De(new Date(t)),"yyyy-MM-dd"):null,X1=(t=null)=>{const{user:e}=gl(),{toast:n}=vl(),[r,i]=m.useState({id:null,startDate:null,data:[]}),[o,s]=m.useState([]),[a,l]=m.useState(!0),c=m.useCallback(async()=>{if(!(e!=null&&e.uid)){console.log("No user found, skipping cycle data load"),l(!1);return}console.log("Loading cycle data for user:",e.uid),l(!0);try{let v;if(t?(console.log("Loading specific cycle:",t),v=await ZC(e.uid,t),v||(v={id:t,startDate:pe(De(new Date),"yyyy-MM-dd"),data:[]})):(console.log("Loading current cycle"),v=await Ete(e.uid)),console.log("Cycle loaded:",v),v){const E=qs(v.startDate),I=qs(v.endDate);i({...v,startDate:E,endDate:I,data:$g(v.data,E)})}else i({id:null,startDate:null,data:[]});console.log("Loading archived cycles");const y=await bte(e.uid);s(y.map(E=>{const I=qs(E.startDate),N=qs(E.endDate),O=$g(E.data||[],I),S=rS(O,N);return{...E,startDate:I??pe(De(new Date),"yyyy-MM-dd"),endDate:N,data:S}}))}catch(v){console.error("Error in loadCycleData:",v),v.code==="permission-denied"&&console.error("Firebase permissions error. Check Firestore rules."),i({id:null,startDate:null,data:[]}),s([])}finally{l(!1)}},[e,t]);m.useEffect(()=>{c()},[c]);const u=m.useCallback(async(v,y)=>{if(!(e!=null&&e.uid)||!r.id)throw console.error("User or currentCycle.id is missing"),new Error("User or currentCycle.id is missing");console.log("Adding/updating data point:",v,"editing:",y),l(!0);try{const E=v.time&&v.time.trim()!==""?v.time:pe(new Date,"HH:mm"),I=FG(`${v.isoDate} ${E}`,"yyyy-MM-dd HH:mm",new Date),N=v.temperature_raw===""||v.temperature_raw===null||v.temperature_raw===void 0?null:parseFloat(v.temperature_raw),O=v.temperature_corrected===""||v.temperature_corrected===null||v.temperature_corrected===void 0?null:parseFloat(v.temperature_corrected),S=v.use_corrected||!1,C=S?O??N:N??O,P={cycle_id:r.id,user_id:e.uid,timestamp:pe(I,"yyyy-MM-dd'T'HH:mm:ssXXX"),temperature_raw:N,temperature_corrected:O,use_corrected:S,temperature_chart:C,mucus_sensation:v.mucusSensation||null,mucus_appearance:v.mucusAppearance||null,fertility_symbol:v.fertility_symbol==="none"?null:v.fertility_symbol,observations:v.observations||null,ignored:y?v.ignored??y.ignored:v.ignored||!1};y?(console.log("Updating existing record:",y.id),await tS(e.uid,r.id,y.id,P)):(console.log("Creating new record"),await Tte(P)),console.log("Data point saved successfully"),await c()}catch(E){throw console.error("Error adding/updating data point:",E),E}finally{l(!1)}},[e,r.id,c]),f=m.useCallback(async v=>{if(!(!(e!=null&&e.uid)||!r.id)){console.log("Deleting record:",v),l(!0);try{await Cte(e.uid,r.id,v),await c(),console.log("Record deleted successfully")}catch(y){throw console.error("Error deleting record:",y),y}finally{l(!1)}}},[e,r.id,c]),h=m.useCallback(async(v,y)=>{if(e!=null&&e.uid){console.log("Toggling ignore for record:",y,"in cycle:",v),l(!0);try{const E=v===r.id?r:o.find(O=>O.id===v);if(!E)throw new Error("Cycle not found for toggling ignore state.");const I=E.data.find(O=>O.id===y);if(!I)throw new Error("Record not found for toggling ignore state.");const N=!I.ignored;await tS(e.uid,v,y,{ignored:N}),await c(),console.log("Record ignore status toggled successfully")}catch(E){throw console.error("Error toggling ignore state:",E),E}finally{l(!1)}}},[e,r,o,c]),g=m.useCallback(async v=>{if(e!=null&&e.uid){console.log("Starting new cycle with date:",v),l(!0);try{const y=De(v?le(v):new Date);if(r.id){const N=pe(Lt(y,-1),"yyyy-MM-dd");await Ste(r.id,e.uid,N)}const E=pe(y,"yyyy-MM-dd"),I=await eS(e.uid,E);i({id:I.id,startDate:I.start_date,data:[]}),await c(),console.log("New cycle started successfully")}catch(y){throw console.error("Error starting new cycle:",y),n({title:"Error",description:"No se pudo archivar el ciclo.",variant:"destructive"}),y}finally{l(!1)}}},[e,r,c,n]),x=m.useCallback(async(v,y)=>{if(e!=null&&e.uid){console.log("Adding archived cycle:",v,y),l(!0);try{const E=await eS(e.uid,v);y&&await nS(E.id,e.uid,void 0,y),await c(),console.log("Archived cycle added successfully")}catch(E){throw console.error("Error adding archived cycle:",E),n({title:"Error",description:"No se pudo crear el ciclo.",variant:"destructive"}),E}finally{l(!1)}}},[e,c,n]),w=m.useCallback(async(v,y,E)=>{if(e!=null&&e.uid){console.log("Updating cycle dates:",v,y,E),l(!0);try{await nS(v,e.uid,y,E),await c(),console.log("Cycle dates updated successfully")}catch(I){throw console.error("Error updating cycle dates:",I),n({title:"Error",description:"No se pudieron actualizar las fechas.",variant:"destructive"}),I}finally{l(!1)}}},[e,c,n]),b=m.useCallback(async v=>{if(!(e!=null&&e.uid))return null;console.log("Fetching cycle by ID:",v),l(!0);try{const y=await ZC(e.uid,v);if(!y)return null;const E=qs(y.startDate),I=qs(y.endDate),N=$g(y.data||[],E),O=rS(N,I),S={...y,startDate:E??pe(De(new Date),"yyyy-MM-dd"),endDate:I,data:O};return console.log("Cycle fetched successfully:",S),S}catch(y){return console.error("Error fetching cycle by ID:",y),null}finally{l(!1)}},[e]);return{currentCycle:r,archivedCycles:o,addOrUpdateDataPoint:u,deleteRecord:f,startNewCycle:g,updateCycleDates:w,isLoading:a,getCycleById:b,refreshData:c,toggleIgnoreRecord:h,addArchivedCycle:x}},BM=()=>{const[t,e]=m.useState(!1),[n,r]=m.useState("portrait"),i=m.useCallback(async(l="portrait")=>{const c=document.documentElement;try{c.requestFullscreen?await c.requestFullscreen():c.mozRequestFullScreen?await c.mozRequestFullScreen():c.webkitRequestFullscreen?await c.webkitRequestFullscreen():c.msRequestFullscreen&&await c.msRequestFullscreen(),typeof window<"u"&&window.screen&&window.screen.orientation&&window.screen.orientation.lock&&await window.screen.orientation.lock(`${l}-primary`).catch(()=>{}),r(l)}catch{}},[]),o=m.useCallback(async()=>{try{document.exitFullscreen?await document.exitFullscreen():document.mozCancelFullScreen?await document.mozCancelFullScreen():document.webkitExitFullscreen?await document.webkitExitFullscreen():document.msExitFullscreen&&await document.msExitFullscreen(),typeof window<"u"&&window.screen&&window.screen.orientation&&window.screen.orientation.unlock&&window.screen.orientation.unlock()}catch{}},[]),s=m.useCallback(async()=>{t?await o():await i("portrait")},[t,i,o]),a=m.useCallback(async()=>{const l=n==="portrait"?"landscape":"portrait";t&&window.screen&&window.screen.orientation&&window.screen.orientation.lock&&await window.screen.orientation.lock(`${l}-primary`).catch(()=>{}),r(l)},[n,t]);return m.useEffect(()=>{const l=()=>{const c=!!(document.fullscreenElement||document.webkitIsFullScreen||document.mozFullScreenElement||document.msFullscreenElement);e(c),!c&&typeof window<"u"&&window.screen&&window.screen.orientation&&window.screen.orientation.unlock&&window.screen.orientation.unlock()};return document.addEventListener("fullscreenchange",l),document.addEventListener("webkitfullscreenchange",l),document.addEventListener("mozfullscreenchange",l),document.addEventListener("MSFullscreenChange",l),()=>{document.removeEventListener("fullscreenchange",l),document.removeEventListener("webkitfullscreenchange",l),document.removeEventListener("mozfullscreenchange",l),document.removeEventListener("MSFullscreenChange",l)}},[]),{isFullScreen:t,orientation:n,toggleFullScreen:s,rotateScreen:a}},Pte=Au("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors",{variants:{variant:{default:"bg-primary text-primary-foreground border-transparent",secondary:"bg-secondary text-secondary-foreground border-transparent",destructive:"bg-destructive text-destructive-foreground border-transparent",outline:"text-foreground"}},defaultVariants:{variant:"default"}}),WM=m.forwardRef(({className:t,variant:e,...n},r)=>p.jsx("div",{ref:r,className:Ne(Pte({variant:e}),t),...n}));WM.displayName="Badge";function zM(t,e){if(!t||!e)return[];const n=typeof t=="string"?le(t):t;return[...Array(e)].map((r,i)=>{const o=Lt(n,i),s=pe(o,"yyyy-MM-dd"),a=pe(o,"dd/MM"),l=wo(De(o),De(n))+1;return{date:a,isoDate:s,cycleDay:l,temperature:null,mucusSensation:null,mucusAppearance:null,id:`placeholder-${s}`,ignored:!1}})}const HM=28,qM=5,GM=10,Ite=(t,e)=>{let r=null,i=null;return i=14,{preovulatory:r,t8:i,hasSufficientData:3>=6}},Ate=({currentCycle:t,onShowRecords:e})=>{var o;if(!(t!=null&&t.startDate))return null;const n=wo(new Date,le(t.startDate))+1,r=((o=t.data)==null?void 0:o.filter(s=>s.id&&!s.id.startsWith("placeholder-")).length)||0,i=Ite([],t.data);return p.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-2 mb-4",children:[p.jsx(be.div,{className:"bg-white/70 backdrop-blur-sm rounded-xl p-3 border border-pink-100/50 shadow-sm",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4,delay:.1},children:p.jsxs("div",{className:"flex items-center space-x-2",children:[p.jsx("div",{className:"p-1.5 bg-gradient-to-br from-pink-500/10 to-rose-500/10 rounded-lg",children:p.jsx(Hz,{className:"h-4 w-4 text-pink-600"})}),p.jsxs("div",{className:"flex-1 min-w-0",children:[p.jsx("p",{className:"text-xs font-medium text-gray-600 uppercase tracking-wide",children:"Día del Ciclo"}),p.jsx("p",{className:"text-lg font-bold text-pink-600 truncate",children:n})]})]})}),p.jsx(be.button,{onClick:e,className:"bg-white/70 backdrop-blur-sm rounded-xl p-3 border border-emerald-100/50 shadow-sm hover:shadow-md hover:scale-[1.02] transition-all duration-200 text-left group",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4,delay:.2},children:p.jsxs("div",{className:"flex items-center space-x-2",children:[p.jsx("div",{className:"p-1.5 bg-gradient-to-br from-emerald-500/10 to-teal-500/10 rounded-lg group-hover:from-emerald-500/20 group-hover:to-teal-500/20 transition-colors",children:p.jsx(ZT,{className:"h-4 w-4 text-emerald-600"})}),p.jsxs("div",{className:"flex-1 min-w-0",children:[p.jsx("p",{className:"text-xs font-medium text-gray-600 uppercase tracking-wide",children:"Registros"}),p.jsx("p",{className:"text-lg font-bold text-emerald-600 truncate",children:r})]})]})}),p.jsxs(be.div,{className:"bg-white/70 backdrop-blur-sm rounded-xl p-2 border border-purple-100/50 shadow-sm col-span-2 md:col-span-2 lg:col-span-1",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4,delay:.3},children:[p.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[p.jsx("div",{className:"p-1 bg-gradient-to-br from-purple-500/10 to-indigo-500/10 rounded-lg",children:p.jsx(Jz,{className:"h-3.5 w-3.5 text-purple-600"})}),p.jsx("p",{className:"text-xs font-medium text-gray-600 uppercase tracking-wide",children:"Ventana Fértil"})]}),i.hasSufficientData?p.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[p.jsxs("div",{className:"bg-purple-50/50 rounded-lg p-2",children:[p.jsxs("div",{className:"flex items-center space-x-1 mb-1",children:[p.jsx(uH,{className:"h-3 w-3 text-purple-500"}),p.jsx("p",{className:"text-xs text-purple-600 font-medium",children:"Cálc. Preov."})]}),p.jsx("p",{className:"text-sm font-bold text-purple-700",children:i.preovulatory?`Día ${i.preovulatory}`:"—"})]}),p.jsxs("div",{className:"bg-indigo-50/50 rounded-lg p-2",children:[p.jsxs("div",{className:"flex items-center space-x-1 mb-1",children:[p.jsx(ZT,{className:"h-3 w-3 text-indigo-500"}),p.jsx("p",{className:"text-xs text-indigo-600 font-medium",children:"T-8"})]}),p.jsx("p",{className:"text-sm font-bold text-indigo-700",children:i.t8?`Día ${i.t8}`:"—"})]})]}):p.jsxs("div",{className:"text-center py-2",children:[p.jsx("p",{className:"text-xs text-gray-500",children:"Datos insuficientes"}),p.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Se requieren ≥6 ciclos"})]})]})]})},kte=({currentCycle:t,addOrUpdateDataPoint:e,deleteCurrentRecord:n,toggleIgnoreRecord:r,startNewCycle:i,isLoading:o,isFullScreen:s,toggleFullScreen:a,orientation:l,rotateScreen:c,chartDisplayData:u,scrollStart:f,showForm:h,setShowForm:g,showRecords:x,setShowRecords:w,editingRecord:b,setEditingRecord:v,recordToDelete:y,setRecordToDelete:E,confirmNewCycleDialog:I,setConfirmNewCycleDialog:N,toast:O,showInterpretation:S,setShowInterpretation:C,updateCycleDates:P})=>{const[A,M]=m.useState(!1);Ts(x,()=>w(!1)),Ts(h||b,()=>{g(!1),v(null)});const D=s?l==="portrait"?GM:HM:qM,R=F=>{const W=()=>{v(F),w(!1),g(!0)};s?(a(),setTimeout(W,300)):W()},B=F=>{const W=t.data.find(K=>K.id===F);E(W)},q=({startDate:F})=>{P(t.id,F),O({title:"Fechas actualizadas",description:"Las fechas del ciclo han sido modificadas."}),M(!1)},Y=()=>{y&&(n(y.id),O({title:"Registro eliminado",description:`El registro del ${pe(le(y.isoDate),"dd/MM/yyyy")} ha sido eliminado.`,variant:"destructive"}),E(null))},z=()=>{v(null),w(!1),g(!0)},L=()=>{g(!1),v(null),w(!0)},V=()=>{N(!0)},$=F=>{i(F),O({title:"Nuevo Ciclo Iniciado",description:"Los datos del ciclo anterior han sido archivados."}),N(!1)};return o?p.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[60vh] space-y-4",children:[p.jsx(be.div,{className:"w-8 h-8 rounded-full bg-pink-500/80",animate:{opacity:[.4,1,.4]},transition:{duration:1.2,repeat:1/0}}),p.jsx(be.p,{className:"text-pink-600 font-medium",initial:{opacity:0},animate:{opacity:1},transition:{delay:.2},children:"Cargando datos del ciclo..."})]}):p.jsxs("div",{className:`flex flex-col items-center w-full min-h-screen bg-gradient-to-br from-pink-50 via-purple-50 to-indigo-50 ${s?"overflow-hidden h-full":""}`,children:[!s&&!h&&!x&&p.jsxs(be.div,{className:"w-full max-w-6xl px-4 pt-6 pb-4",initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5},children:[p.jsxs("div",{className:"text-center mb-6",children:[p.jsxs("div",{className:"inline-flex items-center space-x-2 mb-3",children:[p.jsx("div",{className:"p-2 bg-gradient-to-r from-pink-500 to-rose-500 rounded-xl shadow-sm",children:p.jsx(Zz,{className:"h-5 w-5 text-white"})}),p.jsx("h1",{className:"text-2xl font-semibold text-gray-800",children:"Ciclo Actual"})]}),p.jsx("div",{className:"flex items-center justify-center",children:p.jsx(WM,{variant:"secondary",onClick:()=>(t==null?void 0:t.startDate)&&M(!0),className:"bg-white/60 text-gray-700 border-gray-200 px-3 py-1 rounded-full text-sm cursor-pointer hover:bg-white/80",children:t!=null&&t.startDate?`Iniciado el ${pe(le(t.startDate),"dd/MM/yyyy")}`:"Sin datos de ciclo"})})]}),p.jsx(Ate,{currentCycle:t,onShowRecords:L})]}),p.jsxs("main",{className:`w-full ${s?"h-full flex items-center justify-center":"max-w-6xl flex-grow px-4"}`,children:[p.jsx(Sc,{children:!h&&!x&&(u.length>0||s)&&p.jsxs(be.div,{initial:{opacity:0,scale:s?1:.98,y:s?0:10},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:s?1:.98,y:s?0:10},transition:{duration:.4,ease:"easeOut"},className:`
                ${s?"w-full h-full p-0 fixed inset-0 z-50 bg-white":"p-4 sm:p-6 mb-6 bg-white/70 backdrop-blur-xl rounded-2xl border border-white/50"}
                shadow-xl shadow-purple-500/5
              `,children:[p.jsx(tN,{data:u,isFullScreen:s,orientation:l,onEdit:R,onToggleIgnore:r,cycleId:t.id,initialScrollIndex:f,visibleDays:D,showInterpretation:S}),p.jsxs(Te,{onClick:()=>C(F=>!F),variant:"ghost",size:"sm",className:`
                  absolute ${s?"top-4 right-28":"top-3 right-14"} 
                  flex items-center text-xs font-medium py-1.5 px-3 rounded-lg 
                  transition-all duration-200 backdrop-blur-sm
                  ${S?"bg-pink-500 text-white hover:bg-pink-600 shadow-sm":"bg-white/80 text-gray-600 hover:bg-white hover:text-gray-800 border border-gray-200"}
                `,children:[S?p.jsx(Sp,{className:"mr-1.5 h-3.5 w-3.5"}):p.jsx(Ya,{className:"mr-1.5 h-3.5 w-3.5"}),S?"Ocultar":"Interpretar"]}),s&&p.jsx(Te,{onClick:c,variant:"ghost",size:"icon",className:"absolute top-4 right-16 text-gray-600 bg-white/80 hover:bg-white backdrop-blur-sm rounded-lg p-2 border border-gray-200",title:"Rotar Pantalla",children:p.jsx(aH,{className:"h-4 w-4"})}),p.jsx(Te,{onClick:a,variant:"ghost",size:"icon",className:`
                  absolute ${s?"top-4 right-4":"top-3 right-3"} 
                  rounded-lg p-2 backdrop-blur-sm transition-all duration-200
                  ${s?"text-gray-600 bg-white/80 hover:bg-white border border-gray-200":"text-gray-500 hover:text-gray-700 bg-white/80 hover:bg-white border border-gray-200"}
                `,title:s?"Salir de Pantalla Completa":"Ver en Pantalla Completa",children:s?p.jsx(Mu,{className:"h-4 w-4"}):p.jsx(L2,{className:"h-4 w-4"})})]})}),!s&&!h&&!x&&p.jsxs(be.div,{className:"w-full max-w-md mx-auto mb-8",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3,duration:.4},children:[p.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[p.jsxs(Te,{onClick:z,disabled:!t.id,className:"bg-gradient-to-r from-pink-500 to-rose-500 hover:from-pink-600 hover:to-rose-600 text-white font-medium py-3 rounded-xl shadow-sm hover:shadow-md transition-all duration-200 flex items-center justify-center space-x-2",children:[p.jsx(Ry,{className:"h-4 w-4"}),p.jsx("span",{children:"Nuevo Registro"})]}),p.jsxs(Te,{onClick:L,variant:"outline",disabled:!t.id,className:"border-pink-200 text-pink-700 hover:bg-pink-50 hover:text-pink-800 font-medium py-3 rounded-xl shadow-sm hover:shadow-md transition-all duration-200 flex items-center justify-center space-x-2",children:[p.jsx(tH,{className:"h-4 w-4"}),p.jsx("span",{children:"Mis Registros"})]})]}),p.jsx(Te,{onClick:V,variant:"outline",className:"w-full mt-3 border-pink-200 text-pink-600 hover:bg-pink-50 hover:text-pink-700 text-sm font-medium py-2",children:"Iniciar Nuevo Ciclo"})]}),p.jsx(Sc,{children:(h||b)&&p.jsx(be.div,{initial:{opacity:0,y:20,scale:.98},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:20,scale:.98},transition:{type:"spring",stiffness:260,damping:20},className:"w-full",children:p.jsx(iM,{onSubmit:e,initialData:b,isEditing:!!b,cycleStartDate:t.startDate,onCancel:()=>{g(!1),v(null)}})},"data-entry-form")}),p.jsx(Sc,{children:x&&p.jsx(be.div,{initial:{opacity:0,y:20,scale:.98},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-20,scale:.98},transition:{type:"spring",stiffness:260,damping:20},className:"w-full",children:p.jsx(xM,{records:t.data,onEdit:R,onDelete:B,onClose:()=>w(!1)})},"records-list")}),t.data.filter(F=>F.id&&!F.id.startsWith("placeholder-")).length===0&&!h&&!x&&!s&&p.jsx(be.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4,duration:.4},children:p.jsx(lte,{})})]}),p.jsx(UM,{isOpen:!!y,onClose:()=>E(null),onConfirm:Y,recordDate:y?pe(le(y.isoDate),"dd/MM/yyyy"):""}),p.jsx(xte,{isOpen:I,onClose:()=>N(!1),onConfirm:$,currentCycleStartDate:t.startDate}),p.jsx(Nh,{isOpen:A,onClose:()=>M(!1),onConfirm:q,initialStartDate:t.startDate,includeEndDate:!1})]})};function Rte(){const{currentCycle:t,addOrUpdateDataPoint:e,deleteRecord:n,startNewCycle:r,isLoading:i,refreshData:o,toggleIgnoreRecord:s,updateCycleDates:a}=X1(),[l,c]=m.useState(!1),[u,f]=m.useState(!1),[h,g]=m.useState(null),[x,w]=m.useState(null),[b,v]=m.useState(!1),[y,E]=m.useState(!1),{isFullScreen:I,orientation:N,toggleFullScreen:O,rotateScreen:S}=BM(),{toast:C}=vl();m.useEffect(()=>{o()},[o]);const P=R=>{e(R,h),C({title:h?"Registro actualizado":"Nuevo registro añadido",description:h?`Datos del ${pe(le(R.isoDate),"dd/MM/yyyy")} actualizados.`:`Registro para el ${pe(le(R.isoDate),"dd/MM/yyyy")} añadido.`}),c(!1),g(null)},A=m.useCallback(()=>{if(i||!t||!t.startDate)return{data:[],scrollStart:0};const R=le(t.startDate),B=t.data.reduce((ue,X)=>{const ae=le(X.isoDate);return ae>ue?ae:ue},R),q=De(new Date),Y=B>q?B:q,z=wo(De(Y),R),L=Math.max(HM,z+1),$=zM(R,L).map(ue=>{const X=t.data.find(ae=>ae.isoDate===ue.isoDate);return X?{...X,date:ue.date}:ue});if(I&&N==="landscape")return{data:$,scrollStart:0};const F=wo(new Date,De(R)),W=Math.min(Math.max(F,0),L-1);let K=Math.min(L,W+1);const oe=I?GM:qM;W<oe-1&&(K=Math.min(L,oe));const he=Math.max(0,K-oe);return{data:$,scrollStart:he}},[t,I,i,N]),{data:M,scrollStart:D}=A();return p.jsx(kte,{currentCycle:t,addOrUpdateDataPoint:P,deleteCurrentRecord:n,toggleIgnoreRecord:s,startNewCycle:r,isLoading:i,isFullScreen:I,toggleFullScreen:O,orientation:N,rotateScreen:S,chartDisplayData:M,scrollStart:D,showForm:l,setShowForm:c,showRecords:u,setShowRecords:f,editingRecord:h,setEditingRecord:g,recordToDelete:x,setRecordToDelete:w,confirmNewCycleDialog:b,setConfirmNewCycleDialog:v,toast:C,showInterpretation:y,setShowInterpretation:E,updateCycleDates:a})}const Nte=()=>{const{archivedCycles:t,isLoading:e,addArchivedCycle:n}=X1(),[r,i]=m.useState(!1),o=({startDate:a,endDate:l})=>{n(a,l),i(!1)};if(e)return p.jsx("div",{className:"text-center text-slate-300 p-8",children:"Cargando ciclos archivados..."});if(!t||t.length===0)return p.jsxs(be.div,{className:"text-center text-slate-400 py-10 flex flex-col items-center",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:[p.jsx(O2,{className:"w-24 h-24 text-slate-500 mb-6"}),p.jsx("h2",{className:"text-2xl font-semibold text-slate-200 mb-4",children:"No hay ciclos archivados"}),p.jsx("p",{className:"text-lg",children:"Cuando inicies un nuevo ciclo, el anterior aparecerá aquí."}),p.jsxs("div",{className:"flex gap-4 mt-8",children:[p.jsx(Te,{asChild:!0,className:"bg-gradient-to-r from-pink-500 to-fuchsia-600 hover:from-pink-600 hover:to-fuchsia-700 text-white",children:p.jsx(Yc,{to:"/",children:"Volver al Ciclo Actual"})}),p.jsxs(Te,{onClick:()=>i(!0),className:"bg-pink-600 hover:bg-pink-700 text-white",children:[p.jsx(Ry,{className:"mr-2 h-4 w-4"})," Crear Ciclo"]})]}),p.jsx(Nh,{isOpen:r,onClose:()=>i(!1),onConfirm:o,title:"Añadir Ciclo Anterior",description:"Ingresa las fechas de un ciclo previo para añadir registros."})]});const s=[...t].sort((a,l)=>le(l.startDate)-le(a.startDate));return p.jsxs("div",{className:"w-full max-w-4xl mx-auto",children:[p.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center mb-8",children:[p.jsx(be.h1,{className:"text-3xl sm:text-4xl font-bold text-slate-500 mb-4 sm:mb-0",initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5},children:"Mis Ciclos Archivados"}),p.jsxs(Te,{onClick:()=>i(!0),className:"bg-pink-600 hover:bg-pink-700 text-white",children:[p.jsx(Ry,{className:"mr-2 h-4 w-4"})," Añadir Ciclo"]})]}),p.jsx(be.ul,{className:"space-y-6",variants:{hidden:{opacity:0},show:{opacity:1,transition:{staggerChildren:.1}}},initial:"hidden",animate:"show",children:s.map(a=>{const l=a.endDate?pe(le(a.endDate),"dd MMM yyyy",{locale:to}):a.data&&a.data.length>0?pe(le(a.data[a.data.length-1].isoDate),"dd MMM yyyy",{locale:to}):pe(le(a.startDate),"dd MMM yyyy",{locale:to}),c=a.data?a.data.length:0;return p.jsx(be.li,{className:"bg-white/70 backdrop-blur-md ring-1 ring-[#FFB1DD]/50 shadow-xl rounded-xl p-6 hover:shadow-2xl transition-shadow duration-300",variants:{hidden:{opacity:0,y:20},show:{opacity:1,y:0}},children:p.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center",children:[p.jsxs("div",{children:[p.jsxs("h2",{className:"text-xl font-semibold text-pink-400 mb-1",children:["Ciclo: ",pe(le(a.startDate),"dd MMM yyyy",{locale:to})," - ",l]}),p.jsxs("p",{className:"text-sm text-slate-400",children:[c," registro",c!==1?"s":""]})]}),p.jsx(Te,{asChild:!0,variant:"outline",className:"mt-4 sm:mt-0 border-pink-500 text-pink-400 hover:bg-pink-500/20 hover:text-pink-300",children:p.jsxs(Yc,{to:`/cycle/${a.id}`,children:[p.jsx(Ya,{className:"mr-2 h-4 w-4"})," Ver Detalles"]})})]})},a.id)})}),p.jsx(Nh,{isOpen:r,onClose:()=>i(!1),onConfirm:o,title:"Añadir Ciclo Anterior",description:"Ingresa las fechas de un ciclo previo para añadir registros."})]})},Dte=28,Mte=({cycleData:t,addOrUpdateDataPointForCycle:e,deleteRecordForCycle:n,toggleIgnoreRecordForCycle:r,isFullScreen:i,toggleFullScreen:o,orientation:s,showInterpretation:a,setShowInterpretation:l,chartDisplayData:c,showForm:u,setShowForm:f,editingRecord:h,setEditingRecord:g,recordToDelete:x,setRecordToDelete:w,isProcessing:b,toast:v,onEditCycleDates:y})=>{Ts(u||h,()=>{f(!1),g(null)});const E=O=>{const S=()=>{g(O),f(!0)};i?(o(),setTimeout(S,300)):S()},I=O=>{const S=t.data.find(C=>C.id===O);w(S)},N=()=>{x&&n(x.id)};return p.jsxs("div",{className:`w-full ${i?"h-full overflow-hidden":"max-w-4xl mx-auto"}`,children:[p.jsxs(be.div,{className:"flex items-center justify-between mb-8",initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5},children:[!i&&p.jsx(Te,{variant:"outline",asChild:!0,className:"mt-4 sm:mt-0 border-pink-500 text-pink-400 hover:bg-pink-500/20 hover:text-pink-300",children:p.jsxs(Yc,{to:"/archived-cycles",children:[p.jsx(zz,{className:"mr-2 h-4 w-4"})," Mis Ciclos"]})}),!i&&p.jsxs("h1",{className:"text-2xl sm:text-3xl font-bold hover:text-pink-300 text-center",children:["Detalle del Ciclo (",pe(le(t.startDate),"dd/MM/yyyy"),")"]}),!i&&p.jsxs(Te,{variant:"outline",onClick:y,className:"mt-4 sm:mt-0 border-pink-500 text-pink-400 hover:bg-pink-500/20 hover:text-pink-300",children:[p.jsx(ky,{className:"mr-2 h-4 w-4"})," Editar Fechas"]})]}),p.jsx(Sc,{children:!u&&(c.length>0||i)&&p.jsxs(be.div,{initial:{opacity:0,scale:i?1:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:i?1:.9},transition:{duration:.5},className:`shadow-2xl rounded-xl ${i?"w-full h-full p-0 fixed inset-0 z-50 bg-white":"p-4 sm:p-6 mb-8 bg-white/70 backdrop-blur-md ring-1 ring-[#FFB1DD]/50"}`,style:{boxShadow:"0 4px 8px rgba(0,0,0,0.04)"},children:[!i&&p.jsx("h2",{className:"text-xl font-medium text-[#393C65] mb-4 bg-white bg-opacity-90 px-4 py-2 rounded-md",children:"Gráfica"}),p.jsx(tN,{data:c,isFullScreen:i,orientation:s,onToggleIgnore:r,onEdit:E,cycleId:t.id,showInterpretation:a}),p.jsxs(Te,{onClick:()=>l(O=>!O),variant:"ghost",size:"sm",className:`absolute ${i?"top-4 right-24":"top-2 right-24"} flex items-center font-semibold py-1 px-2 rounded-lg transition-colors ${a?"bg-[#E27DBF] text-white hover:bg-[#d46ab3]":"bg-transparent text-[#393C65] hover:bg-[#E27DBF]/20"}`,children:[a?p.jsx(Sp,{className:"mr-2 h-4 w-4"}):p.jsx(Ya,{className:"mr-2 h-4 w-4"}),a?"Ocultar":"Interpretar"]}),p.jsx(Te,{onClick:o,variant:"ghost",size:"icon",className:`absolute ${i?"top-4 right-4 text-white bg-slate-700/50 hover:bg-slate-600/70":"top-2 right-2 text-slate-400 hover:text-slate-200 hover:bg-slate-700/50"}`,title:i?"Salir de Pantalla Completa":"Ver en Pantalla Completa",children:i?p.jsx(Mu,{className:"h-6 w-6"}):p.jsx(L2,{className:"h-5 w-5"})})]})}),!i&&p.jsxs(p.Fragment,{children:[p.jsx(Sc,{children:u&&p.jsx(be.div,{initial:{opacity:0,y:20,height:0},animate:{opacity:1,y:0,height:"auto"},exit:{opacity:0,y:20,height:0},transition:{duration:.3},className:"overflow-hidden mb-8",children:p.jsx(iM,{onSubmit:e,initialData:h,onCancel:()=>{f(!1),g(null)},cycleStartDate:t.startDate,isProcessing:b,isEditing:!!h})},"data-entry-form-detail")}),!u&&p.jsx("div",{className:"my-8",children:p.jsxs(Te,{onClick:()=>{g(null),f(!0)},className:"w-full sm:w-auto bg-gradient-to-r from-pink-500 to-fuchsia-600 hover:from-pink-600 hover:to-fuchsia-700 text-white font-semibold py-3 px-6 rounded-lg shadow-lg hover:shadow-xl transition-all duration-300 transform hover:scale-105 flex items-center justify-center text-lg",disabled:b,children:[p.jsx(ky,{className:"mr-2 h-5 w-5"})," Añadir registro en este ciclo"]})}),p.jsx(xM,{records:t.data,onEdit:E,onDelete:I,isArchiveView:!0,isProcessing:b})]}),p.jsx(UM,{isOpen:!!x,onClose:()=>w(null),onConfirm:N,recordDate:x?pe(le(x.isoDate),"dd/MM/yyyy"):"",isProcessing:b})]})},Ote=()=>{const{cycleId:t}=YV(),e=vu(),{user:n}=gl(),{getCycleById:r,isLoading:i,refreshData:o,toggleIgnoreRecord:s,updateCycleDates:a}=X1(t),[l,c]=m.useState(null),{toast:u}=vl(),[f,h]=m.useState(null),[g,x]=m.useState(!1),[w,b]=m.useState(null),[v,y]=m.useState(!1),{isFullScreen:E,toggleFullScreen:I,orientation:N}=BM(),[O,S]=m.useState(!1),[C,P]=m.useState(!1);m.useEffect(()=>{(async()=>{if(n){let $=await r(t);if(!$){const F=localStorage.getItem(`fertilityData_cycle_${n.uid}_${t}`);if(F){const W=JSON.parse(F);$={...W,data:M(W.data||[],W.startDate)}}}$?c($):(u({title:"Error",description:"No se pudo cargar el ciclo.",variant:"destructive"}),e("/archived-cycles"))}})()},[t,n,r,u,e]);const A=(V,$)=>{const F=De(le(V)),W=De(le($));return wo(F,W)+1},M=(V,$)=>!V||!Array.isArray(V)||!$?[]:[...V].sort((W,K)=>le(W.isoDate)-le(K.isoDate)).map(W=>({...W,ignored:W.ignored||!1,cycleDay:A(W.isoDate,$)})),D=V=>{if(!n||!V||!V.id)return;const $={...V,data:V.data.map(({cycleDay:F,...W})=>W)};localStorage.setItem(`fertilityData_cycle_${n.uid}_${V.id}`,JSON.stringify($))},R=V=>{if(!l||!n)return;S(!0);let $;const F={...V,isoDate:pe(De(le(V.isoDate)),"yyyy-MM-dd"),cycleDay:A(V.isoDate,l.startDate),ignored:f?V.ignored??f.ignored:V.ignored||!1};if(f)$=l.data.map(oe=>oe.id===f.id?{...oe,...F,id:f.id}:oe);else{const oe={...F,id:crypto.randomUUID?crypto.randomUUID():Math.random().toString(36).slice(2)};$=[...l.data,oe]}const W=M($,l.startDate),K={...l,data:W};D(K),c(K),u({title:f?"Registro actualizado":"Nuevo registro añadido",description:"Datos para el ciclo actualizados."}),x(!1),h(null),S(!1),o()},B=V=>{if(!l||!n)return;S(!0);const $=l.data.filter(K=>K.id!==V),F=M($,l.startDate),W={...l,data:F};D(W),c(W),u({title:"Registro eliminado",description:"El registro ha sido eliminado del ciclo.",variant:"destructive"}),b(null),S(!1),o()},q=(V,$)=>{if(!l||!n||l.id!==V)return;S(!0),s(V,$),c(W=>{if(!W)return null;const K=W.data.map(ue=>ue.id===$?{...ue,ignored:!ue.ignored}:ue),oe=M(K,W.startDate),he={...W,data:oe};return D(he),he});const F=l.data.find(W=>W.id===$);u({title:`Registro ${F&&!F.ignored?"despreciado":"restaurado"}`,description:`El registro del ${F?pe(le(F.isoDate),"dd/MM/yyyy"):""} ha sido ${F&&!F.ignored?"marcado como despreciado":"restaurado"}.`}),S(!1)},Y=async({startDate:V,endDate:$})=>{if(!(!l||!n)){S(!0);try{await a(l.id,V,$);const F=await r(l.id);F&&(D(F),c(F)),u({title:"Fechas actualizadas",description:"Las fechas del ciclo han sido modificadas."})}catch(F){console.error(F)}S(!1)}},z=m.useCallback(()=>{if(!l||!l.startDate)return[];const V=le(l.startDate),$=l.data.reduce((he,ue)=>{const X=le(ue.isoDate);return X>he?X:he},V),F=l.endDate?le(l.endDate):null;let W;if(F)W=wo(De(F),V)+1;else{const he=De(new Date),ue=$>he?$:he,X=wo(De(ue),V);W=Math.max(Dte,X+1)}return zM(V,W).map(he=>{const ue=l.data.find(X=>X.isoDate===he.isoDate);return ue?{...ue,date:he.date}:he})},[l]);if(i||!l)return p.jsx("div",{className:"text-center text-slate-300 p-8",children:"Cargando detalles del ciclo..."});const L=z();return p.jsxs(p.Fragment,{children:[p.jsx(Mte,{cycleData:l,addOrUpdateDataPointForCycle:R,deleteRecordForCycle:B,toggleIgnoreRecordForCycle:q,isFullScreen:E,toggleFullScreen:I,orientation:N,showInterpretation:C,setShowInterpretation:P,chartDisplayData:L,showForm:g,setShowForm:x,editingRecord:f,setEditingRecord:h,recordToDelete:w,setRecordToDelete:b,isProcessing:O,toast:u,onEditCycleDates:()=>y(!0)}),p.jsx(Nh,{isOpen:v,onClose:()=>y(!1),onConfirm:Y,initialStartDate:l.startDate,initialEndDate:l.endDate})]})},Lte=VM,Vte=yte,YM=FM,jte=jM,KM=xe.forwardRef(({className:t,...e},n)=>p.jsx(zp,{className:Ne("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e,ref:n}));KM.displayName=zp.displayName;const Fte=Au("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4 border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),QM=xe.forwardRef(({side:t="right",className:e,children:n,...r},i)=>p.jsxs(jte,{children:[p.jsx(KM,{}),p.jsx(Hp,{ref:i,className:Ne(Fte({side:t}),e),...r,children:n})]}));QM.displayName=Hp.displayName;const $te=xe.forwardRef(({className:t,...e},n)=>p.jsx(qp,{ref:n,className:Ne("text-lg font-semibold text-foreground",t),...e}));$te.displayName=qp.displayName;const Ute=xe.forwardRef(({className:t,...e},n)=>p.jsx(Gp,{ref:n,className:Ne("text-sm text-muted-foreground",t),...e}));Ute.displayName=Gp.displayName;const iS=({to:t,children:e,Icon:n,onClick:r})=>{const o=sl().pathname===t;return p.jsx(YM,{asChild:!0,children:p.jsxs(Yc,{to:t,onClick:r,className:`flex items-center px-4 py-3 text-lg rounded-md transition-colors duration-200 ease-in-out
                         ${o?"bg-[#E27DBF] text-white shadow":"text-[#393C65] hover:bg-[#E27DBF]/10 hover:text-[#E27DBF]"}
                        `,children:[p.jsx(n,{className:`mr-3 h-6 w-6 ${o?"text-white":"text-[#E27DBF]"}`}),e]})})},Ug=({children:t})=>{const{user:e,logout:n}=gl(),r=vu(),[i,o]=m.useState(!1);Ts(i,()=>o(!1));const s=()=>{n(),r("/auth")};return p.jsxs("div",{className:"min-h-screen flex flex-col",children:[p.jsx("header",{className:"sticky top-0 z-40 w-full bg-[#FFB1DD]/20 backdrop-blur-md text-[#393C65]",children:p.jsxs("div",{className:"container mx-auto flex items-center justify-between h-20 px-4 sm:px-6",children:[p.jsxs(Yc,{to:"/",className:"flex items-center space-x-2",children:[p.jsx("img",{alt:"FertiliApp Logo ",className:"h-10 w-10 rounded-full",src:"https://i.postimg.cc/W3JHZ71t/Chat-GPT-Image-27-jun-2025-12-17-23.png"}),p.jsx("span",{className:"text-2xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-rose-400 via-pink-400 to-fuchsia-500",children:"FertiliApp"})]}),p.jsxs(Lte,{open:i,onOpenChange:o,children:[p.jsx(Vte,{asChild:!0,children:p.jsxs(Te,{variant:"ghost",size:"icon",className:"text-[#393C65] hover:text-[#E27DBF] hover:bg-[#E27DBF]\\/10",children:[p.jsx(oH,{className:"h-8 w-8"}),p.jsx("span",{className:"sr-only",children:"Abrir menú"})]})}),p.jsxs(QM,{side:"right",className:"w-[300px] sm:w-[350px] bg-[#FFEAF5] border-l-[#FFB1DD] p-0 flex flex-col",children:[p.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-[#FFB1DD]",children:[p.jsxs("div",{className:"flex items-center space-x-3",children:[p.jsx(dH,{className:"h-10 w-10 text-[#FFB1DD]"}),p.jsxs("div",{children:[p.jsx("p",{className:"text-lg font-semibold",children:"Hola,"}),p.jsx("p",{className:"text-sm text-[#FFB1DD] truncate max-w-[180px]",children:e==null?void 0:e.email})]})]}),p.jsx(YM,{asChild:!0,children:p.jsx(Te,{variant:"ghost",size:"icon",className:"text-[#E27DBF] hover:bg-white/10",children:p.jsx(Mu,{className:"h-6 w-6"})})})]}),p.jsxs("nav",{className:"flex-grow p-6 space-y-3",children:[p.jsx(iS,{to:"/",Icon:eH,onClick:()=>o(!1),children:"Ciclo Actual"}),p.jsx(iS,{to:"/archived-cycles",Icon:O2,onClick:()=>o(!1),children:"Mis Ciclos"})]}),p.jsx("div",{className:"p-6 border-t border-[#FFB1DD]",children:p.jsxs(Te,{onClick:()=>{s(),o(!1)},variant:"outline",className:"w-full border-[#FFB1DD] text-[#393C65] hover:bg-[#E27DBF]/10 hover:text-[#E27DBF] font-semibold py-3 text-lg flex items-center",children:[p.jsx(rH,{className:"mr-2 h-5 w-5"})," Salir"]})})]})]})]})}),p.jsx("div",{className:"flex-grow container mx-auto px-4 sm:px-6 py-8",children:t}),p.jsxs("footer",{className:"w-full py-8 text-center text-[#6B7280] text-sm border-t border-[#FFB1DD]/50 mt-12",children:[p.jsxs("p",{children:["© ",new Date().getFullYear()," Seguimiento de Fertilidad. Todos los derechos reservados."]}),p.jsx("p",{children:"Creado con Hostinger Horizons."})]})]})};function Bte(t){const e=t+"CollectionProvider",[n,r]=Ds(e),[i,o]=n(e,{collectionRef:{current:null},itemMap:new Map}),s=w=>{const{scope:b,children:v}=w,y=xe.useRef(null),E=xe.useRef(new Map).current;return p.jsx(i,{scope:b,itemMap:E,collectionRef:y,children:v})};s.displayName=e;const a=t+"CollectionSlot",l=Ha(a),c=xe.forwardRef((w,b)=>{const{scope:v,children:y}=w,E=o(a,v),I=lt(b,E.collectionRef);return p.jsx(l,{ref:I,children:y})});c.displayName=a;const u=t+"CollectionItemSlot",f="data-radix-collection-item",h=Ha(u),g=xe.forwardRef((w,b)=>{const{scope:v,children:y,...E}=w,I=xe.useRef(null),N=lt(b,I),O=o(u,v);return xe.useEffect(()=>(O.itemMap.set(I,{ref:I,...E}),()=>void O.itemMap.delete(I))),p.jsx(h,{[f]:"",ref:N,children:y})});g.displayName=u;function x(w){const b=o(t+"CollectionConsumer",w);return xe.useCallback(()=>{const y=b.collectionRef.current;if(!y)return[];const E=Array.from(y.querySelectorAll(`[${f}]`));return Array.from(b.itemMap.values()).sort((O,S)=>E.indexOf(O.ref.current)-E.indexOf(S.ref.current))},[b.collectionRef,b.itemMap])}return[{Provider:s,Slot:c,ItemSlot:g},x,r]}var Wte=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),zte="VisuallyHidden",J1=m.forwardRef((t,e)=>p.jsx(ze.span,{...t,ref:e,style:{...Wte,...t.style}}));J1.displayName=zte;var Z1="ToastProvider",[ex,Hte,qte]=Bte("Toast"),[XM,Pne]=Ds("Toast",[qte]),[Gte,Zp]=XM(Z1),JM=t=>{const{__scopeToast:e,label:n="Notification",duration:r=5e3,swipeDirection:i="right",swipeThreshold:o=50,children:s}=t,[a,l]=m.useState(null),[c,u]=m.useState(0),f=m.useRef(!1),h=m.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${Z1}\`. Expected non-empty \`string\`.`),p.jsx(ex.Provider,{scope:e,children:p.jsx(Gte,{scope:e,label:n,duration:r,swipeDirection:i,swipeThreshold:o,toastCount:c,viewport:a,onViewportChange:l,onToastAdd:m.useCallback(()=>u(g=>g+1),[]),onToastRemove:m.useCallback(()=>u(g=>g-1),[]),isFocusedToastEscapeKeyDownRef:f,isClosePausedRef:h,children:s})})};JM.displayName=Z1;var ZM="ToastViewport",Yte=["F8"],zy="toast.viewportPause",Hy="toast.viewportResume",eO=m.forwardRef((t,e)=>{const{__scopeToast:n,hotkey:r=Yte,label:i="Notifications ({hotkey})",...o}=t,s=Zp(ZM,n),a=Hte(n),l=m.useRef(null),c=m.useRef(null),u=m.useRef(null),f=m.useRef(null),h=lt(e,f,s.onViewportChange),g=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),x=s.toastCount>0;m.useEffect(()=>{const b=v=>{var E;r.length!==0&&r.every(I=>v[I]||v.code===I)&&((E=f.current)==null||E.focus())};return document.addEventListener("keydown",b),()=>document.removeEventListener("keydown",b)},[r]),m.useEffect(()=>{const b=l.current,v=f.current;if(x&&b&&v){const y=()=>{if(!s.isClosePausedRef.current){const O=new CustomEvent(zy);v.dispatchEvent(O),s.isClosePausedRef.current=!0}},E=()=>{if(s.isClosePausedRef.current){const O=new CustomEvent(Hy);v.dispatchEvent(O),s.isClosePausedRef.current=!1}},I=O=>{!b.contains(O.relatedTarget)&&E()},N=()=>{b.contains(document.activeElement)||E()};return b.addEventListener("focusin",y),b.addEventListener("focusout",I),b.addEventListener("pointermove",y),b.addEventListener("pointerleave",N),window.addEventListener("blur",y),window.addEventListener("focus",E),()=>{b.removeEventListener("focusin",y),b.removeEventListener("focusout",I),b.removeEventListener("pointermove",y),b.removeEventListener("pointerleave",N),window.removeEventListener("blur",y),window.removeEventListener("focus",E)}}},[x,s.isClosePausedRef]);const w=m.useCallback(({tabbingDirection:b})=>{const y=a().map(E=>{const I=E.ref.current,N=[I,...ane(I)];return b==="forwards"?N:N.reverse()});return(b==="forwards"?y.reverse():y).flat()},[a]);return m.useEffect(()=>{const b=f.current;if(b){const v=y=>{var N,O,S;const E=y.altKey||y.ctrlKey||y.metaKey;if(y.key==="Tab"&&!E){const C=document.activeElement,P=y.shiftKey;if(y.target===b&&P){(N=c.current)==null||N.focus();return}const D=w({tabbingDirection:P?"backwards":"forwards"}),R=D.findIndex(B=>B===C);Bg(D.slice(R+1))?y.preventDefault():P?(O=c.current)==null||O.focus():(S=u.current)==null||S.focus()}};return b.addEventListener("keydown",v),()=>b.removeEventListener("keydown",v)}},[a,w]),p.jsxs(KQ,{ref:l,role:"region","aria-label":i.replace("{hotkey}",g),tabIndex:-1,style:{pointerEvents:x?void 0:"none"},children:[x&&p.jsx(qy,{ref:c,onFocusFromOutsideViewport:()=>{const b=w({tabbingDirection:"forwards"});Bg(b)}}),p.jsx(ex.Slot,{scope:n,children:p.jsx(ze.ol,{tabIndex:-1,...o,ref:h})}),x&&p.jsx(qy,{ref:u,onFocusFromOutsideViewport:()=>{const b=w({tabbingDirection:"backwards"});Bg(b)}})]})});eO.displayName=ZM;var tO="ToastFocusProxy",qy=m.forwardRef((t,e)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...i}=t,o=Zp(tO,n);return p.jsx(J1,{"aria-hidden":!0,tabIndex:0,...i,ref:e,style:{position:"fixed"},onFocus:s=>{var c;const a=s.relatedTarget;!((c=o.viewport)!=null&&c.contains(a))&&r()}})});qy.displayName=tO;var $u="Toast",Kte="toast.swipeStart",Qte="toast.swipeMove",Xte="toast.swipeCancel",Jte="toast.swipeEnd",nO=m.forwardRef((t,e)=>{const{forceMount:n,open:r,defaultOpen:i,onOpenChange:o,...s}=t,[a,l]=Pp({prop:r,defaultProp:i??!0,onChange:o,caller:$u});return p.jsx(Xn,{present:n||a,children:p.jsx(tne,{open:a,...s,ref:e,onClose:()=>l(!1),onPause:Bt(t.onPause),onResume:Bt(t.onResume),onSwipeStart:Ue(t.onSwipeStart,c=>{c.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Ue(t.onSwipeMove,c=>{const{x:u,y:f}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","move"),c.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${u}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${f}px`)}),onSwipeCancel:Ue(t.onSwipeCancel,c=>{c.currentTarget.setAttribute("data-swipe","cancel"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Ue(t.onSwipeEnd,c=>{const{x:u,y:f}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","end"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${u}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${f}px`),l(!1)})})})});nO.displayName=$u;var[Zte,ene]=XM($u,{onClose(){}}),tne=m.forwardRef((t,e)=>{const{__scopeToast:n,type:r="foreground",duration:i,open:o,onClose:s,onEscapeKeyDown:a,onPause:l,onResume:c,onSwipeStart:u,onSwipeMove:f,onSwipeCancel:h,onSwipeEnd:g,...x}=t,w=Zp($u,n),[b,v]=m.useState(null),y=lt(e,B=>v(B)),E=m.useRef(null),I=m.useRef(null),N=i||w.duration,O=m.useRef(0),S=m.useRef(N),C=m.useRef(0),{onToastAdd:P,onToastRemove:A}=w,M=Bt(()=>{var q;(b==null?void 0:b.contains(document.activeElement))&&((q=w.viewport)==null||q.focus()),s()}),D=m.useCallback(B=>{!B||B===1/0||(window.clearTimeout(C.current),O.current=new Date().getTime(),C.current=window.setTimeout(M,B))},[M]);m.useEffect(()=>{const B=w.viewport;if(B){const q=()=>{D(S.current),c==null||c()},Y=()=>{const z=new Date().getTime()-O.current;S.current=S.current-z,window.clearTimeout(C.current),l==null||l()};return B.addEventListener(zy,Y),B.addEventListener(Hy,q),()=>{B.removeEventListener(zy,Y),B.removeEventListener(Hy,q)}}},[w.viewport,N,l,c,D]),m.useEffect(()=>{o&&!w.isClosePausedRef.current&&D(N)},[o,N,w.isClosePausedRef,D]),m.useEffect(()=>(P(),()=>A()),[P,A]);const R=m.useMemo(()=>b?cO(b):null,[b]);return w.viewport?p.jsxs(p.Fragment,{children:[R&&p.jsx(nne,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:R}),p.jsx(Zte,{scope:n,onClose:M,children:Lo.createPortal(p.jsx(ex.ItemSlot,{scope:n,children:p.jsx(YQ,{asChild:!0,onEscapeKeyDown:Ue(a,()=>{w.isFocusedToastEscapeKeyDownRef.current||M(),w.isFocusedToastEscapeKeyDownRef.current=!1}),children:p.jsx(ze.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":o?"open":"closed","data-swipe-direction":w.swipeDirection,...x,ref:y,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:Ue(t.onKeyDown,B=>{B.key==="Escape"&&(a==null||a(B.nativeEvent),B.nativeEvent.defaultPrevented||(w.isFocusedToastEscapeKeyDownRef.current=!0,M()))}),onPointerDown:Ue(t.onPointerDown,B=>{B.button===0&&(E.current={x:B.clientX,y:B.clientY})}),onPointerMove:Ue(t.onPointerMove,B=>{if(!E.current)return;const q=B.clientX-E.current.x,Y=B.clientY-E.current.y,z=!!I.current,L=["left","right"].includes(w.swipeDirection),V=["left","up"].includes(w.swipeDirection)?Math.min:Math.max,$=L?V(0,q):0,F=L?0:V(0,Y),W=B.pointerType==="touch"?10:2,K={x:$,y:F},oe={originalEvent:B,delta:K};z?(I.current=K,Bd(Qte,f,oe,{discrete:!1})):oS(K,w.swipeDirection,W)?(I.current=K,Bd(Kte,u,oe,{discrete:!1}),B.target.setPointerCapture(B.pointerId)):(Math.abs(q)>W||Math.abs(Y)>W)&&(E.current=null)}),onPointerUp:Ue(t.onPointerUp,B=>{const q=I.current,Y=B.target;if(Y.hasPointerCapture(B.pointerId)&&Y.releasePointerCapture(B.pointerId),I.current=null,E.current=null,q){const z=B.currentTarget,L={originalEvent:B,delta:q};oS(q,w.swipeDirection,w.swipeThreshold)?Bd(Jte,g,L,{discrete:!0}):Bd(Xte,h,L,{discrete:!0}),z.addEventListener("click",V=>V.preventDefault(),{once:!0})}})})})}),w.viewport)})]}):null}),nne=t=>{const{__scopeToast:e,children:n,...r}=t,i=Zp($u,e),[o,s]=m.useState(!1),[a,l]=m.useState(!1);return one(()=>s(!0)),m.useEffect(()=>{const c=window.setTimeout(()=>l(!0),1e3);return()=>window.clearTimeout(c)},[]),a?null:p.jsx(Mp,{asChild:!0,children:p.jsx(J1,{...r,children:o&&p.jsxs(p.Fragment,{children:[i.label," ",n]})})})},rne="ToastTitle",rO=m.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return p.jsx(ze.div,{...r,ref:e})});rO.displayName=rne;var ine="ToastDescription",iO=m.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return p.jsx(ze.div,{...r,ref:e})});iO.displayName=ine;var oO="ToastAction",sO=m.forwardRef((t,e)=>{const{altText:n,...r}=t;return n.trim()?p.jsx(lO,{altText:n,asChild:!0,children:p.jsx(tx,{...r,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${oO}\`. Expected non-empty \`string\`.`),null)});sO.displayName=oO;var aO="ToastClose",tx=m.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t,i=ene(aO,n);return p.jsx(lO,{asChild:!0,children:p.jsx(ze.button,{type:"button",...r,ref:e,onClick:Ue(t.onClick,i.onClose)})})});tx.displayName=aO;var lO=m.forwardRef((t,e)=>{const{__scopeToast:n,altText:r,...i}=t;return p.jsx(ze.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...i,ref:e})});function cO(t){const e=[];return Array.from(t.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&e.push(r.textContent),sne(r)){const i=r.ariaHidden||r.hidden||r.style.display==="none",o=r.dataset.radixToastAnnounceExclude==="";if(!i)if(o){const s=r.dataset.radixToastAnnounceAlt;s&&e.push(s)}else e.push(...cO(r))}}),e}function Bd(t,e,n,{discrete:r}){const i=n.originalEvent.currentTarget,o=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:n});e&&i.addEventListener(t,e,{once:!0}),r?uR(i,o):i.dispatchEvent(o)}var oS=(t,e,n=0)=>{const r=Math.abs(t.x),i=Math.abs(t.y),o=r>i;return e==="left"||e==="right"?o&&r>n:!o&&i>n};function one(t=()=>{}){const e=Bt(t);Br(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[e])}function sne(t){return t.nodeType===t.ELEMENT_NODE}function ane(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function Bg(t){const e=document.activeElement;return t.some(n=>n===e?!0:(n.focus(),document.activeElement!==e))}var lne=JM,uO=eO,dO=nO,fO=rO,hO=iO,pO=sO,mO=tx;const cne=lne,gO=xe.forwardRef(({className:t,...e},n)=>p.jsx(uO,{ref:n,className:Ne("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));gO.displayName=uO.displayName;const une=Au("data-[swipe=move]:transition-none group relative pointer-events-auto flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full data-[state=closed]:slide-out-to-right-full",{variants:{variant:{default:"bg-background border",destructive:"group destructive border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),vO=xe.forwardRef(({className:t,variant:e,...n},r)=>p.jsx(dO,{ref:r,className:Ne(une({variant:e}),t),...n}));vO.displayName=dO.displayName;const dne=xe.forwardRef(({className:t,...e},n)=>p.jsx(pO,{ref:n,className:Ne("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-destructive/30 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...e}));dne.displayName=pO.displayName;const yO=xe.forwardRef(({className:t,...e},n)=>p.jsx(mO,{ref:n,className:Ne("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:p.jsx(Mu,{className:"h-4 w-4"})}));yO.displayName=mO.displayName;const wO=xe.forwardRef(({className:t,...e},n)=>p.jsx(fO,{ref:n,className:Ne("text-sm font-semibold",t),...e}));wO.displayName=fO.displayName;const xO=xe.forwardRef(({className:t,...e},n)=>p.jsx(hO,{ref:n,className:Ne("text-sm opacity-90",t),...e}));xO.displayName=hO.displayName;function fne(){const{toasts:t}=vl();return p.jsxs(cne,{children:[t.map(({id:e,title:n,description:r,action:i,...o})=>p.jsxs(vO,{...o,children:[p.jsxs("div",{className:"grid gap-1",children:[n&&p.jsx(wO,{children:n}),r&&p.jsx(xO,{children:r})]}),i,p.jsx(yO,{})]},e)),p.jsx(gO,{})]})}function Wg({children:t}){const{user:e}=gl();return e?t:p.jsx(jv,{to:"/auth",replace:!0})}function hne(){const{user:t,loadingAuth:e}=gl();return e?p.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gradient-to-br from-pink-50 via-purple-50 to-indigo-50 space-y-4",children:[p.jsx(be.div,{className:"w-8 h-8 rounded-full bg-pink-500/80",animate:{opacity:[.4,1,.4]},transition:{duration:1.2,repeat:1/0}}),p.jsx(be.p,{className:"text-pink-600 font-medium",initial:{opacity:0},animate:{opacity:1},transition:{delay:.2},children:"Cargando aplicación..."})]}):p.jsxs(u5,{children:[p.jsx(Gs,{path:"/auth",element:t?p.jsx(jv,{to:"/",replace:!0}):p.jsx(hH,{})}),p.jsx(Gs,{path:"/",element:p.jsx(Wg,{children:p.jsx(Ug,{children:p.jsx(Rte,{})})})}),p.jsx(Gs,{path:"/archived-cycles",element:p.jsx(Wg,{children:p.jsx(Ug,{children:p.jsx(Nte,{})})})}),p.jsx(Gs,{path:"/cycle/:cycleId",element:p.jsx(Wg,{children:p.jsx(Ug,{children:p.jsx(Ote,{})})})}),p.jsx(Gs,{path:"*",element:p.jsx(jv,{to:t?"/":"/auth",replace:!0})})]})}function pne(){return p.jsx(v5,{basename,children:p.jsxs(jU,{children:[p.jsx(hne,{}),p.jsx(fne,{})]})})}zg.createRoot(document.getElementById("root")).render(p.jsx(xe.StrictMode,{children:p.jsx(pne,{})}));"serviceWorker"in navigator&&window.addEventListener("load",()=>{const t="/sw.js";navigator.serviceWorker.register(t)});
