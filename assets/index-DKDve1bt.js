const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/AuthPage-vBfztWF5.js","assets/input-3y406qNm.js","assets/label-CjCq2AfR.js","assets/InstallPrompt-u-lRJnT4.js","assets/eye-B04h8Q7I.js","assets/DashboardPage-B0n1fEjW.js","assets/PostpartumExitDialog-Cpj4GPqp.js","assets/OverlapWarningDialog-BdysBLfz.js","assets/useCycleData-B59yyua_.js","assets/badge-Bv0PJFOO.js","assets/DataEntryForm-BA2ItfuX.js","assets/computePeakStatuses-DDireWCn.js","assets/useFertilityChart-CT4cpUOn.js","assets/ArchivedCyclesPage-Dh3ZMCzC.js","assets/DeletionDialog-CF9wx8xT.js","assets/CycleDetailPage-Cig9zHtr.js","assets/RecordsPage-C5L22UIi.js","assets/arrow-left-B-zvaJsb.js","assets/SettingsPage-BbOlE_em.js","assets/ChartPage-I6MZUrr0.js"])))=>i.map(i=>d[i]);
function TD(n,e){for(var t=0;t<e.length;t++){const r=e[t];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in n)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(n,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function t(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=t(i);fetch(i.href,s)}})();var dH=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Jv(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Xg={exports:{}},Tc={},Jg={exports:{}},We={};var rE;function ED(){if(rE)return We;rE=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),a=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),g=Symbol.iterator;function v(N){return N===null||typeof N!="object"?null:(N=g&&N[g]||N["@@iterator"],typeof N=="function"?N:null)}var E={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},R=Object.assign,k={};function A(N,Q,he){this.props=N,this.context=Q,this.refs=k,this.updater=he||E}A.prototype.isReactComponent={},A.prototype.setState=function(N,Q){if(typeof N!="object"&&typeof N!="function"&&N!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,N,Q,"setState")},A.prototype.forceUpdate=function(N){this.updater.enqueueForceUpdate(this,N,"forceUpdate")};function j(){}j.prototype=A.prototype;function O(N,Q,he){this.props=N,this.context=Q,this.refs=k,this.updater=he||E}var F=O.prototype=new j;F.constructor=O,R(F,A.prototype),F.isPureReactComponent=!0;var z=Array.isArray,te=Object.prototype.hasOwnProperty,Y={current:null},C={key:!0,ref:!0,__self:!0,__source:!0};function S(N,Q,he){var me,pe={},Se=null,Me=null;if(Q!=null)for(me in Q.ref!==void 0&&(Me=Q.ref),Q.key!==void 0&&(Se=""+Q.key),Q)te.call(Q,me)&&!C.hasOwnProperty(me)&&(pe[me]=Q[me]);var Be=arguments.length-2;if(Be===1)pe.children=he;else if(1<Be){for(var He=Array(Be),ct=0;ct<Be;ct++)He[ct]=arguments[ct+2];pe.children=He}if(N&&N.defaultProps)for(me in Be=N.defaultProps,Be)pe[me]===void 0&&(pe[me]=Be[me]);return{$$typeof:n,type:N,key:Se,ref:Me,props:pe,_owner:Y.current}}function D(N,Q){return{$$typeof:n,type:N.type,key:Q,ref:N.ref,props:N.props,_owner:N._owner}}function L(N){return typeof N=="object"&&N!==null&&N.$$typeof===n}function M(N){var Q={"=":"=0",":":"=2"};return"$"+N.replace(/[=:]/g,function(he){return Q[he]})}var U=/\/+/g;function P(N,Q){return typeof N=="object"&&N!==null&&N.key!=null?M(""+N.key):Q.toString(36)}function X(N,Q,he,me,pe){var Se=typeof N;(Se==="undefined"||Se==="boolean")&&(N=null);var Me=!1;if(N===null)Me=!0;else switch(Se){case"string":case"number":Me=!0;break;case"object":switch(N.$$typeof){case n:case e:Me=!0}}if(Me)return Me=N,pe=pe(Me),N=me===""?"."+P(Me,0):me,z(pe)?(he="",N!=null&&(he=N.replace(U,"$&/")+"/"),X(pe,Q,he,"",function(ct){return ct})):pe!=null&&(L(pe)&&(pe=D(pe,he+(!pe.key||Me&&Me.key===pe.key?"":(""+pe.key).replace(U,"$&/")+"/")+N)),Q.push(pe)),1;if(Me=0,me=me===""?".":me+":",z(N))for(var Be=0;Be<N.length;Be++){Se=N[Be];var He=me+P(Se,Be);Me+=X(Se,Q,he,He,pe)}else if(He=v(N),typeof He=="function")for(N=He.call(N),Be=0;!(Se=N.next()).done;)Se=Se.value,He=me+P(Se,Be++),Me+=X(Se,Q,he,He,pe);else if(Se==="object")throw Q=String(N),Error("Objects are not valid as a React child (found: "+(Q==="[object Object]"?"object with keys {"+Object.keys(N).join(", ")+"}":Q)+"). If you meant to render a collection of children, use an array instead.");return Me}function se(N,Q,he){if(N==null)return N;var me=[],pe=0;return X(N,me,"","",function(Se){return Q.call(he,Se,pe++)}),me}function oe(N){if(N._status===-1){var Q=N._result;Q=Q(),Q.then(function(he){(N._status===0||N._status===-1)&&(N._status=1,N._result=he)},function(he){(N._status===0||N._status===-1)&&(N._status=2,N._result=he)}),N._status===-1&&(N._status=0,N._result=Q)}if(N._status===1)return N._result.default;throw N._result}var ie={current:null},ee={transition:null},de={ReactCurrentDispatcher:ie,ReactCurrentBatchConfig:ee,ReactCurrentOwner:Y};function ne(){throw Error("act(...) is not supported in production builds of React.")}return We.Children={map:se,forEach:function(N,Q,he){se(N,function(){Q.apply(this,arguments)},he)},count:function(N){var Q=0;return se(N,function(){Q++}),Q},toArray:function(N){return se(N,function(Q){return Q})||[]},only:function(N){if(!L(N))throw Error("React.Children.only expected to receive a single React element child.");return N}},We.Component=A,We.Fragment=t,We.Profiler=i,We.PureComponent=O,We.StrictMode=r,We.Suspense=d,We.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=de,We.act=ne,We.cloneElement=function(N,Q,he){if(N==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+N+".");var me=R({},N.props),pe=N.key,Se=N.ref,Me=N._owner;if(Q!=null){if(Q.ref!==void 0&&(Se=Q.ref,Me=Y.current),Q.key!==void 0&&(pe=""+Q.key),N.type&&N.type.defaultProps)var Be=N.type.defaultProps;for(He in Q)te.call(Q,He)&&!C.hasOwnProperty(He)&&(me[He]=Q[He]===void 0&&Be!==void 0?Be[He]:Q[He])}var He=arguments.length-2;if(He===1)me.children=he;else if(1<He){Be=Array(He);for(var ct=0;ct<He;ct++)Be[ct]=arguments[ct+2];me.children=Be}return{$$typeof:n,type:N.type,key:pe,ref:Se,props:me,_owner:Me}},We.createContext=function(N){return N={$$typeof:a,_currentValue:N,_currentValue2:N,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},N.Provider={$$typeof:s,_context:N},N.Consumer=N},We.createElement=S,We.createFactory=function(N){var Q=S.bind(null,N);return Q.type=N,Q},We.createRef=function(){return{current:null}},We.forwardRef=function(N){return{$$typeof:u,render:N}},We.isValidElement=L,We.lazy=function(N){return{$$typeof:m,_payload:{_status:-1,_result:N},_init:oe}},We.memo=function(N,Q){return{$$typeof:h,type:N,compare:Q===void 0?null:Q}},We.startTransition=function(N){var Q=ee.transition;ee.transition={};try{N()}finally{ee.transition=Q}},We.unstable_act=ne,We.useCallback=function(N,Q){return ie.current.useCallback(N,Q)},We.useContext=function(N){return ie.current.useContext(N)},We.useDebugValue=function(){},We.useDeferredValue=function(N){return ie.current.useDeferredValue(N)},We.useEffect=function(N,Q){return ie.current.useEffect(N,Q)},We.useId=function(){return ie.current.useId()},We.useImperativeHandle=function(N,Q,he){return ie.current.useImperativeHandle(N,Q,he)},We.useInsertionEffect=function(N,Q){return ie.current.useInsertionEffect(N,Q)},We.useLayoutEffect=function(N,Q){return ie.current.useLayoutEffect(N,Q)},We.useMemo=function(N,Q){return ie.current.useMemo(N,Q)},We.useReducer=function(N,Q,he){return ie.current.useReducer(N,Q,he)},We.useRef=function(N){return ie.current.useRef(N)},We.useState=function(N){return ie.current.useState(N)},We.useSyncExternalStore=function(N,Q,he){return ie.current.useSyncExternalStore(N,Q,he)},We.useTransition=function(){return ie.current.useTransition()},We.version="18.3.1",We}var iE;function Zv(){return iE||(iE=1,Jg.exports=ED()),Jg.exports}var sE;function ID(){if(sE)return Tc;sE=1;var n=Zv(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,i=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function a(u,d,h){var m,g={},v=null,E=null;h!==void 0&&(v=""+h),d.key!==void 0&&(v=""+d.key),d.ref!==void 0&&(E=d.ref);for(m in d)r.call(d,m)&&!s.hasOwnProperty(m)&&(g[m]=d[m]);if(u&&u.defaultProps)for(m in d=u.defaultProps,d)g[m]===void 0&&(g[m]=d[m]);return{$$typeof:e,type:u,key:v,ref:E,props:g,_owner:i.current}}return Tc.Fragment=t,Tc.jsx=a,Tc.jsxs=a,Tc}var oE;function SD(){return oE||(oE=1,Xg.exports=ID()),Xg.exports}var q=SD(),x=Zv();const Qt=Jv(x),ew=TD({__proto__:null,default:Qt},[x]);var sf={},Zg={exports:{}},jn={},ey={exports:{}},ty={};var aE;function PD(){return aE||(aE=1,(function(n){function e(ee,de){var ne=ee.length;ee.push(de);e:for(;0<ne;){var N=ne-1>>>1,Q=ee[N];if(0<i(Q,de))ee[N]=de,ee[ne]=Q,ne=N;else break e}}function t(ee){return ee.length===0?null:ee[0]}function r(ee){if(ee.length===0)return null;var de=ee[0],ne=ee.pop();if(ne!==de){ee[0]=ne;e:for(var N=0,Q=ee.length,he=Q>>>1;N<he;){var me=2*(N+1)-1,pe=ee[me],Se=me+1,Me=ee[Se];if(0>i(pe,ne))Se<Q&&0>i(Me,pe)?(ee[N]=Me,ee[Se]=ne,N=Se):(ee[N]=pe,ee[me]=ne,N=me);else if(Se<Q&&0>i(Me,ne))ee[N]=Me,ee[Se]=ne,N=Se;else break e}}return de}function i(ee,de){var ne=ee.sortIndex-de.sortIndex;return ne!==0?ne:ee.id-de.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;n.unstable_now=function(){return s.now()}}else{var a=Date,u=a.now();n.unstable_now=function(){return a.now()-u}}var d=[],h=[],m=1,g=null,v=3,E=!1,R=!1,k=!1,A=typeof setTimeout=="function"?setTimeout:null,j=typeof clearTimeout=="function"?clearTimeout:null,O=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function F(ee){for(var de=t(h);de!==null;){if(de.callback===null)r(h);else if(de.startTime<=ee)r(h),de.sortIndex=de.expirationTime,e(d,de);else break;de=t(h)}}function z(ee){if(k=!1,F(ee),!R)if(t(d)!==null)R=!0,oe(te);else{var de=t(h);de!==null&&ie(z,de.startTime-ee)}}function te(ee,de){R=!1,k&&(k=!1,j(S),S=-1),E=!0;var ne=v;try{for(F(de),g=t(d);g!==null&&(!(g.expirationTime>de)||ee&&!M());){var N=g.callback;if(typeof N=="function"){g.callback=null,v=g.priorityLevel;var Q=N(g.expirationTime<=de);de=n.unstable_now(),typeof Q=="function"?g.callback=Q:g===t(d)&&r(d),F(de)}else r(d);g=t(d)}if(g!==null)var he=!0;else{var me=t(h);me!==null&&ie(z,me.startTime-de),he=!1}return he}finally{g=null,v=ne,E=!1}}var Y=!1,C=null,S=-1,D=5,L=-1;function M(){return!(n.unstable_now()-L<D)}function U(){if(C!==null){var ee=n.unstable_now();L=ee;var de=!0;try{de=C(!0,ee)}finally{de?P():(Y=!1,C=null)}}else Y=!1}var P;if(typeof O=="function")P=function(){O(U)};else if(typeof MessageChannel<"u"){var X=new MessageChannel,se=X.port2;X.port1.onmessage=U,P=function(){se.postMessage(null)}}else P=function(){A(U,0)};function oe(ee){C=ee,Y||(Y=!0,P())}function ie(ee,de){S=A(function(){ee(n.unstable_now())},de)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(ee){ee.callback=null},n.unstable_continueExecution=function(){R||E||(R=!0,oe(te))},n.unstable_forceFrameRate=function(ee){0>ee||125<ee?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<ee?Math.floor(1e3/ee):5},n.unstable_getCurrentPriorityLevel=function(){return v},n.unstable_getFirstCallbackNode=function(){return t(d)},n.unstable_next=function(ee){switch(v){case 1:case 2:case 3:var de=3;break;default:de=v}var ne=v;v=de;try{return ee()}finally{v=ne}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(ee,de){switch(ee){case 1:case 2:case 3:case 4:case 5:break;default:ee=3}var ne=v;v=ee;try{return de()}finally{v=ne}},n.unstable_scheduleCallback=function(ee,de,ne){var N=n.unstable_now();switch(typeof ne=="object"&&ne!==null?(ne=ne.delay,ne=typeof ne=="number"&&0<ne?N+ne:N):ne=N,ee){case 1:var Q=-1;break;case 2:Q=250;break;case 5:Q=1073741823;break;case 4:Q=1e4;break;default:Q=5e3}return Q=ne+Q,ee={id:m++,callback:de,priorityLevel:ee,startTime:ne,expirationTime:Q,sortIndex:-1},ne>N?(ee.sortIndex=ne,e(h,ee),t(d)===null&&ee===t(h)&&(k?(j(S),S=-1):k=!0,ie(z,ne-N))):(ee.sortIndex=Q,e(d,ee),R||E||(R=!0,oe(te))),ee},n.unstable_shouldYield=M,n.unstable_wrapCallback=function(ee){var de=v;return function(){var ne=v;v=de;try{return ee.apply(this,arguments)}finally{v=ne}}}})(ty)),ty}var lE;function CD(){return lE||(lE=1,ey.exports=PD()),ey.exports}var uE;function AD(){if(uE)return jn;uE=1;var n=Zv(),e=CD();function t(o){for(var l="https://reactjs.org/docs/error-decoder.html?invariant="+o,c=1;c<arguments.length;c++)l+="&args[]="+encodeURIComponent(arguments[c]);return"Minified React error #"+o+"; visit "+l+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,i={};function s(o,l){a(o,l),a(o+"Capture",l)}function a(o,l){for(i[o]=l,o=0;o<l.length;o++)r.add(l[o])}var u=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),d=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,m={},g={};function v(o){return d.call(g,o)?!0:d.call(m,o)?!1:h.test(o)?g[o]=!0:(m[o]=!0,!1)}function E(o,l,c,p){if(c!==null&&c.type===0)return!1;switch(typeof l){case"function":case"symbol":return!0;case"boolean":return p?!1:c!==null?!c.acceptsBooleans:(o=o.toLowerCase().slice(0,5),o!=="data-"&&o!=="aria-");default:return!1}}function R(o,l,c,p){if(l===null||typeof l>"u"||E(o,l,c,p))return!0;if(p)return!1;if(c!==null)switch(c.type){case 3:return!l;case 4:return l===!1;case 5:return isNaN(l);case 6:return isNaN(l)||1>l}return!1}function k(o,l,c,p,y,w,I){this.acceptsBooleans=l===2||l===3||l===4,this.attributeName=p,this.attributeNamespace=y,this.mustUseProperty=c,this.propertyName=o,this.type=l,this.sanitizeURL=w,this.removeEmptyString=I}var A={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(o){A[o]=new k(o,0,!1,o,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(o){var l=o[0];A[l]=new k(l,1,!1,o[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(o){A[o]=new k(o,2,!1,o.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(o){A[o]=new k(o,2,!1,o,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(o){A[o]=new k(o,3,!1,o.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(o){A[o]=new k(o,3,!0,o,null,!1,!1)}),["capture","download"].forEach(function(o){A[o]=new k(o,4,!1,o,null,!1,!1)}),["cols","rows","size","span"].forEach(function(o){A[o]=new k(o,6,!1,o,null,!1,!1)}),["rowSpan","start"].forEach(function(o){A[o]=new k(o,5,!1,o.toLowerCase(),null,!1,!1)});var j=/[\-:]([a-z])/g;function O(o){return o[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(o){var l=o.replace(j,O);A[l]=new k(l,1,!1,o,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(o){var l=o.replace(j,O);A[l]=new k(l,1,!1,o,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(o){var l=o.replace(j,O);A[l]=new k(l,1,!1,o,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(o){A[o]=new k(o,1,!1,o.toLowerCase(),null,!1,!1)}),A.xlinkHref=new k("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(o){A[o]=new k(o,1,!1,o.toLowerCase(),null,!0,!0)});function F(o,l,c,p){var y=A.hasOwnProperty(l)?A[l]:null;(y!==null?y.type!==0:p||!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(R(l,c,y,p)&&(c=null),p||y===null?v(l)&&(c===null?o.removeAttribute(l):o.setAttribute(l,""+c)):y.mustUseProperty?o[y.propertyName]=c===null?y.type===3?!1:"":c:(l=y.attributeName,p=y.attributeNamespace,c===null?o.removeAttribute(l):(y=y.type,c=y===3||y===4&&c===!0?"":""+c,p?o.setAttributeNS(p,l,c):o.setAttribute(l,c))))}var z=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,te=Symbol.for("react.element"),Y=Symbol.for("react.portal"),C=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),D=Symbol.for("react.profiler"),L=Symbol.for("react.provider"),M=Symbol.for("react.context"),U=Symbol.for("react.forward_ref"),P=Symbol.for("react.suspense"),X=Symbol.for("react.suspense_list"),se=Symbol.for("react.memo"),oe=Symbol.for("react.lazy"),ie=Symbol.for("react.offscreen"),ee=Symbol.iterator;function de(o){return o===null||typeof o!="object"?null:(o=ee&&o[ee]||o["@@iterator"],typeof o=="function"?o:null)}var ne=Object.assign,N;function Q(o){if(N===void 0)try{throw Error()}catch(c){var l=c.stack.trim().match(/\n( *(at )?)/);N=l&&l[1]||""}return`
`+N+o}var he=!1;function me(o,l){if(!o||he)return"";he=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(l)if(l=function(){throw Error()},Object.defineProperty(l.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(l,[])}catch(J){var p=J}Reflect.construct(o,[],l)}else{try{l.call()}catch(J){p=J}o.call(l.prototype)}else{try{throw Error()}catch(J){p=J}o()}}catch(J){if(J&&p&&typeof J.stack=="string"){for(var y=J.stack.split(`
`),w=p.stack.split(`
`),I=y.length-1,V=w.length-1;1<=I&&0<=V&&y[I]!==w[V];)V--;for(;1<=I&&0<=V;I--,V--)if(y[I]!==w[V]){if(I!==1||V!==1)do if(I--,V--,0>V||y[I]!==w[V]){var B=`
`+y[I].replace(" at new "," at ");return o.displayName&&B.includes("<anonymous>")&&(B=B.replace("<anonymous>",o.displayName)),B}while(1<=I&&0<=V);break}}}finally{he=!1,Error.prepareStackTrace=c}return(o=o?o.displayName||o.name:"")?Q(o):""}function pe(o){switch(o.tag){case 5:return Q(o.type);case 16:return Q("Lazy");case 13:return Q("Suspense");case 19:return Q("SuspenseList");case 0:case 2:case 15:return o=me(o.type,!1),o;case 11:return o=me(o.type.render,!1),o;case 1:return o=me(o.type,!0),o;default:return""}}function Se(o){if(o==null)return null;if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o;switch(o){case C:return"Fragment";case Y:return"Portal";case D:return"Profiler";case S:return"StrictMode";case P:return"Suspense";case X:return"SuspenseList"}if(typeof o=="object")switch(o.$$typeof){case M:return(o.displayName||"Context")+".Consumer";case L:return(o._context.displayName||"Context")+".Provider";case U:var l=o.render;return o=o.displayName,o||(o=l.displayName||l.name||"",o=o!==""?"ForwardRef("+o+")":"ForwardRef"),o;case se:return l=o.displayName||null,l!==null?l:Se(o.type)||"Memo";case oe:l=o._payload,o=o._init;try{return Se(o(l))}catch{}}return null}function Me(o){var l=o.type;switch(o.tag){case 24:return"Cache";case 9:return(l.displayName||"Context")+".Consumer";case 10:return(l._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return o=l.render,o=o.displayName||o.name||"",l.displayName||(o!==""?"ForwardRef("+o+")":"ForwardRef");case 7:return"Fragment";case 5:return l;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Se(l);case 8:return l===S?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof l=="function")return l.displayName||l.name||null;if(typeof l=="string")return l}return null}function Be(o){switch(typeof o){case"boolean":case"number":case"string":case"undefined":return o;case"object":return o;default:return""}}function He(o){var l=o.type;return(o=o.nodeName)&&o.toLowerCase()==="input"&&(l==="checkbox"||l==="radio")}function ct(o){var l=He(o)?"checked":"value",c=Object.getOwnPropertyDescriptor(o.constructor.prototype,l),p=""+o[l];if(!o.hasOwnProperty(l)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var y=c.get,w=c.set;return Object.defineProperty(o,l,{configurable:!0,get:function(){return y.call(this)},set:function(I){p=""+I,w.call(this,I)}}),Object.defineProperty(o,l,{enumerable:c.enumerable}),{getValue:function(){return p},setValue:function(I){p=""+I},stopTracking:function(){o._valueTracker=null,delete o[l]}}}}function Jt(o){o._valueTracker||(o._valueTracker=ct(o))}function rs(o){if(!o)return!1;var l=o._valueTracker;if(!l)return!0;var c=l.getValue(),p="";return o&&(p=He(o)?o.checked?"true":"false":o.value),o=p,o!==c?(l.setValue(o),!0):!1}function Mr(o){if(o=o||(typeof document<"u"?document:void 0),typeof o>"u")return null;try{return o.activeElement||o.body}catch{return o.body}}function _r(o,l){var c=l.checked;return ne({},l,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:c??o._wrapperState.initialChecked})}function La(o,l){var c=l.defaultValue==null?"":l.defaultValue,p=l.checked!=null?l.checked:l.defaultChecked;c=Be(l.value!=null?l.value:c),o._wrapperState={initialChecked:p,initialValue:c,controlled:l.type==="checkbox"||l.type==="radio"?l.checked!=null:l.value!=null}}function wi(o,l){l=l.checked,l!=null&&F(o,"checked",l,!1)}function Lr(o,l){wi(o,l);var c=Be(l.value),p=l.type;if(c!=null)p==="number"?(c===0&&o.value===""||o.value!=c)&&(o.value=""+c):o.value!==""+c&&(o.value=""+c);else if(p==="submit"||p==="reset"){o.removeAttribute("value");return}l.hasOwnProperty("value")?Pt(o,l.type,c):l.hasOwnProperty("defaultValue")&&Pt(o,l.type,Be(l.defaultValue)),l.checked==null&&l.defaultChecked!=null&&(o.defaultChecked=!!l.defaultChecked)}function is(o,l,c){if(l.hasOwnProperty("value")||l.hasOwnProperty("defaultValue")){var p=l.type;if(!(p!=="submit"&&p!=="reset"||l.value!==void 0&&l.value!==null))return;l=""+o._wrapperState.initialValue,c||l===o.value||(o.value=l),o.defaultValue=l}c=o.name,c!==""&&(o.name=""),o.defaultChecked=!!o._wrapperState.initialChecked,c!==""&&(o.name=c)}function Pt(o,l,c){(l!=="number"||Mr(o.ownerDocument)!==o)&&(c==null?o.defaultValue=""+o._wrapperState.initialValue:o.defaultValue!==""+c&&(o.defaultValue=""+c))}var $e=Array.isArray;function Gn(o,l,c,p){if(o=o.options,l){l={};for(var y=0;y<c.length;y++)l["$"+c[y]]=!0;for(c=0;c<o.length;c++)y=l.hasOwnProperty("$"+o[c].value),o[c].selected!==y&&(o[c].selected=y),y&&p&&(o[c].defaultSelected=!0)}else{for(c=""+Be(c),l=null,y=0;y<o.length;y++){if(o[y].value===c){o[y].selected=!0,p&&(o[y].defaultSelected=!0);return}l!==null||o[y].disabled||(l=o[y])}l!==null&&(l.selected=!0)}}function Io(o,l){if(l.dangerouslySetInnerHTML!=null)throw Error(t(91));return ne({},l,{value:void 0,defaultValue:void 0,children:""+o._wrapperState.initialValue})}function Ru(o,l){var c=l.value;if(c==null){if(c=l.children,l=l.defaultValue,c!=null){if(l!=null)throw Error(t(92));if($e(c)){if(1<c.length)throw Error(t(93));c=c[0]}l=c}l==null&&(l=""),c=l}o._wrapperState={initialValue:Be(c)}}function Wd(o,l){var c=Be(l.value),p=Be(l.defaultValue);c!=null&&(c=""+c,c!==o.value&&(o.value=c),l.defaultValue==null&&o.defaultValue!==c&&(o.defaultValue=c)),p!=null&&(o.defaultValue=""+p)}function ss(o){var l=o.textContent;l===o._wrapperState.initialValue&&l!==""&&l!==null&&(o.value=l)}function ku(o){switch(o){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Fa(o,l){return o==null||o==="http://www.w3.org/1999/xhtml"?ku(l):o==="http://www.w3.org/2000/svg"&&l==="foreignObject"?"http://www.w3.org/1999/xhtml":o}var os,Hd=(function(o){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(l,c,p,y){MSApp.execUnsafeLocalFunction(function(){return o(l,c,p,y)})}:o})(function(o,l){if(o.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in o)o.innerHTML=l;else{for(os=os||document.createElement("div"),os.innerHTML="<svg>"+l.valueOf().toString()+"</svg>",l=os.firstChild;o.firstChild;)o.removeChild(o.firstChild);for(;l.firstChild;)o.appendChild(l.firstChild)}});function So(o,l){if(l){var c=o.firstChild;if(c&&c===o.lastChild&&c.nodeType===3){c.nodeValue=l;return}}o.textContent=l}var as={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},qd=["Webkit","ms","Moz","O"];Object.keys(as).forEach(function(o){qd.forEach(function(l){l=l+o.charAt(0).toUpperCase()+o.substring(1),as[l]=as[o]})});function ls(o,l,c){return l==null||typeof l=="boolean"||l===""?"":c||typeof l!="number"||l===0||as.hasOwnProperty(o)&&as[o]?(""+l).trim():l+"px"}function Ua(o,l){o=o.style;for(var c in l)if(l.hasOwnProperty(c)){var p=c.indexOf("--")===0,y=ls(c,l[c],p);c==="float"&&(c="cssFloat"),p?o.setProperty(c,y):o[c]=y}}var Du=ne({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Tr(o,l){if(l){if(Du[o]&&(l.children!=null||l.dangerouslySetInnerHTML!=null))throw Error(t(137,o));if(l.dangerouslySetInnerHTML!=null){if(l.children!=null)throw Error(t(60));if(typeof l.dangerouslySetInnerHTML!="object"||!("__html"in l.dangerouslySetInnerHTML))throw Error(t(61))}if(l.style!=null&&typeof l.style!="object")throw Error(t(62))}}function ja(o,l){if(o.indexOf("-")===-1)return typeof l.is=="string";switch(o){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var us=null;function Ba(o){return o=o.target||o.srcElement||window,o.correspondingUseElement&&(o=o.correspondingUseElement),o.nodeType===3?o.parentNode:o}var _i=null,Ti=null,Dt=null;function Nu(o){if(o=oc(o)){if(typeof _i!="function")throw Error(t(280));var l=o.stateNode;l&&(l=wh(l),_i(o.stateNode,o.type,l))}}function cs(o){Ti?Dt?Dt.push(o):Dt=[o]:Ti=o}function ds(){if(Ti){var o=Ti,l=Dt;if(Dt=Ti=null,Nu(o),l)for(o=0;o<l.length;o++)Nu(l[o])}}function Gd(o,l){return o(l)}function Kd(){}var Fr=!1;function Qd(o,l,c){if(Fr)return o(l,c);Fr=!0;try{return Gd(o,l,c)}finally{Fr=!1,(Ti!==null||Dt!==null)&&(Kd(),ds())}}function Po(o,l){var c=o.stateNode;if(c===null)return null;var p=wh(c);if(p===null)return null;c=p[l];e:switch(l){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(p=!p.disabled)||(o=o.type,p=!(o==="button"||o==="input"||o==="select"||o==="textarea")),o=!p;break e;default:o=!1}if(o)return null;if(c&&typeof c!="function")throw Error(t(231,l,typeof c));return c}var hs=!1;if(u)try{var fs={};Object.defineProperty(fs,"passive",{get:function(){hs=!0}}),window.addEventListener("test",fs,fs),window.removeEventListener("test",fs,fs)}catch{hs=!1}function Yd(o,l,c,p,y,w,I,V,B){var J=Array.prototype.slice.call(arguments,3);try{l.apply(c,J)}catch(ue){this.onError(ue)}}var Ei=!1,Ur=null,$a=!1,ur=null,Xd={onError:function(o){Ei=!0,Ur=o}};function Jd(o,l,c,p,y,w,I,V,B){Ei=!1,Ur=null,Yd.apply(Xd,arguments)}function Vu(o,l,c,p,y,w,I,V,B){if(Jd.apply(this,arguments),Ei){if(Ei){var J=Ur;Ei=!1,Ur=null}else throw Error(t(198));$a||($a=!0,ur=J)}}function Er(o){var l=o,c=o;if(o.alternate)for(;l.return;)l=l.return;else{o=l;do l=o,(l.flags&4098)!==0&&(c=l.return),o=l.return;while(o)}return l.tag===3?c:null}function Ou(o){if(o.tag===13){var l=o.memoizedState;if(l===null&&(o=o.alternate,o!==null&&(l=o.memoizedState)),l!==null)return l.dehydrated}return null}function Zd(o){if(Er(o)!==o)throw Error(t(188))}function eh(o){var l=o.alternate;if(!l){if(l=Er(o),l===null)throw Error(t(188));return l!==o?null:o}for(var c=o,p=l;;){var y=c.return;if(y===null)break;var w=y.alternate;if(w===null){if(p=y.return,p!==null){c=p;continue}break}if(y.child===w.child){for(w=y.child;w;){if(w===c)return Zd(y),o;if(w===p)return Zd(y),l;w=w.sibling}throw Error(t(188))}if(c.return!==p.return)c=y,p=w;else{for(var I=!1,V=y.child;V;){if(V===c){I=!0,c=y,p=w;break}if(V===p){I=!0,p=y,c=w;break}V=V.sibling}if(!I){for(V=w.child;V;){if(V===c){I=!0,c=w,p=y;break}if(V===p){I=!0,p=w,c=y;break}V=V.sibling}if(!I)throw Error(t(189))}}if(c.alternate!==p)throw Error(t(190))}if(c.tag!==3)throw Error(t(188));return c.stateNode.current===c?o:l}function th(o){return o=eh(o),o!==null?Co(o):null}function Co(o){if(o.tag===5||o.tag===6)return o;for(o=o.child;o!==null;){var l=Co(o);if(l!==null)return l;o=o.sibling}return null}var Mu=e.unstable_scheduleCallback,za=e.unstable_cancelCallback,Ao=e.unstable_shouldYield,Ii=e.unstable_requestPaint,yt=e.unstable_now,bm=e.unstable_getCurrentPriorityLevel,Wa=e.unstable_ImmediatePriority,Lu=e.unstable_UserBlockingPriority,bo=e.unstable_NormalPriority,Fu=e.unstable_LowPriority,Ha=e.unstable_IdlePriority,xo=null,Kn=null;function nh(o){if(Kn&&typeof Kn.onCommitFiberRoot=="function")try{Kn.onCommitFiberRoot(xo,o,void 0,(o.current.flags&128)===128)}catch{}}var Qn=Math.clz32?Math.clz32:Ro,jr=Math.log,cr=Math.LN2;function Ro(o){return o>>>=0,o===0?32:31-(jr(o)/cr|0)|0}var Br=64,ps=4194304;function rt(o){switch(o&-o){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return o&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return o}}function Si(o,l){var c=o.pendingLanes;if(c===0)return 0;var p=0,y=o.suspendedLanes,w=o.pingedLanes,I=c&268435455;if(I!==0){var V=I&~y;V!==0?p=rt(V):(w&=I,w!==0&&(p=rt(w)))}else I=c&~y,I!==0?p=rt(I):w!==0&&(p=rt(w));if(p===0)return 0;if(l!==0&&l!==p&&(l&y)===0&&(y=p&-p,w=l&-l,y>=w||y===16&&(w&4194240)!==0))return l;if((p&4)!==0&&(p|=c&16),l=o.entangledLanes,l!==0)for(o=o.entanglements,l&=p;0<l;)c=31-Qn(l),y=1<<c,p|=o[c],l&=~y;return p}function ko(o,l){switch(o){case 1:case 2:case 4:return l+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Do(o,l){for(var c=o.suspendedLanes,p=o.pingedLanes,y=o.expirationTimes,w=o.pendingLanes;0<w;){var I=31-Qn(w),V=1<<I,B=y[I];B===-1?((V&c)===0||(V&p)!==0)&&(y[I]=ko(V,l)):B<=l&&(o.expiredLanes|=V),w&=~V}}function Uu(o){return o=o.pendingLanes&-1073741825,o!==0?o:o&1073741824?1073741824:0}function ju(){var o=Br;return Br<<=1,(Br&4194240)===0&&(Br=64),o}function Bu(o){for(var l=[],c=0;31>c;c++)l.push(o);return l}function No(o,l,c){o.pendingLanes|=l,l!==536870912&&(o.suspendedLanes=0,o.pingedLanes=0),o=o.eventTimes,l=31-Qn(l),o[l]=c}function xm(o,l){var c=o.pendingLanes&~l;o.pendingLanes=l,o.suspendedLanes=0,o.pingedLanes=0,o.expiredLanes&=l,o.mutableReadLanes&=l,o.entangledLanes&=l,l=o.entanglements;var p=o.eventTimes;for(o=o.expirationTimes;0<c;){var y=31-Qn(c),w=1<<y;l[y]=0,p[y]=-1,o[y]=-1,c&=~w}}function $u(o,l){var c=o.entangledLanes|=l;for(o=o.entanglements;c;){var p=31-Qn(c),y=1<<p;y&l|o[p]&l&&(o[p]|=l),c&=~y}}var Ke=0;function $r(o){return o&=-o,1<o?4<o?(o&268435455)!==0?16:536870912:4:1}var zu,qa,Wu,Hu,qu,zr=!1,Ga=[],Wr=null,Hr=null,dn=null,Vo=new Map,Pi=new Map,Yn=[],rh="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ms(o,l){switch(o){case"focusin":case"focusout":Wr=null;break;case"dragenter":case"dragleave":Hr=null;break;case"mouseover":case"mouseout":dn=null;break;case"pointerover":case"pointerout":Vo.delete(l.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pi.delete(l.pointerId)}}function Ir(o,l,c,p,y,w){return o===null||o.nativeEvent!==w?(o={blockedOn:l,domEventName:c,eventSystemFlags:p,nativeEvent:w,targetContainers:[y]},l!==null&&(l=oc(l),l!==null&&qa(l)),o):(o.eventSystemFlags|=p,l=o.targetContainers,y!==null&&l.indexOf(y)===-1&&l.push(y),o)}function ih(o,l,c,p,y){switch(l){case"focusin":return Wr=Ir(Wr,o,l,c,p,y),!0;case"dragenter":return Hr=Ir(Hr,o,l,c,p,y),!0;case"mouseover":return dn=Ir(dn,o,l,c,p,y),!0;case"pointerover":var w=y.pointerId;return Vo.set(w,Ir(Vo.get(w)||null,o,l,c,p,y)),!0;case"gotpointercapture":return w=y.pointerId,Pi.set(w,Ir(Pi.get(w)||null,o,l,c,p,y)),!0}return!1}function Ka(o){var l=Fo(o.target);if(l!==null){var c=Er(l);if(c!==null){if(l=c.tag,l===13){if(l=Ou(c),l!==null){o.blockedOn=l,qu(o.priority,function(){Wu(c)});return}}else if(l===3&&c.stateNode.current.memoizedState.isDehydrated){o.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}o.blockedOn=null}function ht(o){if(o.blockedOn!==null)return!1;for(var l=o.targetContainers;0<l.length;){var c=Qa(o.domEventName,o.eventSystemFlags,l[0],o.nativeEvent);if(c===null){c=o.nativeEvent;var p=new c.constructor(c.type,c);us=p,c.target.dispatchEvent(p),us=null}else return l=oc(c),l!==null&&qa(l),o.blockedOn=c,!1;l.shift()}return!0}function sh(o,l,c){ht(o)&&c.delete(l)}function Rm(){zr=!1,Wr!==null&&ht(Wr)&&(Wr=null),Hr!==null&&ht(Hr)&&(Hr=null),dn!==null&&ht(dn)&&(dn=null),Vo.forEach(sh),Pi.forEach(sh)}function gs(o,l){o.blockedOn===l&&(o.blockedOn=null,zr||(zr=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Rm)))}function ys(o){function l(y){return gs(y,o)}if(0<Ga.length){gs(Ga[0],o);for(var c=1;c<Ga.length;c++){var p=Ga[c];p.blockedOn===o&&(p.blockedOn=null)}}for(Wr!==null&&gs(Wr,o),Hr!==null&&gs(Hr,o),dn!==null&&gs(dn,o),Vo.forEach(l),Pi.forEach(l),c=0;c<Yn.length;c++)p=Yn[c],p.blockedOn===o&&(p.blockedOn=null);for(;0<Yn.length&&(c=Yn[0],c.blockedOn===null);)Ka(c),c.blockedOn===null&&Yn.shift()}var Ci=z.ReactCurrentBatchConfig,Ai=!0;function qr(o,l,c,p){var y=Ke,w=Ci.transition;Ci.transition=null;try{Ke=1,Gu(o,l,c,p)}finally{Ke=y,Ci.transition=w}}function oh(o,l,c,p){var y=Ke,w=Ci.transition;Ci.transition=null;try{Ke=4,Gu(o,l,c,p)}finally{Ke=y,Ci.transition=w}}function Gu(o,l,c,p){if(Ai){var y=Qa(o,l,c,p);if(y===null)Bm(o,l,p,Gr,c),ms(o,p);else if(ih(y,o,l,c,p))p.stopPropagation();else if(ms(o,p),l&4&&-1<rh.indexOf(o)){for(;y!==null;){var w=oc(y);if(w!==null&&zu(w),w=Qa(o,l,c,p),w===null&&Bm(o,l,p,Gr,c),w===y)break;y=w}y!==null&&p.stopPropagation()}else Bm(o,l,p,null,c)}}var Gr=null;function Qa(o,l,c,p){if(Gr=null,o=Ba(p),o=Fo(o),o!==null)if(l=Er(o),l===null)o=null;else if(c=l.tag,c===13){if(o=Ou(l),o!==null)return o;o=null}else if(c===3){if(l.stateNode.current.memoizedState.isDehydrated)return l.tag===3?l.stateNode.containerInfo:null;o=null}else l!==o&&(o=null);return Gr=o,null}function Ya(o){switch(o){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(bm()){case Wa:return 1;case Lu:return 4;case bo:case Fu:return 16;case Ha:return 536870912;default:return 16}default:return 16}}var Xn=null,Xa=null,bi=null;function ah(){if(bi)return bi;var o,l=Xa,c=l.length,p,y="value"in Xn?Xn.value:Xn.textContent,w=y.length;for(o=0;o<c&&l[o]===y[o];o++);var I=c-o;for(p=1;p<=I&&l[c-p]===y[w-p];p++);return bi=y.slice(o,1<p?1-p:void 0)}function Oo(o){var l=o.keyCode;return"charCode"in o?(o=o.charCode,o===0&&l===13&&(o=13)):o=l,o===10&&(o=13),32<=o||o===13?o:0}function Kr(){return!0}function Ku(){return!1}function yn(o){function l(c,p,y,w,I){this._reactName=c,this._targetInst=y,this.type=p,this.nativeEvent=w,this.target=I,this.currentTarget=null;for(var V in o)o.hasOwnProperty(V)&&(c=o[V],this[V]=c?c(w):w[V]);return this.isDefaultPrevented=(w.defaultPrevented!=null?w.defaultPrevented:w.returnValue===!1)?Kr:Ku,this.isPropagationStopped=Ku,this}return ne(l.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=Kr)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=Kr)},persist:function(){},isPersistent:Kr}),l}var Qr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(o){return o.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Mo=yn(Qr),vs=ne({},Qr,{view:0,detail:0}),Ja=yn(vs),Za,el,Jn,Lo=ne({},vs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Fe,button:0,buttons:0,relatedTarget:function(o){return o.relatedTarget===void 0?o.fromElement===o.srcElement?o.toElement:o.fromElement:o.relatedTarget},movementX:function(o){return"movementX"in o?o.movementX:(o!==Jn&&(Jn&&o.type==="mousemove"?(Za=o.screenX-Jn.screenX,el=o.screenY-Jn.screenY):el=Za=0,Jn=o),Za)},movementY:function(o){return"movementY"in o?o.movementY:el}}),Qu=yn(Lo),lh=ne({},Lo,{dataTransfer:0}),uh=yn(lh),tl=ne({},vs,{relatedTarget:0}),hn=yn(tl),ch=ne({},Qr,{animationName:0,elapsedTime:0,pseudoElement:0}),dh=yn(ch),ws=ne({},Qr,{clipboardData:function(o){return"clipboardData"in o?o.clipboardData:window.clipboardData}}),f=yn(ws),_=ne({},Qr,{data:0}),T=yn(_),b={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},G={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Z={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ge(o){var l=this.nativeEvent;return l.getModifierState?l.getModifierState(o):(o=Z[o])?!!l[o]:!1}function Fe(){return ge}var Lt=ne({},vs,{key:function(o){if(o.key){var l=b[o.key]||o.key;if(l!=="Unidentified")return l}return o.type==="keypress"?(o=Oo(o),o===13?"Enter":String.fromCharCode(o)):o.type==="keydown"||o.type==="keyup"?G[o.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Fe,charCode:function(o){return o.type==="keypress"?Oo(o):0},keyCode:function(o){return o.type==="keydown"||o.type==="keyup"?o.keyCode:0},which:function(o){return o.type==="keypress"?Oo(o):o.type==="keydown"||o.type==="keyup"?o.keyCode:0}}),ot=yn(Lt),Ht=ne({},Lo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Zn=yn(Ht),xi=ne({},vs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Fe}),Yr=yn(xi),Xr=ne({},Qr,{propertyName:0,elapsedTime:0,pseudoElement:0}),nl=yn(Xr),Yu=ne({},Lo,{deltaX:function(o){return"deltaX"in o?o.deltaX:"wheelDeltaX"in o?-o.wheelDeltaX:0},deltaY:function(o){return"deltaY"in o?o.deltaY:"wheelDeltaY"in o?-o.wheelDeltaY:"wheelDelta"in o?-o.wheelDelta:0},deltaZ:0,deltaMode:0}),mk=yn(Yu),gk=[9,13,27,32],km=u&&"CompositionEvent"in window,Xu=null;u&&"documentMode"in document&&(Xu=document.documentMode);var yk=u&&"TextEvent"in window&&!Xu,Q_=u&&(!km||Xu&&8<Xu&&11>=Xu),Y_=" ",X_=!1;function J_(o,l){switch(o){case"keyup":return gk.indexOf(l.keyCode)!==-1;case"keydown":return l.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Z_(o){return o=o.detail,typeof o=="object"&&"data"in o?o.data:null}var rl=!1;function vk(o,l){switch(o){case"compositionend":return Z_(l);case"keypress":return l.which!==32?null:(X_=!0,Y_);case"textInput":return o=l.data,o===Y_&&X_?null:o;default:return null}}function wk(o,l){if(rl)return o==="compositionend"||!km&&J_(o,l)?(o=ah(),bi=Xa=Xn=null,rl=!1,o):null;switch(o){case"paste":return null;case"keypress":if(!(l.ctrlKey||l.altKey||l.metaKey)||l.ctrlKey&&l.altKey){if(l.char&&1<l.char.length)return l.char;if(l.which)return String.fromCharCode(l.which)}return null;case"compositionend":return Q_&&l.locale!=="ko"?null:l.data;default:return null}}var _k={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function eT(o){var l=o&&o.nodeName&&o.nodeName.toLowerCase();return l==="input"?!!_k[o.type]:l==="textarea"}function tT(o,l,c,p){cs(p),l=gh(l,"onChange"),0<l.length&&(c=new Mo("onChange","change",null,c,p),o.push({event:c,listeners:l}))}var Ju=null,Zu=null;function Tk(o){wT(o,0)}function hh(o){var l=ll(o);if(rs(l))return o}function Ek(o,l){if(o==="change")return l}var nT=!1;if(u){var Dm;if(u){var Nm="oninput"in document;if(!Nm){var rT=document.createElement("div");rT.setAttribute("oninput","return;"),Nm=typeof rT.oninput=="function"}Dm=Nm}else Dm=!1;nT=Dm&&(!document.documentMode||9<document.documentMode)}function iT(){Ju&&(Ju.detachEvent("onpropertychange",sT),Zu=Ju=null)}function sT(o){if(o.propertyName==="value"&&hh(Zu)){var l=[];tT(l,Zu,o,Ba(o)),Qd(Tk,l)}}function Ik(o,l,c){o==="focusin"?(iT(),Ju=l,Zu=c,Ju.attachEvent("onpropertychange",sT)):o==="focusout"&&iT()}function Sk(o){if(o==="selectionchange"||o==="keyup"||o==="keydown")return hh(Zu)}function Pk(o,l){if(o==="click")return hh(l)}function Ck(o,l){if(o==="input"||o==="change")return hh(l)}function Ak(o,l){return o===l&&(o!==0||1/o===1/l)||o!==o&&l!==l}var Sr=typeof Object.is=="function"?Object.is:Ak;function ec(o,l){if(Sr(o,l))return!0;if(typeof o!="object"||o===null||typeof l!="object"||l===null)return!1;var c=Object.keys(o),p=Object.keys(l);if(c.length!==p.length)return!1;for(p=0;p<c.length;p++){var y=c[p];if(!d.call(l,y)||!Sr(o[y],l[y]))return!1}return!0}function oT(o){for(;o&&o.firstChild;)o=o.firstChild;return o}function aT(o,l){var c=oT(o);o=0;for(var p;c;){if(c.nodeType===3){if(p=o+c.textContent.length,o<=l&&p>=l)return{node:c,offset:l-o};o=p}e:{for(;c;){if(c.nextSibling){c=c.nextSibling;break e}c=c.parentNode}c=void 0}c=oT(c)}}function lT(o,l){return o&&l?o===l?!0:o&&o.nodeType===3?!1:l&&l.nodeType===3?lT(o,l.parentNode):"contains"in o?o.contains(l):o.compareDocumentPosition?!!(o.compareDocumentPosition(l)&16):!1:!1}function uT(){for(var o=window,l=Mr();l instanceof o.HTMLIFrameElement;){try{var c=typeof l.contentWindow.location.href=="string"}catch{c=!1}if(c)o=l.contentWindow;else break;l=Mr(o.document)}return l}function Vm(o){var l=o&&o.nodeName&&o.nodeName.toLowerCase();return l&&(l==="input"&&(o.type==="text"||o.type==="search"||o.type==="tel"||o.type==="url"||o.type==="password")||l==="textarea"||o.contentEditable==="true")}function bk(o){var l=uT(),c=o.focusedElem,p=o.selectionRange;if(l!==c&&c&&c.ownerDocument&&lT(c.ownerDocument.documentElement,c)){if(p!==null&&Vm(c)){if(l=p.start,o=p.end,o===void 0&&(o=l),"selectionStart"in c)c.selectionStart=l,c.selectionEnd=Math.min(o,c.value.length);else if(o=(l=c.ownerDocument||document)&&l.defaultView||window,o.getSelection){o=o.getSelection();var y=c.textContent.length,w=Math.min(p.start,y);p=p.end===void 0?w:Math.min(p.end,y),!o.extend&&w>p&&(y=p,p=w,w=y),y=aT(c,w);var I=aT(c,p);y&&I&&(o.rangeCount!==1||o.anchorNode!==y.node||o.anchorOffset!==y.offset||o.focusNode!==I.node||o.focusOffset!==I.offset)&&(l=l.createRange(),l.setStart(y.node,y.offset),o.removeAllRanges(),w>p?(o.addRange(l),o.extend(I.node,I.offset)):(l.setEnd(I.node,I.offset),o.addRange(l)))}}for(l=[],o=c;o=o.parentNode;)o.nodeType===1&&l.push({element:o,left:o.scrollLeft,top:o.scrollTop});for(typeof c.focus=="function"&&c.focus(),c=0;c<l.length;c++)o=l[c],o.element.scrollLeft=o.left,o.element.scrollTop=o.top}}var xk=u&&"documentMode"in document&&11>=document.documentMode,il=null,Om=null,tc=null,Mm=!1;function cT(o,l,c){var p=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;Mm||il==null||il!==Mr(p)||(p=il,"selectionStart"in p&&Vm(p)?p={start:p.selectionStart,end:p.selectionEnd}:(p=(p.ownerDocument&&p.ownerDocument.defaultView||window).getSelection(),p={anchorNode:p.anchorNode,anchorOffset:p.anchorOffset,focusNode:p.focusNode,focusOffset:p.focusOffset}),tc&&ec(tc,p)||(tc=p,p=gh(Om,"onSelect"),0<p.length&&(l=new Mo("onSelect","select",null,l,c),o.push({event:l,listeners:p}),l.target=il)))}function fh(o,l){var c={};return c[o.toLowerCase()]=l.toLowerCase(),c["Webkit"+o]="webkit"+l,c["Moz"+o]="moz"+l,c}var sl={animationend:fh("Animation","AnimationEnd"),animationiteration:fh("Animation","AnimationIteration"),animationstart:fh("Animation","AnimationStart"),transitionend:fh("Transition","TransitionEnd")},Lm={},dT={};u&&(dT=document.createElement("div").style,"AnimationEvent"in window||(delete sl.animationend.animation,delete sl.animationiteration.animation,delete sl.animationstart.animation),"TransitionEvent"in window||delete sl.transitionend.transition);function ph(o){if(Lm[o])return Lm[o];if(!sl[o])return o;var l=sl[o],c;for(c in l)if(l.hasOwnProperty(c)&&c in dT)return Lm[o]=l[c];return o}var hT=ph("animationend"),fT=ph("animationiteration"),pT=ph("animationstart"),mT=ph("transitionend"),gT=new Map,yT="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function _s(o,l){gT.set(o,l),s(l,[o])}for(var Fm=0;Fm<yT.length;Fm++){var Um=yT[Fm],Rk=Um.toLowerCase(),kk=Um[0].toUpperCase()+Um.slice(1);_s(Rk,"on"+kk)}_s(hT,"onAnimationEnd"),_s(fT,"onAnimationIteration"),_s(pT,"onAnimationStart"),_s("dblclick","onDoubleClick"),_s("focusin","onFocus"),_s("focusout","onBlur"),_s(mT,"onTransitionEnd"),a("onMouseEnter",["mouseout","mouseover"]),a("onMouseLeave",["mouseout","mouseover"]),a("onPointerEnter",["pointerout","pointerover"]),a("onPointerLeave",["pointerout","pointerover"]),s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),s("onBeforeInput",["compositionend","keypress","textInput","paste"]),s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var nc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Dk=new Set("cancel close invalid load scroll toggle".split(" ").concat(nc));function vT(o,l,c){var p=o.type||"unknown-event";o.currentTarget=c,Vu(p,l,void 0,o),o.currentTarget=null}function wT(o,l){l=(l&4)!==0;for(var c=0;c<o.length;c++){var p=o[c],y=p.event;p=p.listeners;e:{var w=void 0;if(l)for(var I=p.length-1;0<=I;I--){var V=p[I],B=V.instance,J=V.currentTarget;if(V=V.listener,B!==w&&y.isPropagationStopped())break e;vT(y,V,J),w=B}else for(I=0;I<p.length;I++){if(V=p[I],B=V.instance,J=V.currentTarget,V=V.listener,B!==w&&y.isPropagationStopped())break e;vT(y,V,J),w=B}}}if($a)throw o=ur,$a=!1,ur=null,o}function vt(o,l){var c=l[Gm];c===void 0&&(c=l[Gm]=new Set);var p=o+"__bubble";c.has(p)||(_T(l,o,2,!1),c.add(p))}function jm(o,l,c){var p=0;l&&(p|=4),_T(c,o,p,l)}var mh="_reactListening"+Math.random().toString(36).slice(2);function rc(o){if(!o[mh]){o[mh]=!0,r.forEach(function(c){c!=="selectionchange"&&(Dk.has(c)||jm(c,!1,o),jm(c,!0,o))});var l=o.nodeType===9?o:o.ownerDocument;l===null||l[mh]||(l[mh]=!0,jm("selectionchange",!1,l))}}function _T(o,l,c,p){switch(Ya(l)){case 1:var y=qr;break;case 4:y=oh;break;default:y=Gu}c=y.bind(null,l,c,o),y=void 0,!hs||l!=="touchstart"&&l!=="touchmove"&&l!=="wheel"||(y=!0),p?y!==void 0?o.addEventListener(l,c,{capture:!0,passive:y}):o.addEventListener(l,c,!0):y!==void 0?o.addEventListener(l,c,{passive:y}):o.addEventListener(l,c,!1)}function Bm(o,l,c,p,y){var w=p;if((l&1)===0&&(l&2)===0&&p!==null)e:for(;;){if(p===null)return;var I=p.tag;if(I===3||I===4){var V=p.stateNode.containerInfo;if(V===y||V.nodeType===8&&V.parentNode===y)break;if(I===4)for(I=p.return;I!==null;){var B=I.tag;if((B===3||B===4)&&(B=I.stateNode.containerInfo,B===y||B.nodeType===8&&B.parentNode===y))return;I=I.return}for(;V!==null;){if(I=Fo(V),I===null)return;if(B=I.tag,B===5||B===6){p=w=I;continue e}V=V.parentNode}}p=p.return}Qd(function(){var J=w,ue=Ba(c),ce=[];e:{var ae=gT.get(o);if(ae!==void 0){var _e=Mo,Pe=o;switch(o){case"keypress":if(Oo(c)===0)break e;case"keydown":case"keyup":_e=ot;break;case"focusin":Pe="focus",_e=hn;break;case"focusout":Pe="blur",_e=hn;break;case"beforeblur":case"afterblur":_e=hn;break;case"click":if(c.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":_e=Qu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":_e=uh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":_e=Yr;break;case hT:case fT:case pT:_e=dh;break;case mT:_e=nl;break;case"scroll":_e=Ja;break;case"wheel":_e=mk;break;case"copy":case"cut":case"paste":_e=f;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":_e=Zn}var Ae=(l&4)!==0,Ft=!Ae&&o==="scroll",H=Ae?ae!==null?ae+"Capture":null:ae;Ae=[];for(var $=J,K;$!==null;){K=$;var fe=K.stateNode;if(K.tag===5&&fe!==null&&(K=fe,H!==null&&(fe=Po($,H),fe!=null&&Ae.push(ic($,fe,K)))),Ft)break;$=$.return}0<Ae.length&&(ae=new _e(ae,Pe,null,c,ue),ce.push({event:ae,listeners:Ae}))}}if((l&7)===0){e:{if(ae=o==="mouseover"||o==="pointerover",_e=o==="mouseout"||o==="pointerout",ae&&c!==us&&(Pe=c.relatedTarget||c.fromElement)&&(Fo(Pe)||Pe[Ri]))break e;if((_e||ae)&&(ae=ue.window===ue?ue:(ae=ue.ownerDocument)?ae.defaultView||ae.parentWindow:window,_e?(Pe=c.relatedTarget||c.toElement,_e=J,Pe=Pe?Fo(Pe):null,Pe!==null&&(Ft=Er(Pe),Pe!==Ft||Pe.tag!==5&&Pe.tag!==6)&&(Pe=null)):(_e=null,Pe=J),_e!==Pe)){if(Ae=Qu,fe="onMouseLeave",H="onMouseEnter",$="mouse",(o==="pointerout"||o==="pointerover")&&(Ae=Zn,fe="onPointerLeave",H="onPointerEnter",$="pointer"),Ft=_e==null?ae:ll(_e),K=Pe==null?ae:ll(Pe),ae=new Ae(fe,$+"leave",_e,c,ue),ae.target=Ft,ae.relatedTarget=K,fe=null,Fo(ue)===J&&(Ae=new Ae(H,$+"enter",Pe,c,ue),Ae.target=K,Ae.relatedTarget=Ft,fe=Ae),Ft=fe,_e&&Pe)t:{for(Ae=_e,H=Pe,$=0,K=Ae;K;K=ol(K))$++;for(K=0,fe=H;fe;fe=ol(fe))K++;for(;0<$-K;)Ae=ol(Ae),$--;for(;0<K-$;)H=ol(H),K--;for(;$--;){if(Ae===H||H!==null&&Ae===H.alternate)break t;Ae=ol(Ae),H=ol(H)}Ae=null}else Ae=null;_e!==null&&TT(ce,ae,_e,Ae,!1),Pe!==null&&Ft!==null&&TT(ce,Ft,Pe,Ae,!0)}}e:{if(ae=J?ll(J):window,_e=ae.nodeName&&ae.nodeName.toLowerCase(),_e==="select"||_e==="input"&&ae.type==="file")var be=Ek;else if(eT(ae))if(nT)be=Ck;else{be=Sk;var De=Ik}else(_e=ae.nodeName)&&_e.toLowerCase()==="input"&&(ae.type==="checkbox"||ae.type==="radio")&&(be=Pk);if(be&&(be=be(o,J))){tT(ce,be,c,ue);break e}De&&De(o,ae,J),o==="focusout"&&(De=ae._wrapperState)&&De.controlled&&ae.type==="number"&&Pt(ae,"number",ae.value)}switch(De=J?ll(J):window,o){case"focusin":(eT(De)||De.contentEditable==="true")&&(il=De,Om=J,tc=null);break;case"focusout":tc=Om=il=null;break;case"mousedown":Mm=!0;break;case"contextmenu":case"mouseup":case"dragend":Mm=!1,cT(ce,c,ue);break;case"selectionchange":if(xk)break;case"keydown":case"keyup":cT(ce,c,ue)}var Ne;if(km)e:{switch(o){case"compositionstart":var Oe="onCompositionStart";break e;case"compositionend":Oe="onCompositionEnd";break e;case"compositionupdate":Oe="onCompositionUpdate";break e}Oe=void 0}else rl?J_(o,c)&&(Oe="onCompositionEnd"):o==="keydown"&&c.keyCode===229&&(Oe="onCompositionStart");Oe&&(Q_&&c.locale!=="ko"&&(rl||Oe!=="onCompositionStart"?Oe==="onCompositionEnd"&&rl&&(Ne=ah()):(Xn=ue,Xa="value"in Xn?Xn.value:Xn.textContent,rl=!0)),De=gh(J,Oe),0<De.length&&(Oe=new T(Oe,o,null,c,ue),ce.push({event:Oe,listeners:De}),Ne?Oe.data=Ne:(Ne=Z_(c),Ne!==null&&(Oe.data=Ne)))),(Ne=yk?vk(o,c):wk(o,c))&&(J=gh(J,"onBeforeInput"),0<J.length&&(ue=new T("onBeforeInput","beforeinput",null,c,ue),ce.push({event:ue,listeners:J}),ue.data=Ne))}wT(ce,l)})}function ic(o,l,c){return{instance:o,listener:l,currentTarget:c}}function gh(o,l){for(var c=l+"Capture",p=[];o!==null;){var y=o,w=y.stateNode;y.tag===5&&w!==null&&(y=w,w=Po(o,c),w!=null&&p.unshift(ic(o,w,y)),w=Po(o,l),w!=null&&p.push(ic(o,w,y))),o=o.return}return p}function ol(o){if(o===null)return null;do o=o.return;while(o&&o.tag!==5);return o||null}function TT(o,l,c,p,y){for(var w=l._reactName,I=[];c!==null&&c!==p;){var V=c,B=V.alternate,J=V.stateNode;if(B!==null&&B===p)break;V.tag===5&&J!==null&&(V=J,y?(B=Po(c,w),B!=null&&I.unshift(ic(c,B,V))):y||(B=Po(c,w),B!=null&&I.push(ic(c,B,V)))),c=c.return}I.length!==0&&o.push({event:l,listeners:I})}var Nk=/\r\n?/g,Vk=/\u0000|\uFFFD/g;function ET(o){return(typeof o=="string"?o:""+o).replace(Nk,`
`).replace(Vk,"")}function yh(o,l,c){if(l=ET(l),ET(o)!==l&&c)throw Error(t(425))}function vh(){}var $m=null,zm=null;function Wm(o,l){return o==="textarea"||o==="noscript"||typeof l.children=="string"||typeof l.children=="number"||typeof l.dangerouslySetInnerHTML=="object"&&l.dangerouslySetInnerHTML!==null&&l.dangerouslySetInnerHTML.__html!=null}var Hm=typeof setTimeout=="function"?setTimeout:void 0,Ok=typeof clearTimeout=="function"?clearTimeout:void 0,IT=typeof Promise=="function"?Promise:void 0,Mk=typeof queueMicrotask=="function"?queueMicrotask:typeof IT<"u"?function(o){return IT.resolve(null).then(o).catch(Lk)}:Hm;function Lk(o){setTimeout(function(){throw o})}function qm(o,l){var c=l,p=0;do{var y=c.nextSibling;if(o.removeChild(c),y&&y.nodeType===8)if(c=y.data,c==="/$"){if(p===0){o.removeChild(y),ys(l);return}p--}else c!=="$"&&c!=="$?"&&c!=="$!"||p++;c=y}while(c);ys(l)}function Ts(o){for(;o!=null;o=o.nextSibling){var l=o.nodeType;if(l===1||l===3)break;if(l===8){if(l=o.data,l==="$"||l==="$!"||l==="$?")break;if(l==="/$")return null}}return o}function ST(o){o=o.previousSibling;for(var l=0;o;){if(o.nodeType===8){var c=o.data;if(c==="$"||c==="$!"||c==="$?"){if(l===0)return o;l--}else c==="/$"&&l++}o=o.previousSibling}return null}var al=Math.random().toString(36).slice(2),Jr="__reactFiber$"+al,sc="__reactProps$"+al,Ri="__reactContainer$"+al,Gm="__reactEvents$"+al,Fk="__reactListeners$"+al,Uk="__reactHandles$"+al;function Fo(o){var l=o[Jr];if(l)return l;for(var c=o.parentNode;c;){if(l=c[Ri]||c[Jr]){if(c=l.alternate,l.child!==null||c!==null&&c.child!==null)for(o=ST(o);o!==null;){if(c=o[Jr])return c;o=ST(o)}return l}o=c,c=o.parentNode}return null}function oc(o){return o=o[Jr]||o[Ri],!o||o.tag!==5&&o.tag!==6&&o.tag!==13&&o.tag!==3?null:o}function ll(o){if(o.tag===5||o.tag===6)return o.stateNode;throw Error(t(33))}function wh(o){return o[sc]||null}var Km=[],ul=-1;function Es(o){return{current:o}}function wt(o){0>ul||(o.current=Km[ul],Km[ul]=null,ul--)}function ft(o,l){ul++,Km[ul]=o.current,o.current=l}var Is={},vn=Es(Is),On=Es(!1),Uo=Is;function cl(o,l){var c=o.type.contextTypes;if(!c)return Is;var p=o.stateNode;if(p&&p.__reactInternalMemoizedUnmaskedChildContext===l)return p.__reactInternalMemoizedMaskedChildContext;var y={},w;for(w in c)y[w]=l[w];return p&&(o=o.stateNode,o.__reactInternalMemoizedUnmaskedChildContext=l,o.__reactInternalMemoizedMaskedChildContext=y),y}function Mn(o){return o=o.childContextTypes,o!=null}function _h(){wt(On),wt(vn)}function PT(o,l,c){if(vn.current!==Is)throw Error(t(168));ft(vn,l),ft(On,c)}function CT(o,l,c){var p=o.stateNode;if(l=l.childContextTypes,typeof p.getChildContext!="function")return c;p=p.getChildContext();for(var y in p)if(!(y in l))throw Error(t(108,Me(o)||"Unknown",y));return ne({},c,p)}function Th(o){return o=(o=o.stateNode)&&o.__reactInternalMemoizedMergedChildContext||Is,Uo=vn.current,ft(vn,o),ft(On,On.current),!0}function AT(o,l,c){var p=o.stateNode;if(!p)throw Error(t(169));c?(o=CT(o,l,Uo),p.__reactInternalMemoizedMergedChildContext=o,wt(On),wt(vn),ft(vn,o)):wt(On),ft(On,c)}var ki=null,Eh=!1,Qm=!1;function bT(o){ki===null?ki=[o]:ki.push(o)}function jk(o){Eh=!0,bT(o)}function Ss(){if(!Qm&&ki!==null){Qm=!0;var o=0,l=Ke;try{var c=ki;for(Ke=1;o<c.length;o++){var p=c[o];do p=p(!0);while(p!==null)}ki=null,Eh=!1}catch(y){throw ki!==null&&(ki=ki.slice(o+1)),Mu(Wa,Ss),y}finally{Ke=l,Qm=!1}}return null}var dl=[],hl=0,Ih=null,Sh=0,dr=[],hr=0,jo=null,Di=1,Ni="";function Bo(o,l){dl[hl++]=Sh,dl[hl++]=Ih,Ih=o,Sh=l}function xT(o,l,c){dr[hr++]=Di,dr[hr++]=Ni,dr[hr++]=jo,jo=o;var p=Di;o=Ni;var y=32-Qn(p)-1;p&=~(1<<y),c+=1;var w=32-Qn(l)+y;if(30<w){var I=y-y%5;w=(p&(1<<I)-1).toString(32),p>>=I,y-=I,Di=1<<32-Qn(l)+y|c<<y|p,Ni=w+o}else Di=1<<w|c<<y|p,Ni=o}function Ym(o){o.return!==null&&(Bo(o,1),xT(o,1,0))}function Xm(o){for(;o===Ih;)Ih=dl[--hl],dl[hl]=null,Sh=dl[--hl],dl[hl]=null;for(;o===jo;)jo=dr[--hr],dr[hr]=null,Ni=dr[--hr],dr[hr]=null,Di=dr[--hr],dr[hr]=null}var er=null,tr=null,Et=!1,Pr=null;function RT(o,l){var c=gr(5,null,null,0);c.elementType="DELETED",c.stateNode=l,c.return=o,l=o.deletions,l===null?(o.deletions=[c],o.flags|=16):l.push(c)}function kT(o,l){switch(o.tag){case 5:var c=o.type;return l=l.nodeType!==1||c.toLowerCase()!==l.nodeName.toLowerCase()?null:l,l!==null?(o.stateNode=l,er=o,tr=Ts(l.firstChild),!0):!1;case 6:return l=o.pendingProps===""||l.nodeType!==3?null:l,l!==null?(o.stateNode=l,er=o,tr=null,!0):!1;case 13:return l=l.nodeType!==8?null:l,l!==null?(c=jo!==null?{id:Di,overflow:Ni}:null,o.memoizedState={dehydrated:l,treeContext:c,retryLane:1073741824},c=gr(18,null,null,0),c.stateNode=l,c.return=o,o.child=c,er=o,tr=null,!0):!1;default:return!1}}function Jm(o){return(o.mode&1)!==0&&(o.flags&128)===0}function Zm(o){if(Et){var l=tr;if(l){var c=l;if(!kT(o,l)){if(Jm(o))throw Error(t(418));l=Ts(c.nextSibling);var p=er;l&&kT(o,l)?RT(p,c):(o.flags=o.flags&-4097|2,Et=!1,er=o)}}else{if(Jm(o))throw Error(t(418));o.flags=o.flags&-4097|2,Et=!1,er=o}}}function DT(o){for(o=o.return;o!==null&&o.tag!==5&&o.tag!==3&&o.tag!==13;)o=o.return;er=o}function Ph(o){if(o!==er)return!1;if(!Et)return DT(o),Et=!0,!1;var l;if((l=o.tag!==3)&&!(l=o.tag!==5)&&(l=o.type,l=l!=="head"&&l!=="body"&&!Wm(o.type,o.memoizedProps)),l&&(l=tr)){if(Jm(o))throw NT(),Error(t(418));for(;l;)RT(o,l),l=Ts(l.nextSibling)}if(DT(o),o.tag===13){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(t(317));e:{for(o=o.nextSibling,l=0;o;){if(o.nodeType===8){var c=o.data;if(c==="/$"){if(l===0){tr=Ts(o.nextSibling);break e}l--}else c!=="$"&&c!=="$!"&&c!=="$?"||l++}o=o.nextSibling}tr=null}}else tr=er?Ts(o.stateNode.nextSibling):null;return!0}function NT(){for(var o=tr;o;)o=Ts(o.nextSibling)}function fl(){tr=er=null,Et=!1}function eg(o){Pr===null?Pr=[o]:Pr.push(o)}var Bk=z.ReactCurrentBatchConfig;function ac(o,l,c){if(o=c.ref,o!==null&&typeof o!="function"&&typeof o!="object"){if(c._owner){if(c=c._owner,c){if(c.tag!==1)throw Error(t(309));var p=c.stateNode}if(!p)throw Error(t(147,o));var y=p,w=""+o;return l!==null&&l.ref!==null&&typeof l.ref=="function"&&l.ref._stringRef===w?l.ref:(l=function(I){var V=y.refs;I===null?delete V[w]:V[w]=I},l._stringRef=w,l)}if(typeof o!="string")throw Error(t(284));if(!c._owner)throw Error(t(290,o))}return o}function Ch(o,l){throw o=Object.prototype.toString.call(l),Error(t(31,o==="[object Object]"?"object with keys {"+Object.keys(l).join(", ")+"}":o))}function VT(o){var l=o._init;return l(o._payload)}function OT(o){function l(H,$){if(o){var K=H.deletions;K===null?(H.deletions=[$],H.flags|=16):K.push($)}}function c(H,$){if(!o)return null;for(;$!==null;)l(H,$),$=$.sibling;return null}function p(H,$){for(H=new Map;$!==null;)$.key!==null?H.set($.key,$):H.set($.index,$),$=$.sibling;return H}function y(H,$){return H=Ds(H,$),H.index=0,H.sibling=null,H}function w(H,$,K){return H.index=K,o?(K=H.alternate,K!==null?(K=K.index,K<$?(H.flags|=2,$):K):(H.flags|=2,$)):(H.flags|=1048576,$)}function I(H){return o&&H.alternate===null&&(H.flags|=2),H}function V(H,$,K,fe){return $===null||$.tag!==6?($=Hg(K,H.mode,fe),$.return=H,$):($=y($,K),$.return=H,$)}function B(H,$,K,fe){var be=K.type;return be===C?ue(H,$,K.props.children,fe,K.key):$!==null&&($.elementType===be||typeof be=="object"&&be!==null&&be.$$typeof===oe&&VT(be)===$.type)?(fe=y($,K.props),fe.ref=ac(H,$,K),fe.return=H,fe):(fe=Yh(K.type,K.key,K.props,null,H.mode,fe),fe.ref=ac(H,$,K),fe.return=H,fe)}function J(H,$,K,fe){return $===null||$.tag!==4||$.stateNode.containerInfo!==K.containerInfo||$.stateNode.implementation!==K.implementation?($=qg(K,H.mode,fe),$.return=H,$):($=y($,K.children||[]),$.return=H,$)}function ue(H,$,K,fe,be){return $===null||$.tag!==7?($=Qo(K,H.mode,fe,be),$.return=H,$):($=y($,K),$.return=H,$)}function ce(H,$,K){if(typeof $=="string"&&$!==""||typeof $=="number")return $=Hg(""+$,H.mode,K),$.return=H,$;if(typeof $=="object"&&$!==null){switch($.$$typeof){case te:return K=Yh($.type,$.key,$.props,null,H.mode,K),K.ref=ac(H,null,$),K.return=H,K;case Y:return $=qg($,H.mode,K),$.return=H,$;case oe:var fe=$._init;return ce(H,fe($._payload),K)}if($e($)||de($))return $=Qo($,H.mode,K,null),$.return=H,$;Ch(H,$)}return null}function ae(H,$,K,fe){var be=$!==null?$.key:null;if(typeof K=="string"&&K!==""||typeof K=="number")return be!==null?null:V(H,$,""+K,fe);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case te:return K.key===be?B(H,$,K,fe):null;case Y:return K.key===be?J(H,$,K,fe):null;case oe:return be=K._init,ae(H,$,be(K._payload),fe)}if($e(K)||de(K))return be!==null?null:ue(H,$,K,fe,null);Ch(H,K)}return null}function _e(H,$,K,fe,be){if(typeof fe=="string"&&fe!==""||typeof fe=="number")return H=H.get(K)||null,V($,H,""+fe,be);if(typeof fe=="object"&&fe!==null){switch(fe.$$typeof){case te:return H=H.get(fe.key===null?K:fe.key)||null,B($,H,fe,be);case Y:return H=H.get(fe.key===null?K:fe.key)||null,J($,H,fe,be);case oe:var De=fe._init;return _e(H,$,K,De(fe._payload),be)}if($e(fe)||de(fe))return H=H.get(K)||null,ue($,H,fe,be,null);Ch($,fe)}return null}function Pe(H,$,K,fe){for(var be=null,De=null,Ne=$,Oe=$=0,an=null;Ne!==null&&Oe<K.length;Oe++){Ne.index>Oe?(an=Ne,Ne=null):an=Ne.sibling;var nt=ae(H,Ne,K[Oe],fe);if(nt===null){Ne===null&&(Ne=an);break}o&&Ne&&nt.alternate===null&&l(H,Ne),$=w(nt,$,Oe),De===null?be=nt:De.sibling=nt,De=nt,Ne=an}if(Oe===K.length)return c(H,Ne),Et&&Bo(H,Oe),be;if(Ne===null){for(;Oe<K.length;Oe++)Ne=ce(H,K[Oe],fe),Ne!==null&&($=w(Ne,$,Oe),De===null?be=Ne:De.sibling=Ne,De=Ne);return Et&&Bo(H,Oe),be}for(Ne=p(H,Ne);Oe<K.length;Oe++)an=_e(Ne,H,Oe,K[Oe],fe),an!==null&&(o&&an.alternate!==null&&Ne.delete(an.key===null?Oe:an.key),$=w(an,$,Oe),De===null?be=an:De.sibling=an,De=an);return o&&Ne.forEach(function(Ns){return l(H,Ns)}),Et&&Bo(H,Oe),be}function Ae(H,$,K,fe){var be=de(K);if(typeof be!="function")throw Error(t(150));if(K=be.call(K),K==null)throw Error(t(151));for(var De=be=null,Ne=$,Oe=$=0,an=null,nt=K.next();Ne!==null&&!nt.done;Oe++,nt=K.next()){Ne.index>Oe?(an=Ne,Ne=null):an=Ne.sibling;var Ns=ae(H,Ne,nt.value,fe);if(Ns===null){Ne===null&&(Ne=an);break}o&&Ne&&Ns.alternate===null&&l(H,Ne),$=w(Ns,$,Oe),De===null?be=Ns:De.sibling=Ns,De=Ns,Ne=an}if(nt.done)return c(H,Ne),Et&&Bo(H,Oe),be;if(Ne===null){for(;!nt.done;Oe++,nt=K.next())nt=ce(H,nt.value,fe),nt!==null&&($=w(nt,$,Oe),De===null?be=nt:De.sibling=nt,De=nt);return Et&&Bo(H,Oe),be}for(Ne=p(H,Ne);!nt.done;Oe++,nt=K.next())nt=_e(Ne,H,Oe,nt.value,fe),nt!==null&&(o&&nt.alternate!==null&&Ne.delete(nt.key===null?Oe:nt.key),$=w(nt,$,Oe),De===null?be=nt:De.sibling=nt,De=nt);return o&&Ne.forEach(function(_D){return l(H,_D)}),Et&&Bo(H,Oe),be}function Ft(H,$,K,fe){if(typeof K=="object"&&K!==null&&K.type===C&&K.key===null&&(K=K.props.children),typeof K=="object"&&K!==null){switch(K.$$typeof){case te:e:{for(var be=K.key,De=$;De!==null;){if(De.key===be){if(be=K.type,be===C){if(De.tag===7){c(H,De.sibling),$=y(De,K.props.children),$.return=H,H=$;break e}}else if(De.elementType===be||typeof be=="object"&&be!==null&&be.$$typeof===oe&&VT(be)===De.type){c(H,De.sibling),$=y(De,K.props),$.ref=ac(H,De,K),$.return=H,H=$;break e}c(H,De);break}else l(H,De);De=De.sibling}K.type===C?($=Qo(K.props.children,H.mode,fe,K.key),$.return=H,H=$):(fe=Yh(K.type,K.key,K.props,null,H.mode,fe),fe.ref=ac(H,$,K),fe.return=H,H=fe)}return I(H);case Y:e:{for(De=K.key;$!==null;){if($.key===De)if($.tag===4&&$.stateNode.containerInfo===K.containerInfo&&$.stateNode.implementation===K.implementation){c(H,$.sibling),$=y($,K.children||[]),$.return=H,H=$;break e}else{c(H,$);break}else l(H,$);$=$.sibling}$=qg(K,H.mode,fe),$.return=H,H=$}return I(H);case oe:return De=K._init,Ft(H,$,De(K._payload),fe)}if($e(K))return Pe(H,$,K,fe);if(de(K))return Ae(H,$,K,fe);Ch(H,K)}return typeof K=="string"&&K!==""||typeof K=="number"?(K=""+K,$!==null&&$.tag===6?(c(H,$.sibling),$=y($,K),$.return=H,H=$):(c(H,$),$=Hg(K,H.mode,fe),$.return=H,H=$),I(H)):c(H,$)}return Ft}var pl=OT(!0),MT=OT(!1),Ah=Es(null),bh=null,ml=null,tg=null;function ng(){tg=ml=bh=null}function rg(o){var l=Ah.current;wt(Ah),o._currentValue=l}function ig(o,l,c){for(;o!==null;){var p=o.alternate;if((o.childLanes&l)!==l?(o.childLanes|=l,p!==null&&(p.childLanes|=l)):p!==null&&(p.childLanes&l)!==l&&(p.childLanes|=l),o===c)break;o=o.return}}function gl(o,l){bh=o,tg=ml=null,o=o.dependencies,o!==null&&o.firstContext!==null&&((o.lanes&l)!==0&&(Ln=!0),o.firstContext=null)}function fr(o){var l=o._currentValue;if(tg!==o)if(o={context:o,memoizedValue:l,next:null},ml===null){if(bh===null)throw Error(t(308));ml=o,bh.dependencies={lanes:0,firstContext:o}}else ml=ml.next=o;return l}var $o=null;function sg(o){$o===null?$o=[o]:$o.push(o)}function LT(o,l,c,p){var y=l.interleaved;return y===null?(c.next=c,sg(l)):(c.next=y.next,y.next=c),l.interleaved=c,Vi(o,p)}function Vi(o,l){o.lanes|=l;var c=o.alternate;for(c!==null&&(c.lanes|=l),c=o,o=o.return;o!==null;)o.childLanes|=l,c=o.alternate,c!==null&&(c.childLanes|=l),c=o,o=o.return;return c.tag===3?c.stateNode:null}var Ps=!1;function og(o){o.updateQueue={baseState:o.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function FT(o,l){o=o.updateQueue,l.updateQueue===o&&(l.updateQueue={baseState:o.baseState,firstBaseUpdate:o.firstBaseUpdate,lastBaseUpdate:o.lastBaseUpdate,shared:o.shared,effects:o.effects})}function Oi(o,l){return{eventTime:o,lane:l,tag:0,payload:null,callback:null,next:null}}function Cs(o,l,c){var p=o.updateQueue;if(p===null)return null;if(p=p.shared,(Ze&2)!==0){var y=p.pending;return y===null?l.next=l:(l.next=y.next,y.next=l),p.pending=l,Vi(o,c)}return y=p.interleaved,y===null?(l.next=l,sg(p)):(l.next=y.next,y.next=l),p.interleaved=l,Vi(o,c)}function xh(o,l,c){if(l=l.updateQueue,l!==null&&(l=l.shared,(c&4194240)!==0)){var p=l.lanes;p&=o.pendingLanes,c|=p,l.lanes=c,$u(o,c)}}function UT(o,l){var c=o.updateQueue,p=o.alternate;if(p!==null&&(p=p.updateQueue,c===p)){var y=null,w=null;if(c=c.firstBaseUpdate,c!==null){do{var I={eventTime:c.eventTime,lane:c.lane,tag:c.tag,payload:c.payload,callback:c.callback,next:null};w===null?y=w=I:w=w.next=I,c=c.next}while(c!==null);w===null?y=w=l:w=w.next=l}else y=w=l;c={baseState:p.baseState,firstBaseUpdate:y,lastBaseUpdate:w,shared:p.shared,effects:p.effects},o.updateQueue=c;return}o=c.lastBaseUpdate,o===null?c.firstBaseUpdate=l:o.next=l,c.lastBaseUpdate=l}function Rh(o,l,c,p){var y=o.updateQueue;Ps=!1;var w=y.firstBaseUpdate,I=y.lastBaseUpdate,V=y.shared.pending;if(V!==null){y.shared.pending=null;var B=V,J=B.next;B.next=null,I===null?w=J:I.next=J,I=B;var ue=o.alternate;ue!==null&&(ue=ue.updateQueue,V=ue.lastBaseUpdate,V!==I&&(V===null?ue.firstBaseUpdate=J:V.next=J,ue.lastBaseUpdate=B))}if(w!==null){var ce=y.baseState;I=0,ue=J=B=null,V=w;do{var ae=V.lane,_e=V.eventTime;if((p&ae)===ae){ue!==null&&(ue=ue.next={eventTime:_e,lane:0,tag:V.tag,payload:V.payload,callback:V.callback,next:null});e:{var Pe=o,Ae=V;switch(ae=l,_e=c,Ae.tag){case 1:if(Pe=Ae.payload,typeof Pe=="function"){ce=Pe.call(_e,ce,ae);break e}ce=Pe;break e;case 3:Pe.flags=Pe.flags&-65537|128;case 0:if(Pe=Ae.payload,ae=typeof Pe=="function"?Pe.call(_e,ce,ae):Pe,ae==null)break e;ce=ne({},ce,ae);break e;case 2:Ps=!0}}V.callback!==null&&V.lane!==0&&(o.flags|=64,ae=y.effects,ae===null?y.effects=[V]:ae.push(V))}else _e={eventTime:_e,lane:ae,tag:V.tag,payload:V.payload,callback:V.callback,next:null},ue===null?(J=ue=_e,B=ce):ue=ue.next=_e,I|=ae;if(V=V.next,V===null){if(V=y.shared.pending,V===null)break;ae=V,V=ae.next,ae.next=null,y.lastBaseUpdate=ae,y.shared.pending=null}}while(!0);if(ue===null&&(B=ce),y.baseState=B,y.firstBaseUpdate=J,y.lastBaseUpdate=ue,l=y.shared.interleaved,l!==null){y=l;do I|=y.lane,y=y.next;while(y!==l)}else w===null&&(y.shared.lanes=0);Ho|=I,o.lanes=I,o.memoizedState=ce}}function jT(o,l,c){if(o=l.effects,l.effects=null,o!==null)for(l=0;l<o.length;l++){var p=o[l],y=p.callback;if(y!==null){if(p.callback=null,p=c,typeof y!="function")throw Error(t(191,y));y.call(p)}}}var lc={},Zr=Es(lc),uc=Es(lc),cc=Es(lc);function zo(o){if(o===lc)throw Error(t(174));return o}function ag(o,l){switch(ft(cc,l),ft(uc,o),ft(Zr,lc),o=l.nodeType,o){case 9:case 11:l=(l=l.documentElement)?l.namespaceURI:Fa(null,"");break;default:o=o===8?l.parentNode:l,l=o.namespaceURI||null,o=o.tagName,l=Fa(l,o)}wt(Zr),ft(Zr,l)}function yl(){wt(Zr),wt(uc),wt(cc)}function BT(o){zo(cc.current);var l=zo(Zr.current),c=Fa(l,o.type);l!==c&&(ft(uc,o),ft(Zr,c))}function lg(o){uc.current===o&&(wt(Zr),wt(uc))}var Ct=Es(0);function kh(o){for(var l=o;l!==null;){if(l.tag===13){var c=l.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||c.data==="$?"||c.data==="$!"))return l}else if(l.tag===19&&l.memoizedProps.revealOrder!==void 0){if((l.flags&128)!==0)return l}else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===o)break;for(;l.sibling===null;){if(l.return===null||l.return===o)return null;l=l.return}l.sibling.return=l.return,l=l.sibling}return null}var ug=[];function cg(){for(var o=0;o<ug.length;o++)ug[o]._workInProgressVersionPrimary=null;ug.length=0}var Dh=z.ReactCurrentDispatcher,dg=z.ReactCurrentBatchConfig,Wo=0,At=null,Zt=null,sn=null,Nh=!1,dc=!1,hc=0,$k=0;function wn(){throw Error(t(321))}function hg(o,l){if(l===null)return!1;for(var c=0;c<l.length&&c<o.length;c++)if(!Sr(o[c],l[c]))return!1;return!0}function fg(o,l,c,p,y,w){if(Wo=w,At=l,l.memoizedState=null,l.updateQueue=null,l.lanes=0,Dh.current=o===null||o.memoizedState===null?qk:Gk,o=c(p,y),dc){w=0;do{if(dc=!1,hc=0,25<=w)throw Error(t(301));w+=1,sn=Zt=null,l.updateQueue=null,Dh.current=Kk,o=c(p,y)}while(dc)}if(Dh.current=Mh,l=Zt!==null&&Zt.next!==null,Wo=0,sn=Zt=At=null,Nh=!1,l)throw Error(t(300));return o}function pg(){var o=hc!==0;return hc=0,o}function ei(){var o={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return sn===null?At.memoizedState=sn=o:sn=sn.next=o,sn}function pr(){if(Zt===null){var o=At.alternate;o=o!==null?o.memoizedState:null}else o=Zt.next;var l=sn===null?At.memoizedState:sn.next;if(l!==null)sn=l,Zt=o;else{if(o===null)throw Error(t(310));Zt=o,o={memoizedState:Zt.memoizedState,baseState:Zt.baseState,baseQueue:Zt.baseQueue,queue:Zt.queue,next:null},sn===null?At.memoizedState=sn=o:sn=sn.next=o}return sn}function fc(o,l){return typeof l=="function"?l(o):l}function mg(o){var l=pr(),c=l.queue;if(c===null)throw Error(t(311));c.lastRenderedReducer=o;var p=Zt,y=p.baseQueue,w=c.pending;if(w!==null){if(y!==null){var I=y.next;y.next=w.next,w.next=I}p.baseQueue=y=w,c.pending=null}if(y!==null){w=y.next,p=p.baseState;var V=I=null,B=null,J=w;do{var ue=J.lane;if((Wo&ue)===ue)B!==null&&(B=B.next={lane:0,action:J.action,hasEagerState:J.hasEagerState,eagerState:J.eagerState,next:null}),p=J.hasEagerState?J.eagerState:o(p,J.action);else{var ce={lane:ue,action:J.action,hasEagerState:J.hasEagerState,eagerState:J.eagerState,next:null};B===null?(V=B=ce,I=p):B=B.next=ce,At.lanes|=ue,Ho|=ue}J=J.next}while(J!==null&&J!==w);B===null?I=p:B.next=V,Sr(p,l.memoizedState)||(Ln=!0),l.memoizedState=p,l.baseState=I,l.baseQueue=B,c.lastRenderedState=p}if(o=c.interleaved,o!==null){y=o;do w=y.lane,At.lanes|=w,Ho|=w,y=y.next;while(y!==o)}else y===null&&(c.lanes=0);return[l.memoizedState,c.dispatch]}function gg(o){var l=pr(),c=l.queue;if(c===null)throw Error(t(311));c.lastRenderedReducer=o;var p=c.dispatch,y=c.pending,w=l.memoizedState;if(y!==null){c.pending=null;var I=y=y.next;do w=o(w,I.action),I=I.next;while(I!==y);Sr(w,l.memoizedState)||(Ln=!0),l.memoizedState=w,l.baseQueue===null&&(l.baseState=w),c.lastRenderedState=w}return[w,p]}function $T(){}function zT(o,l){var c=At,p=pr(),y=l(),w=!Sr(p.memoizedState,y);if(w&&(p.memoizedState=y,Ln=!0),p=p.queue,yg(qT.bind(null,c,p,o),[o]),p.getSnapshot!==l||w||sn!==null&&sn.memoizedState.tag&1){if(c.flags|=2048,pc(9,HT.bind(null,c,p,y,l),void 0,null),on===null)throw Error(t(349));(Wo&30)!==0||WT(c,l,y)}return y}function WT(o,l,c){o.flags|=16384,o={getSnapshot:l,value:c},l=At.updateQueue,l===null?(l={lastEffect:null,stores:null},At.updateQueue=l,l.stores=[o]):(c=l.stores,c===null?l.stores=[o]:c.push(o))}function HT(o,l,c,p){l.value=c,l.getSnapshot=p,GT(l)&&KT(o)}function qT(o,l,c){return c(function(){GT(l)&&KT(o)})}function GT(o){var l=o.getSnapshot;o=o.value;try{var c=l();return!Sr(o,c)}catch{return!0}}function KT(o){var l=Vi(o,1);l!==null&&xr(l,o,1,-1)}function QT(o){var l=ei();return typeof o=="function"&&(o=o()),l.memoizedState=l.baseState=o,o={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:fc,lastRenderedState:o},l.queue=o,o=o.dispatch=Hk.bind(null,At,o),[l.memoizedState,o]}function pc(o,l,c,p){return o={tag:o,create:l,destroy:c,deps:p,next:null},l=At.updateQueue,l===null?(l={lastEffect:null,stores:null},At.updateQueue=l,l.lastEffect=o.next=o):(c=l.lastEffect,c===null?l.lastEffect=o.next=o:(p=c.next,c.next=o,o.next=p,l.lastEffect=o)),o}function YT(){return pr().memoizedState}function Vh(o,l,c,p){var y=ei();At.flags|=o,y.memoizedState=pc(1|l,c,void 0,p===void 0?null:p)}function Oh(o,l,c,p){var y=pr();p=p===void 0?null:p;var w=void 0;if(Zt!==null){var I=Zt.memoizedState;if(w=I.destroy,p!==null&&hg(p,I.deps)){y.memoizedState=pc(l,c,w,p);return}}At.flags|=o,y.memoizedState=pc(1|l,c,w,p)}function XT(o,l){return Vh(8390656,8,o,l)}function yg(o,l){return Oh(2048,8,o,l)}function JT(o,l){return Oh(4,2,o,l)}function ZT(o,l){return Oh(4,4,o,l)}function e0(o,l){if(typeof l=="function")return o=o(),l(o),function(){l(null)};if(l!=null)return o=o(),l.current=o,function(){l.current=null}}function t0(o,l,c){return c=c!=null?c.concat([o]):null,Oh(4,4,e0.bind(null,l,o),c)}function vg(){}function n0(o,l){var c=pr();l=l===void 0?null:l;var p=c.memoizedState;return p!==null&&l!==null&&hg(l,p[1])?p[0]:(c.memoizedState=[o,l],o)}function r0(o,l){var c=pr();l=l===void 0?null:l;var p=c.memoizedState;return p!==null&&l!==null&&hg(l,p[1])?p[0]:(o=o(),c.memoizedState=[o,l],o)}function i0(o,l,c){return(Wo&21)===0?(o.baseState&&(o.baseState=!1,Ln=!0),o.memoizedState=c):(Sr(c,l)||(c=ju(),At.lanes|=c,Ho|=c,o.baseState=!0),l)}function zk(o,l){var c=Ke;Ke=c!==0&&4>c?c:4,o(!0);var p=dg.transition;dg.transition={};try{o(!1),l()}finally{Ke=c,dg.transition=p}}function s0(){return pr().memoizedState}function Wk(o,l,c){var p=Rs(o);if(c={lane:p,action:c,hasEagerState:!1,eagerState:null,next:null},o0(o))a0(l,c);else if(c=LT(o,l,c,p),c!==null){var y=Rn();xr(c,o,p,y),l0(c,l,p)}}function Hk(o,l,c){var p=Rs(o),y={lane:p,action:c,hasEagerState:!1,eagerState:null,next:null};if(o0(o))a0(l,y);else{var w=o.alternate;if(o.lanes===0&&(w===null||w.lanes===0)&&(w=l.lastRenderedReducer,w!==null))try{var I=l.lastRenderedState,V=w(I,c);if(y.hasEagerState=!0,y.eagerState=V,Sr(V,I)){var B=l.interleaved;B===null?(y.next=y,sg(l)):(y.next=B.next,B.next=y),l.interleaved=y;return}}catch{}c=LT(o,l,y,p),c!==null&&(y=Rn(),xr(c,o,p,y),l0(c,l,p))}}function o0(o){var l=o.alternate;return o===At||l!==null&&l===At}function a0(o,l){dc=Nh=!0;var c=o.pending;c===null?l.next=l:(l.next=c.next,c.next=l),o.pending=l}function l0(o,l,c){if((c&4194240)!==0){var p=l.lanes;p&=o.pendingLanes,c|=p,l.lanes=c,$u(o,c)}}var Mh={readContext:fr,useCallback:wn,useContext:wn,useEffect:wn,useImperativeHandle:wn,useInsertionEffect:wn,useLayoutEffect:wn,useMemo:wn,useReducer:wn,useRef:wn,useState:wn,useDebugValue:wn,useDeferredValue:wn,useTransition:wn,useMutableSource:wn,useSyncExternalStore:wn,useId:wn,unstable_isNewReconciler:!1},qk={readContext:fr,useCallback:function(o,l){return ei().memoizedState=[o,l===void 0?null:l],o},useContext:fr,useEffect:XT,useImperativeHandle:function(o,l,c){return c=c!=null?c.concat([o]):null,Vh(4194308,4,e0.bind(null,l,o),c)},useLayoutEffect:function(o,l){return Vh(4194308,4,o,l)},useInsertionEffect:function(o,l){return Vh(4,2,o,l)},useMemo:function(o,l){var c=ei();return l=l===void 0?null:l,o=o(),c.memoizedState=[o,l],o},useReducer:function(o,l,c){var p=ei();return l=c!==void 0?c(l):l,p.memoizedState=p.baseState=l,o={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:o,lastRenderedState:l},p.queue=o,o=o.dispatch=Wk.bind(null,At,o),[p.memoizedState,o]},useRef:function(o){var l=ei();return o={current:o},l.memoizedState=o},useState:QT,useDebugValue:vg,useDeferredValue:function(o){return ei().memoizedState=o},useTransition:function(){var o=QT(!1),l=o[0];return o=zk.bind(null,o[1]),ei().memoizedState=o,[l,o]},useMutableSource:function(){},useSyncExternalStore:function(o,l,c){var p=At,y=ei();if(Et){if(c===void 0)throw Error(t(407));c=c()}else{if(c=l(),on===null)throw Error(t(349));(Wo&30)!==0||WT(p,l,c)}y.memoizedState=c;var w={value:c,getSnapshot:l};return y.queue=w,XT(qT.bind(null,p,w,o),[o]),p.flags|=2048,pc(9,HT.bind(null,p,w,c,l),void 0,null),c},useId:function(){var o=ei(),l=on.identifierPrefix;if(Et){var c=Ni,p=Di;c=(p&~(1<<32-Qn(p)-1)).toString(32)+c,l=":"+l+"R"+c,c=hc++,0<c&&(l+="H"+c.toString(32)),l+=":"}else c=$k++,l=":"+l+"r"+c.toString(32)+":";return o.memoizedState=l},unstable_isNewReconciler:!1},Gk={readContext:fr,useCallback:n0,useContext:fr,useEffect:yg,useImperativeHandle:t0,useInsertionEffect:JT,useLayoutEffect:ZT,useMemo:r0,useReducer:mg,useRef:YT,useState:function(){return mg(fc)},useDebugValue:vg,useDeferredValue:function(o){var l=pr();return i0(l,Zt.memoizedState,o)},useTransition:function(){var o=mg(fc)[0],l=pr().memoizedState;return[o,l]},useMutableSource:$T,useSyncExternalStore:zT,useId:s0,unstable_isNewReconciler:!1},Kk={readContext:fr,useCallback:n0,useContext:fr,useEffect:yg,useImperativeHandle:t0,useInsertionEffect:JT,useLayoutEffect:ZT,useMemo:r0,useReducer:gg,useRef:YT,useState:function(){return gg(fc)},useDebugValue:vg,useDeferredValue:function(o){var l=pr();return Zt===null?l.memoizedState=o:i0(l,Zt.memoizedState,o)},useTransition:function(){var o=gg(fc)[0],l=pr().memoizedState;return[o,l]},useMutableSource:$T,useSyncExternalStore:zT,useId:s0,unstable_isNewReconciler:!1};function Cr(o,l){if(o&&o.defaultProps){l=ne({},l),o=o.defaultProps;for(var c in o)l[c]===void 0&&(l[c]=o[c]);return l}return l}function wg(o,l,c,p){l=o.memoizedState,c=c(p,l),c=c==null?l:ne({},l,c),o.memoizedState=c,o.lanes===0&&(o.updateQueue.baseState=c)}var Lh={isMounted:function(o){return(o=o._reactInternals)?Er(o)===o:!1},enqueueSetState:function(o,l,c){o=o._reactInternals;var p=Rn(),y=Rs(o),w=Oi(p,y);w.payload=l,c!=null&&(w.callback=c),l=Cs(o,w,y),l!==null&&(xr(l,o,y,p),xh(l,o,y))},enqueueReplaceState:function(o,l,c){o=o._reactInternals;var p=Rn(),y=Rs(o),w=Oi(p,y);w.tag=1,w.payload=l,c!=null&&(w.callback=c),l=Cs(o,w,y),l!==null&&(xr(l,o,y,p),xh(l,o,y))},enqueueForceUpdate:function(o,l){o=o._reactInternals;var c=Rn(),p=Rs(o),y=Oi(c,p);y.tag=2,l!=null&&(y.callback=l),l=Cs(o,y,p),l!==null&&(xr(l,o,p,c),xh(l,o,p))}};function u0(o,l,c,p,y,w,I){return o=o.stateNode,typeof o.shouldComponentUpdate=="function"?o.shouldComponentUpdate(p,w,I):l.prototype&&l.prototype.isPureReactComponent?!ec(c,p)||!ec(y,w):!0}function c0(o,l,c){var p=!1,y=Is,w=l.contextType;return typeof w=="object"&&w!==null?w=fr(w):(y=Mn(l)?Uo:vn.current,p=l.contextTypes,w=(p=p!=null)?cl(o,y):Is),l=new l(c,w),o.memoizedState=l.state!==null&&l.state!==void 0?l.state:null,l.updater=Lh,o.stateNode=l,l._reactInternals=o,p&&(o=o.stateNode,o.__reactInternalMemoizedUnmaskedChildContext=y,o.__reactInternalMemoizedMaskedChildContext=w),l}function d0(o,l,c,p){o=l.state,typeof l.componentWillReceiveProps=="function"&&l.componentWillReceiveProps(c,p),typeof l.UNSAFE_componentWillReceiveProps=="function"&&l.UNSAFE_componentWillReceiveProps(c,p),l.state!==o&&Lh.enqueueReplaceState(l,l.state,null)}function _g(o,l,c,p){var y=o.stateNode;y.props=c,y.state=o.memoizedState,y.refs={},og(o);var w=l.contextType;typeof w=="object"&&w!==null?y.context=fr(w):(w=Mn(l)?Uo:vn.current,y.context=cl(o,w)),y.state=o.memoizedState,w=l.getDerivedStateFromProps,typeof w=="function"&&(wg(o,l,w,c),y.state=o.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(l=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),l!==y.state&&Lh.enqueueReplaceState(y,y.state,null),Rh(o,c,y,p),y.state=o.memoizedState),typeof y.componentDidMount=="function"&&(o.flags|=4194308)}function vl(o,l){try{var c="",p=l;do c+=pe(p),p=p.return;while(p);var y=c}catch(w){y=`
Error generating stack: `+w.message+`
`+w.stack}return{value:o,source:l,stack:y,digest:null}}function Tg(o,l,c){return{value:o,source:null,stack:c??null,digest:l??null}}function Eg(o,l){try{console.error(l.value)}catch(c){setTimeout(function(){throw c})}}var Qk=typeof WeakMap=="function"?WeakMap:Map;function h0(o,l,c){c=Oi(-1,c),c.tag=3,c.payload={element:null};var p=l.value;return c.callback=function(){Wh||(Wh=!0,Lg=p),Eg(o,l)},c}function f0(o,l,c){c=Oi(-1,c),c.tag=3;var p=o.type.getDerivedStateFromError;if(typeof p=="function"){var y=l.value;c.payload=function(){return p(y)},c.callback=function(){Eg(o,l)}}var w=o.stateNode;return w!==null&&typeof w.componentDidCatch=="function"&&(c.callback=function(){Eg(o,l),typeof p!="function"&&(bs===null?bs=new Set([this]):bs.add(this));var I=l.stack;this.componentDidCatch(l.value,{componentStack:I!==null?I:""})}),c}function p0(o,l,c){var p=o.pingCache;if(p===null){p=o.pingCache=new Qk;var y=new Set;p.set(l,y)}else y=p.get(l),y===void 0&&(y=new Set,p.set(l,y));y.has(c)||(y.add(c),o=uD.bind(null,o,l,c),l.then(o,o))}function m0(o){do{var l;if((l=o.tag===13)&&(l=o.memoizedState,l=l!==null?l.dehydrated!==null:!0),l)return o;o=o.return}while(o!==null);return null}function g0(o,l,c,p,y){return(o.mode&1)===0?(o===l?o.flags|=65536:(o.flags|=128,c.flags|=131072,c.flags&=-52805,c.tag===1&&(c.alternate===null?c.tag=17:(l=Oi(-1,1),l.tag=2,Cs(c,l,1))),c.lanes|=1),o):(o.flags|=65536,o.lanes=y,o)}var Yk=z.ReactCurrentOwner,Ln=!1;function xn(o,l,c,p){l.child=o===null?MT(l,null,c,p):pl(l,o.child,c,p)}function y0(o,l,c,p,y){c=c.render;var w=l.ref;return gl(l,y),p=fg(o,l,c,p,w,y),c=pg(),o!==null&&!Ln?(l.updateQueue=o.updateQueue,l.flags&=-2053,o.lanes&=~y,Mi(o,l,y)):(Et&&c&&Ym(l),l.flags|=1,xn(o,l,p,y),l.child)}function v0(o,l,c,p,y){if(o===null){var w=c.type;return typeof w=="function"&&!Wg(w)&&w.defaultProps===void 0&&c.compare===null&&c.defaultProps===void 0?(l.tag=15,l.type=w,w0(o,l,w,p,y)):(o=Yh(c.type,null,p,l,l.mode,y),o.ref=l.ref,o.return=l,l.child=o)}if(w=o.child,(o.lanes&y)===0){var I=w.memoizedProps;if(c=c.compare,c=c!==null?c:ec,c(I,p)&&o.ref===l.ref)return Mi(o,l,y)}return l.flags|=1,o=Ds(w,p),o.ref=l.ref,o.return=l,l.child=o}function w0(o,l,c,p,y){if(o!==null){var w=o.memoizedProps;if(ec(w,p)&&o.ref===l.ref)if(Ln=!1,l.pendingProps=p=w,(o.lanes&y)!==0)(o.flags&131072)!==0&&(Ln=!0);else return l.lanes=o.lanes,Mi(o,l,y)}return Ig(o,l,c,p,y)}function _0(o,l,c){var p=l.pendingProps,y=p.children,w=o!==null?o.memoizedState:null;if(p.mode==="hidden")if((l.mode&1)===0)l.memoizedState={baseLanes:0,cachePool:null,transitions:null},ft(_l,nr),nr|=c;else{if((c&1073741824)===0)return o=w!==null?w.baseLanes|c:c,l.lanes=l.childLanes=1073741824,l.memoizedState={baseLanes:o,cachePool:null,transitions:null},l.updateQueue=null,ft(_l,nr),nr|=o,null;l.memoizedState={baseLanes:0,cachePool:null,transitions:null},p=w!==null?w.baseLanes:c,ft(_l,nr),nr|=p}else w!==null?(p=w.baseLanes|c,l.memoizedState=null):p=c,ft(_l,nr),nr|=p;return xn(o,l,y,c),l.child}function T0(o,l){var c=l.ref;(o===null&&c!==null||o!==null&&o.ref!==c)&&(l.flags|=512,l.flags|=2097152)}function Ig(o,l,c,p,y){var w=Mn(c)?Uo:vn.current;return w=cl(l,w),gl(l,y),c=fg(o,l,c,p,w,y),p=pg(),o!==null&&!Ln?(l.updateQueue=o.updateQueue,l.flags&=-2053,o.lanes&=~y,Mi(o,l,y)):(Et&&p&&Ym(l),l.flags|=1,xn(o,l,c,y),l.child)}function E0(o,l,c,p,y){if(Mn(c)){var w=!0;Th(l)}else w=!1;if(gl(l,y),l.stateNode===null)Uh(o,l),c0(l,c,p),_g(l,c,p,y),p=!0;else if(o===null){var I=l.stateNode,V=l.memoizedProps;I.props=V;var B=I.context,J=c.contextType;typeof J=="object"&&J!==null?J=fr(J):(J=Mn(c)?Uo:vn.current,J=cl(l,J));var ue=c.getDerivedStateFromProps,ce=typeof ue=="function"||typeof I.getSnapshotBeforeUpdate=="function";ce||typeof I.UNSAFE_componentWillReceiveProps!="function"&&typeof I.componentWillReceiveProps!="function"||(V!==p||B!==J)&&d0(l,I,p,J),Ps=!1;var ae=l.memoizedState;I.state=ae,Rh(l,p,I,y),B=l.memoizedState,V!==p||ae!==B||On.current||Ps?(typeof ue=="function"&&(wg(l,c,ue,p),B=l.memoizedState),(V=Ps||u0(l,c,V,p,ae,B,J))?(ce||typeof I.UNSAFE_componentWillMount!="function"&&typeof I.componentWillMount!="function"||(typeof I.componentWillMount=="function"&&I.componentWillMount(),typeof I.UNSAFE_componentWillMount=="function"&&I.UNSAFE_componentWillMount()),typeof I.componentDidMount=="function"&&(l.flags|=4194308)):(typeof I.componentDidMount=="function"&&(l.flags|=4194308),l.memoizedProps=p,l.memoizedState=B),I.props=p,I.state=B,I.context=J,p=V):(typeof I.componentDidMount=="function"&&(l.flags|=4194308),p=!1)}else{I=l.stateNode,FT(o,l),V=l.memoizedProps,J=l.type===l.elementType?V:Cr(l.type,V),I.props=J,ce=l.pendingProps,ae=I.context,B=c.contextType,typeof B=="object"&&B!==null?B=fr(B):(B=Mn(c)?Uo:vn.current,B=cl(l,B));var _e=c.getDerivedStateFromProps;(ue=typeof _e=="function"||typeof I.getSnapshotBeforeUpdate=="function")||typeof I.UNSAFE_componentWillReceiveProps!="function"&&typeof I.componentWillReceiveProps!="function"||(V!==ce||ae!==B)&&d0(l,I,p,B),Ps=!1,ae=l.memoizedState,I.state=ae,Rh(l,p,I,y);var Pe=l.memoizedState;V!==ce||ae!==Pe||On.current||Ps?(typeof _e=="function"&&(wg(l,c,_e,p),Pe=l.memoizedState),(J=Ps||u0(l,c,J,p,ae,Pe,B)||!1)?(ue||typeof I.UNSAFE_componentWillUpdate!="function"&&typeof I.componentWillUpdate!="function"||(typeof I.componentWillUpdate=="function"&&I.componentWillUpdate(p,Pe,B),typeof I.UNSAFE_componentWillUpdate=="function"&&I.UNSAFE_componentWillUpdate(p,Pe,B)),typeof I.componentDidUpdate=="function"&&(l.flags|=4),typeof I.getSnapshotBeforeUpdate=="function"&&(l.flags|=1024)):(typeof I.componentDidUpdate!="function"||V===o.memoizedProps&&ae===o.memoizedState||(l.flags|=4),typeof I.getSnapshotBeforeUpdate!="function"||V===o.memoizedProps&&ae===o.memoizedState||(l.flags|=1024),l.memoizedProps=p,l.memoizedState=Pe),I.props=p,I.state=Pe,I.context=B,p=J):(typeof I.componentDidUpdate!="function"||V===o.memoizedProps&&ae===o.memoizedState||(l.flags|=4),typeof I.getSnapshotBeforeUpdate!="function"||V===o.memoizedProps&&ae===o.memoizedState||(l.flags|=1024),p=!1)}return Sg(o,l,c,p,w,y)}function Sg(o,l,c,p,y,w){T0(o,l);var I=(l.flags&128)!==0;if(!p&&!I)return y&&AT(l,c,!1),Mi(o,l,w);p=l.stateNode,Yk.current=l;var V=I&&typeof c.getDerivedStateFromError!="function"?null:p.render();return l.flags|=1,o!==null&&I?(l.child=pl(l,o.child,null,w),l.child=pl(l,null,V,w)):xn(o,l,V,w),l.memoizedState=p.state,y&&AT(l,c,!0),l.child}function I0(o){var l=o.stateNode;l.pendingContext?PT(o,l.pendingContext,l.pendingContext!==l.context):l.context&&PT(o,l.context,!1),ag(o,l.containerInfo)}function S0(o,l,c,p,y){return fl(),eg(y),l.flags|=256,xn(o,l,c,p),l.child}var Pg={dehydrated:null,treeContext:null,retryLane:0};function Cg(o){return{baseLanes:o,cachePool:null,transitions:null}}function P0(o,l,c){var p=l.pendingProps,y=Ct.current,w=!1,I=(l.flags&128)!==0,V;if((V=I)||(V=o!==null&&o.memoizedState===null?!1:(y&2)!==0),V?(w=!0,l.flags&=-129):(o===null||o.memoizedState!==null)&&(y|=1),ft(Ct,y&1),o===null)return Zm(l),o=l.memoizedState,o!==null&&(o=o.dehydrated,o!==null)?((l.mode&1)===0?l.lanes=1:o.data==="$!"?l.lanes=8:l.lanes=1073741824,null):(I=p.children,o=p.fallback,w?(p=l.mode,w=l.child,I={mode:"hidden",children:I},(p&1)===0&&w!==null?(w.childLanes=0,w.pendingProps=I):w=Xh(I,p,0,null),o=Qo(o,p,c,null),w.return=l,o.return=l,w.sibling=o,l.child=w,l.child.memoizedState=Cg(c),l.memoizedState=Pg,o):Ag(l,I));if(y=o.memoizedState,y!==null&&(V=y.dehydrated,V!==null))return Xk(o,l,I,p,V,y,c);if(w){w=p.fallback,I=l.mode,y=o.child,V=y.sibling;var B={mode:"hidden",children:p.children};return(I&1)===0&&l.child!==y?(p=l.child,p.childLanes=0,p.pendingProps=B,l.deletions=null):(p=Ds(y,B),p.subtreeFlags=y.subtreeFlags&14680064),V!==null?w=Ds(V,w):(w=Qo(w,I,c,null),w.flags|=2),w.return=l,p.return=l,p.sibling=w,l.child=p,p=w,w=l.child,I=o.child.memoizedState,I=I===null?Cg(c):{baseLanes:I.baseLanes|c,cachePool:null,transitions:I.transitions},w.memoizedState=I,w.childLanes=o.childLanes&~c,l.memoizedState=Pg,p}return w=o.child,o=w.sibling,p=Ds(w,{mode:"visible",children:p.children}),(l.mode&1)===0&&(p.lanes=c),p.return=l,p.sibling=null,o!==null&&(c=l.deletions,c===null?(l.deletions=[o],l.flags|=16):c.push(o)),l.child=p,l.memoizedState=null,p}function Ag(o,l){return l=Xh({mode:"visible",children:l},o.mode,0,null),l.return=o,o.child=l}function Fh(o,l,c,p){return p!==null&&eg(p),pl(l,o.child,null,c),o=Ag(l,l.pendingProps.children),o.flags|=2,l.memoizedState=null,o}function Xk(o,l,c,p,y,w,I){if(c)return l.flags&256?(l.flags&=-257,p=Tg(Error(t(422))),Fh(o,l,I,p)):l.memoizedState!==null?(l.child=o.child,l.flags|=128,null):(w=p.fallback,y=l.mode,p=Xh({mode:"visible",children:p.children},y,0,null),w=Qo(w,y,I,null),w.flags|=2,p.return=l,w.return=l,p.sibling=w,l.child=p,(l.mode&1)!==0&&pl(l,o.child,null,I),l.child.memoizedState=Cg(I),l.memoizedState=Pg,w);if((l.mode&1)===0)return Fh(o,l,I,null);if(y.data==="$!"){if(p=y.nextSibling&&y.nextSibling.dataset,p)var V=p.dgst;return p=V,w=Error(t(419)),p=Tg(w,p,void 0),Fh(o,l,I,p)}if(V=(I&o.childLanes)!==0,Ln||V){if(p=on,p!==null){switch(I&-I){case 4:y=2;break;case 16:y=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:y=32;break;case 536870912:y=268435456;break;default:y=0}y=(y&(p.suspendedLanes|I))!==0?0:y,y!==0&&y!==w.retryLane&&(w.retryLane=y,Vi(o,y),xr(p,o,y,-1))}return zg(),p=Tg(Error(t(421))),Fh(o,l,I,p)}return y.data==="$?"?(l.flags|=128,l.child=o.child,l=cD.bind(null,o),y._reactRetry=l,null):(o=w.treeContext,tr=Ts(y.nextSibling),er=l,Et=!0,Pr=null,o!==null&&(dr[hr++]=Di,dr[hr++]=Ni,dr[hr++]=jo,Di=o.id,Ni=o.overflow,jo=l),l=Ag(l,p.children),l.flags|=4096,l)}function C0(o,l,c){o.lanes|=l;var p=o.alternate;p!==null&&(p.lanes|=l),ig(o.return,l,c)}function bg(o,l,c,p,y){var w=o.memoizedState;w===null?o.memoizedState={isBackwards:l,rendering:null,renderingStartTime:0,last:p,tail:c,tailMode:y}:(w.isBackwards=l,w.rendering=null,w.renderingStartTime=0,w.last=p,w.tail=c,w.tailMode=y)}function A0(o,l,c){var p=l.pendingProps,y=p.revealOrder,w=p.tail;if(xn(o,l,p.children,c),p=Ct.current,(p&2)!==0)p=p&1|2,l.flags|=128;else{if(o!==null&&(o.flags&128)!==0)e:for(o=l.child;o!==null;){if(o.tag===13)o.memoizedState!==null&&C0(o,c,l);else if(o.tag===19)C0(o,c,l);else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===l)break e;for(;o.sibling===null;){if(o.return===null||o.return===l)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}p&=1}if(ft(Ct,p),(l.mode&1)===0)l.memoizedState=null;else switch(y){case"forwards":for(c=l.child,y=null;c!==null;)o=c.alternate,o!==null&&kh(o)===null&&(y=c),c=c.sibling;c=y,c===null?(y=l.child,l.child=null):(y=c.sibling,c.sibling=null),bg(l,!1,y,c,w);break;case"backwards":for(c=null,y=l.child,l.child=null;y!==null;){if(o=y.alternate,o!==null&&kh(o)===null){l.child=y;break}o=y.sibling,y.sibling=c,c=y,y=o}bg(l,!0,c,null,w);break;case"together":bg(l,!1,null,null,void 0);break;default:l.memoizedState=null}return l.child}function Uh(o,l){(l.mode&1)===0&&o!==null&&(o.alternate=null,l.alternate=null,l.flags|=2)}function Mi(o,l,c){if(o!==null&&(l.dependencies=o.dependencies),Ho|=l.lanes,(c&l.childLanes)===0)return null;if(o!==null&&l.child!==o.child)throw Error(t(153));if(l.child!==null){for(o=l.child,c=Ds(o,o.pendingProps),l.child=c,c.return=l;o.sibling!==null;)o=o.sibling,c=c.sibling=Ds(o,o.pendingProps),c.return=l;c.sibling=null}return l.child}function Jk(o,l,c){switch(l.tag){case 3:I0(l),fl();break;case 5:BT(l);break;case 1:Mn(l.type)&&Th(l);break;case 4:ag(l,l.stateNode.containerInfo);break;case 10:var p=l.type._context,y=l.memoizedProps.value;ft(Ah,p._currentValue),p._currentValue=y;break;case 13:if(p=l.memoizedState,p!==null)return p.dehydrated!==null?(ft(Ct,Ct.current&1),l.flags|=128,null):(c&l.child.childLanes)!==0?P0(o,l,c):(ft(Ct,Ct.current&1),o=Mi(o,l,c),o!==null?o.sibling:null);ft(Ct,Ct.current&1);break;case 19:if(p=(c&l.childLanes)!==0,(o.flags&128)!==0){if(p)return A0(o,l,c);l.flags|=128}if(y=l.memoizedState,y!==null&&(y.rendering=null,y.tail=null,y.lastEffect=null),ft(Ct,Ct.current),p)break;return null;case 22:case 23:return l.lanes=0,_0(o,l,c)}return Mi(o,l,c)}var b0,xg,x0,R0;b0=function(o,l){for(var c=l.child;c!==null;){if(c.tag===5||c.tag===6)o.appendChild(c.stateNode);else if(c.tag!==4&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===l)break;for(;c.sibling===null;){if(c.return===null||c.return===l)return;c=c.return}c.sibling.return=c.return,c=c.sibling}},xg=function(){},x0=function(o,l,c,p){var y=o.memoizedProps;if(y!==p){o=l.stateNode,zo(Zr.current);var w=null;switch(c){case"input":y=_r(o,y),p=_r(o,p),w=[];break;case"select":y=ne({},y,{value:void 0}),p=ne({},p,{value:void 0}),w=[];break;case"textarea":y=Io(o,y),p=Io(o,p),w=[];break;default:typeof y.onClick!="function"&&typeof p.onClick=="function"&&(o.onclick=vh)}Tr(c,p);var I;c=null;for(J in y)if(!p.hasOwnProperty(J)&&y.hasOwnProperty(J)&&y[J]!=null)if(J==="style"){var V=y[J];for(I in V)V.hasOwnProperty(I)&&(c||(c={}),c[I]="")}else J!=="dangerouslySetInnerHTML"&&J!=="children"&&J!=="suppressContentEditableWarning"&&J!=="suppressHydrationWarning"&&J!=="autoFocus"&&(i.hasOwnProperty(J)?w||(w=[]):(w=w||[]).push(J,null));for(J in p){var B=p[J];if(V=y?.[J],p.hasOwnProperty(J)&&B!==V&&(B!=null||V!=null))if(J==="style")if(V){for(I in V)!V.hasOwnProperty(I)||B&&B.hasOwnProperty(I)||(c||(c={}),c[I]="");for(I in B)B.hasOwnProperty(I)&&V[I]!==B[I]&&(c||(c={}),c[I]=B[I])}else c||(w||(w=[]),w.push(J,c)),c=B;else J==="dangerouslySetInnerHTML"?(B=B?B.__html:void 0,V=V?V.__html:void 0,B!=null&&V!==B&&(w=w||[]).push(J,B)):J==="children"?typeof B!="string"&&typeof B!="number"||(w=w||[]).push(J,""+B):J!=="suppressContentEditableWarning"&&J!=="suppressHydrationWarning"&&(i.hasOwnProperty(J)?(B!=null&&J==="onScroll"&&vt("scroll",o),w||V===B||(w=[])):(w=w||[]).push(J,B))}c&&(w=w||[]).push("style",c);var J=w;(l.updateQueue=J)&&(l.flags|=4)}},R0=function(o,l,c,p){c!==p&&(l.flags|=4)};function mc(o,l){if(!Et)switch(o.tailMode){case"hidden":l=o.tail;for(var c=null;l!==null;)l.alternate!==null&&(c=l),l=l.sibling;c===null?o.tail=null:c.sibling=null;break;case"collapsed":c=o.tail;for(var p=null;c!==null;)c.alternate!==null&&(p=c),c=c.sibling;p===null?l||o.tail===null?o.tail=null:o.tail.sibling=null:p.sibling=null}}function _n(o){var l=o.alternate!==null&&o.alternate.child===o.child,c=0,p=0;if(l)for(var y=o.child;y!==null;)c|=y.lanes|y.childLanes,p|=y.subtreeFlags&14680064,p|=y.flags&14680064,y.return=o,y=y.sibling;else for(y=o.child;y!==null;)c|=y.lanes|y.childLanes,p|=y.subtreeFlags,p|=y.flags,y.return=o,y=y.sibling;return o.subtreeFlags|=p,o.childLanes=c,l}function Zk(o,l,c){var p=l.pendingProps;switch(Xm(l),l.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return _n(l),null;case 1:return Mn(l.type)&&_h(),_n(l),null;case 3:return p=l.stateNode,yl(),wt(On),wt(vn),cg(),p.pendingContext&&(p.context=p.pendingContext,p.pendingContext=null),(o===null||o.child===null)&&(Ph(l)?l.flags|=4:o===null||o.memoizedState.isDehydrated&&(l.flags&256)===0||(l.flags|=1024,Pr!==null&&(jg(Pr),Pr=null))),xg(o,l),_n(l),null;case 5:lg(l);var y=zo(cc.current);if(c=l.type,o!==null&&l.stateNode!=null)x0(o,l,c,p,y),o.ref!==l.ref&&(l.flags|=512,l.flags|=2097152);else{if(!p){if(l.stateNode===null)throw Error(t(166));return _n(l),null}if(o=zo(Zr.current),Ph(l)){p=l.stateNode,c=l.type;var w=l.memoizedProps;switch(p[Jr]=l,p[sc]=w,o=(l.mode&1)!==0,c){case"dialog":vt("cancel",p),vt("close",p);break;case"iframe":case"object":case"embed":vt("load",p);break;case"video":case"audio":for(y=0;y<nc.length;y++)vt(nc[y],p);break;case"source":vt("error",p);break;case"img":case"image":case"link":vt("error",p),vt("load",p);break;case"details":vt("toggle",p);break;case"input":La(p,w),vt("invalid",p);break;case"select":p._wrapperState={wasMultiple:!!w.multiple},vt("invalid",p);break;case"textarea":Ru(p,w),vt("invalid",p)}Tr(c,w),y=null;for(var I in w)if(w.hasOwnProperty(I)){var V=w[I];I==="children"?typeof V=="string"?p.textContent!==V&&(w.suppressHydrationWarning!==!0&&yh(p.textContent,V,o),y=["children",V]):typeof V=="number"&&p.textContent!==""+V&&(w.suppressHydrationWarning!==!0&&yh(p.textContent,V,o),y=["children",""+V]):i.hasOwnProperty(I)&&V!=null&&I==="onScroll"&&vt("scroll",p)}switch(c){case"input":Jt(p),is(p,w,!0);break;case"textarea":Jt(p),ss(p);break;case"select":case"option":break;default:typeof w.onClick=="function"&&(p.onclick=vh)}p=y,l.updateQueue=p,p!==null&&(l.flags|=4)}else{I=y.nodeType===9?y:y.ownerDocument,o==="http://www.w3.org/1999/xhtml"&&(o=ku(c)),o==="http://www.w3.org/1999/xhtml"?c==="script"?(o=I.createElement("div"),o.innerHTML="<script><\/script>",o=o.removeChild(o.firstChild)):typeof p.is=="string"?o=I.createElement(c,{is:p.is}):(o=I.createElement(c),c==="select"&&(I=o,p.multiple?I.multiple=!0:p.size&&(I.size=p.size))):o=I.createElementNS(o,c),o[Jr]=l,o[sc]=p,b0(o,l,!1,!1),l.stateNode=o;e:{switch(I=ja(c,p),c){case"dialog":vt("cancel",o),vt("close",o),y=p;break;case"iframe":case"object":case"embed":vt("load",o),y=p;break;case"video":case"audio":for(y=0;y<nc.length;y++)vt(nc[y],o);y=p;break;case"source":vt("error",o),y=p;break;case"img":case"image":case"link":vt("error",o),vt("load",o),y=p;break;case"details":vt("toggle",o),y=p;break;case"input":La(o,p),y=_r(o,p),vt("invalid",o);break;case"option":y=p;break;case"select":o._wrapperState={wasMultiple:!!p.multiple},y=ne({},p,{value:void 0}),vt("invalid",o);break;case"textarea":Ru(o,p),y=Io(o,p),vt("invalid",o);break;default:y=p}Tr(c,y),V=y;for(w in V)if(V.hasOwnProperty(w)){var B=V[w];w==="style"?Ua(o,B):w==="dangerouslySetInnerHTML"?(B=B?B.__html:void 0,B!=null&&Hd(o,B)):w==="children"?typeof B=="string"?(c!=="textarea"||B!=="")&&So(o,B):typeof B=="number"&&So(o,""+B):w!=="suppressContentEditableWarning"&&w!=="suppressHydrationWarning"&&w!=="autoFocus"&&(i.hasOwnProperty(w)?B!=null&&w==="onScroll"&&vt("scroll",o):B!=null&&F(o,w,B,I))}switch(c){case"input":Jt(o),is(o,p,!1);break;case"textarea":Jt(o),ss(o);break;case"option":p.value!=null&&o.setAttribute("value",""+Be(p.value));break;case"select":o.multiple=!!p.multiple,w=p.value,w!=null?Gn(o,!!p.multiple,w,!1):p.defaultValue!=null&&Gn(o,!!p.multiple,p.defaultValue,!0);break;default:typeof y.onClick=="function"&&(o.onclick=vh)}switch(c){case"button":case"input":case"select":case"textarea":p=!!p.autoFocus;break e;case"img":p=!0;break e;default:p=!1}}p&&(l.flags|=4)}l.ref!==null&&(l.flags|=512,l.flags|=2097152)}return _n(l),null;case 6:if(o&&l.stateNode!=null)R0(o,l,o.memoizedProps,p);else{if(typeof p!="string"&&l.stateNode===null)throw Error(t(166));if(c=zo(cc.current),zo(Zr.current),Ph(l)){if(p=l.stateNode,c=l.memoizedProps,p[Jr]=l,(w=p.nodeValue!==c)&&(o=er,o!==null))switch(o.tag){case 3:yh(p.nodeValue,c,(o.mode&1)!==0);break;case 5:o.memoizedProps.suppressHydrationWarning!==!0&&yh(p.nodeValue,c,(o.mode&1)!==0)}w&&(l.flags|=4)}else p=(c.nodeType===9?c:c.ownerDocument).createTextNode(p),p[Jr]=l,l.stateNode=p}return _n(l),null;case 13:if(wt(Ct),p=l.memoizedState,o===null||o.memoizedState!==null&&o.memoizedState.dehydrated!==null){if(Et&&tr!==null&&(l.mode&1)!==0&&(l.flags&128)===0)NT(),fl(),l.flags|=98560,w=!1;else if(w=Ph(l),p!==null&&p.dehydrated!==null){if(o===null){if(!w)throw Error(t(318));if(w=l.memoizedState,w=w!==null?w.dehydrated:null,!w)throw Error(t(317));w[Jr]=l}else fl(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;_n(l),w=!1}else Pr!==null&&(jg(Pr),Pr=null),w=!0;if(!w)return l.flags&65536?l:null}return(l.flags&128)!==0?(l.lanes=c,l):(p=p!==null,p!==(o!==null&&o.memoizedState!==null)&&p&&(l.child.flags|=8192,(l.mode&1)!==0&&(o===null||(Ct.current&1)!==0?en===0&&(en=3):zg())),l.updateQueue!==null&&(l.flags|=4),_n(l),null);case 4:return yl(),xg(o,l),o===null&&rc(l.stateNode.containerInfo),_n(l),null;case 10:return rg(l.type._context),_n(l),null;case 17:return Mn(l.type)&&_h(),_n(l),null;case 19:if(wt(Ct),w=l.memoizedState,w===null)return _n(l),null;if(p=(l.flags&128)!==0,I=w.rendering,I===null)if(p)mc(w,!1);else{if(en!==0||o!==null&&(o.flags&128)!==0)for(o=l.child;o!==null;){if(I=kh(o),I!==null){for(l.flags|=128,mc(w,!1),p=I.updateQueue,p!==null&&(l.updateQueue=p,l.flags|=4),l.subtreeFlags=0,p=c,c=l.child;c!==null;)w=c,o=p,w.flags&=14680066,I=w.alternate,I===null?(w.childLanes=0,w.lanes=o,w.child=null,w.subtreeFlags=0,w.memoizedProps=null,w.memoizedState=null,w.updateQueue=null,w.dependencies=null,w.stateNode=null):(w.childLanes=I.childLanes,w.lanes=I.lanes,w.child=I.child,w.subtreeFlags=0,w.deletions=null,w.memoizedProps=I.memoizedProps,w.memoizedState=I.memoizedState,w.updateQueue=I.updateQueue,w.type=I.type,o=I.dependencies,w.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),c=c.sibling;return ft(Ct,Ct.current&1|2),l.child}o=o.sibling}w.tail!==null&&yt()>Tl&&(l.flags|=128,p=!0,mc(w,!1),l.lanes=4194304)}else{if(!p)if(o=kh(I),o!==null){if(l.flags|=128,p=!0,c=o.updateQueue,c!==null&&(l.updateQueue=c,l.flags|=4),mc(w,!0),w.tail===null&&w.tailMode==="hidden"&&!I.alternate&&!Et)return _n(l),null}else 2*yt()-w.renderingStartTime>Tl&&c!==1073741824&&(l.flags|=128,p=!0,mc(w,!1),l.lanes=4194304);w.isBackwards?(I.sibling=l.child,l.child=I):(c=w.last,c!==null?c.sibling=I:l.child=I,w.last=I)}return w.tail!==null?(l=w.tail,w.rendering=l,w.tail=l.sibling,w.renderingStartTime=yt(),l.sibling=null,c=Ct.current,ft(Ct,p?c&1|2:c&1),l):(_n(l),null);case 22:case 23:return $g(),p=l.memoizedState!==null,o!==null&&o.memoizedState!==null!==p&&(l.flags|=8192),p&&(l.mode&1)!==0?(nr&1073741824)!==0&&(_n(l),l.subtreeFlags&6&&(l.flags|=8192)):_n(l),null;case 24:return null;case 25:return null}throw Error(t(156,l.tag))}function eD(o,l){switch(Xm(l),l.tag){case 1:return Mn(l.type)&&_h(),o=l.flags,o&65536?(l.flags=o&-65537|128,l):null;case 3:return yl(),wt(On),wt(vn),cg(),o=l.flags,(o&65536)!==0&&(o&128)===0?(l.flags=o&-65537|128,l):null;case 5:return lg(l),null;case 13:if(wt(Ct),o=l.memoizedState,o!==null&&o.dehydrated!==null){if(l.alternate===null)throw Error(t(340));fl()}return o=l.flags,o&65536?(l.flags=o&-65537|128,l):null;case 19:return wt(Ct),null;case 4:return yl(),null;case 10:return rg(l.type._context),null;case 22:case 23:return $g(),null;case 24:return null;default:return null}}var jh=!1,Tn=!1,tD=typeof WeakSet=="function"?WeakSet:Set,Ee=null;function wl(o,l){var c=o.ref;if(c!==null)if(typeof c=="function")try{c(null)}catch(p){Nt(o,l,p)}else c.current=null}function Rg(o,l,c){try{c()}catch(p){Nt(o,l,p)}}var k0=!1;function nD(o,l){if($m=Ai,o=uT(),Vm(o)){if("selectionStart"in o)var c={start:o.selectionStart,end:o.selectionEnd};else e:{c=(c=o.ownerDocument)&&c.defaultView||window;var p=c.getSelection&&c.getSelection();if(p&&p.rangeCount!==0){c=p.anchorNode;var y=p.anchorOffset,w=p.focusNode;p=p.focusOffset;try{c.nodeType,w.nodeType}catch{c=null;break e}var I=0,V=-1,B=-1,J=0,ue=0,ce=o,ae=null;t:for(;;){for(var _e;ce!==c||y!==0&&ce.nodeType!==3||(V=I+y),ce!==w||p!==0&&ce.nodeType!==3||(B=I+p),ce.nodeType===3&&(I+=ce.nodeValue.length),(_e=ce.firstChild)!==null;)ae=ce,ce=_e;for(;;){if(ce===o)break t;if(ae===c&&++J===y&&(V=I),ae===w&&++ue===p&&(B=I),(_e=ce.nextSibling)!==null)break;ce=ae,ae=ce.parentNode}ce=_e}c=V===-1||B===-1?null:{start:V,end:B}}else c=null}c=c||{start:0,end:0}}else c=null;for(zm={focusedElem:o,selectionRange:c},Ai=!1,Ee=l;Ee!==null;)if(l=Ee,o=l.child,(l.subtreeFlags&1028)!==0&&o!==null)o.return=l,Ee=o;else for(;Ee!==null;){l=Ee;try{var Pe=l.alternate;if((l.flags&1024)!==0)switch(l.tag){case 0:case 11:case 15:break;case 1:if(Pe!==null){var Ae=Pe.memoizedProps,Ft=Pe.memoizedState,H=l.stateNode,$=H.getSnapshotBeforeUpdate(l.elementType===l.type?Ae:Cr(l.type,Ae),Ft);H.__reactInternalSnapshotBeforeUpdate=$}break;case 3:var K=l.stateNode.containerInfo;K.nodeType===1?K.textContent="":K.nodeType===9&&K.documentElement&&K.removeChild(K.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(fe){Nt(l,l.return,fe)}if(o=l.sibling,o!==null){o.return=l.return,Ee=o;break}Ee=l.return}return Pe=k0,k0=!1,Pe}function gc(o,l,c){var p=l.updateQueue;if(p=p!==null?p.lastEffect:null,p!==null){var y=p=p.next;do{if((y.tag&o)===o){var w=y.destroy;y.destroy=void 0,w!==void 0&&Rg(l,c,w)}y=y.next}while(y!==p)}}function Bh(o,l){if(l=l.updateQueue,l=l!==null?l.lastEffect:null,l!==null){var c=l=l.next;do{if((c.tag&o)===o){var p=c.create;c.destroy=p()}c=c.next}while(c!==l)}}function kg(o){var l=o.ref;if(l!==null){var c=o.stateNode;o.tag,o=c,typeof l=="function"?l(o):l.current=o}}function D0(o){var l=o.alternate;l!==null&&(o.alternate=null,D0(l)),o.child=null,o.deletions=null,o.sibling=null,o.tag===5&&(l=o.stateNode,l!==null&&(delete l[Jr],delete l[sc],delete l[Gm],delete l[Fk],delete l[Uk])),o.stateNode=null,o.return=null,o.dependencies=null,o.memoizedProps=null,o.memoizedState=null,o.pendingProps=null,o.stateNode=null,o.updateQueue=null}function N0(o){return o.tag===5||o.tag===3||o.tag===4}function V0(o){e:for(;;){for(;o.sibling===null;){if(o.return===null||N0(o.return))return null;o=o.return}for(o.sibling.return=o.return,o=o.sibling;o.tag!==5&&o.tag!==6&&o.tag!==18;){if(o.flags&2||o.child===null||o.tag===4)continue e;o.child.return=o,o=o.child}if(!(o.flags&2))return o.stateNode}}function Dg(o,l,c){var p=o.tag;if(p===5||p===6)o=o.stateNode,l?c.nodeType===8?c.parentNode.insertBefore(o,l):c.insertBefore(o,l):(c.nodeType===8?(l=c.parentNode,l.insertBefore(o,c)):(l=c,l.appendChild(o)),c=c._reactRootContainer,c!=null||l.onclick!==null||(l.onclick=vh));else if(p!==4&&(o=o.child,o!==null))for(Dg(o,l,c),o=o.sibling;o!==null;)Dg(o,l,c),o=o.sibling}function Ng(o,l,c){var p=o.tag;if(p===5||p===6)o=o.stateNode,l?c.insertBefore(o,l):c.appendChild(o);else if(p!==4&&(o=o.child,o!==null))for(Ng(o,l,c),o=o.sibling;o!==null;)Ng(o,l,c),o=o.sibling}var fn=null,Ar=!1;function As(o,l,c){for(c=c.child;c!==null;)O0(o,l,c),c=c.sibling}function O0(o,l,c){if(Kn&&typeof Kn.onCommitFiberUnmount=="function")try{Kn.onCommitFiberUnmount(xo,c)}catch{}switch(c.tag){case 5:Tn||wl(c,l);case 6:var p=fn,y=Ar;fn=null,As(o,l,c),fn=p,Ar=y,fn!==null&&(Ar?(o=fn,c=c.stateNode,o.nodeType===8?o.parentNode.removeChild(c):o.removeChild(c)):fn.removeChild(c.stateNode));break;case 18:fn!==null&&(Ar?(o=fn,c=c.stateNode,o.nodeType===8?qm(o.parentNode,c):o.nodeType===1&&qm(o,c),ys(o)):qm(fn,c.stateNode));break;case 4:p=fn,y=Ar,fn=c.stateNode.containerInfo,Ar=!0,As(o,l,c),fn=p,Ar=y;break;case 0:case 11:case 14:case 15:if(!Tn&&(p=c.updateQueue,p!==null&&(p=p.lastEffect,p!==null))){y=p=p.next;do{var w=y,I=w.destroy;w=w.tag,I!==void 0&&((w&2)!==0||(w&4)!==0)&&Rg(c,l,I),y=y.next}while(y!==p)}As(o,l,c);break;case 1:if(!Tn&&(wl(c,l),p=c.stateNode,typeof p.componentWillUnmount=="function"))try{p.props=c.memoizedProps,p.state=c.memoizedState,p.componentWillUnmount()}catch(V){Nt(c,l,V)}As(o,l,c);break;case 21:As(o,l,c);break;case 22:c.mode&1?(Tn=(p=Tn)||c.memoizedState!==null,As(o,l,c),Tn=p):As(o,l,c);break;default:As(o,l,c)}}function M0(o){var l=o.updateQueue;if(l!==null){o.updateQueue=null;var c=o.stateNode;c===null&&(c=o.stateNode=new tD),l.forEach(function(p){var y=dD.bind(null,o,p);c.has(p)||(c.add(p),p.then(y,y))})}}function br(o,l){var c=l.deletions;if(c!==null)for(var p=0;p<c.length;p++){var y=c[p];try{var w=o,I=l,V=I;e:for(;V!==null;){switch(V.tag){case 5:fn=V.stateNode,Ar=!1;break e;case 3:fn=V.stateNode.containerInfo,Ar=!0;break e;case 4:fn=V.stateNode.containerInfo,Ar=!0;break e}V=V.return}if(fn===null)throw Error(t(160));O0(w,I,y),fn=null,Ar=!1;var B=y.alternate;B!==null&&(B.return=null),y.return=null}catch(J){Nt(y,l,J)}}if(l.subtreeFlags&12854)for(l=l.child;l!==null;)L0(l,o),l=l.sibling}function L0(o,l){var c=o.alternate,p=o.flags;switch(o.tag){case 0:case 11:case 14:case 15:if(br(l,o),ti(o),p&4){try{gc(3,o,o.return),Bh(3,o)}catch(Ae){Nt(o,o.return,Ae)}try{gc(5,o,o.return)}catch(Ae){Nt(o,o.return,Ae)}}break;case 1:br(l,o),ti(o),p&512&&c!==null&&wl(c,c.return);break;case 5:if(br(l,o),ti(o),p&512&&c!==null&&wl(c,c.return),o.flags&32){var y=o.stateNode;try{So(y,"")}catch(Ae){Nt(o,o.return,Ae)}}if(p&4&&(y=o.stateNode,y!=null)){var w=o.memoizedProps,I=c!==null?c.memoizedProps:w,V=o.type,B=o.updateQueue;if(o.updateQueue=null,B!==null)try{V==="input"&&w.type==="radio"&&w.name!=null&&wi(y,w),ja(V,I);var J=ja(V,w);for(I=0;I<B.length;I+=2){var ue=B[I],ce=B[I+1];ue==="style"?Ua(y,ce):ue==="dangerouslySetInnerHTML"?Hd(y,ce):ue==="children"?So(y,ce):F(y,ue,ce,J)}switch(V){case"input":Lr(y,w);break;case"textarea":Wd(y,w);break;case"select":var ae=y._wrapperState.wasMultiple;y._wrapperState.wasMultiple=!!w.multiple;var _e=w.value;_e!=null?Gn(y,!!w.multiple,_e,!1):ae!==!!w.multiple&&(w.defaultValue!=null?Gn(y,!!w.multiple,w.defaultValue,!0):Gn(y,!!w.multiple,w.multiple?[]:"",!1))}y[sc]=w}catch(Ae){Nt(o,o.return,Ae)}}break;case 6:if(br(l,o),ti(o),p&4){if(o.stateNode===null)throw Error(t(162));y=o.stateNode,w=o.memoizedProps;try{y.nodeValue=w}catch(Ae){Nt(o,o.return,Ae)}}break;case 3:if(br(l,o),ti(o),p&4&&c!==null&&c.memoizedState.isDehydrated)try{ys(l.containerInfo)}catch(Ae){Nt(o,o.return,Ae)}break;case 4:br(l,o),ti(o);break;case 13:br(l,o),ti(o),y=o.child,y.flags&8192&&(w=y.memoizedState!==null,y.stateNode.isHidden=w,!w||y.alternate!==null&&y.alternate.memoizedState!==null||(Mg=yt())),p&4&&M0(o);break;case 22:if(ue=c!==null&&c.memoizedState!==null,o.mode&1?(Tn=(J=Tn)||ue,br(l,o),Tn=J):br(l,o),ti(o),p&8192){if(J=o.memoizedState!==null,(o.stateNode.isHidden=J)&&!ue&&(o.mode&1)!==0)for(Ee=o,ue=o.child;ue!==null;){for(ce=Ee=ue;Ee!==null;){switch(ae=Ee,_e=ae.child,ae.tag){case 0:case 11:case 14:case 15:gc(4,ae,ae.return);break;case 1:wl(ae,ae.return);var Pe=ae.stateNode;if(typeof Pe.componentWillUnmount=="function"){p=ae,c=ae.return;try{l=p,Pe.props=l.memoizedProps,Pe.state=l.memoizedState,Pe.componentWillUnmount()}catch(Ae){Nt(p,c,Ae)}}break;case 5:wl(ae,ae.return);break;case 22:if(ae.memoizedState!==null){j0(ce);continue}}_e!==null?(_e.return=ae,Ee=_e):j0(ce)}ue=ue.sibling}e:for(ue=null,ce=o;;){if(ce.tag===5){if(ue===null){ue=ce;try{y=ce.stateNode,J?(w=y.style,typeof w.setProperty=="function"?w.setProperty("display","none","important"):w.display="none"):(V=ce.stateNode,B=ce.memoizedProps.style,I=B!=null&&B.hasOwnProperty("display")?B.display:null,V.style.display=ls("display",I))}catch(Ae){Nt(o,o.return,Ae)}}}else if(ce.tag===6){if(ue===null)try{ce.stateNode.nodeValue=J?"":ce.memoizedProps}catch(Ae){Nt(o,o.return,Ae)}}else if((ce.tag!==22&&ce.tag!==23||ce.memoizedState===null||ce===o)&&ce.child!==null){ce.child.return=ce,ce=ce.child;continue}if(ce===o)break e;for(;ce.sibling===null;){if(ce.return===null||ce.return===o)break e;ue===ce&&(ue=null),ce=ce.return}ue===ce&&(ue=null),ce.sibling.return=ce.return,ce=ce.sibling}}break;case 19:br(l,o),ti(o),p&4&&M0(o);break;case 21:break;default:br(l,o),ti(o)}}function ti(o){var l=o.flags;if(l&2){try{e:{for(var c=o.return;c!==null;){if(N0(c)){var p=c;break e}c=c.return}throw Error(t(160))}switch(p.tag){case 5:var y=p.stateNode;p.flags&32&&(So(y,""),p.flags&=-33);var w=V0(o);Ng(o,w,y);break;case 3:case 4:var I=p.stateNode.containerInfo,V=V0(o);Dg(o,V,I);break;default:throw Error(t(161))}}catch(B){Nt(o,o.return,B)}o.flags&=-3}l&4096&&(o.flags&=-4097)}function rD(o,l,c){Ee=o,F0(o)}function F0(o,l,c){for(var p=(o.mode&1)!==0;Ee!==null;){var y=Ee,w=y.child;if(y.tag===22&&p){var I=y.memoizedState!==null||jh;if(!I){var V=y.alternate,B=V!==null&&V.memoizedState!==null||Tn;V=jh;var J=Tn;if(jh=I,(Tn=B)&&!J)for(Ee=y;Ee!==null;)I=Ee,B=I.child,I.tag===22&&I.memoizedState!==null?B0(y):B!==null?(B.return=I,Ee=B):B0(y);for(;w!==null;)Ee=w,F0(w),w=w.sibling;Ee=y,jh=V,Tn=J}U0(o)}else(y.subtreeFlags&8772)!==0&&w!==null?(w.return=y,Ee=w):U0(o)}}function U0(o){for(;Ee!==null;){var l=Ee;if((l.flags&8772)!==0){var c=l.alternate;try{if((l.flags&8772)!==0)switch(l.tag){case 0:case 11:case 15:Tn||Bh(5,l);break;case 1:var p=l.stateNode;if(l.flags&4&&!Tn)if(c===null)p.componentDidMount();else{var y=l.elementType===l.type?c.memoizedProps:Cr(l.type,c.memoizedProps);p.componentDidUpdate(y,c.memoizedState,p.__reactInternalSnapshotBeforeUpdate)}var w=l.updateQueue;w!==null&&jT(l,w,p);break;case 3:var I=l.updateQueue;if(I!==null){if(c=null,l.child!==null)switch(l.child.tag){case 5:c=l.child.stateNode;break;case 1:c=l.child.stateNode}jT(l,I,c)}break;case 5:var V=l.stateNode;if(c===null&&l.flags&4){c=V;var B=l.memoizedProps;switch(l.type){case"button":case"input":case"select":case"textarea":B.autoFocus&&c.focus();break;case"img":B.src&&(c.src=B.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(l.memoizedState===null){var J=l.alternate;if(J!==null){var ue=J.memoizedState;if(ue!==null){var ce=ue.dehydrated;ce!==null&&ys(ce)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}Tn||l.flags&512&&kg(l)}catch(ae){Nt(l,l.return,ae)}}if(l===o){Ee=null;break}if(c=l.sibling,c!==null){c.return=l.return,Ee=c;break}Ee=l.return}}function j0(o){for(;Ee!==null;){var l=Ee;if(l===o){Ee=null;break}var c=l.sibling;if(c!==null){c.return=l.return,Ee=c;break}Ee=l.return}}function B0(o){for(;Ee!==null;){var l=Ee;try{switch(l.tag){case 0:case 11:case 15:var c=l.return;try{Bh(4,l)}catch(B){Nt(l,c,B)}break;case 1:var p=l.stateNode;if(typeof p.componentDidMount=="function"){var y=l.return;try{p.componentDidMount()}catch(B){Nt(l,y,B)}}var w=l.return;try{kg(l)}catch(B){Nt(l,w,B)}break;case 5:var I=l.return;try{kg(l)}catch(B){Nt(l,I,B)}}}catch(B){Nt(l,l.return,B)}if(l===o){Ee=null;break}var V=l.sibling;if(V!==null){V.return=l.return,Ee=V;break}Ee=l.return}}var iD=Math.ceil,$h=z.ReactCurrentDispatcher,Vg=z.ReactCurrentOwner,mr=z.ReactCurrentBatchConfig,Ze=0,on=null,qt=null,pn=0,nr=0,_l=Es(0),en=0,yc=null,Ho=0,zh=0,Og=0,vc=null,Fn=null,Mg=0,Tl=1/0,Li=null,Wh=!1,Lg=null,bs=null,Hh=!1,xs=null,qh=0,wc=0,Fg=null,Gh=-1,Kh=0;function Rn(){return(Ze&6)!==0?yt():Gh!==-1?Gh:Gh=yt()}function Rs(o){return(o.mode&1)===0?1:(Ze&2)!==0&&pn!==0?pn&-pn:Bk.transition!==null?(Kh===0&&(Kh=ju()),Kh):(o=Ke,o!==0||(o=window.event,o=o===void 0?16:Ya(o.type)),o)}function xr(o,l,c,p){if(50<wc)throw wc=0,Fg=null,Error(t(185));No(o,c,p),((Ze&2)===0||o!==on)&&(o===on&&((Ze&2)===0&&(zh|=c),en===4&&ks(o,pn)),Un(o,p),c===1&&Ze===0&&(l.mode&1)===0&&(Tl=yt()+500,Eh&&Ss()))}function Un(o,l){var c=o.callbackNode;Do(o,l);var p=Si(o,o===on?pn:0);if(p===0)c!==null&&za(c),o.callbackNode=null,o.callbackPriority=0;else if(l=p&-p,o.callbackPriority!==l){if(c!=null&&za(c),l===1)o.tag===0?jk(z0.bind(null,o)):bT(z0.bind(null,o)),Mk(function(){(Ze&6)===0&&Ss()}),c=null;else{switch($r(p)){case 1:c=Wa;break;case 4:c=Lu;break;case 16:c=bo;break;case 536870912:c=Ha;break;default:c=bo}c=X0(c,$0.bind(null,o))}o.callbackPriority=l,o.callbackNode=c}}function $0(o,l){if(Gh=-1,Kh=0,(Ze&6)!==0)throw Error(t(327));var c=o.callbackNode;if(El()&&o.callbackNode!==c)return null;var p=Si(o,o===on?pn:0);if(p===0)return null;if((p&30)!==0||(p&o.expiredLanes)!==0||l)l=Qh(o,p);else{l=p;var y=Ze;Ze|=2;var w=H0();(on!==o||pn!==l)&&(Li=null,Tl=yt()+500,Go(o,l));do try{aD();break}catch(V){W0(o,V)}while(!0);ng(),$h.current=w,Ze=y,qt!==null?l=0:(on=null,pn=0,l=en)}if(l!==0){if(l===2&&(y=Uu(o),y!==0&&(p=y,l=Ug(o,y))),l===1)throw c=yc,Go(o,0),ks(o,p),Un(o,yt()),c;if(l===6)ks(o,p);else{if(y=o.current.alternate,(p&30)===0&&!sD(y)&&(l=Qh(o,p),l===2&&(w=Uu(o),w!==0&&(p=w,l=Ug(o,w))),l===1))throw c=yc,Go(o,0),ks(o,p),Un(o,yt()),c;switch(o.finishedWork=y,o.finishedLanes=p,l){case 0:case 1:throw Error(t(345));case 2:Ko(o,Fn,Li);break;case 3:if(ks(o,p),(p&130023424)===p&&(l=Mg+500-yt(),10<l)){if(Si(o,0)!==0)break;if(y=o.suspendedLanes,(y&p)!==p){Rn(),o.pingedLanes|=o.suspendedLanes&y;break}o.timeoutHandle=Hm(Ko.bind(null,o,Fn,Li),l);break}Ko(o,Fn,Li);break;case 4:if(ks(o,p),(p&4194240)===p)break;for(l=o.eventTimes,y=-1;0<p;){var I=31-Qn(p);w=1<<I,I=l[I],I>y&&(y=I),p&=~w}if(p=y,p=yt()-p,p=(120>p?120:480>p?480:1080>p?1080:1920>p?1920:3e3>p?3e3:4320>p?4320:1960*iD(p/1960))-p,10<p){o.timeoutHandle=Hm(Ko.bind(null,o,Fn,Li),p);break}Ko(o,Fn,Li);break;case 5:Ko(o,Fn,Li);break;default:throw Error(t(329))}}}return Un(o,yt()),o.callbackNode===c?$0.bind(null,o):null}function Ug(o,l){var c=vc;return o.current.memoizedState.isDehydrated&&(Go(o,l).flags|=256),o=Qh(o,l),o!==2&&(l=Fn,Fn=c,l!==null&&jg(l)),o}function jg(o){Fn===null?Fn=o:Fn.push.apply(Fn,o)}function sD(o){for(var l=o;;){if(l.flags&16384){var c=l.updateQueue;if(c!==null&&(c=c.stores,c!==null))for(var p=0;p<c.length;p++){var y=c[p],w=y.getSnapshot;y=y.value;try{if(!Sr(w(),y))return!1}catch{return!1}}}if(c=l.child,l.subtreeFlags&16384&&c!==null)c.return=l,l=c;else{if(l===o)break;for(;l.sibling===null;){if(l.return===null||l.return===o)return!0;l=l.return}l.sibling.return=l.return,l=l.sibling}}return!0}function ks(o,l){for(l&=~Og,l&=~zh,o.suspendedLanes|=l,o.pingedLanes&=~l,o=o.expirationTimes;0<l;){var c=31-Qn(l),p=1<<c;o[c]=-1,l&=~p}}function z0(o){if((Ze&6)!==0)throw Error(t(327));El();var l=Si(o,0);if((l&1)===0)return Un(o,yt()),null;var c=Qh(o,l);if(o.tag!==0&&c===2){var p=Uu(o);p!==0&&(l=p,c=Ug(o,p))}if(c===1)throw c=yc,Go(o,0),ks(o,l),Un(o,yt()),c;if(c===6)throw Error(t(345));return o.finishedWork=o.current.alternate,o.finishedLanes=l,Ko(o,Fn,Li),Un(o,yt()),null}function Bg(o,l){var c=Ze;Ze|=1;try{return o(l)}finally{Ze=c,Ze===0&&(Tl=yt()+500,Eh&&Ss())}}function qo(o){xs!==null&&xs.tag===0&&(Ze&6)===0&&El();var l=Ze;Ze|=1;var c=mr.transition,p=Ke;try{if(mr.transition=null,Ke=1,o)return o()}finally{Ke=p,mr.transition=c,Ze=l,(Ze&6)===0&&Ss()}}function $g(){nr=_l.current,wt(_l)}function Go(o,l){o.finishedWork=null,o.finishedLanes=0;var c=o.timeoutHandle;if(c!==-1&&(o.timeoutHandle=-1,Ok(c)),qt!==null)for(c=qt.return;c!==null;){var p=c;switch(Xm(p),p.tag){case 1:p=p.type.childContextTypes,p!=null&&_h();break;case 3:yl(),wt(On),wt(vn),cg();break;case 5:lg(p);break;case 4:yl();break;case 13:wt(Ct);break;case 19:wt(Ct);break;case 10:rg(p.type._context);break;case 22:case 23:$g()}c=c.return}if(on=o,qt=o=Ds(o.current,null),pn=nr=l,en=0,yc=null,Og=zh=Ho=0,Fn=vc=null,$o!==null){for(l=0;l<$o.length;l++)if(c=$o[l],p=c.interleaved,p!==null){c.interleaved=null;var y=p.next,w=c.pending;if(w!==null){var I=w.next;w.next=y,p.next=I}c.pending=p}$o=null}return o}function W0(o,l){do{var c=qt;try{if(ng(),Dh.current=Mh,Nh){for(var p=At.memoizedState;p!==null;){var y=p.queue;y!==null&&(y.pending=null),p=p.next}Nh=!1}if(Wo=0,sn=Zt=At=null,dc=!1,hc=0,Vg.current=null,c===null||c.return===null){en=1,yc=l,qt=null;break}e:{var w=o,I=c.return,V=c,B=l;if(l=pn,V.flags|=32768,B!==null&&typeof B=="object"&&typeof B.then=="function"){var J=B,ue=V,ce=ue.tag;if((ue.mode&1)===0&&(ce===0||ce===11||ce===15)){var ae=ue.alternate;ae?(ue.updateQueue=ae.updateQueue,ue.memoizedState=ae.memoizedState,ue.lanes=ae.lanes):(ue.updateQueue=null,ue.memoizedState=null)}var _e=m0(I);if(_e!==null){_e.flags&=-257,g0(_e,I,V,w,l),_e.mode&1&&p0(w,J,l),l=_e,B=J;var Pe=l.updateQueue;if(Pe===null){var Ae=new Set;Ae.add(B),l.updateQueue=Ae}else Pe.add(B);break e}else{if((l&1)===0){p0(w,J,l),zg();break e}B=Error(t(426))}}else if(Et&&V.mode&1){var Ft=m0(I);if(Ft!==null){(Ft.flags&65536)===0&&(Ft.flags|=256),g0(Ft,I,V,w,l),eg(vl(B,V));break e}}w=B=vl(B,V),en!==4&&(en=2),vc===null?vc=[w]:vc.push(w),w=I;do{switch(w.tag){case 3:w.flags|=65536,l&=-l,w.lanes|=l;var H=h0(w,B,l);UT(w,H);break e;case 1:V=B;var $=w.type,K=w.stateNode;if((w.flags&128)===0&&(typeof $.getDerivedStateFromError=="function"||K!==null&&typeof K.componentDidCatch=="function"&&(bs===null||!bs.has(K)))){w.flags|=65536,l&=-l,w.lanes|=l;var fe=f0(w,V,l);UT(w,fe);break e}}w=w.return}while(w!==null)}G0(c)}catch(be){l=be,qt===c&&c!==null&&(qt=c=c.return);continue}break}while(!0)}function H0(){var o=$h.current;return $h.current=Mh,o===null?Mh:o}function zg(){(en===0||en===3||en===2)&&(en=4),on===null||(Ho&268435455)===0&&(zh&268435455)===0||ks(on,pn)}function Qh(o,l){var c=Ze;Ze|=2;var p=H0();(on!==o||pn!==l)&&(Li=null,Go(o,l));do try{oD();break}catch(y){W0(o,y)}while(!0);if(ng(),Ze=c,$h.current=p,qt!==null)throw Error(t(261));return on=null,pn=0,en}function oD(){for(;qt!==null;)q0(qt)}function aD(){for(;qt!==null&&!Ao();)q0(qt)}function q0(o){var l=Y0(o.alternate,o,nr);o.memoizedProps=o.pendingProps,l===null?G0(o):qt=l,Vg.current=null}function G0(o){var l=o;do{var c=l.alternate;if(o=l.return,(l.flags&32768)===0){if(c=Zk(c,l,nr),c!==null){qt=c;return}}else{if(c=eD(c,l),c!==null){c.flags&=32767,qt=c;return}if(o!==null)o.flags|=32768,o.subtreeFlags=0,o.deletions=null;else{en=6,qt=null;return}}if(l=l.sibling,l!==null){qt=l;return}qt=l=o}while(l!==null);en===0&&(en=5)}function Ko(o,l,c){var p=Ke,y=mr.transition;try{mr.transition=null,Ke=1,lD(o,l,c,p)}finally{mr.transition=y,Ke=p}return null}function lD(o,l,c,p){do El();while(xs!==null);if((Ze&6)!==0)throw Error(t(327));c=o.finishedWork;var y=o.finishedLanes;if(c===null)return null;if(o.finishedWork=null,o.finishedLanes=0,c===o.current)throw Error(t(177));o.callbackNode=null,o.callbackPriority=0;var w=c.lanes|c.childLanes;if(xm(o,w),o===on&&(qt=on=null,pn=0),(c.subtreeFlags&2064)===0&&(c.flags&2064)===0||Hh||(Hh=!0,X0(bo,function(){return El(),null})),w=(c.flags&15990)!==0,(c.subtreeFlags&15990)!==0||w){w=mr.transition,mr.transition=null;var I=Ke;Ke=1;var V=Ze;Ze|=4,Vg.current=null,nD(o,c),L0(c,o),bk(zm),Ai=!!$m,zm=$m=null,o.current=c,rD(c),Ii(),Ze=V,Ke=I,mr.transition=w}else o.current=c;if(Hh&&(Hh=!1,xs=o,qh=y),w=o.pendingLanes,w===0&&(bs=null),nh(c.stateNode),Un(o,yt()),l!==null)for(p=o.onRecoverableError,c=0;c<l.length;c++)y=l[c],p(y.value,{componentStack:y.stack,digest:y.digest});if(Wh)throw Wh=!1,o=Lg,Lg=null,o;return(qh&1)!==0&&o.tag!==0&&El(),w=o.pendingLanes,(w&1)!==0?o===Fg?wc++:(wc=0,Fg=o):wc=0,Ss(),null}function El(){if(xs!==null){var o=$r(qh),l=mr.transition,c=Ke;try{if(mr.transition=null,Ke=16>o?16:o,xs===null)var p=!1;else{if(o=xs,xs=null,qh=0,(Ze&6)!==0)throw Error(t(331));var y=Ze;for(Ze|=4,Ee=o.current;Ee!==null;){var w=Ee,I=w.child;if((Ee.flags&16)!==0){var V=w.deletions;if(V!==null){for(var B=0;B<V.length;B++){var J=V[B];for(Ee=J;Ee!==null;){var ue=Ee;switch(ue.tag){case 0:case 11:case 15:gc(8,ue,w)}var ce=ue.child;if(ce!==null)ce.return=ue,Ee=ce;else for(;Ee!==null;){ue=Ee;var ae=ue.sibling,_e=ue.return;if(D0(ue),ue===J){Ee=null;break}if(ae!==null){ae.return=_e,Ee=ae;break}Ee=_e}}}var Pe=w.alternate;if(Pe!==null){var Ae=Pe.child;if(Ae!==null){Pe.child=null;do{var Ft=Ae.sibling;Ae.sibling=null,Ae=Ft}while(Ae!==null)}}Ee=w}}if((w.subtreeFlags&2064)!==0&&I!==null)I.return=w,Ee=I;else e:for(;Ee!==null;){if(w=Ee,(w.flags&2048)!==0)switch(w.tag){case 0:case 11:case 15:gc(9,w,w.return)}var H=w.sibling;if(H!==null){H.return=w.return,Ee=H;break e}Ee=w.return}}var $=o.current;for(Ee=$;Ee!==null;){I=Ee;var K=I.child;if((I.subtreeFlags&2064)!==0&&K!==null)K.return=I,Ee=K;else e:for(I=$;Ee!==null;){if(V=Ee,(V.flags&2048)!==0)try{switch(V.tag){case 0:case 11:case 15:Bh(9,V)}}catch(be){Nt(V,V.return,be)}if(V===I){Ee=null;break e}var fe=V.sibling;if(fe!==null){fe.return=V.return,Ee=fe;break e}Ee=V.return}}if(Ze=y,Ss(),Kn&&typeof Kn.onPostCommitFiberRoot=="function")try{Kn.onPostCommitFiberRoot(xo,o)}catch{}p=!0}return p}finally{Ke=c,mr.transition=l}}return!1}function K0(o,l,c){l=vl(c,l),l=h0(o,l,1),o=Cs(o,l,1),l=Rn(),o!==null&&(No(o,1,l),Un(o,l))}function Nt(o,l,c){if(o.tag===3)K0(o,o,c);else for(;l!==null;){if(l.tag===3){K0(l,o,c);break}else if(l.tag===1){var p=l.stateNode;if(typeof l.type.getDerivedStateFromError=="function"||typeof p.componentDidCatch=="function"&&(bs===null||!bs.has(p))){o=vl(c,o),o=f0(l,o,1),l=Cs(l,o,1),o=Rn(),l!==null&&(No(l,1,o),Un(l,o));break}}l=l.return}}function uD(o,l,c){var p=o.pingCache;p!==null&&p.delete(l),l=Rn(),o.pingedLanes|=o.suspendedLanes&c,on===o&&(pn&c)===c&&(en===4||en===3&&(pn&130023424)===pn&&500>yt()-Mg?Go(o,0):Og|=c),Un(o,l)}function Q0(o,l){l===0&&((o.mode&1)===0?l=1:(l=ps,ps<<=1,(ps&130023424)===0&&(ps=4194304)));var c=Rn();o=Vi(o,l),o!==null&&(No(o,l,c),Un(o,c))}function cD(o){var l=o.memoizedState,c=0;l!==null&&(c=l.retryLane),Q0(o,c)}function dD(o,l){var c=0;switch(o.tag){case 13:var p=o.stateNode,y=o.memoizedState;y!==null&&(c=y.retryLane);break;case 19:p=o.stateNode;break;default:throw Error(t(314))}p!==null&&p.delete(l),Q0(o,c)}var Y0;Y0=function(o,l,c){if(o!==null)if(o.memoizedProps!==l.pendingProps||On.current)Ln=!0;else{if((o.lanes&c)===0&&(l.flags&128)===0)return Ln=!1,Jk(o,l,c);Ln=(o.flags&131072)!==0}else Ln=!1,Et&&(l.flags&1048576)!==0&&xT(l,Sh,l.index);switch(l.lanes=0,l.tag){case 2:var p=l.type;Uh(o,l),o=l.pendingProps;var y=cl(l,vn.current);gl(l,c),y=fg(null,l,p,o,y,c);var w=pg();return l.flags|=1,typeof y=="object"&&y!==null&&typeof y.render=="function"&&y.$$typeof===void 0?(l.tag=1,l.memoizedState=null,l.updateQueue=null,Mn(p)?(w=!0,Th(l)):w=!1,l.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,og(l),y.updater=Lh,l.stateNode=y,y._reactInternals=l,_g(l,p,o,c),l=Sg(null,l,p,!0,w,c)):(l.tag=0,Et&&w&&Ym(l),xn(null,l,y,c),l=l.child),l;case 16:p=l.elementType;e:{switch(Uh(o,l),o=l.pendingProps,y=p._init,p=y(p._payload),l.type=p,y=l.tag=fD(p),o=Cr(p,o),y){case 0:l=Ig(null,l,p,o,c);break e;case 1:l=E0(null,l,p,o,c);break e;case 11:l=y0(null,l,p,o,c);break e;case 14:l=v0(null,l,p,Cr(p.type,o),c);break e}throw Error(t(306,p,""))}return l;case 0:return p=l.type,y=l.pendingProps,y=l.elementType===p?y:Cr(p,y),Ig(o,l,p,y,c);case 1:return p=l.type,y=l.pendingProps,y=l.elementType===p?y:Cr(p,y),E0(o,l,p,y,c);case 3:e:{if(I0(l),o===null)throw Error(t(387));p=l.pendingProps,w=l.memoizedState,y=w.element,FT(o,l),Rh(l,p,null,c);var I=l.memoizedState;if(p=I.element,w.isDehydrated)if(w={element:p,isDehydrated:!1,cache:I.cache,pendingSuspenseBoundaries:I.pendingSuspenseBoundaries,transitions:I.transitions},l.updateQueue.baseState=w,l.memoizedState=w,l.flags&256){y=vl(Error(t(423)),l),l=S0(o,l,p,c,y);break e}else if(p!==y){y=vl(Error(t(424)),l),l=S0(o,l,p,c,y);break e}else for(tr=Ts(l.stateNode.containerInfo.firstChild),er=l,Et=!0,Pr=null,c=MT(l,null,p,c),l.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling;else{if(fl(),p===y){l=Mi(o,l,c);break e}xn(o,l,p,c)}l=l.child}return l;case 5:return BT(l),o===null&&Zm(l),p=l.type,y=l.pendingProps,w=o!==null?o.memoizedProps:null,I=y.children,Wm(p,y)?I=null:w!==null&&Wm(p,w)&&(l.flags|=32),T0(o,l),xn(o,l,I,c),l.child;case 6:return o===null&&Zm(l),null;case 13:return P0(o,l,c);case 4:return ag(l,l.stateNode.containerInfo),p=l.pendingProps,o===null?l.child=pl(l,null,p,c):xn(o,l,p,c),l.child;case 11:return p=l.type,y=l.pendingProps,y=l.elementType===p?y:Cr(p,y),y0(o,l,p,y,c);case 7:return xn(o,l,l.pendingProps,c),l.child;case 8:return xn(o,l,l.pendingProps.children,c),l.child;case 12:return xn(o,l,l.pendingProps.children,c),l.child;case 10:e:{if(p=l.type._context,y=l.pendingProps,w=l.memoizedProps,I=y.value,ft(Ah,p._currentValue),p._currentValue=I,w!==null)if(Sr(w.value,I)){if(w.children===y.children&&!On.current){l=Mi(o,l,c);break e}}else for(w=l.child,w!==null&&(w.return=l);w!==null;){var V=w.dependencies;if(V!==null){I=w.child;for(var B=V.firstContext;B!==null;){if(B.context===p){if(w.tag===1){B=Oi(-1,c&-c),B.tag=2;var J=w.updateQueue;if(J!==null){J=J.shared;var ue=J.pending;ue===null?B.next=B:(B.next=ue.next,ue.next=B),J.pending=B}}w.lanes|=c,B=w.alternate,B!==null&&(B.lanes|=c),ig(w.return,c,l),V.lanes|=c;break}B=B.next}}else if(w.tag===10)I=w.type===l.type?null:w.child;else if(w.tag===18){if(I=w.return,I===null)throw Error(t(341));I.lanes|=c,V=I.alternate,V!==null&&(V.lanes|=c),ig(I,c,l),I=w.sibling}else I=w.child;if(I!==null)I.return=w;else for(I=w;I!==null;){if(I===l){I=null;break}if(w=I.sibling,w!==null){w.return=I.return,I=w;break}I=I.return}w=I}xn(o,l,y.children,c),l=l.child}return l;case 9:return y=l.type,p=l.pendingProps.children,gl(l,c),y=fr(y),p=p(y),l.flags|=1,xn(o,l,p,c),l.child;case 14:return p=l.type,y=Cr(p,l.pendingProps),y=Cr(p.type,y),v0(o,l,p,y,c);case 15:return w0(o,l,l.type,l.pendingProps,c);case 17:return p=l.type,y=l.pendingProps,y=l.elementType===p?y:Cr(p,y),Uh(o,l),l.tag=1,Mn(p)?(o=!0,Th(l)):o=!1,gl(l,c),c0(l,p,y),_g(l,p,y,c),Sg(null,l,p,!0,o,c);case 19:return A0(o,l,c);case 22:return _0(o,l,c)}throw Error(t(156,l.tag))};function X0(o,l){return Mu(o,l)}function hD(o,l,c,p){this.tag=o,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=l,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=p,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function gr(o,l,c,p){return new hD(o,l,c,p)}function Wg(o){return o=o.prototype,!(!o||!o.isReactComponent)}function fD(o){if(typeof o=="function")return Wg(o)?1:0;if(o!=null){if(o=o.$$typeof,o===U)return 11;if(o===se)return 14}return 2}function Ds(o,l){var c=o.alternate;return c===null?(c=gr(o.tag,l,o.key,o.mode),c.elementType=o.elementType,c.type=o.type,c.stateNode=o.stateNode,c.alternate=o,o.alternate=c):(c.pendingProps=l,c.type=o.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=o.flags&14680064,c.childLanes=o.childLanes,c.lanes=o.lanes,c.child=o.child,c.memoizedProps=o.memoizedProps,c.memoizedState=o.memoizedState,c.updateQueue=o.updateQueue,l=o.dependencies,c.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext},c.sibling=o.sibling,c.index=o.index,c.ref=o.ref,c}function Yh(o,l,c,p,y,w){var I=2;if(p=o,typeof o=="function")Wg(o)&&(I=1);else if(typeof o=="string")I=5;else e:switch(o){case C:return Qo(c.children,y,w,l);case S:I=8,y|=8;break;case D:return o=gr(12,c,l,y|2),o.elementType=D,o.lanes=w,o;case P:return o=gr(13,c,l,y),o.elementType=P,o.lanes=w,o;case X:return o=gr(19,c,l,y),o.elementType=X,o.lanes=w,o;case ie:return Xh(c,y,w,l);default:if(typeof o=="object"&&o!==null)switch(o.$$typeof){case L:I=10;break e;case M:I=9;break e;case U:I=11;break e;case se:I=14;break e;case oe:I=16,p=null;break e}throw Error(t(130,o==null?o:typeof o,""))}return l=gr(I,c,l,y),l.elementType=o,l.type=p,l.lanes=w,l}function Qo(o,l,c,p){return o=gr(7,o,p,l),o.lanes=c,o}function Xh(o,l,c,p){return o=gr(22,o,p,l),o.elementType=ie,o.lanes=c,o.stateNode={isHidden:!1},o}function Hg(o,l,c){return o=gr(6,o,null,l),o.lanes=c,o}function qg(o,l,c){return l=gr(4,o.children!==null?o.children:[],o.key,l),l.lanes=c,l.stateNode={containerInfo:o.containerInfo,pendingChildren:null,implementation:o.implementation},l}function pD(o,l,c,p,y){this.tag=l,this.containerInfo=o,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Bu(0),this.expirationTimes=Bu(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Bu(0),this.identifierPrefix=p,this.onRecoverableError=y,this.mutableSourceEagerHydrationData=null}function Gg(o,l,c,p,y,w,I,V,B){return o=new pD(o,l,c,V,B),l===1?(l=1,w===!0&&(l|=8)):l=0,w=gr(3,null,null,l),o.current=w,w.stateNode=o,w.memoizedState={element:p,isDehydrated:c,cache:null,transitions:null,pendingSuspenseBoundaries:null},og(w),o}function mD(o,l,c){var p=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Y,key:p==null?null:""+p,children:o,containerInfo:l,implementation:c}}function J0(o){if(!o)return Is;o=o._reactInternals;e:{if(Er(o)!==o||o.tag!==1)throw Error(t(170));var l=o;do{switch(l.tag){case 3:l=l.stateNode.context;break e;case 1:if(Mn(l.type)){l=l.stateNode.__reactInternalMemoizedMergedChildContext;break e}}l=l.return}while(l!==null);throw Error(t(171))}if(o.tag===1){var c=o.type;if(Mn(c))return CT(o,c,l)}return l}function Z0(o,l,c,p,y,w,I,V,B){return o=Gg(c,p,!0,o,y,w,I,V,B),o.context=J0(null),c=o.current,p=Rn(),y=Rs(c),w=Oi(p,y),w.callback=l??null,Cs(c,w,y),o.current.lanes=y,No(o,y,p),Un(o,p),o}function Jh(o,l,c,p){var y=l.current,w=Rn(),I=Rs(y);return c=J0(c),l.context===null?l.context=c:l.pendingContext=c,l=Oi(w,I),l.payload={element:o},p=p===void 0?null:p,p!==null&&(l.callback=p),o=Cs(y,l,I),o!==null&&(xr(o,y,I,w),xh(o,y,I)),I}function Zh(o){return o=o.current,o.child?(o.child.tag===5,o.child.stateNode):null}function eE(o,l){if(o=o.memoizedState,o!==null&&o.dehydrated!==null){var c=o.retryLane;o.retryLane=c!==0&&c<l?c:l}}function Kg(o,l){eE(o,l),(o=o.alternate)&&eE(o,l)}function gD(){return null}var tE=typeof reportError=="function"?reportError:function(o){console.error(o)};function Qg(o){this._internalRoot=o}ef.prototype.render=Qg.prototype.render=function(o){var l=this._internalRoot;if(l===null)throw Error(t(409));Jh(o,l,null,null)},ef.prototype.unmount=Qg.prototype.unmount=function(){var o=this._internalRoot;if(o!==null){this._internalRoot=null;var l=o.containerInfo;qo(function(){Jh(null,o,null,null)}),l[Ri]=null}};function ef(o){this._internalRoot=o}ef.prototype.unstable_scheduleHydration=function(o){if(o){var l=Hu();o={blockedOn:null,target:o,priority:l};for(var c=0;c<Yn.length&&l!==0&&l<Yn[c].priority;c++);Yn.splice(c,0,o),c===0&&Ka(o)}};function Yg(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11)}function tf(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11&&(o.nodeType!==8||o.nodeValue!==" react-mount-point-unstable "))}function nE(){}function yD(o,l,c,p,y){if(y){if(typeof p=="function"){var w=p;p=function(){var J=Zh(I);w.call(J)}}var I=Z0(l,p,o,0,null,!1,!1,"",nE);return o._reactRootContainer=I,o[Ri]=I.current,rc(o.nodeType===8?o.parentNode:o),qo(),I}for(;y=o.lastChild;)o.removeChild(y);if(typeof p=="function"){var V=p;p=function(){var J=Zh(B);V.call(J)}}var B=Gg(o,0,!1,null,null,!1,!1,"",nE);return o._reactRootContainer=B,o[Ri]=B.current,rc(o.nodeType===8?o.parentNode:o),qo(function(){Jh(l,B,c,p)}),B}function nf(o,l,c,p,y){var w=c._reactRootContainer;if(w){var I=w;if(typeof y=="function"){var V=y;y=function(){var B=Zh(I);V.call(B)}}Jh(l,I,o,y)}else I=yD(c,l,o,y,p);return Zh(I)}zu=function(o){switch(o.tag){case 3:var l=o.stateNode;if(l.current.memoizedState.isDehydrated){var c=rt(l.pendingLanes);c!==0&&($u(l,c|1),Un(l,yt()),(Ze&6)===0&&(Tl=yt()+500,Ss()))}break;case 13:qo(function(){var p=Vi(o,1);if(p!==null){var y=Rn();xr(p,o,1,y)}}),Kg(o,1)}},qa=function(o){if(o.tag===13){var l=Vi(o,134217728);if(l!==null){var c=Rn();xr(l,o,134217728,c)}Kg(o,134217728)}},Wu=function(o){if(o.tag===13){var l=Rs(o),c=Vi(o,l);if(c!==null){var p=Rn();xr(c,o,l,p)}Kg(o,l)}},Hu=function(){return Ke},qu=function(o,l){var c=Ke;try{return Ke=o,l()}finally{Ke=c}},_i=function(o,l,c){switch(l){case"input":if(Lr(o,c),l=c.name,c.type==="radio"&&l!=null){for(c=o;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll("input[name="+JSON.stringify(""+l)+'][type="radio"]'),l=0;l<c.length;l++){var p=c[l];if(p!==o&&p.form===o.form){var y=wh(p);if(!y)throw Error(t(90));rs(p),Lr(p,y)}}}break;case"textarea":Wd(o,c);break;case"select":l=c.value,l!=null&&Gn(o,!!c.multiple,l,!1)}},Gd=Bg,Kd=qo;var vD={usingClientEntryPoint:!1,Events:[oc,ll,wh,cs,ds,Bg]},_c={findFiberByHostInstance:Fo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},wD={bundleType:_c.bundleType,version:_c.version,rendererPackageName:_c.rendererPackageName,rendererConfig:_c.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:z.ReactCurrentDispatcher,findHostInstanceByFiber:function(o){return o=th(o),o===null?null:o.stateNode},findFiberByHostInstance:_c.findFiberByHostInstance||gD,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var rf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!rf.isDisabled&&rf.supportsFiber)try{xo=rf.inject(wD),Kn=rf}catch{}}return jn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=vD,jn.createPortal=function(o,l){var c=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Yg(l))throw Error(t(200));return mD(o,l,null,c)},jn.createRoot=function(o,l){if(!Yg(o))throw Error(t(299));var c=!1,p="",y=tE;return l!=null&&(l.unstable_strictMode===!0&&(c=!0),l.identifierPrefix!==void 0&&(p=l.identifierPrefix),l.onRecoverableError!==void 0&&(y=l.onRecoverableError)),l=Gg(o,1,!1,null,null,c,!1,p,y),o[Ri]=l.current,rc(o.nodeType===8?o.parentNode:o),new Qg(l)},jn.findDOMNode=function(o){if(o==null)return null;if(o.nodeType===1)return o;var l=o._reactInternals;if(l===void 0)throw typeof o.render=="function"?Error(t(188)):(o=Object.keys(o).join(","),Error(t(268,o)));return o=th(l),o=o===null?null:o.stateNode,o},jn.flushSync=function(o){return qo(o)},jn.hydrate=function(o,l,c){if(!tf(l))throw Error(t(200));return nf(null,o,l,!0,c)},jn.hydrateRoot=function(o,l,c){if(!Yg(o))throw Error(t(405));var p=c!=null&&c.hydratedSources||null,y=!1,w="",I=tE;if(c!=null&&(c.unstable_strictMode===!0&&(y=!0),c.identifierPrefix!==void 0&&(w=c.identifierPrefix),c.onRecoverableError!==void 0&&(I=c.onRecoverableError)),l=Z0(l,null,o,1,c??null,y,!1,w,I),o[Ri]=l.current,rc(o),p)for(o=0;o<p.length;o++)c=p[o],y=c._getVersion,y=y(c._source),l.mutableSourceEagerHydrationData==null?l.mutableSourceEagerHydrationData=[c,y]:l.mutableSourceEagerHydrationData.push(c,y);return new ef(l)},jn.render=function(o,l,c){if(!tf(l))throw Error(t(200));return nf(null,o,l,!1,c)},jn.unmountComponentAtNode=function(o){if(!tf(o))throw Error(t(40));return o._reactRootContainer?(qo(function(){nf(null,null,o,!1,function(){o._reactRootContainer=null,o[Ri]=null})}),!0):!1},jn.unstable_batchedUpdates=Bg,jn.unstable_renderSubtreeIntoContainer=function(o,l,c,p){if(!tf(c))throw Error(t(200));if(o==null||o._reactInternals===void 0)throw Error(t(38));return nf(o,l,c,!1,p)},jn.version="18.3.1-next-f1338f8080-20240426",jn}var cE;function YP(){if(cE)return Zg.exports;cE=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Zg.exports=AD(),Zg.exports}var dE;function bD(){if(dE)return sf;dE=1;var n=YP();return sf.createRoot=n.createRoot,sf.hydrateRoot=n.hydrateRoot,sf}var xD=bD();const RD=Jv(xD),kD="modulepreload",DD=function(n){return"/"+n},hE={},gi=function(e,t,r){let i=Promise.resolve();if(t&&t.length>0){let d=function(h){return Promise.all(h.map(m=>Promise.resolve(m).then(g=>({status:"fulfilled",value:g}),g=>({status:"rejected",reason:g}))))};document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),u=a?.nonce||a?.getAttribute("nonce");i=d(t.map(h=>{if(h=DD(h),h in hE)return;hE[h]=!0;const m=h.endsWith(".css"),g=m?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${h}"]${g}`))return;const v=document.createElement("link");if(v.rel=m?"stylesheet":kD,m||(v.as="script"),v.crossOrigin="",v.href=h,u&&v.setAttribute("nonce",u),document.head.appendChild(v),m)return new Promise((E,R)=>{v.addEventListener("load",E),v.addEventListener("error",()=>R(new Error(`Unable to preload CSS for ${h}`)))})}))}function s(a){const u=new Event("vite:preloadError",{cancelable:!0});if(u.payload=a,window.dispatchEvent(u),!u.defaultPrevented)throw a}return i.then(a=>{for(const u of a||[])u.status==="rejected"&&s(u.reason);return e().catch(s)})};var tw=YP();const ND=Jv(tw);function id(){return id=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},id.apply(this,arguments)}var Gs;(function(n){n.Pop="POP",n.Push="PUSH",n.Replace="REPLACE"})(Gs||(Gs={}));const fE="popstate";function VD(n){n===void 0&&(n={});function e(r,i){let{pathname:s,search:a,hash:u}=r.location;return By("",{pathname:s,search:a,hash:u},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function t(r,i){return typeof i=="string"?i:zf(i)}return MD(e,t,null,n)}function kt(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function nw(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function OD(){return Math.random().toString(36).substr(2,8)}function pE(n,e){return{usr:n.state,key:n.key,idx:e}}function By(n,e,t,r){return t===void 0&&(t=null),id({pathname:typeof n=="string"?n:n.pathname,search:"",hash:""},typeof e=="string"?wu(e):e,{state:t,key:e&&e.key||r||OD()})}function zf(n){let{pathname:e="/",search:t="",hash:r=""}=n;return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function wu(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substr(t),n=n.substr(0,t));let r=n.indexOf("?");r>=0&&(e.search=n.substr(r),n=n.substr(0,r)),n&&(e.pathname=n)}return e}function MD(n,e,t,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,a=i.history,u=Gs.Pop,d=null,h=m();h==null&&(h=0,a.replaceState(id({},a.state,{idx:h}),""));function m(){return(a.state||{idx:null}).idx}function g(){u=Gs.Pop;let A=m(),j=A==null?null:A-h;h=A,d&&d({action:u,location:k.location,delta:j})}function v(A,j){u=Gs.Push;let O=By(k.location,A,j);h=m()+1;let F=pE(O,h),z=k.createHref(O);try{a.pushState(F,"",z)}catch(te){if(te instanceof DOMException&&te.name==="DataCloneError")throw te;i.location.assign(z)}s&&d&&d({action:u,location:k.location,delta:1})}function E(A,j){u=Gs.Replace;let O=By(k.location,A,j);h=m();let F=pE(O,h),z=k.createHref(O);a.replaceState(F,"",z),s&&d&&d({action:u,location:k.location,delta:0})}function R(A){let j=i.location.origin!=="null"?i.location.origin:i.location.href,O=typeof A=="string"?A:zf(A);return O=O.replace(/ $/,"%20"),kt(j,"No window.location.(origin|href) available to create URL for href: "+O),new URL(O,j)}let k={get action(){return u},get location(){return n(i,a)},listen(A){if(d)throw new Error("A history only accepts one active listener");return i.addEventListener(fE,g),d=A,()=>{i.removeEventListener(fE,g),d=null}},createHref(A){return e(i,A)},createURL:R,encodeLocation(A){let j=R(A);return{pathname:j.pathname,search:j.search,hash:j.hash}},push:v,replace:E,go(A){return a.go(A)}};return k}var mE;(function(n){n.data="data",n.deferred="deferred",n.redirect="redirect",n.error="error"})(mE||(mE={}));function LD(n,e,t){return t===void 0&&(t="/"),FD(n,e,t)}function FD(n,e,t,r){let i=typeof e=="string"?wu(e):e,s=Yl(i.pathname||"/",t);if(s==null)return null;let a=XP(n);UD(a);let u=null;for(let d=0;u==null&&d<a.length;++d){let h=YD(s);u=KD(a[d],h)}return u}function XP(n,e,t,r){e===void 0&&(e=[]),t===void 0&&(t=[]),r===void 0&&(r="");let i=(s,a,u)=>{let d={relativePath:u===void 0?s.path||"":u,caseSensitive:s.caseSensitive===!0,childrenIndex:a,route:s};d.relativePath.startsWith("/")&&(kt(d.relativePath.startsWith(r),'Absolute route path "'+d.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),d.relativePath=d.relativePath.slice(r.length));let h=Qs([r,d.relativePath]),m=t.concat(d);s.children&&s.children.length>0&&(kt(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+h+'".')),XP(s.children,e,m,h)),!(s.path==null&&!s.index)&&e.push({path:h,score:qD(h,s.index),routesMeta:m})};return n.forEach((s,a)=>{var u;if(s.path===""||!((u=s.path)!=null&&u.includes("?")))i(s,a);else for(let d of JP(s.path))i(s,a,d)}),e}function JP(n){let e=n.split("/");if(e.length===0)return[];let[t,...r]=e,i=t.endsWith("?"),s=t.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let a=JP(r.join("/")),u=[];return u.push(...a.map(d=>d===""?s:[s,d].join("/"))),i&&u.push(...a),u.map(d=>n.startsWith("/")&&d===""?"/":d)}function UD(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:GD(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}const jD=/^:[\w-]+$/,BD=3,$D=2,zD=1,WD=10,HD=-2,gE=n=>n==="*";function qD(n,e){let t=n.split("/"),r=t.length;return t.some(gE)&&(r+=HD),e&&(r+=$D),t.filter(i=>!gE(i)).reduce((i,s)=>i+(jD.test(s)?BD:s===""?zD:WD),r)}function GD(n,e){return n.length===e.length&&n.slice(0,-1).every((r,i)=>r===e[i])?n[n.length-1]-e[e.length-1]:0}function KD(n,e,t){let{routesMeta:r}=n,i={},s="/",a=[];for(let u=0;u<r.length;++u){let d=r[u],h=u===r.length-1,m=s==="/"?e:e.slice(s.length)||"/",g=$y({path:d.relativePath,caseSensitive:d.caseSensitive,end:h},m),v=d.route;if(!g)return null;Object.assign(i,g.params),a.push({params:i,pathname:Qs([s,g.pathname]),pathnameBase:tN(Qs([s,g.pathnameBase])),route:v}),g.pathnameBase!=="/"&&(s=Qs([s,g.pathnameBase]))}return a}function $y(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,r]=QD(n.path,n.caseSensitive,n.end),i=e.match(t);if(!i)return null;let s=i[0],a=s.replace(/(.)\/+$/,"$1"),u=i.slice(1);return{params:r.reduce((h,m,g)=>{let{paramName:v,isOptional:E}=m;if(v==="*"){let k=u[g]||"";a=s.slice(0,s.length-k.length).replace(/(.)\/+$/,"$1")}const R=u[g];return E&&!R?h[v]=void 0:h[v]=(R||"").replace(/%2F/g,"/"),h},{}),pathname:s,pathnameBase:a,pattern:n}}function QD(n,e,t){e===void 0&&(e=!1),t===void 0&&(t=!0),nw(n==="*"||!n.endsWith("*")||n.endsWith("/*"),'Route path "'+n+'" will be treated as if it were '+('"'+n.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+n.replace(/\*$/,"/*")+'".'));let r=[],i="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,u,d)=>(r.push({paramName:u,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(r.push({paramName:"*"}),i+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?i+="\\/*$":n!==""&&n!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function YD(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return nw(!1,'The URL path "'+n+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),n}}function Yl(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=n.charAt(t);return r&&r!=="/"?null:n.slice(t)||"/"}const XD=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,JD=n=>XD.test(n);function ZD(n,e){e===void 0&&(e="/");let{pathname:t,search:r="",hash:i=""}=typeof n=="string"?wu(n):n,s;if(t)if(JD(t))s=t;else{if(t.includes("//")){let a=t;t=t.replace(/\/\/+/g,"/"),nw(!1,"Pathnames cannot have embedded double slashes - normalizing "+(a+" -> "+t))}t.startsWith("/")?s=yE(t.substring(1),"/"):s=yE(t,e)}else s=e;return{pathname:s,search:nN(r),hash:rN(i)}}function yE(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(i=>{i===".."?t.length>1&&t.pop():i!=="."&&t.push(i)}),t.length>1?t.join("/"):"/"}function ny(n,e,t,r){return"Cannot include a '"+n+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+t+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function eN(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function rw(n,e){let t=eN(n);return e?t.map((r,i)=>i===t.length-1?r.pathname:r.pathnameBase):t.map(r=>r.pathnameBase)}function iw(n,e,t,r){r===void 0&&(r=!1);let i;typeof n=="string"?i=wu(n):(i=id({},n),kt(!i.pathname||!i.pathname.includes("?"),ny("?","pathname","search",i)),kt(!i.pathname||!i.pathname.includes("#"),ny("#","pathname","hash",i)),kt(!i.search||!i.search.includes("#"),ny("#","search","hash",i)));let s=n===""||i.pathname==="",a=s?"/":i.pathname,u;if(a==null)u=t;else{let g=e.length-1;if(!r&&a.startsWith("..")){let v=a.split("/");for(;v[0]==="..";)v.shift(),g-=1;i.pathname=v.join("/")}u=g>=0?e[g]:"/"}let d=ZD(i,u),h=a&&a!=="/"&&a.endsWith("/"),m=(s||a===".")&&t.endsWith("/");return!d.pathname.endsWith("/")&&(h||m)&&(d.pathname+="/"),d}const Qs=n=>n.join("/").replace(/\/\/+/g,"/"),tN=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),nN=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,rN=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function iN(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}const ZP=["post","put","patch","delete"];new Set(ZP);const sN=["get",...ZP];new Set(sN);function sd(){return sd=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},sd.apply(this,arguments)}const Mp=x.createContext(null),eC=x.createContext(null),Xi=x.createContext(null),Lp=x.createContext(null),Ji=x.createContext({outlet:null,matches:[],isDataRoute:!1}),tC=x.createContext(null);function oN(n,e){let{relative:t}=e===void 0?{}:e;_u()||kt(!1);let{basename:r,navigator:i}=x.useContext(Xi),{hash:s,pathname:a,search:u}=Fp(n,{relative:t}),d=a;return r!=="/"&&(d=a==="/"?r:Qs([r,a])),i.createHref({pathname:d,search:u,hash:s})}function _u(){return x.useContext(Lp)!=null}function mo(){return _u()||kt(!1),x.useContext(Lp).location}function nC(n){x.useContext(Xi).static||x.useLayoutEffect(n)}function sw(){let{isDataRoute:n}=x.useContext(Ji);return n?wN():aN()}function aN(){_u()||kt(!1);let n=x.useContext(Mp),{basename:e,future:t,navigator:r}=x.useContext(Xi),{matches:i}=x.useContext(Ji),{pathname:s}=mo(),a=JSON.stringify(rw(i,t.v7_relativeSplatPath)),u=x.useRef(!1);return nC(()=>{u.current=!0}),x.useCallback(function(h,m){if(m===void 0&&(m={}),!u.current)return;if(typeof h=="number"){r.go(h);return}let g=iw(h,JSON.parse(a),s,m.relative==="path");n==null&&e!=="/"&&(g.pathname=g.pathname==="/"?e:Qs([e,g.pathname])),(m.replace?r.replace:r.push)(g,m.state,m)},[e,r,a,s,n])}function hH(){let{matches:n}=x.useContext(Ji),e=n[n.length-1];return e?e.params:{}}function Fp(n,e){let{relative:t}=e===void 0?{}:e,{future:r}=x.useContext(Xi),{matches:i}=x.useContext(Ji),{pathname:s}=mo(),a=JSON.stringify(rw(i,r.v7_relativeSplatPath));return x.useMemo(()=>iw(n,JSON.parse(a),s,t==="path"),[n,a,s,t])}function lN(n,e){return uN(n,e)}function uN(n,e,t,r){_u()||kt(!1);let{navigator:i}=x.useContext(Xi),{matches:s}=x.useContext(Ji),a=s[s.length-1],u=a?a.params:{};a&&a.pathname;let d=a?a.pathnameBase:"/";a&&a.route;let h=mo(),m;if(e){var g;let A=typeof e=="string"?wu(e):e;d==="/"||(g=A.pathname)!=null&&g.startsWith(d)||kt(!1),m=A}else m=h;let v=m.pathname||"/",E=v;if(d!=="/"){let A=d.replace(/^\//,"").split("/");E="/"+v.replace(/^\//,"").split("/").slice(A.length).join("/")}let R=LD(n,{pathname:E}),k=pN(R&&R.map(A=>Object.assign({},A,{params:Object.assign({},u,A.params),pathname:Qs([d,i.encodeLocation?i.encodeLocation(A.pathname).pathname:A.pathname]),pathnameBase:A.pathnameBase==="/"?d:Qs([d,i.encodeLocation?i.encodeLocation(A.pathnameBase).pathname:A.pathnameBase])})),s,t,r);return e&&k?x.createElement(Lp.Provider,{value:{location:sd({pathname:"/",search:"",hash:"",state:null,key:"default"},m),navigationType:Gs.Pop}},k):k}function cN(){let n=vN(),e=iN(n)?n.status+" "+n.statusText:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return x.createElement(x.Fragment,null,x.createElement("h2",null,"Unexpected Application Error!"),x.createElement("h3",{style:{fontStyle:"italic"}},e),t?x.createElement("pre",{style:i},t):null,null)}const dN=x.createElement(cN,null);class hN extends x.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?x.createElement(Ji.Provider,{value:this.props.routeContext},x.createElement(tC.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function fN(n){let{routeContext:e,match:t,children:r}=n,i=x.useContext(Mp);return i&&i.static&&i.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=t.route.id),x.createElement(Ji.Provider,{value:e},r)}function pN(n,e,t,r){var i;if(e===void 0&&(e=[]),t===void 0&&(t=null),r===void 0&&(r=null),n==null){var s;if(!t)return null;if(t.errors)n=t.matches;else if((s=r)!=null&&s.v7_partialHydration&&e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let a=n,u=(i=t)==null?void 0:i.errors;if(u!=null){let m=a.findIndex(g=>g.route.id&&u?.[g.route.id]!==void 0);m>=0||kt(!1),a=a.slice(0,Math.min(a.length,m+1))}let d=!1,h=-1;if(t&&r&&r.v7_partialHydration)for(let m=0;m<a.length;m++){let g=a[m];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(h=m),g.route.id){let{loaderData:v,errors:E}=t,R=g.route.loader&&v[g.route.id]===void 0&&(!E||E[g.route.id]===void 0);if(g.route.lazy||R){d=!0,h>=0?a=a.slice(0,h+1):a=[a[0]];break}}}return a.reduceRight((m,g,v)=>{let E,R=!1,k=null,A=null;t&&(E=u&&g.route.id?u[g.route.id]:void 0,k=g.route.errorElement||dN,d&&(h<0&&v===0?(_N("route-fallback"),R=!0,A=null):h===v&&(R=!0,A=g.route.hydrateFallbackElement||null)));let j=e.concat(a.slice(0,v+1)),O=()=>{let F;return E?F=k:R?F=A:g.route.Component?F=x.createElement(g.route.Component,null):g.route.element?F=g.route.element:F=m,x.createElement(fN,{match:g,routeContext:{outlet:m,matches:j,isDataRoute:t!=null},children:F})};return t&&(g.route.ErrorBoundary||g.route.errorElement||v===0)?x.createElement(hN,{location:t.location,revalidation:t.revalidation,component:k,error:E,children:O(),routeContext:{outlet:null,matches:j,isDataRoute:!0}}):O()},null)}var rC=(function(n){return n.UseBlocker="useBlocker",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n})(rC||{}),iC=(function(n){return n.UseBlocker="useBlocker",n.UseLoaderData="useLoaderData",n.UseActionData="useActionData",n.UseRouteError="useRouteError",n.UseNavigation="useNavigation",n.UseRouteLoaderData="useRouteLoaderData",n.UseMatches="useMatches",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n.UseRouteId="useRouteId",n})(iC||{});function mN(n){let e=x.useContext(Mp);return e||kt(!1),e}function gN(n){let e=x.useContext(eC);return e||kt(!1),e}function yN(n){let e=x.useContext(Ji);return e||kt(!1),e}function sC(n){let e=yN(),t=e.matches[e.matches.length-1];return t.route.id||kt(!1),t.route.id}function vN(){var n;let e=x.useContext(tC),t=gN(),r=sC();return e!==void 0?e:(n=t.errors)==null?void 0:n[r]}function wN(){let{router:n}=mN(rC.UseNavigateStable),e=sC(iC.UseNavigateStable),t=x.useRef(!1);return nC(()=>{t.current=!0}),x.useCallback(function(i,s){s===void 0&&(s={}),t.current&&(typeof i=="number"?n.navigate(i):n.navigate(i,sd({fromRouteId:e},s)))},[n,e])}const vE={};function _N(n,e,t){vE[n]||(vE[n]=!0)}function TN(n,e){n?.v7_startTransition,n?.v7_relativeSplatPath}function zy(n){let{to:e,replace:t,state:r,relative:i}=n;_u()||kt(!1);let{future:s,static:a}=x.useContext(Xi),{matches:u}=x.useContext(Ji),{pathname:d}=mo(),h=sw(),m=iw(e,rw(u,s.v7_relativeSplatPath),d,i==="path"),g=JSON.stringify(m);return x.useEffect(()=>h(JSON.parse(g),{replace:t,state:r,relative:i}),[h,g,i,t,r]),null}function Fi(n){kt(!1)}function EN(n){let{basename:e="/",children:t=null,location:r,navigationType:i=Gs.Pop,navigator:s,static:a=!1,future:u}=n;_u()&&kt(!1);let d=e.replace(/^\/*/,"/"),h=x.useMemo(()=>({basename:d,navigator:s,static:a,future:sd({v7_relativeSplatPath:!1},u)}),[d,u,s,a]);typeof r=="string"&&(r=wu(r));let{pathname:m="/",search:g="",hash:v="",state:E=null,key:R="default"}=r,k=x.useMemo(()=>{let A=Yl(m,d);return A==null?null:{location:{pathname:A,search:g,hash:v,state:E,key:R},navigationType:i}},[d,m,g,v,E,R,i]);return k==null?null:x.createElement(Xi.Provider,{value:h},x.createElement(Lp.Provider,{children:t,value:k}))}function IN(n){let{children:e,location:t}=n;return lN(Wy(e),t)}new Promise(()=>{});function Wy(n,e){e===void 0&&(e=[]);let t=[];return x.Children.forEach(n,(r,i)=>{if(!x.isValidElement(r))return;let s=[...e,i];if(r.type===x.Fragment){t.push.apply(t,Wy(r.props.children,s));return}r.type!==Fi&&kt(!1),!r.props.index||!r.props.children||kt(!1);let a={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(a.children=Wy(r.props.children,s)),t.push(a)}),t}function Wf(){return Wf=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Wf.apply(this,arguments)}function oC(n,e){if(n==null)return{};var t={},r=Object.keys(n),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(t[i]=n[i]);return t}function SN(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function PN(n,e){return n.button===0&&(!e||e==="_self")&&!SN(n)}const CN=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],AN=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],bN="6";try{window.__reactRouterVersion=bN}catch{}const xN=x.createContext({isTransitioning:!1}),RN="startTransition",wE=ew[RN];function kN(n){let{basename:e,children:t,future:r,window:i}=n,s=x.useRef();s.current==null&&(s.current=VD({window:i,v5Compat:!0}));let a=s.current,[u,d]=x.useState({action:a.action,location:a.location}),{v7_startTransition:h}=r||{},m=x.useCallback(g=>{h&&wE?wE(()=>d(g)):d(g)},[d,h]);return x.useLayoutEffect(()=>a.listen(m),[a,m]),x.useEffect(()=>TN(r),[r]),x.createElement(EN,{basename:e,children:t,location:u.location,navigationType:u.action,navigator:a,future:r})}const DN=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",NN=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,VN=x.forwardRef(function(e,t){let{onClick:r,relative:i,reloadDocument:s,replace:a,state:u,target:d,to:h,preventScrollReset:m,viewTransition:g}=e,v=oC(e,CN),{basename:E}=x.useContext(Xi),R,k=!1;if(typeof h=="string"&&NN.test(h)&&(R=h,DN))try{let F=new URL(window.location.href),z=h.startsWith("//")?new URL(F.protocol+h):new URL(h),te=Yl(z.pathname,E);z.origin===F.origin&&te!=null?h=te+z.search+z.hash:k=!0}catch{}let A=oN(h,{relative:i}),j=LN(h,{replace:a,state:u,target:d,preventScrollReset:m,relative:i,viewTransition:g});function O(F){r&&r(F),F.defaultPrevented||j(F)}return x.createElement("a",Wf({},v,{href:R||A,onClick:k||s?r:O,ref:t,target:d}))}),ON=x.forwardRef(function(e,t){let{"aria-current":r="page",caseSensitive:i=!1,className:s="",end:a=!1,style:u,to:d,viewTransition:h,children:m}=e,g=oC(e,AN),v=Fp(d,{relative:g.relative}),E=mo(),R=x.useContext(eC),{navigator:k,basename:A}=x.useContext(Xi),j=R!=null&&FN(v)&&h===!0,O=k.encodeLocation?k.encodeLocation(v).pathname:v.pathname,F=E.pathname,z=R&&R.navigation&&R.navigation.location?R.navigation.location.pathname:null;i||(F=F.toLowerCase(),z=z?z.toLowerCase():null,O=O.toLowerCase()),z&&A&&(z=Yl(z,A)||z);const te=O!=="/"&&O.endsWith("/")?O.length-1:O.length;let Y=F===O||!a&&F.startsWith(O)&&F.charAt(te)==="/",C=z!=null&&(z===O||!a&&z.startsWith(O)&&z.charAt(O.length)==="/"),S={isActive:Y,isPending:C,isTransitioning:j},D=Y?r:void 0,L;typeof s=="function"?L=s(S):L=[s,Y?"active":null,C?"pending":null,j?"transitioning":null].filter(Boolean).join(" ");let M=typeof u=="function"?u(S):u;return x.createElement(VN,Wf({},g,{"aria-current":D,className:L,ref:t,style:M,to:d,viewTransition:h}),typeof m=="function"?m(S):m)});var Hy;(function(n){n.UseScrollRestoration="useScrollRestoration",n.UseSubmit="useSubmit",n.UseSubmitFetcher="useSubmitFetcher",n.UseFetcher="useFetcher",n.useViewTransitionState="useViewTransitionState"})(Hy||(Hy={}));var _E;(function(n){n.UseFetcher="useFetcher",n.UseFetchers="useFetchers",n.UseScrollRestoration="useScrollRestoration"})(_E||(_E={}));function MN(n){let e=x.useContext(Mp);return e||kt(!1),e}function LN(n,e){let{target:t,replace:r,state:i,preventScrollReset:s,relative:a,viewTransition:u}=e===void 0?{}:e,d=sw(),h=mo(),m=Fp(n,{relative:a});return x.useCallback(g=>{if(PN(g,t)){g.preventDefault();let v=r!==void 0?r:zf(h)===zf(m);d(n,{replace:v,state:i,preventScrollReset:s,relative:a,viewTransition:u})}},[h,d,m,r,i,t,n,s,a,u])}function FN(n,e){e===void 0&&(e={});let t=x.useContext(xN);t==null&&kt(!1);let{basename:r}=MN(Hy.useViewTransitionState),i=Fp(n,{relative:e.relative});if(!t.isTransitioning)return!1;let s=Yl(t.currentLocation.pathname,r)||t.currentLocation.pathname,a=Yl(t.nextLocation.pathname,r)||t.nextLocation.pathname;return $y(i.pathname,a)!=null||$y(i.pathname,s)!=null}class UN extends Qt.Component{state={error:null};static getDerivedStateFromError(e){return{error:e}}render(){return this.state.error?q.jsxs("div",{style:{padding:16,fontFamily:"system-ui"},children:[q.jsx("h2",{children:"Se produjo un error"}),q.jsx("pre",{style:{whiteSpace:"pre-wrap"},children:String(this.state.error?.stack||this.state.error)})]}):this.props.children}}const jN=()=>{};var TE={};const aC=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},BN=function(n){const e=[];let t=0,r=0;for(;t<n.length;){const i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=n[t++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=n[t++],a=n[t++],u=n[t++],d=((i&7)<<18|(s&63)<<12|(a&63)<<6|u&63)-65536;e[r++]=String.fromCharCode(55296+(d>>10)),e[r++]=String.fromCharCode(56320+(d&1023))}else{const s=n[t++],a=n[t++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|a&63)}}return e.join("")},lC={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){const s=n[i],a=i+1<n.length,u=a?n[i+1]:0,d=i+2<n.length,h=d?n[i+2]:0,m=s>>2,g=(s&3)<<4|u>>4;let v=(u&15)<<2|h>>6,E=h&63;d||(E=64,a||(v=64)),r.push(t[m],t[g],t[v],t[E])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(aC(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):BN(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){const s=t[n.charAt(i++)],u=i<n.length?t[n.charAt(i)]:0;++i;const h=i<n.length?t[n.charAt(i)]:64;++i;const g=i<n.length?t[n.charAt(i)]:64;if(++i,s==null||u==null||h==null||g==null)throw new $N;const v=s<<2|u>>4;if(r.push(v),h!==64){const E=u<<4&240|h>>2;if(r.push(E),g!==64){const R=h<<6&192|g;r.push(R)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class $N extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const zN=function(n){const e=aC(n);return lC.encodeByteArray(e,!0)},Hf=function(n){return zN(n).replace(/\./g,"")},uC=function(n){try{return lC.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function cC(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const WN=()=>cC().__FIREBASE_DEFAULTS__,HN=()=>{if(typeof process>"u"||typeof TE>"u")return;const n=TE.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},qN=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&uC(n[1]);return e&&JSON.parse(e)},Up=()=>{try{return jN()||WN()||HN()||qN()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},dC=n=>Up()?.emulatorHosts?.[n],hC=n=>{const e=dC(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},fC=()=>Up()?.config,pC=n=>Up()?.[`_${n}`];class GN{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}}function go(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function ow(n){return(await fetch(n,{credentials:"include"})).ok}function KN(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},r=e||"demo-project",i=n.iat||0,s=n.sub||n.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a={iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}},...n};return[Hf(JSON.stringify(t)),Hf(JSON.stringify(a)),""].join(".")}const zc={};function QN(){const n={prod:[],emulator:[]};for(const e of Object.keys(zc))zc[e]?n.emulator.push(e):n.prod.push(e);return n}function YN(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}let EE=!1;function aw(n,e){if(typeof window>"u"||typeof document>"u"||!go(window.location.host)||zc[n]===e||zc[n]||EE)return;zc[n]=e;function t(v){return`__firebase__banner__${v}`}const r="__firebase__banner",s=QN().prod.length>0;function a(){const v=document.getElementById(r);v&&v.remove()}function u(v){v.style.display="flex",v.style.background="#7faaf0",v.style.position="fixed",v.style.bottom="5px",v.style.left="5px",v.style.padding=".5em",v.style.borderRadius="5px",v.style.alignItems="center"}function d(v,E){v.setAttribute("width","24"),v.setAttribute("id",E),v.setAttribute("height","24"),v.setAttribute("viewBox","0 0 24 24"),v.setAttribute("fill","none"),v.style.marginLeft="-6px"}function h(){const v=document.createElement("span");return v.style.cursor="pointer",v.style.marginLeft="16px",v.style.fontSize="24px",v.innerHTML=" &times;",v.onclick=()=>{EE=!0,a()},v}function m(v,E){v.setAttribute("id",E),v.innerText="Learn more",v.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",v.setAttribute("target","__blank"),v.style.paddingLeft="5px",v.style.textDecoration="underline"}function g(){const v=YN(r),E=t("text"),R=document.getElementById(E)||document.createElement("span"),k=t("learnmore"),A=document.getElementById(k)||document.createElement("a"),j=t("preprendIcon"),O=document.getElementById(j)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(v.created){const F=v.element;u(F),m(A,k);const z=h();d(O,j),F.append(O,R,A,z),document.body.appendChild(F)}s?(R.innerText="Preview backend disconnected.",O.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(O.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,R.innerText="Preview backend running in this workspace."),R.setAttribute("id",E)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",g):g()}function nn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function XN(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(nn())}function mC(){const n=Up()?.forceEnvironment;if(n==="node")return!0;if(n==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function JN(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function ZN(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function eV(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function tV(){const n=nn();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function gC(){return!mC()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function yC(){return!mC()&&!!navigator.userAgent&&(navigator.userAgent.includes("Safari")||navigator.userAgent.includes("WebKit"))&&!navigator.userAgent.includes("Chrome")}function vC(){try{return typeof indexedDB=="object"}catch{return!1}}function nV(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{e(i.error?.message||"")}}catch(t){e(t)}})}const rV="FirebaseError";class yi extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=rV,Object.setPrototypeOf(this,yi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Pd.prototype.create)}}class Pd{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},i=`${this.service}/${e}`,s=this.errors[e],a=s?iV(s,r):"Error",u=`${this.serviceName}: ${a} (${i}).`;return new yi(i,u,r)}}function iV(n,e){return n.replace(sV,(t,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const sV=/\{\$([^}]+)}/g;function oV(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function ya(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const i of t){if(!r.includes(i))return!1;const s=n[i],a=e[i];if(IE(s)&&IE(a)){if(!ya(s,a))return!1}else if(s!==a)return!1}for(const i of r)if(!t.includes(i))return!1;return!0}function IE(n){return n!==null&&typeof n=="object"}function Cd(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Mc(n){const e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function Lc(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function aV(n,e){const t=new lV(n,e);return t.subscribe.bind(t)}class lV{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");uV(e,["next","error","complete"])?i=e:i={next:e,error:t,complete:r},i.next===void 0&&(i.next=ry),i.error===void 0&&(i.error=ry),i.complete===void 0&&(i.complete=ry);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function uV(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function ry(){}function pt(n){return n&&n._delegate?n._delegate:n}class ro{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Zo="[DEFAULT]";let cV=class{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new GN;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(hV(e))try{this.getOrInitializeService({instanceIdentifier:Zo})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(t);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Zo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Zo){return this.instances.has(e)}getOptions(e=Zo){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[s,a]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(s);r===u&&a.resolve(i)}return i}onInit(e,t){const r=this.normalizeInstanceIdentifier(t),i=this.onInitCallbacks.get(r)??new Set;i.add(e),this.onInitCallbacks.set(r,i);const s=this.instances.get(r);return s&&e(s,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:dV(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Zo){return this.component?this.component.multipleInstances?e:Zo:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function dV(n){return n===Zo?void 0:n}function hV(n){return n.instantiationMode==="EAGER"}class fV{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new cV(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}var Ge;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Ge||(Ge={}));const pV={debug:Ge.DEBUG,verbose:Ge.VERBOSE,info:Ge.INFO,warn:Ge.WARN,error:Ge.ERROR,silent:Ge.SILENT},mV=Ge.INFO,gV={[Ge.DEBUG]:"log",[Ge.VERBOSE]:"log",[Ge.INFO]:"info",[Ge.WARN]:"warn",[Ge.ERROR]:"error"},yV=(n,e,...t)=>{if(e<n.logLevel)return;const r=new Date().toISOString(),i=gV[e];if(i)console[i](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class lw{constructor(e){this.name=e,this._logLevel=mV,this._logHandler=yV,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ge))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?pV[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ge.DEBUG,...e),this._logHandler(this,Ge.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ge.VERBOSE,...e),this._logHandler(this,Ge.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ge.INFO,...e),this._logHandler(this,Ge.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ge.WARN,...e),this._logHandler(this,Ge.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ge.ERROR,...e),this._logHandler(this,Ge.ERROR,...e)}}const vV=(n,e)=>e.some(t=>n instanceof t);let SE,PE;function wV(){return SE||(SE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function _V(){return PE||(PE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const wC=new WeakMap,qy=new WeakMap,_C=new WeakMap,iy=new WeakMap,uw=new WeakMap;function TV(n){const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("success",s),n.removeEventListener("error",a)},s=()=>{t(Ys(n.result)),i()},a=()=>{r(n.error),i()};n.addEventListener("success",s),n.addEventListener("error",a)});return e.then(t=>{t instanceof IDBCursor&&wC.set(t,n)}).catch(()=>{}),uw.set(e,n),e}function EV(n){if(qy.has(n))return;const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("complete",s),n.removeEventListener("error",a),n.removeEventListener("abort",a)},s=()=>{t(),i()},a=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",s),n.addEventListener("error",a),n.addEventListener("abort",a)});qy.set(n,e)}let Gy={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return qy.get(n);if(e==="objectStoreNames")return n.objectStoreNames||_C.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Ys(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function IV(n){Gy=n(Gy)}function SV(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const r=n.call(sy(this),e,...t);return _C.set(r,e.sort?e.sort():[e]),Ys(r)}:_V().includes(n)?function(...e){return n.apply(sy(this),e),Ys(wC.get(this))}:function(...e){return Ys(n.apply(sy(this),e))}}function PV(n){return typeof n=="function"?SV(n):(n instanceof IDBTransaction&&EV(n),vV(n,wV())?new Proxy(n,Gy):n)}function Ys(n){if(n instanceof IDBRequest)return TV(n);if(iy.has(n))return iy.get(n);const e=PV(n);return e!==n&&(iy.set(n,e),uw.set(e,n)),e}const sy=n=>uw.get(n);function CV(n,e,{blocked:t,upgrade:r,blocking:i,terminated:s}={}){const a=indexedDB.open(n,e),u=Ys(a);return r&&a.addEventListener("upgradeneeded",d=>{r(Ys(a.result),d.oldVersion,d.newVersion,Ys(a.transaction),d)}),t&&a.addEventListener("blocked",d=>t(d.oldVersion,d.newVersion,d)),u.then(d=>{s&&d.addEventListener("close",()=>s()),i&&d.addEventListener("versionchange",h=>i(h.oldVersion,h.newVersion,h))}).catch(()=>{}),u}const AV=["get","getKey","getAll","getAllKeys","count"],bV=["put","add","delete","clear"],oy=new Map;function CE(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(oy.get(e))return oy.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,i=bV.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(i||AV.includes(t)))return;const s=async function(a,...u){const d=this.transaction(a,i?"readwrite":"readonly");let h=d.store;return r&&(h=h.index(u.shift())),(await Promise.all([h[t](...u),i&&d.done]))[0]};return oy.set(e,s),s}IV(n=>({...n,get:(e,t,r)=>CE(e,t)||n.get(e,t,r),has:(e,t)=>!!CE(e,t)||n.has(e,t)}));class xV{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(RV(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}}function RV(n){return n.getComponent()?.type==="VERSION"}const Ky="@firebase/app",AE="0.14.6";const Hi=new lw("@firebase/app"),kV="@firebase/app-compat",DV="@firebase/analytics-compat",NV="@firebase/analytics",VV="@firebase/app-check-compat",OV="@firebase/app-check",MV="@firebase/auth",LV="@firebase/auth-compat",FV="@firebase/database",UV="@firebase/data-connect",jV="@firebase/database-compat",BV="@firebase/functions",$V="@firebase/functions-compat",zV="@firebase/installations",WV="@firebase/installations-compat",HV="@firebase/messaging",qV="@firebase/messaging-compat",GV="@firebase/performance",KV="@firebase/performance-compat",QV="@firebase/remote-config",YV="@firebase/remote-config-compat",XV="@firebase/storage",JV="@firebase/storage-compat",ZV="@firebase/firestore",eO="@firebase/ai",tO="@firebase/firestore-compat",nO="firebase",rO="12.6.0";const Qy="[DEFAULT]",iO={[Ky]:"fire-core",[kV]:"fire-core-compat",[NV]:"fire-analytics",[DV]:"fire-analytics-compat",[OV]:"fire-app-check",[VV]:"fire-app-check-compat",[MV]:"fire-auth",[LV]:"fire-auth-compat",[FV]:"fire-rtdb",[UV]:"fire-data-connect",[jV]:"fire-rtdb-compat",[BV]:"fire-fn",[$V]:"fire-fn-compat",[zV]:"fire-iid",[WV]:"fire-iid-compat",[HV]:"fire-fcm",[qV]:"fire-fcm-compat",[GV]:"fire-perf",[KV]:"fire-perf-compat",[QV]:"fire-rc",[YV]:"fire-rc-compat",[XV]:"fire-gcs",[JV]:"fire-gcs-compat",[ZV]:"fire-fst",[tO]:"fire-fst-compat",[eO]:"fire-vertex","fire-js":"fire-js",[nO]:"fire-js-all"};const qf=new Map,sO=new Map,Yy=new Map;function bE(n,e){try{n.container.addComponent(e)}catch(t){Hi.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function va(n){const e=n.name;if(Yy.has(e))return Hi.debug(`There were multiple attempts to register component ${e}.`),!1;Yy.set(e,n);for(const t of qf.values())bE(t,n);for(const t of sO.values())bE(t,n);return!0}function jp(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function Bn(n){return n==null?!1:n.settings!==void 0}const oO={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Xs=new Pd("app","Firebase",oO);class aO{constructor(e,t,r){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ro("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Xs.create("app-deleted",{appName:this._name})}}const Tu=rO;function TC(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const r={name:Qy,automaticDataCollectionEnabled:!0,...e},i=r.name;if(typeof i!="string"||!i)throw Xs.create("bad-app-name",{appName:String(i)});if(t||(t=fC()),!t)throw Xs.create("no-options");const s=qf.get(i);if(s){if(ya(t,s.options)&&ya(r,s.config))return s;throw Xs.create("duplicate-app",{appName:i})}const a=new fV(i);for(const d of Yy.values())a.addComponent(d);const u=new aO(t,r,a);return qf.set(i,u),u}function cw(n=Qy){const e=qf.get(n);if(!e&&n===Qy&&fC())return TC();if(!e)throw Xs.create("no-app",{appName:n});return e}function li(n,e,t){let r=iO[n]??n;t&&(r+=`-${t}`);const i=r.match(/\s|\//),s=e.match(/\s|\//);if(i||s){const a=[`Unable to register library "${r}" with version "${e}":`];i&&a.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Hi.warn(a.join(" "));return}va(new ro(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}const lO="firebase-heartbeat-database",uO=1,od="firebase-heartbeat-store";let ay=null;function EC(){return ay||(ay=CV(lO,uO,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(od)}catch(t){console.warn(t)}}}}).catch(n=>{throw Xs.create("idb-open",{originalErrorMessage:n.message})})),ay}async function cO(n){try{const t=(await EC()).transaction(od),r=await t.objectStore(od).get(IC(n));return await t.done,r}catch(e){if(e instanceof yi)Hi.warn(e.message);else{const t=Xs.create("idb-get",{originalErrorMessage:e?.message});Hi.warn(t.message)}}}async function xE(n,e){try{const r=(await EC()).transaction(od,"readwrite");await r.objectStore(od).put(e,IC(n)),await r.done}catch(t){if(t instanceof yi)Hi.warn(t.message);else{const r=Xs.create("idb-set",{originalErrorMessage:t?.message});Hi.warn(r.message)}}}function IC(n){return`${n.name}!${n.options.appId}`}const dO=1024,hO=30;class fO{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new mO(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const t=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=RE();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(i=>i.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:t}),this._heartbeatsCache.heartbeats.length>hO){const i=gO(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(i,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Hi.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=RE(),{heartbeatsToSend:t,unsentEntries:r}=pO(this._heartbeatsCache.heartbeats),i=Hf(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(e){return Hi.warn(e),""}}}function RE(){return new Date().toISOString().substring(0,10)}function pO(n,e=dO){const t=[];let r=n.slice();for(const i of n){const s=t.find(a=>a.agent===i.agent);if(s){if(s.dates.push(i.date),kE(t)>e){s.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),kE(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}class mO{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return vC()?nV().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await cO(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return xE(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return xE(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function kE(n){return Hf(JSON.stringify({version:2,heartbeats:n})).length}function gO(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}function yO(n){va(new ro("platform-logger",e=>new xV(e),"PRIVATE")),va(new ro("heartbeat",e=>new fO(e),"PRIVATE")),li(Ky,AE,n),li(Ky,AE,"esm2020"),li("fire-js","")}yO("");var vO="firebase",wO="12.7.0";li(vO,wO,"app");var DE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Js,SC;(function(){var n;function e(C,S){function D(){}D.prototype=S.prototype,C.F=S.prototype,C.prototype=new D,C.prototype.constructor=C,C.D=function(L,M,U){for(var P=Array(arguments.length-2),X=2;X<arguments.length;X++)P[X-2]=arguments[X];return S.prototype[M].apply(L,P)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,t),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(C,S,D){D||(D=0);const L=Array(16);if(typeof S=="string")for(var M=0;M<16;++M)L[M]=S.charCodeAt(D++)|S.charCodeAt(D++)<<8|S.charCodeAt(D++)<<16|S.charCodeAt(D++)<<24;else for(M=0;M<16;++M)L[M]=S[D++]|S[D++]<<8|S[D++]<<16|S[D++]<<24;S=C.g[0],D=C.g[1],M=C.g[2];let U=C.g[3],P;P=S+(U^D&(M^U))+L[0]+3614090360&4294967295,S=D+(P<<7&4294967295|P>>>25),P=U+(M^S&(D^M))+L[1]+3905402710&4294967295,U=S+(P<<12&4294967295|P>>>20),P=M+(D^U&(S^D))+L[2]+606105819&4294967295,M=U+(P<<17&4294967295|P>>>15),P=D+(S^M&(U^S))+L[3]+3250441966&4294967295,D=M+(P<<22&4294967295|P>>>10),P=S+(U^D&(M^U))+L[4]+4118548399&4294967295,S=D+(P<<7&4294967295|P>>>25),P=U+(M^S&(D^M))+L[5]+1200080426&4294967295,U=S+(P<<12&4294967295|P>>>20),P=M+(D^U&(S^D))+L[6]+2821735955&4294967295,M=U+(P<<17&4294967295|P>>>15),P=D+(S^M&(U^S))+L[7]+4249261313&4294967295,D=M+(P<<22&4294967295|P>>>10),P=S+(U^D&(M^U))+L[8]+1770035416&4294967295,S=D+(P<<7&4294967295|P>>>25),P=U+(M^S&(D^M))+L[9]+2336552879&4294967295,U=S+(P<<12&4294967295|P>>>20),P=M+(D^U&(S^D))+L[10]+4294925233&4294967295,M=U+(P<<17&4294967295|P>>>15),P=D+(S^M&(U^S))+L[11]+2304563134&4294967295,D=M+(P<<22&4294967295|P>>>10),P=S+(U^D&(M^U))+L[12]+1804603682&4294967295,S=D+(P<<7&4294967295|P>>>25),P=U+(M^S&(D^M))+L[13]+4254626195&4294967295,U=S+(P<<12&4294967295|P>>>20),P=M+(D^U&(S^D))+L[14]+2792965006&4294967295,M=U+(P<<17&4294967295|P>>>15),P=D+(S^M&(U^S))+L[15]+1236535329&4294967295,D=M+(P<<22&4294967295|P>>>10),P=S+(M^U&(D^M))+L[1]+4129170786&4294967295,S=D+(P<<5&4294967295|P>>>27),P=U+(D^M&(S^D))+L[6]+3225465664&4294967295,U=S+(P<<9&4294967295|P>>>23),P=M+(S^D&(U^S))+L[11]+643717713&4294967295,M=U+(P<<14&4294967295|P>>>18),P=D+(U^S&(M^U))+L[0]+3921069994&4294967295,D=M+(P<<20&4294967295|P>>>12),P=S+(M^U&(D^M))+L[5]+3593408605&4294967295,S=D+(P<<5&4294967295|P>>>27),P=U+(D^M&(S^D))+L[10]+38016083&4294967295,U=S+(P<<9&4294967295|P>>>23),P=M+(S^D&(U^S))+L[15]+3634488961&4294967295,M=U+(P<<14&4294967295|P>>>18),P=D+(U^S&(M^U))+L[4]+3889429448&4294967295,D=M+(P<<20&4294967295|P>>>12),P=S+(M^U&(D^M))+L[9]+568446438&4294967295,S=D+(P<<5&4294967295|P>>>27),P=U+(D^M&(S^D))+L[14]+3275163606&4294967295,U=S+(P<<9&4294967295|P>>>23),P=M+(S^D&(U^S))+L[3]+4107603335&4294967295,M=U+(P<<14&4294967295|P>>>18),P=D+(U^S&(M^U))+L[8]+1163531501&4294967295,D=M+(P<<20&4294967295|P>>>12),P=S+(M^U&(D^M))+L[13]+2850285829&4294967295,S=D+(P<<5&4294967295|P>>>27),P=U+(D^M&(S^D))+L[2]+4243563512&4294967295,U=S+(P<<9&4294967295|P>>>23),P=M+(S^D&(U^S))+L[7]+1735328473&4294967295,M=U+(P<<14&4294967295|P>>>18),P=D+(U^S&(M^U))+L[12]+2368359562&4294967295,D=M+(P<<20&4294967295|P>>>12),P=S+(D^M^U)+L[5]+4294588738&4294967295,S=D+(P<<4&4294967295|P>>>28),P=U+(S^D^M)+L[8]+2272392833&4294967295,U=S+(P<<11&4294967295|P>>>21),P=M+(U^S^D)+L[11]+1839030562&4294967295,M=U+(P<<16&4294967295|P>>>16),P=D+(M^U^S)+L[14]+4259657740&4294967295,D=M+(P<<23&4294967295|P>>>9),P=S+(D^M^U)+L[1]+2763975236&4294967295,S=D+(P<<4&4294967295|P>>>28),P=U+(S^D^M)+L[4]+1272893353&4294967295,U=S+(P<<11&4294967295|P>>>21),P=M+(U^S^D)+L[7]+4139469664&4294967295,M=U+(P<<16&4294967295|P>>>16),P=D+(M^U^S)+L[10]+3200236656&4294967295,D=M+(P<<23&4294967295|P>>>9),P=S+(D^M^U)+L[13]+681279174&4294967295,S=D+(P<<4&4294967295|P>>>28),P=U+(S^D^M)+L[0]+3936430074&4294967295,U=S+(P<<11&4294967295|P>>>21),P=M+(U^S^D)+L[3]+3572445317&4294967295,M=U+(P<<16&4294967295|P>>>16),P=D+(M^U^S)+L[6]+76029189&4294967295,D=M+(P<<23&4294967295|P>>>9),P=S+(D^M^U)+L[9]+3654602809&4294967295,S=D+(P<<4&4294967295|P>>>28),P=U+(S^D^M)+L[12]+3873151461&4294967295,U=S+(P<<11&4294967295|P>>>21),P=M+(U^S^D)+L[15]+530742520&4294967295,M=U+(P<<16&4294967295|P>>>16),P=D+(M^U^S)+L[2]+3299628645&4294967295,D=M+(P<<23&4294967295|P>>>9),P=S+(M^(D|~U))+L[0]+4096336452&4294967295,S=D+(P<<6&4294967295|P>>>26),P=U+(D^(S|~M))+L[7]+1126891415&4294967295,U=S+(P<<10&4294967295|P>>>22),P=M+(S^(U|~D))+L[14]+2878612391&4294967295,M=U+(P<<15&4294967295|P>>>17),P=D+(U^(M|~S))+L[5]+4237533241&4294967295,D=M+(P<<21&4294967295|P>>>11),P=S+(M^(D|~U))+L[12]+1700485571&4294967295,S=D+(P<<6&4294967295|P>>>26),P=U+(D^(S|~M))+L[3]+2399980690&4294967295,U=S+(P<<10&4294967295|P>>>22),P=M+(S^(U|~D))+L[10]+4293915773&4294967295,M=U+(P<<15&4294967295|P>>>17),P=D+(U^(M|~S))+L[1]+2240044497&4294967295,D=M+(P<<21&4294967295|P>>>11),P=S+(M^(D|~U))+L[8]+1873313359&4294967295,S=D+(P<<6&4294967295|P>>>26),P=U+(D^(S|~M))+L[15]+4264355552&4294967295,U=S+(P<<10&4294967295|P>>>22),P=M+(S^(U|~D))+L[6]+2734768916&4294967295,M=U+(P<<15&4294967295|P>>>17),P=D+(U^(M|~S))+L[13]+1309151649&4294967295,D=M+(P<<21&4294967295|P>>>11),P=S+(M^(D|~U))+L[4]+4149444226&4294967295,S=D+(P<<6&4294967295|P>>>26),P=U+(D^(S|~M))+L[11]+3174756917&4294967295,U=S+(P<<10&4294967295|P>>>22),P=M+(S^(U|~D))+L[2]+718787259&4294967295,M=U+(P<<15&4294967295|P>>>17),P=D+(U^(M|~S))+L[9]+3951481745&4294967295,C.g[0]=C.g[0]+S&4294967295,C.g[1]=C.g[1]+(M+(P<<21&4294967295|P>>>11))&4294967295,C.g[2]=C.g[2]+M&4294967295,C.g[3]=C.g[3]+U&4294967295}r.prototype.v=function(C,S){S===void 0&&(S=C.length);const D=S-this.blockSize,L=this.C;let M=this.h,U=0;for(;U<S;){if(M==0)for(;U<=D;)i(this,C,U),U+=this.blockSize;if(typeof C=="string"){for(;U<S;)if(L[M++]=C.charCodeAt(U++),M==this.blockSize){i(this,L),M=0;break}}else for(;U<S;)if(L[M++]=C[U++],M==this.blockSize){i(this,L),M=0;break}}this.h=M,this.o+=S},r.prototype.A=function(){var C=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);C[0]=128;for(var S=1;S<C.length-8;++S)C[S]=0;S=this.o*8;for(var D=C.length-8;D<C.length;++D)C[D]=S&255,S/=256;for(this.v(C),C=Array(16),S=0,D=0;D<4;++D)for(let L=0;L<32;L+=8)C[S++]=this.g[D]>>>L&255;return C};function s(C,S){var D=u;return Object.prototype.hasOwnProperty.call(D,C)?D[C]:D[C]=S(C)}function a(C,S){this.h=S;const D=[];let L=!0;for(let M=C.length-1;M>=0;M--){const U=C[M]|0;L&&U==S||(D[M]=U,L=!1)}this.g=D}var u={};function d(C){return-128<=C&&C<128?s(C,function(S){return new a([S|0],S<0?-1:0)}):new a([C|0],C<0?-1:0)}function h(C){if(isNaN(C)||!isFinite(C))return g;if(C<0)return A(h(-C));const S=[];let D=1;for(let L=0;C>=D;L++)S[L]=C/D|0,D*=4294967296;return new a(S,0)}function m(C,S){if(C.length==0)throw Error("number format error: empty string");if(S=S||10,S<2||36<S)throw Error("radix out of range: "+S);if(C.charAt(0)=="-")return A(m(C.substring(1),S));if(C.indexOf("-")>=0)throw Error('number format error: interior "-" character');const D=h(Math.pow(S,8));let L=g;for(let U=0;U<C.length;U+=8){var M=Math.min(8,C.length-U);const P=parseInt(C.substring(U,U+M),S);M<8?(M=h(Math.pow(S,M)),L=L.j(M).add(h(P))):(L=L.j(D),L=L.add(h(P)))}return L}var g=d(0),v=d(1),E=d(16777216);n=a.prototype,n.m=function(){if(k(this))return-A(this).m();let C=0,S=1;for(let D=0;D<this.g.length;D++){const L=this.i(D);C+=(L>=0?L:4294967296+L)*S,S*=4294967296}return C},n.toString=function(C){if(C=C||10,C<2||36<C)throw Error("radix out of range: "+C);if(R(this))return"0";if(k(this))return"-"+A(this).toString(C);const S=h(Math.pow(C,6));var D=this;let L="";for(;;){const M=z(D,S).g;D=j(D,M.j(S));let U=((D.g.length>0?D.g[0]:D.h)>>>0).toString(C);if(D=M,R(D))return U+L;for(;U.length<6;)U="0"+U;L=U+L}},n.i=function(C){return C<0?0:C<this.g.length?this.g[C]:this.h};function R(C){if(C.h!=0)return!1;for(let S=0;S<C.g.length;S++)if(C.g[S]!=0)return!1;return!0}function k(C){return C.h==-1}n.l=function(C){return C=j(this,C),k(C)?-1:R(C)?0:1};function A(C){const S=C.g.length,D=[];for(let L=0;L<S;L++)D[L]=~C.g[L];return new a(D,~C.h).add(v)}n.abs=function(){return k(this)?A(this):this},n.add=function(C){const S=Math.max(this.g.length,C.g.length),D=[];let L=0;for(let M=0;M<=S;M++){let U=L+(this.i(M)&65535)+(C.i(M)&65535),P=(U>>>16)+(this.i(M)>>>16)+(C.i(M)>>>16);L=P>>>16,U&=65535,P&=65535,D[M]=P<<16|U}return new a(D,D[D.length-1]&-2147483648?-1:0)};function j(C,S){return C.add(A(S))}n.j=function(C){if(R(this)||R(C))return g;if(k(this))return k(C)?A(this).j(A(C)):A(A(this).j(C));if(k(C))return A(this.j(A(C)));if(this.l(E)<0&&C.l(E)<0)return h(this.m()*C.m());const S=this.g.length+C.g.length,D=[];for(var L=0;L<2*S;L++)D[L]=0;for(L=0;L<this.g.length;L++)for(let M=0;M<C.g.length;M++){const U=this.i(L)>>>16,P=this.i(L)&65535,X=C.i(M)>>>16,se=C.i(M)&65535;D[2*L+2*M]+=P*se,O(D,2*L+2*M),D[2*L+2*M+1]+=U*se,O(D,2*L+2*M+1),D[2*L+2*M+1]+=P*X,O(D,2*L+2*M+1),D[2*L+2*M+2]+=U*X,O(D,2*L+2*M+2)}for(C=0;C<S;C++)D[C]=D[2*C+1]<<16|D[2*C];for(C=S;C<2*S;C++)D[C]=0;return new a(D,0)};function O(C,S){for(;(C[S]&65535)!=C[S];)C[S+1]+=C[S]>>>16,C[S]&=65535,S++}function F(C,S){this.g=C,this.h=S}function z(C,S){if(R(S))throw Error("division by zero");if(R(C))return new F(g,g);if(k(C))return S=z(A(C),S),new F(A(S.g),A(S.h));if(k(S))return S=z(C,A(S)),new F(A(S.g),S.h);if(C.g.length>30){if(k(C)||k(S))throw Error("slowDivide_ only works with positive integers.");for(var D=v,L=S;L.l(C)<=0;)D=te(D),L=te(L);var M=Y(D,1),U=Y(L,1);for(L=Y(L,2),D=Y(D,2);!R(L);){var P=U.add(L);P.l(C)<=0&&(M=M.add(D),U=P),L=Y(L,1),D=Y(D,1)}return S=j(C,M.j(S)),new F(M,S)}for(M=g;C.l(S)>=0;){for(D=Math.max(1,Math.floor(C.m()/S.m())),L=Math.ceil(Math.log(D)/Math.LN2),L=L<=48?1:Math.pow(2,L-48),U=h(D),P=U.j(S);k(P)||P.l(C)>0;)D-=L,U=h(D),P=U.j(S);R(U)&&(U=v),M=M.add(U),C=j(C,P)}return new F(M,C)}n.B=function(C){return z(this,C).h},n.and=function(C){const S=Math.max(this.g.length,C.g.length),D=[];for(let L=0;L<S;L++)D[L]=this.i(L)&C.i(L);return new a(D,this.h&C.h)},n.or=function(C){const S=Math.max(this.g.length,C.g.length),D=[];for(let L=0;L<S;L++)D[L]=this.i(L)|C.i(L);return new a(D,this.h|C.h)},n.xor=function(C){const S=Math.max(this.g.length,C.g.length),D=[];for(let L=0;L<S;L++)D[L]=this.i(L)^C.i(L);return new a(D,this.h^C.h)};function te(C){const S=C.g.length+1,D=[];for(let L=0;L<S;L++)D[L]=C.i(L)<<1|C.i(L-1)>>>31;return new a(D,C.h)}function Y(C,S){const D=S>>5;S%=32;const L=C.g.length-D,M=[];for(let U=0;U<L;U++)M[U]=S>0?C.i(U+D)>>>S|C.i(U+D+1)<<32-S:C.i(U+D);return new a(M,C.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,SC=r,a.prototype.add=a.prototype.add,a.prototype.multiply=a.prototype.j,a.prototype.modulo=a.prototype.B,a.prototype.compare=a.prototype.l,a.prototype.toNumber=a.prototype.m,a.prototype.toString=a.prototype.toString,a.prototype.getBits=a.prototype.i,a.fromNumber=h,a.fromString=m,Js=a}).apply(typeof DE<"u"?DE:typeof self<"u"?self:typeof window<"u"?window:{});var of=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var PC,Fc,CC,Sf,Xy,AC,bC,xC;(function(){var n,e=Object.defineProperty;function t(f){f=[typeof globalThis=="object"&&globalThis,f,typeof window=="object"&&window,typeof self=="object"&&self,typeof of=="object"&&of];for(var _=0;_<f.length;++_){var T=f[_];if(T&&T.Math==Math)return T}throw Error("Cannot find global object")}var r=t(this);function i(f,_){if(_)e:{var T=r;f=f.split(".");for(var b=0;b<f.length-1;b++){var G=f[b];if(!(G in T))break e;T=T[G]}f=f[f.length-1],b=T[f],_=_(b),_!=b&&_!=null&&e(T,f,{configurable:!0,writable:!0,value:_})}}i("Symbol.dispose",function(f){return f||Symbol("Symbol.dispose")}),i("Array.prototype.values",function(f){return f||function(){return this[Symbol.iterator]()}}),i("Object.entries",function(f){return f||function(_){var T=[],b;for(b in _)Object.prototype.hasOwnProperty.call(_,b)&&T.push([b,_[b]]);return T}});var s=s||{},a=this||self;function u(f){var _=typeof f;return _=="object"&&f!=null||_=="function"}function d(f,_,T){return f.call.apply(f.bind,arguments)}function h(f,_,T){return h=d,h.apply(null,arguments)}function m(f,_){var T=Array.prototype.slice.call(arguments,1);return function(){var b=T.slice();return b.push.apply(b,arguments),f.apply(this,b)}}function g(f,_){function T(){}T.prototype=_.prototype,f.Z=_.prototype,f.prototype=new T,f.prototype.constructor=f,f.Ob=function(b,G,Z){for(var ge=Array(arguments.length-2),Fe=2;Fe<arguments.length;Fe++)ge[Fe-2]=arguments[Fe];return _.prototype[G].apply(b,ge)}}var v=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?f=>f&&AsyncContext.Snapshot.wrap(f):f=>f;function E(f){const _=f.length;if(_>0){const T=Array(_);for(let b=0;b<_;b++)T[b]=f[b];return T}return[]}function R(f,_){for(let b=1;b<arguments.length;b++){const G=arguments[b];var T=typeof G;if(T=T!="object"?T:G?Array.isArray(G)?"array":T:"null",T=="array"||T=="object"&&typeof G.length=="number"){T=f.length||0;const Z=G.length||0;f.length=T+Z;for(let ge=0;ge<Z;ge++)f[T+ge]=G[ge]}else f.push(G)}}class k{constructor(_,T){this.i=_,this.j=T,this.h=0,this.g=null}get(){let _;return this.h>0?(this.h--,_=this.g,this.g=_.next,_.next=null):_=this.i(),_}}function A(f){a.setTimeout(()=>{throw f},0)}function j(){var f=C;let _=null;return f.g&&(_=f.g,f.g=f.g.next,f.g||(f.h=null),_.next=null),_}class O{constructor(){this.h=this.g=null}add(_,T){const b=F.get();b.set(_,T),this.h?this.h.next=b:this.g=b,this.h=b}}var F=new k(()=>new z,f=>f.reset());class z{constructor(){this.next=this.g=this.h=null}set(_,T){this.h=_,this.g=T,this.next=null}reset(){this.next=this.g=this.h=null}}let te,Y=!1,C=new O,S=()=>{const f=Promise.resolve(void 0);te=()=>{f.then(D)}};function D(){for(var f;f=j();){try{f.h.call(f.g)}catch(T){A(T)}var _=F;_.j(f),_.h<100&&(_.h++,f.next=_.g,_.g=f)}Y=!1}function L(){this.u=this.u,this.C=this.C}L.prototype.u=!1,L.prototype.dispose=function(){this.u||(this.u=!0,this.N())},L.prototype[Symbol.dispose]=function(){this.dispose()},L.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function M(f,_){this.type=f,this.g=this.target=_,this.defaultPrevented=!1}M.prototype.h=function(){this.defaultPrevented=!0};var U=(function(){if(!a.addEventListener||!Object.defineProperty)return!1;var f=!1,_=Object.defineProperty({},"passive",{get:function(){f=!0}});try{const T=()=>{};a.addEventListener("test",T,_),a.removeEventListener("test",T,_)}catch{}return f})();function P(f){return/^[\s\xa0]*$/.test(f)}function X(f,_){M.call(this,f?f.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,f&&this.init(f,_)}g(X,M),X.prototype.init=function(f,_){const T=this.type=f.type,b=f.changedTouches&&f.changedTouches.length?f.changedTouches[0]:null;this.target=f.target||f.srcElement,this.g=_,_=f.relatedTarget,_||(T=="mouseover"?_=f.fromElement:T=="mouseout"&&(_=f.toElement)),this.relatedTarget=_,b?(this.clientX=b.clientX!==void 0?b.clientX:b.pageX,this.clientY=b.clientY!==void 0?b.clientY:b.pageY,this.screenX=b.screenX||0,this.screenY=b.screenY||0):(this.clientX=f.clientX!==void 0?f.clientX:f.pageX,this.clientY=f.clientY!==void 0?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0),this.button=f.button,this.key=f.key||"",this.ctrlKey=f.ctrlKey,this.altKey=f.altKey,this.shiftKey=f.shiftKey,this.metaKey=f.metaKey,this.pointerId=f.pointerId||0,this.pointerType=f.pointerType,this.state=f.state,this.i=f,f.defaultPrevented&&X.Z.h.call(this)},X.prototype.h=function(){X.Z.h.call(this);const f=this.i;f.preventDefault?f.preventDefault():f.returnValue=!1};var se="closure_listenable_"+(Math.random()*1e6|0),oe=0;function ie(f,_,T,b,G){this.listener=f,this.proxy=null,this.src=_,this.type=T,this.capture=!!b,this.ha=G,this.key=++oe,this.da=this.fa=!1}function ee(f){f.da=!0,f.listener=null,f.proxy=null,f.src=null,f.ha=null}function de(f,_,T){for(const b in f)_.call(T,f[b],b,f)}function ne(f,_){for(const T in f)_.call(void 0,f[T],T,f)}function N(f){const _={};for(const T in f)_[T]=f[T];return _}const Q="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function he(f,_){let T,b;for(let G=1;G<arguments.length;G++){b=arguments[G];for(T in b)f[T]=b[T];for(let Z=0;Z<Q.length;Z++)T=Q[Z],Object.prototype.hasOwnProperty.call(b,T)&&(f[T]=b[T])}}function me(f){this.src=f,this.g={},this.h=0}me.prototype.add=function(f,_,T,b,G){const Z=f.toString();f=this.g[Z],f||(f=this.g[Z]=[],this.h++);const ge=Se(f,_,b,G);return ge>-1?(_=f[ge],T||(_.fa=!1)):(_=new ie(_,this.src,Z,!!b,G),_.fa=T,f.push(_)),_};function pe(f,_){const T=_.type;if(T in f.g){var b=f.g[T],G=Array.prototype.indexOf.call(b,_,void 0),Z;(Z=G>=0)&&Array.prototype.splice.call(b,G,1),Z&&(ee(_),f.g[T].length==0&&(delete f.g[T],f.h--))}}function Se(f,_,T,b){for(let G=0;G<f.length;++G){const Z=f[G];if(!Z.da&&Z.listener==_&&Z.capture==!!T&&Z.ha==b)return G}return-1}var Me="closure_lm_"+(Math.random()*1e6|0),Be={};function He(f,_,T,b,G){if(Array.isArray(_)){for(let Z=0;Z<_.length;Z++)He(f,_[Z],T,b,G);return null}return T=is(T),f&&f[se]?f.J(_,T,u(b)?!!b.capture:!1,G):ct(f,_,T,!1,b,G)}function ct(f,_,T,b,G,Z){if(!_)throw Error("Invalid event type");const ge=u(G)?!!G.capture:!!G;let Fe=wi(f);if(Fe||(f[Me]=Fe=new me(f)),T=Fe.add(_,T,b,ge,Z),T.proxy)return T;if(b=Jt(),T.proxy=b,b.src=f,b.listener=T,f.addEventListener)U||(G=ge),G===void 0&&(G=!1),f.addEventListener(_.toString(),b,G);else if(f.attachEvent)f.attachEvent(_r(_.toString()),b);else if(f.addListener&&f.removeListener)f.addListener(b);else throw Error("addEventListener and attachEvent are unavailable.");return T}function Jt(){function f(T){return _.call(f.src,f.listener,T)}const _=La;return f}function rs(f,_,T,b,G){if(Array.isArray(_))for(var Z=0;Z<_.length;Z++)rs(f,_[Z],T,b,G);else b=u(b)?!!b.capture:!!b,T=is(T),f&&f[se]?(f=f.i,Z=String(_).toString(),Z in f.g&&(_=f.g[Z],T=Se(_,T,b,G),T>-1&&(ee(_[T]),Array.prototype.splice.call(_,T,1),_.length==0&&(delete f.g[Z],f.h--)))):f&&(f=wi(f))&&(_=f.g[_.toString()],f=-1,_&&(f=Se(_,T,b,G)),(T=f>-1?_[f]:null)&&Mr(T))}function Mr(f){if(typeof f!="number"&&f&&!f.da){var _=f.src;if(_&&_[se])pe(_.i,f);else{var T=f.type,b=f.proxy;_.removeEventListener?_.removeEventListener(T,b,f.capture):_.detachEvent?_.detachEvent(_r(T),b):_.addListener&&_.removeListener&&_.removeListener(b),(T=wi(_))?(pe(T,f),T.h==0&&(T.src=null,_[Me]=null)):ee(f)}}}function _r(f){return f in Be?Be[f]:Be[f]="on"+f}function La(f,_){if(f.da)f=!0;else{_=new X(_,this);const T=f.listener,b=f.ha||f.src;f.fa&&Mr(f),f=T.call(b,_)}return f}function wi(f){return f=f[Me],f instanceof me?f:null}var Lr="__closure_events_fn_"+(Math.random()*1e9>>>0);function is(f){return typeof f=="function"?f:(f[Lr]||(f[Lr]=function(_){return f.handleEvent(_)}),f[Lr])}function Pt(){L.call(this),this.i=new me(this),this.M=this,this.G=null}g(Pt,L),Pt.prototype[se]=!0,Pt.prototype.removeEventListener=function(f,_,T,b){rs(this,f,_,T,b)};function $e(f,_){var T,b=f.G;if(b)for(T=[];b;b=b.G)T.push(b);if(f=f.M,b=_.type||_,typeof _=="string")_=new M(_,f);else if(_ instanceof M)_.target=_.target||f;else{var G=_;_=new M(b,f),he(_,G)}G=!0;let Z,ge;if(T)for(ge=T.length-1;ge>=0;ge--)Z=_.g=T[ge],G=Gn(Z,b,!0,_)&&G;if(Z=_.g=f,G=Gn(Z,b,!0,_)&&G,G=Gn(Z,b,!1,_)&&G,T)for(ge=0;ge<T.length;ge++)Z=_.g=T[ge],G=Gn(Z,b,!1,_)&&G}Pt.prototype.N=function(){if(Pt.Z.N.call(this),this.i){var f=this.i;for(const _ in f.g){const T=f.g[_];for(let b=0;b<T.length;b++)ee(T[b]);delete f.g[_],f.h--}}this.G=null},Pt.prototype.J=function(f,_,T,b){return this.i.add(String(f),_,!1,T,b)},Pt.prototype.K=function(f,_,T,b){return this.i.add(String(f),_,!0,T,b)};function Gn(f,_,T,b){if(_=f.i.g[String(_)],!_)return!0;_=_.concat();let G=!0;for(let Z=0;Z<_.length;++Z){const ge=_[Z];if(ge&&!ge.da&&ge.capture==T){const Fe=ge.listener,Lt=ge.ha||ge.src;ge.fa&&pe(f.i,ge),G=Fe.call(Lt,b)!==!1&&G}}return G&&!b.defaultPrevented}function Io(f,_){if(typeof f!="function")if(f&&typeof f.handleEvent=="function")f=h(f.handleEvent,f);else throw Error("Invalid listener argument");return Number(_)>2147483647?-1:a.setTimeout(f,_||0)}function Ru(f){f.g=Io(()=>{f.g=null,f.i&&(f.i=!1,Ru(f))},f.l);const _=f.h;f.h=null,f.m.apply(null,_)}class Wd extends L{constructor(_,T){super(),this.m=_,this.l=T,this.h=null,this.i=!1,this.g=null}j(_){this.h=arguments,this.g?this.i=!0:Ru(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ss(f){L.call(this),this.h=f,this.g={}}g(ss,L);var ku=[];function Fa(f){de(f.g,function(_,T){this.g.hasOwnProperty(T)&&Mr(_)},f),f.g={}}ss.prototype.N=function(){ss.Z.N.call(this),Fa(this)},ss.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var os=a.JSON.stringify,Hd=a.JSON.parse,So=class{stringify(f){return a.JSON.stringify(f,void 0)}parse(f){return a.JSON.parse(f,void 0)}};function as(){}function qd(){}var ls={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Ua(){M.call(this,"d")}g(Ua,M);function Du(){M.call(this,"c")}g(Du,M);var Tr={},ja=null;function us(){return ja=ja||new Pt}Tr.Ia="serverreachability";function Ba(f){M.call(this,Tr.Ia,f)}g(Ba,M);function _i(f){const _=us();$e(_,new Ba(_))}Tr.STAT_EVENT="statevent";function Ti(f,_){M.call(this,Tr.STAT_EVENT,f),this.stat=_}g(Ti,M);function Dt(f){const _=us();$e(_,new Ti(_,f))}Tr.Ja="timingevent";function Nu(f,_){M.call(this,Tr.Ja,f),this.size=_}g(Nu,M);function cs(f,_){if(typeof f!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){f()},_)}function ds(){this.g=!0}ds.prototype.ua=function(){this.g=!1};function Gd(f,_,T,b,G,Z){f.info(function(){if(f.g)if(Z){var ge="",Fe=Z.split("&");for(let ot=0;ot<Fe.length;ot++){var Lt=Fe[ot].split("=");if(Lt.length>1){const Ht=Lt[0];Lt=Lt[1];const Zn=Ht.split("_");ge=Zn.length>=2&&Zn[1]=="type"?ge+(Ht+"="+Lt+"&"):ge+(Ht+"=redacted&")}}}else ge=null;else ge=Z;return"XMLHTTP REQ ("+b+") [attempt "+G+"]: "+_+`
`+T+`
`+ge})}function Kd(f,_,T,b,G,Z,ge){f.info(function(){return"XMLHTTP RESP ("+b+") [ attempt "+G+"]: "+_+`
`+T+`
`+Z+" "+ge})}function Fr(f,_,T,b){f.info(function(){return"XMLHTTP TEXT ("+_+"): "+Po(f,T)+(b?" "+b:"")})}function Qd(f,_){f.info(function(){return"TIMEOUT: "+_})}ds.prototype.info=function(){};function Po(f,_){if(!f.g)return _;if(!_)return null;try{const Z=JSON.parse(_);if(Z){for(f=0;f<Z.length;f++)if(Array.isArray(Z[f])){var T=Z[f];if(!(T.length<2)){var b=T[1];if(Array.isArray(b)&&!(b.length<1)){var G=b[0];if(G!="noop"&&G!="stop"&&G!="close")for(let ge=1;ge<b.length;ge++)b[ge]=""}}}}return os(Z)}catch{return _}}var hs={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},fs={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Yd;function Ei(){}g(Ei,as),Ei.prototype.g=function(){return new XMLHttpRequest},Yd=new Ei;function Ur(f){return encodeURIComponent(String(f))}function $a(f){var _=1;f=f.split(":");const T=[];for(;_>0&&f.length;)T.push(f.shift()),_--;return f.length&&T.push(f.join(":")),T}function ur(f,_,T,b){this.j=f,this.i=_,this.l=T,this.S=b||1,this.V=new ss(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Xd}function Xd(){this.i=null,this.g="",this.h=!1}var Jd={},Vu={};function Er(f,_,T){f.M=1,f.A=Si(cr(_)),f.u=T,f.R=!0,Ou(f,null)}function Ou(f,_){f.F=Date.now(),Co(f),f.B=cr(f.A);var T=f.B,b=f.S;Array.isArray(b)||(b=[String(b)]),Hu(T.i,"t",b),f.C=0,T=f.j.L,f.h=new Xd,f.g=lh(f.j,T?_:null,!f.u),f.P>0&&(f.O=new Wd(h(f.Y,f,f.g),f.P)),_=f.V,T=f.g,b=f.ba;var G="readystatechange";Array.isArray(G)||(G&&(ku[0]=G.toString()),G=ku);for(let Z=0;Z<G.length;Z++){const ge=He(T,G[Z],b||_.handleEvent,!1,_.h||_);if(!ge)break;_.g[ge.key]=ge}_=f.J?N(f.J):{},f.u?(f.v||(f.v="POST"),_["Content-Type"]="application/x-www-form-urlencoded",f.g.ea(f.B,f.v,f.u,_)):(f.v="GET",f.g.ea(f.B,f.v,null,_)),_i(),Gd(f.i,f.v,f.B,f.l,f.S,f.u)}ur.prototype.ba=function(f){f=f.target;const _=this.O;_&&qr(f)==3?_.j():this.Y(f)},ur.prototype.Y=function(f){try{if(f==this.g)e:{const Fe=qr(this.g),Lt=this.g.ya(),ot=this.g.ca();if(!(Fe<3)&&(Fe!=3||this.g&&(this.h.h||this.g.la()||oh(this.g)))){this.K||Fe!=4||Lt==7||(Lt==8||ot<=0?_i(3):_i(2)),za(this);var _=this.g.ca();this.X=_;var T=Zd(this);if(this.o=_==200,Kd(this.i,this.v,this.B,this.l,this.S,Fe,_),this.o){if(this.U&&!this.L){t:{if(this.g){var b,G=this.g;if((b=G.g?G.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!P(b)){var Z=b;break t}}Z=null}if(f=Z)Fr(this.i,this.l,f,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,yt(this,f);else{this.o=!1,this.m=3,Dt(12),Ii(this),Ao(this);break e}}if(this.R){f=!0;let Ht;for(;!this.K&&this.C<T.length;)if(Ht=th(this,T),Ht==Vu){Fe==4&&(this.m=4,Dt(14),f=!1),Fr(this.i,this.l,null,"[Incomplete Response]");break}else if(Ht==Jd){this.m=4,Dt(15),Fr(this.i,this.l,T,"[Invalid Chunk]"),f=!1;break}else Fr(this.i,this.l,Ht,null),yt(this,Ht);if(eh(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Fe!=4||T.length!=0||this.h.h||(this.m=1,Dt(16),f=!1),this.o=this.o&&f,!f)Fr(this.i,this.l,T,"[Invalid Chunked Response]"),Ii(this),Ao(this);else if(T.length>0&&!this.W){this.W=!0;var ge=this.j;ge.g==this&&ge.aa&&!ge.P&&(ge.j.info("Great, no buffering proxy detected. Bytes received: "+T.length),Mo(ge),ge.P=!0,Dt(11))}}else Fr(this.i,this.l,T,null),yt(this,T);Fe==4&&Ii(this),this.o&&!this.K&&(Fe==4?Za(this.j,this):(this.o=!1,Co(this)))}else Gu(this.g),_==400&&T.indexOf("Unknown SID")>0?(this.m=3,Dt(12)):(this.m=0,Dt(13)),Ii(this),Ao(this)}}}catch{}};function Zd(f){if(!eh(f))return f.g.la();const _=oh(f.g);if(_==="")return"";let T="";const b=_.length,G=qr(f.g)==4;if(!f.h.i){if(typeof TextDecoder>"u")return Ii(f),Ao(f),"";f.h.i=new a.TextDecoder}for(let Z=0;Z<b;Z++)f.h.h=!0,T+=f.h.i.decode(_[Z],{stream:!(G&&Z==b-1)});return _.length=0,f.h.g+=T,f.C=0,f.h.g}function eh(f){return f.g?f.v=="GET"&&f.M!=2&&f.j.Aa:!1}function th(f,_){var T=f.C,b=_.indexOf(`
`,T);return b==-1?Vu:(T=Number(_.substring(T,b)),isNaN(T)?Jd:(b+=1,b+T>_.length?Vu:(_=_.slice(b,b+T),f.C=b+T,_)))}ur.prototype.cancel=function(){this.K=!0,Ii(this)};function Co(f){f.T=Date.now()+f.H,Mu(f,f.H)}function Mu(f,_){if(f.D!=null)throw Error("WatchDog timer not null");f.D=cs(h(f.aa,f),_)}function za(f){f.D&&(a.clearTimeout(f.D),f.D=null)}ur.prototype.aa=function(){this.D=null;const f=Date.now();f-this.T>=0?(Qd(this.i,this.B),this.M!=2&&(_i(),Dt(17)),Ii(this),this.m=2,Ao(this)):Mu(this,this.T-f)};function Ao(f){f.j.I==0||f.K||Za(f.j,f)}function Ii(f){za(f);var _=f.O;_&&typeof _.dispose=="function"&&_.dispose(),f.O=null,Fa(f.V),f.g&&(_=f.g,f.g=null,_.abort(),_.dispose())}function yt(f,_){try{var T=f.j;if(T.I!=0&&(T.g==f||Fu(T.h,f))){if(!f.L&&Fu(T.h,f)&&T.I==3){try{var b=T.Ba.g.parse(_)}catch{b=null}if(Array.isArray(b)&&b.length==3){var G=b;if(G[0]==0){e:if(!T.v){if(T.g)if(T.g.F+3e3<f.F)Ja(T),Xn(T);else break e;Qr(T),Dt(18)}}else T.xa=G[1],0<T.xa-T.K&&G[2]<37500&&T.F&&T.A==0&&!T.C&&(T.C=cs(h(T.Va,T),6e3));bo(T.h)<=1&&T.ta&&(T.ta=void 0)}else Jn(T,11)}else if((f.L||T.g==f)&&Ja(T),!P(_))for(G=T.Ba.g.parse(_),_=0;_<G.length;_++){let ot=G[_];const Ht=ot[0];if(!(Ht<=T.K))if(T.K=Ht,ot=ot[1],T.I==2)if(ot[0]=="c"){T.M=ot[1],T.ba=ot[2];const Zn=ot[3];Zn!=null&&(T.ka=Zn,T.j.info("VER="+T.ka));const xi=ot[4];xi!=null&&(T.za=xi,T.j.info("SVER="+T.za));const Yr=ot[5];Yr!=null&&typeof Yr=="number"&&Yr>0&&(b=1.5*Yr,T.O=b,T.j.info("backChannelRequestTimeoutMs_="+b)),b=T;const Xr=f.g;if(Xr){const nl=Xr.g?Xr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(nl){var Z=b.h;Z.g||nl.indexOf("spdy")==-1&&nl.indexOf("quic")==-1&&nl.indexOf("h2")==-1||(Z.j=Z.l,Z.g=new Set,Z.h&&(Ha(Z,Z.h),Z.h=null))}if(b.G){const Yu=Xr.g?Xr.g.getResponseHeader("X-HTTP-Session-Id"):null;Yu&&(b.wa=Yu,rt(b.J,b.G,Yu))}}T.I=3,T.l&&T.l.ra(),T.aa&&(T.T=Date.now()-f.F,T.j.info("Handshake RTT: "+T.T+"ms")),b=T;var ge=f;if(b.na=Qu(b,b.L?b.ba:null,b.W),ge.L){xo(b.h,ge);var Fe=ge,Lt=b.O;Lt&&(Fe.H=Lt),Fe.D&&(za(Fe),Co(Fe)),b.g=ge}else yn(b);T.i.length>0&&bi(T)}else ot[0]!="stop"&&ot[0]!="close"||Jn(T,7);else T.I==3&&(ot[0]=="stop"||ot[0]=="close"?ot[0]=="stop"?Jn(T,7):Ya(T):ot[0]!="noop"&&T.l&&T.l.qa(ot),T.A=0)}}_i(4)}catch{}}var bm=class{constructor(f,_){this.g=f,this.map=_}};function Wa(f){this.l=f||10,a.PerformanceNavigationTiming?(f=a.performance.getEntriesByType("navigation"),f=f.length>0&&(f[0].nextHopProtocol=="hq"||f[0].nextHopProtocol=="h2")):f=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=f?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Lu(f){return f.h?!0:f.g?f.g.size>=f.j:!1}function bo(f){return f.h?1:f.g?f.g.size:0}function Fu(f,_){return f.h?f.h==_:f.g?f.g.has(_):!1}function Ha(f,_){f.g?f.g.add(_):f.h=_}function xo(f,_){f.h&&f.h==_?f.h=null:f.g&&f.g.has(_)&&f.g.delete(_)}Wa.prototype.cancel=function(){if(this.i=Kn(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const f of this.g.values())f.cancel();this.g.clear()}};function Kn(f){if(f.h!=null)return f.i.concat(f.h.G);if(f.g!=null&&f.g.size!==0){let _=f.i;for(const T of f.g.values())_=_.concat(T.G);return _}return E(f.i)}var nh=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Qn(f,_){if(f){f=f.split("&");for(let T=0;T<f.length;T++){const b=f[T].indexOf("=");let G,Z=null;b>=0?(G=f[T].substring(0,b),Z=f[T].substring(b+1)):G=f[T],_(G,Z?decodeURIComponent(Z.replace(/\+/g," ")):"")}}}function jr(f){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let _;f instanceof jr?(this.l=f.l,Ro(this,f.j),this.o=f.o,this.g=f.g,Br(this,f.u),this.h=f.h,ps(this,qu(f.i)),this.m=f.m):f&&(_=String(f).match(nh))?(this.l=!1,Ro(this,_[1]||"",!0),this.o=ko(_[2]||""),this.g=ko(_[3]||"",!0),Br(this,_[4]),this.h=ko(_[5]||"",!0),ps(this,_[6]||"",!0),this.m=ko(_[7]||"")):(this.l=!1,this.i=new Ke(null,this.l))}jr.prototype.toString=function(){const f=[];var _=this.j;_&&f.push(Do(_,ju,!0),":");var T=this.g;return(T||_=="file")&&(f.push("//"),(_=this.o)&&f.push(Do(_,ju,!0),"@"),f.push(Ur(T).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),T=this.u,T!=null&&f.push(":",String(T))),(T=this.h)&&(this.g&&T.charAt(0)!="/"&&f.push("/"),f.push(Do(T,T.charAt(0)=="/"?No:Bu,!0))),(T=this.i.toString())&&f.push("?",T),(T=this.m)&&f.push("#",Do(T,$u)),f.join("")},jr.prototype.resolve=function(f){const _=cr(this);let T=!!f.j;T?Ro(_,f.j):T=!!f.o,T?_.o=f.o:T=!!f.g,T?_.g=f.g:T=f.u!=null;var b=f.h;if(T)Br(_,f.u);else if(T=!!f.h){if(b.charAt(0)!="/")if(this.g&&!this.h)b="/"+b;else{var G=_.h.lastIndexOf("/");G!=-1&&(b=_.h.slice(0,G+1)+b)}if(G=b,G==".."||G==".")b="";else if(G.indexOf("./")!=-1||G.indexOf("/.")!=-1){b=G.lastIndexOf("/",0)==0,G=G.split("/");const Z=[];for(let ge=0;ge<G.length;){const Fe=G[ge++];Fe=="."?b&&ge==G.length&&Z.push(""):Fe==".."?((Z.length>1||Z.length==1&&Z[0]!="")&&Z.pop(),b&&ge==G.length&&Z.push("")):(Z.push(Fe),b=!0)}b=Z.join("/")}else b=G}return T?_.h=b:T=f.i.toString()!=="",T?ps(_,qu(f.i)):T=!!f.m,T&&(_.m=f.m),_};function cr(f){return new jr(f)}function Ro(f,_,T){f.j=T?ko(_,!0):_,f.j&&(f.j=f.j.replace(/:$/,""))}function Br(f,_){if(_){if(_=Number(_),isNaN(_)||_<0)throw Error("Bad port number "+_);f.u=_}else f.u=null}function ps(f,_,T){_ instanceof Ke?(f.i=_,Ga(f.i,f.l)):(T||(_=Do(_,xm)),f.i=new Ke(_,f.l))}function rt(f,_,T){f.i.set(_,T)}function Si(f){return rt(f,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),f}function ko(f,_){return f?_?decodeURI(f.replace(/%25/g,"%2525")):decodeURIComponent(f):""}function Do(f,_,T){return typeof f=="string"?(f=encodeURI(f).replace(_,Uu),T&&(f=f.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f):null}function Uu(f){return f=f.charCodeAt(0),"%"+(f>>4&15).toString(16)+(f&15).toString(16)}var ju=/[#\/\?@]/g,Bu=/[#\?:]/g,No=/[#\?]/g,xm=/[#\?@]/g,$u=/#/g;function Ke(f,_){this.h=this.g=null,this.i=f||null,this.j=!!_}function $r(f){f.g||(f.g=new Map,f.h=0,f.i&&Qn(f.i,function(_,T){f.add(decodeURIComponent(_.replace(/\+/g," ")),T)}))}n=Ke.prototype,n.add=function(f,_){$r(this),this.i=null,f=zr(this,f);let T=this.g.get(f);return T||this.g.set(f,T=[]),T.push(_),this.h+=1,this};function zu(f,_){$r(f),_=zr(f,_),f.g.has(_)&&(f.i=null,f.h-=f.g.get(_).length,f.g.delete(_))}function qa(f,_){return $r(f),_=zr(f,_),f.g.has(_)}n.forEach=function(f,_){$r(this),this.g.forEach(function(T,b){T.forEach(function(G){f.call(_,G,b,this)},this)},this)};function Wu(f,_){$r(f);let T=[];if(typeof _=="string")qa(f,_)&&(T=T.concat(f.g.get(zr(f,_))));else for(f=Array.from(f.g.values()),_=0;_<f.length;_++)T=T.concat(f[_]);return T}n.set=function(f,_){return $r(this),this.i=null,f=zr(this,f),qa(this,f)&&(this.h-=this.g.get(f).length),this.g.set(f,[_]),this.h+=1,this},n.get=function(f,_){return f?(f=Wu(this,f),f.length>0?String(f[0]):_):_};function Hu(f,_,T){zu(f,_),T.length>0&&(f.i=null,f.g.set(zr(f,_),E(T)),f.h+=T.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const f=[],_=Array.from(this.g.keys());for(let b=0;b<_.length;b++){var T=_[b];const G=Ur(T);T=Wu(this,T);for(let Z=0;Z<T.length;Z++){let ge=G;T[Z]!==""&&(ge+="="+Ur(T[Z])),f.push(ge)}}return this.i=f.join("&")};function qu(f){const _=new Ke;return _.i=f.i,f.g&&(_.g=new Map(f.g),_.h=f.h),_}function zr(f,_){return _=String(_),f.j&&(_=_.toLowerCase()),_}function Ga(f,_){_&&!f.j&&($r(f),f.i=null,f.g.forEach(function(T,b){const G=b.toLowerCase();b!=G&&(zu(this,b),Hu(this,G,T))},f)),f.j=_}function Wr(f,_){const T=new ds;if(a.Image){const b=new Image;b.onload=m(dn,T,"TestLoadImage: loaded",!0,_,b),b.onerror=m(dn,T,"TestLoadImage: error",!1,_,b),b.onabort=m(dn,T,"TestLoadImage: abort",!1,_,b),b.ontimeout=m(dn,T,"TestLoadImage: timeout",!1,_,b),a.setTimeout(function(){b.ontimeout&&b.ontimeout()},1e4),b.src=f}else _(!1)}function Hr(f,_){const T=new ds,b=new AbortController,G=setTimeout(()=>{b.abort(),dn(T,"TestPingServer: timeout",!1,_)},1e4);fetch(f,{signal:b.signal}).then(Z=>{clearTimeout(G),Z.ok?dn(T,"TestPingServer: ok",!0,_):dn(T,"TestPingServer: server error",!1,_)}).catch(()=>{clearTimeout(G),dn(T,"TestPingServer: error",!1,_)})}function dn(f,_,T,b,G){try{G&&(G.onload=null,G.onerror=null,G.onabort=null,G.ontimeout=null),b(T)}catch{}}function Vo(){this.g=new So}function Pi(f){this.i=f.Sb||null,this.h=f.ab||!1}g(Pi,as),Pi.prototype.g=function(){return new Yn(this.i,this.h)};function Yn(f,_){Pt.call(this),this.H=f,this.o=_,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}g(Yn,Pt),n=Yn.prototype,n.open=function(f,_){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=f,this.D=_,this.readyState=1,Ir(this)},n.send=function(f){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const _={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};f&&(_.body=f),(this.H||a).fetch(new Request(this.D,_)).then(this.Pa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,ms(this)),this.readyState=0},n.Pa=function(f){if(this.g&&(this.l=f,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=f.headers,this.readyState=2,Ir(this)),this.g&&(this.readyState=3,Ir(this),this.g)))if(this.responseType==="arraybuffer")f.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in f){if(this.j=f.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;rh(this)}else f.text().then(this.Oa.bind(this),this.ga.bind(this))};function rh(f){f.j.read().then(f.Ma.bind(f)).catch(f.ga.bind(f))}n.Ma=function(f){if(this.g){if(this.o&&f.value)this.response.push(f.value);else if(!this.o){var _=f.value?f.value:new Uint8Array(0);(_=this.B.decode(_,{stream:!f.done}))&&(this.response=this.responseText+=_)}f.done?ms(this):Ir(this),this.readyState==3&&rh(this)}},n.Oa=function(f){this.g&&(this.response=this.responseText=f,ms(this))},n.Na=function(f){this.g&&(this.response=f,ms(this))},n.ga=function(){this.g&&ms(this)};function ms(f){f.readyState=4,f.l=null,f.j=null,f.B=null,Ir(f)}n.setRequestHeader=function(f,_){this.A.append(f,_)},n.getResponseHeader=function(f){return this.h&&this.h.get(f.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const f=[],_=this.h.entries();for(var T=_.next();!T.done;)T=T.value,f.push(T[0]+": "+T[1]),T=_.next();return f.join(`\r
`)};function Ir(f){f.onreadystatechange&&f.onreadystatechange.call(f)}Object.defineProperty(Yn.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(f){this.m=f?"include":"same-origin"}});function ih(f){let _="";return de(f,function(T,b){_+=b,_+=":",_+=T,_+=`\r
`}),_}function Ka(f,_,T){e:{for(b in T){var b=!1;break e}b=!0}b||(T=ih(T),typeof f=="string"?T!=null&&Ur(T):rt(f,_,T))}function ht(f){Pt.call(this),this.headers=new Map,this.L=f||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}g(ht,Pt);var sh=/^https?$/i,Rm=["POST","PUT"];n=ht.prototype,n.Fa=function(f){this.H=f},n.ea=function(f,_,T,b){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+f);_=_?_.toUpperCase():"GET",this.D=f,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Yd.g(),this.g.onreadystatechange=v(h(this.Ca,this));try{this.B=!0,this.g.open(_,String(f),!0),this.B=!1}catch(Z){gs(this,Z);return}if(f=T||"",T=new Map(this.headers),b)if(Object.getPrototypeOf(b)===Object.prototype)for(var G in b)T.set(G,b[G]);else if(typeof b.keys=="function"&&typeof b.get=="function")for(const Z of b.keys())T.set(Z,b.get(Z));else throw Error("Unknown input type for opt_headers: "+String(b));b=Array.from(T.keys()).find(Z=>Z.toLowerCase()=="content-type"),G=a.FormData&&f instanceof a.FormData,!(Array.prototype.indexOf.call(Rm,_,void 0)>=0)||b||G||T.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Z,ge]of T)this.g.setRequestHeader(Z,ge);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(f),this.v=!1}catch(Z){gs(this,Z)}};function gs(f,_){f.h=!1,f.g&&(f.j=!0,f.g.abort(),f.j=!1),f.l=_,f.o=5,ys(f),Ai(f)}function ys(f){f.A||(f.A=!0,$e(f,"complete"),$e(f,"error"))}n.abort=function(f){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=f||7,$e(this,"complete"),$e(this,"abort"),Ai(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ai(this,!0)),ht.Z.N.call(this)},n.Ca=function(){this.u||(this.B||this.v||this.j?Ci(this):this.Xa())},n.Xa=function(){Ci(this)};function Ci(f){if(f.h&&typeof s<"u"){if(f.v&&qr(f)==4)setTimeout(f.Ca.bind(f),0);else if($e(f,"readystatechange"),qr(f)==4){f.h=!1;try{const Z=f.ca();e:switch(Z){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var _=!0;break e;default:_=!1}var T;if(!(T=_)){var b;if(b=Z===0){let ge=String(f.D).match(nh)[1]||null;!ge&&a.self&&a.self.location&&(ge=a.self.location.protocol.slice(0,-1)),b=!sh.test(ge?ge.toLowerCase():"")}T=b}if(T)$e(f,"complete"),$e(f,"success");else{f.o=6;try{var G=qr(f)>2?f.g.statusText:""}catch{G=""}f.l=G+" ["+f.ca()+"]",ys(f)}}finally{Ai(f)}}}}function Ai(f,_){if(f.g){f.m&&(clearTimeout(f.m),f.m=null);const T=f.g;f.g=null,_||$e(f,"ready");try{T.onreadystatechange=null}catch{}}}n.isActive=function(){return!!this.g};function qr(f){return f.g?f.g.readyState:0}n.ca=function(){try{return qr(this)>2?this.g.status:-1}catch{return-1}},n.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.La=function(f){if(this.g){var _=this.g.responseText;return f&&_.indexOf(f)==0&&(_=_.substring(f.length)),Hd(_)}};function oh(f){try{if(!f.g)return null;if("response"in f.g)return f.g.response;switch(f.F){case"":case"text":return f.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in f.g)return f.g.mozResponseArrayBuffer}return null}catch{return null}}function Gu(f){const _={};f=(f.g&&qr(f)>=2&&f.g.getAllResponseHeaders()||"").split(`\r
`);for(let b=0;b<f.length;b++){if(P(f[b]))continue;var T=$a(f[b]);const G=T[0];if(T=T[1],typeof T!="string")continue;T=T.trim();const Z=_[G]||[];_[G]=Z,Z.push(T)}ne(_,function(b){return b.join(", ")})}n.ya=function(){return this.o},n.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Gr(f,_,T){return T&&T.internalChannelParams&&T.internalChannelParams[f]||_}function Qa(f){this.za=0,this.i=[],this.j=new ds,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Gr("failFast",!1,f),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Gr("baseRetryDelayMs",5e3,f),this.Za=Gr("retryDelaySeedMs",1e4,f),this.Ta=Gr("forwardChannelMaxRetries",2,f),this.va=Gr("forwardChannelRequestTimeoutMs",2e4,f),this.ma=f&&f.xmlHttpFactory||void 0,this.Ua=f&&f.Rb||void 0,this.Aa=f&&f.useFetchStreams||!1,this.O=void 0,this.L=f&&f.supportsCrossDomainXhr||!1,this.M="",this.h=new Wa(f&&f.concurrentRequestLimit),this.Ba=new Vo,this.S=f&&f.fastHandshake||!1,this.R=f&&f.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=f&&f.Pb||!1,f&&f.ua&&this.j.ua(),f&&f.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&f&&f.detectBufferingProxy||!1,this.ia=void 0,f&&f.longPollingTimeout&&f.longPollingTimeout>0&&(this.ia=f.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}n=Qa.prototype,n.ka=8,n.I=1,n.connect=function(f,_,T,b){Dt(0),this.W=f,this.H=_||{},T&&b!==void 0&&(this.H.OSID=T,this.H.OAID=b),this.F=this.X,this.J=Qu(this,null,this.W),bi(this)};function Ya(f){if(Xa(f),f.I==3){var _=f.V++,T=cr(f.J);if(rt(T,"SID",f.M),rt(T,"RID",_),rt(T,"TYPE","terminate"),Kr(f,T),_=new ur(f,f.j,_),_.M=2,_.A=Si(cr(T)),T=!1,a.navigator&&a.navigator.sendBeacon)try{T=a.navigator.sendBeacon(_.A.toString(),"")}catch{}!T&&a.Image&&(new Image().src=_.A,T=!0),T||(_.g=lh(_.j,null),_.g.ea(_.A)),_.F=Date.now(),Co(_)}Lo(f)}function Xn(f){f.g&&(Mo(f),f.g.cancel(),f.g=null)}function Xa(f){Xn(f),f.v&&(a.clearTimeout(f.v),f.v=null),Ja(f),f.h.cancel(),f.m&&(typeof f.m=="number"&&a.clearTimeout(f.m),f.m=null)}function bi(f){if(!Lu(f.h)&&!f.m){f.m=!0;var _=f.Ea;te||S(),Y||(te(),Y=!0),C.add(_,f),f.D=0}}function ah(f,_){return bo(f.h)>=f.h.j-(f.m?1:0)?!1:f.m?(f.i=_.G.concat(f.i),!0):f.I==1||f.I==2||f.D>=(f.Sa?0:f.Ta)?!1:(f.m=cs(h(f.Ea,f,_),el(f,f.D)),f.D++,!0)}n.Ea=function(f){if(this.m)if(this.m=null,this.I==1){if(!f){this.V=Math.floor(Math.random()*1e5),f=this.V++;const G=new ur(this,this.j,f);let Z=this.o;if(this.U&&(Z?(Z=N(Z),he(Z,this.U)):Z=this.U),this.u!==null||this.R||(G.J=Z,Z=null),this.S)e:{for(var _=0,T=0;T<this.i.length;T++){t:{var b=this.i[T];if("__data__"in b.map&&(b=b.map.__data__,typeof b=="string")){b=b.length;break t}b=void 0}if(b===void 0)break;if(_+=b,_>4096){_=T;break e}if(_===4096||T===this.i.length-1){_=T+1;break e}}_=1e3}else _=1e3;_=Ku(this,G,_),T=cr(this.J),rt(T,"RID",f),rt(T,"CVER",22),this.G&&rt(T,"X-HTTP-Session-Id",this.G),Kr(this,T),Z&&(this.R?_="headers="+Ur(ih(Z))+"&"+_:this.u&&Ka(T,this.u,Z)),Ha(this.h,G),this.Ra&&rt(T,"TYPE","init"),this.S?(rt(T,"$req",_),rt(T,"SID","null"),G.U=!0,Er(G,T,null)):Er(G,T,_),this.I=2}}else this.I==3&&(f?Oo(this,f):this.i.length==0||Lu(this.h)||Oo(this))};function Oo(f,_){var T;_?T=_.l:T=f.V++;const b=cr(f.J);rt(b,"SID",f.M),rt(b,"RID",T),rt(b,"AID",f.K),Kr(f,b),f.u&&f.o&&Ka(b,f.u,f.o),T=new ur(f,f.j,T,f.D+1),f.u===null&&(T.J=f.o),_&&(f.i=_.G.concat(f.i)),_=Ku(f,T,1e3),T.H=Math.round(f.va*.5)+Math.round(f.va*.5*Math.random()),Ha(f.h,T),Er(T,b,_)}function Kr(f,_){f.H&&de(f.H,function(T,b){rt(_,b,T)}),f.l&&de({},function(T,b){rt(_,b,T)})}function Ku(f,_,T){T=Math.min(f.i.length,T);const b=f.l?h(f.l.Ka,f.l,f):null;e:{var G=f.i;let Fe=-1;for(;;){const Lt=["count="+T];Fe==-1?T>0?(Fe=G[0].g,Lt.push("ofs="+Fe)):Fe=0:Lt.push("ofs="+Fe);let ot=!0;for(let Ht=0;Ht<T;Ht++){var Z=G[Ht].g;const Zn=G[Ht].map;if(Z-=Fe,Z<0)Fe=Math.max(0,G[Ht].g-100),ot=!1;else try{Z="req"+Z+"_"||"";try{var ge=Zn instanceof Map?Zn:Object.entries(Zn);for(const[xi,Yr]of ge){let Xr=Yr;u(Yr)&&(Xr=os(Yr)),Lt.push(Z+xi+"="+encodeURIComponent(Xr))}}catch(xi){throw Lt.push(Z+"type="+encodeURIComponent("_badmap")),xi}}catch{b&&b(Zn)}}if(ot){ge=Lt.join("&");break e}}ge=void 0}return f=f.i.splice(0,T),_.G=f,ge}function yn(f){if(!f.g&&!f.v){f.Y=1;var _=f.Da;te||S(),Y||(te(),Y=!0),C.add(_,f),f.A=0}}function Qr(f){return f.g||f.v||f.A>=3?!1:(f.Y++,f.v=cs(h(f.Da,f),el(f,f.A)),f.A++,!0)}n.Da=function(){if(this.v=null,vs(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var f=4*this.T;this.j.info("BP detection timer enabled: "+f),this.B=cs(h(this.Wa,this),f)}},n.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Dt(10),Xn(this),vs(this))};function Mo(f){f.B!=null&&(a.clearTimeout(f.B),f.B=null)}function vs(f){f.g=new ur(f,f.j,"rpc",f.Y),f.u===null&&(f.g.J=f.o),f.g.P=0;var _=cr(f.na);rt(_,"RID","rpc"),rt(_,"SID",f.M),rt(_,"AID",f.K),rt(_,"CI",f.F?"0":"1"),!f.F&&f.ia&&rt(_,"TO",f.ia),rt(_,"TYPE","xmlhttp"),Kr(f,_),f.u&&f.o&&Ka(_,f.u,f.o),f.O&&(f.g.H=f.O);var T=f.g;f=f.ba,T.M=1,T.A=Si(cr(_)),T.u=null,T.R=!0,Ou(T,f)}n.Va=function(){this.C!=null&&(this.C=null,Xn(this),Qr(this),Dt(19))};function Ja(f){f.C!=null&&(a.clearTimeout(f.C),f.C=null)}function Za(f,_){var T=null;if(f.g==_){Ja(f),Mo(f),f.g=null;var b=2}else if(Fu(f.h,_))T=_.G,xo(f.h,_),b=1;else return;if(f.I!=0){if(_.o)if(b==1){T=_.u?_.u.length:0,_=Date.now()-_.F;var G=f.D;b=us(),$e(b,new Nu(b,T)),bi(f)}else yn(f);else if(G=_.m,G==3||G==0&&_.X>0||!(b==1&&ah(f,_)||b==2&&Qr(f)))switch(T&&T.length>0&&(_=f.h,_.i=_.i.concat(T)),G){case 1:Jn(f,5);break;case 4:Jn(f,10);break;case 3:Jn(f,6);break;default:Jn(f,2)}}}function el(f,_){let T=f.Qa+Math.floor(Math.random()*f.Za);return f.isActive()||(T*=2),T*_}function Jn(f,_){if(f.j.info("Error code "+_),_==2){var T=h(f.bb,f),b=f.Ua;const G=!b;b=new jr(b||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Ro(b,"https"),Si(b),G?Wr(b.toString(),T):Hr(b.toString(),T)}else Dt(2);f.I=0,f.l&&f.l.pa(_),Lo(f),Xa(f)}n.bb=function(f){f?(this.j.info("Successfully pinged google.com"),Dt(2)):(this.j.info("Failed to ping google.com"),Dt(1))};function Lo(f){if(f.I=0,f.ja=[],f.l){const _=Kn(f.h);(_.length!=0||f.i.length!=0)&&(R(f.ja,_),R(f.ja,f.i),f.h.i.length=0,E(f.i),f.i.length=0),f.l.oa()}}function Qu(f,_,T){var b=T instanceof jr?cr(T):new jr(T);if(b.g!="")_&&(b.g=_+"."+b.g),Br(b,b.u);else{var G=a.location;b=G.protocol,_=_?_+"."+G.hostname:G.hostname,G=+G.port;const Z=new jr(null);b&&Ro(Z,b),_&&(Z.g=_),G&&Br(Z,G),T&&(Z.h=T),b=Z}return T=f.G,_=f.wa,T&&_&&rt(b,T,_),rt(b,"VER",f.ka),Kr(f,b),b}function lh(f,_,T){if(_&&!f.L)throw Error("Can't create secondary domain capable XhrIo object.");return _=f.Aa&&!f.ma?new ht(new Pi({ab:T})):new ht(f.ma),_.Fa(f.L),_}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function uh(){}n=uh.prototype,n.ra=function(){},n.qa=function(){},n.pa=function(){},n.oa=function(){},n.isActive=function(){return!0},n.Ka=function(){};function tl(){}tl.prototype.g=function(f,_){return new hn(f,_)};function hn(f,_){Pt.call(this),this.g=new Qa(_),this.l=f,this.h=_&&_.messageUrlParams||null,f=_&&_.messageHeaders||null,_&&_.clientProtocolHeaderRequired&&(f?f["X-Client-Protocol"]="webchannel":f={"X-Client-Protocol":"webchannel"}),this.g.o=f,f=_&&_.initMessageHeaders||null,_&&_.messageContentType&&(f?f["X-WebChannel-Content-Type"]=_.messageContentType:f={"X-WebChannel-Content-Type":_.messageContentType}),_&&_.sa&&(f?f["X-WebChannel-Client-Profile"]=_.sa:f={"X-WebChannel-Client-Profile":_.sa}),this.g.U=f,(f=_&&_.Qb)&&!P(f)&&(this.g.u=f),this.A=_&&_.supportsCrossDomainXhr||!1,this.v=_&&_.sendRawJson||!1,(_=_&&_.httpSessionIdParam)&&!P(_)&&(this.g.G=_,f=this.h,f!==null&&_ in f&&(f=this.h,_ in f&&delete f[_])),this.j=new ws(this)}g(hn,Pt),hn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},hn.prototype.close=function(){Ya(this.g)},hn.prototype.o=function(f){var _=this.g;if(typeof f=="string"){var T={};T.__data__=f,f=T}else this.v&&(T={},T.__data__=os(f),f=T);_.i.push(new bm(_.Ya++,f)),_.I==3&&bi(_)},hn.prototype.N=function(){this.g.l=null,delete this.j,Ya(this.g),delete this.g,hn.Z.N.call(this)};function ch(f){Ua.call(this),f.__headers__&&(this.headers=f.__headers__,this.statusCode=f.__status__,delete f.__headers__,delete f.__status__);var _=f.__sm__;if(_){e:{for(const T in _){f=T;break e}f=void 0}(this.i=f)&&(f=this.i,_=_!==null&&f in _?_[f]:void 0),this.data=_}else this.data=f}g(ch,Ua);function dh(){Du.call(this),this.status=1}g(dh,Du);function ws(f){this.g=f}g(ws,uh),ws.prototype.ra=function(){$e(this.g,"a")},ws.prototype.qa=function(f){$e(this.g,new ch(f))},ws.prototype.pa=function(f){$e(this.g,new dh)},ws.prototype.oa=function(){$e(this.g,"b")},tl.prototype.createWebChannel=tl.prototype.g,hn.prototype.send=hn.prototype.o,hn.prototype.open=hn.prototype.m,hn.prototype.close=hn.prototype.close,xC=function(){return new tl},bC=function(){return us()},AC=Tr,Xy={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},hs.NO_ERROR=0,hs.TIMEOUT=8,hs.HTTP_ERROR=6,Sf=hs,fs.COMPLETE="complete",CC=fs,qd.EventType=ls,ls.OPEN="a",ls.CLOSE="b",ls.ERROR="c",ls.MESSAGE="d",Pt.prototype.listen=Pt.prototype.J,Fc=qd,ht.prototype.listenOnce=ht.prototype.K,ht.prototype.getLastError=ht.prototype.Ha,ht.prototype.getLastErrorCode=ht.prototype.ya,ht.prototype.getStatus=ht.prototype.ca,ht.prototype.getResponseJson=ht.prototype.La,ht.prototype.getResponseText=ht.prototype.la,ht.prototype.send=ht.prototype.ea,ht.prototype.setWithCredentials=ht.prototype.Fa,PC=ht}).apply(typeof of<"u"?of:typeof self<"u"?self:typeof window<"u"?window:{});const NE="@firebase/firestore",VE="4.9.3";let cn=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};cn.UNAUTHENTICATED=new cn(null),cn.GOOGLE_CREDENTIALS=new cn("google-credentials-uid"),cn.FIRST_PARTY=new cn("first-party-uid"),cn.MOCK_USER=new cn("mock-user");let Eu="12.7.0";const wa=new lw("@firebase/firestore");function Dl(){return wa.logLevel}function le(n,...e){if(wa.logLevel<=Ge.DEBUG){const t=e.map(dw);wa.debug(`Firestore (${Eu}): ${n}`,...t)}}function Ut(n,...e){if(wa.logLevel<=Ge.ERROR){const t=e.map(dw);wa.error(`Firestore (${Eu}): ${n}`,...t)}}function io(n,...e){if(wa.logLevel<=Ge.WARN){const t=e.map(dw);wa.warn(`Firestore (${Eu}): ${n}`,...t)}}function dw(n){if(typeof n=="string")return n;try{return(function(t){return JSON.stringify(t)})(n)}catch{return n}}function Ie(n,e,t){let r="Unexpected state";typeof e=="string"?r=e:t=e,RC(n,r,t)}function RC(n,e,t){let r=`FIRESTORE (${Eu}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{r+=" CONTEXT: "+JSON.stringify(t)}catch{r+=" CONTEXT: "+t}throw Ut(r),new Error(r)}function xe(n,e,t,r){let i="Unexpected state";typeof t=="string"?i=t:r=t,n||RC(e,i,r)}function Ce(n,e){return n}const re={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ye extends yi{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Nr{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}class kC{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class _O{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(cn.UNAUTHENTICATED)))}shutdown(){}}class TO{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class EO{constructor(e){this.t=e,this.currentUser=cn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){xe(this.o===void 0,42304);let r=this.i;const i=d=>this.i!==r?(r=this.i,t(d)):Promise.resolve();let s=new Nr;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Nr,e.enqueueRetryable((()=>i(this.currentUser)))};const a=()=>{const d=s;e.enqueueRetryable((async()=>{await d.promise,await i(this.currentUser)}))},u=d=>{le("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=d,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit((d=>u(d))),setTimeout((()=>{if(!this.auth){const d=this.t.getImmediate({optional:!0});d?u(d):(le("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Nr)}}),0),a()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((r=>this.i!==e?(le("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(xe(typeof r.accessToken=="string",31837,{l:r}),new kC(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return xe(e===null||typeof e=="string",2055,{h:e}),new cn(e)}}class IO{constructor(e,t,r){this.P=e,this.T=t,this.I=r,this.type="FirstParty",this.user=cn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class SO{constructor(e,t,r){this.P=e,this.T=t,this.I=r}getToken(){return Promise.resolve(new IO(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable((()=>t(cn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class OE{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class PO{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Bn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){xe(this.o===void 0,3512);const r=s=>{s.error!=null&&le("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const a=s.token!==this.m;return this.m=s.token,le("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?t(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable((()=>r(s)))};const i=s=>{le("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((s=>i(s))),setTimeout((()=>{if(!this.appCheck){const s=this.V.getImmediate({optional:!0});s?i(s):le("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new OE(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((t=>t?(xe(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new OE(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function CO(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}class hw{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=CO(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<t&&(r+=e.charAt(i[s]%62))}return r}}function Le(n,e){return n<e?-1:n>e?1:0}function Jy(n,e){const t=Math.min(n.length,e.length);for(let r=0;r<t;r++){const i=n.charAt(r),s=e.charAt(r);if(i!==s)return ly(i)===ly(s)?Le(i,s):ly(i)?1:-1}return Le(n.length,e.length)}const AO=55296,bO=57343;function ly(n){const e=n.charCodeAt(0);return e>=AO&&e<=bO}function Xl(n,e,t){return n.length===e.length&&n.every(((r,i)=>t(r,e[i])))}function DC(n){return n+"\0"}const ME="__name__";class ni{constructor(e,t,r){t===void 0?t=0:t>e.length&&Ie(637,{offset:t,range:e.length}),r===void 0?r=e.length-t:r>e.length-t&&Ie(1746,{length:r,range:e.length-t}),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return ni.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof ni?e.forEach((r=>{t.push(r)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const s=ni.compareSegments(e.get(i),t.get(i));if(s!==0)return s}return Le(e.length,t.length)}static compareSegments(e,t){const r=ni.isNumericId(e),i=ni.isNumericId(t);return r&&!i?-1:!r&&i?1:r&&i?ni.extractNumericId(e).compare(ni.extractNumericId(t)):Jy(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Js.fromString(e.substring(4,e.length-2))}}class st extends ni{construct(e,t,r){return new st(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new ye(re.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter((i=>i.length>0)))}return new st(t)}static emptyPath(){return new st([])}}const xO=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class bt extends ni{construct(e,t,r){return new bt(e,t,r)}static isValidIdentifier(e){return xO.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),bt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===ME}static keyField(){return new bt([ME])}static fromServerFormat(e){const t=[];let r="",i=0;const s=()=>{if(r.length===0)throw new ye(re.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let a=!1;for(;i<e.length;){const u=e[i];if(u==="\\"){if(i+1===e.length)throw new ye(re.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const d=e[i+1];if(d!=="\\"&&d!=="."&&d!=="`")throw new ye(re.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=d,i+=2}else u==="`"?(a=!a,i++):u!=="."||a?(r+=u,i++):(s(),i++)}if(s(),a)throw new ye(re.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new bt(t)}static emptyPath(){return new bt([])}}class ve{constructor(e){this.path=e}static fromPath(e){return new ve(st.fromString(e))}static fromName(e){return new ve(st.fromString(e).popFirst(5))}static empty(){return new ve(st.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&st.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return st.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ve(new st(e.slice()))}}function NC(n,e,t){if(!t)throw new ye(re.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function RO(n,e,t,r){if(e===!0&&r===!0)throw new ye(re.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function LE(n){if(!ve.isDocumentKey(n))throw new ye(re.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function FE(n){if(ve.isDocumentKey(n))throw new ye(re.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function VC(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function fw(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Ie(12329,{type:typeof n})}function Hn(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new ye(re.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=fw(n);throw new ye(re.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function Xt(n,e){const t={typeString:n};return e&&(t.value=e),t}function Ad(n,e){if(!VC(n))throw new ye(re.INVALID_ARGUMENT,"JSON must be an object");let t;for(const r in e)if(e[r]){const i=e[r].typeString,s="value"in e[r]?{value:e[r].value}:void 0;if(!(r in n)){t=`JSON missing required field: '${r}'`;break}const a=n[r];if(i&&typeof a!==i){t=`JSON field '${r}' must be a ${i}.`;break}if(s!==void 0&&a!==s.value){t=`Expected '${r}' field to equal '${s.value}'`;break}}if(t)throw new ye(re.INVALID_ARGUMENT,t);return!0}const UE=-62135596800,jE=1e6;class lt{static now(){return lt.fromMillis(Date.now())}static fromDate(e){return lt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*jE);return new lt(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new ye(re.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new ye(re.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<UE)throw new ye(re.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ye(re.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/jE}_compareTo(e){return this.seconds===e.seconds?Le(this.nanoseconds,e.nanoseconds):Le(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:lt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Ad(e,lt._jsonSchema))return new lt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-UE;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}lt._jsonSchemaVersion="firestore/timestamp/1.0",lt._jsonSchema={type:Xt("string",lt._jsonSchemaVersion),seconds:Xt("number"),nanoseconds:Xt("number")};class Re{static fromTimestamp(e){return new Re(e)}static min(){return new Re(new lt(0,0))}static max(){return new Re(new lt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Jl=-1;class Gf{constructor(e,t,r,i){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=i}}function Zy(n){return n.fields.find((e=>e.kind===2))}function ea(n){return n.fields.filter((e=>e.kind!==2))}Gf.UNKNOWN_ID=-1;class Pf{constructor(e,t){this.fieldPath=e,this.kind=t}}class ad{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new ad(0,ar.min())}}function OC(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=Re.fromTimestamp(r===1e9?new lt(t+1,0):new lt(t,r));return new ar(i,ve.empty(),e)}function MC(n){return new ar(n.readTime,n.key,Jl)}class ar{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new ar(Re.min(),ve.empty(),Jl)}static max(){return new ar(Re.max(),ve.empty(),Jl)}}function pw(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=ve.comparator(n.documentKey,e.documentKey),t!==0?t:Le(n.largestBatchId,e.largestBatchId))}const LC="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class FC{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function yo(n){if(n.code!==re.FAILED_PRECONDITION||n.message!==LC)throw n;le("LocalStore","Unexpectedly lost primary lease")}class W{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Ie(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new W(((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(t,s).next(r,i)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof W?t:W.resolve(t)}catch(t){return W.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):W.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):W.reject(t)}static resolve(e){return new W(((t,r)=>{t(e)}))}static reject(e){return new W(((t,r)=>{r(e)}))}static waitFor(e){return new W(((t,r)=>{let i=0,s=0,a=!1;e.forEach((u=>{++i,u.next((()=>{++s,a&&s===i&&t()}),(d=>r(d)))})),a=!0,s===i&&t()}))}static or(e){let t=W.resolve(!1);for(const r of e)t=t.next((i=>i?W.resolve(i):r()));return t}static forEach(e,t){const r=[];return e.forEach(((i,s)=>{r.push(t.call(this,i,s))})),this.waitFor(r)}static mapArray(e,t){return new W(((r,i)=>{const s=e.length,a=new Array(s);let u=0;for(let d=0;d<s;d++){const h=d;t(e[h]).next((m=>{a[h]=m,++u,u===s&&r(a)}),(m=>i(m)))}}))}static doWhile(e,t){return new W(((r,i)=>{const s=()=>{e()===!0?t().next((()=>{s()}),i):r()};s()}))}}const rr="SimpleDb";class Bp{static open(e,t,r,i){try{return new Bp(t,e.transaction(i,r))}catch(s){throw new Wc(t,s)}}constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.S=new Nr,this.transaction.oncomplete=()=>{this.S.resolve()},this.transaction.onabort=()=>{t.error?this.S.reject(new Wc(e,t.error)):this.S.resolve()},this.transaction.onerror=r=>{const i=mw(r.target.error);this.S.reject(new Wc(e,i))}}get D(){return this.S.promise}abort(e){e&&this.S.reject(e),this.aborted||(le(rr,"Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}C(){const e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){const t=this.transaction.objectStore(e);return new DO(t)}}class Zs{static delete(e){return le(rr,"Removing database:",e),oa(cC().indexedDB.deleteDatabase(e)).toPromise()}static v(){if(!vC())return!1;if(Zs.F())return!0;const e=nn(),t=Zs.M(e),r=0<t&&t<10,i=UC(e),s=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||s)}static F(){return typeof process<"u"&&process.__PRIVATE_env?.__PRIVATE_USE_MOCK_PERSISTENCE==="YES"}static O(e,t){return e.store(t)}static M(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(r)}constructor(e,t,r){this.name=e,this.version=t,this.N=r,this.B=null,Zs.M(nn())===12.2&&Ut("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}async L(e){return this.db||(le(rr,"Opening database:",this.name),this.db=await new Promise(((t,r)=>{const i=indexedDB.open(this.name,this.version);i.onsuccess=s=>{const a=s.target.result;t(a)},i.onblocked=()=>{r(new Wc(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=s=>{const a=s.target.error;a.name==="VersionError"?r(new ye(re.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):a.name==="InvalidStateError"?r(new ye(re.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+a)):r(new Wc(e,a))},i.onupgradeneeded=s=>{le(rr,'Database "'+this.name+'" requires upgrade from version:',s.oldVersion);const a=s.target.result;this.N.k(a,i.transaction,s.oldVersion,this.version).next((()=>{le(rr,"Database upgrade to version "+this.version+" complete")}))}}))),this.q&&(this.db.onversionchange=t=>this.q(t)),this.db}$(e){this.q=e,this.db&&(this.db.onversionchange=t=>e(t))}async runTransaction(e,t,r,i){const s=t==="readonly";let a=0;for(;;){++a;try{this.db=await this.L(e);const u=Bp.open(this.db,e,s?"readonly":"readwrite",r),d=i(u).next((h=>(u.C(),h))).catch((h=>(u.abort(h),W.reject(h)))).toPromise();return d.catch((()=>{})),await u.D,d}catch(u){const d=u,h=d.name!=="FirebaseError"&&a<3;if(le(rr,"Transaction failed with error:",d.message,"Retrying:",h),this.close(),!h)return Promise.reject(d)}}}close(){this.db&&this.db.close(),this.db=void 0}}function UC(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}class kO{constructor(e){this.U=e,this.K=!1,this.W=null}get isDone(){return this.K}get G(){return this.W}set cursor(e){this.U=e}done(){this.K=!0}j(e){this.W=e}delete(){return oa(this.U.delete())}}class Wc extends ye{constructor(e,t){super(re.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function vo(n){return n.name==="IndexedDbTransactionError"}class DO{constructor(e){this.store=e}put(e,t){let r;return t!==void 0?(le(rr,"PUT",this.store.name,e,t),r=this.store.put(t,e)):(le(rr,"PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),oa(r)}add(e){return le(rr,"ADD",this.store.name,e,e),oa(this.store.add(e))}get(e){return oa(this.store.get(e)).next((t=>(t===void 0&&(t=null),le(rr,"GET",this.store.name,e,t),t)))}delete(e){return le(rr,"DELETE",this.store.name,e),oa(this.store.delete(e))}count(){return le(rr,"COUNT",this.store.name),oa(this.store.count())}J(e,t){const r=this.options(e,t),i=r.index?this.store.index(r.index):this.store;if(typeof i.getAll=="function"){const s=i.getAll(r.range);return new W(((a,u)=>{s.onerror=d=>{u(d.target.error)},s.onsuccess=d=>{a(d.target.result)}}))}{const s=this.cursor(r),a=[];return this.H(s,((u,d)=>{a.push(d)})).next((()=>a))}}Y(e,t){const r=this.store.getAll(e,t===null?void 0:t);return new W(((i,s)=>{r.onerror=a=>{s(a.target.error)},r.onsuccess=a=>{i(a.target.result)}}))}Z(e,t){le(rr,"DELETE ALL",this.store.name);const r=this.options(e,t);r.X=!1;const i=this.cursor(r);return this.H(i,((s,a,u)=>u.delete()))}ee(e,t){let r;t?r=e:(r={},t=e);const i=this.cursor(r);return this.H(i,t)}te(e){const t=this.cursor({});return new W(((r,i)=>{t.onerror=s=>{const a=mw(s.target.error);i(a)},t.onsuccess=s=>{const a=s.target.result;a?e(a.primaryKey,a.value).next((u=>{u?a.continue():r()})):r()}}))}H(e,t){const r=[];return new W(((i,s)=>{e.onerror=a=>{s(a.target.error)},e.onsuccess=a=>{const u=a.target.result;if(!u)return void i();const d=new kO(u),h=t(u.primaryKey,u.value,d);if(h instanceof W){const m=h.catch((g=>(d.done(),W.reject(g))));r.push(m)}d.isDone?i():d.G===null?u.continue():u.continue(d.G)}})).next((()=>W.waitFor(r)))}options(e,t){let r;return e!==void 0&&(typeof e=="string"?r=e:t=e),{index:r,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const r=this.store.index(e.index);return e.X?r.openKeyCursor(e.range,t):r.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function oa(n){return new W(((e,t)=>{n.onsuccess=r=>{const i=r.target.result;e(i)},n.onerror=r=>{const i=mw(r.target.error);t(i)}}))}let BE=!1;function mw(n){const e=Zs.M(nn());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const r=new ye("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return BE||(BE=!0,setTimeout((()=>{throw r}),0)),r}}return n}const Hc="IndexBackfiller";class NO{constructor(e,t){this.asyncQueue=e,this.ne=t,this.task=null}start(){this.re(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return this.task!==null}re(e){le(Hc,`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(async()=>{this.task=null;try{const t=await this.ne.ie();le(Hc,`Documents written: ${t}`)}catch(t){vo(t)?le(Hc,"Ignoring IndexedDB error during index backfill: ",t):await yo(t)}await this.re(6e4)}))}}class VO{constructor(e,t){this.localStore=e,this.persistence=t}async ie(e=50){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",(t=>this.se(t,e)))}se(e,t){const r=new Set;let i=t,s=!0;return W.doWhile((()=>s===!0&&i>0),(()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next((a=>{if(a!==null&&!r.has(a))return le(Hc,`Processing collection: ${a}`),this.oe(e,a,i).next((u=>{i-=u,r.add(a)}));s=!1})))).next((()=>t-i))}oe(e,t,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next((i=>this.localStore.localDocuments.getNextDocuments(e,t,i,r).next((s=>{const a=s.changes;return this.localStore.indexManager.updateIndexEntries(e,a).next((()=>this._e(i,s))).next((u=>(le(Hc,`Updating offset: ${u}`),this.localStore.indexManager.updateCollectionGroup(e,t,u)))).next((()=>a.size))}))))}_e(e,t){let r=e;return t.changes.forEach(((i,s)=>{const a=MC(s);pw(a,r)>0&&(r=a)})),new ar(r.readTime,r.documentKey,Math.max(t.batchId,e.largestBatchId))}}class $n{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>t.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}$n.ce=-1;const fa=-1;function $p(n){return n==null}function ld(n){return n===0&&1/n==-1/0}function jC(n){return typeof n=="number"&&Number.isInteger(n)&&!ld(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}const Kf="";function An(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=$E(e)),e=OO(n.get(t),e);return $E(e)}function OO(n,e){let t=e;const r=n.length;for(let i=0;i<r;i++){const s=n.charAt(i);switch(s){case"\0":t+="";break;case Kf:t+="";break;default:t+=s}}return t}function $E(n){return n+Kf+""}function oi(n){const e=n.length;if(xe(e>=2,64408,{path:n}),e===2)return xe(n.charAt(0)===Kf&&n.charAt(1)==="",56145,{path:n}),st.emptyPath();const t=e-2,r=[];let i="";for(let s=0;s<e;){const a=n.indexOf(Kf,s);switch((a<0||a>t)&&Ie(50515,{path:n}),n.charAt(a+1)){case"":const u=n.substring(s,a);let d;i.length===0?d=u:(i+=u,d=i,i=""),r.push(d);break;case"":i+=n.substring(s,a),i+="\0";break;case"":i+=n.substring(s,a+1);break;default:Ie(61167,{path:n})}s=a+2}return new st(r)}const ta="remoteDocuments",bd="owner",Il="owner",ud="mutationQueues",MO="userId",kr="mutations",zE="batchId",ca="userMutationsIndex",WE=["userId","batchId"];function Cf(n,e){return[n,An(e)]}function BC(n,e,t){return[n,An(e),t]}const LO={},Zl="documentMutations",Qf="remoteDocumentsV14",FO=["prefixPath","collectionGroup","readTime","documentId"],Af="documentKeyIndex",UO=["prefixPath","collectionGroup","documentId"],$C="collectionGroupIndex",jO=["collectionGroup","readTime","prefixPath","documentId"],cd="remoteDocumentGlobal",ev="remoteDocumentGlobalKey",eu="targets",zC="queryTargetsIndex",BO=["canonicalId","targetId"],tu="targetDocuments",$O=["targetId","path"],gw="documentTargetsIndex",zO=["path","targetId"],Yf="targetGlobalKey",pa="targetGlobal",dd="collectionParents",WO=["collectionId","parent"],nu="clientMetadata",HO="clientId",zp="bundles",qO="bundleId",Wp="namedQueries",GO="name",yw="indexConfiguration",KO="indexId",tv="collectionGroupIndex",QO="collectionGroup",qc="indexState",YO=["indexId","uid"],WC="sequenceNumberIndex",XO=["uid","sequenceNumber"],Gc="indexEntries",JO=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],HC="documentKeyIndex",ZO=["indexId","uid","orderedDocumentKey"],Hp="documentOverlays",eM=["userId","collectionPath","documentId"],nv="collectionPathOverlayIndex",tM=["userId","collectionPath","largestBatchId"],qC="collectionGroupOverlayIndex",nM=["userId","collectionGroup","largestBatchId"],vw="globals",rM="name",GC=[ud,kr,Zl,ta,eu,bd,pa,tu,nu,cd,dd,zp,Wp],iM=[...GC,Hp],KC=[ud,kr,Zl,Qf,eu,bd,pa,tu,nu,cd,dd,zp,Wp,Hp],QC=KC,ww=[...QC,yw,qc,Gc],sM=ww,YC=[...ww,vw],oM=YC;class rv extends FC{constructor(e,t){super(),this.le=e,this.currentSequenceNumber=t}}function rn(n,e){const t=Ce(n);return Zs.O(t.le,e)}function HE(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function wo(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function XC(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class mt{constructor(e,t){this.comparator=e,this.root=t||mn.EMPTY}insert(e,t){return new mt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,mn.BLACK,null,null))}remove(e){return new mt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,mn.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,r)=>(e(t,r),!1)))}toString(){const e=[];return this.inorderTraversal(((t,r)=>(e.push(`${t}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new af(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new af(this.root,e,this.comparator,!1)}getReverseIterator(){return new af(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new af(this.root,e,this.comparator,!0)}}class af{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=t?r(e.key,t):1,t&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class mn{constructor(e,t,r,i,s){this.key=e,this.value=t,this.color=r??mn.RED,this.left=i??mn.EMPTY,this.right=s??mn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,s){return new mn(e??this.key,t??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,t,r),null):s===0?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return mn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),t(e,i.key)===0){if(i.right.isEmpty())return mn.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,mn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,mn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ie(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ie(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ie(27949);return e+(this.isRed()?0:1)}}mn.EMPTY=null,mn.RED=!0,mn.BLACK=!1;mn.EMPTY=new class{constructor(){this.size=0}get key(){throw Ie(57766)}get value(){throw Ie(16141)}get color(){throw Ie(16727)}get left(){throw Ie(29726)}get right(){throw Ie(36894)}copy(e,t,r,i,s){return this}insert(e,t,r){return new mn(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class ut{constructor(e){this.comparator=e,this.data=new mt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,r)=>(e(t),!1)))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new qE(this.data.getIterator())}getIteratorFrom(e){return new qE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((r=>{t=t.add(r)})),t}isEqual(e){if(!(e instanceof ut)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new ut(this.comparator);return t.data=e,t}}class qE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Sl(n){return n.hasNext()?n.getNext():void 0}class zn{constructor(e){this.fields=e,e.sort(bt.comparator)}static empty(){return new zn([])}unionWith(e){let t=new ut(bt.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new zn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Xl(this.fields,e.fields,((t,r)=>t.isEqual(r)))}}class JC extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Wt{constructor(e){this.binaryString=e}static fromBase64String(e){const t=(function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new JC("Invalid base64 string: "+s):s}})(e);return new Wt(t)}static fromUint8Array(e){const t=(function(i){let s="";for(let a=0;a<i.length;++a)s+=String.fromCharCode(i[a]);return s})(e);return new Wt(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){const r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Le(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Wt.EMPTY_BYTE_STRING=new Wt("");const aM=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function qi(n){if(xe(!!n,39018),typeof n=="string"){let e=0;const t=aM.exec(n);if(xe(!!t,46558,{timestamp:n}),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:It(n.seconds),nanos:It(n.nanos)}}function It(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Gi(n){return typeof n=="string"?Wt.fromBase64String(n):Wt.fromUint8Array(n)}const ZC="server_timestamp",eA="__type__",tA="__previous_value__",nA="__local_write_time__";function _w(n){return(n?.mapValue?.fields||{})[eA]?.stringValue===ZC}function qp(n){const e=n.mapValue.fields[tA];return _w(e)?qp(e):e}function hd(n){const e=qi(n.mapValue.fields[nA].timestampValue);return new lt(e.seconds,e.nanos)}class lM{constructor(e,t,r,i,s,a,u,d,h,m){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=a,this.autoDetectLongPolling=u,this.longPollingOptions=d,this.useFetchStreams=h,this.isUsingEmulator=m}}const Xf="(default)";class _a{constructor(e,t){this.projectId=e,this.database=t||Xf}static empty(){return new _a("","")}get isDefaultDatabase(){return this.database===Xf}isEqual(e){return e instanceof _a&&e.projectId===this.projectId&&e.database===this.database}}const Tw="__type__",rA="__max__",Ks={mapValue:{fields:{__type__:{stringValue:rA}}}},Ew="__vector__",ru="value",bf={nullValue:"NULL_VALUE"};function so(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?_w(n)?4:iA(n)?9007199254740991:Gp(n)?10:11:Ie(28295,{value:n})}function mi(n,e){if(n===e)return!0;const t=so(n);if(t!==so(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return hd(n).isEqual(hd(e));case 3:return(function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const a=qi(i.timestampValue),u=qi(s.timestampValue);return a.seconds===u.seconds&&a.nanos===u.nanos})(n,e);case 5:return n.stringValue===e.stringValue;case 6:return(function(i,s){return Gi(i.bytesValue).isEqual(Gi(s.bytesValue))})(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return(function(i,s){return It(i.geoPointValue.latitude)===It(s.geoPointValue.latitude)&&It(i.geoPointValue.longitude)===It(s.geoPointValue.longitude)})(n,e);case 2:return(function(i,s){if("integerValue"in i&&"integerValue"in s)return It(i.integerValue)===It(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const a=It(i.doubleValue),u=It(s.doubleValue);return a===u?ld(a)===ld(u):isNaN(a)&&isNaN(u)}return!1})(n,e);case 9:return Xl(n.arrayValue.values||[],e.arrayValue.values||[],mi);case 10:case 11:return(function(i,s){const a=i.mapValue.fields||{},u=s.mapValue.fields||{};if(HE(a)!==HE(u))return!1;for(const d in a)if(a.hasOwnProperty(d)&&(u[d]===void 0||!mi(a[d],u[d])))return!1;return!0})(n,e);default:return Ie(52216,{left:n})}}function fd(n,e){return(n.values||[]).find((t=>mi(t,e)))!==void 0}function oo(n,e){if(n===e)return 0;const t=so(n),r=so(e);if(t!==r)return Le(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Le(n.booleanValue,e.booleanValue);case 2:return(function(s,a){const u=It(s.integerValue||s.doubleValue),d=It(a.integerValue||a.doubleValue);return u<d?-1:u>d?1:u===d?0:isNaN(u)?isNaN(d)?0:-1:1})(n,e);case 3:return GE(n.timestampValue,e.timestampValue);case 4:return GE(hd(n),hd(e));case 5:return Jy(n.stringValue,e.stringValue);case 6:return(function(s,a){const u=Gi(s),d=Gi(a);return u.compareTo(d)})(n.bytesValue,e.bytesValue);case 7:return(function(s,a){const u=s.split("/"),d=a.split("/");for(let h=0;h<u.length&&h<d.length;h++){const m=Le(u[h],d[h]);if(m!==0)return m}return Le(u.length,d.length)})(n.referenceValue,e.referenceValue);case 8:return(function(s,a){const u=Le(It(s.latitude),It(a.latitude));return u!==0?u:Le(It(s.longitude),It(a.longitude))})(n.geoPointValue,e.geoPointValue);case 9:return KE(n.arrayValue,e.arrayValue);case 10:return(function(s,a){const u=s.fields||{},d=a.fields||{},h=u[ru]?.arrayValue,m=d[ru]?.arrayValue,g=Le(h?.values?.length||0,m?.values?.length||0);return g!==0?g:KE(h,m)})(n.mapValue,e.mapValue);case 11:return(function(s,a){if(s===Ks.mapValue&&a===Ks.mapValue)return 0;if(s===Ks.mapValue)return 1;if(a===Ks.mapValue)return-1;const u=s.fields||{},d=Object.keys(u),h=a.fields||{},m=Object.keys(h);d.sort(),m.sort();for(let g=0;g<d.length&&g<m.length;++g){const v=Jy(d[g],m[g]);if(v!==0)return v;const E=oo(u[d[g]],h[m[g]]);if(E!==0)return E}return Le(d.length,m.length)})(n.mapValue,e.mapValue);default:throw Ie(23264,{he:t})}}function GE(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Le(n,e);const t=qi(n),r=qi(e),i=Le(t.seconds,r.seconds);return i!==0?i:Le(t.nanos,r.nanos)}function KE(n,e){const t=n.values||[],r=e.values||[];for(let i=0;i<t.length&&i<r.length;++i){const s=oo(t[i],r[i]);if(s)return s}return Le(t.length,r.length)}function iu(n){return iv(n)}function iv(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(t){const r=qi(t);return`time(${r.seconds},${r.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(t){return Gi(t).toBase64()})(n.bytesValue):"referenceValue"in n?(function(t){return ve.fromName(t).toString()})(n.referenceValue):"geoPointValue"in n?(function(t){return`geo(${t.latitude},${t.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(t){let r="[",i=!0;for(const s of t.values||[])i?i=!1:r+=",",r+=iv(s);return r+"]"})(n.arrayValue):"mapValue"in n?(function(t){const r=Object.keys(t.fields||{}).sort();let i="{",s=!0;for(const a of r)s?s=!1:i+=",",i+=`${a}:${iv(t.fields[a])}`;return i+"}"})(n.mapValue):Ie(61005,{value:n})}function xf(n){switch(so(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=qp(n);return e?16+xf(e):16;case 5:return 2*n.stringValue.length;case 6:return Gi(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((i,s)=>i+xf(s)),0)})(n.arrayValue);case 10:case 11:return(function(r){let i=0;return wo(r.fields,((s,a)=>{i+=s.length+xf(a)})),i})(n.mapValue);default:throw Ie(13486,{value:n})}}function Iw(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function sv(n){return!!n&&"integerValue"in n}function pd(n){return!!n&&"arrayValue"in n}function QE(n){return!!n&&"nullValue"in n}function YE(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Rf(n){return!!n&&"mapValue"in n}function Gp(n){return(n?.mapValue?.fields||{})[Tw]?.stringValue===Ew}function Kc(n){if(n.geoPointValue)return{geoPointValue:{...n.geoPointValue}};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:{...n.timestampValue}};if(n.mapValue){const e={mapValue:{fields:{}}};return wo(n.mapValue.fields,((t,r)=>e.mapValue.fields[t]=Kc(r))),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Kc(n.arrayValue.values[t]);return e}return{...n}}function iA(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===rA}const sA={mapValue:{fields:{[Tw]:{stringValue:Ew},[ru]:{arrayValue:{}}}}};function uM(n){return"nullValue"in n?bf:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?Iw(_a.empty(),ve.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?Gp(n)?sA:{mapValue:{}}:Ie(35942,{value:n})}function cM(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?Iw(_a.empty(),ve.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?sA:"mapValue"in n?Gp(n)?{mapValue:{}}:Ks:Ie(61959,{value:n})}function XE(n,e){const t=oo(n.value,e.value);return t!==0?t:n.inclusive&&!e.inclusive?-1:!n.inclusive&&e.inclusive?1:0}function JE(n,e){const t=oo(n.value,e.value);return t!==0?t:n.inclusive&&!e.inclusive?1:!n.inclusive&&e.inclusive?-1:0}class Pn{constructor(e){this.value=e}static empty(){return new Pn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!Rf(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Kc(t)}setAll(e){let t=bt.emptyPath(),r={},i=[];e.forEach(((a,u)=>{if(!t.isImmediateParentOf(u)){const d=this.getFieldsMap(t);this.applyChanges(d,r,i),r={},i=[],t=u.popLast()}a?r[u.lastSegment()]=Kc(a):i.push(u.lastSegment())}));const s=this.getFieldsMap(t);this.applyChanges(s,r,i)}delete(e){const t=this.field(e.popLast());Rf(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return mi(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];Rf(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){wo(t,((i,s)=>e[i]=s));for(const i of r)delete e[i]}clone(){return new Pn(Kc(this.value))}}function oA(n){const e=[];return wo(n.fields,((t,r)=>{const i=new bt([t]);if(Rf(r)){const s=oA(r.mapValue).fields;if(s.length===0)e.push(i);else for(const a of s)e.push(i.child(a))}else e.push(i)})),new zn(e)}class Vt{constructor(e,t,r,i,s,a,u){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=s,this.data=a,this.documentState=u}static newInvalidDocument(e){return new Vt(e,0,Re.min(),Re.min(),Re.min(),Pn.empty(),0)}static newFoundDocument(e,t,r,i){return new Vt(e,1,t,Re.min(),r,i,0)}static newNoDocument(e,t){return new Vt(e,2,t,Re.min(),Re.min(),Pn.empty(),0)}static newUnknownDocument(e,t){return new Vt(e,3,t,Re.min(),Re.min(),Pn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Re.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Pn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Pn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Re.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Vt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Vt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class su{constructor(e,t){this.position=e,this.inclusive=t}}function ZE(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const s=e[i],a=n.position[i];if(s.field.isKeyField()?r=ve.comparator(ve.fromName(a.referenceValue),t.key):r=oo(a,t.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function eI(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!mi(n.position[t],e.position[t]))return!1;return!0}class Jf{constructor(e,t="asc"){this.field=e,this.dir=t}}function dM(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class aA{}class Qe extends aA{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new hM(e,t,r):t==="array-contains"?new mM(e,r):t==="in"?new fA(e,r):t==="not-in"?new gM(e,r):t==="array-contains-any"?new yM(e,r):new Qe(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new fM(e,r):new pM(e,r)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(oo(t,this.value)):t!==null&&so(this.value)===so(t)&&this.matchesComparison(oo(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ie(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class dt extends aA{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new dt(e,t)}matches(e){return ou(this)?this.filters.find((t=>!t.matches(e)))===void 0:this.filters.find((t=>t.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function ou(n){return n.op==="and"}function ov(n){return n.op==="or"}function Sw(n){return lA(n)&&ou(n)}function lA(n){for(const e of n.filters)if(e instanceof dt)return!1;return!0}function av(n){if(n instanceof Qe)return n.field.canonicalString()+n.op.toString()+iu(n.value);if(Sw(n))return n.filters.map((e=>av(e))).join(",");{const e=n.filters.map((t=>av(t))).join(",");return`${n.op}(${e})`}}function uA(n,e){return n instanceof Qe?(function(r,i){return i instanceof Qe&&r.op===i.op&&r.field.isEqual(i.field)&&mi(r.value,i.value)})(n,e):n instanceof dt?(function(r,i){return i instanceof dt&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce(((s,a,u)=>s&&uA(a,i.filters[u])),!0):!1})(n,e):void Ie(19439)}function cA(n,e){const t=n.filters.concat(e);return dt.create(t,n.op)}function dA(n){return n instanceof Qe?(function(t){return`${t.field.canonicalString()} ${t.op} ${iu(t.value)}`})(n):n instanceof dt?(function(t){return t.op.toString()+" {"+t.getFilters().map(dA).join(" ,")+"}"})(n):"Filter"}class hM extends Qe{constructor(e,t,r){super(e,t,r),this.key=ve.fromName(r.referenceValue)}matches(e){const t=ve.comparator(e.key,this.key);return this.matchesComparison(t)}}class fM extends Qe{constructor(e,t){super(e,"in",t),this.keys=hA("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class pM extends Qe{constructor(e,t){super(e,"not-in",t),this.keys=hA("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function hA(n,e){return(e.arrayValue?.values||[]).map((t=>ve.fromName(t.referenceValue)))}class mM extends Qe{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return pd(t)&&fd(t.arrayValue,this.value)}}class fA extends Qe{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&fd(this.value.arrayValue,t)}}class gM extends Qe{constructor(e,t){super(e,"not-in",t)}matches(e){if(fd(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!fd(this.value.arrayValue,t)}}class yM extends Qe{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!pd(t)||!t.arrayValue.values)&&t.arrayValue.values.some((r=>fd(this.value.arrayValue,r)))}}class vM{constructor(e,t=null,r=[],i=[],s=null,a=null,u=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=a,this.endAt=u,this.Te=null}}function lv(n,e=null,t=[],r=[],i=null,s=null,a=null){return new vM(n,e,t,r,i,s,a)}function Ta(n){const e=Ce(n);if(e.Te===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((r=>av(r))).join(","),t+="|ob:",t+=e.orderBy.map((r=>(function(s){return s.field.canonicalString()+s.dir})(r))).join(","),$p(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((r=>iu(r))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((r=>iu(r))).join(",")),e.Te=t}return e.Te}function xd(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!dM(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!uA(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!eI(n.startAt,e.startAt)&&eI(n.endAt,e.endAt)}function Zf(n){return ve.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}function ep(n,e){return n.filters.filter((t=>t instanceof Qe&&t.field.isEqual(e)))}function tI(n,e,t){let r=bf,i=!0;for(const s of ep(n,e)){let a=bf,u=!0;switch(s.op){case"<":case"<=":a=uM(s.value);break;case"==":case"in":case">=":a=s.value;break;case">":a=s.value,u=!1;break;case"!=":case"not-in":a=bf}XE({value:r,inclusive:i},{value:a,inclusive:u})<0&&(r=a,i=u)}if(t!==null){for(let s=0;s<n.orderBy.length;++s)if(n.orderBy[s].field.isEqual(e)){const a=t.position[s];XE({value:r,inclusive:i},{value:a,inclusive:t.inclusive})<0&&(r=a,i=t.inclusive);break}}return{value:r,inclusive:i}}function nI(n,e,t){let r=Ks,i=!0;for(const s of ep(n,e)){let a=Ks,u=!0;switch(s.op){case">=":case">":a=cM(s.value),u=!1;break;case"==":case"in":case"<=":a=s.value;break;case"<":a=s.value,u=!1;break;case"!=":case"not-in":a=Ks}JE({value:r,inclusive:i},{value:a,inclusive:u})>0&&(r=a,i=u)}if(t!==null){for(let s=0;s<n.orderBy.length;++s)if(n.orderBy[s].field.isEqual(e)){const a=t.position[s];JE({value:r,inclusive:i},{value:a,inclusive:t.inclusive})>0&&(r=a,i=t.inclusive);break}}return{value:r,inclusive:i}}class Kp{constructor(e,t=null,r=[],i=[],s=null,a="F",u=null,d=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=a,this.startAt=u,this.endAt=d,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function pA(n,e,t,r,i,s,a,u){return new Kp(n,e,t,r,i,s,a,u)}function Qp(n){return new Kp(n)}function rI(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function wM(n){return n.collectionGroup!==null}function Qc(n){const e=Ce(n);if(e.Ie===null){e.Ie=[];const t=new Set;for(const s of e.explicitOrderBy)e.Ie.push(s),t.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(a){let u=new ut(bt.comparator);return a.filters.forEach((d=>{d.getFlattenedFilters().forEach((h=>{h.isInequality()&&(u=u.add(h.field))}))})),u})(e).forEach((s=>{t.has(s.canonicalString())||s.isKeyField()||e.Ie.push(new Jf(s,r))})),t.has(bt.keyField().canonicalString())||e.Ie.push(new Jf(bt.keyField(),r))}return e.Ie}function or(n){const e=Ce(n);return e.Ee||(e.Ee=_M(e,Qc(n))),e.Ee}function _M(n,e){if(n.limitType==="F")return lv(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map((i=>{const s=i.dir==="desc"?"asc":"desc";return new Jf(i.field,s)}));const t=n.endAt?new su(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new su(n.startAt.position,n.startAt.inclusive):null;return lv(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function uv(n,e,t){return new Kp(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Yp(n,e){return xd(or(n),or(e))&&n.limitType===e.limitType}function mA(n){return`${Ta(or(n))}|lt:${n.limitType}`}function Nl(n){return`Query(target=${(function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map((i=>dA(i))).join(", ")}]`),$p(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map((i=>(function(a){return`${a.field.canonicalString()} (${a.dir})`})(i))).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map((i=>iu(i))).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map((i=>iu(i))).join(",")),`Target(${r})`})(or(n))}; limitType=${n.limitType})`}function Rd(n,e){return e.isFoundDocument()&&(function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):ve.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)})(n,e)&&(function(r,i){for(const s of Qc(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0})(n,e)&&(function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0})(n,e)&&(function(r,i){return!(r.startAt&&!(function(a,u,d){const h=ZE(a,u,d);return a.inclusive?h<=0:h<0})(r.startAt,Qc(r),i)||r.endAt&&!(function(a,u,d){const h=ZE(a,u,d);return a.inclusive?h>=0:h>0})(r.endAt,Qc(r),i))})(n,e)}function gA(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function yA(n){return(e,t)=>{let r=!1;for(const i of Qc(n)){const s=TM(i,e,t);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function TM(n,e,t){const r=n.field.isKeyField()?ve.comparator(e.key,t.key):(function(s,a,u){const d=a.data.field(s),h=u.data.field(s);return d!==null&&h!==null?oo(d,h):Ie(42886)})(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return Ie(19790,{direction:n.dir})}}class Zi{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){wo(this.inner,((t,r)=>{for(const[i,s]of r)e(i,s)}))}isEmpty(){return XC(this.inner)}size(){return this.innerSize}}const EM=new mt(ve.comparator);function sr(){return EM}const vA=new mt(ve.comparator);function Uc(...n){let e=vA;for(const t of n)e=e.insert(t.key,t);return e}function wA(n){let e=vA;return n.forEach(((t,r)=>e=e.insert(t,r.overlayedDocument))),e}function ai(){return Yc()}function _A(){return Yc()}function Yc(){return new Zi((n=>n.toString()),((n,e)=>n.isEqual(e)))}const IM=new mt(ve.comparator),SM=new ut(ve.comparator);function ze(...n){let e=SM;for(const t of n)e=e.add(t);return e}const PM=new ut(Le);function Pw(){return PM}function Cw(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ld(e)?"-0":e}}function TA(n){return{integerValue:""+n}}function CM(n,e){return jC(e)?TA(e):Cw(n,e)}class Xp{constructor(){this._=void 0}}function AM(n,e,t){return n instanceof md?(function(i,s){const a={fields:{[eA]:{stringValue:ZC},[nA]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&_w(s)&&(s=qp(s)),s&&(a.fields[tA]=s),{mapValue:a}})(t,e):n instanceof au?IA(n,e):n instanceof lu?SA(n,e):(function(i,s){const a=EA(i,s),u=iI(a)+iI(i.Ae);return sv(a)&&sv(i.Ae)?TA(u):Cw(i.serializer,u)})(n,e)}function bM(n,e,t){return n instanceof au?IA(n,e):n instanceof lu?SA(n,e):t}function EA(n,e){return n instanceof gd?(function(r){return sv(r)||(function(s){return!!s&&"doubleValue"in s})(r)})(e)?e:{integerValue:0}:null}class md extends Xp{}class au extends Xp{constructor(e){super(),this.elements=e}}function IA(n,e){const t=PA(e);for(const r of n.elements)t.some((i=>mi(i,r)))||t.push(r);return{arrayValue:{values:t}}}class lu extends Xp{constructor(e){super(),this.elements=e}}function SA(n,e){let t=PA(e);for(const r of n.elements)t=t.filter((i=>!mi(i,r)));return{arrayValue:{values:t}}}class gd extends Xp{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function iI(n){return It(n.integerValue||n.doubleValue)}function PA(n){return pd(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class xM{constructor(e,t){this.field=e,this.transform=t}}function RM(n,e){return n.field.isEqual(e.field)&&(function(r,i){return r instanceof au&&i instanceof au||r instanceof lu&&i instanceof lu?Xl(r.elements,i.elements,mi):r instanceof gd&&i instanceof gd?mi(r.Ae,i.Ae):r instanceof md&&i instanceof md})(n.transform,e.transform)}class kM{constructor(e,t){this.version=e,this.transformResults=t}}class Cn{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Cn}static exists(e){return new Cn(void 0,e)}static updateTime(e){return new Cn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function kf(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class Jp{}function CA(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new Zp(n.key,Cn.none()):new Iu(n.key,n.data,Cn.none());{const t=n.data,r=Pn.empty();let i=new ut(bt.comparator);for(let s of e.fields)if(!i.has(s)){let a=t.field(s);a===null&&s.length>1&&(s=s.popLast(),a=t.field(s)),a===null?r.delete(s):r.set(s,a),i=i.add(s)}return new es(n.key,r,new zn(i.toArray()),Cn.none())}}function DM(n,e,t){n instanceof Iu?(function(i,s,a){const u=i.value.clone(),d=oI(i.fieldTransforms,s,a.transformResults);u.setAll(d),s.convertToFoundDocument(a.version,u).setHasCommittedMutations()})(n,e,t):n instanceof es?(function(i,s,a){if(!kf(i.precondition,s))return void s.convertToUnknownDocument(a.version);const u=oI(i.fieldTransforms,s,a.transformResults),d=s.data;d.setAll(AA(i)),d.setAll(u),s.convertToFoundDocument(a.version,d).setHasCommittedMutations()})(n,e,t):(function(i,s,a){s.convertToNoDocument(a.version).setHasCommittedMutations()})(0,e,t)}function Xc(n,e,t,r){return n instanceof Iu?(function(s,a,u,d){if(!kf(s.precondition,a))return u;const h=s.value.clone(),m=aI(s.fieldTransforms,d,a);return h.setAll(m),a.convertToFoundDocument(a.version,h).setHasLocalMutations(),null})(n,e,t,r):n instanceof es?(function(s,a,u,d){if(!kf(s.precondition,a))return u;const h=aI(s.fieldTransforms,d,a),m=a.data;return m.setAll(AA(s)),m.setAll(h),a.convertToFoundDocument(a.version,m).setHasLocalMutations(),u===null?null:u.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map((g=>g.field)))})(n,e,t,r):(function(s,a,u){return kf(s.precondition,a)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):u})(n,e,t)}function NM(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),s=EA(r.transform,i||null);s!=null&&(t===null&&(t=Pn.empty()),t.set(r.field,s))}return t||null}function sI(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!(function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Xl(r,i,((s,a)=>RM(s,a)))})(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class Iu extends Jp{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class es extends Jp{constructor(e,t,r,i,s=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function AA(n){const e=new Map;return n.fieldMask.fields.forEach((t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}})),e}function oI(n,e,t){const r=new Map;xe(n.length===t.length,32656,{Re:t.length,Ve:n.length});for(let i=0;i<t.length;i++){const s=n[i],a=s.transform,u=e.data.field(s.field);r.set(s.field,bM(a,u,t[i]))}return r}function aI(n,e,t){const r=new Map;for(const i of n){const s=i.transform,a=t.data.field(i.field);r.set(i.field,AM(s,a,e))}return r}class Zp extends Jp{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class bA extends Jp{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Aw{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&DM(s,e,r[i])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=Xc(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=Xc(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=_A();return this.mutations.forEach((i=>{const s=e.get(i.key),a=s.overlayedDocument;let u=this.applyToLocalView(a,s.mutatedFields);u=t.has(i.key)?null:u;const d=CA(a,u);d!==null&&r.set(i.key,d),a.isValidDocument()||a.convertToNoDocument(Re.min())})),r}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),ze())}isEqual(e){return this.batchId===e.batchId&&Xl(this.mutations,e.mutations,((t,r)=>sI(t,r)))&&Xl(this.baseMutations,e.baseMutations,((t,r)=>sI(t,r)))}}class bw{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){xe(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let i=(function(){return IM})();const s=e.mutations;for(let a=0;a<s.length;a++)i=i.insert(s[a].key,r[a].version);return new bw(e,t,r,i)}}class xw{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class VM{constructor(e,t){this.count=e,this.unchangedNames=t}}var Gt,Je;function OM(n){switch(n){case re.OK:return Ie(64938);case re.CANCELLED:case re.UNKNOWN:case re.DEADLINE_EXCEEDED:case re.RESOURCE_EXHAUSTED:case re.INTERNAL:case re.UNAVAILABLE:case re.UNAUTHENTICATED:return!1;case re.INVALID_ARGUMENT:case re.NOT_FOUND:case re.ALREADY_EXISTS:case re.PERMISSION_DENIED:case re.FAILED_PRECONDITION:case re.ABORTED:case re.OUT_OF_RANGE:case re.UNIMPLEMENTED:case re.DATA_LOSS:return!0;default:return Ie(15467,{code:n})}}function xA(n){if(n===void 0)return Ut("GRPC error has no .code"),re.UNKNOWN;switch(n){case Gt.OK:return re.OK;case Gt.CANCELLED:return re.CANCELLED;case Gt.UNKNOWN:return re.UNKNOWN;case Gt.DEADLINE_EXCEEDED:return re.DEADLINE_EXCEEDED;case Gt.RESOURCE_EXHAUSTED:return re.RESOURCE_EXHAUSTED;case Gt.INTERNAL:return re.INTERNAL;case Gt.UNAVAILABLE:return re.UNAVAILABLE;case Gt.UNAUTHENTICATED:return re.UNAUTHENTICATED;case Gt.INVALID_ARGUMENT:return re.INVALID_ARGUMENT;case Gt.NOT_FOUND:return re.NOT_FOUND;case Gt.ALREADY_EXISTS:return re.ALREADY_EXISTS;case Gt.PERMISSION_DENIED:return re.PERMISSION_DENIED;case Gt.FAILED_PRECONDITION:return re.FAILED_PRECONDITION;case Gt.ABORTED:return re.ABORTED;case Gt.OUT_OF_RANGE:return re.OUT_OF_RANGE;case Gt.UNIMPLEMENTED:return re.UNIMPLEMENTED;case Gt.DATA_LOSS:return re.DATA_LOSS;default:return Ie(39323,{code:n})}}(Je=Gt||(Gt={}))[Je.OK=0]="OK",Je[Je.CANCELLED=1]="CANCELLED",Je[Je.UNKNOWN=2]="UNKNOWN",Je[Je.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Je[Je.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Je[Je.NOT_FOUND=5]="NOT_FOUND",Je[Je.ALREADY_EXISTS=6]="ALREADY_EXISTS",Je[Je.PERMISSION_DENIED=7]="PERMISSION_DENIED",Je[Je.UNAUTHENTICATED=16]="UNAUTHENTICATED",Je[Je.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Je[Je.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Je[Je.ABORTED=10]="ABORTED",Je[Je.OUT_OF_RANGE=11]="OUT_OF_RANGE",Je[Je.UNIMPLEMENTED=12]="UNIMPLEMENTED",Je[Je.INTERNAL=13]="INTERNAL",Je[Je.UNAVAILABLE=14]="UNAVAILABLE",Je[Je.DATA_LOSS=15]="DATA_LOSS";function MM(){return new TextEncoder}const LM=new Js([4294967295,4294967295],0);function lI(n){const e=MM().encode(n),t=new SC;return t.update(e),new Uint8Array(t.digest())}function uI(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Js([t,r],0),new Js([i,s],0)]}class Rw{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new jc(`Invalid padding: ${t}`);if(r<0)throw new jc(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new jc(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new jc(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=Js.fromNumber(this.ge)}ye(e,t,r){let i=e.add(t.multiply(Js.fromNumber(r)));return i.compare(LM)===1&&(i=new Js([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const t=lI(e),[r,i]=uI(t);for(let s=0;s<this.hashCount;s++){const a=this.ye(r,i,s);if(!this.we(a))return!1}return!0}static create(e,t,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),a=new Rw(s,i,t);return r.forEach((u=>a.insert(u))),a}insert(e){if(this.ge===0)return;const t=lI(e),[r,i]=uI(t);for(let s=0;s<this.hashCount;s++){const a=this.ye(r,i,s);this.Se(a)}}Se(e){const t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}}class jc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class kd{constructor(e,t,r,i,s){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const i=new Map;return i.set(e,Dd.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new kd(Re.min(),i,new mt(Le),sr(),ze())}}class Dd{constructor(e,t,r,i,s){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new Dd(r,t,ze(),ze(),ze())}}class Df{constructor(e,t,r,i){this.be=e,this.removedTargetIds=t,this.key=r,this.De=i}}class RA{constructor(e,t){this.targetId=e,this.Ce=t}}class kA{constructor(e,t,r=Wt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class cI{constructor(){this.ve=0,this.Fe=dI(),this.Me=Wt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=ze(),t=ze(),r=ze();return this.Fe.forEach(((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:Ie(38017,{changeType:s})}})),new Dd(this.Me,this.xe,e,t,r)}qe(){this.Oe=!1,this.Fe=dI()}Qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,xe(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class FM{constructor(e){this.Ge=e,this.ze=new Map,this.je=sr(),this.Je=lf(),this.He=lf(),this.Ye=new mt(Le)}Ze(e){for(const t of e.be)e.De&&e.De.isFoundDocument()?this.Xe(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,(t=>{const r=this.nt(t);switch(e.state){case 0:this.rt(t)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),r.Le(e.resumeToken));break;default:Ie(56790,{state:e.state})}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach(((r,i)=>{this.rt(i)&&t(i)}))}st(e){const t=e.targetId,r=e.Ce.count,i=this.ot(t);if(i){const s=i.target;if(Zf(s))if(r===0){const a=new ve(s.path);this.et(t,a,Vt.newNoDocument(a,Re.min()))}else xe(r===1,20013,{expectedCount:r});else{const a=this._t(t);if(a!==r){const u=this.ut(e),d=u?this.ct(u,e,a):1;if(d!==0){this.it(t);const h=d===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(t,h)}}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=t;let a,u;try{a=Gi(r).toUint8Array()}catch(d){if(d instanceof JC)return io("Decoding the base64 bloom filter in existence filter failed ("+d.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw d}try{u=new Rw(a,i,s)}catch(d){return io(d instanceof jc?"BloomFilter error: ":"Applying bloom filter failed: ",d),null}return u.ge===0?null:u}ct(e,t,r){return t.Ce.count===r-this.Pt(e,t.targetId)?0:2}Pt(e,t){const r=this.Ge.getRemoteKeysForTarget(t);let i=0;return r.forEach((s=>{const a=this.Ge.ht(),u=`projects/${a.projectId}/databases/${a.database}/documents/${s.path.canonicalString()}`;e.mightContain(u)||(this.et(t,s,null),i++)})),i}Tt(e){const t=new Map;this.ze.forEach(((s,a)=>{const u=this.ot(a);if(u){if(s.current&&Zf(u.target)){const d=new ve(u.target.path);this.It(d).has(a)||this.Et(a,d)||this.et(a,d,Vt.newNoDocument(d,e))}s.Be&&(t.set(a,s.ke()),s.qe())}}));let r=ze();this.He.forEach(((s,a)=>{let u=!0;a.forEachWhile((d=>{const h=this.ot(d);return!h||h.purpose==="TargetPurposeLimboResolution"||(u=!1,!1)})),u&&(r=r.add(s))})),this.je.forEach(((s,a)=>a.setReadTime(e)));const i=new kd(e,t,this.Ye,this.je,r);return this.je=sr(),this.Je=lf(),this.He=lf(),this.Ye=new mt(Le),i}Xe(e,t){if(!this.rt(e))return;const r=this.Et(e,t.key)?2:0;this.nt(e).Qe(t.key,r),this.je=this.je.insert(t.key,t),this.Je=this.Je.insert(t.key,this.It(t.key).add(e)),this.He=this.He.insert(t.key,this.dt(t.key).add(e))}et(e,t,r){if(!this.rt(e))return;const i=this.nt(e);this.Et(e,t)?i.Qe(t,1):i.$e(t),this.He=this.He.insert(t,this.dt(t).delete(e)),this.He=this.He.insert(t,this.dt(t).add(e)),r&&(this.je=this.je.insert(t,r))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let t=this.ze.get(e);return t||(t=new cI,this.ze.set(e,t)),t}dt(e){let t=this.He.get(e);return t||(t=new ut(Le),this.He=this.He.insert(e,t)),t}It(e){let t=this.Je.get(e);return t||(t=new ut(Le),this.Je=this.Je.insert(e,t)),t}rt(e){const t=this.ot(e)!==null;return t||le("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new cI),this.Ge.getRemoteKeysForTarget(e).forEach((t=>{this.et(e,t,null)}))}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function lf(){return new mt(ve.comparator)}function dI(){return new mt(ve.comparator)}const UM={asc:"ASCENDING",desc:"DESCENDING"},jM={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},BM={and:"AND",or:"OR"};class $M{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function cv(n,e){return n.useProto3Json||$p(e)?e:{value:e}}function uu(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function DA(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function zM(n,e){return uu(n,e.toTimestamp())}function Vn(n){return xe(!!n,49232),Re.fromTimestamp((function(t){const r=qi(t);return new lt(r.seconds,r.nanos)})(n))}function kw(n,e){return dv(n,e).canonicalString()}function dv(n,e){const t=(function(i){return new st(["projects",i.projectId,"databases",i.database])})(n).child("documents");return e===void 0?t:t.child(e)}function NA(n){const e=st.fromString(n);return xe($A(e),10190,{key:e.toString()}),e}function tp(n,e){return kw(n.databaseId,e.path)}function ma(n,e){const t=NA(e);if(t.get(1)!==n.databaseId.projectId)throw new ye(re.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new ye(re.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new ve(MA(t))}function VA(n,e){return kw(n.databaseId,e)}function OA(n){const e=NA(n);return e.length===4?st.emptyPath():MA(e)}function hv(n){return new st(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function MA(n){return xe(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function hI(n,e,t){return{name:tp(n,e),fields:t.value.mapValue.fields}}function WM(n,e,t){const r=ma(n,e.name),i=Vn(e.updateTime),s=e.createTime?Vn(e.createTime):Re.min(),a=new Pn({mapValue:{fields:e.fields}}),u=Vt.newFoundDocument(r,i,s,a);return t&&u.setHasCommittedMutations(),t?u.setHasCommittedMutations():u}function HM(n,e){let t;if("targetChange"in e){e.targetChange;const r=(function(h){return h==="NO_CHANGE"?0:h==="ADD"?1:h==="REMOVE"?2:h==="CURRENT"?3:h==="RESET"?4:Ie(39313,{state:h})})(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=(function(h,m){return h.useProto3Json?(xe(m===void 0||typeof m=="string",58123),Wt.fromBase64String(m||"")):(xe(m===void 0||m instanceof Buffer||m instanceof Uint8Array,16193),Wt.fromUint8Array(m||new Uint8Array))})(n,e.targetChange.resumeToken),a=e.targetChange.cause,u=a&&(function(h){const m=h.code===void 0?re.UNKNOWN:xA(h.code);return new ye(m,h.message||"")})(a);t=new kA(r,i,s,u||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=ma(n,r.document.name),s=Vn(r.document.updateTime),a=r.document.createTime?Vn(r.document.createTime):Re.min(),u=new Pn({mapValue:{fields:r.document.fields}}),d=Vt.newFoundDocument(i,s,a,u),h=r.targetIds||[],m=r.removedTargetIds||[];t=new Df(h,m,d.key,d)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=ma(n,r.document),s=r.readTime?Vn(r.readTime):Re.min(),a=Vt.newNoDocument(i,s),u=r.removedTargetIds||[];t=new Df([],u,a.key,a)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=ma(n,r.document),s=r.removedTargetIds||[];t=new Df([],s,i,null)}else{if(!("filter"in e))return Ie(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,a=new VM(i,s),u=r.targetId;t=new RA(u,a)}}return t}function np(n,e){let t;if(e instanceof Iu)t={update:hI(n,e.key,e.value)};else if(e instanceof Zp)t={delete:tp(n,e.key)};else if(e instanceof es)t={update:hI(n,e.key,e.data),updateMask:XM(e.fieldMask)};else{if(!(e instanceof bA))return Ie(16599,{Vt:e.type});t={verify:tp(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map((r=>(function(s,a){const u=a.transform;if(u instanceof md)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof au)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof lu)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof gd)return{fieldPath:a.field.canonicalString(),increment:u.Ae};throw Ie(20930,{transform:a.transform})})(0,r)))),e.precondition.isNone||(t.currentDocument=(function(i,s){return s.updateTime!==void 0?{updateTime:zM(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:Ie(27497)})(n,e.precondition)),t}function fv(n,e){const t=e.currentDocument?(function(s){return s.updateTime!==void 0?Cn.updateTime(Vn(s.updateTime)):s.exists!==void 0?Cn.exists(s.exists):Cn.none()})(e.currentDocument):Cn.none(),r=e.updateTransforms?e.updateTransforms.map((i=>(function(a,u){let d=null;if("setToServerValue"in u)xe(u.setToServerValue==="REQUEST_TIME",16630,{proto:u}),d=new md;else if("appendMissingElements"in u){const m=u.appendMissingElements.values||[];d=new au(m)}else if("removeAllFromArray"in u){const m=u.removeAllFromArray.values||[];d=new lu(m)}else"increment"in u?d=new gd(a,u.increment):Ie(16584,{proto:u});const h=bt.fromServerFormat(u.fieldPath);return new xM(h,d)})(n,i))):[];if(e.update){e.update.name;const i=ma(n,e.update.name),s=new Pn({mapValue:{fields:e.update.fields}});if(e.updateMask){const a=(function(d){const h=d.fieldPaths||[];return new zn(h.map((m=>bt.fromServerFormat(m))))})(e.updateMask);return new es(i,s,a,t,r)}return new Iu(i,s,t,r)}if(e.delete){const i=ma(n,e.delete);return new Zp(i,t)}if(e.verify){const i=ma(n,e.verify);return new bA(i,t)}return Ie(1463,{proto:e})}function qM(n,e){return n&&n.length>0?(xe(e!==void 0,14353),n.map((t=>(function(i,s){let a=i.updateTime?Vn(i.updateTime):Vn(s);return a.isEqual(Re.min())&&(a=Vn(s)),new kM(a,i.transformResults||[])})(t,e)))):[]}function LA(n,e){return{documents:[VA(n,e.path)]}}function FA(n,e){const t={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=VA(n,i);const s=(function(h){if(h.length!==0)return BA(dt.create(h,"and"))})(e.filters);s&&(t.structuredQuery.where=s);const a=(function(h){if(h.length!==0)return h.map((m=>(function(v){return{field:Vl(v.field),direction:KM(v.dir)}})(m)))})(e.orderBy);a&&(t.structuredQuery.orderBy=a);const u=cv(n,e.limit);return u!==null&&(t.structuredQuery.limit=u),e.startAt&&(t.structuredQuery.startAt=(function(h){return{before:h.inclusive,values:h.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(h){return{before:!h.inclusive,values:h.position}})(e.endAt)),{ft:t,parent:i}}function UA(n){let e=OA(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){xe(r===1,65062);const m=t.from[0];m.allDescendants?i=m.collectionId:e=e.child(m.collectionId)}let s=[];t.where&&(s=(function(g){const v=jA(g);return v instanceof dt&&Sw(v)?v.getFilters():[v]})(t.where));let a=[];t.orderBy&&(a=(function(g){return g.map((v=>(function(R){return new Jf(Ol(R.field),(function(A){switch(A){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(R.direction))})(v)))})(t.orderBy));let u=null;t.limit&&(u=(function(g){let v;return v=typeof g=="object"?g.value:g,$p(v)?null:v})(t.limit));let d=null;t.startAt&&(d=(function(g){const v=!!g.before,E=g.values||[];return new su(E,v)})(t.startAt));let h=null;return t.endAt&&(h=(function(g){const v=!g.before,E=g.values||[];return new su(E,v)})(t.endAt)),pA(e,i,a,s,u,"F",d,h)}function GM(n,e){const t=(function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ie(28987,{purpose:i})}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function jA(n){return n.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=Ol(t.unaryFilter.field);return Qe.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Ol(t.unaryFilter.field);return Qe.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Ol(t.unaryFilter.field);return Qe.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=Ol(t.unaryFilter.field);return Qe.create(a,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ie(61313);default:return Ie(60726)}})(n):n.fieldFilter!==void 0?(function(t){return Qe.create(Ol(t.fieldFilter.field),(function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ie(58110);default:return Ie(50506)}})(t.fieldFilter.op),t.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(t){return dt.create(t.compositeFilter.filters.map((r=>jA(r))),(function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Ie(1026)}})(t.compositeFilter.op))})(n):Ie(30097,{filter:n})}function KM(n){return UM[n]}function QM(n){return jM[n]}function YM(n){return BM[n]}function Vl(n){return{fieldPath:n.canonicalString()}}function Ol(n){return bt.fromServerFormat(n.fieldPath)}function BA(n){return n instanceof Qe?(function(t){if(t.op==="=="){if(YE(t.value))return{unaryFilter:{field:Vl(t.field),op:"IS_NAN"}};if(QE(t.value))return{unaryFilter:{field:Vl(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(YE(t.value))return{unaryFilter:{field:Vl(t.field),op:"IS_NOT_NAN"}};if(QE(t.value))return{unaryFilter:{field:Vl(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Vl(t.field),op:QM(t.op),value:t.value}}})(n):n instanceof dt?(function(t){const r=t.getFilters().map((i=>BA(i)));return r.length===1?r[0]:{compositeFilter:{op:YM(t.op),filters:r}}})(n):Ie(54877,{filter:n})}function XM(n){const e=[];return n.fields.forEach((t=>e.push(t.canonicalString()))),{fieldPaths:e}}function $A(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}class Ui{constructor(e,t,r,i,s=Re.min(),a=Re.min(),u=Wt.EMPTY_BYTE_STRING,d=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=u,this.expectedCount=d}withSequenceNumber(e){return new Ui(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Ui(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ui(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ui(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class zA{constructor(e){this.yt=e}}function JM(n,e){let t;if(e.document)t=WM(n.yt,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=ve.fromSegments(e.noDocument.path),i=Ia(e.noDocument.readTime);t=Vt.newNoDocument(r,i),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return Ie(56709);{const r=ve.fromSegments(e.unknownDocument.path),i=Ia(e.unknownDocument.version);t=Vt.newUnknownDocument(r,i)}}return e.readTime&&t.setReadTime((function(i){const s=new lt(i[0],i[1]);return Re.fromTimestamp(s)})(e.readTime)),t}function fI(n,e){const t=e.key,r={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:rp(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document=(function(s,a){return{name:tp(s,a.key),fields:a.data.value.mapValue.fields,updateTime:uu(s,a.version.toTimestamp()),createTime:uu(s,a.createTime.toTimestamp())}})(n.yt,e);else if(e.isNoDocument())r.noDocument={path:t.path.toArray(),readTime:Ea(e.version)};else{if(!e.isUnknownDocument())return Ie(57904,{document:e});r.unknownDocument={path:t.path.toArray(),version:Ea(e.version)}}return r}function rp(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function Ea(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Ia(n){const e=new lt(n.seconds,n.nanoseconds);return Re.fromTimestamp(e)}function aa(n,e){const t=(e.baseMutations||[]).map((s=>fv(n.yt,s)));for(let s=0;s<e.mutations.length-1;++s){const a=e.mutations[s];if(s+1<e.mutations.length&&e.mutations[s+1].transform!==void 0){const u=e.mutations[s+1];a.updateTransforms=u.transform.fieldTransforms,e.mutations.splice(s+1,1),++s}}const r=e.mutations.map((s=>fv(n.yt,s))),i=lt.fromMillis(e.localWriteTimeMs);return new Aw(e.batchId,i,t,r)}function Bc(n){const e=Ia(n.readTime),t=n.lastLimboFreeSnapshotVersion!==void 0?Ia(n.lastLimboFreeSnapshotVersion):Re.min();let r;return r=(function(s){return s.documents!==void 0})(n.query)?(function(s){const a=s.documents.length;return xe(a===1,1966,{count:a}),or(Qp(OA(s.documents[0])))})(n.query):(function(s){return or(UA(s))})(n.query),new Ui(r,n.targetId,"TargetPurposeListen",n.lastListenSequenceNumber,e,t,Wt.fromBase64String(n.resumeToken))}function WA(n,e){const t=Ea(e.snapshotVersion),r=Ea(e.lastLimboFreeSnapshotVersion);let i;i=Zf(e.target)?LA(n.yt,e.target):FA(n.yt,e.target).ft;const s=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Ta(e.target),readTime:t,resumeToken:s,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function HA(n){const e=UA({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?uv(e,e.limit,"L"):e}function uy(n,e){return new xw(e.largestBatchId,fv(n.yt,e.overlayMutation))}function pI(n,e){const t=e.path.lastSegment();return[n,An(e.path.popLast()),t]}function mI(n,e,t,r){return{indexId:n,uid:e,sequenceNumber:t,readTime:Ea(r.readTime),documentKey:An(r.documentKey.path),largestBatchId:r.largestBatchId}}class ZM{getBundleMetadata(e,t){return gI(e).get(t).next((r=>{if(r)return(function(s){return{id:s.bundleId,createTime:Ia(s.createTime),version:s.version}})(r)}))}saveBundleMetadata(e,t){return gI(e).put((function(i){return{bundleId:i.id,createTime:Ea(Vn(i.createTime)),version:i.version}})(t))}getNamedQuery(e,t){return yI(e).get(t).next((r=>{if(r)return(function(s){return{name:s.name,query:HA(s.bundledQuery),readTime:Ia(s.readTime)}})(r)}))}saveNamedQuery(e,t){return yI(e).put((function(i){return{name:i.name,readTime:Ea(Vn(i.readTime)),bundledQuery:i.bundledQuery}})(t))}}function gI(n){return rn(n,zp)}function yI(n){return rn(n,Wp)}class em{constructor(e,t){this.serializer=e,this.userId=t}static wt(e,t){const r=t.uid||"";return new em(e,r)}getOverlay(e,t){return Ec(e).get(pI(this.userId,t)).next((r=>r?uy(this.serializer,r):null))}getOverlays(e,t){const r=ai();return W.forEach(t,(i=>this.getOverlay(e,i).next((s=>{s!==null&&r.set(i,s)})))).next((()=>r))}saveOverlays(e,t,r){const i=[];return r.forEach(((s,a)=>{const u=new xw(t,a);i.push(this.St(e,u))})),W.waitFor(i)}removeOverlaysForBatchId(e,t,r){const i=new Set;t.forEach((a=>i.add(An(a.getCollectionPath()))));const s=[];return i.forEach((a=>{const u=IDBKeyRange.bound([this.userId,a,r],[this.userId,a,r+1],!1,!0);s.push(Ec(e).Z(nv,u))})),W.waitFor(s)}getOverlaysForCollection(e,t,r){const i=ai(),s=An(t),a=IDBKeyRange.bound([this.userId,s,r],[this.userId,s,Number.POSITIVE_INFINITY],!0);return Ec(e).J(nv,a).next((u=>{for(const d of u){const h=uy(this.serializer,d);i.set(h.getKey(),h)}return i}))}getOverlaysForCollectionGroup(e,t,r,i){const s=ai();let a;const u=IDBKeyRange.bound([this.userId,t,r],[this.userId,t,Number.POSITIVE_INFINITY],!0);return Ec(e).ee({index:qC,range:u},((d,h,m)=>{const g=uy(this.serializer,h);s.size()<i||g.largestBatchId===a?(s.set(g.getKey(),g),a=g.largestBatchId):m.done()})).next((()=>s))}St(e,t){return Ec(e).put((function(i,s,a){const[u,d,h]=pI(s,a.mutation.key);return{userId:s,collectionPath:d,documentId:h,collectionGroup:a.mutation.key.getCollectionGroup(),largestBatchId:a.largestBatchId,overlayMutation:np(i.yt,a.mutation)}})(this.serializer,this.userId,t))}}function Ec(n){return rn(n,Hp)}class eL{bt(e){return rn(e,vw)}getSessionToken(e){return this.bt(e).get("sessionToken").next((t=>{const r=t?.value;return r?Wt.fromUint8Array(r):Wt.EMPTY_BYTE_STRING}))}setSessionToken(e,t){return this.bt(e).put({name:"sessionToken",value:t.toUint8Array()})}}class la{constructor(){}Dt(e,t){this.Ct(e,t),t.vt()}Ct(e,t){if("nullValue"in e)this.Ft(t,5);else if("booleanValue"in e)this.Ft(t,10),t.Mt(e.booleanValue?1:0);else if("integerValue"in e)this.Ft(t,15),t.Mt(It(e.integerValue));else if("doubleValue"in e){const r=It(e.doubleValue);isNaN(r)?this.Ft(t,13):(this.Ft(t,15),ld(r)?t.Mt(0):t.Mt(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Ft(t,20),typeof r=="string"&&(r=qi(r)),t.xt(`${r.seconds||""}`),t.Mt(r.nanos||0)}else if("stringValue"in e)this.Ot(e.stringValue,t),this.Nt(t);else if("bytesValue"in e)this.Ft(t,30),t.Bt(Gi(e.bytesValue)),this.Nt(t);else if("referenceValue"in e)this.Lt(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.Ft(t,45),t.Mt(r.latitude||0),t.Mt(r.longitude||0)}else"mapValue"in e?iA(e)?this.Ft(t,Number.MAX_SAFE_INTEGER):Gp(e)?this.kt(e.mapValue,t):(this.qt(e.mapValue,t),this.Nt(t)):"arrayValue"in e?(this.Qt(e.arrayValue,t),this.Nt(t)):Ie(19022,{$t:e})}Ot(e,t){this.Ft(t,25),this.Ut(e,t)}Ut(e,t){t.xt(e)}qt(e,t){const r=e.fields||{};this.Ft(t,55);for(const i of Object.keys(r))this.Ot(i,t),this.Ct(r[i],t)}kt(e,t){const r=e.fields||{};this.Ft(t,53);const i=ru,s=r[i].arrayValue?.values?.length||0;this.Ft(t,15),t.Mt(It(s)),this.Ot(i,t),this.Ct(r[i],t)}Qt(e,t){const r=e.values||[];this.Ft(t,50);for(const i of r)this.Ct(i,t)}Lt(e,t){this.Ft(t,37),ve.fromName(e).path.forEach((r=>{this.Ft(t,60),this.Ut(r,t)}))}Ft(e,t){e.Mt(t)}Nt(e){e.Mt(2)}}la.Kt=new la;const Pl=255;function tL(n){if(n===0)return 8;let e=0;return n>>4||(e+=4,n<<=4),n>>6||(e+=2,n<<=2),n>>7||(e+=1),e}function vI(n){const e=64-(function(r){let i=0;for(let s=0;s<8;++s){const a=tL(255&r[s]);if(i+=a,a!==8)break}return i})(n);return Math.ceil(e/8)}class nL{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Wt(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.Gt(r.value),r=t.next();this.zt()}jt(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.Jt(r.value),r=t.next();this.Ht()}Yt(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.Gt(r);else if(r<2048)this.Gt(960|r>>>6),this.Gt(128|63&r);else if(t<"\uD800"||"\uDBFF"<t)this.Gt(480|r>>>12),this.Gt(128|63&r>>>6),this.Gt(128|63&r);else{const i=t.codePointAt(0);this.Gt(240|i>>>18),this.Gt(128|63&i>>>12),this.Gt(128|63&i>>>6),this.Gt(128|63&i)}}this.zt()}Zt(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.Jt(r);else if(r<2048)this.Jt(960|r>>>6),this.Jt(128|63&r);else if(t<"\uD800"||"\uDBFF"<t)this.Jt(480|r>>>12),this.Jt(128|63&r>>>6),this.Jt(128|63&r);else{const i=t.codePointAt(0);this.Jt(240|i>>>18),this.Jt(128|63&i>>>12),this.Jt(128|63&i>>>6),this.Jt(128|63&i)}}this.Ht()}Xt(e){const t=this.en(e),r=vI(t);this.tn(1+r),this.buffer[this.position++]=255&r;for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=255&t[i]}nn(e){const t=this.en(e),r=vI(t);this.tn(1+r),this.buffer[this.position++]=~(255&r);for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=~(255&t[i])}rn(){this.sn(Pl),this.sn(255)}_n(){this.an(Pl),this.an(255)}reset(){this.position=0}seed(e){this.tn(e.length),this.buffer.set(e,this.position),this.position+=e.length}un(){return this.buffer.slice(0,this.position)}en(e){const t=(function(s){const a=new DataView(new ArrayBuffer(8));return a.setFloat64(0,s,!1),new Uint8Array(a.buffer)})(e),r=!!(128&t[0]);t[0]^=r?255:128;for(let i=1;i<t.length;++i)t[i]^=r?255:0;return t}Gt(e){const t=255&e;t===0?(this.sn(0),this.sn(255)):t===Pl?(this.sn(Pl),this.sn(0)):this.sn(t)}Jt(e){const t=255&e;t===0?(this.an(0),this.an(255)):t===Pl?(this.an(Pl),this.an(0)):this.an(e)}zt(){this.sn(0),this.sn(1)}Ht(){this.an(0),this.an(1)}sn(e){this.tn(1),this.buffer[this.position++]=e}an(e){this.tn(1),this.buffer[this.position++]=~e}tn(e){const t=e+this.position;if(t<=this.buffer.length)return;let r=2*this.buffer.length;r<t&&(r=t);const i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}}class rL{constructor(e){this.cn=e}Bt(e){this.cn.Wt(e)}xt(e){this.cn.Yt(e)}Mt(e){this.cn.Xt(e)}vt(){this.cn.rn()}}class iL{constructor(e){this.cn=e}Bt(e){this.cn.jt(e)}xt(e){this.cn.Zt(e)}Mt(e){this.cn.nn(e)}vt(){this.cn._n()}}class Ic{constructor(){this.cn=new nL,this.ln=new rL(this.cn),this.hn=new iL(this.cn)}seed(e){this.cn.seed(e)}Pn(e){return e===0?this.ln:this.hn}un(){return this.cn.un()}reset(){this.cn.reset()}}class ua{constructor(e,t,r,i){this.Tn=e,this.In=t,this.En=r,this.dn=i}An(){const e=this.dn.length,t=e===0||this.dn[e-1]===255?e+1:e,r=new Uint8Array(t);return r.set(this.dn,0),t!==e?r.set([0],this.dn.length):++r[r.length-1],new ua(this.Tn,this.In,this.En,r)}Rn(e,t,r){return{indexId:this.Tn,uid:e,arrayValue:Nf(this.En),directionalValue:Nf(this.dn),orderedDocumentKey:Nf(t),documentKey:r.path.toArray()}}Vn(e,t,r){const i=this.Rn(e,t,r);return[i.indexId,i.uid,i.arrayValue,i.directionalValue,i.orderedDocumentKey,i.documentKey]}}function Vs(n,e){let t=n.Tn-e.Tn;return t!==0?t:(t=wI(n.En,e.En),t!==0?t:(t=wI(n.dn,e.dn),t!==0?t:ve.comparator(n.In,e.In)))}function wI(n,e){for(let t=0;t<n.length&&t<e.length;++t){const r=n[t]-e[t];if(r!==0)return r}return n.length-e.length}function Nf(n){return yC()?(function(t){let r="";for(let i=0;i<t.length;i++)r+=String.fromCharCode(t[i]);return r})(n):n}function _I(n){return typeof n!="string"?n:(function(t){const r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r})(n)}class TI{constructor(e){this.mn=new ut(((t,r)=>bt.comparator(t.field,r.field))),this.collectionId=e.collectionGroup!=null?e.collectionGroup:e.path.lastSegment(),this.fn=e.orderBy,this.gn=[];for(const t of e.filters){const r=t;r.isInequality()?this.mn=this.mn.add(r):this.gn.push(r)}}get pn(){return this.mn.size>1}yn(e){if(xe(e.collectionGroup===this.collectionId,49279),this.pn)return!1;const t=Zy(e);if(t!==void 0&&!this.wn(t))return!1;const r=ea(e);let i=new Set,s=0,a=0;for(;s<r.length&&this.wn(r[s]);++s)i=i.add(r[s].fieldPath.canonicalString());if(s===r.length)return!0;if(this.mn.size>0){const u=this.mn.getIterator().getNext();if(!i.has(u.field.canonicalString())){const d=r[s];if(!this.Sn(u,d)||!this.bn(this.fn[a++],d))return!1}++s}for(;s<r.length;++s){const u=r[s];if(a>=this.fn.length||!this.bn(this.fn[a++],u))return!1}return!0}Dn(){if(this.pn)return null;let e=new ut(bt.comparator);const t=[];for(const r of this.gn)if(!r.field.isKeyField())if(r.op==="array-contains"||r.op==="array-contains-any")t.push(new Pf(r.field,2));else{if(e.has(r.field))continue;e=e.add(r.field),t.push(new Pf(r.field,0))}for(const r of this.fn)r.field.isKeyField()||e.has(r.field)||(e=e.add(r.field),t.push(new Pf(r.field,r.dir==="asc"?0:1)));return new Gf(Gf.UNKNOWN_ID,this.collectionId,t,ad.empty())}wn(e){for(const t of this.gn)if(this.Sn(t,e))return!0;return!1}Sn(e,t){if(e===void 0||!e.field.isEqual(t.fieldPath))return!1;const r=e.op==="array-contains"||e.op==="array-contains-any";return t.kind===2===r}bn(e,t){return!!e.field.isEqual(t.fieldPath)&&(t.kind===0&&e.dir==="asc"||t.kind===1&&e.dir==="desc")}}function qA(n){if(xe(n instanceof Qe||n instanceof dt,20012),n instanceof Qe){if(n instanceof fA){const t=n.value.arrayValue?.values?.map((r=>Qe.create(n.field,"==",r)))||[];return dt.create(t,"or")}return n}const e=n.filters.map((t=>qA(t)));return dt.create(e,n.op)}function sL(n){if(n.getFilters().length===0)return[];const e=gv(qA(n));return xe(GA(e),7391),pv(e)||mv(e)?[e]:e.getFilters()}function pv(n){return n instanceof Qe}function mv(n){return n instanceof dt&&Sw(n)}function GA(n){return pv(n)||mv(n)||(function(t){if(t instanceof dt&&ov(t)){for(const r of t.getFilters())if(!pv(r)&&!mv(r))return!1;return!0}return!1})(n)}function gv(n){if(xe(n instanceof Qe||n instanceof dt,34018),n instanceof Qe)return n;if(n.filters.length===1)return gv(n.filters[0]);const e=n.filters.map((r=>gv(r)));let t=dt.create(e,n.op);return t=ip(t),GA(t)?t:(xe(t instanceof dt,64498),xe(ou(t),40251),xe(t.filters.length>1,57927),t.filters.reduce(((r,i)=>Dw(r,i))))}function Dw(n,e){let t;return xe(n instanceof Qe||n instanceof dt,38388),xe(e instanceof Qe||e instanceof dt,25473),t=n instanceof Qe?e instanceof Qe?(function(i,s){return dt.create([i,s],"and")})(n,e):EI(n,e):e instanceof Qe?EI(e,n):(function(i,s){if(xe(i.filters.length>0&&s.filters.length>0,48005),ou(i)&&ou(s))return cA(i,s.getFilters());const a=ov(i)?i:s,u=ov(i)?s:i,d=a.filters.map((h=>Dw(h,u)));return dt.create(d,"or")})(n,e),ip(t)}function EI(n,e){if(ou(e))return cA(e,n.getFilters());{const t=e.filters.map((r=>Dw(n,r)));return dt.create(t,"or")}}function ip(n){if(xe(n instanceof Qe||n instanceof dt,11850),n instanceof Qe)return n;const e=n.getFilters();if(e.length===1)return ip(e[0]);if(lA(n))return n;const t=e.map((i=>ip(i))),r=[];return t.forEach((i=>{i instanceof Qe?r.push(i):i instanceof dt&&(i.op===n.op?r.push(...i.filters):r.push(i))})),r.length===1?r[0]:dt.create(r,n.op)}class oL{constructor(){this.Cn=new Nw}addToCollectionParentIndex(e,t){return this.Cn.add(t),W.resolve()}getCollectionParents(e,t){return W.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return W.resolve()}deleteFieldIndex(e,t){return W.resolve()}deleteAllFieldIndexes(e){return W.resolve()}createTargetIndexes(e,t){return W.resolve()}getDocumentsMatchingTarget(e,t){return W.resolve(null)}getIndexType(e,t){return W.resolve(0)}getFieldIndexes(e,t){return W.resolve([])}getNextCollectionGroupToUpdate(e){return W.resolve(null)}getMinOffset(e,t){return W.resolve(ar.min())}getMinOffsetFromCollectionGroup(e,t){return W.resolve(ar.min())}updateCollectionGroup(e,t,r){return W.resolve()}updateIndexEntries(e,t){return W.resolve()}}class Nw{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new ut(st.comparator),s=!i.has(r);return this.index[t]=i.add(r),s}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new ut(st.comparator)).toArray()}}const II="IndexedDbIndexManager",uf=new Uint8Array(0);class aL{constructor(e,t){this.databaseId=t,this.vn=new Nw,this.Fn=new Zi((r=>Ta(r)),((r,i)=>xd(r,i))),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.vn.has(t)){const r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener((()=>{this.vn.add(t)}));const s={collectionId:r,parent:An(i)};return SI(e).put(s)}return W.resolve()}getCollectionParents(e,t){const r=[],i=IDBKeyRange.bound([t,""],[DC(t),""],!1,!0);return SI(e).J(i).next((s=>{for(const a of s){if(a.collectionId!==t)break;r.push(oi(a.parent))}return r}))}addFieldIndex(e,t){const r=Sc(e),i=(function(u){return{indexId:u.indexId,collectionGroup:u.collectionGroup,fields:u.fields.map((d=>[d.fieldPath.canonicalString(),d.kind]))}})(t);delete i.indexId;const s=r.add(i);if(t.indexState){const a=Al(e);return s.next((u=>{a.put(mI(u,this.uid,t.indexState.sequenceNumber,t.indexState.offset))}))}return s.next()}deleteFieldIndex(e,t){const r=Sc(e),i=Al(e),s=Cl(e);return r.delete(t.indexId).next((()=>i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))).next((()=>s.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))))}deleteAllFieldIndexes(e){const t=Sc(e),r=Cl(e),i=Al(e);return t.Z().next((()=>r.Z())).next((()=>i.Z()))}createTargetIndexes(e,t){return W.forEach(this.Mn(t),(r=>this.getIndexType(e,r).next((i=>{if(i===0||i===1){const s=new TI(r).Dn();if(s!=null)return this.addFieldIndex(e,s)}}))))}getDocumentsMatchingTarget(e,t){const r=Cl(e);let i=!0;const s=new Map;return W.forEach(this.Mn(t),(a=>this.xn(e,a).next((u=>{i&&(i=!!u),s.set(a,u)})))).next((()=>{if(i){let a=ze();const u=[];return W.forEach(s,((d,h)=>{le(II,`Using index ${(function(F){return`id=${F.indexId}|cg=${F.collectionGroup}|f=${F.fields.map((z=>`${z.fieldPath}:${z.kind}`)).join(",")}`})(d)} to execute ${Ta(t)}`);const m=(function(F,z){const te=Zy(z);if(te===void 0)return null;for(const Y of ep(F,te.fieldPath))switch(Y.op){case"array-contains-any":return Y.value.arrayValue.values||[];case"array-contains":return[Y.value]}return null})(h,d),g=(function(F,z){const te=new Map;for(const Y of ea(z))for(const C of ep(F,Y.fieldPath))switch(C.op){case"==":case"in":te.set(Y.fieldPath.canonicalString(),C.value);break;case"not-in":case"!=":return te.set(Y.fieldPath.canonicalString(),C.value),Array.from(te.values())}return null})(h,d),v=(function(F,z){const te=[];let Y=!0;for(const C of ea(z)){const S=C.kind===0?tI(F,C.fieldPath,F.startAt):nI(F,C.fieldPath,F.startAt);te.push(S.value),Y&&(Y=S.inclusive)}return new su(te,Y)})(h,d),E=(function(F,z){const te=[];let Y=!0;for(const C of ea(z)){const S=C.kind===0?nI(F,C.fieldPath,F.endAt):tI(F,C.fieldPath,F.endAt);te.push(S.value),Y&&(Y=S.inclusive)}return new su(te,Y)})(h,d),R=this.On(d,h,v),k=this.On(d,h,E),A=this.Nn(d,h,g),j=this.Bn(d.indexId,m,R,v.inclusive,k,E.inclusive,A);return W.forEach(j,(O=>r.Y(O,t.limit).next((F=>{F.forEach((z=>{const te=ve.fromSegments(z.documentKey);a.has(te)||(a=a.add(te),u.push(te))}))}))))})).next((()=>u))}return W.resolve(null)}))}Mn(e){let t=this.Fn.get(e);return t||(e.filters.length===0?t=[e]:t=sL(dt.create(e.filters,"and")).map((r=>lv(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt))),this.Fn.set(e,t),t)}Bn(e,t,r,i,s,a,u){const d=(t!=null?t.length:1)*Math.max(r.length,s.length),h=d/(t!=null?t.length:1),m=[];for(let g=0;g<d;++g){const v=t?this.Ln(t[g/h]):uf,E=this.kn(e,v,r[g%h],i),R=this.qn(e,v,s[g%h],a),k=u.map((A=>this.kn(e,v,A,!0)));m.push(...this.createRange(E,R,k))}return m}kn(e,t,r,i){const s=new ua(e,ve.empty(),t,r);return i?s:s.An()}qn(e,t,r,i){const s=new ua(e,ve.empty(),t,r);return i?s.An():s}xn(e,t){const r=new TI(t),i=t.collectionGroup!=null?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,i).next((s=>{let a=null;for(const u of s)r.yn(u)&&(!a||u.fields.length>a.fields.length)&&(a=u);return a}))}getIndexType(e,t){let r=2;const i=this.Mn(t);return W.forEach(i,(s=>this.xn(e,s).next((a=>{a?r!==0&&a.fields.length<(function(d){let h=new ut(bt.comparator),m=!1;for(const g of d.filters)for(const v of g.getFlattenedFilters())v.field.isKeyField()||(v.op==="array-contains"||v.op==="array-contains-any"?m=!0:h=h.add(v.field));for(const g of d.orderBy)g.field.isKeyField()||(h=h.add(g.field));return h.size+(m?1:0)})(s)&&(r=1):r=0})))).next((()=>(function(a){return a.limit!==null})(t)&&i.length>1&&r===2?1:r))}Qn(e,t){const r=new Ic;for(const i of ea(e)){const s=t.data.field(i.fieldPath);if(s==null)return null;const a=r.Pn(i.kind);la.Kt.Dt(s,a)}return r.un()}Ln(e){const t=new Ic;return la.Kt.Dt(e,t.Pn(0)),t.un()}$n(e,t){const r=new Ic;return la.Kt.Dt(Iw(this.databaseId,t),r.Pn((function(s){const a=ea(s);return a.length===0?0:a[a.length-1].kind})(e))),r.un()}Nn(e,t,r){if(r===null)return[];let i=[];i.push(new Ic);let s=0;for(const a of ea(e)){const u=r[s++];for(const d of i)if(this.Un(t,a.fieldPath)&&pd(u))i=this.Kn(i,a,u);else{const h=d.Pn(a.kind);la.Kt.Dt(u,h)}}return this.Wn(i)}On(e,t,r){return this.Nn(e,t,r.position)}Wn(e){const t=[];for(let r=0;r<e.length;++r)t[r]=e[r].un();return t}Kn(e,t,r){const i=[...e],s=[];for(const a of r.arrayValue.values||[])for(const u of i){const d=new Ic;d.seed(u.un()),la.Kt.Dt(a,d.Pn(t.kind)),s.push(d)}return s}Un(e,t){return!!e.filters.find((r=>r instanceof Qe&&r.field.isEqual(t)&&(r.op==="in"||r.op==="not-in")))}getFieldIndexes(e,t){const r=Sc(e),i=Al(e);return(t?r.J(tv,IDBKeyRange.bound(t,t)):r.J()).next((s=>{const a=[];return W.forEach(s,(u=>i.get([u.indexId,this.uid]).next((d=>{a.push((function(m,g){const v=g?new ad(g.sequenceNumber,new ar(Ia(g.readTime),new ve(oi(g.documentKey)),g.largestBatchId)):ad.empty(),E=m.fields.map((([R,k])=>new Pf(bt.fromServerFormat(R),k)));return new Gf(m.indexId,m.collectionGroup,E,v)})(u,d))})))).next((()=>a))}))}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next((t=>t.length===0?null:(t.sort(((r,i)=>{const s=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return s!==0?s:Le(r.collectionGroup,i.collectionGroup)})),t[0].collectionGroup)))}updateCollectionGroup(e,t,r){const i=Sc(e),s=Al(e);return this.Gn(e).next((a=>i.J(tv,IDBKeyRange.bound(t,t)).next((u=>W.forEach(u,(d=>s.put(mI(d.indexId,this.uid,a,r))))))))}updateIndexEntries(e,t){const r=new Map;return W.forEach(t,((i,s)=>{const a=r.get(i.collectionGroup);return(a?W.resolve(a):this.getFieldIndexes(e,i.collectionGroup)).next((u=>(r.set(i.collectionGroup,u),W.forEach(u,(d=>this.zn(e,i,d).next((h=>{const m=this.jn(s,d);return h.isEqual(m)?W.resolve():this.Jn(e,s,d,h,m)})))))))}))}Hn(e,t,r,i){return Cl(e).put(i.Rn(this.uid,this.$n(r,t.key),t.key))}Yn(e,t,r,i){return Cl(e).delete(i.Vn(this.uid,this.$n(r,t.key),t.key))}zn(e,t,r){const i=Cl(e);let s=new ut(Vs);return i.ee({index:HC,range:IDBKeyRange.only([r.indexId,this.uid,Nf(this.$n(r,t))])},((a,u)=>{s=s.add(new ua(r.indexId,t,_I(u.arrayValue),_I(u.directionalValue)))})).next((()=>s))}jn(e,t){let r=new ut(Vs);const i=this.Qn(t,e);if(i==null)return r;const s=Zy(t);if(s!=null){const a=e.data.field(s.fieldPath);if(pd(a))for(const u of a.arrayValue.values||[])r=r.add(new ua(t.indexId,e.key,this.Ln(u),i))}else r=r.add(new ua(t.indexId,e.key,uf,i));return r}Jn(e,t,r,i,s){le(II,"Updating index entries for document '%s'",t.key);const a=[];return(function(d,h,m,g,v){const E=d.getIterator(),R=h.getIterator();let k=Sl(E),A=Sl(R);for(;k||A;){let j=!1,O=!1;if(k&&A){const F=m(k,A);F<0?O=!0:F>0&&(j=!0)}else k!=null?O=!0:j=!0;j?(g(A),A=Sl(R)):O?(v(k),k=Sl(E)):(k=Sl(E),A=Sl(R))}})(i,s,Vs,(u=>{a.push(this.Hn(e,t,r,u))}),(u=>{a.push(this.Yn(e,t,r,u))})),W.waitFor(a)}Gn(e){let t=1;return Al(e).ee({index:WC,reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},((r,i,s)=>{s.done(),t=i.sequenceNumber+1})).next((()=>t))}createRange(e,t,r){r=r.sort(((a,u)=>Vs(a,u))).filter(((a,u,d)=>!u||Vs(a,d[u-1])!==0));const i=[];i.push(e);for(const a of r){const u=Vs(a,e),d=Vs(a,t);if(u===0)i[0]=e.An();else if(u>0&&d<0)i.push(a),i.push(a.An());else if(d>0)break}i.push(t);const s=[];for(let a=0;a<i.length;a+=2){if(this.Zn(i[a],i[a+1]))return[];const u=i[a].Vn(this.uid,uf,ve.empty()),d=i[a+1].Vn(this.uid,uf,ve.empty());s.push(IDBKeyRange.bound(u,d))}return s}Zn(e,t){return Vs(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(PI)}getMinOffset(e,t){return W.mapArray(this.Mn(t),(r=>this.xn(e,r).next((i=>i||Ie(44426))))).next(PI)}}function SI(n){return rn(n,dd)}function Cl(n){return rn(n,Gc)}function Sc(n){return rn(n,yw)}function Al(n){return rn(n,qc)}function PI(n){xe(n.length!==0,28825);let e=n[0].indexState.offset,t=e.largestBatchId;for(let r=1;r<n.length;r++){const i=n[r].indexState.offset;pw(i,e)<0&&(e=i),t<i.largestBatchId&&(t=i.largestBatchId)}return new ar(e.readTime,e.documentKey,t)}const CI={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},KA=41943040;class Sn{static withCacheSize(e){return new Sn(e,Sn.DEFAULT_COLLECTION_PERCENTILE,Sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}}function QA(n,e,t){const r=n.store(kr),i=n.store(Zl),s=[],a=IDBKeyRange.only(t.batchId);let u=0;const d=r.ee({range:a},((m,g,v)=>(u++,v.delete())));s.push(d.next((()=>{xe(u===1,47070,{batchId:t.batchId})})));const h=[];for(const m of t.mutations){const g=BC(e,m.key.path,t.batchId);s.push(i.delete(g)),h.push(m.key)}return W.waitFor(s).next((()=>h))}function sp(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw Ie(14731);e=n.noDocument}return JSON.stringify(e).length}Sn.DEFAULT_COLLECTION_PERCENTILE=10,Sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Sn.DEFAULT=new Sn(KA,Sn.DEFAULT_COLLECTION_PERCENTILE,Sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Sn.DISABLED=new Sn(-1,0,0);class tm{constructor(e,t,r,i){this.userId=e,this.serializer=t,this.indexManager=r,this.referenceDelegate=i,this.Xn={}}static wt(e,t,r,i){xe(e.uid!=="",64387);const s=e.isAuthenticated()?e.uid:"";return new tm(s,t,r,i)}checkEmpty(e){let t=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Os(e).ee({index:ca,range:r},((i,s,a)=>{t=!1,a.done()})).next((()=>t))}addMutationBatch(e,t,r,i){const s=Ml(e),a=Os(e);return a.add({}).next((u=>{xe(typeof u=="number",49019);const d=new Aw(u,t,r,i),h=(function(E,R,k){const A=k.baseMutations.map((O=>np(E.yt,O))),j=k.mutations.map((O=>np(E.yt,O)));return{userId:R,batchId:k.batchId,localWriteTimeMs:k.localWriteTime.toMillis(),baseMutations:A,mutations:j}})(this.serializer,this.userId,d),m=[];let g=new ut(((v,E)=>Le(v.canonicalString(),E.canonicalString())));for(const v of i){const E=BC(this.userId,v.key.path,u);g=g.add(v.key.path.popLast()),m.push(a.put(h)),m.push(s.put(E,LO))}return g.forEach((v=>{m.push(this.indexManager.addToCollectionParentIndex(e,v))})),e.addOnCommittedListener((()=>{this.Xn[u]=d.keys()})),W.waitFor(m).next((()=>d))}))}lookupMutationBatch(e,t){return Os(e).get(t).next((r=>r?(xe(r.userId===this.userId,48,"Unexpected user for mutation batch",{userId:r.userId,batchId:t}),aa(this.serializer,r)):null))}er(e,t){return this.Xn[t]?W.resolve(this.Xn[t]):this.lookupMutationBatch(e,t).next((r=>{if(r){const i=r.keys();return this.Xn[t]=i,i}return null}))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]);let s=null;return Os(e).ee({index:ca,range:i},((a,u,d)=>{u.userId===this.userId&&(xe(u.batchId>=r,47524,{tr:r}),s=aa(this.serializer,u)),d.done()})).next((()=>s))}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=fa;return Os(e).ee({index:ca,range:t,reverse:!0},((i,s,a)=>{r=s.batchId,a.done()})).next((()=>r))}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,fa],[this.userId,Number.POSITIVE_INFINITY]);return Os(e).J(ca,t).next((r=>r.map((i=>aa(this.serializer,i)))))}getAllMutationBatchesAffectingDocumentKey(e,t){const r=Cf(this.userId,t.path),i=IDBKeyRange.lowerBound(r),s=[];return Ml(e).ee({range:i},((a,u,d)=>{const[h,m,g]=a,v=oi(m);if(h===this.userId&&t.path.isEqual(v))return Os(e).get(g).next((E=>{if(!E)throw Ie(61480,{nr:a,batchId:g});xe(E.userId===this.userId,10503,"Unexpected user for mutation batch",{userId:E.userId,batchId:g}),s.push(aa(this.serializer,E))}));d.done()})).next((()=>s))}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new ut(Le);const i=[];return t.forEach((s=>{const a=Cf(this.userId,s.path),u=IDBKeyRange.lowerBound(a),d=Ml(e).ee({range:u},((h,m,g)=>{const[v,E,R]=h,k=oi(E);v===this.userId&&s.path.isEqual(k)?r=r.add(R):g.done()}));i.push(d)})),W.waitFor(i).next((()=>this.rr(e,r)))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1,s=Cf(this.userId,r),a=IDBKeyRange.lowerBound(s);let u=new ut(Le);return Ml(e).ee({range:a},((d,h,m)=>{const[g,v,E]=d,R=oi(v);g===this.userId&&r.isPrefixOf(R)?R.length===i&&(u=u.add(E)):m.done()})).next((()=>this.rr(e,u)))}rr(e,t){const r=[],i=[];return t.forEach((s=>{i.push(Os(e).get(s).next((a=>{if(a===null)throw Ie(35274,{batchId:s});xe(a.userId===this.userId,9748,"Unexpected user for mutation batch",{userId:a.userId,batchId:s}),r.push(aa(this.serializer,a))})))})),W.waitFor(i).next((()=>r))}removeMutationBatch(e,t){return QA(e.le,this.userId,t).next((r=>(e.addOnCommittedListener((()=>{this.ir(t.batchId)})),W.forEach(r,(i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))))}ir(e){delete this.Xn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next((t=>{if(!t)return W.resolve();const r=IDBKeyRange.lowerBound((function(a){return[a]})(this.userId)),i=[];return Ml(e).ee({range:r},((s,a,u)=>{if(s[0]===this.userId){const d=oi(s[1]);i.push(d)}else u.done()})).next((()=>{xe(i.length===0,56720,{sr:i.map((s=>s.canonicalString()))})}))}))}containsKey(e,t){return YA(e,this.userId,t)}_r(e){return XA(e).get(this.userId).next((t=>t||{userId:this.userId,lastAcknowledgedBatchId:fa,lastStreamToken:""}))}}function YA(n,e,t){const r=Cf(e,t.path),i=r[1],s=IDBKeyRange.lowerBound(r);let a=!1;return Ml(n).ee({range:s,X:!0},((u,d,h)=>{const[m,g,v]=u;m===e&&g===i&&(a=!0),h.done()})).next((()=>a))}function Os(n){return rn(n,kr)}function Ml(n){return rn(n,Zl)}function XA(n){return rn(n,ud)}class Sa{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Sa(0)}static cr(){return new Sa(-1)}}class lL{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.lr(e).next((t=>{const r=new Sa(t.highestTargetId);return t.highestTargetId=r.next(),this.hr(e,t).next((()=>t.highestTargetId))}))}getLastRemoteSnapshotVersion(e){return this.lr(e).next((t=>Re.fromTimestamp(new lt(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))))}getHighestSequenceNumber(e){return this.lr(e).next((t=>t.highestListenSequenceNumber))}setTargetsMetadata(e,t,r){return this.lr(e).next((i=>(i.highestListenSequenceNumber=t,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),this.hr(e,i))))}addTargetData(e,t){return this.Pr(e,t).next((()=>this.lr(e).next((r=>(r.targetCount+=1,this.Tr(t,r),this.hr(e,r))))))}updateTargetData(e,t){return this.Pr(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next((()=>bl(e).delete(t.targetId))).next((()=>this.lr(e))).next((r=>(xe(r.targetCount>0,8065),r.targetCount-=1,this.hr(e,r))))}removeTargets(e,t,r){let i=0;const s=[];return bl(e).ee(((a,u)=>{const d=Bc(u);d.sequenceNumber<=t&&r.get(d.targetId)===null&&(i++,s.push(this.removeTargetData(e,d)))})).next((()=>W.waitFor(s))).next((()=>i))}forEachTarget(e,t){return bl(e).ee(((r,i)=>{const s=Bc(i);t(s)}))}lr(e){return AI(e).get(Yf).next((t=>(xe(t!==null,2888),t)))}hr(e,t){return AI(e).put(Yf,t)}Pr(e,t){return bl(e).put(WA(this.serializer,t))}Tr(e,t){let r=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,r=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.lr(e).next((t=>t.targetCount))}getTargetData(e,t){const r=Ta(t),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let s=null;return bl(e).ee({range:i,index:zC},((a,u,d)=>{const h=Bc(u);xd(t,h.target)&&(s=h,d.done())})).next((()=>s))}addMatchingKeys(e,t,r){const i=[],s=$s(e);return t.forEach((a=>{const u=An(a.path);i.push(s.put({targetId:r,path:u})),i.push(this.referenceDelegate.addReference(e,r,a))})),W.waitFor(i)}removeMatchingKeys(e,t,r){const i=$s(e);return W.forEach(t,(s=>{const a=An(s.path);return W.waitFor([i.delete([r,a]),this.referenceDelegate.removeReference(e,r,s)])}))}removeMatchingKeysForTargetId(e,t){const r=$s(e),i=IDBKeyRange.bound([t],[t+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,t){const r=IDBKeyRange.bound([t],[t+1],!1,!0),i=$s(e);let s=ze();return i.ee({range:r,X:!0},((a,u,d)=>{const h=oi(a[1]),m=new ve(h);s=s.add(m)})).next((()=>s))}containsKey(e,t){const r=An(t.path),i=IDBKeyRange.bound([r],[DC(r)],!1,!0);let s=0;return $s(e).ee({index:gw,X:!0,range:i},(([a,u],d,h)=>{a!==0&&(s++,h.done())})).next((()=>s>0))}At(e,t){return bl(e).get(t).next((r=>r?Bc(r):null))}}function bl(n){return rn(n,eu)}function AI(n){return rn(n,pa)}function $s(n){return rn(n,tu)}const bI="LruGarbageCollector",uL=1048576;function xI([n,e],[t,r]){const i=Le(n,t);return i===0?Le(e,r):i}class cL{constructor(e){this.Ir=e,this.buffer=new ut(xI),this.Er=0}dr(){return++this.Er}Ar(e){const t=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();xI(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class JA{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){le(bI,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){vo(t)?le(bI,"Ignoring IndexedDB error during garbage collection: ",t):await yo(t)}await this.Vr(3e5)}))}}class dL{constructor(e,t){this.mr=e,this.params=t}calculateTargetCount(e,t){return this.mr.gr(e).next((r=>Math.floor(t/100*r)))}nthSequenceNumber(e,t){if(t===0)return W.resolve($n.ce);const r=new cL(t);return this.mr.forEachTarget(e,(i=>r.Ar(i.sequenceNumber))).next((()=>this.mr.pr(e,(i=>r.Ar(i))))).next((()=>r.maxValue))}removeTargets(e,t,r){return this.mr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.mr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(le("LruGarbageCollector","Garbage collection skipped; disabled"),W.resolve(CI)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(le("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),CI):this.yr(e,t)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,t){let r,i,s,a,u,d,h;const m=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((g=>(g>this.params.maximumSequenceNumbersToCollect?(le("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${g}`),i=this.params.maximumSequenceNumbersToCollect):i=g,a=Date.now(),this.nthSequenceNumber(e,i)))).next((g=>(r=g,u=Date.now(),this.removeTargets(e,r,t)))).next((g=>(s=g,d=Date.now(),this.removeOrphanedDocuments(e,r)))).next((g=>(h=Date.now(),Dl()<=Ge.DEBUG&&le("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${a-m}ms
	Determined least recently used ${i} in `+(u-a)+`ms
	Removed ${s} targets in `+(d-u)+`ms
	Removed ${g} documents in `+(h-d)+`ms
Total Duration: ${h-m}ms`),W.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:g}))))}}function ZA(n,e){return new dL(n,e)}class hL{constructor(e,t){this.db=e,this.garbageCollector=ZA(this,t)}gr(e){const t=this.wr(e);return this.db.getTargetCache().getTargetCount(e).next((r=>t.next((i=>r+i))))}wr(e){let t=0;return this.pr(e,(r=>{t++})).next((()=>t))}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}pr(e,t){return this.Sr(e,((r,i)=>t(i)))}addReference(e,t,r){return cf(e,r)}removeReference(e,t,r){return cf(e,r)}removeTargets(e,t,r){return this.db.getTargetCache().removeTargets(e,t,r)}markPotentiallyOrphaned(e,t){return cf(e,t)}br(e,t){return(function(i,s){let a=!1;return XA(i).te((u=>YA(i,u,s).next((d=>(d&&(a=!0),W.resolve(!d)))))).next((()=>a))})(e,t)}removeOrphanedDocuments(e,t){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let s=0;return this.Sr(e,((a,u)=>{if(u<=t){const d=this.br(e,a).next((h=>{if(!h)return s++,r.getEntry(e,a).next((()=>(r.removeEntry(a,Re.min()),$s(e).delete((function(g){return[0,An(g.path)]})(a)))))}));i.push(d)}})).next((()=>W.waitFor(i))).next((()=>r.apply(e))).next((()=>s))}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,t){return cf(e,t)}Sr(e,t){const r=$s(e);let i,s=$n.ce;return r.ee({index:gw},(([a,u],{path:d,sequenceNumber:h})=>{a===0?(s!==$n.ce&&t(new ve(oi(i)),s),s=h,i=d):s=$n.ce})).next((()=>{s!==$n.ce&&t(new ve(oi(i)),s)}))}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function cf(n,e){return $s(n).put((function(r,i){return{targetId:0,path:An(r.path),sequenceNumber:i}})(e,n.currentSequenceNumber))}class eb{constructor(){this.changes=new Zi((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Vt.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return r!==void 0?W.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class fL{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,r){return Yo(e).put(r)}removeEntry(e,t,r){return Yo(e).delete((function(s,a){const u=s.path.toArray();return[u.slice(0,u.length-2),u[u.length-2],rp(a),u[u.length-1]]})(t,r))}updateMetadata(e,t){return this.getMetadata(e).next((r=>(r.byteSize+=t,this.Dr(e,r))))}getEntry(e,t){let r=Vt.newInvalidDocument(t);return Yo(e).ee({index:Af,range:IDBKeyRange.only(Pc(t))},((i,s)=>{r=this.Cr(t,s)})).next((()=>r))}vr(e,t){let r={size:0,document:Vt.newInvalidDocument(t)};return Yo(e).ee({index:Af,range:IDBKeyRange.only(Pc(t))},((i,s)=>{r={document:this.Cr(t,s),size:sp(s)}})).next((()=>r))}getEntries(e,t){let r=sr();return this.Fr(e,t,((i,s)=>{const a=this.Cr(i,s);r=r.insert(i,a)})).next((()=>r))}Mr(e,t){let r=sr(),i=new mt(ve.comparator);return this.Fr(e,t,((s,a)=>{const u=this.Cr(s,a);r=r.insert(s,u),i=i.insert(s,sp(a))})).next((()=>({documents:r,Or:i})))}Fr(e,t,r){if(t.isEmpty())return W.resolve();let i=new ut(DI);t.forEach((d=>i=i.add(d)));const s=IDBKeyRange.bound(Pc(i.first()),Pc(i.last())),a=i.getIterator();let u=a.getNext();return Yo(e).ee({index:Af,range:s},((d,h,m)=>{const g=ve.fromSegments([...h.prefixPath,h.collectionGroup,h.documentId]);for(;u&&DI(u,g)<0;)r(u,null),u=a.getNext();u&&u.isEqual(g)&&(r(u,h),u=a.hasNext()?a.getNext():null),u?m.j(Pc(u)):m.done()})).next((()=>{for(;u;)r(u,null),u=a.hasNext()?a.getNext():null}))}getDocumentsMatchingQuery(e,t,r,i,s){const a=t.path,u=[a.popLast().toArray(),a.lastSegment(),rp(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],d=[a.popLast().toArray(),a.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Yo(e).J(IDBKeyRange.bound(u,d,!0)).next((h=>{s?.incrementDocumentReadCount(h.length);let m=sr();for(const g of h){const v=this.Cr(ve.fromSegments(g.prefixPath.concat(g.collectionGroup,g.documentId)),g);v.isFoundDocument()&&(Rd(t,v)||i.has(v.key))&&(m=m.insert(v.key,v))}return m}))}getAllFromCollectionGroup(e,t,r,i){let s=sr();const a=kI(t,r),u=kI(t,ar.max());return Yo(e).ee({index:$C,range:IDBKeyRange.bound(a,u,!0)},((d,h,m)=>{const g=this.Cr(ve.fromSegments(h.prefixPath.concat(h.collectionGroup,h.documentId)),h);s=s.insert(g.key,g),s.size===i&&m.done()})).next((()=>s))}newChangeBuffer(e){return new pL(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next((t=>t.byteSize))}getMetadata(e){return RI(e).get(ev).next((t=>(xe(!!t,20021),t)))}Dr(e,t){return RI(e).put(ev,t)}Cr(e,t){if(t){const r=JM(this.serializer,t);if(!(r.isNoDocument()&&r.version.isEqual(Re.min())))return r}return Vt.newInvalidDocument(e)}}function tb(n){return new fL(n)}class pL extends eb{constructor(e,t){super(),this.Nr=e,this.trackRemovals=t,this.Br=new Zi((r=>r.toString()),((r,i)=>r.isEqual(i)))}applyChanges(e){const t=[];let r=0,i=new ut(((s,a)=>Le(s.canonicalString(),a.canonicalString())));return this.changes.forEach(((s,a)=>{const u=this.Br.get(s);if(t.push(this.Nr.removeEntry(e,s,u.readTime)),a.isValidDocument()){const d=fI(this.Nr.serializer,a);i=i.add(s.path.popLast());const h=sp(d);r+=h-u.size,t.push(this.Nr.addEntry(e,s,d))}else if(r-=u.size,this.trackRemovals){const d=fI(this.Nr.serializer,a.convertToNoDocument(Re.min()));t.push(this.Nr.addEntry(e,s,d))}})),i.forEach((s=>{t.push(this.Nr.indexManager.addToCollectionParentIndex(e,s))})),t.push(this.Nr.updateMetadata(e,r)),W.waitFor(t)}getFromCache(e,t){return this.Nr.vr(e,t).next((r=>(this.Br.set(t,{size:r.size,readTime:r.document.readTime}),r.document)))}getAllFromCache(e,t){return this.Nr.Mr(e,t).next((({documents:r,Or:i})=>(i.forEach(((s,a)=>{this.Br.set(s,{size:a,readTime:r.get(s).readTime})})),r)))}}function RI(n){return rn(n,cd)}function Yo(n){return rn(n,Qf)}function Pc(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function kI(n,e){const t=e.documentKey.path.toArray();return[n,rp(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function DI(n,e){const t=n.path.toArray(),r=e.path.toArray();let i=0;for(let s=0;s<t.length-2&&s<r.length-2;++s)if(i=Le(t[s],r[s]),i)return i;return i=Le(t.length,r.length),i||(i=Le(t[t.length-2],r[r.length-2]),i||Le(t[t.length-1],r[r.length-1]))}class mL{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class nb{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next((i=>(r=i,this.remoteDocumentCache.getEntry(e,t)))).next((i=>(r!==null&&Xc(r.mutation,i,zn.empty(),lt.now()),i)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((r=>this.getLocalViewOfDocuments(e,r,ze()).next((()=>r))))}getLocalViewOfDocuments(e,t,r=ze()){const i=ai();return this.populateOverlays(e,i,t).next((()=>this.computeViews(e,t,i,r).next((s=>{let a=Uc();return s.forEach(((u,d)=>{a=a.insert(u,d.overlayedDocument)})),a}))))}getOverlayedDocuments(e,t){const r=ai();return this.populateOverlays(e,r,t).next((()=>this.computeViews(e,t,r,ze())))}populateOverlays(e,t,r){const i=[];return r.forEach((s=>{t.has(s)||i.push(s)})),this.documentOverlayCache.getOverlays(e,i).next((s=>{s.forEach(((a,u)=>{t.set(a,u)}))}))}computeViews(e,t,r,i){let s=sr();const a=Yc(),u=(function(){return Yc()})();return t.forEach(((d,h)=>{const m=r.get(h.key);i.has(h.key)&&(m===void 0||m.mutation instanceof es)?s=s.insert(h.key,h):m!==void 0?(a.set(h.key,m.mutation.getFieldMask()),Xc(m.mutation,h,m.mutation.getFieldMask(),lt.now())):a.set(h.key,zn.empty())})),this.recalculateAndSaveOverlays(e,s).next((d=>(d.forEach(((h,m)=>a.set(h,m))),t.forEach(((h,m)=>u.set(h,new mL(m,a.get(h)??null)))),u)))}recalculateAndSaveOverlays(e,t){const r=Yc();let i=new mt(((a,u)=>a-u)),s=ze();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((a=>{for(const u of a)u.keys().forEach((d=>{const h=t.get(d);if(h===null)return;let m=r.get(d)||zn.empty();m=u.applyToLocalView(h,m),r.set(d,m);const g=(i.get(u.batchId)||ze()).add(d);i=i.insert(u.batchId,g)}))})).next((()=>{const a=[],u=i.getReverseIterator();for(;u.hasNext();){const d=u.getNext(),h=d.key,m=d.value,g=_A();m.forEach((v=>{if(!s.has(v)){const E=CA(t.get(v),r.get(v));E!==null&&g.set(v,E),s=s.add(v)}})),a.push(this.documentOverlayCache.saveOverlays(e,h,g))}return W.waitFor(a)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,t,r,i){return(function(a){return ve.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0})(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):wM(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,i):this.getDocumentsMatchingCollectionQuery(e,t,r,i)}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next((s=>{const a=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-s.size):W.resolve(ai());let u=Jl,d=s;return a.next((h=>W.forEach(h,((m,g)=>(u<g.largestBatchId&&(u=g.largestBatchId),s.get(m)?W.resolve():this.remoteDocumentCache.getEntry(e,m).next((v=>{d=d.insert(m,v)}))))).next((()=>this.populateOverlays(e,h,s))).next((()=>this.computeViews(e,d,h,ze()))).next((m=>({batchId:u,changes:wA(m)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new ve(t)).next((r=>{let i=Uc();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i}))}getDocumentsMatchingCollectionGroupQuery(e,t,r,i){const s=t.collectionGroup;let a=Uc();return this.indexManager.getCollectionParents(e,s).next((u=>W.forEach(u,(d=>{const h=(function(g,v){return new Kp(v,null,g.explicitOrderBy.slice(),g.filters.slice(),g.limit,g.limitType,g.startAt,g.endAt)})(t,d.child(s));return this.getDocumentsMatchingCollectionQuery(e,h,r,i).next((m=>{m.forEach(((g,v)=>{a=a.insert(g,v)}))}))})).next((()=>a))))}getDocumentsMatchingCollectionQuery(e,t,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next((a=>(s=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,s,i)))).next((a=>{s.forEach(((d,h)=>{const m=h.getKey();a.get(m)===null&&(a=a.insert(m,Vt.newInvalidDocument(m)))}));let u=Uc();return a.forEach(((d,h)=>{const m=s.get(d);m!==void 0&&Xc(m.mutation,h,zn.empty(),lt.now()),Rd(t,h)&&(u=u.insert(d,h))})),u}))}}class gL{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,t){return W.resolve(this.Lr.get(t))}saveBundleMetadata(e,t){return this.Lr.set(t.id,(function(i){return{id:i.id,version:i.version,createTime:Vn(i.createTime)}})(t)),W.resolve()}getNamedQuery(e,t){return W.resolve(this.kr.get(t))}saveNamedQuery(e,t){return this.kr.set(t.name,(function(i){return{name:i.name,query:HA(i.bundledQuery),readTime:Vn(i.readTime)}})(t)),W.resolve()}}class yL{constructor(){this.overlays=new mt(ve.comparator),this.qr=new Map}getOverlay(e,t){return W.resolve(this.overlays.get(t))}getOverlays(e,t){const r=ai();return W.forEach(t,(i=>this.getOverlay(e,i).next((s=>{s!==null&&r.set(i,s)})))).next((()=>r))}saveOverlays(e,t,r){return r.forEach(((i,s)=>{this.St(e,t,s)})),W.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.qr.get(r);return i!==void 0&&(i.forEach((s=>this.overlays=this.overlays.remove(s))),this.qr.delete(r)),W.resolve()}getOverlaysForCollection(e,t,r){const i=ai(),s=t.length+1,a=new ve(t.child("")),u=this.overlays.getIteratorFrom(a);for(;u.hasNext();){const d=u.getNext().value,h=d.getKey();if(!t.isPrefixOf(h.path))break;h.path.length===s&&d.largestBatchId>r&&i.set(d.getKey(),d)}return W.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let s=new mt(((h,m)=>h-m));const a=this.overlays.getIterator();for(;a.hasNext();){const h=a.getNext().value;if(h.getKey().getCollectionGroup()===t&&h.largestBatchId>r){let m=s.get(h.largestBatchId);m===null&&(m=ai(),s=s.insert(h.largestBatchId,m)),m.set(h.getKey(),h)}}const u=ai(),d=s.getIterator();for(;d.hasNext()&&(d.getNext().value.forEach(((h,m)=>u.set(h,m))),!(u.size()>=i)););return W.resolve(u)}St(e,t,r){const i=this.overlays.get(r.key);if(i!==null){const a=this.qr.get(i.largestBatchId).delete(r.key);this.qr.set(i.largestBatchId,a)}this.overlays=this.overlays.insert(r.key,new xw(t,r));let s=this.qr.get(t);s===void 0&&(s=ze(),this.qr.set(t,s)),this.qr.set(t,s.add(r.key))}}class vL{constructor(){this.sessionToken=Wt.EMPTY_BYTE_STRING}getSessionToken(e){return W.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,W.resolve()}}class Vw{constructor(){this.Qr=new ut(un.$r),this.Ur=new ut(un.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,t){const r=new un(e,t);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,t){e.forEach((r=>this.addReference(r,t)))}removeReference(e,t){this.Gr(new un(e,t))}zr(e,t){e.forEach((r=>this.removeReference(r,t)))}jr(e){const t=new ve(new st([])),r=new un(t,e),i=new un(t,e+1),s=[];return this.Ur.forEachInRange([r,i],(a=>{this.Gr(a),s.push(a.key)})),s}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const t=new ve(new st([])),r=new un(t,e),i=new un(t,e+1);let s=ze();return this.Ur.forEachInRange([r,i],(a=>{s=s.add(a.key)})),s}containsKey(e){const t=new un(e,0),r=this.Qr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}}class un{constructor(e,t){this.key=e,this.Yr=t}static $r(e,t){return ve.comparator(e.key,t.key)||Le(e.Yr,t.Yr)}static Kr(e,t){return Le(e.Yr,t.Yr)||ve.comparator(e.key,t.key)}}class wL{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.tr=1,this.Zr=new ut(un.$r)}checkEmpty(e){return W.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,i){const s=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const a=new Aw(s,t,r,i);this.mutationQueue.push(a);for(const u of i)this.Zr=this.Zr.add(new un(u.key,s)),this.indexManager.addToCollectionParentIndex(e,u.key.path.popLast());return W.resolve(a)}lookupMutationBatch(e,t){return W.resolve(this.Xr(t))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,i=this.ei(r),s=i<0?0:i;return W.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return W.resolve(this.mutationQueue.length===0?fa:this.tr-1)}getAllMutationBatches(e){return W.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new un(t,0),i=new un(t,Number.POSITIVE_INFINITY),s=[];return this.Zr.forEachInRange([r,i],(a=>{const u=this.Xr(a.Yr);s.push(u)})),W.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new ut(Le);return t.forEach((i=>{const s=new un(i,0),a=new un(i,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([s,a],(u=>{r=r.add(u.Yr)}))})),W.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let s=r;ve.isDocumentKey(s)||(s=s.child(""));const a=new un(new ve(s),0);let u=new ut(Le);return this.Zr.forEachWhile((d=>{const h=d.key.path;return!!r.isPrefixOf(h)&&(h.length===i&&(u=u.add(d.Yr)),!0)}),a),W.resolve(this.ti(u))}ti(e){const t=[];return e.forEach((r=>{const i=this.Xr(r);i!==null&&t.push(i)})),t}removeMutationBatch(e,t){xe(this.ni(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return W.forEach(t.mutations,(i=>{const s=new un(i.key,t.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,t){const r=new un(t,0),i=this.Zr.firstAfterOrEqual(r);return W.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,W.resolve()}ni(e,t){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const t=this.ei(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class _L{constructor(e){this.ri=e,this.docs=(function(){return new mt(ve.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),s=i?i.size:0,a=this.ri(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:a}),this.size+=a-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return W.resolve(r?r.document.mutableCopy():Vt.newInvalidDocument(t))}getEntries(e,t){let r=sr();return t.forEach((i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Vt.newInvalidDocument(i))})),W.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let s=sr();const a=t.path,u=new ve(a.child("__id-9223372036854775808__")),d=this.docs.getIteratorFrom(u);for(;d.hasNext();){const{key:h,value:{document:m}}=d.getNext();if(!a.isPrefixOf(h.path))break;h.path.length>a.length+1||pw(MC(m),r)<=0||(i.has(m.key)||Rd(t,m))&&(s=s.insert(m.key,m.mutableCopy()))}return W.resolve(s)}getAllFromCollectionGroup(e,t,r,i){Ie(9500)}ii(e,t){return W.forEach(this.docs,(r=>t(r)))}newChangeBuffer(e){return new TL(this)}getSize(e){return W.resolve(this.size)}}class TL extends eb{constructor(e){super(),this.Nr=e}applyChanges(e){const t=[];return this.changes.forEach(((r,i)=>{i.isValidDocument()?t.push(this.Nr.addEntry(e,i)):this.Nr.removeEntry(r)})),W.waitFor(t)}getFromCache(e,t){return this.Nr.getEntry(e,t)}getAllFromCache(e,t){return this.Nr.getEntries(e,t)}}class EL{constructor(e){this.persistence=e,this.si=new Zi((t=>Ta(t)),xd),this.lastRemoteSnapshotVersion=Re.min(),this.highestTargetId=0,this.oi=0,this._i=new Vw,this.targetCount=0,this.ai=Sa.ur()}forEachTarget(e,t){return this.si.forEach(((r,i)=>t(i))),W.resolve()}getLastRemoteSnapshotVersion(e){return W.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return W.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),W.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.oi&&(this.oi=t),W.resolve()}Pr(e){this.si.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ai=new Sa(t),this.highestTargetId=t),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,t){return this.Pr(t),this.targetCount+=1,W.resolve()}updateTargetData(e,t){return this.Pr(t),W.resolve()}removeTargetData(e,t){return this.si.delete(t.target),this._i.jr(t.targetId),this.targetCount-=1,W.resolve()}removeTargets(e,t,r){let i=0;const s=[];return this.si.forEach(((a,u)=>{u.sequenceNumber<=t&&r.get(u.targetId)===null&&(this.si.delete(a),s.push(this.removeMatchingKeysForTargetId(e,u.targetId)),i++)})),W.waitFor(s).next((()=>i))}getTargetCount(e){return W.resolve(this.targetCount)}getTargetData(e,t){const r=this.si.get(t)||null;return W.resolve(r)}addMatchingKeys(e,t,r){return this._i.Wr(t,r),W.resolve()}removeMatchingKeys(e,t,r){this._i.zr(t,r);const i=this.persistence.referenceDelegate,s=[];return i&&t.forEach((a=>{s.push(i.markPotentiallyOrphaned(e,a))})),W.waitFor(s)}removeMatchingKeysForTargetId(e,t){return this._i.jr(t),W.resolve()}getMatchingKeysForTargetId(e,t){const r=this._i.Hr(t);return W.resolve(r)}containsKey(e,t){return W.resolve(this._i.containsKey(t))}}class Ow{constructor(e,t){this.ui={},this.overlays={},this.ci=new $n(0),this.li=!1,this.li=!0,this.hi=new vL,this.referenceDelegate=e(this),this.Pi=new EL(this),this.indexManager=new oL,this.remoteDocumentCache=(function(i){return new _L(i)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new zA(t),this.Ii=new gL(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new yL,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.ui[e.toKey()];return r||(r=new wL(t,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,t,r){le("MemoryPersistence","Starting transaction:",e);const i=new IL(this.ci.next());return this.referenceDelegate.Ei(),r(i).next((s=>this.referenceDelegate.di(i).next((()=>s)))).toPromise().then((s=>(i.raiseOnCommittedEvent(),s)))}Ai(e,t){return W.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,t))))}}class IL extends FC{constructor(e){super(),this.currentSequenceNumber=e}}class nm{constructor(e){this.persistence=e,this.Ri=new Vw,this.Vi=null}static mi(e){return new nm(e)}get fi(){if(this.Vi)return this.Vi;throw Ie(60996)}addReference(e,t,r){return this.Ri.addReference(r,t),this.fi.delete(r.toString()),W.resolve()}removeReference(e,t,r){return this.Ri.removeReference(r,t),this.fi.add(r.toString()),W.resolve()}markPotentiallyOrphaned(e,t){return this.fi.add(t.toString()),W.resolve()}removeTarget(e,t){this.Ri.jr(t.targetId).forEach((i=>this.fi.add(i.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((i=>{i.forEach((s=>this.fi.add(s.toString())))})).next((()=>r.removeTargetData(e,t)))}Ei(){this.Vi=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return W.forEach(this.fi,(r=>{const i=ve.fromPath(r);return this.gi(e,i).next((s=>{s||t.removeEntry(i,Re.min())}))})).next((()=>(this.Vi=null,t.apply(e))))}updateLimboDocument(e,t){return this.gi(e,t).next((r=>{r?this.fi.delete(t.toString()):this.fi.add(t.toString())}))}Ti(e){return 0}gi(e,t){return W.or([()=>W.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ai(e,t)])}}class op{constructor(e,t){this.persistence=e,this.pi=new Zi((r=>An(r.path)),((r,i)=>r.isEqual(i))),this.garbageCollector=ZA(this,t)}static mi(e,t){return new op(e,t)}Ei(){}di(e){return W.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}gr(e){const t=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>t.next((i=>r+i))))}wr(e){let t=0;return this.pr(e,(r=>{t++})).next((()=>t))}pr(e,t){return W.forEach(this.pi,((r,i)=>this.br(e,r,i).next((s=>s?W.resolve():t(i)))))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0;const i=this.persistence.getRemoteDocumentCache(),s=i.newChangeBuffer();return i.ii(e,(a=>this.br(e,a,t).next((u=>{u||(r++,s.removeEntry(a,Re.min()))})))).next((()=>s.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,t){return this.pi.set(t,e.currentSequenceNumber),W.resolve()}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.pi.set(r,e.currentSequenceNumber),W.resolve()}removeReference(e,t,r){return this.pi.set(r,e.currentSequenceNumber),W.resolve()}updateLimboDocument(e,t){return this.pi.set(t,e.currentSequenceNumber),W.resolve()}Ti(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=xf(e.data.value)),t}br(e,t,r){return W.or([()=>this.persistence.Ai(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const i=this.pi.get(t);return W.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class SL{constructor(e){this.serializer=e}k(e,t,r,i){const s=new Bp("createOrUpgrade",t);r<1&&i>=1&&((function(d){d.createObjectStore(bd)})(e),(function(d){d.createObjectStore(ud,{keyPath:MO}),d.createObjectStore(kr,{keyPath:zE,autoIncrement:!0}).createIndex(ca,WE,{unique:!0}),d.createObjectStore(Zl)})(e),NI(e),(function(d){d.createObjectStore(ta)})(e));let a=W.resolve();return r<3&&i>=3&&(r!==0&&((function(d){d.deleteObjectStore(tu),d.deleteObjectStore(eu),d.deleteObjectStore(pa)})(e),NI(e)),a=a.next((()=>(function(d){const h=d.store(pa),m={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Re.min().toTimestamp(),targetCount:0};return h.put(Yf,m)})(s)))),r<4&&i>=4&&(r!==0&&(a=a.next((()=>(function(d,h){return h.store(kr).J().next((g=>{d.deleteObjectStore(kr),d.createObjectStore(kr,{keyPath:zE,autoIncrement:!0}).createIndex(ca,WE,{unique:!0});const v=h.store(kr),E=g.map((R=>v.put(R)));return W.waitFor(E)}))})(e,s)))),a=a.next((()=>{(function(d){d.createObjectStore(nu,{keyPath:HO})})(e)}))),r<5&&i>=5&&(a=a.next((()=>this.yi(s)))),r<6&&i>=6&&(a=a.next((()=>((function(d){d.createObjectStore(cd)})(e),this.wi(s))))),r<7&&i>=7&&(a=a.next((()=>this.Si(s)))),r<8&&i>=8&&(a=a.next((()=>this.bi(e,s)))),r<9&&i>=9&&(a=a.next((()=>{(function(d){d.objectStoreNames.contains("remoteDocumentChanges")&&d.deleteObjectStore("remoteDocumentChanges")})(e)}))),r<10&&i>=10&&(a=a.next((()=>this.Di(s)))),r<11&&i>=11&&(a=a.next((()=>{(function(d){d.createObjectStore(zp,{keyPath:qO})})(e),(function(d){d.createObjectStore(Wp,{keyPath:GO})})(e)}))),r<12&&i>=12&&(a=a.next((()=>{(function(d){const h=d.createObjectStore(Hp,{keyPath:eM});h.createIndex(nv,tM,{unique:!1}),h.createIndex(qC,nM,{unique:!1})})(e)}))),r<13&&i>=13&&(a=a.next((()=>(function(d){const h=d.createObjectStore(Qf,{keyPath:FO});h.createIndex(Af,UO),h.createIndex($C,jO)})(e))).next((()=>this.Ci(e,s))).next((()=>e.deleteObjectStore(ta)))),r<14&&i>=14&&(a=a.next((()=>this.Fi(e,s)))),r<15&&i>=15&&(a=a.next((()=>(function(d){d.createObjectStore(yw,{keyPath:KO,autoIncrement:!0}).createIndex(tv,QO,{unique:!1}),d.createObjectStore(qc,{keyPath:YO}).createIndex(WC,XO,{unique:!1}),d.createObjectStore(Gc,{keyPath:JO}).createIndex(HC,ZO,{unique:!1})})(e)))),r<16&&i>=16&&(a=a.next((()=>{t.objectStore(qc).clear()})).next((()=>{t.objectStore(Gc).clear()}))),r<17&&i>=17&&(a=a.next((()=>{(function(d){d.createObjectStore(vw,{keyPath:rM})})(e)}))),r<18&&i>=18&&yC()&&(a=a.next((()=>{t.objectStore(qc).clear()})).next((()=>{t.objectStore(Gc).clear()}))),a}wi(e){let t=0;return e.store(ta).ee(((r,i)=>{t+=sp(i)})).next((()=>{const r={byteSize:t};return e.store(cd).put(ev,r)}))}yi(e){const t=e.store(ud),r=e.store(kr);return t.J().next((i=>W.forEach(i,(s=>{const a=IDBKeyRange.bound([s.userId,fa],[s.userId,s.lastAcknowledgedBatchId]);return r.J(ca,a).next((u=>W.forEach(u,(d=>{xe(d.userId===s.userId,18650,"Cannot process batch from unexpected user",{batchId:d.batchId});const h=aa(this.serializer,d);return QA(e,s.userId,h).next((()=>{}))}))))}))))}Si(e){const t=e.store(tu),r=e.store(ta);return e.store(pa).get(Yf).next((i=>{const s=[];return r.ee(((a,u)=>{const d=new st(a),h=(function(g){return[0,An(g)]})(d);s.push(t.get(h).next((m=>m?W.resolve():(g=>t.put({targetId:0,path:An(g),sequenceNumber:i.highestListenSequenceNumber}))(d))))})).next((()=>W.waitFor(s)))}))}bi(e,t){e.createObjectStore(dd,{keyPath:WO});const r=t.store(dd),i=new Nw,s=a=>{if(i.add(a)){const u=a.lastSegment(),d=a.popLast();return r.put({collectionId:u,parent:An(d)})}};return t.store(ta).ee({X:!0},((a,u)=>{const d=new st(a);return s(d.popLast())})).next((()=>t.store(Zl).ee({X:!0},(([a,u,d],h)=>{const m=oi(u);return s(m.popLast())}))))}Di(e){const t=e.store(eu);return t.ee(((r,i)=>{const s=Bc(i),a=WA(this.serializer,s);return t.put(a)}))}Ci(e,t){const r=t.store(ta),i=[];return r.ee(((s,a)=>{const u=t.store(Qf),d=(function(g){return g.document?new ve(st.fromString(g.document.name).popFirst(5)):g.noDocument?ve.fromSegments(g.noDocument.path):g.unknownDocument?ve.fromSegments(g.unknownDocument.path):Ie(36783)})(a).path.toArray(),h={prefixPath:d.slice(0,d.length-2),collectionGroup:d[d.length-2],documentId:d[d.length-1],readTime:a.readTime||[0,0],unknownDocument:a.unknownDocument,noDocument:a.noDocument,document:a.document,hasCommittedMutations:!!a.hasCommittedMutations};i.push(u.put(h))})).next((()=>W.waitFor(i)))}Fi(e,t){const r=t.store(kr),i=tb(this.serializer),s=new Ow(nm.mi,this.serializer.yt);return r.J().next((a=>{const u=new Map;return a.forEach((d=>{let h=u.get(d.userId)??ze();aa(this.serializer,d).keys().forEach((m=>h=h.add(m))),u.set(d.userId,h)})),W.forEach(u,((d,h)=>{const m=new cn(h),g=em.wt(this.serializer,m),v=s.getIndexManager(m),E=tm.wt(m,this.serializer,v,s.referenceDelegate);return new nb(i,E,g,v).recalculateAndSaveOverlaysForDocumentKeys(new rv(t,$n.ce),d).next()}))}))}}function NI(n){n.createObjectStore(tu,{keyPath:$O}).createIndex(gw,zO,{unique:!0}),n.createObjectStore(eu,{keyPath:"targetId"}).createIndex(zC,BO,{unique:!0}),n.createObjectStore(pa)}const Ms="IndexedDbPersistence",cy=18e5,dy=5e3,hy="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",PL="main";class Mw{constructor(e,t,r,i,s,a,u,d,h,m,g=18){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=r,this.Mi=s,this.window=a,this.document=u,this.xi=h,this.Oi=m,this.Ni=g,this.ci=null,this.li=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Bi=null,this.inForeground=!1,this.Li=null,this.ki=null,this.qi=Number.NEGATIVE_INFINITY,this.Qi=v=>Promise.resolve(),!Mw.v())throw new ye(re.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new hL(this,i),this.$i=t+PL,this.serializer=new zA(d),this.Ui=new Zs(this.$i,this.Ni,new SL(this.serializer)),this.hi=new eL,this.Pi=new lL(this.referenceDelegate,this.serializer),this.remoteDocumentCache=tb(this.serializer),this.Ii=new ZM,this.window&&this.window.localStorage?this.Ki=this.window.localStorage:(this.Ki=null,m===!1&&Ut(Ms,"LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Wi().then((()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new ye(re.FAILED_PRECONDITION,hy);return this.Gi(),this.zi(),this.ji(),this.runTransaction("getHighestListenSequenceNumber","readonly",(e=>this.Pi.getHighestSequenceNumber(e)))})).then((e=>{this.ci=new $n(e,this.xi)})).then((()=>{this.li=!0})).catch((e=>(this.Ui&&this.Ui.close(),Promise.reject(e))))}Ji(e){return this.Qi=async t=>{if(this.started)return e(t)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ui.$((async t=>{t.newVersion===null&&await e()}))}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.Mi.enqueueAndForget((async()=>{this.started&&await this.Wi()})))}Wi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(e=>df(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next((()=>{if(this.isPrimary)return this.Hi(e).next((t=>{t||(this.isPrimary=!1,this.Mi.enqueueRetryable((()=>this.Qi(!1))))}))})).next((()=>this.Yi(e))).next((t=>this.isPrimary&&!t?this.Zi(e).next((()=>!1)):!!t&&this.Xi(e).next((()=>!0)))))).catch((e=>{if(vo(e))return le(Ms,"Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return le(Ms,"Releasing owner lease after error during lease refresh",e),!1})).then((e=>{this.isPrimary!==e&&this.Mi.enqueueRetryable((()=>this.Qi(e))),this.isPrimary=e}))}Hi(e){return Cc(e).get(Il).next((t=>W.resolve(this.es(t))))}ts(e){return df(e).delete(this.clientId)}async ns(){if(this.isPrimary&&!this.rs(this.qi,cy)){this.qi=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(t=>{const r=rn(t,nu);return r.J().next((i=>{const s=this.ss(i,cy),a=i.filter((u=>s.indexOf(u)===-1));return W.forEach(a,(u=>r.delete(u.clientId))).next((()=>a))}))})).catch((()=>[]));if(this.Ki)for(const t of e)this.Ki.removeItem(this._s(t.clientId))}}ji(){this.ki=this.Mi.enqueueAfterDelay("client_metadata_refresh",4e3,(()=>this.Wi().then((()=>this.ns())).then((()=>this.ji()))))}es(e){return!!e&&e.ownerId===this.clientId}Yi(e){return this.Oi?W.resolve(!0):Cc(e).get(Il).next((t=>{if(t!==null&&this.rs(t.leaseTimestampMs,dy)&&!this.us(t.ownerId)){if(this.es(t)&&this.networkEnabled)return!0;if(!this.es(t)){if(!t.allowTabSynchronization)throw new ye(re.FAILED_PRECONDITION,hy);return!1}}return!(!this.networkEnabled||!this.inForeground)||df(e).J().next((r=>this.ss(r,dy).find((i=>{if(this.clientId!==i.clientId){const s=!this.networkEnabled&&i.networkEnabled,a=!this.inForeground&&i.inForeground,u=this.networkEnabled===i.networkEnabled;if(s||a&&u)return!0}return!1}))===void 0))})).next((t=>(this.isPrimary!==t&&le(Ms,`Client ${t?"is":"is not"} eligible for a primary lease.`),t)))}async shutdown(){this.li=!1,this.cs(),this.ki&&(this.ki.cancel(),this.ki=null),this.ls(),this.hs(),await this.Ui.runTransaction("shutdown","readwrite",[bd,nu],(e=>{const t=new rv(e,$n.ce);return this.Zi(t).next((()=>this.ts(t)))})),this.Ui.close(),this.Ps()}ss(e,t){return e.filter((r=>this.rs(r.updateTimeMs,t)&&!this.us(r.clientId)))}Ts(){return this.runTransaction("getActiveClients","readonly",(e=>df(e).J().next((t=>this.ss(t,cy).map((r=>r.clientId))))))}get started(){return this.li}getGlobalsCache(){return this.hi}getMutationQueue(e,t){return tm.wt(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new aL(e,this.serializer.yt.databaseId)}getDocumentOverlayCache(e){return em.wt(this.serializer,e)}getBundleCache(){return this.Ii}runTransaction(e,t,r){le(Ms,"Starting transaction:",e);const i=t==="readonly"?"readonly":"readwrite",s=(function(d){return d===18?oM:d===17?YC:d===16?sM:d===15?ww:d===14?QC:d===13?KC:d===12?iM:d===11?GC:void Ie(60245)})(this.Ni);let a;return this.Ui.runTransaction(e,i,s,(u=>(a=new rv(u,this.ci?this.ci.next():$n.ce),t==="readwrite-primary"?this.Hi(a).next((d=>!!d||this.Yi(a))).next((d=>{if(!d)throw Ut(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Mi.enqueueRetryable((()=>this.Qi(!1))),new ye(re.FAILED_PRECONDITION,LC);return r(a)})).next((d=>this.Xi(a).next((()=>d)))):this.Is(a).next((()=>r(a)))))).then((u=>(a.raiseOnCommittedEvent(),u)))}Is(e){return Cc(e).get(Il).next((t=>{if(t!==null&&this.rs(t.leaseTimestampMs,dy)&&!this.us(t.ownerId)&&!this.es(t)&&!(this.Oi||this.allowTabSynchronization&&t.allowTabSynchronization))throw new ye(re.FAILED_PRECONDITION,hy)}))}Xi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Cc(e).put(Il,t)}static v(){return Zs.v()}Zi(e){const t=Cc(e);return t.get(Il).next((r=>this.es(r)?(le(Ms,"Releasing primary lease."),t.delete(Il)):W.resolve()))}rs(e,t){const r=Date.now();return!(e<r-t)&&(!(e>r)||(Ut(`Detected an update time that is in the future: ${e} > ${r}`),!1))}Gi(){this.document!==null&&typeof this.document.addEventListener=="function"&&(this.Li=()=>{this.Mi.enqueueAndForget((()=>(this.inForeground=this.document.visibilityState==="visible",this.Wi())))},this.document.addEventListener("visibilitychange",this.Li),this.inForeground=this.document.visibilityState==="visible")}ls(){this.Li&&(this.document.removeEventListener("visibilitychange",this.Li),this.Li=null)}zi(){typeof this.window?.addEventListener=="function"&&(this.Bi=()=>{this.cs();const e=/(?:Version|Mobile)\/1[456]/;gC()&&(navigator.appVersion.match(e)||navigator.userAgent.match(e))&&this.Mi.enterRestrictedMode(!0),this.Mi.enqueueAndForget((()=>this.shutdown()))},this.window.addEventListener("pagehide",this.Bi))}hs(){this.Bi&&(this.window.removeEventListener("pagehide",this.Bi),this.Bi=null)}us(e){try{const t=this.Ki?.getItem(this._s(e))!==null;return le(Ms,`Client '${e}' ${t?"is":"is not"} zombied in LocalStorage`),t}catch(t){return Ut(Ms,"Failed to get zombied client id.",t),!1}}cs(){if(this.Ki)try{this.Ki.setItem(this._s(this.clientId),String(Date.now()))}catch(e){Ut("Failed to set zombie client id.",e)}}Ps(){if(this.Ki)try{this.Ki.removeItem(this._s(this.clientId))}catch{}}_s(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Cc(n){return rn(n,bd)}function df(n){return rn(n,nu)}function rb(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class Lw{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.Es=r,this.ds=i}static As(e,t){let r=ze(),i=ze();for(const s of t.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new Lw(e,t.fromCache,r,i)}}class CL{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class ib{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return gC()?8:UC(nn())>0?6:4})()}initialize(e,t){this.ps=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,r,i){const s={result:null};return this.ys(e,t).next((a=>{s.result=a})).next((()=>{if(!s.result)return this.ws(e,t,i,r).next((a=>{s.result=a}))})).next((()=>{if(s.result)return;const a=new CL;return this.Ss(e,t,a).next((u=>{if(s.result=u,this.Vs)return this.bs(e,t,a,u.size)}))})).next((()=>s.result))}bs(e,t,r,i){return r.documentReadCount<this.fs?(Dl()<=Ge.DEBUG&&le("QueryEngine","SDK will not create cache indexes for query:",Nl(t),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),W.resolve()):(Dl()<=Ge.DEBUG&&le("QueryEngine","Query:",Nl(t),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.gs*i?(Dl()<=Ge.DEBUG&&le("QueryEngine","The SDK decides to create cache indexes for query:",Nl(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,or(t))):W.resolve())}ys(e,t){if(rI(t))return W.resolve(null);let r=or(t);return this.indexManager.getIndexType(e,r).next((i=>i===0?null:(t.limit!==null&&i===1&&(t=uv(t,null,"F"),r=or(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next((s=>{const a=ze(...s);return this.ps.getDocuments(e,a).next((u=>this.indexManager.getMinOffset(e,r).next((d=>{const h=this.Ds(t,u);return this.Cs(t,h,a,d.readTime)?this.ys(e,uv(t,null,"F")):this.vs(e,h,t,d)}))))})))))}ws(e,t,r,i){return rI(t)||i.isEqual(Re.min())?W.resolve(null):this.ps.getDocuments(e,r).next((s=>{const a=this.Ds(t,s);return this.Cs(t,a,r,i)?W.resolve(null):(Dl()<=Ge.DEBUG&&le("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Nl(t)),this.vs(e,a,t,OC(i,Jl)).next((u=>u)))}))}Ds(e,t){let r=new ut(yA(e));return t.forEach(((i,s)=>{Rd(e,s)&&(r=r.add(s))})),r}Cs(e,t,r,i){if(e.limit===null)return!1;if(r.size!==t.size)return!0;const s=e.limitType==="F"?t.last():t.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Ss(e,t,r){return Dl()<=Ge.DEBUG&&le("QueryEngine","Using full collection scan to execute query:",Nl(t)),this.ps.getDocumentsMatchingQuery(e,t,ar.min(),r)}vs(e,t,r,i){return this.ps.getDocumentsMatchingQuery(e,r,i).next((s=>(t.forEach((a=>{s=s.insert(a.key,a)})),s)))}}const Fw="LocalStore",AL=3e8;class bL{constructor(e,t,r,i){this.persistence=e,this.Fs=t,this.serializer=i,this.Ms=new mt(Le),this.xs=new Zi((s=>Ta(s)),xd),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new nb(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.Ms)))}}function sb(n,e,t,r){return new bL(n,e,t,r)}async function ob(n,e){const t=Ce(n);return await t.persistence.runTransaction("Handle user change","readonly",(r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next((s=>(i=s,t.Bs(e),t.mutationQueue.getAllMutationBatches(r)))).next((s=>{const a=[],u=[];let d=ze();for(const h of i){a.push(h.batchId);for(const m of h.mutations)d=d.add(m.key)}for(const h of s){u.push(h.batchId);for(const m of h.mutations)d=d.add(m.key)}return t.localDocuments.getDocuments(r,d).next((h=>({Ls:h,removedBatchIds:a,addedBatchIds:u})))}))}))}function xL(n,e){const t=Ce(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const i=e.batch.keys(),s=t.Ns.newChangeBuffer({trackRemovals:!0});return(function(u,d,h,m){const g=h.batch,v=g.keys();let E=W.resolve();return v.forEach((R=>{E=E.next((()=>m.getEntry(d,R))).next((k=>{const A=h.docVersions.get(R);xe(A!==null,48541),k.version.compareTo(A)<0&&(g.applyToRemoteDocument(k,h),k.isValidDocument()&&(k.setReadTime(h.commitVersion),m.addEntry(k)))}))})),E.next((()=>u.mutationQueue.removeMutationBatch(d,g)))})(t,r,e,s).next((()=>s.apply(r))).next((()=>t.mutationQueue.performConsistencyCheck(r))).next((()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId))).next((()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(u){let d=ze();for(let h=0;h<u.mutationResults.length;++h)u.mutationResults[h].transformResults.length>0&&(d=d.add(u.batch.mutations[h].key));return d})(e)))).next((()=>t.localDocuments.getDocuments(r,i)))}))}function ab(n){const e=Ce(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.Pi.getLastRemoteSnapshotVersion(t)))}function RL(n,e){const t=Ce(n),r=e.snapshotVersion;let i=t.Ms;return t.persistence.runTransaction("Apply remote event","readwrite-primary",(s=>{const a=t.Ns.newChangeBuffer({trackRemovals:!0});i=t.Ms;const u=[];e.targetChanges.forEach(((m,g)=>{const v=i.get(g);if(!v)return;u.push(t.Pi.removeMatchingKeys(s,m.removedDocuments,g).next((()=>t.Pi.addMatchingKeys(s,m.addedDocuments,g))));let E=v.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(g)!==null?E=E.withResumeToken(Wt.EMPTY_BYTE_STRING,Re.min()).withLastLimboFreeSnapshotVersion(Re.min()):m.resumeToken.approximateByteSize()>0&&(E=E.withResumeToken(m.resumeToken,r)),i=i.insert(g,E),(function(k,A,j){return k.resumeToken.approximateByteSize()===0||A.snapshotVersion.toMicroseconds()-k.snapshotVersion.toMicroseconds()>=AL?!0:j.addedDocuments.size+j.modifiedDocuments.size+j.removedDocuments.size>0})(v,E,m)&&u.push(t.Pi.updateTargetData(s,E))}));let d=sr(),h=ze();if(e.documentUpdates.forEach((m=>{e.resolvedLimboDocuments.has(m)&&u.push(t.persistence.referenceDelegate.updateLimboDocument(s,m))})),u.push(kL(s,a,e.documentUpdates).next((m=>{d=m.ks,h=m.qs}))),!r.isEqual(Re.min())){const m=t.Pi.getLastRemoteSnapshotVersion(s).next((g=>t.Pi.setTargetsMetadata(s,s.currentSequenceNumber,r)));u.push(m)}return W.waitFor(u).next((()=>a.apply(s))).next((()=>t.localDocuments.getLocalViewOfDocuments(s,d,h))).next((()=>d))})).then((s=>(t.Ms=i,s)))}function kL(n,e,t){let r=ze(),i=ze();return t.forEach((s=>r=r.add(s))),e.getEntries(n,r).next((s=>{let a=sr();return t.forEach(((u,d)=>{const h=s.get(u);d.isFoundDocument()!==h.isFoundDocument()&&(i=i.add(u)),d.isNoDocument()&&d.version.isEqual(Re.min())?(e.removeEntry(u,d.readTime),a=a.insert(u,d)):!h.isValidDocument()||d.version.compareTo(h.version)>0||d.version.compareTo(h.version)===0&&h.hasPendingWrites?(e.addEntry(d),a=a.insert(u,d)):le(Fw,"Ignoring outdated watch update for ",u,". Current version:",h.version," Watch version:",d.version)})),{ks:a,qs:i}}))}function DL(n,e){const t=Ce(n);return t.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=fa),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function ap(n,e){const t=Ce(n);return t.persistence.runTransaction("Allocate target","readwrite",(r=>{let i;return t.Pi.getTargetData(r,e).next((s=>s?(i=s,W.resolve(i)):t.Pi.allocateTargetId(r).next((a=>(i=new Ui(e,a,"TargetPurposeListen",r.currentSequenceNumber),t.Pi.addTargetData(r,i).next((()=>i)))))))})).then((r=>{const i=t.Ms.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.Ms=t.Ms.insert(r.targetId,r),t.xs.set(e,r.targetId)),r}))}async function cu(n,e,t){const r=Ce(n),i=r.Ms.get(e),s=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",s,(a=>r.persistence.referenceDelegate.removeTarget(a,i)))}catch(a){if(!vo(a))throw a;le(Fw,`Failed to update sequence numbers for target ${e}: ${a}`)}r.Ms=r.Ms.remove(e),r.xs.delete(i.target)}function yv(n,e,t){const r=Ce(n);let i=Re.min(),s=ze();return r.persistence.runTransaction("Execute query","readwrite",(a=>(function(d,h,m){const g=Ce(d),v=g.xs.get(m);return v!==void 0?W.resolve(g.Ms.get(v)):g.Pi.getTargetData(h,m)})(r,a,or(e)).next((u=>{if(u)return i=u.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(a,u.targetId).next((d=>{s=d}))})).next((()=>r.Fs.getDocumentsMatchingQuery(a,e,t?i:Re.min(),t?s:ze()))).next((u=>(cb(r,gA(e),u),{documents:u,Qs:s})))))}function lb(n,e){const t=Ce(n),r=Ce(t.Pi),i=t.Ms.get(e);return i?Promise.resolve(i.target):t.persistence.runTransaction("Get target data","readonly",(s=>r.At(s,e).next((a=>a?a.target:null))))}function ub(n,e){const t=Ce(n),r=t.Os.get(e)||Re.min();return t.persistence.runTransaction("Get new document changes","readonly",(i=>t.Ns.getAllFromCollectionGroup(i,e,OC(r,Jl),Number.MAX_SAFE_INTEGER))).then((i=>(cb(t,e,i),i)))}function cb(n,e,t){let r=n.Os.get(e)||Re.min();t.forEach(((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)})),n.Os.set(e,r)}const db="firestore_clients";function VI(n,e){return`${db}_${n}_${e}`}const hb="firestore_mutations";function OI(n,e,t){let r=`${hb}_${n}_${t}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}const fb="firestore_targets";function fy(n,e){return`${fb}_${n}_${e}`}const ri="SharedClientState";class lp{constructor(e,t,r,i){this.user=e,this.batchId=t,this.state=r,this.error=i}static Ws(e,t,r){const i=JSON.parse(r);let s,a=typeof i=="object"&&["pending","acknowledged","rejected"].indexOf(i.state)!==-1&&(i.error===void 0||typeof i.error=="object");return a&&i.error&&(a=typeof i.error.message=="string"&&typeof i.error.code=="string",a&&(s=new ye(i.error.code,i.error.message))),a?new lp(e,t,i.state,s):(Ut(ri,`Failed to parse mutation state for ID '${t}': ${r}`),null)}Gs(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Jc{constructor(e,t,r){this.targetId=e,this.state=t,this.error=r}static Ws(e,t){const r=JSON.parse(t);let i,s=typeof r=="object"&&["not-current","current","rejected"].indexOf(r.state)!==-1&&(r.error===void 0||typeof r.error=="object");return s&&r.error&&(s=typeof r.error.message=="string"&&typeof r.error.code=="string",s&&(i=new ye(r.error.code,r.error.message))),s?new Jc(e,r.state,i):(Ut(ri,`Failed to parse target state for ID '${e}': ${t}`),null)}Gs(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class up{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Ws(e,t){const r=JSON.parse(t);let i=typeof r=="object"&&r.activeTargetIds instanceof Array,s=Pw();for(let a=0;i&&a<r.activeTargetIds.length;++a)i=jC(r.activeTargetIds[a]),s=s.add(r.activeTargetIds[a]);return i?new up(e,s):(Ut(ri,`Failed to parse client data for instance '${e}': ${t}`),null)}}class Uw{constructor(e,t){this.clientId=e,this.onlineState=t}static Ws(e){const t=JSON.parse(e);return typeof t=="object"&&["Unknown","Online","Offline"].indexOf(t.onlineState)!==-1&&typeof t.clientId=="string"?new Uw(t.clientId,t.onlineState):(Ut(ri,`Failed to parse online state: ${e}`),null)}}class vv{constructor(){this.activeTargetIds=Pw()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class py{constructor(e,t,r,i,s){this.window=e,this.Mi=t,this.persistenceKey=r,this.Js=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Hs=this.Ys.bind(this),this.Zs=new mt(Le),this.started=!1,this.Xs=[];const a=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=s,this.eo=VI(this.persistenceKey,this.Js),this.no=(function(d){return`firestore_sequence_number_${d}`})(this.persistenceKey),this.Zs=this.Zs.insert(this.Js,new vv),this.ro=new RegExp(`^${db}_${a}_([^_]*)$`),this.io=new RegExp(`^${hb}_${a}_(\\d+)(?:_(.*))?$`),this.so=new RegExp(`^${fb}_${a}_(\\d+)$`),this.oo=(function(d){return`firestore_online_state_${d}`})(this.persistenceKey),this._o=(function(d){return`firestore_bundle_loaded_v2_${d}`})(this.persistenceKey),this.window.addEventListener("storage",this.Hs)}static v(e){return!(!e||!e.localStorage)}async start(){const e=await this.syncEngine.Ts();for(const r of e){if(r===this.Js)continue;const i=this.getItem(VI(this.persistenceKey,r));if(i){const s=up.Ws(r,i);s&&(this.Zs=this.Zs.insert(s.clientId,s))}}this.ao();const t=this.storage.getItem(this.oo);if(t){const r=this.uo(t);r&&this.co(r)}for(const r of this.Xs)this.Ys(r);this.Xs=[],this.window.addEventListener("pagehide",(()=>this.shutdown())),this.started=!0}writeSequenceNumber(e){this.setItem(this.no,JSON.stringify(e))}getAllActiveQueryTargets(){return this.lo(this.Zs)}isActiveQueryTarget(e){let t=!1;return this.Zs.forEach(((r,i)=>{i.activeTargetIds.has(e)&&(t=!0)})),t}addPendingMutation(e){this.ho(e,"pending")}updateMutationState(e,t,r){this.ho(e,t,r),this.Po(e)}addLocalQueryTarget(e,t=!0){let r="not-current";if(this.isActiveQueryTarget(e)){const i=this.storage.getItem(fy(this.persistenceKey,e));if(i){const s=Jc.Ws(e,i);s&&(r=s.state)}}return t&&this.To.zs(e),this.ao(),r}removeLocalQueryTarget(e){this.To.js(e),this.ao()}isLocalQueryTarget(e){return this.To.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(fy(this.persistenceKey,e))}updateQueryState(e,t,r){this.Io(e,t,r)}handleUserChange(e,t,r){t.forEach((i=>{this.Po(i)})),this.currentUser=e,r.forEach((i=>{this.addPendingMutation(i)}))}setOnlineState(e){this.Eo(e)}notifyBundleLoaded(e){this.Ao(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.Hs),this.removeItem(this.eo),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return le(ri,"READ",e,t),t}setItem(e,t){le(ri,"SET",e,t),this.storage.setItem(e,t)}removeItem(e){le(ri,"REMOVE",e),this.storage.removeItem(e)}Ys(e){const t=e;if(t.storageArea===this.storage){if(le(ri,"EVENT",t.key,t.newValue),t.key===this.eo)return void Ut("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Mi.enqueueRetryable((async()=>{if(this.started){if(t.key!==null){if(this.ro.test(t.key)){if(t.newValue==null){const r=this.Ro(t.key);return this.Vo(r,null)}{const r=this.mo(t.key,t.newValue);if(r)return this.Vo(r.clientId,r)}}else if(this.io.test(t.key)){if(t.newValue!==null){const r=this.fo(t.key,t.newValue);if(r)return this.po(r)}}else if(this.so.test(t.key)){if(t.newValue!==null){const r=this.yo(t.key,t.newValue);if(r)return this.wo(r)}}else if(t.key===this.oo){if(t.newValue!==null){const r=this.uo(t.newValue);if(r)return this.co(r)}}else if(t.key===this.no){const r=(function(s){let a=$n.ce;if(s!=null)try{const u=JSON.parse(s);xe(typeof u=="number",30636,{So:s}),a=u}catch(u){Ut(ri,"Failed to read sequence number from WebStorage",u)}return a})(t.newValue);r!==$n.ce&&this.sequenceNumberHandler(r)}else if(t.key===this._o){const r=this.bo(t.newValue);await Promise.all(r.map((i=>this.syncEngine.Do(i))))}}}else this.Xs.push(t)}))}}get To(){return this.Zs.get(this.Js)}ao(){this.setItem(this.eo,this.To.Gs())}ho(e,t,r){const i=new lp(this.currentUser,e,t,r),s=OI(this.persistenceKey,this.currentUser,e);this.setItem(s,i.Gs())}Po(e){const t=OI(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Eo(e){const t={clientId:this.Js,onlineState:e};this.storage.setItem(this.oo,JSON.stringify(t))}Io(e,t,r){const i=fy(this.persistenceKey,e),s=new Jc(e,t,r);this.setItem(i,s.Gs())}Ao(e){const t=JSON.stringify(Array.from(e));this.setItem(this._o,t)}Ro(e){const t=this.ro.exec(e);return t?t[1]:null}mo(e,t){const r=this.Ro(e);return up.Ws(r,t)}fo(e,t){const r=this.io.exec(e),i=Number(r[1]),s=r[2]!==void 0?r[2]:null;return lp.Ws(new cn(s),i,t)}yo(e,t){const r=this.so.exec(e),i=Number(r[1]);return Jc.Ws(i,t)}uo(e){return Uw.Ws(e)}bo(e){return JSON.parse(e)}async po(e){if(e.user.uid===this.currentUser.uid)return this.syncEngine.Co(e.batchId,e.state,e.error);le(ri,`Ignoring mutation for non-active user ${e.user.uid}`)}wo(e){return this.syncEngine.vo(e.targetId,e.state,e.error)}Vo(e,t){const r=t?this.Zs.insert(e,t):this.Zs.remove(e),i=this.lo(this.Zs),s=this.lo(r),a=[],u=[];return s.forEach((d=>{i.has(d)||a.push(d)})),i.forEach((d=>{s.has(d)||u.push(d)})),this.syncEngine.Fo(a,u).then((()=>{this.Zs=r}))}co(e){this.Zs.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}lo(e){let t=Pw();return e.forEach(((r,i)=>{t=t.unionWith(i.activeTargetIds)})),t}}class pb{constructor(){this.Mo=new vv,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,t,r){this.xo[e]=t}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new vv,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class NL{Oo(e){}shutdown(){}}const MI="ConnectivityMonitor";class LI{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){le(MI,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){le(MI,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let hf=null;function wv(){return hf===null?hf=(function(){return 268435456+Math.round(2147483648*Math.random())})():hf++,"0x"+hf.toString(16)}const my="RestConnection",VL={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class OL{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Uo=t+"://"+e.host,this.Ko=`projects/${r}/databases/${i}`,this.Wo=this.databaseId.database===Xf?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Go(e,t,r,i,s){const a=wv(),u=this.zo(e,t.toUriEncodedString());le(my,`Sending RPC '${e}' ${a}:`,u,r);const d={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(d,i,s);const{host:h}=new URL(u),m=go(h);return this.Jo(e,u,d,r,m).then((g=>(le(my,`Received RPC '${e}' ${a}: `,g),g)),(g=>{throw io(my,`RPC '${e}' ${a} failed with error: `,g,"url: ",u,"request:",r),g}))}Ho(e,t,r,i,s,a){return this.Go(e,t,r,i,s)}jo(e,t,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Eu})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((i,s)=>e[s]=i)),r&&r.headers.forEach(((i,s)=>e[s]=i))}zo(e,t){const r=VL[e];return`${this.Uo}/v1/${t}:${r}`}terminate(){}}class ML{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const En="WebChannelConnection";class LL extends OL{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,r,i,s){const a=wv();return new Promise(((u,d)=>{const h=new PC;h.setWithCredentials(!0),h.listenOnce(CC.COMPLETE,(()=>{try{switch(h.getLastErrorCode()){case Sf.NO_ERROR:const g=h.getResponseJson();le(En,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(g)),u(g);break;case Sf.TIMEOUT:le(En,`RPC '${e}' ${a} timed out`),d(new ye(re.DEADLINE_EXCEEDED,"Request time out"));break;case Sf.HTTP_ERROR:const v=h.getStatus();if(le(En,`RPC '${e}' ${a} failed with status:`,v,"response text:",h.getResponseText()),v>0){let E=h.getResponseJson();Array.isArray(E)&&(E=E[0]);const R=E?.error;if(R&&R.status&&R.message){const k=(function(j){const O=j.toLowerCase().replace(/_/g,"-");return Object.values(re).indexOf(O)>=0?O:re.UNKNOWN})(R.status);d(new ye(k,R.message))}else d(new ye(re.UNKNOWN,"Server responded with status "+h.getStatus()))}else d(new ye(re.UNAVAILABLE,"Connection failed."));break;default:Ie(9055,{l_:e,streamId:a,h_:h.getLastErrorCode(),P_:h.getLastError()})}}finally{le(En,`RPC '${e}' ${a} completed.`)}}));const m=JSON.stringify(i);le(En,`RPC '${e}' ${a} sending request:`,i),h.send(t,"POST",m,r,15)}))}T_(e,t,r){const i=wv(),s=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=xC(),u=bC(),d={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},h=this.longPollingOptions.timeoutSeconds;h!==void 0&&(d.longPollingTimeout=Math.round(1e3*h)),this.useFetchStreams&&(d.useFetchStreams=!0),this.jo(d.initMessageHeaders,t,r),d.encodeInitMessageHeaders=!0;const m=s.join("");le(En,`Creating RPC '${e}' stream ${i}: ${m}`,d);const g=a.createWebChannel(m,d);this.I_(g);let v=!1,E=!1;const R=new ML({Yo:A=>{E?le(En,`Not sending because RPC '${e}' stream ${i} is closed:`,A):(v||(le(En,`Opening RPC '${e}' stream ${i} transport.`),g.open(),v=!0),le(En,`RPC '${e}' stream ${i} sending:`,A),g.send(A))},Zo:()=>g.close()}),k=(A,j,O)=>{A.listen(j,(F=>{try{O(F)}catch(z){setTimeout((()=>{throw z}),0)}}))};return k(g,Fc.EventType.OPEN,(()=>{E||(le(En,`RPC '${e}' stream ${i} transport opened.`),R.o_())})),k(g,Fc.EventType.CLOSE,(()=>{E||(E=!0,le(En,`RPC '${e}' stream ${i} transport closed`),R.a_(),this.E_(g))})),k(g,Fc.EventType.ERROR,(A=>{E||(E=!0,io(En,`RPC '${e}' stream ${i} transport errored. Name:`,A.name,"Message:",A.message),R.a_(new ye(re.UNAVAILABLE,"The operation could not be completed")))})),k(g,Fc.EventType.MESSAGE,(A=>{if(!E){const j=A.data[0];xe(!!j,16349);const O=j,F=O?.error||O[0]?.error;if(F){le(En,`RPC '${e}' stream ${i} received error:`,F);const z=F.status;let te=(function(S){const D=Gt[S];if(D!==void 0)return xA(D)})(z),Y=F.message;te===void 0&&(te=re.INTERNAL,Y="Unknown error status: "+z+" with message "+F.message),E=!0,R.a_(new ye(te,Y)),g.close()}else le(En,`RPC '${e}' stream ${i} received:`,j),R.u_(j)}})),k(u,AC.STAT_EVENT,(A=>{A.stat===Xy.PROXY?le(En,`RPC '${e}' stream ${i} detected buffering proxy`):A.stat===Xy.NOPROXY&&le(En,`RPC '${e}' stream ${i} detected no buffering proxy`)})),setTimeout((()=>{R.__()}),0),R}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((t=>t===e))}}function mb(){return typeof window<"u"?window:null}function Vf(){return typeof document<"u"?document:null}function rm(n){return new $M(n,!0)}class gb{constructor(e,t,r=1e3,i=1.5,s=6e4){this.Mi=e,this.timerId=t,this.d_=r,this.A_=i,this.R_=s,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const t=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),i=Math.max(0,t-r);i>0&&le("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.V_} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,i,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const FI="PersistentStream";class yb{constructor(e,t,r,i,s,a,u,d){this.Mi=e,this.S_=r,this.b_=i,this.connection=s,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=u,this.listener=d,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new gb(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():t&&t.code===re.RESOURCE_EXHAUSTED?(Ut(t.toString()),Ut("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===re.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(t)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,i])=>{this.D_===t&&this.G_(r,i)}),(r=>{e((()=>{const i=new ye(re.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(i)}))}))}G_(e,t){const r=this.W_(this.D_);this.stream=this.j_(e,t),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((i=>{r((()=>this.z_(i)))})),this.stream.onMessage((i=>{r((()=>++this.F_==1?this.J_(i):this.onNext(i)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return le(FI,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return t=>{this.Mi.enqueueAndForget((()=>this.D_===e?t():(le(FI,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class FL extends yb{constructor(e,t,r,i,s,a){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,a),this.serializer=s}j_(e,t){return this.connection.T_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=HM(this.serializer,e),r=(function(s){if(!("targetChange"in s))return Re.min();const a=s.targetChange;return a.targetIds&&a.targetIds.length?Re.min():a.readTime?Vn(a.readTime):Re.min()})(e);return this.listener.H_(t,r)}Y_(e){const t={};t.database=hv(this.serializer),t.addTarget=(function(s,a){let u;const d=a.target;if(u=Zf(d)?{documents:LA(s,d)}:{query:FA(s,d).ft},u.targetId=a.targetId,a.resumeToken.approximateByteSize()>0){u.resumeToken=DA(s,a.resumeToken);const h=cv(s,a.expectedCount);h!==null&&(u.expectedCount=h)}else if(a.snapshotVersion.compareTo(Re.min())>0){u.readTime=uu(s,a.snapshotVersion.toTimestamp());const h=cv(s,a.expectedCount);h!==null&&(u.expectedCount=h)}return u})(this.serializer,e);const r=GM(this.serializer,e);r&&(t.labels=r),this.q_(t)}Z_(e){const t={};t.database=hv(this.serializer),t.removeTarget=e,this.q_(t)}}class UL extends yb{constructor(e,t,r,i,s,a){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,a),this.serializer=s}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}J_(e){return xe(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,xe(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){xe(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=qM(e.writeResults,e.commitTime),r=Vn(e.commitTime);return this.listener.na(r,t)}ra(){const e={};e.database=hv(this.serializer),this.q_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map((r=>np(this.serializer,r)))};this.q_(t)}}class jL{}class BL extends jL{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new ye(re.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,t,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([s,a])=>this.connection.Go(e,dv(t,r),i,s,a))).catch((s=>{throw s.name==="FirebaseError"?(s.code===re.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new ye(re.UNKNOWN,s.toString())}))}Ho(e,t,r,i,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([a,u])=>this.connection.Ho(e,dv(t,r),i,a,u,s))).catch((a=>{throw a.name==="FirebaseError"?(a.code===re.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new ye(re.UNKNOWN,a.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class $L{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Ut(t),this.aa=!1):le("OnlineStateTracker",t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Pa="RemoteStore";class zL{constructor(e,t,r,i,s){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=s,this.Aa.Oo((a=>{r.enqueueAndForget((async()=>{Da(this)&&(le(Pa,"Restarting streams for network reachability change."),await(async function(d){const h=Ce(d);h.Ea.add(4),await Nd(h),h.Ra.set("Unknown"),h.Ea.delete(4),await im(h)})(this))}))})),this.Ra=new $L(r,i)}}async function im(n){if(Da(n))for(const e of n.da)await e(!0)}async function Nd(n){for(const e of n.da)await e(!1)}function sm(n,e){const t=Ce(n);t.Ia.has(e.targetId)||(t.Ia.set(e.targetId,e),$w(t)?Bw(t):Pu(t).O_()&&jw(t,e))}function du(n,e){const t=Ce(n),r=Pu(t);t.Ia.delete(e),r.O_()&&vb(t,e),t.Ia.size===0&&(r.O_()?r.L_():Da(t)&&t.Ra.set("Unknown"))}function jw(n,e){if(n.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Re.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Pu(n).Y_(e)}function vb(n,e){n.Va.Ue(e),Pu(n).Z_(e)}function Bw(n){n.Va=new FM({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),At:e=>n.Ia.get(e)||null,ht:()=>n.datastore.serializer.databaseId}),Pu(n).start(),n.Ra.ua()}function $w(n){return Da(n)&&!Pu(n).x_()&&n.Ia.size>0}function Da(n){return Ce(n).Ea.size===0}function wb(n){n.Va=void 0}async function WL(n){n.Ra.set("Online")}async function HL(n){n.Ia.forEach(((e,t)=>{jw(n,e)}))}async function qL(n,e){wb(n),$w(n)?(n.Ra.ha(e),Bw(n)):n.Ra.set("Unknown")}async function GL(n,e,t){if(n.Ra.set("Online"),e instanceof kA&&e.state===2&&e.cause)try{await(async function(i,s){const a=s.cause;for(const u of s.targetIds)i.Ia.has(u)&&(await i.remoteSyncer.rejectListen(u,a),i.Ia.delete(u),i.Va.removeTarget(u))})(n,e)}catch(r){le(Pa,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await cp(n,r)}else if(e instanceof Df?n.Va.Ze(e):e instanceof RA?n.Va.st(e):n.Va.tt(e),!t.isEqual(Re.min()))try{const r=await ab(n.localStore);t.compareTo(r)>=0&&await(function(s,a){const u=s.Va.Tt(a);return u.targetChanges.forEach(((d,h)=>{if(d.resumeToken.approximateByteSize()>0){const m=s.Ia.get(h);m&&s.Ia.set(h,m.withResumeToken(d.resumeToken,a))}})),u.targetMismatches.forEach(((d,h)=>{const m=s.Ia.get(d);if(!m)return;s.Ia.set(d,m.withResumeToken(Wt.EMPTY_BYTE_STRING,m.snapshotVersion)),vb(s,d);const g=new Ui(m.target,d,h,m.sequenceNumber);jw(s,g)})),s.remoteSyncer.applyRemoteEvent(u)})(n,t)}catch(r){le(Pa,"Failed to raise snapshot:",r),await cp(n,r)}}async function cp(n,e,t){if(!vo(e))throw e;n.Ea.add(1),await Nd(n),n.Ra.set("Offline"),t||(t=()=>ab(n.localStore)),n.asyncQueue.enqueueRetryable((async()=>{le(Pa,"Retrying IndexedDB access"),await t(),n.Ea.delete(1),await im(n)}))}function _b(n,e){return e().catch((t=>cp(n,t,e)))}async function Su(n){const e=Ce(n),t=ao(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:fa;for(;KL(e);)try{const i=await DL(e.localStore,r);if(i===null){e.Ta.length===0&&t.L_();break}r=i.batchId,QL(e,i)}catch(i){await cp(e,i)}Tb(e)&&Eb(e)}function KL(n){return Da(n)&&n.Ta.length<10}function QL(n,e){n.Ta.push(e);const t=ao(n);t.O_()&&t.X_&&t.ea(e.mutations)}function Tb(n){return Da(n)&&!ao(n).x_()&&n.Ta.length>0}function Eb(n){ao(n).start()}async function YL(n){ao(n).ra()}async function XL(n){const e=ao(n);for(const t of n.Ta)e.ea(t.mutations)}async function JL(n,e,t){const r=n.Ta.shift(),i=bw.from(r,e,t);await _b(n,(()=>n.remoteSyncer.applySuccessfulWrite(i))),await Su(n)}async function ZL(n,e){e&&ao(n).X_&&await(async function(r,i){if((function(a){return OM(a)&&a!==re.ABORTED})(i.code)){const s=r.Ta.shift();ao(r).B_(),await _b(r,(()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i))),await Su(r)}})(n,e),Tb(n)&&Eb(n)}async function UI(n,e){const t=Ce(n);t.asyncQueue.verifyOperationInProgress(),le(Pa,"RemoteStore received new credentials");const r=Da(t);t.Ea.add(3),await Nd(t),r&&t.Ra.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ea.delete(3),await im(t)}async function _v(n,e){const t=Ce(n);e?(t.Ea.delete(2),await im(t)):e||(t.Ea.add(2),await Nd(t),t.Ra.set("Unknown"))}function Pu(n){return n.ma||(n.ma=(function(t,r,i){const s=Ce(t);return s.sa(),new FL(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)})(n.datastore,n.asyncQueue,{Xo:WL.bind(null,n),t_:HL.bind(null,n),r_:qL.bind(null,n),H_:GL.bind(null,n)}),n.da.push((async e=>{e?(n.ma.B_(),$w(n)?Bw(n):n.Ra.set("Unknown")):(await n.ma.stop(),wb(n))}))),n.ma}function ao(n){return n.fa||(n.fa=(function(t,r,i){const s=Ce(t);return s.sa(),new UL(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)})(n.datastore,n.asyncQueue,{Xo:()=>Promise.resolve(),t_:YL.bind(null,n),r_:ZL.bind(null,n),ta:XL.bind(null,n),na:JL.bind(null,n)}),n.da.push((async e=>{e?(n.fa.B_(),await Su(n)):(await n.fa.stop(),n.Ta.length>0&&(le(Pa,`Stopping write stream with ${n.Ta.length} pending writes`),n.Ta=[]))}))),n.fa}class zw{constructor(e,t,r,i,s){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Nr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((a=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,i,s){const a=Date.now()+r,u=new zw(e,t,a,i,s);return u.start(r),u}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ye(re.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function om(n,e){if(Ut("AsyncQueue",`${e}: ${n}`),vo(n))return new ye(re.UNAVAILABLE,`${e}: ${n}`);throw n}class Wl{static emptySet(e){return new Wl(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||ve.comparator(t.key,r.key):(t,r)=>ve.comparator(t.key,r.key),this.keyedMap=Uc(),this.sortedSet=new mt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,r)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Wl)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const r=new Wl;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class jI{constructor(){this.ga=new mt(ve.comparator)}track(e){const t=e.doc.key,r=this.ga.get(t);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(t,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(t):e.type===1&&r.type===2?this.ga=this.ga.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):Ie(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal(((t,r)=>{e.push(r)})),e}}class hu{constructor(e,t,r,i,s,a,u,d,h){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=a,this.syncStateChanged=u,this.excludesMetadataChanges=d,this.hasCachedResults=h}static fromInitialDocuments(e,t,r,i,s){const a=[];return t.forEach((u=>{a.push({type:0,doc:u})})),new hu(e,t,Wl.emptySet(t),a,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Yp(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}class e2{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class t2{constructor(){this.queries=BI(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,r){const i=Ce(t),s=i.queries;i.queries=BI(),s.forEach(((a,u)=>{for(const d of u.Sa)d.onError(r)}))})(this,new ye(re.ABORTED,"Firestore shutting down"))}}function BI(){return new Zi((n=>mA(n)),Yp)}async function Ib(n,e){const t=Ce(n);let r=3;const i=e.query;let s=t.queries.get(i);s?!s.ba()&&e.Da()&&(r=2):(s=new e2,r=e.Da()?0:1);try{switch(r){case 0:s.wa=await t.onListen(i,!0);break;case 1:s.wa=await t.onListen(i,!1);break;case 2:await t.onFirstRemoteStoreListen(i)}}catch(a){const u=om(a,`Initialization of query '${Nl(e.query)}' failed`);return void e.onError(u)}t.queries.set(i,s),s.Sa.push(e),e.va(t.onlineState),s.wa&&e.Fa(s.wa)&&Ww(t)}async function Sb(n,e){const t=Ce(n),r=e.query;let i=3;const s=t.queries.get(r);if(s){const a=s.Sa.indexOf(e);a>=0&&(s.Sa.splice(a,1),s.Sa.length===0?i=e.Da()?0:1:!s.ba()&&e.Da()&&(i=2))}switch(i){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function n2(n,e){const t=Ce(n);let r=!1;for(const i of e){const s=i.query,a=t.queries.get(s);if(a){for(const u of a.Sa)u.Fa(i)&&(r=!0);a.wa=i}}r&&Ww(t)}function r2(n,e,t){const r=Ce(n),i=r.queries.get(e);if(i)for(const s of i.Sa)s.onError(t);r.queries.delete(e)}function Ww(n){n.Ca.forEach((e=>{e.next()}))}var Tv,$I;($I=Tv||(Tv={})).Ma="default",$I.Cache="cache";class Pb{constructor(e,t,r){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new hu(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;const r=t!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}ka(e){e=hu.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Tv.Cache}}class Cb{constructor(e){this.key=e}}class Ab{constructor(e){this.key=e}}class i2{constructor(e,t){this.query=e,this.Ya=t,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=ze(),this.mutatedKeys=ze(),this.eu=yA(e),this.tu=new Wl(this.eu)}get nu(){return this.Ya}ru(e,t){const r=t?t.iu:new jI,i=t?t.tu:this.tu;let s=t?t.mutatedKeys:this.mutatedKeys,a=i,u=!1;const d=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,h=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal(((m,g)=>{const v=i.get(m),E=Rd(this.query,g)?g:null,R=!!v&&this.mutatedKeys.has(v.key),k=!!E&&(E.hasLocalMutations||this.mutatedKeys.has(E.key)&&E.hasCommittedMutations);let A=!1;v&&E?v.data.isEqual(E.data)?R!==k&&(r.track({type:3,doc:E}),A=!0):this.su(v,E)||(r.track({type:2,doc:E}),A=!0,(d&&this.eu(E,d)>0||h&&this.eu(E,h)<0)&&(u=!0)):!v&&E?(r.track({type:0,doc:E}),A=!0):v&&!E&&(r.track({type:1,doc:v}),A=!0,(d||h)&&(u=!0)),A&&(E?(a=a.add(E),s=k?s.add(m):s.delete(m)):(a=a.delete(m),s=s.delete(m)))})),this.query.limit!==null)for(;a.size>this.query.limit;){const m=this.query.limitType==="F"?a.last():a.first();a=a.delete(m.key),s=s.delete(m.key),r.track({type:1,doc:m})}return{tu:a,iu:r,Cs:u,mutatedKeys:s}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,i){const s=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const a=e.iu.ya();a.sort(((m,g)=>(function(E,R){const k=A=>{switch(A){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ie(20277,{Rt:A})}};return k(E)-k(R)})(m.type,g.type)||this.eu(m.doc,g.doc))),this.ou(r),i=i??!1;const u=t&&!i?this._u():[],d=this.Xa.size===0&&this.current&&!i?1:0,h=d!==this.Za;return this.Za=d,a.length!==0||h?{snapshot:new hu(this.query,e.tu,s,a,e.mutatedKeys,d===0,h,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:u}:{au:u}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new jI,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((t=>this.Ya=this.Ya.add(t))),e.modifiedDocuments.forEach((t=>{})),e.removedDocuments.forEach((t=>this.Ya=this.Ya.delete(t))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=ze(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const t=[];return e.forEach((r=>{this.Xa.has(r)||t.push(new Ab(r))})),this.Xa.forEach((r=>{e.has(r)||t.push(new Cb(r))})),t}cu(e){this.Ya=e.Qs,this.Xa=ze();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return hu.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Cu="SyncEngine";class s2{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class o2{constructor(e){this.key=e,this.hu=!1}}class a2{constructor(e,t,r,i,s,a){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=a,this.Pu={},this.Tu=new Zi((u=>mA(u)),Yp),this.Iu=new Map,this.Eu=new Set,this.du=new mt(ve.comparator),this.Au=new Map,this.Ru=new Vw,this.Vu={},this.mu=new Map,this.fu=Sa.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function l2(n,e,t=!0){const r=am(n);let i;const s=r.Tu.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.lu()):i=await bb(r,e,t,!0),i}async function u2(n,e){const t=am(n);await bb(t,e,!0,!1)}async function bb(n,e,t,r){const i=await ap(n.localStore,or(e)),s=i.targetId,a=n.sharedClientState.addLocalQueryTarget(s,t);let u;return r&&(u=await Hw(n,e,s,a==="current",i.resumeToken)),n.isPrimaryClient&&t&&sm(n.remoteStore,i),u}async function Hw(n,e,t,r,i){n.pu=(g,v,E)=>(async function(k,A,j,O){let F=A.view.ru(j);F.Cs&&(F=await yv(k.localStore,A.query,!1).then((({documents:C})=>A.view.ru(C,F))));const z=O&&O.targetChanges.get(A.targetId),te=O&&O.targetMismatches.get(A.targetId)!=null,Y=A.view.applyChanges(F,k.isPrimaryClient,z,te);return Ev(k,A.targetId,Y.au),Y.snapshot})(n,g,v,E);const s=await yv(n.localStore,e,!0),a=new i2(e,s.Qs),u=a.ru(s.documents),d=Dd.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",i),h=a.applyChanges(u,n.isPrimaryClient,d);Ev(n,t,h.au);const m=new s2(e,t,a);return n.Tu.set(e,m),n.Iu.has(t)?n.Iu.get(t).push(e):n.Iu.set(t,[e]),h.snapshot}async function c2(n,e,t){const r=Ce(n),i=r.Tu.get(e),s=r.Iu.get(i.targetId);if(s.length>1)return r.Iu.set(i.targetId,s.filter((a=>!Yp(a,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await cu(r.localStore,i.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(i.targetId),t&&du(r.remoteStore,i.targetId),fu(r,i.targetId)})).catch(yo)):(fu(r,i.targetId),await cu(r.localStore,i.targetId,!0))}async function d2(n,e){const t=Ce(n),r=t.Tu.get(e),i=t.Iu.get(r.targetId);t.isPrimaryClient&&i.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),du(t.remoteStore,r.targetId))}async function h2(n,e,t){const r=Qw(n);try{const i=await(function(a,u){const d=Ce(a),h=lt.now(),m=u.reduce(((E,R)=>E.add(R.key)),ze());let g,v;return d.persistence.runTransaction("Locally write mutations","readwrite",(E=>{let R=sr(),k=ze();return d.Ns.getEntries(E,m).next((A=>{R=A,R.forEach(((j,O)=>{O.isValidDocument()||(k=k.add(j))}))})).next((()=>d.localDocuments.getOverlayedDocuments(E,R))).next((A=>{g=A;const j=[];for(const O of u){const F=NM(O,g.get(O.key).overlayedDocument);F!=null&&j.push(new es(O.key,F,oA(F.value.mapValue),Cn.exists(!0)))}return d.mutationQueue.addMutationBatch(E,h,j,u)})).next((A=>{v=A;const j=A.applyToLocalDocumentSet(g,k);return d.documentOverlayCache.saveOverlays(E,A.batchId,j)}))})).then((()=>({batchId:v.batchId,changes:wA(g)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),(function(a,u,d){let h=a.Vu[a.currentUser.toKey()];h||(h=new mt(Le)),h=h.insert(u,d),a.Vu[a.currentUser.toKey()]=h})(r,i.batchId,t),await _o(r,i.changes),await Su(r.remoteStore)}catch(i){const s=om(i,"Failed to persist write");t.reject(s)}}async function xb(n,e){const t=Ce(n);try{const r=await RL(t.localStore,e);e.targetChanges.forEach(((i,s)=>{const a=t.Au.get(s);a&&(xe(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?a.hu=!0:i.modifiedDocuments.size>0?xe(a.hu,14607):i.removedDocuments.size>0&&(xe(a.hu,42227),a.hu=!1))})),await _o(t,r,e)}catch(r){await yo(r)}}function zI(n,e,t){const r=Ce(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){const i=[];r.Tu.forEach(((s,a)=>{const u=a.view.va(e);u.snapshot&&i.push(u.snapshot)})),(function(a,u){const d=Ce(a);d.onlineState=u;let h=!1;d.queries.forEach(((m,g)=>{for(const v of g.Sa)v.va(u)&&(h=!0)})),h&&Ww(d)})(r.eventManager,e),i.length&&r.Pu.H_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function f2(n,e,t){const r=Ce(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r.Au.get(e),s=i&&i.key;if(s){let a=new mt(ve.comparator);a=a.insert(s,Vt.newNoDocument(s,Re.min()));const u=ze().add(s),d=new kd(Re.min(),new Map,new mt(Le),a,u);await xb(r,d),r.du=r.du.remove(s),r.Au.delete(e),Kw(r)}else await cu(r.localStore,e,!1).then((()=>fu(r,e,t))).catch(yo)}async function p2(n,e){const t=Ce(n),r=e.batch.batchId;try{const i=await xL(t.localStore,e);Gw(t,r,null),qw(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await _o(t,i)}catch(i){await yo(i)}}async function m2(n,e,t){const r=Ce(n);try{const i=await(function(a,u){const d=Ce(a);return d.persistence.runTransaction("Reject batch","readwrite-primary",(h=>{let m;return d.mutationQueue.lookupMutationBatch(h,u).next((g=>(xe(g!==null,37113),m=g.keys(),d.mutationQueue.removeMutationBatch(h,g)))).next((()=>d.mutationQueue.performConsistencyCheck(h))).next((()=>d.documentOverlayCache.removeOverlaysForBatchId(h,m,u))).next((()=>d.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(h,m))).next((()=>d.localDocuments.getDocuments(h,m)))}))})(r.localStore,e);Gw(r,e,t),qw(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await _o(r,i)}catch(i){await yo(i)}}function qw(n,e){(n.mu.get(e)||[]).forEach((t=>{t.resolve()})),n.mu.delete(e)}function Gw(n,e,t){const r=Ce(n);let i=r.Vu[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(t?s.reject(t):s.resolve(),i=i.remove(e)),r.Vu[r.currentUser.toKey()]=i}}function fu(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.Iu.get(e))n.Tu.delete(r),t&&n.Pu.yu(r,t);n.Iu.delete(e),n.isPrimaryClient&&n.Ru.jr(e).forEach((r=>{n.Ru.containsKey(r)||Rb(n,r)}))}function Rb(n,e){n.Eu.delete(e.path.canonicalString());const t=n.du.get(e);t!==null&&(du(n.remoteStore,t),n.du=n.du.remove(e),n.Au.delete(t),Kw(n))}function Ev(n,e,t){for(const r of t)r instanceof Cb?(n.Ru.addReference(r.key,e),g2(n,r)):r instanceof Ab?(le(Cu,"Document no longer in limbo: "+r.key),n.Ru.removeReference(r.key,e),n.Ru.containsKey(r.key)||Rb(n,r.key)):Ie(19791,{wu:r})}function g2(n,e){const t=e.key,r=t.path.canonicalString();n.du.get(t)||n.Eu.has(r)||(le(Cu,"New document in limbo: "+t),n.Eu.add(r),Kw(n))}function Kw(n){for(;n.Eu.size>0&&n.du.size<n.maxConcurrentLimboResolutions;){const e=n.Eu.values().next().value;n.Eu.delete(e);const t=new ve(st.fromString(e)),r=n.fu.next();n.Au.set(r,new o2(t)),n.du=n.du.insert(t,r),sm(n.remoteStore,new Ui(or(Qp(t.path)),r,"TargetPurposeLimboResolution",$n.ce))}}async function _o(n,e,t){const r=Ce(n),i=[],s=[],a=[];r.Tu.isEmpty()||(r.Tu.forEach(((u,d)=>{a.push(r.pu(d,e,t).then((h=>{if((h||t)&&r.isPrimaryClient){const m=h?!h.fromCache:t?.targetChanges.get(d.targetId)?.current;r.sharedClientState.updateQueryState(d.targetId,m?"current":"not-current")}if(h){i.push(h);const m=Lw.As(d.targetId,h);s.push(m)}})))})),await Promise.all(a),r.Pu.H_(i),await(async function(d,h){const m=Ce(d);try{await m.persistence.runTransaction("notifyLocalViewChanges","readwrite",(g=>W.forEach(h,(v=>W.forEach(v.Es,(E=>m.persistence.referenceDelegate.addReference(g,v.targetId,E))).next((()=>W.forEach(v.ds,(E=>m.persistence.referenceDelegate.removeReference(g,v.targetId,E)))))))))}catch(g){if(!vo(g))throw g;le(Fw,"Failed to update sequence numbers: "+g)}for(const g of h){const v=g.targetId;if(!g.fromCache){const E=m.Ms.get(v),R=E.snapshotVersion,k=E.withLastLimboFreeSnapshotVersion(R);m.Ms=m.Ms.insert(v,k)}}})(r.localStore,s))}async function y2(n,e){const t=Ce(n);if(!t.currentUser.isEqual(e)){le(Cu,"User change. New user:",e.toKey());const r=await ob(t.localStore,e);t.currentUser=e,(function(s,a){s.mu.forEach((u=>{u.forEach((d=>{d.reject(new ye(re.CANCELLED,a))}))})),s.mu.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await _o(t,r.Ls)}}function v2(n,e){const t=Ce(n),r=t.Au.get(e);if(r&&r.hu)return ze().add(r.key);{let i=ze();const s=t.Iu.get(e);if(!s)return i;for(const a of s){const u=t.Tu.get(a);i=i.unionWith(u.view.nu)}return i}}async function w2(n,e){const t=Ce(n),r=await yv(t.localStore,e.query,!0),i=e.view.cu(r);return t.isPrimaryClient&&Ev(t,e.targetId,i.au),i}async function _2(n,e){const t=Ce(n);return ub(t.localStore,e).then((r=>_o(t,r)))}async function T2(n,e,t,r){const i=Ce(n),s=await(function(u,d){const h=Ce(u),m=Ce(h.mutationQueue);return h.persistence.runTransaction("Lookup mutation documents","readonly",(g=>m.er(g,d).next((v=>v?h.localDocuments.getDocuments(g,v):W.resolve(null)))))})(i.localStore,e);s!==null?(t==="pending"?await Su(i.remoteStore):t==="acknowledged"||t==="rejected"?(Gw(i,e,r||null),qw(i,e),(function(u,d){Ce(Ce(u).mutationQueue).ir(d)})(i.localStore,e)):Ie(6720,"Unknown batchState",{Su:t}),await _o(i,s)):le(Cu,"Cannot apply mutation batch with id: "+e)}async function E2(n,e){const t=Ce(n);if(am(t),Qw(t),e===!0&&t.gu!==!0){const r=t.sharedClientState.getAllActiveQueryTargets(),i=await WI(t,r.toArray());t.gu=!0,await _v(t.remoteStore,!0);for(const s of i)sm(t.remoteStore,s)}else if(e===!1&&t.gu!==!1){const r=[];let i=Promise.resolve();t.Iu.forEach(((s,a)=>{t.sharedClientState.isLocalQueryTarget(a)?r.push(a):i=i.then((()=>(fu(t,a),cu(t.localStore,a,!0)))),du(t.remoteStore,a)})),await i,await WI(t,r),(function(a){const u=Ce(a);u.Au.forEach(((d,h)=>{du(u.remoteStore,h)})),u.Ru.Jr(),u.Au=new Map,u.du=new mt(ve.comparator)})(t),t.gu=!1,await _v(t.remoteStore,!1)}}async function WI(n,e,t){const r=Ce(n),i=[],s=[];for(const a of e){let u;const d=r.Iu.get(a);if(d&&d.length!==0){u=await ap(r.localStore,or(d[0]));for(const h of d){const m=r.Tu.get(h),g=await w2(r,m);g.snapshot&&s.push(g.snapshot)}}else{const h=await lb(r.localStore,a);u=await ap(r.localStore,h),await Hw(r,kb(h),a,!1,u.resumeToken)}i.push(u)}return r.Pu.H_(s),i}function kb(n){return pA(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function I2(n){return(function(t){return Ce(Ce(t).persistence).Ts()})(Ce(n).localStore)}async function S2(n,e,t,r){const i=Ce(n);if(i.gu)return void le(Cu,"Ignoring unexpected query state notification.");const s=i.Iu.get(e);if(s&&s.length>0)switch(t){case"current":case"not-current":{const a=await ub(i.localStore,gA(s[0])),u=kd.createSynthesizedRemoteEventForCurrentChange(e,t==="current",Wt.EMPTY_BYTE_STRING);await _o(i,a,u);break}case"rejected":await cu(i.localStore,e,!0),fu(i,e,r);break;default:Ie(64155,t)}}async function P2(n,e,t){const r=am(n);if(r.gu){for(const i of e){if(r.Iu.has(i)&&r.sharedClientState.isActiveQueryTarget(i)){le(Cu,"Adding an already active target "+i);continue}const s=await lb(r.localStore,i),a=await ap(r.localStore,s);await Hw(r,kb(s),a.targetId,!1,a.resumeToken),sm(r.remoteStore,a)}for(const i of t)r.Iu.has(i)&&await cu(r.localStore,i,!1).then((()=>{du(r.remoteStore,i),fu(r,i)})).catch(yo)}}function am(n){const e=Ce(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=xb.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=v2.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=f2.bind(null,e),e.Pu.H_=n2.bind(null,e.eventManager),e.Pu.yu=r2.bind(null,e.eventManager),e}function Qw(n){const e=Ce(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=p2.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=m2.bind(null,e),e}class yd{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=rm(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return sb(this.persistence,new ib,e.initialUser,this.serializer)}Cu(e){return new Ow(nm.mi,this.serializer)}Du(e){return new pb}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}yd.provider={build:()=>new yd};class C2 extends yd{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){xe(this.persistence.referenceDelegate instanceof op,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new JA(r,e.asyncQueue,t)}Cu(e){const t=this.cacheSizeBytes!==void 0?Sn.withCacheSize(this.cacheSizeBytes):Sn.DEFAULT;return new Ow((r=>op.mi(r,t)),this.serializer)}}class Db extends yd{constructor(e,t,r){super(),this.xu=e,this.cacheSizeBytes=t,this.forceOwnership=r,this.kind="persistent",this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.xu.initialize(this,e),await Qw(this.xu.syncEngine),await Su(this.xu.remoteStore),await this.persistence.Ji((()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve())))}vu(e){return sb(this.persistence,new ib,e.initialUser,this.serializer)}Fu(e,t){const r=this.persistence.referenceDelegate.garbageCollector;return new JA(r,e.asyncQueue,t)}Mu(e,t){const r=new VO(t,this.persistence);return new NO(e.asyncQueue,r)}Cu(e){const t=rb(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=this.cacheSizeBytes!==void 0?Sn.withCacheSize(this.cacheSizeBytes):Sn.DEFAULT;return new Mw(this.synchronizeTabs,t,e.clientId,r,e.asyncQueue,mb(),Vf(),this.serializer,this.sharedClientState,!!this.forceOwnership)}Du(e){return new pb}}class A2 extends Db{constructor(e,t){super(e,t,!1),this.xu=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}async initialize(e){await super.initialize(e);const t=this.xu.syncEngine;this.sharedClientState instanceof py&&(this.sharedClientState.syncEngine={Co:T2.bind(null,t),vo:S2.bind(null,t),Fo:P2.bind(null,t),Ts:I2.bind(null,t),Do:_2.bind(null,t)},await this.sharedClientState.start()),await this.persistence.Ji((async r=>{await E2(this.xu.syncEngine,r),this.gcScheduler&&(r&&!this.gcScheduler.started?this.gcScheduler.start():r||this.gcScheduler.stop()),this.indexBackfillerScheduler&&(r&&!this.indexBackfillerScheduler.started?this.indexBackfillerScheduler.start():r||this.indexBackfillerScheduler.stop())}))}Du(e){const t=mb();if(!py.v(t))throw new ye(re.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=rb(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new py(t,e.asyncQueue,r,e.clientId,e.initialUser)}}class vd{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>zI(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=y2.bind(null,this.syncEngine),await _v(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new t2})()}createDatastore(e){const t=rm(e.databaseInfo.databaseId),r=(function(s){return new LL(s)})(e.databaseInfo);return(function(s,a,u,d){return new BL(s,a,u,d)})(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return(function(r,i,s,a,u){return new zL(r,i,s,a,u)})(this.localStore,this.datastore,e.asyncQueue,(t=>zI(this.syncEngine,t,0)),(function(){return LI.v()?new LI:new NL})())}createSyncEngine(e,t){return(function(i,s,a,u,d,h,m){const g=new a2(i,s,a,u,d,h);return m&&(g.gu=!0),g})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){await(async function(t){const r=Ce(t);le(Pa,"RemoteStore shutting down."),r.Ea.add(5),await Nd(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}vd.provider={build:()=>new vd};class Nb{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Ut("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}const lo="FirestoreClient";class b2{constructor(e,t,r,i,s){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=cn.UNAUTHENTICATED,this.clientId=hw.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,(async a=>{le(lo,"Received user=",a.uid),await this.authCredentialListener(a),this.user=a})),this.appCheckCredentials.start(r,(a=>(le(lo,"Received new app check token=",a),this.appCheckCredentialListener(a,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Nr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const r=om(t,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function gy(n,e){n.asyncQueue.verifyOperationInProgress(),le(lo,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener((async i=>{r.isEqual(i)||(await ob(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener((()=>n.terminate())),n._offlineComponents=e}async function HI(n,e){n.asyncQueue.verifyOperationInProgress();const t=await Vb(n);le(lo,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener((r=>UI(e.remoteStore,r))),n.setAppCheckTokenChangeListener(((r,i)=>UI(e.remoteStore,i))),n._onlineComponents=e}async function Vb(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){le(lo,"Using user provided OfflineComponentProvider");try{await gy(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!(function(i){return i.name==="FirebaseError"?i.code===re.FAILED_PRECONDITION||i.code===re.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11})(t))throw t;io("Error using user provided cache. Falling back to memory cache: "+t),await gy(n,new yd)}}else le(lo,"Using default OfflineComponentProvider"),await gy(n,new C2(void 0));return n._offlineComponents}async function Ob(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(le(lo,"Using user provided OnlineComponentProvider"),await HI(n,n._uninitializedComponentsProvider._online)):(le(lo,"Using default OnlineComponentProvider"),await HI(n,new vd))),n._onlineComponents}function x2(n){return Vb(n).then((e=>e.localStore))}function R2(n){return Ob(n).then((e=>e.syncEngine))}async function Mb(n){const e=await Ob(n),t=e.eventManager;return t.onListen=l2.bind(null,e.syncEngine),t.onUnlisten=c2.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=u2.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=d2.bind(null,e.syncEngine),t}function k2(n,e){const t=new Nr;return n.asyncQueue.enqueueAndForget((async()=>(async function(i,s,a){try{const u=await(function(h,m){const g=Ce(h);return g.persistence.runTransaction("read document","readonly",(v=>g.localDocuments.getDocument(v,m)))})(i,s);u.isFoundDocument()?a.resolve(u):u.isNoDocument()?a.resolve(null):a.reject(new ye(re.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(u){const d=om(u,`Failed to get document '${s} from cache`);a.reject(d)}})(await x2(n),e,t))),t.promise}function D2(n,e,t={}){const r=new Nr;return n.asyncQueue.enqueueAndForget((async()=>(function(s,a,u,d,h){const m=new Nb({next:v=>{m.Nu(),a.enqueueAndForget((()=>Sb(s,g)));const E=v.docs.has(u);!E&&v.fromCache?h.reject(new ye(re.UNAVAILABLE,"Failed to get document because the client is offline.")):E&&v.fromCache&&d&&d.source==="server"?h.reject(new ye(re.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):h.resolve(v)},error:v=>h.reject(v)}),g=new Pb(Qp(u.path),m,{includeMetadataChanges:!0,qa:!0});return Ib(s,g)})(await Mb(n),n.asyncQueue,e,t,r))),r.promise}function N2(n,e,t={}){const r=new Nr;return n.asyncQueue.enqueueAndForget((async()=>(function(s,a,u,d,h){const m=new Nb({next:v=>{m.Nu(),a.enqueueAndForget((()=>Sb(s,g))),v.fromCache&&d.source==="server"?h.reject(new ye(re.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):h.resolve(v)},error:v=>h.reject(v)}),g=new Pb(u,m,{includeMetadataChanges:!0,qa:!0});return Ib(s,g)})(await Mb(n),n.asyncQueue,e,t,r))),r.promise}function Lb(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}const qI=new Map;const Fb="firestore.googleapis.com",GI=!0;class KI{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ye(re.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Fb,this.ssl=GI}else this.host=e.host,this.ssl=e.ssl??GI;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=KA;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<uL)throw new ye(re.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}RO("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Lb(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new ye(re.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new ye(re.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new ye(re.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,i){return r.timeoutSeconds===i.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class lm{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new KI({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ye(re.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ye(re.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new KI(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new _O;switch(r.type){case"firstParty":return new SO(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ye(re.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){const r=qI.get(t);r&&(le("ComponentProvider","Removing Datastore"),qI.delete(t),r.terminate())})(this),Promise.resolve()}}function V2(n,e,t,r={}){n=Hn(n,lm);const i=go(e),s=n._getSettings(),a={...s,emulatorOptions:n._getEmulatorOptions()},u=`${e}:${t}`;i&&(ow(`https://${u}`),aw("Firestore",!0)),s.host!==Fb&&s.host!==u&&io("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const d={...s,host:u,ssl:i,emulatorOptions:r};if(!ya(d,a)&&(n._setSettings(d),r.mockUserToken)){let h,m;if(typeof r.mockUserToken=="string")h=r.mockUserToken,m=cn.MOCK_USER;else{h=KN(r.mockUserToken,n._app?.options.projectId);const g=r.mockUserToken.sub||r.mockUserToken.user_id;if(!g)throw new ye(re.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");m=new cn(g)}n._authCredentials=new TO(new kC(h,m))}}class um{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new um(this.firestore,e,this._query)}}class Bt{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new eo(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Bt(this.firestore,e,this._key)}toJSON(){return{type:Bt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,r){if(Ad(t,Bt._jsonSchema))return new Bt(e,r||null,new ve(st.fromString(t.referencePath)))}}Bt._jsonSchemaVersion="firestore/documentReference/1.0",Bt._jsonSchema={type:Xt("string",Bt._jsonSchemaVersion),referencePath:Xt("string")};class eo extends um{constructor(e,t,r){super(e,t,Qp(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Bt(this.firestore,null,new ve(e))}withConverter(e){return new eo(this.firestore,e,this._path)}}function St(n,e,...t){if(n=pt(n),NC("collection","path",e),n instanceof lm){const r=st.fromString(e,...t);return FE(r),new eo(n,null,r)}{if(!(n instanceof Bt||n instanceof eo))throw new ye(re.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(st.fromString(e,...t));return FE(r),new eo(n.firestore,null,r)}}function gn(n,e,...t){if(n=pt(n),arguments.length===1&&(e=hw.newId()),NC("doc","path",e),n instanceof lm){const r=st.fromString(e,...t);return LE(r),new Bt(n,null,new ve(r))}{if(!(n instanceof Bt||n instanceof eo))throw new ye(re.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(st.fromString(e,...t));return LE(r),new Bt(n.firestore,n instanceof eo?n.converter:null,new ve(r))}}const QI="AsyncQueue";class YI{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new gb(this,"async_queue_retry"),this._c=()=>{const r=Vf();r&&le(QI,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const t=Vf();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=Vf();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const t=new Nr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!vo(e))throw e;le(QI,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const t=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,Ut("INTERNAL UNHANDLED ERROR: ",XI(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=t,t}enqueueAfterDelay(e,t,r){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const i=zw.createAndSchedule(this,e,t,r,(s=>this.hc(s)));return this.tc.push(i),i}uc(){this.nc&&Ie(47125,{Pc:XI(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((t,r)=>t.targetTimeMs-r.targetTimeMs));for(const t of this.tc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function XI(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}class ts extends lm{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new YI,this._persistenceKey=i?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new YI(e),this._firestoreClient=void 0,await e}}}function O2(n,e){const t=typeof n=="object"?n:cw(),r=typeof n=="string"?n:Xf,i=jp(t,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=hC("firestore");s&&V2(i,...s)}return i}function cm(n){if(n._terminated)throw new ye(re.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||Ub(n),n._firestoreClient}function Ub(n){const e=n._freezeSettings(),t=(function(i,s,a,u){return new lM(i,s,a,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,Lb(u.experimentalLongPollingOptions),u.useFetchStreams,u.isUsingEmulator)})(n._databaseId,n._app?.options.appId||"",n._persistenceKey,e);n._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(n._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),n._firestoreClient=new b2(n._authCredentials,n._appCheckCredentials,n._queue,t,n._componentsProvider&&(function(i){const s=i?._online.build();return{_offline:i?._offline.build(s),_online:s}})(n._componentsProvider))}function M2(n,e){io("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const t=n._freezeSettings();return jb(n,vd.provider,{build:r=>new Db(r,t.cacheSizeBytes,e?.forceOwnership)}),Promise.resolve()}async function L2(n){io("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const e=n._freezeSettings();jb(n,vd.provider,{build:t=>new A2(t,e.cacheSizeBytes)})}function jb(n,e,t){if((n=Hn(n,ts))._firestoreClient||n._terminated)throw new ye(re.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.");if(n._componentsProvider||n._getSettings().localCache)throw new ye(re.FAILED_PRECONDITION,"SDK cache is already specified.");n._componentsProvider={_online:e,_offline:t},Ub(n)}class wr{constructor(e){this._byteString=e}static fromBase64String(e){try{return new wr(Wt.fromBase64String(e))}catch(t){throw new ye(re.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new wr(Wt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:wr._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Ad(e,wr._jsonSchema))return wr.fromBase64String(e.bytes)}}wr._jsonSchemaVersion="firestore/bytes/1.0",wr._jsonSchema={type:Xt("string",wr._jsonSchemaVersion),bytes:Xt("string")};class dm{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new ye(re.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new bt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Yw{constructor(e){this._methodName=e}}class ui{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new ye(re.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new ye(re.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Le(this._lat,e._lat)||Le(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:ui._jsonSchemaVersion}}static fromJSON(e){if(Ad(e,ui._jsonSchema))return new ui(e.latitude,e.longitude)}}ui._jsonSchemaVersion="firestore/geoPoint/1.0",ui._jsonSchema={type:Xt("string",ui._jsonSchemaVersion),latitude:Xt("number"),longitude:Xt("number")};class ci{constructor(e){this._values=(e||[]).map((t=>t))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0})(this._values,e._values)}toJSON(){return{type:ci._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Ad(e,ci._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((t=>typeof t=="number")))return new ci(e.vectorValues);throw new ye(re.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ci._jsonSchemaVersion="firestore/vectorValue/1.0",ci._jsonSchema={type:Xt("string",ci._jsonSchemaVersion),vectorValues:Xt("object")};const F2=/^__.*__$/;class U2{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new es(e,this.data,this.fieldMask,t,this.fieldTransforms):new Iu(e,this.data,t,this.fieldTransforms)}}class Bb{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new es(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function $b(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ie(40011,{Ac:n})}}class Xw{constructor(e,t,r,i,s,a){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Rc(),this.fieldTransforms=s||[],this.fieldMask=a||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Xw({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const t=this.path?.child(e),r=this.Vc({path:t,fc:!1});return r.gc(e),r}yc(e){const t=this.path?.child(e),r=this.Vc({path:t,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return dp(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((t=>e.isPrefixOf(t)))!==void 0||this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if($b(this.Ac)&&F2.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class j2{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||rm(e)}Cc(e,t,r,i=!1){return new Xw({Ac:e,methodName:t,Dc:r,path:bt.emptyPath(),fc:!1,bc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Jw(n){const e=n._freezeSettings(),t=rm(n._databaseId);return new j2(n._databaseId,!!e.ignoreUndefinedProperties,t)}function zb(n,e,t,r,i,s={}){const a=n.Cc(s.merge||s.mergeFields?2:0,e,t,i);Zw("Data must be an object, but it was:",a,r);const u=Wb(r,a);let d,h;if(s.merge)d=new zn(a.fieldMask),h=a.fieldTransforms;else if(s.mergeFields){const m=[];for(const g of s.mergeFields){const v=Iv(e,g,t);if(!a.contains(v))throw new ye(re.INVALID_ARGUMENT,`Field '${v}' is specified in your field mask but missing from your input data.`);qb(m,v)||m.push(v)}d=new zn(m),h=a.fieldTransforms.filter((g=>d.covers(g.field)))}else d=null,h=a.fieldTransforms;return new U2(new Pn(u),d,h)}class Vd extends Yw{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Vd}}function B2(n,e,t,r){const i=n.Cc(1,e,t);Zw("Data must be an object, but it was:",i,r);const s=[],a=Pn.empty();wo(r,((d,h)=>{const m=e_(e,d,t);h=pt(h);const g=i.yc(m);if(h instanceof Vd)s.push(m);else{const v=hm(h,g);v!=null&&(s.push(m),a.set(m,v))}}));const u=new zn(s);return new Bb(a,u,i.fieldTransforms)}function $2(n,e,t,r,i,s){const a=n.Cc(1,e,t),u=[Iv(e,r,t)],d=[i];if(s.length%2!=0)throw new ye(re.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let v=0;v<s.length;v+=2)u.push(Iv(e,s[v])),d.push(s[v+1]);const h=[],m=Pn.empty();for(let v=u.length-1;v>=0;--v)if(!qb(h,u[v])){const E=u[v];let R=d[v];R=pt(R);const k=a.yc(E);if(R instanceof Vd)h.push(E);else{const A=hm(R,k);A!=null&&(h.push(E),m.set(E,A))}}const g=new zn(h);return new Bb(m,g,a.fieldTransforms)}function hm(n,e){if(Hb(n=pt(n)))return Zw("Unsupported field value:",e,n),Wb(n,e);if(n instanceof Yw)return(function(r,i){if(!$b(i.Ac))throw i.Sc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Sc(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)})(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,i){const s=[];let a=0;for(const u of r){let d=hm(u,i.wc(a));d==null&&(d={nullValue:"NULL_VALUE"}),s.push(d),a++}return{arrayValue:{values:s}}})(n,e)}return(function(r,i){if((r=pt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return CM(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=lt.fromDate(r);return{timestampValue:uu(i.serializer,s)}}if(r instanceof lt){const s=new lt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:uu(i.serializer,s)}}if(r instanceof ui)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof wr)return{bytesValue:DA(i.serializer,r._byteString)};if(r instanceof Bt){const s=i.databaseId,a=r.firestore._databaseId;if(!a.isEqual(s))throw i.Sc(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:kw(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof ci)return(function(a,u){return{mapValue:{fields:{[Tw]:{stringValue:Ew},[ru]:{arrayValue:{values:a.toArray().map((h=>{if(typeof h!="number")throw u.Sc("VectorValues must only contain numeric values.");return Cw(u.serializer,h)}))}}}}}})(r,i);throw i.Sc(`Unsupported field value: ${fw(r)}`)})(n,e)}function Wb(n,e){const t={};return XC(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):wo(n,((r,i)=>{const s=hm(i,e.mc(r));s!=null&&(t[r]=s)})),{mapValue:{fields:t}}}function Hb(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof lt||n instanceof ui||n instanceof wr||n instanceof Bt||n instanceof Yw||n instanceof ci)}function Zw(n,e,t){if(!Hb(t)||!VC(t)){const r=fw(t);throw r==="an object"?e.Sc(n+" a custom object"):e.Sc(n+" "+r)}}function Iv(n,e,t){if((e=pt(e))instanceof dm)return e._internalPath;if(typeof e=="string")return e_(n,e);throw dp("Field path arguments must be of type string or ",n,!1,void 0,t)}const z2=new RegExp("[~\\*/\\[\\]]");function e_(n,e,t){if(e.search(z2)>=0)throw dp(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new dm(...e.split("."))._internalPath}catch{throw dp(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function dp(n,e,t,r,i){const s=r&&!r.isEmpty(),a=i!==void 0;let u=`Function ${e}() called with invalid data`;t&&(u+=" (via `toFirestore()`)"),u+=". ";let d="";return(s||a)&&(d+=" (found",s&&(d+=` in field ${r}`),a&&(d+=` in document ${i}`),d+=")"),new ye(re.INVALID_ARGUMENT,u+n+d)}function qb(n,e){return n.some((t=>t.isEqual(e)))}class Gb{constructor(e,t,r,i,s){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Bt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new W2(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Kb("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class W2 extends Gb{data(){return super.data()}}function Kb(n,e){return typeof e=="string"?e_(n,e):e instanceof dm?e._internalPath:e._delegate._internalPath}function H2(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new ye(re.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class q2{convertValue(e,t="none"){switch(so(e)){case 0:return null;case 1:return e.booleanValue;case 2:return It(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Gi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Ie(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return wo(e,((i,s)=>{r[i]=this.convertValue(s,t)})),r}convertVectorValue(e){const t=e.fields?.[ru].arrayValue?.values?.map((r=>It(r.doubleValue)));return new ci(t)}convertGeoPoint(e){return new ui(It(e.latitude),It(e.longitude))}convertArray(e,t){return(e.values||[]).map((r=>this.convertValue(r,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const r=qp(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(hd(e));default:return null}}convertTimestamp(e){const t=qi(e);return new lt(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=st.fromString(e);xe($A(r),9688,{name:e});const i=new _a(r.get(1),r.get(3)),s=new ve(r.popFirst(5));return i.isEqual(t)||Ut(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),s}}function Qb(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class Ll{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class to extends Gb{constructor(e,t,r,i,s,a){super(e,t,r,i,a),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Of(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(Kb("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ye(re.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=to._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}to._jsonSchemaVersion="firestore/documentSnapshot/1.0",to._jsonSchema={type:Xt("string",to._jsonSchemaVersion),bundleSource:Xt("string","DocumentSnapshot"),bundleName:Xt("string"),bundle:Xt("string")};class Of extends to{data(e={}){return super.data(e)}}class Hl{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new Ll(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach((r=>{e.call(t,new Of(this._firestore,this._userDataWriter,r.key,r,new Ll(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new ye(re.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(i,s){if(i._snapshot.oldDocs.isEmpty()){let a=0;return i._snapshot.docChanges.map((u=>{const d=new Of(i._firestore,i._userDataWriter,u.doc.key,u.doc,new Ll(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter);return u.doc,{type:"added",doc:d,oldIndex:-1,newIndex:a++}}))}{let a=i._snapshot.oldDocs;return i._snapshot.docChanges.filter((u=>s||u.type!==3)).map((u=>{const d=new Of(i._firestore,i._userDataWriter,u.doc.key,u.doc,new Ll(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter);let h=-1,m=-1;return u.type!==0&&(h=a.indexOf(u.doc.key),a=a.delete(u.doc.key)),u.type!==1&&(a=a.add(u.doc),m=a.indexOf(u.doc.key)),{type:G2(u.type),doc:d,oldIndex:h,newIndex:m}}))}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ye(re.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Hl._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=hw.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],r=[],i=[];return this.docs.forEach((s=>{s._document!==null&&(t.push(s._document),r.push(this._userDataWriter.convertObjectMap(s._document.data.value.mapValue.fields,"previous")),i.push(s.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function G2(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ie(61501,{type:n})}}function fm(n){n=Hn(n,Bt);const e=Hn(n.firestore,ts);return D2(cm(e),n._key).then((t=>Q2(e,n,t)))}Hl._jsonSchemaVersion="firestore/querySnapshot/1.0",Hl._jsonSchema={type:Xt("string",Hl._jsonSchemaVersion),bundleSource:Xt("string","QuerySnapshot"),bundleName:Xt("string"),bundle:Xt("string")};class t_ extends q2{constructor(e){super(),this.firestore=e}convertBytes(e){return new wr(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Bt(this.firestore,null,t)}}function K2(n){n=Hn(n,Bt);const e=Hn(n.firestore,ts),t=cm(e),r=new t_(e);return k2(t,n._key).then((i=>new to(e,r,n._key,i,new Ll(i!==null&&i.hasLocalMutations,!0),n.converter)))}function tn(n){n=Hn(n,um);const e=Hn(n.firestore,ts),t=cm(e),r=new t_(e);return H2(n._query),N2(t,n._query).then((i=>new Hl(e,r,n,i)))}function wd(n,e,t){n=Hn(n,Bt);const r=Hn(n.firestore,ts),i=Qb(n.converter,e,t);return pm(r,[zb(Jw(r),"setDoc",n._key,i,n.converter!==null,t).toMutation(n._key,Cn.none())])}function uo(n,e,t,...r){n=Hn(n,Bt);const i=Hn(n.firestore,ts),s=Jw(i);let a;return a=typeof(e=pt(e))=="string"||e instanceof dm?$2(s,"updateDoc",n._key,e,t,r):B2(s,"updateDoc",n._key,e),pm(i,[a.toMutation(n._key,Cn.exists(!0))])}function co(n){return pm(Hn(n.firestore,ts),[new Zp(n._key,Cn.none())])}function Fl(n,e){const t=Hn(n.firestore,ts),r=gn(n),i=Qb(n.converter,e);return pm(t,[zb(Jw(n.firestore),"addDoc",r._key,i,n.converter!==null,{}).toMutation(r._key,Cn.exists(!1))]).then((()=>r))}function pm(n,e){return(function(r,i){const s=new Nr;return r.asyncQueue.enqueueAndForget((async()=>h2(await R2(r),i,s))),s.promise})(cm(n),e)}function Q2(n,e,t){const r=t.docs.get(e._key),i=new t_(n);return new to(n,i,e._key,r,new Ll(t.hasPendingWrites,t.fromCache),e.converter)}function Y2(){return new Vd("deleteField")}(function(e,t=!0){(function(i){Eu=i})(Tu),va(new ro("firestore",((r,{instanceIdentifier:i,options:s})=>{const a=r.getProvider("app").getImmediate(),u=new ts(new EO(r.getProvider("auth-internal")),new PO(a,r.getProvider("app-check-internal")),(function(h,m){if(!Object.prototype.hasOwnProperty.apply(h.options,["projectId"]))throw new ye(re.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new _a(h.options.projectId,m)})(a,i),a);return s={useFetchStreams:t,...s},u._setSettings(s),u}),"PUBLIC").setMultipleInstances(!0)),li(NE,VE,e),li(NE,VE,"esm2020")})();function Yb(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const X2=Yb,Xb=new Pd("auth","Firebase",Yb());const hp=new lw("@firebase/auth");function J2(n,...e){hp.logLevel<=Ge.WARN&&hp.warn(`Auth (${Tu}): ${n}`,...e)}function Mf(n,...e){hp.logLevel<=Ge.ERROR&&hp.error(`Auth (${Tu}): ${n}`,...e)}function Vr(n,...e){throw n_(n,...e)}function di(n,...e){return n_(n,...e)}function Jb(n,e,t){const r={...X2(),[e]:t};return new Pd("auth","Firebase",r).create(e,{appName:n.name})}function hi(n){return Jb(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function n_(n,...e){if(typeof n!="string"){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return Xb.create(n,...e)}function ke(n,e,...t){if(!n)throw n_(e,...t)}function ji(n){const e="INTERNAL ASSERTION FAILED: "+n;throw Mf(e),new Error(e)}function Ki(n,e){n||ji(e)}function Sv(){return typeof self<"u"&&self.location?.href||""}function Z2(){return JI()==="http:"||JI()==="https:"}function JI(){return typeof self<"u"&&self.location?.protocol||null}function eF(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Z2()||ZN()||"connection"in navigator)?navigator.onLine:!0}function tF(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}class Od{constructor(e,t){this.shortDelay=e,this.longDelay=t,Ki(t>e,"Short delay should be less than long delay!"),this.isMobile=XN()||eV()}get(){return eF()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function r_(n,e){Ki(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}class Zb{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ji("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ji("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ji("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const nF={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const rF=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],iF=new Od(3e4,6e4);function ns(n,e){return n.tenantId&&!e.tenantId?{...e,tenantId:n.tenantId}:e}async function Or(n,e,t,r,i={}){return ex(n,i,async()=>{let s={},a={};r&&(e==="GET"?a=r:s={body:JSON.stringify(r)});const u=Cd({key:n.config.apiKey,...a}).slice(1),d=await n._getAdditionalHeaders();d["Content-Type"]="application/json",n.languageCode&&(d["X-Firebase-Locale"]=n.languageCode);const h={method:e,headers:d,...s};return JN()||(h.referrerPolicy="no-referrer"),n.emulatorConfig&&go(n.emulatorConfig.host)&&(h.credentials="include"),Zb.fetch()(await tx(n,n.config.apiHost,t,u),h)})}async function ex(n,e,t){n._canInitEmulator=!1;const r={...nF,...e};try{const i=new oF(n),s=await Promise.race([t(),i.promise]);i.clearNetworkTimeout();const a=await s.json();if("needConfirmation"in a)throw ff(n,"account-exists-with-different-credential",a);if(s.ok&&!("errorMessage"in a))return a;{const u=s.ok?a.errorMessage:a.error.message,[d,h]=u.split(" : ");if(d==="FEDERATED_USER_ID_ALREADY_LINKED")throw ff(n,"credential-already-in-use",a);if(d==="EMAIL_EXISTS")throw ff(n,"email-already-in-use",a);if(d==="USER_DISABLED")throw ff(n,"user-disabled",a);const m=r[d]||d.toLowerCase().replace(/[_\s]+/g,"-");if(h)throw Jb(n,m,h);Vr(n,m)}}catch(i){if(i instanceof yi)throw i;Vr(n,"network-request-failed",{message:String(i)})}}async function Md(n,e,t,r,i={}){const s=await Or(n,e,t,r,i);return"mfaPendingCredential"in s&&Vr(n,"multi-factor-auth-required",{_serverResponse:s}),s}async function tx(n,e,t,r){const i=`${e}${t}?${r}`,s=n,a=s.config.emulator?r_(n.config,i):`${n.config.apiScheme}://${i}`;return rF.includes(t)&&(await s._persistenceManagerAvailable,s._getPersistenceType()==="COOKIE")?s._getPersistence()._getFinalTarget(a).toString():a}function sF(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class oF{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(di(this.auth,"network-request-failed")),iF.get())})}}function ff(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const i=di(n,e,r);return i.customData._tokenResponse=t,i}function ZI(n){return n!==void 0&&n.enterprise!==void 0}class aF{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return sF(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function lF(n,e){return Or(n,"GET","/v2/recaptchaConfig",ns(n,e))}async function uF(n,e){return Or(n,"POST","/v1/accounts:delete",e)}async function fp(n,e){return Or(n,"POST","/v1/accounts:lookup",e)}function Zc(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function cF(n,e=!1){const t=pt(n),r=await t.getIdToken(e),i=i_(r);ke(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,a=s?.sign_in_provider;return{claims:i,token:r,authTime:Zc(yy(i.auth_time)),issuedAtTime:Zc(yy(i.iat)),expirationTime:Zc(yy(i.exp)),signInProvider:a||null,signInSecondFactor:s?.sign_in_second_factor||null}}function yy(n){return Number(n)*1e3}function i_(n){const[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return Mf("JWT malformed, contained fewer than 3 sections"),null;try{const i=uC(t);return i?JSON.parse(i):(Mf("Failed to decode base64 JWT payload"),null)}catch(i){return Mf("Caught error parsing JWT payload as JSON",i?.toString()),null}}function eS(n){const e=i_(n);return ke(e,"internal-error"),ke(typeof e.exp<"u","internal-error"),ke(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function Ca(n,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof yi&&dF(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function dF({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}class hF{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const t=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),t}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Pv{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Zc(this.lastLoginAt),this.creationTime=Zc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function pp(n){const e=n.auth,t=await n.getIdToken(),r=await Ca(n,fp(e,{idToken:t}));ke(r?.users.length,e,"internal-error");const i=r.users[0];n._notifyReloadListener(i);const s=i.providerUserInfo?.length?nx(i.providerUserInfo):[],a=pF(n.providerData,s),u=n.isAnonymous,d=!(n.email&&i.passwordHash)&&!a?.length,h=u?d:!1,m={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new Pv(i.createdAt,i.lastLoginAt),isAnonymous:h};Object.assign(n,m)}async function fF(n){const e=pt(n);await pp(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function pF(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function nx(n){return n.map(({providerId:e,...t})=>({providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}))}async function mF(n,e){const t=await ex(n,{},async()=>{const r=Cd({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=n.config,a=await tx(n,i,"/v1/token",`key=${s}`),u=await n._getAdditionalHeaders();u["Content-Type"]="application/x-www-form-urlencoded";const d={method:"POST",headers:u,body:r};return n.emulatorConfig&&go(n.emulatorConfig.host)&&(d.credentials="include"),Zb.fetch()(a,d)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function gF(n,e){return Or(n,"POST","/v2/accounts:revokeToken",ns(n,e))}class ql{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ke(e.idToken,"internal-error"),ke(typeof e.idToken<"u","internal-error"),ke(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):eS(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){ke(e.length!==0,"internal-error");const t=eS(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(ke(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:r,refreshToken:i,expiresIn:s}=await mF(e,t);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){const{refreshToken:r,accessToken:i,expirationTime:s}=t,a=new ql;return r&&(ke(typeof r=="string","internal-error",{appName:e}),a.refreshToken=r),i&&(ke(typeof i=="string","internal-error",{appName:e}),a.accessToken=i),s&&(ke(typeof s=="number","internal-error",{appName:e}),a.expirationTime=s),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ql,this.toJSON())}_performRefresh(){return ji("not implemented")}}function Ls(n,e){ke(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class Dr{constructor({uid:e,auth:t,stsTokenManager:r,...i}){this.providerId="firebase",this.proactiveRefresh=new hF(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new Pv(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const t=await Ca(this,this.stsTokenManager.getToken(this.auth,e));return ke(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return cF(this,e)}reload(){return fF(this)}_assign(e){this!==e&&(ke(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>({...t})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Dr({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return t.metadata._copy(this.metadata),t}_onReload(e){ke(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await pp(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Bn(this.auth.app))return Promise.reject(hi(this.auth));const e=await this.getIdToken();return await Ca(this,uF(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){const r=t.displayName??void 0,i=t.email??void 0,s=t.phoneNumber??void 0,a=t.photoURL??void 0,u=t.tenantId??void 0,d=t._redirectEventId??void 0,h=t.createdAt??void 0,m=t.lastLoginAt??void 0,{uid:g,emailVerified:v,isAnonymous:E,providerData:R,stsTokenManager:k}=t;ke(g&&k,e,"internal-error");const A=ql.fromJSON(this.name,k);ke(typeof g=="string",e,"internal-error"),Ls(r,e.name),Ls(i,e.name),ke(typeof v=="boolean",e,"internal-error"),ke(typeof E=="boolean",e,"internal-error"),Ls(s,e.name),Ls(a,e.name),Ls(u,e.name),Ls(d,e.name),Ls(h,e.name),Ls(m,e.name);const j=new Dr({uid:g,auth:e,email:i,emailVerified:v,displayName:r,isAnonymous:E,photoURL:a,phoneNumber:s,tenantId:u,stsTokenManager:A,createdAt:h,lastLoginAt:m});return R&&Array.isArray(R)&&(j.providerData=R.map(O=>({...O}))),d&&(j._redirectEventId=d),j}static async _fromIdTokenResponse(e,t,r=!1){const i=new ql;i.updateFromServerResponse(t);const s=new Dr({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await pp(s),s}static async _fromGetAccountInfoResponse(e,t,r){const i=t.users[0];ke(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?nx(i.providerUserInfo):[],a=!(i.email&&i.passwordHash)&&!s?.length,u=new ql;u.updateFromIdToken(r);const d=new Dr({uid:i.localId,auth:e,stsTokenManager:u,isAnonymous:a}),h={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new Pv(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!s?.length};return Object.assign(d,h),d}}const tS=new Map;function Bi(n){Ki(n instanceof Function,"Expected a class definition");let e=tS.get(n);return e?(Ki(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,tS.set(n,e),e)}class rx{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}rx.type="NONE";const nS=rx;function Lf(n,e,t){return`firebase:${n}:${e}:${t}`}class Gl{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=Lf(this.userKey,i.apiKey,s),this.fullPersistenceKey=Lf("persistence",i.apiKey,s),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await fp(this.auth,{idToken:e}).catch(()=>{});return t?Dr._fromGetAccountInfoResponse(this.auth,t,e):null}return Dr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new Gl(Bi(nS),e,r);const i=(await Promise.all(t.map(async h=>{if(await h._isAvailable())return h}))).filter(h=>h);let s=i[0]||Bi(nS);const a=Lf(r,e.config.apiKey,e.name);let u=null;for(const h of t)try{const m=await h._get(a);if(m){let g;if(typeof m=="string"){const v=await fp(e,{idToken:m}).catch(()=>{});if(!v)break;g=await Dr._fromGetAccountInfoResponse(e,v,m)}else g=Dr._fromJSON(e,m);h!==s&&(u=g),s=h;break}}catch{}const d=i.filter(h=>h._shouldAllowMigration);return!s._shouldAllowMigration||!d.length?new Gl(s,e,r):(s=d[0],u&&await s._set(a,u.toJSON()),await Promise.all(t.map(async h=>{if(h!==s)try{await h._remove(a)}catch{}})),new Gl(s,e,r))}}function rS(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(ax(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(ix(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(ux(e))return"Blackberry";if(cx(e))return"Webos";if(sx(e))return"Safari";if((e.includes("chrome/")||ox(e))&&!e.includes("edge/"))return"Chrome";if(lx(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if(r?.length===2)return r[1]}return"Other"}function ix(n=nn()){return/firefox\//i.test(n)}function sx(n=nn()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function ox(n=nn()){return/crios\//i.test(n)}function ax(n=nn()){return/iemobile/i.test(n)}function lx(n=nn()){return/android/i.test(n)}function ux(n=nn()){return/blackberry/i.test(n)}function cx(n=nn()){return/webos/i.test(n)}function s_(n=nn()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function yF(n=nn()){return s_(n)&&!!window.navigator?.standalone}function vF(){return tV()&&document.documentMode===10}function dx(n=nn()){return s_(n)||lx(n)||cx(n)||ux(n)||/windows phone/i.test(n)||ax(n)}function hx(n,e=[]){let t;switch(n){case"Browser":t=rS(nn());break;case"Worker":t=`${rS(nn())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Tu}/${r}`}class wF{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=s=>new Promise((a,u)=>{try{const d=e(s);a(d)}catch(d){u(d)}});r.onAbort=t,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(const i of t)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}async function _F(n,e={}){return Or(n,"GET","/v2/passwordPolicy",ns(n,e))}const TF=6;class EF{constructor(e){const t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??TF,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}class IF{constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new iS(this),this.idTokenSubscription=new iS(this),this.beforeStateQueue=new wF(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Xb,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(s=>this._resolvePersistenceManagerAvailable=s)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Bi(t)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Gl.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await fp(this,{idToken:e}),r=await Dr._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Bn(this.app)){const s=this.app.settings.authIdToken;return s?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(a,a))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let r=t,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const s=this.redirectUser?._redirectEventId,a=r?._redirectEventId,u=await this.tryRedirectSignIn(e);(!s||s===a)&&u?.user&&(r=u.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(s){r=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return ke(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await pp(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=tF()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Bn(this.app))return Promise.reject(hi(this));const t=e?pt(e):null;return t&&ke(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&ke(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Bn(this.app)?Promise.reject(hi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Bn(this.app)?Promise.reject(hi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Bi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await _F(this),t=new EF(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Pd("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await gF(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,t){const r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Bi(e)||this._popupRedirectResolver;ke(t,this,"argument-error"),this.redirectPersistenceManager=await Gl.create(this,[Bi(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};const s=typeof t=="function"?t:t.next.bind(t);let a=!1;const u=this._isInitialized?Promise.resolve():this._initializationPromise;if(ke(u,this,"internal-error"),u.then(()=>{a||s(this.currentUser)}),typeof t=="function"){const d=e.addObserver(t,r,i);return()=>{a=!0,d()}}else{const d=e.addObserver(t);return()=>{a=!0,d()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ke(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=hx(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const t=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();t&&(e["X-Firebase-Client"]=t);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(Bn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&J2(`Error while retrieving App Check token: ${e.error}`),e?.token}}function To(n){return pt(n)}class iS{constructor(e){this.auth=e,this.observer=null,this.addObserver=aV(t=>this.observer=t)}get next(){return ke(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let mm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function SF(n){mm=n}function fx(n){return mm.loadJS(n)}function PF(){return mm.recaptchaEnterpriseScript}function CF(){return mm.gapiScript}function AF(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class bF{constructor(){this.enterprise=new xF}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class xF{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const RF="recaptcha-enterprise",px="NO_RECAPTCHA";class kF{constructor(e){this.type=RF,this.auth=To(e)}async verify(e="verify",t=!1){async function r(s){if(!t){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(a,u)=>{lF(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(d=>{if(d.recaptchaKey===void 0)u(new Error("recaptcha Enterprise site key undefined"));else{const h=new aF(d);return s.tenantId==null?s._agentRecaptchaConfig=h:s._tenantRecaptchaConfigs[s.tenantId]=h,a(h.siteKey)}}).catch(d=>{u(d)})})}function i(s,a,u){const d=window.grecaptcha;ZI(d)?d.enterprise.ready(()=>{d.enterprise.execute(s,{action:e}).then(h=>{a(h)}).catch(()=>{a(px)})}):u(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new bF().execute("siteKey",{action:"verify"}):new Promise((s,a)=>{r(this.auth).then(u=>{if(!t&&ZI(window.grecaptcha))i(u,s,a);else{if(typeof window>"u"){a(new Error("RecaptchaVerifier is only supported in browser"));return}let d=PF();d.length!==0&&(d+=u),fx(d).then(()=>{i(u,s,a)}).catch(h=>{a(h)})}}).catch(u=>{a(u)})})}}async function sS(n,e,t,r=!1,i=!1){const s=new kF(n);let a;if(i)a=px;else try{a=await s.verify(t)}catch{a=await s.verify(t,!0)}const u={...e};if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in u){const d=u.phoneEnrollmentInfo.phoneNumber,h=u.phoneEnrollmentInfo.recaptchaToken;Object.assign(u,{phoneEnrollmentInfo:{phoneNumber:d,recaptchaToken:h,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in u){const d=u.phoneSignInInfo.recaptchaToken;Object.assign(u,{phoneSignInInfo:{recaptchaToken:d,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return u}return r?Object.assign(u,{captchaResp:a}):Object.assign(u,{captchaResponse:a}),Object.assign(u,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(u,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),u}async function mp(n,e,t,r,i){if(n._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=await sS(n,e,t,t==="getOobCode");return r(n,s)}else return r(n,e).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const a=await sS(n,e,t,t==="getOobCode");return r(n,a)}else return Promise.reject(s)})}function DF(n,e){const t=jp(n,"auth");if(t.isInitialized()){const i=t.getImmediate(),s=t.getOptions();if(ya(s,e??{}))return i;Vr(i,"already-initialized")}return t.initialize({options:e})}function NF(n,e){const t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(Bi);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e?.popupRedirectResolver)}function VF(n,e,t){const r=To(n);ke(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,s=mx(e),{host:a,port:u}=OF(e),d=u===null?"":`:${u}`,h={url:`${s}//${a}${d}/`},m=Object.freeze({host:a,port:u,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){ke(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),ke(ya(h,r.config.emulator)&&ya(m,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=h,r.emulatorConfig=m,r.settings.appVerificationDisabledForTesting=!0,go(a)?(ow(`${s}//${a}${d}`),aw("Auth",!0)):MF()}function mx(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function OF(n){const e=mx(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:oS(r.substr(s.length+1))}}else{const[s,a]=r.split(":");return{host:s,port:oS(a)}}}function oS(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function MF(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}class o_{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return ji("not implemented")}_getIdTokenResponse(e){return ji("not implemented")}_linkToIdToken(e,t){return ji("not implemented")}_getReauthenticationResolver(e){return ji("not implemented")}}async function LF(n,e){return Or(n,"POST","/v1/accounts:update",e)}async function FF(n,e){return Or(n,"POST","/v1/accounts:signUp",e)}async function UF(n,e){return Md(n,"POST","/v1/accounts:signInWithPassword",ns(n,e))}async function gx(n,e){return Or(n,"POST","/v1/accounts:sendOobCode",ns(n,e))}async function jF(n,e){return gx(n,e)}async function BF(n,e){return gx(n,e)}async function $F(n,e){return Md(n,"POST","/v1/accounts:signInWithEmailLink",ns(n,e))}async function zF(n,e){return Md(n,"POST","/v1/accounts:signInWithEmailLink",ns(n,e))}class _d extends o_{constructor(e,t,r,i=null){super("password",r),this._email=e,this._password=t,this._tenantId=i}static _fromEmailAndPassword(e,t){return new _d(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new _d(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t?.email&&t?.password){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return mp(e,t,"signInWithPassword",UF);case"emailLink":return $F(e,{email:this._email,oobCode:this._password});default:Vr(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const r={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return mp(e,r,"signUpPassword",FF);case"emailLink":return zF(e,{idToken:t,email:this._email,oobCode:this._password});default:Vr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function Kl(n,e){return Md(n,"POST","/v1/accounts:signInWithIdp",ns(n,e))}const WF="http://localhost";class Aa extends o_{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Aa(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Vr("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i,...s}=t;if(!r||!i)return null;const a=new Aa(r,i);return a.idToken=s.idToken||void 0,a.accessToken=s.accessToken||void 0,a.secret=s.secret,a.nonce=s.nonce,a.pendingToken=s.pendingToken||null,a}_getIdTokenResponse(e){const t=this.buildRequest();return Kl(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,Kl(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Kl(e,t)}buildRequest(){const e={requestUri:WF,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Cd(t)}return e}}function HF(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function qF(n){const e=Mc(Lc(n)).link,t=e?Mc(Lc(e)).deep_link_id:null,r=Mc(Lc(n)).deep_link_id;return(r?Mc(Lc(r)).link:null)||r||t||e||n}class a_{constructor(e){const t=Mc(Lc(e)),r=t.apiKey??null,i=t.oobCode??null,s=HF(t.mode??null);ke(r&&i&&s,"argument-error"),this.apiKey=r,this.operation=s,this.code=i,this.continueUrl=t.continueUrl??null,this.languageCode=t.lang??null,this.tenantId=t.tenantId??null}static parseLink(e){const t=qF(e);try{return new a_(t)}catch{return null}}}class Au{constructor(){this.providerId=Au.PROVIDER_ID}static credential(e,t){return _d._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const r=a_.parseLink(t);return ke(r,"argument-error"),_d._fromEmailAndCode(e,r.code,r.tenantId)}}Au.PROVIDER_ID="password";Au.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Au.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class yx{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Ld extends yx{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class zs extends Ld{constructor(){super("facebook.com")}static credential(e){return Aa._fromParams({providerId:zs.PROVIDER_ID,signInMethod:zs.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return zs.credentialFromTaggedObject(e)}static credentialFromError(e){return zs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return zs.credential(e.oauthAccessToken)}catch{return null}}}zs.FACEBOOK_SIGN_IN_METHOD="facebook.com";zs.PROVIDER_ID="facebook.com";class Ws extends Ld{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Aa._fromParams({providerId:Ws.PROVIDER_ID,signInMethod:Ws.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Ws.credentialFromTaggedObject(e)}static credentialFromError(e){return Ws.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r}=e;if(!t&&!r)return null;try{return Ws.credential(t,r)}catch{return null}}}Ws.GOOGLE_SIGN_IN_METHOD="google.com";Ws.PROVIDER_ID="google.com";class Hs extends Ld{constructor(){super("github.com")}static credential(e){return Aa._fromParams({providerId:Hs.PROVIDER_ID,signInMethod:Hs.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Hs.credentialFromTaggedObject(e)}static credentialFromError(e){return Hs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Hs.credential(e.oauthAccessToken)}catch{return null}}}Hs.GITHUB_SIGN_IN_METHOD="github.com";Hs.PROVIDER_ID="github.com";class qs extends Ld{constructor(){super("twitter.com")}static credential(e,t){return Aa._fromParams({providerId:qs.PROVIDER_ID,signInMethod:qs.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return qs.credentialFromTaggedObject(e)}static credentialFromError(e){return qs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:r}=e;if(!t||!r)return null;try{return qs.credential(t,r)}catch{return null}}}qs.TWITTER_SIGN_IN_METHOD="twitter.com";qs.PROVIDER_ID="twitter.com";async function GF(n,e){return Md(n,"POST","/v1/accounts:signUp",ns(n,e))}class ba{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,i=!1){const s=await Dr._fromIdTokenResponse(e,r,i),a=aS(r);return new ba({user:s,providerId:a,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);const i=aS(r);return new ba({user:e,providerId:i,_tokenResponse:r,operationType:t})}}function aS(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}class gp extends yi{constructor(e,t,r,i){super(t.code,t.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,gp.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,i){return new gp(e,t,r,i)}}function vx(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?gp._fromErrorAndOperation(n,s,e,r):s})}async function KF(n,e,t=!1){const r=await Ca(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return ba._forOperation(n,"link",r)}async function QF(n,e,t=!1){const{auth:r}=n;if(Bn(r.app))return Promise.reject(hi(r));const i="reauthenticate";try{const s=await Ca(n,vx(r,i,e,n),t);ke(s.idToken,r,"internal-error");const a=i_(s.idToken);ke(a,r,"internal-error");const{sub:u}=a;return ke(n.uid===u,r,"user-mismatch"),ba._forOperation(n,i,s)}catch(s){throw s?.code==="auth/user-not-found"&&Vr(r,"user-mismatch"),s}}async function wx(n,e,t=!1){if(Bn(n.app))return Promise.reject(hi(n));const r="signIn",i=await vx(n,r,e),s=await ba._fromIdTokenResponse(n,r,i);return t||await n._updateCurrentUser(s.user),s}async function YF(n,e){return wx(To(n),e)}function XF(n,e,t){ke(t.url?.length>0,n,"invalid-continue-uri"),ke(typeof t.dynamicLinkDomain>"u"||t.dynamicLinkDomain.length>0,n,"invalid-dynamic-link-domain"),ke(typeof t.linkDomain>"u"||t.linkDomain.length>0,n,"invalid-hosting-link-domain"),e.continueUrl=t.url,e.dynamicLinkDomain=t.dynamicLinkDomain,e.linkDomain=t.linkDomain,e.canHandleCodeInApp=t.handleCodeInApp,t.iOS&&(ke(t.iOS.bundleId.length>0,n,"missing-ios-bundle-id"),e.iOSBundleId=t.iOS.bundleId),t.android&&(ke(t.android.packageName.length>0,n,"missing-android-pkg-name"),e.androidInstallApp=t.android.installApp,e.androidMinimumVersionCode=t.android.minimumVersion,e.androidPackageName=t.android.packageName)}async function _x(n){const e=To(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function JF(n,e,t){const r=To(n);await mp(r,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",BF)}async function ZF(n,e,t){if(Bn(n.app))return Promise.reject(hi(n));const r=To(n),a=await mp(r,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",GF).catch(d=>{throw d.code==="auth/password-does-not-meet-requirements"&&_x(n),d}),u=await ba._fromIdTokenResponse(r,"signIn",a);return await r._updateCurrentUser(u.user),u}function eU(n,e,t){return Bn(n.app)?Promise.reject(hi(n)):YF(pt(n),Au.credential(e,t)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&_x(n),r})}async function tU(n,e){const t=pt(n),i={requestType:"VERIFY_EMAIL",idToken:await n.getIdToken()};e&&XF(t.auth,i,e);const{email:s}=await jF(t.auth,i);s!==n.email&&await n.reload()}async function nU(n,e){return Or(n,"POST","/v1/accounts:update",e)}async function rU(n,{displayName:e,photoURL:t}){if(e===void 0&&t===void 0)return;const r=pt(n),s={idToken:await r.getIdToken(),displayName:e,photoUrl:t,returnSecureToken:!0},a=await Ca(r,nU(r.auth,s));r.displayName=a.displayName||null,r.photoURL=a.photoUrl||null;const u=r.providerData.find(({providerId:d})=>d==="password");u&&(u.displayName=r.displayName,u.photoURL=r.photoURL),await r._updateTokensIfNecessary(a)}function iU(n,e){const t=pt(n);return Bn(t.auth.app)?Promise.reject(hi(t.auth)):Tx(t,e,null)}function sU(n,e){return Tx(pt(n),null,e)}async function Tx(n,e,t){const{auth:r}=n,s={idToken:await n.getIdToken(),returnSecureToken:!0};e&&(s.email=e),t&&(s.password=t);const a=await Ca(n,LF(r,s));await n._updateTokensIfNecessary(a,!0)}function lS(n,e){return pt(n).setPersistence(e)}function oU(n,e,t,r){return pt(n).onIdTokenChanged(e,t,r)}function aU(n,e,t){return pt(n).beforeAuthStateChanged(e,t)}function lU(n,e,t,r){return pt(n).onAuthStateChanged(e,t,r)}function uS(n){return pt(n).signOut()}async function uU(n){return pt(n).delete()}const yp="__sak";class Ex{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(yp,"1"),this.storage.removeItem(yp),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const cU=1e3,dU=10;class Ix extends Ex{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=dx(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const r=this.storage.getItem(t),i=this.localCache[t];r!==i&&e(t,i,r)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((a,u,d)=>{this.notifyListeners(a,d)});return}const r=e.key;t?this.detachListener():this.stopPolling();const i=()=>{const a=this.storage.getItem(r);!t&&this.localCache[r]===a||this.notifyListeners(r,a)},s=this.storage.getItem(r);vF()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,dU):i()}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:r}),!0)})},cU)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}Ix.type="LOCAL";const Sx=Ix;class Px extends Ex{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}Px.type="SESSION";const Cx=Px;function hU(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}class gm{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(i=>i.isListeningto(e));if(t)return t;const r=new gm(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:r,eventType:i,data:s}=t.data,a=this.handlersMap[i];if(!a?.size)return;t.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const u=Array.from(a).map(async h=>h(t.origin,s)),d=await hU(u);t.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:d})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}gm.receivers=[];function l_(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}class fU{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,a;return new Promise((u,d)=>{const h=l_("",20);i.port1.start();const m=setTimeout(()=>{d(new Error("unsupported_event"))},r);a={messageChannel:i,onMessage(g){const v=g;if(v.data.eventId===h)switch(v.data.status){case"ack":clearTimeout(m),s=setTimeout(()=>{d(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),u(v.data.response);break;default:clearTimeout(m),clearTimeout(s),d(new Error("invalid_response"));break}}},this.handlers.add(a),i.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:e,eventId:h,data:t},[i.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}}function fi(){return window}function pU(n){fi().location.href=n}function Ax(){return typeof fi().WorkerGlobalScope<"u"&&typeof fi().importScripts=="function"}async function mU(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function gU(){return navigator?.serviceWorker?.controller||null}function yU(){return Ax()?self:null}const bx="firebaseLocalStorageDb",vU=1,vp="firebaseLocalStorage",xx="fbase_key";class Fd{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function ym(n,e){return n.transaction([vp],e?"readwrite":"readonly").objectStore(vp)}function wU(){const n=indexedDB.deleteDatabase(bx);return new Fd(n).toPromise()}function Cv(){const n=indexedDB.open(bx,vU);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(vp,{keyPath:xx})}catch(i){t(i)}}),n.addEventListener("success",async()=>{const r=n.result;r.objectStoreNames.contains(vp)?e(r):(r.close(),await wU(),e(await Cv()))})})}async function cS(n,e,t){const r=ym(n,!0).put({[xx]:e,value:t});return new Fd(r).toPromise()}async function _U(n,e){const t=ym(n,!1).get(e),r=await new Fd(t).toPromise();return r===void 0?null:r.value}function dS(n,e){const t=ym(n,!0).delete(e);return new Fd(t).toPromise()}const TU=800,EU=3;class Rx{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Cv(),this.db)}async _withRetries(e){let t=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(t++>EU)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Ax()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=gm._getInstance(yU()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await mU(),!this.activeServiceWorker)return;this.sender=new fU(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||gU()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Cv();return await cS(e,yp,"1"),await dS(e,yp),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(r=>cS(r,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(r=>_U(r,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>dS(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=ym(i,!1).getAll();return new Fd(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),t.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),t.push(i));return t}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),TU)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Rx.type="LOCAL";const kx=Rx;new Od(3e4,6e4);function IU(n,e){return e?Bi(e):(ke(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}class u_ extends o_{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Kl(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Kl(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Kl(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function SU(n){return wx(n.auth,new u_(n),n.bypassAuthState)}function PU(n){const{auth:e,user:t}=n;return ke(t,e,"internal-error"),QF(t,new u_(n),n.bypassAuthState)}async function CU(n){const{auth:e,user:t}=n;return ke(t,e,"internal-error"),KF(t,new u_(n),n.bypassAuthState)}class Dx{constructor(e,t,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:r,postBody:i,tenantId:s,error:a,type:u}=e;if(a){this.reject(a);return}const d={auth:this.auth,requestUri:t,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(u)(d))}catch(h){this.reject(h)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return SU;case"linkViaPopup":case"linkViaRedirect":return CU;case"reauthViaPopup":case"reauthViaRedirect":return PU;default:Vr(this.auth,"internal-error")}}resolve(e){Ki(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ki(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const AU=new Od(2e3,1e4);class Ul extends Dx{constructor(e,t,r,i,s){super(e,t,i,s),this.provider=r,this.authWindow=null,this.pollId=null,Ul.currentPopupAction&&Ul.currentPopupAction.cancel(),Ul.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ke(e,this.auth,"internal-error"),e}async onExecution(){Ki(this.filter.length===1,"Popup operations only handle one event");const e=l_();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(di(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(di(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ul.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(di(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,AU.get())};e()}}Ul.currentPopupAction=null;const bU="pendingRedirect",Ff=new Map;class xU extends Dx{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=Ff.get(this.auth._key());if(!e){try{const r=await RU(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}Ff.set(this.auth._key(),e)}return this.bypassAuthState||Ff.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function RU(n,e){const t=NU(e),r=DU(n);if(!await r._isAvailable())return!1;const i=await r._get(t)==="true";return await r._remove(t),i}function kU(n,e){Ff.set(n._key(),e)}function DU(n){return Bi(n._redirectPersistence)}function NU(n){return Lf(bU,n.config.apiKey,n.name)}async function VU(n,e,t=!1){if(Bn(n.app))return Promise.reject(hi(n));const r=To(n),i=IU(r,e),a=await new xU(r,i,t).execute();return a&&!t&&(delete a.user._redirectEventId,await r._persistUserIfCurrent(a.user),await r._setRedirectUser(null,e)),a}const OU=600*1e3;class MU{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!LU(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){if(e.error&&!Nx(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";t.onError(di(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=OU&&this.cachedEventUids.clear(),this.cachedEventUids.has(hS(e))}saveEventToCache(e){this.cachedEventUids.add(hS(e)),this.lastProcessedEventTime=Date.now()}}function hS(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function Nx({type:n,error:e}){return n==="unknown"&&e?.code==="auth/no-auth-event"}function LU(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Nx(n);default:return!1}}async function FU(n,e={}){return Or(n,"GET","/v1/projects",e)}const UU=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,jU=/^https?/;async function BU(n){if(n.config.emulator)return;const{authorizedDomains:e}=await FU(n);for(const t of e)try{if($U(t))return}catch{}Vr(n,"unauthorized-domain")}function $U(n){const e=Sv(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const a=new URL(n);return a.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&a.hostname===r}if(!jU.test(t))return!1;if(UU.test(n))return r===n;const i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const zU=new Od(3e4,6e4);function fS(){const n=fi().___jsl;if(n?.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function WU(n){return new Promise((e,t)=>{function r(){fS(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{fS(),t(di(n,"network-request-failed"))},timeout:zU.get()})}if(fi().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(fi().gapi?.load)r();else{const i=AF("iframefcb");return fi()[i]=()=>{gapi.load?r():t(di(n,"network-request-failed"))},fx(`${CF()}?onload=${i}`).catch(s=>t(s))}}).catch(e=>{throw Uf=null,e})}let Uf=null;function HU(n){return Uf=Uf||WU(n),Uf}const qU=new Od(5e3,15e3),GU="__/auth/iframe",KU="emulator/auth/iframe",QU={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},YU=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function XU(n){const e=n.config;ke(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?r_(e,KU):`https://${n.config.authDomain}/${GU}`,r={apiKey:e.apiKey,appName:n.name,v:Tu},i=YU.get(n.config.apiHost);i&&(r.eid=i);const s=n._getFrameworks();return s.length&&(r.fw=s.join(",")),`${t}?${Cd(r).slice(1)}`}async function JU(n){const e=await HU(n),t=fi().gapi;return ke(t,n,"internal-error"),e.open({where:document.body,url:XU(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:QU,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const a=di(n,"network-request-failed"),u=fi().setTimeout(()=>{s(a)},qU.get());function d(){fi().clearTimeout(u),i(r)}r.ping(d).then(d,()=>{s(a)})}))}const ZU={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},e4=500,t4=600,n4="_blank",r4="http://localhost";class pS{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function i4(n,e,t,r=e4,i=t4){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString();let u="";const d={...ZU,width:r.toString(),height:i.toString(),top:s,left:a},h=nn().toLowerCase();t&&(u=ox(h)?n4:t),ix(h)&&(e=e||r4,d.scrollbars="yes");const m=Object.entries(d).reduce((v,[E,R])=>`${v}${E}=${R},`,"");if(yF(h)&&u!=="_self")return s4(e||"",u),new pS(null);const g=window.open(e||"",u,m);ke(g,n,"popup-blocked");try{g.focus()}catch{}return new pS(g)}function s4(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}const o4="__/auth/handler",a4="emulator/auth/handler",l4=encodeURIComponent("fac");async function mS(n,e,t,r,i,s){ke(n.config.authDomain,n,"auth-domain-config-required"),ke(n.config.apiKey,n,"invalid-api-key");const a={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:Tu,eventId:i};if(e instanceof yx){e.setDefaultLanguage(n.languageCode),a.providerId=e.providerId||"",oV(e.getCustomParameters())||(a.customParameters=JSON.stringify(e.getCustomParameters()));for(const[m,g]of Object.entries({}))a[m]=g}if(e instanceof Ld){const m=e.getScopes().filter(g=>g!=="");m.length>0&&(a.scopes=m.join(","))}n.tenantId&&(a.tid=n.tenantId);const u=a;for(const m of Object.keys(u))u[m]===void 0&&delete u[m];const d=await n._getAppCheckToken(),h=d?`#${l4}=${encodeURIComponent(d)}`:"";return`${u4(n)}?${Cd(u).slice(1)}${h}`}function u4({config:n}){return n.emulator?r_(n,a4):`https://${n.authDomain}/${o4}`}const vy="webStorageSupport";class c4{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Cx,this._completeRedirectFn=VU,this._overrideRedirectResult=kU}async _openPopup(e,t,r,i){Ki(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const s=await mS(e,t,r,Sv(),i);return i4(e,s,l_())}async _openRedirect(e,t,r,i){await this._originValidation(e);const s=await mS(e,t,r,Sv(),i);return pU(s),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:i,promise:s}=this.eventManagers[t];return i?Promise.resolve(i):(Ki(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){const t=await JU(e),r=new MU(e);return t.register("authEvent",i=>(ke(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(vy,{type:vy},i=>{const s=i?.[0]?.[vy];s!==void 0&&t(!!s),Vr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=BU(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return dx()||sx()||s_()}}const d4=c4;var gS="@firebase/auth",yS="1.12.0";class h4{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){ke(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function f4(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function p4(n){va(new ro("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:a,authDomain:u}=r.options;ke(a&&!a.includes(":"),"invalid-api-key",{appName:r.name});const d={apiKey:a,authDomain:u,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:hx(n)},h=new IF(r,i,s,d);return NF(h,t),h},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),va(new ro("auth-internal",e=>{const t=To(e.getProvider("auth").getImmediate());return(r=>new h4(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),li(gS,yS,f4(n)),li(gS,yS,"esm2020")}const m4=300,g4=pC("authIdTokenMaxAge")||m4;let vS=null;const y4=n=>async e=>{const t=e&&await e.getIdTokenResult(),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>g4)return;const i=t?.token;vS!==i&&(vS=i,await fetch(n,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function v4(n=cw()){const e=jp(n,"auth");if(e.isInitialized())return e.getImmediate();const t=DF(n,{popupRedirectResolver:d4,persistence:[kx,Sx,Cx]}),r=pC("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const a=y4(s.toString());aU(t,a,()=>a(t.currentUser)),oU(t,u=>a(u))}}const i=dC("auth");return i&&VF(t,`http://${i}`),t}function w4(){return document.getElementsByTagName("head")?.[0]??document}SF({loadJS(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{const s=di("internal-error");s.customData=i,t(s)},r.type="text/javascript",r.charset="UTF-8",w4().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});p4("Browser");const _4={apiKey:"AIzaSyBTsbTHQs0-GZHd0mpv_rPc0vMp5DYnN-A",authDomain:"rnf-app.firebaseapp.com",projectId:"rnf-app",storageBucket:"rnf-app.firebasestorage.app",messagingSenderId:"771820334247",appId:"1:771820334247:web:a096ff668dc8963f5b7f82"},Vx=TC(_4),je=O2(Vx),ln=v4(Vx),T4=async()=>{try{await lS(ln,kx)}catch(n){console.warn("IndexedDB persistence unavailable, falling back to local storage.",n);try{await lS(ln,Sx)}catch(e){console.error("Failed to configure Firebase Auth persistence.",e)}}},Ox=typeof window<"u"?T4():Promise.resolve();typeof window<"u"&&(L2(je).catch(n=>{n.code==="failed-precondition"?M2(je).catch(e=>{e.code==="failed-precondition"?console.warn("Firestore persistence could not be enabled because multiple tabs are open and multi-tab persistence failed."):e.code==="unimplemented"?console.warn("Firestore persistence is not available in this environment.",e):console.error("Failed to enable Firestore offline persistence.",e)}):n.code==="unimplemented"?console.warn("Firestore persistence is not available in this environment.",n):console.error("Unexpected error enabling multi-tab persistence for Firestore.",n)}),Ox.catch(n=>{console.error("Unexpected error configuring Firebase Auth persistence.",n)}));const E4=1;let wy=0;function I4(){return wy=(wy+1)%Number.MAX_VALUE,wy.toString()}const kn={state:{toasts:[]},listeners:[],getState:()=>kn.state,setState:n=>{typeof n=="function"?kn.state=n(kn.state):kn.state={...kn.state,...n},kn.listeners.forEach(e=>e(kn.state))},subscribe:n=>(kn.listeners.push(n),()=>{kn.listeners=kn.listeners.filter(e=>e!==n)})},S4=({...n})=>{const e=I4(),t=i=>kn.setState(s=>({...s,toasts:s.toasts.map(a=>a.id===e?{...a,...i}:a)})),r=()=>kn.setState(i=>({...i,toasts:i.toasts.filter(s=>s.id!==e)}));return kn.setState(i=>({...i,toasts:[{...n,id:e,dismiss:r},...i.toasts].slice(0,E4)})),{id:e,dismiss:r,update:t}};function c_(){const[n,e]=x.useState(kn.getState());return x.useEffect(()=>kn.subscribe(r=>{e(r)}),[]),x.useEffect(()=>{const t=[];return n.toasts.forEach(r=>{if(r.duration===1/0)return;const i=setTimeout(()=>{r.dismiss()},r.duration||5e3);t.push(i)}),()=>{t.forEach(r=>clearTimeout(r))}},[n.toasts]),{toast:S4,toasts:n.toasts}}const Mx=x.createContext(null),P4=new Set(["estandar"]),wS=n=>n==="conservador"?"estandar":P4.has(n)?n:null,Av=()=>({calculators:{cpm:!0,t8:!0},postpartum:!1,combineMode:"estandar"}),_y=({current:n,incoming:e,legacyCombineMode:t})=>{const r=Av(),i={calculators:{...r.calculators},postpartum:r.postpartum,combineMode:r.combineMode};let s=!1;const a=u=>{if(!u||typeof u!="object")return;Object.keys(i.calculators).forEach(h=>{typeof u?.calculators?.[h]=="boolean"&&(i.calculators[h]=u.calculators[h])}),typeof u.postpartum=="boolean"?i.postpartum=u.postpartum:u.postpartum!=null&&(i.postpartum=!!u.postpartum);const d=wS(u.combineMode);d&&(i.combineMode=d,s=!0)};if(a(n),a(e),!s){const u=wS(t);u&&(i.combineMode=u)}return i},C4=({children:n})=>{const[e,t]=x.useState(null),[r,i]=x.useState(!0),[s,a]=x.useState(null),{toast:u}=c_();x.useEffect(()=>{let j=null,O=!1;return(async()=>{try{await Ox}catch{}O||(j=lU(ln,async z=>{if(z){t({id:z.uid,uid:z.uid,email:z.email,displayName:z.displayName,photoURL:z.photoURL});try{if(navigator?.storage?.persist){const C="rnf_storage_persist_requested_v1";let S=!1;try{S=localStorage.getItem(C)==="1"}catch{}if(!S){try{localStorage.setItem(C,"1")}catch{}await navigator.storage.persist()}}}catch{}const te=gn(je,`users/${z.uid}/preferences`,"display"),Y={theme:"light",units:"metric",manualCpm:null,manualT8:null,manualCpmBase:null,manualT8Base:null,cpmMode:"auto",t8Mode:"auto",showRelationsRow:!0,fertilityStartConfig:Av()};try{try{const S=await K2(te);if(S.exists()){const{combineMode:D,fertilityStartConfig:L,...M}=S.data(),U=_y({current:Y.fertilityStartConfig,incoming:L,legacyCombineMode:D});a({...Y,...M,fertilityStartConfig:U})}}catch{}const C=await fm(te);if(C.exists()){const{combineMode:S,fertilityStartConfig:D,...L}=C.data(),M=_y({current:Y.fertilityStartConfig,incoming:D,legacyCombineMode:S});a({...Y,...L,fertilityStartConfig:M})}else a(Y)}catch(C){console.error("Failed to load preferences",C),a(Y)}}else t(null),a(null);i(!1)}))})(),()=>{O=!0,j&&j()}},[]);const d=async(j,O)=>{try{await eU(ln,j,O)}catch(F){throw u({title:"Error al iniciar sesin",description:F.message,variant:"destructive"}),F}},h=async(j,O)=>{try{const{user:F}=await ZF(ln,j,O),z={url:`${window.location.origin}/auth`};await tU(F,z),await uS(ln)}catch(F){throw u({title:"Error al registrarse",description:F.message,variant:"destructive"}),F}},m=async j=>{try{await JF(ln,j)}catch(O){throw u({title:"Error al restablecer contrasea",description:O.message,variant:"destructive"}),O}},g=async()=>{try{await uS(ln),t(null),a(null)}catch(j){throw u({title:"Error al cerrar sesin",description:j.message,variant:"destructive"}),j}},v=async j=>{if(ln.currentUser)try{await iU(ln.currentUser,j),t(O=>O&&{...O,email:j})}catch(O){throw u({title:"Error al actualizar correo",description:O.message,variant:"destructive"}),O}},E=async j=>{if(ln.currentUser)try{await sU(ln.currentUser,j)}catch(O){throw u({title:"Error al actualizar contrasea",description:O.message,variant:"destructive"}),O}},R=async(j={})=>{if(!ln.currentUser)return;const O=gn(je,`users/${ln.currentUser.uid}/preferences`,"display"),{combineMode:F,fertilityStartConfig:z,...te}=j??{},Y=z&&typeof z=="object"||F!==void 0,C=Y?_y({current:s?.fertilityStartConfig,incoming:z,legacyCombineMode:F}):s?.fertilityStartConfig,S={...te};Y&&C&&(S.fertilityStartConfig=C,S.combineMode=Y2());try{await wd(O,S,{merge:!0}),a(D=>{const M={...D??{theme:"light",units:"metric",manualCpm:null,manualT8:null,manualCpmBase:null,manualT8Base:null,cpmMode:"auto",t8Mode:"auto",showRelationsRow:!0,fertilityStartConfig:Av()},...te};return Y&&C&&(M.fertilityStartConfig=C),M})}catch(D){throw console.error("Failed to save preferences",D),u({title:"Error al guardar preferencias",description:D.message,variant:"destructive"}),D}},k=async j=>{if(ln.currentUser)try{await rU(ln.currentUser,j),t(O=>O&&{...O,...j})}catch(O){throw u({title:"Error al actualizar perfil",description:O.message,variant:"destructive"}),O}},A=async()=>{if(ln.currentUser)try{await uU(ln.currentUser),t(null),a(null)}catch(j){throw u({title:"Error al eliminar cuenta",description:j.message,variant:"destructive"}),j}};return q.jsx(Mx.Provider,{value:{user:e,login:d,register:h,logout:g,resetPassword:m,updateEmail:v,updatePassword:E,preferences:s,savePreferences:R,updateProfile:k,deleteAccount:A,loadingAuth:r},children:n})},vm=()=>x.useContext(Mx);function Qi(n){"@babel/helpers - typeof";return Qi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qi(n)}function bn(n){if(n===null||n===!0||n===!1)return NaN;var e=Number(n);return isNaN(e)?e:e<0?Math.ceil(e):Math.floor(e)}function gt(n,e){if(e.length<n)throw new TypeError(n+" argument"+(n>1?"s":"")+" required, but only "+e.length+" present")}function Ot(n){gt(1,arguments);var e=Object.prototype.toString.call(n);return n instanceof Date||Qi(n)==="object"&&e==="[object Date]"?new Date(n.getTime()):typeof n=="number"||e==="[object Number]"?new Date(n):((typeof n=="string"||e==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}function d_(n,e){gt(2,arguments);var t=Ot(n),r=bn(e);return isNaN(r)?new Date(NaN):(r&&t.setDate(t.getDate()+r),t)}function A4(n,e){gt(2,arguments);var t=Ot(n).getTime(),r=bn(e);return new Date(t+r)}var b4={};function bu(){return b4}function wp(n){var e=new Date(Date.UTC(n.getFullYear(),n.getMonth(),n.getDate(),n.getHours(),n.getMinutes(),n.getSeconds(),n.getMilliseconds()));return e.setUTCFullYear(n.getFullYear()),n.getTime()-e.getTime()}function Nn(n){gt(1,arguments);var e=Ot(n);return e.setHours(0,0,0,0),e}var x4=864e5;function R4(n,e){gt(2,arguments);var t=Nn(n),r=Nn(e),i=t.getTime()-wp(t),s=r.getTime()-wp(r);return Math.round((i-s)/x4)}function k4(n,e){gt(2,arguments);var t=Ot(n),r=Ot(e),i=t.getTime()-r.getTime();return i<0?-1:i>0?1:i}var h_=6e4,f_=36e5,D4=1e3;function N4(n){return gt(1,arguments),n instanceof Date||Qi(n)==="object"&&Object.prototype.toString.call(n)==="[object Date]"}function V4(n){if(gt(1,arguments),!N4(n)&&typeof n!="number")return!1;var e=Ot(n);return!isNaN(Number(e))}function _S(n,e){var t=n.getFullYear()-e.getFullYear()||n.getMonth()-e.getMonth()||n.getDate()-e.getDate()||n.getHours()-e.getHours()||n.getMinutes()-e.getMinutes()||n.getSeconds()-e.getSeconds()||n.getMilliseconds()-e.getMilliseconds();return t<0?-1:t>0?1:t}function O4(n,e){gt(2,arguments);var t=Ot(n),r=Ot(e),i=_S(t,r),s=Math.abs(R4(t,r));t.setDate(t.getDate()-i*s);var a=+(_S(t,r)===-i),u=i*(s-a);return u===0?0:u}function Lx(n,e){gt(2,arguments);var t=bn(e);return A4(n,-t)}var M4=864e5;function L4(n){gt(1,arguments);var e=Ot(n),t=e.getTime();e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0);var r=e.getTime(),i=t-r;return Math.floor(i/M4)+1}function pu(n){gt(1,arguments);var e=1,t=Ot(n),r=t.getUTCDay(),i=(r<e?7:0)+r-e;return t.setUTCDate(t.getUTCDate()-i),t.setUTCHours(0,0,0,0),t}function Fx(n){gt(1,arguments);var e=Ot(n),t=e.getUTCFullYear(),r=new Date(0);r.setUTCFullYear(t+1,0,4),r.setUTCHours(0,0,0,0);var i=pu(r),s=new Date(0);s.setUTCFullYear(t,0,4),s.setUTCHours(0,0,0,0);var a=pu(s);return e.getTime()>=i.getTime()?t+1:e.getTime()>=a.getTime()?t:t-1}function F4(n){gt(1,arguments);var e=Fx(n),t=new Date(0);t.setUTCFullYear(e,0,4),t.setUTCHours(0,0,0,0);var r=pu(t);return r}var U4=6048e5;function Ux(n){gt(1,arguments);var e=Ot(n),t=pu(e).getTime()-F4(e).getTime();return Math.round(t/U4)+1}function xa(n,e){var t,r,i,s,a,u,d,h;gt(1,arguments);var m=bu(),g=bn((t=(r=(i=(s=e?.weekStartsOn)!==null&&s!==void 0?s:e==null||(a=e.locale)===null||a===void 0||(u=a.options)===null||u===void 0?void 0:u.weekStartsOn)!==null&&i!==void 0?i:m.weekStartsOn)!==null&&r!==void 0?r:(d=m.locale)===null||d===void 0||(h=d.options)===null||h===void 0?void 0:h.weekStartsOn)!==null&&t!==void 0?t:0);if(!(g>=0&&g<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var v=Ot(n),E=v.getUTCDay(),R=(E<g?7:0)+E-g;return v.setUTCDate(v.getUTCDate()-R),v.setUTCHours(0,0,0,0),v}function p_(n,e){var t,r,i,s,a,u,d,h;gt(1,arguments);var m=Ot(n),g=m.getUTCFullYear(),v=bu(),E=bn((t=(r=(i=(s=e?.firstWeekContainsDate)!==null&&s!==void 0?s:e==null||(a=e.locale)===null||a===void 0||(u=a.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&i!==void 0?i:v.firstWeekContainsDate)!==null&&r!==void 0?r:(d=v.locale)===null||d===void 0||(h=d.options)===null||h===void 0?void 0:h.firstWeekContainsDate)!==null&&t!==void 0?t:1);if(!(E>=1&&E<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var R=new Date(0);R.setUTCFullYear(g+1,0,E),R.setUTCHours(0,0,0,0);var k=xa(R,e),A=new Date(0);A.setUTCFullYear(g,0,E),A.setUTCHours(0,0,0,0);var j=xa(A,e);return m.getTime()>=k.getTime()?g+1:m.getTime()>=j.getTime()?g:g-1}function j4(n,e){var t,r,i,s,a,u,d,h;gt(1,arguments);var m=bu(),g=bn((t=(r=(i=(s=e?.firstWeekContainsDate)!==null&&s!==void 0?s:e==null||(a=e.locale)===null||a===void 0||(u=a.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&i!==void 0?i:m.firstWeekContainsDate)!==null&&r!==void 0?r:(d=m.locale)===null||d===void 0||(h=d.options)===null||h===void 0?void 0:h.firstWeekContainsDate)!==null&&t!==void 0?t:1),v=p_(n,e),E=new Date(0);E.setUTCFullYear(v,0,g),E.setUTCHours(0,0,0,0);var R=xa(E,e);return R}var B4=6048e5;function jx(n,e){gt(1,arguments);var t=Ot(n),r=xa(t,e).getTime()-j4(t,e).getTime();return Math.round(r/B4)+1}function at(n,e){for(var t=n<0?"-":"",r=Math.abs(n).toString();r.length<e;)r="0"+r;return t+r}var Fs={y:function(e,t){var r=e.getUTCFullYear(),i=r>0?r:1-r;return at(t==="yy"?i%100:i,t.length)},M:function(e,t){var r=e.getUTCMonth();return t==="M"?String(r+1):at(r+1,2)},d:function(e,t){return at(e.getUTCDate(),t.length)},a:function(e,t){var r=e.getUTCHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];default:return r==="am"?"a.m.":"p.m."}},h:function(e,t){return at(e.getUTCHours()%12||12,t.length)},H:function(e,t){return at(e.getUTCHours(),t.length)},m:function(e,t){return at(e.getUTCMinutes(),t.length)},s:function(e,t){return at(e.getUTCSeconds(),t.length)},S:function(e,t){var r=t.length,i=e.getUTCMilliseconds(),s=Math.floor(i*Math.pow(10,r-3));return at(s,t.length)}},xl={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},$4={G:function(e,t,r){var i=e.getUTCFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return r.era(i,{width:"abbreviated"});case"GGGGG":return r.era(i,{width:"narrow"});default:return r.era(i,{width:"wide"})}},y:function(e,t,r){if(t==="yo"){var i=e.getUTCFullYear(),s=i>0?i:1-i;return r.ordinalNumber(s,{unit:"year"})}return Fs.y(e,t)},Y:function(e,t,r,i){var s=p_(e,i),a=s>0?s:1-s;if(t==="YY"){var u=a%100;return at(u,2)}return t==="Yo"?r.ordinalNumber(a,{unit:"year"}):at(a,t.length)},R:function(e,t){var r=Fx(e);return at(r,t.length)},u:function(e,t){var r=e.getUTCFullYear();return at(r,t.length)},Q:function(e,t,r){var i=Math.ceil((e.getUTCMonth()+1)/3);switch(t){case"Q":return String(i);case"QQ":return at(i,2);case"Qo":return r.ordinalNumber(i,{unit:"quarter"});case"QQQ":return r.quarter(i,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(i,{width:"narrow",context:"formatting"});default:return r.quarter(i,{width:"wide",context:"formatting"})}},q:function(e,t,r){var i=Math.ceil((e.getUTCMonth()+1)/3);switch(t){case"q":return String(i);case"qq":return at(i,2);case"qo":return r.ordinalNumber(i,{unit:"quarter"});case"qqq":return r.quarter(i,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(i,{width:"narrow",context:"standalone"});default:return r.quarter(i,{width:"wide",context:"standalone"})}},M:function(e,t,r){var i=e.getUTCMonth();switch(t){case"M":case"MM":return Fs.M(e,t);case"Mo":return r.ordinalNumber(i+1,{unit:"month"});case"MMM":return r.month(i,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(i,{width:"narrow",context:"formatting"});default:return r.month(i,{width:"wide",context:"formatting"})}},L:function(e,t,r){var i=e.getUTCMonth();switch(t){case"L":return String(i+1);case"LL":return at(i+1,2);case"Lo":return r.ordinalNumber(i+1,{unit:"month"});case"LLL":return r.month(i,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(i,{width:"narrow",context:"standalone"});default:return r.month(i,{width:"wide",context:"standalone"})}},w:function(e,t,r,i){var s=jx(e,i);return t==="wo"?r.ordinalNumber(s,{unit:"week"}):at(s,t.length)},I:function(e,t,r){var i=Ux(e);return t==="Io"?r.ordinalNumber(i,{unit:"week"}):at(i,t.length)},d:function(e,t,r){return t==="do"?r.ordinalNumber(e.getUTCDate(),{unit:"date"}):Fs.d(e,t)},D:function(e,t,r){var i=L4(e);return t==="Do"?r.ordinalNumber(i,{unit:"dayOfYear"}):at(i,t.length)},E:function(e,t,r){var i=e.getUTCDay();switch(t){case"E":case"EE":case"EEE":return r.day(i,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(i,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(i,{width:"short",context:"formatting"});default:return r.day(i,{width:"wide",context:"formatting"})}},e:function(e,t,r,i){var s=e.getUTCDay(),a=(s-i.weekStartsOn+8)%7||7;switch(t){case"e":return String(a);case"ee":return at(a,2);case"eo":return r.ordinalNumber(a,{unit:"day"});case"eee":return r.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(s,{width:"short",context:"formatting"});default:return r.day(s,{width:"wide",context:"formatting"})}},c:function(e,t,r,i){var s=e.getUTCDay(),a=(s-i.weekStartsOn+8)%7||7;switch(t){case"c":return String(a);case"cc":return at(a,t.length);case"co":return r.ordinalNumber(a,{unit:"day"});case"ccc":return r.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(s,{width:"narrow",context:"standalone"});case"cccccc":return r.day(s,{width:"short",context:"standalone"});default:return r.day(s,{width:"wide",context:"standalone"})}},i:function(e,t,r){var i=e.getUTCDay(),s=i===0?7:i;switch(t){case"i":return String(s);case"ii":return at(s,t.length);case"io":return r.ordinalNumber(s,{unit:"day"});case"iii":return r.day(i,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(i,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(i,{width:"short",context:"formatting"});default:return r.day(i,{width:"wide",context:"formatting"})}},a:function(e,t,r){var i=e.getUTCHours(),s=i/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(s,{width:"narrow",context:"formatting"});default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(e,t,r){var i=e.getUTCHours(),s;switch(i===12?s=xl.noon:i===0?s=xl.midnight:s=i/12>=1?"pm":"am",t){case"b":case"bb":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(s,{width:"narrow",context:"formatting"});default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(e,t,r){var i=e.getUTCHours(),s;switch(i>=17?s=xl.evening:i>=12?s=xl.afternoon:i>=4?s=xl.morning:s=xl.night,t){case"B":case"BB":case"BBB":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(s,{width:"narrow",context:"formatting"});default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(e,t,r){if(t==="ho"){var i=e.getUTCHours()%12;return i===0&&(i=12),r.ordinalNumber(i,{unit:"hour"})}return Fs.h(e,t)},H:function(e,t,r){return t==="Ho"?r.ordinalNumber(e.getUTCHours(),{unit:"hour"}):Fs.H(e,t)},K:function(e,t,r){var i=e.getUTCHours()%12;return t==="Ko"?r.ordinalNumber(i,{unit:"hour"}):at(i,t.length)},k:function(e,t,r){var i=e.getUTCHours();return i===0&&(i=24),t==="ko"?r.ordinalNumber(i,{unit:"hour"}):at(i,t.length)},m:function(e,t,r){return t==="mo"?r.ordinalNumber(e.getUTCMinutes(),{unit:"minute"}):Fs.m(e,t)},s:function(e,t,r){return t==="so"?r.ordinalNumber(e.getUTCSeconds(),{unit:"second"}):Fs.s(e,t)},S:function(e,t){return Fs.S(e,t)},X:function(e,t,r,i){var s=i._originalDate||e,a=s.getTimezoneOffset();if(a===0)return"Z";switch(t){case"X":return ES(a);case"XXXX":case"XX":return na(a);default:return na(a,":")}},x:function(e,t,r,i){var s=i._originalDate||e,a=s.getTimezoneOffset();switch(t){case"x":return ES(a);case"xxxx":case"xx":return na(a);default:return na(a,":")}},O:function(e,t,r,i){var s=i._originalDate||e,a=s.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+TS(a,":");default:return"GMT"+na(a,":")}},z:function(e,t,r,i){var s=i._originalDate||e,a=s.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+TS(a,":");default:return"GMT"+na(a,":")}},t:function(e,t,r,i){var s=i._originalDate||e,a=Math.floor(s.getTime()/1e3);return at(a,t.length)},T:function(e,t,r,i){var s=i._originalDate||e,a=s.getTime();return at(a,t.length)}};function TS(n,e){var t=n>0?"-":"+",r=Math.abs(n),i=Math.floor(r/60),s=r%60;if(s===0)return t+String(i);var a=e;return t+String(i)+a+at(s,2)}function ES(n,e){if(n%60===0){var t=n>0?"-":"+";return t+at(Math.abs(n)/60,2)}return na(n,e)}function na(n,e){var t=e||"",r=n>0?"-":"+",i=Math.abs(n),s=at(Math.floor(i/60),2),a=at(i%60,2);return r+s+t+a}var IS=function(e,t){switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});default:return t.date({width:"full"})}},Bx=function(e,t){switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});default:return t.time({width:"full"})}},z4=function(e,t){var r=e.match(/(P+)(p+)?/)||[],i=r[1],s=r[2];if(!s)return IS(e,t);var a;switch(i){case"P":a=t.dateTime({width:"short"});break;case"PP":a=t.dateTime({width:"medium"});break;case"PPP":a=t.dateTime({width:"long"});break;default:a=t.dateTime({width:"full"});break}return a.replace("{{date}}",IS(i,t)).replace("{{time}}",Bx(s,t))},bv={p:Bx,P:z4},W4=["D","DD"],H4=["YY","YYYY"];function $x(n){return W4.indexOf(n)!==-1}function zx(n){return H4.indexOf(n)!==-1}function _p(n,e,t){if(n==="YYYY")throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(e,"`) for formatting years to the input `").concat(t,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(n==="YY")throw new RangeError("Use `yy` instead of `YY` (in `".concat(e,"`) for formatting years to the input `").concat(t,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(n==="D")throw new RangeError("Use `d` instead of `D` (in `".concat(e,"`) for formatting days of the month to the input `").concat(t,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(n==="DD")throw new RangeError("Use `dd` instead of `DD` (in `".concat(e,"`) for formatting days of the month to the input `").concat(t,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}var q4={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},G4=function(e,t,r){var i,s=q4[e];return typeof s=="string"?i=s:t===1?i=s.one:i=s.other.replace("{{count}}",t.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+i:i+" ago":i};function Ty(n){return function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=e.width?String(e.width):n.defaultWidth,r=n.formats[t]||n.formats[n.defaultWidth];return r}}var K4={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Q4={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Y4={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},X4={date:Ty({formats:K4,defaultWidth:"full"}),time:Ty({formats:Q4,defaultWidth:"full"}),dateTime:Ty({formats:Y4,defaultWidth:"full"})},J4={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Z4=function(e,t,r,i){return J4[e]};function Ac(n){return function(e,t){var r=t!=null&&t.context?String(t.context):"standalone",i;if(r==="formatting"&&n.formattingValues){var s=n.defaultFormattingWidth||n.defaultWidth,a=t!=null&&t.width?String(t.width):s;i=n.formattingValues[a]||n.formattingValues[s]}else{var u=n.defaultWidth,d=t!=null&&t.width?String(t.width):n.defaultWidth;i=n.values[d]||n.values[u]}var h=n.argumentCallback?n.argumentCallback(e):e;return i[h]}}var ej={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},tj={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},nj={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},rj={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},ij={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},sj={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},oj=function(e,t){var r=Number(e),i=r%100;if(i>20||i<10)switch(i%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},aj={ordinalNumber:oj,era:Ac({values:ej,defaultWidth:"wide"}),quarter:Ac({values:tj,defaultWidth:"wide",argumentCallback:function(e){return e-1}}),month:Ac({values:nj,defaultWidth:"wide"}),day:Ac({values:rj,defaultWidth:"wide"}),dayPeriod:Ac({values:ij,defaultWidth:"wide",formattingValues:sj,defaultFormattingWidth:"wide"})};function bc(n){return function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=t.width,i=r&&n.matchPatterns[r]||n.matchPatterns[n.defaultMatchWidth],s=e.match(i);if(!s)return null;var a=s[0],u=r&&n.parsePatterns[r]||n.parsePatterns[n.defaultParseWidth],d=Array.isArray(u)?uj(u,function(g){return g.test(a)}):lj(u,function(g){return g.test(a)}),h;h=n.valueCallback?n.valueCallback(d):d,h=t.valueCallback?t.valueCallback(h):h;var m=e.slice(a.length);return{value:h,rest:m}}}function lj(n,e){for(var t in n)if(n.hasOwnProperty(t)&&e(n[t]))return t}function uj(n,e){for(var t=0;t<n.length;t++)if(e(n[t]))return t}function cj(n){return function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=e.match(n.matchPattern);if(!r)return null;var i=r[0],s=e.match(n.parsePattern);if(!s)return null;var a=n.valueCallback?n.valueCallback(s[0]):s[0];a=t.valueCallback?t.valueCallback(a):a;var u=e.slice(i.length);return{value:a,rest:u}}}var dj=/^(\d+)(th|st|nd|rd)?/i,hj=/\d+/i,fj={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},pj={any:[/^b/i,/^(a|c)/i]},mj={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},gj={any:[/1/i,/2/i,/3/i,/4/i]},yj={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},vj={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},wj={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},_j={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Tj={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Ej={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Ij={ordinalNumber:cj({matchPattern:dj,parsePattern:hj,valueCallback:function(e){return parseInt(e,10)}}),era:bc({matchPatterns:fj,defaultMatchWidth:"wide",parsePatterns:pj,defaultParseWidth:"any"}),quarter:bc({matchPatterns:mj,defaultMatchWidth:"wide",parsePatterns:gj,defaultParseWidth:"any",valueCallback:function(e){return e+1}}),month:bc({matchPatterns:yj,defaultMatchWidth:"wide",parsePatterns:vj,defaultParseWidth:"any"}),day:bc({matchPatterns:wj,defaultMatchWidth:"wide",parsePatterns:_j,defaultParseWidth:"any"}),dayPeriod:bc({matchPatterns:Tj,defaultMatchWidth:"any",parsePatterns:Ej,defaultParseWidth:"any"})},Wx={code:"en-US",formatDistance:G4,formatLong:X4,formatRelative:Z4,localize:aj,match:Ij,options:{weekStartsOn:0,firstWeekContainsDate:1}},Sj=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Pj=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Cj=/^'([^]*?)'?$/,Aj=/''/g,bj=/[a-zA-Z]/;function Yt(n,e,t){var r,i,s,a,u,d,h,m,g,v,E,R,k,A,j,O,F,z;gt(2,arguments);var te=String(e),Y=bu(),C=(r=(i=t?.locale)!==null&&i!==void 0?i:Y.locale)!==null&&r!==void 0?r:Wx,S=bn((s=(a=(u=(d=t?.firstWeekContainsDate)!==null&&d!==void 0?d:t==null||(h=t.locale)===null||h===void 0||(m=h.options)===null||m===void 0?void 0:m.firstWeekContainsDate)!==null&&u!==void 0?u:Y.firstWeekContainsDate)!==null&&a!==void 0?a:(g=Y.locale)===null||g===void 0||(v=g.options)===null||v===void 0?void 0:v.firstWeekContainsDate)!==null&&s!==void 0?s:1);if(!(S>=1&&S<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var D=bn((E=(R=(k=(A=t?.weekStartsOn)!==null&&A!==void 0?A:t==null||(j=t.locale)===null||j===void 0||(O=j.options)===null||O===void 0?void 0:O.weekStartsOn)!==null&&k!==void 0?k:Y.weekStartsOn)!==null&&R!==void 0?R:(F=Y.locale)===null||F===void 0||(z=F.options)===null||z===void 0?void 0:z.weekStartsOn)!==null&&E!==void 0?E:0);if(!(D>=0&&D<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!C.localize)throw new RangeError("locale must contain localize property");if(!C.formatLong)throw new RangeError("locale must contain formatLong property");var L=Ot(n);if(!V4(L))throw new RangeError("Invalid time value");var M=wp(L),U=Lx(L,M),P={firstWeekContainsDate:S,weekStartsOn:D,locale:C,_originalDate:L},X=te.match(Pj).map(function(se){var oe=se[0];if(oe==="p"||oe==="P"){var ie=bv[oe];return ie(se,C.formatLong)}return se}).join("").match(Sj).map(function(se){if(se==="''")return"'";var oe=se[0];if(oe==="'")return xj(se);var ie=$4[oe];if(ie)return!(t!=null&&t.useAdditionalWeekYearTokens)&&zx(se)&&_p(se,e,String(n)),!(t!=null&&t.useAdditionalDayOfYearTokens)&&$x(se)&&_p(se,e,String(n)),ie(U,se,C.localize,P);if(oe.match(bj))throw new RangeError("Format string contains an unescaped latin alphabet character `"+oe+"`");return se}).join("");return X}function xj(n){var e=n.match(Cj);return e?e[1].replace(Aj,"'"):n}function Rj(n,e){if(n==null)throw new TypeError("assign requires that input parameter not be null or undefined");for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(n[t]=e[t]);return n}function SS(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=Array(e);t<e;t++)r[t]=n[t];return r}function kj(n,e){if(n){if(typeof n=="string")return SS(n,e);var t={}.toString.call(n).slice(8,-1);return t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set"?Array.from(n):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?SS(n,e):void 0}}function PS(n,e){var t=typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(!t){if(Array.isArray(n)||(t=kj(n))||e){t&&(n=t);var r=0,i=function(){};return{s:i,n:function(){return r>=n.length?{done:!0}:{done:!1,value:n[r++]}},e:function(h){throw h},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var s,a=!0,u=!1;return{s:function(){t=t.call(n)},n:function(){var h=t.next();return a=h.done,h},e:function(h){u=!0,s=h},f:function(){try{a||t.return==null||t.return()}finally{if(u)throw s}}}}function Te(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function xv(n,e){return xv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,r){return t.__proto__=r,t},xv(n,e)}function et(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&xv(n,e)}function Tp(n){return Tp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Tp(n)}function Hx(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Hx=function(){return!!n})()}function Dj(n,e){if(e&&(Qi(e)=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Te(n)}function tt(n){var e=Hx();return function(){var t,r=Tp(n);if(e){var i=Tp(this).constructor;t=Reflect.construct(r,arguments,i)}else t=r.apply(this,arguments);return Dj(this,t)}}function Ye(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function Nj(n,e){if(Qi(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(Qi(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function qx(n){var e=Nj(n,"string");return Qi(e)=="symbol"?e:e+""}function Vj(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,qx(r.key),r)}}function Xe(n,e,t){return e&&Vj(n.prototype,e),Object.defineProperty(n,"prototype",{writable:!1}),n}function we(n,e,t){return(e=qx(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}var Oj=10,Gx=(function(){function n(){Ye(this,n),we(this,"priority",void 0),we(this,"subPriority",0)}return Xe(n,[{key:"validate",value:function(t,r){return!0}}]),n})(),Mj=(function(n){et(t,n);var e=tt(t);function t(r,i,s,a,u){var d;return Ye(this,t),d=e.call(this),d.value=r,d.validateValue=i,d.setValue=s,d.priority=a,u&&(d.subPriority=u),d}return Xe(t,[{key:"validate",value:function(i,s){return this.validateValue(i,this.value,s)}},{key:"set",value:function(i,s,a){return this.setValue(i,s,this.value,a)}}]),t})(Gx),Lj=(function(n){et(t,n);var e=tt(t);function t(){var r;Ye(this,t);for(var i=arguments.length,s=new Array(i),a=0;a<i;a++)s[a]=arguments[a];return r=e.call.apply(e,[this].concat(s)),we(Te(r),"priority",Oj),we(Te(r),"subPriority",-1),r}return Xe(t,[{key:"set",value:function(i,s){if(s.timestampIsSet)return i;var a=new Date(0);return a.setFullYear(i.getUTCFullYear(),i.getUTCMonth(),i.getUTCDate()),a.setHours(i.getUTCHours(),i.getUTCMinutes(),i.getUTCSeconds(),i.getUTCMilliseconds()),a}}]),t})(Gx),it=(function(){function n(){Ye(this,n),we(this,"incompatibleTokens",void 0),we(this,"priority",void 0),we(this,"subPriority",void 0)}return Xe(n,[{key:"run",value:function(t,r,i,s){var a=this.parse(t,r,i,s);return a?{setter:new Mj(a.value,this.validate,this.set,this.priority,this.subPriority),rest:a.rest}:null}},{key:"validate",value:function(t,r,i){return!0}}]),n})(),Fj=(function(n){et(t,n);var e=tt(t);function t(){var r;Ye(this,t);for(var i=arguments.length,s=new Array(i),a=0;a<i;a++)s[a]=arguments[a];return r=e.call.apply(e,[this].concat(s)),we(Te(r),"priority",140),we(Te(r),"incompatibleTokens",["R","u","t","T"]),r}return Xe(t,[{key:"parse",value:function(i,s,a){switch(s){case"G":case"GG":case"GGG":return a.era(i,{width:"abbreviated"})||a.era(i,{width:"narrow"});case"GGGGG":return a.era(i,{width:"narrow"});default:return a.era(i,{width:"wide"})||a.era(i,{width:"abbreviated"})||a.era(i,{width:"narrow"})}}},{key:"set",value:function(i,s,a){return s.era=a,i.setUTCFullYear(a,0,1),i.setUTCHours(0,0,0,0),i}}]),t})(it),$t={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},ii={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function zt(n,e){return n&&{value:e(n.value),rest:n.rest}}function xt(n,e){var t=e.match(n);return t?{value:parseInt(t[0],10),rest:e.slice(t[0].length)}:null}function si(n,e){var t=e.match(n);if(!t)return null;if(t[0]==="Z")return{value:0,rest:e.slice(1)};var r=t[1]==="+"?1:-1,i=t[2]?parseInt(t[2],10):0,s=t[3]?parseInt(t[3],10):0,a=t[5]?parseInt(t[5],10):0;return{value:r*(i*f_+s*h_+a*D4),rest:e.slice(t[0].length)}}function Kx(n){return xt($t.anyDigitsSigned,n)}function Mt(n,e){switch(n){case 1:return xt($t.singleDigit,e);case 2:return xt($t.twoDigits,e);case 3:return xt($t.threeDigits,e);case 4:return xt($t.fourDigits,e);default:return xt(new RegExp("^\\d{1,"+n+"}"),e)}}function Ep(n,e){switch(n){case 1:return xt($t.singleDigitSigned,e);case 2:return xt($t.twoDigitsSigned,e);case 3:return xt($t.threeDigitsSigned,e);case 4:return xt($t.fourDigitsSigned,e);default:return xt(new RegExp("^-?\\d{1,"+n+"}"),e)}}function m_(n){switch(n){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;default:return 0}}function Qx(n,e){var t=e>0,r=t?e:1-e,i;if(r<=50)i=n||100;else{var s=r+50,a=Math.floor(s/100)*100,u=n>=s%100;i=n+a-(u?100:0)}return t?i:1-i}function Yx(n){return n%400===0||n%4===0&&n%100!==0}var Uj=(function(n){et(t,n);var e=tt(t);function t(){var r;Ye(this,t);for(var i=arguments.length,s=new Array(i),a=0;a<i;a++)s[a]=arguments[a];return r=e.call.apply(e,[this].concat(s)),we(Te(r),"priority",130),we(Te(r),"incompatibleTokens",["Y","R","u","w","I","i","e","c","t","T"]),r}return Xe(t,[{key:"parse",value:function(i,s,a){var u=function(h){return{year:h,isTwoDigitYear:s==="yy"}};switch(s){case"y":return zt(Mt(4,i),u);case"yo":return zt(a.ordinalNumber(i,{unit:"year"}),u);default:return zt(Mt(s.length,i),u)}}},{key:"validate",value:function(i,s){return s.isTwoDigitYear||s.year>0}},{key:"set",value:function(i,s,a){var u=i.getUTCFullYear();if(a.isTwoDigitYear){var d=Qx(a.year,u);return i.setUTCFullYear(d,0,1),i.setUTCHours(0,0,0,0),i}var h=!("era"in s)||s.era===1?a.year:1-a.year;return i.setUTCFullYear(h,0,1),i.setUTCHours(0,0,0,0),i}}]),t})(it),jj=(function(n){et(t,n);var e=tt(t);function t(){var r;Ye(this,t);for(var i=arguments.length,s=new Array(i),a=0;a<i;a++)s[a]=arguments[a];return r=e.call.apply(e,[this].concat(s)),we(Te(r),"priority",130),we(Te(r),"incompatibleTokens",["y","R","u","Q","q","M","L","I","d","D","i","t","T"]),r}return Xe(t,[{key:"parse",value:function(i,s,a){var u=function(h){return{year:h,isTwoDigitYear:s==="YY"}};switch(s){case"Y":return zt(Mt(4,i),u);case"Yo":return zt(a.ordinalNumber(i,{unit:"year"}),u);default:return zt(Mt(s.length,i),u)}}},{key:"validate",value:function(i,s){return s.isTwoDigitYear||s.year>0}},{key:"set",value:function(i,s,a,u){var d=p_(i,u);if(a.isTwoDigitYear){var h=Qx(a.year,d);return i.setUTCFullYear(h,0,u.firstWeekContainsDate),i.setUTCHours(0,0,0,0),xa(i,u)}var m=!("era"in s)||s.era===1?a.year:1-a.year;return i.setUTCFullYear(m,0,u.firstWeekContainsDate),i.setUTCHours(0,0,0,0),xa(i,u)}}]),t})(it),Bj=(function(n){et(t,n);var e=tt(t);function t(){var r;Ye(this,t);for(var i=arguments.length,s=new Array(i),a=0;a<i;a++)s[a]=arguments[a];return r=e.call.apply(e,[this].concat(s)),we(Te(r),"priority",130),we(Te(r),"incompatibleTokens",["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"]),r}return Xe(t,[{key:"parse",value:function(i,s){return Ep(s==="R"?4:s.length,i)}},{key:"set",value:function(i,s,a){var u=new Date(0);return u.setUTCFullYear(a,0,4),u.setUTCHours(0,0,0,0),pu(u)}}]),t})(it),$j=(function(n){et(t,n);var e=tt(t);function t(){var r;Ye(this,t);for(var i=arguments.length,s=new Array(i),a=0;a<i;a++)s[a]=arguments[a];return r=e.call.apply(e,[this].concat(s)),we(Te(r),"priority",130),we(Te(r),"incompatibleTokens",["G","y","Y","R","w","I","i","e","c","t","T"]),r}return Xe(t,[{key:"parse",value:function(i,s){return Ep(s==="u"?4:s.length,i)}},{key:"set",value:function(i,s,a){return i.setUTCFullYear(a,0,1),i.setUTCHours(0,0,0,0),i}}]),t})(it),zj=(function(n){et(t,n);var e=tt(t);function t(){var r;Ye(this,t);for(var i=arguments.length,s=new Array(i),a=0;a<i;a++)s[a]=arguments[a];return r=e.call.apply(e,[this].concat(s)),we(Te(r),"priority",120),we(Te(r),"incompatibleTokens",["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"]),r}return Xe(t,[{key:"parse",value:function(i,s,a){switch(s){case"Q":case"QQ":return Mt(s.length,i);case"Qo":return a.ordinalNumber(i,{unit:"quarter"});case"QQQ":return a.quarter(i,{width:"abbreviated",context:"formatting"})||a.quarter(i,{width:"narrow",context:"formatting"});case"QQQQQ":return a.quarter(i,{width:"narrow",context:"formatting"});default:return a.quarter(i,{width:"wide",context:"formatting"})||a.quarter(i,{width:"abbreviated",context:"formatting"})||a.quarter(i,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(i,s){return s>=1&&s<=4}},{key:"set",value:function(i,s,a){return i.setUTCMonth((a-1)*3,1),i.setUTCHours(0,0,0,0),i}}]),t})(it),Wj=(function(n){et(t,n);var e=tt(t);function t(){var r;Ye(this,t);for(var i=arguments.length,s=new Array(i),a=0;a<i;a++)s[a]=arguments[a];return r=e.call.apply(e,[this].concat(s)),we(Te(r),"priority",120),we(Te(r),"incompatibleTokens",["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"]),r}return Xe(t,[{key:"parse",value:function(i,s,a){switch(s){case"q":case"qq":return Mt(s.length,i);case"qo":return a.ordinalNumber(i,{unit:"quarter"});case"qqq":return a.quarter(i,{width:"abbreviated",context:"standalone"})||a.quarter(i,{width:"narrow",context:"standalone"});case"qqqqq":return a.quarter(i,{width:"narrow",context:"standalone"});default:return a.quarter(i,{width:"wide",context:"standalone"})||a.quarter(i,{width:"abbreviated",context:"standalone"})||a.quarter(i,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(i,s){return s>=1&&s<=4}},{key:"set",value:function(i,s,a){return i.setUTCMonth((a-1)*3,1),i.setUTCHours(0,0,0,0),i}}]),t})(it),Hj=(function(n){et(t,n);var e=tt(t);function t(){var r;Ye(this,t);for(var i=arguments.length,s=new Array(i),a=0;a<i;a++)s[a]=arguments[a];return r=e.call.apply(e,[this].concat(s)),we(Te(r),"incompatibleTokens",["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]),we(Te(r),"priority",110),r}return Xe(t,[{key:"parse",value:function(i,s,a){var u=function(h){return h-1};switch(s){case"M":return zt(xt($t.month,i),u);case"MM":return zt(Mt(2,i),u);case"Mo":return zt(a.ordinalNumber(i,{unit:"month"}),u);case"MMM":return a.month(i,{width:"abbreviated",context:"formatting"})||a.month(i,{width:"narrow",context:"formatting"});case"MMMMM":return a.month(i,{width:"narrow",context:"formatting"});default:return a.month(i,{width:"wide",context:"formatting"})||a.month(i,{width:"abbreviated",context:"formatting"})||a.month(i,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(i,s){return s>=0&&s<=11}},{key:"set",value:function(i,s,a){return i.setUTCMonth(a,1),i.setUTCHours(0,0,0,0),i}}]),t})(it),qj=(function(n){et(t,n);var e=tt(t);function t(){var r;Ye(this,t);for(var i=arguments.length,s=new Array(i),a=0;a<i;a++)s[a]=arguments[a];return r=e.call.apply(e,[this].concat(s)),we(Te(r),"priority",110),we(Te(r),"incompatibleTokens",["Y","R","q","Q","M","w","I","D","i","e","c","t","T"]),r}return Xe(t,[{key:"parse",value:function(i,s,a){var u=function(h){return h-1};switch(s){case"L":return zt(xt($t.month,i),u);case"LL":return zt(Mt(2,i),u);case"Lo":return zt(a.ordinalNumber(i,{unit:"month"}),u);case"LLL":return a.month(i,{width:"abbreviated",context:"standalone"})||a.month(i,{width:"narrow",context:"standalone"});case"LLLLL":return a.month(i,{width:"narrow",context:"standalone"});default:return a.month(i,{width:"wide",context:"standalone"})||a.month(i,{width:"abbreviated",context:"standalone"})||a.month(i,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(i,s){return s>=0&&s<=11}},{key:"set",value:function(i,s,a){return i.setUTCMonth(a,1),i.setUTCHours(0,0,0,0),i}}]),t})(it);function Gj(n,e,t){gt(2,arguments);var r=Ot(n),i=bn(e),s=jx(r,t)-i;return r.setUTCDate(r.getUTCDate()-s*7),r}var Kj=(function(n){et(t,n);var e=tt(t);function t(){var r;Ye(this,t);for(var i=arguments.length,s=new Array(i),a=0;a<i;a++)s[a]=arguments[a];return r=e.call.apply(e,[this].concat(s)),we(Te(r),"priority",100),we(Te(r),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","i","t","T"]),r}return Xe(t,[{key:"parse",value:function(i,s,a){switch(s){case"w":return xt($t.week,i);case"wo":return a.ordinalNumber(i,{unit:"week"});default:return Mt(s.length,i)}}},{key:"validate",value:function(i,s){return s>=1&&s<=53}},{key:"set",value:function(i,s,a,u){return xa(Gj(i,a,u),u)}}]),t})(it);function Qj(n,e){gt(2,arguments);var t=Ot(n),r=bn(e),i=Ux(t)-r;return t.setUTCDate(t.getUTCDate()-i*7),t}var Yj=(function(n){et(t,n);var e=tt(t);function t(){var r;Ye(this,t);for(var i=arguments.length,s=new Array(i),a=0;a<i;a++)s[a]=arguments[a];return r=e.call.apply(e,[this].concat(s)),we(Te(r),"priority",100),we(Te(r),"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"]),r}return Xe(t,[{key:"parse",value:function(i,s,a){switch(s){case"I":return xt($t.week,i);case"Io":return a.ordinalNumber(i,{unit:"week"});default:return Mt(s.length,i)}}},{key:"validate",value:function(i,s){return s>=1&&s<=53}},{key:"set",value:function(i,s,a){return pu(Qj(i,a))}}]),t})(it),Xj=[31,28,31,30,31,30,31,31,30,31,30,31],Jj=[31,29,31,30,31,30,31,31,30,31,30,31],Zj=(function(n){et(t,n);var e=tt(t);function t(){var r;Ye(this,t);for(var i=arguments.length,s=new Array(i),a=0;a<i;a++)s[a]=arguments[a];return r=e.call.apply(e,[this].concat(s)),we(Te(r),"priority",90),we(Te(r),"subPriority",1),we(Te(r),"incompatibleTokens",["Y","R","q","Q","w","I","D","i","e","c","t","T"]),r}return Xe(t,[{key:"parse",value:function(i,s,a){switch(s){case"d":return xt($t.date,i);case"do":return a.ordinalNumber(i,{unit:"date"});default:return Mt(s.length,i)}}},{key:"validate",value:function(i,s){var a=i.getUTCFullYear(),u=Yx(a),d=i.getUTCMonth();return u?s>=1&&s<=Jj[d]:s>=1&&s<=Xj[d]}},{key:"set",value:function(i,s,a){return i.setUTCDate(a),i.setUTCHours(0,0,0,0),i}}]),t})(it),e3=(function(n){et(t,n);var e=tt(t);function t(){var r;Ye(this,t);for(var i=arguments.length,s=new Array(i),a=0;a<i;a++)s[a]=arguments[a];return r=e.call.apply(e,[this].concat(s)),we(Te(r),"priority",90),we(Te(r),"subpriority",1),we(Te(r),"incompatibleTokens",["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"]),r}return Xe(t,[{key:"parse",value:function(i,s,a){switch(s){case"D":case"DD":return xt($t.dayOfYear,i);case"Do":return a.ordinalNumber(i,{unit:"date"});default:return Mt(s.length,i)}}},{key:"validate",value:function(i,s){var a=i.getUTCFullYear(),u=Yx(a);return u?s>=1&&s<=366:s>=1&&s<=365}},{key:"set",value:function(i,s,a){return i.setUTCMonth(0,a),i.setUTCHours(0,0,0,0),i}}]),t})(it);function g_(n,e,t){var r,i,s,a,u,d,h,m;gt(2,arguments);var g=bu(),v=bn((r=(i=(s=(a=t?.weekStartsOn)!==null&&a!==void 0?a:t==null||(u=t.locale)===null||u===void 0||(d=u.options)===null||d===void 0?void 0:d.weekStartsOn)!==null&&s!==void 0?s:g.weekStartsOn)!==null&&i!==void 0?i:(h=g.locale)===null||h===void 0||(m=h.options)===null||m===void 0?void 0:m.weekStartsOn)!==null&&r!==void 0?r:0);if(!(v>=0&&v<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var E=Ot(n),R=bn(e),k=E.getUTCDay(),A=R%7,j=(A+7)%7,O=(j<v?7:0)+R-k;return E.setUTCDate(E.getUTCDate()+O),E}var t3=(function(n){et(t,n);var e=tt(t);function t(){var r;Ye(this,t);for(var i=arguments.length,s=new Array(i),a=0;a<i;a++)s[a]=arguments[a];return r=e.call.apply(e,[this].concat(s)),we(Te(r),"priority",90),we(Te(r),"incompatibleTokens",["D","i","e","c","t","T"]),r}return Xe(t,[{key:"parse",value:function(i,s,a){switch(s){case"E":case"EE":case"EEE":return a.day(i,{width:"abbreviated",context:"formatting"})||a.day(i,{width:"short",context:"formatting"})||a.day(i,{width:"narrow",context:"formatting"});case"EEEEE":return a.day(i,{width:"narrow",context:"formatting"});case"EEEEEE":return a.day(i,{width:"short",context:"formatting"})||a.day(i,{width:"narrow",context:"formatting"});default:return a.day(i,{width:"wide",context:"formatting"})||a.day(i,{width:"abbreviated",context:"formatting"})||a.day(i,{width:"short",context:"formatting"})||a.day(i,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(i,s){return s>=0&&s<=6}},{key:"set",value:function(i,s,a,u){return i=g_(i,a,u),i.setUTCHours(0,0,0,0),i}}]),t})(it),n3=(function(n){et(t,n);var e=tt(t);function t(){var r;Ye(this,t);for(var i=arguments.length,s=new Array(i),a=0;a<i;a++)s[a]=arguments[a];return r=e.call.apply(e,[this].concat(s)),we(Te(r),"priority",90),we(Te(r),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"]),r}return Xe(t,[{key:"parse",value:function(i,s,a,u){var d=function(m){var g=Math.floor((m-1)/7)*7;return(m+u.weekStartsOn+6)%7+g};switch(s){case"e":case"ee":return zt(Mt(s.length,i),d);case"eo":return zt(a.ordinalNumber(i,{unit:"day"}),d);case"eee":return a.day(i,{width:"abbreviated",context:"formatting"})||a.day(i,{width:"short",context:"formatting"})||a.day(i,{width:"narrow",context:"formatting"});case"eeeee":return a.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return a.day(i,{width:"short",context:"formatting"})||a.day(i,{width:"narrow",context:"formatting"});default:return a.day(i,{width:"wide",context:"formatting"})||a.day(i,{width:"abbreviated",context:"formatting"})||a.day(i,{width:"short",context:"formatting"})||a.day(i,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(i,s){return s>=0&&s<=6}},{key:"set",value:function(i,s,a,u){return i=g_(i,a,u),i.setUTCHours(0,0,0,0),i}}]),t})(it),r3=(function(n){et(t,n);var e=tt(t);function t(){var r;Ye(this,t);for(var i=arguments.length,s=new Array(i),a=0;a<i;a++)s[a]=arguments[a];return r=e.call.apply(e,[this].concat(s)),we(Te(r),"priority",90),we(Te(r),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"]),r}return Xe(t,[{key:"parse",value:function(i,s,a,u){var d=function(m){var g=Math.floor((m-1)/7)*7;return(m+u.weekStartsOn+6)%7+g};switch(s){case"c":case"cc":return zt(Mt(s.length,i),d);case"co":return zt(a.ordinalNumber(i,{unit:"day"}),d);case"ccc":return a.day(i,{width:"abbreviated",context:"standalone"})||a.day(i,{width:"short",context:"standalone"})||a.day(i,{width:"narrow",context:"standalone"});case"ccccc":return a.day(i,{width:"narrow",context:"standalone"});case"cccccc":return a.day(i,{width:"short",context:"standalone"})||a.day(i,{width:"narrow",context:"standalone"});default:return a.day(i,{width:"wide",context:"standalone"})||a.day(i,{width:"abbreviated",context:"standalone"})||a.day(i,{width:"short",context:"standalone"})||a.day(i,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(i,s){return s>=0&&s<=6}},{key:"set",value:function(i,s,a,u){return i=g_(i,a,u),i.setUTCHours(0,0,0,0),i}}]),t})(it);function i3(n,e){gt(2,arguments);var t=bn(e);t%7===0&&(t=t-7);var r=1,i=Ot(n),s=i.getUTCDay(),a=t%7,u=(a+7)%7,d=(u<r?7:0)+t-s;return i.setUTCDate(i.getUTCDate()+d),i}var s3=(function(n){et(t,n);var e=tt(t);function t(){var r;Ye(this,t);for(var i=arguments.length,s=new Array(i),a=0;a<i;a++)s[a]=arguments[a];return r=e.call.apply(e,[this].concat(s)),we(Te(r),"priority",90),we(Te(r),"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"]),r}return Xe(t,[{key:"parse",value:function(i,s,a){var u=function(h){return h===0?7:h};switch(s){case"i":case"ii":return Mt(s.length,i);case"io":return a.ordinalNumber(i,{unit:"day"});case"iii":return zt(a.day(i,{width:"abbreviated",context:"formatting"})||a.day(i,{width:"short",context:"formatting"})||a.day(i,{width:"narrow",context:"formatting"}),u);case"iiiii":return zt(a.day(i,{width:"narrow",context:"formatting"}),u);case"iiiiii":return zt(a.day(i,{width:"short",context:"formatting"})||a.day(i,{width:"narrow",context:"formatting"}),u);default:return zt(a.day(i,{width:"wide",context:"formatting"})||a.day(i,{width:"abbreviated",context:"formatting"})||a.day(i,{width:"short",context:"formatting"})||a.day(i,{width:"narrow",context:"formatting"}),u)}}},{key:"validate",value:function(i,s){return s>=1&&s<=7}},{key:"set",value:function(i,s,a){return i=i3(i,a),i.setUTCHours(0,0,0,0),i}}]),t})(it),o3=(function(n){et(t,n);var e=tt(t);function t(){var r;Ye(this,t);for(var i=arguments.length,s=new Array(i),a=0;a<i;a++)s[a]=arguments[a];return r=e.call.apply(e,[this].concat(s)),we(Te(r),"priority",80),we(Te(r),"incompatibleTokens",["b","B","H","k","t","T"]),r}return Xe(t,[{key:"parse",value:function(i,s,a){switch(s){case"a":case"aa":case"aaa":return a.dayPeriod(i,{width:"abbreviated",context:"formatting"})||a.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaaa":return a.dayPeriod(i,{width:"narrow",context:"formatting"});default:return a.dayPeriod(i,{width:"wide",context:"formatting"})||a.dayPeriod(i,{width:"abbreviated",context:"formatting"})||a.dayPeriod(i,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(i,s,a){return i.setUTCHours(m_(a),0,0,0),i}}]),t})(it),a3=(function(n){et(t,n);var e=tt(t);function t(){var r;Ye(this,t);for(var i=arguments.length,s=new Array(i),a=0;a<i;a++)s[a]=arguments[a];return r=e.call.apply(e,[this].concat(s)),we(Te(r),"priority",80),we(Te(r),"incompatibleTokens",["a","B","H","k","t","T"]),r}return Xe(t,[{key:"parse",value:function(i,s,a){switch(s){case"b":case"bb":case"bbb":return a.dayPeriod(i,{width:"abbreviated",context:"formatting"})||a.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbbb":return a.dayPeriod(i,{width:"narrow",context:"formatting"});default:return a.dayPeriod(i,{width:"wide",context:"formatting"})||a.dayPeriod(i,{width:"abbreviated",context:"formatting"})||a.dayPeriod(i,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(i,s,a){return i.setUTCHours(m_(a),0,0,0),i}}]),t})(it),l3=(function(n){et(t,n);var e=tt(t);function t(){var r;Ye(this,t);for(var i=arguments.length,s=new Array(i),a=0;a<i;a++)s[a]=arguments[a];return r=e.call.apply(e,[this].concat(s)),we(Te(r),"priority",80),we(Te(r),"incompatibleTokens",["a","b","t","T"]),r}return Xe(t,[{key:"parse",value:function(i,s,a){switch(s){case"B":case"BB":case"BBB":return a.dayPeriod(i,{width:"abbreviated",context:"formatting"})||a.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBBB":return a.dayPeriod(i,{width:"narrow",context:"formatting"});default:return a.dayPeriod(i,{width:"wide",context:"formatting"})||a.dayPeriod(i,{width:"abbreviated",context:"formatting"})||a.dayPeriod(i,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(i,s,a){return i.setUTCHours(m_(a),0,0,0),i}}]),t})(it),u3=(function(n){et(t,n);var e=tt(t);function t(){var r;Ye(this,t);for(var i=arguments.length,s=new Array(i),a=0;a<i;a++)s[a]=arguments[a];return r=e.call.apply(e,[this].concat(s)),we(Te(r),"priority",70),we(Te(r),"incompatibleTokens",["H","K","k","t","T"]),r}return Xe(t,[{key:"parse",value:function(i,s,a){switch(s){case"h":return xt($t.hour12h,i);case"ho":return a.ordinalNumber(i,{unit:"hour"});default:return Mt(s.length,i)}}},{key:"validate",value:function(i,s){return s>=1&&s<=12}},{key:"set",value:function(i,s,a){var u=i.getUTCHours()>=12;return u&&a<12?i.setUTCHours(a+12,0,0,0):!u&&a===12?i.setUTCHours(0,0,0,0):i.setUTCHours(a,0,0,0),i}}]),t})(it),c3=(function(n){et(t,n);var e=tt(t);function t(){var r;Ye(this,t);for(var i=arguments.length,s=new Array(i),a=0;a<i;a++)s[a]=arguments[a];return r=e.call.apply(e,[this].concat(s)),we(Te(r),"priority",70),we(Te(r),"incompatibleTokens",["a","b","h","K","k","t","T"]),r}return Xe(t,[{key:"parse",value:function(i,s,a){switch(s){case"H":return xt($t.hour23h,i);case"Ho":return a.ordinalNumber(i,{unit:"hour"});default:return Mt(s.length,i)}}},{key:"validate",value:function(i,s){return s>=0&&s<=23}},{key:"set",value:function(i,s,a){return i.setUTCHours(a,0,0,0),i}}]),t})(it),d3=(function(n){et(t,n);var e=tt(t);function t(){var r;Ye(this,t);for(var i=arguments.length,s=new Array(i),a=0;a<i;a++)s[a]=arguments[a];return r=e.call.apply(e,[this].concat(s)),we(Te(r),"priority",70),we(Te(r),"incompatibleTokens",["h","H","k","t","T"]),r}return Xe(t,[{key:"parse",value:function(i,s,a){switch(s){case"K":return xt($t.hour11h,i);case"Ko":return a.ordinalNumber(i,{unit:"hour"});default:return Mt(s.length,i)}}},{key:"validate",value:function(i,s){return s>=0&&s<=11}},{key:"set",value:function(i,s,a){var u=i.getUTCHours()>=12;return u&&a<12?i.setUTCHours(a+12,0,0,0):i.setUTCHours(a,0,0,0),i}}]),t})(it),h3=(function(n){et(t,n);var e=tt(t);function t(){var r;Ye(this,t);for(var i=arguments.length,s=new Array(i),a=0;a<i;a++)s[a]=arguments[a];return r=e.call.apply(e,[this].concat(s)),we(Te(r),"priority",70),we(Te(r),"incompatibleTokens",["a","b","h","H","K","t","T"]),r}return Xe(t,[{key:"parse",value:function(i,s,a){switch(s){case"k":return xt($t.hour24h,i);case"ko":return a.ordinalNumber(i,{unit:"hour"});default:return Mt(s.length,i)}}},{key:"validate",value:function(i,s){return s>=1&&s<=24}},{key:"set",value:function(i,s,a){var u=a<=24?a%24:a;return i.setUTCHours(u,0,0,0),i}}]),t})(it),f3=(function(n){et(t,n);var e=tt(t);function t(){var r;Ye(this,t);for(var i=arguments.length,s=new Array(i),a=0;a<i;a++)s[a]=arguments[a];return r=e.call.apply(e,[this].concat(s)),we(Te(r),"priority",60),we(Te(r),"incompatibleTokens",["t","T"]),r}return Xe(t,[{key:"parse",value:function(i,s,a){switch(s){case"m":return xt($t.minute,i);case"mo":return a.ordinalNumber(i,{unit:"minute"});default:return Mt(s.length,i)}}},{key:"validate",value:function(i,s){return s>=0&&s<=59}},{key:"set",value:function(i,s,a){return i.setUTCMinutes(a,0,0),i}}]),t})(it),p3=(function(n){et(t,n);var e=tt(t);function t(){var r;Ye(this,t);for(var i=arguments.length,s=new Array(i),a=0;a<i;a++)s[a]=arguments[a];return r=e.call.apply(e,[this].concat(s)),we(Te(r),"priority",50),we(Te(r),"incompatibleTokens",["t","T"]),r}return Xe(t,[{key:"parse",value:function(i,s,a){switch(s){case"s":return xt($t.second,i);case"so":return a.ordinalNumber(i,{unit:"second"});default:return Mt(s.length,i)}}},{key:"validate",value:function(i,s){return s>=0&&s<=59}},{key:"set",value:function(i,s,a){return i.setUTCSeconds(a,0),i}}]),t})(it),m3=(function(n){et(t,n);var e=tt(t);function t(){var r;Ye(this,t);for(var i=arguments.length,s=new Array(i),a=0;a<i;a++)s[a]=arguments[a];return r=e.call.apply(e,[this].concat(s)),we(Te(r),"priority",30),we(Te(r),"incompatibleTokens",["t","T"]),r}return Xe(t,[{key:"parse",value:function(i,s){var a=function(d){return Math.floor(d*Math.pow(10,-s.length+3))};return zt(Mt(s.length,i),a)}},{key:"set",value:function(i,s,a){return i.setUTCMilliseconds(a),i}}]),t})(it),g3=(function(n){et(t,n);var e=tt(t);function t(){var r;Ye(this,t);for(var i=arguments.length,s=new Array(i),a=0;a<i;a++)s[a]=arguments[a];return r=e.call.apply(e,[this].concat(s)),we(Te(r),"priority",10),we(Te(r),"incompatibleTokens",["t","T","x"]),r}return Xe(t,[{key:"parse",value:function(i,s){switch(s){case"X":return si(ii.basicOptionalMinutes,i);case"XX":return si(ii.basic,i);case"XXXX":return si(ii.basicOptionalSeconds,i);case"XXXXX":return si(ii.extendedOptionalSeconds,i);default:return si(ii.extended,i)}}},{key:"set",value:function(i,s,a){return s.timestampIsSet?i:new Date(i.getTime()-a)}}]),t})(it),y3=(function(n){et(t,n);var e=tt(t);function t(){var r;Ye(this,t);for(var i=arguments.length,s=new Array(i),a=0;a<i;a++)s[a]=arguments[a];return r=e.call.apply(e,[this].concat(s)),we(Te(r),"priority",10),we(Te(r),"incompatibleTokens",["t","T","X"]),r}return Xe(t,[{key:"parse",value:function(i,s){switch(s){case"x":return si(ii.basicOptionalMinutes,i);case"xx":return si(ii.basic,i);case"xxxx":return si(ii.basicOptionalSeconds,i);case"xxxxx":return si(ii.extendedOptionalSeconds,i);default:return si(ii.extended,i)}}},{key:"set",value:function(i,s,a){return s.timestampIsSet?i:new Date(i.getTime()-a)}}]),t})(it),v3=(function(n){et(t,n);var e=tt(t);function t(){var r;Ye(this,t);for(var i=arguments.length,s=new Array(i),a=0;a<i;a++)s[a]=arguments[a];return r=e.call.apply(e,[this].concat(s)),we(Te(r),"priority",40),we(Te(r),"incompatibleTokens","*"),r}return Xe(t,[{key:"parse",value:function(i){return Kx(i)}},{key:"set",value:function(i,s,a){return[new Date(a*1e3),{timestampIsSet:!0}]}}]),t})(it),w3=(function(n){et(t,n);var e=tt(t);function t(){var r;Ye(this,t);for(var i=arguments.length,s=new Array(i),a=0;a<i;a++)s[a]=arguments[a];return r=e.call.apply(e,[this].concat(s)),we(Te(r),"priority",20),we(Te(r),"incompatibleTokens","*"),r}return Xe(t,[{key:"parse",value:function(i){return Kx(i)}},{key:"set",value:function(i,s,a){return[new Date(a),{timestampIsSet:!0}]}}]),t})(it),_3={G:new Fj,y:new Uj,Y:new jj,R:new Bj,u:new $j,Q:new zj,q:new Wj,M:new Hj,L:new qj,w:new Kj,I:new Yj,d:new Zj,D:new e3,E:new t3,e:new n3,c:new r3,i:new s3,a:new o3,b:new a3,B:new l3,h:new u3,H:new c3,K:new d3,k:new h3,m:new f3,s:new p3,S:new m3,X:new g3,x:new y3,t:new v3,T:new w3},T3=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,E3=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,I3=/^'([^]*?)'?$/,S3=/''/g,P3=/\S/,C3=/[a-zA-Z]/;function A3(n,e,t,r){var i,s,a,u,d,h,m,g,v,E,R,k,A,j;gt(3,arguments);var O=String(n),F=String(e),z=bu(),te=(i=(s=void 0)!==null&&s!==void 0?s:z.locale)!==null&&i!==void 0?i:Wx;if(!te.match)throw new RangeError("locale must contain match property");var Y=bn((a=(u=(d=(h=void 0)!==null&&h!==void 0?h:void 0)!==null&&d!==void 0?d:z.firstWeekContainsDate)!==null&&u!==void 0?u:(m=z.locale)===null||m===void 0||(g=m.options)===null||g===void 0?void 0:g.firstWeekContainsDate)!==null&&a!==void 0?a:1);if(!(Y>=1&&Y<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var C=bn((v=(E=(R=(k=void 0)!==null&&k!==void 0?k:void 0)!==null&&R!==void 0?R:z.weekStartsOn)!==null&&E!==void 0?E:(A=z.locale)===null||A===void 0||(j=A.options)===null||j===void 0?void 0:j.weekStartsOn)!==null&&v!==void 0?v:0);if(!(C>=0&&C<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(F==="")return O===""?Ot(t):new Date(NaN);var S={firstWeekContainsDate:Y,weekStartsOn:C,locale:te},D=[new Lj],L=F.match(E3).map(function(me){var pe=me[0];if(pe in bv){var Se=bv[pe];return Se(me,te.formatLong)}return me}).join("").match(T3),M=[],U=PS(L),P;try{var X=function(){var pe=P.value;!(r!=null&&r.useAdditionalWeekYearTokens)&&zx(pe)&&_p(pe,F,n),!(r!=null&&r.useAdditionalDayOfYearTokens)&&$x(pe)&&_p(pe,F,n);var Se=pe[0],Me=_3[Se];if(Me){var Be=Me.incompatibleTokens;if(Array.isArray(Be)){var He=M.find(function(Jt){return Be.includes(Jt.token)||Jt.token===Se});if(He)throw new RangeError("The format string mustn't contain `".concat(He.fullToken,"` and `").concat(pe,"` at the same time"))}else if(Me.incompatibleTokens==="*"&&M.length>0)throw new RangeError("The format string mustn't contain `".concat(pe,"` and any other token at the same time"));M.push({token:Se,fullToken:pe});var ct=Me.run(O,pe,te.match,S);if(!ct)return{v:new Date(NaN)};D.push(ct.setter),O=ct.rest}else{if(Se.match(C3))throw new RangeError("Format string contains an unescaped latin alphabet character `"+Se+"`");if(pe==="''"?pe="'":Se==="'"&&(pe=b3(pe)),O.indexOf(pe)===0)O=O.slice(pe.length);else return{v:new Date(NaN)}}};for(U.s();!(P=U.n()).done;){var se=X();if(Qi(se)==="object")return se.v}}catch(me){U.e(me)}finally{U.f()}if(O.length>0&&P3.test(O))return new Date(NaN);var oe=D.map(function(me){return me.priority}).sort(function(me,pe){return pe-me}).filter(function(me,pe,Se){return Se.indexOf(me)===pe}).map(function(me){return D.filter(function(pe){return pe.priority===me}).sort(function(pe,Se){return Se.subPriority-pe.subPriority})}).map(function(me){return me[0]}),ie=Ot(t);if(isNaN(ie.getTime()))return new Date(NaN);var ee=Lx(ie,wp(ie)),de={},ne=PS(oe),N;try{for(ne.s();!(N=ne.n()).done;){var Q=N.value;if(!Q.validate(ee,S))return new Date(NaN);var he=Q.set(ee,de,S);Array.isArray(he)?(ee=he[0],Rj(de,he[1])):ee=he}}catch(me){ne.e(me)}finally{ne.f()}return ee}function b3(n){return n.match(I3)[1].replace(S3,"'")}function Ue(n,e){var t;gt(1,arguments);var r=bn((t=void 0)!==null&&t!==void 0?t:2);if(r!==2&&r!==1&&r!==0)throw new RangeError("additionalDigits must be 0, 1 or 2");if(!(typeof n=="string"||Object.prototype.toString.call(n)==="[object String]"))return new Date(NaN);var i=D3(n),s;if(i.date){var a=N3(i.date,r);s=V3(a.restDateString,a.year)}if(!s||isNaN(s.getTime()))return new Date(NaN);var u=s.getTime(),d=0,h;if(i.time&&(d=O3(i.time),isNaN(d)))return new Date(NaN);if(i.timezone){if(h=M3(i.timezone),isNaN(h))return new Date(NaN)}else{var m=new Date(u+d),g=new Date(0);return g.setFullYear(m.getUTCFullYear(),m.getUTCMonth(),m.getUTCDate()),g.setHours(m.getUTCHours(),m.getUTCMinutes(),m.getUTCSeconds(),m.getUTCMilliseconds()),g}return new Date(u+d+h)}var pf={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},x3=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,R3=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,k3=/^([+-])(\d{2})(?::?(\d{2}))?$/;function D3(n){var e={},t=n.split(pf.dateTimeDelimiter),r;if(t.length>2)return e;if(/:/.test(t[0])?r=t[0]:(e.date=t[0],r=t[1],pf.timeZoneDelimiter.test(e.date)&&(e.date=n.split(pf.timeZoneDelimiter)[0],r=n.substr(e.date.length,n.length))),r){var i=pf.timezone.exec(r);i?(e.time=r.replace(i[1],""),e.timezone=i[1]):e.time=r}return e}function N3(n,e){var t=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+e)+"})|(\\d{2}|[+-]\\d{"+(2+e)+"})$)"),r=n.match(t);if(!r)return{year:NaN,restDateString:""};var i=r[1]?parseInt(r[1]):null,s=r[2]?parseInt(r[2]):null;return{year:s===null?i:s*100,restDateString:n.slice((r[1]||r[2]).length)}}function V3(n,e){if(e===null)return new Date(NaN);var t=n.match(x3);if(!t)return new Date(NaN);var r=!!t[4],i=xc(t[1]),s=xc(t[2])-1,a=xc(t[3]),u=xc(t[4]),d=xc(t[5])-1;if(r)return B3(e,u,d)?L3(e,u,d):new Date(NaN);var h=new Date(0);return!U3(e,s,a)||!j3(e,i)?new Date(NaN):(h.setUTCFullYear(e,s,Math.max(i,a)),h)}function xc(n){return n?parseInt(n):1}function O3(n){var e=n.match(R3);if(!e)return NaN;var t=Ey(e[1]),r=Ey(e[2]),i=Ey(e[3]);return $3(t,r,i)?t*f_+r*h_+i*1e3:NaN}function Ey(n){return n&&parseFloat(n.replace(",","."))||0}function M3(n){if(n==="Z")return 0;var e=n.match(k3);if(!e)return 0;var t=e[1]==="+"?-1:1,r=parseInt(e[2]),i=e[3]&&parseInt(e[3])||0;return z3(r,i)?t*(r*f_+i*h_):NaN}function L3(n,e,t){var r=new Date(0);r.setUTCFullYear(n,0,4);var i=r.getUTCDay()||7,s=(e-1)*7+t+1-i;return r.setUTCDate(r.getUTCDate()+s),r}var F3=[31,null,31,30,31,30,31,31,30,31,30,31];function Xx(n){return n%400===0||n%4===0&&n%100!==0}function U3(n,e,t){return e>=0&&e<=11&&t>=1&&t<=(F3[e]||(Xx(n)?29:28))}function j3(n,e){return e>=1&&e<=(Xx(n)?366:365)}function B3(n,e,t){return e>=1&&e<=53&&t>=0&&t<=6}function $3(n,e,t){return n===24?e===0&&t===0:t>=0&&t<60&&e>=0&&e<60&&n>=0&&n<25}function z3(n,e){return e>=0&&e<=59}const Ip=(n,e)=>{if(!n||!e)return 0;const t=Nn(Ue(n)),r=Nn(Ue(e));return O4(t,r)+1},Rc=n=>{if(n==null||n==="")return null;const e=parseFloat(String(n).replace(",","."));return isNaN(e)?null:e},Iy=(n,e)=>!n||!Array.isArray(n)||!e?[]:[...n].sort((r,i)=>{const s=r.timestamp?Ue(r.timestamp):r.iso_date?Ue(r.iso_date):0,a=i.timestamp?Ue(i.timestamp):i.iso_date?Ue(i.iso_date):0;return k4(s,a)}).map(r=>{const i=Rc(r.temperature_raw),s=Rc(r.temperature_corrected),a=d=>{if(!d)return null;const h=Rc(d.temperature),m=Rc(d.temperature_corrected);return d.use_corrected&&m!==null?m:h!==null?h:m!==null?m:null};let u=Rc(r.temperature_chart);if(u==null&&Array.isArray(r.measurements)){const h=r.measurements.find(m=>m&&m.selected&&a(m)!==null)||r.measurements.find(m=>a(m)!==null);h&&(u=a(h))}return u==null&&(r.use_corrected&&s!==null?u=s:i!==null?u=i:s!==null&&(u=s)),{...r,id:r.id,isoDate:r.iso_date||(r.timestamp?Yt(Ue(r.timestamp),"yyyy-MM-dd"):null),date:r.timestamp?Yt(Ue(r.timestamp),"dd/MM"):r.iso_date?Yt(Ue(r.iso_date),"dd/MM"):"N/A",cycleDay:Ip(r.iso_date||r.timestamp,e),temperature_raw:i,temperature_corrected:s,use_corrected:!!r.use_corrected,mucusSensation:r.mucus_sensation,mucusAppearance:r.mucus_appearance,fertility_symbol:r.fertility_symbol,observations:r.observations,ignored:r.ignored,measurements:r.measurements||[],temperature_chart:u,timestamp:r.timestamp,peak_marker:r.peak_marker||null,had_relations:!!(r.had_relations??r.hadRelations??!1),hadRelations:!!(r.had_relations??r.hadRelations??!1)}}),W3=async n=>{const e=St(je,`users/${n}/cycles`),t=await tn(e);if(t.empty)return null;const r=t.docs.map(d=>({id:d.id,...d.data()})).filter(d=>d.end_date===null||d.end_date===void 0).sort((d,h)=>(h.start_date||"").localeCompare(d.start_date||""));if(r.length>1&&console.warn(`Se detectaron ${r.length} ciclos abiertos. Se usar el ms reciente.`),r.length===0)return null;const i=r[0],s=St(je,`users/${n}/cycles/${i.id}/entries`),a=await tn(s),u=await Promise.all(a.docs.map(async d=>{let h=[];try{const m=St(je,`users/${n}/cycles/${i.id}/entries/${d.id}/measurements`);h=(await tn(m)).docs.map(v=>({id:v.id,...v.data()}))}catch(m){console.error("Error fetching measurements for entry",d.id,m)}return{id:d.id,...d.data(),measurements:h}}));return{id:i.id,startDate:i.start_date,endDate:i.end_date,ignoredForAutoCalculations:!!i.ignored_auto_calculations,data:u}},H3=async(n,e)=>{const t=St(je,`users/${n}/cycles`),i=(await tn(t)).docs.map(a=>({id:a.id,...a.data()})).filter(a=>a.end_date!==null&&a.end_date!==void 0||e&&a.start_date&&a.start_date<e).sort((a,u)=>(u.start_date||"").localeCompare(a.start_date||""));return await Promise.all(i.map(async a=>{const u=St(je,`users/${n}/cycles/${a.id}/entries`),d=await tn(u),h=await Promise.all(d.docs.map(async m=>{let g=[];try{const v=St(je,`users/${n}/cycles/${a.id}/entries/${m.id}/measurements`);g=(await tn(v)).docs.map(R=>({id:R.id,...R.data()}))}catch(v){console.error("Error fetching measurements for entry",m.id,v)}return{id:m.id,...m.data(),measurements:g}}));return{id:a.id,startDate:a.start_date,endDate:a.end_date,needsCompletion:!a.end_date,ignoredForAutoCalculations:!!a.ignored_auto_calculations,data:h}}))},q3=async(n,e)=>{const t=gn(je,`users/${n}/cycles/${e}`),r=await fm(t);if(!r.exists())return null;const i=r.data(),s=St(je,`users/${n}/cycles/${e}/entries`),a=await tn(s),u=await Promise.all(a.docs.map(async d=>{let h=[];try{const m=St(je,`users/${n}/cycles/${e}/entries/${d.id}/measurements`);h=(await tn(m)).docs.map(v=>({id:v.id,...v.data()}))}catch(m){console.error("Error fetching measurements for entry",d.id,m)}return{id:d.id,...d.data(),measurements:h}}));return{id:e,startDate:i.start_date,endDate:i.end_date,ignoredForAutoCalculations:!!i.ignored_auto_calculations,data:u}},CS=async(n,e)=>{const t=St(je,`users/${n}/cycles`),r=await tn(t),i=Ue(e),s=r.docs.find(u=>{const d=u.data(),h=d.start_date?Ue(d.start_date):null,m=d.end_date?Ue(d.end_date):null;if(!h||!i)return!1;const g=m??new Date("9999-12-31");return i>=h&&i<=g});if(s){const u={id:s.id,startDate:s.data().start_date,endDate:s.data().end_date},d=new Error("Cycle dates overlap with an existing cycle");throw d.code="cycle-overlap",d.conflictCycle=u,d}return{id:(await Fl(St(je,`users/${n}/cycles`),{user_id:n,start_date:e,ignored_auto_calculations:!1,end_date:null})).id,start_date:e}},G3=async n=>{const e=n.user_id,t=n.timestamp??new Date().toISOString(),r=n.measurements?.find(m=>m.selected),i={timestamp:t,temperature_raw:r?.temperature??null,temperature_corrected:r?.temperature_corrected??null,use_corrected:!1,temperature_chart:r?r.temperature_corrected??r.temperature:null,mucus_sensation:n.mucus_sensation,mucus_appearance:n.mucus_appearance,fertility_symbol:n.fertility_symbol,observations:n.observations,had_relations:!!(n.had_relations??n.hadRelations??!1),ignored:n.ignored,peak_marker:n.peak_marker??null},s=St(je,`users/${e}/cycles`),a=await tn(s),u=Ue(t),d=a.docs.filter(m=>{const g=m.data(),v=g.start_date?Ue(g.start_date):null,E=g.end_date?Ue(g.end_date):null;return v&&u>=v&&(!E||u<=E)});let h=null;if(d.length>1?h=d.sort((m,g)=>{const v=Ue(m.data().start_date);return Ue(g.data().start_date)-v})[0]:d.length===1&&(h=d[0]),h){const m=await Fl(St(je,`users/${e}/cycles/${h.id}/entries`),i);if(n.measurements&&n.measurements.length){const g=St(je,`users/${e}/cycles/${h.id}/entries/${m.id}/measurements`);for(const v of n.measurements)await Fl(g,v)}return{id:m.id}}if(n.cycle_id){const m=await Fl(St(je,`users/${e}/cycles/${n.cycle_id}/entries`),i);if(n.measurements&&n.measurements.length){const g=St(je,`users/${e}/cycles/${n.cycle_id}/entries/${m.id}/measurements`);for(const v of n.measurements)await Fl(g,v)}return{id:m.id}}return{id:null}},Sy=async(n,e,t,r)=>{const i=gn(je,`users/${n}/cycles/${e}/entries/${t}`),s=["temperature_raw","temperature_corrected","use_corrected","temperature_chart","mucus_sensation","mucus_appearance","fertility_symbol","observations","had_relations","ignored","peak_marker"],a={};for(const u of s)Object.prototype.hasOwnProperty.call(r,u)&&(a[u]=r[u]);if(Object.prototype.hasOwnProperty.call(r,"timestamp")&&(a.timestamp=r.timestamp),Object.keys(a).length===0)return{id:t};if(await uo(i,a),r.measurements){const u=St(je,`users/${n}/cycles/${e}/entries/${t}/measurements`),d=await tn(u);await Promise.all(d.docs.map(h=>co(h.ref)));for(const h of r.measurements)await Fl(u,h)}return{id:t}},AS=async(n,e,t)=>{await co(gn(je,`users/${n}/cycles/${e}/entries/${t}`))},K3=async(n,e,t)=>{const r=gn(je,`users/${e}/cycles/${n}`);if(!(await fm(r)).exists())throw new Error("Cycle not found");await uo(r,{end_date:t})},kc=async(n,e,t,r,i=!1)=>{const s=gn(je,`users/${e}/cycles/${n}`),a=await fm(s);if(!a.exists())throw new Error("Cycle not found");const u=a.data(),d=t??u.start_date,h=r!==void 0?r:u.end_date,m=d?Ue(d):null,g=h?Ue(h):null;if(m&&g&&g<m)throw new Error("End date cannot be earlier than start date");const v=St(je,`users/${e}/cycles`),R=(await tn(v)).docs.find(j=>{if(j.id===n)return!1;const O=j.data(),F=O.start_date?Ue(O.start_date):null,z=O.end_date?Ue(O.end_date):null;if(!F)return!1;const te=z??new Date("9999-12-31"),Y=g??new Date("9999-12-31");return m<=te&&F<=Y}),k=R?{id:R.id,startDate:R.data().start_date,endDate:R.data().end_date}:null;if(i)return{overlap:k};if(R){const j=new Error("Cycle dates overlap with an existing cycle");throw j.code="cycle-overlap",j.conflictCycle=k,j}const A={};t!==void 0&&(A.start_date=t),r!==void 0&&(A.end_date=r),await uo(s,A)},Q3=async(n,e,t)=>{const r=gn(je,`users/${n}/cycles/${e}`);await uo(r,{ignored_auto_calculations:t})},Y3=async(n,e,t,r)=>{if(!t)return;const i=St(je,`users/${n}/cycles`),s=await tn(i),a=s.docs.find(Y=>Y.id===e);if(!a)return;const u=a.data(),d=r||u.start_date||null,h=d?Ue(d):null,m=s.docs.filter(Y=>Y.id!==e).map(Y=>({id:Y.id,data:Y.data()})).filter(({data:Y})=>Y.start_date).sort((Y,C)=>Ue(Y.data.start_date).getTime()-Ue(C.data.start_date).getTime()),g=h??Ue(t),v=m.find(({data:Y})=>{try{return Ue(Y.start_date)>g}catch(C){return console.error("Error parsing next cycle start date",C),!1}});if(!v)return;const E=Ue(v.data.start_date),R=v.data.end_date?Ue(v.data.end_date):null,k=Ue(t);let A=d_(k,1);E&&A<E&&(A=E),R&&A>R&&(A=R);const j=Yt(A,"yyyy-MM-dd"),O=St(je,`users/${n}/cycles/${v.id}/entries`),F=await tn(O),z=d||u.start_date;await Promise.all(F.docs.map(async Y=>{const C=Y.data(),S=C.timestamp?Ue(C.timestamp):C.iso_date?Ue(C.iso_date):null;if(!S)return;const D=Yt(S,"yyyy-MM-dd");if(S<A){const L={...C,cycle_day:Ip(D,z)},M=gn(je,`users/${n}/cycles/${e}/entries/${Y.id}`);await wd(M,L);const U=St(je,`users/${n}/cycles/${v.id}/entries/${Y.id}/measurements`),P=await tn(U);await Promise.all(P.docs.map(async X=>{const se=gn(je,`users/${n}/cycles/${e}/entries/${Y.id}/measurements/${X.id}`);await wd(se,X.data()),await co(X.ref)})),await co(Y.ref)}else await uo(Y.ref,{cycle_day:Ip(D,j)})}));const te=gn(je,`users/${n}/cycles/${v.id}`);await uo(te,{start_date:j})},X3=async(n,e,t)=>{const r=St(je,`users/${n}/cycles`),i=await tn(r),s=Ue(t),a=i.docs.find(d=>{if(d.id===e)return!1;const h=d.data(),m=h.start_date?Ue(h.start_date):null,g=h.end_date?Ue(h.end_date):null;return!m||!g?!1:m<=s&&g>=s});if(a){const d=gn(je,`users/${n}/cycles/${a.id}`),h=Yt(d_(s,-1),"yyyy-MM-dd");await uo(d,{end_date:h});const m=St(je,`users/${n}/cycles/${a.id}/entries`),g=await tn(m);await Promise.all(g.docs.map(async v=>{const E=v.data(),R=E.timestamp?Ue(E.timestamp):null;if(R&&R>=s){const k={...E,cycle_day:Ip(Yt(R,"yyyy-MM-dd"),t)},A=gn(je,`users/${n}/cycles/${e}/entries/${v.id}`);await wd(A,k);const j=St(je,`users/${n}/cycles/${a.id}/entries/${v.id}/measurements`),O=await tn(j);await Promise.all(O.docs.map(async F=>{const z=gn(je,`users/${n}/cycles/${e}/entries/${v.id}/measurements/${F.id}`);await wd(z,F.data()),await co(F.ref)})),await co(v.ref)}}))}const u=gn(je,`users/${n}/cycles/${e}`);await uo(u,{start_date:t})},bS=async(n,e)=>{const t=St(je,`users/${n}/cycles/${e}/entries`),r=await tn(t);await Promise.all(r.docs.map(i=>co(i.ref))),await co(gn(je,`users/${n}/cycles/${e}`))},J3="RNFApp",Z3=1,Sp="cycleData",y_="cycle-data:",v_=()=>typeof indexedDB<"u",w_=()=>typeof localStorage<"u",eB=n=>typeof structuredClone=="function"?structuredClone(n):JSON.parse(JSON.stringify(n)),tB=()=>new Promise((n,e)=>{const t=indexedDB.open(J3,Z3);t.onupgradeneeded=()=>{const r=t.result;r.objectStoreNames.contains(Sp)||r.createObjectStore(Sp)},t.onsuccess=()=>{n(t.result)},t.onerror=()=>{e(t.error)}}),__=async(n,e)=>{const t=await tB();return new Promise((r,i)=>{const s=t.transaction(Sp,n),a=s.objectStore(Sp),u=e(a);s.oncomplete=()=>{t.close(),r(u?.result)},s.onerror=()=>{t.close(),i(s.error??u?.error)}})},xS=async n=>{if(!n)return null;if(v_())try{return await __("readonly",t=>t.get(n))??null}catch(e){console.error("Failed to retrieve cached cycle data.",e)}if(w_())try{const e=localStorage.getItem(`${y_}${n}`);return e?JSON.parse(e):null}catch(e){console.error("Failed to read cached cycle data from localStorage.",e)}return null},nB=async(n,e)=>{if(!n)return;const t=eB(e);if(v_())try{await __("readwrite",r=>r.put(t,n));return}catch(r){console.error("Failed to persist cycle data cache.",r)}if(w_())try{localStorage.setItem(`${y_}${n}`,JSON.stringify(t))}catch(r){console.error("Failed to persist cycle data cache in localStorage.",r)}},rB=async n=>{if(n){if(v_())try{await __("readwrite",e=>e.delete(n))}catch(e){console.error("Failed to clear cached cycle data.",e)}if(w_())try{localStorage.removeItem(`${y_}${n}`)}catch(e){console.error("Failed to clear cached cycle data from localStorage.",e)}}};const iB="type.googleapis.com/google.protobuf.Int64Value",sB="type.googleapis.com/google.protobuf.UInt64Value";function Jx(n,e){const t={};for(const r in n)n.hasOwnProperty(r)&&(t[r]=e(n[r]));return t}function Pp(n){if(n==null)return null;if(n instanceof Number&&(n=n.valueOf()),typeof n=="number"&&isFinite(n)||n===!0||n===!1||Object.prototype.toString.call(n)==="[object String]")return n;if(n instanceof Date)return n.toISOString();if(Array.isArray(n))return n.map(e=>Pp(e));if(typeof n=="function"||typeof n=="object")return Jx(n,e=>Pp(e));throw new Error("Data cannot be encoded in JSON: "+n)}function mu(n){if(n==null)return n;if(n["@type"])switch(n["@type"]){case iB:case sB:{const e=Number(n.value);if(isNaN(e))throw new Error("Data cannot be decoded from JSON: "+n);return e}default:throw new Error("Data cannot be decoded from JSON: "+n)}return Array.isArray(n)?n.map(e=>mu(e)):typeof n=="function"||typeof n=="object"?Jx(n,e=>mu(e)):n}const T_="functions";const RS={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Wn extends yi{constructor(e,t,r){super(`${T_}/${e}`,t||""),this.details=r,Object.setPrototypeOf(this,Wn.prototype)}}function oB(n){if(n>=200&&n<300)return"ok";switch(n){case 0:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 500:return"internal";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}function Cp(n,e){let t=oB(n),r=t,i;try{const s=e&&e.error;if(s){const a=s.status;if(typeof a=="string"){if(!RS[a])return new Wn("internal","internal");t=RS[a],r=a}const u=s.message;typeof u=="string"&&(r=u),i=s.details,i!==void 0&&(i=mu(i))}}catch{}return t==="ok"?null:new Wn(t,r,i)}class aB{constructor(e,t,r,i){this.app=e,this.auth=null,this.messaging=null,this.appCheck=null,this.serverAppAppCheckToken=null,Bn(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.auth=t.getImmediate({optional:!0}),this.messaging=r.getImmediate({optional:!0}),this.auth||t.get().then(s=>this.auth=s,()=>{}),this.messaging||r.get().then(s=>this.messaging=s,()=>{}),this.appCheck||i?.get().then(s=>this.appCheck=s,()=>{})}async getAuthToken(){if(this.auth)try{return(await this.auth.getToken())?.accessToken}catch{return}}async getMessagingToken(){if(!(!this.messaging||!("Notification"in self)||Notification.permission!=="granted"))try{return await this.messaging.getToken()}catch{return}}async getAppCheckToken(e){if(this.serverAppAppCheckToken)return this.serverAppAppCheckToken;if(this.appCheck){const t=e?await this.appCheck.getLimitedUseToken():await this.appCheck.getToken();return t.error?null:t.token}return null}async getContext(e){const t=await this.getAuthToken(),r=await this.getMessagingToken(),i=await this.getAppCheckToken(e);return{authToken:t,messagingToken:r,appCheckToken:i}}}const Rv="us-central1",lB=/^data: (.*?)(?:\n|$)/;function uB(n){let e=null;return{promise:new Promise((t,r)=>{e=setTimeout(()=>{r(new Wn("deadline-exceeded","deadline-exceeded"))},n)}),cancel:()=>{e&&clearTimeout(e)}}}class cB{constructor(e,t,r,i,s=Rv,a=(...u)=>fetch(...u)){this.app=e,this.fetchImpl=a,this.emulatorOrigin=null,this.contextProvider=new aB(e,t,r,i),this.cancelAllRequests=new Promise(u=>{this.deleteService=()=>Promise.resolve(u())});try{const u=new URL(s);this.customDomain=u.origin+(u.pathname==="/"?"":u.pathname),this.region=Rv}catch{this.customDomain=null,this.region=s}}_delete(){return this.deleteService()}_url(e){const t=this.app.options.projectId;return this.emulatorOrigin!==null?`${this.emulatorOrigin}/${t}/${this.region}/${e}`:this.customDomain!==null?`${this.customDomain}/${e}`:`https://${this.region}-${t}.cloudfunctions.net/${e}`}}function dB(n,e,t){const r=go(e);n.emulatorOrigin=`http${r?"s":""}://${e}:${t}`,r&&(ow(n.emulatorOrigin+"/backends"),aw("Functions",!0))}function hB(n,e,t){const r=i=>pB(n,e,i,{});return r.stream=(i,s)=>gB(n,e,i,s),r}function Zx(n){return n.emulatorOrigin&&go(n.emulatorOrigin)?"include":void 0}async function fB(n,e,t,r,i){t["Content-Type"]="application/json";let s;try{s=await r(n,{method:"POST",body:JSON.stringify(e),headers:t,credentials:Zx(i)})}catch{return{status:0,json:null}}let a=null;try{a=await s.json()}catch{}return{status:s.status,json:a}}async function e1(n,e){const t={},r=await n.contextProvider.getContext(e.limitedUseAppCheckTokens);return r.authToken&&(t.Authorization="Bearer "+r.authToken),r.messagingToken&&(t["Firebase-Instance-ID-Token"]=r.messagingToken),r.appCheckToken!==null&&(t["X-Firebase-AppCheck"]=r.appCheckToken),t}function pB(n,e,t,r){const i=n._url(e);return mB(n,i,t,r)}async function mB(n,e,t,r){t=Pp(t);const i={data:t},s=await e1(n,r),a=r.timeout||7e4,u=uB(a),d=await Promise.race([fB(e,i,s,n.fetchImpl,n),u.promise,n.cancelAllRequests]);if(u.cancel(),!d)throw new Wn("cancelled","Firebase Functions instance was deleted.");const h=Cp(d.status,d.json);if(h)throw h;if(!d.json)throw new Wn("internal","Response is not valid JSON object.");let m=d.json.data;if(typeof m>"u"&&(m=d.json.result),typeof m>"u")throw new Wn("internal","Response is missing data field.");return{data:mu(m)}}function gB(n,e,t,r){const i=n._url(e);return yB(n,i,t,r||{})}async function yB(n,e,t,r){t=Pp(t);const i={data:t},s=await e1(n,r);s["Content-Type"]="application/json",s.Accept="text/event-stream";let a;try{a=await n.fetchImpl(e,{method:"POST",body:JSON.stringify(i),headers:s,signal:r?.signal,credentials:Zx(n)})}catch(v){if(v instanceof Error&&v.name==="AbortError"){const R=new Wn("cancelled","Request was cancelled.");return{data:Promise.reject(R),stream:{[Symbol.asyncIterator](){return{next(){return Promise.reject(R)}}}}}}const E=Cp(0,null);return{data:Promise.reject(E),stream:{[Symbol.asyncIterator](){return{next(){return Promise.reject(E)}}}}}}let u,d;const h=new Promise((v,E)=>{u=v,d=E});r?.signal?.addEventListener("abort",()=>{const v=new Wn("cancelled","Request was cancelled.");d(v)});const m=a.body.getReader(),g=vB(m,u,d,r?.signal);return{stream:{[Symbol.asyncIterator](){const v=g.getReader();return{async next(){const{value:E,done:R}=await v.read();return{value:E,done:R}},async return(){return await v.cancel(),{done:!0,value:void 0}}}}},data:h}}function vB(n,e,t,r){const i=(a,u)=>{const d=a.match(lB);if(!d)return;const h=d[1];try{const m=JSON.parse(h);if("result"in m){e(mu(m.result));return}if("message"in m){u.enqueue(mu(m.message));return}if("error"in m){const g=Cp(0,m);u.error(g),t(g);return}}catch(m){if(m instanceof Wn){u.error(m),t(m);return}}},s=new TextDecoder;return new ReadableStream({start(a){let u="";return d();async function d(){if(r?.aborted){const h=new Wn("cancelled","Request was cancelled");return a.error(h),t(h),Promise.resolve()}try{const{value:h,done:m}=await n.read();if(m){u.trim()&&i(u.trim(),a),a.close();return}if(r?.aborted){const v=new Wn("cancelled","Request was cancelled");a.error(v),t(v),await n.cancel();return}u+=s.decode(h,{stream:!0});const g=u.split(`
`);u=g.pop()||"";for(const v of g)v.trim()&&i(v.trim(),a);return d()}catch(h){const m=h instanceof Wn?h:Cp(0,null);a.error(m),t(m)}}},cancel(){return n.cancel()}})}const kS="@firebase/functions",DS="0.13.1";const wB="auth-internal",_B="app-check-internal",TB="messaging-internal";function EB(n){const e=(t,{instanceIdentifier:r})=>{const i=t.getProvider("app").getImmediate(),s=t.getProvider(wB),a=t.getProvider(TB),u=t.getProvider(_B);return new cB(i,s,a,u,r)};va(new ro(T_,e,"PUBLIC").setMultipleInstances(!0)),li(kS,DS,n),li(kS,DS,"esm2020")}function IB(n=cw(),e=Rv){const r=jp(pt(n),T_).getImmediate({identifier:e}),i=hC("functions");return i&&SB(r,...i),r}function SB(n,e,t){dB(pt(n),e,t)}function PB(n,e,t){return hB(pt(n),e)}EB();const CB=n=>{const e=new Map;e.set("web",{name:"web"});const t=n.CapacitorPlatforms||{currentPlatform:{name:"web"},platforms:e},r=(s,a)=>{t.platforms.set(s,a)},i=s=>{t.platforms.has(s)&&(t.currentPlatform=t.platforms.get(s))};return t.addPlatform=r,t.setPlatform=i,t},AB=n=>n.CapacitorPlatforms=CB(n),t1=AB(typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});t1.addPlatform;t1.setPlatform;var gu;(function(n){n.Unimplemented="UNIMPLEMENTED",n.Unavailable="UNAVAILABLE"})(gu||(gu={}));class Py extends Error{constructor(e,t,r){super(e),this.message=e,this.code=t,this.data=r}}const bB=n=>{var e,t;return n?.androidBridge?"android":!((t=(e=n?.webkit)===null||e===void 0?void 0:e.messageHandlers)===null||t===void 0)&&t.bridge?"ios":"web"},xB=n=>{var e,t,r,i,s;const a=n.CapacitorCustomPlatform||null,u=n.Capacitor||{},d=u.Plugins=u.Plugins||{},h=n.CapacitorPlatforms,m=()=>a!==null?a.name:bB(n),g=((e=h?.currentPlatform)===null||e===void 0?void 0:e.getPlatform)||m,v=()=>g()!=="web",E=((t=h?.currentPlatform)===null||t===void 0?void 0:t.isNativePlatform)||v,R=C=>{const S=z.get(C);return!!(S?.platforms.has(g())||j(C))},k=((r=h?.currentPlatform)===null||r===void 0?void 0:r.isPluginAvailable)||R,A=C=>{var S;return(S=u.PluginHeaders)===null||S===void 0?void 0:S.find(D=>D.name===C)},j=((i=h?.currentPlatform)===null||i===void 0?void 0:i.getPluginHeader)||A,O=C=>n.console.error(C),F=(C,S,D)=>Promise.reject(`${D} does not have an implementation of "${S}".`),z=new Map,te=(C,S={})=>{const D=z.get(C);if(D)return console.warn(`Capacitor plugin "${C}" already registered. Cannot register plugins twice.`),D.proxy;const L=g(),M=j(C);let U;const P=async()=>(!U&&L in S?U=typeof S[L]=="function"?U=await S[L]():U=S[L]:a!==null&&!U&&"web"in S&&(U=typeof S.web=="function"?U=await S.web():U=S.web),U),X=(ne,N)=>{var Q,he;if(M){const me=M?.methods.find(pe=>N===pe.name);if(me)return me.rtype==="promise"?pe=>u.nativePromise(C,N.toString(),pe):(pe,Se)=>u.nativeCallback(C,N.toString(),pe,Se);if(ne)return(Q=ne[N])===null||Q===void 0?void 0:Q.bind(ne)}else{if(ne)return(he=ne[N])===null||he===void 0?void 0:he.bind(ne);throw new Py(`"${C}" plugin is not implemented on ${L}`,gu.Unimplemented)}},se=ne=>{let N;const Q=(...he)=>{const me=P().then(pe=>{const Se=X(pe,ne);if(Se){const Me=Se(...he);return N=Me?.remove,Me}else throw new Py(`"${C}.${ne}()" is not implemented on ${L}`,gu.Unimplemented)});return ne==="addListener"&&(me.remove=async()=>N()),me};return Q.toString=()=>`${ne.toString()}() { [capacitor code] }`,Object.defineProperty(Q,"name",{value:ne,writable:!1,configurable:!1}),Q},oe=se("addListener"),ie=se("removeListener"),ee=(ne,N)=>{const Q=oe({eventName:ne},N),he=async()=>{const pe=await Q;ie({eventName:ne,callbackId:pe},N)},me=new Promise(pe=>Q.then(()=>pe({remove:he})));return me.remove=async()=>{console.warn("Using addListener() without 'await' is deprecated."),await he()},me},de=new Proxy({},{get(ne,N){switch(N){case"$$typeof":return;case"toJSON":return()=>({});case"addListener":return M?ee:oe;case"removeListener":return ie;default:return se(N)}}});return d[C]=de,z.set(C,{name:C,proxy:de,platforms:new Set([...Object.keys(S),...M?[L]:[]])}),de},Y=((s=h?.currentPlatform)===null||s===void 0?void 0:s.registerPlugin)||te;return u.convertFileSrc||(u.convertFileSrc=C=>C),u.getPlatform=g,u.handleError=O,u.isNativePlatform=E,u.isPluginAvailable=k,u.pluginMethodNoop=F,u.registerPlugin=Y,u.Exception=Py,u.DEBUG=!!u.DEBUG,u.isLoggingEnabled=!!u.isLoggingEnabled,u.platform=u.getPlatform(),u.isNative=u.isNativePlatform(),u},RB=n=>n.Capacitor=xB(n),ho=RB(typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{}),n1=ho.registerPlugin;ho.Plugins;class r1{constructor(e){this.listeners={},this.windowListeners={},e&&(console.warn(`Capacitor WebPlugin "${e.name}" config object was deprecated in v3 and will be removed in v4.`),this.config=e)}addListener(e,t){this.listeners[e]||(this.listeners[e]=[]),this.listeners[e].push(t);const i=this.windowListeners[e];i&&!i.registered&&this.addWindowListener(i);const s=async()=>this.removeListener(e,t),a=Promise.resolve({remove:s});return Object.defineProperty(a,"remove",{value:async()=>{console.warn("Using addListener() without 'await' is deprecated."),await s()}}),a}async removeAllListeners(){this.listeners={};for(const e in this.windowListeners)this.removeWindowListener(this.windowListeners[e]);this.windowListeners={}}notifyListeners(e,t){const r=this.listeners[e];r&&r.forEach(i=>i(t))}hasListeners(e){return!!this.listeners[e].length}registerWindowListener(e,t){this.windowListeners[t]={registered:!1,windowEventName:e,pluginEventName:t,handler:r=>{this.notifyListeners(t,r)}}}unimplemented(e="not implemented"){return new ho.Exception(e,gu.Unimplemented)}unavailable(e="not available"){return new ho.Exception(e,gu.Unavailable)}async removeListener(e,t){const r=this.listeners[e];if(!r)return;const i=r.indexOf(t);this.listeners[e].splice(i,1),this.listeners[e].length||this.removeWindowListener(this.windowListeners[e])}addWindowListener(e){window.addEventListener(e.windowEventName,e.handler),e.registered=!0}removeWindowListener(e){e&&(window.removeEventListener(e.windowEventName,e.handler),e.registered=!1)}}const NS=n=>encodeURIComponent(n).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape),VS=n=>n.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent);class kB extends r1{async getCookies(){const e=document.cookie,t={};return e.split(";").forEach(r=>{if(r.length<=0)return;let[i,s]=r.replace(/=/,"CAP_COOKIE").split("CAP_COOKIE");i=VS(i).trim(),s=VS(s).trim(),t[i]=s}),t}async setCookie(e){try{const t=NS(e.key),r=NS(e.value),i=`; expires=${(e.expires||"").replace("expires=","")}`,s=(e.path||"/").replace("path=",""),a=e.url!=null&&e.url.length>0?`domain=${e.url}`:"";document.cookie=`${t}=${r||""}${i}; path=${s}; ${a};`}catch(t){return Promise.reject(t)}}async deleteCookie(e){try{document.cookie=`${e.key}=; Max-Age=0`}catch(t){return Promise.reject(t)}}async clearCookies(){try{const e=document.cookie.split(";")||[];for(const t of e)document.cookie=t.replace(/^ +/,"").replace(/=.*/,`=;expires=${new Date().toUTCString()};path=/`)}catch(e){return Promise.reject(e)}}async clearAllCookies(){try{await this.clearCookies()}catch(e){return Promise.reject(e)}}}n1("CapacitorCookies",{web:()=>new kB});const DB=async n=>new Promise((e,t)=>{const r=new FileReader;r.onload=()=>{const i=r.result;e(i.indexOf(",")>=0?i.split(",")[1]:i)},r.onerror=i=>t(i),r.readAsDataURL(n)}),NB=(n={})=>{const e=Object.keys(n);return Object.keys(n).map(i=>i.toLocaleLowerCase()).reduce((i,s,a)=>(i[s]=n[e[a]],i),{})},VB=(n,e=!0)=>n?Object.entries(n).reduce((r,i)=>{const[s,a]=i;let u,d;return Array.isArray(a)?(d="",a.forEach(h=>{u=e?encodeURIComponent(h):h,d+=`${s}=${u}&`}),d.slice(0,-1)):(u=e?encodeURIComponent(a):a,d=`${s}=${u}`),`${r}&${d}`},"").substr(1):null,OB=(n,e={})=>{const t=Object.assign({method:n.method||"GET",headers:n.headers},e),i=NB(n.headers)["content-type"]||"";if(typeof n.data=="string")t.body=n.data;else if(i.includes("application/x-www-form-urlencoded")){const s=new URLSearchParams;for(const[a,u]of Object.entries(n.data||{}))s.set(a,u);t.body=s.toString()}else if(i.includes("multipart/form-data")||n.data instanceof FormData){const s=new FormData;if(n.data instanceof FormData)n.data.forEach((u,d)=>{s.append(d,u)});else for(const u of Object.keys(n.data))s.append(u,n.data[u]);t.body=s;const a=new Headers(t.headers);a.delete("content-type"),t.headers=a}else(i.includes("application/json")||typeof n.data=="object")&&(t.body=JSON.stringify(n.data));return t};class MB extends r1{async request(e){const t=OB(e,e.webFetchExtra),r=VB(e.params,e.shouldEncodeUrlParams),i=r?`${e.url}?${r}`:e.url,s=await fetch(i,t),a=s.headers.get("content-type")||"";let{responseType:u="text"}=s.ok?e:{};a.includes("application/json")&&(u="json");let d,h;switch(u){case"arraybuffer":case"blob":h=await s.blob(),d=await DB(h);break;case"json":d=await s.json();break;default:d=await s.text()}const m={};return s.headers.forEach((g,v)=>{m[v]=g}),{data:d,headers:m,status:s.status,url:s.url}}async get(e){return this.request(Object.assign(Object.assign({},e),{method:"GET"}))}async post(e){return this.request(Object.assign(Object.assign({},e),{method:"POST"}))}async put(e){return this.request(Object.assign(Object.assign({},e),{method:"PUT"}))}async patch(e){return this.request(Object.assign(Object.assign({},e),{method:"PATCH"}))}async delete(e){return this.request(Object.assign(Object.assign({},e),{method:"DELETE"}))}}n1("CapacitorHttp",{web:()=>new MB});const LB=n=>{if(!n)return null;const e=n.unit,t=Number(n.value);return Number.isFinite(t)?e==="fahrenheit"?(t-32)/1.8:t:null},jf=["BasalBodyTemperature"],FB=["BasalBodyTemperature","READ_BASAL_BODY_TEMPERATURE","android.permission.health.READ_BASAL_BODY_TEMPERATURE"],OS=n=>String(n||"").toLowerCase().replace(/^android\.permission\.health\./,"").replace(/^read_/,"").replace(/[^a-z0-9]/g,""),UB=n=>{try{const e=new WeakSet;return JSON.stringify(n,(t,r)=>{if(typeof r=="object"&&r!==null){if(e.has(r))return"[Circular]";e.add(r)}return r},2)}catch{try{return String(n)}catch{return"[Unstringifiable]"}}},jB=(n,e)=>{const t=e&&typeof e=="object"?Object.keys(e):[];console.warn(`${n} keys=${t.join(",")}
${UB(e)}`)},E_=n=>typeof n=="string"?n:n?.availability??n?.value??n?.status,kv=n=>{if(n?.allPermissionsGranted===!0)return!0;const e=n?.permissionResults,t=n?.permissions?.read??n?.readPermissions??e?.read??(Array.isArray(e)?e:null)??n?.read,r=FB.map(OS),i=a=>r.includes(OS(a));if(n===!0||n?.hasAllPermissions===!0)return!0;const s=n?.grantedPermissions??n?.permissionsGranted;return Array.isArray(s)&&s.every(a=>typeof a=="string")?s.some(i):Array.isArray(t)&&t.every(a=>typeof a=="string")?t.some(i):Array.isArray(t)&&t.every(a=>typeof a=="boolean")?t.every(Boolean):Array.isArray(t)&&t.every(a=>a&&typeof a=="object")?t.some(a=>{const u=a.permission??a.name??a.type??a.recordType??a.value,d=a.granted??a.allowed??a.isGranted??a.status;return i(u)&&!!d}):t&&typeof t=="object"?Object.entries(t).some(([a,u])=>{const d=typeof u=="boolean"?u:!!(u?.granted??u?.allowed??u?.value??u?.status);return i(a)&&d}):(jB("[HealthConnect] Unexpected permission response shape",n),!1)};async function BB(){if(!ho.isNativePlatform())return{isAvailable:!1,hasPermissions:!1,availability:"NotNative"};const{HealthConnect:n}=await gi(async()=>{const{HealthConnect:i}=await import("./index-Cqr7uwFi.js");return{HealthConnect:i}},[]),e=await n.checkAvailability(),t=E_(e);if(t!=="Available")return{isAvailable:!1,hasPermissions:!1,availability:t};const r=await n.checkHealthPermissions({read:jf,write:[]});return{isAvailable:!0,hasPermissions:kv(r),availability:t}}async function $B(){const{HealthConnect:n}=await gi(async()=>{const{HealthConnect:s}=await import("./index-Cqr7uwFi.js");return{HealthConnect:s}},[]),e=await n.checkAvailability(),t=E_(e);if(t!=="Available")throw new Error(`HEALTH_CONNECT_${t||"Unknown"}`);const r=await n.checkHealthPermissions({read:jf,write:[]});if(kv(r))return!0;await n.requestHealthPermissions({read:jf,write:[]});const i=await n.checkHealthPermissions({read:jf,write:[]});return kv(i)}async function zB({startDate:n}){if(!ho.isNativePlatform())throw new Error("HEALTH_CONNECT_ONLY_IN_APP");const{HealthConnect:e}=await gi(async()=>{const{HealthConnect:m}=await import("./index-Cqr7uwFi.js");return{HealthConnect:m}},[]),t=await e.checkAvailability(),r=E_(t);if(r!=="Available")throw new Error(`HEALTH_CONNECT_${r||"Unknown"}`);if(!await $B())throw new Error("HEALTH_CONNECT_PERMISSION_DENIED");const s=Ue(n);if(!n||Number.isNaN(s?.getTime?.()))throw new Error("HEALTH_CONNECT_INVALID_START_DATE");const a=Nn(s),u=new Date;return((await e.readRecords({type:"BasalBodyTemperature",timeRangeFilter:{type:"between",startTime:a,endTime:u},ascendingOrder:!0,pageSize:500}))?.records||[]).map(m=>{const g=LB(m.temperature);if(g==null)return null;const v=new Date(m.time);return{externalId:m?.metadata?.id||null,dataOrigin:m?.metadata?.dataOrigin||null,timestampMs:v.getTime(),timestamp:Yt(v,"yyyy-MM-dd'T'HH:mm:ssXXX"),localDate:Yt(v,"yyyy-MM-dd"),time:Yt(v,"HH:mm"),temperatureC:Number(g.toFixed(2))}}).filter(Boolean)}const i1=x.createContext(null),Xo={id:null,startDate:null,endDate:null,data:[],ignoredForAutoCalculations:!1},Cy=(n,e)=>{if(!e)return n;const t=Nn(Ue(e));return n.filter(r=>Ue(r.isoDate)<=t)},Ay=(n,e)=>{if(!e)return n;const t=Nn(Ue(e));return n.filter(r=>Ue(r.isoDate)>=t)},mf=n=>{if(n==null||n==="")return null;const e=parseFloat(String(n).replace(",","."));return isNaN(e)?null:e},Rl=n=>n?typeof n=="string"?Yt(Nn(Ue(n)),"yyyy-MM-dd"):typeof n.toDate=="function"?Yt(Nn(n.toDate()),"yyyy-MM-dd"):Yt(Nn(new Date(n)),"yyyy-MM-dd"):null,WB=({children:n})=>{const{user:e}=vm(),{toast:t}=c_(),[r,i]=x.useState(Xo),[s,a]=x.useState([]),[u,d]=x.useState(!0),h=x.useRef(!1),m=x.useRef(null),g=x.useCallback(()=>{i(Xo),a([]),d(!1),h.current=!1},[]),v=x.useCallback(async({silent:P=!1}={})=>{if(!e?.uid){const ie=m.current;m.current=null,ie&&rB(ie).catch(ee=>console.error("Failed to clear cached cycle data on sign-out.",ee)),g();return}m.current=e.uid;let X=!1;if(!h.current)try{const ie=await xS(e.uid);ie&&(i(ie.currentCycle??Xo),a(ie.archivedCycles??[]),h.current=!0,X=!0,P||d(!1))}catch(ie){console.error("Failed to hydrate cycle data from cache.",ie)}const se=!P&&!X&&!h.current;if(se&&d(!0),typeof navigator<"u"&&navigator.onLine===!1&&(X||h.current)){P||d(!1);return}try{const ie=await W3(e.uid);let ee=Xo;if(ie){const N=Rl(ie.startDate),Q=Rl(ie.endDate),he=Iy(ie.data,N),me=Ay(he,N),pe=Cy(me,Q);ee={...ie,startDate:N,endDate:Q,data:pe}}const ne=(await H3(e.uid,ie?ie.startDate:null)).map(N=>{const Q=Rl(N.startDate),he=Rl(N.endDate),me=Iy(N.data||[],Q),pe=Ay(me,Q),Se=Cy(pe,he);return{...N,startDate:Q??Yt(Nn(new Date),"yyyy-MM-dd"),endDate:he,needsCompletion:N.needsCompletion,data:Se}});i(ee),a(ne),await nB(e.uid,{currentCycle:ee,archivedCycles:ne}),h.current=!0}catch(ie){if(console.error("Error in loadCycleData:",ie),ie.code==="permission-denied"&&console.error("Firebase permissions error. Check Firestore rules."),!X)try{const ee=await xS(e.uid);ee?(i(ee.currentCycle??Xo),a(ee.archivedCycles??[]),h.current=!0):(i(Xo),a([]),h.current=!1)}catch(ee){console.error("Failed to recover cycle data from cache after error.",ee),i(Xo),a([]),h.current=!1}}finally{se&&d(!1)}},[e,g]);x.useEffect(()=>{if(!e?.uid){g();return}v().catch(P=>console.error("Initial cycle data load failed:",P))},[e?.uid,v,g]);const E=x.useCallback(async(P,X,se=null)=>{const oe=se??r.id;if(!e?.uid||!oe)throw console.error("User or cycle id is missing"),new Error("User or cycle id is missing");d(!0);try{const ie=P.measurements.find($e=>$e.selected)||P.measurements[0],ee=ie&&ie.time&&ie.time.trim()!==""?ie.time:Yt(new Date,"HH:mm"),de=A3(`${P.isoDate} ${ee}`,"yyyy-MM-dd HH:mm",new Date),ne=oe===r.id?r:s.find($e=>$e.id===oe);let N=X;!N&&ne&&(N=ne.data.find($e=>$e.isoDate===P.isoDate)),N&&String(N.id).startsWith("placeholder-")&&(N=null);const Q=ne?.data?.find($e=>$e?.peak_marker==="peak")||null;P.peak_marker==="peak"&&Q&&Q.id!==N?.id&&await Sy(e.uid,oe,Q.id,{peak_marker:null});const he=mf(ie.temperature),me=mf(ie.temperature_corrected),pe=!!ie.use_corrected&&me!==null,Se=pe?me:he,Me=Object.prototype.hasOwnProperty.call(P,"peak_marker"),He=(Array.isArray(P.measurements)?P.measurements:[]).some($e=>{if(!$e)return!1;const Gn=mf($e.temperature),Io=mf($e.temperature_corrected);return Gn!==null||Io!==null}),ct=$e=>$e==null?"":String($e).trim(),Jt=ct(P.mucusSensation??P.mucus_sensation??""),rs=ct(P.mucusAppearance??P.mucus_appearance??""),Mr=ct(P.observations??""),_r=P.fertility_symbol??P.fertilitySymbol??null,La=_r!=null&&_r!==""&&_r!=="none",wi=!!(P.had_relations??P.hadRelations??!1),Lr=P.peak_marker==="peak",is=!He&&Jt===""&&rs===""&&!La&&Mr===""&&!wi&&!Lr,Pt={cycle_id:oe,user_id:e.uid,timestamp:Yt(de,"yyyy-MM-dd'T'HH:mm:ssXXX"),measurements:P.measurements,mucus_sensation:P.mucusSensation||null,mucus_appearance:P.mucusAppearance||null,fertility_symbol:P.fertility_symbol==="none"?null:P.fertility_symbol,observations:P.observations||null,had_relations:wi,ignored:N?P.ignored??N.ignored:P.ignored||!1,peak_marker:Me?P.peak_marker??null:N?.peak_marker??null,temperature_raw:he,temperature_corrected:me,use_corrected:pe,temperature_chart:Se};if(N){const $e=Me&&N?.peak_marker==="peak"&&!Lr;is&&$e?await AS(e.uid,oe,N.id):await Sy(e.uid,oe,N.id,Pt)}else{if(is)return;await G3(Pt)}await v({silent:!0})}catch(ie){throw console.error("Error adding/updating data point:",ie),ie}finally{d(!1)}},[e,r,s,v]),R=x.useCallback(async(P,X=null)=>{const se=X??r.id;if(!(!e?.uid||!se)){d(!0);try{await AS(e.uid,se,P),await v({silent:!0})}catch(oe){throw console.error("Error deleting record:",oe),oe}finally{d(!1)}}},[e,r.id,v]),k=x.useCallback(async(P,X)=>{if(!e?.uid)return;const se=P===r.id,oe=se?r:s.find(ne=>ne.id===P);if(!oe)throw new Error("Cycle not found for toggling ignore state.");const ie=oe.data?.find(ne=>ne.id===X);if(!ie)throw new Error("Record not found for toggling ignore state.");const ee=!ie.ignored,de=ne=>{se?i(N=>N.id!==P?N:{...N,data:N.data.map(Q=>Q.id===X?{...Q,ignored:ne}:Q)}):a(N=>N.map(Q=>Q.id!==P?Q:{...Q,data:(Q.data||[]).map(he=>he.id===X?{...he,ignored:ne}:he)}))};try{de(ee),await Sy(e.uid,P,X,{ignored:ee}),v({silent:!0}).catch(ne=>console.error("Background cycle data refresh failed after toggling ignore state:",ne))}catch(ne){throw console.error("Error toggling ignore state:",ne),de(!ee),ne}},[e,r,s,v]),A=x.useCallback(async(P,X)=>{if(!e?.uid||!P)return;const se=r,oe=s,ie=ee=>!ee||ee.id!==P||ee.ignoredForAutoCalculations===X?ee:{...ee,ignoredForAutoCalculations:X};i(ee=>ie(ee)),a(ee=>ee.map(de=>ie(de)));try{await Q3(e.uid,P,X),v({silent:!0}).catch(ee=>console.error("Background cycle data refresh failed after updating ignore configuration:",ee))}catch(ee){throw console.error("Error updating cycle ignore configuration:",ee),i(se),a(oe),t({title:"Error",description:"No se pudo actualizar la configuracin del ciclo.",variant:"destructive"}),ee}},[e,r,s,v,t]),j=x.useCallback(async P=>{if(e?.uid){d(!0);try{const X=Nn(P?Ue(P):new Date);if(r.id&&P){const ie=Nn(Ue(r.startDate));if(X<=ie){t({title:"Fecha invlida",description:"La fecha de inicio del nuevo ciclo debe ser posterior al inicio del ciclo actual.",variant:"destructive"}),d(!1);return}}if(r.id){const ie=Yt(d_(X,-1),"yyyy-MM-dd");await K3(r.id,e.uid,ie)}const se=Yt(X,"yyyy-MM-dd"),oe=await CS(e.uid,se);i({id:oe.id,startDate:oe.start_date,endDate:null,data:[],ignoredForAutoCalculations:!1}),await v({silent:!0})}catch(X){console.error("Error starting new cycle:",X);try{r.id&&await kc(r.id,e.uid,void 0,null)}catch(se){console.error("Rollback failed:",se)}throw t({title:"Error",description:"No se pudo iniciar el nuevo ciclo.",variant:"destructive"}),X}finally{d(!1)}}},[e,r,v,t]),O=x.useCallback(P=>{if(!P)return"Las fechas coinciden con otro ciclo.";const{startDate:X,endDate:se}=P,oe=de=>{if(!de)return null;try{return Yt(Ue(de),"dd/MM/yyyy")}catch(ne){return console.error("Failed to format overlap date",ne),de}},ie=oe(X)??"sin fecha de inicio",ee=se?oe(se):"en curso";return`Las fechas coinciden con el ciclo del ${ie} al ${ee}.`},[]),F=x.useCallback(async(P,X)=>{if(e?.uid){if(!X){t({title:"Error",description:"La fecha de fin es obligatoria.",variant:"destructive"});return}d(!0);try{const se=await CS(e.uid,P);try{await kc(se.id,e.uid,void 0,X)}catch(oe){try{await bS(e.uid,se.id)}catch(ie){console.error("Failed to clean up cycle after overlap error:",ie)}throw oe}await v({silent:!0})}catch(se){console.error("Error adding archived cycle:",se);const oe=se.code==="cycle-overlap"?O(se.conflictCycle):"No se pudo crear el ciclo.";throw t({title:"Error",description:oe,variant:"destructive"}),se}finally{d(!1)}}},[e,v,t,O]),z=x.useCallback(async P=>{if(e?.uid){d(!0);try{await bS(e.uid,P),await v({silent:!0})}catch(X){throw console.error("Error deleting cycle:",X),t({title:"Error",description:"No se pudo eliminar el ciclo.",variant:"destructive"}),X}finally{d(!1)}}},[e,v,t]),te=x.useCallback(async(P,X,se)=>{if(!e?.uid)return null;try{return(await kc(P,e.uid,X,se,!0)).overlap}catch(oe){return console.error("Error checking cycle overlap:",oe),null}},[e]),Y=x.useCallback(async(P,X,se,oe=!1)=>{if(e?.uid){d(!0);try{oe&&X?(await X3(e.uid,P,X),se!==void 0&&await kc(P,e.uid,void 0,se)):await kc(P,e.uid,X,se),await v({silent:!0})}catch(ie){console.error("Error updating cycle dates:",ie);const ee=ie.code==="cycle-overlap"?O(ie.conflictCycle):"No se pudieron actualizar las fechas.";throw t({title:"Error",description:ee,variant:"destructive"}),ie}finally{d(!1)}}},[e,v,t,O]),C=x.useCallback((P,X)=>Y(P,X,void 0,!0),[Y]),S=x.useCallback(async(P,X,se)=>{!e?.uid||!P||!X||await Y3(e.uid,P,X,se)},[e]),D=x.useCallback(async P=>{if(!e?.uid)return null;d(!0);try{const X=await q3(e.uid,P);if(!X)return null;const se=Rl(X.startDate),oe=Rl(X.endDate),ie=Iy(X.data||[],se),ee=Ay(ie,se),de=Cy(ee,oe);return{...X,startDate:se??Yt(Nn(new Date),"yyyy-MM-dd"),endDate:oe,data:de}}catch(X){return console.error("Error fetching cycle by ID:",X),null}finally{d(!1)}},[e]),L=x.useCallback(({silent:P=!0}={})=>v({silent:P}),[v]),M=x.useCallback(async()=>{if(!e?.uid)throw new Error("NO_USER");if(!r?.id||!r?.startDate)throw new Error("NO_CURRENT_CYCLE");d(!0);try{const P=await zB({startDate:r.startDate});if(!P.length){t({title:"Sin registros",description:"No se encontraron temperaturas en Health Connect."});return}const X=IB(),ie=(await PB(X,"syncBasalBodyTemperature")({cycleId:r.id,items:P}))?.data;return t({title:"Sincronizacin hecha",description:`Nuevos: ${ie?.createdMeasurements??0}  Ya estaban: ${ie?.skippedMeasurements??0}  Rechazados: ${ie?.rejected??0}`}),await v({silent:!0}),ie}catch(P){console.error(P);const se=(oe=>typeof oe=="string"?oe:oe?.message??JSON.stringify(oe))(P);return se.includes("HEALTH_CONNECT_NotInstalled")||se.includes("HEALTH_CONNECT_NotSupported")?(t({title:"Health Connect no disponible",description:"Instala Health Connect para poder sincronizar tus registros.",variant:"destructive"}),null):se.includes("HEALTH_CONNECT_ONLY_IN_APP")?(t({title:"Solo en la app Android",description:"La sincronizacin est disponible nicamente en la app Android.",variant:"destructive"}),null):se.includes("HEALTH_CONNECT_PERMISSION_DENIED")?(t({title:"Permisos requeridos",description:"Debes conceder permisos de Health Connect para sincronizar.",variant:"destructive"}),null):se.includes("HEALTH_CONNECT_INVALID_START_DATE")?(t({title:"Fecha de inicio invlida",description:"No se pudo leer la fecha de inicio del ciclo actual.",variant:"destructive"}),null):(t({title:"Error al sincronizar",description:se,variant:"destructive"}),null)}finally{d(!1)}},[e,r,v,t]),U={currentCycle:r,archivedCycles:s,syncHealthConnectTemperatures:M,addOrUpdateDataPoint:E,deleteRecord:R,startNewCycle:j,updateCycleDates:Y,forceUpdateCycleStart:C,forceShiftNextCycleStart:S,checkCycleOverlap:te,isLoading:u,getCycleById:D,refreshData:L,toggleIgnoreRecord:k,setCycleIgnoreForAutoCalculations:A,addArchivedCycle:F,deleteCycle:z};return q.jsx(i1.Provider,{value:U,children:n})},gH=()=>{const n=x.useContext(i1);if(!n)throw new Error("useCycleDataContext must be used within a CycleDataProvider");return n},s1=x.createContext(null),HB=({children:n})=>{const[e,t]=x.useState(!1),[r,i]=x.useState(!1),[s,a]=x.useState(!1),u=ho.isNativePlatform()&&ho.getPlatform()==="android",d=x.useCallback(async()=>{if(!u)return t(!1),i(!1),{isAvailable:!1,hasPermissions:!1,availability:"NotAndroid"};a(!0);try{const h=await BB();return t(!!h.isAvailable),i(!!h.hasPermissions),h}catch(h){return console.error("Error al comprobar Health Connect",h),t(!1),i(!1),{isAvailable:!1,hasPermissions:!1,availability:"Error"}}finally{a(!1)}},[u]);return x.useEffect(()=>{d()},[d]),q.jsx(s1.Provider,{value:{isAvailable:e,hasPermissions:r,refreshPermissions:d,isChecking:s,isAndroidApp:u},children:n})},yH=()=>{const n=x.useContext(s1);if(!n)throw new Error("useHealthConnect must be used within a HealthConnectProvider");return n},Dv=({children:n})=>q.jsxs("div",{className:"relative h-app overflow-hidden app-background",children:[q.jsxs("div",{className:"pointer-events-none absolute inset-0",children:[q.jsx("div",{className:"wave wave--left-1"}),q.jsx("div",{className:"wave wave--left-2"}),q.jsx("div",{className:"wave wave--left-3"}),q.jsx("div",{className:"wave wave--right-1"}),q.jsx("div",{className:"wave wave--right-2"}),q.jsx("div",{className:"wave wave--right-3"})]}),q.jsx("div",{className:"pointer-events-none absolute inset-0",children:q.jsx("div",{className:"absolute inset-0",style:{backgroundImage:`
            radial-gradient(120% 120% at 0% 0%, rgba(251,113,133,0.12) 0, transparent 55%),
            radial-gradient(110% 110% at 100% 0%, rgba(244,114,182,0.12) 0, transparent 55%)
          `}})}),q.jsx("div",{className:"relative z-10 flex h-app flex-col",children:n})]});class qB extends Qt.Component{state={error:null};static getDerivedStateFromError(e){return{error:e}}reset=()=>{this.setState({error:null})};componentDidCatch(e,t){console.error("RouteErrorBoundary caught an error",e,t)}render(){const{error:e}=this.state,{FallbackComponent:t,children:r}=this.props;return e?q.jsx(t,{error:e,resetErrorBoundary:this.reset}):r}}var GB={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const KB=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),xu=(n,e)=>{const t=x.forwardRef(({color:r="currentColor",size:i=24,strokeWidth:s=2,absoluteStrokeWidth:a,children:u,...d},h)=>x.createElement("svg",{ref:h,...GB,width:i,height:i,stroke:r,strokeWidth:a?Number(s)*24/Number(i):s,className:`lucide lucide-${KB(n)}`,...d},[...e.map(([m,g])=>x.createElement(m,g)),...(Array.isArray(u)?u:[u])||[]]));return t.displayName=`${n}`,t},QB=xu("Archive",[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]]),YB=xu("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]),XB=xu("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]),JB=xu("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]),ZB=xu("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),e6=xu("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),t6=()=>{const n=mo(),e=[{to:"/records",label:"Mis registros",icon:XB},{to:"/chart",label:"Grfica",icon:YB},{to:"/",label:"Ciclo actual",icon:JB},{to:"/archived-cycles",label:"Mis ciclos",icon:QB,isActive:t=>t.startsWith("/archived-cycles")||t.startsWith("/cycle/")},{to:"/settings",label:"Cuenta",icon:ZB}];return q.jsx("nav",{className:"fixed bottom-0 left-0 right-0 z-50 border-fertiliapp-suave bg-white/90 backdrop-blur-md supports-[backdrop-filter]:bg-white/90 pt-2 pb-[env(safe-area-inset-bottom)] min-h-[var(--bottom-nav-safe)]",children:q.jsx("ul",{className:"mx-auto grid w-full max-w-md grid-cols-5 gap-2 px-2",children:e.map(({to:t,label:r,icon:i,isActive:s})=>q.jsx("li",{className:"flex",children:q.jsx(ON,{to:t,"aria-label":r,className:"group relative flex w-full flex-col items-center rounded-lg px-2 py-2 text-center transition-[color,transform] duration-200 focus:outline-none focus-visible:ring-2 focus-visible:ring-pink-300/60",children:({isActive:a})=>{const d=(s?s(n.pathname):!1)||a;return q.jsxs(q.Fragment,{children:[q.jsx("span",{"aria-hidden":!0,className:`absolute inset-0 rounded-3xl transition-all duration-200 ${d?"bg-fertiliapp-suave/80 ring-1 ring-fertiliapp-suave shadow-sm":"bg-transparent"}`}),q.jsx("span",{className:"relative z-10 flex h-7 w-7 items-center justify-center",children:q.jsx(i,{className:`h-6 w-6 transition-transform duration-200 ${d?"text-fertiliapp-fuerte scale-110":"text-gray-400 group-hover:text-gray-600"}`})}),q.jsx("span",{className:"sr-only",children:r})]})}})},t))})})},ra=({children:n,hideBottomNav:e=!1})=>{const t=e?"relative z-10 flex-1 w-full overflow-y-auto":"relative z-10 flex-1 w-full overflow-y-auto pb-[var(--bottom-nav-safe)]";return q.jsxs("div",{className:"relative flex min-h-app flex-col overflow-hidden",children:[q.jsx("main",{className:t,children:n}),!e&&q.jsx(t6,{})]})};function o1(n){var e,t,r="";if(typeof n=="string"||typeof n=="number")r+=n;else if(typeof n=="object")if(Array.isArray(n)){var i=n.length;for(e=0;e<i;e++)n[e]&&(t=o1(n[e]))&&(r&&(r+=" "),r+=t)}else for(t in n)n[t]&&(r&&(r+=" "),r+=t);return r}function a1(){for(var n,e,t=0,r="",i=arguments.length;t<i;t++)(n=arguments[t])&&(e=o1(n))&&(r&&(r+=" "),r+=e);return r}function n6(){for(var n=0,e,t,r="";n<arguments.length;)(e=arguments[n++])&&(t=l1(e))&&(r&&(r+=" "),r+=t);return r}function l1(n){if(typeof n=="string")return n;for(var e,t="",r=0;r<n.length;r++)n[r]&&(e=l1(n[r]))&&(t&&(t+=" "),t+=e);return t}var I_="-";function r6(n){var e=s6(n),t=n.conflictingClassGroups,r=n.conflictingClassGroupModifiers,i=r===void 0?{}:r;function s(u){var d=u.split(I_);return d[0]===""&&d.length!==1&&d.shift(),u1(d,e)||i6(u)}function a(u,d){var h=t[u]||[];return d&&i[u]?[].concat(h,i[u]):h}return{getClassGroupId:s,getConflictingClassGroupIds:a}}function u1(n,e){if(n.length===0)return e.classGroupId;var t=n[0],r=e.nextPart.get(t),i=r?u1(n.slice(1),r):void 0;if(i)return i;if(e.validators.length!==0){var s=n.join(I_);return e.validators.find(function(a){var u=a.validator;return u(s)})?.classGroupId}}var MS=/^\[(.+)\]$/;function i6(n){if(MS.test(n)){var e=MS.exec(n)[1],t=e?.substring(0,e.indexOf(":"));if(t)return"arbitrary.."+t}}function s6(n){var e=n.theme,t=n.prefix,r={nextPart:new Map,validators:[]},i=a6(Object.entries(n.classGroups),t);return i.forEach(function(s){var a=s[0],u=s[1];Nv(u,r,a,e)}),r}function Nv(n,e,t,r){n.forEach(function(i){if(typeof i=="string"){var s=i===""?e:LS(e,i);s.classGroupId=t;return}if(typeof i=="function"){if(o6(i)){Nv(i(r),e,t,r);return}e.validators.push({validator:i,classGroupId:t});return}Object.entries(i).forEach(function(a){var u=a[0],d=a[1];Nv(d,LS(e,u),t,r)})})}function LS(n,e){var t=n;return e.split(I_).forEach(function(r){t.nextPart.has(r)||t.nextPart.set(r,{nextPart:new Map,validators:[]}),t=t.nextPart.get(r)}),t}function o6(n){return n.isThemeGetter}function a6(n,e){return e?n.map(function(t){var r=t[0],i=t[1],s=i.map(function(a){return typeof a=="string"?e+a:typeof a=="object"?Object.fromEntries(Object.entries(a).map(function(u){var d=u[0],h=u[1];return[e+d,h]})):a});return[r,s]}):n}function l6(n){if(n<1)return{get:function(){},set:function(){}};var e=0,t=new Map,r=new Map;function i(s,a){t.set(s,a),e++,e>n&&(e=0,r=t,t=new Map)}return{get:function(a){var u=t.get(a);if(u!==void 0)return u;if((u=r.get(a))!==void 0)return i(a,u),u},set:function(a,u){t.has(a)?t.set(a,u):i(a,u)}}}var c1="!";function u6(n){var e=n.separator||":",t=e.length===1,r=e[0],i=e.length;return function(a){for(var u=[],d=0,h=0,m,g=0;g<a.length;g++){var v=a[g];if(d===0){if(v===r&&(t||a.slice(g,g+i)===e)){u.push(a.slice(h,g)),h=g+i;continue}if(v==="/"){m=g;continue}}v==="["?d++:v==="]"&&d--}var E=u.length===0?a:a.substring(h),R=E.startsWith(c1),k=R?E.substring(1):E,A=m&&m>h?m-h:void 0;return{modifiers:u,hasImportantModifier:R,baseClassName:k,maybePostfixModifierPosition:A}}}function c6(n){if(n.length<=1)return n;var e=[],t=[];return n.forEach(function(r){var i=r[0]==="[";i?(e.push.apply(e,t.sort().concat([r])),t=[]):t.push(r)}),e.push.apply(e,t.sort()),e}function d6(n){return{cache:l6(n.cacheSize),splitModifiers:u6(n),...r6(n)}}var h6=/\s+/;function f6(n,e){var t=e.splitModifiers,r=e.getClassGroupId,i=e.getConflictingClassGroupIds,s=new Set;return n.trim().split(h6).map(function(a){var u=t(a),d=u.modifiers,h=u.hasImportantModifier,m=u.baseClassName,g=u.maybePostfixModifierPosition,v=r(g?m.substring(0,g):m),E=!!g;if(!v){if(!g)return{isTailwindClass:!1,originalClassName:a};if(v=r(m),!v)return{isTailwindClass:!1,originalClassName:a};E=!1}var R=c6(d).join(":"),k=h?R+c1:R;return{isTailwindClass:!0,modifierId:k,classGroupId:v,originalClassName:a,hasPostfixModifier:E}}).reverse().filter(function(a){if(!a.isTailwindClass)return!0;var u=a.modifierId,d=a.classGroupId,h=a.hasPostfixModifier,m=u+d;return s.has(m)?!1:(s.add(m),i(d,h).forEach(function(g){return s.add(u+g)}),!0)}).reverse().map(function(a){return a.originalClassName}).join(" ")}function p6(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];var r,i,s,a=u;function u(h){var m=e[0],g=e.slice(1),v=g.reduce(function(E,R){return R(E)},m());return r=d6(v),i=r.cache.get,s=r.cache.set,a=d,d(h)}function d(h){var m=i(h);if(m)return m;var g=f6(h,r);return s(h,g),g}return function(){return a(n6.apply(null,arguments))}}function _t(n){var e=function(r){return r[n]||[]};return e.isThemeGetter=!0,e}var d1=/^\[(?:([a-z-]+):)?(.+)\]$/i,m6=/^\d+\/\d+$/,g6=new Set(["px","full","screen"]),y6=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,v6=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,w6=/^-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/;function Rr(n){return da(n)||g6.has(n)||m6.test(n)||Vv(n)}function Vv(n){return Na(n,"length",P6)}function _6(n){return Na(n,"size",h1)}function T6(n){return Na(n,"position",h1)}function E6(n){return Na(n,"url",C6)}function gf(n){return Na(n,"number",da)}function da(n){return!Number.isNaN(Number(n))}function I6(n){return n.endsWith("%")&&da(n.slice(0,-1))}function Dc(n){return FS(n)||Na(n,"number",FS)}function qe(n){return d1.test(n)}function Nc(){return!0}function Us(n){return y6.test(n)}function S6(n){return Na(n,"",A6)}function Na(n,e,t){var r=d1.exec(n);return r?r[1]?r[1]===e:t(r[2]):!1}function P6(n){return v6.test(n)}function h1(){return!1}function C6(n){return n.startsWith("url(")}function FS(n){return Number.isInteger(Number(n))}function A6(n){return w6.test(n)}function b6(){var n=_t("colors"),e=_t("spacing"),t=_t("blur"),r=_t("brightness"),i=_t("borderColor"),s=_t("borderRadius"),a=_t("borderSpacing"),u=_t("borderWidth"),d=_t("contrast"),h=_t("grayscale"),m=_t("hueRotate"),g=_t("invert"),v=_t("gap"),E=_t("gradientColorStops"),R=_t("gradientColorStopPositions"),k=_t("inset"),A=_t("margin"),j=_t("opacity"),O=_t("padding"),F=_t("saturate"),z=_t("scale"),te=_t("sepia"),Y=_t("skew"),C=_t("space"),S=_t("translate"),D=function(){return["auto","contain","none"]},L=function(){return["auto","hidden","clip","visible","scroll"]},M=function(){return["auto",qe,e]},U=function(){return[qe,e]},P=function(){return["",Rr]},X=function(){return["auto",da,qe]},se=function(){return["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"]},oe=function(){return["solid","dashed","dotted","double","none"]},ie=function(){return["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity","plus-lighter"]},ee=function(){return["start","end","center","between","around","evenly","stretch"]},de=function(){return["","0",qe]},ne=function(){return["auto","avoid","all","avoid-page","page","left","right","column"]},N=function(){return[da,gf]},Q=function(){return[da,qe]};return{cacheSize:500,theme:{colors:[Nc],spacing:[Rr],blur:["none","",Us,qe],brightness:N(),borderColor:[n],borderRadius:["none","","full",Us,qe],borderSpacing:U(),borderWidth:P(),contrast:N(),grayscale:de(),hueRotate:Q(),invert:de(),gap:U(),gradientColorStops:[n],gradientColorStopPositions:[I6,Vv],inset:M(),margin:M(),opacity:N(),padding:U(),saturate:N(),scale:N(),sepia:de(),skew:Q(),space:U(),translate:U()},classGroups:{aspect:[{aspect:["auto","square","video",qe]}],container:["container"],columns:[{columns:[Us]}],"break-after":[{"break-after":ne()}],"break-before":[{"break-before":ne()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none"]}],clear:[{clear:["left","right","both","none"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[].concat(se(),[qe])}],overflow:[{overflow:L()}],"overflow-x":[{"overflow-x":L()}],"overflow-y":[{"overflow-y":L()}],overscroll:[{overscroll:D()}],"overscroll-x":[{"overscroll-x":D()}],"overscroll-y":[{"overscroll-y":D()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[k]}],"inset-x":[{"inset-x":[k]}],"inset-y":[{"inset-y":[k]}],start:[{start:[k]}],end:[{end:[k]}],top:[{top:[k]}],right:[{right:[k]}],bottom:[{bottom:[k]}],left:[{left:[k]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Dc]}],basis:[{basis:M()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",qe]}],grow:[{grow:de()}],shrink:[{shrink:de()}],order:[{order:["first","last","none",Dc]}],"grid-cols":[{"grid-cols":[Nc]}],"col-start-end":[{col:["auto",{span:["full",Dc]},qe]}],"col-start":[{"col-start":X()}],"col-end":[{"col-end":X()}],"grid-rows":[{"grid-rows":[Nc]}],"row-start-end":[{row:["auto",{span:[Dc]},qe]}],"row-start":[{"row-start":X()}],"row-end":[{"row-end":X()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",qe]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",qe]}],gap:[{gap:[v]}],"gap-x":[{"gap-x":[v]}],"gap-y":[{"gap-y":[v]}],"justify-content":[{justify:["normal"].concat(ee())}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal"].concat(ee(),["baseline"])}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[].concat(ee(),["baseline"])}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[O]}],px:[{px:[O]}],py:[{py:[O]}],ps:[{ps:[O]}],pe:[{pe:[O]}],pt:[{pt:[O]}],pr:[{pr:[O]}],pb:[{pb:[O]}],pl:[{pl:[O]}],m:[{m:[A]}],mx:[{mx:[A]}],my:[{my:[A]}],ms:[{ms:[A]}],me:[{me:[A]}],mt:[{mt:[A]}],mr:[{mr:[A]}],mb:[{mb:[A]}],ml:[{ml:[A]}],"space-x":[{"space-x":[C]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[C]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit",qe,e]}],"min-w":[{"min-w":["min","max","fit",qe,Rr]}],"max-w":[{"max-w":["0","none","full","min","max","fit","prose",{screen:[Us]},Us,qe]}],h:[{h:[qe,e,"auto","min","max","fit"]}],"min-h":[{"min-h":["min","max","fit",qe,Rr]}],"max-h":[{"max-h":[qe,e,"min","max","fit"]}],"font-size":[{text:["base",Us,Vv]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",gf]}],"font-family":[{font:[Nc]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",qe]}],"line-clamp":[{"line-clamp":["none",da,gf]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",qe,Rr]}],"list-image":[{"list-image":["none",qe]}],"list-style-type":[{list:["none","disc","decimal",qe]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[n]}],"placeholder-opacity":[{"placeholder-opacity":[j]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[n]}],"text-opacity":[{"text-opacity":[j]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[].concat(oe(),["wavy"])}],"text-decoration-thickness":[{decoration:["auto","from-font",Rr]}],"underline-offset":[{"underline-offset":["auto",qe,Rr]}],"text-decoration-color":[{decoration:[n]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],indent:[{indent:U()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",qe]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",qe]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[j]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[].concat(se(),[T6])}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",_6]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},E6]}],"bg-color":[{bg:[n]}],"gradient-from-pos":[{from:[R]}],"gradient-via-pos":[{via:[R]}],"gradient-to-pos":[{to:[R]}],"gradient-from":[{from:[E]}],"gradient-via":[{via:[E]}],"gradient-to":[{to:[E]}],rounded:[{rounded:[s]}],"rounded-s":[{"rounded-s":[s]}],"rounded-e":[{"rounded-e":[s]}],"rounded-t":[{"rounded-t":[s]}],"rounded-r":[{"rounded-r":[s]}],"rounded-b":[{"rounded-b":[s]}],"rounded-l":[{"rounded-l":[s]}],"rounded-ss":[{"rounded-ss":[s]}],"rounded-se":[{"rounded-se":[s]}],"rounded-ee":[{"rounded-ee":[s]}],"rounded-es":[{"rounded-es":[s]}],"rounded-tl":[{"rounded-tl":[s]}],"rounded-tr":[{"rounded-tr":[s]}],"rounded-br":[{"rounded-br":[s]}],"rounded-bl":[{"rounded-bl":[s]}],"border-w":[{border:[u]}],"border-w-x":[{"border-x":[u]}],"border-w-y":[{"border-y":[u]}],"border-w-s":[{"border-s":[u]}],"border-w-e":[{"border-e":[u]}],"border-w-t":[{"border-t":[u]}],"border-w-r":[{"border-r":[u]}],"border-w-b":[{"border-b":[u]}],"border-w-l":[{"border-l":[u]}],"border-opacity":[{"border-opacity":[j]}],"border-style":[{border:[].concat(oe(),["hidden"])}],"divide-x":[{"divide-x":[u]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[u]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[j]}],"divide-style":[{divide:oe()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:[""].concat(oe())}],"outline-offset":[{"outline-offset":[qe,Rr]}],"outline-w":[{outline:[Rr]}],"outline-color":[{outline:[n]}],"ring-w":[{ring:P()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[n]}],"ring-opacity":[{"ring-opacity":[j]}],"ring-offset-w":[{"ring-offset":[Rr]}],"ring-offset-color":[{"ring-offset":[n]}],shadow:[{shadow:["","inner","none",Us,S6]}],"shadow-color":[{shadow:[Nc]}],opacity:[{opacity:[j]}],"mix-blend":[{"mix-blend":ie()}],"bg-blend":[{"bg-blend":ie()}],filter:[{filter:["","none"]}],blur:[{blur:[t]}],brightness:[{brightness:[r]}],contrast:[{contrast:[d]}],"drop-shadow":[{"drop-shadow":["","none",Us,qe]}],grayscale:[{grayscale:[h]}],"hue-rotate":[{"hue-rotate":[m]}],invert:[{invert:[g]}],saturate:[{saturate:[F]}],sepia:[{sepia:[te]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[t]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[d]}],"backdrop-grayscale":[{"backdrop-grayscale":[h]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[m]}],"backdrop-invert":[{"backdrop-invert":[g]}],"backdrop-opacity":[{"backdrop-opacity":[j]}],"backdrop-saturate":[{"backdrop-saturate":[F]}],"backdrop-sepia":[{"backdrop-sepia":[te]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[a]}],"border-spacing-x":[{"border-spacing-x":[a]}],"border-spacing-y":[{"border-spacing-y":[a]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",qe]}],duration:[{duration:Q()}],ease:[{ease:["linear","in","out","in-out",qe]}],delay:[{delay:Q()}],animate:[{animate:["none","spin","ping","pulse","bounce",qe]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[z]}],"scale-x":[{"scale-x":[z]}],"scale-y":[{"scale-y":[z]}],rotate:[{rotate:[Dc,qe]}],"translate-x":[{"translate-x":[S]}],"translate-y":[{"translate-y":[S]}],"skew-x":[{"skew-x":[Y]}],"skew-y":[{"skew-y":[Y]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",qe]}],accent:[{accent:["auto",n]}],appearance:["appearance-none"],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",qe]}],"caret-color":[{caret:[n]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":U()}],"scroll-mx":[{"scroll-mx":U()}],"scroll-my":[{"scroll-my":U()}],"scroll-ms":[{"scroll-ms":U()}],"scroll-me":[{"scroll-me":U()}],"scroll-mt":[{"scroll-mt":U()}],"scroll-mr":[{"scroll-mr":U()}],"scroll-mb":[{"scroll-mb":U()}],"scroll-ml":[{"scroll-ml":U()}],"scroll-p":[{"scroll-p":U()}],"scroll-px":[{"scroll-px":U()}],"scroll-py":[{"scroll-py":U()}],"scroll-ps":[{"scroll-ps":U()}],"scroll-pe":[{"scroll-pe":U()}],"scroll-pt":[{"scroll-pt":U()}],"scroll-pr":[{"scroll-pr":U()}],"scroll-pb":[{"scroll-pb":U()}],"scroll-pl":[{"scroll-pl":U()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","pinch-zoom","manipulation",{pan:["x","left","right","y","up","down"]}]}],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",qe]}],fill:[{fill:[n,"none"]}],"stroke-w":[{stroke:[Rr,gf]}],stroke:[{stroke:[n,"none"]}],sr:["sr-only","not-sr-only"]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}}var x6=p6(b6);function Va(...n){return x6(a1(n))}function US(n,e){if(typeof n=="function")return n(e);n!=null&&(n.current=e)}function wm(...n){return e=>{let t=!1;const r=n.map(i=>{const s=US(i,e);return!t&&typeof s=="function"&&(t=!0),s});if(t)return()=>{for(let i=0;i<r.length;i++){const s=r[i];typeof s=="function"?s():US(n[i],null)}}}}function Ra(...n){return x.useCallback(wm(...n),n)}var R6=Symbol.for("react.lazy"),Ap=ew[" use ".trim().toString()];function k6(n){return typeof n=="object"&&n!==null&&"then"in n}function f1(n){return n!=null&&typeof n=="object"&&"$$typeof"in n&&n.$$typeof===R6&&"_payload"in n&&k6(n._payload)}function D6(n){const e=V6(n),t=x.forwardRef((r,i)=>{let{children:s,...a}=r;f1(s)&&typeof Ap=="function"&&(s=Ap(s._payload));const u=x.Children.toArray(s),d=u.find(M6);if(d){const h=d.props.children,m=u.map(g=>g===d?x.Children.count(h)>1?x.Children.only(null):x.isValidElement(h)?h.props.children:null:g);return q.jsx(e,{...a,ref:i,children:x.isValidElement(h)?x.cloneElement(h,void 0,m):null})}return q.jsx(e,{...a,ref:i,children:s})});return t.displayName=`${n}.Slot`,t}var N6=D6("Slot");function V6(n){const e=x.forwardRef((t,r)=>{let{children:i,...s}=t;if(f1(i)&&typeof Ap=="function"&&(i=Ap(i._payload)),x.isValidElement(i)){const a=F6(i),u=L6(s,i.props);return i.type!==x.Fragment&&(u.ref=r?wm(r,a):a),x.cloneElement(i,u)}return x.Children.count(i)>1?x.Children.only(null):null});return e.displayName=`${n}.SlotClone`,e}var O6=Symbol("radix.slottable");function M6(n){return x.isValidElement(n)&&typeof n.type=="function"&&"__radixId"in n.type&&n.type.__radixId===O6}function L6(n,e){const t={...e};for(const r in e){const i=n[r],s=e[r];/^on[A-Z]/.test(r)?i&&s?t[r]=(...u)=>{const d=s(...u);return i(...u),d}:i&&(t[r]=i):r==="style"?t[r]={...i,...s}:r==="className"&&(t[r]=[i,s].filter(Boolean).join(" "))}return{...n,...t}}function F6(n){let e=Object.getOwnPropertyDescriptor(n.props,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=Object.getOwnPropertyDescriptor(n,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}const jS=n=>typeof n=="boolean"?`${n}`:n===0?"0":n,BS=a1,p1=(n,e)=>t=>{var r;if(e?.variants==null)return BS(n,t?.class,t?.className);const{variants:i,defaultVariants:s}=e,a=Object.keys(i).map(h=>{const m=t?.[h],g=s?.[h];if(m===null)return null;const v=jS(m)||jS(g);return i[h][v]}),u=t&&Object.entries(t).reduce((h,m)=>{let[g,v]=m;return v===void 0||(h[g]=v),h},{}),d=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((h,m)=>{let{class:g,className:v,...E}=m;return Object.entries(E).every(R=>{let[k,A]=R;return Array.isArray(A)?A.includes({...s,...u}[k]):{...s,...u}[k]===A})?[...h,g,v]:h},[]);return BS(n,a,d,t?.class,t?.className)},U6=p1("inline-flex items-center justify-center rounded-3xl text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-fertiliapp-fuerte text-white shadow-sm hover:brightness-95",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-lg px-3",xs:"h-8 rounded-2xl px-2 text-xs",lg:"h-11 rounded-lg px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),Ql=Qt.forwardRef(({className:n,variant:e,size:t,asChild:r=!1,...i},s)=>{const a=r?N6:"button";return q.jsx(a,{className:Va(U6({variant:e,size:t,className:n})),ref:s,...i})});Ql.displayName="Button";const j6=/(dynamically imported|Loading chunk|ChunkLoadError|Failed to fetch)/i,m1=({error:n,resetErrorBoundary:e})=>{const t=sw(),{user:r}=vm(),i=typeof navigator<"u"&&navigator.onLine===!1,s=n?.message?n.message:String(n),a=j6.test(s),u=i&&a?"Pantalla no disponible sin conexin":"No se pudo cargar la pantalla",d=i&&a?"Esta pantalla no est disponible sin conexin porque no se haba cargado antes.":"Ocurri un error al cargar esta pantalla. Puedes volver atrs, ir al inicio o reintentar.",h=()=>{e(),t(-1)},m=()=>{e(),t("/")},g=q.jsx("div",{className:"flex min-h-app flex-col items-center justify-center px-6 py-10 text-center",children:q.jsxs("div",{className:"w-full max-w-md space-y-4 rounded-3xl bg-white/85 p-6 shadow-lg backdrop-blur-md",children:[q.jsx("h1",{className:"text-2xl font-semibold text-fertiliapp-fuerte",children:u}),q.jsx("p",{className:"text-sm text-gray-600",children:d}),q.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:justify-center",children:[q.jsx(Ql,{type:"button",onClick:h,children:"Volver"}),q.jsx(Ql,{type:"button",variant:"secondary",onClick:m,children:"Ir a inicio"}),q.jsx(Ql,{type:"button",variant:"outline",onClick:()=>window.location.reload(),children:"Reintentar"})]}),!i&&q.jsxs("details",{className:"text-left text-xs text-gray-500",children:[q.jsx("summary",{className:"cursor-pointer font-medium text-gray-600",children:"Detalles tcnicos"}),q.jsx("pre",{className:"mt-2 whitespace-pre-wrap break-words rounded-2xl bg-gray-100 p-3 text-[0.7rem] text-gray-600",children:s})]})]})});return r?q.jsx(ra,{children:g}):q.jsx(Dv,{children:g})},$S=/(dynamically imported|Loading chunk|ChunkLoadError|Failed to fetch)/i;function B6({children:n}){const[e,t]=x.useState(null);return x.useEffect(()=>{const r=s=>{const a=s?.reason?.message??String(s?.reason);$S.test(a)&&(s?.preventDefault?.(),t(s?.reason instanceof Error?s.reason:new Error(a)))},i=s=>{const a=s?.message??String(s?.error?.message??s?.error??"");$S.test(a)&&(s?.preventDefault?.(),t(s?.error instanceof Error?s.error:new Error(a)))};return window.addEventListener("unhandledrejection",r),window.addEventListener("error",i),()=>{window.removeEventListener("unhandledrejection",r),window.removeEventListener("error",i)}},[]),e?q.jsx(m1,{error:e,resetErrorBoundary:()=>t(null)}):n}function ir(n,e,{checkForDefaultPrevented:t=!0}={}){return function(i){if(n?.(i),t===!1||!i.defaultPrevented)return e?.(i)}}function vH(n,e){const t=x.createContext(e),r=s=>{const{children:a,...u}=s,d=x.useMemo(()=>u,Object.values(u));return q.jsx(t.Provider,{value:d,children:a})};r.displayName=n+"Provider";function i(s){const a=x.useContext(t);if(a)return a;if(e!==void 0)return e;throw new Error(`\`${s}\` must be used within \`${n}\``)}return[r,i]}function g1(n,e=[]){let t=[];function r(s,a){const u=x.createContext(a),d=t.length;t=[...t,a];const h=g=>{const{scope:v,children:E,...R}=g,k=v?.[n]?.[d]||u,A=x.useMemo(()=>R,Object.values(R));return q.jsx(k.Provider,{value:A,children:E})};h.displayName=s+"Provider";function m(g,v){const E=v?.[n]?.[d]||u,R=x.useContext(E);if(R)return R;if(a!==void 0)return a;throw new Error(`\`${g}\` must be used within \`${s}\``)}return[h,m]}const i=()=>{const s=t.map(a=>x.createContext(a));return function(u){const d=u?.[n]||s;return x.useMemo(()=>({[`__scope${n}`]:{...u,[n]:d}}),[u,d])}};return i.scopeName=n,[r,$6(i,...e)]}function $6(...n){const e=n[0];if(n.length===1)return e;const t=()=>{const r=n.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const a=r.reduce((u,{useScope:d,scopeName:h})=>{const g=d(s)[`__scope${h}`];return{...u,...g}},{});return x.useMemo(()=>({[`__scope${e.scopeName}`]:a}),[a])}};return t.scopeName=e.scopeName,t}function zS(n){const e=z6(n),t=x.forwardRef((r,i)=>{const{children:s,...a}=r,u=x.Children.toArray(s),d=u.find(H6);if(d){const h=d.props.children,m=u.map(g=>g===d?x.Children.count(h)>1?x.Children.only(null):x.isValidElement(h)?h.props.children:null:g);return q.jsx(e,{...a,ref:i,children:x.isValidElement(h)?x.cloneElement(h,void 0,m):null})}return q.jsx(e,{...a,ref:i,children:s})});return t.displayName=`${n}.Slot`,t}function z6(n){const e=x.forwardRef((t,r)=>{const{children:i,...s}=t;if(x.isValidElement(i)){const a=G6(i),u=q6(s,i.props);return i.type!==x.Fragment&&(u.ref=r?wm(r,a):a),x.cloneElement(i,u)}return x.Children.count(i)>1?x.Children.only(null):null});return e.displayName=`${n}.SlotClone`,e}var W6=Symbol("radix.slottable");function H6(n){return x.isValidElement(n)&&typeof n.type=="function"&&"__radixId"in n.type&&n.type.__radixId===W6}function q6(n,e){const t={...e};for(const r in e){const i=n[r],s=e[r];/^on[A-Z]/.test(r)?i&&s?t[r]=(...u)=>{const d=s(...u);return i(...u),d}:i&&(t[r]=i):r==="style"?t[r]={...i,...s}:r==="className"&&(t[r]=[i,s].filter(Boolean).join(" "))}return{...n,...t}}function G6(n){let e=Object.getOwnPropertyDescriptor(n.props,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=Object.getOwnPropertyDescriptor(n,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}function K6(n){const e=n+"CollectionProvider",[t,r]=g1(e),[i,s]=t(e,{collectionRef:{current:null},itemMap:new Map}),a=k=>{const{scope:A,children:j}=k,O=Qt.useRef(null),F=Qt.useRef(new Map).current;return q.jsx(i,{scope:A,itemMap:F,collectionRef:O,children:j})};a.displayName=e;const u=n+"CollectionSlot",d=zS(u),h=Qt.forwardRef((k,A)=>{const{scope:j,children:O}=k,F=s(u,j),z=Ra(A,F.collectionRef);return q.jsx(d,{ref:z,children:O})});h.displayName=u;const m=n+"CollectionItemSlot",g="data-radix-collection-item",v=zS(m),E=Qt.forwardRef((k,A)=>{const{scope:j,children:O,...F}=k,z=Qt.useRef(null),te=Ra(A,z),Y=s(m,j);return Qt.useEffect(()=>(Y.itemMap.set(z,{ref:z,...F}),()=>{Y.itemMap.delete(z)})),q.jsx(v,{[g]:"",ref:te,children:O})});E.displayName=m;function R(k){const A=s(n+"CollectionConsumer",k);return Qt.useCallback(()=>{const O=A.collectionRef.current;if(!O)return[];const F=Array.from(O.querySelectorAll(`[${g}]`));return Array.from(A.itemMap.values()).sort((Y,C)=>F.indexOf(Y.ref.current)-F.indexOf(C.ref.current))},[A.collectionRef,A.itemMap])}return[{Provider:a,Slot:h,ItemSlot:E},R,r]}function Q6(n){const e=Y6(n),t=x.forwardRef((r,i)=>{const{children:s,...a}=r,u=x.Children.toArray(s),d=u.find(J6);if(d){const h=d.props.children,m=u.map(g=>g===d?x.Children.count(h)>1?x.Children.only(null):x.isValidElement(h)?h.props.children:null:g);return q.jsx(e,{...a,ref:i,children:x.isValidElement(h)?x.cloneElement(h,void 0,m):null})}return q.jsx(e,{...a,ref:i,children:s})});return t.displayName=`${n}.Slot`,t}function Y6(n){const e=x.forwardRef((t,r)=>{const{children:i,...s}=t;if(x.isValidElement(i)){const a=e5(i),u=Z6(s,i.props);return i.type!==x.Fragment&&(u.ref=r?wm(r,a):a),x.cloneElement(i,u)}return x.Children.count(i)>1?x.Children.only(null):null});return e.displayName=`${n}.SlotClone`,e}var X6=Symbol("radix.slottable");function J6(n){return x.isValidElement(n)&&typeof n.type=="function"&&"__radixId"in n.type&&n.type.__radixId===X6}function Z6(n,e){const t={...e};for(const r in e){const i=n[r],s=e[r];/^on[A-Z]/.test(r)?i&&s?t[r]=(...u)=>{const d=s(...u);return i(...u),d}:i&&(t[r]=i):r==="style"?t[r]={...i,...s}:r==="className"&&(t[r]=[i,s].filter(Boolean).join(" "))}return{...n,...t}}function e5(n){let e=Object.getOwnPropertyDescriptor(n.props,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=Object.getOwnPropertyDescriptor(n,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}var t5=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],vi=t5.reduce((n,e)=>{const t=Q6(`Primitive.${e}`),r=x.forwardRef((i,s)=>{const{asChild:a,...u}=i,d=a?t:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),q.jsx(d,{...u,ref:s})});return r.displayName=`Primitive.${e}`,{...n,[e]:r}},{});function y1(n,e){n&&tw.flushSync(()=>n.dispatchEvent(e))}function ka(n){const e=x.useRef(n);return x.useEffect(()=>{e.current=n}),x.useMemo(()=>(...t)=>e.current?.(...t),[])}function n5(n,e=globalThis?.document){const t=ka(n);x.useEffect(()=>{const r=i=>{i.key==="Escape"&&t(i)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[t,e])}var r5="DismissableLayer",Ov="dismissableLayer.update",i5="dismissableLayer.pointerDownOutside",s5="dismissableLayer.focusOutside",WS,v1=x.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),w1=x.forwardRef((n,e)=>{const{disableOutsidePointerEvents:t=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:s,onInteractOutside:a,onDismiss:u,...d}=n,h=x.useContext(v1),[m,g]=x.useState(null),v=m?.ownerDocument??globalThis?.document,[,E]=x.useState({}),R=Ra(e,C=>g(C)),k=Array.from(h.layers),[A]=[...h.layersWithOutsidePointerEventsDisabled].slice(-1),j=k.indexOf(A),O=m?k.indexOf(m):-1,F=h.layersWithOutsidePointerEventsDisabled.size>0,z=O>=j,te=a5(C=>{const S=C.target,D=[...h.branches].some(L=>L.contains(S));!z||D||(i?.(C),a?.(C),C.defaultPrevented||u?.())},v),Y=l5(C=>{const S=C.target;[...h.branches].some(L=>L.contains(S))||(s?.(C),a?.(C),C.defaultPrevented||u?.())},v);return n5(C=>{O===h.layers.size-1&&(r?.(C),!C.defaultPrevented&&u&&(C.preventDefault(),u()))},v),x.useEffect(()=>{if(m)return t&&(h.layersWithOutsidePointerEventsDisabled.size===0&&(WS=v.body.style.pointerEvents,v.body.style.pointerEvents="none"),h.layersWithOutsidePointerEventsDisabled.add(m)),h.layers.add(m),HS(),()=>{t&&h.layersWithOutsidePointerEventsDisabled.size===1&&(v.body.style.pointerEvents=WS)}},[m,v,t,h]),x.useEffect(()=>()=>{m&&(h.layers.delete(m),h.layersWithOutsidePointerEventsDisabled.delete(m),HS())},[m,h]),x.useEffect(()=>{const C=()=>E({});return document.addEventListener(Ov,C),()=>document.removeEventListener(Ov,C)},[]),q.jsx(vi.div,{...d,ref:R,style:{pointerEvents:F?z?"auto":"none":void 0,...n.style},onFocusCapture:ir(n.onFocusCapture,Y.onFocusCapture),onBlurCapture:ir(n.onBlurCapture,Y.onBlurCapture),onPointerDownCapture:ir(n.onPointerDownCapture,te.onPointerDownCapture)})});w1.displayName=r5;var o5="DismissableLayerBranch",_1=x.forwardRef((n,e)=>{const t=x.useContext(v1),r=x.useRef(null),i=Ra(e,r);return x.useEffect(()=>{const s=r.current;if(s)return t.branches.add(s),()=>{t.branches.delete(s)}},[t.branches]),q.jsx(vi.div,{...n,ref:i})});_1.displayName=o5;function a5(n,e=globalThis?.document){const t=ka(n),r=x.useRef(!1),i=x.useRef(()=>{});return x.useEffect(()=>{const s=u=>{if(u.target&&!r.current){let d=function(){T1(i5,t,h,{discrete:!0})};const h={originalEvent:u};u.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=d,e.addEventListener("click",i.current,{once:!0})):d()}else e.removeEventListener("click",i.current);r.current=!1},a=window.setTimeout(()=>{e.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(a),e.removeEventListener("pointerdown",s),e.removeEventListener("click",i.current)}},[e,t]),{onPointerDownCapture:()=>r.current=!0}}function l5(n,e=globalThis?.document){const t=ka(n),r=x.useRef(!1);return x.useEffect(()=>{const i=s=>{s.target&&!r.current&&T1(s5,t,{originalEvent:s},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,t]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function HS(){const n=new CustomEvent(Ov);document.dispatchEvent(n)}function T1(n,e,t,{discrete:r}){const i=t.originalEvent.target,s=new CustomEvent(n,{bubbles:!1,cancelable:!0,detail:t});e&&i.addEventListener(n,e,{once:!0}),r?y1(i,s):i.dispatchEvent(s)}var u5=w1,c5=_1,Td=globalThis?.document?x.useLayoutEffect:()=>{},d5="Portal",E1=x.forwardRef((n,e)=>{const{container:t,...r}=n,[i,s]=x.useState(!1);Td(()=>s(!0),[]);const a=t||i&&globalThis?.document?.body;return a?ND.createPortal(q.jsx(vi.div,{...r,ref:e}),a):null});E1.displayName=d5;function h5(n,e){return x.useReducer((t,r)=>e[t][r]??t,n)}var I1=n=>{const{present:e,children:t}=n,r=f5(e),i=typeof t=="function"?t({present:r.isPresent}):x.Children.only(t),s=Ra(r.ref,p5(i));return typeof t=="function"||r.isPresent?x.cloneElement(i,{ref:s}):null};I1.displayName="Presence";function f5(n){const[e,t]=x.useState(),r=x.useRef(null),i=x.useRef(n),s=x.useRef("none"),a=n?"mounted":"unmounted",[u,d]=h5(a,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return x.useEffect(()=>{const h=yf(r.current);s.current=u==="mounted"?h:"none"},[u]),Td(()=>{const h=r.current,m=i.current;if(m!==n){const v=s.current,E=yf(h);n?d("MOUNT"):E==="none"||h?.display==="none"?d("UNMOUNT"):d(m&&v!==E?"ANIMATION_OUT":"UNMOUNT"),i.current=n}},[n,d]),Td(()=>{if(e){let h;const m=e.ownerDocument.defaultView??window,g=E=>{const k=yf(r.current).includes(CSS.escape(E.animationName));if(E.target===e&&k&&(d("ANIMATION_END"),!i.current)){const A=e.style.animationFillMode;e.style.animationFillMode="forwards",h=m.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=A)})}},v=E=>{E.target===e&&(s.current=yf(r.current))};return e.addEventListener("animationstart",v),e.addEventListener("animationcancel",g),e.addEventListener("animationend",g),()=>{m.clearTimeout(h),e.removeEventListener("animationstart",v),e.removeEventListener("animationcancel",g),e.removeEventListener("animationend",g)}}else d("ANIMATION_END")},[e,d]),{isPresent:["mounted","unmountSuspended"].includes(u),ref:x.useCallback(h=>{r.current=h?getComputedStyle(h):null,t(h)},[])}}function yf(n){return n?.animationName||"none"}function p5(n){let e=Object.getOwnPropertyDescriptor(n.props,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=Object.getOwnPropertyDescriptor(n,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}var m5=ew[" useInsertionEffect ".trim().toString()]||Td;function g5({prop:n,defaultProp:e,onChange:t=()=>{},caller:r}){const[i,s,a]=y5({defaultProp:e,onChange:t}),u=n!==void 0,d=u?n:i;{const m=x.useRef(n!==void 0);x.useEffect(()=>{const g=m.current;g!==u&&console.warn(`${r} is changing from ${g?"controlled":"uncontrolled"} to ${u?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),m.current=u},[u,r])}const h=x.useCallback(m=>{if(u){const g=v5(m)?m(n):m;g!==n&&a.current?.(g)}else s(m)},[u,n,s,a]);return[d,h]}function y5({defaultProp:n,onChange:e}){const[t,r]=x.useState(n),i=x.useRef(t),s=x.useRef(e);return m5(()=>{s.current=e},[e]),x.useEffect(()=>{i.current!==t&&(s.current?.(t),i.current=t)},[t,i]),[t,r,s]}function v5(n){return typeof n=="function"}var w5=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),_5="VisuallyHidden",S_=x.forwardRef((n,e)=>q.jsx(vi.span,{...n,ref:e,style:{...w5,...n.style}}));S_.displayName=_5;var P_="ToastProvider",[C_,T5,E5]=K6("Toast"),[S1]=g1("Toast",[E5]),[I5,_m]=S1(P_),P1=n=>{const{__scopeToast:e,label:t="Notification",duration:r=5e3,swipeDirection:i="right",swipeThreshold:s=50,children:a}=n,[u,d]=x.useState(null),[h,m]=x.useState(0),g=x.useRef(!1),v=x.useRef(!1);return t.trim()||console.error(`Invalid prop \`label\` supplied to \`${P_}\`. Expected non-empty \`string\`.`),q.jsx(C_.Provider,{scope:e,children:q.jsx(I5,{scope:e,label:t,duration:r,swipeDirection:i,swipeThreshold:s,toastCount:h,viewport:u,onViewportChange:d,onToastAdd:x.useCallback(()=>m(E=>E+1),[]),onToastRemove:x.useCallback(()=>m(E=>E-1),[]),isFocusedToastEscapeKeyDownRef:g,isClosePausedRef:v,children:a})})};P1.displayName=P_;var C1="ToastViewport",S5=["F8"],Mv="toast.viewportPause",Lv="toast.viewportResume",A1=x.forwardRef((n,e)=>{const{__scopeToast:t,hotkey:r=S5,label:i="Notifications ({hotkey})",...s}=n,a=_m(C1,t),u=T5(t),d=x.useRef(null),h=x.useRef(null),m=x.useRef(null),g=x.useRef(null),v=Ra(e,g,a.onViewportChange),E=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),R=a.toastCount>0;x.useEffect(()=>{const A=j=>{r.length!==0&&r.every(F=>j[F]||j.code===F)&&g.current?.focus()};return document.addEventListener("keydown",A),()=>document.removeEventListener("keydown",A)},[r]),x.useEffect(()=>{const A=d.current,j=g.current;if(R&&A&&j){const O=()=>{if(!a.isClosePausedRef.current){const Y=new CustomEvent(Mv);j.dispatchEvent(Y),a.isClosePausedRef.current=!0}},F=()=>{if(a.isClosePausedRef.current){const Y=new CustomEvent(Lv);j.dispatchEvent(Y),a.isClosePausedRef.current=!1}},z=Y=>{!A.contains(Y.relatedTarget)&&F()},te=()=>{A.contains(document.activeElement)||F()};return A.addEventListener("focusin",O),A.addEventListener("focusout",z),A.addEventListener("pointermove",O),A.addEventListener("pointerleave",te),window.addEventListener("blur",O),window.addEventListener("focus",F),()=>{A.removeEventListener("focusin",O),A.removeEventListener("focusout",z),A.removeEventListener("pointermove",O),A.removeEventListener("pointerleave",te),window.removeEventListener("blur",O),window.removeEventListener("focus",F)}}},[R,a.isClosePausedRef]);const k=x.useCallback(({tabbingDirection:A})=>{const O=u().map(F=>{const z=F.ref.current,te=[z,...L5(z)];return A==="forwards"?te:te.reverse()});return(A==="forwards"?O.reverse():O).flat()},[u]);return x.useEffect(()=>{const A=g.current;if(A){const j=O=>{const F=O.altKey||O.ctrlKey||O.metaKey;if(O.key==="Tab"&&!F){const te=document.activeElement,Y=O.shiftKey;if(O.target===A&&Y){h.current?.focus();return}const D=k({tabbingDirection:Y?"backwards":"forwards"}),L=D.findIndex(M=>M===te);by(D.slice(L+1))?O.preventDefault():Y?h.current?.focus():m.current?.focus()}};return A.addEventListener("keydown",j),()=>A.removeEventListener("keydown",j)}},[u,k]),q.jsxs(c5,{ref:d,role:"region","aria-label":i.replace("{hotkey}",E),tabIndex:-1,style:{pointerEvents:R?void 0:"none"},children:[R&&q.jsx(Fv,{ref:h,onFocusFromOutsideViewport:()=>{const A=k({tabbingDirection:"forwards"});by(A)}}),q.jsx(C_.Slot,{scope:t,children:q.jsx(vi.ol,{tabIndex:-1,...s,ref:v})}),R&&q.jsx(Fv,{ref:m,onFocusFromOutsideViewport:()=>{const A=k({tabbingDirection:"backwards"});by(A)}})]})});A1.displayName=C1;var b1="ToastFocusProxy",Fv=x.forwardRef((n,e)=>{const{__scopeToast:t,onFocusFromOutsideViewport:r,...i}=n,s=_m(b1,t);return q.jsx(S_,{tabIndex:0,...i,ref:e,style:{position:"fixed"},onFocus:a=>{const u=a.relatedTarget;!s.viewport?.contains(u)&&r()}})});Fv.displayName=b1;var Ud="Toast",P5="toast.swipeStart",C5="toast.swipeMove",A5="toast.swipeCancel",b5="toast.swipeEnd",x1=x.forwardRef((n,e)=>{const{forceMount:t,open:r,defaultOpen:i,onOpenChange:s,...a}=n,[u,d]=g5({prop:r,defaultProp:i??!0,onChange:s,caller:Ud});return q.jsx(I1,{present:t||u,children:q.jsx(k5,{open:u,...a,ref:e,onClose:()=>d(!1),onPause:ka(n.onPause),onResume:ka(n.onResume),onSwipeStart:ir(n.onSwipeStart,h=>{h.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:ir(n.onSwipeMove,h=>{const{x:m,y:g}=h.detail.delta;h.currentTarget.setAttribute("data-swipe","move"),h.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${m}px`),h.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${g}px`)}),onSwipeCancel:ir(n.onSwipeCancel,h=>{h.currentTarget.setAttribute("data-swipe","cancel"),h.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),h.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),h.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),h.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:ir(n.onSwipeEnd,h=>{const{x:m,y:g}=h.detail.delta;h.currentTarget.setAttribute("data-swipe","end"),h.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),h.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),h.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${m}px`),h.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${g}px`),d(!1)})})})});x1.displayName=Ud;var[x5,R5]=S1(Ud,{onClose(){}}),k5=x.forwardRef((n,e)=>{const{__scopeToast:t,type:r="foreground",duration:i,open:s,onClose:a,onEscapeKeyDown:u,onPause:d,onResume:h,onSwipeStart:m,onSwipeMove:g,onSwipeCancel:v,onSwipeEnd:E,...R}=n,k=_m(Ud,t),[A,j]=x.useState(null),O=Ra(e,X=>j(X)),F=x.useRef(null),z=x.useRef(null),te=i||k.duration,Y=x.useRef(0),C=x.useRef(te),S=x.useRef(0),{onToastAdd:D,onToastRemove:L}=k,M=ka(()=>{A?.contains(document.activeElement)&&k.viewport?.focus(),a()}),U=x.useCallback(X=>{!X||X===1/0||(window.clearTimeout(S.current),Y.current=new Date().getTime(),S.current=window.setTimeout(M,X))},[M]);x.useEffect(()=>{const X=k.viewport;if(X){const se=()=>{U(C.current),h?.()},oe=()=>{const ie=new Date().getTime()-Y.current;C.current=C.current-ie,window.clearTimeout(S.current),d?.()};return X.addEventListener(Mv,oe),X.addEventListener(Lv,se),()=>{X.removeEventListener(Mv,oe),X.removeEventListener(Lv,se)}}},[k.viewport,te,d,h,U]),x.useEffect(()=>{s&&!k.isClosePausedRef.current&&U(te)},[s,te,k.isClosePausedRef,U]),x.useEffect(()=>(D(),()=>L()),[D,L]);const P=x.useMemo(()=>A?M1(A):null,[A]);return k.viewport?q.jsxs(q.Fragment,{children:[P&&q.jsx(D5,{__scopeToast:t,role:"status","aria-live":r==="foreground"?"assertive":"polite",children:P}),q.jsx(x5,{scope:t,onClose:M,children:tw.createPortal(q.jsx(C_.ItemSlot,{scope:t,children:q.jsx(u5,{asChild:!0,onEscapeKeyDown:ir(u,()=>{k.isFocusedToastEscapeKeyDownRef.current||M(),k.isFocusedToastEscapeKeyDownRef.current=!1}),children:q.jsx(vi.li,{tabIndex:0,"data-state":s?"open":"closed","data-swipe-direction":k.swipeDirection,...R,ref:O,style:{userSelect:"none",touchAction:"none",...n.style},onKeyDown:ir(n.onKeyDown,X=>{X.key==="Escape"&&(u?.(X.nativeEvent),X.nativeEvent.defaultPrevented||(k.isFocusedToastEscapeKeyDownRef.current=!0,M()))}),onPointerDown:ir(n.onPointerDown,X=>{X.button===0&&(F.current={x:X.clientX,y:X.clientY})}),onPointerMove:ir(n.onPointerMove,X=>{if(!F.current)return;const se=X.clientX-F.current.x,oe=X.clientY-F.current.y,ie=!!z.current,ee=["left","right"].includes(k.swipeDirection),de=["left","up"].includes(k.swipeDirection)?Math.min:Math.max,ne=ee?de(0,se):0,N=ee?0:de(0,oe),Q=X.pointerType==="touch"?10:2,he={x:ne,y:N},me={originalEvent:X,delta:he};ie?(z.current=he,vf(C5,g,me,{discrete:!1})):qS(he,k.swipeDirection,Q)?(z.current=he,vf(P5,m,me,{discrete:!1}),X.target.setPointerCapture(X.pointerId)):(Math.abs(se)>Q||Math.abs(oe)>Q)&&(F.current=null)}),onPointerUp:ir(n.onPointerUp,X=>{const se=z.current,oe=X.target;if(oe.hasPointerCapture(X.pointerId)&&oe.releasePointerCapture(X.pointerId),z.current=null,F.current=null,se){const ie=X.currentTarget,ee={originalEvent:X,delta:se};qS(se,k.swipeDirection,k.swipeThreshold)?vf(b5,E,ee,{discrete:!0}):vf(A5,v,ee,{discrete:!0}),ie.addEventListener("click",de=>de.preventDefault(),{once:!0})}})})})}),k.viewport)})]}):null}),D5=n=>{const{__scopeToast:e,children:t,...r}=n,i=_m(Ud,e),[s,a]=x.useState(!1),[u,d]=x.useState(!1);return O5(()=>a(!0)),x.useEffect(()=>{const h=window.setTimeout(()=>d(!0),1e3);return()=>window.clearTimeout(h)},[]),u?null:q.jsx(E1,{asChild:!0,children:q.jsx(S_,{...r,children:s&&q.jsxs(q.Fragment,{children:[i.label," ",t]})})})},N5="ToastTitle",R1=x.forwardRef((n,e)=>{const{__scopeToast:t,...r}=n;return q.jsx(vi.div,{...r,ref:e})});R1.displayName=N5;var V5="ToastDescription",k1=x.forwardRef((n,e)=>{const{__scopeToast:t,...r}=n;return q.jsx(vi.div,{...r,ref:e})});k1.displayName=V5;var D1="ToastAction",N1=x.forwardRef((n,e)=>{const{altText:t,...r}=n;return t.trim()?q.jsx(O1,{altText:t,asChild:!0,children:q.jsx(A_,{...r,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${D1}\`. Expected non-empty \`string\`.`),null)});N1.displayName=D1;var V1="ToastClose",A_=x.forwardRef((n,e)=>{const{__scopeToast:t,...r}=n,i=R5(V1,t);return q.jsx(O1,{asChild:!0,children:q.jsx(vi.button,{type:"button",...r,ref:e,onClick:ir(n.onClick,i.onClose)})})});A_.displayName=V1;var O1=x.forwardRef((n,e)=>{const{__scopeToast:t,altText:r,...i}=n;return q.jsx(vi.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...i,ref:e})});function M1(n){const e=[];return Array.from(n.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&e.push(r.textContent),M5(r)){const i=r.ariaHidden||r.hidden||r.style.display==="none",s=r.dataset.radixToastAnnounceExclude==="";if(!i)if(s){const a=r.dataset.radixToastAnnounceAlt;a&&e.push(a)}else e.push(...M1(r))}}),e}function vf(n,e,t,{discrete:r}){const i=t.originalEvent.currentTarget,s=new CustomEvent(n,{bubbles:!0,cancelable:!0,detail:t});e&&i.addEventListener(n,e,{once:!0}),r?y1(i,s):i.dispatchEvent(s)}var qS=(n,e,t=0)=>{const r=Math.abs(n.x),i=Math.abs(n.y),s=r>i;return e==="left"||e==="right"?s&&r>t:!s&&i>t};function O5(n=()=>{}){const e=ka(n);Td(()=>{let t=0,r=0;return t=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(t),window.cancelAnimationFrame(r)}},[e])}function M5(n){return n.nodeType===n.ELEMENT_NODE}function L5(n){const e=[],t=document.createTreeWalker(n,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;t.nextNode();)e.push(t.currentNode);return e}function by(n){const e=document.activeElement;return n.some(t=>t===e?!0:(t.focus(),document.activeElement!==e))}var F5=P1,L1=A1,F1=x1,U1=R1,j1=k1,B1=N1,$1=A_;const U5=F5,z1=Qt.forwardRef(({className:n,...e},t)=>q.jsx(L1,{ref:t,className:Va("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",n),...e}));z1.displayName=L1.displayName;const j5=p1("data-[swipe=move]:transition-none group relative pointer-events-auto flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full data-[state=closed]:slide-out-to-right-full",{variants:{variant:{default:"bg-background border",destructive:"group destructive border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),W1=Qt.forwardRef(({className:n,variant:e,...t},r)=>q.jsx(F1,{ref:r,className:Va(j5({variant:e}),n),...t}));W1.displayName=F1.displayName;const B5=Qt.forwardRef(({className:n,...e},t)=>q.jsx(B1,{ref:t,className:Va("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-destructive/30 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",n),...e}));B5.displayName=B1.displayName;const H1=Qt.forwardRef(({className:n,...e},t)=>q.jsx($1,{ref:t,className:Va("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",n),"toast-close":"",...e,children:q.jsx(e6,{className:"h-4 w-4"})}));H1.displayName=$1.displayName;const q1=Qt.forwardRef(({className:n,...e},t)=>q.jsx(U1,{ref:t,className:Va("text-sm font-semibold",n),...e}));q1.displayName=U1.displayName;const G1=Qt.forwardRef(({className:n,...e},t)=>q.jsx(j1,{ref:t,className:Va("text-sm opacity-90",n),...e}));G1.displayName=j1.displayName;function $5(){const{toasts:n}=c_();return q.jsxs(U5,{children:[n.map(({id:e,title:t,description:r,action:i,...s})=>q.jsxs(W1,{...s,children:[q.jsxs("div",{className:"grid gap-1",children:[t&&q.jsx(q1,{children:t}),r&&q.jsx(G1,{children:r})]}),i,q.jsx(H1,{})]},e)),q.jsx(z1,{})]})}const K1=x.createContext({transformPagePoint:n=>n,isStatic:!1,reducedMotion:"never"}),Tm=x.createContext({}),b_=x.createContext(null),Em=typeof document<"u",z5=Em?x.useLayoutEffect:x.useEffect,Q1=x.createContext({strict:!1}),x_=n=>n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),W5="framerAppearId",Y1="data-"+x_(W5);function H5(n,e,t,r){const{visualElement:i}=x.useContext(Tm),s=x.useContext(Q1),a=x.useContext(b_),u=x.useContext(K1).reducedMotion,d=x.useRef();r=r||s.renderer,!d.current&&r&&(d.current=r(n,{visualState:e,parent:i,props:t,presenceContext:a,blockInitialAnimation:a?a.initial===!1:!1,reducedMotionConfig:u}));const h=d.current;x.useInsertionEffect(()=>{h&&h.update(t,a)});const m=x.useRef(!!(t[Y1]&&!window.HandoffComplete));return z5(()=>{h&&(h.render(),m.current&&h.animationState&&h.animationState.animateChanges())}),x.useEffect(()=>{h&&(h.updateFeatures(),!m.current&&h.animationState&&h.animationState.animateChanges(),m.current&&(m.current=!1,window.HandoffComplete=!0))}),h}function jl(n){return n&&typeof n=="object"&&Object.prototype.hasOwnProperty.call(n,"current")}function q5(n,e,t){return x.useCallback(r=>{r&&n.mount&&n.mount(r),e&&(r?e.mount(r):e.unmount()),t&&(typeof t=="function"?t(r):jl(t)&&(t.current=r))},[e])}function Ed(n){return typeof n=="string"||Array.isArray(n)}function Im(n){return n!==null&&typeof n=="object"&&typeof n.start=="function"}const R_=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],k_=["initial",...R_];function Sm(n){return Im(n.animate)||k_.some(e=>Ed(n[e]))}function X1(n){return!!(Sm(n)||n.variants)}function G5(n,e){if(Sm(n)){const{initial:t,animate:r}=n;return{initial:t===!1||Ed(t)?t:void 0,animate:Ed(r)?r:void 0}}return n.inherit!==!1?e:{}}function K5(n){const{initial:e,animate:t}=G5(n,x.useContext(Tm));return x.useMemo(()=>({initial:e,animate:t}),[GS(e),GS(t)])}function GS(n){return Array.isArray(n)?n.join(" "):n}const KS={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Id={};for(const n in KS)Id[n]={isEnabled:e=>KS[n].some(t=>!!e[t])};function Q5(n){for(const e in n)Id[e]={...Id[e],...n[e]}}const J1=x.createContext({}),Z1=x.createContext({}),Y5=Symbol.for("motionComponentSymbol");function X5({preloadedFeatures:n,createVisualElement:e,useRender:t,useVisualState:r,Component:i}){n&&Q5(n);function s(u,d){let h;const m={...x.useContext(K1),...u,layoutId:J5(u)},{isStatic:g}=m,v=K5(u),E=r(u,g);if(!g&&Em){v.visualElement=H5(i,E,m,e);const R=x.useContext(Z1),k=x.useContext(Q1).strict;v.visualElement&&(h=v.visualElement.loadFeatures(m,k,n,R))}return x.createElement(Tm.Provider,{value:v},h&&v.visualElement?x.createElement(h,{visualElement:v.visualElement,...m}):null,t(i,u,q5(E,v.visualElement,d),E,g,v.visualElement))}const a=x.forwardRef(s);return a[Y5]=i,a}function J5({layoutId:n}){const e=x.useContext(J1).id;return e&&n!==void 0?e+"-"+n:n}function Z5(n){function e(r,i={}){return X5(n(r,i))}if(typeof Proxy>"u")return e;const t=new Map;return new Proxy(e,{get:(r,i)=>(t.has(i)||t.set(i,e(i)),t.get(i))})}const e9=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function D_(n){return typeof n!="string"||n.includes("-")?!1:!!(e9.indexOf(n)>-1||/[A-Z]/.test(n))}const bp={};function t9(n){Object.assign(bp,n)}const jd=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Oa=new Set(jd);function eR(n,{layout:e,layoutId:t}){return Oa.has(n)||n.startsWith("origin")||(e||t!==void 0)&&(!!bp[n]||n==="opacity")}const qn=n=>!!(n&&n.getVelocity),n9={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},r9=jd.length;function i9(n,{enableHardwareAcceleration:e=!0,allowTransformNone:t=!0},r,i){let s="";for(let a=0;a<r9;a++){const u=jd[a];if(n[u]!==void 0){const d=n9[u]||u;s+=`${d}(${n[u]}) `}}return e&&!n.z&&(s+="translateZ(0)"),s=s.trim(),i?s=i(n,r?"":s):t&&r&&(s="none"),s}const tR=n=>e=>typeof e=="string"&&e.startsWith(n),nR=tR("--"),Uv=tR("var(--"),s9=/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,o9=(n,e)=>e&&typeof n=="number"?e.transform(n):n,fo=(n,e,t)=>Math.min(Math.max(t,n),e),Ma={test:n=>typeof n=="number",parse:parseFloat,transform:n=>n},ed={...Ma,transform:n=>fo(0,1,n)},wf={...Ma,default:1},td=n=>Math.round(n*1e5)/1e5,Pm=/(-)?([\d]*\.?[\d])+/g,rR=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,a9=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function Bd(n){return typeof n=="string"}const $d=n=>({test:e=>Bd(e)&&e.endsWith(n)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${n}`}),js=$d("deg"),pi=$d("%"),Ve=$d("px"),l9=$d("vh"),u9=$d("vw"),QS={...pi,parse:n=>pi.parse(n)/100,transform:n=>pi.transform(n*100)},YS={...Ma,transform:Math.round},iR={borderWidth:Ve,borderTopWidth:Ve,borderRightWidth:Ve,borderBottomWidth:Ve,borderLeftWidth:Ve,borderRadius:Ve,radius:Ve,borderTopLeftRadius:Ve,borderTopRightRadius:Ve,borderBottomRightRadius:Ve,borderBottomLeftRadius:Ve,width:Ve,maxWidth:Ve,height:Ve,maxHeight:Ve,size:Ve,top:Ve,right:Ve,bottom:Ve,left:Ve,padding:Ve,paddingTop:Ve,paddingRight:Ve,paddingBottom:Ve,paddingLeft:Ve,margin:Ve,marginTop:Ve,marginRight:Ve,marginBottom:Ve,marginLeft:Ve,rotate:js,rotateX:js,rotateY:js,rotateZ:js,scale:wf,scaleX:wf,scaleY:wf,scaleZ:wf,skew:js,skewX:js,skewY:js,distance:Ve,translateX:Ve,translateY:Ve,translateZ:Ve,x:Ve,y:Ve,z:Ve,perspective:Ve,transformPerspective:Ve,opacity:ed,originX:QS,originY:QS,originZ:Ve,zIndex:YS,fillOpacity:ed,strokeOpacity:ed,numOctaves:YS};function N_(n,e,t,r){const{style:i,vars:s,transform:a,transformOrigin:u}=n;let d=!1,h=!1,m=!0;for(const g in e){const v=e[g];if(nR(g)){s[g]=v;continue}const E=iR[g],R=o9(v,E);if(Oa.has(g)){if(d=!0,a[g]=R,!m)continue;v!==(E.default||0)&&(m=!1)}else g.startsWith("origin")?(h=!0,u[g]=R):i[g]=R}if(e.transform||(d||r?i.transform=i9(n.transform,t,m,r):i.transform&&(i.transform="none")),h){const{originX:g="50%",originY:v="50%",originZ:E=0}=u;i.transformOrigin=`${g} ${v} ${E}`}}const V_=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function sR(n,e,t){for(const r in e)!qn(e[r])&&!eR(r,t)&&(n[r]=e[r])}function c9({transformTemplate:n},e,t){return x.useMemo(()=>{const r=V_();return N_(r,e,{enableHardwareAcceleration:!t},n),Object.assign({},r.vars,r.style)},[e])}function d9(n,e,t){const r=n.style||{},i={};return sR(i,r,n),Object.assign(i,c9(n,e,t)),n.transformValues?n.transformValues(i):i}function h9(n,e,t){const r={},i=d9(n,e,t);return n.drag&&n.dragListener!==!1&&(r.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=n.drag===!0?"none":`pan-${n.drag==="x"?"y":"x"}`),n.tabIndex===void 0&&(n.onTap||n.onTapStart||n.whileTap)&&(r.tabIndex=0),r.style=i,r}const f9=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function xp(n){return n.startsWith("while")||n.startsWith("drag")&&n!=="draggable"||n.startsWith("layout")||n.startsWith("onTap")||n.startsWith("onPan")||n.startsWith("onLayout")||f9.has(n)}let oR=n=>!xp(n);function p9(n){n&&(oR=e=>e.startsWith("on")?!xp(e):n(e))}try{p9(require("@emotion/is-prop-valid").default)}catch{}function m9(n,e,t){const r={};for(const i in n)i==="values"&&typeof n.values=="object"||(oR(i)||t===!0&&xp(i)||!e&&!xp(i)||n.draggable&&i.startsWith("onDrag"))&&(r[i]=n[i]);return r}function XS(n,e,t){return typeof n=="string"?n:Ve.transform(e+t*n)}function g9(n,e,t){const r=XS(e,n.x,n.width),i=XS(t,n.y,n.height);return`${r} ${i}`}const y9={offset:"stroke-dashoffset",array:"stroke-dasharray"},v9={offset:"strokeDashoffset",array:"strokeDasharray"};function w9(n,e,t=1,r=0,i=!0){n.pathLength=1;const s=i?y9:v9;n[s.offset]=Ve.transform(-r);const a=Ve.transform(e),u=Ve.transform(t);n[s.array]=`${a} ${u}`}function O_(n,{attrX:e,attrY:t,attrScale:r,originX:i,originY:s,pathLength:a,pathSpacing:u=1,pathOffset:d=0,...h},m,g,v){if(N_(n,h,m,v),g){n.style.viewBox&&(n.attrs.viewBox=n.style.viewBox);return}n.attrs=n.style,n.style={};const{attrs:E,style:R,dimensions:k}=n;E.transform&&(k&&(R.transform=E.transform),delete E.transform),k&&(i!==void 0||s!==void 0||R.transform)&&(R.transformOrigin=g9(k,i!==void 0?i:.5,s!==void 0?s:.5)),e!==void 0&&(E.x=e),t!==void 0&&(E.y=t),r!==void 0&&(E.scale=r),a!==void 0&&w9(E,a,u,d,!1)}const aR=()=>({...V_(),attrs:{}}),M_=n=>typeof n=="string"&&n.toLowerCase()==="svg";function _9(n,e,t,r){const i=x.useMemo(()=>{const s=aR();return O_(s,e,{enableHardwareAcceleration:!1},M_(r),n.transformTemplate),{...s.attrs,style:{...s.style}}},[e]);if(n.style){const s={};sR(s,n.style,n),i.style={...s,...i.style}}return i}function T9(n=!1){return(t,r,i,{latestValues:s},a)=>{const d=(D_(t)?_9:h9)(r,s,a,t),m={...m9(r,typeof t=="string",n),...d,ref:i},{children:g}=r,v=x.useMemo(()=>qn(g)?g.get():g,[g]);return x.createElement(t,{...m,children:v})}}function lR(n,{style:e,vars:t},r,i){Object.assign(n.style,e,i&&i.getProjectionStyles(r));for(const s in t)n.style.setProperty(s,t[s])}const uR=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function cR(n,e,t,r){lR(n,e,void 0,r);for(const i in e.attrs)n.setAttribute(uR.has(i)?i:x_(i),e.attrs[i])}function L_(n,e){const{style:t}=n,r={};for(const i in t)(qn(t[i])||e.style&&qn(e.style[i])||eR(i,n))&&(r[i]=t[i]);return r}function dR(n,e){const t=L_(n,e);for(const r in n)if(qn(n[r])||qn(e[r])){const i=jd.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;t[i]=n[r]}return t}function F_(n,e,t,r={},i={}){return typeof e=="function"&&(e=e(t!==void 0?t:n.custom,r,i)),typeof e=="string"&&(e=n.variants&&n.variants[e]),typeof e=="function"&&(e=e(t!==void 0?t:n.custom,r,i)),e}function E9(n){const e=x.useRef(null);return e.current===null&&(e.current=n()),e.current}const Rp=n=>Array.isArray(n),I9=n=>!!(n&&typeof n=="object"&&n.mix&&n.toValue),S9=n=>Rp(n)?n[n.length-1]||0:n;function Bf(n){const e=qn(n)?n.get():n;return I9(e)?e.toValue():e}function P9({scrapeMotionValuesFromProps:n,createRenderState:e,onMount:t},r,i,s){const a={latestValues:C9(r,i,s,n),renderState:e()};return t&&(a.mount=u=>t(r,u,a)),a}const hR=n=>(e,t)=>{const r=x.useContext(Tm),i=x.useContext(b_),s=()=>P9(n,e,r,i);return t?s():E9(s)};function C9(n,e,t,r){const i={},s=r(n,{});for(const v in s)i[v]=Bf(s[v]);let{initial:a,animate:u}=n;const d=Sm(n),h=X1(n);e&&h&&!d&&n.inherit!==!1&&(a===void 0&&(a=e.initial),u===void 0&&(u=e.animate));let m=t?t.initial===!1:!1;m=m||a===!1;const g=m?u:a;return g&&typeof g!="boolean"&&!Im(g)&&(Array.isArray(g)?g:[g]).forEach(E=>{const R=F_(n,E);if(!R)return;const{transitionEnd:k,transition:A,...j}=R;for(const O in j){let F=j[O];if(Array.isArray(F)){const z=m?F.length-1:0;F=F[z]}F!==null&&(i[O]=F)}for(const O in k)i[O]=k[O]}),i}const jt=n=>n;class JS{constructor(){this.order=[],this.scheduled=new Set}add(e){if(!this.scheduled.has(e))return this.scheduled.add(e),this.order.push(e),!0}remove(e){const t=this.order.indexOf(e);t!==-1&&(this.order.splice(t,1),this.scheduled.delete(e))}clear(){this.order.length=0,this.scheduled.clear()}}function A9(n){let e=new JS,t=new JS,r=0,i=!1,s=!1;const a=new WeakSet,u={schedule:(d,h=!1,m=!1)=>{const g=m&&i,v=g?e:t;return h&&a.add(d),v.add(d)&&g&&i&&(r=e.order.length),d},cancel:d=>{t.remove(d),a.delete(d)},process:d=>{if(i){s=!0;return}if(i=!0,[e,t]=[t,e],t.clear(),r=e.order.length,r)for(let h=0;h<r;h++){const m=e.order[h];m(d),a.has(m)&&(u.schedule(m),n())}i=!1,s&&(s=!1,u.process(d))}};return u}const _f=["prepare","read","update","preRender","render","postRender"],b9=40;function x9(n,e){let t=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},s=_f.reduce((g,v)=>(g[v]=A9(()=>t=!0),g),{}),a=g=>s[g].process(i),u=()=>{const g=performance.now();t=!1,i.delta=r?1e3/60:Math.max(Math.min(g-i.timestamp,b9),1),i.timestamp=g,i.isProcessing=!0,_f.forEach(a),i.isProcessing=!1,t&&e&&(r=!1,n(u))},d=()=>{t=!0,r=!0,i.isProcessing||n(u)};return{schedule:_f.reduce((g,v)=>{const E=s[v];return g[v]=(R,k=!1,A=!1)=>(t||d(),E.schedule(R,k,A)),g},{}),cancel:g=>_f.forEach(v=>s[v].cancel(g)),state:i,steps:s}}const{schedule:Tt,cancel:Yi,state:In,steps:xy}=x9(typeof requestAnimationFrame<"u"?requestAnimationFrame:jt,!0),R9={useVisualState:hR({scrapeMotionValuesFromProps:dR,createRenderState:aR,onMount:(n,e,{renderState:t,latestValues:r})=>{Tt.read(()=>{try{t.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{t.dimensions={x:0,y:0,width:0,height:0}}}),Tt.render(()=>{O_(t,r,{enableHardwareAcceleration:!1},M_(e.tagName),n.transformTemplate),cR(e,t)})}})},k9={useVisualState:hR({scrapeMotionValuesFromProps:L_,createRenderState:V_})};function D9(n,{forwardMotionProps:e=!1},t,r){return{...D_(n)?R9:k9,preloadedFeatures:t,useRender:T9(e),createVisualElement:r,Component:n}}function $i(n,e,t,r={passive:!0}){return n.addEventListener(e,t,r),()=>n.removeEventListener(e,t)}const fR=n=>n.pointerType==="mouse"?typeof n.button!="number"||n.button<=0:n.isPrimary!==!1;function Cm(n,e="page"){return{point:{x:n[e+"X"],y:n[e+"Y"]}}}const N9=n=>e=>fR(e)&&n(e,Cm(e));function zi(n,e,t,r){return $i(n,e,N9(t),r)}const V9=(n,e)=>t=>e(n(t)),no=(...n)=>n.reduce(V9);function pR(n){let e=null;return()=>{const t=()=>{e=null};return e===null?(e=n,t):!1}}const ZS=pR("dragHorizontal"),eP=pR("dragVertical");function mR(n){let e=!1;if(n==="y")e=eP();else if(n==="x")e=ZS();else{const t=ZS(),r=eP();t&&r?e=()=>{t(),r()}:(t&&t(),r&&r())}return e}function gR(){const n=mR(!0);return n?(n(),!1):!0}class Eo{constructor(e){this.isMounted=!1,this.node=e}update(){}}function tP(n,e){const t="pointer"+(e?"enter":"leave"),r="onHover"+(e?"Start":"End"),i=(s,a)=>{if(s.pointerType==="touch"||gR())return;const u=n.getProps();n.animationState&&u.whileHover&&n.animationState.setActive("whileHover",e),u[r]&&Tt.update(()=>u[r](s,a))};return zi(n.current,t,i,{passive:!n.getProps()[r]})}class O9 extends Eo{mount(){this.unmount=no(tP(this.node,!0),tP(this.node,!1))}unmount(){}}class M9 extends Eo{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=no($i(this.node.current,"focus",()=>this.onFocus()),$i(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const yR=(n,e)=>e?n===e?!0:yR(n,e.parentElement):!1;function Ry(n,e){if(!e)return;const t=new PointerEvent("pointer"+n);e(t,Cm(t))}class L9 extends Eo{constructor(){super(...arguments),this.removeStartListeners=jt,this.removeEndListeners=jt,this.removeAccessibleListeners=jt,this.startPointerPress=(e,t)=>{if(this.isPressing)return;this.removeEndListeners();const r=this.node.getProps(),s=zi(window,"pointerup",(u,d)=>{if(!this.checkPressEnd())return;const{onTap:h,onTapCancel:m,globalTapTarget:g}=this.node.getProps();Tt.update(()=>{!g&&!yR(this.node.current,u.target)?m&&m(u,d):h&&h(u,d)})},{passive:!(r.onTap||r.onPointerUp)}),a=zi(window,"pointercancel",(u,d)=>this.cancelPress(u,d),{passive:!(r.onTapCancel||r.onPointerCancel)});this.removeEndListeners=no(s,a),this.startPress(e,t)},this.startAccessiblePress=()=>{const e=s=>{if(s.key!=="Enter"||this.isPressing)return;const a=u=>{u.key!=="Enter"||!this.checkPressEnd()||Ry("up",(d,h)=>{const{onTap:m}=this.node.getProps();m&&Tt.update(()=>m(d,h))})};this.removeEndListeners(),this.removeEndListeners=$i(this.node.current,"keyup",a),Ry("down",(u,d)=>{this.startPress(u,d)})},t=$i(this.node.current,"keydown",e),r=()=>{this.isPressing&&Ry("cancel",(s,a)=>this.cancelPress(s,a))},i=$i(this.node.current,"blur",r);this.removeAccessibleListeners=no(t,i)}}startPress(e,t){this.isPressing=!0;const{onTapStart:r,whileTap:i}=this.node.getProps();i&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),r&&Tt.update(()=>r(e,t))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!gR()}cancelPress(e,t){if(!this.checkPressEnd())return;const{onTapCancel:r}=this.node.getProps();r&&Tt.update(()=>r(e,t))}mount(){const e=this.node.getProps(),t=zi(e.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(e.onTapStart||e.onPointerStart)}),r=$i(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=no(t,r)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const jv=new WeakMap,ky=new WeakMap,F9=n=>{const e=jv.get(n.target);e&&e(n)},U9=n=>{n.forEach(F9)};function j9({root:n,...e}){const t=n||document;ky.has(t)||ky.set(t,{});const r=ky.get(t),i=JSON.stringify(e);return r[i]||(r[i]=new IntersectionObserver(U9,{root:n,...e})),r[i]}function B9(n,e,t){const r=j9(e);return jv.set(n,t),r.observe(n),()=>{jv.delete(n),r.unobserve(n)}}const $9={some:0,all:1};class z9 extends Eo{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:t,margin:r,amount:i="some",once:s}=e,a={root:t?t.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:$9[i]},u=d=>{const{isIntersecting:h}=d;if(this.isInView===h||(this.isInView=h,s&&!h&&this.hasEnteredView))return;h&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",h);const{onViewportEnter:m,onViewportLeave:g}=this.node.getProps(),v=h?m:g;v&&v(d)};return B9(this.node.current,a,u)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:t}=this.node;["amount","margin","root"].some(W9(e,t))&&this.startObserver()}unmount(){}}function W9({viewport:n={}},{viewport:e={}}={}){return t=>n[t]!==e[t]}const H9={inView:{Feature:z9},tap:{Feature:L9},focus:{Feature:M9},hover:{Feature:O9}};function vR(n,e){if(!Array.isArray(e))return!1;const t=e.length;if(t!==n.length)return!1;for(let r=0;r<t;r++)if(e[r]!==n[r])return!1;return!0}function q9(n){const e={};return n.values.forEach((t,r)=>e[r]=t.get()),e}function G9(n){const e={};return n.values.forEach((t,r)=>e[r]=t.getVelocity()),e}function Am(n,e,t){const r=n.getProps();return F_(r,e,t!==void 0?t:r.custom,q9(n),G9(n))}let U_=jt;const ga=n=>n*1e3,Wi=n=>n/1e3,K9={current:!1},wR=n=>Array.isArray(n)&&typeof n[0]=="number";function _R(n){return!!(!n||typeof n=="string"&&TR[n]||wR(n)||Array.isArray(n)&&n.every(_R))}const $c=([n,e,t,r])=>`cubic-bezier(${n}, ${e}, ${t}, ${r})`,TR={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:$c([0,.65,.55,1]),circOut:$c([.55,0,1,.45]),backIn:$c([.31,.01,.66,-.59]),backOut:$c([.33,1.53,.69,.99])};function ER(n){if(n)return wR(n)?$c(n):Array.isArray(n)?n.map(ER):TR[n]}function Q9(n,e,t,{delay:r=0,duration:i,repeat:s=0,repeatType:a="loop",ease:u,times:d}={}){const h={[e]:t};d&&(h.offset=d);const m=ER(u);return Array.isArray(m)&&(h.easing=m),n.animate(h,{delay:r,duration:i,easing:Array.isArray(m)?"linear":m,fill:"both",iterations:s+1,direction:a==="reverse"?"alternate":"normal"})}function Y9(n,{repeat:e,repeatType:t="loop"}){const r=e&&t!=="loop"&&e%2===1?0:n.length-1;return n[r]}const IR=(n,e,t)=>(((1-3*t+3*e)*n+(3*t-6*e))*n+3*e)*n,X9=1e-7,J9=12;function Z9(n,e,t,r,i){let s,a,u=0;do a=e+(t-e)/2,s=IR(a,r,i)-n,s>0?t=a:e=a;while(Math.abs(s)>X9&&++u<J9);return a}function zd(n,e,t,r){if(n===e&&t===r)return jt;const i=s=>Z9(s,0,1,n,t);return s=>s===0||s===1?s:IR(i(s),e,r)}const e$=zd(.42,0,1,1),t$=zd(0,0,.58,1),SR=zd(.42,0,.58,1),n$=n=>Array.isArray(n)&&typeof n[0]!="number",PR=n=>e=>e<=.5?n(2*e)/2:(2-n(2*(1-e)))/2,CR=n=>e=>1-n(1-e),j_=n=>1-Math.sin(Math.acos(n)),AR=CR(j_),r$=PR(j_),bR=zd(.33,1.53,.69,.99),B_=CR(bR),i$=PR(B_),s$=n=>(n*=2)<1?.5*B_(n):.5*(2-Math.pow(2,-10*(n-1))),o$={linear:jt,easeIn:e$,easeInOut:SR,easeOut:t$,circIn:j_,circInOut:r$,circOut:AR,backIn:B_,backInOut:i$,backOut:bR,anticipate:s$},nP=n=>{if(Array.isArray(n)){U_(n.length===4);const[e,t,r,i]=n;return zd(e,t,r,i)}else if(typeof n=="string")return o$[n];return n},$_=(n,e)=>t=>!!(Bd(t)&&a9.test(t)&&t.startsWith(n)||e&&Object.prototype.hasOwnProperty.call(t,e)),xR=(n,e,t)=>r=>{if(!Bd(r))return r;const[i,s,a,u]=r.match(Pm);return{[n]:parseFloat(i),[e]:parseFloat(s),[t]:parseFloat(a),alpha:u!==void 0?parseFloat(u):1}},a$=n=>fo(0,255,n),Dy={...Ma,transform:n=>Math.round(a$(n))},ha={test:$_("rgb","red"),parse:xR("red","green","blue"),transform:({red:n,green:e,blue:t,alpha:r=1})=>"rgba("+Dy.transform(n)+", "+Dy.transform(e)+", "+Dy.transform(t)+", "+td(ed.transform(r))+")"};function l$(n){let e="",t="",r="",i="";return n.length>5?(e=n.substring(1,3),t=n.substring(3,5),r=n.substring(5,7),i=n.substring(7,9)):(e=n.substring(1,2),t=n.substring(2,3),r=n.substring(3,4),i=n.substring(4,5),e+=e,t+=t,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(t,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const Bv={test:$_("#"),parse:l$,transform:ha.transform},Bl={test:$_("hsl","hue"),parse:xR("hue","saturation","lightness"),transform:({hue:n,saturation:e,lightness:t,alpha:r=1})=>"hsla("+Math.round(n)+", "+pi.transform(td(e))+", "+pi.transform(td(t))+", "+td(ed.transform(r))+")"},Dn={test:n=>ha.test(n)||Bv.test(n)||Bl.test(n),parse:n=>ha.test(n)?ha.parse(n):Bl.test(n)?Bl.parse(n):Bv.parse(n),transform:n=>Bd(n)?n:n.hasOwnProperty("red")?ha.transform(n):Bl.transform(n)},Rt=(n,e,t)=>-t*n+t*e+n;function Ny(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*6*t:t<1/2?e:t<2/3?n+(e-n)*(2/3-t)*6:n}function u$({hue:n,saturation:e,lightness:t,alpha:r}){n/=360,e/=100,t/=100;let i=0,s=0,a=0;if(!e)i=s=a=t;else{const u=t<.5?t*(1+e):t+e-t*e,d=2*t-u;i=Ny(d,u,n+1/3),s=Ny(d,u,n),a=Ny(d,u,n-1/3)}return{red:Math.round(i*255),green:Math.round(s*255),blue:Math.round(a*255),alpha:r}}const Vy=(n,e,t)=>{const r=n*n;return Math.sqrt(Math.max(0,t*(e*e-r)+r))},c$=[Bv,ha,Bl],d$=n=>c$.find(e=>e.test(n));function rP(n){const e=d$(n);let t=e.parse(n);return e===Bl&&(t=u$(t)),t}const RR=(n,e)=>{const t=rP(n),r=rP(e),i={...t};return s=>(i.red=Vy(t.red,r.red,s),i.green=Vy(t.green,r.green,s),i.blue=Vy(t.blue,r.blue,s),i.alpha=Rt(t.alpha,r.alpha,s),ha.transform(i))};function h$(n){var e,t;return isNaN(n)&&Bd(n)&&(((e=n.match(Pm))===null||e===void 0?void 0:e.length)||0)+(((t=n.match(rR))===null||t===void 0?void 0:t.length)||0)>0}const kR={regex:s9,countKey:"Vars",token:"${v}",parse:jt},DR={regex:rR,countKey:"Colors",token:"${c}",parse:Dn.parse},NR={regex:Pm,countKey:"Numbers",token:"${n}",parse:Ma.parse};function Oy(n,{regex:e,countKey:t,token:r,parse:i}){const s=n.tokenised.match(e);s&&(n["num"+t]=s.length,n.tokenised=n.tokenised.replace(e,r),n.values.push(...s.map(i)))}function kp(n){const e=n.toString(),t={value:e,tokenised:e,values:[],numVars:0,numColors:0,numNumbers:0};return t.value.includes("var(--")&&Oy(t,kR),Oy(t,DR),Oy(t,NR),t}function VR(n){return kp(n).values}function OR(n){const{values:e,numColors:t,numVars:r,tokenised:i}=kp(n),s=e.length;return a=>{let u=i;for(let d=0;d<s;d++)d<r?u=u.replace(kR.token,a[d]):d<r+t?u=u.replace(DR.token,Dn.transform(a[d])):u=u.replace(NR.token,td(a[d]));return u}}const f$=n=>typeof n=="number"?0:n;function p$(n){const e=VR(n);return OR(n)(e.map(f$))}const po={test:h$,parse:VR,createTransformer:OR,getAnimatableNone:p$},MR=(n,e)=>t=>`${t>0?e:n}`;function LR(n,e){return typeof n=="number"?t=>Rt(n,e,t):Dn.test(n)?RR(n,e):n.startsWith("var(")?MR(n,e):UR(n,e)}const FR=(n,e)=>{const t=[...n],r=t.length,i=n.map((s,a)=>LR(s,e[a]));return s=>{for(let a=0;a<r;a++)t[a]=i[a](s);return t}},m$=(n,e)=>{const t={...n,...e},r={};for(const i in t)n[i]!==void 0&&e[i]!==void 0&&(r[i]=LR(n[i],e[i]));return i=>{for(const s in r)t[s]=r[s](i);return t}},UR=(n,e)=>{const t=po.createTransformer(e),r=kp(n),i=kp(e);return r.numVars===i.numVars&&r.numColors===i.numColors&&r.numNumbers>=i.numNumbers?no(FR(r.values,i.values),t):MR(n,e)},Sd=(n,e,t)=>{const r=e-n;return r===0?1:(t-n)/r},iP=(n,e)=>t=>Rt(n,e,t);function g$(n){return typeof n=="number"?iP:typeof n=="string"?Dn.test(n)?RR:UR:Array.isArray(n)?FR:typeof n=="object"?m$:iP}function y$(n,e,t){const r=[],i=t||g$(n[0]),s=n.length-1;for(let a=0;a<s;a++){let u=i(n[a],n[a+1]);if(e){const d=Array.isArray(e)?e[a]||jt:e;u=no(d,u)}r.push(u)}return r}function jR(n,e,{clamp:t=!0,ease:r,mixer:i}={}){const s=n.length;if(U_(s===e.length),s===1)return()=>e[0];n[0]>n[s-1]&&(n=[...n].reverse(),e=[...e].reverse());const a=y$(e,r,i),u=a.length,d=h=>{let m=0;if(u>1)for(;m<n.length-2&&!(h<n[m+1]);m++);const g=Sd(n[m],n[m+1],h);return a[m](g)};return t?h=>d(fo(n[0],n[s-1],h)):d}function v$(n,e){const t=n[n.length-1];for(let r=1;r<=e;r++){const i=Sd(0,e,r);n.push(Rt(t,1,i))}}function w$(n){const e=[0];return v$(e,n.length-1),e}function _$(n,e){return n.map(t=>t*e)}function T$(n,e){return n.map(()=>e||SR).splice(0,n.length-1)}function Dp({duration:n=300,keyframes:e,times:t,ease:r="easeInOut"}){const i=n$(r)?r.map(nP):nP(r),s={done:!1,value:e[0]},a=_$(t&&t.length===e.length?t:w$(e),n),u=jR(a,e,{ease:Array.isArray(i)?i:T$(e,i)});return{calculatedDuration:n,next:d=>(s.value=u(d),s.done=d>=n,s)}}function BR(n,e){return e?n*(1e3/e):0}const E$=5;function $R(n,e,t){const r=Math.max(e-E$,0);return BR(t-n(r),e-r)}const My=.001,I$=.01,S$=10,P$=.05,C$=1;function A$({duration:n=800,bounce:e=.25,velocity:t=0,mass:r=1}){let i,s,a=1-e;a=fo(P$,C$,a),n=fo(I$,S$,Wi(n)),a<1?(i=h=>{const m=h*a,g=m*n,v=m-t,E=$v(h,a),R=Math.exp(-g);return My-v/E*R},s=h=>{const g=h*a*n,v=g*t+t,E=Math.pow(a,2)*Math.pow(h,2)*n,R=Math.exp(-g),k=$v(Math.pow(h,2),a);return(-i(h)+My>0?-1:1)*((v-E)*R)/k}):(i=h=>{const m=Math.exp(-h*n),g=(h-t)*n+1;return-My+m*g},s=h=>{const m=Math.exp(-h*n),g=(t-h)*(n*n);return m*g});const u=5/n,d=x$(i,s,u);if(n=ga(n),isNaN(d))return{stiffness:100,damping:10,duration:n};{const h=Math.pow(d,2)*r;return{stiffness:h,damping:a*2*Math.sqrt(r*h),duration:n}}}const b$=12;function x$(n,e,t){let r=t;for(let i=1;i<b$;i++)r=r-n(r)/e(r);return r}function $v(n,e){return n*Math.sqrt(1-e*e)}const R$=["duration","bounce"],k$=["stiffness","damping","mass"];function sP(n,e){return e.some(t=>n[t]!==void 0)}function D$(n){let e={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...n};if(!sP(n,k$)&&sP(n,R$)){const t=A$(n);e={...e,...t,mass:1},e.isResolvedFromDuration=!0}return e}function zR({keyframes:n,restDelta:e,restSpeed:t,...r}){const i=n[0],s=n[n.length-1],a={done:!1,value:i},{stiffness:u,damping:d,mass:h,duration:m,velocity:g,isResolvedFromDuration:v}=D$({...r,velocity:-Wi(r.velocity||0)}),E=g||0,R=d/(2*Math.sqrt(u*h)),k=s-i,A=Wi(Math.sqrt(u/h)),j=Math.abs(k)<5;t||(t=j?.01:2),e||(e=j?.005:.5);let O;if(R<1){const F=$v(A,R);O=z=>{const te=Math.exp(-R*A*z);return s-te*((E+R*A*k)/F*Math.sin(F*z)+k*Math.cos(F*z))}}else if(R===1)O=F=>s-Math.exp(-A*F)*(k+(E+A*k)*F);else{const F=A*Math.sqrt(R*R-1);O=z=>{const te=Math.exp(-R*A*z),Y=Math.min(F*z,300);return s-te*((E+R*A*k)*Math.sinh(Y)+F*k*Math.cosh(Y))/F}}return{calculatedDuration:v&&m||null,next:F=>{const z=O(F);if(v)a.done=F>=m;else{let te=E;F!==0&&(R<1?te=$R(O,F,z):te=0);const Y=Math.abs(te)<=t,C=Math.abs(s-z)<=e;a.done=Y&&C}return a.value=a.done?s:z,a}}}function oP({keyframes:n,velocity:e=0,power:t=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:s=500,modifyTarget:a,min:u,max:d,restDelta:h=.5,restSpeed:m}){const g=n[0],v={done:!1,value:g},E=S=>u!==void 0&&S<u||d!==void 0&&S>d,R=S=>u===void 0?d:d===void 0||Math.abs(u-S)<Math.abs(d-S)?u:d;let k=t*e;const A=g+k,j=a===void 0?A:a(A);j!==A&&(k=j-g);const O=S=>-k*Math.exp(-S/r),F=S=>j+O(S),z=S=>{const D=O(S),L=F(S);v.done=Math.abs(D)<=h,v.value=v.done?j:L};let te,Y;const C=S=>{E(v.value)&&(te=S,Y=zR({keyframes:[v.value,R(v.value)],velocity:$R(F,S,v.value),damping:i,stiffness:s,restDelta:h,restSpeed:m}))};return C(0),{calculatedDuration:null,next:S=>{let D=!1;return!Y&&te===void 0&&(D=!0,z(S),C(S)),te!==void 0&&S>te?Y.next(S-te):(!D&&z(S),v)}}}const N$=n=>{const e=({timestamp:t})=>n(t);return{start:()=>Tt.update(e,!0),stop:()=>Yi(e),now:()=>In.isProcessing?In.timestamp:performance.now()}},aP=2e4;function lP(n){let e=0;const t=50;let r=n.next(e);for(;!r.done&&e<aP;)e+=t,r=n.next(e);return e>=aP?1/0:e}const V$={decay:oP,inertia:oP,tween:Dp,keyframes:Dp,spring:zR};function Np({autoplay:n=!0,delay:e=0,driver:t=N$,keyframes:r,type:i="keyframes",repeat:s=0,repeatDelay:a=0,repeatType:u="loop",onPlay:d,onStop:h,onComplete:m,onUpdate:g,...v}){let E=1,R=!1,k,A;const j=()=>{A=new Promise(N=>{k=N})};j();let O;const F=V$[i]||Dp;let z;F!==Dp&&typeof r[0]!="number"&&(z=jR([0,100],r,{clamp:!1}),r=[0,100]);const te=F({...v,keyframes:r});let Y;u==="mirror"&&(Y=F({...v,keyframes:[...r].reverse(),velocity:-(v.velocity||0)}));let C="idle",S=null,D=null,L=null;te.calculatedDuration===null&&s&&(te.calculatedDuration=lP(te));const{calculatedDuration:M}=te;let U=1/0,P=1/0;M!==null&&(U=M+a,P=U*(s+1)-a);let X=0;const se=N=>{if(D===null)return;E>0&&(D=Math.min(D,N)),E<0&&(D=Math.min(N-P/E,D)),S!==null?X=S:X=Math.round(N-D)*E;const Q=X-e*(E>=0?1:-1),he=E>=0?Q<0:Q>P;X=Math.max(Q,0),C==="finished"&&S===null&&(X=P);let me=X,pe=te;if(s){const He=Math.min(X,P)/U;let ct=Math.floor(He),Jt=He%1;!Jt&&He>=1&&(Jt=1),Jt===1&&ct--,ct=Math.min(ct,s+1),ct%2&&(u==="reverse"?(Jt=1-Jt,a&&(Jt-=a/U)):u==="mirror"&&(pe=Y)),me=fo(0,1,Jt)*U}const Se=he?{done:!1,value:r[0]}:pe.next(me);z&&(Se.value=z(Se.value));let{done:Me}=Se;!he&&M!==null&&(Me=E>=0?X>=P:X<=0);const Be=S===null&&(C==="finished"||C==="running"&&Me);return g&&g(Se.value),Be&&ee(),Se},oe=()=>{O&&O.stop(),O=void 0},ie=()=>{C="idle",oe(),k(),j(),D=L=null},ee=()=>{C="finished",m&&m(),oe(),k()},de=()=>{if(R)return;O||(O=t(se));const N=O.now();d&&d(),S!==null?D=N-S:(!D||C==="finished")&&(D=N),C==="finished"&&j(),L=D,S=null,C="running",O.start()};n&&de();const ne={then(N,Q){return A.then(N,Q)},get time(){return Wi(X)},set time(N){N=ga(N),X=N,S!==null||!O||E===0?S=N:D=O.now()-N/E},get duration(){const N=te.calculatedDuration===null?lP(te):te.calculatedDuration;return Wi(N)},get speed(){return E},set speed(N){N===E||!O||(E=N,ne.time=Wi(X))},get state(){return C},play:de,pause:()=>{C="paused",S=X},stop:()=>{R=!0,C!=="idle"&&(C="idle",h&&h(),ie())},cancel:()=>{L!==null&&se(L),ie()},complete:()=>{C="finished"},sample:N=>(D=0,se(N))};return ne}function O$(n){let e;return()=>(e===void 0&&(e=n()),e)}const M$=O$(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),L$=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),Tf=10,F$=2e4,U$=(n,e)=>e.type==="spring"||n==="backgroundColor"||!_R(e.ease);function j$(n,e,{onUpdate:t,onComplete:r,...i}){if(!(M$()&&L$.has(e)&&!i.repeatDelay&&i.repeatType!=="mirror"&&i.damping!==0&&i.type!=="inertia"))return!1;let a=!1,u,d,h=!1;const m=()=>{d=new Promise(F=>{u=F})};m();let{keyframes:g,duration:v=300,ease:E,times:R}=i;if(U$(e,i)){const F=Np({...i,repeat:0,delay:0});let z={done:!1,value:g[0]};const te=[];let Y=0;for(;!z.done&&Y<F$;)z=F.sample(Y),te.push(z.value),Y+=Tf;R=void 0,g=te,v=Y-Tf,E="linear"}const k=Q9(n.owner.current,e,g,{...i,duration:v,ease:E,times:R}),A=()=>{h=!1,k.cancel()},j=()=>{h=!0,Tt.update(A),u(),m()};return k.onfinish=()=>{h||(n.set(Y9(g,i)),r&&r(),j())},{then(F,z){return d.then(F,z)},attachTimeline(F){return k.timeline=F,k.onfinish=null,jt},get time(){return Wi(k.currentTime||0)},set time(F){k.currentTime=ga(F)},get speed(){return k.playbackRate},set speed(F){k.playbackRate=F},get duration(){return Wi(v)},play:()=>{a||(k.play(),Yi(A))},pause:()=>k.pause(),stop:()=>{if(a=!0,k.playState==="idle")return;const{currentTime:F}=k;if(F){const z=Np({...i,autoplay:!1});n.setWithVelocity(z.sample(F-Tf).value,z.sample(F).value,Tf)}j()},complete:()=>{h||k.finish()},cancel:j}}function B$({keyframes:n,delay:e,onUpdate:t,onComplete:r}){const i=()=>(t&&t(n[n.length-1]),r&&r(),{time:0,speed:1,duration:0,play:jt,pause:jt,stop:jt,then:s=>(s(),Promise.resolve()),cancel:jt,complete:jt});return e?Np({keyframes:[0,1],duration:0,delay:e,onComplete:i}):i()}const $$={type:"spring",stiffness:500,damping:25,restSpeed:10},z$=n=>({type:"spring",stiffness:550,damping:n===0?2*Math.sqrt(550):30,restSpeed:10}),W$={type:"keyframes",duration:.8},H$={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},q$=(n,{keyframes:e})=>e.length>2?W$:Oa.has(n)?n.startsWith("scale")?z$(e[1]):$$:H$,zv=(n,e)=>n==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(po.test(e)||e==="0")&&!e.startsWith("url(")),G$=new Set(["brightness","contrast","saturate","opacity"]);function K$(n){const[e,t]=n.slice(0,-1).split("(");if(e==="drop-shadow")return n;const[r]=t.match(Pm)||[];if(!r)return n;const i=t.replace(r,"");let s=G$.has(e)?1:0;return r!==t&&(s*=100),e+"("+s+i+")"}const Q$=/([a-z-]*)\(.*?\)/g,Wv={...po,getAnimatableNone:n=>{const e=n.match(Q$);return e?e.map(K$).join(" "):n}},Y$={...iR,color:Dn,backgroundColor:Dn,outlineColor:Dn,fill:Dn,stroke:Dn,borderColor:Dn,borderTopColor:Dn,borderRightColor:Dn,borderBottomColor:Dn,borderLeftColor:Dn,filter:Wv,WebkitFilter:Wv},z_=n=>Y$[n];function WR(n,e){let t=z_(n);return t!==Wv&&(t=po),t.getAnimatableNone?t.getAnimatableNone(e):void 0}const HR=n=>/^0[^.\s]+$/.test(n);function X$(n){if(typeof n=="number")return n===0;if(n!==null)return n==="none"||n==="0"||HR(n)}function J$(n,e,t,r){const i=zv(e,t);let s;Array.isArray(t)?s=[...t]:s=[null,t];const a=r.from!==void 0?r.from:n.get();let u;const d=[];for(let h=0;h<s.length;h++)s[h]===null&&(s[h]=h===0?a:s[h-1]),X$(s[h])&&d.push(h),typeof s[h]=="string"&&s[h]!=="none"&&s[h]!=="0"&&(u=s[h]);if(i&&d.length&&u)for(let h=0;h<d.length;h++){const m=d[h];s[m]=WR(e,u)}return s}function Z$({when:n,delay:e,delayChildren:t,staggerChildren:r,staggerDirection:i,repeat:s,repeatType:a,repeatDelay:u,from:d,elapsed:h,...m}){return!!Object.keys(m).length}function W_(n,e){return n[e]||n.default||n}const ez={skipAnimations:!1},H_=(n,e,t,r={})=>i=>{const s=W_(r,n)||{},a=s.delay||r.delay||0;let{elapsed:u=0}=r;u=u-ga(a);const d=J$(e,n,t,s),h=d[0],m=d[d.length-1],g=zv(n,h),v=zv(n,m);let E={keyframes:d,velocity:e.getVelocity(),ease:"easeOut",...s,delay:-u,onUpdate:R=>{e.set(R),s.onUpdate&&s.onUpdate(R)},onComplete:()=>{i(),s.onComplete&&s.onComplete()}};if(Z$(s)||(E={...E,...q$(n,E)}),E.duration&&(E.duration=ga(E.duration)),E.repeatDelay&&(E.repeatDelay=ga(E.repeatDelay)),!g||!v||K9.current||s.type===!1||ez.skipAnimations)return B$(E);if(!r.isHandoff&&e.owner&&e.owner.current instanceof HTMLElement&&!e.owner.getProps().onUpdate){const R=j$(e,n,E);if(R)return R}return Np(E)};function Vp(n){return!!(qn(n)&&n.add)}const qR=n=>/^\-?\d*\.?\d+$/.test(n);function q_(n,e){n.indexOf(e)===-1&&n.push(e)}function G_(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}class K_{constructor(){this.subscriptions=[]}add(e){return q_(this.subscriptions,e),()=>G_(this.subscriptions,e)}notify(e,t,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,t,r);else for(let s=0;s<i;s++){const a=this.subscriptions[s];a&&a(e,t,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const tz=n=>!isNaN(parseFloat(n));class nz{constructor(e,t={}){this.version="10.18.0",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(r,i=!0)=>{this.prev=this.current,this.current=r;const{delta:s,timestamp:a}=In;this.lastUpdated!==a&&(this.timeDelta=s,this.lastUpdated=a,Tt.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>Tt.postRender(this.velocityCheck),this.velocityCheck=({timestamp:r})=>{r!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=e,this.canTrackVelocity=tz(this.current),this.owner=t.owner}onChange(e){return this.on("change",e)}on(e,t){this.events[e]||(this.events[e]=new K_);const r=this.events[e].add(t);return e==="change"?()=>{r(),Tt.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,t){this.passiveEffect=e,this.stopPassiveEffect=t}set(e,t=!0){!t||!this.passiveEffect?this.updateAndNotify(e,t):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,t,r){this.set(t),this.prev=e,this.timeDelta=r}jump(e){this.updateAndNotify(e),this.prev=e,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?BR(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(e){return this.stop(),new Promise(t=>{this.hasAnimated=!0,this.animation=e(t),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function yu(n,e){return new nz(n,e)}const GR=n=>e=>e.test(n),rz={test:n=>n==="auto",parse:n=>n},KR=[Ma,Ve,pi,js,u9,l9,rz],Vc=n=>KR.find(GR(n)),iz=[...KR,Dn,po],sz=n=>iz.find(GR(n));function oz(n,e,t){n.hasValue(e)?n.getValue(e).set(t):n.addValue(e,yu(t))}function az(n,e){const t=Am(n,e);let{transitionEnd:r={},transition:i={},...s}=t?n.makeTargetAnimatable(t,!1):{};s={...s,...r};for(const a in s){const u=S9(s[a]);oz(n,a,u)}}function lz(n,e,t){var r,i;const s=Object.keys(e).filter(u=>!n.hasValue(u)),a=s.length;if(a)for(let u=0;u<a;u++){const d=s[u],h=e[d];let m=null;Array.isArray(h)&&(m=h[0]),m===null&&(m=(i=(r=t[d])!==null&&r!==void 0?r:n.readValue(d))!==null&&i!==void 0?i:e[d]),m!=null&&(typeof m=="string"&&(qR(m)||HR(m))?m=parseFloat(m):!sz(m)&&po.test(h)&&(m=WR(d,h)),n.addValue(d,yu(m,{owner:n})),t[d]===void 0&&(t[d]=m),m!==null&&n.setBaseTarget(d,m))}}function uz(n,e){return e?(e[n]||e.default||e).from:void 0}function cz(n,e,t){const r={};for(const i in n){const s=uz(i,e);if(s!==void 0)r[i]=s;else{const a=t.getValue(i);a&&(r[i]=a.get())}}return r}function dz({protectedKeys:n,needsAnimating:e},t){const r=n.hasOwnProperty(t)&&e[t]!==!0;return e[t]=!1,r}function hz(n,e){const t=n.get();if(Array.isArray(e)){for(let r=0;r<e.length;r++)if(e[r]!==t)return!0}else return t!==e}function QR(n,e,{delay:t=0,transitionOverride:r,type:i}={}){let{transition:s=n.getDefaultTransition(),transitionEnd:a,...u}=n.makeTargetAnimatable(e);const d=n.getValue("willChange");r&&(s=r);const h=[],m=i&&n.animationState&&n.animationState.getState()[i];for(const g in u){const v=n.getValue(g),E=u[g];if(!v||E===void 0||m&&dz(m,g))continue;const R={delay:t,elapsed:0,...W_(s||{},g)};if(window.HandoffAppearAnimations){const j=n.getProps()[Y1];if(j){const O=window.HandoffAppearAnimations(j,g,v,Tt);O!==null&&(R.elapsed=O,R.isHandoff=!0)}}let k=!R.isHandoff&&!hz(v,E);if(R.type==="spring"&&(v.getVelocity()||R.velocity)&&(k=!1),v.animation&&(k=!1),k)continue;v.start(H_(g,v,E,n.shouldReduceMotion&&Oa.has(g)?{type:!1}:R));const A=v.animation;Vp(d)&&(d.add(g),A.then(()=>d.remove(g))),h.push(A)}return a&&Promise.all(h).then(()=>{a&&az(n,a)}),h}function Hv(n,e,t={}){const r=Am(n,e,t.custom);let{transition:i=n.getDefaultTransition()||{}}=r||{};t.transitionOverride&&(i=t.transitionOverride);const s=r?()=>Promise.all(QR(n,r,t)):()=>Promise.resolve(),a=n.variantChildren&&n.variantChildren.size?(d=0)=>{const{delayChildren:h=0,staggerChildren:m,staggerDirection:g}=i;return fz(n,e,h+d,m,g,t)}:()=>Promise.resolve(),{when:u}=i;if(u){const[d,h]=u==="beforeChildren"?[s,a]:[a,s];return d().then(()=>h())}else return Promise.all([s(),a(t.delay)])}function fz(n,e,t=0,r=0,i=1,s){const a=[],u=(n.variantChildren.size-1)*r,d=i===1?(h=0)=>h*r:(h=0)=>u-h*r;return Array.from(n.variantChildren).sort(pz).forEach((h,m)=>{h.notify("AnimationStart",e),a.push(Hv(h,e,{...s,delay:t+d(m)}).then(()=>h.notify("AnimationComplete",e)))}),Promise.all(a)}function pz(n,e){return n.sortNodePosition(e)}function mz(n,e,t={}){n.notify("AnimationStart",e);let r;if(Array.isArray(e)){const i=e.map(s=>Hv(n,s,t));r=Promise.all(i)}else if(typeof e=="string")r=Hv(n,e,t);else{const i=typeof e=="function"?Am(n,e,t.custom):e;r=Promise.all(QR(n,i,t))}return r.then(()=>n.notify("AnimationComplete",e))}const gz=[...R_].reverse(),yz=R_.length;function vz(n){return e=>Promise.all(e.map(({animation:t,options:r})=>mz(n,t,r)))}function wz(n){let e=vz(n);const t=Tz();let r=!0;const i=(d,h)=>{const m=Am(n,h);if(m){const{transition:g,transitionEnd:v,...E}=m;d={...d,...E,...v}}return d};function s(d){e=d(n)}function a(d,h){const m=n.getProps(),g=n.getVariantContext(!0)||{},v=[],E=new Set;let R={},k=1/0;for(let j=0;j<yz;j++){const O=gz[j],F=t[O],z=m[O]!==void 0?m[O]:g[O],te=Ed(z),Y=O===h?F.isActive:null;Y===!1&&(k=j);let C=z===g[O]&&z!==m[O]&&te;if(C&&r&&n.manuallyAnimateOnMount&&(C=!1),F.protectedKeys={...R},!F.isActive&&Y===null||!z&&!F.prevProp||Im(z)||typeof z=="boolean")continue;let D=_z(F.prevProp,z)||O===h&&F.isActive&&!C&&te||j>k&&te,L=!1;const M=Array.isArray(z)?z:[z];let U=M.reduce(i,{});Y===!1&&(U={});const{prevResolvedValues:P={}}=F,X={...P,...U},se=oe=>{D=!0,E.has(oe)&&(L=!0,E.delete(oe)),F.needsAnimating[oe]=!0};for(const oe in X){const ie=U[oe],ee=P[oe];if(R.hasOwnProperty(oe))continue;let de=!1;Rp(ie)&&Rp(ee)?de=!vR(ie,ee):de=ie!==ee,de?ie!==void 0?se(oe):E.add(oe):ie!==void 0&&E.has(oe)?se(oe):F.protectedKeys[oe]=!0}F.prevProp=z,F.prevResolvedValues=U,F.isActive&&(R={...R,...U}),r&&n.blockInitialAnimation&&(D=!1),D&&(!C||L)&&v.push(...M.map(oe=>({animation:oe,options:{type:O,...d}})))}if(E.size){const j={};E.forEach(O=>{const F=n.getBaseTarget(O);F!==void 0&&(j[O]=F)}),v.push({animation:j})}let A=!!v.length;return r&&(m.initial===!1||m.initial===m.animate)&&!n.manuallyAnimateOnMount&&(A=!1),r=!1,A?e(v):Promise.resolve()}function u(d,h,m){var g;if(t[d].isActive===h)return Promise.resolve();(g=n.variantChildren)===null||g===void 0||g.forEach(E=>{var R;return(R=E.animationState)===null||R===void 0?void 0:R.setActive(d,h)}),t[d].isActive=h;const v=a(m,d);for(const E in t)t[E].protectedKeys={};return v}return{animateChanges:a,setActive:u,setAnimateFunction:s,getState:()=>t}}function _z(n,e){return typeof e=="string"?e!==n:Array.isArray(e)?!vR(e,n):!1}function Jo(n=!1){return{isActive:n,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Tz(){return{animate:Jo(!0),whileInView:Jo(),whileHover:Jo(),whileTap:Jo(),whileDrag:Jo(),whileFocus:Jo(),exit:Jo()}}class Ez extends Eo{constructor(e){super(e),e.animationState||(e.animationState=wz(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();this.unmount(),Im(e)&&(this.unmount=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:t}=this.node.prevProps||{};e!==t&&this.updateAnimationControlsSubscription()}unmount(){}}let Iz=0;class Sz extends Eo{constructor(){super(...arguments),this.id=Iz++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:t,custom:r}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===i)return;const s=this.node.animationState.setActive("exit",!e,{custom:r??this.node.getProps().custom});t&&!e&&s.then(()=>t(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const Pz={animation:{Feature:Ez},exit:{Feature:Sz}},uP=(n,e)=>Math.abs(n-e);function Cz(n,e){const t=uP(n.x,e.x),r=uP(n.y,e.y);return Math.sqrt(t**2+r**2)}class YR{constructor(e,t,{transformPagePoint:r,contextWindow:i,dragSnapToOrigin:s=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const g=Fy(this.lastMoveEventInfo,this.history),v=this.startEvent!==null,E=Cz(g.offset,{x:0,y:0})>=3;if(!v&&!E)return;const{point:R}=g,{timestamp:k}=In;this.history.push({...R,timestamp:k});const{onStart:A,onMove:j}=this.handlers;v||(A&&A(this.lastMoveEvent,g),this.startEvent=this.lastMoveEvent),j&&j(this.lastMoveEvent,g)},this.handlePointerMove=(g,v)=>{this.lastMoveEvent=g,this.lastMoveEventInfo=Ly(v,this.transformPagePoint),Tt.update(this.updatePoint,!0)},this.handlePointerUp=(g,v)=>{this.end();const{onEnd:E,onSessionEnd:R,resumeAnimation:k}=this.handlers;if(this.dragSnapToOrigin&&k&&k(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const A=Fy(g.type==="pointercancel"?this.lastMoveEventInfo:Ly(v,this.transformPagePoint),this.history);this.startEvent&&E&&E(g,A),R&&R(g,A)},!fR(e))return;this.dragSnapToOrigin=s,this.handlers=t,this.transformPagePoint=r,this.contextWindow=i||window;const a=Cm(e),u=Ly(a,this.transformPagePoint),{point:d}=u,{timestamp:h}=In;this.history=[{...d,timestamp:h}];const{onSessionStart:m}=t;m&&m(e,Fy(u,this.history)),this.removeListeners=no(zi(this.contextWindow,"pointermove",this.handlePointerMove),zi(this.contextWindow,"pointerup",this.handlePointerUp),zi(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Yi(this.updatePoint)}}function Ly(n,e){return e?{point:e(n.point)}:n}function cP(n,e){return{x:n.x-e.x,y:n.y-e.y}}function Fy({point:n},e){return{point:n,delta:cP(n,XR(e)),offset:cP(n,Az(e)),velocity:bz(e,.1)}}function Az(n){return n[0]}function XR(n){return n[n.length-1]}function bz(n,e){if(n.length<2)return{x:0,y:0};let t=n.length-1,r=null;const i=XR(n);for(;t>=0&&(r=n[t],!(i.timestamp-r.timestamp>ga(e)));)t--;if(!r)return{x:0,y:0};const s=Wi(i.timestamp-r.timestamp);if(s===0)return{x:0,y:0};const a={x:(i.x-r.x)/s,y:(i.y-r.y)/s};return a.x===1/0&&(a.x=0),a.y===1/0&&(a.y=0),a}function lr(n){return n.max-n.min}function qv(n,e=0,t=.01){return Math.abs(n-e)<=t}function dP(n,e,t,r=.5){n.origin=r,n.originPoint=Rt(e.min,e.max,n.origin),n.scale=lr(t)/lr(e),(qv(n.scale,1,1e-4)||isNaN(n.scale))&&(n.scale=1),n.translate=Rt(t.min,t.max,n.origin)-n.originPoint,(qv(n.translate)||isNaN(n.translate))&&(n.translate=0)}function nd(n,e,t,r){dP(n.x,e.x,t.x,r?r.originX:void 0),dP(n.y,e.y,t.y,r?r.originY:void 0)}function hP(n,e,t){n.min=t.min+e.min,n.max=n.min+lr(e)}function xz(n,e,t){hP(n.x,e.x,t.x),hP(n.y,e.y,t.y)}function fP(n,e,t){n.min=e.min-t.min,n.max=n.min+lr(e)}function rd(n,e,t){fP(n.x,e.x,t.x),fP(n.y,e.y,t.y)}function Rz(n,{min:e,max:t},r){return e!==void 0&&n<e?n=r?Rt(e,n,r.min):Math.max(n,e):t!==void 0&&n>t&&(n=r?Rt(t,n,r.max):Math.min(n,t)),n}function pP(n,e,t){return{min:e!==void 0?n.min+e:void 0,max:t!==void 0?n.max+t-(n.max-n.min):void 0}}function kz(n,{top:e,left:t,bottom:r,right:i}){return{x:pP(n.x,t,i),y:pP(n.y,e,r)}}function mP(n,e){let t=e.min-n.min,r=e.max-n.max;return e.max-e.min<n.max-n.min&&([t,r]=[r,t]),{min:t,max:r}}function Dz(n,e){return{x:mP(n.x,e.x),y:mP(n.y,e.y)}}function Nz(n,e){let t=.5;const r=lr(n),i=lr(e);return i>r?t=Sd(e.min,e.max-r,n.min):r>i&&(t=Sd(n.min,n.max-i,e.min)),fo(0,1,t)}function Vz(n,e){const t={};return e.min!==void 0&&(t.min=e.min-n.min),e.max!==void 0&&(t.max=e.max-n.min),t}const Gv=.35;function Oz(n=Gv){return n===!1?n=0:n===!0&&(n=Gv),{x:gP(n,"left","right"),y:gP(n,"top","bottom")}}function gP(n,e,t){return{min:yP(n,e),max:yP(n,t)}}function yP(n,e){return typeof n=="number"?n:n[e]||0}const vP=()=>({translate:0,scale:1,origin:0,originPoint:0}),$l=()=>({x:vP(),y:vP()}),wP=()=>({min:0,max:0}),Kt=()=>({x:wP(),y:wP()});function vr(n){return[n("x"),n("y")]}function JR({top:n,left:e,right:t,bottom:r}){return{x:{min:e,max:t},y:{min:n,max:r}}}function Mz({x:n,y:e}){return{top:e.min,right:n.max,bottom:e.max,left:n.min}}function Lz(n,e){if(!e)return n;const t=e({x:n.left,y:n.top}),r=e({x:n.right,y:n.bottom});return{top:t.y,left:t.x,bottom:r.y,right:r.x}}function Uy(n){return n===void 0||n===1}function Kv({scale:n,scaleX:e,scaleY:t}){return!Uy(n)||!Uy(e)||!Uy(t)}function ia(n){return Kv(n)||ZR(n)||n.z||n.rotate||n.rotateX||n.rotateY}function ZR(n){return _P(n.x)||_P(n.y)}function _P(n){return n&&n!=="0%"}function Op(n,e,t){const r=n-t,i=e*r;return t+i}function TP(n,e,t,r,i){return i!==void 0&&(n=Op(n,i,r)),Op(n,t,r)+e}function Qv(n,e=0,t=1,r,i){n.min=TP(n.min,e,t,r,i),n.max=TP(n.max,e,t,r,i)}function ek(n,{x:e,y:t}){Qv(n.x,e.translate,e.scale,e.originPoint),Qv(n.y,t.translate,t.scale,t.originPoint)}function Fz(n,e,t,r=!1){const i=t.length;if(!i)return;e.x=e.y=1;let s,a;for(let u=0;u<i;u++){s=t[u],a=s.projectionDelta;const d=s.instance;d&&d.style&&d.style.display==="contents"||(r&&s.options.layoutScroll&&s.scroll&&s!==s.root&&zl(n,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),a&&(e.x*=a.x.scale,e.y*=a.y.scale,ek(n,a)),r&&ia(s.latestValues)&&zl(n,s.latestValues))}e.x=EP(e.x),e.y=EP(e.y)}function EP(n){return Number.isInteger(n)||n>1.0000000000001||n<.999999999999?n:1}function Bs(n,e){n.min=n.min+e,n.max=n.max+e}function IP(n,e,[t,r,i]){const s=e[i]!==void 0?e[i]:.5,a=Rt(n.min,n.max,s);Qv(n,e[t],e[r],a,e.scale)}const Uz=["x","scaleX","originX"],jz=["y","scaleY","originY"];function zl(n,e){IP(n.x,e,Uz),IP(n.y,e,jz)}function tk(n,e){return JR(Lz(n.getBoundingClientRect(),e))}function Bz(n,e,t){const r=tk(n,t),{scroll:i}=e;return i&&(Bs(r.x,i.offset.x),Bs(r.y,i.offset.y)),r}const nk=({current:n})=>n?n.ownerDocument.defaultView:null,$z=new WeakMap;class zz{constructor(e){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Kt(),this.visualElement=e}start(e,{snapToCursor:t=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const i=m=>{const{dragSnapToOrigin:g}=this.getProps();g?this.pauseAnimation():this.stopAnimation(),t&&this.snapToCursor(Cm(m,"page").point)},s=(m,g)=>{const{drag:v,dragPropagation:E,onDragStart:R}=this.getProps();if(v&&!E&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=mR(v),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),vr(A=>{let j=this.getAxisMotionValue(A).get()||0;if(pi.test(j)){const{projection:O}=this.visualElement;if(O&&O.layout){const F=O.layout.layoutBox[A];F&&(j=lr(F)*(parseFloat(j)/100))}}this.originPoint[A]=j}),R&&Tt.update(()=>R(m,g),!1,!0);const{animationState:k}=this.visualElement;k&&k.setActive("whileDrag",!0)},a=(m,g)=>{const{dragPropagation:v,dragDirectionLock:E,onDirectionLock:R,onDrag:k}=this.getProps();if(!v&&!this.openGlobalLock)return;const{offset:A}=g;if(E&&this.currentDirection===null){this.currentDirection=Wz(A),this.currentDirection!==null&&R&&R(this.currentDirection);return}this.updateAxis("x",g.point,A),this.updateAxis("y",g.point,A),this.visualElement.render(),k&&k(m,g)},u=(m,g)=>this.stop(m,g),d=()=>vr(m=>{var g;return this.getAnimationState(m)==="paused"&&((g=this.getAxisMotionValue(m).animation)===null||g===void 0?void 0:g.play())}),{dragSnapToOrigin:h}=this.getProps();this.panSession=new YR(e,{onSessionStart:i,onStart:s,onMove:a,onSessionEnd:u,resumeAnimation:d},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:h,contextWindow:nk(this.visualElement)})}stop(e,t){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:i}=t;this.startAnimation(i);const{onDragEnd:s}=this.getProps();s&&Tt.update(()=>s(e,t))}cancel(){this.isDragging=!1;const{projection:e,animationState:t}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),t&&t.setActive("whileDrag",!1)}updateAxis(e,t,r){const{drag:i}=this.getProps();if(!r||!Ef(e,i,this.currentDirection))return;const s=this.getAxisMotionValue(e);let a=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(a=Rz(a,this.constraints[e],this.elastic[e])),s.set(a)}resolveConstraints(){var e;const{dragConstraints:t,dragElastic:r}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,s=this.constraints;t&&jl(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&i?this.constraints=kz(i.layoutBox,t):this.constraints=!1,this.elastic=Oz(r),s!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&vr(a=>{this.getAxisMotionValue(a)&&(this.constraints[a]=Vz(i.layoutBox[a],this.constraints[a]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:t}=this.getProps();if(!e||!jl(e))return!1;const r=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const s=Bz(r,i.root,this.visualElement.getTransformPagePoint());let a=Dz(i.layout.layoutBox,s);if(t){const u=t(Mz(a));this.hasMutatedConstraints=!!u,u&&(a=JR(u))}return a}startAnimation(e){const{drag:t,dragMomentum:r,dragElastic:i,dragTransition:s,dragSnapToOrigin:a,onDragTransitionEnd:u}=this.getProps(),d=this.constraints||{},h=vr(m=>{if(!Ef(m,t,this.currentDirection))return;let g=d&&d[m]||{};a&&(g={min:0,max:0});const v=i?200:1e6,E=i?40:1e7,R={type:"inertia",velocity:r?e[m]:0,bounceStiffness:v,bounceDamping:E,timeConstant:750,restDelta:1,restSpeed:10,...s,...g};return this.startAxisValueAnimation(m,R)});return Promise.all(h).then(u)}startAxisValueAnimation(e,t){const r=this.getAxisMotionValue(e);return r.start(H_(e,r,0,t))}stopAnimation(){vr(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){vr(e=>{var t;return(t=this.getAxisMotionValue(e).animation)===null||t===void 0?void 0:t.pause()})}getAnimationState(e){var t;return(t=this.getAxisMotionValue(e).animation)===null||t===void 0?void 0:t.state}getAxisMotionValue(e){const t="_drag"+e.toUpperCase(),r=this.visualElement.getProps(),i=r[t];return i||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){vr(t=>{const{drag:r}=this.getProps();if(!Ef(t,r,this.currentDirection))return;const{projection:i}=this.visualElement,s=this.getAxisMotionValue(t);if(i&&i.layout){const{min:a,max:u}=i.layout.layoutBox[t];s.set(e[t]-Rt(a,u,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:t}=this.getProps(),{projection:r}=this.visualElement;if(!jl(t)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};vr(a=>{const u=this.getAxisMotionValue(a);if(u){const d=u.get();i[a]=Nz({min:d,max:d},this.constraints[a])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),vr(a=>{if(!Ef(a,e,null))return;const u=this.getAxisMotionValue(a),{min:d,max:h}=this.constraints[a];u.set(Rt(d,h,i[a]))})}addListeners(){if(!this.visualElement.current)return;$z.set(this.visualElement,this);const e=this.visualElement.current,t=zi(e,"pointerdown",d=>{const{drag:h,dragListener:m=!0}=this.getProps();h&&m&&this.start(d)}),r=()=>{const{dragConstraints:d}=this.getProps();jl(d)&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,s=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),r();const a=$i(window,"resize",()=>this.scalePositionWithinConstraints()),u=i.addEventListener("didUpdate",(({delta:d,hasLayoutChanged:h})=>{this.isDragging&&h&&(vr(m=>{const g=this.getAxisMotionValue(m);g&&(this.originPoint[m]+=d[m].translate,g.set(g.get()+d[m].translate))}),this.visualElement.render())}));return()=>{a(),t(),s(),u&&u()}}getProps(){const e=this.visualElement.getProps(),{drag:t=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:s=!1,dragElastic:a=Gv,dragMomentum:u=!0}=e;return{...e,drag:t,dragDirectionLock:r,dragPropagation:i,dragConstraints:s,dragElastic:a,dragMomentum:u}}}function Ef(n,e,t){return(e===!0||e===n)&&(t===null||t===n)}function Wz(n,e=10){let t=null;return Math.abs(n.y)>e?t="y":Math.abs(n.x)>e&&(t="x"),t}class Hz extends Eo{constructor(e){super(e),this.removeGroupControls=jt,this.removeListeners=jt,this.controls=new zz(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||jt}unmount(){this.removeGroupControls(),this.removeListeners()}}const SP=n=>(e,t)=>{n&&Tt.update(()=>n(e,t))};class qz extends Eo{constructor(){super(...arguments),this.removePointerDownListener=jt}onPointerDown(e){this.session=new YR(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:nk(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:t,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:SP(e),onStart:SP(t),onMove:r,onEnd:(s,a)=>{delete this.session,i&&Tt.update(()=>i(s,a))}}}mount(){this.removePointerDownListener=zi(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function Gz(){const n=x.useContext(b_);if(n===null)return[!0,null];const{isPresent:e,onExitComplete:t,register:r}=n,i=x.useId();return x.useEffect(()=>r(i),[]),!e&&t?[!1,()=>t&&t(i)]:[!0]}const $f={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function PP(n,e){return e.max===e.min?0:n/(e.max-e.min)*100}const Oc={correct:(n,e)=>{if(!e.target)return n;if(typeof n=="string")if(Ve.test(n))n=parseFloat(n);else return n;const t=PP(n,e.target.x),r=PP(n,e.target.y);return`${t}% ${r}%`}},Kz={correct:(n,{treeScale:e,projectionDelta:t})=>{const r=n,i=po.parse(n);if(i.length>5)return r;const s=po.createTransformer(n),a=typeof i[0]!="number"?1:0,u=t.x.scale*e.x,d=t.y.scale*e.y;i[0+a]/=u,i[1+a]/=d;const h=Rt(u,d,.5);return typeof i[2+a]=="number"&&(i[2+a]/=h),typeof i[3+a]=="number"&&(i[3+a]/=h),s(i)}};class Qz extends Qt.Component{componentDidMount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:r,layoutId:i}=this.props,{projection:s}=e;t9(Yz),s&&(t.group&&t.group.add(s),r&&r.register&&i&&r.register(s),s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),$f.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:t,visualElement:r,drag:i,isPresent:s}=this.props,a=r.projection;return a&&(a.isPresent=s,i||e.layoutDependency!==t||t===void 0?a.willUpdate():this.safeToRemove(),e.isPresent!==s&&(s?a.promote():a.relegate()||Tt.postRender(()=>{const u=a.getStack();(!u||!u.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),queueMicrotask(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:r}=this.props,{projection:i}=e;i&&(i.scheduleCheckAfterUnmount(),t&&t.group&&t.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function rk(n){const[e,t]=Gz(),r=x.useContext(J1);return Qt.createElement(Qz,{...n,layoutGroup:r,switchLayoutGroup:x.useContext(Z1),isPresent:e,safeToRemove:t})}const Yz={borderRadius:{...Oc,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Oc,borderTopRightRadius:Oc,borderBottomLeftRadius:Oc,borderBottomRightRadius:Oc,boxShadow:Kz},ik=["TopLeft","TopRight","BottomLeft","BottomRight"],Xz=ik.length,CP=n=>typeof n=="string"?parseFloat(n):n,AP=n=>typeof n=="number"||Ve.test(n);function Jz(n,e,t,r,i,s){i?(n.opacity=Rt(0,t.opacity!==void 0?t.opacity:1,Zz(r)),n.opacityExit=Rt(e.opacity!==void 0?e.opacity:1,0,eW(r))):s&&(n.opacity=Rt(e.opacity!==void 0?e.opacity:1,t.opacity!==void 0?t.opacity:1,r));for(let a=0;a<Xz;a++){const u=`border${ik[a]}Radius`;let d=bP(e,u),h=bP(t,u);if(d===void 0&&h===void 0)continue;d||(d=0),h||(h=0),d===0||h===0||AP(d)===AP(h)?(n[u]=Math.max(Rt(CP(d),CP(h),r),0),(pi.test(h)||pi.test(d))&&(n[u]+="%")):n[u]=h}(e.rotate||t.rotate)&&(n.rotate=Rt(e.rotate||0,t.rotate||0,r))}function bP(n,e){return n[e]!==void 0?n[e]:n.borderRadius}const Zz=sk(0,.5,AR),eW=sk(.5,.95,jt);function sk(n,e,t){return r=>r<n?0:r>e?1:t(Sd(n,e,r))}function xP(n,e){n.min=e.min,n.max=e.max}function yr(n,e){xP(n.x,e.x),xP(n.y,e.y)}function RP(n,e,t,r,i){return n-=e,n=Op(n,1/t,r),i!==void 0&&(n=Op(n,1/i,r)),n}function tW(n,e=0,t=1,r=.5,i,s=n,a=n){if(pi.test(e)&&(e=parseFloat(e),e=Rt(a.min,a.max,e/100)-a.min),typeof e!="number")return;let u=Rt(s.min,s.max,r);n===s&&(u-=e),n.min=RP(n.min,e,t,u,i),n.max=RP(n.max,e,t,u,i)}function kP(n,e,[t,r,i],s,a){tW(n,e[t],e[r],e[i],e.scale,s,a)}const nW=["x","scaleX","originX"],rW=["y","scaleY","originY"];function DP(n,e,t,r){kP(n.x,e,nW,t?t.x:void 0,r?r.x:void 0),kP(n.y,e,rW,t?t.y:void 0,r?r.y:void 0)}function NP(n){return n.translate===0&&n.scale===1}function ok(n){return NP(n.x)&&NP(n.y)}function iW(n,e){return n.x.min===e.x.min&&n.x.max===e.x.max&&n.y.min===e.y.min&&n.y.max===e.y.max}function ak(n,e){return Math.round(n.x.min)===Math.round(e.x.min)&&Math.round(n.x.max)===Math.round(e.x.max)&&Math.round(n.y.min)===Math.round(e.y.min)&&Math.round(n.y.max)===Math.round(e.y.max)}function VP(n){return lr(n.x)/lr(n.y)}class sW{constructor(){this.members=[]}add(e){q_(this.members,e),e.scheduleRender()}remove(e){if(G_(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const t=this.members[this.members.length-1];t&&this.promote(t)}}relegate(e){const t=this.members.findIndex(i=>e===i);if(t===0)return!1;let r;for(let i=t;i>=0;i--){const s=this.members[i];if(s.isPresent!==!1){r=s;break}}return r?(this.promote(r),!0):!1}promote(e,t){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,t&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:t,resumingFrom:r}=e;t.onExitComplete&&t.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function OP(n,e,t){let r="";const i=n.x.translate/e.x,s=n.y.translate/e.y;if((i||s)&&(r=`translate3d(${i}px, ${s}px, 0) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),t){const{rotate:d,rotateX:h,rotateY:m}=t;d&&(r+=`rotate(${d}deg) `),h&&(r+=`rotateX(${h}deg) `),m&&(r+=`rotateY(${m}deg) `)}const a=n.x.scale*e.x,u=n.y.scale*e.y;return(a!==1||u!==1)&&(r+=`scale(${a}, ${u})`),r||"none"}const oW=(n,e)=>n.depth-e.depth;class aW{constructor(){this.children=[],this.isDirty=!1}add(e){q_(this.children,e),this.isDirty=!0}remove(e){G_(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(oW),this.isDirty=!1,this.children.forEach(e)}}function lW(n,e){const t=performance.now(),r=({timestamp:i})=>{const s=i-t;s>=e&&(Yi(r),n(s-e))};return Tt.read(r,!0),()=>Yi(r)}function uW(n){window.MotionDebug&&window.MotionDebug.record(n)}function cW(n){return n instanceof SVGElement&&n.tagName!=="svg"}function dW(n,e,t){const r=qn(n)?n:yu(n);return r.start(H_("",r,e,t)),r.animation}const MP=["","X","Y","Z"],hW={visibility:"hidden"},LP=1e3;let fW=0;const sa={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function lk({attachResizeListener:n,defaultParent:e,measureScroll:t,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(a={},u=e?.()){this.id=fW++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,sa.totalNodes=sa.resolvedTargetDeltas=sa.recalculatedProjection=0,this.nodes.forEach(gW),this.nodes.forEach(TW),this.nodes.forEach(EW),this.nodes.forEach(yW),uW(sa)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=a,this.root=u?u.root||u:this,this.path=u?[...u.path,u]:[],this.parent=u,this.depth=u?u.depth+1:0;for(let d=0;d<this.path.length;d++)this.path[d].shouldResetTransform=!0;this.root===this&&(this.nodes=new aW)}addEventListener(a,u){return this.eventHandlers.has(a)||this.eventHandlers.set(a,new K_),this.eventHandlers.get(a).add(u)}notifyListeners(a,...u){const d=this.eventHandlers.get(a);d&&d.notify(...u)}hasListeners(a){return this.eventHandlers.has(a)}mount(a,u=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=cW(a),this.instance=a;const{layoutId:d,layout:h,visualElement:m}=this.options;if(m&&!m.current&&m.mount(a),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),u&&(h||d)&&(this.isLayoutDirty=!0),n){let g;const v=()=>this.root.updateBlockedByResize=!1;n(a,()=>{this.root.updateBlockedByResize=!0,g&&g(),g=lW(v,250),$f.hasAnimatedSinceResize&&($f.hasAnimatedSinceResize=!1,this.nodes.forEach(UP))})}d&&this.root.registerSharedNode(d,this),this.options.animate!==!1&&m&&(d||h)&&this.addEventListener("didUpdate",({delta:g,hasLayoutChanged:v,hasRelativeTargetChanged:E,layout:R})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const k=this.options.transition||m.getDefaultTransition()||AW,{onLayoutAnimationStart:A,onLayoutAnimationComplete:j}=m.getProps(),O=!this.targetLayout||!ak(this.targetLayout,R)||E,F=!v&&E;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||F||v&&(O||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(g,F);const z={...W_(k,"layout"),onPlay:A,onComplete:j};(m.shouldReduceMotion||this.options.layoutRoot)&&(z.delay=0,z.type=!1),this.startAnimation(z)}else v||UP(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=R})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const a=this.getStack();a&&a.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Yi(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(IW),this.animationId++)}getTransformTemplate(){const{visualElement:a}=this.options;return a&&a.getProps().transformTemplate}willUpdate(a=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let m=0;m<this.path.length;m++){const g=this.path[m];g.shouldResetTransform=!0,g.updateScroll("snapshot"),g.options.layoutRoot&&g.willUpdate(!1)}const{layoutId:u,layout:d}=this.options;if(u===void 0&&!d)return;const h=this.getTransformTemplate();this.prevTransformTemplateValue=h?h(this.latestValues,""):void 0,this.updateSnapshot(),a&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(FP);return}this.isUpdating||this.nodes.forEach(wW),this.isUpdating=!1,this.nodes.forEach(_W),this.nodes.forEach(pW),this.nodes.forEach(mW),this.clearAllSnapshots();const u=performance.now();In.delta=fo(0,1e3/60,u-In.timestamp),In.timestamp=u,In.isProcessing=!0,xy.update.process(In),xy.preRender.process(In),xy.render.process(In),In.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(vW),this.sharedNodes.forEach(SW)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Tt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Tt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let d=0;d<this.path.length;d++)this.path[d].updateScroll();const a=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Kt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:u}=this.options;u&&u.notify("LayoutMeasure",this.layout.layoutBox,a?a.layoutBox:void 0)}updateScroll(a="measure"){let u=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===a&&(u=!1),u&&(this.scroll={animationId:this.root.animationId,phase:a,isRoot:r(this.instance),offset:t(this.instance)})}resetTransform(){if(!i)return;const a=this.isLayoutDirty||this.shouldResetTransform,u=this.projectionDelta&&!ok(this.projectionDelta),d=this.getTransformTemplate(),h=d?d(this.latestValues,""):void 0,m=h!==this.prevTransformTemplateValue;a&&(u||ia(this.latestValues)||m)&&(i(this.instance,h),this.shouldResetTransform=!1,this.scheduleRender())}measure(a=!0){const u=this.measurePageBox();let d=this.removeElementScroll(u);return a&&(d=this.removeTransform(d)),bW(d),{animationId:this.root.animationId,measuredBox:u,layoutBox:d,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:a}=this.options;if(!a)return Kt();const u=a.measureViewportBox(),{scroll:d}=this.root;return d&&(Bs(u.x,d.offset.x),Bs(u.y,d.offset.y)),u}removeElementScroll(a){const u=Kt();yr(u,a);for(let d=0;d<this.path.length;d++){const h=this.path[d],{scroll:m,options:g}=h;if(h!==this.root&&m&&g.layoutScroll){if(m.isRoot){yr(u,a);const{scroll:v}=this.root;v&&(Bs(u.x,-v.offset.x),Bs(u.y,-v.offset.y))}Bs(u.x,m.offset.x),Bs(u.y,m.offset.y)}}return u}applyTransform(a,u=!1){const d=Kt();yr(d,a);for(let h=0;h<this.path.length;h++){const m=this.path[h];!u&&m.options.layoutScroll&&m.scroll&&m!==m.root&&zl(d,{x:-m.scroll.offset.x,y:-m.scroll.offset.y}),ia(m.latestValues)&&zl(d,m.latestValues)}return ia(this.latestValues)&&zl(d,this.latestValues),d}removeTransform(a){const u=Kt();yr(u,a);for(let d=0;d<this.path.length;d++){const h=this.path[d];if(!h.instance||!ia(h.latestValues))continue;Kv(h.latestValues)&&h.updateSnapshot();const m=Kt(),g=h.measurePageBox();yr(m,g),DP(u,h.latestValues,h.snapshot?h.snapshot.layoutBox:void 0,m)}return ia(this.latestValues)&&DP(u,this.latestValues),u}setTargetDelta(a){this.targetDelta=a,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(a){this.options={...this.options,...a,crossfade:a.crossfade!==void 0?a.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==In.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(a=!1){var u;const d=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=d.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=d.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=d.isSharedProjectionDirty);const h=!!this.resumingFrom||this!==d;if(!(a||h&&this.isSharedProjectionDirty||this.isProjectionDirty||!((u=this.parent)===null||u===void 0)&&u.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:g,layoutId:v}=this.options;if(!(!this.layout||!(g||v))){if(this.resolvedRelativeTargetAt=In.timestamp,!this.targetDelta&&!this.relativeTarget){const E=this.getClosestProjectingParent();E&&E.layout&&this.animationProgress!==1?(this.relativeParent=E,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Kt(),this.relativeTargetOrigin=Kt(),rd(this.relativeTargetOrigin,this.layout.layoutBox,E.layout.layoutBox),yr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=Kt(),this.targetWithTransforms=Kt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),xz(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):yr(this.target,this.layout.layoutBox),ek(this.target,this.targetDelta)):yr(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const E=this.getClosestProjectingParent();E&&!!E.resumingFrom==!!this.resumingFrom&&!E.options.layoutScroll&&E.target&&this.animationProgress!==1?(this.relativeParent=E,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Kt(),this.relativeTargetOrigin=Kt(),rd(this.relativeTargetOrigin,this.target,E.target),yr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}sa.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||Kv(this.parent.latestValues)||ZR(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var a;const u=this.getLead(),d=!!this.resumingFrom||this!==u;let h=!0;if((this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty)&&(h=!1),d&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(h=!1),this.resolvedRelativeTargetAt===In.timestamp&&(h=!1),h)return;const{layout:m,layoutId:g}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(m||g))return;yr(this.layoutCorrected,this.layout.layoutBox);const v=this.treeScale.x,E=this.treeScale.y;Fz(this.layoutCorrected,this.treeScale,this.path,d),u.layout&&!u.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(u.target=u.layout.layoutBox);const{target:R}=u;if(!R){this.projectionTransform&&(this.projectionDelta=$l(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=$l(),this.projectionDeltaWithTransform=$l());const k=this.projectionTransform;nd(this.projectionDelta,this.layoutCorrected,R,this.latestValues),this.projectionTransform=OP(this.projectionDelta,this.treeScale),(this.projectionTransform!==k||this.treeScale.x!==v||this.treeScale.y!==E)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",R)),sa.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(a=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),a){const u=this.getStack();u&&u.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(a,u=!1){const d=this.snapshot,h=d?d.latestValues:{},m={...this.latestValues},g=$l();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!u;const v=Kt(),E=d?d.source:void 0,R=this.layout?this.layout.source:void 0,k=E!==R,A=this.getStack(),j=!A||A.members.length<=1,O=!!(k&&!j&&this.options.crossfade===!0&&!this.path.some(CW));this.animationProgress=0;let F;this.mixTargetDelta=z=>{const te=z/1e3;jP(g.x,a.x,te),jP(g.y,a.y,te),this.setTargetDelta(g),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(rd(v,this.layout.layoutBox,this.relativeParent.layout.layoutBox),PW(this.relativeTarget,this.relativeTargetOrigin,v,te),F&&iW(this.relativeTarget,F)&&(this.isProjectionDirty=!1),F||(F=Kt()),yr(F,this.relativeTarget)),k&&(this.animationValues=m,Jz(m,h,this.latestValues,te,O,j)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=te},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(a){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Yi(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Tt.update(()=>{$f.hasAnimatedSinceResize=!0,this.currentAnimation=dW(0,LP,{...a,onUpdate:u=>{this.mixTargetDelta(u),a.onUpdate&&a.onUpdate(u)},onComplete:()=>{a.onComplete&&a.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const a=this.getStack();a&&a.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(LP),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const a=this.getLead();let{targetWithTransforms:u,target:d,layout:h,latestValues:m}=a;if(!(!u||!d||!h)){if(this!==a&&this.layout&&h&&uk(this.options.animationType,this.layout.layoutBox,h.layoutBox)){d=this.target||Kt();const g=lr(this.layout.layoutBox.x);d.x.min=a.target.x.min,d.x.max=d.x.min+g;const v=lr(this.layout.layoutBox.y);d.y.min=a.target.y.min,d.y.max=d.y.min+v}yr(u,d),zl(u,m),nd(this.projectionDeltaWithTransform,this.layoutCorrected,u,m)}}registerSharedNode(a,u){this.sharedNodes.has(a)||this.sharedNodes.set(a,new sW),this.sharedNodes.get(a).add(u);const h=u.options.initialPromotionConfig;u.promote({transition:h?h.transition:void 0,preserveFollowOpacity:h&&h.shouldPreserveFollowOpacity?h.shouldPreserveFollowOpacity(u):void 0})}isLead(){const a=this.getStack();return a?a.lead===this:!0}getLead(){var a;const{layoutId:u}=this.options;return u?((a=this.getStack())===null||a===void 0?void 0:a.lead)||this:this}getPrevLead(){var a;const{layoutId:u}=this.options;return u?(a=this.getStack())===null||a===void 0?void 0:a.prevLead:void 0}getStack(){const{layoutId:a}=this.options;if(a)return this.root.sharedNodes.get(a)}promote({needsReset:a,transition:u,preserveFollowOpacity:d}={}){const h=this.getStack();h&&h.promote(this,d),a&&(this.projectionDelta=void 0,this.needsReset=!0),u&&this.setOptions({transition:u})}relegate(){const a=this.getStack();return a?a.relegate(this):!1}resetRotation(){const{visualElement:a}=this.options;if(!a)return;let u=!1;const{latestValues:d}=a;if((d.rotate||d.rotateX||d.rotateY||d.rotateZ)&&(u=!0),!u)return;const h={};for(let m=0;m<MP.length;m++){const g="rotate"+MP[m];d[g]&&(h[g]=d[g],a.setStaticValue(g,0))}a.render();for(const m in h)a.setStaticValue(m,h[m]);a.scheduleRender()}getProjectionStyles(a){var u,d;if(!this.instance||this.isSVG)return;if(!this.isVisible)return hW;const h={visibility:""},m=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,h.opacity="",h.pointerEvents=Bf(a?.pointerEvents)||"",h.transform=m?m(this.latestValues,""):"none",h;const g=this.getLead();if(!this.projectionDelta||!this.layout||!g.target){const k={};return this.options.layoutId&&(k.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,k.pointerEvents=Bf(a?.pointerEvents)||""),this.hasProjected&&!ia(this.latestValues)&&(k.transform=m?m({},""):"none",this.hasProjected=!1),k}const v=g.animationValues||g.latestValues;this.applyTransformsToTarget(),h.transform=OP(this.projectionDeltaWithTransform,this.treeScale,v),m&&(h.transform=m(v,h.transform));const{x:E,y:R}=this.projectionDelta;h.transformOrigin=`${E.origin*100}% ${R.origin*100}% 0`,g.animationValues?h.opacity=g===this?(d=(u=v.opacity)!==null&&u!==void 0?u:this.latestValues.opacity)!==null&&d!==void 0?d:1:this.preserveOpacity?this.latestValues.opacity:v.opacityExit:h.opacity=g===this?v.opacity!==void 0?v.opacity:"":v.opacityExit!==void 0?v.opacityExit:0;for(const k in bp){if(v[k]===void 0)continue;const{correct:A,applyTo:j}=bp[k],O=h.transform==="none"?v[k]:A(v[k],g);if(j){const F=j.length;for(let z=0;z<F;z++)h[j[z]]=O}else h[k]=O}return this.options.layoutId&&(h.pointerEvents=g===this?Bf(a?.pointerEvents)||"":"none"),h}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(a=>{var u;return(u=a.currentAnimation)===null||u===void 0?void 0:u.stop()}),this.root.nodes.forEach(FP),this.root.sharedNodes.clear()}}}function pW(n){n.updateLayout()}function mW(n){var e;const t=((e=n.resumeFrom)===null||e===void 0?void 0:e.snapshot)||n.snapshot;if(n.isLead()&&n.layout&&t&&n.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=n.layout,{animationType:s}=n.options,a=t.source!==n.layout.source;s==="size"?vr(g=>{const v=a?t.measuredBox[g]:t.layoutBox[g],E=lr(v);v.min=r[g].min,v.max=v.min+E}):uk(s,t.layoutBox,r)&&vr(g=>{const v=a?t.measuredBox[g]:t.layoutBox[g],E=lr(r[g]);v.max=v.min+E,n.relativeTarget&&!n.currentAnimation&&(n.isProjectionDirty=!0,n.relativeTarget[g].max=n.relativeTarget[g].min+E)});const u=$l();nd(u,r,t.layoutBox);const d=$l();a?nd(d,n.applyTransform(i,!0),t.measuredBox):nd(d,r,t.layoutBox);const h=!ok(u);let m=!1;if(!n.resumeFrom){const g=n.getClosestProjectingParent();if(g&&!g.resumeFrom){const{snapshot:v,layout:E}=g;if(v&&E){const R=Kt();rd(R,t.layoutBox,v.layoutBox);const k=Kt();rd(k,r,E.layoutBox),ak(R,k)||(m=!0),g.options.layoutRoot&&(n.relativeTarget=k,n.relativeTargetOrigin=R,n.relativeParent=g)}}}n.notifyListeners("didUpdate",{layout:r,snapshot:t,delta:d,layoutDelta:u,hasLayoutChanged:h,hasRelativeTargetChanged:m})}else if(n.isLead()){const{onExitComplete:r}=n.options;r&&r()}n.options.transition=void 0}function gW(n){sa.totalNodes++,n.parent&&(n.isProjecting()||(n.isProjectionDirty=n.parent.isProjectionDirty),n.isSharedProjectionDirty||(n.isSharedProjectionDirty=!!(n.isProjectionDirty||n.parent.isProjectionDirty||n.parent.isSharedProjectionDirty)),n.isTransformDirty||(n.isTransformDirty=n.parent.isTransformDirty))}function yW(n){n.isProjectionDirty=n.isSharedProjectionDirty=n.isTransformDirty=!1}function vW(n){n.clearSnapshot()}function FP(n){n.clearMeasurements()}function wW(n){n.isLayoutDirty=!1}function _W(n){const{visualElement:e}=n.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),n.resetTransform()}function UP(n){n.finishAnimation(),n.targetDelta=n.relativeTarget=n.target=void 0,n.isProjectionDirty=!0}function TW(n){n.resolveTargetDelta()}function EW(n){n.calcProjection()}function IW(n){n.resetRotation()}function SW(n){n.removeLeadSnapshot()}function jP(n,e,t){n.translate=Rt(e.translate,0,t),n.scale=Rt(e.scale,1,t),n.origin=e.origin,n.originPoint=e.originPoint}function BP(n,e,t,r){n.min=Rt(e.min,t.min,r),n.max=Rt(e.max,t.max,r)}function PW(n,e,t,r){BP(n.x,e.x,t.x,r),BP(n.y,e.y,t.y,r)}function CW(n){return n.animationValues&&n.animationValues.opacityExit!==void 0}const AW={duration:.45,ease:[.4,0,.1,1]},$P=n=>typeof navigator<"u"&&navigator.userAgent.toLowerCase().includes(n),zP=$P("applewebkit/")&&!$P("chrome/")?Math.round:jt;function WP(n){n.min=zP(n.min),n.max=zP(n.max)}function bW(n){WP(n.x),WP(n.y)}function uk(n,e,t){return n==="position"||n==="preserve-aspect"&&!qv(VP(e),VP(t),.2)}const xW=lk({attachResizeListener:(n,e)=>$i(n,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),jy={current:void 0},ck=lk({measureScroll:n=>({x:n.scrollLeft,y:n.scrollTop}),defaultParent:()=>{if(!jy.current){const n=new xW({});n.mount(window),n.setOptions({layoutScroll:!0}),jy.current=n}return jy.current},resetTransform:(n,e)=>{n.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:n=>window.getComputedStyle(n).position==="fixed"}),RW={pan:{Feature:qz},drag:{Feature:Hz,ProjectionNode:ck,MeasureLayout:rk}},kW=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function DW(n){const e=kW.exec(n);if(!e)return[,];const[,t,r]=e;return[t,r]}function Yv(n,e,t=1){const[r,i]=DW(n);if(!r)return;const s=window.getComputedStyle(e).getPropertyValue(r);if(s){const a=s.trim();return qR(a)?parseFloat(a):a}else return Uv(i)?Yv(i,e,t+1):i}function NW(n,{...e},t){const r=n.current;if(!(r instanceof Element))return{target:e,transitionEnd:t};t&&(t={...t}),n.values.forEach(i=>{const s=i.get();if(!Uv(s))return;const a=Yv(s,r);a&&i.set(a)});for(const i in e){const s=e[i];if(!Uv(s))continue;const a=Yv(s,r);a&&(e[i]=a,t||(t={}),t[i]===void 0&&(t[i]=s))}return{target:e,transitionEnd:t}}const VW=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),dk=n=>VW.has(n),OW=n=>Object.keys(n).some(dk),HP=n=>n===Ma||n===Ve,qP=(n,e)=>parseFloat(n.split(", ")[e]),GP=(n,e)=>(t,{transform:r})=>{if(r==="none"||!r)return 0;const i=r.match(/^matrix3d\((.+)\)$/);if(i)return qP(i[1],e);{const s=r.match(/^matrix\((.+)\)$/);return s?qP(s[1],n):0}},MW=new Set(["x","y","z"]),LW=jd.filter(n=>!MW.has(n));function FW(n){const e=[];return LW.forEach(t=>{const r=n.getValue(t);r!==void 0&&(e.push([t,r.get()]),r.set(t.startsWith("scale")?1:0))}),e.length&&n.render(),e}const vu={width:({x:n},{paddingLeft:e="0",paddingRight:t="0"})=>n.max-n.min-parseFloat(e)-parseFloat(t),height:({y:n},{paddingTop:e="0",paddingBottom:t="0"})=>n.max-n.min-parseFloat(e)-parseFloat(t),top:(n,{top:e})=>parseFloat(e),left:(n,{left:e})=>parseFloat(e),bottom:({y:n},{top:e})=>parseFloat(e)+(n.max-n.min),right:({x:n},{left:e})=>parseFloat(e)+(n.max-n.min),x:GP(4,13),y:GP(5,14)};vu.translateX=vu.x;vu.translateY=vu.y;const UW=(n,e,t)=>{const r=e.measureViewportBox(),i=e.current,s=getComputedStyle(i),{display:a}=s,u={};a==="none"&&e.setStaticValue("display",n.display||"block"),t.forEach(h=>{u[h]=vu[h](r,s)}),e.render();const d=e.measureViewportBox();return t.forEach(h=>{const m=e.getValue(h);m&&m.jump(u[h]),n[h]=vu[h](d,s)}),n},jW=(n,e,t={},r={})=>{e={...e},r={...r};const i=Object.keys(e).filter(dk);let s=[],a=!1;const u=[];if(i.forEach(d=>{const h=n.getValue(d);if(!n.hasValue(d))return;let m=t[d],g=Vc(m);const v=e[d];let E;if(Rp(v)){const R=v.length,k=v[0]===null?1:0;m=v[k],g=Vc(m);for(let A=k;A<R&&v[A]!==null;A++)E?U_(Vc(v[A])===E):E=Vc(v[A])}else E=Vc(v);if(g!==E)if(HP(g)&&HP(E)){const R=h.get();typeof R=="string"&&h.set(parseFloat(R)),typeof v=="string"?e[d]=parseFloat(v):Array.isArray(v)&&E===Ve&&(e[d]=v.map(parseFloat))}else g?.transform&&E?.transform&&(m===0||v===0)?m===0?h.set(E.transform(m)):e[d]=g.transform(v):(a||(s=FW(n),a=!0),u.push(d),r[d]=r[d]!==void 0?r[d]:e[d],h.jump(v))}),u.length){const d=u.indexOf("height")>=0?window.pageYOffset:null,h=UW(e,n,u);return s.length&&s.forEach(([m,g])=>{n.getValue(m).set(g)}),n.render(),Em&&d!==null&&window.scrollTo({top:d}),{target:h,transitionEnd:r}}else return{target:e,transitionEnd:r}};function BW(n,e,t,r){return OW(e)?jW(n,e,t,r):{target:e,transitionEnd:r}}const $W=(n,e,t,r)=>{const i=NW(n,e,r);return e=i.target,r=i.transitionEnd,BW(n,e,t,r)},Xv={current:null},hk={current:!1};function zW(){if(hk.current=!0,!!Em)if(window.matchMedia){const n=window.matchMedia("(prefers-reduced-motion)"),e=()=>Xv.current=n.matches;n.addListener(e),e()}else Xv.current=!1}function WW(n,e,t){const{willChange:r}=e;for(const i in e){const s=e[i],a=t[i];if(qn(s))n.addValue(i,s),Vp(r)&&r.add(i);else if(qn(a))n.addValue(i,yu(s,{owner:n})),Vp(r)&&r.remove(i);else if(a!==s)if(n.hasValue(i)){const u=n.getValue(i);!u.hasAnimated&&u.set(s)}else{const u=n.getStaticValue(i);n.addValue(i,yu(u!==void 0?u:s,{owner:n}))}}for(const i in t)e[i]===void 0&&n.removeValue(i);return e}const KP=new WeakMap,fk=Object.keys(Id),HW=fk.length,QP=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],qW=k_.length;class GW{constructor({parent:e,props:t,presenceContext:r,reducedMotionConfig:i,visualState:s},a={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>Tt.render(this.render,!1,!0);const{latestValues:u,renderState:d}=s;this.latestValues=u,this.baseTarget={...u},this.initialValues=t.initial?{...u}:{},this.renderState=d,this.parent=e,this.props=t,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=a,this.isControllingVariants=Sm(t),this.isVariantNode=X1(t),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:h,...m}=this.scrapeMotionValuesFromProps(t,{});for(const g in m){const v=m[g];u[g]!==void 0&&qn(v)&&(v.set(u[g],!1),Vp(h)&&h.add(g))}}scrapeMotionValuesFromProps(e,t){return{}}mount(e){this.current=e,KP.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((t,r)=>this.bindToMotionValue(r,t)),hk.current||zW(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Xv.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){KP.delete(this.current),this.projection&&this.projection.unmount(),Yi(this.notifyUpdate),Yi(this.render),this.valueSubscriptions.forEach(e=>e()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features)this.features[e].unmount();this.current=null}bindToMotionValue(e,t){const r=Oa.has(e),i=t.on("change",a=>{this.latestValues[e]=a,this.props.onUpdate&&Tt.update(this.notifyUpdate,!1,!0),r&&this.projection&&(this.projection.isTransformDirty=!0)}),s=t.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(e,()=>{i(),s()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}loadFeatures({children:e,...t},r,i,s){let a,u;for(let d=0;d<HW;d++){const h=fk[d],{isEnabled:m,Feature:g,ProjectionNode:v,MeasureLayout:E}=Id[h];v&&(a=v),m(t)&&(!this.features[h]&&g&&(this.features[h]=new g(this)),E&&(u=E))}if((this.type==="html"||this.type==="svg")&&!this.projection&&a){this.projection=new a(this.latestValues,this.parent&&this.parent.projection);const{layoutId:d,layout:h,drag:m,dragConstraints:g,layoutScroll:v,layoutRoot:E}=t;this.projection.setOptions({layoutId:d,layout:h,alwaysMeasureLayout:!!m||g&&jl(g),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof h=="string"?h:"both",initialPromotionConfig:s,layoutScroll:v,layoutRoot:E})}return u}updateFeatures(){for(const e in this.features){const t=this.features[e];t.isMounted?t.update():(t.mount(),t.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Kt()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,t){this.latestValues[e]=t}makeTargetAnimatable(e,t=!0){return this.makeTargetAnimatableFromInstance(e,this.props,t)}update(e,t){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=t;for(let r=0;r<QP.length;r++){const i=QP[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const s=e["on"+i];s&&(this.propEventSubscriptions[i]=this.on(i,s))}this.prevMotionValues=WW(this,this.scrapeMotionValuesFromProps(e,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(e=!1){if(e)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const r=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(r.initial=this.props.initial),r}const t={};for(let r=0;r<qW;r++){const i=k_[r],s=this.props[i];(Ed(s)||s===!1)&&(t[i]=s)}return t}addVariantChild(e){const t=this.getClosestVariantNode();if(t)return t.variantChildren&&t.variantChildren.add(e),()=>t.variantChildren.delete(e)}addValue(e,t){t!==this.values.get(e)&&(this.removeValue(e),this.bindToMotionValue(e,t)),this.values.set(e,t),this.latestValues[e]=t.get()}removeValue(e){this.values.delete(e);const t=this.valueSubscriptions.get(e);t&&(t(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&t!==void 0&&(r=yu(t,{owner:this}),this.addValue(e,r)),r}readValue(e){var t;return this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(t=this.getBaseTargetFromProps(this.props,e))!==null&&t!==void 0?t:this.readValueFromInstance(this.current,e,this.options)}setBaseTarget(e,t){this.baseTarget[e]=t}getBaseTarget(e){var t;const{initial:r}=this.props,i=typeof r=="string"||typeof r=="object"?(t=F_(this.props,r))===null||t===void 0?void 0:t[e]:void 0;if(r&&i!==void 0)return i;const s=this.getBaseTargetFromProps(this.props,e);return s!==void 0&&!qn(s)?s:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,t){return this.events[e]||(this.events[e]=new K_),this.events[e].add(t)}notify(e,...t){this.events[e]&&this.events[e].notify(...t)}}class pk extends GW{sortInstanceNodePosition(e,t){return e.compareDocumentPosition(t)&2?1:-1}getBaseTargetFromProps(e,t){return e.style?e.style[t]:void 0}removeValueFromRenderState(e,{vars:t,style:r}){delete t[e],delete r[e]}makeTargetAnimatableFromInstance({transition:e,transitionEnd:t,...r},{transformValues:i},s){let a=cz(r,e||{},this);if(i&&(t&&(t=i(t)),r&&(r=i(r)),a&&(a=i(a))),s){lz(this,r,a);const u=$W(this,r,a,t);t=u.transitionEnd,r=u.target}return{transition:e,transitionEnd:t,...r}}}function KW(n){return window.getComputedStyle(n)}class QW extends pk{constructor(){super(...arguments),this.type="html"}readValueFromInstance(e,t){if(Oa.has(t)){const r=z_(t);return r&&r.default||0}else{const r=KW(e),i=(nR(t)?r.getPropertyValue(t):r[t])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:t}){return tk(e,t)}build(e,t,r,i){N_(e,t,r,i.transformTemplate)}scrapeMotionValuesFromProps(e,t){return L_(e,t)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;qn(e)&&(this.childSubscription=e.on("change",t=>{this.current&&(this.current.textContent=`${t}`)}))}renderInstance(e,t,r,i){lR(e,t,r,i)}}class YW extends pk{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1}getBaseTargetFromProps(e,t){return e[t]}readValueFromInstance(e,t){if(Oa.has(t)){const r=z_(t);return r&&r.default||0}return t=uR.has(t)?t:x_(t),e.getAttribute(t)}measureInstanceViewportBox(){return Kt()}scrapeMotionValuesFromProps(e,t){return dR(e,t)}build(e,t,r,i){O_(e,t,r,this.isSVGTag,i.transformTemplate)}renderInstance(e,t,r,i){cR(e,t,r,i)}mount(e){this.isSVGTag=M_(e.tagName),super.mount(e)}}const XW=(n,e)=>D_(n)?new YW(e,{enableHardwareAcceleration:!1}):new QW(e,{enableHardwareAcceleration:!0}),JW={layout:{ProjectionNode:ck,MeasureLayout:rk}},ZW={...Pz,...H9,...RW,...JW},If=Z5((n,e)=>D9(n,e,ZW,XW));function eH(){const[n,e]=x.useState(!1),[t,r]=x.useState(null);x.useEffect(()=>{if(!("serviceWorker"in navigator))return;const s=()=>{window.location.reload()};navigator.serviceWorker.addEventListener("controllerchange",s);let a,u;const d=h=>{h&&h.addEventListener("statechange",()=>{h.state==="installed"&&navigator.serviceWorker.controller&&(r(h),e(!0))})};return navigator.serviceWorker.ready.then(h=>{a=h,h.waiting&&(r(h.waiting),e(!0)),u=()=>{d(h.installing)},h.addEventListener("updatefound",u)}),()=>{navigator.serviceWorker.removeEventListener("controllerchange",s),a&&u&&a.removeEventListener("updatefound",u)}},[]);const i=()=>{t&&t.postMessage({type:"SKIP_WAITING"}),e(!1)};return n?q.jsx("div",{className:"fixed top-4 left-4 right-4 z-50 flex justify-center",children:q.jsxs("div",{className:"w-full max-w-sm rounded-lg bg-secundario p-4 text-white shadow-lg",children:[q.jsx("p",{className:"mb-3 text-sm",children:"Nueva versin disponible!"}),q.jsxs("div",{className:"flex items-center justify-end gap-2",children:[q.jsx(Ql,{onClick:()=>e(!1),variant:"secondary",children:"Despus"}),q.jsx(Ql,{onClick:i,className:"bg-white text-secundario hover:bg-white/90",children:"Actualizar"})]})]})}):null}function tH(){return x.useEffect(()=>{const n=()=>{const e=window.innerHeight*.01;document.documentElement.style.setProperty("--app-vh",`${e}px`)};return n(),window.addEventListener("resize",n),window.addEventListener("orientationchange",n),()=>{window.removeEventListener("resize",n),window.removeEventListener("orientationchange",n)}},[]),null}const nH=x.lazy(()=>gi(()=>import("./AuthPage-vBfztWF5.js"),__vite__mapDeps([0,1,2,3,4]))),rH=x.lazy(()=>gi(()=>import("./DashboardPage-B0n1fEjW.js"),__vite__mapDeps([5,6,7,8,9,1,10,2,11,4,12]))),iH=x.lazy(()=>gi(()=>import("./ArchivedCyclesPage-Dh3ZMCzC.js"),__vite__mapDeps([13,8,14,9,1,7]))),sH=x.lazy(()=>gi(()=>import("./CycleDetailPage-Cig9zHtr.js"),__vite__mapDeps([15,14,9,8,16,6,7,1,10,2,11,4,17]))),oH=x.lazy(()=>gi(()=>import("./SettingsPage-BbOlE_em.js"),__vite__mapDeps([18,1,2,11,8,3]))),aH=x.lazy(()=>gi(()=>import("./ChartPage-I6MZUrr0.js"),__vite__mapDeps([19,11,8,10,1,2,9,4,12,17]))),lH=x.lazy(()=>gi(()=>import("./RecordsPage-C5L22UIi.js"),__vite__mapDeps([16,6,7,8,9,1,10,2,11,4,14])));function kl({children:n}){const{user:e}=vm();return e?n:q.jsx(zy,{to:"/auth",replace:!0})}function uH(){const{user:n,loadingAuth:e}=vm(),t=mo();if(e)return q.jsx(Dv,{children:q.jsxs("div",{className:"flex min-h-app flex-col items-center justify-center space-y-4 px-4",children:[q.jsx(If.div,{className:"h-8 w-8 rounded-full bg-fertiliapp",animate:{opacity:[.4,1,.4]},transition:{duration:1.2,repeat:1/0}}),q.jsx(If.p,{className:"font-medium text-fertiliapp-fuerte",initial:{opacity:0},animate:{opacity:1},transition:{delay:.2},children:"Cargando aplicacin..."})]})});const r=n?q.jsx(ra,{children:q.jsx("div",{className:"flex min-h-app items-center justify-center p-4 text-fertiliapp-fuerte",children:"Cargando..."})}):q.jsxs("div",{className:"flex min-h-app flex-col items-center justify-center space-y-4 px-4",children:[q.jsx(If.div,{className:"h-8 w-8 rounded-full bg-fertiliapp",animate:{opacity:[.4,1,.4]},transition:{duration:1.2,repeat:1/0}}),q.jsx(If.p,{className:"font-medium text-fertiliapp-fuerte",initial:{opacity:0},animate:{opacity:1},transition:{delay:.2},children:"Cargando aplicacin..."})]});return q.jsx(Dv,{children:q.jsx(x.Suspense,{fallback:r,children:q.jsx(B6,{children:q.jsx(qB,{FallbackComponent:m1,children:q.jsxs(IN,{children:[q.jsx(Fi,{path:"/auth",element:n?q.jsx(zy,{to:"/",replace:!0}):q.jsx(nH,{})}),q.jsx(Fi,{path:"/",element:q.jsx(kl,{children:q.jsx(ra,{children:q.jsx(rH,{})})})}),q.jsx(Fi,{path:"/chart/:cycleId?",element:q.jsx(kl,{children:q.jsx(aH,{})})}),q.jsx(Fi,{path:"/records",element:q.jsx(kl,{children:q.jsx(ra,{children:q.jsx(lH,{})})})}),q.jsx(Fi,{path:"/archived-cycles",element:q.jsx(kl,{children:q.jsx(ra,{children:q.jsx(iH,{})})})}),q.jsx(Fi,{path:"/settings",element:q.jsx(kl,{children:q.jsx(ra,{children:q.jsx(oH,{})})})}),q.jsx(Fi,{path:"/cycle/:cycleId",element:q.jsx(kl,{children:q.jsx(ra,{children:q.jsx(sH,{})})})}),q.jsx(Fi,{path:"*",element:q.jsx(zy,{to:n?"/":"/auth",replace:!0})})]})},t.pathname)})})})}function cH(){return q.jsxs(kN,{basename:"/",children:[q.jsx(tH,{}),q.jsx(eH,{}),q.jsxs(C4,{children:[q.jsx(WB,{children:q.jsx(HB,{children:q.jsx(UN,{children:q.jsx(uH,{})})})}),q.jsx($5,{})]})]})}if(typeof window<"u"){const{hostname:n}=window.location;if(n.endsWith(".firebaseapp.com")){const e=new URL(window.location.href);e.hostname=n.replace(".firebaseapp.com",".web.app"),window.location.replace(e.toString())}}RD.createRoot(document.getElementById("root")).render(q.jsx(Qt.StrictMode,{children:q.jsx(cH,{})}));"serviceWorker"in navigator&&window.addEventListener("load",()=>{const n=new URL("sw.js","/");navigator.serviceWorker.register(n).catch(e=>{console.error("Service worker registration failed:",e)})});export{A4 as $,QB as A,Ql as B,XB as C,I1 as D,ir as E,ka as F,Td as G,Va as H,yH as I,$B as J,JB as K,VN as L,tw as M,mo as N,ra as O,vi as P,R4 as Q,Qt as R,V4 as S,B5 as T,ZB as U,U6 as V,gt as W,e6 as X,Ot as Y,bn as Z,gi as _,sw as a,bu as a0,wp as a1,z5 as a2,Tt as a3,E9 as a4,b_ as a5,J1 as a6,Wx as a7,N4 as a8,wm as a9,g5 as aa,E1 as ab,w1 as ac,A3 as ad,Ty as ae,Ac as af,bc as ag,cj as ah,p1 as ai,K6 as aj,w5 as ak,D6 as al,ew as am,vH as an,gH as ao,r1 as ap,dH as aq,Jv as ar,we as as,c_ as b,xu as c,gn as d,je as e,Ue as f,Yt as g,hk as h,zW as i,q as j,O4 as k,Nn as l,If as m,d_ as n,YB as o,Xv as p,hH as q,x as r,wd as s,n1 as t,vm as u,kj as v,Qi as w,Iy as x,Ra as y,g1 as z};
