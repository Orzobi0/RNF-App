import{D as P,E as T,F as re,G as ur,H as Re,e as L,_ as bt,s as $,I as it,c as X,R as xt,j as s,z as pe,r as p,J as ue,K as fr,f as F,N as wt,O as ct,P as je,q as _t,t as Ee,x as vr,y as dt,w as ke,v as kt,Q as mr,S as pr,T as hr,V as gr,p as H,B as Q,X as yr,W as br,b as xr,m as wr}from"./index-5f6b7abb.js";import{I as ye}from"./input-80776554.js";import{L as fe}from"./label-219a7c01.js";import{u as _r,e as kr,f as Nr,o as Cr,s as jr,g as Mr,h as Or,i as Sr,j as Pr,l as Dr,k as Fr,C as ut,m as Tr,S as Ir,a as Rr,b as Er,c as Ar,d as Wr}from"./select-676b9547.js";import{h as Lr,R as Hr,f as Yr,F as $r,g as Br}from"./useCycleData-a4d1add2.js";import{e as ft,P as zr,u as Ur}from"./badge-5e659d9f.js";import{E as Vr}from"./eye-6935ae29.js";import{E as Kr}from"./eye-off-c72a7d9f.js";function ee(e,t){P(2,arguments);var r=T(e),n=re(t);if(isNaN(n))return new Date(NaN);if(!n)return r;var o=r.getDate(),a=new Date(r.getTime());a.setMonth(r.getMonth()+n+1,0);var l=a.getDate();return o>=l?a:(r.setFullYear(a.getFullYear(),a.getMonth(),o),r)}var Xr=36e5;function qr(e,t){P(2,arguments);var r=re(t);return ur(e,r*Xr)}function se(e,t){var r,n,o,a,l,i,c,d;P(1,arguments);var u=Re(),f=re((r=(n=(o=(a=t==null?void 0:t.weekStartsOn)!==null&&a!==void 0?a:t==null||(l=t.locale)===null||l===void 0||(i=l.options)===null||i===void 0?void 0:i.weekStartsOn)!==null&&o!==void 0?o:u.weekStartsOn)!==null&&n!==void 0?n:(c=u.locale)===null||c===void 0||(d=c.options)===null||d===void 0?void 0:d.weekStartsOn)!==null&&r!==void 0?r:0);if(!(f>=0&&f<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var v=T(e),m=v.getDay(),h=(m<f?7:0)+m-f;return v.setDate(v.getDate()-h),v.setHours(0,0,0,0),v}function he(e){return P(1,arguments),se(e,{weekStartsOn:1})}function Zr(e){P(1,arguments);var t=T(e),r=t.getFullYear(),n=new Date(0);n.setFullYear(r+1,0,4),n.setHours(0,0,0,0);var o=he(n),a=new Date(0);a.setFullYear(r,0,4),a.setHours(0,0,0,0);var l=he(a);return t.getTime()>=o.getTime()?r+1:t.getTime()>=l.getTime()?r:r-1}function Gr(e){P(1,arguments);var t=Zr(e),r=new Date(0);r.setFullYear(t,0,4),r.setHours(0,0,0,0);var n=he(r);return n}function Xe(e,t){P(2,arguments);var r=re(t),n=r*7;return L(e,n)}function Jr(e,t){P(2,arguments);var r=re(t);return ee(e,r*12)}function Qr(e){P(1,arguments);var t;if(e&&typeof e.forEach=="function")t=e;else if(bt(e)==="object"&&e!==null)t=Array.prototype.slice.call(e);else return new Date(NaN);var r;return t.forEach(function(n){var o=T(n);(r===void 0||r<o||isNaN(Number(o)))&&(r=o)}),r||new Date(NaN)}function en(e){P(1,arguments);var t;if(e&&typeof e.forEach=="function")t=e;else if(bt(e)==="object"&&e!==null)t=Array.prototype.slice.call(e);else return new Date(NaN);var r;return t.forEach(function(n){var o=T(n);(r===void 0||r>o||isNaN(o.getDate()))&&(r=o)}),r||new Date(NaN)}function U(e,t){P(2,arguments);var r=$(e),n=$(t);return r.getTime()===n.getTime()}function Ne(e,t){P(2,arguments);var r=T(e),n=T(t),o=r.getFullYear()-n.getFullYear(),a=r.getMonth()-n.getMonth();return o*12+a}var tn=6048e5;function rn(e,t,r){P(2,arguments);var n=se(e,r),o=se(t,r),a=n.getTime()-it(n),l=o.getTime()-it(o);return Math.round((a-l)/tn)}function qe(e){P(1,arguments);var t=T(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(23,59,59,999),t}function V(e){P(1,arguments);var t=T(e);return t.setDate(1),t.setHours(0,0,0,0),t}function nn(e){P(1,arguments);var t=T(e),r=new Date(0);return r.setFullYear(t.getFullYear(),0,1),r.setHours(0,0,0,0),r}function Ze(e,t){var r,n,o,a,l,i,c,d;P(1,arguments);var u=Re(),f=re((r=(n=(o=(a=t==null?void 0:t.weekStartsOn)!==null&&a!==void 0?a:t==null||(l=t.locale)===null||l===void 0||(i=l.options)===null||i===void 0?void 0:i.weekStartsOn)!==null&&o!==void 0?o:u.weekStartsOn)!==null&&n!==void 0?n:(c=u.locale)===null||c===void 0||(d=c.options)===null||d===void 0?void 0:d.weekStartsOn)!==null&&r!==void 0?r:0);if(!(f>=0&&f<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var v=T(e),m=v.getDay(),h=(m<f?-7:0)+6-(m-f);return v.setDate(v.getDate()+h),v.setHours(23,59,59,999),v}function Nt(e){return P(1,arguments),Ze(e,{weekStartsOn:1})}function on(e){P(1,arguments);var t=T(e),r=t.getFullYear(),n=t.getMonth(),o=new Date(0);return o.setFullYear(r,n+1,0),o.setHours(0,0,0,0),o.getDate()}var an=6048e5;function sn(e){P(1,arguments);var t=T(e),r=he(t).getTime()-Gr(t).getTime();return Math.round(r/an)+1}function ln(e){P(1,arguments);var t=T(e),r=t.getTime();return r}function cn(e){return P(1,arguments),Math.floor(ln(e)/1e3)}function dn(e,t){var r,n,o,a,l,i,c,d;P(1,arguments);var u=T(e),f=u.getFullYear(),v=Re(),m=re((r=(n=(o=(a=t==null?void 0:t.firstWeekContainsDate)!==null&&a!==void 0?a:t==null||(l=t.locale)===null||l===void 0||(i=l.options)===null||i===void 0?void 0:i.firstWeekContainsDate)!==null&&o!==void 0?o:v.firstWeekContainsDate)!==null&&n!==void 0?n:(c=v.locale)===null||c===void 0||(d=c.options)===null||d===void 0?void 0:d.firstWeekContainsDate)!==null&&r!==void 0?r:1);if(!(m>=1&&m<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var h=new Date(0);h.setFullYear(f+1,0,m),h.setHours(0,0,0,0);var w=se(h,t),x=new Date(0);x.setFullYear(f,0,m),x.setHours(0,0,0,0);var j=se(x,t);return u.getTime()>=w.getTime()?f+1:u.getTime()>=j.getTime()?f:f-1}function un(e,t){var r,n,o,a,l,i,c,d;P(1,arguments);var u=Re(),f=re((r=(n=(o=(a=t==null?void 0:t.firstWeekContainsDate)!==null&&a!==void 0?a:t==null||(l=t.locale)===null||l===void 0||(i=l.options)===null||i===void 0?void 0:i.firstWeekContainsDate)!==null&&o!==void 0?o:u.firstWeekContainsDate)!==null&&n!==void 0?n:(c=u.locale)===null||c===void 0||(d=c.options)===null||d===void 0?void 0:d.firstWeekContainsDate)!==null&&r!==void 0?r:1),v=dn(e,t),m=new Date(0);m.setFullYear(v,0,f),m.setHours(0,0,0,0);var h=se(m,t);return h}var fn=6048e5;function vn(e,t){P(1,arguments);var r=T(e),n=se(r,t).getTime()-un(r,t).getTime();return Math.round(n/fn)+1}function mn(e){P(1,arguments);var t=T(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(0,0,0,0),t}function pn(e,t){return P(1,arguments),rn(mn(e),V(e),t)+1}function Ce(e,t){P(2,arguments);var r=T(e),n=T(t);return r.getTime()>n.getTime()}function Ct(e,t){P(2,arguments);var r=T(e),n=T(t);return r.getTime()<n.getTime()}function Ge(e,t){P(2,arguments);var r=T(e),n=T(t);return r.getFullYear()===n.getFullYear()&&r.getMonth()===n.getMonth()}function hn(e,t){P(2,arguments);var r=T(e),n=T(t);return r.getFullYear()===n.getFullYear()}function $e(e,t){P(2,arguments);var r=re(t);return L(e,-r)}function Be(e,t){P(2,arguments);var r=T(e),n=re(t),o=r.getFullYear(),a=r.getDate(),l=new Date(0);l.setFullYear(o,n,15),l.setHours(0,0,0,0);var i=on(l);return r.setMonth(n,Math.min(a,i)),r}function vt(e,t){P(2,arguments);var r=T(e),n=re(t);return isNaN(r.getTime())?new Date(NaN):(r.setFullYear(n),r)}const mt=X("CalendarDays",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]]),gn=X("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]),yn=X("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),bn=X("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]),xn=X("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]),wn=X("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]),_n=X("Droplets",[["path",{d:"M7 16.3c2.2 0 4-1.83 4-4.05 0-1.16-.57-2.26-1.71-3.19S7.29 6.75 7 5.3c-.29 1.45-1.14 2.84-2.29 3.76S3 11.1 3 12.25c0 2.22 1.8 4.05 4 4.05z",key:"1ptgy4"}],["path",{d:"M12.56 6.6A10.97 10.97 0 0 0 14 3.02c.5 2.5 2 4.9 4 6.5s3 3.5 3 5.5a6.98 6.98 0 0 1-11.91 4.97",key:"1sl1rz"}]]),kn=X("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.5 3.5a2.12 2.12 0 0 1 3 3L7 19l-4 1 1-4Z",key:"ymcmye"}]]),Nn=X("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]),Cn=X("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]),jn=X("Sprout",[["path",{d:"M7 20h10",key:"e6iznv"}],["path",{d:"M10 20c5.5-2.5.8-6.4 3-10",key:"161w41"}],["path",{d:"M9.5 9.4c1.1.8 1.8 2.2 2.3 3.7-2 .4-3.5.4-4.8-.3-1.2-.6-2.3-1.9-3-4.2 2.8-.5 4.4 0 5.5.8z",key:"9gtqwd"}],["path",{d:"M14.1 6a7 7 0 0 0-1.1 4c1.9-.1 3.3-.6 4.3-1.4 1-1 1.6-2.3 1.7-4.6-2.7.1-4 1-4.9 2z",key:"bkxnd2"}]]),Mn=X("Thermometer",[["path",{d:"M14 4v10.54a4 4 0 1 1-4 0V4a2 2 0 0 1 4 0Z",key:"17jzev"}]]),jt=X("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]),Mt=xt.forwardRef(({className:e,...t},r)=>s.jsx("textarea",{className:pe("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:r,...t}));Mt.displayName="Textarea";var k=function(){return k=Object.assign||function(t){for(var r,n=1,o=arguments.length;n<o;n++){r=arguments[n];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(t[a]=r[a])}return t},k.apply(this,arguments)};function On(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(r[n[o]]=e[n[o]]);return r}function Ot(e,t,r){if(r||arguments.length===2)for(var n=0,o=t.length,a;n<o;n++)(a||!(n in t))&&(a||(a=Array.prototype.slice.call(t,0,n)),a[n]=t[n]);return e.concat(a||Array.prototype.slice.call(t))}function Me(e){return e.mode==="multiple"}function Oe(e){return e.mode==="range"}function Ae(e){return e.mode==="single"}var Sn={root:"rdp",multiple_months:"rdp-multiple_months",with_weeknumber:"rdp-with_weeknumber",vhidden:"rdp-vhidden",button_reset:"rdp-button_reset",button:"rdp-button",caption:"rdp-caption",caption_start:"rdp-caption_start",caption_end:"rdp-caption_end",caption_between:"rdp-caption_between",caption_label:"rdp-caption_label",caption_dropdowns:"rdp-caption_dropdowns",dropdown:"rdp-dropdown",dropdown_month:"rdp-dropdown_month",dropdown_year:"rdp-dropdown_year",dropdown_icon:"rdp-dropdown_icon",months:"rdp-months",month:"rdp-month",table:"rdp-table",tbody:"rdp-tbody",tfoot:"rdp-tfoot",head:"rdp-head",head_row:"rdp-head_row",head_cell:"rdp-head_cell",nav:"rdp-nav",nav_button:"rdp-nav_button",nav_button_previous:"rdp-nav_button_previous",nav_button_next:"rdp-nav_button_next",nav_icon:"rdp-nav_icon",row:"rdp-row",weeknumber:"rdp-weeknumber",cell:"rdp-cell",day:"rdp-day",day_today:"rdp-day_today",day_outside:"rdp-day_outside",day_selected:"rdp-day_selected",day_disabled:"rdp-day_disabled",day_hidden:"rdp-day_hidden",day_range_start:"rdp-day_range_start",day_range_end:"rdp-day_range_end",day_range_middle:"rdp-day_range_middle"};function Pn(e,t){return F(e,"LLLL y",t)}function Dn(e,t){return F(e,"d",t)}function Fn(e,t){return F(e,"LLLL",t)}function Tn(e){return"".concat(e)}function In(e,t){return F(e,"cccccc",t)}function Rn(e,t){return F(e,"yyyy",t)}var En=Object.freeze({__proto__:null,formatCaption:Pn,formatDay:Dn,formatMonthCaption:Fn,formatWeekNumber:Tn,formatWeekdayName:In,formatYearCaption:Rn}),An=function(e,t,r){return F(e,"do MMMM (EEEE)",r)},Wn=function(){return"Month: "},Ln=function(){return"Go to next month"},Hn=function(){return"Go to previous month"},Yn=function(e,t){return F(e,"cccc",t)},$n=function(e){return"Week n. ".concat(e)},Bn=function(){return"Year: "},zn=Object.freeze({__proto__:null,labelDay:An,labelMonthDropdown:Wn,labelNext:Ln,labelPrevious:Hn,labelWeekNumber:$n,labelWeekday:Yn,labelYearDropdown:Bn});function Un(){var e="buttons",t=Sn,r=fr,n={},o={},a=1,l={},i=new Date;return{captionLayout:e,classNames:t,formatters:En,labels:zn,locale:r,modifiersClassNames:n,modifiers:o,numberOfMonths:a,styles:l,today:i,mode:"default"}}function Vn(e){var t=e.fromYear,r=e.toYear,n=e.fromMonth,o=e.toMonth,a=e.fromDate,l=e.toDate;return n?a=V(n):t&&(a=new Date(t,0,1)),o?l=qe(o):r&&(l=new Date(r,11,31)),{fromDate:a?$(a):void 0,toDate:l?$(l):void 0}}var St=p.createContext(void 0);function Kn(e){var t,r=e.initialProps,n=Un(),o=Vn(r),a=o.fromDate,l=o.toDate,i=(t=r.captionLayout)!==null&&t!==void 0?t:n.captionLayout;i!=="buttons"&&(!a||!l)&&(i="buttons");var c;(Ae(r)||Me(r)||Oe(r))&&(c=r.onSelect);var d=k(k(k({},n),r),{captionLayout:i,classNames:k(k({},n.classNames),r.classNames),components:k({},r.components),formatters:k(k({},n.formatters),r.formatters),fromDate:a,labels:k(k({},n.labels),r.labels),mode:r.mode||n.mode,modifiers:k(k({},n.modifiers),r.modifiers),modifiersClassNames:k(k({},n.modifiersClassNames),r.modifiersClassNames),onSelect:c,styles:k(k({},n.styles),r.styles),toDate:l});return s.jsx(St.Provider,{value:d,children:e.children})}function I(){var e=p.useContext(St);if(!e)throw new Error("useDayPicker must be used within a DayPickerProvider.");return e}function Pt(e){var t=I(),r=t.locale,n=t.classNames,o=t.styles,a=t.formatters.formatCaption;return s.jsx("div",{className:n.caption_label,style:o.caption_label,"aria-live":"polite",role:"presentation",id:e.id,children:a(e.displayMonth,{locale:r})})}function Xn(e){return s.jsx("svg",k({width:"8px",height:"8px",viewBox:"0 0 120 120","data-testid":"iconDropdown"},e,{children:s.jsx("path",{d:"M4.22182541,48.2218254 C8.44222828,44.0014225 15.2388494,43.9273804 19.5496459,47.9996989 L19.7781746,48.2218254 L60,88.443 L100.221825,48.2218254 C104.442228,44.0014225 111.238849,43.9273804 115.549646,47.9996989 L115.778175,48.2218254 C119.998577,52.4422283 120.07262,59.2388494 116.000301,63.5496459 L115.778175,63.7781746 L67.7781746,111.778175 C63.5577717,115.998577 56.7611506,116.07262 52.4503541,112.000301 L52.2218254,111.778175 L4.22182541,63.7781746 C-0.0739418023,59.4824074 -0.0739418023,52.5175926 4.22182541,48.2218254 Z",fill:"currentColor",fillRule:"nonzero"})}))}function Dt(e){var t,r,n=e.onChange,o=e.value,a=e.children,l=e.caption,i=e.className,c=e.style,d=I(),u=(r=(t=d.components)===null||t===void 0?void 0:t.IconDropdown)!==null&&r!==void 0?r:Xn;return s.jsxs("div",{className:i,style:c,children:[s.jsx("span",{className:d.classNames.vhidden,children:e["aria-label"]}),s.jsx("select",{name:e.name,"aria-label":e["aria-label"],className:d.classNames.dropdown,style:d.styles.dropdown,value:o,onChange:n,children:a}),s.jsxs("div",{className:d.classNames.caption_label,style:d.styles.caption_label,"aria-hidden":"true",children:[l,s.jsx(u,{className:d.classNames.dropdown_icon,style:d.styles.dropdown_icon})]})]})}function qn(e){var t,r=I(),n=r.fromDate,o=r.toDate,a=r.styles,l=r.locale,i=r.formatters.formatMonthCaption,c=r.classNames,d=r.components,u=r.labels.labelMonthDropdown;if(!n)return s.jsx(s.Fragment,{});if(!o)return s.jsx(s.Fragment,{});var f=[];if(hn(n,o))for(var v=V(n),m=n.getMonth();m<=o.getMonth();m++)f.push(Be(v,m));else for(var v=V(new Date),m=0;m<=11;m++)f.push(Be(v,m));var h=function(x){var j=Number(x.target.value),O=Be(V(e.displayMonth),j);e.onChange(O)},w=(t=d==null?void 0:d.Dropdown)!==null&&t!==void 0?t:Dt;return s.jsx(w,{name:"months","aria-label":u(),className:c.dropdown_month,style:a.dropdown_month,onChange:h,value:e.displayMonth.getMonth(),caption:i(e.displayMonth,{locale:l}),children:f.map(function(x){return s.jsx("option",{value:x.getMonth(),children:i(x,{locale:l})},x.getMonth())})})}function Zn(e){var t,r=e.displayMonth,n=I(),o=n.fromDate,a=n.toDate,l=n.locale,i=n.styles,c=n.classNames,d=n.components,u=n.formatters.formatYearCaption,f=n.labels.labelYearDropdown,v=[];if(!o)return s.jsx(s.Fragment,{});if(!a)return s.jsx(s.Fragment,{});for(var m=o.getFullYear(),h=a.getFullYear(),w=m;w<=h;w++)v.push(vt(nn(new Date),w));var x=function(O){var B=vt(V(r),Number(O.target.value));e.onChange(B)},j=(t=d==null?void 0:d.Dropdown)!==null&&t!==void 0?t:Dt;return s.jsx(j,{name:"years","aria-label":f(),className:c.dropdown_year,style:i.dropdown_year,onChange:x,value:r.getFullYear(),caption:u(r,{locale:l}),children:v.map(function(O){return s.jsx("option",{value:O.getFullYear(),children:u(O,{locale:l})},O.getFullYear())})})}function Gn(e,t){var r=p.useState(e),n=r[0],o=r[1],a=t===void 0?n:t;return[a,o]}function Jn(e){var t=e.month,r=e.defaultMonth,n=e.today,o=t||r||n||new Date,a=e.toDate,l=e.fromDate,i=e.numberOfMonths,c=i===void 0?1:i;if(a&&Ne(a,o)<0){var d=-1*(c-1);o=ee(a,d)}return l&&Ne(o,l)<0&&(o=l),V(o)}function Qn(){var e=I(),t=Jn(e),r=Gn(t,e.month),n=r[0],o=r[1],a=function(l){var i;if(!e.disableNavigation){var c=V(l);o(c),(i=e.onMonthChange)===null||i===void 0||i.call(e,c)}};return[n,a]}function eo(e,t){for(var r=t.reverseMonths,n=t.numberOfMonths,o=V(e),a=V(ee(o,n)),l=Ne(a,o),i=[],c=0;c<l;c++){var d=ee(o,c);i.push(d)}return r&&(i=i.reverse()),i}function to(e,t){if(!t.disableNavigation){var r=t.toDate,n=t.pagedNavigation,o=t.numberOfMonths,a=o===void 0?1:o,l=n?a:1,i=V(e);if(!r)return ee(i,l);var c=Ne(r,e);if(!(c<a))return ee(i,l)}}function ro(e,t){if(!t.disableNavigation){var r=t.fromDate,n=t.pagedNavigation,o=t.numberOfMonths,a=o===void 0?1:o,l=n?a:1,i=V(e);if(!r)return ee(i,-l);var c=Ne(i,r);if(!(c<=0))return ee(i,-l)}}var Ft=p.createContext(void 0);function no(e){var t=I(),r=Qn(),n=r[0],o=r[1],a=eo(n,t),l=to(n,t),i=ro(n,t),c=function(f){return a.some(function(v){return Ge(f,v)})},d=function(f,v){c(f)||(v&&Ct(f,v)?o(ee(f,1+t.numberOfMonths*-1)):o(f))},u={currentMonth:n,displayMonths:a,goToMonth:o,goToDate:d,previousMonth:i,nextMonth:l,isDateDisplayed:c};return s.jsx(Ft.Provider,{value:u,children:e.children})}function Se(){var e=p.useContext(Ft);if(!e)throw new Error("useNavigation must be used within a NavigationProvider");return e}function pt(e){var t,r=I(),n=r.classNames,o=r.styles,a=r.components,l=Se().goToMonth,i=function(u){l(ee(u,e.displayIndex?-e.displayIndex:0))},c=(t=a==null?void 0:a.CaptionLabel)!==null&&t!==void 0?t:Pt,d=s.jsx(c,{id:e.id,displayMonth:e.displayMonth});return s.jsxs("div",{className:n.caption_dropdowns,style:o.caption_dropdowns,children:[s.jsx("div",{className:n.vhidden,children:d}),s.jsx(qn,{onChange:i,displayMonth:e.displayMonth}),s.jsx(Zn,{onChange:i,displayMonth:e.displayMonth})]})}function oo(e){return s.jsx("svg",k({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:s.jsx("path",{d:"M69.490332,3.34314575 C72.6145263,0.218951416 77.6798462,0.218951416 80.8040405,3.34314575 C83.8617626,6.40086786 83.9268205,11.3179931 80.9992143,14.4548388 L80.8040405,14.6568542 L35.461,60 L80.8040405,105.343146 C83.8617626,108.400868 83.9268205,113.317993 80.9992143,116.454839 L80.8040405,116.656854 C77.7463184,119.714576 72.8291931,119.779634 69.6923475,116.852028 L69.490332,116.656854 L18.490332,65.6568542 C15.4326099,62.5991321 15.367552,57.6820069 18.2951583,54.5451612 L18.490332,54.3431458 L69.490332,3.34314575 Z",fill:"currentColor",fillRule:"nonzero"})}))}function ao(e){return s.jsx("svg",k({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:s.jsx("path",{d:"M49.8040405,3.34314575 C46.6798462,0.218951416 41.6145263,0.218951416 38.490332,3.34314575 C35.4326099,6.40086786 35.367552,11.3179931 38.2951583,14.4548388 L38.490332,14.6568542 L83.8333725,60 L38.490332,105.343146 C35.4326099,108.400868 35.367552,113.317993 38.2951583,116.454839 L38.490332,116.656854 C41.5480541,119.714576 46.4651794,119.779634 49.602025,116.852028 L49.8040405,116.656854 L100.804041,65.6568542 C103.861763,62.5991321 103.926821,57.6820069 100.999214,54.5451612 L100.804041,54.3431458 L49.8040405,3.34314575 Z",fill:"currentColor"})}))}var Ie=p.forwardRef(function(e,t){var r=I(),n=r.classNames,o=r.styles,a=[n.button_reset,n.button];e.className&&a.push(e.className);var l=a.join(" "),i=k(k({},o.button_reset),o.button);return e.style&&Object.assign(i,e.style),s.jsx("button",k({},e,{ref:t,type:"button",className:l,style:i}))});function so(e){var t,r,n=I(),o=n.dir,a=n.locale,l=n.classNames,i=n.styles,c=n.labels,d=c.labelPrevious,u=c.labelNext,f=n.components;if(!e.nextMonth&&!e.previousMonth)return s.jsx(s.Fragment,{});var v=d(e.previousMonth,{locale:a}),m=[l.nav_button,l.nav_button_previous].join(" "),h=u(e.nextMonth,{locale:a}),w=[l.nav_button,l.nav_button_next].join(" "),x=(t=f==null?void 0:f.IconRight)!==null&&t!==void 0?t:ao,j=(r=f==null?void 0:f.IconLeft)!==null&&r!==void 0?r:oo;return s.jsxs("div",{className:l.nav,style:i.nav,children:[!e.hidePrevious&&s.jsx(Ie,{name:"previous-month","aria-label":v,className:m,style:i.nav_button_previous,disabled:!e.previousMonth,onClick:e.onPreviousClick,children:o==="rtl"?s.jsx(x,{className:l.nav_icon,style:i.nav_icon}):s.jsx(j,{className:l.nav_icon,style:i.nav_icon})}),!e.hideNext&&s.jsx(Ie,{name:"next-month","aria-label":h,className:w,style:i.nav_button_next,disabled:!e.nextMonth,onClick:e.onNextClick,children:o==="rtl"?s.jsx(j,{className:l.nav_icon,style:i.nav_icon}):s.jsx(x,{className:l.nav_icon,style:i.nav_icon})})]})}function ht(e){var t=I().numberOfMonths,r=Se(),n=r.previousMonth,o=r.nextMonth,a=r.goToMonth,l=r.displayMonths,i=l.findIndex(function(h){return Ge(e.displayMonth,h)}),c=i===0,d=i===l.length-1,u=t>1&&(c||!d),f=t>1&&(d||!c),v=function(){n&&a(n)},m=function(){o&&a(o)};return s.jsx(so,{displayMonth:e.displayMonth,hideNext:u,hidePrevious:f,nextMonth:o,previousMonth:n,onPreviousClick:v,onNextClick:m})}function lo(e){var t,r=I(),n=r.classNames,o=r.disableNavigation,a=r.styles,l=r.captionLayout,i=r.components,c=(t=i==null?void 0:i.CaptionLabel)!==null&&t!==void 0?t:Pt,d;return o?d=s.jsx(c,{id:e.id,displayMonth:e.displayMonth}):l==="dropdown"?d=s.jsx(pt,{displayMonth:e.displayMonth,id:e.id}):l==="dropdown-buttons"?d=s.jsxs(s.Fragment,{children:[s.jsx(pt,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id}),s.jsx(ht,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id})]}):d=s.jsxs(s.Fragment,{children:[s.jsx(c,{id:e.id,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),s.jsx(ht,{displayMonth:e.displayMonth,id:e.id})]}),s.jsx("div",{className:n.caption,style:a.caption,children:d})}function io(e){var t=I(),r=t.footer,n=t.styles,o=t.classNames.tfoot;return r?s.jsx("tfoot",{className:o,style:n.tfoot,children:s.jsx("tr",{children:s.jsx("td",{colSpan:8,children:r})})}):s.jsx(s.Fragment,{})}function co(e,t,r){for(var n=r?he(new Date):se(new Date,{locale:e,weekStartsOn:t}),o=[],a=0;a<7;a++){var l=L(n,a);o.push(l)}return o}function uo(){var e=I(),t=e.classNames,r=e.styles,n=e.showWeekNumber,o=e.locale,a=e.weekStartsOn,l=e.ISOWeek,i=e.formatters.formatWeekdayName,c=e.labels.labelWeekday,d=co(o,a,l);return s.jsxs("tr",{style:r.head_row,className:t.head_row,children:[n&&s.jsx("td",{style:r.head_cell,className:t.head_cell}),d.map(function(u,f){return s.jsx("th",{scope:"col",className:t.head_cell,style:r.head_cell,"aria-label":c(u,{locale:o}),children:i(u,{locale:o})},f)})]})}function fo(){var e,t=I(),r=t.classNames,n=t.styles,o=t.components,a=(e=o==null?void 0:o.HeadRow)!==null&&e!==void 0?e:uo;return s.jsx("thead",{style:n.head,className:r.head,children:s.jsx(a,{})})}function vo(e){var t=I(),r=t.locale,n=t.formatters.formatDay;return s.jsx(s.Fragment,{children:n(e.date,{locale:r})})}var Je=p.createContext(void 0);function mo(e){if(!Me(e.initialProps)){var t={selected:void 0,modifiers:{disabled:[]}};return s.jsx(Je.Provider,{value:t,children:e.children})}return s.jsx(po,{initialProps:e.initialProps,children:e.children})}function po(e){var t=e.initialProps,r=e.children,n=t.selected,o=t.min,a=t.max,l=function(d,u,f){var v,m;(v=t.onDayClick)===null||v===void 0||v.call(t,d,u,f);var h=!!(u.selected&&o&&(n==null?void 0:n.length)===o);if(!h){var w=!!(!u.selected&&a&&(n==null?void 0:n.length)===a);if(!w){var x=n?Ot([],n,!0):[];if(u.selected){var j=x.findIndex(function(O){return U(d,O)});x.splice(j,1)}else x.push(d);(m=t.onSelect)===null||m===void 0||m.call(t,x,d,u,f)}}},i={disabled:[]};n&&i.disabled.push(function(d){var u=a&&n.length>a-1,f=n.some(function(v){return U(v,d)});return!!(u&&!f)});var c={selected:n,onDayClick:l,modifiers:i};return s.jsx(Je.Provider,{value:c,children:r})}function Qe(){var e=p.useContext(Je);if(!e)throw new Error("useSelectMultiple must be used within a SelectMultipleProvider");return e}function ho(e,t){var r=t||{},n=r.from,o=r.to;return n&&o?U(o,e)&&U(n,e)?void 0:U(o,e)?{from:o,to:void 0}:U(n,e)?void 0:Ce(n,e)?{from:e,to:o}:{from:n,to:e}:o?Ce(e,o)?{from:o,to:e}:{from:e,to:o}:n?Ct(e,n)?{from:e,to:n}:{from:n,to:e}:{from:e,to:void 0}}var et=p.createContext(void 0);function go(e){if(!Oe(e.initialProps)){var t={selected:void 0,modifiers:{range_start:[],range_end:[],range_middle:[],disabled:[]}};return s.jsx(et.Provider,{value:t,children:e.children})}return s.jsx(yo,{initialProps:e.initialProps,children:e.children})}function yo(e){var t=e.initialProps,r=e.children,n=t.selected,o=n||{},a=o.from,l=o.to,i=t.min,c=t.max,d=function(m,h,w){var x,j;(x=t.onDayClick)===null||x===void 0||x.call(t,m,h,w);var O=ho(m,n);(j=t.onSelect)===null||j===void 0||j.call(t,O,m,h,w)},u={range_start:[],range_end:[],range_middle:[],disabled:[]};if(a?(u.range_start=[a],l?(u.range_end=[l],U(a,l)||(u.range_middle=[{after:a,before:l}])):u.range_end=[a]):l&&(u.range_start=[l],u.range_end=[l]),i&&(a&&!l&&u.disabled.push({after:$e(a,i-1),before:L(a,i-1)}),a&&l&&u.disabled.push({after:a,before:L(a,i-1)}),!a&&l&&u.disabled.push({after:$e(l,i-1),before:L(l,i-1)})),c){if(a&&!l&&(u.disabled.push({before:L(a,-c+1)}),u.disabled.push({after:L(a,c-1)})),a&&l){var f=ue(l,a)+1,v=c-f;u.disabled.push({before:$e(a,v)}),u.disabled.push({after:L(l,v)})}!a&&l&&(u.disabled.push({before:L(l,-c+1)}),u.disabled.push({after:L(l,c-1)}))}return s.jsx(et.Provider,{value:{selected:n,onDayClick:d,modifiers:u},children:r})}function tt(){var e=p.useContext(et);if(!e)throw new Error("useSelectRange must be used within a SelectRangeProvider");return e}function Te(e){return Array.isArray(e)?Ot([],e,!0):e!==void 0?[e]:[]}function bo(e){var t={};return Object.entries(e).forEach(function(r){var n=r[0],o=r[1];t[n]=Te(o)}),t}var te;(function(e){e.Outside="outside",e.Disabled="disabled",e.Selected="selected",e.Hidden="hidden",e.Today="today",e.RangeStart="range_start",e.RangeEnd="range_end",e.RangeMiddle="range_middle"})(te||(te={}));var xo=te.Selected,de=te.Disabled,wo=te.Hidden,_o=te.Today,ze=te.RangeEnd,Ue=te.RangeMiddle,Ve=te.RangeStart,ko=te.Outside;function No(e,t,r){var n,o=(n={},n[xo]=Te(e.selected),n[de]=Te(e.disabled),n[wo]=Te(e.hidden),n[_o]=[e.today],n[ze]=[],n[Ue]=[],n[Ve]=[],n[ko]=[],n);return e.fromDate&&o[de].push({before:e.fromDate}),e.toDate&&o[de].push({after:e.toDate}),Me(e)?o[de]=o[de].concat(t.modifiers[de]):Oe(e)&&(o[de]=o[de].concat(r.modifiers[de]),o[Ve]=r.modifiers[Ve],o[Ue]=r.modifiers[Ue],o[ze]=r.modifiers[ze]),o}var Tt=p.createContext(void 0);function Co(e){var t=I(),r=Qe(),n=tt(),o=No(t,r,n),a=bo(t.modifiers),l=k(k({},o),a);return s.jsx(Tt.Provider,{value:l,children:e.children})}function It(){var e=p.useContext(Tt);if(!e)throw new Error("useModifiers must be used within a ModifiersProvider");return e}function jo(e){return!!(e&&typeof e=="object"&&"before"in e&&"after"in e)}function Mo(e){return!!(e&&typeof e=="object"&&"from"in e)}function Oo(e){return!!(e&&typeof e=="object"&&"after"in e)}function So(e){return!!(e&&typeof e=="object"&&"before"in e)}function Po(e){return!!(e&&typeof e=="object"&&"dayOfWeek"in e)}function Do(e,t){var r,n=t.from,o=t.to;if(n&&o){var a=ue(o,n)<0;a&&(r=[o,n],n=r[0],o=r[1]);var l=ue(e,n)>=0&&ue(o,e)>=0;return l}return o?U(o,e):n?U(n,e):!1}function Fo(e){return wt(e)}function To(e){return Array.isArray(e)&&e.every(wt)}function Io(e,t){return t.some(function(r){if(typeof r=="boolean")return r;if(Fo(r))return U(e,r);if(To(r))return r.includes(e);if(Mo(r))return Do(e,r);if(Po(r))return r.dayOfWeek.includes(e.getDay());if(jo(r)){var n=ue(r.before,e),o=ue(r.after,e),a=n>0,l=o<0,i=Ce(r.before,r.after);return i?l&&a:a||l}return Oo(r)?ue(e,r.after)>0:So(r)?ue(r.before,e)>0:typeof r=="function"?r(e):!1})}function rt(e,t,r){var n=Object.keys(t).reduce(function(a,l){var i=t[l];return Io(e,i)&&a.push(l),a},[]),o={};return n.forEach(function(a){return o[a]=!0}),r&&!Ge(e,r)&&(o.outside=!0),o}function Ro(e,t){for(var r=V(e[0]),n=qe(e[e.length-1]),o,a,l=r;l<=n;){var i=rt(l,t),c=!i.disabled&&!i.hidden;if(!c){l=L(l,1);continue}if(i.selected)return l;i.today&&!a&&(a=l),o||(o=l),l=L(l,1)}return a||o}var Eo=365;function Rt(e,t){var r=t.moveBy,n=t.direction,o=t.context,a=t.modifiers,l=t.retry,i=l===void 0?{count:0,lastFocused:e}:l,c=o.weekStartsOn,d=o.fromDate,u=o.toDate,f=o.locale,v={day:L,week:Xe,month:ee,year:Jr,startOfWeek:function(x){return o.ISOWeek?he(x):se(x,{locale:f,weekStartsOn:c})},endOfWeek:function(x){return o.ISOWeek?Nt(x):Ze(x,{locale:f,weekStartsOn:c})}},m=v[r](e,n==="after"?1:-1);n==="before"&&d?m=Qr([d,m]):n==="after"&&u&&(m=en([u,m]));var h=!0;if(a){var w=rt(m,a);h=!w.disabled&&!w.hidden}return h?m:i.count>Eo?i.lastFocused:Rt(m,{moveBy:r,direction:n,context:o,modifiers:a,retry:k(k({},i),{count:i.count+1})})}var Et=p.createContext(void 0);function Ao(e){var t=Se(),r=It(),n=p.useState(),o=n[0],a=n[1],l=p.useState(),i=l[0],c=l[1],d=Ro(t.displayMonths,r),u=o??(i&&t.isDateDisplayed(i))?i:d,f=function(){c(o),a(void 0)},v=function(x){a(x)},m=I(),h=function(x,j){if(o){var O=Rt(o,{moveBy:x,direction:j,context:m,modifiers:r});U(o,O)||(t.goToDate(O,o),v(O))}},w={focusedDay:o,focusTarget:u,blur:f,focus:v,focusDayAfter:function(){return h("day","after")},focusDayBefore:function(){return h("day","before")},focusWeekAfter:function(){return h("week","after")},focusWeekBefore:function(){return h("week","before")},focusMonthBefore:function(){return h("month","before")},focusMonthAfter:function(){return h("month","after")},focusYearBefore:function(){return h("year","before")},focusYearAfter:function(){return h("year","after")},focusStartOfWeek:function(){return h("startOfWeek","before")},focusEndOfWeek:function(){return h("endOfWeek","after")}};return s.jsx(Et.Provider,{value:w,children:e.children})}function nt(){var e=p.useContext(Et);if(!e)throw new Error("useFocusContext must be used within a FocusProvider");return e}function Wo(e,t){var r=It(),n=rt(e,r,t);return n}var ot=p.createContext(void 0);function Lo(e){if(!Ae(e.initialProps)){var t={selected:void 0};return s.jsx(ot.Provider,{value:t,children:e.children})}return s.jsx(Ho,{initialProps:e.initialProps,children:e.children})}function Ho(e){var t=e.initialProps,r=e.children,n=function(a,l,i){var c,d,u;if((c=t.onDayClick)===null||c===void 0||c.call(t,a,l,i),l.selected&&!t.required){(d=t.onSelect)===null||d===void 0||d.call(t,void 0,a,l,i);return}(u=t.onSelect)===null||u===void 0||u.call(t,a,a,l,i)},o={selected:t.selected,onDayClick:n};return s.jsx(ot.Provider,{value:o,children:r})}function At(){var e=p.useContext(ot);if(!e)throw new Error("useSelectSingle must be used within a SelectSingleProvider");return e}function Yo(e,t){var r=I(),n=At(),o=Qe(),a=tt(),l=nt(),i=l.focusDayAfter,c=l.focusDayBefore,d=l.focusWeekAfter,u=l.focusWeekBefore,f=l.blur,v=l.focus,m=l.focusMonthBefore,h=l.focusMonthAfter,w=l.focusYearBefore,x=l.focusYearAfter,j=l.focusStartOfWeek,O=l.focusEndOfWeek,B=function(b){var g,y,N,M;Ae(r)?(g=n.onDayClick)===null||g===void 0||g.call(n,e,t,b):Me(r)?(y=o.onDayClick)===null||y===void 0||y.call(o,e,t,b):Oe(r)?(N=a.onDayClick)===null||N===void 0||N.call(a,e,t,b):(M=r.onDayClick)===null||M===void 0||M.call(r,e,t,b)},Y=function(b){var g;v(e),(g=r.onDayFocus)===null||g===void 0||g.call(r,e,t,b)},S=function(b){var g;f(),(g=r.onDayBlur)===null||g===void 0||g.call(r,e,t,b)},E=function(b){var g;(g=r.onDayMouseEnter)===null||g===void 0||g.call(r,e,t,b)},q=function(b){var g;(g=r.onDayMouseLeave)===null||g===void 0||g.call(r,e,t,b)},ne=function(b){var g;(g=r.onDayPointerEnter)===null||g===void 0||g.call(r,e,t,b)},J=function(b){var g;(g=r.onDayPointerLeave)===null||g===void 0||g.call(r,e,t,b)},le=function(b){var g;(g=r.onDayTouchCancel)===null||g===void 0||g.call(r,e,t,b)},z=function(b){var g;(g=r.onDayTouchEnd)===null||g===void 0||g.call(r,e,t,b)},ie=function(b){var g;(g=r.onDayTouchMove)===null||g===void 0||g.call(r,e,t,b)},K=function(b){var g;(g=r.onDayTouchStart)===null||g===void 0||g.call(r,e,t,b)},Z=function(b){var g;(g=r.onDayKeyUp)===null||g===void 0||g.call(r,e,t,b)},G=function(b){var g;switch(b.key){case"ArrowLeft":b.preventDefault(),b.stopPropagation(),r.dir==="rtl"?i():c();break;case"ArrowRight":b.preventDefault(),b.stopPropagation(),r.dir==="rtl"?c():i();break;case"ArrowDown":b.preventDefault(),b.stopPropagation(),d();break;case"ArrowUp":b.preventDefault(),b.stopPropagation(),u();break;case"PageUp":b.preventDefault(),b.stopPropagation(),b.shiftKey?w():m();break;case"PageDown":b.preventDefault(),b.stopPropagation(),b.shiftKey?x():h();break;case"Home":b.preventDefault(),b.stopPropagation(),j();break;case"End":b.preventDefault(),b.stopPropagation(),O();break}(g=r.onDayKeyDown)===null||g===void 0||g.call(r,e,t,b)},oe={onClick:B,onFocus:Y,onBlur:S,onKeyDown:G,onKeyUp:Z,onMouseEnter:E,onMouseLeave:q,onPointerEnter:ne,onPointerLeave:J,onTouchCancel:le,onTouchEnd:z,onTouchMove:ie,onTouchStart:K};return oe}function $o(){var e=I(),t=At(),r=Qe(),n=tt(),o=Ae(e)?t.selected:Me(e)?r.selected:Oe(e)?n.selected:void 0;return o}function Bo(e){return Object.values(te).includes(e)}function zo(e,t){var r=[e.classNames.day];return Object.keys(t).forEach(function(n){var o=e.modifiersClassNames[n];if(o)r.push(o);else if(Bo(n)){var a=e.classNames["day_".concat(n)];a&&r.push(a)}}),r}function Uo(e,t){var r=k({},e.styles.day);return Object.keys(t).forEach(function(n){var o;r=k(k({},r),(o=e.modifiersStyles)===null||o===void 0?void 0:o[n])}),r}function Vo(e,t,r){var n,o,a,l=I(),i=nt(),c=Wo(e,t),d=Yo(e,c),u=$o(),f=!!(l.onDayClick||l.mode!=="default");p.useEffect(function(){var E;c.outside||i.focusedDay&&f&&U(i.focusedDay,e)&&((E=r.current)===null||E===void 0||E.focus())},[i.focusedDay,e,r,f,c.outside]);var v=zo(l,c).join(" "),m=Uo(l,c),h=!!(c.outside&&!l.showOutsideDays||c.hidden),w=(a=(o=l.components)===null||o===void 0?void 0:o.DayContent)!==null&&a!==void 0?a:vo,x=s.jsx(w,{date:e,displayMonth:t,activeModifiers:c}),j={style:m,className:v,children:x,role:"gridcell"},O=i.focusTarget&&U(i.focusTarget,e)&&!c.outside,B=i.focusedDay&&U(i.focusedDay,e),Y=k(k(k({},j),(n={disabled:c.disabled,role:"gridcell"},n["aria-selected"]=c.selected,n.tabIndex=B||O?0:-1,n)),d),S={isButton:f,isHidden:h,activeModifiers:c,selectedDays:u,buttonProps:Y,divProps:j};return S}function Ko(e){var t=p.useRef(null),r=Vo(e.date,e.displayMonth,t);return r.isHidden?s.jsx("div",{role:"gridcell"}):r.isButton?s.jsx(Ie,k({name:"day",ref:t},r.buttonProps)):s.jsx("div",k({},r.divProps))}function Xo(e){var t=e.number,r=e.dates,n=I(),o=n.onWeekNumberClick,a=n.styles,l=n.classNames,i=n.locale,c=n.labels.labelWeekNumber,d=n.formatters.formatWeekNumber,u=d(Number(t),{locale:i});if(!o)return s.jsx("span",{className:l.weeknumber,style:a.weeknumber,children:u});var f=c(Number(t),{locale:i}),v=function(m){o(t,r,m)};return s.jsx(Ie,{name:"week-number","aria-label":f,className:l.weeknumber,style:a.weeknumber,onClick:v,children:u})}function qo(e){var t,r,n=I(),o=n.styles,a=n.classNames,l=n.showWeekNumber,i=n.components,c=(t=i==null?void 0:i.Day)!==null&&t!==void 0?t:Ko,d=(r=i==null?void 0:i.WeekNumber)!==null&&r!==void 0?r:Xo,u;return l&&(u=s.jsx("td",{className:a.cell,style:o.cell,children:s.jsx(d,{number:e.weekNumber,dates:e.dates})})),s.jsxs("tr",{className:a.row,style:o.row,children:[u,e.dates.map(function(f){return s.jsx("td",{className:a.cell,style:o.cell,role:"presentation",children:s.jsx(c,{displayMonth:e.displayMonth,date:f})},cn(f))})]})}function gt(e,t,r){for(var n=r!=null&&r.ISOWeek?Nt(t):Ze(t,r),o=r!=null&&r.ISOWeek?he(e):se(e,r),a=ue(n,o),l=[],i=0;i<=a;i++)l.push(L(o,i));var c=l.reduce(function(d,u){var f=r!=null&&r.ISOWeek?sn(u):vn(u,r),v=d.find(function(m){return m.weekNumber===f});return v?(v.dates.push(u),d):(d.push({weekNumber:f,dates:[u]}),d)},[]);return c}function Zo(e,t){var r=gt(V(e),qe(e),t);if(t!=null&&t.useFixedWeeks){var n=pn(e,t);if(n<6){var o=r[r.length-1],a=o.dates[o.dates.length-1],l=Xe(a,6-n),i=gt(Xe(a,1),l,t);r.push.apply(r,i)}}return r}function Go(e){var t,r,n,o=I(),a=o.locale,l=o.classNames,i=o.styles,c=o.hideHead,d=o.fixedWeeks,u=o.components,f=o.weekStartsOn,v=o.firstWeekContainsDate,m=o.ISOWeek,h=Zo(e.displayMonth,{useFixedWeeks:!!d,ISOWeek:m,locale:a,weekStartsOn:f,firstWeekContainsDate:v}),w=(t=u==null?void 0:u.Head)!==null&&t!==void 0?t:fo,x=(r=u==null?void 0:u.Row)!==null&&r!==void 0?r:qo,j=(n=u==null?void 0:u.Footer)!==null&&n!==void 0?n:io;return s.jsxs("table",{id:e.id,className:l.table,style:i.table,role:"grid","aria-labelledby":e["aria-labelledby"],children:[!c&&s.jsx(w,{}),s.jsx("tbody",{className:l.tbody,style:i.tbody,children:h.map(function(O){return s.jsx(x,{displayMonth:e.displayMonth,dates:O.dates,weekNumber:O.weekNumber},O.weekNumber)})}),s.jsx(j,{displayMonth:e.displayMonth})]})}function Jo(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}var Qo=Jo()?p.useLayoutEffect:p.useEffect,Ke=!1,ea=0;function yt(){return"react-day-picker-".concat(++ea)}function ta(e){var t,r=e??(Ke?yt():null),n=p.useState(r),o=n[0],a=n[1];return Qo(function(){o===null&&a(yt())},[]),p.useEffect(function(){Ke===!1&&(Ke=!0)},[]),(t=e??o)!==null&&t!==void 0?t:void 0}function ra(e){var t,r,n=I(),o=n.dir,a=n.classNames,l=n.styles,i=n.components,c=Se().displayMonths,d=ta(n.id?"".concat(n.id,"-").concat(e.displayIndex):void 0),u=n.id?"".concat(n.id,"-grid-").concat(e.displayIndex):void 0,f=[a.month],v=l.month,m=e.displayIndex===0,h=e.displayIndex===c.length-1,w=!m&&!h;o==="rtl"&&(t=[m,h],h=t[0],m=t[1]),m&&(f.push(a.caption_start),v=k(k({},v),l.caption_start)),h&&(f.push(a.caption_end),v=k(k({},v),l.caption_end)),w&&(f.push(a.caption_between),v=k(k({},v),l.caption_between));var x=(r=i==null?void 0:i.Caption)!==null&&r!==void 0?r:lo;return s.jsxs("div",{className:f.join(" "),style:v,children:[s.jsx(x,{id:d,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),s.jsx(Go,{id:u,"aria-labelledby":d,displayMonth:e.displayMonth})]},e.displayIndex)}function na(e){var t=I(),r=t.classNames,n=t.styles;return s.jsx("div",{className:r.months,style:n.months,children:e.children})}function oa(e){var t,r,n=e.initialProps,o=I(),a=nt(),l=Se(),i=p.useState(!1),c=i[0],d=i[1];p.useEffect(function(){o.initialFocus&&a.focusTarget&&(c||(a.focus(a.focusTarget),d(!0)))},[o.initialFocus,c,a.focus,a.focusTarget,a]);var u=[o.classNames.root,o.className];o.numberOfMonths>1&&u.push(o.classNames.multiple_months),o.showWeekNumber&&u.push(o.classNames.with_weeknumber);var f=k(k({},o.styles.root),o.style),v=Object.keys(n).filter(function(h){return h.startsWith("data-")}).reduce(function(h,w){var x;return k(k({},h),(x={},x[w]=n[w],x))},{}),m=(r=(t=n.components)===null||t===void 0?void 0:t.Months)!==null&&r!==void 0?r:na;return s.jsx("div",k({className:u.join(" "),style:f,dir:o.dir,id:o.id,nonce:n.nonce,title:n.title,lang:n.lang},v,{children:s.jsx(m,{children:l.displayMonths.map(function(h,w){return s.jsx(ra,{displayIndex:w,displayMonth:h},w)})})}))}function aa(e){var t=e.children,r=On(e,["children"]);return s.jsx(Kn,{initialProps:r,children:s.jsx(no,{children:s.jsx(Lo,{initialProps:r,children:s.jsx(mo,{initialProps:r,children:s.jsx(go,{initialProps:r,children:s.jsx(Co,{children:s.jsx(Ao,{children:t})})})})})})})}function sa(e){return s.jsx(aa,k({},e,{children:s.jsx(oa,{initialProps:e})}))}function Wt({className:e,classNames:t,showOutsideDays:r=!0,...n}){return s.jsx(sa,{showOutsideDays:r,className:pe("p-3 bg-white",e),classNames:{months:"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0",month:"space-y-4",caption:"flex justify-center pt-1 relative items-center",caption_label:"text-sm font-medium",nav:"space-x-1 flex items-center",nav_button:pe(ct({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-y-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:"h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected])]:bg-transparent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20",day:pe(ct({variant:"ghost"}),"h-9 w-9 p-0 font-normal aria-selected:opacity-100"),day_selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",day_today:"bg-pink-200 text-pink-800",day_outside:"text-muted-foreground opacity-50",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible",...t},components:{IconLeft:({...o})=>s.jsx(gn,{className:"h-4 w-4"}),IconRight:({...o})=>s.jsx(yn,{className:"h-4 w-4"})},...n})}Wt.displayName="Calendar";var la="Arrow",Lt=p.forwardRef((e,t)=>{const{children:r,width:n=10,height:o=5,...a}=e;return s.jsx(je.svg,{...a,ref:t,width:n,height:o,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:s.jsx("polygon",{points:"0,0 30,0 15,10"})})});Lt.displayName=la;var ia=Lt,at="Popper",[Ht,Yt]=_t(at),[ca,$t]=Ht(at),Bt=e=>{const{__scopePopper:t,children:r}=e,[n,o]=p.useState(null);return s.jsx(ca,{scope:t,anchor:n,onAnchorChange:o,children:r})};Bt.displayName=at;var zt="PopperAnchor",Ut=p.forwardRef((e,t)=>{const{__scopePopper:r,virtualRef:n,...o}=e,a=$t(zt,r),l=p.useRef(null),i=Ee(t,l);return p.useEffect(()=>{a.onAnchorChange((n==null?void 0:n.current)||l.current)}),n?null:s.jsx(je.div,{...o,ref:i})});Ut.displayName=zt;var st="PopperContent",[da,ua]=Ht(st),Vt=p.forwardRef((e,t)=>{var _e,_,C,R,W,ae;const{__scopePopper:r,side:n="bottom",sideOffset:o=0,align:a="center",alignOffset:l=0,arrowPadding:i=0,avoidCollisions:c=!0,collisionBoundary:d=[],collisionPadding:u=0,sticky:f="partial",hideWhenDetached:v=!1,updatePositionStrategy:m="optimized",onPlaced:h,...w}=e,x=$t(st,r),[j,O]=p.useState(null),B=Ee(t,ce=>O(ce)),[Y,S]=p.useState(null),E=_r(Y),q=(E==null?void 0:E.width)??0,ne=(E==null?void 0:E.height)??0,J=n+(a!=="center"?"-"+a:""),le=typeof u=="number"?u:{top:0,right:0,bottom:0,left:0,...u},z=Array.isArray(d)?d:[d],ie=z.length>0,K={padding:le,boundary:z.filter(va),altBoundary:ie},{refs:Z,floatingStyles:G,placement:oe,isPositioned:b,middlewareData:g}=kr({strategy:"fixed",placement:J,whileElementsMounted:(...ce)=>Nr(...ce,{animationFrame:m==="always"}),elements:{reference:x.anchor},middleware:[Cr({mainAxis:o+ne,alignmentAxis:l}),c&&jr({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?Dr():void 0,...K}),c&&Mr({...K}),Or({...K,apply:({elements:ce,rects:De,availableWidth:Le,availableHeight:He})=>{const{width:Ye,height:dr}=De.reference,Fe=ce.floating.style;Fe.setProperty("--radix-popper-available-width",`${Le}px`),Fe.setProperty("--radix-popper-available-height",`${He}px`),Fe.setProperty("--radix-popper-anchor-width",`${Ye}px`),Fe.setProperty("--radix-popper-anchor-height",`${dr}px`)}}),Y&&Sr({element:Y,padding:i}),ma({arrowWidth:q,arrowHeight:ne}),v&&Pr({strategy:"referenceHidden",...K})]}),[y,N]=qt(oe),M=vr(h);dt(()=>{b&&(M==null||M())},[b,M]);const D=(_e=g.arrow)==null?void 0:_e.x,A=(_=g.arrow)==null?void 0:_.y,me=((C=g.arrow)==null?void 0:C.centerOffset)!==0,[we,ge]=p.useState();return dt(()=>{j&&ge(window.getComputedStyle(j).zIndex)},[j]),s.jsx("div",{ref:Z.setFloating,"data-radix-popper-content-wrapper":"",style:{...G,transform:b?G.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:we,"--radix-popper-transform-origin":[(R=g.transformOrigin)==null?void 0:R.x,(W=g.transformOrigin)==null?void 0:W.y].join(" "),...((ae=g.hide)==null?void 0:ae.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:s.jsx(da,{scope:r,placedSide:y,onArrowChange:S,arrowX:D,arrowY:A,shouldHideArrow:me,children:s.jsx(je.div,{"data-side":y,"data-align":N,...w,ref:B,style:{...w.style,animation:b?void 0:"none"}})})})});Vt.displayName=st;var Kt="PopperArrow",fa={top:"bottom",right:"left",bottom:"top",left:"right"},Xt=p.forwardRef(function(t,r){const{__scopePopper:n,...o}=t,a=ua(Kt,n),l=fa[a.placedSide];return s.jsx("span",{ref:a.onArrowChange,style:{position:"absolute",left:a.arrowX,top:a.arrowY,[l]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[a.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[a.placedSide],visibility:a.shouldHideArrow?"hidden":void 0},children:s.jsx(ia,{...o,ref:r,style:{...o.style,display:"block"}})})});Xt.displayName=Kt;function va(e){return e!==null}var ma=e=>({name:"transformOrigin",options:e,fn(t){var x,j,O;const{placement:r,rects:n,middlewareData:o}=t,l=((x=o.arrow)==null?void 0:x.centerOffset)!==0,i=l?0:e.arrowWidth,c=l?0:e.arrowHeight,[d,u]=qt(r),f={start:"0%",center:"50%",end:"100%"}[u],v=(((j=o.arrow)==null?void 0:j.x)??0)+i/2,m=(((O=o.arrow)==null?void 0:O.y)??0)+c/2;let h="",w="";return d==="bottom"?(h=l?f:`${v}px`,w=`${-c}px`):d==="top"?(h=l?f:`${v}px`,w=`${n.floating.height+c}px`):d==="right"?(h=`${-c}px`,w=l?f:`${m}px`):d==="left"&&(h=`${n.floating.width+c}px`,w=l?f:`${m}px`),{data:{x:h,y:w}}}});function qt(e){const[t,r="center"]=e.split("-");return[t,r]}var pa=Bt,Zt=Ut,ha=Vt,ga=Xt,We="Popover",[Gt,Ua]=_t(We,[Yt]),Pe=Yt(),[ya,ve]=Gt(We),Jt=e=>{const{__scopePopover:t,children:r,open:n,defaultOpen:o,onOpenChange:a,modal:l=!1}=e,i=Pe(t),c=p.useRef(null),[d,u]=p.useState(!1),[f,v]=gr({prop:n,defaultProp:o??!1,onChange:a,caller:We});return s.jsx(pa,{...i,children:s.jsx(ya,{scope:t,contentId:Br(),triggerRef:c,open:f,onOpenChange:v,onOpenToggle:p.useCallback(()=>v(m=>!m),[v]),hasCustomAnchor:d,onCustomAnchorAdd:p.useCallback(()=>u(!0),[]),onCustomAnchorRemove:p.useCallback(()=>u(!1),[]),modal:l,children:r})})};Jt.displayName=We;var Qt="PopoverAnchor",ba=p.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,o=ve(Qt,r),a=Pe(r),{onCustomAnchorAdd:l,onCustomAnchorRemove:i}=o;return p.useEffect(()=>(l(),()=>i()),[l,i]),s.jsx(Zt,{...a,...n,ref:t})});ba.displayName=Qt;var er="PopoverTrigger",tr=p.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,o=ve(er,r),a=Pe(r),l=Ee(t,o.triggerRef),i=s.jsx(je.button,{type:"button","aria-haspopup":"dialog","aria-expanded":o.open,"aria-controls":o.contentId,"data-state":sr(o.open),...n,ref:l,onClick:ke(e.onClick,o.onOpenToggle)});return o.hasCustomAnchor?i:s.jsx(Zt,{asChild:!0,...a,children:i})});tr.displayName=er;var lt="PopoverPortal",[xa,wa]=Gt(lt,{forceMount:void 0}),rr=e=>{const{__scopePopover:t,forceMount:r,children:n,container:o}=e,a=ve(lt,t);return s.jsx(xa,{scope:t,forceMount:r,children:s.jsx(kt,{present:r||a.open,children:s.jsx(pr,{asChild:!0,container:o,children:n})})})};rr.displayName=lt;var xe="PopoverContent",nr=p.forwardRef((e,t)=>{const r=wa(xe,e.__scopePopover),{forceMount:n=r.forceMount,...o}=e,a=ve(xe,e.__scopePopover);return s.jsx(kt,{present:n||a.open,children:a.modal?s.jsx(ka,{...o,ref:t}):s.jsx(Na,{...o,ref:t})})});nr.displayName=xe;var _a=hr("PopoverContent.RemoveScroll"),ka=p.forwardRef((e,t)=>{const r=ve(xe,e.__scopePopover),n=p.useRef(null),o=Ee(t,n),a=p.useRef(!1);return p.useEffect(()=>{const l=n.current;if(l)return Lr(l)},[]),s.jsx(Hr,{as:_a,allowPinchZoom:!0,children:s.jsx(or,{...e,ref:o,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:ke(e.onCloseAutoFocus,l=>{var i;l.preventDefault(),a.current||(i=r.triggerRef.current)==null||i.focus()}),onPointerDownOutside:ke(e.onPointerDownOutside,l=>{const i=l.detail.originalEvent,c=i.button===0&&i.ctrlKey===!0,d=i.button===2||c;a.current=d},{checkForDefaultPrevented:!1}),onFocusOutside:ke(e.onFocusOutside,l=>l.preventDefault(),{checkForDefaultPrevented:!1})})})}),Na=p.forwardRef((e,t)=>{const r=ve(xe,e.__scopePopover),n=p.useRef(!1),o=p.useRef(!1);return s.jsx(or,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{var l,i;(l=e.onCloseAutoFocus)==null||l.call(e,a),a.defaultPrevented||(n.current||(i=r.triggerRef.current)==null||i.focus(),a.preventDefault()),n.current=!1,o.current=!1},onInteractOutside:a=>{var c,d;(c=e.onInteractOutside)==null||c.call(e,a),a.defaultPrevented||(n.current=!0,a.detail.originalEvent.type==="pointerdown"&&(o.current=!0));const l=a.target;((d=r.triggerRef.current)==null?void 0:d.contains(l))&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&o.current&&a.preventDefault()}})}),or=p.forwardRef((e,t)=>{const{__scopePopover:r,trapFocus:n,onOpenAutoFocus:o,onCloseAutoFocus:a,disableOutsidePointerEvents:l,onEscapeKeyDown:i,onPointerDownOutside:c,onFocusOutside:d,onInteractOutside:u,...f}=e,v=ve(xe,r),m=Pe(r);return Yr(),s.jsx($r,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:o,onUnmountAutoFocus:a,children:s.jsx(mr,{asChild:!0,disableOutsidePointerEvents:l,onInteractOutside:u,onEscapeKeyDown:i,onPointerDownOutside:c,onFocusOutside:d,onDismiss:()=>v.onOpenChange(!1),children:s.jsx(ha,{"data-state":sr(v.open),role:"dialog",id:v.contentId,...m,...f,ref:t,style:{...f.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),ar="PopoverClose",Ca=p.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,o=ve(ar,r);return s.jsx(je.button,{type:"button",...n,ref:t,onClick:ke(e.onClick,()=>o.onOpenChange(!1))})});Ca.displayName=ar;var ja="PopoverArrow",Ma=p.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,o=Pe(r);return s.jsx(ga,{...o,...n,ref:t})});Ma.displayName=ja;function sr(e){return e?"open":"closed"}var Oa=Jt,Sa=tr,Pa=rr,lr=nr;const Da=Oa,Fa=Sa,ir=xt.forwardRef(({className:e,align:t="center",sideOffset:r=4,...n},o)=>s.jsx(Pa,{children:s.jsx(lr,{ref:o,align:t,sideOffset:r,className:pe("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n})}));ir.displayName=lr.displayName;const be={NONE:{value:"none",label:"Sin Símbolo",color:"bg-gray-200",textColor:"#e2e8f0"},MENSTRUATION:{value:"red",label:"Menstruación",color:"bg-red-500",textColor:"#e2e8f0"},FERTILE:{value:"white",label:"Moco (Fértil)",color:"bg-white",textColor:"#e2e8f0"},INFERTILE:{value:"green",label:"Seco (Rel. infértil)",color:"bg-green-500",textColor:"#e2e8f0"},NON_FERTILE_MUCUS:{value:"yellow",label:"Moco (No fértil)",color:"bg-yellow-400",textColor:"#1f2937"},SPOTTING:{value:"spot",label:"Spotting",color:"bg-red-500",textColor:"#e2e8f0",pattern:"spotting-pattern"}},cr=Object.values(be),Va=e=>cr.find(r=>r.value===e)||be.NONE,Ta=({date:e,setDate:t,measurements:r,addMeasurement:n,updateMeasurement:o,removeMeasurement:a,confirmMeasurement:l,selectMeasurement:i,mucusSensation:c,setMucusSensation:d,mucusAppearance:u,setMucusAppearance:f,fertilitySymbol:v,setFertilitySymbol:m,observations:h,setObservations:w,ignored:x,setIgnored:j,peakTag:O,setPeakTag:B,existingPeakIsoDate:Y,isProcessing:S,isEditing:E,initialData:q,cycleStartDate:ne,cycleEndDate:J,recordedDates:le=[],submitCurrentState:z})=>{const[ie,K]=p.useState(!1),[Z,G]=p.useState(null);p.useEffect(()=>{if(Z!==null)return;const _=r.findIndex(C=>{if(!C)return!1;const R=C.temperature_corrected!==void 0&&C.temperature_corrected!==null&&String(C.temperature_corrected).trim()!=="";return!!C.use_corrected||R});_!==-1&&G(_)},[Z,r]);const oe=(_,C)=>{const R=parseFloat(r[_].temperature??0),ae=(parseFloat(r[_].temperature_corrected??R)+C).toFixed(2);o(_,"temperature_corrected",ae);const ce=parseFloat(ae)-R,De=Math.round(ce*10),Le=r[_].time||"00:00",He=br(Le,"HH:mm",new Date),Ye=F(qr(He,De),"HH:mm");o(_,"time_corrected",Ye),r[_].use_corrected||o(_,"use_corrected",!0)},b=$(H(ne)),g=J?$(H(J)):L(b,45),y=[{before:b},{after:g}],N=e?F(e,"yyyy-MM-dd"):null,M=O==="peak",D=Y&&Y!==N,A=Y?F(H(Y),"dd/MM/yyyy"):null,me=()=>{if(S)return;const _=M?null:"peak";B(_),E&&typeof z=="function"&&z({peakTagOverride:_,keepFormOpen:!0,skipReset:!0})},we=_=>{const C=_===!0;j(C),!(!E||S||typeof z!="function")&&z({overrideIgnored:C,keepFormOpen:!0,skipReset:!0})},ge=(_,C)=>{const R=C===!0;if(o(_,"use_corrected",R),!E||S||typeof z!="function")return;const W=r.map((ae,ce)=>ce===_?{...ae,use_corrected:R}:ae);z({overrideMeasurements:W,keepFormOpen:!0,skipReset:!0})},_e=M?"Quitar día pico":D?"Actualizar el día pico":"Determinar día pico";return s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"space-y-2 bg-gradient-to-r from-pink-50 to-rose-50 rounded-xl p-3 border border-pink-300/50",children:[s.jsxs(fe,{htmlFor:"date",className:"flex items-center text-pink-700 text-sm font-semibold",children:[s.jsx(mt,{className:"mr-2 h-5 w-5 text-pink-400"}),"Fecha del Registro"]}),s.jsxs(Da,{open:ie,onOpenChange:K,children:[s.jsx(Fa,{asChild:!0,children:s.jsxs(Q,{variant:"outline",className:pe("w-full justify-start text-left font-normal bg-white/70 border-pink-200 text-gray-800 hover:bg-white",!e&&"text-muted-foreground"),disabled:S,children:[s.jsx(mt,{className:"mr-2 h-4 w-4"}),e?F(e,"PPP",{locale:ft}):s.jsx("span",{children:"Selecciona una fecha"})]})}),s.jsx(ir,{className:"w-auto p-0 bg-white border-pink-200 text-gray-800",align:"start",children:s.jsx(Wt,{mode:"single",selected:e,onSelect:_=>{t($(_||new Date)),K(!1)},initialFocus:!0,locale:ft,disabled:S?()=>!0:y,modifiers:{hasRecord:le},modifiersClassNames:{hasRecord:'relative after:content-["" ] after:absolute after:inset-x-0 after:bottom-1 after:mx-auto after:w-1.5 after:h-1.5 after:rounded-full after:bg-pink-500'},className:"[&_button]:text-gray-800 [&_button:hover]:bg-pink-100 [&_button[aria-selected=true]]:bg-pink-500"})})]})]}),r.map((_,C)=>{const R=`measurement_select_${C}`;return s.jsxs("div",{className:"space-y-3 bg-gradient-to-r from-amber-50 to-orange-50 rounded-xl p-3 border border-amber-100/50",children:[s.jsxs("div",{className:"flex items-start justify-between gap-2",children:[s.jsxs(fe,{className:"flex items-center text-amber-800 text-sm font-semibold",children:[s.jsx(Mn,{className:"mr-2 h-5 w-5 text-orange-500"}),"Medición ",C+1]}),s.jsxs("label",{htmlFor:R,className:"flex items-center gap-2 rounded-full border border-amber-200 bg-white/70 px-3 py-1 text-[11px] font-semibold uppercase tracking-wide text-amber-700 shadow-sm",children:[s.jsx("input",{id:R,type:"radio",checked:_.selected,onChange:()=>i(C),disabled:S,className:"h-3.5 w-3.5 text-orange-500 focus:ring-orange-400"}),s.jsx("span",{children:"Usar en gráfica"})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsx(ye,{type:"number",step:"0.01",min:"34.0",max:"40.0",value:_.temperature,onChange:W=>o(C,"temperature",W.target.value),onInput:W=>o(C,"temperature",W.target.value),placeholder:"36.50",className:"bg-white/70 border-amber-200 text-gray-800 placeholder-gray-400 focus:ring-orange-500 focus:border-orange-500 text-base",disabled:S}),s.jsx(ye,{type:"time",value:_.time,onChange:W=>o(C,"time",W.target.value),className:"bg-white/70 border-amber-200 text-gray-800 placeholder-gray-400 focus:ring-orange-500 focus:border-orange-500 text-base",disabled:S})]}),s.jsxs("div",{className:"mt-3 flex flex-wrap items-center justify-between gap-2",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Q,{type:"button",size:"sm",variant:"outline",disabled:S,className:" text-white bg-orange-300 focus:ring-orange-400",onClick:()=>{Z===C?G(null):(G(C),(_.temperature_corrected===""||_.temperature_corrected===void 0)&&o(C,"temperature_corrected",_.temperature),_.time_corrected||o(C,"time_corrected",_.time))},children:"Corregir"}),!_.confirmed&&s.jsxs(s.Fragment,{children:[s.jsx(Q,{type:"button",size:"icon",onClick:()=>l(C),disabled:S,className:"h-7 w-7",children:s.jsx(Fr,{className:"h-4 w-4 "})}),s.jsx(Q,{type:"button",size:"icon",onClick:()=>a(C),disabled:S,className:"h-7 w-7",children:s.jsx(yr,{className:"h-4 w-4"})})]})]}),s.jsxs(Q,{type:"button",onClick:n,disabled:S,size:"sm",variant:"outline",className:"ml-auto flex items-center gap-1 rounded-full border-amber-300 bg-white/70 px-3 py-1 text-xs font-semibold text-amber-700 shadow-sm transition-colors hover:bg-amber-100",children:[s.jsx(zr,{className:"h-3.5 w-3.5"}),"Añadir medición"]})]}),E&&s.jsx("div",{className:"space-y-2 bg-gradient-to-r from-amber-50 to-orange-50 rounded-xl p-3 border border-amber-100/50",children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(ut,{id:"ignored",checked:x,onCheckedChange:we,className:"data-[state=checked]:bg-orange-500 data-[state=checked]:text-white border-amber-400",disabled:S}),s.jsxs(fe,{htmlFor:"ignored",className:"text-xs text-amber-700 flex items-center",children:[x?s.jsx(Vr,{className:"mr-1 h-4 w-4"}):s.jsx(Kr,{className:"mr-1 h-4 w-4"}),x?"Restaurar":"Despreciar"]})]})}),Z===C&&s.jsxs("div",{className:"mt-2 space-y-2",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(ye,{type:"number",step:"0.01",min:"34.0",max:"40.0",value:_.temperature_corrected,onChange:W=>{const ae=W.target.value;o(C,"temperature_corrected",ae),_.use_corrected||o(C,"use_corrected",!0)},className:"bg-white/70 border-amber-200 text-gray-800 placeholder-gray-400 focus:ring-orange-500 focus:border-orange-500 text-base",disabled:S}),s.jsx(Q,{type:"button",size:"icon",variant:"outline",disabled:S,onClick:()=>oe(C,.1),children:s.jsx(bn,{className:"h-4 w-4"})}),s.jsx(Q,{type:"button",size:"icon",variant:"outline",disabled:S,onClick:()=>oe(C,-.1),children:s.jsx(Tr,{className:"h-4 w-4"})}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(wn,{className:"h-4 w-4 text-orange-500"}),s.jsx(ye,{type:"time",value:_.time_corrected,onChange:W=>o(C,"time_corrected",W.target.value),className:"bg-white/70 border-amber-200 text-gray-800 focus:ring-orange-500 focus:border-orange-500 text-base",disabled:S})]})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(ut,{id:`use_corrected_${C}`,checked:_.use_corrected,onCheckedChange:W=>ge(C,W)}),s.jsx(fe,{htmlFor:`use_corrected_${C}`,className:"text-xs",children:"Usar valor corregido"})]})]})]},C)}),N&&s.jsx("div",{className:"mb-2 mt-4",children:s.jsxs("div",{className:"space-y-2 rounded-2xl border border-rose-200/60 bg-gradient-to-r from-rose-50 to-pink-50 p-3 shadow-sm",children:[s.jsx("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between",children:s.jsxs(Q,{type:"button",size:"sm",variant:M?"default":"outline",disabled:S,onClick:me,className:pe("group w-full justify-center rounded-full px-3 py-1 text-xs font-semibold uppercase tracking-wide transition-all duration-200 sm:w-auto sm:text-sm",M?"bg-rose-500 text-white shadow-md hover:bg-rose-600":"border-rose-200 text-rose-600 shadow-sm hover:bg-rose-50"),children:[s.jsx(Cn,{className:"mr-1.5 h-3.5 w-3.5 transition-transform group-hover:scale-110"}),_e]})}),D&&A&&s.jsxs("p",{className:"text-[11px] text-rose-500 font-medium",children:["Ya hay un pico registrado el ",A,"."]}),!D&&M&&s.jsx("p",{className:"text-[11px] text-rose-500",children:"Este día se marcará como pico y los tres siguientes quedarán etiquetados."})]})}),s.jsxs("div",{className:"space-y-2 bg-gradient-to-r from-stone-50 to-slate-50 rounded-xl p-3 border border-slate-100/50",children:[s.jsxs(fe,{htmlFor:"fertilitySymbol",className:"flex items-center text-slate-800 text-sm font-semibold",children:[s.jsx(jn,{className:"mr-2 h-5 w-5 text-slate-400"}),"Símbolo de Fertilidad"]}),s.jsxs(Ir,{value:v,onValueChange:m,disabled:S,children:[s.jsx(Rr,{className:"w-full bg-white border-slate-200 text-gray-800 hover:bg-white",children:s.jsx(Er,{placeholder:"Selecciona un símbolo"})}),s.jsx(Ar,{className:"bg-white border-slate-200 text-gray-800",children:cr.map(_=>s.jsx(Wr,{value:_.value,className:"cursor-pointer",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("span",{className:`w-4 h-4 rounded-full mr-2 border border-gray-300 ${_.color}`}),_.label]})},_.value))})]})]}),s.jsxs("div",{className:"space-y-2 bg-gradient-to-r from-blue-50 to-indigo-50 rounded-xl p-3 border border-blue-100/50",children:[s.jsxs(fe,{htmlFor:"mucusSensation",className:"flex items-center text-slate-800 text-sm font-semibold",children:[s.jsx(_n,{className:"mr-2 h-5 w-5 text-sky-600"}),"Sensación del moco"]}),s.jsx(ye,{id:"mucusSensation",value:c,onChange:_=>d(_.target.value),className:"bg-white/70 border-blue-200 text-gray-800 placeholder-gray-400 focus:ring-blue-500 focus:border-blue-500 text-base",disabled:S})]}),s.jsxs("div",{className:"space-y-2 bg-gradient-to-r from-emerald-50 to-teal-50 rounded-xl p-3 border border-emerald-100/50",children:[s.jsxs(fe,{htmlFor:"mucusAppearance",className:"flex items-center text-slate-800 text-sm font-semibold",children:[s.jsx(xn,{className:"mr-2 h-5 w-5 text-emerald-600"}),"Apariencia del moco"]}),s.jsx(ye,{id:"mucusAppearance",value:u,onChange:_=>f(_.target.value),className:"bg-white/70 border-emerald-200 text-gray-800 placeholder-gray-400 focus:ring-emerald-500 focus:border-emerald-500 text-base",disabled:S})]}),s.jsxs("div",{className:"space-y-2 bg-gradient-to-r from-violet-50 to-purple-50 rounded-xl p-3 border border-violet-100/50",children:[s.jsx(fe,{htmlFor:"observations",className:"flex items-center text-slate-800 text-sm font-semibold",children:"Observaciones"}),s.jsx(Mt,{id:"observations",value:h,onChange:_=>w(_.target.value),className:"bg-white/70 border-violet-200 text-gray-800 placeholder-gray-400 focus:ring-violet-500 focus:border-violet-500 text-base min-h-[40px] resize-none",disabled:S})]})]})},Ia=({onCancel:e,isProcessing:t,isEditing:r})=>s.jsxs("div",{className:"flex space-x-3 pt-2",children:[e&&s.jsxs(Q,{type:"button",onClick:e,variant:"outline",className:"w-full border-pink-200 bg-white/70 text-gray-700 hover:bg-rose-50 font-semibold py-2.5 text-lg",disabled:t,children:[s.jsx(jt,{className:"mr-2 h-5 w-5"}),"Cancelar"]}),s.jsxs(Q,{type:"submit",className:"w-full bg-gradient-to-r from-rose-95 to-rose-50/90 hover:from-pink-600 hover:to-pink-700 text-white font-semibold py-2.5 text-lg shadow-md hover:shadow-lg transition-all duration-300 transform hover:scale-102",disabled:t,children:[t?s.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white mr-2"}):s.jsx(Nn,{className:"mr-2 h-5 w-5"}),r?"Actualizar":"Guardar"]})]}),Ra=(e,t,r,n,o,a=[],l)=>{const i=()=>{if(t!=null&&t.isoDate)return H(t.isoDate);const y=$(new Date),N=n?$(H(n)):null,M=o?$(H(o)):null;let D=y;if(N&&D<N&&(D=N),M&&D>M&&(D=M),!M&&N){const A=L(N,45);D>A&&(D=A)}return D},[c,d]=p.useState(i),[u,f]=p.useState(()=>t!=null&&t.measurements&&Array.isArray(t.measurements)?t.measurements.map(y=>({temperature:y.temperature??"",time:y.time||F(new Date,"HH:mm"),selected:!!y.selected,temperature_corrected:y.temperature_corrected??"",time_corrected:y.time_corrected||y.time||F(new Date,"HH:mm"),use_corrected:!!y.use_corrected,confirmed:!0})):[{temperature:(t==null?void 0:t.temperature_raw)===null||(t==null?void 0:t.temperature_raw)===void 0?"":String(t.temperature_raw),time:t!=null&&t.timestamp?F(H(t.timestamp),"HH:mm"):F(new Date,"HH:mm"),selected:!0,temperature_corrected:"",time_corrected:t!=null&&t.timestamp?F(H(t.timestamp),"HH:mm"):F(new Date,"HH:mm"),use_corrected:!1,confirmed:!0}]),[v,m]=p.useState((t==null?void 0:t.mucusSensation)??(t==null?void 0:t.mucus_sensation)??""),[h,w]=p.useState((t==null?void 0:t.mucusAppearance)??(t==null?void 0:t.mucus_appearance)??""),[x,j]=p.useState((t==null?void 0:t.fertility_symbol)||be.NONE.value),[O,B]=p.useState((t==null?void 0:t.observations)||""),[Y,S]=p.useState((t==null?void 0:t.ignored)||!1),[E,q]=p.useState((t==null?void 0:t.peak_marker)==="peak"?"peak":null),ne=p.useMemo(()=>{const y=a.find(N=>(N==null?void 0:N.peak_marker)==="peak");return(y==null?void 0:y.isoDate)||null},[a]),{toast:J}=xr();p.useEffect(()=>{t?(d(H(t.isoDate)),t.measurements&&Array.isArray(t.measurements)&&f(t.measurements.map(y=>({temperature:y.temperature??"",time:y.time||F(new Date,"HH:mm"),selected:!!y.selected,temperature_corrected:y.temperature_corrected??"",time_corrected:y.time_corrected||y.time||F(new Date,"HH:mm"),use_corrected:!!y.use_corrected,confirmed:!0}))),m(t.mucusSensation??t.mucus_sensation??""),w(t.mucusAppearance??t.mucus_appearance??""),j(t.fertility_symbol||be.NONE.value),B(t.observations||""),S(t.ignored||!1),q(t.peak_marker==="peak"?"peak":null)):(f([{temperature:"",time:F(new Date,"HH:mm"),selected:!0,temperature_corrected:"",time_corrected:F(new Date,"HH:mm"),use_corrected:!1,confirmed:!0}]),m(""),w(""),j(be.NONE.value),B(""),S(!1),q(null),d(i()))},[t]),p.useEffect(()=>{if(t)return;const y=n?$(H(n)):null,N=o?$(H(o)):null;d(M=>{if(!M)return i();let D=M;if(y&&D<y&&(D=y),N&&D>N&&(D=N),!N&&y){const A=L(y,45);D>A&&(D=A)}return D})},[n,o,t]),p.useEffect(()=>{if(!l)return;const y=F(c,"yyyy-MM-dd"),N=a.find(M=>M.isoDate===y);l(N||null),N&&q(N.peak_marker==="peak"?"peak":null)},[c,a,l]);const le=()=>{f(y=>{var N;return[...y,{temperature:((N=y[y.length-1])==null?void 0:N.temperature)||"",time:F(new Date,"HH:mm"),selected:!1,temperature_corrected:"",time_corrected:F(new Date,"HH:mm"),use_corrected:!1,confirmed:!1}]})},z=y=>{f(N=>N.filter((M,D)=>D!==y))},ie=y=>{f(N=>{const M=[...N];return M[y]={...M[y],confirmed:!0},M})},K=(y,N,M)=>{f(D=>{const A=[...D];return A[y]={...A[y],[N]:M},A})},Z=y=>{f(N=>N.map((M,D)=>({...M,selected:D===y})))},G=(y={})=>{const{overrideMeasurements:N,overrideIgnored:M,peakTagOverride:D}=y;if(!c)return J({title:"Error",description:"La fecha es obligatoria.",variant:"destructive"}),null;const A=$(H(n)),me=o?$(H(o)):L(A,45);if(c<A||c>me)return J({title:"Error",description:"La fecha debe estar dentro del ciclo.",variant:"destructive"}),null;const we=F(c,"yyyy-MM-dd"),ge=R=>{if(R==null||R==="")return null;const W=parseFloat(String(R).replace(",","."));return Number.isFinite(W)?W:null},_=Object.prototype.hasOwnProperty.call(y,"peakTagOverride")?D:E,C=Array.isArray(N)?N:u;return{isoDate:we,measurements:C.map(R=>({temperature:ge(R.temperature),time:R.time,selected:R.selected,temperature_corrected:ge(R.temperature_corrected),time_corrected:R.time_corrected,use_corrected:!!R.use_corrected})),mucusSensation:v,mucusAppearance:h,fertility_symbol:x,observations:O,ignored:Object.prototype.hasOwnProperty.call(y,"overrideIgnored")?!!M:Y,peak_marker:_==="peak"?"peak":null}},oe=()=>{d(i()),f([{temperature:"",time:F(new Date,"HH:mm"),selected:!0,temperature_corrected:"",time_corrected:F(new Date,"HH:mm"),use_corrected:!1,confirmed:!0}]),m(""),w(""),j(be.NONE.value),B(""),q(null)},b=(y={})=>{const{keepFormOpen:N=!1,skipReset:M=!1,...D}=y,A=G(D);if(!A)return null;const me=e(A,{keepFormOpen:N,skipReset:M});return!r&&!M&&oe(),me};return{date:c,setDate:d,measurements:u,addMeasurement:le,updateMeasurement:K,selectMeasurement:Z,removeMeasurement:z,confirmMeasurement:ie,mucusSensation:v,setMucusSensation:m,mucusAppearance:h,setMucusAppearance:w,fertilitySymbol:x,setFertilitySymbol:j,observations:O,setObservations:B,ignored:Y,setIgnored:S,peakTag:E,setPeakTag:q,existingPeakIsoDate:ne,handleSubmit:y=>(y&&typeof y.preventDefault=="function"&&y.preventDefault(),b()),submitCurrentState:b}},Ka=({onSubmit:e,initialData:t,onCancel:r,cycleStartDate:n,cycleEndDate:o,isProcessing:a,isEditing:l=!1,cycleData:i=[],onDateSelect:c})=>{const d=p.useRef(null);Ur(!!r,r),p.useEffect(()=>{const g=d.current;if(!g)return;const y=N=>{N.target&&"scrollIntoView"in N.target&&setTimeout(()=>{N.target.scrollIntoView({behavior:"smooth",block:"center"})},50)};return g.addEventListener("focusin",y),()=>g.removeEventListener("focusin",y)},[]);const{date:u,setDate:f,measurements:v,addMeasurement:m,updateMeasurement:h,removeMeasurement:w,confirmMeasurement:x,selectMeasurement:j,mucusSensation:O,setMucusSensation:B,mucusAppearance:Y,setMucusAppearance:S,fertilitySymbol:E,setFertilitySymbol:q,observations:ne,setObservations:J,ignored:le,setIgnored:z,peakTag:ie,setPeakTag:K,existingPeakIsoDate:Z,handleSubmit:G,submitCurrentState:oe}=Ra(e,t,l,n,o,i,c),b=p.useMemo(()=>i.map(g=>H(g.isoDate)),[i]);return s.jsxs(wr.form,{ref:d,onSubmit:G,className:"space-y-4 bg-gradient-to-br from-white/98 to-rose-50/95 backdrop-blur-xl p-4 sm:p-6 rounded-3xl border-2 border-rose-200 shadow-[0_4px_20px_rgba(244,114,182,0.25)] w-full",initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5},children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-pink-500 to-rose-500 rounded-full flex items-center justify-center shadow-lg",children:s.jsx(kn,{className:"w-4 h-4 text-white"})}),s.jsx("h2",{className:"text-xl font-bold text-gray-800",children:l?"Editar Registro":"Añadir Registro"})]}),r&&s.jsx(Q,{type:"button",onClick:r,variant:"ghost",size:"icon",className:"text-gray-400 hover:text-pink-600 hover:bg-pink-50 rounded-full",children:s.jsx(jt,{className:"h-5 w-5"})})]}),s.jsx(Ta,{date:u,setDate:f,measurements:v,addMeasurement:m,updateMeasurement:h,removeMeasurement:w,confirmMeasurement:x,selectMeasurement:j,mucusSensation:O,setMucusSensation:B,mucusAppearance:Y,setMucusAppearance:S,fertilitySymbol:E,setFertilitySymbol:q,observations:ne,setObservations:J,ignored:le,setIgnored:z,peakTag:ie,setPeakTag:K,existingPeakIsoDate:Z,isProcessing:a,isEditing:l,initialData:t,cycleStartDate:n,cycleEndDate:o,recordedDates:b,submitCurrentState:oe}),s.jsx(Ia,{onCancel:r,isProcessing:a,isEditing:l})]})},Ea=e=>!!(e!=null&&e.id)&&String(e.id).startsWith("placeholder-"),Xa=(e=[])=>{if(!Array.isArray(e)||e.length===0)return{};const t=$(new Date),r=e.filter(l=>{if(!l||!l.isoDate||Ea(l)||l.peak_marker!=="peak")return!1;const i=$(H(l.isoDate));return!Ce(i,t)}).sort((l,i)=>H(l.isoDate)-H(i.isoDate))[0];if(!r)return{};const n=$(H(r.isoDate)),a={[F(n,"yyyy-MM-dd")]:"P"};for(let l=1;l<=3;l+=1){const i=L(n,l);if(Ce(i,t))break;const c=F(i,"yyyy-MM-dd");a[c]=String(l)}return a};export{xn as C,Ka as D,cr as F,kn as P,Mn as T,jt as X,_n as a,wn as b,Xa as c,Va as g,Ce as i};
