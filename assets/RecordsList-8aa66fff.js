import{c as D,j as e,m as d,r as L,p as o,f as j,C as B,B as f}from"./index-e84ae47f.js";import{e as E,B as m}from"./badge-2d3d489e.js";import{c as R,T as A,e as O,d as z,b as F,P as $,F as N}from"./computePeakStatuses-1cb03412.js";import{E as H}from"./eye-853f9d7c.js";import{T as Y}from"./DeletionDialog-9bcd306e.js";const q=D("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]),U=({records:a,onEdit:v,onDelete:y,isProcessing:c})=>{if(!a||a.length===0)return e.jsx(d.div,{className:"text-center py-12",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:e.jsxs("div",{className:"bg-white/70 backdrop-blur-md rounded-3xl p-8 border border-pink-200/50 shadow-lg mx-4",children:[e.jsx("div",{className:"w-16 h-16 mx-auto mb-4 bg-gradient-to-br from-pink-100 to-rose-100 rounded-full flex items-center justify-center",children:e.jsx(H,{className:"w-8 h-8 text-pink-500"})}),e.jsx("h3",{className:"text-xl font-semibold text-slate-700 mb-2",children:"No hay registros"}),e.jsx("p",{className:"text-slate-500",children:"Añade tu primer registro para comenzar."})]})});const w=s=>N.find(l=>l.value===s)||N[0],k=L.useMemo(()=>R(a),[a]),_={P:"Día pico",1:"Post pico 1",2:"Post pico 2",3:"Post pico 3"},T=[...a].sort((s,l)=>o(l.isoDate)-o(s.isoDate));return e.jsx(d.div,{className:"space-y-3",variants:{hidden:{opacity:0},show:{opacity:1,transition:{staggerChildren:.05}}},initial:"hidden",animate:"show",children:T.map((s,l)=>{var g;const i=w(s.fertility_symbol),t=((g=s.measurements)==null?void 0:g.find(r=>r.selected))||(s.temperature_chart||s.temperature_raw?{temperature:s.temperature_chart??s.temperature_raw,temperature_corrected:s.temperature_corrected??null,time:s.timestamp?j(o(s.timestamp),"HH:mm"):null,use_corrected:s.use_corrected??!1}:null),x=(t==null?void 0:t.use_corrected)??s.use_corrected??!1,n=(t==null?void 0:t.temperature_corrected)??s.temperature_corrected??null,C=(t==null?void 0:t.temperature)??s.temperature_chart??s.temperature_raw??null,p=x&&n!==null?n:C??n,h=p!==null,P=p,I=x&&n!==null,u=k[s.isoDate],b=u&&_[u]||null;return e.jsx(d.div,{className:"bg-white/80 backdrop-blur-md border border-pink-200/50 shadow-lg hover:shadow-xl transition-all duration-300 hover:bg-white/90 rounded-xl",variants:{hidden:{opacity:0,y:20},show:{opacity:1,y:0}},children:e.jsxs("div",{className:"p-3 shadow-md",children:[e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(B,{className:"w-5 h-5 text-pink-500 flex-shrink-0"}),e.jsx("span",{className:"font-semibold text-slate-700 text-lg",children:j(o(s.isoDate),"dd/MM/yyyy",{locale:E})}),e.jsxs("span",{className:"text-md text-pink-500",children:["Día ",s.cycleDay]}),b&&e.jsx(m,{className:"ml-2 bg-rose-100 text-rose-600 border border-rose-200",children:b})]}),e.jsxs("div",{className:"flex items-center space-x-1 ml-2",children:[i.label!=="Sin símbolo"&&e.jsx("span",{className:"text-xs text-slate-600",children:i.label}),e.jsx("div",{className:`w-6 h-6 rounded-full border ${i.color} ${i.pattern?"pattern-bg":""} flex-shrink-0`,style:{filter:"drop-shadow(0 2px 4px rgba(0,0,0,0.1))"}})]})]}),e.jsxs("div",{className:"mt-2 grid grid-cols-2 gap-2 text-xs text-slate-800",children:[e.jsxs("div",{className:"flex items-center space-x-1 bg-gradient-to-r from-amber-200 to-orange-200 border border-amber-300/50 p-2 rounded-xl",children:[e.jsx(A,{className:"w-3 h-3 text-rose-400"}),e.jsx("span",{className:"font-medium",children:h?`${P}°C`:""}),I&&e.jsx("span",{className:"w-1 h-1 rounded-full bg-amber-500 shadow-[0_0_4px_rgba(245,158,11,0.65)]",title:"Temperatura corregida"}),h&&s.ignored&&e.jsx(m,{variant:"secondary",className:"text-xs py-0 px-1 bg-orange-200 text-slate-700",children:"Ignorada"})]}),e.jsx("div",{className:"flex items-center space-x-1 bg-slate-200 border border-gray-300/50 p-2 rounded-xl",children:(t==null?void 0:t.time)&&e.jsxs(e.Fragment,{children:[e.jsx(O,{className:"w-3 h-3 text-gray-600"}),e.jsx("span",{children:t.time})]})})]}),Array.isArray(s.measurements)&&s.measurements.length>1&&e.jsx("div",{className:"mt-2 text-xs text-slate-600 space-y-1",children:s.measurements.map((r,S)=>e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{children:r.time}),e.jsx("span",{children:r.temperature}),r.selected&&e.jsx(m,{className:"ml-1",variant:"secondary",children:"Principal"})]},S))}),e.jsxs("div",{className:"mt-2 grid grid-cols-2 gap-2 text-xs text-slate-600",children:[e.jsxs("div",{className:"flex items-center gap-2 bg-gradient-to-r from-blue-100 to-indigo-100 border border-blue-500/50 p-2 rounded-xl",children:[e.jsx("div",{className:"w-5 h-5 bg-gradient-to-br from-blue-500 to-indigo-600 rounded-lg flex items-center justify-center shadow-md",children:e.jsx(z,{className:"w-3 h-3 text-white"})}),e.jsx("span",{className:"font-semibold text-blue-800 truncate",children:s.mucus_sensation||s.mucusSensation||""})]}),e.jsxs("div",{className:"flex items-center gap-2 bg-gradient-to-r from-emerald-100 to-teal-100 border border-emerald-500/50 p-2 rounded-xl",children:[e.jsx("div",{className:"w-5 h-5 bg-gradient-to-br from-emerald-500 to-teal-600 rounded-lg flex items-center justify-center shadow-md",children:e.jsx(F,{className:"w-3 h-3 text-white"})}),e.jsx("span",{className:"font-semibold text-green-800 truncate",children:s.mucus_appearance||s.mucusAppearance||""})]})]}),e.jsxs("div",{className:"mt-2 grid grid-cols-[1fr_auto] gap-2 items-start text-xs text-slate-600",children:[e.jsxs("div",{className:"flex items-center gap-2 bg-gradient-to-r from-violet-100 to-purple-100 border border-violet-500/50 p-2 rounded-xl",children:[e.jsx("div",{className:"w-5 h-5 bg-gradient-to-br from-violet-500 to-purple-600 rounded-lg flex items-center justify-center shadow-md",children:e.jsx($,{className:"w-3 h-3 text-white"})}),e.jsx("span",{className:"font-semibold text-violet-800 truncate",children:s.observations||""})]}),e.jsxs("div",{className:"flex space-x-1",children:[e.jsx(f,{type:"button",onClick:()=>v(s),variant:"outline",size:"sm",className:"h-8 w-8 p-0 border-pink-300 text-pink-600 hover:bg-pink-50 hover:border-pink-400",disabled:c,children:e.jsx(q,{className:"h-3 w-3"})}),e.jsx(f,{type:"button",onClick:()=>y(s.id),variant:"outline",size:"sm",className:"h-8 w-8 p-0 border-rose-300 text-rose-600 hover:bg-rose-800 hover:border-rose-800",disabled:c,children:e.jsx(Y,{className:"h-3 w-3"})})]})]})]})},s.id)})})};export{U as R};
