import{j as e,B as o,k as v,f as y,R as k,J as N}from"./index-D1odW1ad.js";import{D as p,a as h,b as f,c as x,d as g,e as b}from"./useCycleData-CiVYlgIv.js";import{u as C}from"./useBackClose-C7RhtkvF.js";const q=({isOpen:s,onCancel:r,onConfirm:n,conflictCycle:t,message:l})=>{const i=a=>{if(!a)return null;try{return v(y(a),"dd/MM/yyyy")}catch(u){return console.error("Failed to format conflict cycle date",u),a}},c=t?.startDate?i(t.startDate):null,d=t?.endDate?i(t.endDate):"actualmente en curso";return e.jsx(p,{open:s,onOpenChange:r,children:e.jsxs(h,{className:"bg-white border-pink-100 text-gray-800",children:[e.jsxs(f,{children:[e.jsx(x,{children:"Solapamiento detectado"}),e.jsx(g,{className:"text-gray-600",children:l??(t?`La nueva fecha se solapa con el ciclo que comenzó el ${c??"sin inicio registrado"} y terminó el ${d}. ¿Deseas ajustar las fechas y mover los registros al nuevo ciclo?`:"La nueva fecha de inicio se solapa con otro ciclo. ¿Deseas continuar?")})]}),e.jsxs(b,{className:"sm:justify-end",children:[e.jsx(o,{variant:"outline",onClick:r,className:"border-gray-300 text-titulo hover:bg-gray-100",children:"Cancelar"}),e.jsx(o,{variant:"destructive",onClick:n,className:"bg-fertiliapp-fuerte hover:bg-pink-700 text-white",children:"Confirmar"})]})]})})},B=({isOpen:s,onClose:r,onConfirm:n,recordDate:t,title:l="Confirmar eliminación",description:i,confirmLabel:c="Eliminar",cancelLabel:d="Cancelar",isProcessing:a=!1,confirmButtonClassName:u})=>{const m=k.useCallback(()=>{a||r()},[a,r]);C(s,m);const j=i??(t?`¿Estás seguro de que quieres eliminar el registro del ${t}? Esta acción no se puede deshacer.`:"Esta acción no se puede deshacer.");return e.jsx(p,{open:s,onOpenChange:D=>{D||m()},children:e.jsxs(h,{className:"bg-white/95 backdrop-blur border border-fertiliapp-fuerte text-slate-700",children:[e.jsxs(f,{children:[e.jsx(x,{className:"text-lg font-semibold text-fertiliapp-fuerte",children:l}),e.jsx(g,{className:"text-slate-600",children:j})]}),e.jsxs(b,{className:"sm:justify-end gap-3",children:[e.jsx(o,{type:"button",variant:"outline",onClick:m,disabled:a,className:"border-pink-200 text-fertiliapp-fuerte hover:bg-pink-50 hover:text-fertiliapp-fuerte",children:d}),e.jsx(o,{type:"button",onClick:n,disabled:a,className:N("bg-fertiliapp-fuerte hover:brightness-95 text-white shadow-lg",a&&"opacity-80 cursor-not-allowed",u),children:c})]})]})})};export{B as D,q as O};
