import{F as P,G as T,H as ne,I as dr,J as Re,e as E,_ as gt,s as Y,K as lt,c as Q,R as yt,j as l,z as de,r as p,D as ue,N as ur,f as I,O as bt,Q as it,P as je,q as xt,t as Ae,x as fr,y as ct,w as ke,v as wt,S as vr,T as mr,V as pr,W as hr,p as H,B as J,X as gr,Y as yr,b as br,m as xr}from"./index-094431a6.js";import{I as be}from"./input-cce78a3a.js";import{L as pe}from"./label-b3767793.js";import{h as wr,R as _r,f as kr,F as Nr,g as Cr}from"./useCycleData-0b42a521.js";import{u as jr,e as Mr,f as Or,o as Sr,s as Pr,g as Dr,h as Fr,i as Ir,j as Tr,l as Rr,k as Ar,m as Er,C as Wr,S as Lr,a as Hr,b as Yr,c as $r,d as Br}from"./checkbox-f5e56bc8.js";import{e as dt,P as zr,u as Ur}from"./badge-98f311a3.js";import{E as Vr}from"./eye-2e9ccd1a.js";import{E as Kr}from"./eye-off-e3755f54.js";function te(e,t){P(2,arguments);var r=T(e),n=ne(t);if(isNaN(n))return new Date(NaN);if(!n)return r;var o=r.getDate(),a=new Date(r.getTime());a.setMonth(r.getMonth()+n+1,0);var s=a.getDate();return o>=s?a:(r.setFullYear(a.getFullYear(),a.getMonth(),o),r)}var Xr=36e5;function Gr(e,t){P(2,arguments);var r=ne(t);return dr(e,r*Xr)}function se(e,t){var r,n,o,a,s,i,c,d;P(1,arguments);var u=Re(),f=ne((r=(n=(o=(a=t==null?void 0:t.weekStartsOn)!==null&&a!==void 0?a:t==null||(s=t.locale)===null||s===void 0||(i=s.options)===null||i===void 0?void 0:i.weekStartsOn)!==null&&o!==void 0?o:u.weekStartsOn)!==null&&n!==void 0?n:(c=u.locale)===null||c===void 0||(d=c.options)===null||d===void 0?void 0:d.weekStartsOn)!==null&&r!==void 0?r:0);if(!(f>=0&&f<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var v=T(e),m=v.getDay(),h=(m<f?7:0)+m-f;return v.setDate(v.getDate()-h),v.setHours(0,0,0,0),v}function he(e){return P(1,arguments),se(e,{weekStartsOn:1})}function Zr(e){P(1,arguments);var t=T(e),r=t.getFullYear(),n=new Date(0);n.setFullYear(r+1,0,4),n.setHours(0,0,0,0);var o=he(n),a=new Date(0);a.setFullYear(r,0,4),a.setHours(0,0,0,0);var s=he(a);return t.getTime()>=o.getTime()?r+1:t.getTime()>=s.getTime()?r:r-1}function qr(e){P(1,arguments);var t=Zr(e),r=new Date(0);r.setFullYear(t,0,4),r.setHours(0,0,0,0);var n=he(r);return n}function Ke(e,t){P(2,arguments);var r=ne(t),n=r*7;return E(e,n)}function Jr(e,t){P(2,arguments);var r=ne(t);return te(e,r*12)}function Qr(e){P(1,arguments);var t;if(e&&typeof e.forEach=="function")t=e;else if(gt(e)==="object"&&e!==null)t=Array.prototype.slice.call(e);else return new Date(NaN);var r;return t.forEach(function(n){var o=T(n);(r===void 0||r<o||isNaN(Number(o)))&&(r=o)}),r||new Date(NaN)}function en(e){P(1,arguments);var t;if(e&&typeof e.forEach=="function")t=e;else if(gt(e)==="object"&&e!==null)t=Array.prototype.slice.call(e);else return new Date(NaN);var r;return t.forEach(function(n){var o=T(n);(r===void 0||r>o||isNaN(o.getDate()))&&(r=o)}),r||new Date(NaN)}function U(e,t){P(2,arguments);var r=Y(e),n=Y(t);return r.getTime()===n.getTime()}function Ne(e,t){P(2,arguments);var r=T(e),n=T(t),o=r.getFullYear()-n.getFullYear(),a=r.getMonth()-n.getMonth();return o*12+a}var tn=6048e5;function rn(e,t,r){P(2,arguments);var n=se(e,r),o=se(t,r),a=n.getTime()-lt(n),s=o.getTime()-lt(o);return Math.round((a-s)/tn)}function Xe(e){P(1,arguments);var t=T(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(23,59,59,999),t}function V(e){P(1,arguments);var t=T(e);return t.setDate(1),t.setHours(0,0,0,0),t}function nn(e){P(1,arguments);var t=T(e),r=new Date(0);return r.setFullYear(t.getFullYear(),0,1),r.setHours(0,0,0,0),r}function Ge(e,t){var r,n,o,a,s,i,c,d;P(1,arguments);var u=Re(),f=ne((r=(n=(o=(a=t==null?void 0:t.weekStartsOn)!==null&&a!==void 0?a:t==null||(s=t.locale)===null||s===void 0||(i=s.options)===null||i===void 0?void 0:i.weekStartsOn)!==null&&o!==void 0?o:u.weekStartsOn)!==null&&n!==void 0?n:(c=u.locale)===null||c===void 0||(d=c.options)===null||d===void 0?void 0:d.weekStartsOn)!==null&&r!==void 0?r:0);if(!(f>=0&&f<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var v=T(e),m=v.getDay(),h=(m<f?-7:0)+6-(m-f);return v.setDate(v.getDate()+h),v.setHours(23,59,59,999),v}function _t(e){return P(1,arguments),Ge(e,{weekStartsOn:1})}function on(e){P(1,arguments);var t=T(e),r=t.getFullYear(),n=t.getMonth(),o=new Date(0);return o.setFullYear(r,n+1,0),o.setHours(0,0,0,0),o.getDate()}var an=6048e5;function sn(e){P(1,arguments);var t=T(e),r=he(t).getTime()-qr(t).getTime();return Math.round(r/an)+1}function ln(e){P(1,arguments);var t=T(e),r=t.getTime();return r}function cn(e){return P(1,arguments),Math.floor(ln(e)/1e3)}function dn(e,t){var r,n,o,a,s,i,c,d;P(1,arguments);var u=T(e),f=u.getFullYear(),v=Re(),m=ne((r=(n=(o=(a=t==null?void 0:t.firstWeekContainsDate)!==null&&a!==void 0?a:t==null||(s=t.locale)===null||s===void 0||(i=s.options)===null||i===void 0?void 0:i.firstWeekContainsDate)!==null&&o!==void 0?o:v.firstWeekContainsDate)!==null&&n!==void 0?n:(c=v.locale)===null||c===void 0||(d=c.options)===null||d===void 0?void 0:d.firstWeekContainsDate)!==null&&r!==void 0?r:1);if(!(m>=1&&m<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var h=new Date(0);h.setFullYear(f+1,0,m),h.setHours(0,0,0,0);var w=se(h,t),b=new Date(0);b.setFullYear(f,0,m),b.setHours(0,0,0,0);var j=se(b,t);return u.getTime()>=w.getTime()?f+1:u.getTime()>=j.getTime()?f:f-1}function un(e,t){var r,n,o,a,s,i,c,d;P(1,arguments);var u=Re(),f=ne((r=(n=(o=(a=t==null?void 0:t.firstWeekContainsDate)!==null&&a!==void 0?a:t==null||(s=t.locale)===null||s===void 0||(i=s.options)===null||i===void 0?void 0:i.firstWeekContainsDate)!==null&&o!==void 0?o:u.firstWeekContainsDate)!==null&&n!==void 0?n:(c=u.locale)===null||c===void 0||(d=c.options)===null||d===void 0?void 0:d.firstWeekContainsDate)!==null&&r!==void 0?r:1),v=dn(e,t),m=new Date(0);m.setFullYear(v,0,f),m.setHours(0,0,0,0);var h=se(m,t);return h}var fn=6048e5;function vn(e,t){P(1,arguments);var r=T(e),n=se(r,t).getTime()-un(r,t).getTime();return Math.round(n/fn)+1}function mn(e){P(1,arguments);var t=T(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(0,0,0,0),t}function pn(e,t){return P(1,arguments),rn(mn(e),V(e),t)+1}function Ce(e,t){P(2,arguments);var r=T(e),n=T(t);return r.getTime()>n.getTime()}function kt(e,t){P(2,arguments);var r=T(e),n=T(t);return r.getTime()<n.getTime()}function Ze(e,t){P(2,arguments);var r=T(e),n=T(t);return r.getFullYear()===n.getFullYear()&&r.getMonth()===n.getMonth()}function hn(e,t){P(2,arguments);var r=T(e),n=T(t);return r.getFullYear()===n.getFullYear()}function Ye(e,t){P(2,arguments);var r=ne(t);return E(e,-r)}function $e(e,t){P(2,arguments);var r=T(e),n=ne(t),o=r.getFullYear(),a=r.getDate(),s=new Date(0);s.setFullYear(o,n,15),s.setHours(0,0,0,0);var i=on(s);return r.setMonth(n,Math.min(a,i)),r}function ut(e,t){P(2,arguments);var r=T(e),n=ne(t);return isNaN(r.getTime())?new Date(NaN):(r.setFullYear(n),r)}const ft=Q("CalendarDays",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]]),gn=Q("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]),yn=Q("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),bn=Q("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]),xn=Q("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]),wn=Q("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]),_n=Q("Droplets",[["path",{d:"M7 16.3c2.2 0 4-1.83 4-4.05 0-1.16-.57-2.26-1.71-3.19S7.29 6.75 7 5.3c-.29 1.45-1.14 2.84-2.29 3.76S3 11.1 3 12.25c0 2.22 1.8 4.05 4 4.05z",key:"1ptgy4"}],["path",{d:"M12.56 6.6A10.97 10.97 0 0 0 14 3.02c.5 2.5 2 4.9 4 6.5s3 3.5 3 5.5a6.98 6.98 0 0 1-11.91 4.97",key:"1sl1rz"}]]),kn=Q("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.5 3.5a2.12 2.12 0 0 1 3 3L7 19l-4 1 1-4Z",key:"ymcmye"}]]),Nn=Q("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]),Cn=Q("Sprout",[["path",{d:"M7 20h10",key:"e6iznv"}],["path",{d:"M10 20c5.5-2.5.8-6.4 3-10",key:"161w41"}],["path",{d:"M9.5 9.4c1.1.8 1.8 2.2 2.3 3.7-2 .4-3.5.4-4.8-.3-1.2-.6-2.3-1.9-3-4.2 2.8-.5 4.4 0 5.5.8z",key:"9gtqwd"}],["path",{d:"M14.1 6a7 7 0 0 0-1.1 4c1.9-.1 3.3-.6 4.3-1.4 1-1 1.6-2.3 1.7-4.6-2.7.1-4 1-4.9 2z",key:"bkxnd2"}]]),jn=Q("Thermometer",[["path",{d:"M14 4v10.54a4 4 0 1 1-4 0V4a2 2 0 0 1 4 0Z",key:"17jzev"}]]),Nt=Q("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]),Ct=yt.forwardRef(({className:e,...t},r)=>l.jsx("textarea",{className:de("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:r,...t}));Ct.displayName="Textarea";var k=function(){return k=Object.assign||function(t){for(var r,n=1,o=arguments.length;n<o;n++){r=arguments[n];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(t[a]=r[a])}return t},k.apply(this,arguments)};function Mn(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(r[n[o]]=e[n[o]]);return r}function jt(e,t,r){if(r||arguments.length===2)for(var n=0,o=t.length,a;n<o;n++)(a||!(n in t))&&(a||(a=Array.prototype.slice.call(t,0,n)),a[n]=t[n]);return e.concat(a||Array.prototype.slice.call(t))}function Me(e){return e.mode==="multiple"}function Oe(e){return e.mode==="range"}function Ee(e){return e.mode==="single"}var On={root:"rdp",multiple_months:"rdp-multiple_months",with_weeknumber:"rdp-with_weeknumber",vhidden:"rdp-vhidden",button_reset:"rdp-button_reset",button:"rdp-button",caption:"rdp-caption",caption_start:"rdp-caption_start",caption_end:"rdp-caption_end",caption_between:"rdp-caption_between",caption_label:"rdp-caption_label",caption_dropdowns:"rdp-caption_dropdowns",dropdown:"rdp-dropdown",dropdown_month:"rdp-dropdown_month",dropdown_year:"rdp-dropdown_year",dropdown_icon:"rdp-dropdown_icon",months:"rdp-months",month:"rdp-month",table:"rdp-table",tbody:"rdp-tbody",tfoot:"rdp-tfoot",head:"rdp-head",head_row:"rdp-head_row",head_cell:"rdp-head_cell",nav:"rdp-nav",nav_button:"rdp-nav_button",nav_button_previous:"rdp-nav_button_previous",nav_button_next:"rdp-nav_button_next",nav_icon:"rdp-nav_icon",row:"rdp-row",weeknumber:"rdp-weeknumber",cell:"rdp-cell",day:"rdp-day",day_today:"rdp-day_today",day_outside:"rdp-day_outside",day_selected:"rdp-day_selected",day_disabled:"rdp-day_disabled",day_hidden:"rdp-day_hidden",day_range_start:"rdp-day_range_start",day_range_end:"rdp-day_range_end",day_range_middle:"rdp-day_range_middle"};function Sn(e,t){return I(e,"LLLL y",t)}function Pn(e,t){return I(e,"d",t)}function Dn(e,t){return I(e,"LLLL",t)}function Fn(e){return"".concat(e)}function In(e,t){return I(e,"cccccc",t)}function Tn(e,t){return I(e,"yyyy",t)}var Rn=Object.freeze({__proto__:null,formatCaption:Sn,formatDay:Pn,formatMonthCaption:Dn,formatWeekNumber:Fn,formatWeekdayName:In,formatYearCaption:Tn}),An=function(e,t,r){return I(e,"do MMMM (EEEE)",r)},En=function(){return"Month: "},Wn=function(){return"Go to next month"},Ln=function(){return"Go to previous month"},Hn=function(e,t){return I(e,"cccc",t)},Yn=function(e){return"Week n. ".concat(e)},$n=function(){return"Year: "},Bn=Object.freeze({__proto__:null,labelDay:An,labelMonthDropdown:En,labelNext:Wn,labelPrevious:Ln,labelWeekNumber:Yn,labelWeekday:Hn,labelYearDropdown:$n});function zn(){var e="buttons",t=On,r=ur,n={},o={},a=1,s={},i=new Date;return{captionLayout:e,classNames:t,formatters:Rn,labels:Bn,locale:r,modifiersClassNames:n,modifiers:o,numberOfMonths:a,styles:s,today:i,mode:"default"}}function Un(e){var t=e.fromYear,r=e.toYear,n=e.fromMonth,o=e.toMonth,a=e.fromDate,s=e.toDate;return n?a=V(n):t&&(a=new Date(t,0,1)),o?s=Xe(o):r&&(s=new Date(r,11,31)),{fromDate:a?Y(a):void 0,toDate:s?Y(s):void 0}}var Mt=p.createContext(void 0);function Vn(e){var t,r=e.initialProps,n=zn(),o=Un(r),a=o.fromDate,s=o.toDate,i=(t=r.captionLayout)!==null&&t!==void 0?t:n.captionLayout;i!=="buttons"&&(!a||!s)&&(i="buttons");var c;(Ee(r)||Me(r)||Oe(r))&&(c=r.onSelect);var d=k(k(k({},n),r),{captionLayout:i,classNames:k(k({},n.classNames),r.classNames),components:k({},r.components),formatters:k(k({},n.formatters),r.formatters),fromDate:a,labels:k(k({},n.labels),r.labels),mode:r.mode||n.mode,modifiers:k(k({},n.modifiers),r.modifiers),modifiersClassNames:k(k({},n.modifiersClassNames),r.modifiersClassNames),onSelect:c,styles:k(k({},n.styles),r.styles),toDate:s});return l.jsx(Mt.Provider,{value:d,children:e.children})}function R(){var e=p.useContext(Mt);if(!e)throw new Error("useDayPicker must be used within a DayPickerProvider.");return e}function Ot(e){var t=R(),r=t.locale,n=t.classNames,o=t.styles,a=t.formatters.formatCaption;return l.jsx("div",{className:n.caption_label,style:o.caption_label,"aria-live":"polite",role:"presentation",id:e.id,children:a(e.displayMonth,{locale:r})})}function Kn(e){return l.jsx("svg",k({width:"8px",height:"8px",viewBox:"0 0 120 120","data-testid":"iconDropdown"},e,{children:l.jsx("path",{d:"M4.22182541,48.2218254 C8.44222828,44.0014225 15.2388494,43.9273804 19.5496459,47.9996989 L19.7781746,48.2218254 L60,88.443 L100.221825,48.2218254 C104.442228,44.0014225 111.238849,43.9273804 115.549646,47.9996989 L115.778175,48.2218254 C119.998577,52.4422283 120.07262,59.2388494 116.000301,63.5496459 L115.778175,63.7781746 L67.7781746,111.778175 C63.5577717,115.998577 56.7611506,116.07262 52.4503541,112.000301 L52.2218254,111.778175 L4.22182541,63.7781746 C-0.0739418023,59.4824074 -0.0739418023,52.5175926 4.22182541,48.2218254 Z",fill:"currentColor",fillRule:"nonzero"})}))}function St(e){var t,r,n=e.onChange,o=e.value,a=e.children,s=e.caption,i=e.className,c=e.style,d=R(),u=(r=(t=d.components)===null||t===void 0?void 0:t.IconDropdown)!==null&&r!==void 0?r:Kn;return l.jsxs("div",{className:i,style:c,children:[l.jsx("span",{className:d.classNames.vhidden,children:e["aria-label"]}),l.jsx("select",{name:e.name,"aria-label":e["aria-label"],className:d.classNames.dropdown,style:d.styles.dropdown,value:o,onChange:n,children:a}),l.jsxs("div",{className:d.classNames.caption_label,style:d.styles.caption_label,"aria-hidden":"true",children:[s,l.jsx(u,{className:d.classNames.dropdown_icon,style:d.styles.dropdown_icon})]})]})}function Xn(e){var t,r=R(),n=r.fromDate,o=r.toDate,a=r.styles,s=r.locale,i=r.formatters.formatMonthCaption,c=r.classNames,d=r.components,u=r.labels.labelMonthDropdown;if(!n)return l.jsx(l.Fragment,{});if(!o)return l.jsx(l.Fragment,{});var f=[];if(hn(n,o))for(var v=V(n),m=n.getMonth();m<=o.getMonth();m++)f.push($e(v,m));else for(var v=V(new Date),m=0;m<=11;m++)f.push($e(v,m));var h=function(b){var j=Number(b.target.value),O=$e(V(e.displayMonth),j);e.onChange(O)},w=(t=d==null?void 0:d.Dropdown)!==null&&t!==void 0?t:St;return l.jsx(w,{name:"months","aria-label":u(),className:c.dropdown_month,style:a.dropdown_month,onChange:h,value:e.displayMonth.getMonth(),caption:i(e.displayMonth,{locale:s}),children:f.map(function(b){return l.jsx("option",{value:b.getMonth(),children:i(b,{locale:s})},b.getMonth())})})}function Gn(e){var t,r=e.displayMonth,n=R(),o=n.fromDate,a=n.toDate,s=n.locale,i=n.styles,c=n.classNames,d=n.components,u=n.formatters.formatYearCaption,f=n.labels.labelYearDropdown,v=[];if(!o)return l.jsx(l.Fragment,{});if(!a)return l.jsx(l.Fragment,{});for(var m=o.getFullYear(),h=a.getFullYear(),w=m;w<=h;w++)v.push(ut(nn(new Date),w));var b=function(O){var L=ut(V(r),Number(O.target.value));e.onChange(L)},j=(t=d==null?void 0:d.Dropdown)!==null&&t!==void 0?t:St;return l.jsx(j,{name:"years","aria-label":f(),className:c.dropdown_year,style:i.dropdown_year,onChange:b,value:r.getFullYear(),caption:u(r,{locale:s}),children:v.map(function(O){return l.jsx("option",{value:O.getFullYear(),children:u(O,{locale:s})},O.getFullYear())})})}function Zn(e,t){var r=p.useState(e),n=r[0],o=r[1],a=t===void 0?n:t;return[a,o]}function qn(e){var t=e.month,r=e.defaultMonth,n=e.today,o=t||r||n||new Date,a=e.toDate,s=e.fromDate,i=e.numberOfMonths,c=i===void 0?1:i;if(a&&Ne(a,o)<0){var d=-1*(c-1);o=te(a,d)}return s&&Ne(o,s)<0&&(o=s),V(o)}function Jn(){var e=R(),t=qn(e),r=Zn(t,e.month),n=r[0],o=r[1],a=function(s){var i;if(!e.disableNavigation){var c=V(s);o(c),(i=e.onMonthChange)===null||i===void 0||i.call(e,c)}};return[n,a]}function Qn(e,t){for(var r=t.reverseMonths,n=t.numberOfMonths,o=V(e),a=V(te(o,n)),s=Ne(a,o),i=[],c=0;c<s;c++){var d=te(o,c);i.push(d)}return r&&(i=i.reverse()),i}function eo(e,t){if(!t.disableNavigation){var r=t.toDate,n=t.pagedNavigation,o=t.numberOfMonths,a=o===void 0?1:o,s=n?a:1,i=V(e);if(!r)return te(i,s);var c=Ne(r,e);if(!(c<a))return te(i,s)}}function to(e,t){if(!t.disableNavigation){var r=t.fromDate,n=t.pagedNavigation,o=t.numberOfMonths,a=o===void 0?1:o,s=n?a:1,i=V(e);if(!r)return te(i,-s);var c=Ne(i,r);if(!(c<=0))return te(i,-s)}}var Pt=p.createContext(void 0);function ro(e){var t=R(),r=Jn(),n=r[0],o=r[1],a=Qn(n,t),s=eo(n,t),i=to(n,t),c=function(f){return a.some(function(v){return Ze(f,v)})},d=function(f,v){c(f)||(v&&kt(f,v)?o(te(f,1+t.numberOfMonths*-1)):o(f))},u={currentMonth:n,displayMonths:a,goToMonth:o,goToDate:d,previousMonth:i,nextMonth:s,isDateDisplayed:c};return l.jsx(Pt.Provider,{value:u,children:e.children})}function Se(){var e=p.useContext(Pt);if(!e)throw new Error("useNavigation must be used within a NavigationProvider");return e}function vt(e){var t,r=R(),n=r.classNames,o=r.styles,a=r.components,s=Se().goToMonth,i=function(u){s(te(u,e.displayIndex?-e.displayIndex:0))},c=(t=a==null?void 0:a.CaptionLabel)!==null&&t!==void 0?t:Ot,d=l.jsx(c,{id:e.id,displayMonth:e.displayMonth});return l.jsxs("div",{className:n.caption_dropdowns,style:o.caption_dropdowns,children:[l.jsx("div",{className:n.vhidden,children:d}),l.jsx(Xn,{onChange:i,displayMonth:e.displayMonth}),l.jsx(Gn,{onChange:i,displayMonth:e.displayMonth})]})}function no(e){return l.jsx("svg",k({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:l.jsx("path",{d:"M69.490332,3.34314575 C72.6145263,0.218951416 77.6798462,0.218951416 80.8040405,3.34314575 C83.8617626,6.40086786 83.9268205,11.3179931 80.9992143,14.4548388 L80.8040405,14.6568542 L35.461,60 L80.8040405,105.343146 C83.8617626,108.400868 83.9268205,113.317993 80.9992143,116.454839 L80.8040405,116.656854 C77.7463184,119.714576 72.8291931,119.779634 69.6923475,116.852028 L69.490332,116.656854 L18.490332,65.6568542 C15.4326099,62.5991321 15.367552,57.6820069 18.2951583,54.5451612 L18.490332,54.3431458 L69.490332,3.34314575 Z",fill:"currentColor",fillRule:"nonzero"})}))}function oo(e){return l.jsx("svg",k({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:l.jsx("path",{d:"M49.8040405,3.34314575 C46.6798462,0.218951416 41.6145263,0.218951416 38.490332,3.34314575 C35.4326099,6.40086786 35.367552,11.3179931 38.2951583,14.4548388 L38.490332,14.6568542 L83.8333725,60 L38.490332,105.343146 C35.4326099,108.400868 35.367552,113.317993 38.2951583,116.454839 L38.490332,116.656854 C41.5480541,119.714576 46.4651794,119.779634 49.602025,116.852028 L49.8040405,116.656854 L100.804041,65.6568542 C103.861763,62.5991321 103.926821,57.6820069 100.999214,54.5451612 L100.804041,54.3431458 L49.8040405,3.34314575 Z",fill:"currentColor"})}))}var Te=p.forwardRef(function(e,t){var r=R(),n=r.classNames,o=r.styles,a=[n.button_reset,n.button];e.className&&a.push(e.className);var s=a.join(" "),i=k(k({},o.button_reset),o.button);return e.style&&Object.assign(i,e.style),l.jsx("button",k({},e,{ref:t,type:"button",className:s,style:i}))});function ao(e){var t,r,n=R(),o=n.dir,a=n.locale,s=n.classNames,i=n.styles,c=n.labels,d=c.labelPrevious,u=c.labelNext,f=n.components;if(!e.nextMonth&&!e.previousMonth)return l.jsx(l.Fragment,{});var v=d(e.previousMonth,{locale:a}),m=[s.nav_button,s.nav_button_previous].join(" "),h=u(e.nextMonth,{locale:a}),w=[s.nav_button,s.nav_button_next].join(" "),b=(t=f==null?void 0:f.IconRight)!==null&&t!==void 0?t:oo,j=(r=f==null?void 0:f.IconLeft)!==null&&r!==void 0?r:no;return l.jsxs("div",{className:s.nav,style:i.nav,children:[!e.hidePrevious&&l.jsx(Te,{name:"previous-month","aria-label":v,className:m,style:i.nav_button_previous,disabled:!e.previousMonth,onClick:e.onPreviousClick,children:o==="rtl"?l.jsx(b,{className:s.nav_icon,style:i.nav_icon}):l.jsx(j,{className:s.nav_icon,style:i.nav_icon})}),!e.hideNext&&l.jsx(Te,{name:"next-month","aria-label":h,className:w,style:i.nav_button_next,disabled:!e.nextMonth,onClick:e.onNextClick,children:o==="rtl"?l.jsx(j,{className:s.nav_icon,style:i.nav_icon}):l.jsx(b,{className:s.nav_icon,style:i.nav_icon})})]})}function mt(e){var t=R().numberOfMonths,r=Se(),n=r.previousMonth,o=r.nextMonth,a=r.goToMonth,s=r.displayMonths,i=s.findIndex(function(h){return Ze(e.displayMonth,h)}),c=i===0,d=i===s.length-1,u=t>1&&(c||!d),f=t>1&&(d||!c),v=function(){n&&a(n)},m=function(){o&&a(o)};return l.jsx(ao,{displayMonth:e.displayMonth,hideNext:u,hidePrevious:f,nextMonth:o,previousMonth:n,onPreviousClick:v,onNextClick:m})}function so(e){var t,r=R(),n=r.classNames,o=r.disableNavigation,a=r.styles,s=r.captionLayout,i=r.components,c=(t=i==null?void 0:i.CaptionLabel)!==null&&t!==void 0?t:Ot,d;return o?d=l.jsx(c,{id:e.id,displayMonth:e.displayMonth}):s==="dropdown"?d=l.jsx(vt,{displayMonth:e.displayMonth,id:e.id}):s==="dropdown-buttons"?d=l.jsxs(l.Fragment,{children:[l.jsx(vt,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id}),l.jsx(mt,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id})]}):d=l.jsxs(l.Fragment,{children:[l.jsx(c,{id:e.id,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),l.jsx(mt,{displayMonth:e.displayMonth,id:e.id})]}),l.jsx("div",{className:n.caption,style:a.caption,children:d})}function lo(e){var t=R(),r=t.footer,n=t.styles,o=t.classNames.tfoot;return r?l.jsx("tfoot",{className:o,style:n.tfoot,children:l.jsx("tr",{children:l.jsx("td",{colSpan:8,children:r})})}):l.jsx(l.Fragment,{})}function io(e,t,r){for(var n=r?he(new Date):se(new Date,{locale:e,weekStartsOn:t}),o=[],a=0;a<7;a++){var s=E(n,a);o.push(s)}return o}function co(){var e=R(),t=e.classNames,r=e.styles,n=e.showWeekNumber,o=e.locale,a=e.weekStartsOn,s=e.ISOWeek,i=e.formatters.formatWeekdayName,c=e.labels.labelWeekday,d=io(o,a,s);return l.jsxs("tr",{style:r.head_row,className:t.head_row,children:[n&&l.jsx("td",{style:r.head_cell,className:t.head_cell}),d.map(function(u,f){return l.jsx("th",{scope:"col",className:t.head_cell,style:r.head_cell,"aria-label":c(u,{locale:o}),children:i(u,{locale:o})},f)})]})}function uo(){var e,t=R(),r=t.classNames,n=t.styles,o=t.components,a=(e=o==null?void 0:o.HeadRow)!==null&&e!==void 0?e:co;return l.jsx("thead",{style:n.head,className:r.head,children:l.jsx(a,{})})}function fo(e){var t=R(),r=t.locale,n=t.formatters.formatDay;return l.jsx(l.Fragment,{children:n(e.date,{locale:r})})}var qe=p.createContext(void 0);function vo(e){if(!Me(e.initialProps)){var t={selected:void 0,modifiers:{disabled:[]}};return l.jsx(qe.Provider,{value:t,children:e.children})}return l.jsx(mo,{initialProps:e.initialProps,children:e.children})}function mo(e){var t=e.initialProps,r=e.children,n=t.selected,o=t.min,a=t.max,s=function(d,u,f){var v,m;(v=t.onDayClick)===null||v===void 0||v.call(t,d,u,f);var h=!!(u.selected&&o&&(n==null?void 0:n.length)===o);if(!h){var w=!!(!u.selected&&a&&(n==null?void 0:n.length)===a);if(!w){var b=n?jt([],n,!0):[];if(u.selected){var j=b.findIndex(function(O){return U(d,O)});b.splice(j,1)}else b.push(d);(m=t.onSelect)===null||m===void 0||m.call(t,b,d,u,f)}}},i={disabled:[]};n&&i.disabled.push(function(d){var u=a&&n.length>a-1,f=n.some(function(v){return U(v,d)});return!!(u&&!f)});var c={selected:n,onDayClick:s,modifiers:i};return l.jsx(qe.Provider,{value:c,children:r})}function Je(){var e=p.useContext(qe);if(!e)throw new Error("useSelectMultiple must be used within a SelectMultipleProvider");return e}function po(e,t){var r=t||{},n=r.from,o=r.to;return n&&o?U(o,e)&&U(n,e)?void 0:U(o,e)?{from:o,to:void 0}:U(n,e)?void 0:Ce(n,e)?{from:e,to:o}:{from:n,to:e}:o?Ce(e,o)?{from:o,to:e}:{from:e,to:o}:n?kt(e,n)?{from:e,to:n}:{from:n,to:e}:{from:e,to:void 0}}var Qe=p.createContext(void 0);function ho(e){if(!Oe(e.initialProps)){var t={selected:void 0,modifiers:{range_start:[],range_end:[],range_middle:[],disabled:[]}};return l.jsx(Qe.Provider,{value:t,children:e.children})}return l.jsx(go,{initialProps:e.initialProps,children:e.children})}function go(e){var t=e.initialProps,r=e.children,n=t.selected,o=n||{},a=o.from,s=o.to,i=t.min,c=t.max,d=function(m,h,w){var b,j;(b=t.onDayClick)===null||b===void 0||b.call(t,m,h,w);var O=po(m,n);(j=t.onSelect)===null||j===void 0||j.call(t,O,m,h,w)},u={range_start:[],range_end:[],range_middle:[],disabled:[]};if(a?(u.range_start=[a],s?(u.range_end=[s],U(a,s)||(u.range_middle=[{after:a,before:s}])):u.range_end=[a]):s&&(u.range_start=[s],u.range_end=[s]),i&&(a&&!s&&u.disabled.push({after:Ye(a,i-1),before:E(a,i-1)}),a&&s&&u.disabled.push({after:a,before:E(a,i-1)}),!a&&s&&u.disabled.push({after:Ye(s,i-1),before:E(s,i-1)})),c){if(a&&!s&&(u.disabled.push({before:E(a,-c+1)}),u.disabled.push({after:E(a,c-1)})),a&&s){var f=ue(s,a)+1,v=c-f;u.disabled.push({before:Ye(a,v)}),u.disabled.push({after:E(s,v)})}!a&&s&&(u.disabled.push({before:E(s,-c+1)}),u.disabled.push({after:E(s,c-1)}))}return l.jsx(Qe.Provider,{value:{selected:n,onDayClick:d,modifiers:u},children:r})}function et(){var e=p.useContext(Qe);if(!e)throw new Error("useSelectRange must be used within a SelectRangeProvider");return e}function Ie(e){return Array.isArray(e)?jt([],e,!0):e!==void 0?[e]:[]}function yo(e){var t={};return Object.entries(e).forEach(function(r){var n=r[0],o=r[1];t[n]=Ie(o)}),t}var re;(function(e){e.Outside="outside",e.Disabled="disabled",e.Selected="selected",e.Hidden="hidden",e.Today="today",e.RangeStart="range_start",e.RangeEnd="range_end",e.RangeMiddle="range_middle"})(re||(re={}));var bo=re.Selected,ce=re.Disabled,xo=re.Hidden,wo=re.Today,Be=re.RangeEnd,ze=re.RangeMiddle,Ue=re.RangeStart,_o=re.Outside;function ko(e,t,r){var n,o=(n={},n[bo]=Ie(e.selected),n[ce]=Ie(e.disabled),n[xo]=Ie(e.hidden),n[wo]=[e.today],n[Be]=[],n[ze]=[],n[Ue]=[],n[_o]=[],n);return e.fromDate&&o[ce].push({before:e.fromDate}),e.toDate&&o[ce].push({after:e.toDate}),Me(e)?o[ce]=o[ce].concat(t.modifiers[ce]):Oe(e)&&(o[ce]=o[ce].concat(r.modifiers[ce]),o[Ue]=r.modifiers[Ue],o[ze]=r.modifiers[ze],o[Be]=r.modifiers[Be]),o}var Dt=p.createContext(void 0);function No(e){var t=R(),r=Je(),n=et(),o=ko(t,r,n),a=yo(t.modifiers),s=k(k({},o),a);return l.jsx(Dt.Provider,{value:s,children:e.children})}function Ft(){var e=p.useContext(Dt);if(!e)throw new Error("useModifiers must be used within a ModifiersProvider");return e}function Co(e){return!!(e&&typeof e=="object"&&"before"in e&&"after"in e)}function jo(e){return!!(e&&typeof e=="object"&&"from"in e)}function Mo(e){return!!(e&&typeof e=="object"&&"after"in e)}function Oo(e){return!!(e&&typeof e=="object"&&"before"in e)}function So(e){return!!(e&&typeof e=="object"&&"dayOfWeek"in e)}function Po(e,t){var r,n=t.from,o=t.to;if(n&&o){var a=ue(o,n)<0;a&&(r=[o,n],n=r[0],o=r[1]);var s=ue(e,n)>=0&&ue(o,e)>=0;return s}return o?U(o,e):n?U(n,e):!1}function Do(e){return bt(e)}function Fo(e){return Array.isArray(e)&&e.every(bt)}function Io(e,t){return t.some(function(r){if(typeof r=="boolean")return r;if(Do(r))return U(e,r);if(Fo(r))return r.includes(e);if(jo(r))return Po(e,r);if(So(r))return r.dayOfWeek.includes(e.getDay());if(Co(r)){var n=ue(r.before,e),o=ue(r.after,e),a=n>0,s=o<0,i=Ce(r.before,r.after);return i?s&&a:a||s}return Mo(r)?ue(e,r.after)>0:Oo(r)?ue(r.before,e)>0:typeof r=="function"?r(e):!1})}function tt(e,t,r){var n=Object.keys(t).reduce(function(a,s){var i=t[s];return Io(e,i)&&a.push(s),a},[]),o={};return n.forEach(function(a){return o[a]=!0}),r&&!Ze(e,r)&&(o.outside=!0),o}function To(e,t){for(var r=V(e[0]),n=Xe(e[e.length-1]),o,a,s=r;s<=n;){var i=tt(s,t),c=!i.disabled&&!i.hidden;if(!c){s=E(s,1);continue}if(i.selected)return s;i.today&&!a&&(a=s),o||(o=s),s=E(s,1)}return a||o}var Ro=365;function It(e,t){var r=t.moveBy,n=t.direction,o=t.context,a=t.modifiers,s=t.retry,i=s===void 0?{count:0,lastFocused:e}:s,c=o.weekStartsOn,d=o.fromDate,u=o.toDate,f=o.locale,v={day:E,week:Ke,month:te,year:Jr,startOfWeek:function(b){return o.ISOWeek?he(b):se(b,{locale:f,weekStartsOn:c})},endOfWeek:function(b){return o.ISOWeek?_t(b):Ge(b,{locale:f,weekStartsOn:c})}},m=v[r](e,n==="after"?1:-1);n==="before"&&d?m=Qr([d,m]):n==="after"&&u&&(m=en([u,m]));var h=!0;if(a){var w=tt(m,a);h=!w.disabled&&!w.hidden}return h?m:i.count>Ro?i.lastFocused:It(m,{moveBy:r,direction:n,context:o,modifiers:a,retry:k(k({},i),{count:i.count+1})})}var Tt=p.createContext(void 0);function Ao(e){var t=Se(),r=Ft(),n=p.useState(),o=n[0],a=n[1],s=p.useState(),i=s[0],c=s[1],d=To(t.displayMonths,r),u=o??(i&&t.isDateDisplayed(i))?i:d,f=function(){c(o),a(void 0)},v=function(b){a(b)},m=R(),h=function(b,j){if(o){var O=It(o,{moveBy:b,direction:j,context:m,modifiers:r});U(o,O)||(t.goToDate(O,o),v(O))}},w={focusedDay:o,focusTarget:u,blur:f,focus:v,focusDayAfter:function(){return h("day","after")},focusDayBefore:function(){return h("day","before")},focusWeekAfter:function(){return h("week","after")},focusWeekBefore:function(){return h("week","before")},focusMonthBefore:function(){return h("month","before")},focusMonthAfter:function(){return h("month","after")},focusYearBefore:function(){return h("year","before")},focusYearAfter:function(){return h("year","after")},focusStartOfWeek:function(){return h("startOfWeek","before")},focusEndOfWeek:function(){return h("endOfWeek","after")}};return l.jsx(Tt.Provider,{value:w,children:e.children})}function rt(){var e=p.useContext(Tt);if(!e)throw new Error("useFocusContext must be used within a FocusProvider");return e}function Eo(e,t){var r=Ft(),n=tt(e,r,t);return n}var nt=p.createContext(void 0);function Wo(e){if(!Ee(e.initialProps)){var t={selected:void 0};return l.jsx(nt.Provider,{value:t,children:e.children})}return l.jsx(Lo,{initialProps:e.initialProps,children:e.children})}function Lo(e){var t=e.initialProps,r=e.children,n=function(a,s,i){var c,d,u;if((c=t.onDayClick)===null||c===void 0||c.call(t,a,s,i),s.selected&&!t.required){(d=t.onSelect)===null||d===void 0||d.call(t,void 0,a,s,i);return}(u=t.onSelect)===null||u===void 0||u.call(t,a,a,s,i)},o={selected:t.selected,onDayClick:n};return l.jsx(nt.Provider,{value:o,children:r})}function Rt(){var e=p.useContext(nt);if(!e)throw new Error("useSelectSingle must be used within a SelectSingleProvider");return e}function Ho(e,t){var r=R(),n=Rt(),o=Je(),a=et(),s=rt(),i=s.focusDayAfter,c=s.focusDayBefore,d=s.focusWeekAfter,u=s.focusWeekBefore,f=s.blur,v=s.focus,m=s.focusMonthBefore,h=s.focusMonthAfter,w=s.focusYearBefore,b=s.focusYearAfter,j=s.focusStartOfWeek,O=s.focusEndOfWeek,L=function(x){var g,y,N,M;Ee(r)?(g=n.onDayClick)===null||g===void 0||g.call(n,e,t,x):Me(r)?(y=o.onDayClick)===null||y===void 0||y.call(o,e,t,x):Oe(r)?(N=a.onDayClick)===null||N===void 0||N.call(a,e,t,x):(M=r.onDayClick)===null||M===void 0||M.call(r,e,t,x)},$=function(x){var g;v(e),(g=r.onDayFocus)===null||g===void 0||g.call(r,e,t,x)},S=function(x){var g;f(),(g=r.onDayBlur)===null||g===void 0||g.call(r,e,t,x)},A=function(x){var g;(g=r.onDayMouseEnter)===null||g===void 0||g.call(r,e,t,x)},G=function(x){var g;(g=r.onDayMouseLeave)===null||g===void 0||g.call(r,e,t,x)},oe=function(x){var g;(g=r.onDayPointerEnter)===null||g===void 0||g.call(r,e,t,x)},ee=function(x){var g;(g=r.onDayPointerLeave)===null||g===void 0||g.call(r,e,t,x)},le=function(x){var g;(g=r.onDayTouchCancel)===null||g===void 0||g.call(r,e,t,x)},B=function(x){var g;(g=r.onDayTouchEnd)===null||g===void 0||g.call(r,e,t,x)},ie=function(x){var g;(g=r.onDayTouchMove)===null||g===void 0||g.call(r,e,t,x)},K=function(x){var g;(g=r.onDayTouchStart)===null||g===void 0||g.call(r,e,t,x)},Z=function(x){var g;(g=r.onDayKeyUp)===null||g===void 0||g.call(r,e,t,x)},q=function(x){var g;switch(x.key){case"ArrowLeft":x.preventDefault(),x.stopPropagation(),r.dir==="rtl"?i():c();break;case"ArrowRight":x.preventDefault(),x.stopPropagation(),r.dir==="rtl"?c():i();break;case"ArrowDown":x.preventDefault(),x.stopPropagation(),d();break;case"ArrowUp":x.preventDefault(),x.stopPropagation(),u();break;case"PageUp":x.preventDefault(),x.stopPropagation(),x.shiftKey?w():m();break;case"PageDown":x.preventDefault(),x.stopPropagation(),x.shiftKey?b():h();break;case"Home":x.preventDefault(),x.stopPropagation(),j();break;case"End":x.preventDefault(),x.stopPropagation(),O();break}(g=r.onDayKeyDown)===null||g===void 0||g.call(r,e,t,x)},ae={onClick:L,onFocus:$,onBlur:S,onKeyDown:q,onKeyUp:Z,onMouseEnter:A,onMouseLeave:G,onPointerEnter:oe,onPointerLeave:ee,onTouchCancel:le,onTouchEnd:B,onTouchMove:ie,onTouchStart:K};return ae}function Yo(){var e=R(),t=Rt(),r=Je(),n=et(),o=Ee(e)?t.selected:Me(e)?r.selected:Oe(e)?n.selected:void 0;return o}function $o(e){return Object.values(re).includes(e)}function Bo(e,t){var r=[e.classNames.day];return Object.keys(t).forEach(function(n){var o=e.modifiersClassNames[n];if(o)r.push(o);else if($o(n)){var a=e.classNames["day_".concat(n)];a&&r.push(a)}}),r}function zo(e,t){var r=k({},e.styles.day);return Object.keys(t).forEach(function(n){var o;r=k(k({},r),(o=e.modifiersStyles)===null||o===void 0?void 0:o[n])}),r}function Uo(e,t,r){var n,o,a,s=R(),i=rt(),c=Eo(e,t),d=Ho(e,c),u=Yo(),f=!!(s.onDayClick||s.mode!=="default");p.useEffect(function(){var A;c.outside||i.focusedDay&&f&&U(i.focusedDay,e)&&((A=r.current)===null||A===void 0||A.focus())},[i.focusedDay,e,r,f,c.outside]);var v=Bo(s,c).join(" "),m=zo(s,c),h=!!(c.outside&&!s.showOutsideDays||c.hidden),w=(a=(o=s.components)===null||o===void 0?void 0:o.DayContent)!==null&&a!==void 0?a:fo,b=l.jsx(w,{date:e,displayMonth:t,activeModifiers:c}),j={style:m,className:v,children:b,role:"gridcell"},O=i.focusTarget&&U(i.focusTarget,e)&&!c.outside,L=i.focusedDay&&U(i.focusedDay,e),$=k(k(k({},j),(n={disabled:c.disabled,role:"gridcell"},n["aria-selected"]=c.selected,n.tabIndex=L||O?0:-1,n)),d),S={isButton:f,isHidden:h,activeModifiers:c,selectedDays:u,buttonProps:$,divProps:j};return S}function Vo(e){var t=p.useRef(null),r=Uo(e.date,e.displayMonth,t);return r.isHidden?l.jsx("div",{role:"gridcell"}):r.isButton?l.jsx(Te,k({name:"day",ref:t},r.buttonProps)):l.jsx("div",k({},r.divProps))}function Ko(e){var t=e.number,r=e.dates,n=R(),o=n.onWeekNumberClick,a=n.styles,s=n.classNames,i=n.locale,c=n.labels.labelWeekNumber,d=n.formatters.formatWeekNumber,u=d(Number(t),{locale:i});if(!o)return l.jsx("span",{className:s.weeknumber,style:a.weeknumber,children:u});var f=c(Number(t),{locale:i}),v=function(m){o(t,r,m)};return l.jsx(Te,{name:"week-number","aria-label":f,className:s.weeknumber,style:a.weeknumber,onClick:v,children:u})}function Xo(e){var t,r,n=R(),o=n.styles,a=n.classNames,s=n.showWeekNumber,i=n.components,c=(t=i==null?void 0:i.Day)!==null&&t!==void 0?t:Vo,d=(r=i==null?void 0:i.WeekNumber)!==null&&r!==void 0?r:Ko,u;return s&&(u=l.jsx("td",{className:a.cell,style:o.cell,children:l.jsx(d,{number:e.weekNumber,dates:e.dates})})),l.jsxs("tr",{className:a.row,style:o.row,children:[u,e.dates.map(function(f){return l.jsx("td",{className:a.cell,style:o.cell,role:"presentation",children:l.jsx(c,{displayMonth:e.displayMonth,date:f})},cn(f))})]})}function pt(e,t,r){for(var n=r!=null&&r.ISOWeek?_t(t):Ge(t,r),o=r!=null&&r.ISOWeek?he(e):se(e,r),a=ue(n,o),s=[],i=0;i<=a;i++)s.push(E(o,i));var c=s.reduce(function(d,u){var f=r!=null&&r.ISOWeek?sn(u):vn(u,r),v=d.find(function(m){return m.weekNumber===f});return v?(v.dates.push(u),d):(d.push({weekNumber:f,dates:[u]}),d)},[]);return c}function Go(e,t){var r=pt(V(e),Xe(e),t);if(t!=null&&t.useFixedWeeks){var n=pn(e,t);if(n<6){var o=r[r.length-1],a=o.dates[o.dates.length-1],s=Ke(a,6-n),i=pt(Ke(a,1),s,t);r.push.apply(r,i)}}return r}function Zo(e){var t,r,n,o=R(),a=o.locale,s=o.classNames,i=o.styles,c=o.hideHead,d=o.fixedWeeks,u=o.components,f=o.weekStartsOn,v=o.firstWeekContainsDate,m=o.ISOWeek,h=Go(e.displayMonth,{useFixedWeeks:!!d,ISOWeek:m,locale:a,weekStartsOn:f,firstWeekContainsDate:v}),w=(t=u==null?void 0:u.Head)!==null&&t!==void 0?t:uo,b=(r=u==null?void 0:u.Row)!==null&&r!==void 0?r:Xo,j=(n=u==null?void 0:u.Footer)!==null&&n!==void 0?n:lo;return l.jsxs("table",{id:e.id,className:s.table,style:i.table,role:"grid","aria-labelledby":e["aria-labelledby"],children:[!c&&l.jsx(w,{}),l.jsx("tbody",{className:s.tbody,style:i.tbody,children:h.map(function(O){return l.jsx(b,{displayMonth:e.displayMonth,dates:O.dates,weekNumber:O.weekNumber},O.weekNumber)})}),l.jsx(j,{displayMonth:e.displayMonth})]})}function qo(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}var Jo=qo()?p.useLayoutEffect:p.useEffect,Ve=!1,Qo=0;function ht(){return"react-day-picker-".concat(++Qo)}function ea(e){var t,r=e??(Ve?ht():null),n=p.useState(r),o=n[0],a=n[1];return Jo(function(){o===null&&a(ht())},[]),p.useEffect(function(){Ve===!1&&(Ve=!0)},[]),(t=e??o)!==null&&t!==void 0?t:void 0}function ta(e){var t,r,n=R(),o=n.dir,a=n.classNames,s=n.styles,i=n.components,c=Se().displayMonths,d=ea(n.id?"".concat(n.id,"-").concat(e.displayIndex):void 0),u=n.id?"".concat(n.id,"-grid-").concat(e.displayIndex):void 0,f=[a.month],v=s.month,m=e.displayIndex===0,h=e.displayIndex===c.length-1,w=!m&&!h;o==="rtl"&&(t=[m,h],h=t[0],m=t[1]),m&&(f.push(a.caption_start),v=k(k({},v),s.caption_start)),h&&(f.push(a.caption_end),v=k(k({},v),s.caption_end)),w&&(f.push(a.caption_between),v=k(k({},v),s.caption_between));var b=(r=i==null?void 0:i.Caption)!==null&&r!==void 0?r:so;return l.jsxs("div",{className:f.join(" "),style:v,children:[l.jsx(b,{id:d,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),l.jsx(Zo,{id:u,"aria-labelledby":d,displayMonth:e.displayMonth})]},e.displayIndex)}function ra(e){var t=R(),r=t.classNames,n=t.styles;return l.jsx("div",{className:r.months,style:n.months,children:e.children})}function na(e){var t,r,n=e.initialProps,o=R(),a=rt(),s=Se(),i=p.useState(!1),c=i[0],d=i[1];p.useEffect(function(){o.initialFocus&&a.focusTarget&&(c||(a.focus(a.focusTarget),d(!0)))},[o.initialFocus,c,a.focus,a.focusTarget,a]);var u=[o.classNames.root,o.className];o.numberOfMonths>1&&u.push(o.classNames.multiple_months),o.showWeekNumber&&u.push(o.classNames.with_weeknumber);var f=k(k({},o.styles.root),o.style),v=Object.keys(n).filter(function(h){return h.startsWith("data-")}).reduce(function(h,w){var b;return k(k({},h),(b={},b[w]=n[w],b))},{}),m=(r=(t=n.components)===null||t===void 0?void 0:t.Months)!==null&&r!==void 0?r:ra;return l.jsx("div",k({className:u.join(" "),style:f,dir:o.dir,id:o.id,nonce:n.nonce,title:n.title,lang:n.lang},v,{children:l.jsx(m,{children:s.displayMonths.map(function(h,w){return l.jsx(ta,{displayIndex:w,displayMonth:h},w)})})}))}function oa(e){var t=e.children,r=Mn(e,["children"]);return l.jsx(Vn,{initialProps:r,children:l.jsx(ro,{children:l.jsx(Wo,{initialProps:r,children:l.jsx(vo,{initialProps:r,children:l.jsx(ho,{initialProps:r,children:l.jsx(No,{children:l.jsx(Ao,{children:t})})})})})})})}function aa(e){return l.jsx(oa,k({},e,{children:l.jsx(na,{initialProps:e})}))}function At({className:e,classNames:t,showOutsideDays:r=!0,...n}){return l.jsx(aa,{showOutsideDays:r,className:de("p-3",e),classNames:{months:"flex flex-col items-center sm:flex-row sm:items-center sm:justify-center space-y-4 sm:space-x-4 sm:space-y-0",month:"space-y-4",caption:"flex justify-center pt-1 relative items-center",caption_label:"text-sm font-medium",nav:"space-x-1 flex items-center",nav_button:de(it({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-y-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:"h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected])]:bg-transparent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20",day:de(it({variant:"ghost"}),"h-9 w-9 p-0 font-normal text-slate-700 aria-selected:opacity-100"),day_selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",day_today:"bg-pink-200 text-pink-800",day_outside:"text-muted-foreground opacity-50",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible",...t},components:{IconLeft:({...o})=>l.jsx(gn,{className:"h-4 w-4"}),IconRight:({...o})=>l.jsx(yn,{className:"h-4 w-4"})},...n})}At.displayName="Calendar";var sa="Arrow",Et=p.forwardRef((e,t)=>{const{children:r,width:n=10,height:o=5,...a}=e;return l.jsx(je.svg,{...a,ref:t,width:n,height:o,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:l.jsx("polygon",{points:"0,0 30,0 15,10"})})});Et.displayName=sa;var la=Et,ot="Popper",[Wt,Lt]=xt(ot),[ia,Ht]=Wt(ot),Yt=e=>{const{__scopePopper:t,children:r}=e,[n,o]=p.useState(null);return l.jsx(ia,{scope:t,anchor:n,onAnchorChange:o,children:r})};Yt.displayName=ot;var $t="PopperAnchor",Bt=p.forwardRef((e,t)=>{const{__scopePopper:r,virtualRef:n,...o}=e,a=Ht($t,r),s=p.useRef(null),i=Ae(t,s);return p.useEffect(()=>{a.onAnchorChange((n==null?void 0:n.current)||s.current)}),n?null:l.jsx(je.div,{...o,ref:i})});Bt.displayName=$t;var at="PopperContent",[ca,da]=Wt(at),zt=p.forwardRef((e,t)=>{var _,C,z,D,X,ye;const{__scopePopper:r,side:n="bottom",sideOffset:o=0,align:a="center",alignOffset:s=0,arrowPadding:i=0,avoidCollisions:c=!0,collisionBoundary:d=[],collisionPadding:u=0,sticky:f="partial",hideWhenDetached:v=!1,updatePositionStrategy:m="optimized",onPlaced:h,...w}=e,b=Ht(at,r),[j,O]=p.useState(null),L=Ae(t,me=>O(me)),[$,S]=p.useState(null),A=jr($),G=(A==null?void 0:A.width)??0,oe=(A==null?void 0:A.height)??0,ee=n+(a!=="center"?"-"+a:""),le=typeof u=="number"?u:{top:0,right:0,bottom:0,left:0,...u},B=Array.isArray(d)?d:[d],ie=B.length>0,K={padding:le,boundary:B.filter(fa),altBoundary:ie},{refs:Z,floatingStyles:q,placement:ae,isPositioned:x,middlewareData:g}=Mr({strategy:"fixed",placement:ee,whileElementsMounted:(...me)=>Or(...me,{animationFrame:m==="always"}),elements:{reference:b.anchor},middleware:[Sr({mainAxis:o+oe,alignmentAxis:s}),c&&Pr({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?Rr():void 0,...K}),c&&Dr({...K}),Fr({...K,apply:({elements:me,rects:De,availableWidth:Le,availableHeight:He})=>{const{width:ir,height:cr}=De.reference,Fe=me.floating.style;Fe.setProperty("--radix-popper-available-width",`${Le}px`),Fe.setProperty("--radix-popper-available-height",`${He}px`),Fe.setProperty("--radix-popper-anchor-width",`${ir}px`),Fe.setProperty("--radix-popper-anchor-height",`${cr}px`)}}),$&&Ir({element:$,padding:i}),va({arrowWidth:G,arrowHeight:oe}),v&&Tr({strategy:"referenceHidden",...K})]}),[y,N]=Kt(ae),M=fr(h);ct(()=>{x&&(M==null||M())},[x,M]);const F=(_=g.arrow)==null?void 0:_.x,W=(C=g.arrow)==null?void 0:C.y,ve=((z=g.arrow)==null?void 0:z.centerOffset)!==0,[_e,ge]=p.useState();return ct(()=>{j&&ge(window.getComputedStyle(j).zIndex)},[j]),l.jsx("div",{ref:Z.setFloating,"data-radix-popper-content-wrapper":"",style:{...q,transform:x?q.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:_e,"--radix-popper-transform-origin":[(D=g.transformOrigin)==null?void 0:D.x,(X=g.transformOrigin)==null?void 0:X.y].join(" "),...((ye=g.hide)==null?void 0:ye.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:l.jsx(ca,{scope:r,placedSide:y,onArrowChange:S,arrowX:F,arrowY:W,shouldHideArrow:ve,children:l.jsx(je.div,{"data-side":y,"data-align":N,...w,ref:L,style:{...w.style,animation:x?void 0:"none"}})})})});zt.displayName=at;var Ut="PopperArrow",ua={top:"bottom",right:"left",bottom:"top",left:"right"},Vt=p.forwardRef(function(t,r){const{__scopePopper:n,...o}=t,a=da(Ut,n),s=ua[a.placedSide];return l.jsx("span",{ref:a.onArrowChange,style:{position:"absolute",left:a.arrowX,top:a.arrowY,[s]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[a.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[a.placedSide],visibility:a.shouldHideArrow?"hidden":void 0},children:l.jsx(la,{...o,ref:r,style:{...o.style,display:"block"}})})});Vt.displayName=Ut;function fa(e){return e!==null}var va=e=>({name:"transformOrigin",options:e,fn(t){var b,j,O;const{placement:r,rects:n,middlewareData:o}=t,s=((b=o.arrow)==null?void 0:b.centerOffset)!==0,i=s?0:e.arrowWidth,c=s?0:e.arrowHeight,[d,u]=Kt(r),f={start:"0%",center:"50%",end:"100%"}[u],v=(((j=o.arrow)==null?void 0:j.x)??0)+i/2,m=(((O=o.arrow)==null?void 0:O.y)??0)+c/2;let h="",w="";return d==="bottom"?(h=s?f:`${v}px`,w=`${-c}px`):d==="top"?(h=s?f:`${v}px`,w=`${n.floating.height+c}px`):d==="right"?(h=`${-c}px`,w=s?f:`${m}px`):d==="left"&&(h=`${n.floating.width+c}px`,w=s?f:`${m}px`),{data:{x:h,y:w}}}});function Kt(e){const[t,r="center"]=e.split("-");return[t,r]}var ma=Yt,Xt=Bt,pa=zt,ha=Vt,We="Popover",[Gt,za]=xt(We,[Lt]),Pe=Lt(),[ga,fe]=Gt(We),Zt=e=>{const{__scopePopover:t,children:r,open:n,defaultOpen:o,onOpenChange:a,modal:s=!1}=e,i=Pe(t),c=p.useRef(null),[d,u]=p.useState(!1),[f,v]=hr({prop:n,defaultProp:o??!1,onChange:a,caller:We});return l.jsx(ma,{...i,children:l.jsx(ga,{scope:t,contentId:Cr(),triggerRef:c,open:f,onOpenChange:v,onOpenToggle:p.useCallback(()=>v(m=>!m),[v]),hasCustomAnchor:d,onCustomAnchorAdd:p.useCallback(()=>u(!0),[]),onCustomAnchorRemove:p.useCallback(()=>u(!1),[]),modal:s,children:r})})};Zt.displayName=We;var qt="PopoverAnchor",ya=p.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,o=fe(qt,r),a=Pe(r),{onCustomAnchorAdd:s,onCustomAnchorRemove:i}=o;return p.useEffect(()=>(s(),()=>i()),[s,i]),l.jsx(Xt,{...a,...n,ref:t})});ya.displayName=qt;var Jt="PopoverTrigger",Qt=p.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,o=fe(Jt,r),a=Pe(r),s=Ae(t,o.triggerRef),i=l.jsx(je.button,{type:"button","aria-haspopup":"dialog","aria-expanded":o.open,"aria-controls":o.contentId,"data-state":or(o.open),...n,ref:s,onClick:ke(e.onClick,o.onOpenToggle)});return o.hasCustomAnchor?i:l.jsx(Xt,{asChild:!0,...a,children:i})});Qt.displayName=Jt;var st="PopoverPortal",[ba,xa]=Gt(st,{forceMount:void 0}),er=e=>{const{__scopePopover:t,forceMount:r,children:n,container:o}=e,a=fe(st,t);return l.jsx(ba,{scope:t,forceMount:r,children:l.jsx(wt,{present:r||a.open,children:l.jsx(mr,{asChild:!0,container:o,children:n})})})};er.displayName=st;var we="PopoverContent",tr=p.forwardRef((e,t)=>{const r=xa(we,e.__scopePopover),{forceMount:n=r.forceMount,...o}=e,a=fe(we,e.__scopePopover);return l.jsx(wt,{present:n||a.open,children:a.modal?l.jsx(_a,{...o,ref:t}):l.jsx(ka,{...o,ref:t})})});tr.displayName=we;var wa=pr("PopoverContent.RemoveScroll"),_a=p.forwardRef((e,t)=>{const r=fe(we,e.__scopePopover),n=p.useRef(null),o=Ae(t,n),a=p.useRef(!1);return p.useEffect(()=>{const s=n.current;if(s)return wr(s)},[]),l.jsx(_r,{as:wa,allowPinchZoom:!0,children:l.jsx(rr,{...e,ref:o,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:ke(e.onCloseAutoFocus,s=>{var i;s.preventDefault(),a.current||(i=r.triggerRef.current)==null||i.focus()}),onPointerDownOutside:ke(e.onPointerDownOutside,s=>{const i=s.detail.originalEvent,c=i.button===0&&i.ctrlKey===!0,d=i.button===2||c;a.current=d},{checkForDefaultPrevented:!1}),onFocusOutside:ke(e.onFocusOutside,s=>s.preventDefault(),{checkForDefaultPrevented:!1})})})}),ka=p.forwardRef((e,t)=>{const r=fe(we,e.__scopePopover),n=p.useRef(!1),o=p.useRef(!1);return l.jsx(rr,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{var s,i;(s=e.onCloseAutoFocus)==null||s.call(e,a),a.defaultPrevented||(n.current||(i=r.triggerRef.current)==null||i.focus(),a.preventDefault()),n.current=!1,o.current=!1},onInteractOutside:a=>{var c,d;(c=e.onInteractOutside)==null||c.call(e,a),a.defaultPrevented||(n.current=!0,a.detail.originalEvent.type==="pointerdown"&&(o.current=!0));const s=a.target;((d=r.triggerRef.current)==null?void 0:d.contains(s))&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&o.current&&a.preventDefault()}})}),rr=p.forwardRef((e,t)=>{const{__scopePopover:r,trapFocus:n,onOpenAutoFocus:o,onCloseAutoFocus:a,disableOutsidePointerEvents:s,onEscapeKeyDown:i,onPointerDownOutside:c,onFocusOutside:d,onInteractOutside:u,...f}=e,v=fe(we,r),m=Pe(r);return kr(),l.jsx(Nr,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:o,onUnmountAutoFocus:a,children:l.jsx(vr,{asChild:!0,disableOutsidePointerEvents:s,onInteractOutside:u,onEscapeKeyDown:i,onPointerDownOutside:c,onFocusOutside:d,onDismiss:()=>v.onOpenChange(!1),children:l.jsx(pa,{"data-state":or(v.open),role:"dialog",id:v.contentId,...m,...f,ref:t,style:{...f.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),nr="PopoverClose",Na=p.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,o=fe(nr,r);return l.jsx(je.button,{type:"button",...n,ref:t,onClick:ke(e.onClick,()=>o.onOpenChange(!1))})});Na.displayName=nr;var Ca="PopoverArrow",ja=p.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,o=Pe(r);return l.jsx(ha,{...o,...n,ref:t})});ja.displayName=Ca;function or(e){return e?"open":"closed"}var Ma=Zt,Oa=Qt,Sa=er,ar=tr;const Pa=Ma,Da=Oa,sr=yt.forwardRef(({className:e,align:t="center",sideOffset:r=4,...n},o)=>l.jsx(Sa,{children:l.jsx(ar,{ref:o,align:t,sideOffset:r,className:de("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n})}));sr.displayName=ar.displayName;const xe={NONE:{value:"none",label:"Sin Símbolo",color:"bg-gray-200",textColor:"#e2e8f0"},MENSTRUATION:{value:"red",label:"Menstruación",color:"bg-red-500",textColor:"#e2e8f0"},FERTILE:{value:"white",label:"Moco (Fértil)",color:"bg-white",textColor:"#e2e8f0"},INFERTILE:{value:"green",label:"Seco (Rel. infértil)",color:"bg-green-500",textColor:"#e2e8f0"},NON_FERTILE_MUCUS:{value:"yellow",label:"Moco (No fértil)",color:"bg-yellow-400",textColor:"#1f2937"},SPOTTING:{value:"spot",label:"Spotting",color:"bg-red-500",textColor:"#e2e8f0",pattern:"spotting-pattern"}},lr=Object.values(xe),Ua=e=>lr.find(r=>r.value===e)||xe.NONE,Fa=({date:e,setDate:t,measurements:r,addMeasurement:n,updateMeasurement:o,removeMeasurement:a,confirmMeasurement:s,selectMeasurement:i,mucusSensation:c,setMucusSensation:d,mucusAppearance:u,setMucusAppearance:f,fertilitySymbol:v,setFertilitySymbol:m,observations:h,setObservations:w,ignored:b,setIgnored:j,peakTag:O,setPeakTag:L,existingPeakIsoDate:$,isProcessing:S,isEditing:A,initialData:G,cycleStartDate:oe,cycleEndDate:ee,recordedDates:le=[],submitCurrentState:B})=>{const[ie,K]=p.useState(!1),[Z,q]=p.useState(null);p.useEffect(()=>{if(Z!==null)return;const _=r.findIndex(C=>{if(!C)return!1;const z=C.temperature_corrected!==void 0&&C.temperature_corrected!==null&&String(C.temperature_corrected).trim()!=="";return!!C.use_corrected||z});_!==-1&&q(_)},[Z,r]);const ae=(_,C)=>{const z=parseFloat(r[_].temperature??0),X=(parseFloat(r[_].temperature_corrected??z)+C).toFixed(2);o(_,"temperature_corrected",X);const ye=parseFloat(X)-z,me=Math.round(ye*10),De=r[_].time||"00:00",Le=yr(De,"HH:mm",new Date),He=I(Gr(Le,me),"HH:mm");o(_,"time_corrected",He),r[_].use_corrected||o(_,"use_corrected",!0)},x=Y(H(oe)),g=ee?Y(H(ee)):E(x,45),y=[{before:x},{after:g}],N=e?I(e,"yyyy-MM-dd"):null,M=O==="peak",W=de("h-7 rounded-xl border px-3 text-[11px] font-semibold uppercase tracking-wide transition-colors shadow-sm",M?"border-rose-400 bg-white text-rose-600 hover:bg-rose-50":$&&$!==N?"border-slate-300 bg-slate-200 text-slate-600 hover:bg-slate-200":"border-rose-500 bg-rose-500 text-white hover:bg-rose-600"),ve=async()=>{if(S||typeof B!="function")return;const _=M?null:"peak";L(_);try{await B({peakTagOverride:_,keepFormOpen:!0,skipReset:!0})}catch{L(M?"peak":null)}},_e=_=>{const C=_===!0;j(C),!(!A||S||typeof B!="function")&&B({overrideIgnored:C,keepFormOpen:!0,skipReset:!0})},ge=(_,C)=>{const z=C===!0;if(o(_,"use_corrected",z),!A||S||typeof B!="function")return;const D=r.map((X,ye)=>ye===_?{...X,use_corrected:z}:X);B({overrideMeasurements:D,keepFormOpen:!0,skipReset:!0})};return l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"space-y-2 bg-gradient-to-r from-pink-50 to-rose-50 rounded-xl p-3 border border-pink-300/50",children:[l.jsxs(pe,{htmlFor:"date",className:"flex items-center text-pink-700 text-sm font-semibold",children:[l.jsx(ft,{className:"mr-2 h-5 w-5 text-pink-400"}),"Fecha del Registro"]}),l.jsxs(Pa,{open:ie,onOpenChange:K,children:[l.jsx(Da,{asChild:!0,children:l.jsxs(J,{variant:"outline",className:de("w-full justify-start text-left font-normal bg-white/70 border-pink-200 text-gray-800 hover:bg-white",!e&&"text-muted-foreground"),disabled:S,children:[l.jsx(ft,{className:"mr-2 h-4 w-4"}),e?I(e,"PPP",{locale:dt}):l.jsx("span",{children:"Selecciona una fecha"})]})}),l.jsx(sr,{className:"w-auto p-0 bg-white border-pink-200 text-gray-800",align:"start",children:l.jsx(At,{mode:"single",selected:e,onSelect:_=>{t(Y(_||new Date)),K(!1)},initialFocus:!0,locale:dt,disabled:S?()=>!0:y,modifiers:{hasRecord:le},modifiersClassNames:{hasRecord:'relative after:content-["" ] after:absolute after:inset-x-0 after:bottom-1 after:mx-auto after:w-1.5 after:h-1.5 after:rounded-full after:bg-pink-500'},className:"[&_button]:text-gray-800 [&_button:hover]:bg-pink-100 [&_button[aria-selected=true]]:bg-pink-500"})})]})]}),r.map((_,C)=>{const z=`measurement_select_${C}`;return l.jsxs("div",{className:"space-y-3 bg-gradient-to-r from-amber-50 to-orange-50 rounded-xl p-3 border border-amber-300/50",children:[l.jsxs("div",{className:"flex items-start justify-between gap-2",children:[l.jsxs(pe,{className:"flex items-center text-amber-800 text-sm font-semibold",children:[l.jsx(jn,{className:"mr-2 h-5 w-5 text-orange-500"}),"Medición ",C+1]}),l.jsxs("label",{htmlFor:z,className:"flex items-center gap-2 rounded-full border border-amber-200 bg-white/70 px-3 py-1 text-[11px] font-semibold uppercase tracking-wide text-amber-700 shadow-sm",children:[l.jsx("input",{id:z,type:"radio",checked:_.selected,onChange:()=>i(C),disabled:S,className:"h-3.5 w-3.5 text-orange-500 focus:ring-orange-400"}),l.jsx("span",{children:"Usar en gráfica"})]})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[l.jsx(be,{type:"number",step:"0.01",min:"34.0",max:"40.0",value:_.temperature,onChange:D=>o(C,"temperature",D.target.value),onInput:D=>o(C,"temperature",D.target.value),placeholder:"36.50",className:"bg-white/70 border-amber-200 text-gray-800 placeholder-gray-400 focus:ring-orange-500 focus:border-orange-500 text-base",disabled:S}),l.jsx(be,{type:"time",value:_.time,onChange:D=>o(C,"time",D.target.value),className:"bg-white/70 border-amber-200 text-gray-800 placeholder-gray-400 focus:ring-orange-500 focus:border-orange-500 text-base",disabled:S})]}),l.jsxs("div",{className:"mt-3 flex flex-wrap items-center justify-between gap-2",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(J,{type:"button",size:"sm",variant:"outline",disabled:S,className:" text-slate-600 bg-slate-200 ",onClick:()=>{Z===C?q(null):(q(C),(_.temperature_corrected===""||_.temperature_corrected===void 0)&&o(C,"temperature_corrected",_.temperature),_.time_corrected||o(C,"time_corrected",_.time))},children:"Corregir"}),A&&!!_.temperature&&l.jsx(J,{type:"button",size:"icon",variant:"outline",disabled:S,onClick:()=>_e(!b),className:de("h-7 w-7 border-amber-200 text-amber-600 transition-colors",b?"bg-orange-500 text-white hover:bg-orange-600":"bg-white/70 hover:bg-amber-100"),title:b?"Restaurar":"Despreciar",children:b?l.jsx(Vr,{className:"h-4 w-4"}):l.jsx(Kr,{className:"h-4 w-4"})}),!_.confirmed&&l.jsxs(l.Fragment,{children:[l.jsx(J,{type:"button",size:"icon",onClick:()=>s(C),disabled:S,className:"h-7 w-7",children:l.jsx(Ar,{className:"h-4 w-4 "})}),l.jsx(J,{type:"button",size:"icon",onClick:()=>a(C),disabled:S,className:"h-7 w-7",children:l.jsx(gr,{className:"h-4 w-4"})})]})]}),l.jsxs(J,{type:"button",onClick:n,disabled:S,size:"sm",variant:"outline",className:"ml-auto flex items-center gap-1 rounded-full border-amber-300 bg-white/70 px-3 py-1 text-xs font-semibold text-amber-700 shadow-sm transition-colors hover:bg-amber-100",children:[l.jsx(zr,{className:"h-3.5 w-3.5"}),"Añadir medición"]})]}),Z===C&&l.jsxs("div",{className:"mt-2 space-y-2",children:[l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(be,{type:"number",step:"0.01",min:"34.0",max:"40.0",value:_.temperature_corrected,onChange:D=>{const X=D.target.value;o(C,"temperature_corrected",X),_.use_corrected||o(C,"use_corrected",!0)},className:"bg-white/70 border-amber-200 text-gray-800 placeholder-gray-400 focus:ring-orange-500 focus:border-orange-500 text-base",disabled:S}),l.jsx(J,{type:"button",size:"icon",variant:"outline",disabled:S,onClick:()=>ae(C,.1),children:l.jsx(bn,{className:"h-4 w-4"})}),l.jsx(J,{type:"button",size:"icon",variant:"outline",disabled:S,onClick:()=>ae(C,-.1),children:l.jsx(Er,{className:"h-4 w-4"})}),l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(wn,{className:"h-4 w-4 text-orange-500"}),l.jsx(be,{type:"time",value:_.time_corrected,onChange:D=>o(C,"time_corrected",D.target.value),className:"bg-white/70 border-amber-200 text-gray-800 focus:ring-orange-500 focus:border-orange-500 text-base",disabled:S})]})]}),l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(Wr,{id:`use_corrected_${C}`,checked:_.use_corrected,onCheckedChange:D=>ge(C,D)}),l.jsx(pe,{htmlFor:`use_corrected_${C}`,className:"text-xs",children:"Usar valor corregido"})]})]})]},C)}),l.jsx("div",{className:"mt-4 gap-3 ",children:l.jsxs("div",{className:"space-y-2 rounded-xl border border-slate-300/50 bg-gradient-to-r from-stone-100 to-slate-100 p-3",children:[l.jsxs("div",{className:"flex items-start justify-between gap-3",children:[l.jsxs(pe,{htmlFor:"fertilitySymbol",className:"flex items-center text-slate-800 text-sm font-semibold",children:[l.jsx(Cn,{className:"mr-2 h-5 w-5 text-slate-400"}),"Símbolo de Fertilidad"]}),N&&l.jsx(J,{type:"button",size:"sm",variant:"ghost","aria-pressed":M,disabled:S,onClick:ve,className:W,children:"Día pico"})]}),l.jsxs(Lr,{value:v,onValueChange:m,disabled:S,children:[l.jsx(Hr,{className:"w-full bg-white border-slate-200 text-gray-800 hover:bg-white",children:l.jsx(Yr,{placeholder:"Selecciona un símbolo"})}),l.jsx($r,{className:"bg-white border-slate-200 text-gray-800",children:lr.map(_=>l.jsx(Br,{value:_.value,className:"cursor-pointer",children:l.jsxs("div",{className:"flex items-center",children:[l.jsx("span",{className:de("w-4 h-4 rounded-full mr-2 border border-gray-300",_.pattern==="spotting-pattern"?"spotting-pattern-icon":_.color)}),_.label]})},_.value))})]})]})}),l.jsxs("div",{className:"space-y-2 bg-gradient-to-r from-blue-50 to-indigo-50 rounded-xl p-3 border border-blue-300/50",children:[l.jsxs(pe,{htmlFor:"mucusSensation",className:"flex items-center text-slate-800 text-sm font-semibold",children:[l.jsx(_n,{className:"mr-2 h-5 w-5 text-sky-600"}),"Sensación del moco"]}),l.jsx(be,{id:"mucusSensation",value:c,onChange:_=>d(_.target.value),className:"bg-white/70 border-blue-200 text-gray-800 placeholder-gray-400 focus:ring-blue-500 focus:border-blue-500 text-base",disabled:S})]}),l.jsxs("div",{className:"space-y-2 bg-gradient-to-r from-emerald-50 to-teal-50 rounded-xl p-3 border border-emerald-300/50",children:[l.jsxs(pe,{htmlFor:"mucusAppearance",className:"flex items-center text-slate-800 text-sm font-semibold",children:[l.jsx(xn,{className:"mr-2 h-5 w-5 text-emerald-600"}),"Apariencia del moco"]}),l.jsx(be,{id:"mucusAppearance",value:u,onChange:_=>f(_.target.value),className:"bg-white/70 border-emerald-200 text-gray-800 placeholder-gray-400 focus:ring-emerald-500 focus:border-emerald-500 text-base",disabled:S})]}),l.jsxs("div",{className:"space-y-2 bg-gradient-to-r from-violet-50 to-purple-50 rounded-xl p-3 border border-violet-300/50",children:[l.jsx(pe,{htmlFor:"observations",className:"flex items-center text-slate-800 text-sm font-semibold",children:"Observaciones"}),l.jsx(Ct,{id:"observations",value:h,onChange:_=>w(_.target.value),className:"bg-white/70 border-violet-200 text-gray-800 placeholder-gray-400 focus:ring-violet-500 focus:border-violet-500 text-base min-h-[40px] resize-none",disabled:S})]})]})},Ia=({onCancel:e,isProcessing:t,isEditing:r})=>l.jsxs("div",{className:"flex space-x-3 pt-2",children:[e&&l.jsxs(J,{type:"button",onClick:e,variant:"outline",className:"w-full border-pink-200 bg-white/70 text-gray-700 hover:bg-rose-50 font-semibold py-2.5 text-lg",disabled:t,children:[l.jsx(Nt,{className:"mr-2 h-5 w-5"}),"Cancelar"]}),l.jsxs(J,{type:"submit",className:"w-full bg-gradient-to-r from-rose-95 to-rose-50/90 hover:from-pink-600 hover:to-pink-700 text-white font-semibold py-2.5 text-lg shadow-md hover:shadow-lg transition-all duration-300 transform hover:scale-102",disabled:t,children:[t?l.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white mr-2"}):l.jsx(Nn,{className:"mr-2 h-5 w-5"}),r?"Actualizar":"Guardar"]})]}),Ta=(e,t,r,n,o,a=[],s)=>{const i=()=>{if(t!=null&&t.isoDate)return H(t.isoDate);const y=Y(new Date),N=n?Y(H(n)):null,M=o?Y(H(o)):null;let F=y;if(N&&F<N&&(F=N),M&&F>M&&(F=M),!M&&N){const W=E(N,45);F>W&&(F=W)}return F},[c,d]=p.useState(i),[u,f]=p.useState(()=>t!=null&&t.measurements&&Array.isArray(t.measurements)?t.measurements.map(y=>({temperature:y.temperature??"",time:y.time||I(new Date,"HH:mm"),selected:!!y.selected,temperature_corrected:y.temperature_corrected??"",time_corrected:y.time_corrected||y.time||I(new Date,"HH:mm"),use_corrected:!!y.use_corrected,confirmed:!0})):[{temperature:(t==null?void 0:t.temperature_raw)===null||(t==null?void 0:t.temperature_raw)===void 0?"":String(t.temperature_raw),time:t!=null&&t.timestamp?I(H(t.timestamp),"HH:mm"):I(new Date,"HH:mm"),selected:!0,temperature_corrected:"",time_corrected:t!=null&&t.timestamp?I(H(t.timestamp),"HH:mm"):I(new Date,"HH:mm"),use_corrected:!1,confirmed:!0}]),[v,m]=p.useState((t==null?void 0:t.mucusSensation)??(t==null?void 0:t.mucus_sensation)??""),[h,w]=p.useState((t==null?void 0:t.mucusAppearance)??(t==null?void 0:t.mucus_appearance)??""),[b,j]=p.useState((t==null?void 0:t.fertility_symbol)||xe.NONE.value),[O,L]=p.useState((t==null?void 0:t.observations)||""),[$,S]=p.useState((t==null?void 0:t.ignored)||!1),[A,G]=p.useState((t==null?void 0:t.peak_marker)==="peak"?"peak":null),oe=p.useMemo(()=>{const y=a.find(N=>(N==null?void 0:N.peak_marker)==="peak");return(y==null?void 0:y.isoDate)||null},[a]),{toast:ee}=br();p.useEffect(()=>{t?(d(H(t.isoDate)),t.measurements&&Array.isArray(t.measurements)&&f(t.measurements.map(y=>({temperature:y.temperature??"",time:y.time||I(new Date,"HH:mm"),selected:!!y.selected,temperature_corrected:y.temperature_corrected??"",time_corrected:y.time_corrected||y.time||I(new Date,"HH:mm"),use_corrected:!!y.use_corrected,confirmed:!0}))),m(t.mucusSensation??t.mucus_sensation??""),w(t.mucusAppearance??t.mucus_appearance??""),j(t.fertility_symbol||xe.NONE.value),L(t.observations||""),S(t.ignored||!1),G(t.peak_marker==="peak"?"peak":null)):(f([{temperature:"",time:I(new Date,"HH:mm"),selected:!0,temperature_corrected:"",time_corrected:I(new Date,"HH:mm"),use_corrected:!1,confirmed:!0}]),m(""),w(""),j(xe.NONE.value),L(""),S(!1),G(null),d(y=>y||i()))},[t]),p.useEffect(()=>{if(t)return;const y=n?Y(H(n)):null,N=o?Y(H(o)):null;d(M=>{if(!M)return i();let F=M;if(y&&F<y&&(F=y),N&&F>N&&(F=N),!N&&y){const W=E(y,45);F>W&&(F=W)}return F})},[n,o,t]),p.useEffect(()=>{if(!s)return;const y=I(c,"yyyy-MM-dd"),N=a.find(M=>M.isoDate===y);s(N||null),N&&G(N.peak_marker==="peak"?"peak":null)},[c,a,s]);const le=()=>{f(y=>{var N;return[...y,{temperature:((N=y[y.length-1])==null?void 0:N.temperature)||"",time:I(new Date,"HH:mm"),selected:!1,temperature_corrected:"",time_corrected:I(new Date,"HH:mm"),use_corrected:!1,confirmed:!1}]})},B=y=>{f(N=>N.filter((M,F)=>F!==y))},ie=y=>{f(N=>{const M=[...N];return M[y]={...M[y],confirmed:!0},M})},K=(y,N,M)=>{f(F=>{const W=[...F];return W[y]={...W[y],[N]:M},W})},Z=y=>{f(N=>N.map((M,F)=>({...M,selected:F===y})))},q=(y={})=>{const{overrideMeasurements:N,overrideIgnored:M,peakTagOverride:F}=y;if(!c)return ee({title:"Error",description:"La fecha es obligatoria.",variant:"destructive"}),null;const W=Y(H(n)),ve=o?Y(H(o)):E(W,45);if(c<W||c>ve)return ee({title:"Error",description:"La fecha debe estar dentro del ciclo.",variant:"destructive"}),null;const _e=I(c,"yyyy-MM-dd"),ge=D=>{if(D==null||D==="")return null;const X=parseFloat(String(D).replace(",","."));return Number.isFinite(X)?X:null},C=Object.prototype.hasOwnProperty.call(y,"peakTagOverride")?F:A,z=Array.isArray(N)?N:u;return{isoDate:_e,measurements:z.map(D=>({temperature:ge(D.temperature),time:D.time,selected:D.selected,temperature_corrected:ge(D.temperature_corrected),time_corrected:D.time_corrected,use_corrected:!!D.use_corrected})),mucusSensation:v,mucusAppearance:h,fertility_symbol:b,observations:O,ignored:Object.prototype.hasOwnProperty.call(y,"overrideIgnored")?!!M:$,peak_marker:C==="peak"?"peak":null}},ae=()=>{d(i()),f([{temperature:"",time:I(new Date,"HH:mm"),selected:!0,temperature_corrected:"",time_corrected:I(new Date,"HH:mm"),use_corrected:!1,confirmed:!0}]),m(""),w(""),j(xe.NONE.value),L(""),G(null)},x=(y={})=>{const{keepFormOpen:N=!1,skipReset:M=!1,...F}=y,W=q(F);if(!W)return null;const ve=e(W,{keepFormOpen:N,skipReset:M});return!r&&!M&&ae(),ve};return{date:c,setDate:d,measurements:u,addMeasurement:le,updateMeasurement:K,selectMeasurement:Z,removeMeasurement:B,confirmMeasurement:ie,mucusSensation:v,setMucusSensation:m,mucusAppearance:h,setMucusAppearance:w,fertilitySymbol:b,setFertilitySymbol:j,observations:O,setObservations:L,ignored:$,setIgnored:S,peakTag:A,setPeakTag:G,existingPeakIsoDate:oe,handleSubmit:y=>(y&&typeof y.preventDefault=="function"&&y.preventDefault(),x()),submitCurrentState:x}},Va=({onSubmit:e,initialData:t,onCancel:r,cycleStartDate:n,cycleEndDate:o,isProcessing:a,isEditing:s=!1,cycleData:i=[],onDateSelect:c})=>{const d=p.useRef(null);Ur(!!r,r),p.useEffect(()=>{const g=d.current;if(!g)return;const y=N=>{N.target&&"scrollIntoView"in N.target&&setTimeout(()=>{N.target.scrollIntoView({behavior:"smooth",block:"center"})},50)};return g.addEventListener("focusin",y),()=>g.removeEventListener("focusin",y)},[]);const{date:u,setDate:f,measurements:v,addMeasurement:m,updateMeasurement:h,removeMeasurement:w,confirmMeasurement:b,selectMeasurement:j,mucusSensation:O,setMucusSensation:L,mucusAppearance:$,setMucusAppearance:S,fertilitySymbol:A,setFertilitySymbol:G,observations:oe,setObservations:ee,ignored:le,setIgnored:B,peakTag:ie,setPeakTag:K,existingPeakIsoDate:Z,handleSubmit:q,submitCurrentState:ae}=Ta(e,t,s,n,o,i,c),x=p.useMemo(()=>i.map(g=>H(g.isoDate)),[i]);return l.jsxs(xr.form,{ref:d,onSubmit:q,className:"space-y-4 bg-gradient-to-br from-white/98 to-rose-50/95 backdrop-blur-xl p-4 sm:p-6 rounded-3xl border-2 border-rose-200 shadow-[0_4px_20px_rgba(244,114,182,0.25)] w-full",initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.18,ease:"easeOut"},children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-pink-500 to-rose-500 rounded-full flex items-center justify-center shadow-lg",children:l.jsx(kn,{className:"w-4 h-4 text-white"})}),l.jsx("h2",{className:"text-xl font-bold text-gray-800",children:s?"Editar Registro":"Añadir Registro"})]}),r&&l.jsx(J,{type:"button",onClick:r,variant:"ghost",size:"icon",className:"text-gray-400 hover:text-pink-600 hover:bg-pink-50 rounded-full",children:l.jsx(Nt,{className:"h-5 w-5"})})]}),l.jsx(Fa,{date:u,setDate:f,measurements:v,addMeasurement:m,updateMeasurement:h,removeMeasurement:w,confirmMeasurement:b,selectMeasurement:j,mucusSensation:O,setMucusSensation:L,mucusAppearance:$,setMucusAppearance:S,fertilitySymbol:A,setFertilitySymbol:G,observations:oe,setObservations:ee,ignored:le,setIgnored:B,peakTag:ie,setPeakTag:K,existingPeakIsoDate:Z,isProcessing:a,isEditing:s,initialData:t,cycleStartDate:n,cycleEndDate:o,recordedDates:x,submitCurrentState:ae}),l.jsx(Ia,{onCancel:r,isProcessing:a,isEditing:s})]})},Ra=e=>!!(e!=null&&e.id)&&String(e.id).startsWith("placeholder-"),Ka=(e=[])=>{if(!Array.isArray(e)||e.length===0)return{};const t=Y(new Date),r=e.filter(s=>{if(!s||!s.isoDate||Ra(s)||s.peak_marker!=="peak")return!1;const i=Y(H(s.isoDate));return!Ce(i,t)}).sort((s,i)=>H(s.isoDate)-H(i.isoDate))[0];if(!r)return{};const n=Y(H(r.isoDate)),a={[I(n,"yyyy-MM-dd")]:"P"};for(let s=1;s<=3;s+=1){const i=E(n,s);if(Ce(i,t))break;const c=I(i,"yyyy-MM-dd");a[c]=String(s)}return a};export{gn as C,Va as D,lr as F,kn as P,jn as T,Nt as X,yn as a,xn as b,Ka as c,_n as d,kt as e,At as f,Ua as g,wn as h,Ce as i,Qr as m};
