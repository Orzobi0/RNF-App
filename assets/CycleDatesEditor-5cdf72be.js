import{c as x,j as e,B as m}from"./index-8c1bb4d0.js";import{O as H}from"./OverlapWarningDialog-7409f0f1.js";const V=x("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]),A=x("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]]),I=x("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),g=s=>{if(!s)return"";const t=new Date(s);if(Number.isNaN(t.getTime()))return s;const i=String(t.getDate()).padStart(2,"0"),a=String(t.getMonth()+1).padStart(2,"0"),r=String(t.getFullYear());return`${i}/${a}/${r}`},P=({cycle:s,startDate:t,endDate:i,onStartDateChange:a,onEndDateChange:r,onSave:d,onCancel:j,isProcessing:n=!1,dateError:u="",includeEndDate:c=!0,showOverlapDialog:N=!1,overlapCycle:v=null,onConfirmOverlap:w,onCancelOverlap:k,title:y="Editar fechas del ciclo",description:$="Actualiza las fechas de inicio y fin del ciclo. Guarda los cambios cuando termines.",saveLabel:M="Guardar",cancelLabel:L="Cancelar",onClearError:o,className:F="mb-6 mx-auto w-full max-w-xl",onDeleteCycle:h,deleteTitle:T="Eliminar ciclo",deleteDescription:f="Esta acción no se puede deshacer. Se eliminarán todos los registros asociados.",deleteLabel:q="Eliminar ciclo",isDeletingCycle:O=!1})=>{const p=s!=null&&s.startDate?g(s.startDate):null,z=s!=null&&s.endDate?g(s.endDate):"En curso",b=p?`Fecha actual: ${p}${c?` — ${z}`:""}`:null,B=l=>{o&&o(),a==null||a(l.target.value)},D=l=>{o&&o(),r==null||r(l.target.value)},G=l=>{l.preventDefault(),d==null||d()};return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:`${F} rounded-2xl border border-rose-100 bg-white/90 p-5 shadow-lg`,children:e.jsx("form",{onSubmit:G,className:"space-y-4",children:e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-semibold text-rose-700 mb-1",children:y}),e.jsx("p",{className:"text-sm text-slate-600",children:$}),b&&e.jsx("p",{className:"text-xs text-slate-500 mt-1",children:b}),e.jsxs("div",{className:`grid ${c?"grid-cols-2 gap-4":"grid-cols-1 gap-4"}`,children:[e.jsxs("label",{className:"flex h-full flex-col text-sm text-slate-700",children:["Inicio del ciclo",e.jsx("input",{type:"date",value:t||"",onChange:B,className:"mt-1 w-full rounded-lg border border-rose-200 bg-rose-50/60 px-3 py-2 text-slate-800 focus:border-rose-400 focus:outline-none focus:ring-2 focus:ring-rose-300"})]}),c&&e.jsxs("label",{className:"flex h-full flex-col text-sm text-slate-700",children:["Fin del ciclo",e.jsx("input",{type:"date",value:i||"",onChange:D,className:"mt-1 w-full rounded-lg border border-rose-200 bg-rose-50/60 px-3 py-2 text-slate-800 focus:border-rose-400 focus:outline-none focus:ring-2 focus:ring-rose-300"})]})]}),u&&e.jsx("p",{className:"mt-2 text-sm text-red-500",children:u}),e.jsxs("div",{className:"mt-4 flex flex-wrap gap-2 justify-center",children:[e.jsx(m,{type:"button",variant:"outline",onClick:j,className:"border-rose-200 text-rose-600 hover:bg-rose-50",disabled:n,children:L}),e.jsx(m,{type:"submit",className:"bg-gradient-to-r from-pink-500 to-rose-500 text-white shadow hover:from-pink-600 hover:to-rose-600",disabled:n,children:M})]}),h&&e.jsxs("div",{className:"mt-6 rounded-xl border border-rose-100 bg-rose-50/70 p-4 text-left",children:[e.jsx("h3",{className:"text-base font-semibold text-rose-700 mb-2",children:T}),f&&e.jsx("p",{className:"text-sm text-slate-600 mb-3",children:f}),e.jsxs(m,{type:"button",onClick:h,disabled:n||O,className:"w-full sm:w-auto bg-gradient-to-r from-rose-500 to-pink-500 hover:from-rose-600 hover:to-pink-600 text-white shadow-md",children:[e.jsx(I,{className:"mr-2 h-4 w-4"}),q]})]})]})})}),e.jsx(H,{isOpen:N,conflictCycle:v,onCancel:k,onConfirm:w})]})};export{P as C,V as L,A as P,I as T};
