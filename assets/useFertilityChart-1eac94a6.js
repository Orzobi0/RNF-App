import{r as b,j as e,m as R,B as J,f as be,p as le,D as we}from"./index-9c052d95.js";import{e as ve,B as je}from"./badge-4d2a43e0.js";import{g as Ne,X as Ie,d as pe,P as me,T as ke,e as Se,c as Te}from"./computePeakStatuses-53226450.js";import{a as Me,E as De}from"./eye-2851a226.js";const He=({point:s,position:p,chartWidth:E,chartHeight:O,onToggleIgnore:$,onEdit:C,onClose:I,onTogglePeak:y,currentPeakIsoDate:P})=>{if(!s)return null;const T=.6,U=200,F=120,k=U*T,K=F*T,q=b.useRef(null),[l,a]=b.useState(K),[h,o]=b.useState(!1);b.useEffect(()=>{q.current&&a(q.current.offsetHeight),o(!1)},[s]);const c=p.clientX>E*.66,g=p.clientY+l>O;let d=c?p.clientX-k-10:p.clientX+10,N=g?p.clientY:p.clientY+10;d+k>E&&(d=E-k-10),N+l>O&&(N=O-l-10),d<10&&(d=10),N<10&&(N=10);const j=!s.id||String(s.id).startsWith("placeholder-"),A=s.temperature_chart??s.displayTemperature??null,B=Ne(s.fertility_symbol),w=s.timestamp||s.isoDate,_=S=>{if(S==null)return null;const Y=String(S).trim();return Y.length?Y:null},L=S=>{if(!S)return null;try{const Y=le(S),x=Y.getTime();return Number.isNaN(x)?null:be(Y,"HH:mm")}catch{return null}},ce=(()=>{if(!Array.isArray(s.measurements)||s.measurements.length===0)return null;const S=s.measurements.filter(Boolean);if(!S.length)return null;const Y=[...S.filter(x=>x==null?void 0:x.selected),...S.filter(x=>!(x!=null&&x.selected))];for(const x of Y){const xe=!!(x!=null&&x.use_corrected)?_(x==null?void 0:x.time_corrected)??_(x==null?void 0:x.time):_(x==null?void 0:x.time);if(xe)return xe}return null})(),re=(s.use_corrected?[_(s.time_corrected),_(s.time)]:[_(s.time)]).find(Boolean)??L(s.timestamp),V=ce??re,X=s.mucus_sensation??s.mucusSensation??"",z=s.mucus_appearance??s.mucusAppearance??"",Q=s.observations??"",Z=B&&B.value!=="none",ee=A!=null,H=!!(X&&X.trim()||z&&z.trim()),de=!!(Q&&Q.trim()),M=!(ee||Z||H||de),G=s.peakStatus||(s.peak_marker==="peak"?"P":null),ie=G&&{P:"Día pico",1:"Post pico 1",2:"Post pico 2",3:"Post pico 3"}[G]||null,ae=!!(y&&s.isoDate),t=!!P,n=t&&s.isoDate===P||G==="P"||s.peak_marker==="peak",f=t&&!n,r="Día pico",u=n?"Quitar día pico":t?"Actualizar día pico":"Marcar día pico",v=n?"bg-rose-600 text-white border border-rose-600 hover:bg-rose-700 focus-visible:ring-rose-400":f?"bg-amber-400 text-amber-900 border border-amber-300 hover:bg-amber-500 hover:text-white focus-visible:ring-amber-300":"bg-rose-500 text-white border border-rose-500 hover:bg-rose-600 focus-visible:ring-rose-300",m=[["flex items-center justify-center gap-1.5 px-2.5 py-1.5 rounded-xl text-sm font-semibold sm:text-sm","transition-all duration-200 shadow-sm hover:shadow-md","focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-rose-300"].join(" "),v,h?"opacity-70 cursor-not-allowed":null].filter(Boolean).join(" "),W=async()=>{if(!(!y||h)){o(!0);try{await y(s,!n),I&&I()}catch(S){console.error("Error toggling peak marker from tooltip:",S)}finally{o(!1)}}},te=()=>{C&&(C(s),I&&I())},ne=(S=>{switch(S){case"red":return{bg:"bg-red-500",light:"bg-red-50",border:"border-red-200",text:"text-red-700",glow:"shadow-red-200/50"};case"white":return{bg:"bg-slate-100 border-2 border-slate-300",light:"bg-slate-50",border:"border-slate-200",text:"text-slate-700",glow:"shadow-slate-200/50"};case"green":return{bg:"bg-green-500",light:"bg-green-50",border:"border-green-200",text:"text-green-700",glow:"shadow-green-200/50"};case"yellow":return{bg:"bg-yellow-400",light:"bg-yellow-50",border:"border-yellow-200",text:"text-yellow-700",glow:"shadow-yellow-200/50"};case"spot":return{bg:"bg-red-500 pattern-bg",light:"bg-red-50",border:"border-red-200",text:"text-red-700",glow:"shadow-red-200/50"};default:return{bg:"bg-gray-400",light:"bg-gray-50",border:"border-gray-200",text:"text-gray-700",glow:"shadow-gray-200/50"}}})(s.fertility_symbol);return e.jsxs(R.div,{ref:q,initial:{opacity:0,scale:.8,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.8,y:20},transition:{duration:.25,ease:[.16,1,.3,1]},className:"absolute z-50",style:{top:N,left:d,width:k},children:[e.jsx("div",{className:"origin-top-left",style:{transform:`scale(${T})`,width:U,minHeight:F},children:e.jsxs("div",{className:"relative bg-gradient-to-br from-white/98 to-rose-50/95 backdrop-blur-xl rounded-3xl border border-pink-100 shadow-2xl overflow-hidden",children:[e.jsx(J,{variant:"ghost",size:"icon",onClick:I,className:"absolute top-2 right-2 text-gray-400 hover:text-pink-600 hover:bg-pink-50/80 rounded-full w-6 h-6 transition-all duration-200",children:e.jsx(Ie,{size:20})}),e.jsxs("div",{className:"p-2",children:[e.jsx("div",{className:"mb-2",children:e.jsxs("div",{className:"flex items-center gap-3 mb-1",children:[e.jsx("div",{className:"w-5 h-5 bg-gradient-to-br from-pink-500 to-rose-500 rounded-full absolute top-2 left-2 flex items-center justify-center shadow-lg",children:e.jsx(pe,{className:"w-2 h-2 text-white",fill:"currentColor"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-center text-lg text-gray-800",children:w?be(le(w),"dd/MM",{locale:ve}):"Fecha"}),e.jsxs("p",{className:"text-sm text-pink-600 font-medium",children:["Día ",s.cycleDay||"N/A"," del ciclo"]}),ie&&e.jsx("div",{className:"mt-1 flex justify-center",children:e.jsx(je,{className:"bg-rose-100 text-rose-600 border border-rose-200 px-2 py-0 text-[11px]",children:ie})})]})]})}),M?e.jsxs("div",{className:"pt-1 space-y-3",children:[e.jsx(R.div,{initial:{opacity:0,y:12},animate:{opacity:1,y:0},transition:{delay:.1},className:"rounded-xl border border-dashed border-pink-200 bg-pink-50/60 p-2 text-center",children:e.jsx("p",{className:"text-sm font-semibold text-pink-600",children:"Sin datos registrados para este día."})}),C&&e.jsx(R.div,{initial:{opacity:0,y:12},animate:{opacity:1,y:0},transition:{delay:.15},className:"flex justify-center",children:e.jsxs(J,{onClick:te,variant:"outline",size:"sm",className:"flex items-center gap-1.5 px-2 py-1.5 bg-white/80 hover:bg-gradient-to-r hover:from-blue-50 hover:to-indigo-50 border-gray-200 hover:border-blue-300 text-gray-700 hover:text-blue-700 rounded-lg transition-all duration-200 shadow-sm hover:shadow-md text-xs",children:[e.jsx(me,{className:"h-4 w-4"}),e.jsx("span",{className:"font-medium",children:"Añadir datos"})]})}),ae&&e.jsx(R.div,{initial:{opacity:0,y:12},animate:{opacity:1,y:0},transition:{delay:.2},className:"flex justify-center",children:e.jsx(J,{onClick:W,variant:n?"outline":"default",size:"sm",disabled:h,className:m,"aria-label":u,title:u,"aria-pressed":n,children:e.jsx("span",{className:"font-medium",children:r})})})]}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"space-y-1",children:[ee&&e.jsx(R.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-gradient-to-r from-amber-50 to-orange-50 rounded-xl p-1 border border-amber-100/50",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-6 h-6 bg-gradient-to-br from-amber-500 to-orange-600 rounded-lg flex items-center justify-center shadow-md",children:e.jsx(ke,{className:"w-4 h-4 text-white"})}),e.jsx("div",{className:"flex-1",children:e.jsxs("div",{className:"flex items-center justify-between gap-3",children:[e.jsxs("div",{className:"flex items-baseline gap-2",children:[e.jsx("span",{className:"text-md font-bold text-gray-800",children:parseFloat(A).toFixed(2)}),e.jsx("span",{className:"text-md text-gray-600",children:"°C"}),s.use_corrected&&e.jsx("div",{className:"w-2 h-2 bg-amber-500 rounded-full shadow-[0_0_4px_rgba(245,158,11,0.65)]",title:"Temperatura corregida"})]}),V&&e.jsx("span",{className:"text-sm font-medium text-gray-500 whitespace-nowrap",children:V})]})})]})}),Z&&e.jsx(R.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.15},className:`${ne.light} rounded-xl p-1 ${ne.border} border`,children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:`w-6 h-6 ${ne.bg} rounded-lg flex items-center justify-center shadow-lg ${ne.glow} shadow-lg`,children:e.jsx("div",{className:"w-2 h-2 bg-white/90 rounded-full shadow-sm"})}),e.jsx("div",{className:"flex-1 text-left",children:e.jsx("span",{className:`text-md font-semibold ${ne.text}`,children:B.label})})]})}),e.jsxs("div",{className:"grid grid-cols-1 gap-1",children:[e.jsx(R.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.2},className:"bg-gradient-to-r from-blue-50 to-indigo-50 rounded-xl p-1 border border-blue-100/50",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-6 h-6 bg-gradient-to-br from-blue-500 to-indigo-600 rounded-lg flex items-center justify-center shadow-md",children:e.jsx(Se,{className:"w-4 h-4 text-white"})}),e.jsx("div",{className:"flex-1 text-left",children:e.jsx("span",{className:"text-md font-semibold text-blue-800",children:X||"-"})})]})}),e.jsx(R.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.25},className:"bg-gradient-to-r from-emerald-50 to-teal-50 rounded-xl p-1 border border-emerald-100/50",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-6 h-6 bg-gradient-to-br from-emerald-500 to-teal-600 rounded-lg flex items-center justify-center shadow-md",children:e.jsx(pe,{className:"w-4 h-4 text-white"})}),e.jsx("div",{className:"flex-1 text-left",children:e.jsx("span",{className:"text-md font-semibold text-green-800",children:z||"-"})})]})}),de&&e.jsx(R.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.3},className:"bg-gradient-to-r from-violet-50 to-purple-50 rounded-xl p-1 border border-violet-100/50",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-6 h-6 bg-gradient-to-br from-violet-500 to-purple-600 rounded-lg flex items-center justify-center shadow-md",children:e.jsx(me,{className:"w-4 h-4 text-white"})}),e.jsx("div",{className:"flex-1 text-left",children:e.jsx("span",{className:"text-sm font-semibold text-violet-800",children:Q})})]})})]})]}),(C||$&&!j&&s.id||ae&&!j)&&e.jsxs(R.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"flex justify-center gap-2 pt-2 border-t border-gray-100",children:[C&&e.jsxs(J,{onClick:te,variant:"outline",size:"sm",className:"flex items-center gap-1.5 px-2 py-1.5 bg-white/80 hover:bg-gradient-to-r hover:from-blue-50 hover:to-indigo-50 border-gray-200 hover:border-blue-300 text-gray-700 hover:text-blue-700 rounded-lg transition-all duration-200 shadow-sm hover:shadow-md text-sm",children:[e.jsx(me,{className:"h-4 w-4"}),e.jsx("span",{className:"font-medium",children:j?"Añadir datos":""})]}),ae&&!j&&e.jsx(J,{onClick:W,variant:n?"outline":"default",size:"sm",disabled:h,className:m,"aria-label":u,title:u,"aria-pressed":n,children:e.jsx("span",{className:"font-medium text-xs sm:text-sm",children:r})}),$&&!j&&s.id&&e.jsx(J,{onClick:()=>$(s.id),variant:"outline",size:"sm",className:`flex items-center gap-1.5 px-2 py-1.5 rounded-lg transition-all duration-200 shadow-sm hover:shadow-md text-sm ${s.ignored?"bg-green-50 hover:bg-green-100 border-green-200 hover:border-green-300 text-green-700":"bg-red-50 hover:bg-red-100 border-red-200 hover:border-red-300 text-red-700"}`,children:s.ignored?e.jsxs(e.Fragment,{children:[e.jsx(Me,{className:"h-4 w-4"}),e.jsx("span",{className:"font-medium"})]}):e.jsxs(e.Fragment,{children:[e.jsx(De,{className:"h-4 w-4"}),e.jsx("span",{className:"font-medium"})]})})]})]})]})]})}),e.jsx("div",{className:"absolute -inset-2 bg-gradient-to-br from-pink-200/25 to-rose-300/25 rounded-3xl blur-2xl -z-10"})]})},he=35.8,fe=37.2,Ce=(s=[])=>{var q;const p=l=>l&&l.displayTemperature!=null&&!l.ignored,$=l=>{if(!l||l.length!==6)return null;const a=l.map(c=>c.temp);if(a.some(c=>!Number.isFinite(c)))return null;const h=a.reduce((c,g)=>g>c?g:c,a[0]),o=a.reduce((c,g)=>g>=h-.05&&g<h?c+1:c,0);return o>=2?null:{baselineTemp:h,baselineStartIndex:l[0].index,baselineIndices:l.map(c=>c.index),baselineBorderlineCount:o}},C=l=>{const a=[];for(let h=l;h<s.length;h+=1){const o=s[h];if(!p(o))continue;const c=o.displayTemperature;if(Number.isFinite(c)&&(a.push({index:h,temp:c}),a.length>6&&a.shift(),a.length===6)){const g=$(a);if(!g)continue;let d=null;for(let N=h+1;N<s.length;N+=1){const j=s[N];if(!p(j))continue;const A=j.displayTemperature;if(Number.isFinite(A)&&A>g.baselineTemp){d=N;break}}return{baselineTemp:g.baselineTemp,baselineStartIndex:g.baselineStartIndex,baselineIndices:g.baselineIndices,baselineBorderlineCount:g.baselineBorderlineCount,firstHighIndex:d}}}return null},I={confirmed:!1,confirmationIndex:null,infertileStartIndex:null,rule:null,highSequenceIndices:[],usedIndices:[],ovulationIndex:null};let y=null,P=null,T=null,U=[],F=I,k=0;const K=({baselineTemp:l,firstHighIndex:a})=>{if(a==null)return{confirmed:!1};const h=l+.2,o=[],c=[],g=new Set,d=w=>{w==null||g.has(w)||(g.add(w),c.push(w))};let N=null,j=!1;const A=a>0?a-1:null,B=()=>A!=null?[A,...c]:[...c];for(let w=a;w<s.length;w++){const _=s[w];if(!p(_))break;const L=_.displayTemperature;if(!Number.isFinite(L))break;if(L>l){if(d(w),o.push({index:w,temp:L}),o.length===3&&o[2].temp>=h)return{confirmed:!0,confirmationIndex:o[2].index,usedIndices:B(),highSequenceIndices:[...c],rule:"3-high"};if(o.length===4&&o[2].temp<h&&o[3].temp>l)return{confirmed:!0,confirmationIndex:o[3].index,usedIndices:B(),highSequenceIndices:[...c],rule:"german-3+1"};if(N!==null&&o.length===3&&o[2].temp>=h)return{confirmed:!0,confirmationIndex:o[2].index,usedIndices:B(),highSequenceIndices:[...c],rule:"german-2nd-exception"};if(o.length===5&&o[3].temp>l&&o[4].temp>=h)return{confirmed:!0,confirmationIndex:o[4].index,usedIndices:B(),highSequenceIndices:[...c],rule:"5-high"};continue}if(L>=l-.05&&N===null&&o.length>0&&o.length<3){N=w,d(w),o.push({index:w,temp:l});continue}if(!j&&o.length>0&&o.length<3){j=!0,d(w);continue}break}return{confirmed:!1,usedIndices:B(),highSequenceIndices:[...c]}};for(;k<s.length;){const l=C(k);if(!l)break;if(y=l.baselineTemp,P=l.baselineStartIndex,U=Array.isArray(l.baselineIndices)?[...l.baselineIndices]:[],T=l.firstHighIndex,l.baselineBorderlineCount,T==null){k=P+1;continue}const a=K(l);if(a!=null&&a.requireRebaseline){k=P+1;continue}if(a!=null&&a.confirmed){const h=(q=a.highSequenceIndices)!=null&&q.length?a.highSequenceIndices[0]:null;F={confirmed:!0,confirmationIndex:a.confirmationIndex,infertileStartIndex:a.confirmationIndex,rule:a.rule,highSequenceIndices:a.highSequenceIndices??a.usedIndices,usedIndices:a.usedIndices,ovulationIndex:T??h??null};break}k=P+1}return{baselineTemp:y,baselineStartIndex:P,firstHighIndex:T,baselineIndices:U,ovulationDetails:F}},Ee=(s,p,E,O,$,C=5,I=!1)=>{const y=b.useRef(null),P=b.useRef(null),[T,U]=b.useState({width:0,height:0}),[F,k]=b.useState(null),[K,q]=b.useState({x:0,y:0}),[l,a]=b.useState(null),h=b.useCallback(()=>{k(null),a(null)},[]),o=b.useMemo(()=>Te(s),[s]),c=b.useMemo(()=>{const t=n=>{if(n==null||n==="")return null;const f=parseFloat(String(n).replace(",","."));return Number.isFinite(f)?f:null},i=n=>{if(!n)return null;const f=t(n.temperature),r=t(n.temperature_corrected);return n.use_corrected&&r!==null?r:f!==null?f:r!==null?r:null};return s.map(n=>{const f=[n==null?void 0:n.temperature_chart,n==null?void 0:n.temperature_raw,n==null?void 0:n.temperature_corrected];let r=null;for(const v of f)if(v!=null&&v!==""){r=v;break}if(r==null&&Array.isArray(n==null?void 0:n.measurements)){const D=n.measurements.find(m=>m&&m.selected&&i(m)!==null)||n.measurements.find(m=>i(m)!==null);D&&(r=i(D))}const u=n==null?void 0:n.isoDate;return{...n,displayTemperature:t(r),peakStatus:u&&o[u]||null}})},[s,o]);b.useLayoutEffect(()=>{const t=()=>{if(!y.current)return;const n=y.current.parentElement||y.current;let f=n.clientWidth||600,r=n.clientHeight||400,u=y.current.clientWidth>0?y.current.clientWidth:f,v,D;if(p){let m=window.innerWidth,W=window.innerHeight;if(I&&W>m&&([m,W]=[W,m]),u=m,E==="portrait"&&!I){const te=Math.max(30,m*.05);v=(m-te)/C*s.length}else v=m/C*s.length;D=W}else v=u/C*s.length,D=r;U({width:v,height:D})};t(),window.addEventListener("resize",t);let i;if(y.current){const n=y.current.parentElement||y.current;i=new ResizeObserver(t),i.observe(n)}return()=>{window.removeEventListener("resize",t),i&&i.disconnect()}},[p,s.length,C,E,I]);const g=b.useMemo(()=>c.filter(t=>t&&t.isoDate&&!t.ignored&&t.displayTemperature!==null&&t.displayTemperature!==void 0),[c]),d=b.useMemo(()=>c.filter(t=>t&&t.isoDate),[c]),N=g.length>0,j=b.useMemo(()=>{var t;if(!d.length)return null;for(let i=0;i<d.length;i+=1)if(((t=d[i])==null?void 0:t.peakStatus)==="P")return i;return null},[d]),A=b.useMemo(()=>{var f;if(!d.length)return null;let t=null;for(let r=0;r<d.length;r+=1)if(((f=d[r])==null?void 0:f.peakStatus)==="3"){t=r;break}if(t!=null){const r=t+1;return r>=d.length?t:r}if(j==null)return null;const i=d[j];if(!(i!=null&&i.isoDate))return null;const n=le(i.isoDate);for(let r=j+1;r<d.length;r+=1){const u=d[r];if(!(u!=null&&u.isoDate))continue;if(we(le(u.isoDate),n)>=4)return r}return null},[d,j]),{baselineTemp:B,baselineStartIndex:w,firstHighIndex:_,baselineIndices:L,ovulationDetails:oe}=b.useMemo(()=>Ce(c),[c]),ce=b.useMemo(()=>({...oe??{confirmed:!1,confirmationIndex:null,infertileStartIndex:null,rule:null,highSequenceIndices:[],usedIndices:[],ovulationIndex:null},peakDayIndex:j,peakInfertilityStartIndex:A}),[oe,j,A]),{tempMin:se,tempMax:re}=b.useMemo(()=>{const t=g.map(m=>m.displayTemperature).filter(m=>m!=null);if(t.length===0)return{tempMin:he,tempMax:fe};const i=fe-he,n=Math.min(...t),f=Math.max(...t);let r=Math.min(n,he),u=Math.max(f,fe);const v=m=>Math.floor(m*10)/10,D=m=>Math.ceil(m*10)/10;if(r=v(r),u=D(u),u-r<i){const m=(r+u)/2;r=v(m-i/2),u=D(m+i/2)}return Math.abs(r-n)<1e-9&&(r=v(r-.1)),Math.abs(u-f)<1e-9&&(u=D(u+.1)),{tempMin:parseFloat(r.toFixed(1)),tempMax:parseFloat(u.toFixed(1))}},[g]),V=re-se,X=T.width,z=T.height,Q=9,Z=(t=1)=>{if(!p)return Q*t;const i=Math.min(X,z);return Math.max(8,Math.min(Q*t,i/(d.length>0?40/t:40)))},ee=Z(p?1.6:2.5),H=I||E==="landscape",ge=ee*(H?9:5),M={top:p?Math.max(H?6:12,z*(H?.015:.03)):12,right:p?Math.max(H?35:30,X*(H?.02:.05)):50,bottom:(p?Math.max(H?0:40,z*(H?0:.11)):60)+ge+25,left:p?Math.max(H?45:20,X*(H?.02:.05)):50},G=t=>{if(t==null||V===0)return z-M.bottom;const i=z-M.top-M.bottom;return i<=0?z-M.bottom:z-M.bottom-(t-se)/V*i},ue=t=>{const i=p&&!(I||E==="landscape")?5:10,n=p&&!(I||E==="landscape")?25:0,f=X-M.left-M.right-i-n*(d.length-1);if(f<=0)return M.left+i+n*t;const r=d.length>1?d.length-1:1;return r===0||d.length===0?M.left+i+n*t:M.left+i+t*(f/(d.length===1?1:r))+n*t},ie=(t,i,n)=>{if(!t){h();return}const f=y.current.getBoundingClientRect();let r,u;if(n.type.startsWith("touch")){const W=n.changedTouches[0];r=W.clientX,u=W.clientY}else r=n.clientX,u=n.clientY;const v=ue(i),D=t.displayTemperature??t.temperature_chart??null,m=G(D);q({svgX:v,svgY:m,clientX:r-f.left+y.current.scrollLeft,clientY:u-f.top+y.current.scrollTop}),a(i),k(t)};return b.useEffect(()=>{const t=i=>{var n;if(P.current&&!P.current.contains(i.target)){const f=(n=y.current)==null?void 0:n.querySelectorAll("circle, text, rect");let r=!1;if(f){for(let u of f)if(u.contains(i.target)){r=!0;break}}r||h()}};return F&&(document.addEventListener("mousedown",t),document.addEventListener("touchstart",t)),()=>{document.removeEventListener("mousedown",t),document.removeEventListener("touchstart",t)}},[F,h]),{chartRef:y,tooltipRef:P,dimensions:T,activePoint:F,activeIndex:l,tooltipPosition:K,processedData:c,validDataForLine:g,allDataPoints:d,tempMin:se,tempMax:re,tempRange:V,padding:M,textRowHeight:ee,setActivePoint:k,setActiveIndex:a,getY:G,getX:ue,handlePointInteraction:ie,clearActivePoint:h,handleToggleIgnore:t=>{O&&t&&(O($,t),h())},responsiveFontSize:Z,baselineTemp:B,baselineStartIndex:w,baselineIndices:L,firstHighIndex:_,ovulationDetails:ce,hasTemperatureData:N}};export{He as C,Ce as c,Ee as u};
