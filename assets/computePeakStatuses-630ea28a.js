import{Z as O,$ as F,a0 as ne,a1 as dr,a2 as Re,e as W,_ as gt,s as Y,a3 as lt,c as ee,R as yt,j as l,z as fe,r as p,D as ve,a4 as ur,f as D,a5 as bt,a6 as it,P as je,q as xt,t as Ae,x as fr,y as ct,w as ke,v as wt,a7 as vr,a8 as mr,a9 as pr,aa as hr,p as H,B as Q,ab as gr,ac as yr,b as br,m as xr}from"./index-830127db.js";import{I as be}from"./input-cbf91fa7.js";import{L as ge}from"./label-da4c6ed7.js";import{h as wr,R as _r,f as kr,F as Nr,g as Cr}from"./useCycleData-5b813aa3.js";import{u as jr,f as Mr,g as Or,o as Sr,s as Pr,h as Dr,i as Fr,j as Tr,k as Ir,l as Rr,m as Ar,e as Er,C as Wr,S as Lr,a as Hr,b as Yr,c as $r,d as Br}from"./checkbox-be556efa.js";import{e as dt,P as zr,u as Ur}from"./badge-96ec44c3.js";import{a as Vr,E as Kr}from"./eye-dba9030b.js";function te(e,t){O(2,arguments);var r=F(e),n=ne(t);if(isNaN(n))return new Date(NaN);if(!n)return r;var o=r.getDate(),a=new Date(r.getTime());a.setMonth(r.getMonth()+n+1,0);var s=a.getDate();return o>=s?a:(r.setFullYear(a.getFullYear(),a.getMonth(),o),r)}var Xr=36e5;function Zr(e,t){O(2,arguments);var r=ne(t);return dr(e,r*Xr)}function le(e,t){var r,n,o,a,s,i,c,d;O(1,arguments);var u=Re(),f=ne((r=(n=(o=(a=t==null?void 0:t.weekStartsOn)!==null&&a!==void 0?a:t==null||(s=t.locale)===null||s===void 0||(i=s.options)===null||i===void 0?void 0:i.weekStartsOn)!==null&&o!==void 0?o:u.weekStartsOn)!==null&&n!==void 0?n:(c=u.locale)===null||c===void 0||(d=c.options)===null||d===void 0?void 0:d.weekStartsOn)!==null&&r!==void 0?r:0);if(!(f>=0&&f<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var v=F(e),m=v.getDay(),h=(m<f?7:0)+m-f;return v.setDate(v.getDate()-h),v.setHours(0,0,0,0),v}function ye(e){return O(1,arguments),le(e,{weekStartsOn:1})}function qr(e){O(1,arguments);var t=F(e),r=t.getFullYear(),n=new Date(0);n.setFullYear(r+1,0,4),n.setHours(0,0,0,0);var o=ye(n),a=new Date(0);a.setFullYear(r,0,4),a.setHours(0,0,0,0);var s=ye(a);return t.getTime()>=o.getTime()?r+1:t.getTime()>=s.getTime()?r:r-1}function Gr(e){O(1,arguments);var t=qr(e),r=new Date(0);r.setFullYear(t,0,4),r.setHours(0,0,0,0);var n=ye(r);return n}function Ke(e,t){O(2,arguments);var r=ne(t),n=r*7;return W(e,n)}function Jr(e,t){O(2,arguments);var r=ne(t);return te(e,r*12)}function Qr(e){O(1,arguments);var t;if(e&&typeof e.forEach=="function")t=e;else if(gt(e)==="object"&&e!==null)t=Array.prototype.slice.call(e);else return new Date(NaN);var r;return t.forEach(function(n){var o=F(n);(r===void 0||r<o||isNaN(Number(o)))&&(r=o)}),r||new Date(NaN)}function en(e){O(1,arguments);var t;if(e&&typeof e.forEach=="function")t=e;else if(gt(e)==="object"&&e!==null)t=Array.prototype.slice.call(e);else return new Date(NaN);var r;return t.forEach(function(n){var o=F(n);(r===void 0||r>o||isNaN(o.getDate()))&&(r=o)}),r||new Date(NaN)}function X(e,t){O(2,arguments);var r=Y(e),n=Y(t);return r.getTime()===n.getTime()}function Ne(e,t){O(2,arguments);var r=F(e),n=F(t),o=r.getFullYear()-n.getFullYear(),a=r.getMonth()-n.getMonth();return o*12+a}var tn=6048e5;function rn(e,t,r){O(2,arguments);var n=le(e,r),o=le(t,r),a=n.getTime()-lt(n),s=o.getTime()-lt(o);return Math.round((a-s)/tn)}function Xe(e){O(1,arguments);var t=F(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(23,59,59,999),t}function Z(e){O(1,arguments);var t=F(e);return t.setDate(1),t.setHours(0,0,0,0),t}function nn(e){O(1,arguments);var t=F(e),r=new Date(0);return r.setFullYear(t.getFullYear(),0,1),r.setHours(0,0,0,0),r}function Ze(e,t){var r,n,o,a,s,i,c,d;O(1,arguments);var u=Re(),f=ne((r=(n=(o=(a=t==null?void 0:t.weekStartsOn)!==null&&a!==void 0?a:t==null||(s=t.locale)===null||s===void 0||(i=s.options)===null||i===void 0?void 0:i.weekStartsOn)!==null&&o!==void 0?o:u.weekStartsOn)!==null&&n!==void 0?n:(c=u.locale)===null||c===void 0||(d=c.options)===null||d===void 0?void 0:d.weekStartsOn)!==null&&r!==void 0?r:0);if(!(f>=0&&f<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var v=F(e),m=v.getDay(),h=(m<f?-7:0)+6-(m-f);return v.setDate(v.getDate()+h),v.setHours(23,59,59,999),v}function _t(e){return O(1,arguments),Ze(e,{weekStartsOn:1})}function on(e){O(1,arguments);var t=F(e),r=t.getFullYear(),n=t.getMonth(),o=new Date(0);return o.setFullYear(r,n+1,0),o.setHours(0,0,0,0),o.getDate()}var an=6048e5;function sn(e){O(1,arguments);var t=F(e),r=ye(t).getTime()-Gr(t).getTime();return Math.round(r/an)+1}function ln(e){O(1,arguments);var t=F(e),r=t.getTime();return r}function cn(e){return O(1,arguments),Math.floor(ln(e)/1e3)}function dn(e,t){var r,n,o,a,s,i,c,d;O(1,arguments);var u=F(e),f=u.getFullYear(),v=Re(),m=ne((r=(n=(o=(a=t==null?void 0:t.firstWeekContainsDate)!==null&&a!==void 0?a:t==null||(s=t.locale)===null||s===void 0||(i=s.options)===null||i===void 0?void 0:i.firstWeekContainsDate)!==null&&o!==void 0?o:v.firstWeekContainsDate)!==null&&n!==void 0?n:(c=v.locale)===null||c===void 0||(d=c.options)===null||d===void 0?void 0:d.firstWeekContainsDate)!==null&&r!==void 0?r:1);if(!(m>=1&&m<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var h=new Date(0);h.setFullYear(f+1,0,m),h.setHours(0,0,0,0);var k=le(h,t),b=new Date(0);b.setFullYear(f,0,m),b.setHours(0,0,0,0);var j=le(b,t);return u.getTime()>=k.getTime()?f+1:u.getTime()>=j.getTime()?f:f-1}function un(e,t){var r,n,o,a,s,i,c,d;O(1,arguments);var u=Re(),f=ne((r=(n=(o=(a=t==null?void 0:t.firstWeekContainsDate)!==null&&a!==void 0?a:t==null||(s=t.locale)===null||s===void 0||(i=s.options)===null||i===void 0?void 0:i.firstWeekContainsDate)!==null&&o!==void 0?o:u.firstWeekContainsDate)!==null&&n!==void 0?n:(c=u.locale)===null||c===void 0||(d=c.options)===null||d===void 0?void 0:d.firstWeekContainsDate)!==null&&r!==void 0?r:1),v=dn(e,t),m=new Date(0);m.setFullYear(v,0,f),m.setHours(0,0,0,0);var h=le(m,t);return h}var fn=6048e5;function vn(e,t){O(1,arguments);var r=F(e),n=le(r,t).getTime()-un(r,t).getTime();return Math.round(n/fn)+1}function mn(e){O(1,arguments);var t=F(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(0,0,0,0),t}function pn(e,t){return O(1,arguments),rn(mn(e),Z(e),t)+1}function Ce(e,t){O(2,arguments);var r=F(e),n=F(t);return r.getTime()>n.getTime()}function kt(e,t){O(2,arguments);var r=F(e),n=F(t);return r.getTime()<n.getTime()}function qe(e,t){O(2,arguments);var r=F(e),n=F(t);return r.getFullYear()===n.getFullYear()&&r.getMonth()===n.getMonth()}function hn(e,t){O(2,arguments);var r=F(e),n=F(t);return r.getFullYear()===n.getFullYear()}function Ye(e,t){O(2,arguments);var r=ne(t);return W(e,-r)}function $e(e,t){O(2,arguments);var r=F(e),n=ne(t),o=r.getFullYear(),a=r.getDate(),s=new Date(0);s.setFullYear(o,n,15),s.setHours(0,0,0,0);var i=on(s);return r.setMonth(n,Math.min(a,i)),r}function ut(e,t){O(2,arguments);var r=F(e),n=ne(t);return isNaN(r.getTime())?new Date(NaN):(r.setFullYear(n),r)}const ft=ee("CalendarDays",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]]),gn=ee("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]),yn=ee("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),bn=ee("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]),xn=ee("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]),wn=ee("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]),_n=ee("Droplets",[["path",{d:"M7 16.3c2.2 0 4-1.83 4-4.05 0-1.16-.57-2.26-1.71-3.19S7.29 6.75 7 5.3c-.29 1.45-1.14 2.84-2.29 3.76S3 11.1 3 12.25c0 2.22 1.8 4.05 4 4.05z",key:"1ptgy4"}],["path",{d:"M12.56 6.6A10.97 10.97 0 0 0 14 3.02c.5 2.5 2 4.9 4 6.5s3 3.5 3 5.5a6.98 6.98 0 0 1-11.91 4.97",key:"1sl1rz"}]]),kn=ee("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.5 3.5a2.12 2.12 0 0 1 3 3L7 19l-4 1 1-4Z",key:"ymcmye"}]]),Nn=ee("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]),Cn=ee("Sprout",[["path",{d:"M7 20h10",key:"e6iznv"}],["path",{d:"M10 20c5.5-2.5.8-6.4 3-10",key:"161w41"}],["path",{d:"M9.5 9.4c1.1.8 1.8 2.2 2.3 3.7-2 .4-3.5.4-4.8-.3-1.2-.6-2.3-1.9-3-4.2 2.8-.5 4.4 0 5.5.8z",key:"9gtqwd"}],["path",{d:"M14.1 6a7 7 0 0 0-1.1 4c1.9-.1 3.3-.6 4.3-1.4 1-1 1.6-2.3 1.7-4.6-2.7.1-4 1-4.9 2z",key:"bkxnd2"}]]),jn=ee("Thermometer",[["path",{d:"M14 4v10.54a4 4 0 1 1-4 0V4a2 2 0 0 1 4 0Z",key:"17jzev"}]]),Nt=ee("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]),Ct=yt.forwardRef(({className:e,...t},r)=>l.jsx("textarea",{className:fe("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:r,...t}));Ct.displayName="Textarea";var N=function(){return N=Object.assign||function(t){for(var r,n=1,o=arguments.length;n<o;n++){r=arguments[n];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(t[a]=r[a])}return t},N.apply(this,arguments)};function Mn(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(r[n[o]]=e[n[o]]);return r}function jt(e,t,r){if(r||arguments.length===2)for(var n=0,o=t.length,a;n<o;n++)(a||!(n in t))&&(a||(a=Array.prototype.slice.call(t,0,n)),a[n]=t[n]);return e.concat(a||Array.prototype.slice.call(t))}function Me(e){return e.mode==="multiple"}function Oe(e){return e.mode==="range"}function Ee(e){return e.mode==="single"}var On={root:"rdp",multiple_months:"rdp-multiple_months",with_weeknumber:"rdp-with_weeknumber",vhidden:"rdp-vhidden",button_reset:"rdp-button_reset",button:"rdp-button",caption:"rdp-caption",caption_start:"rdp-caption_start",caption_end:"rdp-caption_end",caption_between:"rdp-caption_between",caption_label:"rdp-caption_label",caption_dropdowns:"rdp-caption_dropdowns",dropdown:"rdp-dropdown",dropdown_month:"rdp-dropdown_month",dropdown_year:"rdp-dropdown_year",dropdown_icon:"rdp-dropdown_icon",months:"rdp-months",month:"rdp-month",table:"rdp-table",tbody:"rdp-tbody",tfoot:"rdp-tfoot",head:"rdp-head",head_row:"rdp-head_row",head_cell:"rdp-head_cell",nav:"rdp-nav",nav_button:"rdp-nav_button",nav_button_previous:"rdp-nav_button_previous",nav_button_next:"rdp-nav_button_next",nav_icon:"rdp-nav_icon",row:"rdp-row",weeknumber:"rdp-weeknumber",cell:"rdp-cell",day:"rdp-day",day_today:"rdp-day_today",day_outside:"rdp-day_outside",day_selected:"rdp-day_selected",day_disabled:"rdp-day_disabled",day_hidden:"rdp-day_hidden",day_range_start:"rdp-day_range_start",day_range_end:"rdp-day_range_end",day_range_middle:"rdp-day_range_middle"};function Sn(e,t){return D(e,"LLLL y",t)}function Pn(e,t){return D(e,"d",t)}function Dn(e,t){return D(e,"LLLL",t)}function Fn(e){return"".concat(e)}function Tn(e,t){return D(e,"cccccc",t)}function In(e,t){return D(e,"yyyy",t)}var Rn=Object.freeze({__proto__:null,formatCaption:Sn,formatDay:Pn,formatMonthCaption:Dn,formatWeekNumber:Fn,formatWeekdayName:Tn,formatYearCaption:In}),An=function(e,t,r){return D(e,"do MMMM (EEEE)",r)},En=function(){return"Month: "},Wn=function(){return"Go to next month"},Ln=function(){return"Go to previous month"},Hn=function(e,t){return D(e,"cccc",t)},Yn=function(e){return"Week n. ".concat(e)},$n=function(){return"Year: "},Bn=Object.freeze({__proto__:null,labelDay:An,labelMonthDropdown:En,labelNext:Wn,labelPrevious:Ln,labelWeekNumber:Yn,labelWeekday:Hn,labelYearDropdown:$n});function zn(){var e="buttons",t=On,r=ur,n={},o={},a=1,s={},i=new Date;return{captionLayout:e,classNames:t,formatters:Rn,labels:Bn,locale:r,modifiersClassNames:n,modifiers:o,numberOfMonths:a,styles:s,today:i,mode:"default"}}function Un(e){var t=e.fromYear,r=e.toYear,n=e.fromMonth,o=e.toMonth,a=e.fromDate,s=e.toDate;return n?a=Z(n):t&&(a=new Date(t,0,1)),o?s=Xe(o):r&&(s=new Date(r,11,31)),{fromDate:a?Y(a):void 0,toDate:s?Y(s):void 0}}var Mt=p.createContext(void 0);function Vn(e){var t,r=e.initialProps,n=zn(),o=Un(r),a=o.fromDate,s=o.toDate,i=(t=r.captionLayout)!==null&&t!==void 0?t:n.captionLayout;i!=="buttons"&&(!a||!s)&&(i="buttons");var c;(Ee(r)||Me(r)||Oe(r))&&(c=r.onSelect);var d=N(N(N({},n),r),{captionLayout:i,classNames:N(N({},n.classNames),r.classNames),components:N({},r.components),formatters:N(N({},n.formatters),r.formatters),fromDate:a,labels:N(N({},n.labels),r.labels),mode:r.mode||n.mode,modifiers:N(N({},n.modifiers),r.modifiers),modifiersClassNames:N(N({},n.modifiersClassNames),r.modifiersClassNames),onSelect:c,styles:N(N({},n.styles),r.styles),toDate:s});return l.jsx(Mt.Provider,{value:d,children:e.children})}function I(){var e=p.useContext(Mt);if(!e)throw new Error("useDayPicker must be used within a DayPickerProvider.");return e}function Ot(e){var t=I(),r=t.locale,n=t.classNames,o=t.styles,a=t.formatters.formatCaption;return l.jsx("div",{className:n.caption_label,style:o.caption_label,"aria-live":"polite",role:"presentation",id:e.id,children:a(e.displayMonth,{locale:r})})}function Kn(e){return l.jsx("svg",N({width:"8px",height:"8px",viewBox:"0 0 120 120","data-testid":"iconDropdown"},e,{children:l.jsx("path",{d:"M4.22182541,48.2218254 C8.44222828,44.0014225 15.2388494,43.9273804 19.5496459,47.9996989 L19.7781746,48.2218254 L60,88.443 L100.221825,48.2218254 C104.442228,44.0014225 111.238849,43.9273804 115.549646,47.9996989 L115.778175,48.2218254 C119.998577,52.4422283 120.07262,59.2388494 116.000301,63.5496459 L115.778175,63.7781746 L67.7781746,111.778175 C63.5577717,115.998577 56.7611506,116.07262 52.4503541,112.000301 L52.2218254,111.778175 L4.22182541,63.7781746 C-0.0739418023,59.4824074 -0.0739418023,52.5175926 4.22182541,48.2218254 Z",fill:"currentColor",fillRule:"nonzero"})}))}function St(e){var t,r,n=e.onChange,o=e.value,a=e.children,s=e.caption,i=e.className,c=e.style,d=I(),u=(r=(t=d.components)===null||t===void 0?void 0:t.IconDropdown)!==null&&r!==void 0?r:Kn;return l.jsxs("div",{className:i,style:c,children:[l.jsx("span",{className:d.classNames.vhidden,children:e["aria-label"]}),l.jsx("select",{name:e.name,"aria-label":e["aria-label"],className:d.classNames.dropdown,style:d.styles.dropdown,value:o,onChange:n,children:a}),l.jsxs("div",{className:d.classNames.caption_label,style:d.styles.caption_label,"aria-hidden":"true",children:[s,l.jsx(u,{className:d.classNames.dropdown_icon,style:d.styles.dropdown_icon})]})]})}function Xn(e){var t,r=I(),n=r.fromDate,o=r.toDate,a=r.styles,s=r.locale,i=r.formatters.formatMonthCaption,c=r.classNames,d=r.components,u=r.labels.labelMonthDropdown;if(!n)return l.jsx(l.Fragment,{});if(!o)return l.jsx(l.Fragment,{});var f=[];if(hn(n,o))for(var v=Z(n),m=n.getMonth();m<=o.getMonth();m++)f.push($e(v,m));else for(var v=Z(new Date),m=0;m<=11;m++)f.push($e(v,m));var h=function(b){var j=Number(b.target.value),M=$e(Z(e.displayMonth),j);e.onChange(M)},k=(t=d==null?void 0:d.Dropdown)!==null&&t!==void 0?t:St;return l.jsx(k,{name:"months","aria-label":u(),className:c.dropdown_month,style:a.dropdown_month,onChange:h,value:e.displayMonth.getMonth(),caption:i(e.displayMonth,{locale:s}),children:f.map(function(b){return l.jsx("option",{value:b.getMonth(),children:i(b,{locale:s})},b.getMonth())})})}function Zn(e){var t,r=e.displayMonth,n=I(),o=n.fromDate,a=n.toDate,s=n.locale,i=n.styles,c=n.classNames,d=n.components,u=n.formatters.formatYearCaption,f=n.labels.labelYearDropdown,v=[];if(!o)return l.jsx(l.Fragment,{});if(!a)return l.jsx(l.Fragment,{});for(var m=o.getFullYear(),h=a.getFullYear(),k=m;k<=h;k++)v.push(ut(nn(new Date),k));var b=function(M){var B=ut(Z(r),Number(M.target.value));e.onChange(B)},j=(t=d==null?void 0:d.Dropdown)!==null&&t!==void 0?t:St;return l.jsx(j,{name:"years","aria-label":f(),className:c.dropdown_year,style:i.dropdown_year,onChange:b,value:r.getFullYear(),caption:u(r,{locale:s}),children:v.map(function(M){return l.jsx("option",{value:M.getFullYear(),children:u(M,{locale:s})},M.getFullYear())})})}function qn(e,t){var r=p.useState(e),n=r[0],o=r[1],a=t===void 0?n:t;return[a,o]}function Gn(e){var t=e.month,r=e.defaultMonth,n=e.today,o=t||r||n||new Date,a=e.toDate,s=e.fromDate,i=e.numberOfMonths,c=i===void 0?1:i;if(a&&Ne(a,o)<0){var d=-1*(c-1);o=te(a,d)}return s&&Ne(o,s)<0&&(o=s),Z(o)}function Jn(){var e=I(),t=Gn(e),r=qn(t,e.month),n=r[0],o=r[1],a=function(s){var i;if(!e.disableNavigation){var c=Z(s);o(c),(i=e.onMonthChange)===null||i===void 0||i.call(e,c)}};return[n,a]}function Qn(e,t){for(var r=t.reverseMonths,n=t.numberOfMonths,o=Z(e),a=Z(te(o,n)),s=Ne(a,o),i=[],c=0;c<s;c++){var d=te(o,c);i.push(d)}return r&&(i=i.reverse()),i}function eo(e,t){if(!t.disableNavigation){var r=t.toDate,n=t.pagedNavigation,o=t.numberOfMonths,a=o===void 0?1:o,s=n?a:1,i=Z(e);if(!r)return te(i,s);var c=Ne(r,e);if(!(c<a))return te(i,s)}}function to(e,t){if(!t.disableNavigation){var r=t.fromDate,n=t.pagedNavigation,o=t.numberOfMonths,a=o===void 0?1:o,s=n?a:1,i=Z(e);if(!r)return te(i,-s);var c=Ne(i,r);if(!(c<=0))return te(i,-s)}}var Pt=p.createContext(void 0);function ro(e){var t=I(),r=Jn(),n=r[0],o=r[1],a=Qn(n,t),s=eo(n,t),i=to(n,t),c=function(f){return a.some(function(v){return qe(f,v)})},d=function(f,v){c(f)||(v&&kt(f,v)?o(te(f,1+t.numberOfMonths*-1)):o(f))},u={currentMonth:n,displayMonths:a,goToMonth:o,goToDate:d,previousMonth:i,nextMonth:s,isDateDisplayed:c};return l.jsx(Pt.Provider,{value:u,children:e.children})}function Se(){var e=p.useContext(Pt);if(!e)throw new Error("useNavigation must be used within a NavigationProvider");return e}function vt(e){var t,r=I(),n=r.classNames,o=r.styles,a=r.components,s=Se().goToMonth,i=function(u){s(te(u,e.displayIndex?-e.displayIndex:0))},c=(t=a==null?void 0:a.CaptionLabel)!==null&&t!==void 0?t:Ot,d=l.jsx(c,{id:e.id,displayMonth:e.displayMonth});return l.jsxs("div",{className:n.caption_dropdowns,style:o.caption_dropdowns,children:[l.jsx("div",{className:n.vhidden,children:d}),l.jsx(Xn,{onChange:i,displayMonth:e.displayMonth}),l.jsx(Zn,{onChange:i,displayMonth:e.displayMonth})]})}function no(e){return l.jsx("svg",N({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:l.jsx("path",{d:"M69.490332,3.34314575 C72.6145263,0.218951416 77.6798462,0.218951416 80.8040405,3.34314575 C83.8617626,6.40086786 83.9268205,11.3179931 80.9992143,14.4548388 L80.8040405,14.6568542 L35.461,60 L80.8040405,105.343146 C83.8617626,108.400868 83.9268205,113.317993 80.9992143,116.454839 L80.8040405,116.656854 C77.7463184,119.714576 72.8291931,119.779634 69.6923475,116.852028 L69.490332,116.656854 L18.490332,65.6568542 C15.4326099,62.5991321 15.367552,57.6820069 18.2951583,54.5451612 L18.490332,54.3431458 L69.490332,3.34314575 Z",fill:"currentColor",fillRule:"nonzero"})}))}function oo(e){return l.jsx("svg",N({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:l.jsx("path",{d:"M49.8040405,3.34314575 C46.6798462,0.218951416 41.6145263,0.218951416 38.490332,3.34314575 C35.4326099,6.40086786 35.367552,11.3179931 38.2951583,14.4548388 L38.490332,14.6568542 L83.8333725,60 L38.490332,105.343146 C35.4326099,108.400868 35.367552,113.317993 38.2951583,116.454839 L38.490332,116.656854 C41.5480541,119.714576 46.4651794,119.779634 49.602025,116.852028 L49.8040405,116.656854 L100.804041,65.6568542 C103.861763,62.5991321 103.926821,57.6820069 100.999214,54.5451612 L100.804041,54.3431458 L49.8040405,3.34314575 Z",fill:"currentColor"})}))}var Ie=p.forwardRef(function(e,t){var r=I(),n=r.classNames,o=r.styles,a=[n.button_reset,n.button];e.className&&a.push(e.className);var s=a.join(" "),i=N(N({},o.button_reset),o.button);return e.style&&Object.assign(i,e.style),l.jsx("button",N({},e,{ref:t,type:"button",className:s,style:i}))});function ao(e){var t,r,n=I(),o=n.dir,a=n.locale,s=n.classNames,i=n.styles,c=n.labels,d=c.labelPrevious,u=c.labelNext,f=n.components;if(!e.nextMonth&&!e.previousMonth)return l.jsx(l.Fragment,{});var v=d(e.previousMonth,{locale:a}),m=[s.nav_button,s.nav_button_previous].join(" "),h=u(e.nextMonth,{locale:a}),k=[s.nav_button,s.nav_button_next].join(" "),b=(t=f==null?void 0:f.IconRight)!==null&&t!==void 0?t:oo,j=(r=f==null?void 0:f.IconLeft)!==null&&r!==void 0?r:no;return l.jsxs("div",{className:s.nav,style:i.nav,children:[!e.hidePrevious&&l.jsx(Ie,{name:"previous-month","aria-label":v,className:m,style:i.nav_button_previous,disabled:!e.previousMonth,onClick:e.onPreviousClick,children:o==="rtl"?l.jsx(b,{className:s.nav_icon,style:i.nav_icon}):l.jsx(j,{className:s.nav_icon,style:i.nav_icon})}),!e.hideNext&&l.jsx(Ie,{name:"next-month","aria-label":h,className:k,style:i.nav_button_next,disabled:!e.nextMonth,onClick:e.onNextClick,children:o==="rtl"?l.jsx(j,{className:s.nav_icon,style:i.nav_icon}):l.jsx(b,{className:s.nav_icon,style:i.nav_icon})})]})}function mt(e){var t=I().numberOfMonths,r=Se(),n=r.previousMonth,o=r.nextMonth,a=r.goToMonth,s=r.displayMonths,i=s.findIndex(function(h){return qe(e.displayMonth,h)}),c=i===0,d=i===s.length-1,u=t>1&&(c||!d),f=t>1&&(d||!c),v=function(){n&&a(n)},m=function(){o&&a(o)};return l.jsx(ao,{displayMonth:e.displayMonth,hideNext:u,hidePrevious:f,nextMonth:o,previousMonth:n,onPreviousClick:v,onNextClick:m})}function so(e){var t,r=I(),n=r.classNames,o=r.disableNavigation,a=r.styles,s=r.captionLayout,i=r.components,c=(t=i==null?void 0:i.CaptionLabel)!==null&&t!==void 0?t:Ot,d;return o?d=l.jsx(c,{id:e.id,displayMonth:e.displayMonth}):s==="dropdown"?d=l.jsx(vt,{displayMonth:e.displayMonth,id:e.id}):s==="dropdown-buttons"?d=l.jsxs(l.Fragment,{children:[l.jsx(vt,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id}),l.jsx(mt,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id})]}):d=l.jsxs(l.Fragment,{children:[l.jsx(c,{id:e.id,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),l.jsx(mt,{displayMonth:e.displayMonth,id:e.id})]}),l.jsx("div",{className:n.caption,style:a.caption,children:d})}function lo(e){var t=I(),r=t.footer,n=t.styles,o=t.classNames.tfoot;return r?l.jsx("tfoot",{className:o,style:n.tfoot,children:l.jsx("tr",{children:l.jsx("td",{colSpan:8,children:r})})}):l.jsx(l.Fragment,{})}function io(e,t,r){for(var n=r?ye(new Date):le(new Date,{locale:e,weekStartsOn:t}),o=[],a=0;a<7;a++){var s=W(n,a);o.push(s)}return o}function co(){var e=I(),t=e.classNames,r=e.styles,n=e.showWeekNumber,o=e.locale,a=e.weekStartsOn,s=e.ISOWeek,i=e.formatters.formatWeekdayName,c=e.labels.labelWeekday,d=io(o,a,s);return l.jsxs("tr",{style:r.head_row,className:t.head_row,children:[n&&l.jsx("td",{style:r.head_cell,className:t.head_cell}),d.map(function(u,f){return l.jsx("th",{scope:"col",className:t.head_cell,style:r.head_cell,"aria-label":c(u,{locale:o}),children:i(u,{locale:o})},f)})]})}function uo(){var e,t=I(),r=t.classNames,n=t.styles,o=t.components,a=(e=o==null?void 0:o.HeadRow)!==null&&e!==void 0?e:co;return l.jsx("thead",{style:n.head,className:r.head,children:l.jsx(a,{})})}function fo(e){var t=I(),r=t.locale,n=t.formatters.formatDay;return l.jsx(l.Fragment,{children:n(e.date,{locale:r})})}var Ge=p.createContext(void 0);function vo(e){if(!Me(e.initialProps)){var t={selected:void 0,modifiers:{disabled:[]}};return l.jsx(Ge.Provider,{value:t,children:e.children})}return l.jsx(mo,{initialProps:e.initialProps,children:e.children})}function mo(e){var t=e.initialProps,r=e.children,n=t.selected,o=t.min,a=t.max,s=function(d,u,f){var v,m;(v=t.onDayClick)===null||v===void 0||v.call(t,d,u,f);var h=!!(u.selected&&o&&(n==null?void 0:n.length)===o);if(!h){var k=!!(!u.selected&&a&&(n==null?void 0:n.length)===a);if(!k){var b=n?jt([],n,!0):[];if(u.selected){var j=b.findIndex(function(M){return X(d,M)});b.splice(j,1)}else b.push(d);(m=t.onSelect)===null||m===void 0||m.call(t,b,d,u,f)}}},i={disabled:[]};n&&i.disabled.push(function(d){var u=a&&n.length>a-1,f=n.some(function(v){return X(v,d)});return!!(u&&!f)});var c={selected:n,onDayClick:s,modifiers:i};return l.jsx(Ge.Provider,{value:c,children:r})}function Je(){var e=p.useContext(Ge);if(!e)throw new Error("useSelectMultiple must be used within a SelectMultipleProvider");return e}function po(e,t){var r=t||{},n=r.from,o=r.to;return n&&o?X(o,e)&&X(n,e)?void 0:X(o,e)?{from:o,to:void 0}:X(n,e)?void 0:Ce(n,e)?{from:e,to:o}:{from:n,to:e}:o?Ce(e,o)?{from:o,to:e}:{from:e,to:o}:n?kt(e,n)?{from:e,to:n}:{from:n,to:e}:{from:e,to:void 0}}var Qe=p.createContext(void 0);function ho(e){if(!Oe(e.initialProps)){var t={selected:void 0,modifiers:{range_start:[],range_end:[],range_middle:[],disabled:[]}};return l.jsx(Qe.Provider,{value:t,children:e.children})}return l.jsx(go,{initialProps:e.initialProps,children:e.children})}function go(e){var t=e.initialProps,r=e.children,n=t.selected,o=n||{},a=o.from,s=o.to,i=t.min,c=t.max,d=function(m,h,k){var b,j;(b=t.onDayClick)===null||b===void 0||b.call(t,m,h,k);var M=po(m,n);(j=t.onSelect)===null||j===void 0||j.call(t,M,m,h,k)},u={range_start:[],range_end:[],range_middle:[],disabled:[]};if(a?(u.range_start=[a],s?(u.range_end=[s],X(a,s)||(u.range_middle=[{after:a,before:s}])):u.range_end=[a]):s&&(u.range_start=[s],u.range_end=[s]),i&&(a&&!s&&u.disabled.push({after:Ye(a,i-1),before:W(a,i-1)}),a&&s&&u.disabled.push({after:a,before:W(a,i-1)}),!a&&s&&u.disabled.push({after:Ye(s,i-1),before:W(s,i-1)})),c){if(a&&!s&&(u.disabled.push({before:W(a,-c+1)}),u.disabled.push({after:W(a,c-1)})),a&&s){var f=ve(s,a)+1,v=c-f;u.disabled.push({before:Ye(a,v)}),u.disabled.push({after:W(s,v)})}!a&&s&&(u.disabled.push({before:W(s,-c+1)}),u.disabled.push({after:W(s,c-1)}))}return l.jsx(Qe.Provider,{value:{selected:n,onDayClick:d,modifiers:u},children:r})}function et(){var e=p.useContext(Qe);if(!e)throw new Error("useSelectRange must be used within a SelectRangeProvider");return e}function Te(e){return Array.isArray(e)?jt([],e,!0):e!==void 0?[e]:[]}function yo(e){var t={};return Object.entries(e).forEach(function(r){var n=r[0],o=r[1];t[n]=Te(o)}),t}var re;(function(e){e.Outside="outside",e.Disabled="disabled",e.Selected="selected",e.Hidden="hidden",e.Today="today",e.RangeStart="range_start",e.RangeEnd="range_end",e.RangeMiddle="range_middle"})(re||(re={}));var bo=re.Selected,ue=re.Disabled,xo=re.Hidden,wo=re.Today,Be=re.RangeEnd,ze=re.RangeMiddle,Ue=re.RangeStart,_o=re.Outside;function ko(e,t,r){var n,o=(n={},n[bo]=Te(e.selected),n[ue]=Te(e.disabled),n[xo]=Te(e.hidden),n[wo]=[e.today],n[Be]=[],n[ze]=[],n[Ue]=[],n[_o]=[],n);return e.fromDate&&o[ue].push({before:e.fromDate}),e.toDate&&o[ue].push({after:e.toDate}),Me(e)?o[ue]=o[ue].concat(t.modifiers[ue]):Oe(e)&&(o[ue]=o[ue].concat(r.modifiers[ue]),o[Ue]=r.modifiers[Ue],o[ze]=r.modifiers[ze],o[Be]=r.modifiers[Be]),o}var Dt=p.createContext(void 0);function No(e){var t=I(),r=Je(),n=et(),o=ko(t,r,n),a=yo(t.modifiers),s=N(N({},o),a);return l.jsx(Dt.Provider,{value:s,children:e.children})}function Ft(){var e=p.useContext(Dt);if(!e)throw new Error("useModifiers must be used within a ModifiersProvider");return e}function Co(e){return!!(e&&typeof e=="object"&&"before"in e&&"after"in e)}function jo(e){return!!(e&&typeof e=="object"&&"from"in e)}function Mo(e){return!!(e&&typeof e=="object"&&"after"in e)}function Oo(e){return!!(e&&typeof e=="object"&&"before"in e)}function So(e){return!!(e&&typeof e=="object"&&"dayOfWeek"in e)}function Po(e,t){var r,n=t.from,o=t.to;if(n&&o){var a=ve(o,n)<0;a&&(r=[o,n],n=r[0],o=r[1]);var s=ve(e,n)>=0&&ve(o,e)>=0;return s}return o?X(o,e):n?X(n,e):!1}function Do(e){return bt(e)}function Fo(e){return Array.isArray(e)&&e.every(bt)}function To(e,t){return t.some(function(r){if(typeof r=="boolean")return r;if(Do(r))return X(e,r);if(Fo(r))return r.includes(e);if(jo(r))return Po(e,r);if(So(r))return r.dayOfWeek.includes(e.getDay());if(Co(r)){var n=ve(r.before,e),o=ve(r.after,e),a=n>0,s=o<0,i=Ce(r.before,r.after);return i?s&&a:a||s}return Mo(r)?ve(e,r.after)>0:Oo(r)?ve(r.before,e)>0:typeof r=="function"?r(e):!1})}function tt(e,t,r){var n=Object.keys(t).reduce(function(a,s){var i=t[s];return To(e,i)&&a.push(s),a},[]),o={};return n.forEach(function(a){return o[a]=!0}),r&&!qe(e,r)&&(o.outside=!0),o}function Io(e,t){for(var r=Z(e[0]),n=Xe(e[e.length-1]),o,a,s=r;s<=n;){var i=tt(s,t),c=!i.disabled&&!i.hidden;if(!c){s=W(s,1);continue}if(i.selected)return s;i.today&&!a&&(a=s),o||(o=s),s=W(s,1)}return a||o}var Ro=365;function Tt(e,t){var r=t.moveBy,n=t.direction,o=t.context,a=t.modifiers,s=t.retry,i=s===void 0?{count:0,lastFocused:e}:s,c=o.weekStartsOn,d=o.fromDate,u=o.toDate,f=o.locale,v={day:W,week:Ke,month:te,year:Jr,startOfWeek:function(b){return o.ISOWeek?ye(b):le(b,{locale:f,weekStartsOn:c})},endOfWeek:function(b){return o.ISOWeek?_t(b):Ze(b,{locale:f,weekStartsOn:c})}},m=v[r](e,n==="after"?1:-1);n==="before"&&d?m=Qr([d,m]):n==="after"&&u&&(m=en([u,m]));var h=!0;if(a){var k=tt(m,a);h=!k.disabled&&!k.hidden}return h?m:i.count>Ro?i.lastFocused:Tt(m,{moveBy:r,direction:n,context:o,modifiers:a,retry:N(N({},i),{count:i.count+1})})}var It=p.createContext(void 0);function Ao(e){var t=Se(),r=Ft(),n=p.useState(),o=n[0],a=n[1],s=p.useState(),i=s[0],c=s[1],d=Io(t.displayMonths,r),u=o??(i&&t.isDateDisplayed(i))?i:d,f=function(){c(o),a(void 0)},v=function(b){a(b)},m=I(),h=function(b,j){if(o){var M=Tt(o,{moveBy:b,direction:j,context:m,modifiers:r});X(o,M)||(t.goToDate(M,o),v(M))}},k={focusedDay:o,focusTarget:u,blur:f,focus:v,focusDayAfter:function(){return h("day","after")},focusDayBefore:function(){return h("day","before")},focusWeekAfter:function(){return h("week","after")},focusWeekBefore:function(){return h("week","before")},focusMonthBefore:function(){return h("month","before")},focusMonthAfter:function(){return h("month","after")},focusYearBefore:function(){return h("year","before")},focusYearAfter:function(){return h("year","after")},focusStartOfWeek:function(){return h("startOfWeek","before")},focusEndOfWeek:function(){return h("endOfWeek","after")}};return l.jsx(It.Provider,{value:k,children:e.children})}function rt(){var e=p.useContext(It);if(!e)throw new Error("useFocusContext must be used within a FocusProvider");return e}function Eo(e,t){var r=Ft(),n=tt(e,r,t);return n}var nt=p.createContext(void 0);function Wo(e){if(!Ee(e.initialProps)){var t={selected:void 0};return l.jsx(nt.Provider,{value:t,children:e.children})}return l.jsx(Lo,{initialProps:e.initialProps,children:e.children})}function Lo(e){var t=e.initialProps,r=e.children,n=function(a,s,i){var c,d,u;if((c=t.onDayClick)===null||c===void 0||c.call(t,a,s,i),s.selected&&!t.required){(d=t.onSelect)===null||d===void 0||d.call(t,void 0,a,s,i);return}(u=t.onSelect)===null||u===void 0||u.call(t,a,a,s,i)},o={selected:t.selected,onDayClick:n};return l.jsx(nt.Provider,{value:o,children:r})}function Rt(){var e=p.useContext(nt);if(!e)throw new Error("useSelectSingle must be used within a SelectSingleProvider");return e}function Ho(e,t){var r=I(),n=Rt(),o=Je(),a=et(),s=rt(),i=s.focusDayAfter,c=s.focusDayBefore,d=s.focusWeekAfter,u=s.focusWeekBefore,f=s.blur,v=s.focus,m=s.focusMonthBefore,h=s.focusMonthAfter,k=s.focusYearBefore,b=s.focusYearAfter,j=s.focusStartOfWeek,M=s.focusEndOfWeek,B=function(x){var g,U,y,_;Ee(r)?(g=n.onDayClick)===null||g===void 0||g.call(n,e,t,x):Me(r)?(U=o.onDayClick)===null||U===void 0||U.call(o,e,t,x):Oe(r)?(y=a.onDayClick)===null||y===void 0||y.call(a,e,t,x):(_=r.onDayClick)===null||_===void 0||_.call(r,e,t,x)},$=function(x){var g;v(e),(g=r.onDayFocus)===null||g===void 0||g.call(r,e,t,x)},S=function(x){var g;f(),(g=r.onDayBlur)===null||g===void 0||g.call(r,e,t,x)},R=function(x){var g;(g=r.onDayMouseEnter)===null||g===void 0||g.call(r,e,t,x)},ie=function(x){var g;(g=r.onDayMouseLeave)===null||g===void 0||g.call(r,e,t,x)},K=function(x){var g;(g=r.onDayPointerEnter)===null||g===void 0||g.call(r,e,t,x)},oe=function(x){var g;(g=r.onDayPointerLeave)===null||g===void 0||g.call(r,e,t,x)},ae=function(x){var g;(g=r.onDayTouchCancel)===null||g===void 0||g.call(r,e,t,x)},z=function(x){var g;(g=r.onDayTouchEnd)===null||g===void 0||g.call(r,e,t,x)},ce=function(x){var g;(g=r.onDayTouchMove)===null||g===void 0||g.call(r,e,t,x)},q=function(x){var g;(g=r.onDayTouchStart)===null||g===void 0||g.call(r,e,t,x)},G=function(x){var g;(g=r.onDayKeyUp)===null||g===void 0||g.call(r,e,t,x)},J=function(x){var g;switch(x.key){case"ArrowLeft":x.preventDefault(),x.stopPropagation(),r.dir==="rtl"?i():c();break;case"ArrowRight":x.preventDefault(),x.stopPropagation(),r.dir==="rtl"?c():i();break;case"ArrowDown":x.preventDefault(),x.stopPropagation(),d();break;case"ArrowUp":x.preventDefault(),x.stopPropagation(),u();break;case"PageUp":x.preventDefault(),x.stopPropagation(),x.shiftKey?k():m();break;case"PageDown":x.preventDefault(),x.stopPropagation(),x.shiftKey?b():h();break;case"Home":x.preventDefault(),x.stopPropagation(),j();break;case"End":x.preventDefault(),x.stopPropagation(),M();break}(g=r.onDayKeyDown)===null||g===void 0||g.call(r,e,t,x)},se={onClick:B,onFocus:$,onBlur:S,onKeyDown:J,onKeyUp:G,onMouseEnter:R,onMouseLeave:ie,onPointerEnter:K,onPointerLeave:oe,onTouchCancel:ae,onTouchEnd:z,onTouchMove:ce,onTouchStart:q};return se}function Yo(){var e=I(),t=Rt(),r=Je(),n=et(),o=Ee(e)?t.selected:Me(e)?r.selected:Oe(e)?n.selected:void 0;return o}function $o(e){return Object.values(re).includes(e)}function Bo(e,t){var r=[e.classNames.day];return Object.keys(t).forEach(function(n){var o=e.modifiersClassNames[n];if(o)r.push(o);else if($o(n)){var a=e.classNames["day_".concat(n)];a&&r.push(a)}}),r}function zo(e,t){var r=N({},e.styles.day);return Object.keys(t).forEach(function(n){var o;r=N(N({},r),(o=e.modifiersStyles)===null||o===void 0?void 0:o[n])}),r}function Uo(e,t,r){var n,o,a,s=I(),i=rt(),c=Eo(e,t),d=Ho(e,c),u=Yo(),f=!!(s.onDayClick||s.mode!=="default");p.useEffect(function(){var R;c.outside||i.focusedDay&&f&&X(i.focusedDay,e)&&((R=r.current)===null||R===void 0||R.focus())},[i.focusedDay,e,r,f,c.outside]);var v=Bo(s,c).join(" "),m=zo(s,c),h=!!(c.outside&&!s.showOutsideDays||c.hidden),k=(a=(o=s.components)===null||o===void 0?void 0:o.DayContent)!==null&&a!==void 0?a:fo,b=l.jsx(k,{date:e,displayMonth:t,activeModifiers:c}),j={style:m,className:v,children:b,role:"gridcell"},M=i.focusTarget&&X(i.focusTarget,e)&&!c.outside,B=i.focusedDay&&X(i.focusedDay,e),$=N(N(N({},j),(n={disabled:c.disabled,role:"gridcell"},n["aria-selected"]=c.selected,n.tabIndex=B||M?0:-1,n)),d),S={isButton:f,isHidden:h,activeModifiers:c,selectedDays:u,buttonProps:$,divProps:j};return S}function Vo(e){var t=p.useRef(null),r=Uo(e.date,e.displayMonth,t);return r.isHidden?l.jsx("div",{role:"gridcell"}):r.isButton?l.jsx(Ie,N({name:"day",ref:t},r.buttonProps)):l.jsx("div",N({},r.divProps))}function Ko(e){var t=e.number,r=e.dates,n=I(),o=n.onWeekNumberClick,a=n.styles,s=n.classNames,i=n.locale,c=n.labels.labelWeekNumber,d=n.formatters.formatWeekNumber,u=d(Number(t),{locale:i});if(!o)return l.jsx("span",{className:s.weeknumber,style:a.weeknumber,children:u});var f=c(Number(t),{locale:i}),v=function(m){o(t,r,m)};return l.jsx(Ie,{name:"week-number","aria-label":f,className:s.weeknumber,style:a.weeknumber,onClick:v,children:u})}function Xo(e){var t,r,n=I(),o=n.styles,a=n.classNames,s=n.showWeekNumber,i=n.components,c=(t=i==null?void 0:i.Day)!==null&&t!==void 0?t:Vo,d=(r=i==null?void 0:i.WeekNumber)!==null&&r!==void 0?r:Ko,u;return s&&(u=l.jsx("td",{className:a.cell,style:o.cell,children:l.jsx(d,{number:e.weekNumber,dates:e.dates})})),l.jsxs("tr",{className:a.row,style:o.row,children:[u,e.dates.map(function(f){return l.jsx("td",{className:a.cell,style:o.cell,role:"presentation",children:l.jsx(c,{displayMonth:e.displayMonth,date:f})},cn(f))})]})}function pt(e,t,r){for(var n=r!=null&&r.ISOWeek?_t(t):Ze(t,r),o=r!=null&&r.ISOWeek?ye(e):le(e,r),a=ve(n,o),s=[],i=0;i<=a;i++)s.push(W(o,i));var c=s.reduce(function(d,u){var f=r!=null&&r.ISOWeek?sn(u):vn(u,r),v=d.find(function(m){return m.weekNumber===f});return v?(v.dates.push(u),d):(d.push({weekNumber:f,dates:[u]}),d)},[]);return c}function Zo(e,t){var r=pt(Z(e),Xe(e),t);if(t!=null&&t.useFixedWeeks){var n=pn(e,t);if(n<6){var o=r[r.length-1],a=o.dates[o.dates.length-1],s=Ke(a,6-n),i=pt(Ke(a,1),s,t);r.push.apply(r,i)}}return r}function qo(e){var t,r,n,o=I(),a=o.locale,s=o.classNames,i=o.styles,c=o.hideHead,d=o.fixedWeeks,u=o.components,f=o.weekStartsOn,v=o.firstWeekContainsDate,m=o.ISOWeek,h=Zo(e.displayMonth,{useFixedWeeks:!!d,ISOWeek:m,locale:a,weekStartsOn:f,firstWeekContainsDate:v}),k=(t=u==null?void 0:u.Head)!==null&&t!==void 0?t:uo,b=(r=u==null?void 0:u.Row)!==null&&r!==void 0?r:Xo,j=(n=u==null?void 0:u.Footer)!==null&&n!==void 0?n:lo;return l.jsxs("table",{id:e.id,className:s.table,style:i.table,role:"grid","aria-labelledby":e["aria-labelledby"],children:[!c&&l.jsx(k,{}),l.jsx("tbody",{className:s.tbody,style:i.tbody,children:h.map(function(M){return l.jsx(b,{displayMonth:e.displayMonth,dates:M.dates,weekNumber:M.weekNumber},M.weekNumber)})}),l.jsx(j,{displayMonth:e.displayMonth})]})}function Go(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}var Jo=Go()?p.useLayoutEffect:p.useEffect,Ve=!1,Qo=0;function ht(){return"react-day-picker-".concat(++Qo)}function ea(e){var t,r=e??(Ve?ht():null),n=p.useState(r),o=n[0],a=n[1];return Jo(function(){o===null&&a(ht())},[]),p.useEffect(function(){Ve===!1&&(Ve=!0)},[]),(t=e??o)!==null&&t!==void 0?t:void 0}function ta(e){var t,r,n=I(),o=n.dir,a=n.classNames,s=n.styles,i=n.components,c=Se().displayMonths,d=ea(n.id?"".concat(n.id,"-").concat(e.displayIndex):void 0),u=n.id?"".concat(n.id,"-grid-").concat(e.displayIndex):void 0,f=[a.month],v=s.month,m=e.displayIndex===0,h=e.displayIndex===c.length-1,k=!m&&!h;o==="rtl"&&(t=[m,h],h=t[0],m=t[1]),m&&(f.push(a.caption_start),v=N(N({},v),s.caption_start)),h&&(f.push(a.caption_end),v=N(N({},v),s.caption_end)),k&&(f.push(a.caption_between),v=N(N({},v),s.caption_between));var b=(r=i==null?void 0:i.Caption)!==null&&r!==void 0?r:so;return l.jsxs("div",{className:f.join(" "),style:v,children:[l.jsx(b,{id:d,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),l.jsx(qo,{id:u,"aria-labelledby":d,displayMonth:e.displayMonth})]},e.displayIndex)}function ra(e){var t=I(),r=t.classNames,n=t.styles;return l.jsx("div",{className:r.months,style:n.months,children:e.children})}function na(e){var t,r,n=e.initialProps,o=I(),a=rt(),s=Se(),i=p.useState(!1),c=i[0],d=i[1];p.useEffect(function(){o.initialFocus&&a.focusTarget&&(c||(a.focus(a.focusTarget),d(!0)))},[o.initialFocus,c,a.focus,a.focusTarget,a]);var u=[o.classNames.root,o.className];o.numberOfMonths>1&&u.push(o.classNames.multiple_months),o.showWeekNumber&&u.push(o.classNames.with_weeknumber);var f=N(N({},o.styles.root),o.style),v=Object.keys(n).filter(function(h){return h.startsWith("data-")}).reduce(function(h,k){var b;return N(N({},h),(b={},b[k]=n[k],b))},{}),m=(r=(t=n.components)===null||t===void 0?void 0:t.Months)!==null&&r!==void 0?r:ra;return l.jsx("div",N({className:u.join(" "),style:f,dir:o.dir,id:o.id,nonce:n.nonce,title:n.title,lang:n.lang},v,{children:l.jsx(m,{children:s.displayMonths.map(function(h,k){return l.jsx(ta,{displayIndex:k,displayMonth:h},k)})})}))}function oa(e){var t=e.children,r=Mn(e,["children"]);return l.jsx(Vn,{initialProps:r,children:l.jsx(ro,{children:l.jsx(Wo,{initialProps:r,children:l.jsx(vo,{initialProps:r,children:l.jsx(ho,{initialProps:r,children:l.jsx(No,{children:l.jsx(Ao,{children:t})})})})})})})}function aa(e){return l.jsx(oa,N({},e,{children:l.jsx(na,{initialProps:e})}))}function At({className:e,classNames:t,showOutsideDays:r=!0,...n}){return l.jsx(aa,{showOutsideDays:r,className:fe("p-3",e),classNames:{months:"flex flex-col items-center sm:flex-row sm:items-center sm:justify-center space-y-4 sm:space-x-4 sm:space-y-0",month:"space-y-4",caption:"flex justify-center pt-1 relative items-center",caption_label:"text-sm font-medium",nav:"space-x-1 flex items-center",nav_button:fe(it({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-y-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:"h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected])]:bg-transparent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20",day:fe(it({variant:"ghost"}),"h-9 w-9 p-0 font-normal text-slate-700 aria-selected:opacity-100"),day_selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",day_today:"bg-pink-200 text-pink-800",day_outside:"text-muted-foreground opacity-50",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible",...t},components:{IconLeft:({...o})=>l.jsx(gn,{className:"h-4 w-4"}),IconRight:({...o})=>l.jsx(yn,{className:"h-4 w-4"})},...n})}At.displayName="Calendar";var sa="Arrow",Et=p.forwardRef((e,t)=>{const{children:r,width:n=10,height:o=5,...a}=e;return l.jsx(je.svg,{...a,ref:t,width:n,height:o,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:l.jsx("polygon",{points:"0,0 30,0 15,10"})})});Et.displayName=sa;var la=Et,ot="Popper",[Wt,Lt]=xt(ot),[ia,Ht]=Wt(ot),Yt=e=>{const{__scopePopper:t,children:r}=e,[n,o]=p.useState(null);return l.jsx(ia,{scope:t,anchor:n,onAnchorChange:o,children:r})};Yt.displayName=ot;var $t="PopperAnchor",Bt=p.forwardRef((e,t)=>{const{__scopePopper:r,virtualRef:n,...o}=e,a=Ht($t,r),s=p.useRef(null),i=Ae(t,s);return p.useEffect(()=>{a.onAnchorChange((n==null?void 0:n.current)||s.current)}),n?null:l.jsx(je.div,{...o,ref:i})});Bt.displayName=$t;var at="PopperContent",[ca,da]=Wt(at),zt=p.forwardRef((e,t)=>{var w,C,V,L,E,de;const{__scopePopper:r,side:n="bottom",sideOffset:o=0,align:a="center",alignOffset:s=0,arrowPadding:i=0,avoidCollisions:c=!0,collisionBoundary:d=[],collisionPadding:u=0,sticky:f="partial",hideWhenDetached:v=!1,updatePositionStrategy:m="optimized",onPlaced:h,...k}=e,b=Ht(at,r),[j,M]=p.useState(null),B=Ae(t,he=>M(he)),[$,S]=p.useState(null),R=jr($),ie=(R==null?void 0:R.width)??0,K=(R==null?void 0:R.height)??0,oe=n+(a!=="center"?"-"+a:""),ae=typeof u=="number"?u:{top:0,right:0,bottom:0,left:0,...u},z=Array.isArray(d)?d:[d],ce=z.length>0,q={padding:ae,boundary:z.filter(fa),altBoundary:ce},{refs:G,floatingStyles:J,placement:se,isPositioned:x,middlewareData:g}=Mr({strategy:"fixed",placement:oe,whileElementsMounted:(...he)=>Or(...he,{animationFrame:m==="always"}),elements:{reference:b.anchor},middleware:[Sr({mainAxis:o+K,alignmentAxis:s}),c&&Pr({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?Rr():void 0,...q}),c&&Dr({...q}),Fr({...q,apply:({elements:he,rects:De,availableWidth:Le,availableHeight:He})=>{const{width:ir,height:cr}=De.reference,Fe=he.floating.style;Fe.setProperty("--radix-popper-available-width",`${Le}px`),Fe.setProperty("--radix-popper-available-height",`${He}px`),Fe.setProperty("--radix-popper-anchor-width",`${ir}px`),Fe.setProperty("--radix-popper-anchor-height",`${cr}px`)}}),$&&Tr({element:$,padding:i}),va({arrowWidth:ie,arrowHeight:K}),v&&Ir({strategy:"referenceHidden",...q})]}),[U,y]=Kt(se),_=fr(h);ct(()=>{x&&(_==null||_())},[x,_]);const T=(w=g.arrow)==null?void 0:w.x,P=(C=g.arrow)==null?void 0:C.y,A=((V=g.arrow)==null?void 0:V.centerOffset)!==0,[pe,_e]=p.useState();return ct(()=>{j&&_e(window.getComputedStyle(j).zIndex)},[j]),l.jsx("div",{ref:G.setFloating,"data-radix-popper-content-wrapper":"",style:{...J,transform:x?J.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:pe,"--radix-popper-transform-origin":[(L=g.transformOrigin)==null?void 0:L.x,(E=g.transformOrigin)==null?void 0:E.y].join(" "),...((de=g.hide)==null?void 0:de.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:l.jsx(ca,{scope:r,placedSide:U,onArrowChange:S,arrowX:T,arrowY:P,shouldHideArrow:A,children:l.jsx(je.div,{"data-side":U,"data-align":y,...k,ref:B,style:{...k.style,animation:x?void 0:"none"}})})})});zt.displayName=at;var Ut="PopperArrow",ua={top:"bottom",right:"left",bottom:"top",left:"right"},Vt=p.forwardRef(function(t,r){const{__scopePopper:n,...o}=t,a=da(Ut,n),s=ua[a.placedSide];return l.jsx("span",{ref:a.onArrowChange,style:{position:"absolute",left:a.arrowX,top:a.arrowY,[s]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[a.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[a.placedSide],visibility:a.shouldHideArrow?"hidden":void 0},children:l.jsx(la,{...o,ref:r,style:{...o.style,display:"block"}})})});Vt.displayName=Ut;function fa(e){return e!==null}var va=e=>({name:"transformOrigin",options:e,fn(t){var b,j,M;const{placement:r,rects:n,middlewareData:o}=t,s=((b=o.arrow)==null?void 0:b.centerOffset)!==0,i=s?0:e.arrowWidth,c=s?0:e.arrowHeight,[d,u]=Kt(r),f={start:"0%",center:"50%",end:"100%"}[u],v=(((j=o.arrow)==null?void 0:j.x)??0)+i/2,m=(((M=o.arrow)==null?void 0:M.y)??0)+c/2;let h="",k="";return d==="bottom"?(h=s?f:`${v}px`,k=`${-c}px`):d==="top"?(h=s?f:`${v}px`,k=`${n.floating.height+c}px`):d==="right"?(h=`${-c}px`,k=s?f:`${m}px`):d==="left"&&(h=`${n.floating.width+c}px`,k=s?f:`${m}px`),{data:{x:h,y:k}}}});function Kt(e){const[t,r="center"]=e.split("-");return[t,r]}var ma=Yt,Xt=Bt,pa=zt,ha=Vt,We="Popover",[Zt,Ba]=xt(We,[Lt]),Pe=Lt(),[ga,me]=Zt(We),qt=e=>{const{__scopePopover:t,children:r,open:n,defaultOpen:o,onOpenChange:a,modal:s=!1}=e,i=Pe(t),c=p.useRef(null),[d,u]=p.useState(!1),[f,v]=hr({prop:n,defaultProp:o??!1,onChange:a,caller:We});return l.jsx(ma,{...i,children:l.jsx(ga,{scope:t,contentId:Cr(),triggerRef:c,open:f,onOpenChange:v,onOpenToggle:p.useCallback(()=>v(m=>!m),[v]),hasCustomAnchor:d,onCustomAnchorAdd:p.useCallback(()=>u(!0),[]),onCustomAnchorRemove:p.useCallback(()=>u(!1),[]),modal:s,children:r})})};qt.displayName=We;var Gt="PopoverAnchor",ya=p.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,o=me(Gt,r),a=Pe(r),{onCustomAnchorAdd:s,onCustomAnchorRemove:i}=o;return p.useEffect(()=>(s(),()=>i()),[s,i]),l.jsx(Xt,{...a,...n,ref:t})});ya.displayName=Gt;var Jt="PopoverTrigger",Qt=p.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,o=me(Jt,r),a=Pe(r),s=Ae(t,o.triggerRef),i=l.jsx(je.button,{type:"button","aria-haspopup":"dialog","aria-expanded":o.open,"aria-controls":o.contentId,"data-state":or(o.open),...n,ref:s,onClick:ke(e.onClick,o.onOpenToggle)});return o.hasCustomAnchor?i:l.jsx(Xt,{asChild:!0,...a,children:i})});Qt.displayName=Jt;var st="PopoverPortal",[ba,xa]=Zt(st,{forceMount:void 0}),er=e=>{const{__scopePopover:t,forceMount:r,children:n,container:o}=e,a=me(st,t);return l.jsx(ba,{scope:t,forceMount:r,children:l.jsx(wt,{present:r||a.open,children:l.jsx(mr,{asChild:!0,container:o,children:n})})})};er.displayName=st;var we="PopoverContent",tr=p.forwardRef((e,t)=>{const r=xa(we,e.__scopePopover),{forceMount:n=r.forceMount,...o}=e,a=me(we,e.__scopePopover);return l.jsx(wt,{present:n||a.open,children:a.modal?l.jsx(_a,{...o,ref:t}):l.jsx(ka,{...o,ref:t})})});tr.displayName=we;var wa=pr("PopoverContent.RemoveScroll"),_a=p.forwardRef((e,t)=>{const r=me(we,e.__scopePopover),n=p.useRef(null),o=Ae(t,n),a=p.useRef(!1);return p.useEffect(()=>{const s=n.current;if(s)return wr(s)},[]),l.jsx(_r,{as:wa,allowPinchZoom:!0,children:l.jsx(rr,{...e,ref:o,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:ke(e.onCloseAutoFocus,s=>{var i;s.preventDefault(),a.current||(i=r.triggerRef.current)==null||i.focus()}),onPointerDownOutside:ke(e.onPointerDownOutside,s=>{const i=s.detail.originalEvent,c=i.button===0&&i.ctrlKey===!0,d=i.button===2||c;a.current=d},{checkForDefaultPrevented:!1}),onFocusOutside:ke(e.onFocusOutside,s=>s.preventDefault(),{checkForDefaultPrevented:!1})})})}),ka=p.forwardRef((e,t)=>{const r=me(we,e.__scopePopover),n=p.useRef(!1),o=p.useRef(!1);return l.jsx(rr,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{var s,i;(s=e.onCloseAutoFocus)==null||s.call(e,a),a.defaultPrevented||(n.current||(i=r.triggerRef.current)==null||i.focus(),a.preventDefault()),n.current=!1,o.current=!1},onInteractOutside:a=>{var c,d;(c=e.onInteractOutside)==null||c.call(e,a),a.defaultPrevented||(n.current=!0,a.detail.originalEvent.type==="pointerdown"&&(o.current=!0));const s=a.target;((d=r.triggerRef.current)==null?void 0:d.contains(s))&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&o.current&&a.preventDefault()}})}),rr=p.forwardRef((e,t)=>{const{__scopePopover:r,trapFocus:n,onOpenAutoFocus:o,onCloseAutoFocus:a,disableOutsidePointerEvents:s,onEscapeKeyDown:i,onPointerDownOutside:c,onFocusOutside:d,onInteractOutside:u,...f}=e,v=me(we,r),m=Pe(r);return kr(),l.jsx(Nr,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:o,onUnmountAutoFocus:a,children:l.jsx(vr,{asChild:!0,disableOutsidePointerEvents:s,onInteractOutside:u,onEscapeKeyDown:i,onPointerDownOutside:c,onFocusOutside:d,onDismiss:()=>v.onOpenChange(!1),children:l.jsx(pa,{"data-state":or(v.open),role:"dialog",id:v.contentId,...m,...f,ref:t,style:{...f.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),nr="PopoverClose",Na=p.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,o=me(nr,r);return l.jsx(je.button,{type:"button",...n,ref:t,onClick:ke(e.onClick,()=>o.onOpenChange(!1))})});Na.displayName=nr;var Ca="PopoverArrow",ja=p.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,o=Pe(r);return l.jsx(ha,{...o,...n,ref:t})});ja.displayName=Ca;function or(e){return e?"open":"closed"}var Ma=qt,Oa=Qt,Sa=er,ar=tr;const Pa=Ma,Da=Oa,sr=yt.forwardRef(({className:e,align:t="center",sideOffset:r=4,...n},o)=>l.jsx(Sa,{children:l.jsx(ar,{ref:o,align:t,sideOffset:r,className:fe("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n})}));sr.displayName=ar.displayName;const xe={NONE:{value:"none",label:"Sin Smbolo",color:"bg-gray-200",textColor:"#e2e8f0"},MENSTRUATION:{value:"red",label:"Menstruacin",color:"bg-red-500",textColor:"#e2e8f0"},FERTILE:{value:"white",label:"Moco (Frtil)",color:"bg-white",textColor:"#e2e8f0"},INFERTILE:{value:"green",label:"Seco (Rel. infrtil)",color:"bg-green-500",textColor:"#e2e8f0"},NON_FERTILE_MUCUS:{value:"yellow",label:"Moco (No frtil)",color:"bg-yellow-400",textColor:"#1f2937"},SPOTTING:{value:"spot",label:"Spotting",color:"bg-red-500",textColor:"#e2e8f0",pattern:"spotting-pattern"}},lr=Object.values(xe),za=e=>lr.find(r=>r.value===e)||xe.NONE,Fa=({date:e,setDate:t,measurements:r,addMeasurement:n,updateMeasurement:o,removeMeasurement:a,confirmMeasurement:s,selectMeasurement:i,mucusSensation:c,setMucusSensation:d,mucusAppearance:u,setMucusAppearance:f,fertilitySymbol:v,setFertilitySymbol:m,observations:h,setObservations:k,ignored:b,setIgnored:j,peakTag:M,setPeakTag:B,existingPeakIsoDate:$,isProcessing:S,isEditing:R,initialData:ie,cycleStartDate:K,cycleEndDate:oe,recordedDates:ae=[],submitCurrentState:z})=>{const[ce,q]=p.useState(!1),[G,J]=p.useState(null);p.useEffect(()=>{if(G!==null)return;const w=r.findIndex(C=>{if(!C)return!1;const V=C.temperature_corrected!==void 0&&C.temperature_corrected!==null&&String(C.temperature_corrected).trim()!=="";return!!C.use_corrected||V});w!==-1&&J(w)},[G,r]);const se=(w,C)=>{const V=parseFloat(r[w].temperature??0),E=(parseFloat(r[w].temperature_corrected??V)+C).toFixed(2);o(w,"temperature_corrected",E);const de=parseFloat(E)-V,he=Math.round(de*10),De=r[w].time||"00:00",Le=yr(De,"HH:mm",new Date),He=D(Zr(Le,he),"HH:mm");o(w,"time_corrected",He),r[w].use_corrected||o(w,"use_corrected",!0)},x=Y(H(K)),g=oe?Y(H(oe)):W(x,45),U=[{before:x},{after:g}],y=e?D(e,"yyyy-MM-dd"):null,_=M==="peak",P=fe("h-7 rounded-xl border px-3 text-[11px] font-semibold uppercase tracking-wide transition-colors shadow-sm",_?"border-rose-400 bg-rose-50 text-rose-600 shadow-[0_0_0_1px_rgba(244,114,182,0.25)] hover:bg-rose-100":$&&$!==y?"border-slate-300 bg-slate-100 text-slate-500 hover:bg-slate-100":"border-rose-500 bg-gradient-to-r from-rose-500 via-rose-500/95 to-pink-500 text-white shadow-[0_4px_12px_rgba(244,114,182,0.35)] hover:from-rose-600 hover:to-pink-600"),A=async()=>{if(S||typeof z!="function")return;const w=_?null:"peak";B(w);try{await z({peakTagOverride:w,keepFormOpen:!0,skipReset:!0})}catch{B(_?"peak":null)}},pe=w=>{const C=w===!0;j(C),!(!R||S||typeof z!="function")&&z({overrideIgnored:C,keepFormOpen:!0,skipReset:!0})},_e=(w,C)=>{const V=C===!0;if(o(w,"use_corrected",V),!R||S||typeof z!="function")return;const L=r.map((E,de)=>de===w?{...E,use_corrected:V}:E);z({overrideMeasurements:L,keepFormOpen:!0,skipReset:!0})};return l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"space-y-2 bg-gradient-to-r from-pink-50 to-rose-50 rounded-xl p-3 border border-pink-300/50",children:[l.jsxs(ge,{htmlFor:"date",className:"flex items-center text-pink-700 text-sm font-semibold",children:[l.jsx(ft,{className:"mr-2 h-5 w-5 text-pink-400"}),"Fecha del Registro"]}),l.jsxs(Pa,{open:ce,onOpenChange:q,children:[l.jsx(Da,{asChild:!0,children:l.jsxs(Q,{variant:"outline",className:fe("w-full justify-start text-left font-normal bg-white/70 border-pink-200 text-gray-800 hover:bg-white",!e&&"text-muted-foreground"),disabled:S,children:[l.jsx(ft,{className:"mr-2 h-4 w-4"}),e?D(e,"PPP",{locale:dt}):l.jsx("span",{children:"Selecciona una fecha"})]})}),l.jsx(sr,{className:"w-auto p-0 bg-white border-pink-200 text-gray-800",align:"start",children:l.jsx(At,{mode:"single",selected:e,onSelect:w=>{t(Y(w||new Date)),q(!1)},initialFocus:!0,locale:dt,disabled:S?()=>!0:U,modifiers:{hasRecord:ae},modifiersClassNames:{hasRecord:'relative after:content-["" ] after:absolute after:inset-x-0 after:bottom-1 after:mx-auto after:w-1.5 after:h-1.5 after:rounded-full after:bg-pink-500'},className:"[&_button]:text-gray-800 [&_button:hover]:bg-pink-100 [&_button[aria-selected=true]]:bg-pink-500"})})]})]}),r.map((w,C)=>{const V=`measurement_select_${C}`;return l.jsxs("div",{className:"space-y-3 bg-gradient-to-r from-amber-50 to-orange-50 rounded-xl p-3 border border-amber-300/50",children:[l.jsxs("div",{className:"flex items-start justify-between gap-2",children:[l.jsxs(ge,{className:"flex items-center text-amber-800 text-sm font-semibold",children:[l.jsx(jn,{className:"mr-2 h-5 w-5 text-orange-500"}),"Medicin ",C+1]}),l.jsxs("label",{htmlFor:V,className:"flex items-center gap-2 rounded-full border border-amber-200 bg-white/70 px-3 py-1 text-[11px] font-semibold uppercase tracking-wide text-amber-700 shadow-sm",children:[l.jsx("input",{id:V,type:"radio",checked:w.selected,onChange:()=>i(C),disabled:S,className:"h-3.5 w-3.5 text-orange-500 focus:ring-orange-400"}),l.jsx("span",{children:"Usar en grfica"})]})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[l.jsx(be,{type:"number",step:"0.01",min:"34.0",max:"40.0",value:w.temperature,onChange:L=>o(C,"temperature",L.target.value),onInput:L=>o(C,"temperature",L.target.value),placeholder:"36.50",className:"bg-white/70 border-amber-200 text-gray-800 placeholder-gray-400 focus:ring-orange-500 focus:border-orange-500 text-base",disabled:S}),l.jsx(be,{type:"time",value:w.time,onChange:L=>o(C,"time",L.target.value),className:"bg-white/70 border-amber-200 text-gray-800 placeholder-gray-400 focus:ring-orange-500 focus:border-orange-500 text-base",disabled:S})]}),l.jsxs("div",{className:"mt-3 flex flex-wrap items-center justify-between gap-2",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Q,{type:"button",size:"sm",variant:"outline",disabled:S,className:" text-slate-600 bg-slate-200 ",onClick:()=>{G===C?J(null):(J(C),(w.temperature_corrected===""||w.temperature_corrected===void 0)&&o(C,"temperature_corrected",w.temperature),w.time_corrected||o(C,"time_corrected",w.time))},children:"Corregir"}),R&&!!w.temperature&&l.jsx(Q,{type:"button",size:"icon",variant:"outline",disabled:S,onClick:()=>pe(!b),className:fe("h-7 w-7 border-amber-200 text-amber-600 transition-colors",b?"bg-orange-500 text-white hover:bg-orange-600":"bg-white/70 hover:bg-amber-100"),title:b?"Restaurar":"Despreciar",children:b?l.jsx(Vr,{className:"h-4 w-4"}):l.jsx(Kr,{className:"h-4 w-4"})}),!w.confirmed&&l.jsxs(l.Fragment,{children:[l.jsx(Q,{type:"button",size:"icon",onClick:()=>s(C),disabled:S,className:"h-7 w-7",children:l.jsx(Ar,{className:"h-4 w-4 "})}),l.jsx(Q,{type:"button",size:"icon",onClick:()=>a(C),disabled:S,className:"h-7 w-7",children:l.jsx(gr,{className:"h-4 w-4"})})]})]}),l.jsxs(Q,{type:"button",onClick:n,disabled:S,size:"sm",variant:"outline",className:"ml-auto flex items-center gap-1 rounded-full border-amber-300 bg-white/70 px-3 py-1 text-xs font-semibold text-amber-700 shadow-sm transition-colors hover:bg-amber-100",children:[l.jsx(zr,{className:"h-3.5 w-3.5"}),"Aadir medicin"]})]}),G===C&&l.jsxs("div",{className:"mt-2 space-y-2",children:[l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(be,{type:"number",step:"0.01",min:"34.0",max:"40.0",value:w.temperature_corrected,onChange:L=>{const E=L.target.value;o(C,"temperature_corrected",E),w.use_corrected||o(C,"use_corrected",!0)},className:"bg-white/70 border-amber-200 text-gray-800 placeholder-gray-400 focus:ring-orange-500 focus:border-orange-500 text-base",disabled:S}),l.jsx(Q,{type:"button",size:"icon",variant:"outline",disabled:S,onClick:()=>se(C,.1),children:l.jsx(bn,{className:"h-4 w-4"})}),l.jsx(Q,{type:"button",size:"icon",variant:"outline",disabled:S,onClick:()=>se(C,-.1),children:l.jsx(Er,{className:"h-4 w-4"})}),l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(wn,{className:"h-4 w-4 text-orange-500"}),l.jsx(be,{type:"time",value:w.time_corrected,onChange:L=>o(C,"time_corrected",L.target.value),className:"bg-white/70 border-amber-200 text-gray-800 focus:ring-orange-500 focus:border-orange-500 text-base",disabled:S})]})]}),l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(Wr,{id:`use_corrected_${C}`,checked:w.use_corrected,onCheckedChange:L=>_e(C,L)}),l.jsx(ge,{htmlFor:`use_corrected_${C}`,className:"text-xs",children:"Usar valor corregido"})]})]})]},C)}),l.jsx("div",{className:"mt-4 gap-3 ",children:l.jsxs("div",{className:"space-y-2 rounded-xl border border-slate-300/50 bg-gradient-to-r from-stone-100 to-slate-100 p-3",children:[l.jsxs("div",{className:"flex items-start justify-between gap-3",children:[l.jsxs(ge,{htmlFor:"fertilitySymbol",className:"flex items-center text-slate-800 text-sm font-semibold",children:[l.jsx(Cn,{className:"mr-2 h-5 w-5 text-slate-400"}),"Smbolo de Fertilidad"]}),y&&l.jsx(Q,{type:"button",size:"sm",variant:"ghost","aria-pressed":_,disabled:S,onClick:A,className:P,children:"Da pico"})]}),l.jsxs(Lr,{value:v,onValueChange:m,disabled:S,children:[l.jsx(Hr,{className:"w-full bg-white border-slate-200 text-gray-800 hover:bg-white",children:l.jsx(Yr,{placeholder:"Selecciona un smbolo"})}),l.jsx($r,{className:"bg-white border-slate-200 text-gray-800",children:lr.map(w=>l.jsx(Br,{value:w.value,className:"cursor-pointer",children:l.jsxs("div",{className:"flex items-center",children:[l.jsx("span",{className:fe("w-4 h-4 rounded-full mr-2 border border-gray-300",w.pattern==="spotting-pattern"?"spotting-pattern-icon":w.color)}),w.label]})},w.value))})]})]})}),l.jsxs("div",{className:"space-y-2 bg-gradient-to-r from-blue-50 to-indigo-50 rounded-xl p-3 border border-blue-300/50",children:[l.jsxs(ge,{htmlFor:"mucusSensation",className:"flex items-center text-slate-800 text-sm font-semibold",children:[l.jsx(_n,{className:"mr-2 h-5 w-5 text-sky-600"}),"Sensacin del moco"]}),l.jsx(be,{id:"mucusSensation",value:c,onChange:w=>d(w.target.value),className:"bg-white/70 border-blue-200 text-gray-800 placeholder-gray-400 focus:ring-blue-500 focus:border-blue-500 text-base",disabled:S})]}),l.jsxs("div",{className:"space-y-2 bg-gradient-to-r from-emerald-50 to-teal-50 rounded-xl p-3 border border-emerald-300/50",children:[l.jsxs(ge,{htmlFor:"mucusAppearance",className:"flex items-center text-slate-800 text-sm font-semibold",children:[l.jsx(xn,{className:"mr-2 h-5 w-5 text-emerald-600"}),"Apariencia del moco"]}),l.jsx(be,{id:"mucusAppearance",value:u,onChange:w=>f(w.target.value),className:"bg-white/70 border-emerald-200 text-gray-800 placeholder-gray-400 focus:ring-emerald-500 focus:border-emerald-500 text-base",disabled:S})]}),l.jsxs("div",{className:"space-y-2 bg-gradient-to-r from-violet-50 to-purple-50 rounded-xl p-3 border border-violet-300/50",children:[l.jsx(ge,{htmlFor:"observations",className:"flex items-center text-slate-800 text-sm font-semibold",children:"Observaciones"}),l.jsx(Ct,{id:"observations",value:h,onChange:w=>k(w.target.value),className:"bg-white/70 border-violet-200 text-gray-800 placeholder-gray-400 focus:ring-violet-500 focus:border-violet-500 text-base min-h-[40px] resize-none",disabled:S})]})]})},Ta=({onCancel:e,isProcessing:t,isEditing:r})=>l.jsxs("div",{className:"flex space-x-3 pt-2",children:[e&&l.jsxs(Q,{type:"button",onClick:e,variant:"outline",className:"w-full border-pink-200 bg-white/70 text-gray-700 hover:bg-rose-50 font-semibold py-2.5 text-lg",disabled:t,children:[l.jsx(Nt,{className:"mr-2 h-5 w-5"}),"Cancelar"]}),l.jsxs(Q,{type:"submit",className:"w-full bg-gradient-to-r from-rose-95 to-rose-50/90 hover:from-pink-600 hover:to-pink-700 text-white font-semibold py-2.5 text-lg shadow-md hover:shadow-lg transition-all duration-300 transform hover:scale-102",disabled:t,children:[t?l.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white mr-2"}):l.jsx(Nn,{className:"mr-2 h-5 w-5"}),r?"Actualizar":"Guardar"]})]}),Ia=(e,t,r,n,o,a=[],s,i)=>{const c=()=>{if(t!=null&&t.isoDate)return H(t.isoDate);if(i){const A=Y(H(i));if(!Number.isNaN(A.getTime()))return A}const y=Y(new Date),_=n?Y(H(n)):null,T=o?Y(H(o)):null;let P=y;if(_&&P<_&&(P=_),T&&P>T&&(P=T),!T&&_){const A=W(_,45);P>A&&(P=A)}return P},[d,u]=p.useState(c),[f,v]=p.useState(()=>t!=null&&t.measurements&&Array.isArray(t.measurements)?t.measurements.map(y=>({temperature:y.temperature??"",time:y.time||D(new Date,"HH:mm"),selected:!!y.selected,temperature_corrected:y.temperature_corrected??"",time_corrected:y.time_corrected||y.time||D(new Date,"HH:mm"),use_corrected:!!y.use_corrected,confirmed:!0})):[{temperature:(t==null?void 0:t.temperature_raw)===null||(t==null?void 0:t.temperature_raw)===void 0?"":String(t.temperature_raw),time:t!=null&&t.timestamp?D(H(t.timestamp),"HH:mm"):D(new Date,"HH:mm"),selected:!0,temperature_corrected:"",time_corrected:t!=null&&t.timestamp?D(H(t.timestamp),"HH:mm"):D(new Date,"HH:mm"),use_corrected:!1,confirmed:!0}]),[m,h]=p.useState((t==null?void 0:t.mucusSensation)??(t==null?void 0:t.mucus_sensation)??""),[k,b]=p.useState((t==null?void 0:t.mucusAppearance)??(t==null?void 0:t.mucus_appearance)??""),[j,M]=p.useState((t==null?void 0:t.fertility_symbol)||xe.NONE.value),[B,$]=p.useState((t==null?void 0:t.observations)||""),[S,R]=p.useState((t==null?void 0:t.ignored)||!1),[ie,K]=p.useState((t==null?void 0:t.peak_marker)==="peak"?"peak":null),oe=p.useMemo(()=>{const y=a.find(_=>(_==null?void 0:_.peak_marker)==="peak");return(y==null?void 0:y.isoDate)||null},[a]),{toast:ae}=br();p.useEffect(()=>{t?(u(H(t.isoDate)),t.measurements&&Array.isArray(t.measurements)&&v(t.measurements.map(y=>({temperature:y.temperature??"",time:y.time||D(new Date,"HH:mm"),selected:!!y.selected,temperature_corrected:y.temperature_corrected??"",time_corrected:y.time_corrected||y.time||D(new Date,"HH:mm"),use_corrected:!!y.use_corrected,confirmed:!0}))),h(t.mucusSensation??t.mucus_sensation??""),b(t.mucusAppearance??t.mucus_appearance??""),M(t.fertility_symbol||xe.NONE.value),$(t.observations||""),R(t.ignored||!1),K(t.peak_marker==="peak"?"peak":null)):(v([{temperature:"",time:D(new Date,"HH:mm"),selected:!0,temperature_corrected:"",time_corrected:D(new Date,"HH:mm"),use_corrected:!1,confirmed:!0}]),h(""),b(""),M(xe.NONE.value),$(""),R(!1),K(null),u(c()))},[t,i]),p.useEffect(()=>{if(t)return;const y=n?Y(H(n)):null,_=o?Y(H(o)):null;u(T=>{if(!T)return c();let P=T;if(y&&P<y&&(P=y),_&&P>_&&(P=_),!_&&y){const A=W(y,45);P>A&&(P=A)}return P})},[n,o,t]),p.useEffect(()=>{if(!s)return;const y=D(d,"yyyy-MM-dd"),_=a.find(T=>T.isoDate===y);s(_||null),_&&K(_.peak_marker==="peak"?"peak":null)},[d,a,s]);const z=()=>{v(y=>{var _;return[...y,{temperature:((_=y[y.length-1])==null?void 0:_.temperature)||"",time:D(new Date,"HH:mm"),selected:!1,temperature_corrected:"",time_corrected:D(new Date,"HH:mm"),use_corrected:!1,confirmed:!1}]})},ce=y=>{v(_=>_.filter((T,P)=>P!==y))},q=y=>{v(_=>{const T=[..._];return T[y]={...T[y],confirmed:!0},T})},G=(y,_,T)=>{v(P=>{const A=[...P];return A[y]={...A[y],[_]:T},A})},J=y=>{v(_=>_.map((T,P)=>({...T,selected:P===y})))},se=(y={})=>{const{overrideMeasurements:_,overrideIgnored:T,peakTagOverride:P}=y;if(!d)return ae({title:"Error",description:"La fecha es obligatoria.",variant:"destructive"}),null;const A=Y(H(n)),pe=o?Y(H(o)):W(A,45);if(d<A||d>pe)return ae({title:"Error",description:"La fecha debe estar dentro del ciclo.",variant:"destructive"}),null;const _e=D(d,"yyyy-MM-dd"),w=E=>{if(E==null||E==="")return null;const de=parseFloat(String(E).replace(",","."));return Number.isFinite(de)?de:null},V=Object.prototype.hasOwnProperty.call(y,"peakTagOverride")?P:ie,L=Array.isArray(_)?_:f;return{isoDate:_e,measurements:L.map(E=>({temperature:w(E.temperature),time:E.time,selected:E.selected,temperature_corrected:w(E.temperature_corrected),time_corrected:E.time_corrected,use_corrected:!!E.use_corrected})),mucusSensation:m,mucusAppearance:k,fertility_symbol:j,observations:B,ignored:Object.prototype.hasOwnProperty.call(y,"overrideIgnored")?!!T:S,peak_marker:V==="peak"?"peak":null}},x=()=>{u(c()),v([{temperature:"",time:D(new Date,"HH:mm"),selected:!0,temperature_corrected:"",time_corrected:D(new Date,"HH:mm"),use_corrected:!1,confirmed:!0}]),h(""),b(""),M(xe.NONE.value),$(""),K(null)},g=(y={})=>{const{keepFormOpen:_=!1,skipReset:T=!1,...P}=y,A=se(P);if(!A)return null;const pe=e(A,{keepFormOpen:_,skipReset:T});return!r&&!T&&x(),pe};return{date:d,setDate:u,measurements:f,addMeasurement:z,updateMeasurement:G,selectMeasurement:J,removeMeasurement:ce,confirmMeasurement:q,mucusSensation:m,setMucusSensation:h,mucusAppearance:k,setMucusAppearance:b,fertilitySymbol:j,setFertilitySymbol:M,observations:B,setObservations:$,ignored:S,setIgnored:R,peakTag:ie,setPeakTag:K,existingPeakIsoDate:oe,handleSubmit:y=>(y&&typeof y.preventDefault=="function"&&y.preventDefault(),g()),submitCurrentState:g}},Ua=({onSubmit:e,initialData:t,onCancel:r,cycleStartDate:n,cycleEndDate:o,isProcessing:a,isEditing:s=!1,cycleData:i=[],onDateSelect:c,defaultIsoDate:d})=>{const u=p.useRef(null);Ur(!!r,r),p.useEffect(()=>{const U=u.current;if(!U)return;const y=_=>{_.target&&"scrollIntoView"in _.target&&setTimeout(()=>{_.target.scrollIntoView({behavior:"smooth",block:"center"})},50)};return U.addEventListener("focusin",y),()=>U.removeEventListener("focusin",y)},[]);const{date:f,setDate:v,measurements:m,addMeasurement:h,updateMeasurement:k,removeMeasurement:b,confirmMeasurement:j,selectMeasurement:M,mucusSensation:B,setMucusSensation:$,mucusAppearance:S,setMucusAppearance:R,fertilitySymbol:ie,setFertilitySymbol:K,observations:oe,setObservations:ae,ignored:z,setIgnored:ce,peakTag:q,setPeakTag:G,existingPeakIsoDate:J,handleSubmit:se,submitCurrentState:x}=Ia(e,t,s,n,o,i,c,d),g=p.useMemo(()=>i.map(U=>H(U.isoDate)),[i]);return l.jsxs(xr.form,{ref:u,onSubmit:se,className:"space-y-4 bg-gradient-to-br from-white/98 to-rose-50/95 backdrop-blur-xl p-4 sm:p-6 rounded-3xl border-2 border-rose-200 shadow-[0_4px_20px_rgba(244,114,182,0.25)] w-full",initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.18,ease:"easeOut"},children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-pink-500 to-rose-500 rounded-full flex items-center justify-center shadow-lg",children:l.jsx(kn,{className:"w-4 h-4 text-white"})}),l.jsx("h2",{className:"text-xl font-bold text-gray-800",children:s?"Editar Registro":"Aadir Registro"})]}),r&&l.jsx(Q,{type:"button",onClick:r,variant:"ghost",size:"icon",className:"text-gray-400 hover:text-pink-600 hover:bg-pink-50 rounded-full",children:l.jsx(Nt,{className:"h-5 w-5"})})]}),l.jsx(Fa,{date:f,setDate:v,measurements:m,addMeasurement:h,updateMeasurement:k,removeMeasurement:b,confirmMeasurement:j,selectMeasurement:M,mucusSensation:B,setMucusSensation:$,mucusAppearance:S,setMucusAppearance:R,fertilitySymbol:ie,setFertilitySymbol:K,observations:oe,setObservations:ae,ignored:z,setIgnored:ce,peakTag:q,setPeakTag:G,existingPeakIsoDate:J,isProcessing:a,isEditing:s,initialData:t,cycleStartDate:n,cycleEndDate:o,recordedDates:g,submitCurrentState:x}),l.jsx(Ta,{onCancel:r,isProcessing:a,isEditing:s})]})},Ra=e=>!!(e!=null&&e.id)&&String(e.id).startsWith("placeholder-"),Va=(e=[])=>{if(!Array.isArray(e)||e.length===0)return{};const t=Y(new Date),r=e.filter(s=>{if(!s||!s.isoDate||Ra(s)||s.peak_marker!=="peak")return!1;const i=Y(H(s.isoDate));return!Ce(i,t)}).sort((s,i)=>H(s.isoDate)-H(i.isoDate))[0];if(!r)return{};const n=Y(H(r.isoDate)),a={[D(n,"yyyy-MM-dd")]:"P"};for(let s=1;s<=3;s+=1){const i=W(n,s);if(Ce(i,t))break;const c=D(i,"yyyy-MM-dd");a[c]=String(s)}return a};export{gn as C,Ua as D,lr as F,kn as P,jn as T,Nt as X,yn as a,wn as b,Va as c,_n as d,xn as e,kt as f,za as g,At as h,Ce as i,ft as j,Qr as m};
