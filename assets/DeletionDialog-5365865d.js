import{c as h,j as e,m as c,C as j,B as o}from"./index-1b0fe1a0.js";import{B as N,T as f}from"./badge-e000eb74.js";import{T as v,C as y,a as w,F as x}from"./DataEntryForm-8234e9d4.js";import{E as k}from"./eye-16f81715.js";import{p as n,f as p,e as D,u as C}from"./useCycleData-270ed225.js";import{D as _,a as T,b as E,c as I,d as B,e as M}from"./dialog-9f479f94.js";const L=h("Droplet",[["path",{d:"M12 22a7 7 0 0 0 7-7c0-2-1-3.9-3-5.5s-3.5-4-4-6.5c-.5 2.5-2 4.9-4 6.5C6 11.1 5 13 5 15a7 7 0 0 0 7 7z",key:"c7niix"}]]),O=h("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]),$=({records:a,onEdit:t,onDelete:d,isProcessing:r})=>{if(!a||a.length===0)return e.jsx(c.div,{className:"text-center py-12",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:e.jsxs("div",{className:"bg-white/70 backdrop-blur-md rounded-3xl p-8 border border-pink-200/50 shadow-lg mx-4",children:[e.jsx("div",{className:"w-16 h-16 mx-auto mb-4 bg-gradient-to-br from-pink-100 to-rose-100 rounded-full flex items-center justify-center",children:e.jsx(k,{className:"w-8 h-8 text-pink-500"})}),e.jsx("h3",{className:"text-xl font-semibold text-slate-700 mb-2",children:"No hay registros"}),e.jsx("p",{className:"text-slate-500",children:"Añade tu primer registro para comenzar."})]})});const b=s=>x.find(i=>i.value===s)||x[0],u=[...a].sort((s,i)=>n(i.isoDate)-n(s.isoDate));return e.jsx(c.div,{className:"space-y-3",variants:{hidden:{opacity:0},show:{opacity:1,transition:{staggerChildren:.05}}},initial:"hidden",animate:"show",children:u.map((s,i)=>{const l=b(s.fertility_symbol),m=s.temperature_raw||s.temperature_corrected,g=s.use_corrected&&s.temperature_corrected?s.temperature_corrected:s.temperature_raw;return e.jsx(c.div,{className:"bg-white/80 backdrop-blur-md border border-pink-200/50 shadow-lg hover:shadow-xl transition-all duration-300 hover:bg-white/90 rounded-xl",variants:{hidden:{opacity:0,y:20},show:{opacity:1,y:0}},children:e.jsxs("div",{className:"p-4",children:[e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(j,{className:"w-5 h-5 text-pink-500 flex-shrink-0"}),e.jsx("span",{className:"font-semibold text-slate-700 text-lg",children:p(n(s.isoDate),"dd MMM yyyy",{locale:D})}),e.jsxs("span",{className:"text-md text-slate-600",children:["Día ",s.cycleDay]})]}),e.jsxs("div",{className:"flex items-center space-x-1 ml-2",children:[l.label!=="Sin símbolo"&&e.jsx("span",{className:"text-xs text-slate-600",children:l.label}),e.jsx("div",{className:`w-6 h-6 rounded-full border ${l.color} ${l.pattern?"pattern-bg":""} flex-shrink-0`,style:{filter:"drop-shadow(0 2px 4px rgba(0,0,0,0.1))"}})]})]}),e.jsxs("div",{className:"mt-3 grid grid-cols-2 gap-2 text-xs text-slate-600",children:[e.jsxs("div",{className:"flex items-center space-x-1 bg-gradient-to-r from-amber-50 to-orange-50 border border-amber-100/50 p-2 rounded",children:[e.jsx(v,{className:"w-3 h-3 text-rose-400"}),e.jsx("span",{className:"font-medium",children:m?`${g}°C`:""}),m&&s.ignored&&e.jsx(N,{variant:"secondary",className:"text-xs py-0 px-1 bg-slate-200 text-slate-600",children:"Ignorada"})]}),e.jsx("div",{className:"flex items-center space-x-1 bg-slate-50 border border-amber-100/50 p-2 rounded",children:s.timestamp&&e.jsxs(e.Fragment,{children:[e.jsx(y,{className:"w-3 h-3 text-amber-600"}),e.jsx("span",{children:p(n(s.timestamp),"HH:mm")})]})})]}),e.jsxs("div",{className:"mt-2 grid grid-cols-2 gap-2 text-xs text-slate-600",children:[e.jsxs("div",{className:"flex items-center space-x-1 bg-gradient-to-r from-blue-50 to-indigo-50 border border-blue-100/50 p-2 rounded",children:[e.jsx(w,{className:"w-3 h-3 text-sky-600"}),e.jsx("span",{className:"truncate",children:s.mucus_sensation||""})]}),e.jsxs("div",{className:"flex items-center space-x-1 bg-gradient-to-r from-emerald-50 to-teal-50 border border-emerald-100/50 p-2 rounded",children:[e.jsx(L,{className:"w-3 h-3 text-indigo-600"}),e.jsx("span",{className:"truncate",children:s.mucus_appearance||""})]})]}),e.jsxs("div",{className:"mt-2 grid grid-cols-[1fr_auto] gap-2 items-start text-xs text-slate-600",children:[e.jsxs("div",{className:"bg-gradient-to-r from-violet-50 to-purple-50 border border-violet-100/50 p-2 rounded",children:[e.jsx("span",{className:"font-medium",children:"Observaciones:"})," ",e.jsx("span",{className:"italic",children:s.observations||""})]}),e.jsxs("div",{className:"flex space-x-1",children:[e.jsx(o,{type:"button",onClick:()=>t(s),variant:"outline",size:"sm",className:"h-8 w-8 p-0 border-pink-300 text-pink-600 hover:bg-pink-50 hover:border-pink-400",disabled:r,children:e.jsx(O,{className:"h-3 w-3"})}),e.jsx(o,{type:"button",onClick:()=>d(s.id),variant:"outline",size:"sm",className:"h-8 w-8 p-0 border-rose-300 text-rose-600 hover:bg-rose-50 hover:border-rose-400",disabled:r,children:e.jsx(f,{className:"h-3 w-3"})})]})]})]})},s.id)})})},P=({isOpen:a,onClose:t,onConfirm:d,recordDate:r})=>(C(a,t),e.jsx(_,{open:a,onOpenChange:t,children:e.jsxs(T,{className:"bg-slate-800 border-slate-700 text-slate-50",children:[e.jsxs(E,{children:[e.jsx(I,{children:"Confirmar Eliminación"}),e.jsxs(B,{className:"text-slate-400",children:["¿Estás seguro de que quieres eliminar el registro del ",r,"? Esta acción no se puede deshacer."]})]}),e.jsxs(M,{className:"sm:justify-end",children:[e.jsx(o,{variant:"outline",onClick:t,className:"border-slate-600 hover:bg-slate-700",children:"Cancelar"}),e.jsx(o,{variant:"destructive",onClick:d,children:"Eliminar"})]})]})}));export{P as D,$ as R};
