function Cx(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function CE(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var IE={exports:{}},Vd={},AE={exports:{}},ue={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $l=Symbol.for("react.element"),Ix=Symbol.for("react.portal"),Ax=Symbol.for("react.fragment"),Rx=Symbol.for("react.strict_mode"),xx=Symbol.for("react.profiler"),kx=Symbol.for("react.provider"),bx=Symbol.for("react.context"),Dx=Symbol.for("react.forward_ref"),Nx=Symbol.for("react.suspense"),Ox=Symbol.for("react.memo"),Vx=Symbol.for("react.lazy"),f0=Symbol.iterator;function Mx(t){return t===null||typeof t!="object"?null:(t=f0&&t[f0]||t["@@iterator"],typeof t=="function"?t:null)}var RE={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},xE=Object.assign,kE={};function Bo(t,e,n){this.props=t,this.context=e,this.refs=kE,this.updater=n||RE}Bo.prototype.isReactComponent={};Bo.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Bo.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function bE(){}bE.prototype=Bo.prototype;function Km(t,e,n){this.props=t,this.context=e,this.refs=kE,this.updater=n||RE}var Ym=Km.prototype=new bE;Ym.constructor=Km;xE(Ym,Bo.prototype);Ym.isPureReactComponent=!0;var p0=Array.isArray,DE=Object.prototype.hasOwnProperty,Qm={current:null},NE={key:!0,ref:!0,__self:!0,__source:!0};function OE(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)DE.call(e,r)&&!NE.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:$l,type:t,key:s,ref:o,props:i,_owner:Qm.current}}function Lx(t,e){return{$$typeof:$l,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Xm(t){return typeof t=="object"&&t!==null&&t.$$typeof===$l}function Fx(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var m0=/\/+/g;function Jh(t,e){return typeof t=="object"&&t!==null&&t.key!=null?Fx(""+t.key):e.toString(36)}function rc(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case $l:case Ix:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+Jh(o,0):r,p0(i)?(n="",t!=null&&(n=t.replace(m0,"$&/")+"/"),rc(i,e,n,"",function(c){return c})):i!=null&&(Xm(i)&&(i=Lx(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(m0,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",p0(t))for(var a=0;a<t.length;a++){s=t[a];var l=r+Jh(s,a);o+=rc(s,e,n,l,i)}else if(l=Mx(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=r+Jh(s,a++),o+=rc(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Cu(t,e,n){if(t==null)return t;var r=[],i=0;return rc(t,r,"","",function(s){return e.call(n,s,i++)}),r}function Ux(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Xt={current:null},ic={transition:null},jx={ReactCurrentDispatcher:Xt,ReactCurrentBatchConfig:ic,ReactCurrentOwner:Qm};function VE(){throw Error("act(...) is not supported in production builds of React.")}ue.Children={map:Cu,forEach:function(t,e,n){Cu(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Cu(t,function(){e++}),e},toArray:function(t){return Cu(t,function(e){return e})||[]},only:function(t){if(!Xm(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};ue.Component=Bo;ue.Fragment=Ax;ue.Profiler=xx;ue.PureComponent=Km;ue.StrictMode=Rx;ue.Suspense=Nx;ue.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=jx;ue.act=VE;ue.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=xE({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=Qm.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)DE.call(e,l)&&!NE.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:$l,type:t.type,key:i,ref:s,props:r,_owner:o}};ue.createContext=function(t){return t={$$typeof:bx,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:kx,_context:t},t.Consumer=t};ue.createElement=OE;ue.createFactory=function(t){var e=OE.bind(null,t);return e.type=t,e};ue.createRef=function(){return{current:null}};ue.forwardRef=function(t){return{$$typeof:Dx,render:t}};ue.isValidElement=Xm;ue.lazy=function(t){return{$$typeof:Vx,_payload:{_status:-1,_result:t},_init:Ux}};ue.memo=function(t,e){return{$$typeof:Ox,type:t,compare:e===void 0?null:e}};ue.startTransition=function(t){var e=ic.transition;ic.transition={};try{t()}finally{ic.transition=e}};ue.unstable_act=VE;ue.useCallback=function(t,e){return Xt.current.useCallback(t,e)};ue.useContext=function(t){return Xt.current.useContext(t)};ue.useDebugValue=function(){};ue.useDeferredValue=function(t){return Xt.current.useDeferredValue(t)};ue.useEffect=function(t,e){return Xt.current.useEffect(t,e)};ue.useId=function(){return Xt.current.useId()};ue.useImperativeHandle=function(t,e,n){return Xt.current.useImperativeHandle(t,e,n)};ue.useInsertionEffect=function(t,e){return Xt.current.useInsertionEffect(t,e)};ue.useLayoutEffect=function(t,e){return Xt.current.useLayoutEffect(t,e)};ue.useMemo=function(t,e){return Xt.current.useMemo(t,e)};ue.useReducer=function(t,e,n){return Xt.current.useReducer(t,e,n)};ue.useRef=function(t){return Xt.current.useRef(t)};ue.useState=function(t){return Xt.current.useState(t)};ue.useSyncExternalStore=function(t,e,n){return Xt.current.useSyncExternalStore(t,e,n)};ue.useTransition=function(){return Xt.current.useTransition()};ue.version="18.3.1";AE.exports=ue;var x=AE.exports;const wt=CE(x),ME=Cx({__proto__:null,default:wt},[x]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Bx=x,$x=Symbol.for("react.element"),zx=Symbol.for("react.fragment"),Wx=Object.prototype.hasOwnProperty,Hx=Bx.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,qx={key:!0,ref:!0,__self:!0,__source:!0};function LE(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)Wx.call(e,r)&&!qx.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:$x,type:t,key:s,ref:o,props:i,_owner:Hx.current}}Vd.Fragment=zx;Vd.jsx=LE;Vd.jsxs=LE;IE.exports=Vd;var L=IE.exports,rp={},FE={exports:{}},_n={},UE={exports:{}},jE={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(j,H){var te=j.length;j.push(H);e:for(;0<te;){var Q=te-1>>>1,Z=j[Q];if(0<i(Z,H))j[Q]=H,j[te]=Z,te=Q;else break e}}function n(j){return j.length===0?null:j[0]}function r(j){if(j.length===0)return null;var H=j[0],te=j.pop();if(te!==H){j[0]=te;e:for(var Q=0,Z=j.length,oe=Z>>>1;Q<oe;){var st=2*(Q+1)-1,zt=j[st],mt=st+1,gt=j[mt];if(0>i(zt,te))mt<Z&&0>i(gt,zt)?(j[Q]=gt,j[mt]=te,Q=mt):(j[Q]=zt,j[st]=te,Q=st);else if(mt<Z&&0>i(gt,te))j[Q]=gt,j[mt]=te,Q=mt;else break e}}return H}function i(j,H){var te=j.sortIndex-H.sortIndex;return te!==0?te:j.id-H.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],c=[],d=1,h=null,p=3,g=!1,T=!1,E=!1,A=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _(j){for(var H=n(c);H!==null;){if(H.callback===null)r(c);else if(H.startTime<=j)r(c),H.sortIndex=H.expirationTime,e(l,H);else break;H=n(c)}}function b(j){if(E=!1,_(j),!T)if(n(l)!==null)T=!0,W(O);else{var H=n(c);H!==null&&se(b,H.startTime-j)}}function O(j,H){T=!1,E&&(E=!1,w(v),v=-1),g=!0;var te=p;try{for(_(H),h=n(l);h!==null&&(!(h.expirationTime>H)||j&&!D());){var Q=h.callback;if(typeof Q=="function"){h.callback=null,p=h.priorityLevel;var Z=Q(h.expirationTime<=H);H=t.unstable_now(),typeof Z=="function"?h.callback=Z:h===n(l)&&r(l),_(H)}else r(l);h=n(l)}if(h!==null)var oe=!0;else{var st=n(c);st!==null&&se(b,st.startTime-H),oe=!1}return oe}finally{h=null,p=te,g=!1}}var V=!1,C=null,v=-1,S=5,I=-1;function D(){return!(t.unstable_now()-I<S)}function k(){if(C!==null){var j=t.unstable_now();I=j;var H=!0;try{H=C(!0,j)}finally{H?R():(V=!1,C=null)}}else V=!1}var R;if(typeof y=="function")R=function(){y(k)};else if(typeof MessageChannel<"u"){var $=new MessageChannel,J=$.port2;$.port1.onmessage=k,R=function(){J.postMessage(null)}}else R=function(){A(k,0)};function W(j){C=j,V||(V=!0,R())}function se(j,H){v=A(function(){j(t.unstable_now())},H)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(j){j.callback=null},t.unstable_continueExecution=function(){T||g||(T=!0,W(O))},t.unstable_forceFrameRate=function(j){0>j||125<j?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<j?Math.floor(1e3/j):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(j){switch(p){case 1:case 2:case 3:var H=3;break;default:H=p}var te=p;p=H;try{return j()}finally{p=te}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(j,H){switch(j){case 1:case 2:case 3:case 4:case 5:break;default:j=3}var te=p;p=j;try{return H()}finally{p=te}},t.unstable_scheduleCallback=function(j,H,te){var Q=t.unstable_now();switch(typeof te=="object"&&te!==null?(te=te.delay,te=typeof te=="number"&&0<te?Q+te:Q):te=Q,j){case 1:var Z=-1;break;case 2:Z=250;break;case 5:Z=1073741823;break;case 4:Z=1e4;break;default:Z=5e3}return Z=te+Z,j={id:d++,callback:H,priorityLevel:j,startTime:te,expirationTime:Z,sortIndex:-1},te>Q?(j.sortIndex=te,e(c,j),n(l)===null&&j===n(c)&&(E?(w(v),v=-1):E=!0,se(b,te-Q))):(j.sortIndex=Z,e(l,j),T||g||(T=!0,W(O))),j},t.unstable_shouldYield=D,t.unstable_wrapCallback=function(j){var H=p;return function(){var te=p;p=H;try{return j.apply(this,arguments)}finally{p=te}}}})(jE);UE.exports=jE;var Gx=UE.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Kx=x,vn=Gx;function B(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var BE=new Set,cl={};function Es(t,e){Eo(t,e),Eo(t+"Capture",e)}function Eo(t,e){for(cl[t]=e,t=0;t<e.length;t++)BE.add(e[t])}var Sr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ip=Object.prototype.hasOwnProperty,Yx=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,g0={},y0={};function Qx(t){return ip.call(y0,t)?!0:ip.call(g0,t)?!1:Yx.test(t)?y0[t]=!0:(g0[t]=!0,!1)}function Xx(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function Jx(t,e,n,r){if(e===null||typeof e>"u"||Xx(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Jt(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var At={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){At[t]=new Jt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];At[e]=new Jt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){At[t]=new Jt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){At[t]=new Jt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){At[t]=new Jt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){At[t]=new Jt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){At[t]=new Jt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){At[t]=new Jt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){At[t]=new Jt(t,5,!1,t.toLowerCase(),null,!1,!1)});var Jm=/[\-:]([a-z])/g;function Zm(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Jm,Zm);At[e]=new Jt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Jm,Zm);At[e]=new Jt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Jm,Zm);At[e]=new Jt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){At[t]=new Jt(t,1,!1,t.toLowerCase(),null,!1,!1)});At.xlinkHref=new Jt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){At[t]=new Jt(t,1,!1,t.toLowerCase(),null,!0,!0)});function eg(t,e,n,r){var i=At.hasOwnProperty(e)?At[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(Jx(e,n,i,r)&&(n=null),r||i===null?Qx(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Or=Kx.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Iu=Symbol.for("react.element"),qs=Symbol.for("react.portal"),Gs=Symbol.for("react.fragment"),tg=Symbol.for("react.strict_mode"),sp=Symbol.for("react.profiler"),$E=Symbol.for("react.provider"),zE=Symbol.for("react.context"),ng=Symbol.for("react.forward_ref"),op=Symbol.for("react.suspense"),ap=Symbol.for("react.suspense_list"),rg=Symbol.for("react.memo"),Gr=Symbol.for("react.lazy"),WE=Symbol.for("react.offscreen"),v0=Symbol.iterator;function ma(t){return t===null||typeof t!="object"?null:(t=v0&&t[v0]||t["@@iterator"],typeof t=="function"?t:null)}var We=Object.assign,Zh;function Oa(t){if(Zh===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Zh=e&&e[1]||""}return`
`+Zh+t}var ef=!1;function tf(t,e){if(!t||ef)return"";ef=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{ef=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Oa(t):""}function Zx(t){switch(t.tag){case 5:return Oa(t.type);case 16:return Oa("Lazy");case 13:return Oa("Suspense");case 19:return Oa("SuspenseList");case 0:case 2:case 15:return t=tf(t.type,!1),t;case 11:return t=tf(t.type.render,!1),t;case 1:return t=tf(t.type,!0),t;default:return""}}function lp(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Gs:return"Fragment";case qs:return"Portal";case sp:return"Profiler";case tg:return"StrictMode";case op:return"Suspense";case ap:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case zE:return(t.displayName||"Context")+".Consumer";case $E:return(t._context.displayName||"Context")+".Provider";case ng:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case rg:return e=t.displayName||null,e!==null?e:lp(t.type)||"Memo";case Gr:e=t._payload,t=t._init;try{return lp(t(e))}catch{}}return null}function ek(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return lp(e);case 8:return e===tg?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Ei(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function HE(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function tk(t){var e=HE(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Au(t){t._valueTracker||(t._valueTracker=tk(t))}function qE(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=HE(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Ac(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function up(t,e){var n=e.checked;return We({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function w0(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Ei(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function GE(t,e){e=e.checked,e!=null&&eg(t,"checked",e,!1)}function cp(t,e){GE(t,e);var n=Ei(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?dp(t,e.type,n):e.hasOwnProperty("defaultValue")&&dp(t,e.type,Ei(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function _0(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function dp(t,e,n){(e!=="number"||Ac(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Va=Array.isArray;function co(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Ei(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function hp(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(B(91));return We({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function T0(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(B(92));if(Va(n)){if(1<n.length)throw Error(B(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Ei(n)}}function KE(t,e){var n=Ei(e.value),r=Ei(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function E0(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function YE(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function fp(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?YE(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Ru,QE=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Ru=Ru||document.createElement("div"),Ru.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Ru.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function dl(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Ha={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},nk=["Webkit","ms","Moz","O"];Object.keys(Ha).forEach(function(t){nk.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Ha[e]=Ha[t]})});function XE(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Ha.hasOwnProperty(t)&&Ha[t]?(""+e).trim():e+"px"}function JE(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=XE(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var rk=We({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function pp(t,e){if(e){if(rk[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(B(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(B(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(B(61))}if(e.style!=null&&typeof e.style!="object")throw Error(B(62))}}function mp(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var gp=null;function ig(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var yp=null,ho=null,fo=null;function P0(t){if(t=Hl(t)){if(typeof yp!="function")throw Error(B(280));var e=t.stateNode;e&&(e=jd(e),yp(t.stateNode,t.type,e))}}function ZE(t){ho?fo?fo.push(t):fo=[t]:ho=t}function e1(){if(ho){var t=ho,e=fo;if(fo=ho=null,P0(t),e)for(t=0;t<e.length;t++)P0(e[t])}}function t1(t,e){return t(e)}function n1(){}var nf=!1;function r1(t,e,n){if(nf)return t(e,n);nf=!0;try{return t1(t,e,n)}finally{nf=!1,(ho!==null||fo!==null)&&(n1(),e1())}}function hl(t,e){var n=t.stateNode;if(n===null)return null;var r=jd(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(B(231,e,typeof n));return n}var vp=!1;if(Sr)try{var ga={};Object.defineProperty(ga,"passive",{get:function(){vp=!0}}),window.addEventListener("test",ga,ga),window.removeEventListener("test",ga,ga)}catch{vp=!1}function ik(t,e,n,r,i,s,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(d){this.onError(d)}}var qa=!1,Rc=null,xc=!1,wp=null,sk={onError:function(t){qa=!0,Rc=t}};function ok(t,e,n,r,i,s,o,a,l){qa=!1,Rc=null,ik.apply(sk,arguments)}function ak(t,e,n,r,i,s,o,a,l){if(ok.apply(this,arguments),qa){if(qa){var c=Rc;qa=!1,Rc=null}else throw Error(B(198));xc||(xc=!0,wp=c)}}function Ps(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function i1(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function S0(t){if(Ps(t)!==t)throw Error(B(188))}function lk(t){var e=t.alternate;if(!e){if(e=Ps(t),e===null)throw Error(B(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return S0(i),t;if(s===r)return S0(i),e;s=s.sibling}throw Error(B(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(B(189))}}if(n.alternate!==r)throw Error(B(190))}if(n.tag!==3)throw Error(B(188));return n.stateNode.current===n?t:e}function s1(t){return t=lk(t),t!==null?o1(t):null}function o1(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=o1(t);if(e!==null)return e;t=t.sibling}return null}var a1=vn.unstable_scheduleCallback,C0=vn.unstable_cancelCallback,uk=vn.unstable_shouldYield,ck=vn.unstable_requestPaint,et=vn.unstable_now,dk=vn.unstable_getCurrentPriorityLevel,sg=vn.unstable_ImmediatePriority,l1=vn.unstable_UserBlockingPriority,kc=vn.unstable_NormalPriority,hk=vn.unstable_LowPriority,u1=vn.unstable_IdlePriority,Md=null,Xn=null;function fk(t){if(Xn&&typeof Xn.onCommitFiberRoot=="function")try{Xn.onCommitFiberRoot(Md,t,void 0,(t.current.flags&128)===128)}catch{}}var Un=Math.clz32?Math.clz32:gk,pk=Math.log,mk=Math.LN2;function gk(t){return t>>>=0,t===0?32:31-(pk(t)/mk|0)|0}var xu=64,ku=4194304;function Ma(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function bc(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=Ma(a):(s&=o,s!==0&&(r=Ma(s)))}else o=n&~i,o!==0?r=Ma(o):s!==0&&(r=Ma(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Un(e),i=1<<n,r|=t[n],e&=~i;return r}function yk(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function vk(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-Un(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=yk(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function _p(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function c1(){var t=xu;return xu<<=1,!(xu&4194240)&&(xu=64),t}function rf(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function zl(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Un(e),t[e]=n}function wk(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Un(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function og(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Un(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Ae=0;function d1(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var h1,ag,f1,p1,m1,Tp=!1,bu=[],oi=null,ai=null,li=null,fl=new Map,pl=new Map,Qr=[],_k="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function I0(t,e){switch(t){case"focusin":case"focusout":oi=null;break;case"dragenter":case"dragleave":ai=null;break;case"mouseover":case"mouseout":li=null;break;case"pointerover":case"pointerout":fl.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":pl.delete(e.pointerId)}}function ya(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=Hl(e),e!==null&&ag(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function Tk(t,e,n,r,i){switch(e){case"focusin":return oi=ya(oi,t,e,n,r,i),!0;case"dragenter":return ai=ya(ai,t,e,n,r,i),!0;case"mouseover":return li=ya(li,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return fl.set(s,ya(fl.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,pl.set(s,ya(pl.get(s)||null,t,e,n,r,i)),!0}return!1}function g1(t){var e=Zi(t.target);if(e!==null){var n=Ps(e);if(n!==null){if(e=n.tag,e===13){if(e=i1(n),e!==null){t.blockedOn=e,m1(t.priority,function(){f1(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function sc(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Ep(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);gp=r,n.target.dispatchEvent(r),gp=null}else return e=Hl(n),e!==null&&ag(e),t.blockedOn=n,!1;e.shift()}return!0}function A0(t,e,n){sc(t)&&n.delete(e)}function Ek(){Tp=!1,oi!==null&&sc(oi)&&(oi=null),ai!==null&&sc(ai)&&(ai=null),li!==null&&sc(li)&&(li=null),fl.forEach(A0),pl.forEach(A0)}function va(t,e){t.blockedOn===e&&(t.blockedOn=null,Tp||(Tp=!0,vn.unstable_scheduleCallback(vn.unstable_NormalPriority,Ek)))}function ml(t){function e(i){return va(i,t)}if(0<bu.length){va(bu[0],t);for(var n=1;n<bu.length;n++){var r=bu[n];r.blockedOn===t&&(r.blockedOn=null)}}for(oi!==null&&va(oi,t),ai!==null&&va(ai,t),li!==null&&va(li,t),fl.forEach(e),pl.forEach(e),n=0;n<Qr.length;n++)r=Qr[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Qr.length&&(n=Qr[0],n.blockedOn===null);)g1(n),n.blockedOn===null&&Qr.shift()}var po=Or.ReactCurrentBatchConfig,Dc=!0;function Pk(t,e,n,r){var i=Ae,s=po.transition;po.transition=null;try{Ae=1,lg(t,e,n,r)}finally{Ae=i,po.transition=s}}function Sk(t,e,n,r){var i=Ae,s=po.transition;po.transition=null;try{Ae=4,lg(t,e,n,r)}finally{Ae=i,po.transition=s}}function lg(t,e,n,r){if(Dc){var i=Ep(t,e,n,r);if(i===null)pf(t,e,r,Nc,n),I0(t,r);else if(Tk(i,t,e,n,r))r.stopPropagation();else if(I0(t,r),e&4&&-1<_k.indexOf(t)){for(;i!==null;){var s=Hl(i);if(s!==null&&h1(s),s=Ep(t,e,n,r),s===null&&pf(t,e,r,Nc,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else pf(t,e,r,null,n)}}var Nc=null;function Ep(t,e,n,r){if(Nc=null,t=ig(r),t=Zi(t),t!==null)if(e=Ps(t),e===null)t=null;else if(n=e.tag,n===13){if(t=i1(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Nc=t,null}function y1(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(dk()){case sg:return 1;case l1:return 4;case kc:case hk:return 16;case u1:return 536870912;default:return 16}default:return 16}}var ni=null,ug=null,oc=null;function v1(){if(oc)return oc;var t,e=ug,n=e.length,r,i="value"in ni?ni.value:ni.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return oc=i.slice(t,1<r?1-r:void 0)}function ac(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Du(){return!0}function R0(){return!1}function Tn(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Du:R0,this.isPropagationStopped=R0,this}return We(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Du)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Du)},persist:function(){},isPersistent:Du}),e}var $o={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},cg=Tn($o),Wl=We({},$o,{view:0,detail:0}),Ck=Tn(Wl),sf,of,wa,Ld=We({},Wl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:dg,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==wa&&(wa&&t.type==="mousemove"?(sf=t.screenX-wa.screenX,of=t.screenY-wa.screenY):of=sf=0,wa=t),sf)},movementY:function(t){return"movementY"in t?t.movementY:of}}),x0=Tn(Ld),Ik=We({},Ld,{dataTransfer:0}),Ak=Tn(Ik),Rk=We({},Wl,{relatedTarget:0}),af=Tn(Rk),xk=We({},$o,{animationName:0,elapsedTime:0,pseudoElement:0}),kk=Tn(xk),bk=We({},$o,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Dk=Tn(bk),Nk=We({},$o,{data:0}),k0=Tn(Nk),Ok={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Vk={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Mk={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Lk(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Mk[t])?!!e[t]:!1}function dg(){return Lk}var Fk=We({},Wl,{key:function(t){if(t.key){var e=Ok[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=ac(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Vk[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:dg,charCode:function(t){return t.type==="keypress"?ac(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?ac(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Uk=Tn(Fk),jk=We({},Ld,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),b0=Tn(jk),Bk=We({},Wl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:dg}),$k=Tn(Bk),zk=We({},$o,{propertyName:0,elapsedTime:0,pseudoElement:0}),Wk=Tn(zk),Hk=We({},Ld,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),qk=Tn(Hk),Gk=[9,13,27,32],hg=Sr&&"CompositionEvent"in window,Ga=null;Sr&&"documentMode"in document&&(Ga=document.documentMode);var Kk=Sr&&"TextEvent"in window&&!Ga,w1=Sr&&(!hg||Ga&&8<Ga&&11>=Ga),D0=String.fromCharCode(32),N0=!1;function _1(t,e){switch(t){case"keyup":return Gk.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function T1(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ks=!1;function Yk(t,e){switch(t){case"compositionend":return T1(e);case"keypress":return e.which!==32?null:(N0=!0,D0);case"textInput":return t=e.data,t===D0&&N0?null:t;default:return null}}function Qk(t,e){if(Ks)return t==="compositionend"||!hg&&_1(t,e)?(t=v1(),oc=ug=ni=null,Ks=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return w1&&e.locale!=="ko"?null:e.data;default:return null}}var Xk={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function O0(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!Xk[t.type]:e==="textarea"}function E1(t,e,n,r){ZE(r),e=Oc(e,"onChange"),0<e.length&&(n=new cg("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Ka=null,gl=null;function Jk(t){N1(t,0)}function Fd(t){var e=Xs(t);if(qE(e))return t}function Zk(t,e){if(t==="change")return e}var P1=!1;if(Sr){var lf;if(Sr){var uf="oninput"in document;if(!uf){var V0=document.createElement("div");V0.setAttribute("oninput","return;"),uf=typeof V0.oninput=="function"}lf=uf}else lf=!1;P1=lf&&(!document.documentMode||9<document.documentMode)}function M0(){Ka&&(Ka.detachEvent("onpropertychange",S1),gl=Ka=null)}function S1(t){if(t.propertyName==="value"&&Fd(gl)){var e=[];E1(e,gl,t,ig(t)),r1(Jk,e)}}function eb(t,e,n){t==="focusin"?(M0(),Ka=e,gl=n,Ka.attachEvent("onpropertychange",S1)):t==="focusout"&&M0()}function tb(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Fd(gl)}function nb(t,e){if(t==="click")return Fd(e)}function rb(t,e){if(t==="input"||t==="change")return Fd(e)}function ib(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Bn=typeof Object.is=="function"?Object.is:ib;function yl(t,e){if(Bn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!ip.call(e,i)||!Bn(t[i],e[i]))return!1}return!0}function L0(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function F0(t,e){var n=L0(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=L0(n)}}function C1(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?C1(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function I1(){for(var t=window,e=Ac();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Ac(t.document)}return e}function fg(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function sb(t){var e=I1(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&C1(n.ownerDocument.documentElement,n)){if(r!==null&&fg(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=F0(n,s);var o=F0(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var ob=Sr&&"documentMode"in document&&11>=document.documentMode,Ys=null,Pp=null,Ya=null,Sp=!1;function U0(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Sp||Ys==null||Ys!==Ac(r)||(r=Ys,"selectionStart"in r&&fg(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Ya&&yl(Ya,r)||(Ya=r,r=Oc(Pp,"onSelect"),0<r.length&&(e=new cg("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Ys)))}function Nu(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Qs={animationend:Nu("Animation","AnimationEnd"),animationiteration:Nu("Animation","AnimationIteration"),animationstart:Nu("Animation","AnimationStart"),transitionend:Nu("Transition","TransitionEnd")},cf={},A1={};Sr&&(A1=document.createElement("div").style,"AnimationEvent"in window||(delete Qs.animationend.animation,delete Qs.animationiteration.animation,delete Qs.animationstart.animation),"TransitionEvent"in window||delete Qs.transitionend.transition);function Ud(t){if(cf[t])return cf[t];if(!Qs[t])return t;var e=Qs[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in A1)return cf[t]=e[n];return t}var R1=Ud("animationend"),x1=Ud("animationiteration"),k1=Ud("animationstart"),b1=Ud("transitionend"),D1=new Map,j0="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ni(t,e){D1.set(t,e),Es(e,[t])}for(var df=0;df<j0.length;df++){var hf=j0[df],ab=hf.toLowerCase(),lb=hf[0].toUpperCase()+hf.slice(1);Ni(ab,"on"+lb)}Ni(R1,"onAnimationEnd");Ni(x1,"onAnimationIteration");Ni(k1,"onAnimationStart");Ni("dblclick","onDoubleClick");Ni("focusin","onFocus");Ni("focusout","onBlur");Ni(b1,"onTransitionEnd");Eo("onMouseEnter",["mouseout","mouseover"]);Eo("onMouseLeave",["mouseout","mouseover"]);Eo("onPointerEnter",["pointerout","pointerover"]);Eo("onPointerLeave",["pointerout","pointerover"]);Es("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Es("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Es("onBeforeInput",["compositionend","keypress","textInput","paste"]);Es("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Es("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Es("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var La="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ub=new Set("cancel close invalid load scroll toggle".split(" ").concat(La));function B0(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,ak(r,e,void 0,t),t.currentTarget=null}function N1(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;B0(i,a,c),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;B0(i,a,c),s=l}}}if(xc)throw t=wp,xc=!1,wp=null,t}function Ne(t,e){var n=e[xp];n===void 0&&(n=e[xp]=new Set);var r=t+"__bubble";n.has(r)||(O1(e,t,2,!1),n.add(r))}function ff(t,e,n){var r=0;e&&(r|=4),O1(n,t,r,e)}var Ou="_reactListening"+Math.random().toString(36).slice(2);function vl(t){if(!t[Ou]){t[Ou]=!0,BE.forEach(function(n){n!=="selectionchange"&&(ub.has(n)||ff(n,!1,t),ff(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Ou]||(e[Ou]=!0,ff("selectionchange",!1,e))}}function O1(t,e,n,r){switch(y1(e)){case 1:var i=Pk;break;case 4:i=Sk;break;default:i=lg}n=i.bind(null,e,n,t),i=void 0,!vp||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function pf(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=Zi(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}r1(function(){var c=s,d=ig(n),h=[];e:{var p=D1.get(t);if(p!==void 0){var g=cg,T=t;switch(t){case"keypress":if(ac(n)===0)break e;case"keydown":case"keyup":g=Uk;break;case"focusin":T="focus",g=af;break;case"focusout":T="blur",g=af;break;case"beforeblur":case"afterblur":g=af;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=x0;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=Ak;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=$k;break;case R1:case x1:case k1:g=kk;break;case b1:g=Wk;break;case"scroll":g=Ck;break;case"wheel":g=qk;break;case"copy":case"cut":case"paste":g=Dk;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=b0}var E=(e&4)!==0,A=!E&&t==="scroll",w=E?p!==null?p+"Capture":null:p;E=[];for(var y=c,_;y!==null;){_=y;var b=_.stateNode;if(_.tag===5&&b!==null&&(_=b,w!==null&&(b=hl(y,w),b!=null&&E.push(wl(y,b,_)))),A)break;y=y.return}0<E.length&&(p=new g(p,T,null,n,d),h.push({event:p,listeners:E}))}}if(!(e&7)){e:{if(p=t==="mouseover"||t==="pointerover",g=t==="mouseout"||t==="pointerout",p&&n!==gp&&(T=n.relatedTarget||n.fromElement)&&(Zi(T)||T[Cr]))break e;if((g||p)&&(p=d.window===d?d:(p=d.ownerDocument)?p.defaultView||p.parentWindow:window,g?(T=n.relatedTarget||n.toElement,g=c,T=T?Zi(T):null,T!==null&&(A=Ps(T),T!==A||T.tag!==5&&T.tag!==6)&&(T=null)):(g=null,T=c),g!==T)){if(E=x0,b="onMouseLeave",w="onMouseEnter",y="mouse",(t==="pointerout"||t==="pointerover")&&(E=b0,b="onPointerLeave",w="onPointerEnter",y="pointer"),A=g==null?p:Xs(g),_=T==null?p:Xs(T),p=new E(b,y+"leave",g,n,d),p.target=A,p.relatedTarget=_,b=null,Zi(d)===c&&(E=new E(w,y+"enter",T,n,d),E.target=_,E.relatedTarget=A,b=E),A=b,g&&T)t:{for(E=g,w=T,y=0,_=E;_;_=Fs(_))y++;for(_=0,b=w;b;b=Fs(b))_++;for(;0<y-_;)E=Fs(E),y--;for(;0<_-y;)w=Fs(w),_--;for(;y--;){if(E===w||w!==null&&E===w.alternate)break t;E=Fs(E),w=Fs(w)}E=null}else E=null;g!==null&&$0(h,p,g,E,!1),T!==null&&A!==null&&$0(h,A,T,E,!0)}}e:{if(p=c?Xs(c):window,g=p.nodeName&&p.nodeName.toLowerCase(),g==="select"||g==="input"&&p.type==="file")var O=Zk;else if(O0(p))if(P1)O=rb;else{O=tb;var V=eb}else(g=p.nodeName)&&g.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(O=nb);if(O&&(O=O(t,c))){E1(h,O,n,d);break e}V&&V(t,p,c),t==="focusout"&&(V=p._wrapperState)&&V.controlled&&p.type==="number"&&dp(p,"number",p.value)}switch(V=c?Xs(c):window,t){case"focusin":(O0(V)||V.contentEditable==="true")&&(Ys=V,Pp=c,Ya=null);break;case"focusout":Ya=Pp=Ys=null;break;case"mousedown":Sp=!0;break;case"contextmenu":case"mouseup":case"dragend":Sp=!1,U0(h,n,d);break;case"selectionchange":if(ob)break;case"keydown":case"keyup":U0(h,n,d)}var C;if(hg)e:{switch(t){case"compositionstart":var v="onCompositionStart";break e;case"compositionend":v="onCompositionEnd";break e;case"compositionupdate":v="onCompositionUpdate";break e}v=void 0}else Ks?_1(t,n)&&(v="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(v="onCompositionStart");v&&(w1&&n.locale!=="ko"&&(Ks||v!=="onCompositionStart"?v==="onCompositionEnd"&&Ks&&(C=v1()):(ni=d,ug="value"in ni?ni.value:ni.textContent,Ks=!0)),V=Oc(c,v),0<V.length&&(v=new k0(v,t,null,n,d),h.push({event:v,listeners:V}),C?v.data=C:(C=T1(n),C!==null&&(v.data=C)))),(C=Kk?Yk(t,n):Qk(t,n))&&(c=Oc(c,"onBeforeInput"),0<c.length&&(d=new k0("onBeforeInput","beforeinput",null,n,d),h.push({event:d,listeners:c}),d.data=C))}N1(h,e)})}function wl(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Oc(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=hl(t,n),s!=null&&r.unshift(wl(t,s,i)),s=hl(t,e),s!=null&&r.push(wl(t,s,i))),t=t.return}return r}function Fs(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function $0(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,i?(l=hl(n,s),l!=null&&o.unshift(wl(n,l,a))):i||(l=hl(n,s),l!=null&&o.push(wl(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var cb=/\r\n?/g,db=/\u0000|\uFFFD/g;function z0(t){return(typeof t=="string"?t:""+t).replace(cb,`
`).replace(db,"")}function Vu(t,e,n){if(e=z0(e),z0(t)!==e&&n)throw Error(B(425))}function Vc(){}var Cp=null,Ip=null;function Ap(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Rp=typeof setTimeout=="function"?setTimeout:void 0,hb=typeof clearTimeout=="function"?clearTimeout:void 0,W0=typeof Promise=="function"?Promise:void 0,fb=typeof queueMicrotask=="function"?queueMicrotask:typeof W0<"u"?function(t){return W0.resolve(null).then(t).catch(pb)}:Rp;function pb(t){setTimeout(function(){throw t})}function mf(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),ml(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);ml(e)}function ui(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function H0(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var zo=Math.random().toString(36).slice(2),Kn="__reactFiber$"+zo,_l="__reactProps$"+zo,Cr="__reactContainer$"+zo,xp="__reactEvents$"+zo,mb="__reactListeners$"+zo,gb="__reactHandles$"+zo;function Zi(t){var e=t[Kn];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Cr]||n[Kn]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=H0(t);t!==null;){if(n=t[Kn])return n;t=H0(t)}return e}t=n,n=t.parentNode}return null}function Hl(t){return t=t[Kn]||t[Cr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Xs(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(B(33))}function jd(t){return t[_l]||null}var kp=[],Js=-1;function Oi(t){return{current:t}}function Me(t){0>Js||(t.current=kp[Js],kp[Js]=null,Js--)}function xe(t,e){Js++,kp[Js]=t.current,t.current=e}var Pi={},jt=Oi(Pi),on=Oi(!1),ls=Pi;function Po(t,e){var n=t.type.contextTypes;if(!n)return Pi;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function an(t){return t=t.childContextTypes,t!=null}function Mc(){Me(on),Me(jt)}function q0(t,e,n){if(jt.current!==Pi)throw Error(B(168));xe(jt,e),xe(on,n)}function V1(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(B(108,ek(t)||"Unknown",i));return We({},n,r)}function Lc(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Pi,ls=jt.current,xe(jt,t),xe(on,on.current),!0}function G0(t,e,n){var r=t.stateNode;if(!r)throw Error(B(169));n?(t=V1(t,e,ls),r.__reactInternalMemoizedMergedChildContext=t,Me(on),Me(jt),xe(jt,t)):Me(on),xe(on,n)}var pr=null,Bd=!1,gf=!1;function M1(t){pr===null?pr=[t]:pr.push(t)}function yb(t){Bd=!0,M1(t)}function Vi(){if(!gf&&pr!==null){gf=!0;var t=0,e=Ae;try{var n=pr;for(Ae=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}pr=null,Bd=!1}catch(i){throw pr!==null&&(pr=pr.slice(t+1)),a1(sg,Vi),i}finally{Ae=e,gf=!1}}return null}var Zs=[],eo=0,Fc=null,Uc=0,Sn=[],Cn=0,us=null,mr=1,gr="";function Gi(t,e){Zs[eo++]=Uc,Zs[eo++]=Fc,Fc=t,Uc=e}function L1(t,e,n){Sn[Cn++]=mr,Sn[Cn++]=gr,Sn[Cn++]=us,us=t;var r=mr;t=gr;var i=32-Un(r)-1;r&=~(1<<i),n+=1;var s=32-Un(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,mr=1<<32-Un(e)+i|n<<i|r,gr=s+t}else mr=1<<s|n<<i|r,gr=t}function pg(t){t.return!==null&&(Gi(t,1),L1(t,1,0))}function mg(t){for(;t===Fc;)Fc=Zs[--eo],Zs[eo]=null,Uc=Zs[--eo],Zs[eo]=null;for(;t===us;)us=Sn[--Cn],Sn[Cn]=null,gr=Sn[--Cn],Sn[Cn]=null,mr=Sn[--Cn],Sn[Cn]=null}var yn=null,pn=null,Fe=!1,Ln=null;function F1(t,e){var n=An(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function K0(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,yn=t,pn=ui(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,yn=t,pn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=us!==null?{id:mr,overflow:gr}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=An(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,yn=t,pn=null,!0):!1;default:return!1}}function bp(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Dp(t){if(Fe){var e=pn;if(e){var n=e;if(!K0(t,e)){if(bp(t))throw Error(B(418));e=ui(n.nextSibling);var r=yn;e&&K0(t,e)?F1(r,n):(t.flags=t.flags&-4097|2,Fe=!1,yn=t)}}else{if(bp(t))throw Error(B(418));t.flags=t.flags&-4097|2,Fe=!1,yn=t}}}function Y0(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;yn=t}function Mu(t){if(t!==yn)return!1;if(!Fe)return Y0(t),Fe=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Ap(t.type,t.memoizedProps)),e&&(e=pn)){if(bp(t))throw U1(),Error(B(418));for(;e;)F1(t,e),e=ui(e.nextSibling)}if(Y0(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(B(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){pn=ui(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}pn=null}}else pn=yn?ui(t.stateNode.nextSibling):null;return!0}function U1(){for(var t=pn;t;)t=ui(t.nextSibling)}function So(){pn=yn=null,Fe=!1}function gg(t){Ln===null?Ln=[t]:Ln.push(t)}var vb=Or.ReactCurrentBatchConfig;function _a(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(B(309));var r=n.stateNode}if(!r)throw Error(B(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(B(284));if(!n._owner)throw Error(B(290,t))}return t}function Lu(t,e){throw t=Object.prototype.toString.call(e),Error(B(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Q0(t){var e=t._init;return e(t._payload)}function j1(t){function e(w,y){if(t){var _=w.deletions;_===null?(w.deletions=[y],w.flags|=16):_.push(y)}}function n(w,y){if(!t)return null;for(;y!==null;)e(w,y),y=y.sibling;return null}function r(w,y){for(w=new Map;y!==null;)y.key!==null?w.set(y.key,y):w.set(y.index,y),y=y.sibling;return w}function i(w,y){return w=fi(w,y),w.index=0,w.sibling=null,w}function s(w,y,_){return w.index=_,t?(_=w.alternate,_!==null?(_=_.index,_<y?(w.flags|=2,y):_):(w.flags|=2,y)):(w.flags|=1048576,y)}function o(w){return t&&w.alternate===null&&(w.flags|=2),w}function a(w,y,_,b){return y===null||y.tag!==6?(y=Pf(_,w.mode,b),y.return=w,y):(y=i(y,_),y.return=w,y)}function l(w,y,_,b){var O=_.type;return O===Gs?d(w,y,_.props.children,b,_.key):y!==null&&(y.elementType===O||typeof O=="object"&&O!==null&&O.$$typeof===Gr&&Q0(O)===y.type)?(b=i(y,_.props),b.ref=_a(w,y,_),b.return=w,b):(b=pc(_.type,_.key,_.props,null,w.mode,b),b.ref=_a(w,y,_),b.return=w,b)}function c(w,y,_,b){return y===null||y.tag!==4||y.stateNode.containerInfo!==_.containerInfo||y.stateNode.implementation!==_.implementation?(y=Sf(_,w.mode,b),y.return=w,y):(y=i(y,_.children||[]),y.return=w,y)}function d(w,y,_,b,O){return y===null||y.tag!==7?(y=os(_,w.mode,b,O),y.return=w,y):(y=i(y,_),y.return=w,y)}function h(w,y,_){if(typeof y=="string"&&y!==""||typeof y=="number")return y=Pf(""+y,w.mode,_),y.return=w,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Iu:return _=pc(y.type,y.key,y.props,null,w.mode,_),_.ref=_a(w,null,y),_.return=w,_;case qs:return y=Sf(y,w.mode,_),y.return=w,y;case Gr:var b=y._init;return h(w,b(y._payload),_)}if(Va(y)||ma(y))return y=os(y,w.mode,_,null),y.return=w,y;Lu(w,y)}return null}function p(w,y,_,b){var O=y!==null?y.key:null;if(typeof _=="string"&&_!==""||typeof _=="number")return O!==null?null:a(w,y,""+_,b);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Iu:return _.key===O?l(w,y,_,b):null;case qs:return _.key===O?c(w,y,_,b):null;case Gr:return O=_._init,p(w,y,O(_._payload),b)}if(Va(_)||ma(_))return O!==null?null:d(w,y,_,b,null);Lu(w,_)}return null}function g(w,y,_,b,O){if(typeof b=="string"&&b!==""||typeof b=="number")return w=w.get(_)||null,a(y,w,""+b,O);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Iu:return w=w.get(b.key===null?_:b.key)||null,l(y,w,b,O);case qs:return w=w.get(b.key===null?_:b.key)||null,c(y,w,b,O);case Gr:var V=b._init;return g(w,y,_,V(b._payload),O)}if(Va(b)||ma(b))return w=w.get(_)||null,d(y,w,b,O,null);Lu(y,b)}return null}function T(w,y,_,b){for(var O=null,V=null,C=y,v=y=0,S=null;C!==null&&v<_.length;v++){C.index>v?(S=C,C=null):S=C.sibling;var I=p(w,C,_[v],b);if(I===null){C===null&&(C=S);break}t&&C&&I.alternate===null&&e(w,C),y=s(I,y,v),V===null?O=I:V.sibling=I,V=I,C=S}if(v===_.length)return n(w,C),Fe&&Gi(w,v),O;if(C===null){for(;v<_.length;v++)C=h(w,_[v],b),C!==null&&(y=s(C,y,v),V===null?O=C:V.sibling=C,V=C);return Fe&&Gi(w,v),O}for(C=r(w,C);v<_.length;v++)S=g(C,w,v,_[v],b),S!==null&&(t&&S.alternate!==null&&C.delete(S.key===null?v:S.key),y=s(S,y,v),V===null?O=S:V.sibling=S,V=S);return t&&C.forEach(function(D){return e(w,D)}),Fe&&Gi(w,v),O}function E(w,y,_,b){var O=ma(_);if(typeof O!="function")throw Error(B(150));if(_=O.call(_),_==null)throw Error(B(151));for(var V=O=null,C=y,v=y=0,S=null,I=_.next();C!==null&&!I.done;v++,I=_.next()){C.index>v?(S=C,C=null):S=C.sibling;var D=p(w,C,I.value,b);if(D===null){C===null&&(C=S);break}t&&C&&D.alternate===null&&e(w,C),y=s(D,y,v),V===null?O=D:V.sibling=D,V=D,C=S}if(I.done)return n(w,C),Fe&&Gi(w,v),O;if(C===null){for(;!I.done;v++,I=_.next())I=h(w,I.value,b),I!==null&&(y=s(I,y,v),V===null?O=I:V.sibling=I,V=I);return Fe&&Gi(w,v),O}for(C=r(w,C);!I.done;v++,I=_.next())I=g(C,w,v,I.value,b),I!==null&&(t&&I.alternate!==null&&C.delete(I.key===null?v:I.key),y=s(I,y,v),V===null?O=I:V.sibling=I,V=I);return t&&C.forEach(function(k){return e(w,k)}),Fe&&Gi(w,v),O}function A(w,y,_,b){if(typeof _=="object"&&_!==null&&_.type===Gs&&_.key===null&&(_=_.props.children),typeof _=="object"&&_!==null){switch(_.$$typeof){case Iu:e:{for(var O=_.key,V=y;V!==null;){if(V.key===O){if(O=_.type,O===Gs){if(V.tag===7){n(w,V.sibling),y=i(V,_.props.children),y.return=w,w=y;break e}}else if(V.elementType===O||typeof O=="object"&&O!==null&&O.$$typeof===Gr&&Q0(O)===V.type){n(w,V.sibling),y=i(V,_.props),y.ref=_a(w,V,_),y.return=w,w=y;break e}n(w,V);break}else e(w,V);V=V.sibling}_.type===Gs?(y=os(_.props.children,w.mode,b,_.key),y.return=w,w=y):(b=pc(_.type,_.key,_.props,null,w.mode,b),b.ref=_a(w,y,_),b.return=w,w=b)}return o(w);case qs:e:{for(V=_.key;y!==null;){if(y.key===V)if(y.tag===4&&y.stateNode.containerInfo===_.containerInfo&&y.stateNode.implementation===_.implementation){n(w,y.sibling),y=i(y,_.children||[]),y.return=w,w=y;break e}else{n(w,y);break}else e(w,y);y=y.sibling}y=Sf(_,w.mode,b),y.return=w,w=y}return o(w);case Gr:return V=_._init,A(w,y,V(_._payload),b)}if(Va(_))return T(w,y,_,b);if(ma(_))return E(w,y,_,b);Lu(w,_)}return typeof _=="string"&&_!==""||typeof _=="number"?(_=""+_,y!==null&&y.tag===6?(n(w,y.sibling),y=i(y,_),y.return=w,w=y):(n(w,y),y=Pf(_,w.mode,b),y.return=w,w=y),o(w)):n(w,y)}return A}var Co=j1(!0),B1=j1(!1),jc=Oi(null),Bc=null,to=null,yg=null;function vg(){yg=to=Bc=null}function wg(t){var e=jc.current;Me(jc),t._currentValue=e}function Np(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function mo(t,e){Bc=t,yg=to=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(sn=!0),t.firstContext=null)}function kn(t){var e=t._currentValue;if(yg!==t)if(t={context:t,memoizedValue:e,next:null},to===null){if(Bc===null)throw Error(B(308));to=t,Bc.dependencies={lanes:0,firstContext:t}}else to=to.next=t;return e}var es=null;function _g(t){es===null?es=[t]:es.push(t)}function $1(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,_g(e)):(n.next=i.next,i.next=n),e.interleaved=n,Ir(t,r)}function Ir(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Kr=!1;function Tg(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function z1(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function _r(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function ci(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,ve&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Ir(t,n)}return i=r.interleaved,i===null?(e.next=e,_g(r)):(e.next=i.next,i.next=e),r.interleaved=e,Ir(t,n)}function lc(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,og(t,n)}}function X0(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function $c(t,e,n,r){var i=t.updateQueue;Kr=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?s=c:o.next=c,o=l;var d=t.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=c:a.next=c,d.lastBaseUpdate=l))}if(s!==null){var h=i.baseState;o=0,d=c=l=null,a=s;do{var p=a.lane,g=a.eventTime;if((r&p)===p){d!==null&&(d=d.next={eventTime:g,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var T=t,E=a;switch(p=e,g=n,E.tag){case 1:if(T=E.payload,typeof T=="function"){h=T.call(g,h,p);break e}h=T;break e;case 3:T.flags=T.flags&-65537|128;case 0:if(T=E.payload,p=typeof T=="function"?T.call(g,h,p):T,p==null)break e;h=We({},h,p);break e;case 2:Kr=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,p=i.effects,p===null?i.effects=[a]:p.push(a))}else g={eventTime:g,lane:p,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(c=d=g,l=h):d=d.next=g,o|=p;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;p=a,a=p.next,p.next=null,i.lastBaseUpdate=p,i.shared.pending=null}}while(1);if(d===null&&(l=h),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=d,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);ds|=o,t.lanes=o,t.memoizedState=h}}function J0(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(B(191,i));i.call(r)}}}var ql={},Jn=Oi(ql),Tl=Oi(ql),El=Oi(ql);function ts(t){if(t===ql)throw Error(B(174));return t}function Eg(t,e){switch(xe(El,e),xe(Tl,t),xe(Jn,ql),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:fp(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=fp(e,t)}Me(Jn),xe(Jn,e)}function Io(){Me(Jn),Me(Tl),Me(El)}function W1(t){ts(El.current);var e=ts(Jn.current),n=fp(e,t.type);e!==n&&(xe(Tl,t),xe(Jn,n))}function Pg(t){Tl.current===t&&(Me(Jn),Me(Tl))}var Ue=Oi(0);function zc(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var yf=[];function Sg(){for(var t=0;t<yf.length;t++)yf[t]._workInProgressVersionPrimary=null;yf.length=0}var uc=Or.ReactCurrentDispatcher,vf=Or.ReactCurrentBatchConfig,cs=0,$e=null,dt=null,vt=null,Wc=!1,Qa=!1,Pl=0,wb=0;function Dt(){throw Error(B(321))}function Cg(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Bn(t[n],e[n]))return!1;return!0}function Ig(t,e,n,r,i,s){if(cs=s,$e=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,uc.current=t===null||t.memoizedState===null?Pb:Sb,t=n(r,i),Qa){s=0;do{if(Qa=!1,Pl=0,25<=s)throw Error(B(301));s+=1,vt=dt=null,e.updateQueue=null,uc.current=Cb,t=n(r,i)}while(Qa)}if(uc.current=Hc,e=dt!==null&&dt.next!==null,cs=0,vt=dt=$e=null,Wc=!1,e)throw Error(B(300));return t}function Ag(){var t=Pl!==0;return Pl=0,t}function qn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return vt===null?$e.memoizedState=vt=t:vt=vt.next=t,vt}function bn(){if(dt===null){var t=$e.alternate;t=t!==null?t.memoizedState:null}else t=dt.next;var e=vt===null?$e.memoizedState:vt.next;if(e!==null)vt=e,dt=t;else{if(t===null)throw Error(B(310));dt=t,t={memoizedState:dt.memoizedState,baseState:dt.baseState,baseQueue:dt.baseQueue,queue:dt.queue,next:null},vt===null?$e.memoizedState=vt=t:vt=vt.next=t}return vt}function Sl(t,e){return typeof e=="function"?e(t):e}function wf(t){var e=bn(),n=e.queue;if(n===null)throw Error(B(311));n.lastRenderedReducer=t;var r=dt,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,c=s;do{var d=c.lane;if((cs&d)===d)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var h={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=h,o=r):l=l.next=h,$e.lanes|=d,ds|=d}c=c.next}while(c!==null&&c!==s);l===null?o=r:l.next=a,Bn(r,e.memoizedState)||(sn=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,$e.lanes|=s,ds|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function _f(t){var e=bn(),n=e.queue;if(n===null)throw Error(B(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);Bn(s,e.memoizedState)||(sn=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function H1(){}function q1(t,e){var n=$e,r=bn(),i=e(),s=!Bn(r.memoizedState,i);if(s&&(r.memoizedState=i,sn=!0),r=r.queue,Rg(Y1.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||vt!==null&&vt.memoizedState.tag&1){if(n.flags|=2048,Cl(9,K1.bind(null,n,r,i,e),void 0,null),_t===null)throw Error(B(349));cs&30||G1(n,e,i)}return i}function G1(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=$e.updateQueue,e===null?(e={lastEffect:null,stores:null},$e.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function K1(t,e,n,r){e.value=n,e.getSnapshot=r,Q1(e)&&X1(t)}function Y1(t,e,n){return n(function(){Q1(e)&&X1(t)})}function Q1(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Bn(t,n)}catch{return!0}}function X1(t){var e=Ir(t,1);e!==null&&jn(e,t,1,-1)}function Z0(t){var e=qn();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Sl,lastRenderedState:t},e.queue=t,t=t.dispatch=Eb.bind(null,$e,t),[e.memoizedState,t]}function Cl(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=$e.updateQueue,e===null?(e={lastEffect:null,stores:null},$e.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function J1(){return bn().memoizedState}function cc(t,e,n,r){var i=qn();$e.flags|=t,i.memoizedState=Cl(1|e,n,void 0,r===void 0?null:r)}function $d(t,e,n,r){var i=bn();r=r===void 0?null:r;var s=void 0;if(dt!==null){var o=dt.memoizedState;if(s=o.destroy,r!==null&&Cg(r,o.deps)){i.memoizedState=Cl(e,n,s,r);return}}$e.flags|=t,i.memoizedState=Cl(1|e,n,s,r)}function ew(t,e){return cc(8390656,8,t,e)}function Rg(t,e){return $d(2048,8,t,e)}function Z1(t,e){return $d(4,2,t,e)}function eP(t,e){return $d(4,4,t,e)}function tP(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function nP(t,e,n){return n=n!=null?n.concat([t]):null,$d(4,4,tP.bind(null,e,t),n)}function xg(){}function rP(t,e){var n=bn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Cg(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function iP(t,e){var n=bn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Cg(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function sP(t,e,n){return cs&21?(Bn(n,e)||(n=c1(),$e.lanes|=n,ds|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,sn=!0),t.memoizedState=n)}function _b(t,e){var n=Ae;Ae=n!==0&&4>n?n:4,t(!0);var r=vf.transition;vf.transition={};try{t(!1),e()}finally{Ae=n,vf.transition=r}}function oP(){return bn().memoizedState}function Tb(t,e,n){var r=hi(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},aP(t))lP(e,n);else if(n=$1(t,e,n,r),n!==null){var i=Qt();jn(n,t,r,i),uP(n,e,r)}}function Eb(t,e,n){var r=hi(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(aP(t))lP(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,Bn(a,o)){var l=e.interleaved;l===null?(i.next=i,_g(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=$1(t,e,i,r),n!==null&&(i=Qt(),jn(n,t,r,i),uP(n,e,r))}}function aP(t){var e=t.alternate;return t===$e||e!==null&&e===$e}function lP(t,e){Qa=Wc=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function uP(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,og(t,n)}}var Hc={readContext:kn,useCallback:Dt,useContext:Dt,useEffect:Dt,useImperativeHandle:Dt,useInsertionEffect:Dt,useLayoutEffect:Dt,useMemo:Dt,useReducer:Dt,useRef:Dt,useState:Dt,useDebugValue:Dt,useDeferredValue:Dt,useTransition:Dt,useMutableSource:Dt,useSyncExternalStore:Dt,useId:Dt,unstable_isNewReconciler:!1},Pb={readContext:kn,useCallback:function(t,e){return qn().memoizedState=[t,e===void 0?null:e],t},useContext:kn,useEffect:ew,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,cc(4194308,4,tP.bind(null,e,t),n)},useLayoutEffect:function(t,e){return cc(4194308,4,t,e)},useInsertionEffect:function(t,e){return cc(4,2,t,e)},useMemo:function(t,e){var n=qn();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=qn();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=Tb.bind(null,$e,t),[r.memoizedState,t]},useRef:function(t){var e=qn();return t={current:t},e.memoizedState=t},useState:Z0,useDebugValue:xg,useDeferredValue:function(t){return qn().memoizedState=t},useTransition:function(){var t=Z0(!1),e=t[0];return t=_b.bind(null,t[1]),qn().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=$e,i=qn();if(Fe){if(n===void 0)throw Error(B(407));n=n()}else{if(n=e(),_t===null)throw Error(B(349));cs&30||G1(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,ew(Y1.bind(null,r,s,t),[t]),r.flags|=2048,Cl(9,K1.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=qn(),e=_t.identifierPrefix;if(Fe){var n=gr,r=mr;n=(r&~(1<<32-Un(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Pl++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=wb++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},Sb={readContext:kn,useCallback:rP,useContext:kn,useEffect:Rg,useImperativeHandle:nP,useInsertionEffect:Z1,useLayoutEffect:eP,useMemo:iP,useReducer:wf,useRef:J1,useState:function(){return wf(Sl)},useDebugValue:xg,useDeferredValue:function(t){var e=bn();return sP(e,dt.memoizedState,t)},useTransition:function(){var t=wf(Sl)[0],e=bn().memoizedState;return[t,e]},useMutableSource:H1,useSyncExternalStore:q1,useId:oP,unstable_isNewReconciler:!1},Cb={readContext:kn,useCallback:rP,useContext:kn,useEffect:Rg,useImperativeHandle:nP,useInsertionEffect:Z1,useLayoutEffect:eP,useMemo:iP,useReducer:_f,useRef:J1,useState:function(){return _f(Sl)},useDebugValue:xg,useDeferredValue:function(t){var e=bn();return dt===null?e.memoizedState=t:sP(e,dt.memoizedState,t)},useTransition:function(){var t=_f(Sl)[0],e=bn().memoizedState;return[t,e]},useMutableSource:H1,useSyncExternalStore:q1,useId:oP,unstable_isNewReconciler:!1};function Vn(t,e){if(t&&t.defaultProps){e=We({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Op(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:We({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var zd={isMounted:function(t){return(t=t._reactInternals)?Ps(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Qt(),i=hi(t),s=_r(r,i);s.payload=e,n!=null&&(s.callback=n),e=ci(t,s,i),e!==null&&(jn(e,t,i,r),lc(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Qt(),i=hi(t),s=_r(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=ci(t,s,i),e!==null&&(jn(e,t,i,r),lc(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Qt(),r=hi(t),i=_r(n,r);i.tag=2,e!=null&&(i.callback=e),e=ci(t,i,r),e!==null&&(jn(e,t,r,n),lc(e,t,r))}};function tw(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!yl(n,r)||!yl(i,s):!0}function cP(t,e,n){var r=!1,i=Pi,s=e.contextType;return typeof s=="object"&&s!==null?s=kn(s):(i=an(e)?ls:jt.current,r=e.contextTypes,s=(r=r!=null)?Po(t,i):Pi),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=zd,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function nw(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&zd.enqueueReplaceState(e,e.state,null)}function Vp(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},Tg(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=kn(s):(s=an(e)?ls:jt.current,i.context=Po(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(Op(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&zd.enqueueReplaceState(i,i.state,null),$c(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Ao(t,e){try{var n="",r=e;do n+=Zx(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function Tf(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Mp(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var Ib=typeof WeakMap=="function"?WeakMap:Map;function dP(t,e,n){n=_r(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Gc||(Gc=!0,qp=r),Mp(t,e)},n}function hP(t,e,n){n=_r(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){Mp(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){Mp(t,e),typeof r!="function"&&(di===null?di=new Set([this]):di.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function rw(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new Ib;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=jb.bind(null,t,e,n),e.then(t,t))}function iw(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function sw(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=_r(-1,1),e.tag=2,ci(n,e,1))),n.lanes|=1),t)}var Ab=Or.ReactCurrentOwner,sn=!1;function Yt(t,e,n,r){e.child=t===null?B1(e,null,n,r):Co(e,t.child,n,r)}function ow(t,e,n,r,i){n=n.render;var s=e.ref;return mo(e,i),r=Ig(t,e,n,r,s,i),n=Ag(),t!==null&&!sn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Ar(t,e,i)):(Fe&&n&&pg(e),e.flags|=1,Yt(t,e,r,i),e.child)}function aw(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!Lg(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,fP(t,e,s,r,i)):(t=pc(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:yl,n(o,r)&&t.ref===e.ref)return Ar(t,e,i)}return e.flags|=1,t=fi(s,r),t.ref=e.ref,t.return=e,e.child=t}function fP(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(yl(s,r)&&t.ref===e.ref)if(sn=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(sn=!0);else return e.lanes=t.lanes,Ar(t,e,i)}return Lp(t,e,n,r,i)}function pP(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},xe(ro,dn),dn|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,xe(ro,dn),dn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,xe(ro,dn),dn|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,xe(ro,dn),dn|=r;return Yt(t,e,i,n),e.child}function mP(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Lp(t,e,n,r,i){var s=an(n)?ls:jt.current;return s=Po(e,s),mo(e,i),n=Ig(t,e,n,r,s,i),r=Ag(),t!==null&&!sn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Ar(t,e,i)):(Fe&&r&&pg(e),e.flags|=1,Yt(t,e,n,i),e.child)}function lw(t,e,n,r,i){if(an(n)){var s=!0;Lc(e)}else s=!1;if(mo(e,i),e.stateNode===null)dc(t,e),cP(e,n,r),Vp(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=kn(c):(c=an(n)?ls:jt.current,c=Po(e,c));var d=n.getDerivedStateFromProps,h=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==c)&&nw(e,o,r,c),Kr=!1;var p=e.memoizedState;o.state=p,$c(e,r,o,i),l=e.memoizedState,a!==r||p!==l||on.current||Kr?(typeof d=="function"&&(Op(e,n,d,r),l=e.memoizedState),(a=Kr||tw(e,n,a,r,p,l,c))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,z1(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:Vn(e.type,a),o.props=c,h=e.pendingProps,p=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=kn(l):(l=an(n)?ls:jt.current,l=Po(e,l));var g=n.getDerivedStateFromProps;(d=typeof g=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||p!==l)&&nw(e,o,r,l),Kr=!1,p=e.memoizedState,o.state=p,$c(e,r,o,i);var T=e.memoizedState;a!==h||p!==T||on.current||Kr?(typeof g=="function"&&(Op(e,n,g,r),T=e.memoizedState),(c=Kr||tw(e,n,c,r,p,T,l)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,T,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,T,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=T),o.props=r,o.state=T,o.context=l,r=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),r=!1)}return Fp(t,e,n,r,s,i)}function Fp(t,e,n,r,i,s){mP(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&G0(e,n,!1),Ar(t,e,s);r=e.stateNode,Ab.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Co(e,t.child,null,s),e.child=Co(e,null,a,s)):Yt(t,e,a,s),e.memoizedState=r.state,i&&G0(e,n,!0),e.child}function gP(t){var e=t.stateNode;e.pendingContext?q0(t,e.pendingContext,e.pendingContext!==e.context):e.context&&q0(t,e.context,!1),Eg(t,e.containerInfo)}function uw(t,e,n,r,i){return So(),gg(i),e.flags|=256,Yt(t,e,n,r),e.child}var Up={dehydrated:null,treeContext:null,retryLane:0};function jp(t){return{baseLanes:t,cachePool:null,transitions:null}}function yP(t,e,n){var r=e.pendingProps,i=Ue.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),xe(Ue,i&1),t===null)return Dp(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=qd(o,r,0,null),t=os(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=jp(n),e.memoizedState=Up,t):kg(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return Rb(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=fi(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=fi(a,s):(s=os(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?jp(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=Up,r}return s=t.child,t=s.sibling,r=fi(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function kg(t,e){return e=qd({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Fu(t,e,n,r){return r!==null&&gg(r),Co(e,t.child,null,n),t=kg(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function Rb(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=Tf(Error(B(422))),Fu(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=qd({mode:"visible",children:r.children},i,0,null),s=os(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&Co(e,t.child,null,o),e.child.memoizedState=jp(o),e.memoizedState=Up,s);if(!(e.mode&1))return Fu(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(B(419)),r=Tf(s,r,void 0),Fu(t,e,o,r)}if(a=(o&t.childLanes)!==0,sn||a){if(r=_t,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Ir(t,i),jn(r,t,i,-1))}return Mg(),r=Tf(Error(B(421))),Fu(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=Bb.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,pn=ui(i.nextSibling),yn=e,Fe=!0,Ln=null,t!==null&&(Sn[Cn++]=mr,Sn[Cn++]=gr,Sn[Cn++]=us,mr=t.id,gr=t.overflow,us=e),e=kg(e,r.children),e.flags|=4096,e)}function cw(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Np(t.return,e,n)}function Ef(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function vP(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(Yt(t,e,r.children,n),r=Ue.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&cw(t,n,e);else if(t.tag===19)cw(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(xe(Ue,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&zc(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Ef(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&zc(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Ef(e,!0,n,null,s);break;case"together":Ef(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function dc(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Ar(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),ds|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(B(153));if(e.child!==null){for(t=e.child,n=fi(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=fi(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function xb(t,e,n){switch(e.tag){case 3:gP(e),So();break;case 5:W1(e);break;case 1:an(e.type)&&Lc(e);break;case 4:Eg(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;xe(jc,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(xe(Ue,Ue.current&1),e.flags|=128,null):n&e.child.childLanes?yP(t,e,n):(xe(Ue,Ue.current&1),t=Ar(t,e,n),t!==null?t.sibling:null);xe(Ue,Ue.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return vP(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),xe(Ue,Ue.current),r)break;return null;case 22:case 23:return e.lanes=0,pP(t,e,n)}return Ar(t,e,n)}var wP,Bp,_P,TP;wP=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Bp=function(){};_P=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,ts(Jn.current);var s=null;switch(n){case"input":i=up(t,i),r=up(t,r),s=[];break;case"select":i=We({},i,{value:void 0}),r=We({},r,{value:void 0}),s=[];break;case"textarea":i=hp(t,i),r=hp(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Vc)}pp(n,r);var o;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var a=i[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(cl.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in r){var l=r[c];if(a=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(cl.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&Ne("scroll",t),s||a===l||(s=[])):(s=s||[]).push(c,l))}n&&(s=s||[]).push("style",n);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};TP=function(t,e,n,r){n!==r&&(e.flags|=4)};function Ta(t,e){if(!Fe)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Nt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function kb(t,e,n){var r=e.pendingProps;switch(mg(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Nt(e),null;case 1:return an(e.type)&&Mc(),Nt(e),null;case 3:return r=e.stateNode,Io(),Me(on),Me(jt),Sg(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Mu(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Ln!==null&&(Yp(Ln),Ln=null))),Bp(t,e),Nt(e),null;case 5:Pg(e);var i=ts(El.current);if(n=e.type,t!==null&&e.stateNode!=null)_P(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(B(166));return Nt(e),null}if(t=ts(Jn.current),Mu(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[Kn]=e,r[_l]=s,t=(e.mode&1)!==0,n){case"dialog":Ne("cancel",r),Ne("close",r);break;case"iframe":case"object":case"embed":Ne("load",r);break;case"video":case"audio":for(i=0;i<La.length;i++)Ne(La[i],r);break;case"source":Ne("error",r);break;case"img":case"image":case"link":Ne("error",r),Ne("load",r);break;case"details":Ne("toggle",r);break;case"input":w0(r,s),Ne("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Ne("invalid",r);break;case"textarea":T0(r,s),Ne("invalid",r)}pp(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&Vu(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&Vu(r.textContent,a,t),i=["children",""+a]):cl.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Ne("scroll",r)}switch(n){case"input":Au(r),_0(r,s,!0);break;case"textarea":Au(r),E0(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=Vc)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=YE(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Kn]=e,t[_l]=r,wP(t,e,!1,!1),e.stateNode=t;e:{switch(o=mp(n,r),n){case"dialog":Ne("cancel",t),Ne("close",t),i=r;break;case"iframe":case"object":case"embed":Ne("load",t),i=r;break;case"video":case"audio":for(i=0;i<La.length;i++)Ne(La[i],t);i=r;break;case"source":Ne("error",t),i=r;break;case"img":case"image":case"link":Ne("error",t),Ne("load",t),i=r;break;case"details":Ne("toggle",t),i=r;break;case"input":w0(t,r),i=up(t,r),Ne("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=We({},r,{value:void 0}),Ne("invalid",t);break;case"textarea":T0(t,r),i=hp(t,r),Ne("invalid",t);break;default:i=r}pp(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?JE(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&QE(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&dl(t,l):typeof l=="number"&&dl(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(cl.hasOwnProperty(s)?l!=null&&s==="onScroll"&&Ne("scroll",t):l!=null&&eg(t,s,l,o))}switch(n){case"input":Au(t),_0(t,r,!1);break;case"textarea":Au(t),E0(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Ei(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?co(t,!!r.multiple,s,!1):r.defaultValue!=null&&co(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Vc)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Nt(e),null;case 6:if(t&&e.stateNode!=null)TP(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(B(166));if(n=ts(El.current),ts(Jn.current),Mu(e)){if(r=e.stateNode,n=e.memoizedProps,r[Kn]=e,(s=r.nodeValue!==n)&&(t=yn,t!==null))switch(t.tag){case 3:Vu(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Vu(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Kn]=e,e.stateNode=r}return Nt(e),null;case 13:if(Me(Ue),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Fe&&pn!==null&&e.mode&1&&!(e.flags&128))U1(),So(),e.flags|=98560,s=!1;else if(s=Mu(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(B(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(B(317));s[Kn]=e}else So(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Nt(e),s=!1}else Ln!==null&&(Yp(Ln),Ln=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Ue.current&1?ft===0&&(ft=3):Mg())),e.updateQueue!==null&&(e.flags|=4),Nt(e),null);case 4:return Io(),Bp(t,e),t===null&&vl(e.stateNode.containerInfo),Nt(e),null;case 10:return wg(e.type._context),Nt(e),null;case 17:return an(e.type)&&Mc(),Nt(e),null;case 19:if(Me(Ue),s=e.memoizedState,s===null)return Nt(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)Ta(s,!1);else{if(ft!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=zc(t),o!==null){for(e.flags|=128,Ta(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return xe(Ue,Ue.current&1|2),e.child}t=t.sibling}s.tail!==null&&et()>Ro&&(e.flags|=128,r=!0,Ta(s,!1),e.lanes=4194304)}else{if(!r)if(t=zc(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Ta(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Fe)return Nt(e),null}else 2*et()-s.renderingStartTime>Ro&&n!==1073741824&&(e.flags|=128,r=!0,Ta(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=et(),e.sibling=null,n=Ue.current,xe(Ue,r?n&1|2:n&1),e):(Nt(e),null);case 22:case 23:return Vg(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?dn&1073741824&&(Nt(e),e.subtreeFlags&6&&(e.flags|=8192)):Nt(e),null;case 24:return null;case 25:return null}throw Error(B(156,e.tag))}function bb(t,e){switch(mg(e),e.tag){case 1:return an(e.type)&&Mc(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Io(),Me(on),Me(jt),Sg(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Pg(e),null;case 13:if(Me(Ue),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(B(340));So()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Me(Ue),null;case 4:return Io(),null;case 10:return wg(e.type._context),null;case 22:case 23:return Vg(),null;case 24:return null;default:return null}}var Uu=!1,Lt=!1,Db=typeof WeakSet=="function"?WeakSet:Set,Y=null;function no(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Ye(t,e,r)}else n.current=null}function $p(t,e,n){try{n()}catch(r){Ye(t,e,r)}}var dw=!1;function Nb(t,e){if(Cp=Dc,t=I1(),fg(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,c=0,d=0,h=t,p=null;t:for(;;){for(var g;h!==n||i!==0&&h.nodeType!==3||(a=o+i),h!==s||r!==0&&h.nodeType!==3||(l=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(g=h.firstChild)!==null;)p=h,h=g;for(;;){if(h===t)break t;if(p===n&&++c===i&&(a=o),p===s&&++d===r&&(l=o),(g=h.nextSibling)!==null)break;h=p,p=h.parentNode}h=g}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Ip={focusedElem:t,selectionRange:n},Dc=!1,Y=e;Y!==null;)if(e=Y,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Y=t;else for(;Y!==null;){e=Y;try{var T=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(T!==null){var E=T.memoizedProps,A=T.memoizedState,w=e.stateNode,y=w.getSnapshotBeforeUpdate(e.elementType===e.type?E:Vn(e.type,E),A);w.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var _=e.stateNode.containerInfo;_.nodeType===1?_.textContent="":_.nodeType===9&&_.documentElement&&_.removeChild(_.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(B(163))}}catch(b){Ye(e,e.return,b)}if(t=e.sibling,t!==null){t.return=e.return,Y=t;break}Y=e.return}return T=dw,dw=!1,T}function Xa(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&$p(e,n,s)}i=i.next}while(i!==r)}}function Wd(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function zp(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function EP(t){var e=t.alternate;e!==null&&(t.alternate=null,EP(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Kn],delete e[_l],delete e[xp],delete e[mb],delete e[gb])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function PP(t){return t.tag===5||t.tag===3||t.tag===4}function hw(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||PP(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Wp(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Vc));else if(r!==4&&(t=t.child,t!==null))for(Wp(t,e,n),t=t.sibling;t!==null;)Wp(t,e,n),t=t.sibling}function Hp(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Hp(t,e,n),t=t.sibling;t!==null;)Hp(t,e,n),t=t.sibling}var Pt=null,Mn=!1;function $r(t,e,n){for(n=n.child;n!==null;)SP(t,e,n),n=n.sibling}function SP(t,e,n){if(Xn&&typeof Xn.onCommitFiberUnmount=="function")try{Xn.onCommitFiberUnmount(Md,n)}catch{}switch(n.tag){case 5:Lt||no(n,e);case 6:var r=Pt,i=Mn;Pt=null,$r(t,e,n),Pt=r,Mn=i,Pt!==null&&(Mn?(t=Pt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Pt.removeChild(n.stateNode));break;case 18:Pt!==null&&(Mn?(t=Pt,n=n.stateNode,t.nodeType===8?mf(t.parentNode,n):t.nodeType===1&&mf(t,n),ml(t)):mf(Pt,n.stateNode));break;case 4:r=Pt,i=Mn,Pt=n.stateNode.containerInfo,Mn=!0,$r(t,e,n),Pt=r,Mn=i;break;case 0:case 11:case 14:case 15:if(!Lt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&$p(n,e,o),i=i.next}while(i!==r)}$r(t,e,n);break;case 1:if(!Lt&&(no(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Ye(n,e,a)}$r(t,e,n);break;case 21:$r(t,e,n);break;case 22:n.mode&1?(Lt=(r=Lt)||n.memoizedState!==null,$r(t,e,n),Lt=r):$r(t,e,n);break;default:$r(t,e,n)}}function fw(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new Db),e.forEach(function(r){var i=$b.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Nn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:Pt=a.stateNode,Mn=!1;break e;case 3:Pt=a.stateNode.containerInfo,Mn=!0;break e;case 4:Pt=a.stateNode.containerInfo,Mn=!0;break e}a=a.return}if(Pt===null)throw Error(B(160));SP(s,o,i),Pt=null,Mn=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){Ye(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)CP(e,t),e=e.sibling}function CP(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Nn(e,t),Hn(t),r&4){try{Xa(3,t,t.return),Wd(3,t)}catch(E){Ye(t,t.return,E)}try{Xa(5,t,t.return)}catch(E){Ye(t,t.return,E)}}break;case 1:Nn(e,t),Hn(t),r&512&&n!==null&&no(n,n.return);break;case 5:if(Nn(e,t),Hn(t),r&512&&n!==null&&no(n,n.return),t.flags&32){var i=t.stateNode;try{dl(i,"")}catch(E){Ye(t,t.return,E)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&GE(i,s),mp(a,o);var c=mp(a,s);for(o=0;o<l.length;o+=2){var d=l[o],h=l[o+1];d==="style"?JE(i,h):d==="dangerouslySetInnerHTML"?QE(i,h):d==="children"?dl(i,h):eg(i,d,h,c)}switch(a){case"input":cp(i,s);break;case"textarea":KE(i,s);break;case"select":var p=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var g=s.value;g!=null?co(i,!!s.multiple,g,!1):p!==!!s.multiple&&(s.defaultValue!=null?co(i,!!s.multiple,s.defaultValue,!0):co(i,!!s.multiple,s.multiple?[]:"",!1))}i[_l]=s}catch(E){Ye(t,t.return,E)}}break;case 6:if(Nn(e,t),Hn(t),r&4){if(t.stateNode===null)throw Error(B(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(E){Ye(t,t.return,E)}}break;case 3:if(Nn(e,t),Hn(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{ml(e.containerInfo)}catch(E){Ye(t,t.return,E)}break;case 4:Nn(e,t),Hn(t);break;case 13:Nn(e,t),Hn(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(Ng=et())),r&4&&fw(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(Lt=(c=Lt)||d,Nn(e,t),Lt=c):Nn(e,t),Hn(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!d&&t.mode&1)for(Y=t,d=t.child;d!==null;){for(h=Y=d;Y!==null;){switch(p=Y,g=p.child,p.tag){case 0:case 11:case 14:case 15:Xa(4,p,p.return);break;case 1:no(p,p.return);var T=p.stateNode;if(typeof T.componentWillUnmount=="function"){r=p,n=p.return;try{e=r,T.props=e.memoizedProps,T.state=e.memoizedState,T.componentWillUnmount()}catch(E){Ye(r,n,E)}}break;case 5:no(p,p.return);break;case 22:if(p.memoizedState!==null){mw(h);continue}}g!==null?(g.return=p,Y=g):mw(h)}d=d.sibling}e:for(d=null,h=t;;){if(h.tag===5){if(d===null){d=h;try{i=h.stateNode,c?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=h.stateNode,l=h.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=XE("display",o))}catch(E){Ye(t,t.return,E)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=c?"":h.memoizedProps}catch(E){Ye(t,t.return,E)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Nn(e,t),Hn(t),r&4&&fw(t);break;case 21:break;default:Nn(e,t),Hn(t)}}function Hn(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(PP(n)){var r=n;break e}n=n.return}throw Error(B(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(dl(i,""),r.flags&=-33);var s=hw(t);Hp(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=hw(t);Wp(t,a,o);break;default:throw Error(B(161))}}catch(l){Ye(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function Ob(t,e,n){Y=t,IP(t)}function IP(t,e,n){for(var r=(t.mode&1)!==0;Y!==null;){var i=Y,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||Uu;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||Lt;a=Uu;var c=Lt;if(Uu=o,(Lt=l)&&!c)for(Y=i;Y!==null;)o=Y,l=o.child,o.tag===22&&o.memoizedState!==null?gw(i):l!==null?(l.return=o,Y=l):gw(i);for(;s!==null;)Y=s,IP(s),s=s.sibling;Y=i,Uu=a,Lt=c}pw(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,Y=s):pw(t)}}function pw(t){for(;Y!==null;){var e=Y;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Lt||Wd(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Lt)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Vn(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&J0(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}J0(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&ml(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(B(163))}Lt||e.flags&512&&zp(e)}catch(p){Ye(e,e.return,p)}}if(e===t){Y=null;break}if(n=e.sibling,n!==null){n.return=e.return,Y=n;break}Y=e.return}}function mw(t){for(;Y!==null;){var e=Y;if(e===t){Y=null;break}var n=e.sibling;if(n!==null){n.return=e.return,Y=n;break}Y=e.return}}function gw(t){for(;Y!==null;){var e=Y;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Wd(4,e)}catch(l){Ye(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){Ye(e,i,l)}}var s=e.return;try{zp(e)}catch(l){Ye(e,s,l)}break;case 5:var o=e.return;try{zp(e)}catch(l){Ye(e,o,l)}}}catch(l){Ye(e,e.return,l)}if(e===t){Y=null;break}var a=e.sibling;if(a!==null){a.return=e.return,Y=a;break}Y=e.return}}var Vb=Math.ceil,qc=Or.ReactCurrentDispatcher,bg=Or.ReactCurrentOwner,Rn=Or.ReactCurrentBatchConfig,ve=0,_t=null,lt=null,It=0,dn=0,ro=Oi(0),ft=0,Il=null,ds=0,Hd=0,Dg=0,Ja=null,en=null,Ng=0,Ro=1/0,fr=null,Gc=!1,qp=null,di=null,ju=!1,ri=null,Kc=0,Za=0,Gp=null,hc=-1,fc=0;function Qt(){return ve&6?et():hc!==-1?hc:hc=et()}function hi(t){return t.mode&1?ve&2&&It!==0?It&-It:vb.transition!==null?(fc===0&&(fc=c1()),fc):(t=Ae,t!==0||(t=window.event,t=t===void 0?16:y1(t.type)),t):1}function jn(t,e,n,r){if(50<Za)throw Za=0,Gp=null,Error(B(185));zl(t,n,r),(!(ve&2)||t!==_t)&&(t===_t&&(!(ve&2)&&(Hd|=n),ft===4&&Xr(t,It)),ln(t,r),n===1&&ve===0&&!(e.mode&1)&&(Ro=et()+500,Bd&&Vi()))}function ln(t,e){var n=t.callbackNode;vk(t,e);var r=bc(t,t===_t?It:0);if(r===0)n!==null&&C0(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&C0(n),e===1)t.tag===0?yb(yw.bind(null,t)):M1(yw.bind(null,t)),fb(function(){!(ve&6)&&Vi()}),n=null;else{switch(d1(r)){case 1:n=sg;break;case 4:n=l1;break;case 16:n=kc;break;case 536870912:n=u1;break;default:n=kc}n=OP(n,AP.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function AP(t,e){if(hc=-1,fc=0,ve&6)throw Error(B(327));var n=t.callbackNode;if(go()&&t.callbackNode!==n)return null;var r=bc(t,t===_t?It:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Yc(t,r);else{e=r;var i=ve;ve|=2;var s=xP();(_t!==t||It!==e)&&(fr=null,Ro=et()+500,ss(t,e));do try{Fb();break}catch(a){RP(t,a)}while(1);vg(),qc.current=s,ve=i,lt!==null?e=0:(_t=null,It=0,e=ft)}if(e!==0){if(e===2&&(i=_p(t),i!==0&&(r=i,e=Kp(t,i))),e===1)throw n=Il,ss(t,0),Xr(t,r),ln(t,et()),n;if(e===6)Xr(t,r);else{if(i=t.current.alternate,!(r&30)&&!Mb(i)&&(e=Yc(t,r),e===2&&(s=_p(t),s!==0&&(r=s,e=Kp(t,s))),e===1))throw n=Il,ss(t,0),Xr(t,r),ln(t,et()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(B(345));case 2:Ki(t,en,fr);break;case 3:if(Xr(t,r),(r&130023424)===r&&(e=Ng+500-et(),10<e)){if(bc(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Qt(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Rp(Ki.bind(null,t,en,fr),e);break}Ki(t,en,fr);break;case 4:if(Xr(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-Un(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=et()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Vb(r/1960))-r,10<r){t.timeoutHandle=Rp(Ki.bind(null,t,en,fr),r);break}Ki(t,en,fr);break;case 5:Ki(t,en,fr);break;default:throw Error(B(329))}}}return ln(t,et()),t.callbackNode===n?AP.bind(null,t):null}function Kp(t,e){var n=Ja;return t.current.memoizedState.isDehydrated&&(ss(t,e).flags|=256),t=Yc(t,e),t!==2&&(e=en,en=n,e!==null&&Yp(e)),t}function Yp(t){en===null?en=t:en.push.apply(en,t)}function Mb(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Bn(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Xr(t,e){for(e&=~Dg,e&=~Hd,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Un(e),r=1<<n;t[n]=-1,e&=~r}}function yw(t){if(ve&6)throw Error(B(327));go();var e=bc(t,0);if(!(e&1))return ln(t,et()),null;var n=Yc(t,e);if(t.tag!==0&&n===2){var r=_p(t);r!==0&&(e=r,n=Kp(t,r))}if(n===1)throw n=Il,ss(t,0),Xr(t,e),ln(t,et()),n;if(n===6)throw Error(B(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Ki(t,en,fr),ln(t,et()),null}function Og(t,e){var n=ve;ve|=1;try{return t(e)}finally{ve=n,ve===0&&(Ro=et()+500,Bd&&Vi())}}function hs(t){ri!==null&&ri.tag===0&&!(ve&6)&&go();var e=ve;ve|=1;var n=Rn.transition,r=Ae;try{if(Rn.transition=null,Ae=1,t)return t()}finally{Ae=r,Rn.transition=n,ve=e,!(ve&6)&&Vi()}}function Vg(){dn=ro.current,Me(ro)}function ss(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,hb(n)),lt!==null)for(n=lt.return;n!==null;){var r=n;switch(mg(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Mc();break;case 3:Io(),Me(on),Me(jt),Sg();break;case 5:Pg(r);break;case 4:Io();break;case 13:Me(Ue);break;case 19:Me(Ue);break;case 10:wg(r.type._context);break;case 22:case 23:Vg()}n=n.return}if(_t=t,lt=t=fi(t.current,null),It=dn=e,ft=0,Il=null,Dg=Hd=ds=0,en=Ja=null,es!==null){for(e=0;e<es.length;e++)if(n=es[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}es=null}return t}function RP(t,e){do{var n=lt;try{if(vg(),uc.current=Hc,Wc){for(var r=$e.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Wc=!1}if(cs=0,vt=dt=$e=null,Qa=!1,Pl=0,bg.current=null,n===null||n.return===null){ft=1,Il=e,lt=null;break}e:{var s=t,o=n.return,a=n,l=e;if(e=It,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,d=a,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var p=d.alternate;p?(d.updateQueue=p.updateQueue,d.memoizedState=p.memoizedState,d.lanes=p.lanes):(d.updateQueue=null,d.memoizedState=null)}var g=iw(o);if(g!==null){g.flags&=-257,sw(g,o,a,s,e),g.mode&1&&rw(s,c,e),e=g,l=c;var T=e.updateQueue;if(T===null){var E=new Set;E.add(l),e.updateQueue=E}else T.add(l);break e}else{if(!(e&1)){rw(s,c,e),Mg();break e}l=Error(B(426))}}else if(Fe&&a.mode&1){var A=iw(o);if(A!==null){!(A.flags&65536)&&(A.flags|=256),sw(A,o,a,s,e),gg(Ao(l,a));break e}}s=l=Ao(l,a),ft!==4&&(ft=2),Ja===null?Ja=[s]:Ja.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var w=dP(s,l,e);X0(s,w);break e;case 1:a=l;var y=s.type,_=s.stateNode;if(!(s.flags&128)&&(typeof y.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(di===null||!di.has(_)))){s.flags|=65536,e&=-e,s.lanes|=e;var b=hP(s,a,e);X0(s,b);break e}}s=s.return}while(s!==null)}bP(n)}catch(O){e=O,lt===n&&n!==null&&(lt=n=n.return);continue}break}while(1)}function xP(){var t=qc.current;return qc.current=Hc,t===null?Hc:t}function Mg(){(ft===0||ft===3||ft===2)&&(ft=4),_t===null||!(ds&268435455)&&!(Hd&268435455)||Xr(_t,It)}function Yc(t,e){var n=ve;ve|=2;var r=xP();(_t!==t||It!==e)&&(fr=null,ss(t,e));do try{Lb();break}catch(i){RP(t,i)}while(1);if(vg(),ve=n,qc.current=r,lt!==null)throw Error(B(261));return _t=null,It=0,ft}function Lb(){for(;lt!==null;)kP(lt)}function Fb(){for(;lt!==null&&!uk();)kP(lt)}function kP(t){var e=NP(t.alternate,t,dn);t.memoizedProps=t.pendingProps,e===null?bP(t):lt=e,bg.current=null}function bP(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=bb(n,e),n!==null){n.flags&=32767,lt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{ft=6,lt=null;return}}else if(n=kb(n,e,dn),n!==null){lt=n;return}if(e=e.sibling,e!==null){lt=e;return}lt=e=t}while(e!==null);ft===0&&(ft=5)}function Ki(t,e,n){var r=Ae,i=Rn.transition;try{Rn.transition=null,Ae=1,Ub(t,e,n,r)}finally{Rn.transition=i,Ae=r}return null}function Ub(t,e,n,r){do go();while(ri!==null);if(ve&6)throw Error(B(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(B(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(wk(t,s),t===_t&&(lt=_t=null,It=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||ju||(ju=!0,OP(kc,function(){return go(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=Rn.transition,Rn.transition=null;var o=Ae;Ae=1;var a=ve;ve|=4,bg.current=null,Nb(t,n),CP(n,t),sb(Ip),Dc=!!Cp,Ip=Cp=null,t.current=n,Ob(n),ck(),ve=a,Ae=o,Rn.transition=s}else t.current=n;if(ju&&(ju=!1,ri=t,Kc=i),s=t.pendingLanes,s===0&&(di=null),fk(n.stateNode),ln(t,et()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Gc)throw Gc=!1,t=qp,qp=null,t;return Kc&1&&t.tag!==0&&go(),s=t.pendingLanes,s&1?t===Gp?Za++:(Za=0,Gp=t):Za=0,Vi(),null}function go(){if(ri!==null){var t=d1(Kc),e=Rn.transition,n=Ae;try{if(Rn.transition=null,Ae=16>t?16:t,ri===null)var r=!1;else{if(t=ri,ri=null,Kc=0,ve&6)throw Error(B(331));var i=ve;for(ve|=4,Y=t.current;Y!==null;){var s=Y,o=s.child;if(Y.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(Y=c;Y!==null;){var d=Y;switch(d.tag){case 0:case 11:case 15:Xa(8,d,s)}var h=d.child;if(h!==null)h.return=d,Y=h;else for(;Y!==null;){d=Y;var p=d.sibling,g=d.return;if(EP(d),d===c){Y=null;break}if(p!==null){p.return=g,Y=p;break}Y=g}}}var T=s.alternate;if(T!==null){var E=T.child;if(E!==null){T.child=null;do{var A=E.sibling;E.sibling=null,E=A}while(E!==null)}}Y=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,Y=o;else e:for(;Y!==null;){if(s=Y,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Xa(9,s,s.return)}var w=s.sibling;if(w!==null){w.return=s.return,Y=w;break e}Y=s.return}}var y=t.current;for(Y=y;Y!==null;){o=Y;var _=o.child;if(o.subtreeFlags&2064&&_!==null)_.return=o,Y=_;else e:for(o=y;Y!==null;){if(a=Y,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Wd(9,a)}}catch(O){Ye(a,a.return,O)}if(a===o){Y=null;break e}var b=a.sibling;if(b!==null){b.return=a.return,Y=b;break e}Y=a.return}}if(ve=i,Vi(),Xn&&typeof Xn.onPostCommitFiberRoot=="function")try{Xn.onPostCommitFiberRoot(Md,t)}catch{}r=!0}return r}finally{Ae=n,Rn.transition=e}}return!1}function vw(t,e,n){e=Ao(n,e),e=dP(t,e,1),t=ci(t,e,1),e=Qt(),t!==null&&(zl(t,1,e),ln(t,e))}function Ye(t,e,n){if(t.tag===3)vw(t,t,n);else for(;e!==null;){if(e.tag===3){vw(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(di===null||!di.has(r))){t=Ao(n,t),t=hP(e,t,1),e=ci(e,t,1),t=Qt(),e!==null&&(zl(e,1,t),ln(e,t));break}}e=e.return}}function jb(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Qt(),t.pingedLanes|=t.suspendedLanes&n,_t===t&&(It&n)===n&&(ft===4||ft===3&&(It&130023424)===It&&500>et()-Ng?ss(t,0):Dg|=n),ln(t,e)}function DP(t,e){e===0&&(t.mode&1?(e=ku,ku<<=1,!(ku&130023424)&&(ku=4194304)):e=1);var n=Qt();t=Ir(t,e),t!==null&&(zl(t,e,n),ln(t,n))}function Bb(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),DP(t,n)}function $b(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(B(314))}r!==null&&r.delete(e),DP(t,n)}var NP;NP=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||on.current)sn=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return sn=!1,xb(t,e,n);sn=!!(t.flags&131072)}else sn=!1,Fe&&e.flags&1048576&&L1(e,Uc,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;dc(t,e),t=e.pendingProps;var i=Po(e,jt.current);mo(e,n),i=Ig(null,e,r,t,i,n);var s=Ag();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,an(r)?(s=!0,Lc(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Tg(e),i.updater=zd,e.stateNode=i,i._reactInternals=e,Vp(e,r,t,n),e=Fp(null,e,r,!0,s,n)):(e.tag=0,Fe&&s&&pg(e),Yt(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(dc(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=Wb(r),t=Vn(r,t),i){case 0:e=Lp(null,e,r,t,n);break e;case 1:e=lw(null,e,r,t,n);break e;case 11:e=ow(null,e,r,t,n);break e;case 14:e=aw(null,e,r,Vn(r.type,t),n);break e}throw Error(B(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Vn(r,i),Lp(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Vn(r,i),lw(t,e,r,i,n);case 3:e:{if(gP(e),t===null)throw Error(B(387));r=e.pendingProps,s=e.memoizedState,i=s.element,z1(t,e),$c(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=Ao(Error(B(423)),e),e=uw(t,e,r,n,i);break e}else if(r!==i){i=Ao(Error(B(424)),e),e=uw(t,e,r,n,i);break e}else for(pn=ui(e.stateNode.containerInfo.firstChild),yn=e,Fe=!0,Ln=null,n=B1(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(So(),r===i){e=Ar(t,e,n);break e}Yt(t,e,r,n)}e=e.child}return e;case 5:return W1(e),t===null&&Dp(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,Ap(r,i)?o=null:s!==null&&Ap(r,s)&&(e.flags|=32),mP(t,e),Yt(t,e,o,n),e.child;case 6:return t===null&&Dp(e),null;case 13:return yP(t,e,n);case 4:return Eg(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Co(e,null,r,n):Yt(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Vn(r,i),ow(t,e,r,i,n);case 7:return Yt(t,e,e.pendingProps,n),e.child;case 8:return Yt(t,e,e.pendingProps.children,n),e.child;case 12:return Yt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,xe(jc,r._currentValue),r._currentValue=o,s!==null)if(Bn(s.value,o)){if(s.children===i.children&&!on.current){e=Ar(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=_r(-1,n&-n),l.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?l.next=l:(l.next=d.next,d.next=l),c.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),Np(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(B(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Np(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Yt(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,mo(e,n),i=kn(i),r=r(i),e.flags|=1,Yt(t,e,r,n),e.child;case 14:return r=e.type,i=Vn(r,e.pendingProps),i=Vn(r.type,i),aw(t,e,r,i,n);case 15:return fP(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Vn(r,i),dc(t,e),e.tag=1,an(r)?(t=!0,Lc(e)):t=!1,mo(e,n),cP(e,r,i),Vp(e,r,i,n),Fp(null,e,r,!0,t,n);case 19:return vP(t,e,n);case 22:return pP(t,e,n)}throw Error(B(156,e.tag))};function OP(t,e){return a1(t,e)}function zb(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function An(t,e,n,r){return new zb(t,e,n,r)}function Lg(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Wb(t){if(typeof t=="function")return Lg(t)?1:0;if(t!=null){if(t=t.$$typeof,t===ng)return 11;if(t===rg)return 14}return 2}function fi(t,e){var n=t.alternate;return n===null?(n=An(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function pc(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")Lg(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Gs:return os(n.children,i,s,e);case tg:o=8,i|=8;break;case sp:return t=An(12,n,e,i|2),t.elementType=sp,t.lanes=s,t;case op:return t=An(13,n,e,i),t.elementType=op,t.lanes=s,t;case ap:return t=An(19,n,e,i),t.elementType=ap,t.lanes=s,t;case WE:return qd(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case $E:o=10;break e;case zE:o=9;break e;case ng:o=11;break e;case rg:o=14;break e;case Gr:o=16,r=null;break e}throw Error(B(130,t==null?t:typeof t,""))}return e=An(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function os(t,e,n,r){return t=An(7,t,r,e),t.lanes=n,t}function qd(t,e,n,r){return t=An(22,t,r,e),t.elementType=WE,t.lanes=n,t.stateNode={isHidden:!1},t}function Pf(t,e,n){return t=An(6,t,null,e),t.lanes=n,t}function Sf(t,e,n){return e=An(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Hb(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=rf(0),this.expirationTimes=rf(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=rf(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Fg(t,e,n,r,i,s,o,a,l){return t=new Hb(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=An(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Tg(s),t}function qb(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:qs,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function VP(t){if(!t)return Pi;t=t._reactInternals;e:{if(Ps(t)!==t||t.tag!==1)throw Error(B(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(an(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(B(171))}if(t.tag===1){var n=t.type;if(an(n))return V1(t,n,e)}return e}function MP(t,e,n,r,i,s,o,a,l){return t=Fg(n,r,!0,t,i,s,o,a,l),t.context=VP(null),n=t.current,r=Qt(),i=hi(n),s=_r(r,i),s.callback=e??null,ci(n,s,i),t.current.lanes=i,zl(t,i,r),ln(t,r),t}function Gd(t,e,n,r){var i=e.current,s=Qt(),o=hi(i);return n=VP(n),e.context===null?e.context=n:e.pendingContext=n,e=_r(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=ci(i,e,o),t!==null&&(jn(t,i,o,s),lc(t,i,o)),o}function Qc(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function ww(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Ug(t,e){ww(t,e),(t=t.alternate)&&ww(t,e)}function Gb(){return null}var LP=typeof reportError=="function"?reportError:function(t){console.error(t)};function jg(t){this._internalRoot=t}Kd.prototype.render=jg.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(B(409));Gd(t,e,null,null)};Kd.prototype.unmount=jg.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;hs(function(){Gd(null,t,null,null)}),e[Cr]=null}};function Kd(t){this._internalRoot=t}Kd.prototype.unstable_scheduleHydration=function(t){if(t){var e=p1();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Qr.length&&e!==0&&e<Qr[n].priority;n++);Qr.splice(n,0,t),n===0&&g1(t)}};function Bg(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Yd(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function _w(){}function Kb(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var c=Qc(o);s.call(c)}}var o=MP(e,r,t,0,null,!1,!1,"",_w);return t._reactRootContainer=o,t[Cr]=o.current,vl(t.nodeType===8?t.parentNode:t),hs(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var c=Qc(l);a.call(c)}}var l=Fg(t,0,!1,null,null,!1,!1,"",_w);return t._reactRootContainer=l,t[Cr]=l.current,vl(t.nodeType===8?t.parentNode:t),hs(function(){Gd(e,l,n,r)}),l}function Qd(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=Qc(o);a.call(l)}}Gd(e,o,t,i)}else o=Kb(n,e,t,i,r);return Qc(o)}h1=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Ma(e.pendingLanes);n!==0&&(og(e,n|1),ln(e,et()),!(ve&6)&&(Ro=et()+500,Vi()))}break;case 13:hs(function(){var r=Ir(t,1);if(r!==null){var i=Qt();jn(r,t,1,i)}}),Ug(t,1)}};ag=function(t){if(t.tag===13){var e=Ir(t,134217728);if(e!==null){var n=Qt();jn(e,t,134217728,n)}Ug(t,134217728)}};f1=function(t){if(t.tag===13){var e=hi(t),n=Ir(t,e);if(n!==null){var r=Qt();jn(n,t,e,r)}Ug(t,e)}};p1=function(){return Ae};m1=function(t,e){var n=Ae;try{return Ae=t,e()}finally{Ae=n}};yp=function(t,e,n){switch(e){case"input":if(cp(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=jd(r);if(!i)throw Error(B(90));qE(r),cp(r,i)}}}break;case"textarea":KE(t,n);break;case"select":e=n.value,e!=null&&co(t,!!n.multiple,e,!1)}};t1=Og;n1=hs;var Yb={usingClientEntryPoint:!1,Events:[Hl,Xs,jd,ZE,e1,Og]},Ea={findFiberByHostInstance:Zi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Qb={bundleType:Ea.bundleType,version:Ea.version,rendererPackageName:Ea.rendererPackageName,rendererConfig:Ea.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Or.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=s1(t),t===null?null:t.stateNode},findFiberByHostInstance:Ea.findFiberByHostInstance||Gb,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Bu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Bu.isDisabled&&Bu.supportsFiber)try{Md=Bu.inject(Qb),Xn=Bu}catch{}}_n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Yb;_n.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Bg(e))throw Error(B(200));return qb(t,e,null,n)};_n.createRoot=function(t,e){if(!Bg(t))throw Error(B(299));var n=!1,r="",i=LP;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Fg(t,1,!1,null,null,n,!1,r,i),t[Cr]=e.current,vl(t.nodeType===8?t.parentNode:t),new jg(e)};_n.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(B(188)):(t=Object.keys(t).join(","),Error(B(268,t)));return t=s1(e),t=t===null?null:t.stateNode,t};_n.flushSync=function(t){return hs(t)};_n.hydrate=function(t,e,n){if(!Yd(e))throw Error(B(200));return Qd(null,t,e,!0,n)};_n.hydrateRoot=function(t,e,n){if(!Bg(t))throw Error(B(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=LP;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=MP(e,null,t,1,n??null,i,!1,s,o),t[Cr]=e.current,vl(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Kd(e)};_n.render=function(t,e,n){if(!Yd(e))throw Error(B(200));return Qd(null,t,e,!1,n)};_n.unmountComponentAtNode=function(t){if(!Yd(t))throw Error(B(40));return t._reactRootContainer?(hs(function(){Qd(null,null,t,!1,function(){t._reactRootContainer=null,t[Cr]=null})}),!0):!1};_n.unstable_batchedUpdates=Og;_n.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Yd(n))throw Error(B(200));if(t==null||t._reactInternals===void 0)throw Error(B(38));return Qd(t,e,n,!1,r)};_n.version="18.3.1-next-f1338f8080-20240426";function FP(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(FP)}catch(t){console.error(t)}}FP(),FE.exports=_n;var Xd=FE.exports;const Xb=CE(Xd);var Tw=Xd;rp.createRoot=Tw.createRoot,rp.hydrateRoot=Tw.hydrateRoot;const Jb="modulepreload",Zb=function(t){return"/"+t},Ew={},Ss=function(e,n,r){if(!n||n.length===0)return e();const i=document.getElementsByTagName("link");return Promise.all(n.map(s=>{if(s=Zb(s),s in Ew)return;Ew[s]=!0;const o=s.endsWith(".css"),a=o?'[rel="stylesheet"]':"";if(!!r)for(let d=i.length-1;d>=0;d--){const h=i[d];if(h.href===s&&(!o||h.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${s}"]${a}`))return;const c=document.createElement("link");if(c.rel=o?"stylesheet":Jb,o||(c.as="script",c.crossOrigin=""),c.href=s,document.head.appendChild(c),o)return new Promise((d,h)=>{c.addEventListener("load",d),c.addEventListener("error",()=>h(new Error(`Unable to preload CSS for ${s}`)))})})).then(()=>e()).catch(s=>{const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=s,window.dispatchEvent(o),!o.defaultPrevented)throw s})};/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Al(){return Al=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Al.apply(this,arguments)}var ii;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(ii||(ii={}));const Pw="popstate";function eD(t){t===void 0&&(t={});function e(r,i){let{pathname:s,search:o,hash:a}=r.location;return Qp("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Xc(i)}return nD(e,n,null,t)}function ze(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function UP(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function tD(){return Math.random().toString(36).substr(2,8)}function Sw(t,e){return{usr:t.state,key:t.key,idx:e}}function Qp(t,e,n,r){return n===void 0&&(n=null),Al({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Wo(e):e,{state:n,key:e&&e.key||r||tD()})}function Xc(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Wo(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function nD(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=ii.Pop,l=null,c=d();c==null&&(c=0,o.replaceState(Al({},o.state,{idx:c}),""));function d(){return(o.state||{idx:null}).idx}function h(){a=ii.Pop;let A=d(),w=A==null?null:A-c;c=A,l&&l({action:a,location:E.location,delta:w})}function p(A,w){a=ii.Push;let y=Qp(E.location,A,w);n&&n(y,A),c=d()+1;let _=Sw(y,c),b=E.createHref(y);try{o.pushState(_,"",b)}catch(O){if(O instanceof DOMException&&O.name==="DataCloneError")throw O;i.location.assign(b)}s&&l&&l({action:a,location:E.location,delta:1})}function g(A,w){a=ii.Replace;let y=Qp(E.location,A,w);n&&n(y,A),c=d();let _=Sw(y,c),b=E.createHref(y);o.replaceState(_,"",b),s&&l&&l({action:a,location:E.location,delta:0})}function T(A){let w=i.location.origin!=="null"?i.location.origin:i.location.href,y=typeof A=="string"?A:Xc(A);return y=y.replace(/ $/,"%20"),ze(w,"No window.location.(origin|href) available to create URL for href: "+y),new URL(y,w)}let E={get action(){return a},get location(){return t(i,o)},listen(A){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(Pw,h),l=A,()=>{i.removeEventListener(Pw,h),l=null}},createHref(A){return e(i,A)},createURL:T,encodeLocation(A){let w=T(A);return{pathname:w.pathname,search:w.search,hash:w.hash}},push:p,replace:g,go(A){return o.go(A)}};return E}var Cw;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Cw||(Cw={}));function rD(t,e,n){return n===void 0&&(n="/"),iD(t,e,n,!1)}function iD(t,e,n,r){let i=typeof e=="string"?Wo(e):e,s=xo(i.pathname||"/",n);if(s==null)return null;let o=jP(t);sD(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let c=gD(s);a=pD(o[l],c,r)}return a}function jP(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(ze(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let c=pi([r,l.relativePath]),d=n.concat(l);s.children&&s.children.length>0&&(ze(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),jP(s.children,e,d,c)),!(s.path==null&&!s.index)&&e.push({path:c,score:hD(c,s.index),routesMeta:d})};return t.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let l of BP(s.path))i(s,o,l)}),e}function BP(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=BP(r.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function sD(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:fD(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const oD=/^:[\w-]+$/,aD=3,lD=2,uD=1,cD=10,dD=-2,Iw=t=>t==="*";function hD(t,e){let n=t.split("/"),r=n.length;return n.some(Iw)&&(r+=dD),e&&(r+=lD),n.filter(i=>!Iw(i)).reduce((i,s)=>i+(oD.test(s)?aD:s===""?uD:cD),r)}function fD(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function pD(t,e,n){n===void 0&&(n=!1);let{routesMeta:r}=t,i={},s="/",o=[];for(let a=0;a<r.length;++a){let l=r[a],c=a===r.length-1,d=s==="/"?e:e.slice(s.length)||"/",h=Jc({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},d),p=l.route;if(!h&&c&&n&&!r[r.length-1].route.index&&(h=Jc({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},d)),!h)return null;Object.assign(i,h.params),o.push({params:i,pathname:pi([s,h.pathname]),pathnameBase:_D(pi([s,h.pathnameBase])),route:p}),h.pathnameBase!=="/"&&(s=pi([s,h.pathnameBase]))}return o}function Jc(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=mD(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((c,d,h)=>{let{paramName:p,isOptional:g}=d;if(p==="*"){let E=a[h]||"";o=s.slice(0,s.length-E.length).replace(/(.)\/+$/,"$1")}const T=a[h];return g&&!T?c[p]=void 0:c[p]=(T||"").replace(/%2F/g,"/"),c},{}),pathname:s,pathnameBase:o,pattern:t}}function mD(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),UP(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function gD(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return UP(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function xo(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function yD(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Wo(t):t;return{pathname:n?n.startsWith("/")?n:vD(n,e):e,search:TD(r),hash:ED(i)}}function vD(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Cf(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function wD(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function $g(t,e){let n=wD(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function zg(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=Wo(t):(i=Al({},t),ze(!i.pathname||!i.pathname.includes("?"),Cf("?","pathname","search",i)),ze(!i.pathname||!i.pathname.includes("#"),Cf("#","pathname","hash",i)),ze(!i.search||!i.search.includes("#"),Cf("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=n;else{let h=e.length-1;if(!r&&o.startsWith("..")){let p=o.split("/");for(;p[0]==="..";)p.shift(),h-=1;i.pathname=p.join("/")}a=h>=0?e[h]:"/"}let l=yD(i,a),c=o&&o!=="/"&&o.endsWith("/"),d=(s||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||d)&&(l.pathname+="/"),l}const pi=t=>t.join("/").replace(/\/\/+/g,"/"),_D=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),TD=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,ED=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function PD(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const $P=["post","put","patch","delete"];new Set($P);const SD=["get",...$P];new Set(SD);/**
 * React Router v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Rl(){return Rl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Rl.apply(this,arguments)}const Jd=x.createContext(null),zP=x.createContext(null),Vr=x.createContext(null),Zd=x.createContext(null),Mr=x.createContext({outlet:null,matches:[],isDataRoute:!1}),WP=x.createContext(null);function CD(t,e){let{relative:n}=e===void 0?{}:e;Ho()||ze(!1);let{basename:r,navigator:i}=x.useContext(Vr),{hash:s,pathname:o,search:a}=eh(t,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:pi([r,o])),i.createHref({pathname:l,search:a,hash:s})}function Ho(){return x.useContext(Zd)!=null}function qo(){return Ho()||ze(!1),x.useContext(Zd).location}function HP(t){x.useContext(Vr).static||x.useLayoutEffect(t)}function qP(){let{isDataRoute:t}=x.useContext(Mr);return t?FD():ID()}function ID(){Ho()||ze(!1);let t=x.useContext(Jd),{basename:e,future:n,navigator:r}=x.useContext(Vr),{matches:i}=x.useContext(Mr),{pathname:s}=qo(),o=JSON.stringify($g(i,n.v7_relativeSplatPath)),a=x.useRef(!1);return HP(()=>{a.current=!0}),x.useCallback(function(c,d){if(d===void 0&&(d={}),!a.current)return;if(typeof c=="number"){r.go(c);return}let h=zg(c,JSON.parse(o),s,d.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:pi([e,h.pathname])),(d.replace?r.replace:r.push)(h,d.state,d)},[e,r,o,s,t])}function cz(){let{matches:t}=x.useContext(Mr),e=t[t.length-1];return e?e.params:{}}function eh(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=x.useContext(Vr),{matches:i}=x.useContext(Mr),{pathname:s}=qo(),o=JSON.stringify($g(i,r.v7_relativeSplatPath));return x.useMemo(()=>zg(t,JSON.parse(o),s,n==="path"),[t,o,s,n])}function AD(t,e){return RD(t,e)}function RD(t,e,n,r){Ho()||ze(!1);let{navigator:i,static:s}=x.useContext(Vr),{matches:o}=x.useContext(Mr),a=o[o.length-1],l=a?a.params:{};a&&a.pathname;let c=a?a.pathnameBase:"/";a&&a.route;let d=qo(),h;if(e){var p;let w=typeof e=="string"?Wo(e):e;c==="/"||(p=w.pathname)!=null&&p.startsWith(c)||ze(!1),h=w}else h=d;let g=h.pathname||"/",T=g;if(c!=="/"){let w=c.replace(/^\//,"").split("/");T="/"+g.replace(/^\//,"").split("/").slice(w.length).join("/")}let E=!s&&n&&n.matches&&n.matches.length>0?n.matches:rD(t,{pathname:T}),A=ND(E&&E.map(w=>Object.assign({},w,{params:Object.assign({},l,w.params),pathname:pi([c,i.encodeLocation?i.encodeLocation(w.pathname).pathname:w.pathname]),pathnameBase:w.pathnameBase==="/"?c:pi([c,i.encodeLocation?i.encodeLocation(w.pathnameBase).pathname:w.pathnameBase])})),o,n,r);return e&&A?x.createElement(Zd.Provider,{value:{location:Rl({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:ii.Pop}},A):A}function xD(){let t=LD(),e=PD(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},s=null;return x.createElement(x.Fragment,null,x.createElement("h2",null,"Unexpected Application Error!"),x.createElement("h3",{style:{fontStyle:"italic"}},e),n?x.createElement("pre",{style:i},n):null,s)}const kD=x.createElement(xD,null);class bD extends x.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?x.createElement(Mr.Provider,{value:this.props.routeContext},x.createElement(WP.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function DD(t){let{routeContext:e,match:n,children:r}=t,i=x.useContext(Jd);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),x.createElement(Mr.Provider,{value:e},r)}function ND(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var s;if(!n)return null;if(n.errors)t=n.matches;else if((s=r)!=null&&s.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,a=(i=n)==null?void 0:i.errors;if(a!=null){let d=o.findIndex(h=>h.route.id&&(a==null?void 0:a[h.route.id])!==void 0);d>=0||ze(!1),o=o.slice(0,Math.min(o.length,d+1))}let l=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<o.length;d++){let h=o[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(c=d),h.route.id){let{loaderData:p,errors:g}=n,T=h.route.loader&&p[h.route.id]===void 0&&(!g||g[h.route.id]===void 0);if(h.route.lazy||T){l=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((d,h,p)=>{let g,T=!1,E=null,A=null;n&&(g=a&&h.route.id?a[h.route.id]:void 0,E=h.route.errorElement||kD,l&&(c<0&&p===0?(UD("route-fallback",!1),T=!0,A=null):c===p&&(T=!0,A=h.route.hydrateFallbackElement||null)));let w=e.concat(o.slice(0,p+1)),y=()=>{let _;return g?_=E:T?_=A:h.route.Component?_=x.createElement(h.route.Component,null):h.route.element?_=h.route.element:_=d,x.createElement(DD,{match:h,routeContext:{outlet:d,matches:w,isDataRoute:n!=null},children:_})};return n&&(h.route.ErrorBoundary||h.route.errorElement||p===0)?x.createElement(bD,{location:n.location,revalidation:n.revalidation,component:E,error:g,children:y(),routeContext:{outlet:null,matches:w,isDataRoute:!0}}):y()},null)}var GP=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(GP||{}),Zc=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Zc||{});function OD(t){let e=x.useContext(Jd);return e||ze(!1),e}function VD(t){let e=x.useContext(zP);return e||ze(!1),e}function MD(t){let e=x.useContext(Mr);return e||ze(!1),e}function KP(t){let e=MD(),n=e.matches[e.matches.length-1];return n.route.id||ze(!1),n.route.id}function LD(){var t;let e=x.useContext(WP),n=VD(Zc.UseRouteError),r=KP(Zc.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function FD(){let{router:t}=OD(GP.UseNavigateStable),e=KP(Zc.UseNavigateStable),n=x.useRef(!1);return HP(()=>{n.current=!0}),x.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,Rl({fromRouteId:e},s)))},[t,e])}const Aw={};function UD(t,e,n){!e&&!Aw[t]&&(Aw[t]=!0)}function jD(t,e){t==null||t.v7_startTransition,(t==null?void 0:t.v7_relativeSplatPath)===void 0&&(!e||e.v7_relativeSplatPath),e&&(e.v7_fetcherPersist,e.v7_normalizeFormMethod,e.v7_partialHydration,e.v7_skipActionErrorRevalidation)}function Xp(t){let{to:e,replace:n,state:r,relative:i}=t;Ho()||ze(!1);let{future:s,static:o}=x.useContext(Vr),{matches:a}=x.useContext(Mr),{pathname:l}=qo(),c=qP(),d=zg(e,$g(a,s.v7_relativeSplatPath),l,i==="path"),h=JSON.stringify(d);return x.useEffect(()=>c(JSON.parse(h),{replace:n,state:r,relative:i}),[c,h,i,n,r]),null}function hr(t){ze(!1)}function BD(t){let{basename:e="/",children:n=null,location:r,navigationType:i=ii.Pop,navigator:s,static:o=!1,future:a}=t;Ho()&&ze(!1);let l=e.replace(/^\/*/,"/"),c=x.useMemo(()=>({basename:l,navigator:s,static:o,future:Rl({v7_relativeSplatPath:!1},a)}),[l,a,s,o]);typeof r=="string"&&(r=Wo(r));let{pathname:d="/",search:h="",hash:p="",state:g=null,key:T="default"}=r,E=x.useMemo(()=>{let A=xo(d,l);return A==null?null:{location:{pathname:A,search:h,hash:p,state:g,key:T},navigationType:i}},[l,d,h,p,g,T,i]);return E==null?null:x.createElement(Vr.Provider,{value:c},x.createElement(Zd.Provider,{children:n,value:E}))}function $D(t){let{children:e,location:n}=t;return AD(Jp(e),n)}new Promise(()=>{});function Jp(t,e){e===void 0&&(e=[]);let n=[];return x.Children.forEach(t,(r,i)=>{if(!x.isValidElement(r))return;let s=[...e,i];if(r.type===x.Fragment){n.push.apply(n,Jp(r.props.children,s));return}r.type!==hr&&ze(!1),!r.props.index||!r.props.children||ze(!1);let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=Jp(r.props.children,s)),n.push(o)}),n}/**
 * React Router DOM v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ed(){return ed=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ed.apply(this,arguments)}function YP(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function zD(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function WD(t,e){return t.button===0&&(!e||e==="_self")&&!zD(t)}const HD=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],qD=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],GD="6";try{window.__reactRouterVersion=GD}catch{}const KD=x.createContext({isTransitioning:!1}),YD="startTransition",Rw=ME[YD];function QD(t){let{basename:e,children:n,future:r,window:i}=t,s=x.useRef();s.current==null&&(s.current=eD({window:i,v5Compat:!0}));let o=s.current,[a,l]=x.useState({action:o.action,location:o.location}),{v7_startTransition:c}=r||{},d=x.useCallback(h=>{c&&Rw?Rw(()=>l(h)):l(h)},[l,c]);return x.useLayoutEffect(()=>o.listen(d),[o,d]),x.useEffect(()=>jD(r),[r]),x.createElement(BD,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o,future:r})}const XD=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",JD=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ZD=x.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:s,replace:o,state:a,target:l,to:c,preventScrollReset:d,viewTransition:h}=e,p=YP(e,HD),{basename:g}=x.useContext(Vr),T,E=!1;if(typeof c=="string"&&JD.test(c)&&(T=c,XD))try{let _=new URL(window.location.href),b=c.startsWith("//")?new URL(_.protocol+c):new URL(c),O=xo(b.pathname,g);b.origin===_.origin&&O!=null?c=O+b.search+b.hash:E=!0}catch{}let A=CD(c,{relative:i}),w=nN(c,{replace:o,state:a,target:l,preventScrollReset:d,relative:i,viewTransition:h});function y(_){r&&r(_),_.defaultPrevented||w(_)}return x.createElement("a",ed({},p,{href:T||A,onClick:E||s?r:y,ref:n,target:l}))}),eN=x.forwardRef(function(e,n){let{"aria-current":r="page",caseSensitive:i=!1,className:s="",end:o=!1,style:a,to:l,viewTransition:c,children:d}=e,h=YP(e,qD),p=eh(l,{relative:h.relative}),g=qo(),T=x.useContext(zP),{navigator:E,basename:A}=x.useContext(Vr),w=T!=null&&rN(p)&&c===!0,y=E.encodeLocation?E.encodeLocation(p).pathname:p.pathname,_=g.pathname,b=T&&T.navigation&&T.navigation.location?T.navigation.location.pathname:null;i||(_=_.toLowerCase(),b=b?b.toLowerCase():null,y=y.toLowerCase()),b&&A&&(b=xo(b,A)||b);const O=y!=="/"&&y.endsWith("/")?y.length-1:y.length;let V=_===y||!o&&_.startsWith(y)&&_.charAt(O)==="/",C=b!=null&&(b===y||!o&&b.startsWith(y)&&b.charAt(y.length)==="/"),v={isActive:V,isPending:C,isTransitioning:w},S=V?r:void 0,I;typeof s=="function"?I=s(v):I=[s,V?"active":null,C?"pending":null,w?"transitioning":null].filter(Boolean).join(" ");let D=typeof a=="function"?a(v):a;return x.createElement(ZD,ed({},h,{"aria-current":S,className:I,ref:n,style:D,to:l,viewTransition:c}),typeof d=="function"?d(v):d)});var Zp;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(Zp||(Zp={}));var xw;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(xw||(xw={}));function tN(t){let e=x.useContext(Jd);return e||ze(!1),e}function nN(t,e){let{target:n,replace:r,state:i,preventScrollReset:s,relative:o,viewTransition:a}=e===void 0?{}:e,l=qP(),c=qo(),d=eh(t,{relative:o});return x.useCallback(h=>{if(WD(h,n)){h.preventDefault();let p=r!==void 0?r:Xc(c)===Xc(d);l(t,{replace:p,state:i,preventScrollReset:s,relative:o,viewTransition:a})}},[c,l,d,r,i,n,t,s,o,a])}function rN(t,e){e===void 0&&(e={});let n=x.useContext(KD);n==null&&ze(!1);let{basename:r}=tN(Zp.useViewTransitionState),i=eh(t,{relative:e.relative});if(!n.isTransitioning)return!1;let s=xo(n.currentLocation.pathname,r)||n.currentLocation.pathname,o=xo(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Jc(i.pathname,o)!=null||Jc(i.pathname,s)!=null}const iN=()=>{};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QP=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},sN=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},XP={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,l=i+2<t.length,c=l?t[i+2]:0,d=s>>2,h=(s&3)<<4|a>>4;let p=(a&15)<<2|c>>6,g=c&63;l||(g=64,o||(p=64)),r.push(n[d],n[h],n[p],n[g])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(QP(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):sN(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const h=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||c==null||h==null)throw new oN;const p=s<<2|a>>4;if(r.push(p),c!==64){const g=a<<4&240|c>>2;if(r.push(g),h!==64){const T=c<<6&192|h;r.push(T)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class oN extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const aN=function(t){const e=QP(t);return XP.encodeByteArray(e,!0)},td=function(t){return aN(t).replace(/\./g,"")},JP=function(t){try{return XP.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lN(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uN=()=>lN().__FIREBASE_DEFAULTS__,cN=()=>{if(typeof process>"u"||typeof process.env>"u")return;const t={}.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},dN=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&JP(t[1]);return e&&JSON.parse(e)},th=()=>{try{return iN()||uN()||cN()||dN()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},ZP=t=>{var e,n;return(n=(e=th())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},hN=t=>{const e=ZP(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},eS=()=>{var t;return(t=th())==null?void 0:t.config},tS=t=>{var e;return(e=th())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fN{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Go(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function nS(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pN(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o={iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}},...t},a="";return[td(JSON.stringify(n)),td(JSON.stringify(o)),a].join(".")}const el={};function mN(){const t={prod:[],emulator:[]};for(const e of Object.keys(el))el[e]?t.emulator.push(e):t.prod.push(e);return t}function gN(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let kw=!1;function rS(t,e){if(typeof window>"u"||typeof document>"u"||!Go(window.location.host)||el[t]===e||el[t]||kw)return;el[t]=e;function n(p){return`__firebase__banner__${p}`}const r="__firebase__banner",s=mN().prod.length>0;function o(){const p=document.getElementById(r);p&&p.remove()}function a(p){p.style.display="flex",p.style.background="#7faaf0",p.style.position="fixed",p.style.bottom="5px",p.style.left="5px",p.style.padding=".5em",p.style.borderRadius="5px",p.style.alignItems="center"}function l(p,g){p.setAttribute("width","24"),p.setAttribute("id",g),p.setAttribute("height","24"),p.setAttribute("viewBox","0 0 24 24"),p.setAttribute("fill","none"),p.style.marginLeft="-6px"}function c(){const p=document.createElement("span");return p.style.cursor="pointer",p.style.marginLeft="16px",p.style.fontSize="24px",p.innerHTML=" &times;",p.onclick=()=>{kw=!0,o()},p}function d(p,g){p.setAttribute("id",g),p.innerText="Learn more",p.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",p.setAttribute("target","__blank"),p.style.paddingLeft="5px",p.style.textDecoration="underline"}function h(){const p=gN(r),g=n("text"),T=document.getElementById(g)||document.createElement("span"),E=n("learnmore"),A=document.getElementById(E)||document.createElement("a"),w=n("preprendIcon"),y=document.getElementById(w)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(p.created){const _=p.element;a(_),d(A,E);const b=c();l(y,w),_.append(y,T,A,b),document.body.appendChild(_)}s?(T.innerText="Preview backend disconnected.",y.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(y.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,T.innerText="Preview backend running in this workspace."),T.setAttribute("id",g)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",h):h()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function yN(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Bt())}function vN(){var e;const t=(e=th())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function wN(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function _N(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function TN(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function EN(){const t=Bt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function PN(){return!vN()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function SN(){try{return typeof indexedDB=="object"}catch{return!1}}function CN(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)==null?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IN="FirebaseError";class Lr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=IN,Object.setPrototypeOf(this,Lr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Gl.prototype.create)}}class Gl{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?AN(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new Lr(i,a,r)}}function AN(t,e){return t.replace(RN,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const RN=/\{\$([^}]+)}/g;function xN(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function fs(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(bw(s)&&bw(o)){if(!fs(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function bw(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kl(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Fa(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function Ua(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function kN(t,e){const n=new bN(t,e);return n.subscribe.bind(n)}class bN{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");DN(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=If),i.error===void 0&&(i.error=If),i.complete===void 0&&(i.complete=If);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function DN(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function If(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function it(t){return t&&t._delegate?t._delegate:t}class ps{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yi="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let NN=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new fN;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(VN(e))try{this.getOrInitializeService({instanceIdentifier:Yi})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Yi){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Yi){return this.instances.has(e)}getOptions(e=Yi){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),i=this.onInitCallbacks.get(r)??new Set;i.add(e),this.onInitCallbacks.set(r,i);const s=this.instances.get(r);return s&&e(s,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:ON(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Yi){return this.component?this.component.multipleInstances?e:Yi:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function ON(t){return t===Yi?void 0:t}function VN(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MN{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new NN(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var de;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(de||(de={}));const LN={debug:de.DEBUG,verbose:de.VERBOSE,info:de.INFO,warn:de.WARN,error:de.ERROR,silent:de.SILENT},FN=de.INFO,UN={[de.DEBUG]:"log",[de.VERBOSE]:"log",[de.INFO]:"info",[de.WARN]:"warn",[de.ERROR]:"error"},jN=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=UN[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Wg{constructor(e){this.name=e,this._logLevel=FN,this._logHandler=jN,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in de))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?LN[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,de.DEBUG,...e),this._logHandler(this,de.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,de.VERBOSE,...e),this._logHandler(this,de.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,de.INFO,...e),this._logHandler(this,de.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,de.WARN,...e),this._logHandler(this,de.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,de.ERROR,...e),this._logHandler(this,de.ERROR,...e)}}const BN=(t,e)=>e.some(n=>t instanceof n);let Dw,Nw;function $N(){return Dw||(Dw=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function zN(){return Nw||(Nw=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const iS=new WeakMap,em=new WeakMap,sS=new WeakMap,Af=new WeakMap,Hg=new WeakMap;function WN(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(mi(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&iS.set(n,t)}).catch(()=>{}),Hg.set(e,t),e}function HN(t){if(em.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});em.set(t,e)}let tm={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return em.get(t);if(e==="objectStoreNames")return t.objectStoreNames||sS.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return mi(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function qN(t){tm=t(tm)}function GN(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Rf(this),e,...n);return sS.set(r,e.sort?e.sort():[e]),mi(r)}:zN().includes(t)?function(...e){return t.apply(Rf(this),e),mi(iS.get(this))}:function(...e){return mi(t.apply(Rf(this),e))}}function KN(t){return typeof t=="function"?GN(t):(t instanceof IDBTransaction&&HN(t),BN(t,$N())?new Proxy(t,tm):t)}function mi(t){if(t instanceof IDBRequest)return WN(t);if(Af.has(t))return Af.get(t);const e=KN(t);return e!==t&&(Af.set(t,e),Hg.set(e,t)),e}const Rf=t=>Hg.get(t);function YN(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=mi(o);return r&&o.addEventListener("upgradeneeded",l=>{r(mi(o.result),l.oldVersion,l.newVersion,mi(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const QN=["get","getKey","getAll","getAllKeys","count"],XN=["put","add","delete","clear"],xf=new Map;function Ow(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(xf.get(e))return xf.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=XN.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||QN.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),i&&l.done]))[0]};return xf.set(e,s),s}qN(t=>({...t,get:(e,n,r)=>Ow(e,n)||t.get(e,n,r),has:(e,n)=>!!Ow(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JN{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(ZN(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function ZN(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const nm="@firebase/app",Vw="0.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rr=new Wg("@firebase/app"),eO="@firebase/app-compat",tO="@firebase/analytics-compat",nO="@firebase/analytics",rO="@firebase/app-check-compat",iO="@firebase/app-check",sO="@firebase/auth",oO="@firebase/auth-compat",aO="@firebase/database",lO="@firebase/data-connect",uO="@firebase/database-compat",cO="@firebase/functions",dO="@firebase/functions-compat",hO="@firebase/installations",fO="@firebase/installations-compat",pO="@firebase/messaging",mO="@firebase/messaging-compat",gO="@firebase/performance",yO="@firebase/performance-compat",vO="@firebase/remote-config",wO="@firebase/remote-config-compat",_O="@firebase/storage",TO="@firebase/storage-compat",EO="@firebase/firestore",PO="@firebase/ai",SO="@firebase/firestore-compat",CO="firebase",IO="12.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rm="[DEFAULT]",AO={[nm]:"fire-core",[eO]:"fire-core-compat",[nO]:"fire-analytics",[tO]:"fire-analytics-compat",[iO]:"fire-app-check",[rO]:"fire-app-check-compat",[sO]:"fire-auth",[oO]:"fire-auth-compat",[aO]:"fire-rtdb",[lO]:"fire-data-connect",[uO]:"fire-rtdb-compat",[cO]:"fire-fn",[dO]:"fire-fn-compat",[hO]:"fire-iid",[fO]:"fire-iid-compat",[pO]:"fire-fcm",[mO]:"fire-fcm-compat",[gO]:"fire-perf",[yO]:"fire-perf-compat",[vO]:"fire-rc",[wO]:"fire-rc-compat",[_O]:"fire-gcs",[TO]:"fire-gcs-compat",[EO]:"fire-fst",[SO]:"fire-fst-compat",[PO]:"fire-vertex","fire-js":"fire-js",[CO]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nd=new Map,RO=new Map,im=new Map;function Mw(t,e){try{t.container.addComponent(e)}catch(n){Rr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function ko(t){const e=t.name;if(im.has(e))return Rr.debug(`There were multiple attempts to register component ${e}.`),!1;im.set(e,t);for(const n of nd.values())Mw(n,t);for(const n of RO.values())Mw(n,t);return!0}function qg(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function hn(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xO={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},gi=new Gl("app","Firebase",xO);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kO{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ps("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw gi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ko=IO;function oS(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:rm,automaticDataCollectionEnabled:!0,...e},i=r.name;if(typeof i!="string"||!i)throw gi.create("bad-app-name",{appName:String(i)});if(n||(n=eS()),!n)throw gi.create("no-options");const s=nd.get(i);if(s){if(fs(n,s.options)&&fs(r,s.config))return s;throw gi.create("duplicate-app",{appName:i})}const o=new MN(i);for(const l of im.values())o.addComponent(l);const a=new kO(n,r,o);return nd.set(i,a),a}function aS(t=rm){const e=nd.get(t);if(!e&&t===rm&&eS())return oS();if(!e)throw gi.create("no-app",{appName:t});return e}function yi(t,e,n){let r=AO[t]??t;n&&(r+=`-${n}`);const i=r.match(/\s|\//),s=e.match(/\s|\//);if(i||s){const o=[`Unable to register library "${r}" with version "${e}":`];i&&o.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&s&&o.push("and"),s&&o.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Rr.warn(o.join(" "));return}ko(new ps(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bO="firebase-heartbeat-database",DO=1,xl="firebase-heartbeat-store";let kf=null;function lS(){return kf||(kf=YN(bO,DO,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(xl)}catch(n){console.warn(n)}}}}).catch(t=>{throw gi.create("idb-open",{originalErrorMessage:t.message})})),kf}async function NO(t){try{const n=(await lS()).transaction(xl),r=await n.objectStore(xl).get(uS(t));return await n.done,r}catch(e){if(e instanceof Lr)Rr.warn(e.message);else{const n=gi.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Rr.warn(n.message)}}}async function Lw(t,e){try{const r=(await lS()).transaction(xl,"readwrite");await r.objectStore(xl).put(e,uS(t)),await r.done}catch(n){if(n instanceof Lr)Rr.warn(n.message);else{const r=gi.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Rr.warn(r.message)}}}function uS(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OO=1024,VO=30;class MO{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new FO(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=Fw();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats.length>VO){const o=UO(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Rr.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Fw(),{heartbeatsToSend:r,unsentEntries:i}=LO(this._heartbeatsCache.heartbeats),s=td(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return Rr.warn(n),""}}}function Fw(){return new Date().toISOString().substring(0,10)}function LO(t,e=OO){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),Uw(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Uw(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class FO{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return SN()?CN().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await NO(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return Lw(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return Lw(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function Uw(t){return td(JSON.stringify({version:2,heartbeats:t})).length}function UO(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jO(t){ko(new ps("platform-logger",e=>new JN(e),"PRIVATE")),ko(new ps("heartbeat",e=>new MO(e),"PRIVATE")),yi(nm,Vw,t),yi(nm,Vw,"esm2020"),yi("fire-js","")}jO("");var BO="firebase",$O="12.1.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */yi(BO,$O,"app");var jw=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var vi,cS;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(C,v){function S(){}S.prototype=v.prototype,C.D=v.prototype,C.prototype=new S,C.prototype.constructor=C,C.C=function(I,D,k){for(var R=Array(arguments.length-2),$=2;$<arguments.length;$++)R[$-2]=arguments[$];return v.prototype[D].apply(I,R)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(C,v,S){S||(S=0);var I=Array(16);if(typeof v=="string")for(var D=0;16>D;++D)I[D]=v.charCodeAt(S++)|v.charCodeAt(S++)<<8|v.charCodeAt(S++)<<16|v.charCodeAt(S++)<<24;else for(D=0;16>D;++D)I[D]=v[S++]|v[S++]<<8|v[S++]<<16|v[S++]<<24;v=C.g[0],S=C.g[1],D=C.g[2];var k=C.g[3],R=v+(k^S&(D^k))+I[0]+3614090360&4294967295;v=S+(R<<7&4294967295|R>>>25),R=k+(D^v&(S^D))+I[1]+3905402710&4294967295,k=v+(R<<12&4294967295|R>>>20),R=D+(S^k&(v^S))+I[2]+606105819&4294967295,D=k+(R<<17&4294967295|R>>>15),R=S+(v^D&(k^v))+I[3]+3250441966&4294967295,S=D+(R<<22&4294967295|R>>>10),R=v+(k^S&(D^k))+I[4]+4118548399&4294967295,v=S+(R<<7&4294967295|R>>>25),R=k+(D^v&(S^D))+I[5]+1200080426&4294967295,k=v+(R<<12&4294967295|R>>>20),R=D+(S^k&(v^S))+I[6]+2821735955&4294967295,D=k+(R<<17&4294967295|R>>>15),R=S+(v^D&(k^v))+I[7]+4249261313&4294967295,S=D+(R<<22&4294967295|R>>>10),R=v+(k^S&(D^k))+I[8]+1770035416&4294967295,v=S+(R<<7&4294967295|R>>>25),R=k+(D^v&(S^D))+I[9]+2336552879&4294967295,k=v+(R<<12&4294967295|R>>>20),R=D+(S^k&(v^S))+I[10]+4294925233&4294967295,D=k+(R<<17&4294967295|R>>>15),R=S+(v^D&(k^v))+I[11]+2304563134&4294967295,S=D+(R<<22&4294967295|R>>>10),R=v+(k^S&(D^k))+I[12]+1804603682&4294967295,v=S+(R<<7&4294967295|R>>>25),R=k+(D^v&(S^D))+I[13]+4254626195&4294967295,k=v+(R<<12&4294967295|R>>>20),R=D+(S^k&(v^S))+I[14]+2792965006&4294967295,D=k+(R<<17&4294967295|R>>>15),R=S+(v^D&(k^v))+I[15]+1236535329&4294967295,S=D+(R<<22&4294967295|R>>>10),R=v+(D^k&(S^D))+I[1]+4129170786&4294967295,v=S+(R<<5&4294967295|R>>>27),R=k+(S^D&(v^S))+I[6]+3225465664&4294967295,k=v+(R<<9&4294967295|R>>>23),R=D+(v^S&(k^v))+I[11]+643717713&4294967295,D=k+(R<<14&4294967295|R>>>18),R=S+(k^v&(D^k))+I[0]+3921069994&4294967295,S=D+(R<<20&4294967295|R>>>12),R=v+(D^k&(S^D))+I[5]+3593408605&4294967295,v=S+(R<<5&4294967295|R>>>27),R=k+(S^D&(v^S))+I[10]+38016083&4294967295,k=v+(R<<9&4294967295|R>>>23),R=D+(v^S&(k^v))+I[15]+3634488961&4294967295,D=k+(R<<14&4294967295|R>>>18),R=S+(k^v&(D^k))+I[4]+3889429448&4294967295,S=D+(R<<20&4294967295|R>>>12),R=v+(D^k&(S^D))+I[9]+568446438&4294967295,v=S+(R<<5&4294967295|R>>>27),R=k+(S^D&(v^S))+I[14]+3275163606&4294967295,k=v+(R<<9&4294967295|R>>>23),R=D+(v^S&(k^v))+I[3]+4107603335&4294967295,D=k+(R<<14&4294967295|R>>>18),R=S+(k^v&(D^k))+I[8]+1163531501&4294967295,S=D+(R<<20&4294967295|R>>>12),R=v+(D^k&(S^D))+I[13]+2850285829&4294967295,v=S+(R<<5&4294967295|R>>>27),R=k+(S^D&(v^S))+I[2]+4243563512&4294967295,k=v+(R<<9&4294967295|R>>>23),R=D+(v^S&(k^v))+I[7]+1735328473&4294967295,D=k+(R<<14&4294967295|R>>>18),R=S+(k^v&(D^k))+I[12]+2368359562&4294967295,S=D+(R<<20&4294967295|R>>>12),R=v+(S^D^k)+I[5]+4294588738&4294967295,v=S+(R<<4&4294967295|R>>>28),R=k+(v^S^D)+I[8]+2272392833&4294967295,k=v+(R<<11&4294967295|R>>>21),R=D+(k^v^S)+I[11]+1839030562&4294967295,D=k+(R<<16&4294967295|R>>>16),R=S+(D^k^v)+I[14]+4259657740&4294967295,S=D+(R<<23&4294967295|R>>>9),R=v+(S^D^k)+I[1]+2763975236&4294967295,v=S+(R<<4&4294967295|R>>>28),R=k+(v^S^D)+I[4]+1272893353&4294967295,k=v+(R<<11&4294967295|R>>>21),R=D+(k^v^S)+I[7]+4139469664&4294967295,D=k+(R<<16&4294967295|R>>>16),R=S+(D^k^v)+I[10]+3200236656&4294967295,S=D+(R<<23&4294967295|R>>>9),R=v+(S^D^k)+I[13]+681279174&4294967295,v=S+(R<<4&4294967295|R>>>28),R=k+(v^S^D)+I[0]+3936430074&4294967295,k=v+(R<<11&4294967295|R>>>21),R=D+(k^v^S)+I[3]+3572445317&4294967295,D=k+(R<<16&4294967295|R>>>16),R=S+(D^k^v)+I[6]+76029189&4294967295,S=D+(R<<23&4294967295|R>>>9),R=v+(S^D^k)+I[9]+3654602809&4294967295,v=S+(R<<4&4294967295|R>>>28),R=k+(v^S^D)+I[12]+3873151461&4294967295,k=v+(R<<11&4294967295|R>>>21),R=D+(k^v^S)+I[15]+530742520&4294967295,D=k+(R<<16&4294967295|R>>>16),R=S+(D^k^v)+I[2]+3299628645&4294967295,S=D+(R<<23&4294967295|R>>>9),R=v+(D^(S|~k))+I[0]+4096336452&4294967295,v=S+(R<<6&4294967295|R>>>26),R=k+(S^(v|~D))+I[7]+1126891415&4294967295,k=v+(R<<10&4294967295|R>>>22),R=D+(v^(k|~S))+I[14]+2878612391&4294967295,D=k+(R<<15&4294967295|R>>>17),R=S+(k^(D|~v))+I[5]+4237533241&4294967295,S=D+(R<<21&4294967295|R>>>11),R=v+(D^(S|~k))+I[12]+1700485571&4294967295,v=S+(R<<6&4294967295|R>>>26),R=k+(S^(v|~D))+I[3]+2399980690&4294967295,k=v+(R<<10&4294967295|R>>>22),R=D+(v^(k|~S))+I[10]+4293915773&4294967295,D=k+(R<<15&4294967295|R>>>17),R=S+(k^(D|~v))+I[1]+2240044497&4294967295,S=D+(R<<21&4294967295|R>>>11),R=v+(D^(S|~k))+I[8]+1873313359&4294967295,v=S+(R<<6&4294967295|R>>>26),R=k+(S^(v|~D))+I[15]+4264355552&4294967295,k=v+(R<<10&4294967295|R>>>22),R=D+(v^(k|~S))+I[6]+2734768916&4294967295,D=k+(R<<15&4294967295|R>>>17),R=S+(k^(D|~v))+I[13]+1309151649&4294967295,S=D+(R<<21&4294967295|R>>>11),R=v+(D^(S|~k))+I[4]+4149444226&4294967295,v=S+(R<<6&4294967295|R>>>26),R=k+(S^(v|~D))+I[11]+3174756917&4294967295,k=v+(R<<10&4294967295|R>>>22),R=D+(v^(k|~S))+I[2]+718787259&4294967295,D=k+(R<<15&4294967295|R>>>17),R=S+(k^(D|~v))+I[9]+3951481745&4294967295,C.g[0]=C.g[0]+v&4294967295,C.g[1]=C.g[1]+(D+(R<<21&4294967295|R>>>11))&4294967295,C.g[2]=C.g[2]+D&4294967295,C.g[3]=C.g[3]+k&4294967295}r.prototype.u=function(C,v){v===void 0&&(v=C.length);for(var S=v-this.blockSize,I=this.B,D=this.h,k=0;k<v;){if(D==0)for(;k<=S;)i(this,C,k),k+=this.blockSize;if(typeof C=="string"){for(;k<v;)if(I[D++]=C.charCodeAt(k++),D==this.blockSize){i(this,I),D=0;break}}else for(;k<v;)if(I[D++]=C[k++],D==this.blockSize){i(this,I),D=0;break}}this.h=D,this.o+=v},r.prototype.v=function(){var C=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);C[0]=128;for(var v=1;v<C.length-8;++v)C[v]=0;var S=8*this.o;for(v=C.length-8;v<C.length;++v)C[v]=S&255,S/=256;for(this.u(C),C=Array(16),v=S=0;4>v;++v)for(var I=0;32>I;I+=8)C[S++]=this.g[v]>>>I&255;return C};function s(C,v){var S=a;return Object.prototype.hasOwnProperty.call(S,C)?S[C]:S[C]=v(C)}function o(C,v){this.h=v;for(var S=[],I=!0,D=C.length-1;0<=D;D--){var k=C[D]|0;I&&k==v||(S[D]=k,I=!1)}this.g=S}var a={};function l(C){return-128<=C&&128>C?s(C,function(v){return new o([v|0],0>v?-1:0)}):new o([C|0],0>C?-1:0)}function c(C){if(isNaN(C)||!isFinite(C))return h;if(0>C)return A(c(-C));for(var v=[],S=1,I=0;C>=S;I++)v[I]=C/S|0,S*=4294967296;return new o(v,0)}function d(C,v){if(C.length==0)throw Error("number format error: empty string");if(v=v||10,2>v||36<v)throw Error("radix out of range: "+v);if(C.charAt(0)=="-")return A(d(C.substring(1),v));if(0<=C.indexOf("-"))throw Error('number format error: interior "-" character');for(var S=c(Math.pow(v,8)),I=h,D=0;D<C.length;D+=8){var k=Math.min(8,C.length-D),R=parseInt(C.substring(D,D+k),v);8>k?(k=c(Math.pow(v,k)),I=I.j(k).add(c(R))):(I=I.j(S),I=I.add(c(R)))}return I}var h=l(0),p=l(1),g=l(16777216);t=o.prototype,t.m=function(){if(E(this))return-A(this).m();for(var C=0,v=1,S=0;S<this.g.length;S++){var I=this.i(S);C+=(0<=I?I:4294967296+I)*v,v*=4294967296}return C},t.toString=function(C){if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(T(this))return"0";if(E(this))return"-"+A(this).toString(C);for(var v=c(Math.pow(C,6)),S=this,I="";;){var D=b(S,v).g;S=w(S,D.j(v));var k=((0<S.g.length?S.g[0]:S.h)>>>0).toString(C);if(S=D,T(S))return k+I;for(;6>k.length;)k="0"+k;I=k+I}},t.i=function(C){return 0>C?0:C<this.g.length?this.g[C]:this.h};function T(C){if(C.h!=0)return!1;for(var v=0;v<C.g.length;v++)if(C.g[v]!=0)return!1;return!0}function E(C){return C.h==-1}t.l=function(C){return C=w(this,C),E(C)?-1:T(C)?0:1};function A(C){for(var v=C.g.length,S=[],I=0;I<v;I++)S[I]=~C.g[I];return new o(S,~C.h).add(p)}t.abs=function(){return E(this)?A(this):this},t.add=function(C){for(var v=Math.max(this.g.length,C.g.length),S=[],I=0,D=0;D<=v;D++){var k=I+(this.i(D)&65535)+(C.i(D)&65535),R=(k>>>16)+(this.i(D)>>>16)+(C.i(D)>>>16);I=R>>>16,k&=65535,R&=65535,S[D]=R<<16|k}return new o(S,S[S.length-1]&-2147483648?-1:0)};function w(C,v){return C.add(A(v))}t.j=function(C){if(T(this)||T(C))return h;if(E(this))return E(C)?A(this).j(A(C)):A(A(this).j(C));if(E(C))return A(this.j(A(C)));if(0>this.l(g)&&0>C.l(g))return c(this.m()*C.m());for(var v=this.g.length+C.g.length,S=[],I=0;I<2*v;I++)S[I]=0;for(I=0;I<this.g.length;I++)for(var D=0;D<C.g.length;D++){var k=this.i(I)>>>16,R=this.i(I)&65535,$=C.i(D)>>>16,J=C.i(D)&65535;S[2*I+2*D]+=R*J,y(S,2*I+2*D),S[2*I+2*D+1]+=k*J,y(S,2*I+2*D+1),S[2*I+2*D+1]+=R*$,y(S,2*I+2*D+1),S[2*I+2*D+2]+=k*$,y(S,2*I+2*D+2)}for(I=0;I<v;I++)S[I]=S[2*I+1]<<16|S[2*I];for(I=v;I<2*v;I++)S[I]=0;return new o(S,0)};function y(C,v){for(;(C[v]&65535)!=C[v];)C[v+1]+=C[v]>>>16,C[v]&=65535,v++}function _(C,v){this.g=C,this.h=v}function b(C,v){if(T(v))throw Error("division by zero");if(T(C))return new _(h,h);if(E(C))return v=b(A(C),v),new _(A(v.g),A(v.h));if(E(v))return v=b(C,A(v)),new _(A(v.g),v.h);if(30<C.g.length){if(E(C)||E(v))throw Error("slowDivide_ only works with positive integers.");for(var S=p,I=v;0>=I.l(C);)S=O(S),I=O(I);var D=V(S,1),k=V(I,1);for(I=V(I,2),S=V(S,2);!T(I);){var R=k.add(I);0>=R.l(C)&&(D=D.add(S),k=R),I=V(I,1),S=V(S,1)}return v=w(C,D.j(v)),new _(D,v)}for(D=h;0<=C.l(v);){for(S=Math.max(1,Math.floor(C.m()/v.m())),I=Math.ceil(Math.log(S)/Math.LN2),I=48>=I?1:Math.pow(2,I-48),k=c(S),R=k.j(v);E(R)||0<R.l(C);)S-=I,k=c(S),R=k.j(v);T(k)&&(k=p),D=D.add(k),C=w(C,R)}return new _(D,C)}t.A=function(C){return b(this,C).h},t.and=function(C){for(var v=Math.max(this.g.length,C.g.length),S=[],I=0;I<v;I++)S[I]=this.i(I)&C.i(I);return new o(S,this.h&C.h)},t.or=function(C){for(var v=Math.max(this.g.length,C.g.length),S=[],I=0;I<v;I++)S[I]=this.i(I)|C.i(I);return new o(S,this.h|C.h)},t.xor=function(C){for(var v=Math.max(this.g.length,C.g.length),S=[],I=0;I<v;I++)S[I]=this.i(I)^C.i(I);return new o(S,this.h^C.h)};function O(C){for(var v=C.g.length+1,S=[],I=0;I<v;I++)S[I]=C.i(I)<<1|C.i(I-1)>>>31;return new o(S,C.h)}function V(C,v){var S=v>>5;v%=32;for(var I=C.g.length-S,D=[],k=0;k<I;k++)D[k]=0<v?C.i(k+S)>>>v|C.i(k+S+1)<<32-v:C.i(k+S);return new o(D,C.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,cS=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=c,o.fromString=d,vi=o}).apply(typeof jw<"u"?jw:typeof self<"u"?self:typeof window<"u"?window:{});var $u=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var dS,ja,hS,mc,sm,fS,pS,mS;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,f,m){return u==Array.prototype||u==Object.prototype||(u[f]=m.value),u};function n(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof $u=="object"&&$u];for(var f=0;f<u.length;++f){var m=u[f];if(m&&m.Math==Math)return m}throw Error("Cannot find global object")}var r=n(this);function i(u,f){if(f)e:{var m=r;u=u.split(".");for(var P=0;P<u.length-1;P++){var N=u[P];if(!(N in m))break e;m=m[N]}u=u[u.length-1],P=m[u],f=f(P),f!=P&&f!=null&&e(m,u,{configurable:!0,writable:!0,value:f})}}function s(u,f){u instanceof String&&(u+="");var m=0,P=!1,N={next:function(){if(!P&&m<u.length){var M=m++;return{value:f(M,u[M]),done:!1}}return P=!0,{done:!0,value:void 0}}};return N[Symbol.iterator]=function(){return N},N}i("Array.prototype.values",function(u){return u||function(){return s(this,function(f,m){return m})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function l(u){var f=typeof u;return f=f!="object"?f:u?Array.isArray(u)?"array":f:"null",f=="array"||f=="object"&&typeof u.length=="number"}function c(u){var f=typeof u;return f=="object"&&u!=null||f=="function"}function d(u,f,m){return u.call.apply(u.bind,arguments)}function h(u,f,m){if(!u)throw Error();if(2<arguments.length){var P=Array.prototype.slice.call(arguments,2);return function(){var N=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(N,P),u.apply(f,N)}}return function(){return u.apply(f,arguments)}}function p(u,f,m){return p=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?d:h,p.apply(null,arguments)}function g(u,f){var m=Array.prototype.slice.call(arguments,1);return function(){var P=m.slice();return P.push.apply(P,arguments),u.apply(this,P)}}function T(u,f){function m(){}m.prototype=f.prototype,u.aa=f.prototype,u.prototype=new m,u.prototype.constructor=u,u.Qb=function(P,N,M){for(var z=Array(arguments.length-2),Re=2;Re<arguments.length;Re++)z[Re-2]=arguments[Re];return f.prototype[N].apply(P,z)}}function E(u){const f=u.length;if(0<f){const m=Array(f);for(let P=0;P<f;P++)m[P]=u[P];return m}return[]}function A(u,f){for(let m=1;m<arguments.length;m++){const P=arguments[m];if(l(P)){const N=u.length||0,M=P.length||0;u.length=N+M;for(let z=0;z<M;z++)u[N+z]=P[z]}else u.push(P)}}class w{constructor(f,m){this.i=f,this.j=m,this.h=0,this.g=null}get(){let f;return 0<this.h?(this.h--,f=this.g,this.g=f.next,f.next=null):f=this.i(),f}}function y(u){return/^[\s\xa0]*$/.test(u)}function _(){var u=a.navigator;return u&&(u=u.userAgent)?u:""}function b(u){return b[" "](u),u}b[" "]=function(){};var O=_().indexOf("Gecko")!=-1&&!(_().toLowerCase().indexOf("webkit")!=-1&&_().indexOf("Edge")==-1)&&!(_().indexOf("Trident")!=-1||_().indexOf("MSIE")!=-1)&&_().indexOf("Edge")==-1;function V(u,f,m){for(const P in u)f.call(m,u[P],P,u)}function C(u,f){for(const m in u)f.call(void 0,u[m],m,u)}function v(u){const f={};for(const m in u)f[m]=u[m];return f}const S="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function I(u,f){let m,P;for(let N=1;N<arguments.length;N++){P=arguments[N];for(m in P)u[m]=P[m];for(let M=0;M<S.length;M++)m=S[M],Object.prototype.hasOwnProperty.call(P,m)&&(u[m]=P[m])}}function D(u){var f=1;u=u.split(":");const m=[];for(;0<f&&u.length;)m.push(u.shift()),f--;return u.length&&m.push(u.join(":")),m}function k(u){a.setTimeout(()=>{throw u},0)}function R(){var u=H;let f=null;return u.g&&(f=u.g,u.g=u.g.next,u.g||(u.h=null),f.next=null),f}class ${constructor(){this.h=this.g=null}add(f,m){const P=J.get();P.set(f,m),this.h?this.h.next=P:this.g=P,this.h=P}}var J=new w(()=>new W,u=>u.reset());class W{constructor(){this.next=this.g=this.h=null}set(f,m){this.h=f,this.g=m,this.next=null}reset(){this.next=this.g=this.h=null}}let se,j=!1,H=new $,te=()=>{const u=a.Promise.resolve(void 0);se=()=>{u.then(Q)}};var Q=()=>{for(var u;u=R();){try{u.h.call(u.g)}catch(m){k(m)}var f=J;f.j(u),100>f.h&&(f.h++,u.next=f.g,f.g=u)}j=!1};function Z(){this.s=this.s,this.C=this.C}Z.prototype.s=!1,Z.prototype.ma=function(){this.s||(this.s=!0,this.N())},Z.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function oe(u,f){this.type=u,this.g=this.target=f,this.defaultPrevented=!1}oe.prototype.h=function(){this.defaultPrevented=!0};var st=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var u=!1,f=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const m=()=>{};a.addEventListener("test",m,f),a.removeEventListener("test",m,f)}catch{}return u}();function zt(u,f){if(oe.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var m=this.type=u.type,P=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=f,f=u.relatedTarget){if(O){e:{try{b(f.nodeName);var N=!0;break e}catch{}N=!1}N||(f=null)}}else m=="mouseover"?f=u.fromElement:m=="mouseout"&&(f=u.toElement);this.relatedTarget=f,P?(this.clientX=P.clientX!==void 0?P.clientX:P.pageX,this.clientY=P.clientY!==void 0?P.clientY:P.pageY,this.screenX=P.screenX||0,this.screenY=P.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:mt[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&zt.aa.h.call(this)}}T(zt,oe);var mt={2:"touch",3:"pen",4:"mouse"};zt.prototype.h=function(){zt.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var gt="closure_listenable_"+(1e6*Math.random()|0),qe=0;function Te(u,f,m,P,N){this.listener=u,this.proxy=null,this.src=f,this.type=m,this.capture=!!P,this.ha=N,this.key=++qe,this.da=this.fa=!1}function Ge(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Tt(u){this.src=u,this.g={},this.h=0}Tt.prototype.add=function(u,f,m,P,N){var M=u.toString();u=this.g[M],u||(u=this.g[M]=[],this.h++);var z=Ds(u,f,P,N);return-1<z?(f=u[z],m||(f.fa=!1)):(f=new Te(f,this.src,M,!!P,N),f.fa=m,u.push(f)),f};function ji(u,f){var m=f.type;if(m in u.g){var P=u.g[m],N=Array.prototype.indexOf.call(P,f,void 0),M;(M=0<=N)&&Array.prototype.splice.call(P,N,1),M&&(Ge(f),u.g[m].length==0&&(delete u.g[m],u.h--))}}function Ds(u,f,m,P){for(var N=0;N<u.length;++N){var M=u[N];if(!M.da&&M.listener==f&&M.capture==!!m&&M.ha==P)return N}return-1}var Bi="closure_lm_"+(1e6*Math.random()|0),Ns={};function fv(u,f,m,P,N){if(P&&P.once)return mv(u,f,m,P,N);if(Array.isArray(f)){for(var M=0;M<f.length;M++)fv(u,f[M],m,P,N);return null}return m=Vh(m),u&&u[gt]?u.K(f,m,c(P)?!!P.capture:!!P,N):pv(u,f,m,!1,P,N)}function pv(u,f,m,P,N,M){if(!f)throw Error("Invalid event type");var z=c(N)?!!N.capture:!!N,Re=Nh(u);if(Re||(u[Bi]=Re=new Tt(u)),m=Re.add(f,m,P,z,M),m.proxy)return m;if(P=XR(),m.proxy=P,P.src=u,P.listener=m,u.addEventListener)st||(N=z),N===void 0&&(N=!1),u.addEventListener(f.toString(),P,N);else if(u.attachEvent)u.attachEvent(yv(f.toString()),P);else if(u.addListener&&u.removeListener)u.addListener(P);else throw Error("addEventListener and attachEvent are unavailable.");return m}function XR(){function u(m){return f.call(u.src,u.listener,m)}const f=JR;return u}function mv(u,f,m,P,N){if(Array.isArray(f)){for(var M=0;M<f.length;M++)mv(u,f[M],m,P,N);return null}return m=Vh(m),u&&u[gt]?u.L(f,m,c(P)?!!P.capture:!!P,N):pv(u,f,m,!0,P,N)}function gv(u,f,m,P,N){if(Array.isArray(f))for(var M=0;M<f.length;M++)gv(u,f[M],m,P,N);else P=c(P)?!!P.capture:!!P,m=Vh(m),u&&u[gt]?(u=u.i,f=String(f).toString(),f in u.g&&(M=u.g[f],m=Ds(M,m,P,N),-1<m&&(Ge(M[m]),Array.prototype.splice.call(M,m,1),M.length==0&&(delete u.g[f],u.h--)))):u&&(u=Nh(u))&&(f=u.g[f.toString()],u=-1,f&&(u=Ds(f,m,P,N)),(m=-1<u?f[u]:null)&&Dh(m))}function Dh(u){if(typeof u!="number"&&u&&!u.da){var f=u.src;if(f&&f[gt])ji(f.i,u);else{var m=u.type,P=u.proxy;f.removeEventListener?f.removeEventListener(m,P,u.capture):f.detachEvent?f.detachEvent(yv(m),P):f.addListener&&f.removeListener&&f.removeListener(P),(m=Nh(f))?(ji(m,u),m.h==0&&(m.src=null,f[Bi]=null)):Ge(u)}}}function yv(u){return u in Ns?Ns[u]:Ns[u]="on"+u}function JR(u,f){if(u.da)u=!0;else{f=new zt(f,this);var m=u.listener,P=u.ha||u.src;u.fa&&Dh(u),u=m.call(P,f)}return u}function Nh(u){return u=u[Bi],u instanceof Tt?u:null}var Oh="__closure_events_fn_"+(1e9*Math.random()>>>0);function Vh(u){return typeof u=="function"?u:(u[Oh]||(u[Oh]=function(f){return u.handleEvent(f)}),u[Oh])}function xt(){Z.call(this),this.i=new Tt(this),this.M=this,this.F=null}T(xt,Z),xt.prototype[gt]=!0,xt.prototype.removeEventListener=function(u,f,m,P){gv(this,u,f,m,P)};function Wt(u,f){var m,P=u.F;if(P)for(m=[];P;P=P.F)m.push(P);if(u=u.M,P=f.type||f,typeof f=="string")f=new oe(f,u);else if(f instanceof oe)f.target=f.target||u;else{var N=f;f=new oe(P,u),I(f,N)}if(N=!0,m)for(var M=m.length-1;0<=M;M--){var z=f.g=m[M];N=uu(z,P,!0,f)&&N}if(z=f.g=u,N=uu(z,P,!0,f)&&N,N=uu(z,P,!1,f)&&N,m)for(M=0;M<m.length;M++)z=f.g=m[M],N=uu(z,P,!1,f)&&N}xt.prototype.N=function(){if(xt.aa.N.call(this),this.i){var u=this.i,f;for(f in u.g){for(var m=u.g[f],P=0;P<m.length;P++)Ge(m[P]);delete u.g[f],u.h--}}this.F=null},xt.prototype.K=function(u,f,m,P){return this.i.add(String(u),f,!1,m,P)},xt.prototype.L=function(u,f,m,P){return this.i.add(String(u),f,!0,m,P)};function uu(u,f,m,P){if(f=u.i.g[String(f)],!f)return!0;f=f.concat();for(var N=!0,M=0;M<f.length;++M){var z=f[M];if(z&&!z.da&&z.capture==m){var Re=z.listener,Et=z.ha||z.src;z.fa&&ji(u.i,z),N=Re.call(Et,P)!==!1&&N}}return N&&!P.defaultPrevented}function vv(u,f,m){if(typeof u=="function")m&&(u=p(u,m));else if(u&&typeof u.handleEvent=="function")u=p(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(f)?-1:a.setTimeout(u,f||0)}function wv(u){u.g=vv(()=>{u.g=null,u.i&&(u.i=!1,wv(u))},u.l);const f=u.h;u.h=null,u.m.apply(null,f)}class ZR extends Z{constructor(f,m){super(),this.m=f,this.l=m,this.h=null,this.i=!1,this.g=null}j(f){this.h=arguments,this.g?this.i=!0:wv(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function na(u){Z.call(this),this.h=u,this.g={}}T(na,Z);var _v=[];function Tv(u){V(u.g,function(f,m){this.g.hasOwnProperty(m)&&Dh(f)},u),u.g={}}na.prototype.N=function(){na.aa.N.call(this),Tv(this)},na.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Mh=a.JSON.stringify,ex=a.JSON.parse,tx=class{stringify(u){return a.JSON.stringify(u,void 0)}parse(u){return a.JSON.parse(u,void 0)}};function Lh(){}Lh.prototype.h=null;function Ev(u){return u.h||(u.h=u.i())}function Pv(){}var ra={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Fh(){oe.call(this,"d")}T(Fh,oe);function Uh(){oe.call(this,"c")}T(Uh,oe);var $i={},Sv=null;function cu(){return Sv=Sv||new xt}$i.La="serverreachability";function Cv(u){oe.call(this,$i.La,u)}T(Cv,oe);function ia(u){const f=cu();Wt(f,new Cv(f))}$i.STAT_EVENT="statevent";function Iv(u,f){oe.call(this,$i.STAT_EVENT,u),this.stat=f}T(Iv,oe);function Ht(u){const f=cu();Wt(f,new Iv(f,u))}$i.Ma="timingevent";function Av(u,f){oe.call(this,$i.Ma,u),this.size=f}T(Av,oe);function sa(u,f){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){u()},f)}function oa(){this.g=!0}oa.prototype.xa=function(){this.g=!1};function nx(u,f,m,P,N,M){u.info(function(){if(u.g)if(M)for(var z="",Re=M.split("&"),Et=0;Et<Re.length;Et++){var Ee=Re[Et].split("=");if(1<Ee.length){var kt=Ee[0];Ee=Ee[1];var bt=kt.split("_");z=2<=bt.length&&bt[1]=="type"?z+(kt+"="+Ee+"&"):z+(kt+"=redacted&")}}else z=null;else z=M;return"XMLHTTP REQ ("+P+") [attempt "+N+"]: "+f+`
`+m+`
`+z})}function rx(u,f,m,P,N,M,z){u.info(function(){return"XMLHTTP RESP ("+P+") [ attempt "+N+"]: "+f+`
`+m+`
`+M+" "+z})}function Os(u,f,m,P){u.info(function(){return"XMLHTTP TEXT ("+f+"): "+sx(u,m)+(P?" "+P:"")})}function ix(u,f){u.info(function(){return"TIMEOUT: "+f})}oa.prototype.info=function(){};function sx(u,f){if(!u.g)return f;if(!f)return null;try{var m=JSON.parse(f);if(m){for(u=0;u<m.length;u++)if(Array.isArray(m[u])){var P=m[u];if(!(2>P.length)){var N=P[1];if(Array.isArray(N)&&!(1>N.length)){var M=N[0];if(M!="noop"&&M!="stop"&&M!="close")for(var z=1;z<N.length;z++)N[z]=""}}}}return Mh(m)}catch{return f}}var du={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Rv={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},jh;function hu(){}T(hu,Lh),hu.prototype.g=function(){return new XMLHttpRequest},hu.prototype.i=function(){return{}},jh=new hu;function Ur(u,f,m,P){this.j=u,this.i=f,this.l=m,this.R=P||1,this.U=new na(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new xv}function xv(){this.i=null,this.g="",this.h=!1}var kv={},Bh={};function $h(u,f,m){u.L=1,u.v=gu(cr(f)),u.m=m,u.P=!0,bv(u,null)}function bv(u,f){u.F=Date.now(),fu(u),u.A=cr(u.v);var m=u.A,P=u.R;Array.isArray(P)||(P=[String(P)]),Hv(m.i,"t",P),u.C=0,m=u.j.J,u.h=new xv,u.g=u0(u.j,m?f:null,!u.m),0<u.O&&(u.M=new ZR(p(u.Y,u,u.g),u.O)),f=u.U,m=u.g,P=u.ca;var N="readystatechange";Array.isArray(N)||(N&&(_v[0]=N.toString()),N=_v);for(var M=0;M<N.length;M++){var z=fv(m,N[M],P||f.handleEvent,!1,f.h||f);if(!z)break;f.g[z.key]=z}f=u.H?v(u.H):{},u.m?(u.u||(u.u="POST"),f["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,f)):(u.u="GET",u.g.ea(u.A,u.u,null,f)),ia(),nx(u.i,u.u,u.A,u.l,u.R,u.m)}Ur.prototype.ca=function(u){u=u.target;const f=this.M;f&&dr(u)==3?f.j():this.Y(u)},Ur.prototype.Y=function(u){try{if(u==this.g)e:{const bt=dr(this.g);var f=this.g.Ba();const Ls=this.g.Z();if(!(3>bt)&&(bt!=3||this.g&&(this.h.h||this.g.oa()||Jv(this.g)))){this.J||bt!=4||f==7||(f==8||0>=Ls?ia(3):ia(2)),zh(this);var m=this.g.Z();this.X=m;t:if(Dv(this)){var P=Jv(this.g);u="";var N=P.length,M=dr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){zi(this),aa(this);var z="";break t}this.h.i=new a.TextDecoder}for(f=0;f<N;f++)this.h.h=!0,u+=this.h.i.decode(P[f],{stream:!(M&&f==N-1)});P.length=0,this.h.g+=u,this.C=0,z=this.h.g}else z=this.g.oa();if(this.o=m==200,rx(this.i,this.u,this.A,this.l,this.R,bt,m),this.o){if(this.T&&!this.K){t:{if(this.g){var Re,Et=this.g;if((Re=Et.g?Et.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!y(Re)){var Ee=Re;break t}}Ee=null}if(m=Ee)Os(this.i,this.l,m,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Wh(this,m);else{this.o=!1,this.s=3,Ht(12),zi(this),aa(this);break e}}if(this.P){m=!0;let Dn;for(;!this.J&&this.C<z.length;)if(Dn=ox(this,z),Dn==Bh){bt==4&&(this.s=4,Ht(14),m=!1),Os(this.i,this.l,null,"[Incomplete Response]");break}else if(Dn==kv){this.s=4,Ht(15),Os(this.i,this.l,z,"[Invalid Chunk]"),m=!1;break}else Os(this.i,this.l,Dn,null),Wh(this,Dn);if(Dv(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),bt!=4||z.length!=0||this.h.h||(this.s=1,Ht(16),m=!1),this.o=this.o&&m,!m)Os(this.i,this.l,z,"[Invalid Chunked Response]"),zi(this),aa(this);else if(0<z.length&&!this.W){this.W=!0;var kt=this.j;kt.g==this&&kt.ba&&!kt.M&&(kt.j.info("Great, no buffering proxy detected. Bytes received: "+z.length),Qh(kt),kt.M=!0,Ht(11))}}else Os(this.i,this.l,z,null),Wh(this,z);bt==4&&zi(this),this.o&&!this.J&&(bt==4?s0(this.j,this):(this.o=!1,fu(this)))}else Px(this.g),m==400&&0<z.indexOf("Unknown SID")?(this.s=3,Ht(12)):(this.s=0,Ht(13)),zi(this),aa(this)}}}catch{}finally{}};function Dv(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function ox(u,f){var m=u.C,P=f.indexOf(`
`,m);return P==-1?Bh:(m=Number(f.substring(m,P)),isNaN(m)?kv:(P+=1,P+m>f.length?Bh:(f=f.slice(P,P+m),u.C=P+m,f)))}Ur.prototype.cancel=function(){this.J=!0,zi(this)};function fu(u){u.S=Date.now()+u.I,Nv(u,u.I)}function Nv(u,f){if(u.B!=null)throw Error("WatchDog timer not null");u.B=sa(p(u.ba,u),f)}function zh(u){u.B&&(a.clearTimeout(u.B),u.B=null)}Ur.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(ix(this.i,this.A),this.L!=2&&(ia(),Ht(17)),zi(this),this.s=2,aa(this)):Nv(this,this.S-u)};function aa(u){u.j.G==0||u.J||s0(u.j,u)}function zi(u){zh(u);var f=u.M;f&&typeof f.ma=="function"&&f.ma(),u.M=null,Tv(u.U),u.g&&(f=u.g,u.g=null,f.abort(),f.ma())}function Wh(u,f){try{var m=u.j;if(m.G!=0&&(m.g==u||Hh(m.h,u))){if(!u.K&&Hh(m.h,u)&&m.G==3){try{var P=m.Da.g.parse(f)}catch{P=null}if(Array.isArray(P)&&P.length==3){var N=P;if(N[0]==0){e:if(!m.u){if(m.g)if(m.g.F+3e3<u.F)Eu(m),_u(m);else break e;Yh(m),Ht(18)}}else m.za=N[1],0<m.za-m.T&&37500>N[2]&&m.F&&m.v==0&&!m.C&&(m.C=sa(p(m.Za,m),6e3));if(1>=Mv(m.h)&&m.ca){try{m.ca()}catch{}m.ca=void 0}}else Hi(m,11)}else if((u.K||m.g==u)&&Eu(m),!y(f))for(N=m.Da.g.parse(f),f=0;f<N.length;f++){let Ee=N[f];if(m.T=Ee[0],Ee=Ee[1],m.G==2)if(Ee[0]=="c"){m.K=Ee[1],m.ia=Ee[2];const kt=Ee[3];kt!=null&&(m.la=kt,m.j.info("VER="+m.la));const bt=Ee[4];bt!=null&&(m.Aa=bt,m.j.info("SVER="+m.Aa));const Ls=Ee[5];Ls!=null&&typeof Ls=="number"&&0<Ls&&(P=1.5*Ls,m.L=P,m.j.info("backChannelRequestTimeoutMs_="+P)),P=m;const Dn=u.g;if(Dn){const Su=Dn.g?Dn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Su){var M=P.h;M.g||Su.indexOf("spdy")==-1&&Su.indexOf("quic")==-1&&Su.indexOf("h2")==-1||(M.j=M.l,M.g=new Set,M.h&&(qh(M,M.h),M.h=null))}if(P.D){const Xh=Dn.g?Dn.g.getResponseHeader("X-HTTP-Session-Id"):null;Xh&&(P.ya=Xh,be(P.I,P.D,Xh))}}m.G=3,m.l&&m.l.ua(),m.ba&&(m.R=Date.now()-u.F,m.j.info("Handshake RTT: "+m.R+"ms")),P=m;var z=u;if(P.qa=l0(P,P.J?P.ia:null,P.W),z.K){Lv(P.h,z);var Re=z,Et=P.L;Et&&(Re.I=Et),Re.B&&(zh(Re),fu(Re)),P.g=z}else r0(P);0<m.i.length&&Tu(m)}else Ee[0]!="stop"&&Ee[0]!="close"||Hi(m,7);else m.G==3&&(Ee[0]=="stop"||Ee[0]=="close"?Ee[0]=="stop"?Hi(m,7):Kh(m):Ee[0]!="noop"&&m.l&&m.l.ta(Ee),m.v=0)}}ia(4)}catch{}}var ax=class{constructor(u,f){this.g=u,this.map=f}};function Ov(u){this.l=u||10,a.PerformanceNavigationTiming?(u=a.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Vv(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Mv(u){return u.h?1:u.g?u.g.size:0}function Hh(u,f){return u.h?u.h==f:u.g?u.g.has(f):!1}function qh(u,f){u.g?u.g.add(f):u.h=f}function Lv(u,f){u.h&&u.h==f?u.h=null:u.g&&u.g.has(f)&&u.g.delete(f)}Ov.prototype.cancel=function(){if(this.i=Fv(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Fv(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let f=u.i;for(const m of u.g.values())f=f.concat(m.D);return f}return E(u.i)}function lx(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(l(u)){for(var f=[],m=u.length,P=0;P<m;P++)f.push(u[P]);return f}f=[],m=0;for(P in u)f[m++]=u[P];return f}function ux(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(l(u)||typeof u=="string"){var f=[];u=u.length;for(var m=0;m<u;m++)f.push(m);return f}f=[],m=0;for(const P in u)f[m++]=P;return f}}}function Uv(u,f){if(u.forEach&&typeof u.forEach=="function")u.forEach(f,void 0);else if(l(u)||typeof u=="string")Array.prototype.forEach.call(u,f,void 0);else for(var m=ux(u),P=lx(u),N=P.length,M=0;M<N;M++)f.call(void 0,P[M],m&&m[M],u)}var jv=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function cx(u,f){if(u){u=u.split("&");for(var m=0;m<u.length;m++){var P=u[m].indexOf("="),N=null;if(0<=P){var M=u[m].substring(0,P);N=u[m].substring(P+1)}else M=u[m];f(M,N?decodeURIComponent(N.replace(/\+/g," ")):"")}}}function Wi(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof Wi){this.h=u.h,pu(this,u.j),this.o=u.o,this.g=u.g,mu(this,u.s),this.l=u.l;var f=u.i,m=new ca;m.i=f.i,f.g&&(m.g=new Map(f.g),m.h=f.h),Bv(this,m),this.m=u.m}else u&&(f=String(u).match(jv))?(this.h=!1,pu(this,f[1]||"",!0),this.o=la(f[2]||""),this.g=la(f[3]||"",!0),mu(this,f[4]),this.l=la(f[5]||"",!0),Bv(this,f[6]||"",!0),this.m=la(f[7]||"")):(this.h=!1,this.i=new ca(null,this.h))}Wi.prototype.toString=function(){var u=[],f=this.j;f&&u.push(ua(f,$v,!0),":");var m=this.g;return(m||f=="file")&&(u.push("//"),(f=this.o)&&u.push(ua(f,$v,!0),"@"),u.push(encodeURIComponent(String(m)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),m=this.s,m!=null&&u.push(":",String(m))),(m=this.l)&&(this.g&&m.charAt(0)!="/"&&u.push("/"),u.push(ua(m,m.charAt(0)=="/"?fx:hx,!0))),(m=this.i.toString())&&u.push("?",m),(m=this.m)&&u.push("#",ua(m,mx)),u.join("")};function cr(u){return new Wi(u)}function pu(u,f,m){u.j=m?la(f,!0):f,u.j&&(u.j=u.j.replace(/:$/,""))}function mu(u,f){if(f){if(f=Number(f),isNaN(f)||0>f)throw Error("Bad port number "+f);u.s=f}else u.s=null}function Bv(u,f,m){f instanceof ca?(u.i=f,gx(u.i,u.h)):(m||(f=ua(f,px)),u.i=new ca(f,u.h))}function be(u,f,m){u.i.set(f,m)}function gu(u){return be(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function la(u,f){return u?f?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function ua(u,f,m){return typeof u=="string"?(u=encodeURI(u).replace(f,dx),m&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function dx(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var $v=/[#\/\?@]/g,hx=/[#\?:]/g,fx=/[#\?]/g,px=/[#\?@]/g,mx=/#/g;function ca(u,f){this.h=this.g=null,this.i=u||null,this.j=!!f}function jr(u){u.g||(u.g=new Map,u.h=0,u.i&&cx(u.i,function(f,m){u.add(decodeURIComponent(f.replace(/\+/g," ")),m)}))}t=ca.prototype,t.add=function(u,f){jr(this),this.i=null,u=Vs(this,u);var m=this.g.get(u);return m||this.g.set(u,m=[]),m.push(f),this.h+=1,this};function zv(u,f){jr(u),f=Vs(u,f),u.g.has(f)&&(u.i=null,u.h-=u.g.get(f).length,u.g.delete(f))}function Wv(u,f){return jr(u),f=Vs(u,f),u.g.has(f)}t.forEach=function(u,f){jr(this),this.g.forEach(function(m,P){m.forEach(function(N){u.call(f,N,P,this)},this)},this)},t.na=function(){jr(this);const u=Array.from(this.g.values()),f=Array.from(this.g.keys()),m=[];for(let P=0;P<f.length;P++){const N=u[P];for(let M=0;M<N.length;M++)m.push(f[P])}return m},t.V=function(u){jr(this);let f=[];if(typeof u=="string")Wv(this,u)&&(f=f.concat(this.g.get(Vs(this,u))));else{u=Array.from(this.g.values());for(let m=0;m<u.length;m++)f=f.concat(u[m])}return f},t.set=function(u,f){return jr(this),this.i=null,u=Vs(this,u),Wv(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[f]),this.h+=1,this},t.get=function(u,f){return u?(u=this.V(u),0<u.length?String(u[0]):f):f};function Hv(u,f,m){zv(u,f),0<m.length&&(u.i=null,u.g.set(Vs(u,f),E(m)),u.h+=m.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],f=Array.from(this.g.keys());for(var m=0;m<f.length;m++){var P=f[m];const M=encodeURIComponent(String(P)),z=this.V(P);for(P=0;P<z.length;P++){var N=M;z[P]!==""&&(N+="="+encodeURIComponent(String(z[P]))),u.push(N)}}return this.i=u.join("&")};function Vs(u,f){return f=String(f),u.j&&(f=f.toLowerCase()),f}function gx(u,f){f&&!u.j&&(jr(u),u.i=null,u.g.forEach(function(m,P){var N=P.toLowerCase();P!=N&&(zv(this,P),Hv(this,N,m))},u)),u.j=f}function yx(u,f){const m=new oa;if(a.Image){const P=new Image;P.onload=g(Br,m,"TestLoadImage: loaded",!0,f,P),P.onerror=g(Br,m,"TestLoadImage: error",!1,f,P),P.onabort=g(Br,m,"TestLoadImage: abort",!1,f,P),P.ontimeout=g(Br,m,"TestLoadImage: timeout",!1,f,P),a.setTimeout(function(){P.ontimeout&&P.ontimeout()},1e4),P.src=u}else f(!1)}function vx(u,f){const m=new oa,P=new AbortController,N=setTimeout(()=>{P.abort(),Br(m,"TestPingServer: timeout",!1,f)},1e4);fetch(u,{signal:P.signal}).then(M=>{clearTimeout(N),M.ok?Br(m,"TestPingServer: ok",!0,f):Br(m,"TestPingServer: server error",!1,f)}).catch(()=>{clearTimeout(N),Br(m,"TestPingServer: error",!1,f)})}function Br(u,f,m,P,N){try{N&&(N.onload=null,N.onerror=null,N.onabort=null,N.ontimeout=null),P(m)}catch{}}function wx(){this.g=new tx}function _x(u,f,m){const P=m||"";try{Uv(u,function(N,M){let z=N;c(N)&&(z=Mh(N)),f.push(P+M+"="+encodeURIComponent(z))})}catch(N){throw f.push(P+"type="+encodeURIComponent("_badmap")),N}}function yu(u){this.l=u.Ub||null,this.j=u.eb||!1}T(yu,Lh),yu.prototype.g=function(){return new vu(this.l,this.j)},yu.prototype.i=function(u){return function(){return u}}({});function vu(u,f){xt.call(this),this.D=u,this.o=f,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}T(vu,xt),t=vu.prototype,t.open=function(u,f){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=f,this.readyState=1,ha(this)},t.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const f={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(f.body=u),(this.D||a).fetch(new Request(this.A,f)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,da(this)),this.readyState=0},t.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,ha(this)),this.g&&(this.readyState=3,ha(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;qv(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function qv(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}t.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var f=u.value?u.value:new Uint8Array(0);(f=this.v.decode(f,{stream:!u.done}))&&(this.response=this.responseText+=f)}u.done?da(this):ha(this),this.readyState==3&&qv(this)}},t.Ra=function(u){this.g&&(this.response=this.responseText=u,da(this))},t.Qa=function(u){this.g&&(this.response=u,da(this))},t.ga=function(){this.g&&da(this)};function da(u){u.readyState=4,u.l=null,u.j=null,u.v=null,ha(u)}t.setRequestHeader=function(u,f){this.u.append(u,f)},t.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],f=this.h.entries();for(var m=f.next();!m.done;)m=m.value,u.push(m[0]+": "+m[1]),m=f.next();return u.join(`\r
`)};function ha(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(vu.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Gv(u){let f="";return V(u,function(m,P){f+=P,f+=":",f+=m,f+=`\r
`}),f}function Gh(u,f,m){e:{for(P in m){var P=!1;break e}P=!0}P||(m=Gv(m),typeof u=="string"?m!=null&&encodeURIComponent(String(m)):be(u,f,m))}function Ke(u){xt.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}T(Ke,xt);var Tx=/^https?$/i,Ex=["POST","PUT"];t=Ke.prototype,t.Ha=function(u){this.J=u},t.ea=function(u,f,m,P){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);f=f?f.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():jh.g(),this.v=this.o?Ev(this.o):Ev(jh),this.g.onreadystatechange=p(this.Ea,this);try{this.B=!0,this.g.open(f,String(u),!0),this.B=!1}catch(M){Kv(this,M);return}if(u=m||"",m=new Map(this.headers),P)if(Object.getPrototypeOf(P)===Object.prototype)for(var N in P)m.set(N,P[N]);else if(typeof P.keys=="function"&&typeof P.get=="function")for(const M of P.keys())m.set(M,P.get(M));else throw Error("Unknown input type for opt_headers: "+String(P));P=Array.from(m.keys()).find(M=>M.toLowerCase()=="content-type"),N=a.FormData&&u instanceof a.FormData,!(0<=Array.prototype.indexOf.call(Ex,f,void 0))||P||N||m.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[M,z]of m)this.g.setRequestHeader(M,z);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Xv(this),this.u=!0,this.g.send(u),this.u=!1}catch(M){Kv(this,M)}};function Kv(u,f){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=f,u.m=5,Yv(u),wu(u)}function Yv(u){u.A||(u.A=!0,Wt(u,"complete"),Wt(u,"error"))}t.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,Wt(this,"complete"),Wt(this,"abort"),wu(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),wu(this,!0)),Ke.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Qv(this):this.bb())},t.bb=function(){Qv(this)};function Qv(u){if(u.h&&typeof o<"u"&&(!u.v[1]||dr(u)!=4||u.Z()!=2)){if(u.u&&dr(u)==4)vv(u.Ea,0,u);else if(Wt(u,"readystatechange"),dr(u)==4){u.h=!1;try{const z=u.Z();e:switch(z){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var f=!0;break e;default:f=!1}var m;if(!(m=f)){var P;if(P=z===0){var N=String(u.D).match(jv)[1]||null;!N&&a.self&&a.self.location&&(N=a.self.location.protocol.slice(0,-1)),P=!Tx.test(N?N.toLowerCase():"")}m=P}if(m)Wt(u,"complete"),Wt(u,"success");else{u.m=6;try{var M=2<dr(u)?u.g.statusText:""}catch{M=""}u.l=M+" ["+u.Z()+"]",Yv(u)}}finally{wu(u)}}}}function wu(u,f){if(u.g){Xv(u);const m=u.g,P=u.v[0]?()=>{}:null;u.g=null,u.v=null,f||Wt(u,"ready");try{m.onreadystatechange=P}catch{}}}function Xv(u){u.I&&(a.clearTimeout(u.I),u.I=null)}t.isActive=function(){return!!this.g};function dr(u){return u.g?u.g.readyState:0}t.Z=function(){try{return 2<dr(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(u){if(this.g){var f=this.g.responseText;return u&&f.indexOf(u)==0&&(f=f.substring(u.length)),ex(f)}};function Jv(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Px(u){const f={};u=(u.g&&2<=dr(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let P=0;P<u.length;P++){if(y(u[P]))continue;var m=D(u[P]);const N=m[0];if(m=m[1],typeof m!="string")continue;m=m.trim();const M=f[N]||[];f[N]=M,M.push(m)}C(f,function(P){return P.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function fa(u,f,m){return m&&m.internalChannelParams&&m.internalChannelParams[u]||f}function Zv(u){this.Aa=0,this.i=[],this.j=new oa,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=fa("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=fa("baseRetryDelayMs",5e3,u),this.cb=fa("retryDelaySeedMs",1e4,u),this.Wa=fa("forwardChannelMaxRetries",2,u),this.wa=fa("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new Ov(u&&u.concurrentRequestLimit),this.Da=new wx,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Zv.prototype,t.la=8,t.G=1,t.connect=function(u,f,m,P){Ht(0),this.W=u,this.H=f||{},m&&P!==void 0&&(this.H.OSID=m,this.H.OAID=P),this.F=this.X,this.I=l0(this,null,this.W),Tu(this)};function Kh(u){if(e0(u),u.G==3){var f=u.U++,m=cr(u.I);if(be(m,"SID",u.K),be(m,"RID",f),be(m,"TYPE","terminate"),pa(u,m),f=new Ur(u,u.j,f),f.L=2,f.v=gu(cr(m)),m=!1,a.navigator&&a.navigator.sendBeacon)try{m=a.navigator.sendBeacon(f.v.toString(),"")}catch{}!m&&a.Image&&(new Image().src=f.v,m=!0),m||(f.g=u0(f.j,null),f.g.ea(f.v)),f.F=Date.now(),fu(f)}a0(u)}function _u(u){u.g&&(Qh(u),u.g.cancel(),u.g=null)}function e0(u){_u(u),u.u&&(a.clearTimeout(u.u),u.u=null),Eu(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&a.clearTimeout(u.s),u.s=null)}function Tu(u){if(!Vv(u.h)&&!u.s){u.s=!0;var f=u.Ga;se||te(),j||(se(),j=!0),H.add(f,u),u.B=0}}function Sx(u,f){return Mv(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=f.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=sa(p(u.Ga,u,f),o0(u,u.B)),u.B++,!0)}t.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const N=new Ur(this,this.j,u);let M=this.o;if(this.S&&(M?(M=v(M),I(M,this.S)):M=this.S),this.m!==null||this.O||(N.H=M,M=null),this.P)e:{for(var f=0,m=0;m<this.i.length;m++){t:{var P=this.i[m];if("__data__"in P.map&&(P=P.map.__data__,typeof P=="string")){P=P.length;break t}P=void 0}if(P===void 0)break;if(f+=P,4096<f){f=m;break e}if(f===4096||m===this.i.length-1){f=m+1;break e}}f=1e3}else f=1e3;f=n0(this,N,f),m=cr(this.I),be(m,"RID",u),be(m,"CVER",22),this.D&&be(m,"X-HTTP-Session-Id",this.D),pa(this,m),M&&(this.O?f="headers="+encodeURIComponent(String(Gv(M)))+"&"+f:this.m&&Gh(m,this.m,M)),qh(this.h,N),this.Ua&&be(m,"TYPE","init"),this.P?(be(m,"$req",f),be(m,"SID","null"),N.T=!0,$h(N,m,null)):$h(N,m,f),this.G=2}}else this.G==3&&(u?t0(this,u):this.i.length==0||Vv(this.h)||t0(this))};function t0(u,f){var m;f?m=f.l:m=u.U++;const P=cr(u.I);be(P,"SID",u.K),be(P,"RID",m),be(P,"AID",u.T),pa(u,P),u.m&&u.o&&Gh(P,u.m,u.o),m=new Ur(u,u.j,m,u.B+1),u.m===null&&(m.H=u.o),f&&(u.i=f.D.concat(u.i)),f=n0(u,m,1e3),m.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),qh(u.h,m),$h(m,P,f)}function pa(u,f){u.H&&V(u.H,function(m,P){be(f,P,m)}),u.l&&Uv({},function(m,P){be(f,P,m)})}function n0(u,f,m){m=Math.min(u.i.length,m);var P=u.l?p(u.l.Na,u.l,u):null;e:{var N=u.i;let M=-1;for(;;){const z=["count="+m];M==-1?0<m?(M=N[0].g,z.push("ofs="+M)):M=0:z.push("ofs="+M);let Re=!0;for(let Et=0;Et<m;Et++){let Ee=N[Et].g;const kt=N[Et].map;if(Ee-=M,0>Ee)M=Math.max(0,N[Et].g-100),Re=!1;else try{_x(kt,z,"req"+Ee+"_")}catch{P&&P(kt)}}if(Re){P=z.join("&");break e}}}return u=u.i.splice(0,m),f.D=u,P}function r0(u){if(!u.g&&!u.u){u.Y=1;var f=u.Fa;se||te(),j||(se(),j=!0),H.add(f,u),u.v=0}}function Yh(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=sa(p(u.Fa,u),o0(u,u.v)),u.v++,!0)}t.Fa=function(){if(this.u=null,i0(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=sa(p(this.ab,this),u)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Ht(10),_u(this),i0(this))};function Qh(u){u.A!=null&&(a.clearTimeout(u.A),u.A=null)}function i0(u){u.g=new Ur(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var f=cr(u.qa);be(f,"RID","rpc"),be(f,"SID",u.K),be(f,"AID",u.T),be(f,"CI",u.F?"0":"1"),!u.F&&u.ja&&be(f,"TO",u.ja),be(f,"TYPE","xmlhttp"),pa(u,f),u.m&&u.o&&Gh(f,u.m,u.o),u.L&&(u.g.I=u.L);var m=u.g;u=u.ia,m.L=1,m.v=gu(cr(f)),m.m=null,m.P=!0,bv(m,u)}t.Za=function(){this.C!=null&&(this.C=null,_u(this),Yh(this),Ht(19))};function Eu(u){u.C!=null&&(a.clearTimeout(u.C),u.C=null)}function s0(u,f){var m=null;if(u.g==f){Eu(u),Qh(u),u.g=null;var P=2}else if(Hh(u.h,f))m=f.D,Lv(u.h,f),P=1;else return;if(u.G!=0){if(f.o)if(P==1){m=f.m?f.m.length:0,f=Date.now()-f.F;var N=u.B;P=cu(),Wt(P,new Av(P,m)),Tu(u)}else r0(u);else if(N=f.s,N==3||N==0&&0<f.X||!(P==1&&Sx(u,f)||P==2&&Yh(u)))switch(m&&0<m.length&&(f=u.h,f.i=f.i.concat(m)),N){case 1:Hi(u,5);break;case 4:Hi(u,10);break;case 3:Hi(u,6);break;default:Hi(u,2)}}}function o0(u,f){let m=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(m*=2),m*f}function Hi(u,f){if(u.j.info("Error code "+f),f==2){var m=p(u.fb,u),P=u.Xa;const N=!P;P=new Wi(P||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||pu(P,"https"),gu(P),N?yx(P.toString(),m):vx(P.toString(),m)}else Ht(2);u.G=0,u.l&&u.l.sa(f),a0(u),e0(u)}t.fb=function(u){u?(this.j.info("Successfully pinged google.com"),Ht(2)):(this.j.info("Failed to ping google.com"),Ht(1))};function a0(u){if(u.G=0,u.ka=[],u.l){const f=Fv(u.h);(f.length!=0||u.i.length!=0)&&(A(u.ka,f),A(u.ka,u.i),u.h.i.length=0,E(u.i),u.i.length=0),u.l.ra()}}function l0(u,f,m){var P=m instanceof Wi?cr(m):new Wi(m);if(P.g!="")f&&(P.g=f+"."+P.g),mu(P,P.s);else{var N=a.location;P=N.protocol,f=f?f+"."+N.hostname:N.hostname,N=+N.port;var M=new Wi(null);P&&pu(M,P),f&&(M.g=f),N&&mu(M,N),m&&(M.l=m),P=M}return m=u.D,f=u.ya,m&&f&&be(P,m,f),be(P,"VER",u.la),pa(u,P),P}function u0(u,f,m){if(f&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return f=u.Ca&&!u.pa?new Ke(new yu({eb:m})):new Ke(u.pa),f.Ha(u.J),f}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function c0(){}t=c0.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Pu(){}Pu.prototype.g=function(u,f){return new cn(u,f)};function cn(u,f){xt.call(this),this.g=new Zv(f),this.l=u,this.h=f&&f.messageUrlParams||null,u=f&&f.messageHeaders||null,f&&f.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=f&&f.initMessageHeaders||null,f&&f.messageContentType&&(u?u["X-WebChannel-Content-Type"]=f.messageContentType:u={"X-WebChannel-Content-Type":f.messageContentType}),f&&f.va&&(u?u["X-WebChannel-Client-Profile"]=f.va:u={"X-WebChannel-Client-Profile":f.va}),this.g.S=u,(u=f&&f.Sb)&&!y(u)&&(this.g.m=u),this.v=f&&f.supportsCrossDomainXhr||!1,this.u=f&&f.sendRawJson||!1,(f=f&&f.httpSessionIdParam)&&!y(f)&&(this.g.D=f,u=this.h,u!==null&&f in u&&(u=this.h,f in u&&delete u[f])),this.j=new Ms(this)}T(cn,xt),cn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},cn.prototype.close=function(){Kh(this.g)},cn.prototype.o=function(u){var f=this.g;if(typeof u=="string"){var m={};m.__data__=u,u=m}else this.u&&(m={},m.__data__=Mh(u),u=m);f.i.push(new ax(f.Ya++,u)),f.G==3&&Tu(f)},cn.prototype.N=function(){this.g.l=null,delete this.j,Kh(this.g),delete this.g,cn.aa.N.call(this)};function d0(u){Fh.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var f=u.__sm__;if(f){e:{for(const m in f){u=m;break e}u=void 0}(this.i=u)&&(u=this.i,f=f!==null&&u in f?f[u]:void 0),this.data=f}else this.data=u}T(d0,Fh);function h0(){Uh.call(this),this.status=1}T(h0,Uh);function Ms(u){this.g=u}T(Ms,c0),Ms.prototype.ua=function(){Wt(this.g,"a")},Ms.prototype.ta=function(u){Wt(this.g,new d0(u))},Ms.prototype.sa=function(u){Wt(this.g,new h0)},Ms.prototype.ra=function(){Wt(this.g,"b")},Pu.prototype.createWebChannel=Pu.prototype.g,cn.prototype.send=cn.prototype.o,cn.prototype.open=cn.prototype.m,cn.prototype.close=cn.prototype.close,mS=function(){return new Pu},pS=function(){return cu()},fS=$i,sm={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},du.NO_ERROR=0,du.TIMEOUT=8,du.HTTP_ERROR=6,mc=du,Rv.COMPLETE="complete",hS=Rv,Pv.EventType=ra,ra.OPEN="a",ra.CLOSE="b",ra.ERROR="c",ra.MESSAGE="d",xt.prototype.listen=xt.prototype.K,ja=Pv,Ke.prototype.listenOnce=Ke.prototype.L,Ke.prototype.getLastError=Ke.prototype.Ka,Ke.prototype.getLastErrorCode=Ke.prototype.Ba,Ke.prototype.getStatus=Ke.prototype.Z,Ke.prototype.getResponseJson=Ke.prototype.Oa,Ke.prototype.getResponseText=Ke.prototype.oa,Ke.prototype.send=Ke.prototype.ea,Ke.prototype.setWithCredentials=Ke.prototype.Ha,dS=Ke}).apply(typeof $u<"u"?$u:typeof self<"u"?self:typeof window<"u"?window:{});const Bw="@firebase/firestore",$w="4.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Mt=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Mt.UNAUTHENTICATED=new Mt(null),Mt.GOOGLE_CREDENTIALS=new Mt("google-credentials-uid"),Mt.FIRST_PARTY=new Mt("first-party-uid"),Mt.MOCK_USER=new Mt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Yo="12.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ms=new Wg("@firebase/firestore");function $s(){return ms.logLevel}function G(t,...e){if(ms.logLevel<=de.DEBUG){const n=e.map(Gg);ms.debug(`Firestore (${Yo}): ${t}`,...n)}}function xr(t,...e){if(ms.logLevel<=de.ERROR){const n=e.map(Gg);ms.error(`Firestore (${Yo}): ${t}`,...n)}}function bo(t,...e){if(ms.logLevel<=de.WARN){const n=e.map(Gg);ms.warn(`Firestore (${Yo}): ${t}`,...n)}}function Gg(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ie(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,gS(t,r,n)}function gS(t,e,n){let r=`FIRESTORE (${Yo}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw xr(r),new Error(r)}function Ce(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||gS(e,i,r)}function le(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class X extends Lr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tr{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yS{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class zO{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Mt.UNAUTHENTICATED))}shutdown(){}}class WO{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class HO{constructor(e){this.t=e,this.currentUser=Mt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ce(this.o===void 0,42304);let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let s=new Tr;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Tr,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=s;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{G("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(G("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Tr)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(G("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ce(typeof r.accessToken=="string",31837,{l:r}),new yS(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ce(e===null||typeof e=="string",2055,{h:e}),new Mt(e)}}class qO{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=Mt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class GO{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new qO(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(Mt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class zw{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class KO{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,hn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Ce(this.o===void 0,3512);const r=s=>{s.error!=null&&G("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.m;return this.m=s.token,G("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{G("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.V.getImmediate({optional:!0});s?i(s):G("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new zw(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ce(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new zw(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YO(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kg{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=YO(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%62))}return r}}function he(t,e){return t<e?-1:t>e?1:0}function om(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const i=t.charAt(r),s=e.charAt(r);if(i!==s)return bf(i)===bf(s)?he(i,s):bf(i)?1:-1}return he(t.length,e.length)}const QO=55296,XO=57343;function bf(t){const e=t.charCodeAt(0);return e>=QO&&e<=XO}function Do(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ww="__name__";class Gn{constructor(e,n,r){n===void 0?n=0:n>e.length&&ie(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&ie(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Gn.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Gn?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=Gn.compareSegments(e.get(i),n.get(i));if(s!==0)return s}return he(e.length,n.length)}static compareSegments(e,n){const r=Gn.isNumericId(e),i=Gn.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?Gn.extractNumericId(e).compare(Gn.extractNumericId(n)):om(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return vi.fromString(e.substring(4,e.length-2))}}class Oe extends Gn{construct(e,n,r){return new Oe(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new X(U.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Oe(n)}static emptyPath(){return new Oe([])}}const JO=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ct extends Gn{construct(e,n,r){return new Ct(e,n,r)}static isValidIdentifier(e){return JO.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ct.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Ww}static keyField(){return new Ct([Ww])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new X(U.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new X(U.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new X(U.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new X(U.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ct(n)}static emptyPath(){return new Ct([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ne{constructor(e){this.path=e}static fromPath(e){return new ne(Oe.fromString(e))}static fromName(e){return new ne(Oe.fromString(e).popFirst(5))}static empty(){return new ne(Oe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Oe.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Oe.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ne(new Oe(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vS(t,e,n){if(!n)throw new X(U.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function ZO(t,e,n,r){if(e===!0&&r===!0)throw new X(U.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function Hw(t){if(!ne.isDocumentKey(t))throw new X(U.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function qw(t){if(ne.isDocumentKey(t))throw new X(U.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function wS(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function Yg(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ie(12329,{type:typeof t})}function $n(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new X(U.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Yg(t);throw new X(U.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ut(t,e){const n={typeString:t};return e&&(n.value=e),n}function Yl(t,e){if(!wS(t))throw new X(U.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const i=e[r].typeString,s="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const o=t[r];if(i&&typeof o!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(s!==void 0&&o!==s.value){n=`Expected '${r}' field to equal '${s.value}'`;break}}if(n)throw new X(U.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gw=-62135596800,Kw=1e6;class Ve{static now(){return Ve.fromMillis(Date.now())}static fromDate(e){return Ve.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*Kw);return new Ve(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new X(U.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new X(U.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<Gw)throw new X(U.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new X(U.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Kw}_compareTo(e){return this.seconds===e.seconds?he(this.nanoseconds,e.nanoseconds):he(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Ve._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Yl(e,Ve._jsonSchema))return new Ve(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Gw;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Ve._jsonSchemaVersion="firestore/timestamp/1.0",Ve._jsonSchema={type:ut("string",Ve._jsonSchemaVersion),seconds:ut("number"),nanoseconds:ut("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ae{static fromTimestamp(e){return new ae(e)}static min(){return new ae(new Ve(0,0))}static max(){return new ae(new Ve(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kl=-1;function eV(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=ae.fromTimestamp(r===1e9?new Ve(n+1,0):new Ve(n,r));return new Si(i,ne.empty(),e)}function tV(t){return new Si(t.readTime,t.key,kl)}class Si{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Si(ae.min(),ne.empty(),kl)}static max(){return new Si(ae.max(),ne.empty(),kl)}}function nV(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ne.comparator(t.documentKey,e.documentKey),n!==0?n:he(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rV="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class iV{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qo(t){if(t.code!==U.FAILED_PRECONDITION||t.message!==rV)throw t;G("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ie(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new F((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof F?n:F.resolve(n)}catch(n){return F.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):F.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):F.reject(n)}static resolve(e){return new F((n,r)=>{n(e)})}static reject(e){return new F((n,r)=>{r(e)})}static waitFor(e){return new F((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},l=>r(l))}),o=!0,s===i&&n()})}static or(e){let n=F.resolve(!1);for(const r of e)n=n.next(i=>i?F.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new F((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const c=l;n(e[c]).next(d=>{o[c]=d,++a,a===s&&r(o)},d=>i(d))}})}static doWhile(e,n){return new F((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function sV(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Xo(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nh{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}nh.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qg=-1;function rh(t){return t==null}function rd(t){return t===0&&1/t==-1/0}function oV(t){return typeof t=="number"&&Number.isInteger(t)&&!rd(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _S="";function aV(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=Yw(e)),e=lV(t.get(n),e);return Yw(e)}function lV(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const s=t.charAt(i);switch(s){case"\0":n+="";break;case _S:n+="";break;default:n+=s}}return n}function Yw(t){return t+_S+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qw(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Mi(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function TS(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class He{constructor(e,n){this.comparator=e,this.root=n||St.EMPTY}insert(e,n){return new He(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,St.BLACK,null,null))}remove(e){return new He(this.comparator,this.root.remove(e,this.comparator).copy(null,null,St.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new zu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new zu(this.root,e,this.comparator,!1)}getReverseIterator(){return new zu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new zu(this.root,e,this.comparator,!0)}}class zu{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class St{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??St.RED,this.left=i??St.EMPTY,this.right=s??St.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new St(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return St.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return St.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,St.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,St.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ie(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ie(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw ie(27949);return e+(this.isRed()?0:1)}}St.EMPTY=null,St.RED=!0,St.BLACK=!1;St.EMPTY=new class{constructor(){this.size=0}get key(){throw ie(57766)}get value(){throw ie(16141)}get color(){throw ie(16727)}get left(){throw ie(29726)}get right(){throw ie(36894)}copy(e,n,r,i,s){return this}insert(e,n,r){return new St(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pt{constructor(e){this.comparator=e,this.data=new He(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Xw(this.data.getIterator())}getIteratorFrom(e){return new Xw(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof pt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new pt(this.comparator);return n.data=e,n}}class Xw{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mn{constructor(e){this.fields=e,e.sort(Ct.comparator)}static empty(){return new mn([])}unionWith(e){let n=new pt(Ct.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new mn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Do(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ES extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new ES("Invalid base64 string: "+s):s}}(e);return new Rt(n)}static fromUint8Array(e){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new Rt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return he(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Rt.EMPTY_BYTE_STRING=new Rt("");const uV=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ci(t){if(Ce(!!t,39018),typeof t=="string"){let e=0;const n=uV.exec(t);if(Ce(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ze(t.seconds),nanos:Ze(t.nanos)}}function Ze(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Ii(t){return typeof t=="string"?Rt.fromBase64String(t):Rt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PS="server_timestamp",SS="__type__",CS="__previous_value__",IS="__local_write_time__";function Xg(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[SS])==null?void 0:r.stringValue)===PS}function ih(t){const e=t.mapValue.fields[CS];return Xg(e)?ih(e):e}function bl(t){const e=Ci(t.mapValue.fields[IS].timestampValue);return new Ve(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cV{constructor(e,n,r,i,s,o,a,l,c,d){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=c,this.isUsingEmulator=d}}const id="(default)";class Dl{constructor(e,n){this.projectId=e,this.database=n||id}static empty(){return new Dl("","")}get isDefaultDatabase(){return this.database===id}isEqual(e){return e instanceof Dl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AS="__type__",RS="__max__",Wu={mapValue:{fields:{__type__:{stringValue:RS}}}},xS="__vector__",sd="value";function Ai(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Xg(t)?4:hV(t)?9007199254740991:dV(t)?10:11:ie(28295,{value:t})}function ar(t,e){if(t===e)return!0;const n=Ai(t);if(n!==Ai(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return bl(t).isEqual(bl(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=Ci(i.timestampValue),a=Ci(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return Ii(i.bytesValue).isEqual(Ii(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return Ze(i.geoPointValue.latitude)===Ze(s.geoPointValue.latitude)&&Ze(i.geoPointValue.longitude)===Ze(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return Ze(i.integerValue)===Ze(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=Ze(i.doubleValue),a=Ze(s.doubleValue);return o===a?rd(o)===rd(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return Do(t.arrayValue.values||[],e.arrayValue.values||[],ar);case 10:case 11:return function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(Qw(o)!==Qw(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!ar(o[l],a[l])))return!1;return!0}(t,e);default:return ie(52216,{left:t})}}function Nl(t,e){return(t.values||[]).find(n=>ar(n,e))!==void 0}function No(t,e){if(t===e)return 0;const n=Ai(t),r=Ai(e);if(n!==r)return he(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return he(t.booleanValue,e.booleanValue);case 2:return function(s,o){const a=Ze(s.integerValue||s.doubleValue),l=Ze(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return Jw(t.timestampValue,e.timestampValue);case 4:return Jw(bl(t),bl(e));case 5:return om(t.stringValue,e.stringValue);case 6:return function(s,o){const a=Ii(s),l=Ii(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const a=s.split("/"),l=o.split("/");for(let c=0;c<a.length&&c<l.length;c++){const d=he(a[c],l[c]);if(d!==0)return d}return he(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const a=he(Ze(s.latitude),Ze(o.latitude));return a!==0?a:he(Ze(s.longitude),Ze(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return Zw(t.arrayValue,e.arrayValue);case 10:return function(s,o){var p,g,T,E;const a=s.fields||{},l=o.fields||{},c=(p=a[sd])==null?void 0:p.arrayValue,d=(g=l[sd])==null?void 0:g.arrayValue,h=he(((T=c==null?void 0:c.values)==null?void 0:T.length)||0,((E=d==null?void 0:d.values)==null?void 0:E.length)||0);return h!==0?h:Zw(c,d)}(t.mapValue,e.mapValue);case 11:return function(s,o){if(s===Wu.mapValue&&o===Wu.mapValue)return 0;if(s===Wu.mapValue)return 1;if(o===Wu.mapValue)return-1;const a=s.fields||{},l=Object.keys(a),c=o.fields||{},d=Object.keys(c);l.sort(),d.sort();for(let h=0;h<l.length&&h<d.length;++h){const p=om(l[h],d[h]);if(p!==0)return p;const g=No(a[l[h]],c[d[h]]);if(g!==0)return g}return he(l.length,d.length)}(t.mapValue,e.mapValue);default:throw ie(23264,{he:n})}}function Jw(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return he(t,e);const n=Ci(t),r=Ci(e),i=he(n.seconds,r.seconds);return i!==0?i:he(n.nanos,r.nanos)}function Zw(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const s=No(n[i],r[i]);if(s)return s}return he(n.length,r.length)}function Oo(t){return am(t)}function am(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Ci(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Ii(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return ne.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=am(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${am(n.fields[o])}`;return i+"}"}(t.mapValue):ie(61005,{value:t})}function gc(t){switch(Ai(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=ih(t);return e?16+gc(e):16;case 5:return 2*t.stringValue.length;case 6:return Ii(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,s)=>i+gc(s),0)}(t.arrayValue);case 10:case 11:return function(r){let i=0;return Mi(r.fields,(s,o)=>{i+=s.length+gc(o)}),i}(t.mapValue);default:throw ie(13486,{value:t})}}function lm(t){return!!t&&"integerValue"in t}function Jg(t){return!!t&&"arrayValue"in t}function e_(t){return!!t&&"nullValue"in t}function t_(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function yc(t){return!!t&&"mapValue"in t}function dV(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[AS])==null?void 0:r.stringValue)===xS}function tl(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return Mi(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=tl(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=tl(t.arrayValue.values[n]);return e}return{...t}}function hV(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===RS}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nn{constructor(e){this.value=e}static empty(){return new nn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!yc(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=tl(n)}setAll(e){let n=Ct.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=tl(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());yc(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return ar(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];yc(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Mi(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new nn(tl(this.value))}}function kS(t){const e=[];return Mi(t.fields,(n,r)=>{const i=new Ct([n]);if(yc(r)){const s=kS(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new mn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ft{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new Ft(e,0,ae.min(),ae.min(),ae.min(),nn.empty(),0)}static newFoundDocument(e,n,r,i){return new Ft(e,1,n,ae.min(),r,i,0)}static newNoDocument(e,n){return new Ft(e,2,n,ae.min(),ae.min(),nn.empty(),0)}static newUnknownDocument(e,n){return new Ft(e,3,n,ae.min(),ae.min(),nn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ae.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=nn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=nn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ae.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Ft&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ft(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class od{constructor(e,n){this.position=e,this.inclusive=n}}function n_(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=ne.comparator(ne.fromName(o.referenceValue),n.key):r=No(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function r_(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!ar(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ad{constructor(e,n="asc"){this.field=e,this.dir=n}}function fV(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bS{}class ht extends bS{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new mV(e,n,r):n==="array-contains"?new vV(e,r):n==="in"?new wV(e,r):n==="not-in"?new _V(e,r):n==="array-contains-any"?new TV(e,r):new ht(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new gV(e,r):new yV(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(No(n,this.value)):n!==null&&Ai(this.value)===Ai(n)&&this.matchesComparison(No(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ie(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class lr extends bS{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new lr(e,n)}matches(e){return DS(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function DS(t){return t.op==="and"}function NS(t){return pV(t)&&DS(t)}function pV(t){for(const e of t.filters)if(e instanceof lr)return!1;return!0}function um(t){if(t instanceof ht)return t.field.canonicalString()+t.op.toString()+Oo(t.value);if(NS(t))return t.filters.map(e=>um(e)).join(",");{const e=t.filters.map(n=>um(n)).join(",");return`${t.op}(${e})`}}function OS(t,e){return t instanceof ht?function(r,i){return i instanceof ht&&r.op===i.op&&r.field.isEqual(i.field)&&ar(r.value,i.value)}(t,e):t instanceof lr?function(r,i){return i instanceof lr&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&OS(o,i.filters[a]),!0):!1}(t,e):void ie(19439)}function VS(t){return t instanceof ht?function(n){return`${n.field.canonicalString()} ${n.op} ${Oo(n.value)}`}(t):t instanceof lr?function(n){return n.op.toString()+" {"+n.getFilters().map(VS).join(" ,")+"}"}(t):"Filter"}class mV extends ht{constructor(e,n,r){super(e,n,r),this.key=ne.fromName(r.referenceValue)}matches(e){const n=ne.comparator(e.key,this.key);return this.matchesComparison(n)}}class gV extends ht{constructor(e,n){super(e,"in",n),this.keys=MS("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class yV extends ht{constructor(e,n){super(e,"not-in",n),this.keys=MS("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function MS(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map(r=>ne.fromName(r.referenceValue))}class vV extends ht{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Jg(n)&&Nl(n.arrayValue,this.value)}}class wV extends ht{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Nl(this.value.arrayValue,n)}}class _V extends ht{constructor(e,n){super(e,"not-in",n)}matches(e){if(Nl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Nl(this.value.arrayValue,n)}}class TV extends ht{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Jg(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Nl(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EV{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.Te=null}}function i_(t,e=null,n=[],r=[],i=null,s=null,o=null){return new EV(t,e,n,r,i,s,o)}function Zg(t){const e=le(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>um(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),rh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Oo(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Oo(r)).join(",")),e.Te=n}return e.Te}function ey(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!fV(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!OS(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!r_(t.startAt,e.startAt)&&r_(t.endAt,e.endAt)}function cm(t){return ne.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sh{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function PV(t,e,n,r,i,s,o,a){return new sh(t,e,n,r,i,s,o,a)}function ty(t){return new sh(t)}function s_(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function SV(t){return t.collectionGroup!==null}function nl(t){const e=le(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const s of e.explicitOrderBy)e.Ie.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new pt(Ct.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.Ie.push(new ad(s,r))}),n.has(Ct.keyField().canonicalString())||e.Ie.push(new ad(Ct.keyField(),r))}return e.Ie}function Zn(t){const e=le(t);return e.Ee||(e.Ee=CV(e,nl(t))),e.Ee}function CV(t,e){if(t.limitType==="F")return i_(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new ad(i.field,s)});const n=t.endAt?new od(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new od(t.startAt.position,t.startAt.inclusive):null;return i_(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function dm(t,e,n){return new sh(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function oh(t,e){return ey(Zn(t),Zn(e))&&t.limitType===e.limitType}function LS(t){return`${Zg(Zn(t))}|lt:${t.limitType}`}function zs(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>VS(i)).join(", ")}]`),rh(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Oo(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Oo(i)).join(",")),`Target(${r})`}(Zn(t))}; limitType=${t.limitType})`}function ah(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):ne.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of nl(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,a,l){const c=n_(o,a,l);return o.inclusive?c<=0:c<0}(r.startAt,nl(r),i)||r.endAt&&!function(o,a,l){const c=n_(o,a,l);return o.inclusive?c>=0:c>0}(r.endAt,nl(r),i))}(t,e)}function IV(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function FS(t){return(e,n)=>{let r=!1;for(const i of nl(t)){const s=AV(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function AV(t,e,n){const r=t.field.isKeyField()?ne.comparator(e.key,n.key):function(s,o,a){const l=o.data.field(s),c=a.data.field(s);return l!==null&&c!==null?No(l,c):ie(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return ie(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cs{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Mi(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return TS(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RV=new He(ne.comparator);function kr(){return RV}const US=new He(ne.comparator);function Ba(...t){let e=US;for(const n of t)e=e.insert(n.key,n);return e}function jS(t){let e=US;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function ns(){return rl()}function BS(){return rl()}function rl(){return new Cs(t=>t.toString(),(t,e)=>t.isEqual(e))}const xV=new He(ne.comparator),kV=new pt(ne.comparator);function fe(...t){let e=kV;for(const n of t)e=e.add(n);return e}const bV=new pt(he);function DV(){return bV}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ny(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:rd(e)?"-0":e}}function $S(t){return{integerValue:""+t}}function NV(t,e){return oV(e)?$S(e):ny(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lh{constructor(){this._=void 0}}function OV(t,e,n){return t instanceof ld?function(i,s){const o={fields:{[SS]:{stringValue:PS},[IS]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&Xg(s)&&(s=ih(s)),s&&(o.fields[CS]=s),{mapValue:o}}(n,e):t instanceof Ol?WS(t,e):t instanceof Vl?HS(t,e):function(i,s){const o=zS(i,s),a=o_(o)+o_(i.Ae);return lm(o)&&lm(i.Ae)?$S(a):ny(i.serializer,a)}(t,e)}function VV(t,e,n){return t instanceof Ol?WS(t,e):t instanceof Vl?HS(t,e):n}function zS(t,e){return t instanceof ud?function(r){return lm(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class ld extends lh{}class Ol extends lh{constructor(e){super(),this.elements=e}}function WS(t,e){const n=qS(e);for(const r of t.elements)n.some(i=>ar(i,r))||n.push(r);return{arrayValue:{values:n}}}class Vl extends lh{constructor(e){super(),this.elements=e}}function HS(t,e){let n=qS(e);for(const r of t.elements)n=n.filter(i=>!ar(i,r));return{arrayValue:{values:n}}}class ud extends lh{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function o_(t){return Ze(t.integerValue||t.doubleValue)}function qS(t){return Jg(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function MV(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Ol&&i instanceof Ol||r instanceof Vl&&i instanceof Vl?Do(r.elements,i.elements,ar):r instanceof ud&&i instanceof ud?ar(r.Ae,i.Ae):r instanceof ld&&i instanceof ld}(t.transform,e.transform)}class LV{constructor(e,n){this.version=e,this.transformResults=n}}class xn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new xn}static exists(e){return new xn(void 0,e)}static updateTime(e){return new xn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function vc(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class uh{}function GS(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new ry(t.key,xn.none()):new Ql(t.key,t.data,xn.none());{const n=t.data,r=nn.empty();let i=new pt(Ct.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new Li(t.key,r,new mn(i.toArray()),xn.none())}}function FV(t,e,n){t instanceof Ql?function(i,s,o){const a=i.value.clone(),l=l_(i.fieldTransforms,s,o.transformResults);a.setAll(l),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Li?function(i,s,o){if(!vc(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=l_(i.fieldTransforms,s,o.transformResults),l=s.data;l.setAll(KS(i)),l.setAll(a),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function il(t,e,n,r){return t instanceof Ql?function(s,o,a,l){if(!vc(s.precondition,o))return a;const c=s.value.clone(),d=u_(s.fieldTransforms,l,o);return c.setAll(d),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof Li?function(s,o,a,l){if(!vc(s.precondition,o))return a;const c=u_(s.fieldTransforms,l,o),d=o.data;return d.setAll(KS(s)),d.setAll(c),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(h=>h.field))}(t,e,n,r):function(s,o,a){return vc(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function UV(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=zS(r.transform,i||null);s!=null&&(n===null&&(n=nn.empty()),n.set(r.field,s))}return n||null}function a_(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Do(r,i,(s,o)=>MV(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Ql extends uh{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Li extends uh{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function KS(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function l_(t,e,n){const r=new Map;Ce(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,VV(o,a,n[i]))}return r}function u_(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,OV(s,o,e))}return r}class ry extends uh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class jV extends uh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BV{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&FV(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=il(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=il(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=BS();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const l=GS(o,a);l!==null&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(ae.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),fe())}isEqual(e){return this.batchId===e.batchId&&Do(this.mutations,e.mutations,(n,r)=>a_(n,r))&&Do(this.baseMutations,e.baseMutations,(n,r)=>a_(n,r))}}class iy{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Ce(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let i=function(){return xV}();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new iy(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $V{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zV{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ot,ge;function WV(t){switch(t){case U.OK:return ie(64938);case U.CANCELLED:case U.UNKNOWN:case U.DEADLINE_EXCEEDED:case U.RESOURCE_EXHAUSTED:case U.INTERNAL:case U.UNAVAILABLE:case U.UNAUTHENTICATED:return!1;case U.INVALID_ARGUMENT:case U.NOT_FOUND:case U.ALREADY_EXISTS:case U.PERMISSION_DENIED:case U.FAILED_PRECONDITION:case U.ABORTED:case U.OUT_OF_RANGE:case U.UNIMPLEMENTED:case U.DATA_LOSS:return!0;default:return ie(15467,{code:t})}}function YS(t){if(t===void 0)return xr("GRPC error has no .code"),U.UNKNOWN;switch(t){case ot.OK:return U.OK;case ot.CANCELLED:return U.CANCELLED;case ot.UNKNOWN:return U.UNKNOWN;case ot.DEADLINE_EXCEEDED:return U.DEADLINE_EXCEEDED;case ot.RESOURCE_EXHAUSTED:return U.RESOURCE_EXHAUSTED;case ot.INTERNAL:return U.INTERNAL;case ot.UNAVAILABLE:return U.UNAVAILABLE;case ot.UNAUTHENTICATED:return U.UNAUTHENTICATED;case ot.INVALID_ARGUMENT:return U.INVALID_ARGUMENT;case ot.NOT_FOUND:return U.NOT_FOUND;case ot.ALREADY_EXISTS:return U.ALREADY_EXISTS;case ot.PERMISSION_DENIED:return U.PERMISSION_DENIED;case ot.FAILED_PRECONDITION:return U.FAILED_PRECONDITION;case ot.ABORTED:return U.ABORTED;case ot.OUT_OF_RANGE:return U.OUT_OF_RANGE;case ot.UNIMPLEMENTED:return U.UNIMPLEMENTED;case ot.DATA_LOSS:return U.DATA_LOSS;default:return ie(39323,{code:t})}}(ge=ot||(ot={}))[ge.OK=0]="OK",ge[ge.CANCELLED=1]="CANCELLED",ge[ge.UNKNOWN=2]="UNKNOWN",ge[ge.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ge[ge.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ge[ge.NOT_FOUND=5]="NOT_FOUND",ge[ge.ALREADY_EXISTS=6]="ALREADY_EXISTS",ge[ge.PERMISSION_DENIED=7]="PERMISSION_DENIED",ge[ge.UNAUTHENTICATED=16]="UNAUTHENTICATED",ge[ge.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ge[ge.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ge[ge.ABORTED=10]="ABORTED",ge[ge.OUT_OF_RANGE=11]="OUT_OF_RANGE",ge[ge.UNIMPLEMENTED=12]="UNIMPLEMENTED",ge[ge.INTERNAL=13]="INTERNAL",ge[ge.UNAVAILABLE=14]="UNAVAILABLE",ge[ge.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HV(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qV=new vi([4294967295,4294967295],0);function c_(t){const e=HV().encode(t),n=new cS;return n.update(e),new Uint8Array(n.digest())}function d_(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new vi([n,r],0),new vi([i,s],0)]}class sy{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new $a(`Invalid padding: ${n}`);if(r<0)throw new $a(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new $a(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new $a(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=vi.fromNumber(this.ge)}ye(e,n,r){let i=e.add(n.multiply(vi.fromNumber(r)));return i.compare(qV)===1&&(i=new vi([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=c_(e),[r,i]=d_(n);for(let s=0;s<this.hashCount;s++){const o=this.ye(r,i,s);if(!this.we(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new sy(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.ge===0)return;const n=c_(e),[r,i]=d_(n);for(let s=0;s<this.hashCount;s++){const o=this.ye(r,i,s);this.Se(o)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class $a extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ch{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Xl.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new ch(ae.min(),i,new He(he),kr(),fe())}}class Xl{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Xl(r,n,fe(),fe(),fe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wc{constructor(e,n,r,i){this.be=e,this.removedTargetIds=n,this.key=r,this.De=i}}class QS{constructor(e,n){this.targetId=e,this.Ce=n}}class XS{constructor(e,n,r=Rt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class h_{constructor(){this.ve=0,this.Fe=f_(),this.Me=Rt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=fe(),n=fe(),r=fe();return this.Fe.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:ie(38017,{changeType:s})}}),new Xl(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=f_()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Ce(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class GV{constructor(e){this.Ge=e,this.ze=new Map,this.je=kr(),this.Je=Hu(),this.He=Hu(),this.Ye=new He(he)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:ie(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach((r,i)=>{this.rt(i)&&n(i)})}st(e){const n=e.targetId,r=e.Ce.count,i=this.ot(n);if(i){const s=i.target;if(cm(s))if(r===0){const o=new ne(s.path);this.et(n,o,Ft.newNoDocument(o,ae.min()))}else Ce(r===1,20013,{expectedCount:r});else{const o=this._t(n);if(o!==r){const a=this.ut(e),l=a?this.ct(a,e,o):1;if(l!==0){this.it(n);const c=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,c)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,a;try{o=Ii(r).toUint8Array()}catch(l){if(l instanceof ES)return bo("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new sy(o,i,s)}catch(l){return bo(l instanceof $a?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.ge===0?null:a}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.Ge.ht(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.et(n,s,null),i++)}),i}Tt(e){const n=new Map;this.ze.forEach((s,o)=>{const a=this.ot(o);if(a){if(s.current&&cm(a.target)){const l=new ne(a.target.path);this.It(l).has(o)||this.Et(o,l)||this.et(o,l,Ft.newNoDocument(l,e))}s.Be&&(n.set(o,s.ke()),s.qe())}});let r=fe();this.He.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const c=this.ot(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.je.forEach((s,o)=>o.setReadTime(e));const i=new ch(e,n,this.Ye,this.je,r);return this.je=kr(),this.Je=Hu(),this.He=Hu(),this.Ye=new He(he),i}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const i=this.nt(e);this.Et(e,n)?i.Qe(n,1):i.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new h_,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new pt(he),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new pt(he),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||G("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new h_),this.Ge.getRemoteKeysForTarget(e).forEach(n=>{this.et(e,n,null)})}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Hu(){return new He(ne.comparator)}function f_(){return new He(ne.comparator)}const KV=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),YV=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),QV=(()=>({and:"AND",or:"OR"}))();class XV{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function hm(t,e){return t.useProto3Json||rh(e)?e:{value:e}}function cd(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function JS(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function JV(t,e){return cd(t,e.toTimestamp())}function er(t){return Ce(!!t,49232),ae.fromTimestamp(function(n){const r=Ci(n);return new Ve(r.seconds,r.nanos)}(t))}function oy(t,e){return fm(t,e).canonicalString()}function fm(t,e){const n=function(i){return new Oe(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function ZS(t){const e=Oe.fromString(t);return Ce(iC(e),10190,{key:e.toString()}),e}function pm(t,e){return oy(t.databaseId,e.path)}function Df(t,e){const n=ZS(e);if(n.get(1)!==t.databaseId.projectId)throw new X(U.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new X(U.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ne(tC(n))}function eC(t,e){return oy(t.databaseId,e)}function ZV(t){const e=ZS(t);return e.length===4?Oe.emptyPath():tC(e)}function mm(t){return new Oe(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function tC(t){return Ce(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function p_(t,e,n){return{name:pm(t,e),fields:n.value.mapValue.fields}}function eM(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:ie(39313,{state:c})}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(c,d){return c.useProto3Json?(Ce(d===void 0||typeof d=="string",58123),Rt.fromBase64String(d||"")):(Ce(d===void 0||d instanceof Buffer||d instanceof Uint8Array,16193),Rt.fromUint8Array(d||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(c){const d=c.code===void 0?U.UNKNOWN:YS(c.code);return new X(d,c.message||"")}(o);n=new XS(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Df(t,r.document.name),s=er(r.document.updateTime),o=r.document.createTime?er(r.document.createTime):ae.min(),a=new nn({mapValue:{fields:r.document.fields}}),l=Ft.newFoundDocument(i,s,o,a),c=r.targetIds||[],d=r.removedTargetIds||[];n=new wc(c,d,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Df(t,r.document),s=r.readTime?er(r.readTime):ae.min(),o=Ft.newNoDocument(i,s),a=r.removedTargetIds||[];n=new wc([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Df(t,r.document),s=r.removedTargetIds||[];n=new wc([],s,i,null)}else{if(!("filter"in e))return ie(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new zV(i,s),a=r.targetId;n=new QS(a,o)}}return n}function tM(t,e){let n;if(e instanceof Ql)n={update:p_(t,e.key,e.value)};else if(e instanceof ry)n={delete:pm(t,e.key)};else if(e instanceof Li)n={update:p_(t,e.key,e.data),updateMask:cM(e.fieldMask)};else{if(!(e instanceof jV))return ie(16599,{Vt:e.type});n={verify:pm(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const a=o.transform;if(a instanceof ld)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Ol)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Vl)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof ud)return{fieldPath:o.field.canonicalString(),increment:a.Ae};throw ie(20930,{transform:o.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:JV(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:ie(27497)}(t,e.precondition)),n}function nM(t,e){return t&&t.length>0?(Ce(e!==void 0,14353),t.map(n=>function(i,s){let o=i.updateTime?er(i.updateTime):er(s);return o.isEqual(ae.min())&&(o=er(s)),new LV(o,i.transformResults||[])}(n,e))):[]}function rM(t,e){return{documents:[eC(t,e.path)]}}function iM(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=eC(t,i);const s=function(c){if(c.length!==0)return rC(lr.create(c,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const o=function(c){if(c.length!==0)return c.map(d=>function(p){return{field:Ws(p.field),direction:aM(p.dir)}}(d))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=hm(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{ft:n,parent:i}}function sM(t){let e=ZV(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Ce(r===1,65062);const d=n.from[0];d.allDescendants?i=d.collectionId:e=e.child(d.collectionId)}let s=[];n.where&&(s=function(h){const p=nC(h);return p instanceof lr&&NS(p)?p.getFilters():[p]}(n.where));let o=[];n.orderBy&&(o=function(h){return h.map(p=>function(T){return new ad(Hs(T.field),function(A){switch(A){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(T.direction))}(p))}(n.orderBy));let a=null;n.limit&&(a=function(h){let p;return p=typeof h=="object"?h.value:h,rh(p)?null:p}(n.limit));let l=null;n.startAt&&(l=function(h){const p=!!h.before,g=h.values||[];return new od(g,p)}(n.startAt));let c=null;return n.endAt&&(c=function(h){const p=!h.before,g=h.values||[];return new od(g,p)}(n.endAt)),PV(e,i,o,s,a,"F",l,c)}function oM(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ie(28987,{purpose:i})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function nC(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Hs(n.unaryFilter.field);return ht.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Hs(n.unaryFilter.field);return ht.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Hs(n.unaryFilter.field);return ht.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Hs(n.unaryFilter.field);return ht.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ie(61313);default:return ie(60726)}}(t):t.fieldFilter!==void 0?function(n){return ht.create(Hs(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ie(58110);default:return ie(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return lr.create(n.compositeFilter.filters.map(r=>nC(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return ie(1026)}}(n.compositeFilter.op))}(t):ie(30097,{filter:t})}function aM(t){return KV[t]}function lM(t){return YV[t]}function uM(t){return QV[t]}function Ws(t){return{fieldPath:t.canonicalString()}}function Hs(t){return Ct.fromServerFormat(t.fieldPath)}function rC(t){return t instanceof ht?function(n){if(n.op==="=="){if(t_(n.value))return{unaryFilter:{field:Ws(n.field),op:"IS_NAN"}};if(e_(n.value))return{unaryFilter:{field:Ws(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(t_(n.value))return{unaryFilter:{field:Ws(n.field),op:"IS_NOT_NAN"}};if(e_(n.value))return{unaryFilter:{field:Ws(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ws(n.field),op:lM(n.op),value:n.value}}}(t):t instanceof lr?function(n){const r=n.getFilters().map(i=>rC(i));return r.length===1?r[0]:{compositeFilter:{op:uM(n.op),filters:r}}}(t):ie(54877,{filter:t})}function cM(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function iC(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class si{constructor(e,n,r,i,s=ae.min(),o=ae.min(),a=Rt.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new si(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new si(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new si(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new si(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dM{constructor(e){this.yt=e}}function hM(t){const e=sM({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?dm(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fM{constructor(){this.Cn=new pM}addToCollectionParentIndex(e,n){return this.Cn.add(n),F.resolve()}getCollectionParents(e,n){return F.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return F.resolve()}deleteFieldIndex(e,n){return F.resolve()}deleteAllFieldIndexes(e){return F.resolve()}createTargetIndexes(e,n){return F.resolve()}getDocumentsMatchingTarget(e,n){return F.resolve(null)}getIndexType(e,n){return F.resolve(0)}getFieldIndexes(e,n){return F.resolve([])}getNextCollectionGroupToUpdate(e){return F.resolve(null)}getMinOffset(e,n){return F.resolve(Si.min())}getMinOffsetFromCollectionGroup(e,n){return F.resolve(Si.min())}updateCollectionGroup(e,n,r){return F.resolve()}updateIndexEntries(e,n){return F.resolve()}}class pM{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new pt(Oe.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new pt(Oe.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},sC=41943040;class Zt{static withCacheSize(e){return new Zt(e,Zt.DEFAULT_COLLECTION_PERCENTILE,Zt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Zt.DEFAULT_COLLECTION_PERCENTILE=10,Zt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Zt.DEFAULT=new Zt(sC,Zt.DEFAULT_COLLECTION_PERCENTILE,Zt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Zt.DISABLED=new Zt(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vo{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Vo(0)}static cr(){return new Vo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g_="LruGarbageCollector",mM=1048576;function y_([t,e],[n,r]){const i=he(t,n);return i===0?he(e,r):i}class gM{constructor(e){this.Ir=e,this.buffer=new pt(y_),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();y_(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class yM{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){G(g_,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Xo(n)?G(g_,"Ignoring IndexedDB error during garbage collection: ",n):await Qo(n)}await this.Vr(3e5)})}}class vM{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return F.resolve(nh.ce);const r=new gM(n);return this.mr.forEachTarget(e,i=>r.Ar(i.sequenceNumber)).next(()=>this.mr.pr(e,i=>r.Ar(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(G("LruGarbageCollector","Garbage collection skipped; disabled"),F.resolve(m_)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(G("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),m_):this.yr(e,n))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,i,s,o,a,l,c;const d=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(h=>(h>this.params.maximumSequenceNumbersToCollect?(G("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${h}`),i=this.params.maximumSequenceNumbersToCollect):i=h,o=Date.now(),this.nthSequenceNumber(e,i))).next(h=>(r=h,a=Date.now(),this.removeTargets(e,r,n))).next(h=>(s=h,l=Date.now(),this.removeOrphanedDocuments(e,r))).next(h=>(c=Date.now(),$s()<=de.DEBUG&&G("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-d}ms
	Determined least recently used ${i} in `+(a-o)+`ms
	Removed ${s} targets in `+(l-a)+`ms
	Removed ${h} documents in `+(c-l)+`ms
Total Duration: ${c-d}ms`),F.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:h})))}}function wM(t,e){return new vM(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _M{constructor(){this.changes=new Cs(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Ft.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?F.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TM{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EM{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&il(r.mutation,i,mn.empty(),Ve.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,fe()).next(()=>r))}getLocalViewOfDocuments(e,n,r=fe()){const i=ns();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=Ba();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=ns();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,fe()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=kr();const o=rl(),a=function(){return rl()}();return n.forEach((l,c)=>{const d=r.get(c.key);i.has(c.key)&&(d===void 0||d.mutation instanceof Li)?s=s.insert(c.key,c):d!==void 0?(o.set(c.key,d.mutation.getFieldMask()),il(d.mutation,c,d.mutation.getFieldMask(),Ve.now())):o.set(c.key,mn.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((c,d)=>o.set(c,d)),n.forEach((c,d)=>a.set(c,new TM(d,o.get(c)??null))),a))}recalculateAndSaveOverlays(e,n){const r=rl();let i=new He((o,a)=>o-a),s=fe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const c=n.get(l);if(c===null)return;let d=r.get(l)||mn.empty();d=a.applyToLocalView(c,d),r.set(l,d);const h=(i.get(a.batchId)||fe()).add(l);i=i.insert(a.batchId,h)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),c=l.key,d=l.value,h=BS();d.forEach(p=>{if(!s.has(p)){const g=GS(n.get(p),r.get(p));g!==null&&h.set(p,g),s=s.add(p)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,h))}return F.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return ne.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):SV(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):F.resolve(ns());let a=kl,l=s;return o.next(c=>F.forEach(c,(d,h)=>(a<h.largestBatchId&&(a=h.largestBatchId),s.get(d)?F.resolve():this.remoteDocumentCache.getEntry(e,d).next(p=>{l=l.insert(d,p)}))).next(()=>this.populateOverlays(e,c,s)).next(()=>this.computeViews(e,l,c,fe())).next(d=>({batchId:a,changes:jS(d)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ne(n)).next(r=>{let i=Ba();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let o=Ba();return this.indexManager.getCollectionParents(e,s).next(a=>F.forEach(a,l=>{const c=function(h,p){return new sh(p,null,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)}(n,l.child(s));return this.getDocumentsMatchingCollectionQuery(e,c,r,i).next(d=>{d.forEach((h,p)=>{o=o.insert(h,p)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((l,c)=>{const d=c.getKey();o.get(d)===null&&(o=o.insert(d,Ft.newInvalidDocument(d)))});let a=Ba();return o.forEach((l,c)=>{const d=s.get(l);d!==void 0&&il(d.mutation,c,mn.empty(),Ve.now()),ah(n,c)&&(a=a.insert(l,c))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PM{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return F.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:er(i.createTime)}}(n)),F.resolve()}getNamedQuery(e,n){return F.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,function(i){return{name:i.name,query:hM(i.bundledQuery),readTime:er(i.readTime)}}(n)),F.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SM{constructor(){this.overlays=new He(ne.comparator),this.qr=new Map}getOverlay(e,n){return F.resolve(this.overlays.get(n))}getOverlays(e,n){const r=ns();return F.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.St(e,n,s)}),F.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.qr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.qr.delete(r)),F.resolve()}getOverlaysForCollection(e,n,r){const i=ns(),s=n.length+1,o=new ne(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,c=l.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return F.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new He((c,d)=>c-d);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let d=s.get(c.largestBatchId);d===null&&(d=ns(),s=s.insert(c.largestBatchId,d)),d.set(c.getKey(),c)}}const a=ns(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,d)=>a.set(c,d)),!(a.size()>=i)););return F.resolve(a)}St(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.qr.get(i.largestBatchId).delete(r.key);this.qr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new $V(n,r));let s=this.qr.get(n);s===void 0&&(s=fe(),this.qr.set(n,s)),this.qr.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CM{constructor(){this.sessionToken=Rt.EMPTY_BYTE_STRING}getSessionToken(e){return F.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,F.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ay{constructor(){this.Qr=new pt(yt.$r),this.Ur=new pt(yt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new yt(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Gr(new yt(e,n))}zr(e,n){e.forEach(r=>this.removeReference(r,n))}jr(e){const n=new ne(new Oe([])),r=new yt(n,e),i=new yt(n,e+1),s=[];return this.Ur.forEachInRange([r,i],o=>{this.Gr(o),s.push(o.key)}),s}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new ne(new Oe([])),r=new yt(n,e),i=new yt(n,e+1);let s=fe();return this.Ur.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new yt(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class yt{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return ne.comparator(e.key,n.key)||he(e.Yr,n.Yr)}static Kr(e,n){return he(e.Yr,n.Yr)||ne.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IM{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new pt(yt.$r)}checkEmpty(e){return F.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new BV(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.Zr=this.Zr.add(new yt(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return F.resolve(o)}lookupMutationBatch(e,n){return F.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.ei(r),s=i<0?0:i;return F.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return F.resolve(this.mutationQueue.length===0?Qg:this.tr-1)}getAllMutationBatches(e){return F.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new yt(n,0),i=new yt(n,Number.POSITIVE_INFINITY),s=[];return this.Zr.forEachInRange([r,i],o=>{const a=this.Xr(o.Yr);s.push(a)}),F.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new pt(he);return n.forEach(i=>{const s=new yt(i,0),o=new yt(i,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([s,o],a=>{r=r.add(a.Yr)})}),F.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;ne.isDocumentKey(s)||(s=s.child(""));const o=new yt(new ne(s),0);let a=new pt(he);return this.Zr.forEachWhile(l=>{const c=l.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(a=a.add(l.Yr)),!0)},o),F.resolve(this.ti(a))}ti(e){const n=[];return e.forEach(r=>{const i=this.Xr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Ce(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return F.forEach(n.mutations,i=>{const s=new yt(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Zr=r})}ir(e){}containsKey(e,n){const r=new yt(n,0),i=this.Zr.firstAfterOrEqual(r);return F.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,F.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AM{constructor(e){this.ri=e,this.docs=function(){return new He(ne.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return F.resolve(r?r.document.mutableCopy():Ft.newInvalidDocument(n))}getEntries(e,n){let r=kr();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Ft.newInvalidDocument(i))}),F.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=kr();const o=n.path,a=new ne(o.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:c,value:{document:d}}=l.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||nV(tV(d),r)<=0||(i.has(d.key)||ah(n,d))&&(s=s.insert(d.key,d.mutableCopy()))}return F.resolve(s)}getAllFromCollectionGroup(e,n,r,i){ie(9500)}ii(e,n){return F.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new RM(this)}getSize(e){return F.resolve(this.size)}}class RM extends _M{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.Nr.addEntry(e,i)):this.Nr.removeEntry(r)}),F.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xM{constructor(e){this.persistence=e,this.si=new Cs(n=>Zg(n),ey),this.lastRemoteSnapshotVersion=ae.min(),this.highestTargetId=0,this.oi=0,this._i=new ay,this.targetCount=0,this.ai=Vo.ur()}forEachTarget(e,n){return this.si.forEach((r,i)=>n(i)),F.resolve()}getLastRemoteSnapshotVersion(e){return F.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return F.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),F.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),F.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new Vo(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,F.resolve()}updateTargetData(e,n){return this.Pr(n),F.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,F.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.si.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.si.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),F.waitFor(s).next(()=>i)}getTargetCount(e){return F.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return F.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),F.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),F.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),F.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return F.resolve(r)}containsKey(e,n){return F.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oC{constructor(e,n){this.ui={},this.overlays={},this.ci=new nh(0),this.li=!1,this.li=!0,this.hi=new CM,this.referenceDelegate=e(this),this.Pi=new xM(this),this.indexManager=new fM,this.remoteDocumentCache=function(i){return new AM(i)}(r=>this.referenceDelegate.Ti(r)),this.serializer=new dM(n),this.Ii=new PM(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new SM,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new IM(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){G("MemoryPersistence","Starting transaction:",e);const i=new kM(this.ci.next());return this.referenceDelegate.Ei(),r(i).next(s=>this.referenceDelegate.di(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Ai(e,n){return F.or(Object.values(this.ui).map(r=>()=>r.containsKey(e,n)))}}class kM extends iV{constructor(e){super(),this.currentSequenceNumber=e}}class ly{constructor(e){this.persistence=e,this.Ri=new ay,this.Vi=null}static mi(e){return new ly(e)}get fi(){if(this.Vi)return this.Vi;throw ie(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),F.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),F.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),F.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach(i=>this.fi.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.fi.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return F.forEach(this.fi,r=>{const i=ne.fromPath(r);return this.gi(e,i).next(s=>{s||n.removeEntry(i,ae.min())})}).next(()=>(this.Vi=null,n.apply(e)))}updateLimboDocument(e,n){return this.gi(e,n).next(r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())})}Ti(e){return 0}gi(e,n){return F.or([()=>F.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class dd{constructor(e,n){this.persistence=e,this.pi=new Cs(r=>aV(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=wM(this,n)}static mi(e,n){return new dd(e,n)}Ei(){}di(e){return F.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}wr(e){let n=0;return this.pr(e,r=>{n++}).next(()=>n)}pr(e,n){return F.forEach(this.pi,(r,i)=>this.br(e,r,i).next(s=>s?F.resolve():n(i)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),s=i.newChangeBuffer();return i.ii(e,o=>this.br(e,o,n).next(a=>{a||(r++,s.removeEntry(o,ae.min()))})).next(()=>s.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),F.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),F.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),F.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),F.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=gc(e.data.value)),n}br(e,n,r){return F.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.pi.get(n);return F.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uy{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=i}static As(e,n){let r=fe(),i=fe();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new uy(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bM{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DM{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return PN()?8:sV(Bt())>0?6:4}()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.ys(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.ws(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new bM;return this.Ss(e,n,o).next(a=>{if(s.result=a,this.Vs)return this.bs(e,n,o,a.size)})}).next(()=>s.result)}bs(e,n,r,i){return r.documentReadCount<this.fs?($s()<=de.DEBUG&&G("QueryEngine","SDK will not create cache indexes for query:",zs(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),F.resolve()):($s()<=de.DEBUG&&G("QueryEngine","Query:",zs(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.gs*i?($s()<=de.DEBUG&&G("QueryEngine","The SDK decides to create cache indexes for query:",zs(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Zn(n))):F.resolve())}ys(e,n){if(s_(n))return F.resolve(null);let r=Zn(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=dm(n,null,"F"),r=Zn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=fe(...s);return this.ps.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const c=this.Ds(n,a);return this.Cs(n,c,o,l.readTime)?this.ys(e,dm(n,null,"F")):this.vs(e,c,n,l)}))})))}ws(e,n,r,i){return s_(n)||i.isEqual(ae.min())?F.resolve(null):this.ps.getDocuments(e,r).next(s=>{const o=this.Ds(n,s);return this.Cs(n,o,r,i)?F.resolve(null):($s()<=de.DEBUG&&G("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),zs(n)),this.vs(e,o,n,eV(i,kl)).next(a=>a))})}Ds(e,n){let r=new pt(FS(e));return n.forEach((i,s)=>{ah(e,s)&&(r=r.add(s))}),r}Cs(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Ss(e,n,r){return $s()<=de.DEBUG&&G("QueryEngine","Using full collection scan to execute query:",zs(n)),this.ps.getDocumentsMatchingQuery(e,n,Si.min(),r)}vs(e,n,r,i){return this.ps.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cy="LocalStore",NM=3e8;class OM{constructor(e,n,r,i){this.persistence=e,this.Fs=n,this.serializer=i,this.Ms=new He(he),this.xs=new Cs(s=>Zg(s),ey),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new EM(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ms))}}function VM(t,e,n,r){return new OM(t,e,n,r)}async function aC(t,e){const n=le(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.Bs(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let l=fe();for(const c of i){o.push(c.batchId);for(const d of c.mutations)l=l.add(d.key)}for(const c of s){a.push(c.batchId);for(const d of c.mutations)l=l.add(d.key)}return n.localDocuments.getDocuments(r,l).next(c=>({Ls:c,removedBatchIds:o,addedBatchIds:a}))})})}function MM(t,e){const n=le(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.Ns.newChangeBuffer({trackRemovals:!0});return function(a,l,c,d){const h=c.batch,p=h.keys();let g=F.resolve();return p.forEach(T=>{g=g.next(()=>d.getEntry(l,T)).next(E=>{const A=c.docVersions.get(T);Ce(A!==null,48541),E.version.compareTo(A)<0&&(h.applyToRemoteDocument(E,c),E.isValidDocument()&&(E.setReadTime(c.commitVersion),d.addEntry(E)))})}),g.next(()=>a.mutationQueue.removeMutationBatch(l,h))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=fe();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(l=l.add(a.batch.mutations[c].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function lC(t){const e=le(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Pi.getLastRemoteSnapshotVersion(n))}function LM(t,e){const n=le(t),r=e.snapshotVersion;let i=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.Ns.newChangeBuffer({trackRemovals:!0});i=n.Ms;const a=[];e.targetChanges.forEach((d,h)=>{const p=i.get(h);if(!p)return;a.push(n.Pi.removeMatchingKeys(s,d.removedDocuments,h).next(()=>n.Pi.addMatchingKeys(s,d.addedDocuments,h)));let g=p.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(h)!==null?g=g.withResumeToken(Rt.EMPTY_BYTE_STRING,ae.min()).withLastLimboFreeSnapshotVersion(ae.min()):d.resumeToken.approximateByteSize()>0&&(g=g.withResumeToken(d.resumeToken,r)),i=i.insert(h,g),function(E,A,w){return E.resumeToken.approximateByteSize()===0||A.snapshotVersion.toMicroseconds()-E.snapshotVersion.toMicroseconds()>=NM?!0:w.addedDocuments.size+w.modifiedDocuments.size+w.removedDocuments.size>0}(p,g,d)&&a.push(n.Pi.updateTargetData(s,g))});let l=kr(),c=fe();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,d))}),a.push(FM(s,o,e.documentUpdates).next(d=>{l=d.ks,c=d.qs})),!r.isEqual(ae.min())){const d=n.Pi.getLastRemoteSnapshotVersion(s).next(h=>n.Pi.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(d)}return F.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,l,c)).next(()=>l)}).then(s=>(n.Ms=i,s))}function FM(t,e,n){let r=fe(),i=fe();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=kr();return n.forEach((a,l)=>{const c=s.get(a);l.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(ae.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):G(cy,"Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",l.version)}),{ks:o,qs:i}})}function UM(t,e){const n=le(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=Qg),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function jM(t,e){const n=le(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Pi.getTargetData(r,e).next(s=>s?(i=s,F.resolve(i)):n.Pi.allocateTargetId(r).next(o=>(i=new si(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.Ms.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r})}async function gm(t,e,n){const r=le(t),i=r.Ms.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!Xo(o))throw o;G(cy,`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ms=r.Ms.remove(e),r.xs.delete(i.target)}function v_(t,e,n){const r=le(t);let i=ae.min(),s=fe();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,c,d){const h=le(l),p=h.xs.get(d);return p!==void 0?F.resolve(h.Ms.get(p)):h.Pi.getTargetData(c,d)}(r,o,Zn(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>r.Fs.getDocumentsMatchingQuery(o,e,n?i:ae.min(),n?s:fe())).next(a=>(BM(r,IV(e),a),{documents:a,Qs:s})))}function BM(t,e,n){let r=t.Os.get(e)||ae.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.Os.set(e,r)}class w_{constructor(){this.activeTargetIds=DV()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class $M{constructor(){this.Mo=new w_,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new w_,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zM{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const __="ConnectivityMonitor";class T_{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){G(__,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){G(__,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let qu=null;function ym(){return qu===null?qu=function(){return 268435456+Math.round(2147483648*Math.random())}():qu++,"0x"+qu.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nf="RestConnection",WM={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class HM{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${i}`,this.Wo=this.databaseId.database===id?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Go(e,n,r,i,s){const o=ym(),a=this.zo(e,n.toUriEncodedString());G(Nf,`Sending RPC '${e}' ${o}:`,a,r);const l={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(l,i,s);const{host:c}=new URL(a),d=Go(c);return this.Jo(e,a,l,r,d).then(h=>(G(Nf,`Received RPC '${e}' ${o}: `,h),h),h=>{throw bo(Nf,`RPC '${e}' ${o} failed with error: `,h,"url: ",a,"request:",r),h})}Ho(e,n,r,i,s,o){return this.Go(e,n,r,i,s)}jo(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Yo}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}zo(e,n){const r=WM[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qM{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ot="WebChannelConnection";class GM extends HM{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,i,s){const o=ym();return new Promise((a,l)=>{const c=new dS;c.setWithCredentials(!0),c.listenOnce(hS.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case mc.NO_ERROR:const h=c.getResponseJson();G(Ot,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(h)),a(h);break;case mc.TIMEOUT:G(Ot,`RPC '${e}' ${o} timed out`),l(new X(U.DEADLINE_EXCEEDED,"Request time out"));break;case mc.HTTP_ERROR:const p=c.getStatus();if(G(Ot,`RPC '${e}' ${o} failed with status:`,p,"response text:",c.getResponseText()),p>0){let g=c.getResponseJson();Array.isArray(g)&&(g=g[0]);const T=g==null?void 0:g.error;if(T&&T.status&&T.message){const E=function(w){const y=w.toLowerCase().replace(/_/g,"-");return Object.values(U).indexOf(y)>=0?y:U.UNKNOWN}(T.status);l(new X(E,T.message))}else l(new X(U.UNKNOWN,"Server responded with status "+c.getStatus()))}else l(new X(U.UNAVAILABLE,"Connection failed."));break;default:ie(9055,{l_:e,streamId:o,h_:c.getLastErrorCode(),P_:c.getLastError()})}}finally{G(Ot,`RPC '${e}' ${o} completed.`)}});const d=JSON.stringify(i);G(Ot,`RPC '${e}' ${o} sending request:`,i),c.send(n,"POST",d,r,15)})}T_(e,n,r){const i=ym(),s=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=mS(),a=pS(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.useFetchStreams=!0),this.jo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const d=s.join("");G(Ot,`Creating RPC '${e}' stream ${i}: ${d}`,l);const h=o.createWebChannel(d,l);this.I_(h);let p=!1,g=!1;const T=new qM({Yo:A=>{g?G(Ot,`Not sending because RPC '${e}' stream ${i} is closed:`,A):(p||(G(Ot,`Opening RPC '${e}' stream ${i} transport.`),h.open(),p=!0),G(Ot,`RPC '${e}' stream ${i} sending:`,A),h.send(A))},Zo:()=>h.close()}),E=(A,w,y)=>{A.listen(w,_=>{try{y(_)}catch(b){setTimeout(()=>{throw b},0)}})};return E(h,ja.EventType.OPEN,()=>{g||(G(Ot,`RPC '${e}' stream ${i} transport opened.`),T.o_())}),E(h,ja.EventType.CLOSE,()=>{g||(g=!0,G(Ot,`RPC '${e}' stream ${i} transport closed`),T.a_(),this.E_(h))}),E(h,ja.EventType.ERROR,A=>{g||(g=!0,bo(Ot,`RPC '${e}' stream ${i} transport errored. Name:`,A.name,"Message:",A.message),T.a_(new X(U.UNAVAILABLE,"The operation could not be completed")))}),E(h,ja.EventType.MESSAGE,A=>{var w;if(!g){const y=A.data[0];Ce(!!y,16349);const _=y,b=(_==null?void 0:_.error)||((w=_[0])==null?void 0:w.error);if(b){G(Ot,`RPC '${e}' stream ${i} received error:`,b);const O=b.status;let V=function(S){const I=ot[S];if(I!==void 0)return YS(I)}(O),C=b.message;V===void 0&&(V=U.INTERNAL,C="Unknown error status: "+O+" with message "+b.message),g=!0,T.a_(new X(V,C)),h.close()}else G(Ot,`RPC '${e}' stream ${i} received:`,y),T.u_(y)}}),E(a,fS.STAT_EVENT,A=>{A.stat===sm.PROXY?G(Ot,`RPC '${e}' stream ${i} detected buffering proxy`):A.stat===sm.NOPROXY&&G(Ot,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{T.__()},0),T}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(n=>n===e)}}function Of(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dh(t){return new XV(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uC{constructor(e,n,r=1e3,i=1.5,s=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=i,this.R_=s,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),i=Math.max(0,n-r);i>0&&G("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,i,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E_="PersistentStream";class cC{constructor(e,n,r,i,s,o,a,l){this.Mi=e,this.S_=r,this.b_=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new uC(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===U.RESOURCE_EXHAUSTED?(xr(n.toString()),xr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===U.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.D_===n&&this.G_(r,i)},r=>{e(()=>{const i=new X(U.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(i)})})}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo(()=>{r(()=>this.listener.Xo())}),this.stream.t_(()=>{r(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(i=>{r(()=>this.z_(i))}),this.stream.onMessage(i=>{r(()=>++this.F_==1?this.J_(i):this.onNext(i))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return G(E_,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget(()=>this.D_===e?n():(G(E_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class KM extends cC{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=eM(this.serializer,e),r=function(s){if(!("targetChange"in s))return ae.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?ae.min():o.readTime?er(o.readTime):ae.min()}(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=mm(this.serializer),n.addTarget=function(s,o){let a;const l=o.target;if(a=cm(l)?{documents:rM(s,l)}:{query:iM(s,l).ft},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=JS(s,o.resumeToken);const c=hm(s,o.expectedCount);c!==null&&(a.expectedCount=c)}else if(o.snapshotVersion.compareTo(ae.min())>0){a.readTime=cd(s,o.snapshotVersion.toTimestamp());const c=hm(s,o.expectedCount);c!==null&&(a.expectedCount=c)}return a}(this.serializer,e);const r=oM(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=mm(this.serializer),n.removeTarget=e,this.q_(n)}}class YM extends cC{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return Ce(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ce(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Ce(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=nM(e.writeResults,e.commitTime),r=er(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=mm(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>tM(this.serializer,r))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QM{}class XM extends QM{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new X(U.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Go(e,fm(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===U.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new X(U.UNKNOWN,s.toString())})}Ho(e,n,r,i,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Ho(e,fm(n,r),i,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===U.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new X(U.UNKNOWN,o.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class JM{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(xr(n),this.aa=!1):G("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gs="RemoteStore";class ZM{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=s,this.Aa.Oo(o=>{r.enqueueAndForget(async()=>{Is(this)&&(G(gs,"Restarting streams for network reachability change."),await async function(l){const c=le(l);c.Ea.add(4),await Jl(c),c.Ra.set("Unknown"),c.Ea.delete(4),await hh(c)}(this))})}),this.Ra=new JM(r,i)}}async function hh(t){if(Is(t))for(const e of t.da)await e(!0)}async function Jl(t){for(const e of t.da)await e(!1)}function dC(t,e){const n=le(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),py(n)?fy(n):Jo(n).O_()&&hy(n,e))}function dy(t,e){const n=le(t),r=Jo(n);n.Ia.delete(e),r.O_()&&hC(n,e),n.Ia.size===0&&(r.O_()?r.L_():Is(n)&&n.Ra.set("Unknown"))}function hy(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ae.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Jo(t).Y_(e)}function hC(t,e){t.Va.Ue(e),Jo(t).Z_(e)}function fy(t){t.Va=new GV({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),Jo(t).start(),t.Ra.ua()}function py(t){return Is(t)&&!Jo(t).x_()&&t.Ia.size>0}function Is(t){return le(t).Ea.size===0}function fC(t){t.Va=void 0}async function e2(t){t.Ra.set("Online")}async function t2(t){t.Ia.forEach((e,n)=>{hy(t,e)})}async function n2(t,e){fC(t),py(t)?(t.Ra.ha(e),fy(t)):t.Ra.set("Unknown")}async function r2(t,e,n){if(t.Ra.set("Online"),e instanceof XS&&e.state===2&&e.cause)try{await async function(i,s){const o=s.cause;for(const a of s.targetIds)i.Ia.has(a)&&(await i.remoteSyncer.rejectListen(a,o),i.Ia.delete(a),i.Va.removeTarget(a))}(t,e)}catch(r){G(gs,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await hd(t,r)}else if(e instanceof wc?t.Va.Ze(e):e instanceof QS?t.Va.st(e):t.Va.tt(e),!n.isEqual(ae.min()))try{const r=await lC(t.localStore);n.compareTo(r)>=0&&await function(s,o){const a=s.Va.Tt(o);return a.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const d=s.Ia.get(c);d&&s.Ia.set(c,d.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,c)=>{const d=s.Ia.get(l);if(!d)return;s.Ia.set(l,d.withResumeToken(Rt.EMPTY_BYTE_STRING,d.snapshotVersion)),hC(s,l);const h=new si(d.target,l,c,d.sequenceNumber);hy(s,h)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){G(gs,"Failed to raise snapshot:",r),await hd(t,r)}}async function hd(t,e,n){if(!Xo(e))throw e;t.Ea.add(1),await Jl(t),t.Ra.set("Offline"),n||(n=()=>lC(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{G(gs,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await hh(t)})}function pC(t,e){return e().catch(n=>hd(t,n,e))}async function fh(t){const e=le(t),n=Ri(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Qg;for(;i2(e);)try{const i=await UM(e.localStore,r);if(i===null){e.Ta.length===0&&n.L_();break}r=i.batchId,s2(e,i)}catch(i){await hd(e,i)}mC(e)&&gC(e)}function i2(t){return Is(t)&&t.Ta.length<10}function s2(t,e){t.Ta.push(e);const n=Ri(t);n.O_()&&n.X_&&n.ea(e.mutations)}function mC(t){return Is(t)&&!Ri(t).x_()&&t.Ta.length>0}function gC(t){Ri(t).start()}async function o2(t){Ri(t).ra()}async function a2(t){const e=Ri(t);for(const n of t.Ta)e.ea(n.mutations)}async function l2(t,e,n){const r=t.Ta.shift(),i=iy.from(r,e,n);await pC(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await fh(t)}async function u2(t,e){e&&Ri(t).X_&&await async function(r,i){if(function(o){return WV(o)&&o!==U.ABORTED}(i.code)){const s=r.Ta.shift();Ri(r).B_(),await pC(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await fh(r)}}(t,e),mC(t)&&gC(t)}async function P_(t,e){const n=le(t);n.asyncQueue.verifyOperationInProgress(),G(gs,"RemoteStore received new credentials");const r=Is(n);n.Ea.add(3),await Jl(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await hh(n)}async function c2(t,e){const n=le(t);e?(n.Ea.delete(2),await hh(n)):e||(n.Ea.add(2),await Jl(n),n.Ra.set("Unknown"))}function Jo(t){return t.ma||(t.ma=function(n,r,i){const s=le(n);return s.sa(),new KM(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Xo:e2.bind(null,t),t_:t2.bind(null,t),r_:n2.bind(null,t),H_:r2.bind(null,t)}),t.da.push(async e=>{e?(t.ma.B_(),py(t)?fy(t):t.Ra.set("Unknown")):(await t.ma.stop(),fC(t))})),t.ma}function Ri(t){return t.fa||(t.fa=function(n,r,i){const s=le(n);return s.sa(),new YM(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:o2.bind(null,t),r_:u2.bind(null,t),ta:a2.bind(null,t),na:l2.bind(null,t)}),t.da.push(async e=>{e?(t.fa.B_(),await fh(t)):(await t.fa.stop(),t.Ta.length>0&&(G(gs,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))})),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class my{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Tr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new my(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new X(U.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function gy(t,e){if(xr("AsyncQueue",`${e}: ${t}`),Xo(t))return new X(U.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yo{static emptySet(e){return new yo(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||ne.comparator(n.key,r.key):(n,r)=>ne.comparator(n.key,r.key),this.keyedMap=Ba(),this.sortedSet=new He(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof yo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new yo;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S_{constructor(){this.ga=new He(ne.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):ie(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal((n,r)=>{e.push(r)}),e}}class Mo{constructor(e,n,r,i,s,o,a,l,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new Mo(e,n,yo.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&oh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d2{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class h2{constructor(){this.queries=C_(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const i=le(n),s=i.queries;i.queries=C_(),s.forEach((o,a)=>{for(const l of a.Sa)l.onError(r)})})(this,new X(U.ABORTED,"Firestore shutting down"))}}function C_(){return new Cs(t=>LS(t),oh)}async function yC(t,e){const n=le(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.ba()&&e.Da()&&(r=2):(s=new d2,r=e.Da()?0:1);try{switch(r){case 0:s.wa=await n.onListen(i,!0);break;case 1:s.wa=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(o){const a=gy(o,`Initialization of query '${zs(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,s),s.Sa.push(e),e.va(n.onlineState),s.wa&&e.Fa(s.wa)&&yy(n)}async function vC(t,e){const n=le(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const o=s.Sa.indexOf(e);o>=0&&(s.Sa.splice(o,1),s.Sa.length===0?i=e.Da()?0:1:!s.ba()&&e.Da()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function f2(t,e){const n=le(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.Sa)a.Fa(i)&&(r=!0);o.wa=i}}r&&yy(n)}function p2(t,e,n){const r=le(t),i=r.queries.get(e);if(i)for(const s of i.Sa)s.onError(n);r.queries.delete(e)}function yy(t){t.Ca.forEach(e=>{e.next()})}var vm,I_;(I_=vm||(vm={})).Ma="default",I_.Cache="cache";class wC{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Mo(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Mo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==vm.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _C{constructor(e){this.key=e}}class TC{constructor(e){this.key=e}}class m2{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=fe(),this.mutatedKeys=fe(),this.eu=FS(e),this.tu=new yo(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new S_,i=n?n.tu:this.tu;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,c=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((d,h)=>{const p=i.get(d),g=ah(this.query,h)?h:null,T=!!p&&this.mutatedKeys.has(p.key),E=!!g&&(g.hasLocalMutations||this.mutatedKeys.has(g.key)&&g.hasCommittedMutations);let A=!1;p&&g?p.data.isEqual(g.data)?T!==E&&(r.track({type:3,doc:g}),A=!0):this.su(p,g)||(r.track({type:2,doc:g}),A=!0,(l&&this.eu(g,l)>0||c&&this.eu(g,c)<0)&&(a=!0)):!p&&g?(r.track({type:0,doc:g}),A=!0):p&&!g&&(r.track({type:1,doc:p}),A=!0,(l||c)&&(a=!0)),A&&(g?(o=o.add(g),s=E?s.add(d):s.delete(d)):(o=o.delete(d),s=s.delete(d)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const d=this.query.limitType==="F"?o.last():o.first();o=o.delete(d.key),s=s.delete(d.key),r.track({type:1,doc:d})}return{tu:o,iu:r,Cs:a,mutatedKeys:s}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const o=e.iu.ya();o.sort((d,h)=>function(g,T){const E=A=>{switch(A){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ie(20277,{Rt:A})}};return E(g)-E(T)}(d.type,h.type)||this.eu(d.doc,h.doc)),this.ou(r),i=i??!1;const a=n&&!i?this._u():[],l=this.Xa.size===0&&this.current&&!i?1:0,c=l!==this.Za;return this.Za=l,o.length!==0||c?{snapshot:new Mo(this.query,e.tu,s,o,e.mutatedKeys,l===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:a}:{au:a}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new S_,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(n=>this.Ya=this.Ya.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ya=this.Ya.delete(n)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=fe(),this.tu.forEach(r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))});const n=[];return e.forEach(r=>{this.Xa.has(r)||n.push(new TC(r))}),this.Xa.forEach(r=>{e.has(r)||n.push(new _C(r))}),n}cu(e){this.Ya=e.Qs,this.Xa=fe();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Mo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const vy="SyncEngine";class g2{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class y2{constructor(e){this.key=e,this.hu=!1}}class v2{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Pu={},this.Tu=new Cs(a=>LS(a),oh),this.Iu=new Map,this.Eu=new Set,this.du=new He(ne.comparator),this.Au=new Map,this.Ru=new ay,this.Vu={},this.mu=new Map,this.fu=Vo.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function w2(t,e,n=!0){const r=AC(t);let i;const s=r.Tu.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.lu()):i=await EC(r,e,n,!0),i}async function _2(t,e){const n=AC(t);await EC(n,e,!0,!1)}async function EC(t,e,n,r){const i=await jM(t.localStore,Zn(e)),s=i.targetId,o=t.sharedClientState.addLocalQueryTarget(s,n);let a;return r&&(a=await T2(t,e,s,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&dC(t.remoteStore,i),a}async function T2(t,e,n,r,i){t.pu=(h,p,g)=>async function(E,A,w,y){let _=A.view.ru(w);_.Cs&&(_=await v_(E.localStore,A.query,!1).then(({documents:C})=>A.view.ru(C,_)));const b=y&&y.targetChanges.get(A.targetId),O=y&&y.targetMismatches.get(A.targetId)!=null,V=A.view.applyChanges(_,E.isPrimaryClient,b,O);return R_(E,A.targetId,V.au),V.snapshot}(t,h,p,g);const s=await v_(t.localStore,e,!0),o=new m2(e,s.Qs),a=o.ru(s.documents),l=Xl.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),c=o.applyChanges(a,t.isPrimaryClient,l);R_(t,n,c.au);const d=new g2(e,n,o);return t.Tu.set(e,d),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),c.snapshot}async function E2(t,e,n){const r=le(t),i=r.Tu.get(e),s=r.Iu.get(i.targetId);if(s.length>1)return r.Iu.set(i.targetId,s.filter(o=>!oh(o,e))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await gm(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&dy(r.remoteStore,i.targetId),wm(r,i.targetId)}).catch(Qo)):(wm(r,i.targetId),await gm(r.localStore,i.targetId,!0))}async function P2(t,e){const n=le(t),r=n.Tu.get(e),i=n.Iu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),dy(n.remoteStore,r.targetId))}async function S2(t,e,n){const r=b2(t);try{const i=await function(o,a){const l=le(o),c=Ve.now(),d=a.reduce((g,T)=>g.add(T.key),fe());let h,p;return l.persistence.runTransaction("Locally write mutations","readwrite",g=>{let T=kr(),E=fe();return l.Ns.getEntries(g,d).next(A=>{T=A,T.forEach((w,y)=>{y.isValidDocument()||(E=E.add(w))})}).next(()=>l.localDocuments.getOverlayedDocuments(g,T)).next(A=>{h=A;const w=[];for(const y of a){const _=UV(y,h.get(y.key).overlayedDocument);_!=null&&w.push(new Li(y.key,_,kS(_.value.mapValue),xn.exists(!0)))}return l.mutationQueue.addMutationBatch(g,c,w,a)}).next(A=>{p=A;const w=A.applyToLocalDocumentSet(h,E);return l.documentOverlayCache.saveOverlays(g,A.batchId,w)})}).then(()=>({batchId:p.batchId,changes:jS(h)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,l){let c=o.Vu[o.currentUser.toKey()];c||(c=new He(he)),c=c.insert(a,l),o.Vu[o.currentUser.toKey()]=c}(r,i.batchId,n),await Zl(r,i.changes),await fh(r.remoteStore)}catch(i){const s=gy(i,"Failed to persist write");n.reject(s)}}async function PC(t,e){const n=le(t);try{const r=await LM(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.Au.get(s);o&&(Ce(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?o.hu=!0:i.modifiedDocuments.size>0?Ce(o.hu,14607):i.removedDocuments.size>0&&(Ce(o.hu,42227),o.hu=!1))}),await Zl(n,r,e)}catch(r){await Qo(r)}}function A_(t,e,n){const r=le(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Tu.forEach((s,o)=>{const a=o.view.va(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){const l=le(o);l.onlineState=a;let c=!1;l.queries.forEach((d,h)=>{for(const p of h.Sa)p.va(a)&&(c=!0)}),c&&yy(l)}(r.eventManager,e),i.length&&r.Pu.H_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function C2(t,e,n){const r=le(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Au.get(e),s=i&&i.key;if(s){let o=new He(ne.comparator);o=o.insert(s,Ft.newNoDocument(s,ae.min()));const a=fe().add(s),l=new ch(ae.min(),new Map,new He(he),o,a);await PC(r,l),r.du=r.du.remove(s),r.Au.delete(e),wy(r)}else await gm(r.localStore,e,!1).then(()=>wm(r,e,n)).catch(Qo)}async function I2(t,e){const n=le(t),r=e.batch.batchId;try{const i=await MM(n.localStore,e);CC(n,r,null),SC(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Zl(n,i)}catch(i){await Qo(i)}}async function A2(t,e,n){const r=le(t);try{const i=await function(o,a){const l=le(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let d;return l.mutationQueue.lookupMutationBatch(c,a).next(h=>(Ce(h!==null,37113),d=h.keys(),l.mutationQueue.removeMutationBatch(c,h))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,d,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,d)).next(()=>l.localDocuments.getDocuments(c,d))})}(r.localStore,e);CC(r,e,n),SC(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Zl(r,i)}catch(i){await Qo(i)}}function SC(t,e){(t.mu.get(e)||[]).forEach(n=>{n.resolve()}),t.mu.delete(e)}function CC(t,e,n){const r=le(t);let i=r.Vu[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Vu[r.currentUser.toKey()]=i}}function wm(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach(r=>{t.Ru.containsKey(r)||IC(t,r)})}function IC(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(dy(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),wy(t))}function R_(t,e,n){for(const r of n)r instanceof _C?(t.Ru.addReference(r.key,e),R2(t,r)):r instanceof TC?(G(vy,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||IC(t,r.key)):ie(19791,{wu:r})}function R2(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(G(vy,"New document in limbo: "+n),t.Eu.add(r),wy(t))}function wy(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new ne(Oe.fromString(e)),r=t.fu.next();t.Au.set(r,new y2(n)),t.du=t.du.insert(n,r),dC(t.remoteStore,new si(Zn(ty(n.path)),r,"TargetPurposeLimboResolution",nh.ce))}}async function Zl(t,e,n){const r=le(t),i=[],s=[],o=[];r.Tu.isEmpty()||(r.Tu.forEach((a,l)=>{o.push(r.pu(l,e,n).then(c=>{var d;if((c||n)&&r.isPrimaryClient){const h=c?!c.fromCache:(d=n==null?void 0:n.targetChanges.get(l.targetId))==null?void 0:d.current;r.sharedClientState.updateQueryState(l.targetId,h?"current":"not-current")}if(c){i.push(c);const h=uy.As(l.targetId,c);s.push(h)}}))}),await Promise.all(o),r.Pu.H_(i),await async function(l,c){const d=le(l);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>F.forEach(c,p=>F.forEach(p.Es,g=>d.persistence.referenceDelegate.addReference(h,p.targetId,g)).next(()=>F.forEach(p.ds,g=>d.persistence.referenceDelegate.removeReference(h,p.targetId,g)))))}catch(h){if(!Xo(h))throw h;G(cy,"Failed to update sequence numbers: "+h)}for(const h of c){const p=h.targetId;if(!h.fromCache){const g=d.Ms.get(p),T=g.snapshotVersion,E=g.withLastLimboFreeSnapshotVersion(T);d.Ms=d.Ms.insert(p,E)}}}(r.localStore,s))}async function x2(t,e){const n=le(t);if(!n.currentUser.isEqual(e)){G(vy,"User change. New user:",e.toKey());const r=await aC(n.localStore,e);n.currentUser=e,function(s,o){s.mu.forEach(a=>{a.forEach(l=>{l.reject(new X(U.CANCELLED,o))})}),s.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Zl(n,r.Ls)}}function k2(t,e){const n=le(t),r=n.Au.get(e);if(r&&r.hu)return fe().add(r.key);{let i=fe();const s=n.Iu.get(e);if(!s)return i;for(const o of s){const a=n.Tu.get(o);i=i.unionWith(a.view.nu)}return i}}function AC(t){const e=le(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=PC.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=k2.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=C2.bind(null,e),e.Pu.H_=f2.bind(null,e.eventManager),e.Pu.yu=p2.bind(null,e.eventManager),e}function b2(t){const e=le(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=I2.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=A2.bind(null,e),e}class fd{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=dh(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return VM(this.persistence,new DM,e.initialUser,this.serializer)}Cu(e){return new oC(ly.mi,this.serializer)}Du(e){return new $M}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}fd.provider={build:()=>new fd};class D2 extends fd{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Ce(this.persistence.referenceDelegate instanceof dd,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new yM(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Zt.withCacheSize(this.cacheSizeBytes):Zt.DEFAULT;return new oC(r=>dd.mi(r,n),this.serializer)}}class _m{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>A_(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=x2.bind(null,this.syncEngine),await c2(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new h2}()}createDatastore(e){const n=dh(e.databaseInfo.databaseId),r=function(s){return new GM(s)}(e.databaseInfo);return function(s,o,a,l){return new XM(s,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,a){return new ZM(r,i,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>A_(this.syncEngine,n,0),function(){return T_.v()?new T_:new zM}())}createSyncEngine(e,n){return function(i,s,o,a,l,c,d){const h=new v2(i,s,o,a,l,c);return d&&(h.gu=!0),h}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const s=le(i);G(gs,"RemoteStore shutting down."),s.Ea.add(5),await Jl(s),s.Aa.shutdown(),s.Ra.set("Unknown")}(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}_m.provider={build:()=>new _m};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RC{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):xr("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xi="FirestoreClient";class N2{constructor(e,n,r,i,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Mt.UNAUTHENTICATED,this.clientId=Kg.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,async o=>{G(xi,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(G(xi,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Tr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=gy(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Vf(t,e){t.asyncQueue.verifyOperationInProgress(),G(xi,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await aC(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function x_(t,e){t.asyncQueue.verifyOperationInProgress();const n=await O2(t);G(xi,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>P_(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>P_(e.remoteStore,i)),t._onlineComponents=e}async function O2(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){G(xi,"Using user provided OfflineComponentProvider");try{await Vf(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===U.FAILED_PRECONDITION||i.code===U.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;bo("Error using user provided cache. Falling back to memory cache: "+n),await Vf(t,new fd)}}else G(xi,"Using default OfflineComponentProvider"),await Vf(t,new D2(void 0));return t._offlineComponents}async function xC(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(G(xi,"Using user provided OnlineComponentProvider"),await x_(t,t._uninitializedComponentsProvider._online)):(G(xi,"Using default OnlineComponentProvider"),await x_(t,new _m))),t._onlineComponents}function V2(t){return xC(t).then(e=>e.syncEngine)}async function kC(t){const e=await xC(t),n=e.eventManager;return n.onListen=w2.bind(null,e.syncEngine),n.onUnlisten=E2.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=_2.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=P2.bind(null,e.syncEngine),n}function M2(t,e,n={}){const r=new Tr;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,c){const d=new RC({next:p=>{d.Nu(),o.enqueueAndForget(()=>vC(s,h));const g=p.docs.has(a);!g&&p.fromCache?c.reject(new X(U.UNAVAILABLE,"Failed to get document because the client is offline.")):g&&p.fromCache&&l&&l.source==="server"?c.reject(new X(U.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(p)},error:p=>c.reject(p)}),h=new wC(ty(a.path),d,{includeMetadataChanges:!0,qa:!0});return yC(s,h)}(await kC(t),t.asyncQueue,e,n,r)),r.promise}function L2(t,e,n={}){const r=new Tr;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,c){const d=new RC({next:p=>{d.Nu(),o.enqueueAndForget(()=>vC(s,h)),p.fromCache&&l.source==="server"?c.reject(new X(U.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(p)},error:p=>c.reject(p)}),h=new wC(a,d,{includeMetadataChanges:!0,qa:!0});return yC(s,h)}(await kC(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bC(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k_=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DC="firestore.googleapis.com",b_=!0;class D_{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new X(U.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=DC,this.ssl=b_}else this.host=e.host,this.ssl=e.ssl??b_;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=sC;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<mM)throw new X(U.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}ZO("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=bC(e.experimentalLongPollingOptions??{}),function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new X(U.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new X(U.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new X(U.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class ph{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new D_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new X(U.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new X(U.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new D_(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new zO;switch(r.type){case"firstParty":return new GO(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new X(U.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=k_.get(n);r&&(G("ComponentProvider","Removing Datastore"),k_.delete(n),r.terminate())}(this),Promise.resolve()}}function F2(t,e,n,r={}){var c;t=$n(t,ph);const i=Go(e),s=t._getSettings(),o={...s,emulatorOptions:t._getEmulatorOptions()},a=`${e}:${n}`;i&&(nS(`https://${a}`),rS("Firestore",!0)),s.host!==DC&&s.host!==a&&bo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const l={...s,host:a,ssl:i,emulatorOptions:r};if(!fs(l,o)&&(t._setSettings(l),r.mockUserToken)){let d,h;if(typeof r.mockUserToken=="string")d=r.mockUserToken,h=Mt.MOCK_USER;else{d=pN(r.mockUserToken,(c=t._app)==null?void 0:c.options.projectId);const p=r.mockUserToken.sub||r.mockUserToken.user_id;if(!p)throw new X(U.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");h=new Mt(p)}t._authCredentials=new WO(new yS(d,h))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mh{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new mh(this.firestore,e,this._query)}}class ct{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new wi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ct(this.firestore,e,this._key)}toJSON(){return{type:ct._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(Yl(n,ct._jsonSchema))return new ct(e,r||null,new ne(Oe.fromString(n.referencePath)))}}ct._jsonSchemaVersion="firestore/documentReference/1.0",ct._jsonSchema={type:ut("string",ct._jsonSchemaVersion),referencePath:ut("string")};class wi extends mh{constructor(e,n,r){super(e,n,ty(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ct(this.firestore,null,new ne(e))}withConverter(e){return new wi(this.firestore,e,this._path)}}function tt(t,e,...n){if(t=it(t),vS("collection","path",e),t instanceof ph){const r=Oe.fromString(e,...n);return qw(r),new wi(t,null,r)}{if(!(t instanceof ct||t instanceof wi))throw new X(U.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Oe.fromString(e,...n));return qw(r),new wi(t.firestore,null,r)}}function gn(t,e,...n){if(t=it(t),arguments.length===1&&(e=Kg.newId()),vS("doc","path",e),t instanceof ph){const r=Oe.fromString(e,...n);return Hw(r),new ct(t,null,new ne(r))}{if(!(t instanceof ct||t instanceof wi))throw new X(U.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Oe.fromString(e,...n));return Hw(r),new ct(t.firestore,t instanceof wi?t.converter:null,new ne(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N_="AsyncQueue";class O_{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new uC(this,"async_queue_retry"),this._c=()=>{const r=Of();r&&G(N_,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=Of();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Of();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const n=new Tr;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Xo(e))throw e;G(N_,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const n=this.ac.then(()=>(this.rc=!0,e().catch(r=>{throw this.nc=r,this.rc=!1,xr("INTERNAL UNHANDLED ERROR: ",V_(r)),r}).then(r=>(this.rc=!1,r))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const i=my.createAndSchedule(this,e,n,r,s=>this.hc(s));return this.tc.push(i),i}uc(){this.nc&&ie(47125,{Pc:V_(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function V_(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class As extends ph{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new O_,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new O_(e),this._firestoreClient=void 0,await e}}}function U2(t,e){const n=typeof t=="object"?t:aS(),r=typeof t=="string"?t:e||id,i=qg(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=hN("firestore");s&&F2(i,...s)}return i}function _y(t){if(t._terminated)throw new X(U.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||j2(t),t._firestoreClient}function j2(t){var r,i,s;const e=t._freezeSettings(),n=function(a,l,c,d){return new cV(a,l,c,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,bC(d.experimentalLongPollingOptions),d.useFetchStreams,d.isUsingEmulator)}(t._databaseId,((r=t._app)==null?void 0:r.options.appId)||"",t._persistenceKey,e);t._componentsProvider||(i=e.localCache)!=null&&i._offlineComponentProvider&&((s=e.localCache)!=null&&s._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new N2(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&function(a){const l=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class In{constructor(e){this._byteString=e}static fromBase64String(e){try{return new In(Rt.fromBase64String(e))}catch(n){throw new X(U.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new In(Rt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:In._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Yl(e,In._jsonSchema))return In.fromBase64String(e.bytes)}}In._jsonSchemaVersion="firestore/bytes/1.0",In._jsonSchema={type:ut("string",In._jsonSchemaVersion),bytes:ut("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gh{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new X(U.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ct(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ty{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tr{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new X(U.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new X(U.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return he(this._lat,e._lat)||he(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:tr._jsonSchemaVersion}}static fromJSON(e){if(Yl(e,tr._jsonSchema))return new tr(e.latitude,e.longitude)}}tr._jsonSchemaVersion="firestore/geoPoint/1.0",tr._jsonSchema={type:ut("string",tr._jsonSchemaVersion),latitude:ut("number"),longitude:ut("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nr{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}toJSON(){return{type:nr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Yl(e,nr._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new nr(e.vectorValues);throw new X(U.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}nr._jsonSchemaVersion="firestore/vectorValue/1.0",nr._jsonSchema={type:ut("string",nr._jsonSchemaVersion),vectorValues:ut("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B2=/^__.*__$/;class $2{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Li(e,this.data,this.fieldMask,n,this.fieldTransforms):new Ql(e,this.data,n,this.fieldTransforms)}}class NC{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Li(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function OC(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ie(40011,{Ac:t})}}class Ey{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Rc(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Ey({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var i;const n=(i=this.path)==null?void 0:i.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){var i;const n=(i=this.path)==null?void 0:i.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return pd(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(OC(this.Ac)&&B2.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class z2{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||dh(e)}Cc(e,n,r,i=!1){return new Ey({Ac:e,methodName:n,Dc:r,path:Ct.emptyPath(),fc:!1,bc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Py(t){const e=t._freezeSettings(),n=dh(t._databaseId);return new z2(t._databaseId,!!e.ignoreUndefinedProperties,n)}function VC(t,e,n,r,i,s={}){const o=t.Cc(s.merge||s.mergeFields?2:0,e,n,i);Sy("Data must be an object, but it was:",o,r);const a=MC(r,o);let l,c;if(s.merge)l=new mn(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){const d=[];for(const h of s.mergeFields){const p=Tm(e,h,n);if(!o.contains(p))throw new X(U.INVALID_ARGUMENT,`Field '${p}' is specified in your field mask but missing from your input data.`);FC(d,p)||d.push(p)}l=new mn(d),c=o.fieldTransforms.filter(h=>l.covers(h.field))}else l=null,c=o.fieldTransforms;return new $2(new nn(a),l,c)}class yh extends Ty{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof yh}}function W2(t,e,n,r){const i=t.Cc(1,e,n);Sy("Data must be an object, but it was:",i,r);const s=[],o=nn.empty();Mi(r,(l,c)=>{const d=Cy(e,l,n);c=it(c);const h=i.yc(d);if(c instanceof yh)s.push(d);else{const p=vh(c,h);p!=null&&(s.push(d),o.set(d,p))}});const a=new mn(s);return new NC(o,a,i.fieldTransforms)}function H2(t,e,n,r,i,s){const o=t.Cc(1,e,n),a=[Tm(e,r,n)],l=[i];if(s.length%2!=0)throw new X(U.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let p=0;p<s.length;p+=2)a.push(Tm(e,s[p])),l.push(s[p+1]);const c=[],d=nn.empty();for(let p=a.length-1;p>=0;--p)if(!FC(c,a[p])){const g=a[p];let T=l[p];T=it(T);const E=o.yc(g);if(T instanceof yh)c.push(g);else{const A=vh(T,E);A!=null&&(c.push(g),d.set(g,A))}}const h=new mn(c);return new NC(d,h,o.fieldTransforms)}function vh(t,e){if(LC(t=it(t)))return Sy("Unsupported field value:",e,t),MC(t,e);if(t instanceof Ty)return function(r,i){if(!OC(i.Ac))throw i.Sc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Sc(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const a of r){let l=vh(a,i.wc(o));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=it(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return NV(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=Ve.fromDate(r);return{timestampValue:cd(i.serializer,s)}}if(r instanceof Ve){const s=new Ve(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:cd(i.serializer,s)}}if(r instanceof tr)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof In)return{bytesValue:JS(i.serializer,r._byteString)};if(r instanceof ct){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Sc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:oy(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof nr)return function(o,a){return{mapValue:{fields:{[AS]:{stringValue:xS},[sd]:{arrayValue:{values:o.toArray().map(c=>{if(typeof c!="number")throw a.Sc("VectorValues must only contain numeric values.");return ny(a.serializer,c)})}}}}}}(r,i);throw i.Sc(`Unsupported field value: ${Yg(r)}`)}(t,e)}function MC(t,e){const n={};return TS(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Mi(t,(r,i)=>{const s=vh(i,e.mc(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function LC(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Ve||t instanceof tr||t instanceof In||t instanceof ct||t instanceof Ty||t instanceof nr)}function Sy(t,e,n){if(!LC(n)||!wS(n)){const r=Yg(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function Tm(t,e,n){if((e=it(e))instanceof gh)return e._internalPath;if(typeof e=="string")return Cy(t,e);throw pd("Field path arguments must be of type string or ",t,!1,void 0,n)}const q2=new RegExp("[~\\*/\\[\\]]");function Cy(t,e,n){if(e.search(q2)>=0)throw pd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new gh(...e.split("."))._internalPath}catch{throw pd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function pd(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new X(U.INVALID_ARGUMENT,a+t+l)}function FC(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UC{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new ct(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new G2(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(jC("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class G2 extends UC{data(){return super.data()}}function jC(t,e){return typeof e=="string"?Cy(t,e):e instanceof gh?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K2(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new X(U.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Y2{convertValue(e,n="none"){switch(Ai(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ze(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Ii(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw ie(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Mi(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertVectorValue(e){var r,i,s;const n=(s=(i=(r=e.fields)==null?void 0:r[sd].arrayValue)==null?void 0:i.values)==null?void 0:s.map(o=>Ze(o.doubleValue));return new nr(n)}convertGeoPoint(e){return new tr(Ze(e.latitude),Ze(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=ih(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(bl(e));default:return null}}convertTimestamp(e){const n=Ci(e);return new Ve(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Oe.fromString(e);Ce(iC(r),9688,{name:e});const i=new Dl(r.get(1),r.get(3)),s=new ne(r.popFirst(5));return i.isEqual(n)||xr(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BC(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class za{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class as extends UC{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new _c(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(jC("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new X(U.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=as._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}as._jsonSchemaVersion="firestore/documentSnapshot/1.0",as._jsonSchema={type:ut("string",as._jsonSchemaVersion),bundleSource:ut("string","DocumentSnapshot"),bundleName:ut("string"),bundle:ut("string")};class _c extends as{data(e={}){return super.data(e)}}class vo{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new za(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new _c(this._firestore,this._userDataWriter,r.key,r,new za(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new X(U.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{const l=new _c(i._firestore,i._userDataWriter,a.doc.key,a.doc,new za(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{const l=new _c(i._firestore,i._userDataWriter,a.doc.key,a.doc,new za(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let c=-1,d=-1;return a.type!==0&&(c=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),d=o.indexOf(a.doc.key)),{type:Q2(a.type),doc:l,oldIndex:c,newIndex:d}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new X(U.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=vo._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Kg.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],i=[];return this.docs.forEach(s=>{s._document!==null&&(n.push(s._document),r.push(this._userDataWriter.convertObjectMap(s._document.data.value.mapValue.fields,"previous")),i.push(s.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function Q2(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ie(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wh(t){t=$n(t,ct);const e=$n(t.firestore,As);return M2(_y(e),t._key).then(n=>X2(e,t,n))}vo._jsonSchemaVersion="firestore/querySnapshot/1.0",vo._jsonSchema={type:ut("string",vo._jsonSchemaVersion),bundleSource:ut("string","QuerySnapshot"),bundleName:ut("string"),bundle:ut("string")};class $C extends Y2{constructor(e){super(),this.firestore=e}convertBytes(e){return new In(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new ct(this.firestore,null,n)}}function Ut(t){t=$n(t,mh);const e=$n(t.firestore,As),n=_y(e),r=new $C(e);return K2(t._query),L2(n,t._query).then(i=>new vo(e,r,t,i))}function Em(t,e,n){t=$n(t,ct);const r=$n(t.firestore,As),i=BC(t.converter,e,n);return _h(r,[VC(Py(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,xn.none())])}function Ml(t,e,n,...r){t=$n(t,ct);const i=$n(t.firestore,As),s=Py(i);let o;return o=typeof(e=it(e))=="string"||e instanceof gh?H2(s,"updateDoc",t._key,e,n,r):W2(s,"updateDoc",t._key,e),_h(i,[o.toMutation(t._key,xn.exists(!0))])}function Lo(t){return _h($n(t.firestore,As),[new ry(t._key,xn.none())])}function io(t,e){const n=$n(t.firestore,As),r=gn(t),i=BC(t.converter,e);return _h(n,[VC(Py(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,xn.exists(!1))]).then(()=>r)}function _h(t,e){return function(r,i){const s=new Tr;return r.asyncQueue.enqueueAndForget(async()=>S2(await V2(r),i,s)),s.promise}(_y(t),e)}function X2(t,e,n){const r=n.docs.get(e._key),i=new $C(t);return new as(t,i,e._key,r,new za(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){Yo=i})(Ko),ko(new ps("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new As(new HO(r.getProvider("auth-internal")),new KO(o,r.getProvider("app-check-internal")),function(c,d){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new X(U.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Dl(c.options.projectId,d)}(o,i),o);return s={useFetchStreams:n,...s},a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),yi(Bw,$w,e),yi(Bw,$w,"esm2020")})();function zC(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const J2=zC,WC=new Gl("auth","Firebase",zC());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const md=new Wg("@firebase/auth");function Z2(t,...e){md.logLevel<=de.WARN&&md.warn(`Auth (${Ko}): ${t}`,...e)}function Tc(t,...e){md.logLevel<=de.ERROR&&md.error(`Auth (${Ko}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zn(t,...e){throw Iy(t,...e)}function rr(t,...e){return Iy(t,...e)}function HC(t,e,n){const r={...J2(),[e]:n};return new Gl("auth","Firebase",r).create(e,{appName:t.name})}function ir(t){return HC(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Iy(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return WC.create(t,...e)}function ee(t,e,...n){if(!t)throw Iy(e,...n)}function yr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Tc(e),new Error(e)}function br(t,e){t||yr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pm(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function eL(){return M_()==="http:"||M_()==="https:"}function M_(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tL(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(eL()||_N()||"connection"in navigator)?navigator.onLine:!0}function nL(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eu{constructor(e,n){this.shortDelay=e,this.longDelay=n,br(n>e,"Short delay should be less than long delay!"),this.isMobile=yN()||TN()}get(){return tL()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ay(t,e){br(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qC{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;yr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;yr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;yr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rL={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iL=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],sL=new eu(3e4,6e4);function Fr(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function Wn(t,e,n,r,i={}){return GC(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const a=Kl({key:t.config.apiKey,...o}).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const c={method:e,headers:l,...s};return wN()||(c.referrerPolicy="no-referrer"),t.emulatorConfig&&Go(t.emulatorConfig.host)&&(c.credentials="include"),qC.fetch()(await KC(t,t.config.apiHost,n,a),c)})}async function GC(t,e,n){t._canInitEmulator=!1;const r={...rL,...e};try{const i=new aL(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw Gu(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,c]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Gu(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw Gu(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw Gu(t,"user-disabled",o);const d=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw HC(t,d,c);zn(t,d)}}catch(i){if(i instanceof Lr)throw i;zn(t,"network-request-failed",{message:String(i)})}}async function tu(t,e,n,r,i={}){const s=await Wn(t,e,n,r,i);return"mfaPendingCredential"in s&&zn(t,"multi-factor-auth-required",{_serverResponse:s}),s}async function KC(t,e,n,r){const i=`${e}${n}?${r}`,s=t,o=s.config.emulator?Ay(t.config,i):`${t.config.apiScheme}://${i}`;return iL.includes(n)&&(await s._persistenceManagerAvailable,s._getPersistenceType()==="COOKIE")?s._getPersistence()._getFinalTarget(o).toString():o}function oL(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class aL{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(rr(this.auth,"network-request-failed")),sL.get())})}}function Gu(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=rr(t,e,r);return i.customData._tokenResponse=n,i}function L_(t){return t!==void 0&&t.enterprise!==void 0}class lL{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return oL(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function uL(t,e){return Wn(t,"GET","/v2/recaptchaConfig",Fr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cL(t,e){return Wn(t,"POST","/v1/accounts:delete",e)}async function gd(t,e){return Wn(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sl(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function dL(t,e=!1){const n=it(t),r=await n.getIdToken(e),i=Ry(r);ee(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:sl(Mf(i.auth_time)),issuedAtTime:sl(Mf(i.iat)),expirationTime:sl(Mf(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function Mf(t){return Number(t)*1e3}function Ry(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Tc("JWT malformed, contained fewer than 3 sections"),null;try{const i=JP(n);return i?JSON.parse(i):(Tc("Failed to decode base64 JWT payload"),null)}catch(i){return Tc("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function F_(t){const e=Ry(t);return ee(e,"internal-error"),ee(typeof e.exp<"u","internal-error"),ee(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ys(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Lr&&hL(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function hL({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fL{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sm{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=sl(this.lastLoginAt),this.creationTime=sl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yd(t){var h;const e=t.auth,n=await t.getIdToken(),r=await ys(t,gd(e,{idToken:n}));ee(r==null?void 0:r.users.length,e,"internal-error");const i=r.users[0];t._notifyReloadListener(i);const s=(h=i.providerUserInfo)!=null&&h.length?YC(i.providerUserInfo):[],o=mL(t.providerData,s),a=t.isAnonymous,l=!(t.email&&i.passwordHash)&&!(o!=null&&o.length),c=a?l:!1,d={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new Sm(i.createdAt,i.lastLoginAt),isAnonymous:c};Object.assign(t,d)}async function pL(t){const e=it(t);await yd(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function mL(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function YC(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gL(t,e){const n=await GC(t,{},async()=>{const r=Kl({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=await KC(t,i,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";const l={method:"POST",headers:a,body:r};return t.emulatorConfig&&Go(t.emulatorConfig.host)&&(l.credentials="include"),qC.fetch()(o,l)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function yL(t,e){return Wn(t,"POST","/v2/accounts:revokeToken",Fr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ee(e.idToken,"internal-error"),ee(typeof e.idToken<"u","internal-error"),ee(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):F_(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){ee(e.length!==0,"internal-error");const n=F_(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ee(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await gL(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new wo;return r&&(ee(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(ee(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(ee(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new wo,this.toJSON())}_performRefresh(){return yr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zr(t,e){ee(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Fn{constructor({uid:e,auth:n,stsTokenManager:r,...i}){this.providerId="firebase",this.proactiveRefresh=new fL(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new Sm(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await ys(this,this.stsTokenManager.getToken(this.auth,e));return ee(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return dL(this,e)}reload(){return pL(this)}_assign(e){this!==e&&(ee(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Fn({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){ee(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await yd(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(hn(this.auth.app))return Promise.reject(ir(this.auth));const e=await this.getIdToken();return await ys(this,cL(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,i=n.email??void 0,s=n.phoneNumber??void 0,o=n.photoURL??void 0,a=n.tenantId??void 0,l=n._redirectEventId??void 0,c=n.createdAt??void 0,d=n.lastLoginAt??void 0,{uid:h,emailVerified:p,isAnonymous:g,providerData:T,stsTokenManager:E}=n;ee(h&&E,e,"internal-error");const A=wo.fromJSON(this.name,E);ee(typeof h=="string",e,"internal-error"),zr(r,e.name),zr(i,e.name),ee(typeof p=="boolean",e,"internal-error"),ee(typeof g=="boolean",e,"internal-error"),zr(s,e.name),zr(o,e.name),zr(a,e.name),zr(l,e.name),zr(c,e.name),zr(d,e.name);const w=new Fn({uid:h,auth:e,email:i,emailVerified:p,displayName:r,isAnonymous:g,photoURL:o,phoneNumber:s,tenantId:a,stsTokenManager:A,createdAt:c,lastLoginAt:d});return T&&Array.isArray(T)&&(w.providerData=T.map(y=>({...y}))),l&&(w._redirectEventId=l),w}static async _fromIdTokenResponse(e,n,r=!1){const i=new wo;i.updateFromServerResponse(n);const s=new Fn({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await yd(s),s}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];ee(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?YC(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),a=new wo;a.updateFromIdToken(r);const l=new Fn({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:o}),c={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new Sm(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(l,c),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U_=new Map;function vr(t){br(t instanceof Function,"Expected a class definition");let e=U_.get(t);return e?(br(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,U_.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QC{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}QC.type="NONE";const j_=QC;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ec(t,e,n){return`firebase:${t}:${e}:${n}`}class _o{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=Ec(this.userKey,i.apiKey,s),this.fullPersistenceKey=Ec("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await gd(this.auth,{idToken:e}).catch(()=>{});return n?Fn._fromGetAccountInfoResponse(this.auth,n,e):null}return Fn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new _o(vr(j_),e,r);const i=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let s=i[0]||vr(j_);const o=Ec(r,e.config.apiKey,e.name);let a=null;for(const c of n)try{const d=await c._get(o);if(d){let h;if(typeof d=="string"){const p=await gd(e,{idToken:d}).catch(()=>{});if(!p)break;h=await Fn._fromGetAccountInfoResponse(e,p,d)}else h=Fn._fromJSON(e,d);c!==s&&(a=h),s=c;break}}catch{}const l=i.filter(c=>c._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new _o(s,e,r):(s=l[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async c=>{if(c!==s)try{await c._remove(o)}catch{}})),new _o(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B_(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(eI(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(XC(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(nI(e))return"Blackberry";if(rI(e))return"Webos";if(JC(e))return"Safari";if((e.includes("chrome/")||ZC(e))&&!e.includes("edge/"))return"Chrome";if(tI(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function XC(t=Bt()){return/firefox\//i.test(t)}function JC(t=Bt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function ZC(t=Bt()){return/crios\//i.test(t)}function eI(t=Bt()){return/iemobile/i.test(t)}function tI(t=Bt()){return/android/i.test(t)}function nI(t=Bt()){return/blackberry/i.test(t)}function rI(t=Bt()){return/webos/i.test(t)}function xy(t=Bt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function vL(t=Bt()){var e;return xy(t)&&!!((e=window.navigator)!=null&&e.standalone)}function wL(){return EN()&&document.documentMode===10}function iI(t=Bt()){return xy(t)||tI(t)||rI(t)||nI(t)||/windows phone/i.test(t)||eI(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sI(t,e=[]){let n;switch(t){case"Browser":n=B_(Bt());break;case"Worker":n=`${B_(Bt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Ko}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _L{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{const l=e(s);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TL(t,e={}){return Wn(t,"GET","/v2/passwordPolicy",Fr(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EL=6;class PL{constructor(e){var r;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??EL,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((r=e.allowedNonAlphanumericCharacters)==null?void 0:r.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SL{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new $_(this),this.idTokenSubscription=new $_(this),this.beforeStateQueue=new _L(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=WC,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(s=>this._resolvePersistenceManagerAvailable=s)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=vr(n)),this._initializationPromise=this.queue(async()=>{var r,i,s;if(!this._deleted&&(this.persistenceManager=await _o.create(this,e),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((i=this._popupRedirectResolver)!=null&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)==null?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await gd(this,{idToken:e}),r=await Fn._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var s;if(hn(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(s=this.redirectUser)==null?void 0:s._redirectEventId,a=r==null?void 0:r._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(r=l.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(o){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return ee(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await yd(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=nL()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(hn(this.app))return Promise.reject(ir(this));const n=e?it(e):null;return n&&ee(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ee(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return hn(this.app)?Promise.reject(ir(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return hn(this.app)?Promise.reject(ir(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(vr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await TL(this),n=new PL(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Gl("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await yL(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&vr(e)||this._popupRedirectResolver;ee(n,this,"argument-error"),this.redirectPersistenceManager=await _o.create(this,[vr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(ee(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ee(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=sI(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var i;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((i=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:i.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){var n;if(hn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&Z2(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function Fi(t){return it(t)}class $_{constructor(e){this.auth=e,this.observer=null,this.addObserver=kN(n=>this.observer=n)}get next(){return ee(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Th={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function CL(t){Th=t}function oI(t){return Th.loadJS(t)}function IL(){return Th.recaptchaEnterpriseScript}function AL(){return Th.gapiScript}function RL(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class xL{constructor(){this.enterprise=new kL}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class kL{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const bL="recaptcha-enterprise",aI="NO_RECAPTCHA";class DL{constructor(e){this.type=bL,this.auth=Fi(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,a)=>{uL(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const c=new lL(l);return s.tenantId==null?s._agentRecaptchaConfig=c:s._tenantRecaptchaConfigs[s.tenantId]=c,o(c.siteKey)}}).catch(l=>{a(l)})})}function i(s,o,a){const l=window.grecaptcha;L_(l)?l.enterprise.ready(()=>{l.enterprise.execute(s,{action:e}).then(c=>{o(c)}).catch(()=>{o(aI)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new xL().execute("siteKey",{action:"verify"}):new Promise((s,o)=>{r(this.auth).then(a=>{if(!n&&L_(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let l=IL();l.length!==0&&(l+=a),oI(l).then(()=>{i(a,s,o)}).catch(c=>{o(c)})}}).catch(a=>{o(a)})})}}async function Pa(t,e,n,r=!1,i=!1){const s=new DL(t);let o;if(i)o=aI;else try{o=await s.verify(n)}catch{o=await s.verify(n,!0)}const a={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in a){const l=a.phoneEnrollmentInfo.phoneNumber,c=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:l,recaptchaToken:c,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){const l=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:l,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return r?Object.assign(a,{captchaResp:o}):Object.assign(a,{captchaResponse:o}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function vd(t,e,n,r,i){var s,o;if(i==="EMAIL_PASSWORD_PROVIDER")if((s=t._getRecaptchaConfig())!=null&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const a=await Pa(t,e,n,n==="getOobCode");return r(t,a)}else return r(t,e).catch(async a=>{if(a.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const l=await Pa(t,e,n,n==="getOobCode");return r(t,l)}else return Promise.reject(a)});else if(i==="PHONE_PROVIDER")if((o=t._getRecaptchaConfig())!=null&&o.isProviderEnabled("PHONE_PROVIDER")){const a=await Pa(t,e,n);return r(t,a).catch(async l=>{var c;if(((c=t._getRecaptchaConfig())==null?void 0:c.getProviderEnforcementState("PHONE_PROVIDER"))==="AUDIT"&&(l.code==="auth/missing-recaptcha-token"||l.code==="auth/invalid-app-credential")){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${n} flow.`);const d=await Pa(t,e,n,!1,!0);return r(t,d)}return Promise.reject(l)})}else{const a=await Pa(t,e,n,!1,!0);return r(t,a)}else return Promise.reject(i+" provider is not supported.")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NL(t,e){const n=qg(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(fs(s,e??{}))return i;zn(i,"already-initialized")}return n.initialize({options:e})}function OL(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(vr);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function VL(t,e,n){const r=Fi(t);ee(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!(n!=null&&n.disableWarnings),s=lI(e),{host:o,port:a}=ML(e),l=a===null?"":`:${a}`,c={url:`${s}//${o}${l}/`},d=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){ee(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),ee(fs(c,r.config.emulator)&&fs(d,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=c,r.emulatorConfig=d,r.settings.appVerificationDisabledForTesting=!0,Go(o)?(nS(`${s}//${o}${l}`),rS("Auth",!0)):i||LL()}function lI(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function ML(t){const e=lI(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:z_(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:z_(o)}}}function z_(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function LL(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ky{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return yr("not implemented")}_getIdTokenResponse(e){return yr("not implemented")}_linkToIdToken(e,n){return yr("not implemented")}_getReauthenticationResolver(e){return yr("not implemented")}}async function FL(t,e){return Wn(t,"POST","/v1/accounts:update",e)}async function UL(t,e){return Wn(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jL(t,e){return tu(t,"POST","/v1/accounts:signInWithPassword",Fr(t,e))}async function BL(t,e){return Wn(t,"POST","/v1/accounts:sendOobCode",Fr(t,e))}async function $L(t,e){return BL(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zL(t,e){return tu(t,"POST","/v1/accounts:signInWithEmailLink",Fr(t,e))}async function WL(t,e){return tu(t,"POST","/v1/accounts:signInWithEmailLink",Fr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ll extends ky{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new Ll(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Ll(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return vd(e,n,"signInWithPassword",jL,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return zL(e,{email:this._email,oobCode:this._password});default:zn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return vd(e,r,"signUpPassword",UL,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return WL(e,{idToken:n,email:this._email,oobCode:this._password});default:zn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function To(t,e){return tu(t,"POST","/v1/accounts:signInWithIdp",Fr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HL="http://localhost";class vs extends ky{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new vs(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):zn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i,...s}=n;if(!r||!i)return null;const o=new vs(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return To(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,To(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,To(e,n)}buildRequest(){const e={requestUri:HL,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Kl(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qL(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function GL(t){const e=Fa(Ua(t)).link,n=e?Fa(Ua(e)).deep_link_id:null,r=Fa(Ua(t)).deep_link_id;return(r?Fa(Ua(r)).link:null)||r||n||e||t}class by{constructor(e){const n=Fa(Ua(e)),r=n.apiKey??null,i=n.oobCode??null,s=qL(n.mode??null);ee(r&&i&&s,"argument-error"),this.apiKey=r,this.operation=s,this.code=i,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=GL(e);try{return new by(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zo{constructor(){this.providerId=Zo.PROVIDER_ID}static credential(e,n){return Ll._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=by.parseLink(n);return ee(r,"argument-error"),Ll._fromEmailAndCode(e,r.code,r.tenantId)}}Zo.PROVIDER_ID="password";Zo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Zo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uI{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nu extends uI{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jr extends nu{constructor(){super("facebook.com")}static credential(e){return vs._fromParams({providerId:Jr.PROVIDER_ID,signInMethod:Jr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Jr.credentialFromTaggedObject(e)}static credentialFromError(e){return Jr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Jr.credential(e.oauthAccessToken)}catch{return null}}}Jr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Jr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zr extends nu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return vs._fromParams({providerId:Zr.PROVIDER_ID,signInMethod:Zr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Zr.credentialFromTaggedObject(e)}static credentialFromError(e){return Zr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Zr.credential(n,r)}catch{return null}}}Zr.GOOGLE_SIGN_IN_METHOD="google.com";Zr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ei extends nu{constructor(){super("github.com")}static credential(e){return vs._fromParams({providerId:ei.PROVIDER_ID,signInMethod:ei.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ei.credentialFromTaggedObject(e)}static credentialFromError(e){return ei.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ei.credential(e.oauthAccessToken)}catch{return null}}}ei.GITHUB_SIGN_IN_METHOD="github.com";ei.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ti extends nu{constructor(){super("twitter.com")}static credential(e,n){return vs._fromParams({providerId:ti.PROVIDER_ID,signInMethod:ti.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return ti.credentialFromTaggedObject(e)}static credentialFromError(e){return ti.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return ti.credential(n,r)}catch{return null}}}ti.TWITTER_SIGN_IN_METHOD="twitter.com";ti.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KL(t,e){return tu(t,"POST","/v1/accounts:signUp",Fr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ws{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await Fn._fromIdTokenResponse(e,r,i),o=W_(r);return new ws({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=W_(r);return new ws({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function W_(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wd extends Lr{constructor(e,n,r,i){super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,wd.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new wd(e,n,r,i)}}function cI(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?wd._fromErrorAndOperation(t,s,e,r):s})}async function YL(t,e,n=!1){const r=await ys(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return ws._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QL(t,e,n=!1){const{auth:r}=t;if(hn(r.app))return Promise.reject(ir(r));const i="reauthenticate";try{const s=await ys(t,cI(r,i,e,t),n);ee(s.idToken,r,"internal-error");const o=Ry(s.idToken);ee(o,r,"internal-error");const{sub:a}=o;return ee(t.uid===a,r,"user-mismatch"),ws._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&zn(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dI(t,e,n=!1){if(hn(t.app))return Promise.reject(ir(t));const r="signIn",i=await cI(t,r,e),s=await ws._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function XL(t,e){return dI(Fi(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JL(t,e,n){var r;ee(((r=n.url)==null?void 0:r.length)>0,t,"invalid-continue-uri"),ee(typeof n.dynamicLinkDomain>"u"||n.dynamicLinkDomain.length>0,t,"invalid-dynamic-link-domain"),ee(typeof n.linkDomain>"u"||n.linkDomain.length>0,t,"invalid-hosting-link-domain"),e.continueUrl=n.url,e.dynamicLinkDomain=n.dynamicLinkDomain,e.linkDomain=n.linkDomain,e.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(ee(n.iOS.bundleId.length>0,t,"missing-ios-bundle-id"),e.iOSBundleId=n.iOS.bundleId),n.android&&(ee(n.android.packageName.length>0,t,"missing-android-pkg-name"),e.androidInstallApp=n.android.installApp,e.androidMinimumVersionCode=n.android.minimumVersion,e.androidPackageName=n.android.packageName)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hI(t){const e=Fi(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function ZL(t,e,n){const r=Fi(t),i={requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"};n&&JL(r,i,n),await vd(r,i,"getOobCode",$L,"EMAIL_PASSWORD_PROVIDER")}async function eF(t,e,n){if(hn(t.app))return Promise.reject(ir(t));const r=Fi(t),o=await vd(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",KL,"EMAIL_PASSWORD_PROVIDER").catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&hI(t),l}),a=await ws._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(a.user),a}function tF(t,e,n){return hn(t.app)?Promise.reject(ir(t)):XL(it(t),Zo.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&hI(t),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nF(t,e){return Wn(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rF(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const r=it(t),s={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},o=await ys(r,nF(r.auth,s));r.displayName=o.displayName||null,r.photoURL=o.photoUrl||null;const a=r.providerData.find(({providerId:l})=>l==="password");a&&(a.displayName=r.displayName,a.photoURL=r.photoURL),await r._updateTokensIfNecessary(o)}function iF(t,e){const n=it(t);return hn(n.auth.app)?Promise.reject(ir(n.auth)):fI(n,e,null)}function sF(t,e){return fI(it(t),null,e)}async function fI(t,e,n){const{auth:r}=t,s={idToken:await t.getIdToken(),returnSecureToken:!0};e&&(s.email=e),n&&(s.password=n);const o=await ys(t,FL(r,s));await t._updateTokensIfNecessary(o,!0)}function oF(t,e,n,r){return it(t).onIdTokenChanged(e,n,r)}function aF(t,e,n){return it(t).beforeAuthStateChanged(e,n)}function lF(t,e,n,r){return it(t).onAuthStateChanged(e,n,r)}function uF(t){return it(t).signOut()}async function cF(t){return it(t).delete()}const _d="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pI{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(_d,"1"),this.storage.removeItem(_d),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dF=1e3,hF=10;class mI extends pI{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=iI(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);wL()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,hF):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},dF)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}mI.type="LOCAL";const fF=mI;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gI extends pI{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}gI.type="SESSION";const yI=gI;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pF(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new Eh(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async c=>c(n.origin,s)),l=await pF(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Eh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dy(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mF{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{const c=Dy("",20);i.port1.start();const d=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(h){const p=h;if(p.data.eventId===c)switch(p.data.status){case"ack":clearTimeout(d),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(p.data.response);break;default:clearTimeout(d),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sr(){return window}function gF(t){sr().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vI(){return typeof sr().WorkerGlobalScope<"u"&&typeof sr().importScripts=="function"}async function yF(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function vF(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function wF(){return vI()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wI="firebaseLocalStorageDb",_F=1,Td="firebaseLocalStorage",_I="fbase_key";class ru{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Ph(t,e){return t.transaction([Td],e?"readwrite":"readonly").objectStore(Td)}function TF(){const t=indexedDB.deleteDatabase(wI);return new ru(t).toPromise()}function Cm(){const t=indexedDB.open(wI,_F);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Td,{keyPath:_I})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Td)?e(r):(r.close(),await TF(),e(await Cm()))})})}async function H_(t,e,n){const r=Ph(t,!0).put({[_I]:e,value:n});return new ru(r).toPromise()}async function EF(t,e){const n=Ph(t,!1).get(e),r=await new ru(n).toPromise();return r===void 0?null:r.value}function q_(t,e){const n=Ph(t,!0).delete(e);return new ru(n).toPromise()}const PF=800,SF=3;class TI{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Cm(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>SF)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return vI()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Eh._getInstance(wF()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,r;if(this.activeServiceWorker=await yF(),!this.activeServiceWorker)return;this.sender=new mF(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(r=e[0])!=null&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||vF()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Cm();return await H_(e,_d,"1"),await q_(e,_d),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>H_(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>EF(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>q_(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=Ph(i,!1).getAll();return new ru(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),PF)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}TI.type="LOCAL";const CF=TI;new eu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IF(t,e){return e?vr(e):(ee(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ny extends ky{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return To(e,this._buildIdpRequest())}_linkToIdToken(e,n){return To(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return To(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function AF(t){return dI(t.auth,new Ny(t),t.bypassAuthState)}function RF(t){const{auth:e,user:n}=t;return ee(n,e,"internal-error"),QL(n,new Ny(t),t.bypassAuthState)}async function xF(t){const{auth:e,user:n}=t;return ee(n,e,"internal-error"),YL(n,new Ny(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EI{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return AF;case"linkViaPopup":case"linkViaRedirect":return xF;case"reauthViaPopup":case"reauthViaRedirect":return RF;default:zn(this.auth,"internal-error")}}resolve(e){br(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){br(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kF=new eu(2e3,1e4);class so extends EI{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,so.currentPopupAction&&so.currentPopupAction.cancel(),so.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ee(e,this.auth,"internal-error"),e}async onExecution(){br(this.filter.length===1,"Popup operations only handle one event");const e=Dy();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(rr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(rr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,so.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if((r=(n=this.authWindow)==null?void 0:n.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(rr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,kF.get())};e()}}so.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bF="pendingRedirect",Pc=new Map;class DF extends EI{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Pc.get(this.auth._key());if(!e){try{const r=await NF(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Pc.set(this.auth._key(),e)}return this.bypassAuthState||Pc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function NF(t,e){const n=MF(e),r=VF(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function OF(t,e){Pc.set(t._key(),e)}function VF(t){return vr(t._redirectPersistence)}function MF(t){return Ec(bF,t.config.apiKey,t.name)}async function LF(t,e,n=!1){if(hn(t.app))return Promise.reject(ir(t));const r=Fi(t),i=IF(r,e),o=await new DF(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FF=10*60*1e3;class UF{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!jF(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!PI(e)){const i=((r=e.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";n.onError(rr(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=FF&&this.cachedEventUids.clear(),this.cachedEventUids.has(G_(e))}saveEventToCache(e){this.cachedEventUids.add(G_(e)),this.lastProcessedEventTime=Date.now()}}function G_(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function PI({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function jF(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return PI(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function BF(t,e={}){return Wn(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $F=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,zF=/^https?/;async function WF(t){if(t.config.emulator)return;const{authorizedDomains:e}=await BF(t);for(const n of e)try{if(HF(n))return}catch{}zn(t,"unauthorized-domain")}function HF(t){const e=Pm(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!zF.test(n))return!1;if($F.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qF=new eu(3e4,6e4);function K_(){const t=sr().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function GF(t){return new Promise((e,n)=>{var i,s,o;function r(){K_(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{K_(),n(rr(t,"network-request-failed"))},timeout:qF.get()})}if((s=(i=sr().gapi)==null?void 0:i.iframes)!=null&&s.Iframe)e(gapi.iframes.getContext());else if((o=sr().gapi)!=null&&o.load)r();else{const a=RL("iframefcb");return sr()[a]=()=>{gapi.load?r():n(rr(t,"network-request-failed"))},oI(`${AL()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw Sc=null,e})}let Sc=null;function KF(t){return Sc=Sc||GF(t),Sc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YF=new eu(5e3,15e3),QF="__/auth/iframe",XF="emulator/auth/iframe",JF={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},ZF=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function e4(t){const e=t.config;ee(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Ay(e,XF):`https://${t.config.authDomain}/${QF}`,r={apiKey:e.apiKey,appName:t.name,v:Ko},i=ZF.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${Kl(r).slice(1)}`}async function t4(t){const e=await KF(t),n=sr().gapi;return ee(n,t,"internal-error"),e.open({where:document.body,url:e4(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:JF,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=rr(t,"network-request-failed"),a=sr().setTimeout(()=>{s(o)},YF.get());function l(){sr().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n4={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},r4=500,i4=600,s4="_blank",o4="http://localhost";class Y_{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function a4(t,e,n,r=r4,i=i4){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l={...n4,width:r.toString(),height:i.toString(),top:s,left:o},c=Bt().toLowerCase();n&&(a=ZC(c)?s4:n),XC(c)&&(e=e||o4,l.scrollbars="yes");const d=Object.entries(l).reduce((p,[g,T])=>`${p}${g}=${T},`,"");if(vL(c)&&a!=="_self")return l4(e||"",a),new Y_(null);const h=window.open(e||"",a,d);ee(h,t,"popup-blocked");try{h.focus()}catch{}return new Y_(h)}function l4(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u4="__/auth/handler",c4="emulator/auth/handler",d4=encodeURIComponent("fac");async function Q_(t,e,n,r,i,s){ee(t.config.authDomain,t,"auth-domain-config-required"),ee(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Ko,eventId:i};if(e instanceof uI){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",xN(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,h]of Object.entries(s||{}))o[d]=h}if(e instanceof nu){const d=e.getScopes().filter(h=>h!=="");d.length>0&&(o.scopes=d.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const d of Object.keys(a))a[d]===void 0&&delete a[d];const l=await t._getAppCheckToken(),c=l?`#${d4}=${encodeURIComponent(l)}`:"";return`${h4(t)}?${Kl(a).slice(1)}${c}`}function h4({config:t}){return t.emulator?Ay(t,c4):`https://${t.authDomain}/${u4}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lf="webStorageSupport";class f4{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=yI,this._completeRedirectFn=LF,this._overrideRedirectResult=OF}async _openPopup(e,n,r,i){var o;br((o=this.eventManagers[e._key()])==null?void 0:o.manager,"_initialize() not called before _openPopup()");const s=await Q_(e,n,r,Pm(),i);return a4(e,s,Dy())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await Q_(e,n,r,Pm(),i);return gF(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(br(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await t4(e),r=new UF(e);return n.register("authEvent",i=>(ee(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Lf,{type:Lf},i=>{var o;const s=(o=i==null?void 0:i[0])==null?void 0:o[Lf];s!==void 0&&n(!!s),zn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=WF(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return iI()||JC()||xy()}}const p4=f4;var X_="@firebase/auth",J_="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m4{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ee(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g4(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function y4(t){ko(new ps("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;ee(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:sI(t)},c=new SL(r,i,s,l);return OL(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),ko(new ps("auth-internal",e=>{const n=Fi(e.getProvider("auth").getImmediate());return(r=>new m4(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),yi(X_,J_,g4(t)),yi(X_,J_,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v4=5*60,w4=tS("authIdTokenMaxAge")||v4;let Z_=null;const _4=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>w4)return;const i=n==null?void 0:n.token;Z_!==i&&(Z_=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function T4(t=aS()){const e=qg(t,"auth");if(e.isInitialized())return e.getImmediate();const n=NL(t,{popupRedirectResolver:p4,persistence:[CF,fF,yI]}),r=tS("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const o=_4(s.toString());aF(n,o,()=>o(n.currentUser)),oF(n,a=>o(a))}}const i=ZP("auth");return i&&VL(n,`http://${i}`),n}function E4(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}CL({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=rr("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",E4().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});y4("Browser");const P4={apiKey:"AIzaSyBTsbTHQs0-GZHd0mpv_rPc0vMp5DYnN-A",authDomain:"rnf-app.firebaseapp.com",projectId:"rnf-app",storageBucket:"rnf-app.firebasestorage.app",messagingSenderId:"771820334247",appId:"1:771820334247:web:a096ff668dc8963f5b7f82"},SI=oS(P4),ye=U2(SI),qt=T4(SI),S4=1;let Ff=0;function C4(){return Ff=(Ff+1)%Number.MAX_VALUE,Ff.toString()}const Gt={state:{toasts:[]},listeners:[],getState:()=>Gt.state,setState:t=>{typeof t=="function"?Gt.state=t(Gt.state):Gt.state={...Gt.state,...t},Gt.listeners.forEach(e=>e(Gt.state))},subscribe:t=>(Gt.listeners.push(t),()=>{Gt.listeners=Gt.listeners.filter(e=>e!==t)})},I4=({...t})=>{const e=C4(),n=i=>Gt.setState(s=>({...s,toasts:s.toasts.map(o=>o.id===e?{...o,...i}:o)})),r=()=>Gt.setState(i=>({...i,toasts:i.toasts.filter(s=>s.id!==e)}));return Gt.setState(i=>({...i,toasts:[{...t,id:e,dismiss:r},...i.toasts].slice(0,S4)})),{id:e,dismiss:r,update:n}};function Oy(){const[t,e]=x.useState(Gt.getState());return x.useEffect(()=>Gt.subscribe(r=>{e(r)}),[]),x.useEffect(()=>{const n=[];return t.toasts.forEach(r=>{if(r.duration===1/0)return;const i=setTimeout(()=>{r.dismiss()},r.duration||5e3);n.push(i)}),()=>{n.forEach(r=>clearTimeout(r))}},[t.toasts]),{toast:I4,toasts:t.toasts}}const CI=x.createContext(null),A4=({children:t})=>{const[e,n]=x.useState(null),[r,i]=x.useState(!0),[s,o]=x.useState(null),{toast:a}=Oy();x.useEffect(()=>{const w=lF(qt,async y=>{if(y){n({id:y.uid,uid:y.uid,email:y.email,displayName:y.displayName,photoURL:y.photoURL});const _=gn(ye,`users/${y.uid}/preferences`,"display");try{const b=await wh(_);b.exists()?o(b.data()):o({theme:"light",units:"metric"})}catch(b){console.error("Failed to load preferences",b),o({theme:"light",units:"metric"})}}else n(null),o(null);i(!1)});return()=>w()},[]);const l=async(w,y)=>{try{await tF(qt,w,y)}catch(_){throw a({title:"Error al iniciar sesión",description:_.message,variant:"destructive"}),_}},c=async(w,y)=>{try{await eF(qt,w,y)}catch(_){throw a({title:"Error al registrarse",description:_.message,variant:"destructive"}),_}},d=async w=>{try{await ZL(qt,w)}catch(y){throw a({title:"Error al restablecer contraseña",description:y.message,variant:"destructive"}),y}},h=async()=>{try{await uF(qt),n(null),o(null)}catch(w){throw a({title:"Error al cerrar sesión",description:w.message,variant:"destructive"}),w}},p=async w=>{if(qt.currentUser)try{await iF(qt.currentUser,w),n(y=>y&&{...y,email:w})}catch(y){throw a({title:"Error al actualizar correo",description:y.message,variant:"destructive"}),y}},g=async w=>{if(qt.currentUser)try{await sF(qt.currentUser,w)}catch(y){throw a({title:"Error al actualizar contraseña",description:y.message,variant:"destructive"}),y}},T=async w=>{if(!qt.currentUser)return;const y=gn(ye,`users/${qt.currentUser.uid}/preferences`,"display");try{await Em(y,w),o(w)}catch(_){console.error("Failed to save preferences",_),a({title:"Error al guardar preferencias",description:_.message,variant:"destructive"})}},E=async w=>{if(qt.currentUser)try{await rF(qt.currentUser,w),n(y=>y&&{...y,...w})}catch(y){throw a({title:"Error al actualizar perfil",description:y.message,variant:"destructive"}),y}},A=async()=>{if(qt.currentUser)try{await cF(qt.currentUser),n(null),o(null)}catch(w){throw a({title:"Error al eliminar cuenta",description:w.message,variant:"destructive"}),w}};return L.jsx(CI.Provider,{value:{user:e,login:l,register:c,logout:h,resetPassword:d,updateEmail:p,updatePassword:g,preferences:s,savePreferences:T,updateProfile:E,deleteAccount:A,loadingAuth:r},children:t})},Vy=()=>x.useContext(CI);function Dr(t){"@babel/helpers - typeof";return Dr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Dr(t)}function $t(t){if(t===null||t===!0||t===!1)return NaN;var e=Number(t);return isNaN(e)?e:e<0?Math.ceil(e):Math.floor(e)}function ke(t,e){if(e.length<t)throw new TypeError(t+" argument"+(t>1?"s":"")+" required, but only "+e.length+" present")}function Xe(t){ke(1,arguments);var e=Object.prototype.toString.call(t);return t instanceof Date||Dr(t)==="object"&&e==="[object Date]"?new Date(t.getTime()):typeof t=="number"||e==="[object Number]"?new Date(t):((typeof t=="string"||e==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}function II(t,e){ke(2,arguments);var n=Xe(t),r=$t(e);return isNaN(r)?new Date(NaN):(r&&n.setDate(n.getDate()+r),n)}function R4(t,e){ke(2,arguments);var n=Xe(t).getTime(),r=$t(e);return new Date(n+r)}var x4={};function ea(){return x4}function Ed(t){var e=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return e.setUTCFullYear(t.getFullYear()),t.getTime()-e.getTime()}function rn(t){ke(1,arguments);var e=Xe(t);return e.setHours(0,0,0,0),e}var k4=864e5;function b4(t,e){ke(2,arguments);var n=rn(t),r=rn(e),i=n.getTime()-Ed(n),s=r.getTime()-Ed(r);return Math.round((i-s)/k4)}function D4(t,e){ke(2,arguments);var n=Xe(t),r=Xe(e),i=n.getTime()-r.getTime();return i<0?-1:i>0?1:i}var My=6e4,Ly=36e5,N4=1e3;function O4(t){return ke(1,arguments),t instanceof Date||Dr(t)==="object"&&Object.prototype.toString.call(t)==="[object Date]"}function V4(t){if(ke(1,arguments),!O4(t)&&typeof t!="number")return!1;var e=Xe(t);return!isNaN(Number(e))}function eT(t,e){var n=t.getFullYear()-e.getFullYear()||t.getMonth()-e.getMonth()||t.getDate()-e.getDate()||t.getHours()-e.getHours()||t.getMinutes()-e.getMinutes()||t.getSeconds()-e.getSeconds()||t.getMilliseconds()-e.getMilliseconds();return n<0?-1:n>0?1:n}function M4(t,e){ke(2,arguments);var n=Xe(t),r=Xe(e),i=eT(n,r),s=Math.abs(b4(n,r));n.setDate(n.getDate()-i*s);var o=+(eT(n,r)===-i),a=i*(s-o);return a===0?0:a}function AI(t,e){ke(2,arguments);var n=$t(e);return R4(t,-n)}var L4=864e5;function F4(t){ke(1,arguments);var e=Xe(t),n=e.getTime();e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0);var r=e.getTime(),i=n-r;return Math.floor(i/L4)+1}function Fo(t){ke(1,arguments);var e=1,n=Xe(t),r=n.getUTCDay(),i=(r<e?7:0)+r-e;return n.setUTCDate(n.getUTCDate()-i),n.setUTCHours(0,0,0,0),n}function RI(t){ke(1,arguments);var e=Xe(t),n=e.getUTCFullYear(),r=new Date(0);r.setUTCFullYear(n+1,0,4),r.setUTCHours(0,0,0,0);var i=Fo(r),s=new Date(0);s.setUTCFullYear(n,0,4),s.setUTCHours(0,0,0,0);var o=Fo(s);return e.getTime()>=i.getTime()?n+1:e.getTime()>=o.getTime()?n:n-1}function U4(t){ke(1,arguments);var e=RI(t),n=new Date(0);n.setUTCFullYear(e,0,4),n.setUTCHours(0,0,0,0);var r=Fo(n);return r}var j4=6048e5;function xI(t){ke(1,arguments);var e=Xe(t),n=Fo(e).getTime()-U4(e).getTime();return Math.round(n/j4)+1}function _s(t,e){var n,r,i,s,o,a,l,c;ke(1,arguments);var d=ea(),h=$t((n=(r=(i=(s=e==null?void 0:e.weekStartsOn)!==null&&s!==void 0?s:e==null||(o=e.locale)===null||o===void 0||(a=o.options)===null||a===void 0?void 0:a.weekStartsOn)!==null&&i!==void 0?i:d.weekStartsOn)!==null&&r!==void 0?r:(l=d.locale)===null||l===void 0||(c=l.options)===null||c===void 0?void 0:c.weekStartsOn)!==null&&n!==void 0?n:0);if(!(h>=0&&h<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var p=Xe(t),g=p.getUTCDay(),T=(g<h?7:0)+g-h;return p.setUTCDate(p.getUTCDate()-T),p.setUTCHours(0,0,0,0),p}function Fy(t,e){var n,r,i,s,o,a,l,c;ke(1,arguments);var d=Xe(t),h=d.getUTCFullYear(),p=ea(),g=$t((n=(r=(i=(s=e==null?void 0:e.firstWeekContainsDate)!==null&&s!==void 0?s:e==null||(o=e.locale)===null||o===void 0||(a=o.options)===null||a===void 0?void 0:a.firstWeekContainsDate)!==null&&i!==void 0?i:p.firstWeekContainsDate)!==null&&r!==void 0?r:(l=p.locale)===null||l===void 0||(c=l.options)===null||c===void 0?void 0:c.firstWeekContainsDate)!==null&&n!==void 0?n:1);if(!(g>=1&&g<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var T=new Date(0);T.setUTCFullYear(h+1,0,g),T.setUTCHours(0,0,0,0);var E=_s(T,e),A=new Date(0);A.setUTCFullYear(h,0,g),A.setUTCHours(0,0,0,0);var w=_s(A,e);return d.getTime()>=E.getTime()?h+1:d.getTime()>=w.getTime()?h:h-1}function B4(t,e){var n,r,i,s,o,a,l,c;ke(1,arguments);var d=ea(),h=$t((n=(r=(i=(s=e==null?void 0:e.firstWeekContainsDate)!==null&&s!==void 0?s:e==null||(o=e.locale)===null||o===void 0||(a=o.options)===null||a===void 0?void 0:a.firstWeekContainsDate)!==null&&i!==void 0?i:d.firstWeekContainsDate)!==null&&r!==void 0?r:(l=d.locale)===null||l===void 0||(c=l.options)===null||c===void 0?void 0:c.firstWeekContainsDate)!==null&&n!==void 0?n:1),p=Fy(t,e),g=new Date(0);g.setUTCFullYear(p,0,h),g.setUTCHours(0,0,0,0);var T=_s(g,e);return T}var $4=6048e5;function kI(t,e){ke(1,arguments);var n=Xe(t),r=_s(n,e).getTime()-B4(n,e).getTime();return Math.round(r/$4)+1}function Ie(t,e){for(var n=t<0?"-":"",r=Math.abs(t).toString();r.length<e;)r="0"+r;return n+r}var z4={y:function(e,n){var r=e.getUTCFullYear(),i=r>0?r:1-r;return Ie(n==="yy"?i%100:i,n.length)},M:function(e,n){var r=e.getUTCMonth();return n==="M"?String(r+1):Ie(r+1,2)},d:function(e,n){return Ie(e.getUTCDate(),n.length)},a:function(e,n){var r=e.getUTCHours()/12>=1?"pm":"am";switch(n){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h:function(e,n){return Ie(e.getUTCHours()%12||12,n.length)},H:function(e,n){return Ie(e.getUTCHours(),n.length)},m:function(e,n){return Ie(e.getUTCMinutes(),n.length)},s:function(e,n){return Ie(e.getUTCSeconds(),n.length)},S:function(e,n){var r=n.length,i=e.getUTCMilliseconds(),s=Math.floor(i*Math.pow(10,r-3));return Ie(s,n.length)}};const Wr=z4;var Us={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},W4={G:function(e,n,r){var i=e.getUTCFullYear()>0?1:0;switch(n){case"G":case"GG":case"GGG":return r.era(i,{width:"abbreviated"});case"GGGGG":return r.era(i,{width:"narrow"});case"GGGG":default:return r.era(i,{width:"wide"})}},y:function(e,n,r){if(n==="yo"){var i=e.getUTCFullYear(),s=i>0?i:1-i;return r.ordinalNumber(s,{unit:"year"})}return Wr.y(e,n)},Y:function(e,n,r,i){var s=Fy(e,i),o=s>0?s:1-s;if(n==="YY"){var a=o%100;return Ie(a,2)}return n==="Yo"?r.ordinalNumber(o,{unit:"year"}):Ie(o,n.length)},R:function(e,n){var r=RI(e);return Ie(r,n.length)},u:function(e,n){var r=e.getUTCFullYear();return Ie(r,n.length)},Q:function(e,n,r){var i=Math.ceil((e.getUTCMonth()+1)/3);switch(n){case"Q":return String(i);case"QQ":return Ie(i,2);case"Qo":return r.ordinalNumber(i,{unit:"quarter"});case"QQQ":return r.quarter(i,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(i,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(i,{width:"wide",context:"formatting"})}},q:function(e,n,r){var i=Math.ceil((e.getUTCMonth()+1)/3);switch(n){case"q":return String(i);case"qq":return Ie(i,2);case"qo":return r.ordinalNumber(i,{unit:"quarter"});case"qqq":return r.quarter(i,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(i,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(i,{width:"wide",context:"standalone"})}},M:function(e,n,r){var i=e.getUTCMonth();switch(n){case"M":case"MM":return Wr.M(e,n);case"Mo":return r.ordinalNumber(i+1,{unit:"month"});case"MMM":return r.month(i,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(i,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(i,{width:"wide",context:"formatting"})}},L:function(e,n,r){var i=e.getUTCMonth();switch(n){case"L":return String(i+1);case"LL":return Ie(i+1,2);case"Lo":return r.ordinalNumber(i+1,{unit:"month"});case"LLL":return r.month(i,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(i,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(i,{width:"wide",context:"standalone"})}},w:function(e,n,r,i){var s=kI(e,i);return n==="wo"?r.ordinalNumber(s,{unit:"week"}):Ie(s,n.length)},I:function(e,n,r){var i=xI(e);return n==="Io"?r.ordinalNumber(i,{unit:"week"}):Ie(i,n.length)},d:function(e,n,r){return n==="do"?r.ordinalNumber(e.getUTCDate(),{unit:"date"}):Wr.d(e,n)},D:function(e,n,r){var i=F4(e);return n==="Do"?r.ordinalNumber(i,{unit:"dayOfYear"}):Ie(i,n.length)},E:function(e,n,r){var i=e.getUTCDay();switch(n){case"E":case"EE":case"EEE":return r.day(i,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(i,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(i,{width:"short",context:"formatting"});case"EEEE":default:return r.day(i,{width:"wide",context:"formatting"})}},e:function(e,n,r,i){var s=e.getUTCDay(),o=(s-i.weekStartsOn+8)%7||7;switch(n){case"e":return String(o);case"ee":return Ie(o,2);case"eo":return r.ordinalNumber(o,{unit:"day"});case"eee":return r.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(s,{width:"short",context:"formatting"});case"eeee":default:return r.day(s,{width:"wide",context:"formatting"})}},c:function(e,n,r,i){var s=e.getUTCDay(),o=(s-i.weekStartsOn+8)%7||7;switch(n){case"c":return String(o);case"cc":return Ie(o,n.length);case"co":return r.ordinalNumber(o,{unit:"day"});case"ccc":return r.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(s,{width:"narrow",context:"standalone"});case"cccccc":return r.day(s,{width:"short",context:"standalone"});case"cccc":default:return r.day(s,{width:"wide",context:"standalone"})}},i:function(e,n,r){var i=e.getUTCDay(),s=i===0?7:i;switch(n){case"i":return String(s);case"ii":return Ie(s,n.length);case"io":return r.ordinalNumber(s,{unit:"day"});case"iii":return r.day(i,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(i,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(i,{width:"short",context:"formatting"});case"iiii":default:return r.day(i,{width:"wide",context:"formatting"})}},a:function(e,n,r){var i=e.getUTCHours(),s=i/12>=1?"pm":"am";switch(n){case"a":case"aa":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(e,n,r){var i=e.getUTCHours(),s;switch(i===12?s=Us.noon:i===0?s=Us.midnight:s=i/12>=1?"pm":"am",n){case"b":case"bb":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(e,n,r){var i=e.getUTCHours(),s;switch(i>=17?s=Us.evening:i>=12?s=Us.afternoon:i>=4?s=Us.morning:s=Us.night,n){case"B":case"BB":case"BBB":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(e,n,r){if(n==="ho"){var i=e.getUTCHours()%12;return i===0&&(i=12),r.ordinalNumber(i,{unit:"hour"})}return Wr.h(e,n)},H:function(e,n,r){return n==="Ho"?r.ordinalNumber(e.getUTCHours(),{unit:"hour"}):Wr.H(e,n)},K:function(e,n,r){var i=e.getUTCHours()%12;return n==="Ko"?r.ordinalNumber(i,{unit:"hour"}):Ie(i,n.length)},k:function(e,n,r){var i=e.getUTCHours();return i===0&&(i=24),n==="ko"?r.ordinalNumber(i,{unit:"hour"}):Ie(i,n.length)},m:function(e,n,r){return n==="mo"?r.ordinalNumber(e.getUTCMinutes(),{unit:"minute"}):Wr.m(e,n)},s:function(e,n,r){return n==="so"?r.ordinalNumber(e.getUTCSeconds(),{unit:"second"}):Wr.s(e,n)},S:function(e,n){return Wr.S(e,n)},X:function(e,n,r,i){var s=i._originalDate||e,o=s.getTimezoneOffset();if(o===0)return"Z";switch(n){case"X":return nT(o);case"XXXX":case"XX":return Qi(o);case"XXXXX":case"XXX":default:return Qi(o,":")}},x:function(e,n,r,i){var s=i._originalDate||e,o=s.getTimezoneOffset();switch(n){case"x":return nT(o);case"xxxx":case"xx":return Qi(o);case"xxxxx":case"xxx":default:return Qi(o,":")}},O:function(e,n,r,i){var s=i._originalDate||e,o=s.getTimezoneOffset();switch(n){case"O":case"OO":case"OOO":return"GMT"+tT(o,":");case"OOOO":default:return"GMT"+Qi(o,":")}},z:function(e,n,r,i){var s=i._originalDate||e,o=s.getTimezoneOffset();switch(n){case"z":case"zz":case"zzz":return"GMT"+tT(o,":");case"zzzz":default:return"GMT"+Qi(o,":")}},t:function(e,n,r,i){var s=i._originalDate||e,o=Math.floor(s.getTime()/1e3);return Ie(o,n.length)},T:function(e,n,r,i){var s=i._originalDate||e,o=s.getTime();return Ie(o,n.length)}};function tT(t,e){var n=t>0?"-":"+",r=Math.abs(t),i=Math.floor(r/60),s=r%60;if(s===0)return n+String(i);var o=e||"";return n+String(i)+o+Ie(s,2)}function nT(t,e){if(t%60===0){var n=t>0?"-":"+";return n+Ie(Math.abs(t)/60,2)}return Qi(t,e)}function Qi(t,e){var n=e||"",r=t>0?"-":"+",i=Math.abs(t),s=Ie(Math.floor(i/60),2),o=Ie(i%60,2);return r+s+n+o}const H4=W4;var rT=function(e,n){switch(e){case"P":return n.date({width:"short"});case"PP":return n.date({width:"medium"});case"PPP":return n.date({width:"long"});case"PPPP":default:return n.date({width:"full"})}},bI=function(e,n){switch(e){case"p":return n.time({width:"short"});case"pp":return n.time({width:"medium"});case"ppp":return n.time({width:"long"});case"pppp":default:return n.time({width:"full"})}},q4=function(e,n){var r=e.match(/(P+)(p+)?/)||[],i=r[1],s=r[2];if(!s)return rT(e,n);var o;switch(i){case"P":o=n.dateTime({width:"short"});break;case"PP":o=n.dateTime({width:"medium"});break;case"PPP":o=n.dateTime({width:"long"});break;case"PPPP":default:o=n.dateTime({width:"full"});break}return o.replace("{{date}}",rT(i,n)).replace("{{time}}",bI(s,n))},G4={p:bI,P:q4};const Im=G4;var K4=["D","DD"],Y4=["YY","YYYY"];function DI(t){return K4.indexOf(t)!==-1}function NI(t){return Y4.indexOf(t)!==-1}function Pd(t,e,n){if(t==="YYYY")throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(e,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(t==="YY")throw new RangeError("Use `yy` instead of `YY` (in `".concat(e,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(t==="D")throw new RangeError("Use `d` instead of `D` (in `".concat(e,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(t==="DD")throw new RangeError("Use `dd` instead of `DD` (in `".concat(e,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}var Q4={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},X4=function(e,n,r){var i,s=Q4[e];return typeof s=="string"?i=s:n===1?i=s.one:i=s.other.replace("{{count}}",n.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+i:i+" ago":i};const J4=X4;function Uf(t){return function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.width?String(e.width):t.defaultWidth,r=t.formats[n]||t.formats[t.defaultWidth];return r}}var Z4={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},eU={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},tU={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},nU={date:Uf({formats:Z4,defaultWidth:"full"}),time:Uf({formats:eU,defaultWidth:"full"}),dateTime:Uf({formats:tU,defaultWidth:"full"})};const rU=nU;var iU={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},sU=function(e,n,r,i){return iU[e]};const oU=sU;function Sa(t){return function(e,n){var r=n!=null&&n.context?String(n.context):"standalone",i;if(r==="formatting"&&t.formattingValues){var s=t.defaultFormattingWidth||t.defaultWidth,o=n!=null&&n.width?String(n.width):s;i=t.formattingValues[o]||t.formattingValues[s]}else{var a=t.defaultWidth,l=n!=null&&n.width?String(n.width):t.defaultWidth;i=t.values[l]||t.values[a]}var c=t.argumentCallback?t.argumentCallback(e):e;return i[c]}}var aU={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},lU={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},uU={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},cU={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},dU={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},hU={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},fU=function(e,n){var r=Number(e),i=r%100;if(i>20||i<10)switch(i%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},pU={ordinalNumber:fU,era:Sa({values:aU,defaultWidth:"wide"}),quarter:Sa({values:lU,defaultWidth:"wide",argumentCallback:function(e){return e-1}}),month:Sa({values:uU,defaultWidth:"wide"}),day:Sa({values:cU,defaultWidth:"wide"}),dayPeriod:Sa({values:dU,defaultWidth:"wide",formattingValues:hU,defaultFormattingWidth:"wide"})};const mU=pU;function Ca(t){return function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=n.width,i=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],s=e.match(i);if(!s)return null;var o=s[0],a=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],l=Array.isArray(a)?yU(a,function(h){return h.test(o)}):gU(a,function(h){return h.test(o)}),c;c=t.valueCallback?t.valueCallback(l):l,c=n.valueCallback?n.valueCallback(c):c;var d=e.slice(o.length);return{value:c,rest:d}}}function gU(t,e){for(var n in t)if(t.hasOwnProperty(n)&&e(t[n]))return n}function yU(t,e){for(var n=0;n<t.length;n++)if(e(t[n]))return n}function vU(t){return function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=e.match(t.matchPattern);if(!r)return null;var i=r[0],s=e.match(t.parsePattern);if(!s)return null;var o=t.valueCallback?t.valueCallback(s[0]):s[0];o=n.valueCallback?n.valueCallback(o):o;var a=e.slice(i.length);return{value:o,rest:a}}}var wU=/^(\d+)(th|st|nd|rd)?/i,_U=/\d+/i,TU={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},EU={any:[/^b/i,/^(a|c)/i]},PU={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},SU={any:[/1/i,/2/i,/3/i,/4/i]},CU={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},IU={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},AU={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},RU={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},xU={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},kU={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},bU={ordinalNumber:vU({matchPattern:wU,parsePattern:_U,valueCallback:function(e){return parseInt(e,10)}}),era:Ca({matchPatterns:TU,defaultMatchWidth:"wide",parsePatterns:EU,defaultParseWidth:"any"}),quarter:Ca({matchPatterns:PU,defaultMatchWidth:"wide",parsePatterns:SU,defaultParseWidth:"any",valueCallback:function(e){return e+1}}),month:Ca({matchPatterns:CU,defaultMatchWidth:"wide",parsePatterns:IU,defaultParseWidth:"any"}),day:Ca({matchPatterns:AU,defaultMatchWidth:"wide",parsePatterns:RU,defaultParseWidth:"any"}),dayPeriod:Ca({matchPatterns:xU,defaultMatchWidth:"any",parsePatterns:kU,defaultParseWidth:"any"})};const DU=bU;var NU={code:"en-US",formatDistance:J4,formatLong:rU,formatRelative:oU,localize:mU,match:DU,options:{weekStartsOn:0,firstWeekContainsDate:1}};const OI=NU;var OU=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,VU=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,MU=/^'([^]*?)'?$/,LU=/''/g,FU=/[a-zA-Z]/;function tn(t,e,n){var r,i,s,o,a,l,c,d,h,p,g,T,E,A,w,y,_,b;ke(2,arguments);var O=String(e),V=ea(),C=(r=(i=n==null?void 0:n.locale)!==null&&i!==void 0?i:V.locale)!==null&&r!==void 0?r:OI,v=$t((s=(o=(a=(l=n==null?void 0:n.firstWeekContainsDate)!==null&&l!==void 0?l:n==null||(c=n.locale)===null||c===void 0||(d=c.options)===null||d===void 0?void 0:d.firstWeekContainsDate)!==null&&a!==void 0?a:V.firstWeekContainsDate)!==null&&o!==void 0?o:(h=V.locale)===null||h===void 0||(p=h.options)===null||p===void 0?void 0:p.firstWeekContainsDate)!==null&&s!==void 0?s:1);if(!(v>=1&&v<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var S=$t((g=(T=(E=(A=n==null?void 0:n.weekStartsOn)!==null&&A!==void 0?A:n==null||(w=n.locale)===null||w===void 0||(y=w.options)===null||y===void 0?void 0:y.weekStartsOn)!==null&&E!==void 0?E:V.weekStartsOn)!==null&&T!==void 0?T:(_=V.locale)===null||_===void 0||(b=_.options)===null||b===void 0?void 0:b.weekStartsOn)!==null&&g!==void 0?g:0);if(!(S>=0&&S<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!C.localize)throw new RangeError("locale must contain localize property");if(!C.formatLong)throw new RangeError("locale must contain formatLong property");var I=Xe(t);if(!V4(I))throw new RangeError("Invalid time value");var D=Ed(I),k=AI(I,D),R={firstWeekContainsDate:v,weekStartsOn:S,locale:C,_originalDate:I},$=O.match(VU).map(function(J){var W=J[0];if(W==="p"||W==="P"){var se=Im[W];return se(J,C.formatLong)}return J}).join("").match(OU).map(function(J){if(J==="''")return"'";var W=J[0];if(W==="'")return UU(J);var se=H4[W];if(se)return!(n!=null&&n.useAdditionalWeekYearTokens)&&NI(J)&&Pd(J,e,String(t)),!(n!=null&&n.useAdditionalDayOfYearTokens)&&DI(J)&&Pd(J,e,String(t)),se(k,J,C.localize,R);if(W.match(FU))throw new RangeError("Format string contains an unescaped latin alphabet character `"+W+"`");return J}).join("");return $}function UU(t){var e=t.match(MU);return e?e[1].replace(LU,"'"):t}function jU(t,e){if(t==null)throw new TypeError("assign requires that input parameter not be null or undefined");for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}function iT(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function BU(t,e){if(t){if(typeof t=="string")return iT(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?iT(t,e):void 0}}function sT(t,e){var n=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=BU(t))||e&&t&&typeof t.length=="number"){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(c){throw c},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var s,o=!0,a=!1;return{s:function(){n=n.call(t)},n:function(){var c=n.next();return o=c.done,c},e:function(c){a=!0,s=c},f:function(){try{o||n.return==null||n.return()}finally{if(a)throw s}}}}function K(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Am(t,e){return Am=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},Am(t,e)}function we(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Am(t,e)}function Sd(t){return Sd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Sd(t)}function VI(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(VI=function(){return!!t})()}function $U(t,e){if(e&&(Dr(e)=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return K(t)}function _e(t){var e=VI();return function(){var n,r=Sd(t);if(e){var i=Sd(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return $U(this,n)}}function pe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function zU(t,e){if(Dr(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Dr(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function MI(t){var e=zU(t,"string");return Dr(e)=="symbol"?e:e+""}function oT(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,MI(r.key),r)}}function me(t,e,n){return e&&oT(t.prototype,e),n&&oT(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function q(t,e,n){return(e=MI(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var WU=10,LI=function(){function t(){pe(this,t),q(this,"priority",void 0),q(this,"subPriority",0)}return me(t,[{key:"validate",value:function(n,r){return!0}}]),t}(),HU=function(t){we(n,t);var e=_e(n);function n(r,i,s,o,a){var l;return pe(this,n),l=e.call(this),l.value=r,l.validateValue=i,l.setValue=s,l.priority=o,a&&(l.subPriority=a),l}return me(n,[{key:"validate",value:function(i,s){return this.validateValue(i,this.value,s)}},{key:"set",value:function(i,s,o){return this.setValue(i,s,this.value,o)}}]),n}(LI),qU=function(t){we(n,t);var e=_e(n);function n(){var r;pe(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),q(K(r),"priority",WU),q(K(r),"subPriority",-1),r}return me(n,[{key:"set",value:function(i,s){if(s.timestampIsSet)return i;var o=new Date(0);return o.setFullYear(i.getUTCFullYear(),i.getUTCMonth(),i.getUTCDate()),o.setHours(i.getUTCHours(),i.getUTCMinutes(),i.getUTCSeconds(),i.getUTCMilliseconds()),o}}]),n}(LI),Se=function(){function t(){pe(this,t),q(this,"incompatibleTokens",void 0),q(this,"priority",void 0),q(this,"subPriority",void 0)}return me(t,[{key:"run",value:function(n,r,i,s){var o=this.parse(n,r,i,s);return o?{setter:new HU(o.value,this.validate,this.set,this.priority,this.subPriority),rest:o.rest}:null}},{key:"validate",value:function(n,r,i){return!0}}]),t}(),GU=function(t){we(n,t);var e=_e(n);function n(){var r;pe(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),q(K(r),"priority",140),q(K(r),"incompatibleTokens",["R","u","t","T"]),r}return me(n,[{key:"parse",value:function(i,s,o){switch(s){case"G":case"GG":case"GGG":return o.era(i,{width:"abbreviated"})||o.era(i,{width:"narrow"});case"GGGGG":return o.era(i,{width:"narrow"});case"GGGG":default:return o.era(i,{width:"wide"})||o.era(i,{width:"abbreviated"})||o.era(i,{width:"narrow"})}}},{key:"set",value:function(i,s,o){return s.era=o,i.setUTCFullYear(o,0,1),i.setUTCHours(0,0,0,0),i}}]),n}(Se),nt={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},Yn={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function rt(t,e){return t&&{value:e(t.value),rest:t.rest}}function je(t,e){var n=e.match(t);return n?{value:parseInt(n[0],10),rest:e.slice(n[0].length)}:null}function Qn(t,e){var n=e.match(t);if(!n)return null;if(n[0]==="Z")return{value:0,rest:e.slice(1)};var r=n[1]==="+"?1:-1,i=n[2]?parseInt(n[2],10):0,s=n[3]?parseInt(n[3],10):0,o=n[5]?parseInt(n[5],10):0;return{value:r*(i*Ly+s*My+o*N4),rest:e.slice(n[0].length)}}function FI(t){return je(nt.anyDigitsSigned,t)}function Je(t,e){switch(t){case 1:return je(nt.singleDigit,e);case 2:return je(nt.twoDigits,e);case 3:return je(nt.threeDigits,e);case 4:return je(nt.fourDigits,e);default:return je(new RegExp("^\\d{1,"+t+"}"),e)}}function Cd(t,e){switch(t){case 1:return je(nt.singleDigitSigned,e);case 2:return je(nt.twoDigitsSigned,e);case 3:return je(nt.threeDigitsSigned,e);case 4:return je(nt.fourDigitsSigned,e);default:return je(new RegExp("^-?\\d{1,"+t+"}"),e)}}function Uy(t){switch(t){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function UI(t,e){var n=e>0,r=n?e:1-e,i;if(r<=50)i=t||100;else{var s=r+50,o=Math.floor(s/100)*100,a=t>=s%100;i=t+o-(a?100:0)}return n?i:1-i}function jI(t){return t%400===0||t%4===0&&t%100!==0}var KU=function(t){we(n,t);var e=_e(n);function n(){var r;pe(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),q(K(r),"priority",130),q(K(r),"incompatibleTokens",["Y","R","u","w","I","i","e","c","t","T"]),r}return me(n,[{key:"parse",value:function(i,s,o){var a=function(c){return{year:c,isTwoDigitYear:s==="yy"}};switch(s){case"y":return rt(Je(4,i),a);case"yo":return rt(o.ordinalNumber(i,{unit:"year"}),a);default:return rt(Je(s.length,i),a)}}},{key:"validate",value:function(i,s){return s.isTwoDigitYear||s.year>0}},{key:"set",value:function(i,s,o){var a=i.getUTCFullYear();if(o.isTwoDigitYear){var l=UI(o.year,a);return i.setUTCFullYear(l,0,1),i.setUTCHours(0,0,0,0),i}var c=!("era"in s)||s.era===1?o.year:1-o.year;return i.setUTCFullYear(c,0,1),i.setUTCHours(0,0,0,0),i}}]),n}(Se),YU=function(t){we(n,t);var e=_e(n);function n(){var r;pe(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),q(K(r),"priority",130),q(K(r),"incompatibleTokens",["y","R","u","Q","q","M","L","I","d","D","i","t","T"]),r}return me(n,[{key:"parse",value:function(i,s,o){var a=function(c){return{year:c,isTwoDigitYear:s==="YY"}};switch(s){case"Y":return rt(Je(4,i),a);case"Yo":return rt(o.ordinalNumber(i,{unit:"year"}),a);default:return rt(Je(s.length,i),a)}}},{key:"validate",value:function(i,s){return s.isTwoDigitYear||s.year>0}},{key:"set",value:function(i,s,o,a){var l=Fy(i,a);if(o.isTwoDigitYear){var c=UI(o.year,l);return i.setUTCFullYear(c,0,a.firstWeekContainsDate),i.setUTCHours(0,0,0,0),_s(i,a)}var d=!("era"in s)||s.era===1?o.year:1-o.year;return i.setUTCFullYear(d,0,a.firstWeekContainsDate),i.setUTCHours(0,0,0,0),_s(i,a)}}]),n}(Se),QU=function(t){we(n,t);var e=_e(n);function n(){var r;pe(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),q(K(r),"priority",130),q(K(r),"incompatibleTokens",["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"]),r}return me(n,[{key:"parse",value:function(i,s){return Cd(s==="R"?4:s.length,i)}},{key:"set",value:function(i,s,o){var a=new Date(0);return a.setUTCFullYear(o,0,4),a.setUTCHours(0,0,0,0),Fo(a)}}]),n}(Se),XU=function(t){we(n,t);var e=_e(n);function n(){var r;pe(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),q(K(r),"priority",130),q(K(r),"incompatibleTokens",["G","y","Y","R","w","I","i","e","c","t","T"]),r}return me(n,[{key:"parse",value:function(i,s){return Cd(s==="u"?4:s.length,i)}},{key:"set",value:function(i,s,o){return i.setUTCFullYear(o,0,1),i.setUTCHours(0,0,0,0),i}}]),n}(Se),JU=function(t){we(n,t);var e=_e(n);function n(){var r;pe(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),q(K(r),"priority",120),q(K(r),"incompatibleTokens",["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"]),r}return me(n,[{key:"parse",value:function(i,s,o){switch(s){case"Q":case"QQ":return Je(s.length,i);case"Qo":return o.ordinalNumber(i,{unit:"quarter"});case"QQQ":return o.quarter(i,{width:"abbreviated",context:"formatting"})||o.quarter(i,{width:"narrow",context:"formatting"});case"QQQQQ":return o.quarter(i,{width:"narrow",context:"formatting"});case"QQQQ":default:return o.quarter(i,{width:"wide",context:"formatting"})||o.quarter(i,{width:"abbreviated",context:"formatting"})||o.quarter(i,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(i,s){return s>=1&&s<=4}},{key:"set",value:function(i,s,o){return i.setUTCMonth((o-1)*3,1),i.setUTCHours(0,0,0,0),i}}]),n}(Se),ZU=function(t){we(n,t);var e=_e(n);function n(){var r;pe(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),q(K(r),"priority",120),q(K(r),"incompatibleTokens",["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"]),r}return me(n,[{key:"parse",value:function(i,s,o){switch(s){case"q":case"qq":return Je(s.length,i);case"qo":return o.ordinalNumber(i,{unit:"quarter"});case"qqq":return o.quarter(i,{width:"abbreviated",context:"standalone"})||o.quarter(i,{width:"narrow",context:"standalone"});case"qqqqq":return o.quarter(i,{width:"narrow",context:"standalone"});case"qqqq":default:return o.quarter(i,{width:"wide",context:"standalone"})||o.quarter(i,{width:"abbreviated",context:"standalone"})||o.quarter(i,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(i,s){return s>=1&&s<=4}},{key:"set",value:function(i,s,o){return i.setUTCMonth((o-1)*3,1),i.setUTCHours(0,0,0,0),i}}]),n}(Se),e3=function(t){we(n,t);var e=_e(n);function n(){var r;pe(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),q(K(r),"incompatibleTokens",["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]),q(K(r),"priority",110),r}return me(n,[{key:"parse",value:function(i,s,o){var a=function(c){return c-1};switch(s){case"M":return rt(je(nt.month,i),a);case"MM":return rt(Je(2,i),a);case"Mo":return rt(o.ordinalNumber(i,{unit:"month"}),a);case"MMM":return o.month(i,{width:"abbreviated",context:"formatting"})||o.month(i,{width:"narrow",context:"formatting"});case"MMMMM":return o.month(i,{width:"narrow",context:"formatting"});case"MMMM":default:return o.month(i,{width:"wide",context:"formatting"})||o.month(i,{width:"abbreviated",context:"formatting"})||o.month(i,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(i,s){return s>=0&&s<=11}},{key:"set",value:function(i,s,o){return i.setUTCMonth(o,1),i.setUTCHours(0,0,0,0),i}}]),n}(Se),t3=function(t){we(n,t);var e=_e(n);function n(){var r;pe(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),q(K(r),"priority",110),q(K(r),"incompatibleTokens",["Y","R","q","Q","M","w","I","D","i","e","c","t","T"]),r}return me(n,[{key:"parse",value:function(i,s,o){var a=function(c){return c-1};switch(s){case"L":return rt(je(nt.month,i),a);case"LL":return rt(Je(2,i),a);case"Lo":return rt(o.ordinalNumber(i,{unit:"month"}),a);case"LLL":return o.month(i,{width:"abbreviated",context:"standalone"})||o.month(i,{width:"narrow",context:"standalone"});case"LLLLL":return o.month(i,{width:"narrow",context:"standalone"});case"LLLL":default:return o.month(i,{width:"wide",context:"standalone"})||o.month(i,{width:"abbreviated",context:"standalone"})||o.month(i,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(i,s){return s>=0&&s<=11}},{key:"set",value:function(i,s,o){return i.setUTCMonth(o,1),i.setUTCHours(0,0,0,0),i}}]),n}(Se);function n3(t,e,n){ke(2,arguments);var r=Xe(t),i=$t(e),s=kI(r,n)-i;return r.setUTCDate(r.getUTCDate()-s*7),r}var r3=function(t){we(n,t);var e=_e(n);function n(){var r;pe(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),q(K(r),"priority",100),q(K(r),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","i","t","T"]),r}return me(n,[{key:"parse",value:function(i,s,o){switch(s){case"w":return je(nt.week,i);case"wo":return o.ordinalNumber(i,{unit:"week"});default:return Je(s.length,i)}}},{key:"validate",value:function(i,s){return s>=1&&s<=53}},{key:"set",value:function(i,s,o,a){return _s(n3(i,o,a),a)}}]),n}(Se);function i3(t,e){ke(2,arguments);var n=Xe(t),r=$t(e),i=xI(n)-r;return n.setUTCDate(n.getUTCDate()-i*7),n}var s3=function(t){we(n,t);var e=_e(n);function n(){var r;pe(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),q(K(r),"priority",100),q(K(r),"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"]),r}return me(n,[{key:"parse",value:function(i,s,o){switch(s){case"I":return je(nt.week,i);case"Io":return o.ordinalNumber(i,{unit:"week"});default:return Je(s.length,i)}}},{key:"validate",value:function(i,s){return s>=1&&s<=53}},{key:"set",value:function(i,s,o){return Fo(i3(i,o))}}]),n}(Se),o3=[31,28,31,30,31,30,31,31,30,31,30,31],a3=[31,29,31,30,31,30,31,31,30,31,30,31],l3=function(t){we(n,t);var e=_e(n);function n(){var r;pe(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),q(K(r),"priority",90),q(K(r),"subPriority",1),q(K(r),"incompatibleTokens",["Y","R","q","Q","w","I","D","i","e","c","t","T"]),r}return me(n,[{key:"parse",value:function(i,s,o){switch(s){case"d":return je(nt.date,i);case"do":return o.ordinalNumber(i,{unit:"date"});default:return Je(s.length,i)}}},{key:"validate",value:function(i,s){var o=i.getUTCFullYear(),a=jI(o),l=i.getUTCMonth();return a?s>=1&&s<=a3[l]:s>=1&&s<=o3[l]}},{key:"set",value:function(i,s,o){return i.setUTCDate(o),i.setUTCHours(0,0,0,0),i}}]),n}(Se),u3=function(t){we(n,t);var e=_e(n);function n(){var r;pe(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),q(K(r),"priority",90),q(K(r),"subpriority",1),q(K(r),"incompatibleTokens",["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"]),r}return me(n,[{key:"parse",value:function(i,s,o){switch(s){case"D":case"DD":return je(nt.dayOfYear,i);case"Do":return o.ordinalNumber(i,{unit:"date"});default:return Je(s.length,i)}}},{key:"validate",value:function(i,s){var o=i.getUTCFullYear(),a=jI(o);return a?s>=1&&s<=366:s>=1&&s<=365}},{key:"set",value:function(i,s,o){return i.setUTCMonth(0,o),i.setUTCHours(0,0,0,0),i}}]),n}(Se);function jy(t,e,n){var r,i,s,o,a,l,c,d;ke(2,arguments);var h=ea(),p=$t((r=(i=(s=(o=n==null?void 0:n.weekStartsOn)!==null&&o!==void 0?o:n==null||(a=n.locale)===null||a===void 0||(l=a.options)===null||l===void 0?void 0:l.weekStartsOn)!==null&&s!==void 0?s:h.weekStartsOn)!==null&&i!==void 0?i:(c=h.locale)===null||c===void 0||(d=c.options)===null||d===void 0?void 0:d.weekStartsOn)!==null&&r!==void 0?r:0);if(!(p>=0&&p<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var g=Xe(t),T=$t(e),E=g.getUTCDay(),A=T%7,w=(A+7)%7,y=(w<p?7:0)+T-E;return g.setUTCDate(g.getUTCDate()+y),g}var c3=function(t){we(n,t);var e=_e(n);function n(){var r;pe(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),q(K(r),"priority",90),q(K(r),"incompatibleTokens",["D","i","e","c","t","T"]),r}return me(n,[{key:"parse",value:function(i,s,o){switch(s){case"E":case"EE":case"EEE":return o.day(i,{width:"abbreviated",context:"formatting"})||o.day(i,{width:"short",context:"formatting"})||o.day(i,{width:"narrow",context:"formatting"});case"EEEEE":return o.day(i,{width:"narrow",context:"formatting"});case"EEEEEE":return o.day(i,{width:"short",context:"formatting"})||o.day(i,{width:"narrow",context:"formatting"});case"EEEE":default:return o.day(i,{width:"wide",context:"formatting"})||o.day(i,{width:"abbreviated",context:"formatting"})||o.day(i,{width:"short",context:"formatting"})||o.day(i,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(i,s){return s>=0&&s<=6}},{key:"set",value:function(i,s,o,a){return i=jy(i,o,a),i.setUTCHours(0,0,0,0),i}}]),n}(Se),d3=function(t){we(n,t);var e=_e(n);function n(){var r;pe(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),q(K(r),"priority",90),q(K(r),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"]),r}return me(n,[{key:"parse",value:function(i,s,o,a){var l=function(d){var h=Math.floor((d-1)/7)*7;return(d+a.weekStartsOn+6)%7+h};switch(s){case"e":case"ee":return rt(Je(s.length,i),l);case"eo":return rt(o.ordinalNumber(i,{unit:"day"}),l);case"eee":return o.day(i,{width:"abbreviated",context:"formatting"})||o.day(i,{width:"short",context:"formatting"})||o.day(i,{width:"narrow",context:"formatting"});case"eeeee":return o.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return o.day(i,{width:"short",context:"formatting"})||o.day(i,{width:"narrow",context:"formatting"});case"eeee":default:return o.day(i,{width:"wide",context:"formatting"})||o.day(i,{width:"abbreviated",context:"formatting"})||o.day(i,{width:"short",context:"formatting"})||o.day(i,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(i,s){return s>=0&&s<=6}},{key:"set",value:function(i,s,o,a){return i=jy(i,o,a),i.setUTCHours(0,0,0,0),i}}]),n}(Se),h3=function(t){we(n,t);var e=_e(n);function n(){var r;pe(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),q(K(r),"priority",90),q(K(r),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"]),r}return me(n,[{key:"parse",value:function(i,s,o,a){var l=function(d){var h=Math.floor((d-1)/7)*7;return(d+a.weekStartsOn+6)%7+h};switch(s){case"c":case"cc":return rt(Je(s.length,i),l);case"co":return rt(o.ordinalNumber(i,{unit:"day"}),l);case"ccc":return o.day(i,{width:"abbreviated",context:"standalone"})||o.day(i,{width:"short",context:"standalone"})||o.day(i,{width:"narrow",context:"standalone"});case"ccccc":return o.day(i,{width:"narrow",context:"standalone"});case"cccccc":return o.day(i,{width:"short",context:"standalone"})||o.day(i,{width:"narrow",context:"standalone"});case"cccc":default:return o.day(i,{width:"wide",context:"standalone"})||o.day(i,{width:"abbreviated",context:"standalone"})||o.day(i,{width:"short",context:"standalone"})||o.day(i,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(i,s){return s>=0&&s<=6}},{key:"set",value:function(i,s,o,a){return i=jy(i,o,a),i.setUTCHours(0,0,0,0),i}}]),n}(Se);function f3(t,e){ke(2,arguments);var n=$t(e);n%7===0&&(n=n-7);var r=1,i=Xe(t),s=i.getUTCDay(),o=n%7,a=(o+7)%7,l=(a<r?7:0)+n-s;return i.setUTCDate(i.getUTCDate()+l),i}var p3=function(t){we(n,t);var e=_e(n);function n(){var r;pe(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),q(K(r),"priority",90),q(K(r),"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"]),r}return me(n,[{key:"parse",value:function(i,s,o){var a=function(c){return c===0?7:c};switch(s){case"i":case"ii":return Je(s.length,i);case"io":return o.ordinalNumber(i,{unit:"day"});case"iii":return rt(o.day(i,{width:"abbreviated",context:"formatting"})||o.day(i,{width:"short",context:"formatting"})||o.day(i,{width:"narrow",context:"formatting"}),a);case"iiiii":return rt(o.day(i,{width:"narrow",context:"formatting"}),a);case"iiiiii":return rt(o.day(i,{width:"short",context:"formatting"})||o.day(i,{width:"narrow",context:"formatting"}),a);case"iiii":default:return rt(o.day(i,{width:"wide",context:"formatting"})||o.day(i,{width:"abbreviated",context:"formatting"})||o.day(i,{width:"short",context:"formatting"})||o.day(i,{width:"narrow",context:"formatting"}),a)}}},{key:"validate",value:function(i,s){return s>=1&&s<=7}},{key:"set",value:function(i,s,o){return i=f3(i,o),i.setUTCHours(0,0,0,0),i}}]),n}(Se),m3=function(t){we(n,t);var e=_e(n);function n(){var r;pe(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),q(K(r),"priority",80),q(K(r),"incompatibleTokens",["b","B","H","k","t","T"]),r}return me(n,[{key:"parse",value:function(i,s,o){switch(s){case"a":case"aa":case"aaa":return o.dayPeriod(i,{width:"abbreviated",context:"formatting"})||o.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaaa":return o.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return o.dayPeriod(i,{width:"wide",context:"formatting"})||o.dayPeriod(i,{width:"abbreviated",context:"formatting"})||o.dayPeriod(i,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(i,s,o){return i.setUTCHours(Uy(o),0,0,0),i}}]),n}(Se),g3=function(t){we(n,t);var e=_e(n);function n(){var r;pe(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),q(K(r),"priority",80),q(K(r),"incompatibleTokens",["a","B","H","k","t","T"]),r}return me(n,[{key:"parse",value:function(i,s,o){switch(s){case"b":case"bb":case"bbb":return o.dayPeriod(i,{width:"abbreviated",context:"formatting"})||o.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbbb":return o.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return o.dayPeriod(i,{width:"wide",context:"formatting"})||o.dayPeriod(i,{width:"abbreviated",context:"formatting"})||o.dayPeriod(i,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(i,s,o){return i.setUTCHours(Uy(o),0,0,0),i}}]),n}(Se),y3=function(t){we(n,t);var e=_e(n);function n(){var r;pe(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),q(K(r),"priority",80),q(K(r),"incompatibleTokens",["a","b","t","T"]),r}return me(n,[{key:"parse",value:function(i,s,o){switch(s){case"B":case"BB":case"BBB":return o.dayPeriod(i,{width:"abbreviated",context:"formatting"})||o.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBBB":return o.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return o.dayPeriod(i,{width:"wide",context:"formatting"})||o.dayPeriod(i,{width:"abbreviated",context:"formatting"})||o.dayPeriod(i,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(i,s,o){return i.setUTCHours(Uy(o),0,0,0),i}}]),n}(Se),v3=function(t){we(n,t);var e=_e(n);function n(){var r;pe(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),q(K(r),"priority",70),q(K(r),"incompatibleTokens",["H","K","k","t","T"]),r}return me(n,[{key:"parse",value:function(i,s,o){switch(s){case"h":return je(nt.hour12h,i);case"ho":return o.ordinalNumber(i,{unit:"hour"});default:return Je(s.length,i)}}},{key:"validate",value:function(i,s){return s>=1&&s<=12}},{key:"set",value:function(i,s,o){var a=i.getUTCHours()>=12;return a&&o<12?i.setUTCHours(o+12,0,0,0):!a&&o===12?i.setUTCHours(0,0,0,0):i.setUTCHours(o,0,0,0),i}}]),n}(Se),w3=function(t){we(n,t);var e=_e(n);function n(){var r;pe(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),q(K(r),"priority",70),q(K(r),"incompatibleTokens",["a","b","h","K","k","t","T"]),r}return me(n,[{key:"parse",value:function(i,s,o){switch(s){case"H":return je(nt.hour23h,i);case"Ho":return o.ordinalNumber(i,{unit:"hour"});default:return Je(s.length,i)}}},{key:"validate",value:function(i,s){return s>=0&&s<=23}},{key:"set",value:function(i,s,o){return i.setUTCHours(o,0,0,0),i}}]),n}(Se),_3=function(t){we(n,t);var e=_e(n);function n(){var r;pe(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),q(K(r),"priority",70),q(K(r),"incompatibleTokens",["h","H","k","t","T"]),r}return me(n,[{key:"parse",value:function(i,s,o){switch(s){case"K":return je(nt.hour11h,i);case"Ko":return o.ordinalNumber(i,{unit:"hour"});default:return Je(s.length,i)}}},{key:"validate",value:function(i,s){return s>=0&&s<=11}},{key:"set",value:function(i,s,o){var a=i.getUTCHours()>=12;return a&&o<12?i.setUTCHours(o+12,0,0,0):i.setUTCHours(o,0,0,0),i}}]),n}(Se),T3=function(t){we(n,t);var e=_e(n);function n(){var r;pe(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),q(K(r),"priority",70),q(K(r),"incompatibleTokens",["a","b","h","H","K","t","T"]),r}return me(n,[{key:"parse",value:function(i,s,o){switch(s){case"k":return je(nt.hour24h,i);case"ko":return o.ordinalNumber(i,{unit:"hour"});default:return Je(s.length,i)}}},{key:"validate",value:function(i,s){return s>=1&&s<=24}},{key:"set",value:function(i,s,o){var a=o<=24?o%24:o;return i.setUTCHours(a,0,0,0),i}}]),n}(Se),E3=function(t){we(n,t);var e=_e(n);function n(){var r;pe(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),q(K(r),"priority",60),q(K(r),"incompatibleTokens",["t","T"]),r}return me(n,[{key:"parse",value:function(i,s,o){switch(s){case"m":return je(nt.minute,i);case"mo":return o.ordinalNumber(i,{unit:"minute"});default:return Je(s.length,i)}}},{key:"validate",value:function(i,s){return s>=0&&s<=59}},{key:"set",value:function(i,s,o){return i.setUTCMinutes(o,0,0),i}}]),n}(Se),P3=function(t){we(n,t);var e=_e(n);function n(){var r;pe(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),q(K(r),"priority",50),q(K(r),"incompatibleTokens",["t","T"]),r}return me(n,[{key:"parse",value:function(i,s,o){switch(s){case"s":return je(nt.second,i);case"so":return o.ordinalNumber(i,{unit:"second"});default:return Je(s.length,i)}}},{key:"validate",value:function(i,s){return s>=0&&s<=59}},{key:"set",value:function(i,s,o){return i.setUTCSeconds(o,0),i}}]),n}(Se),S3=function(t){we(n,t);var e=_e(n);function n(){var r;pe(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),q(K(r),"priority",30),q(K(r),"incompatibleTokens",["t","T"]),r}return me(n,[{key:"parse",value:function(i,s){var o=function(l){return Math.floor(l*Math.pow(10,-s.length+3))};return rt(Je(s.length,i),o)}},{key:"set",value:function(i,s,o){return i.setUTCMilliseconds(o),i}}]),n}(Se),C3=function(t){we(n,t);var e=_e(n);function n(){var r;pe(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),q(K(r),"priority",10),q(K(r),"incompatibleTokens",["t","T","x"]),r}return me(n,[{key:"parse",value:function(i,s){switch(s){case"X":return Qn(Yn.basicOptionalMinutes,i);case"XX":return Qn(Yn.basic,i);case"XXXX":return Qn(Yn.basicOptionalSeconds,i);case"XXXXX":return Qn(Yn.extendedOptionalSeconds,i);case"XXX":default:return Qn(Yn.extended,i)}}},{key:"set",value:function(i,s,o){return s.timestampIsSet?i:new Date(i.getTime()-o)}}]),n}(Se),I3=function(t){we(n,t);var e=_e(n);function n(){var r;pe(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),q(K(r),"priority",10),q(K(r),"incompatibleTokens",["t","T","X"]),r}return me(n,[{key:"parse",value:function(i,s){switch(s){case"x":return Qn(Yn.basicOptionalMinutes,i);case"xx":return Qn(Yn.basic,i);case"xxxx":return Qn(Yn.basicOptionalSeconds,i);case"xxxxx":return Qn(Yn.extendedOptionalSeconds,i);case"xxx":default:return Qn(Yn.extended,i)}}},{key:"set",value:function(i,s,o){return s.timestampIsSet?i:new Date(i.getTime()-o)}}]),n}(Se),A3=function(t){we(n,t);var e=_e(n);function n(){var r;pe(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),q(K(r),"priority",40),q(K(r),"incompatibleTokens","*"),r}return me(n,[{key:"parse",value:function(i){return FI(i)}},{key:"set",value:function(i,s,o){return[new Date(o*1e3),{timestampIsSet:!0}]}}]),n}(Se),R3=function(t){we(n,t);var e=_e(n);function n(){var r;pe(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),q(K(r),"priority",20),q(K(r),"incompatibleTokens","*"),r}return me(n,[{key:"parse",value:function(i){return FI(i)}},{key:"set",value:function(i,s,o){return[new Date(o),{timestampIsSet:!0}]}}]),n}(Se),x3={G:new GU,y:new KU,Y:new YU,R:new QU,u:new XU,Q:new JU,q:new ZU,M:new e3,L:new t3,w:new r3,I:new s3,d:new l3,D:new u3,E:new c3,e:new d3,c:new h3,i:new p3,a:new m3,b:new g3,B:new y3,h:new v3,H:new w3,K:new _3,k:new T3,m:new E3,s:new P3,S:new S3,X:new C3,x:new I3,t:new A3,T:new R3},k3=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,b3=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,D3=/^'([^]*?)'?$/,N3=/''/g,O3=/\S/,V3=/[a-zA-Z]/;function M3(t,e,n,r){var i,s,o,a,l,c,d,h,p,g,T,E,A,w,y,_,b,O;ke(3,arguments);var V=String(t),C=String(e),v=ea(),S=(i=(s=r==null?void 0:r.locale)!==null&&s!==void 0?s:v.locale)!==null&&i!==void 0?i:OI;if(!S.match)throw new RangeError("locale must contain match property");var I=$t((o=(a=(l=(c=r==null?void 0:r.firstWeekContainsDate)!==null&&c!==void 0?c:r==null||(d=r.locale)===null||d===void 0||(h=d.options)===null||h===void 0?void 0:h.firstWeekContainsDate)!==null&&l!==void 0?l:v.firstWeekContainsDate)!==null&&a!==void 0?a:(p=v.locale)===null||p===void 0||(g=p.options)===null||g===void 0?void 0:g.firstWeekContainsDate)!==null&&o!==void 0?o:1);if(!(I>=1&&I<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var D=$t((T=(E=(A=(w=r==null?void 0:r.weekStartsOn)!==null&&w!==void 0?w:r==null||(y=r.locale)===null||y===void 0||(_=y.options)===null||_===void 0?void 0:_.weekStartsOn)!==null&&A!==void 0?A:v.weekStartsOn)!==null&&E!==void 0?E:(b=v.locale)===null||b===void 0||(O=b.options)===null||O===void 0?void 0:O.weekStartsOn)!==null&&T!==void 0?T:0);if(!(D>=0&&D<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(C==="")return V===""?Xe(n):new Date(NaN);var k={firstWeekContainsDate:I,weekStartsOn:D,locale:S},R=[new qU],$=C.match(b3).map(function(qe){var Te=qe[0];if(Te in Im){var Ge=Im[Te];return Ge(qe,S.formatLong)}return qe}).join("").match(k3),J=[],W=sT($),se;try{var j=function(){var Te=se.value;!(r!=null&&r.useAdditionalWeekYearTokens)&&NI(Te)&&Pd(Te,C,t),!(r!=null&&r.useAdditionalDayOfYearTokens)&&DI(Te)&&Pd(Te,C,t);var Ge=Te[0],Tt=x3[Ge];if(Tt){var ji=Tt.incompatibleTokens;if(Array.isArray(ji)){var Ds=J.find(function(Ns){return ji.includes(Ns.token)||Ns.token===Ge});if(Ds)throw new RangeError("The format string mustn't contain `".concat(Ds.fullToken,"` and `").concat(Te,"` at the same time"))}else if(Tt.incompatibleTokens==="*"&&J.length>0)throw new RangeError("The format string mustn't contain `".concat(Te,"` and any other token at the same time"));J.push({token:Ge,fullToken:Te});var Bi=Tt.run(V,Te,S.match,k);if(!Bi)return{v:new Date(NaN)};R.push(Bi.setter),V=Bi.rest}else{if(Ge.match(V3))throw new RangeError("Format string contains an unescaped latin alphabet character `"+Ge+"`");if(Te==="''"?Te="'":Ge==="'"&&(Te=L3(Te)),V.indexOf(Te)===0)V=V.slice(Te.length);else return{v:new Date(NaN)}}};for(W.s();!(se=W.n()).done;){var H=j();if(Dr(H)==="object")return H.v}}catch(qe){W.e(qe)}finally{W.f()}if(V.length>0&&O3.test(V))return new Date(NaN);var te=R.map(function(qe){return qe.priority}).sort(function(qe,Te){return Te-qe}).filter(function(qe,Te,Ge){return Ge.indexOf(qe)===Te}).map(function(qe){return R.filter(function(Te){return Te.priority===qe}).sort(function(Te,Ge){return Ge.subPriority-Te.subPriority})}).map(function(qe){return qe[0]}),Q=Xe(n);if(isNaN(Q.getTime()))return new Date(NaN);var Z=AI(Q,Ed(Q)),oe={},st=sT(te),zt;try{for(st.s();!(zt=st.n()).done;){var mt=zt.value;if(!mt.validate(Z,k))return new Date(NaN);var gt=mt.set(Z,oe,k);Array.isArray(gt)?(Z=gt[0],jU(oe,gt[1])):Z=gt}}catch(qe){st.e(qe)}finally{st.f()}return Z}function L3(t){return t.match(D3)[1].replace(N3,"'")}function Pe(t,e){var n;ke(1,arguments);var r=$t((n=e==null?void 0:e.additionalDigits)!==null&&n!==void 0?n:2);if(r!==2&&r!==1&&r!==0)throw new RangeError("additionalDigits must be 0, 1 or 2");if(!(typeof t=="string"||Object.prototype.toString.call(t)==="[object String]"))return new Date(NaN);var i=B3(t),s;if(i.date){var o=$3(i.date,r);s=z3(o.restDateString,o.year)}if(!s||isNaN(s.getTime()))return new Date(NaN);var a=s.getTime(),l=0,c;if(i.time&&(l=W3(i.time),isNaN(l)))return new Date(NaN);if(i.timezone){if(c=H3(i.timezone),isNaN(c))return new Date(NaN)}else{var d=new Date(a+l),h=new Date(0);return h.setFullYear(d.getUTCFullYear(),d.getUTCMonth(),d.getUTCDate()),h.setHours(d.getUTCHours(),d.getUTCMinutes(),d.getUTCSeconds(),d.getUTCMilliseconds()),h}return new Date(a+l+c)}var Ku={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},F3=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,U3=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,j3=/^([+-])(\d{2})(?::?(\d{2}))?$/;function B3(t){var e={},n=t.split(Ku.dateTimeDelimiter),r;if(n.length>2)return e;if(/:/.test(n[0])?r=n[0]:(e.date=n[0],r=n[1],Ku.timeZoneDelimiter.test(e.date)&&(e.date=t.split(Ku.timeZoneDelimiter)[0],r=t.substr(e.date.length,t.length))),r){var i=Ku.timezone.exec(r);i?(e.time=r.replace(i[1],""),e.timezone=i[1]):e.time=r}return e}function $3(t,e){var n=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+e)+"})|(\\d{2}|[+-]\\d{"+(2+e)+"})$)"),r=t.match(n);if(!r)return{year:NaN,restDateString:""};var i=r[1]?parseInt(r[1]):null,s=r[2]?parseInt(r[2]):null;return{year:s===null?i:s*100,restDateString:t.slice((r[1]||r[2]).length)}}function z3(t,e){if(e===null)return new Date(NaN);var n=t.match(F3);if(!n)return new Date(NaN);var r=!!n[4],i=Ia(n[1]),s=Ia(n[2])-1,o=Ia(n[3]),a=Ia(n[4]),l=Ia(n[5])-1;if(r)return Q3(e,a,l)?q3(e,a,l):new Date(NaN);var c=new Date(0);return!K3(e,s,o)||!Y3(e,i)?new Date(NaN):(c.setUTCFullYear(e,s,Math.max(i,o)),c)}function Ia(t){return t?parseInt(t):1}function W3(t){var e=t.match(U3);if(!e)return NaN;var n=jf(e[1]),r=jf(e[2]),i=jf(e[3]);return X3(n,r,i)?n*Ly+r*My+i*1e3:NaN}function jf(t){return t&&parseFloat(t.replace(",","."))||0}function H3(t){if(t==="Z")return 0;var e=t.match(j3);if(!e)return 0;var n=e[1]==="+"?-1:1,r=parseInt(e[2]),i=e[3]&&parseInt(e[3])||0;return J3(r,i)?n*(r*Ly+i*My):NaN}function q3(t,e,n){var r=new Date(0);r.setUTCFullYear(t,0,4);var i=r.getUTCDay()||7,s=(e-1)*7+n+1-i;return r.setUTCDate(r.getUTCDate()+s),r}var G3=[31,null,31,30,31,30,31,31,30,31,30,31];function BI(t){return t%400===0||t%4===0&&t%100!==0}function K3(t,e,n){return e>=0&&e<=11&&n>=1&&n<=(G3[e]||(BI(t)?29:28))}function Y3(t,e){return e>=1&&e<=(BI(t)?366:365)}function Q3(t,e,n){return e>=1&&e<=53&&n>=0&&n<=6}function X3(t,e,n){return t===24?e===0&&n===0:n>=0&&n<60&&e>=0&&e<60&&t>=0&&t<25}function J3(t,e){return e>=0&&e<=59}const $I=(t,e)=>{if(!t||!e)return 0;const n=rn(Pe(t)),r=rn(Pe(e));return M4(n,r)+1},Aa=t=>{if(t==null||t==="")return null;const e=parseFloat(String(t).replace(",","."));return isNaN(e)?null:e},Bf=(t,e)=>!t||!Array.isArray(t)||!e?[]:[...t].sort((r,i)=>{const s=r.timestamp?Pe(r.timestamp):r.iso_date?Pe(r.iso_date):0,o=i.timestamp?Pe(i.timestamp):i.iso_date?Pe(i.iso_date):0;return D4(s,o)}).map(r=>{const i=Aa(r.temperature_raw),s=Aa(r.temperature_corrected),o=l=>{if(!l)return null;const c=Aa(l.temperature),d=Aa(l.temperature_corrected);return l.use_corrected&&d!==null?d:c!==null?c:d!==null?d:null};let a=Aa(r.temperature_chart);if(a==null&&Array.isArray(r.measurements)){const c=r.measurements.find(d=>d&&d.selected&&o(d)!==null)||r.measurements.find(d=>o(d)!==null);c&&(a=o(c))}return a==null&&(r.use_corrected&&s!==null?a=s:i!==null?a=i:s!==null&&(a=s)),{...r,id:r.id,isoDate:r.iso_date||(r.timestamp?tn(Pe(r.timestamp),"yyyy-MM-dd"):null),date:r.timestamp?tn(Pe(r.timestamp),"dd/MM"):r.iso_date?tn(Pe(r.iso_date),"dd/MM"):"N/A",cycleDay:$I(r.iso_date||r.timestamp,e),temperature_raw:i,temperature_corrected:s,use_corrected:!!r.use_corrected,mucusSensation:r.mucus_sensation,mucusAppearance:r.mucus_appearance,fertility_symbol:r.fertility_symbol,observations:r.observations,ignored:r.ignored,measurements:r.measurements||[],temperature_chart:a,timestamp:r.timestamp}}),Z3=async t=>{const e=tt(ye,`users/${t}/cycles`),n=await Ut(e);if(n.empty)return null;const r=n.docs.map(l=>({id:l.id,...l.data()})).filter(l=>l.end_date===null||l.end_date===void 0).sort((l,c)=>(c.start_date||"").localeCompare(l.start_date||""));if(r.length>1&&console.warn(`Se detectaron ${r.length} ciclos abiertos. Se usará el más reciente.`),r.length===0)return null;const i=r[0],s=tt(ye,`users/${t}/cycles/${i.id}/entries`),o=await Ut(s),a=await Promise.all(o.docs.map(async l=>{let c=[];try{const d=tt(ye,`users/${t}/cycles/${i.id}/entries/${l.id}/measurements`);c=(await Ut(d)).docs.map(p=>({id:p.id,...p.data()}))}catch(d){console.error("Error fetching measurements for entry",l.id,d)}return{id:l.id,...l.data(),measurements:c}}));return{id:i.id,startDate:i.start_date,endDate:i.end_date,data:a}},e6=async(t,e)=>{const n=tt(ye,`users/${t}/cycles`),i=(await Ut(n)).docs.map(o=>({id:o.id,...o.data()})).filter(o=>o.end_date!==null&&o.end_date!==void 0||e&&o.start_date&&o.start_date<e).sort((o,a)=>(a.start_date||"").localeCompare(o.start_date||""));return await Promise.all(i.map(async o=>{const a=tt(ye,`users/${t}/cycles/${o.id}/entries`),l=await Ut(a),c=await Promise.all(l.docs.map(async d=>{let h=[];try{const p=tt(ye,`users/${t}/cycles/${o.id}/entries/${d.id}/measurements`);h=(await Ut(p)).docs.map(T=>({id:T.id,...T.data()}))}catch(p){console.error("Error fetching measurements for entry",d.id,p)}return{id:d.id,...d.data(),measurements:h}}));return{id:o.id,startDate:o.start_date,endDate:o.end_date,needsCompletion:!o.end_date,data:c}}))},t6=async(t,e)=>{const n=gn(ye,`users/${t}/cycles/${e}`),r=await wh(n);if(!r.exists())return null;const i=r.data(),s=tt(ye,`users/${t}/cycles/${e}/entries`),o=await Ut(s),a=await Promise.all(o.docs.map(async l=>{let c=[];try{const d=tt(ye,`users/${t}/cycles/${e}/entries/${l.id}/measurements`);c=(await Ut(d)).docs.map(p=>({id:p.id,...p.data()}))}catch(d){console.error("Error fetching measurements for entry",l.id,d)}return{id:l.id,...l.data(),measurements:c}}));return{id:e,startDate:i.start_date,endDate:i.end_date,data:a}},aT=async(t,e)=>{const n=tt(ye,`users/${t}/cycles`),r=await Ut(n),i=Pe(e);if(r.docs.some(a=>{const l=a.data(),c=l.start_date?Pe(l.start_date):null,d=l.end_date?Pe(l.end_date):null;return c&&i>=c&&(!d||i<=d)}))throw new Error("Cycle dates overlap with an existing cycle");return{id:(await io(tt(ye,`users/${t}/cycles`),{user_id:t,start_date:e,end_date:null})).id,start_date:e}},n6=async t=>{var d;const e=t.user_id,n=t.timestamp??new Date().toISOString(),r=(d=t.measurements)==null?void 0:d.find(h=>h.selected),i={timestamp:n,temperature_raw:(r==null?void 0:r.temperature)??null,temperature_corrected:(r==null?void 0:r.temperature_corrected)??null,use_corrected:!1,temperature_chart:r?r.temperature_corrected??r.temperature:null,mucus_sensation:t.mucus_sensation,mucus_appearance:t.mucus_appearance,fertility_symbol:t.fertility_symbol,observations:t.observations,ignored:t.ignored},s=tt(ye,`users/${e}/cycles`),o=await Ut(s),a=Pe(n),l=o.docs.filter(h=>{const p=h.data(),g=p.start_date?Pe(p.start_date):null,T=p.end_date?Pe(p.end_date):null;return g&&a>=g&&(!T||a<=T)});let c=null;if(l.length>1?c=l.sort((h,p)=>{const g=Pe(h.data().start_date);return Pe(p.data().start_date)-g})[0]:l.length===1&&(c=l[0]),c){const h=await io(tt(ye,`users/${e}/cycles/${c.id}/entries`),i);if(t.measurements&&t.measurements.length){const p=tt(ye,`users/${e}/cycles/${c.id}/entries/${h.id}/measurements`);for(const g of t.measurements)await io(p,g)}return{id:h.id}}if(t.cycle_id){const h=await io(tt(ye,`users/${e}/cycles/${t.cycle_id}/entries`),i);if(t.measurements&&t.measurements.length){const p=tt(ye,`users/${e}/cycles/${t.cycle_id}/entries/${h.id}/measurements`);for(const g of t.measurements)await io(p,g)}return{id:h.id}}return{id:null}},lT=async(t,e,n,r)=>{const i=gn(ye,`users/${t}/cycles/${e}/entries/${n}`),s=["temperature_raw","temperature_corrected","use_corrected","temperature_chart","mucus_sensation","mucus_appearance","fertility_symbol","observations","ignored"],o={};for(const a of s)Object.prototype.hasOwnProperty.call(r,a)&&(o[a]=r[a]);if(Object.prototype.hasOwnProperty.call(r,"timestamp")&&(o.timestamp=r.timestamp),Object.keys(o).length===0)return{id:n};if(await Ml(i,o),r.measurements){const a=tt(ye,`users/${t}/cycles/${e}/entries/${n}/measurements`),l=await Ut(a);await Promise.all(l.docs.map(c=>Lo(c.ref)));for(const c of r.measurements)await io(a,c)}return{id:n}},r6=async(t,e,n)=>{await Lo(gn(ye,`users/${t}/cycles/${e}/entries/${n}`))},i6=async(t,e,n)=>{const r=gn(ye,`users/${e}/cycles/${t}`);if(!(await wh(r)).exists())throw new Error("Cycle not found");await Ml(r,{end_date:n})},Ra=async(t,e,n,r,i=!1)=>{const s=gn(ye,`users/${e}/cycles/${t}`),o=await wh(s);if(!o.exists())throw new Error("Cycle not found");const a=o.data(),l=n??a.start_date,c=r!==void 0?r:a.end_date,d=l?Pe(l):null,h=c?Pe(c):null;if(d&&h&&h<d)throw new Error("End date cannot be earlier than start date");const p=tt(ye,`users/${e}/cycles`),T=(await Ut(p)).docs.find(A=>{if(A.id===t)return!1;const w=A.data(),y=w.start_date?Pe(w.start_date):null,_=w.end_date?Pe(w.end_date):null;if(!y)return!1;const b=_??new Date("9999-12-31"),O=h??new Date("9999-12-31");return d<=b&&y<=O});if(i){if(T){const A=T.data();return{overlap:{id:T.id,startDate:A.start_date,endDate:A.end_date}}}return{overlap:null}}if(T)throw new Error("Cycle dates overlap with an existing cycle");const E={};n!==void 0&&(E.start_date=n),r!==void 0&&(E.end_date=r),await Ml(s,E)},s6=async(t,e,n)=>{const r=tt(ye,`users/${t}/cycles`),i=await Ut(r),s=Pe(n),o=i.docs.find(l=>{if(l.id===e)return!1;const c=l.data(),d=c.start_date?Pe(c.start_date):null,h=c.end_date?Pe(c.end_date):null;return!d||!h?!1:h>=s});if(o){const l=gn(ye,`users/${t}/cycles/${o.id}`),c=tn(II(s,-1),"yyyy-MM-dd");await Ml(l,{end_date:c});const d=tt(ye,`users/${t}/cycles/${o.id}/entries`),h=await Ut(d);await Promise.all(h.docs.map(async p=>{const g=p.data(),T=g.timestamp?Pe(g.timestamp):null;if(T&&T>=s){const E={...g,cycle_day:$I(tn(T,"yyyy-MM-dd"),n)},A=gn(ye,`users/${t}/cycles/${e}/entries/${p.id}`);await Em(A,E);const w=tt(ye,`users/${t}/cycles/${o.id}/entries/${p.id}/measurements`),y=await Ut(w);await Promise.all(y.docs.map(async _=>{const b=gn(ye,`users/${t}/cycles/${e}/entries/${p.id}/measurements/${_.id}`);await Em(b,_.data()),await Lo(_.ref)})),await Lo(p.ref)}}))}const a=gn(ye,`users/${t}/cycles/${e}`);await Ml(a,{start_date:n})},o6=async(t,e)=>{const n=tt(ye,`users/${t}/cycles/${e}/entries`),r=await Ut(n);await Promise.all(r.docs.map(i=>Lo(i.ref))),await Lo(gn(ye,`users/${t}/cycles/${e}`))},zI=x.createContext(null),Yu={id:null,startDate:null,endDate:null,data:[]},$f=(t,e)=>{if(!e)return t;const n=rn(Pe(e));return t.filter(r=>Pe(r.isoDate)<=n)},zf=(t,e)=>{if(!e)return t;const n=rn(Pe(e));return t.filter(r=>Pe(r.isoDate)>=n)},uT=t=>{if(t==null||t==="")return null;const e=parseFloat(String(t).replace(",","."));return isNaN(e)?null:e},js=t=>t?typeof t=="string"?tn(rn(Pe(t)),"yyyy-MM-dd"):typeof t.toDate=="function"?tn(rn(t.toDate()),"yyyy-MM-dd"):tn(rn(new Date(t)),"yyyy-MM-dd"):null,a6=({children:t})=>{const{user:e}=Vy(),{toast:n}=Oy(),[r,i]=x.useState(Yu),[s,o]=x.useState([]),[a,l]=x.useState(!0),c=x.useRef(!1),d=x.useCallback(()=>{i(Yu),o([]),l(!1),c.current=!1},[]),h=x.useCallback(async({silent:v=!1}={})=>{if(!(e!=null&&e.uid)){d();return}const S=!v&&!c.current;S&&l(!0);try{const I=await Z3(e.uid);if(I){const k=js(I.startDate),R=js(I.endDate),$=Bf(I.data,k),J=zf($,k),W=$f(J,R);i({...I,startDate:k,endDate:R,data:W})}else i(Yu);const D=await e6(e.uid,I?I.startDate:null);o(D.map(k=>{const R=js(k.startDate),$=js(k.endDate),J=Bf(k.data||[],R),W=zf(J,R),se=$f(W,$);return{...k,startDate:R??tn(rn(new Date),"yyyy-MM-dd"),endDate:$,needsCompletion:k.needsCompletion,data:se}})),c.current=!0}catch(I){console.error("Error in loadCycleData:",I),I.code==="permission-denied"&&console.error("Firebase permissions error. Check Firestore rules."),i(Yu),o([])}finally{S&&l(!1)}},[e,d]);x.useEffect(()=>{if(!(e!=null&&e.uid)){d();return}h().catch(v=>console.error("Initial cycle data load failed:",v))},[e==null?void 0:e.uid,h,d]);const p=x.useCallback(async(v,S,I=null)=>{const D=I??r.id;if(!(e!=null&&e.uid)||!D)throw console.error("User or cycle id is missing"),new Error("User or cycle id is missing");l(!0);try{const k=v.measurements.find(Z=>Z.selected)||v.measurements[0],R=k&&k.time&&k.time.trim()!==""?k.time:tn(new Date,"HH:mm"),$=M3(`${v.isoDate} ${R}`,"yyyy-MM-dd HH:mm",new Date),J=D===r.id?r:s.find(Z=>Z.id===D);let W=S;!W&&J&&(W=J.data.find(Z=>Z.isoDate===v.isoDate));const se=uT(k.temperature),j=uT(k.temperature_corrected),H=!!k.use_corrected&&j!==null,te=H?j:se,Q={cycle_id:D,user_id:e.uid,timestamp:tn($,"yyyy-MM-dd'T'HH:mm:ssXXX"),measurements:v.measurements,mucus_sensation:v.mucusSensation||null,mucus_appearance:v.mucusAppearance||null,fertility_symbol:v.fertility_symbol==="none"?null:v.fertility_symbol,observations:v.observations||null,ignored:W?v.ignored??W.ignored:v.ignored||!1,temperature_raw:se,temperature_corrected:j,use_corrected:H,temperature_chart:te};W?await lT(e.uid,D,W.id,Q):await n6(Q),await h({silent:!0})}catch(k){throw console.error("Error adding/updating data point:",k),k}finally{l(!1)}},[e,r,s,h]),g=x.useCallback(async(v,S=null)=>{const I=S??r.id;if(!(!(e!=null&&e.uid)||!I)){l(!0);try{await r6(e.uid,I,v),await h({silent:!0})}catch(D){throw console.error("Error deleting record:",D),D}finally{l(!1)}}},[e,r.id,h]),T=x.useCallback(async(v,S)=>{var J;if(!(e!=null&&e.uid))return;const I=v===r.id,D=I?r:s.find(W=>W.id===v);if(!D)throw new Error("Cycle not found for toggling ignore state.");const k=(J=D.data)==null?void 0:J.find(W=>W.id===S);if(!k)throw new Error("Record not found for toggling ignore state.");const R=!k.ignored,$=W=>{I?i(se=>se.id!==v?se:{...se,data:se.data.map(j=>j.id===S?{...j,ignored:W}:j)}):o(se=>se.map(j=>j.id!==v?j:{...j,data:(j.data||[]).map(H=>H.id===S?{...H,ignored:W}:H)}))};try{$(R),await lT(e.uid,v,S,{ignored:R}),h({silent:!0}).catch(W=>console.error("Background cycle data refresh failed after toggling ignore state:",W))}catch(W){throw console.error("Error toggling ignore state:",W),$(!R),W}},[e,r,s,h]),E=x.useCallback(async v=>{if(e!=null&&e.uid){l(!0);try{const S=rn(v?Pe(v):new Date);if(r.id&&v){const k=rn(Pe(r.startDate));if(S<=k){n({title:"Fecha inválida",description:"La fecha de inicio del nuevo ciclo debe ser posterior al inicio del ciclo actual.",variant:"destructive"}),l(!1);return}}if(r.id){const k=tn(II(S,-1),"yyyy-MM-dd");await i6(r.id,e.uid,k)}const I=tn(S,"yyyy-MM-dd"),D=await aT(e.uid,I);i({id:D.id,startDate:D.start_date,endDate:null,data:[]}),await h({silent:!0})}catch(S){console.error("Error starting new cycle:",S);try{r.id&&await Ra(r.id,e.uid,void 0,null)}catch(I){console.error("Rollback failed:",I)}throw n({title:"Error",description:"No se pudo iniciar el nuevo ciclo.",variant:"destructive"}),S}finally{l(!1)}}},[e,r,h,n]),A=x.useCallback(async(v,S)=>{if(e!=null&&e.uid){if(!S){n({title:"Error",description:"La fecha de fin es obligatoria.",variant:"destructive"});return}l(!0);try{const I=await aT(e.uid,v);await Ra(I.id,e.uid,void 0,S),await h({silent:!0})}catch(I){console.error("Error adding archived cycle:",I);const D=I.message&&I.message.includes("overlap")?"Las fechas coinciden con otro ciclo.":"No se pudo crear el ciclo.";throw n({title:"Error",description:D,variant:"destructive"}),I}finally{l(!1)}}},[e,h,n]),w=x.useCallback(async v=>{if(e!=null&&e.uid){l(!0);try{await o6(e.uid,v),await h({silent:!0})}catch(S){throw console.error("Error deleting cycle:",S),n({title:"Error",description:"No se pudo eliminar el ciclo.",variant:"destructive"}),S}finally{l(!1)}}},[e,h,n]),y=x.useCallback(async(v,S)=>{if(!(e!=null&&e.uid))return null;try{return(await Ra(v,e.uid,S,void 0,!0)).overlap}catch(I){return console.error("Error checking cycle overlap:",I),null}},[e]),_=x.useCallback(async(v,S,I,D=!1)=>{if(e!=null&&e.uid){l(!0);try{D&&S?(await s6(e.uid,v,S),I!==void 0&&await Ra(v,e.uid,void 0,I)):await Ra(v,e.uid,S,I),await h({silent:!0})}catch(k){console.error("Error updating cycle dates:",k);const R=k.message&&k.message.includes("overlap")?"Las fechas coinciden con otro ciclo.":"No se pudieron actualizar las fechas.";throw n({title:"Error",description:R,variant:"destructive"}),k}finally{l(!1)}}},[e,h,n]),b=x.useCallback((v,S)=>_(v,S,void 0,!0),[_]),O=x.useCallback(async v=>{if(!(e!=null&&e.uid))return null;l(!0);try{const S=await t6(e.uid,v);if(!S)return null;const I=js(S.startDate),D=js(S.endDate),k=Bf(S.data||[],I),R=zf(k,I),$=$f(R,D);return{...S,startDate:I??tn(rn(new Date),"yyyy-MM-dd"),endDate:D,data:$}}catch(S){return console.error("Error fetching cycle by ID:",S),null}finally{l(!1)}},[e]),V=x.useCallback(({silent:v=!0}={})=>h({silent:v}),[h]),C={currentCycle:r,archivedCycles:s,addOrUpdateDataPoint:p,deleteRecord:g,startNewCycle:E,updateCycleDates:_,forceUpdateCycleStart:b,checkCycleOverlap:y,isLoading:a,getCycleById:O,refreshData:V,toggleIgnoreRecord:T,addArchivedCycle:A,deleteCycle:w};return L.jsx(zI.Provider,{value:C,children:t})},pz=()=>{const t=x.useContext(zI);if(!t)throw new Error("useCycleDataContext must be used within a CycleDataProvider");return t};var l6={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const u6=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),ta=(t,e)=>{const n=x.forwardRef(({color:r="currentColor",size:i=24,strokeWidth:s=2,absoluteStrokeWidth:o,children:a,...l},c)=>x.createElement("svg",{ref:c,...l6,width:i,height:i,stroke:r,strokeWidth:o?Number(s)*24/Number(i):s,className:`lucide lucide-${u6(t)}`,...l},[...e.map(([d,h])=>x.createElement(d,h)),...(Array.isArray(a)?a:[a])||[]]));return n.displayName=`${t}`,n},c6=ta("Archive",[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]]),d6=ta("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]),h6=ta("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]),f6=ta("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]),p6=ta("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),m6=ta("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),g6=()=>{const t=[{to:"/records",label:"Mis registros",icon:h6},{to:"/chart",label:"Gráfica",icon:d6},{to:"/",label:"Ciclo actual",icon:f6},{to:"/archived-cycles",label:"Mis ciclos",icon:c6},{to:"/settings",label:"Cuenta",icon:p6}];return L.jsx("nav",{className:"fixed bottom-0 left-0 right-0 bg-white border-t border-gray-100 z-50 pb-[env(safe-area-inset-bottom)] h-[var(--bottom-nav-height)]",children:L.jsx("ul",{className:"flex justify-around items-center max-w-md mx-auto",children:t.map(({to:e,label:n,icon:r})=>L.jsx("li",{children:L.jsxs(eN,{to:e,className:({isActive:i})=>`flex flex-col items-center py-2 px-3 rounded-lg transition-colors duration-200 ${i?"text-pink-600":"text-gray-400 hover:text-gray-600"}`,children:[L.jsx(r,{className:"h-5 w-5"}),L.jsx("span",{className:"text-xs mt-1",children:n})]})},e))})})},xa=({children:t,hideBottomNav:e=!1})=>{const n=e?"flex-grow w-full pt-0 min-h-[100dvh]":"flex-grow w-full pt-0 pb-[var(--bottom-nav-safe)] min-h-[calc(100dvh-var(--bottom-nav-safe))]";return L.jsxs("div",{className:"min-h-[100dvh] flex flex-col",children:[L.jsx("main",{className:n,children:t}),!e&&L.jsx(g6,{})]})};function WI(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=WI(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function HI(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=WI(t))&&(r&&(r+=" "),r+=e);return r}function y6(){for(var t=0,e,n,r="";t<arguments.length;)(e=arguments[t++])&&(n=qI(e))&&(r&&(r+=" "),r+=n);return r}function qI(t){if(typeof t=="string")return t;for(var e,n="",r=0;r<t.length;r++)t[r]&&(e=qI(t[r]))&&(n&&(n+=" "),n+=e);return n}var By="-";function v6(t){var e=_6(t),n=t.conflictingClassGroups,r=t.conflictingClassGroupModifiers,i=r===void 0?{}:r;function s(a){var l=a.split(By);return l[0]===""&&l.length!==1&&l.shift(),GI(l,e)||w6(a)}function o(a,l){var c=n[a]||[];return l&&i[a]?[].concat(c,i[a]):c}return{getClassGroupId:s,getConflictingClassGroupIds:o}}function GI(t,e){var o;if(t.length===0)return e.classGroupId;var n=t[0],r=e.nextPart.get(n),i=r?GI(t.slice(1),r):void 0;if(i)return i;if(e.validators.length!==0){var s=t.join(By);return(o=e.validators.find(function(a){var l=a.validator;return l(s)}))==null?void 0:o.classGroupId}}var cT=/^\[(.+)\]$/;function w6(t){if(cT.test(t)){var e=cT.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}}function _6(t){var e=t.theme,n=t.prefix,r={nextPart:new Map,validators:[]},i=E6(Object.entries(t.classGroups),n);return i.forEach(function(s){var o=s[0],a=s[1];Rm(a,r,o,e)}),r}function Rm(t,e,n,r){t.forEach(function(i){if(typeof i=="string"){var s=i===""?e:dT(e,i);s.classGroupId=n;return}if(typeof i=="function"){if(T6(i)){Rm(i(r),e,n,r);return}e.validators.push({validator:i,classGroupId:n});return}Object.entries(i).forEach(function(o){var a=o[0],l=o[1];Rm(l,dT(e,a),n,r)})})}function dT(t,e){var n=t;return e.split(By).forEach(function(r){n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n}function T6(t){return t.isThemeGetter}function E6(t,e){return e?t.map(function(n){var r=n[0],i=n[1],s=i.map(function(o){return typeof o=="string"?e+o:typeof o=="object"?Object.fromEntries(Object.entries(o).map(function(a){var l=a[0],c=a[1];return[e+l,c]})):o});return[r,s]}):t}function P6(t){if(t<1)return{get:function(){},set:function(){}};var e=0,n=new Map,r=new Map;function i(s,o){n.set(s,o),e++,e>t&&(e=0,r=n,n=new Map)}return{get:function(o){var a=n.get(o);if(a!==void 0)return a;if((a=r.get(o))!==void 0)return i(o,a),a},set:function(o,a){n.has(o)?n.set(o,a):i(o,a)}}}var KI="!";function S6(t){var e=t.separator||":",n=e.length===1,r=e[0],i=e.length;return function(o){for(var a=[],l=0,c=0,d,h=0;h<o.length;h++){var p=o[h];if(l===0){if(p===r&&(n||o.slice(h,h+i)===e)){a.push(o.slice(c,h)),c=h+i;continue}if(p==="/"){d=h;continue}}p==="["?l++:p==="]"&&l--}var g=a.length===0?o:o.substring(c),T=g.startsWith(KI),E=T?g.substring(1):g,A=d&&d>c?d-c:void 0;return{modifiers:a,hasImportantModifier:T,baseClassName:E,maybePostfixModifierPosition:A}}}function C6(t){if(t.length<=1)return t;var e=[],n=[];return t.forEach(function(r){var i=r[0]==="[";i?(e.push.apply(e,n.sort().concat([r])),n=[]):n.push(r)}),e.push.apply(e,n.sort()),e}function I6(t){return{cache:P6(t.cacheSize),splitModifiers:S6(t),...v6(t)}}var A6=/\s+/;function R6(t,e){var n=e.splitModifiers,r=e.getClassGroupId,i=e.getConflictingClassGroupIds,s=new Set;return t.trim().split(A6).map(function(o){var a=n(o),l=a.modifiers,c=a.hasImportantModifier,d=a.baseClassName,h=a.maybePostfixModifierPosition,p=r(h?d.substring(0,h):d),g=!!h;if(!p){if(!h)return{isTailwindClass:!1,originalClassName:o};if(p=r(d),!p)return{isTailwindClass:!1,originalClassName:o};g=!1}var T=C6(l).join(":"),E=c?T+KI:T;return{isTailwindClass:!0,modifierId:E,classGroupId:p,originalClassName:o,hasPostfixModifier:g}}).reverse().filter(function(o){if(!o.isTailwindClass)return!0;var a=o.modifierId,l=o.classGroupId,c=o.hasPostfixModifier,d=a+l;return s.has(d)?!1:(s.add(d),i(l,c).forEach(function(h){return s.add(a+h)}),!0)}).reverse().map(function(o){return o.originalClassName}).join(" ")}function x6(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r,i,s,o=a;function a(c){var d=e[0],h=e.slice(1),p=h.reduce(function(g,T){return T(g)},d());return r=I6(p),i=r.cache.get,s=r.cache.set,o=l,l(c)}function l(c){var d=i(c);if(d)return d;var h=R6(c,r);return s(c,h),h}return function(){return o(y6.apply(null,arguments))}}function De(t){var e=function(r){return r[t]||[]};return e.isThemeGetter=!0,e}var YI=/^\[(?:([a-z-]+):)?(.+)\]$/i,k6=/^\d+\/\d+$/,b6=new Set(["px","full","screen"]),D6=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,N6=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,O6=/^-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/;function On(t){return rs(t)||b6.has(t)||k6.test(t)||xm(t)}function xm(t){return Rs(t,"length",j6)}function V6(t){return Rs(t,"size",QI)}function M6(t){return Rs(t,"position",QI)}function L6(t){return Rs(t,"url",B6)}function Qu(t){return Rs(t,"number",rs)}function rs(t){return!Number.isNaN(Number(t))}function F6(t){return t.endsWith("%")&&rs(t.slice(0,-1))}function ka(t){return hT(t)||Rs(t,"number",hT)}function ce(t){return YI.test(t)}function ba(){return!0}function Hr(t){return D6.test(t)}function U6(t){return Rs(t,"",$6)}function Rs(t,e,n){var r=YI.exec(t);return r?r[1]?r[1]===e:n(r[2]):!1}function j6(t){return N6.test(t)}function QI(){return!1}function B6(t){return t.startsWith("url(")}function hT(t){return Number.isInteger(Number(t))}function $6(t){return O6.test(t)}function z6(){var t=De("colors"),e=De("spacing"),n=De("blur"),r=De("brightness"),i=De("borderColor"),s=De("borderRadius"),o=De("borderSpacing"),a=De("borderWidth"),l=De("contrast"),c=De("grayscale"),d=De("hueRotate"),h=De("invert"),p=De("gap"),g=De("gradientColorStops"),T=De("gradientColorStopPositions"),E=De("inset"),A=De("margin"),w=De("opacity"),y=De("padding"),_=De("saturate"),b=De("scale"),O=De("sepia"),V=De("skew"),C=De("space"),v=De("translate"),S=function(){return["auto","contain","none"]},I=function(){return["auto","hidden","clip","visible","scroll"]},D=function(){return["auto",ce,e]},k=function(){return[ce,e]},R=function(){return["",On]},$=function(){return["auto",rs,ce]},J=function(){return["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"]},W=function(){return["solid","dashed","dotted","double","none"]},se=function(){return["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity","plus-lighter"]},j=function(){return["start","end","center","between","around","evenly","stretch"]},H=function(){return["","0",ce]},te=function(){return["auto","avoid","all","avoid-page","page","left","right","column"]},Q=function(){return[rs,Qu]},Z=function(){return[rs,ce]};return{cacheSize:500,theme:{colors:[ba],spacing:[On],blur:["none","",Hr,ce],brightness:Q(),borderColor:[t],borderRadius:["none","","full",Hr,ce],borderSpacing:k(),borderWidth:R(),contrast:Q(),grayscale:H(),hueRotate:Z(),invert:H(),gap:k(),gradientColorStops:[t],gradientColorStopPositions:[F6,xm],inset:D(),margin:D(),opacity:Q(),padding:k(),saturate:Q(),scale:Q(),sepia:H(),skew:Z(),space:k(),translate:k()},classGroups:{aspect:[{aspect:["auto","square","video",ce]}],container:["container"],columns:[{columns:[Hr]}],"break-after":[{"break-after":te()}],"break-before":[{"break-before":te()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none"]}],clear:[{clear:["left","right","both","none"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[].concat(J(),[ce])}],overflow:[{overflow:I()}],"overflow-x":[{"overflow-x":I()}],"overflow-y":[{"overflow-y":I()}],overscroll:[{overscroll:S()}],"overscroll-x":[{"overscroll-x":S()}],"overscroll-y":[{"overscroll-y":S()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[E]}],"inset-x":[{"inset-x":[E]}],"inset-y":[{"inset-y":[E]}],start:[{start:[E]}],end:[{end:[E]}],top:[{top:[E]}],right:[{right:[E]}],bottom:[{bottom:[E]}],left:[{left:[E]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",ka]}],basis:[{basis:D()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",ce]}],grow:[{grow:H()}],shrink:[{shrink:H()}],order:[{order:["first","last","none",ka]}],"grid-cols":[{"grid-cols":[ba]}],"col-start-end":[{col:["auto",{span:["full",ka]},ce]}],"col-start":[{"col-start":$()}],"col-end":[{"col-end":$()}],"grid-rows":[{"grid-rows":[ba]}],"row-start-end":[{row:["auto",{span:[ka]},ce]}],"row-start":[{"row-start":$()}],"row-end":[{"row-end":$()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",ce]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",ce]}],gap:[{gap:[p]}],"gap-x":[{"gap-x":[p]}],"gap-y":[{"gap-y":[p]}],"justify-content":[{justify:["normal"].concat(j())}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal"].concat(j(),["baseline"])}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[].concat(j(),["baseline"])}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[y]}],px:[{px:[y]}],py:[{py:[y]}],ps:[{ps:[y]}],pe:[{pe:[y]}],pt:[{pt:[y]}],pr:[{pr:[y]}],pb:[{pb:[y]}],pl:[{pl:[y]}],m:[{m:[A]}],mx:[{mx:[A]}],my:[{my:[A]}],ms:[{ms:[A]}],me:[{me:[A]}],mt:[{mt:[A]}],mr:[{mr:[A]}],mb:[{mb:[A]}],ml:[{ml:[A]}],"space-x":[{"space-x":[C]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[C]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit",ce,e]}],"min-w":[{"min-w":["min","max","fit",ce,On]}],"max-w":[{"max-w":["0","none","full","min","max","fit","prose",{screen:[Hr]},Hr,ce]}],h:[{h:[ce,e,"auto","min","max","fit"]}],"min-h":[{"min-h":["min","max","fit",ce,On]}],"max-h":[{"max-h":[ce,e,"min","max","fit"]}],"font-size":[{text:["base",Hr,xm]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Qu]}],"font-family":[{font:[ba]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",ce]}],"line-clamp":[{"line-clamp":["none",rs,Qu]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",ce,On]}],"list-image":[{"list-image":["none",ce]}],"list-style-type":[{list:["none","disc","decimal",ce]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[w]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[w]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[].concat(W(),["wavy"])}],"text-decoration-thickness":[{decoration:["auto","from-font",On]}],"underline-offset":[{"underline-offset":["auto",ce,On]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],indent:[{indent:k()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ce]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ce]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[w]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[].concat(J(),[M6])}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",V6]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},L6]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[T]}],"gradient-via-pos":[{via:[T]}],"gradient-to-pos":[{to:[T]}],"gradient-from":[{from:[g]}],"gradient-via":[{via:[g]}],"gradient-to":[{to:[g]}],rounded:[{rounded:[s]}],"rounded-s":[{"rounded-s":[s]}],"rounded-e":[{"rounded-e":[s]}],"rounded-t":[{"rounded-t":[s]}],"rounded-r":[{"rounded-r":[s]}],"rounded-b":[{"rounded-b":[s]}],"rounded-l":[{"rounded-l":[s]}],"rounded-ss":[{"rounded-ss":[s]}],"rounded-se":[{"rounded-se":[s]}],"rounded-ee":[{"rounded-ee":[s]}],"rounded-es":[{"rounded-es":[s]}],"rounded-tl":[{"rounded-tl":[s]}],"rounded-tr":[{"rounded-tr":[s]}],"rounded-br":[{"rounded-br":[s]}],"rounded-bl":[{"rounded-bl":[s]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[w]}],"border-style":[{border:[].concat(W(),["hidden"])}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[w]}],"divide-style":[{divide:W()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:[""].concat(W())}],"outline-offset":[{"outline-offset":[ce,On]}],"outline-w":[{outline:[On]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:R()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[w]}],"ring-offset-w":[{"ring-offset":[On]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",Hr,U6]}],"shadow-color":[{shadow:[ba]}],opacity:[{opacity:[w]}],"mix-blend":[{"mix-blend":se()}],"bg-blend":[{"bg-blend":se()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",Hr,ce]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[h]}],saturate:[{saturate:[_]}],sepia:[{sepia:[O]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[h]}],"backdrop-opacity":[{"backdrop-opacity":[w]}],"backdrop-saturate":[{"backdrop-saturate":[_]}],"backdrop-sepia":[{"backdrop-sepia":[O]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",ce]}],duration:[{duration:Z()}],ease:[{ease:["linear","in","out","in-out",ce]}],delay:[{delay:Z()}],animate:[{animate:["none","spin","ping","pulse","bounce",ce]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[b]}],"scale-x":[{"scale-x":[b]}],"scale-y":[{"scale-y":[b]}],rotate:[{rotate:[ka,ce]}],"translate-x":[{"translate-x":[v]}],"translate-y":[{"translate-y":[v]}],"skew-x":[{"skew-x":[V]}],"skew-y":[{"skew-y":[V]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",ce]}],accent:[{accent:["auto",t]}],appearance:["appearance-none"],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ce]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":k()}],"scroll-mx":[{"scroll-mx":k()}],"scroll-my":[{"scroll-my":k()}],"scroll-ms":[{"scroll-ms":k()}],"scroll-me":[{"scroll-me":k()}],"scroll-mt":[{"scroll-mt":k()}],"scroll-mr":[{"scroll-mr":k()}],"scroll-mb":[{"scroll-mb":k()}],"scroll-ml":[{"scroll-ml":k()}],"scroll-p":[{"scroll-p":k()}],"scroll-px":[{"scroll-px":k()}],"scroll-py":[{"scroll-py":k()}],"scroll-ps":[{"scroll-ps":k()}],"scroll-pe":[{"scroll-pe":k()}],"scroll-pt":[{"scroll-pt":k()}],"scroll-pr":[{"scroll-pr":k()}],"scroll-pb":[{"scroll-pb":k()}],"scroll-pl":[{"scroll-pl":k()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","pinch-zoom","manipulation",{pan:["x","left","right","y","up","down"]}]}],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ce]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[On,Qu]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}}var W6=x6(z6);function xs(...t){return W6(HI(t))}function fn(t,e,{checkForDefaultPrevented:n=!0}={}){return function(i){if(t==null||t(i),n===!1||!i.defaultPrevented)return e==null?void 0:e(i)}}function fT(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function H6(...t){return e=>{let n=!1;const r=t.map(i=>{const s=fT(i,e);return!n&&typeof s=="function"&&(n=!0),s});if(n)return()=>{for(let i=0;i<r.length;i++){const s=r[i];typeof s=="function"?s():fT(t[i],null)}}}}function ki(...t){return x.useCallback(H6(...t),t)}function mz(t,e){const n=x.createContext(e),r=s=>{const{children:o,...a}=s,l=x.useMemo(()=>a,Object.values(a));return L.jsx(n.Provider,{value:l,children:o})};r.displayName=t+"Provider";function i(s){const o=x.useContext(n);if(o)return o;if(e!==void 0)return e;throw new Error(`\`${s}\` must be used within \`${t}\``)}return[r,i]}function XI(t,e=[]){let n=[];function r(s,o){const a=x.createContext(o),l=n.length;n=[...n,o];const c=h=>{var w;const{scope:p,children:g,...T}=h,E=((w=p==null?void 0:p[t])==null?void 0:w[l])||a,A=x.useMemo(()=>T,Object.values(T));return L.jsx(E.Provider,{value:A,children:g})};c.displayName=s+"Provider";function d(h,p){var E;const g=((E=p==null?void 0:p[t])==null?void 0:E[l])||a,T=x.useContext(g);if(T)return T;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${s}\``)}return[c,d]}const i=()=>{const s=n.map(o=>x.createContext(o));return function(a){const l=(a==null?void 0:a[t])||s;return x.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return i.scopeName=t,[r,q6(i,...e)]}function q6(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const o=r.reduce((a,{useScope:l,scopeName:c})=>{const h=l(s)[`__scope${c}`];return{...a,...h}},{});return x.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}function Id(t){const e=K6(t),n=x.forwardRef((r,i)=>{const{children:s,...o}=r,a=x.Children.toArray(s),l=a.find(Q6);if(l){const c=l.props.children,d=a.map(h=>h===l?x.Children.count(c)>1?x.Children.only(null):x.isValidElement(c)?c.props.children:null:h);return L.jsx(e,{...o,ref:i,children:x.isValidElement(c)?x.cloneElement(c,void 0,d):null})}return L.jsx(e,{...o,ref:i,children:s})});return n.displayName=`${t}.Slot`,n}var G6=Id("Slot");function K6(t){const e=x.forwardRef((n,r)=>{const{children:i,...s}=n,o=x.isValidElement(i)?J6(i):void 0,a=ki(o,r);if(x.isValidElement(i)){const l=X6(s,i.props);return i.type!==x.Fragment&&(l.ref=a),x.cloneElement(i,l)}return x.Children.count(i)>1?x.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var Y6=Symbol("radix.slottable");function Q6(t){return x.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===Y6}function X6(t,e){const n={...e};for(const r in e){const i=t[r],s=e[r];/^on[A-Z]/.test(r)?i&&s?n[r]=(...a)=>{const l=s(...a);return i(...a),l}:i&&(n[r]=i):r==="style"?n[r]={...i,...s}:r==="className"&&(n[r]=[i,s].filter(Boolean).join(" "))}return{...t,...n}}function J6(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function Z6(t){const e=t+"CollectionProvider",[n,r]=XI(e),[i,s]=n(e,{collectionRef:{current:null},itemMap:new Map}),o=E=>{const{scope:A,children:w}=E,y=wt.useRef(null),_=wt.useRef(new Map).current;return L.jsx(i,{scope:A,itemMap:_,collectionRef:y,children:w})};o.displayName=e;const a=t+"CollectionSlot",l=Id(a),c=wt.forwardRef((E,A)=>{const{scope:w,children:y}=E,_=s(a,w),b=ki(A,_.collectionRef);return L.jsx(l,{ref:b,children:y})});c.displayName=a;const d=t+"CollectionItemSlot",h="data-radix-collection-item",p=Id(d),g=wt.forwardRef((E,A)=>{const{scope:w,children:y,..._}=E,b=wt.useRef(null),O=ki(A,b),V=s(d,w);return wt.useEffect(()=>(V.itemMap.set(b,{ref:b,..._}),()=>void V.itemMap.delete(b))),L.jsx(p,{[h]:"",ref:O,children:y})});g.displayName=d;function T(E){const A=s(t+"CollectionConsumer",E);return wt.useCallback(()=>{const y=A.collectionRef.current;if(!y)return[];const _=Array.from(y.querySelectorAll(`[${h}]`));return Array.from(A.itemMap.values()).sort((V,C)=>_.indexOf(V.ref.current)-_.indexOf(C.ref.current))},[A.collectionRef,A.itemMap])}return[{Provider:o,Slot:c,ItemSlot:g},T,r]}var ej=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],ur=ej.reduce((t,e)=>{const n=Id(`Primitive.${e}`),r=x.forwardRef((i,s)=>{const{asChild:o,...a}=i,l=o?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),L.jsx(l,{...a,ref:s})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function JI(t,e){t&&Xd.flushSync(()=>t.dispatchEvent(e))}function Ts(t){const e=x.useRef(t);return x.useEffect(()=>{e.current=t}),x.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function tj(t,e=globalThis==null?void 0:globalThis.document){const n=Ts(t);x.useEffect(()=>{const r=i=>{i.key==="Escape"&&n(i)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var nj="DismissableLayer",km="dismissableLayer.update",rj="dismissableLayer.pointerDownOutside",ij="dismissableLayer.focusOutside",pT,ZI=x.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),eA=x.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:s,onInteractOutside:o,onDismiss:a,...l}=t,c=x.useContext(ZI),[d,h]=x.useState(null),p=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,g]=x.useState({}),T=ki(e,C=>h(C)),E=Array.from(c.layers),[A]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),w=E.indexOf(A),y=d?E.indexOf(d):-1,_=c.layersWithOutsidePointerEventsDisabled.size>0,b=y>=w,O=oj(C=>{const v=C.target,S=[...c.branches].some(I=>I.contains(v));!b||S||(i==null||i(C),o==null||o(C),C.defaultPrevented||a==null||a())},p),V=aj(C=>{const v=C.target;[...c.branches].some(I=>I.contains(v))||(s==null||s(C),o==null||o(C),C.defaultPrevented||a==null||a())},p);return tj(C=>{y===c.layers.size-1&&(r==null||r(C),!C.defaultPrevented&&a&&(C.preventDefault(),a()))},p),x.useEffect(()=>{if(d)return n&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(pT=p.body.style.pointerEvents,p.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(d)),c.layers.add(d),mT(),()=>{n&&c.layersWithOutsidePointerEventsDisabled.size===1&&(p.body.style.pointerEvents=pT)}},[d,p,n,c]),x.useEffect(()=>()=>{d&&(c.layers.delete(d),c.layersWithOutsidePointerEventsDisabled.delete(d),mT())},[d,c]),x.useEffect(()=>{const C=()=>g({});return document.addEventListener(km,C),()=>document.removeEventListener(km,C)},[]),L.jsx(ur.div,{...l,ref:T,style:{pointerEvents:_?b?"auto":"none":void 0,...t.style},onFocusCapture:fn(t.onFocusCapture,V.onFocusCapture),onBlurCapture:fn(t.onBlurCapture,V.onBlurCapture),onPointerDownCapture:fn(t.onPointerDownCapture,O.onPointerDownCapture)})});eA.displayName=nj;var sj="DismissableLayerBranch",tA=x.forwardRef((t,e)=>{const n=x.useContext(ZI),r=x.useRef(null),i=ki(e,r);return x.useEffect(()=>{const s=r.current;if(s)return n.branches.add(s),()=>{n.branches.delete(s)}},[n.branches]),L.jsx(ur.div,{...t,ref:i})});tA.displayName=sj;function oj(t,e=globalThis==null?void 0:globalThis.document){const n=Ts(t),r=x.useRef(!1),i=x.useRef(()=>{});return x.useEffect(()=>{const s=a=>{if(a.target&&!r.current){let l=function(){nA(rj,n,c,{discrete:!0})};const c={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=l,e.addEventListener("click",i.current,{once:!0})):l()}else e.removeEventListener("click",i.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",s),e.removeEventListener("click",i.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function aj(t,e=globalThis==null?void 0:globalThis.document){const n=Ts(t),r=x.useRef(!1);return x.useEffect(()=>{const i=s=>{s.target&&!r.current&&nA(ij,n,{originalEvent:s},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function mT(){const t=new CustomEvent(km);document.dispatchEvent(t)}function nA(t,e,n,{discrete:r}){const i=n.originalEvent.target,s=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&i.addEventListener(t,e,{once:!0}),r?JI(i,s):i.dispatchEvent(s)}var lj=eA,uj=tA,Fl=globalThis!=null&&globalThis.document?x.useLayoutEffect:()=>{},cj="Portal",rA=x.forwardRef((t,e)=>{var a;const{container:n,...r}=t,[i,s]=x.useState(!1);Fl(()=>s(!0),[]);const o=n||i&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return o?Xb.createPortal(L.jsx(ur.div,{...r,ref:e}),o):null});rA.displayName=cj;function dj(t,e){return x.useReducer((n,r)=>e[n][r]??n,t)}var iA=t=>{const{present:e,children:n}=t,r=hj(e),i=typeof n=="function"?n({present:r.isPresent}):x.Children.only(n),s=ki(r.ref,fj(i));return typeof n=="function"||r.isPresent?x.cloneElement(i,{ref:s}):null};iA.displayName="Presence";function hj(t){const[e,n]=x.useState(),r=x.useRef(null),i=x.useRef(t),s=x.useRef("none"),o=t?"mounted":"unmounted",[a,l]=dj(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return x.useEffect(()=>{const c=Xu(r.current);s.current=a==="mounted"?c:"none"},[a]),Fl(()=>{const c=r.current,d=i.current;if(d!==t){const p=s.current,g=Xu(c);t?l("MOUNT"):g==="none"||(c==null?void 0:c.display)==="none"?l("UNMOUNT"):l(d&&p!==g?"ANIMATION_OUT":"UNMOUNT"),i.current=t}},[t,l]),Fl(()=>{if(e){let c;const d=e.ownerDocument.defaultView??window,h=g=>{const E=Xu(r.current).includes(g.animationName);if(g.target===e&&E&&(l("ANIMATION_END"),!i.current)){const A=e.style.animationFillMode;e.style.animationFillMode="forwards",c=d.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=A)})}},p=g=>{g.target===e&&(s.current=Xu(r.current))};return e.addEventListener("animationstart",p),e.addEventListener("animationcancel",h),e.addEventListener("animationend",h),()=>{d.clearTimeout(c),e.removeEventListener("animationstart",p),e.removeEventListener("animationcancel",h),e.removeEventListener("animationend",h)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:x.useCallback(c=>{r.current=c?getComputedStyle(c):null,n(c)},[])}}function Xu(t){return(t==null?void 0:t.animationName)||"none"}function fj(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var pj=ME[" useInsertionEffect ".trim().toString()]||Fl;function mj({prop:t,defaultProp:e,onChange:n=()=>{},caller:r}){const[i,s,o]=gj({defaultProp:e,onChange:n}),a=t!==void 0,l=a?t:i;{const d=x.useRef(t!==void 0);x.useEffect(()=>{const h=d.current;h!==a&&console.warn(`${r} is changing from ${h?"controlled":"uncontrolled"} to ${a?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=a},[a,r])}const c=x.useCallback(d=>{var h;if(a){const p=yj(d)?d(t):d;p!==t&&((h=o.current)==null||h.call(o,p))}else s(d)},[a,t,s,o]);return[l,c]}function gj({defaultProp:t,onChange:e}){const[n,r]=x.useState(t),i=x.useRef(n),s=x.useRef(e);return pj(()=>{s.current=e},[e]),x.useEffect(()=>{var o;i.current!==n&&((o=s.current)==null||o.call(s,n),i.current=n)},[n,i]),[n,r,s]}function yj(t){return typeof t=="function"}var vj=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),wj="VisuallyHidden",$y=x.forwardRef((t,e)=>L.jsx(ur.span,{...t,ref:e,style:{...vj,...t.style}}));$y.displayName=wj;var zy="ToastProvider",[Wy,_j,Tj]=Z6("Toast"),[sA,gz]=XI("Toast",[Tj]),[Ej,Sh]=sA(zy),oA=t=>{const{__scopeToast:e,label:n="Notification",duration:r=5e3,swipeDirection:i="right",swipeThreshold:s=50,children:o}=t,[a,l]=x.useState(null),[c,d]=x.useState(0),h=x.useRef(!1),p=x.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${zy}\`. Expected non-empty \`string\`.`),L.jsx(Wy.Provider,{scope:e,children:L.jsx(Ej,{scope:e,label:n,duration:r,swipeDirection:i,swipeThreshold:s,toastCount:c,viewport:a,onViewportChange:l,onToastAdd:x.useCallback(()=>d(g=>g+1),[]),onToastRemove:x.useCallback(()=>d(g=>g-1),[]),isFocusedToastEscapeKeyDownRef:h,isClosePausedRef:p,children:o})})};oA.displayName=zy;var aA="ToastViewport",Pj=["F8"],bm="toast.viewportPause",Dm="toast.viewportResume",lA=x.forwardRef((t,e)=>{const{__scopeToast:n,hotkey:r=Pj,label:i="Notifications ({hotkey})",...s}=t,o=Sh(aA,n),a=_j(n),l=x.useRef(null),c=x.useRef(null),d=x.useRef(null),h=x.useRef(null),p=ki(e,h,o.onViewportChange),g=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),T=o.toastCount>0;x.useEffect(()=>{const A=w=>{var _;r.length!==0&&r.every(b=>w[b]||w.code===b)&&((_=h.current)==null||_.focus())};return document.addEventListener("keydown",A),()=>document.removeEventListener("keydown",A)},[r]),x.useEffect(()=>{const A=l.current,w=h.current;if(T&&A&&w){const y=()=>{if(!o.isClosePausedRef.current){const V=new CustomEvent(bm);w.dispatchEvent(V),o.isClosePausedRef.current=!0}},_=()=>{if(o.isClosePausedRef.current){const V=new CustomEvent(Dm);w.dispatchEvent(V),o.isClosePausedRef.current=!1}},b=V=>{!A.contains(V.relatedTarget)&&_()},O=()=>{A.contains(document.activeElement)||_()};return A.addEventListener("focusin",y),A.addEventListener("focusout",b),A.addEventListener("pointermove",y),A.addEventListener("pointerleave",O),window.addEventListener("blur",y),window.addEventListener("focus",_),()=>{A.removeEventListener("focusin",y),A.removeEventListener("focusout",b),A.removeEventListener("pointermove",y),A.removeEventListener("pointerleave",O),window.removeEventListener("blur",y),window.removeEventListener("focus",_)}}},[T,o.isClosePausedRef]);const E=x.useCallback(({tabbingDirection:A})=>{const y=a().map(_=>{const b=_.ref.current,O=[b,...Mj(b)];return A==="forwards"?O:O.reverse()});return(A==="forwards"?y.reverse():y).flat()},[a]);return x.useEffect(()=>{const A=h.current;if(A){const w=y=>{var O,V,C;const _=y.altKey||y.ctrlKey||y.metaKey;if(y.key==="Tab"&&!_){const v=document.activeElement,S=y.shiftKey;if(y.target===A&&S){(O=c.current)==null||O.focus();return}const k=E({tabbingDirection:S?"backwards":"forwards"}),R=k.findIndex($=>$===v);Wf(k.slice(R+1))?y.preventDefault():S?(V=c.current)==null||V.focus():(C=d.current)==null||C.focus()}};return A.addEventListener("keydown",w),()=>A.removeEventListener("keydown",w)}},[a,E]),L.jsxs(uj,{ref:l,role:"region","aria-label":i.replace("{hotkey}",g),tabIndex:-1,style:{pointerEvents:T?void 0:"none"},children:[T&&L.jsx(Nm,{ref:c,onFocusFromOutsideViewport:()=>{const A=E({tabbingDirection:"forwards"});Wf(A)}}),L.jsx(Wy.Slot,{scope:n,children:L.jsx(ur.ol,{tabIndex:-1,...s,ref:p})}),T&&L.jsx(Nm,{ref:d,onFocusFromOutsideViewport:()=>{const A=E({tabbingDirection:"backwards"});Wf(A)}})]})});lA.displayName=aA;var uA="ToastFocusProxy",Nm=x.forwardRef((t,e)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...i}=t,s=Sh(uA,n);return L.jsx($y,{"aria-hidden":!0,tabIndex:0,...i,ref:e,style:{position:"fixed"},onFocus:o=>{var c;const a=o.relatedTarget;!((c=s.viewport)!=null&&c.contains(a))&&r()}})});Nm.displayName=uA;var iu="Toast",Sj="toast.swipeStart",Cj="toast.swipeMove",Ij="toast.swipeCancel",Aj="toast.swipeEnd",cA=x.forwardRef((t,e)=>{const{forceMount:n,open:r,defaultOpen:i,onOpenChange:s,...o}=t,[a,l]=mj({prop:r,defaultProp:i??!0,onChange:s,caller:iu});return L.jsx(iA,{present:n||a,children:L.jsx(kj,{open:a,...o,ref:e,onClose:()=>l(!1),onPause:Ts(t.onPause),onResume:Ts(t.onResume),onSwipeStart:fn(t.onSwipeStart,c=>{c.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:fn(t.onSwipeMove,c=>{const{x:d,y:h}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","move"),c.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${h}px`)}),onSwipeCancel:fn(t.onSwipeCancel,c=>{c.currentTarget.setAttribute("data-swipe","cancel"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:fn(t.onSwipeEnd,c=>{const{x:d,y:h}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","end"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${h}px`),l(!1)})})})});cA.displayName=iu;var[Rj,xj]=sA(iu,{onClose(){}}),kj=x.forwardRef((t,e)=>{const{__scopeToast:n,type:r="foreground",duration:i,open:s,onClose:o,onEscapeKeyDown:a,onPause:l,onResume:c,onSwipeStart:d,onSwipeMove:h,onSwipeCancel:p,onSwipeEnd:g,...T}=t,E=Sh(iu,n),[A,w]=x.useState(null),y=ki(e,$=>w($)),_=x.useRef(null),b=x.useRef(null),O=i||E.duration,V=x.useRef(0),C=x.useRef(O),v=x.useRef(0),{onToastAdd:S,onToastRemove:I}=E,D=Ts(()=>{var J;(A==null?void 0:A.contains(document.activeElement))&&((J=E.viewport)==null||J.focus()),o()}),k=x.useCallback($=>{!$||$===1/0||(window.clearTimeout(v.current),V.current=new Date().getTime(),v.current=window.setTimeout(D,$))},[D]);x.useEffect(()=>{const $=E.viewport;if($){const J=()=>{k(C.current),c==null||c()},W=()=>{const se=new Date().getTime()-V.current;C.current=C.current-se,window.clearTimeout(v.current),l==null||l()};return $.addEventListener(bm,W),$.addEventListener(Dm,J),()=>{$.removeEventListener(bm,W),$.removeEventListener(Dm,J)}}},[E.viewport,O,l,c,k]),x.useEffect(()=>{s&&!E.isClosePausedRef.current&&k(O)},[s,O,E.isClosePausedRef,k]),x.useEffect(()=>(S(),()=>I()),[S,I]);const R=x.useMemo(()=>A?yA(A):null,[A]);return E.viewport?L.jsxs(L.Fragment,{children:[R&&L.jsx(bj,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:R}),L.jsx(Rj,{scope:n,onClose:D,children:Xd.createPortal(L.jsx(Wy.ItemSlot,{scope:n,children:L.jsx(lj,{asChild:!0,onEscapeKeyDown:fn(a,()=>{E.isFocusedToastEscapeKeyDownRef.current||D(),E.isFocusedToastEscapeKeyDownRef.current=!1}),children:L.jsx(ur.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":s?"open":"closed","data-swipe-direction":E.swipeDirection,...T,ref:y,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:fn(t.onKeyDown,$=>{$.key==="Escape"&&(a==null||a($.nativeEvent),$.nativeEvent.defaultPrevented||(E.isFocusedToastEscapeKeyDownRef.current=!0,D()))}),onPointerDown:fn(t.onPointerDown,$=>{$.button===0&&(_.current={x:$.clientX,y:$.clientY})}),onPointerMove:fn(t.onPointerMove,$=>{if(!_.current)return;const J=$.clientX-_.current.x,W=$.clientY-_.current.y,se=!!b.current,j=["left","right"].includes(E.swipeDirection),H=["left","up"].includes(E.swipeDirection)?Math.min:Math.max,te=j?H(0,J):0,Q=j?0:H(0,W),Z=$.pointerType==="touch"?10:2,oe={x:te,y:Q},st={originalEvent:$,delta:oe};se?(b.current=oe,Ju(Cj,h,st,{discrete:!1})):gT(oe,E.swipeDirection,Z)?(b.current=oe,Ju(Sj,d,st,{discrete:!1}),$.target.setPointerCapture($.pointerId)):(Math.abs(J)>Z||Math.abs(W)>Z)&&(_.current=null)}),onPointerUp:fn(t.onPointerUp,$=>{const J=b.current,W=$.target;if(W.hasPointerCapture($.pointerId)&&W.releasePointerCapture($.pointerId),b.current=null,_.current=null,J){const se=$.currentTarget,j={originalEvent:$,delta:J};gT(J,E.swipeDirection,E.swipeThreshold)?Ju(Aj,g,j,{discrete:!0}):Ju(Ij,p,j,{discrete:!0}),se.addEventListener("click",H=>H.preventDefault(),{once:!0})}})})})}),E.viewport)})]}):null}),bj=t=>{const{__scopeToast:e,children:n,...r}=t,i=Sh(iu,e),[s,o]=x.useState(!1),[a,l]=x.useState(!1);return Oj(()=>o(!0)),x.useEffect(()=>{const c=window.setTimeout(()=>l(!0),1e3);return()=>window.clearTimeout(c)},[]),a?null:L.jsx(rA,{asChild:!0,children:L.jsx($y,{...r,children:s&&L.jsxs(L.Fragment,{children:[i.label," ",n]})})})},Dj="ToastTitle",dA=x.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return L.jsx(ur.div,{...r,ref:e})});dA.displayName=Dj;var Nj="ToastDescription",hA=x.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return L.jsx(ur.div,{...r,ref:e})});hA.displayName=Nj;var fA="ToastAction",pA=x.forwardRef((t,e)=>{const{altText:n,...r}=t;return n.trim()?L.jsx(gA,{altText:n,asChild:!0,children:L.jsx(Hy,{...r,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${fA}\`. Expected non-empty \`string\`.`),null)});pA.displayName=fA;var mA="ToastClose",Hy=x.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t,i=xj(mA,n);return L.jsx(gA,{asChild:!0,children:L.jsx(ur.button,{type:"button",...r,ref:e,onClick:fn(t.onClick,i.onClose)})})});Hy.displayName=mA;var gA=x.forwardRef((t,e)=>{const{__scopeToast:n,altText:r,...i}=t;return L.jsx(ur.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...i,ref:e})});function yA(t){const e=[];return Array.from(t.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&e.push(r.textContent),Vj(r)){const i=r.ariaHidden||r.hidden||r.style.display==="none",s=r.dataset.radixToastAnnounceExclude==="";if(!i)if(s){const o=r.dataset.radixToastAnnounceAlt;o&&e.push(o)}else e.push(...yA(r))}}),e}function Ju(t,e,n,{discrete:r}){const i=n.originalEvent.currentTarget,s=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:n});e&&i.addEventListener(t,e,{once:!0}),r?JI(i,s):i.dispatchEvent(s)}var gT=(t,e,n=0)=>{const r=Math.abs(t.x),i=Math.abs(t.y),s=r>i;return e==="left"||e==="right"?s&&r>n:!s&&i>n};function Oj(t=()=>{}){const e=Ts(t);Fl(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[e])}function Vj(t){return t.nodeType===t.ELEMENT_NODE}function Mj(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function Wf(t){const e=document.activeElement;return t.some(n=>n===e?!0:(n.focus(),document.activeElement!==e))}var Lj=oA,vA=lA,wA=cA,_A=dA,TA=hA,EA=pA,PA=Hy;const yT=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,vT=HI,SA=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return vT(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:i,defaultVariants:s}=e,o=Object.keys(i).map(c=>{const d=n==null?void 0:n[c],h=s==null?void 0:s[c];if(d===null)return null;const p=yT(d)||yT(h);return i[c][p]}),a=n&&Object.entries(n).reduce((c,d)=>{let[h,p]=d;return p===void 0||(c[h]=p),c},{}),l=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((c,d)=>{let{class:h,className:p,...g}=d;return Object.entries(g).every(T=>{let[E,A]=T;return Array.isArray(A)?A.includes({...s,...a}[E]):{...s,...a}[E]===A})?[...c,h,p]:c},[]);return vT(t,o,l,n==null?void 0:n.class,n==null?void 0:n.className)},Fj=Lj,CA=wt.forwardRef(({className:t,...e},n)=>L.jsx(vA,{ref:n,className:xs("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));CA.displayName=vA.displayName;const Uj=SA("data-[swipe=move]:transition-none group relative pointer-events-auto flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full data-[state=closed]:slide-out-to-right-full",{variants:{variant:{default:"bg-background border",destructive:"group destructive border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),IA=wt.forwardRef(({className:t,variant:e,...n},r)=>L.jsx(wA,{ref:r,className:xs(Uj({variant:e}),t),...n}));IA.displayName=wA.displayName;const jj=wt.forwardRef(({className:t,...e},n)=>L.jsx(EA,{ref:n,className:xs("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-destructive/30 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...e}));jj.displayName=EA.displayName;const AA=wt.forwardRef(({className:t,...e},n)=>L.jsx(PA,{ref:n,className:xs("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:L.jsx(m6,{className:"h-4 w-4"})}));AA.displayName=PA.displayName;const RA=wt.forwardRef(({className:t,...e},n)=>L.jsx(_A,{ref:n,className:xs("text-sm font-semibold",t),...e}));RA.displayName=_A.displayName;const xA=wt.forwardRef(({className:t,...e},n)=>L.jsx(TA,{ref:n,className:xs("text-sm opacity-90",t),...e}));xA.displayName=TA.displayName;function Bj(){const{toasts:t}=Oy();return L.jsxs(Fj,{children:[t.map(({id:e,title:n,description:r,action:i,...s})=>L.jsxs(IA,{...s,children:[L.jsxs("div",{className:"grid gap-1",children:[n&&L.jsx(RA,{children:n}),r&&L.jsx(xA,{children:r})]}),i,L.jsx(AA,{})]},e)),L.jsx(CA,{})]})}const kA=x.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"}),Ch=x.createContext({}),qy=x.createContext(null),Ih=typeof document<"u",$j=Ih?x.useLayoutEffect:x.useEffect,bA=x.createContext({strict:!1}),Gy=t=>t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),zj="framerAppearId",DA="data-"+Gy(zj);function Wj(t,e,n,r){const{visualElement:i}=x.useContext(Ch),s=x.useContext(bA),o=x.useContext(qy),a=x.useContext(kA).reducedMotion,l=x.useRef();r=r||s.renderer,!l.current&&r&&(l.current=r(t,{visualState:e,parent:i,props:n,presenceContext:o,blockInitialAnimation:o?o.initial===!1:!1,reducedMotionConfig:a}));const c=l.current;x.useInsertionEffect(()=>{c&&c.update(n,o)});const d=x.useRef(!!(n[DA]&&!window.HandoffComplete));return $j(()=>{c&&(c.render(),d.current&&c.animationState&&c.animationState.animateChanges())}),x.useEffect(()=>{c&&(c.updateFeatures(),!d.current&&c.animationState&&c.animationState.animateChanges(),d.current&&(d.current=!1,window.HandoffComplete=!0))}),c}function oo(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function Hj(t,e,n){return x.useCallback(r=>{r&&t.mount&&t.mount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):oo(n)&&(n.current=r))},[e])}function Ul(t){return typeof t=="string"||Array.isArray(t)}function Ah(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}const Ky=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Yy=["initial",...Ky];function Rh(t){return Ah(t.animate)||Yy.some(e=>Ul(t[e]))}function NA(t){return!!(Rh(t)||t.variants)}function qj(t,e){if(Rh(t)){const{initial:n,animate:r}=t;return{initial:n===!1||Ul(n)?n:void 0,animate:Ul(r)?r:void 0}}return t.inherit!==!1?e:{}}function Gj(t){const{initial:e,animate:n}=qj(t,x.useContext(Ch));return x.useMemo(()=>({initial:e,animate:n}),[wT(e),wT(n)])}function wT(t){return Array.isArray(t)?t.join(" "):t}const _T={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},jl={};for(const t in _T)jl[t]={isEnabled:e=>_T[t].some(n=>!!e[n])};function Kj(t){for(const e in t)jl[e]={...jl[e],...t[e]}}const OA=x.createContext({}),VA=x.createContext({}),Yj=Symbol.for("motionComponentSymbol");function Qj({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:i}){t&&Kj(t);function s(a,l){let c;const d={...x.useContext(kA),...a,layoutId:Xj(a)},{isStatic:h}=d,p=Gj(a),g=r(a,h);if(!h&&Ih){p.visualElement=Wj(i,g,d,e);const T=x.useContext(VA),E=x.useContext(bA).strict;p.visualElement&&(c=p.visualElement.loadFeatures(d,E,t,T))}return x.createElement(Ch.Provider,{value:p},c&&p.visualElement?x.createElement(c,{visualElement:p.visualElement,...d}):null,n(i,a,Hj(g,p.visualElement,l),g,h,p.visualElement))}const o=x.forwardRef(s);return o[Yj]=i,o}function Xj({layoutId:t}){const e=x.useContext(OA).id;return e&&t!==void 0?e+"-"+t:t}function Jj(t){function e(r,i={}){return Qj(t(r,i))}if(typeof Proxy>"u")return e;const n=new Map;return new Proxy(e,{get:(r,i)=>(n.has(i)||n.set(i,e(i)),n.get(i))})}const Zj=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Qy(t){return typeof t!="string"||t.includes("-")?!1:!!(Zj.indexOf(t)>-1||/[A-Z]/.test(t))}const Ad={};function e9(t){Object.assign(Ad,t)}const su=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],ks=new Set(su);function MA(t,{layout:e,layoutId:n}){return ks.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!Ad[t]||t==="opacity")}const un=t=>!!(t&&t.getVelocity),t9={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},n9=su.length;function r9(t,{enableHardwareAcceleration:e=!0,allowTransformNone:n=!0},r,i){let s="";for(let o=0;o<n9;o++){const a=su[o];if(t[a]!==void 0){const l=t9[a]||a;s+=`${l}(${t[a]}) `}}return e&&!t.z&&(s+="translateZ(0)"),s=s.trim(),i?s=i(t,r?"":s):n&&r&&(s="none"),s}const LA=t=>e=>typeof e=="string"&&e.startsWith(t),FA=LA("--"),Om=LA("var(--"),i9=/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,s9=(t,e)=>e&&typeof t=="number"?e.transform(t):t,bi=(t,e,n)=>Math.min(Math.max(n,t),e),bs={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},ol={...bs,transform:t=>bi(0,1,t)},Zu={...bs,default:1},al=t=>Math.round(t*1e5)/1e5,xh=/(-)?([\d]*\.?[\d])+/g,UA=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,o9=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function ou(t){return typeof t=="string"}const au=t=>({test:e=>ou(e)&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),qr=au("deg"),or=au("%"),re=au("px"),a9=au("vh"),l9=au("vw"),TT={...or,parse:t=>or.parse(t)/100,transform:t=>or.transform(t*100)},ET={...bs,transform:Math.round},jA={borderWidth:re,borderTopWidth:re,borderRightWidth:re,borderBottomWidth:re,borderLeftWidth:re,borderRadius:re,radius:re,borderTopLeftRadius:re,borderTopRightRadius:re,borderBottomRightRadius:re,borderBottomLeftRadius:re,width:re,maxWidth:re,height:re,maxHeight:re,size:re,top:re,right:re,bottom:re,left:re,padding:re,paddingTop:re,paddingRight:re,paddingBottom:re,paddingLeft:re,margin:re,marginTop:re,marginRight:re,marginBottom:re,marginLeft:re,rotate:qr,rotateX:qr,rotateY:qr,rotateZ:qr,scale:Zu,scaleX:Zu,scaleY:Zu,scaleZ:Zu,skew:qr,skewX:qr,skewY:qr,distance:re,translateX:re,translateY:re,translateZ:re,x:re,y:re,z:re,perspective:re,transformPerspective:re,opacity:ol,originX:TT,originY:TT,originZ:re,zIndex:ET,fillOpacity:ol,strokeOpacity:ol,numOctaves:ET};function Xy(t,e,n,r){const{style:i,vars:s,transform:o,transformOrigin:a}=t;let l=!1,c=!1,d=!0;for(const h in e){const p=e[h];if(FA(h)){s[h]=p;continue}const g=jA[h],T=s9(p,g);if(ks.has(h)){if(l=!0,o[h]=T,!d)continue;p!==(g.default||0)&&(d=!1)}else h.startsWith("origin")?(c=!0,a[h]=T):i[h]=T}if(e.transform||(l||r?i.transform=r9(t.transform,n,d,r):i.transform&&(i.transform="none")),c){const{originX:h="50%",originY:p="50%",originZ:g=0}=a;i.transformOrigin=`${h} ${p} ${g}`}}const Jy=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function BA(t,e,n){for(const r in e)!un(e[r])&&!MA(r,n)&&(t[r]=e[r])}function u9({transformTemplate:t},e,n){return x.useMemo(()=>{const r=Jy();return Xy(r,e,{enableHardwareAcceleration:!n},t),Object.assign({},r.vars,r.style)},[e])}function c9(t,e,n){const r=t.style||{},i={};return BA(i,r,t),Object.assign(i,u9(t,e,n)),t.transformValues?t.transformValues(i):i}function d9(t,e,n){const r={},i=c9(t,e,n);return t.drag&&t.dragListener!==!1&&(r.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(r.tabIndex=0),r.style=i,r}const h9=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Rd(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||h9.has(t)}let $A=t=>!Rd(t);function f9(t){t&&($A=e=>e.startsWith("on")?!Rd(e):t(e))}try{f9(require("@emotion/is-prop-valid").default)}catch{}function p9(t,e,n){const r={};for(const i in t)i==="values"&&typeof t.values=="object"||($A(i)||n===!0&&Rd(i)||!e&&!Rd(i)||t.draggable&&i.startsWith("onDrag"))&&(r[i]=t[i]);return r}function PT(t,e,n){return typeof t=="string"?t:re.transform(e+n*t)}function m9(t,e,n){const r=PT(e,t.x,t.width),i=PT(n,t.y,t.height);return`${r} ${i}`}const g9={offset:"stroke-dashoffset",array:"stroke-dasharray"},y9={offset:"strokeDashoffset",array:"strokeDasharray"};function v9(t,e,n=1,r=0,i=!0){t.pathLength=1;const s=i?g9:y9;t[s.offset]=re.transform(-r);const o=re.transform(e),a=re.transform(n);t[s.array]=`${o} ${a}`}function Zy(t,{attrX:e,attrY:n,attrScale:r,originX:i,originY:s,pathLength:o,pathSpacing:a=1,pathOffset:l=0,...c},d,h,p){if(Xy(t,c,d,p),h){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:g,style:T,dimensions:E}=t;g.transform&&(E&&(T.transform=g.transform),delete g.transform),E&&(i!==void 0||s!==void 0||T.transform)&&(T.transformOrigin=m9(E,i!==void 0?i:.5,s!==void 0?s:.5)),e!==void 0&&(g.x=e),n!==void 0&&(g.y=n),r!==void 0&&(g.scale=r),o!==void 0&&v9(g,o,a,l,!1)}const zA=()=>({...Jy(),attrs:{}}),ev=t=>typeof t=="string"&&t.toLowerCase()==="svg";function w9(t,e,n,r){const i=x.useMemo(()=>{const s=zA();return Zy(s,e,{enableHardwareAcceleration:!1},ev(r),t.transformTemplate),{...s.attrs,style:{...s.style}}},[e]);if(t.style){const s={};BA(s,t.style,t),i.style={...s,...i.style}}return i}function _9(t=!1){return(n,r,i,{latestValues:s},o)=>{const l=(Qy(n)?w9:d9)(r,s,o,n),d={...p9(r,typeof n=="string",t),...l,ref:i},{children:h}=r,p=x.useMemo(()=>un(h)?h.get():h,[h]);return x.createElement(n,{...d,children:p})}}function WA(t,{style:e,vars:n},r,i){Object.assign(t.style,e,i&&i.getProjectionStyles(r));for(const s in n)t.style.setProperty(s,n[s])}const HA=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function qA(t,e,n,r){WA(t,e,void 0,r);for(const i in e.attrs)t.setAttribute(HA.has(i)?i:Gy(i),e.attrs[i])}function tv(t,e){const{style:n}=t,r={};for(const i in n)(un(n[i])||e.style&&un(e.style[i])||MA(i,t))&&(r[i]=n[i]);return r}function GA(t,e){const n=tv(t,e);for(const r in t)if(un(t[r])||un(e[r])){const i=su.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;n[i]=t[r]}return n}function nv(t,e,n,r={},i={}){return typeof e=="function"&&(e=e(n!==void 0?n:t.custom,r,i)),typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"&&(e=e(n!==void 0?n:t.custom,r,i)),e}function T9(t){const e=x.useRef(null);return e.current===null&&(e.current=t()),e.current}const xd=t=>Array.isArray(t),E9=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),P9=t=>xd(t)?t[t.length-1]||0:t;function Cc(t){const e=un(t)?t.get():t;return E9(e)?e.toValue():e}function S9({scrapeMotionValuesFromProps:t,createRenderState:e,onMount:n},r,i,s){const o={latestValues:C9(r,i,s,t),renderState:e()};return n&&(o.mount=a=>n(r,a,o)),o}const KA=t=>(e,n)=>{const r=x.useContext(Ch),i=x.useContext(qy),s=()=>S9(t,e,r,i);return n?s():T9(s)};function C9(t,e,n,r){const i={},s=r(t,{});for(const p in s)i[p]=Cc(s[p]);let{initial:o,animate:a}=t;const l=Rh(t),c=NA(t);e&&c&&!l&&t.inherit!==!1&&(o===void 0&&(o=e.initial),a===void 0&&(a=e.animate));let d=n?n.initial===!1:!1;d=d||o===!1;const h=d?a:o;return h&&typeof h!="boolean"&&!Ah(h)&&(Array.isArray(h)?h:[h]).forEach(g=>{const T=nv(t,g);if(!T)return;const{transitionEnd:E,transition:A,...w}=T;for(const y in w){let _=w[y];if(Array.isArray(_)){const b=d?_.length-1:0;_=_[b]}_!==null&&(i[y]=_)}for(const y in E)i[y]=E[y]}),i}const Qe=t=>t;class ST{constructor(){this.order=[],this.scheduled=new Set}add(e){if(!this.scheduled.has(e))return this.scheduled.add(e),this.order.push(e),!0}remove(e){const n=this.order.indexOf(e);n!==-1&&(this.order.splice(n,1),this.scheduled.delete(e))}clear(){this.order.length=0,this.scheduled.clear()}}function I9(t){let e=new ST,n=new ST,r=0,i=!1,s=!1;const o=new WeakSet,a={schedule:(l,c=!1,d=!1)=>{const h=d&&i,p=h?e:n;return c&&o.add(l),p.add(l)&&h&&i&&(r=e.order.length),l},cancel:l=>{n.remove(l),o.delete(l)},process:l=>{if(i){s=!0;return}if(i=!0,[e,n]=[n,e],n.clear(),r=e.order.length,r)for(let c=0;c<r;c++){const d=e.order[c];d(l),o.has(d)&&(a.schedule(d),t())}i=!1,s&&(s=!1,a.process(l))}};return a}const ec=["prepare","read","update","preRender","render","postRender"],A9=40;function R9(t,e){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},s=ec.reduce((h,p)=>(h[p]=I9(()=>n=!0),h),{}),o=h=>s[h].process(i),a=()=>{const h=performance.now();n=!1,i.delta=r?1e3/60:Math.max(Math.min(h-i.timestamp,A9),1),i.timestamp=h,i.isProcessing=!0,ec.forEach(o),i.isProcessing=!1,n&&e&&(r=!1,t(a))},l=()=>{n=!0,r=!0,i.isProcessing||t(a)};return{schedule:ec.reduce((h,p)=>{const g=s[p];return h[p]=(T,E=!1,A=!1)=>(n||l(),g.schedule(T,E,A)),h},{}),cancel:h=>ec.forEach(p=>s[p].cancel(h)),state:i,steps:s}}const{schedule:Le,cancel:Nr,state:Vt,steps:Hf}=R9(typeof requestAnimationFrame<"u"?requestAnimationFrame:Qe,!0),x9={useVisualState:KA({scrapeMotionValuesFromProps:GA,createRenderState:zA,onMount:(t,e,{renderState:n,latestValues:r})=>{Le.read(()=>{try{n.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{n.dimensions={x:0,y:0,width:0,height:0}}}),Le.render(()=>{Zy(n,r,{enableHardwareAcceleration:!1},ev(e.tagName),t.transformTemplate),qA(e,n)})}})},k9={useVisualState:KA({scrapeMotionValuesFromProps:tv,createRenderState:Jy})};function b9(t,{forwardMotionProps:e=!1},n,r){return{...Qy(t)?x9:k9,preloadedFeatures:n,useRender:_9(e),createVisualElement:r,Component:t}}function wr(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}const YA=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1;function kh(t,e="page"){return{point:{x:t[e+"X"],y:t[e+"Y"]}}}const D9=t=>e=>YA(e)&&t(e,kh(e));function Er(t,e,n,r){return wr(t,e,D9(n),r)}const N9=(t,e)=>n=>e(t(n)),_i=(...t)=>t.reduce(N9);function QA(t){let e=null;return()=>{const n=()=>{e=null};return e===null?(e=t,n):!1}}const CT=QA("dragHorizontal"),IT=QA("dragVertical");function XA(t){let e=!1;if(t==="y")e=IT();else if(t==="x")e=CT();else{const n=CT(),r=IT();n&&r?e=()=>{n(),r()}:(n&&n(),r&&r())}return e}function JA(){const t=XA(!0);return t?(t(),!1):!0}class Ui{constructor(e){this.isMounted=!1,this.node=e}update(){}}function AT(t,e){const n="pointer"+(e?"enter":"leave"),r="onHover"+(e?"Start":"End"),i=(s,o)=>{if(s.pointerType==="touch"||JA())return;const a=t.getProps();t.animationState&&a.whileHover&&t.animationState.setActive("whileHover",e),a[r]&&Le.update(()=>a[r](s,o))};return Er(t.current,n,i,{passive:!t.getProps()[r]})}class O9 extends Ui{mount(){this.unmount=_i(AT(this.node,!0),AT(this.node,!1))}unmount(){}}class V9 extends Ui{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=_i(wr(this.node.current,"focus",()=>this.onFocus()),wr(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const ZA=(t,e)=>e?t===e?!0:ZA(t,e.parentElement):!1;function qf(t,e){if(!e)return;const n=new PointerEvent("pointer"+t);e(n,kh(n))}class M9 extends Ui{constructor(){super(...arguments),this.removeStartListeners=Qe,this.removeEndListeners=Qe,this.removeAccessibleListeners=Qe,this.startPointerPress=(e,n)=>{if(this.isPressing)return;this.removeEndListeners();const r=this.node.getProps(),s=Er(window,"pointerup",(a,l)=>{if(!this.checkPressEnd())return;const{onTap:c,onTapCancel:d,globalTapTarget:h}=this.node.getProps();Le.update(()=>{!h&&!ZA(this.node.current,a.target)?d&&d(a,l):c&&c(a,l)})},{passive:!(r.onTap||r.onPointerUp)}),o=Er(window,"pointercancel",(a,l)=>this.cancelPress(a,l),{passive:!(r.onTapCancel||r.onPointerCancel)});this.removeEndListeners=_i(s,o),this.startPress(e,n)},this.startAccessiblePress=()=>{const e=s=>{if(s.key!=="Enter"||this.isPressing)return;const o=a=>{a.key!=="Enter"||!this.checkPressEnd()||qf("up",(l,c)=>{const{onTap:d}=this.node.getProps();d&&Le.update(()=>d(l,c))})};this.removeEndListeners(),this.removeEndListeners=wr(this.node.current,"keyup",o),qf("down",(a,l)=>{this.startPress(a,l)})},n=wr(this.node.current,"keydown",e),r=()=>{this.isPressing&&qf("cancel",(s,o)=>this.cancelPress(s,o))},i=wr(this.node.current,"blur",r);this.removeAccessibleListeners=_i(n,i)}}startPress(e,n){this.isPressing=!0;const{onTapStart:r,whileTap:i}=this.node.getProps();i&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),r&&Le.update(()=>r(e,n))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!JA()}cancelPress(e,n){if(!this.checkPressEnd())return;const{onTapCancel:r}=this.node.getProps();r&&Le.update(()=>r(e,n))}mount(){const e=this.node.getProps(),n=Er(e.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(e.onTapStart||e.onPointerStart)}),r=wr(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=_i(n,r)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const Vm=new WeakMap,Gf=new WeakMap,L9=t=>{const e=Vm.get(t.target);e&&e(t)},F9=t=>{t.forEach(L9)};function U9({root:t,...e}){const n=t||document;Gf.has(n)||Gf.set(n,{});const r=Gf.get(n),i=JSON.stringify(e);return r[i]||(r[i]=new IntersectionObserver(F9,{root:t,...e})),r[i]}function j9(t,e,n){const r=U9(e);return Vm.set(t,n),r.observe(t),()=>{Vm.delete(t),r.unobserve(t)}}const B9={some:0,all:1};class $9 extends Ui{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:s}=e,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:B9[i]},a=l=>{const{isIntersecting:c}=l;if(this.isInView===c||(this.isInView=c,s&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:d,onViewportLeave:h}=this.node.getProps(),p=c?d:h;p&&p(l)};return j9(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(z9(e,n))&&this.startObserver()}unmount(){}}function z9({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const W9={inView:{Feature:$9},tap:{Feature:M9},focus:{Feature:V9},hover:{Feature:O9}};function eR(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}function H9(t){const e={};return t.values.forEach((n,r)=>e[r]=n.get()),e}function q9(t){const e={};return t.values.forEach((n,r)=>e[r]=n.getVelocity()),e}function bh(t,e,n){const r=t.getProps();return nv(r,e,n!==void 0?n:r.custom,H9(t),q9(t))}let G9=Qe,rv=Qe;const Ti=t=>t*1e3,Pr=t=>t/1e3,K9={current:!1},tR=t=>Array.isArray(t)&&typeof t[0]=="number";function nR(t){return!!(!t||typeof t=="string"&&rR[t]||tR(t)||Array.isArray(t)&&t.every(nR))}const Wa=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,rR={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Wa([0,.65,.55,1]),circOut:Wa([.55,0,1,.45]),backIn:Wa([.31,.01,.66,-.59]),backOut:Wa([.33,1.53,.69,.99])};function iR(t){if(t)return tR(t)?Wa(t):Array.isArray(t)?t.map(iR):rR[t]}function Y9(t,e,n,{delay:r=0,duration:i,repeat:s=0,repeatType:o="loop",ease:a,times:l}={}){const c={[e]:n};l&&(c.offset=l);const d=iR(a);return Array.isArray(d)&&(c.easing=d),t.animate(c,{delay:r,duration:i,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:s+1,direction:o==="reverse"?"alternate":"normal"})}function Q9(t,{repeat:e,repeatType:n="loop"}){const r=e&&n!=="loop"&&e%2===1?0:t.length-1;return t[r]}const sR=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,X9=1e-7,J9=12;function Z9(t,e,n,r,i){let s,o,a=0;do o=e+(n-e)/2,s=sR(o,r,i)-t,s>0?n=o:e=o;while(Math.abs(s)>X9&&++a<J9);return o}function lu(t,e,n,r){if(t===e&&n===r)return Qe;const i=s=>Z9(s,0,1,t,n);return s=>s===0||s===1?s:sR(i(s),e,r)}const eB=lu(.42,0,1,1),tB=lu(0,0,.58,1),oR=lu(.42,0,.58,1),nB=t=>Array.isArray(t)&&typeof t[0]!="number",aR=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,lR=t=>e=>1-t(1-e),iv=t=>1-Math.sin(Math.acos(t)),uR=lR(iv),rB=aR(iv),cR=lu(.33,1.53,.69,.99),sv=lR(cR),iB=aR(sv),sB=t=>(t*=2)<1?.5*sv(t):.5*(2-Math.pow(2,-10*(t-1))),oB={linear:Qe,easeIn:eB,easeInOut:oR,easeOut:tB,circIn:iv,circInOut:rB,circOut:uR,backIn:sv,backInOut:iB,backOut:cR,anticipate:sB},RT=t=>{if(Array.isArray(t)){rv(t.length===4);const[e,n,r,i]=t;return lu(e,n,r,i)}else if(typeof t=="string")return oB[t];return t},ov=(t,e)=>n=>!!(ou(n)&&o9.test(n)&&n.startsWith(t)||e&&Object.prototype.hasOwnProperty.call(n,e)),dR=(t,e,n)=>r=>{if(!ou(r))return r;const[i,s,o,a]=r.match(xh);return{[t]:parseFloat(i),[e]:parseFloat(s),[n]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},aB=t=>bi(0,255,t),Kf={...bs,transform:t=>Math.round(aB(t))},is={test:ov("rgb","red"),parse:dR("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+Kf.transform(t)+", "+Kf.transform(e)+", "+Kf.transform(n)+", "+al(ol.transform(r))+")"};function lB(t){let e="",n="",r="",i="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),i=t.substring(4,5),e+=e,n+=n,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const Mm={test:ov("#"),parse:lB,transform:is.transform},ao={test:ov("hsl","hue"),parse:dR("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+or.transform(al(e))+", "+or.transform(al(n))+", "+al(ol.transform(r))+")"},Kt={test:t=>is.test(t)||Mm.test(t)||ao.test(t),parse:t=>is.test(t)?is.parse(t):ao.test(t)?ao.parse(t):Mm.parse(t),transform:t=>ou(t)?t:t.hasOwnProperty("red")?is.transform(t):ao.transform(t)},Be=(t,e,n)=>-n*t+n*e+t;function Yf(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function uB({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let i=0,s=0,o=0;if(!e)i=s=o=n;else{const a=n<.5?n*(1+e):n+e-n*e,l=2*n-a;i=Yf(l,a,t+1/3),s=Yf(l,a,t),o=Yf(l,a,t-1/3)}return{red:Math.round(i*255),green:Math.round(s*255),blue:Math.round(o*255),alpha:r}}const Qf=(t,e,n)=>{const r=t*t;return Math.sqrt(Math.max(0,n*(e*e-r)+r))},cB=[Mm,is,ao],dB=t=>cB.find(e=>e.test(t));function xT(t){const e=dB(t);let n=e.parse(t);return e===ao&&(n=uB(n)),n}const hR=(t,e)=>{const n=xT(t),r=xT(e),i={...n};return s=>(i.red=Qf(n.red,r.red,s),i.green=Qf(n.green,r.green,s),i.blue=Qf(n.blue,r.blue,s),i.alpha=Be(n.alpha,r.alpha,s),is.transform(i))};function hB(t){var e,n;return isNaN(t)&&ou(t)&&(((e=t.match(xh))===null||e===void 0?void 0:e.length)||0)+(((n=t.match(UA))===null||n===void 0?void 0:n.length)||0)>0}const fR={regex:i9,countKey:"Vars",token:"${v}",parse:Qe},pR={regex:UA,countKey:"Colors",token:"${c}",parse:Kt.parse},mR={regex:xh,countKey:"Numbers",token:"${n}",parse:bs.parse};function Xf(t,{regex:e,countKey:n,token:r,parse:i}){const s=t.tokenised.match(e);s&&(t["num"+n]=s.length,t.tokenised=t.tokenised.replace(e,r),t.values.push(...s.map(i)))}function kd(t){const e=t.toString(),n={value:e,tokenised:e,values:[],numVars:0,numColors:0,numNumbers:0};return n.value.includes("var(--")&&Xf(n,fR),Xf(n,pR),Xf(n,mR),n}function gR(t){return kd(t).values}function yR(t){const{values:e,numColors:n,numVars:r,tokenised:i}=kd(t),s=e.length;return o=>{let a=i;for(let l=0;l<s;l++)l<r?a=a.replace(fR.token,o[l]):l<r+n?a=a.replace(pR.token,Kt.transform(o[l])):a=a.replace(mR.token,al(o[l]));return a}}const fB=t=>typeof t=="number"?0:t;function pB(t){const e=gR(t);return yR(t)(e.map(fB))}const Di={test:hB,parse:gR,createTransformer:yR,getAnimatableNone:pB},vR=(t,e)=>n=>`${n>0?e:t}`;function wR(t,e){return typeof t=="number"?n=>Be(t,e,n):Kt.test(t)?hR(t,e):t.startsWith("var(")?vR(t,e):TR(t,e)}const _R=(t,e)=>{const n=[...t],r=n.length,i=t.map((s,o)=>wR(s,e[o]));return s=>{for(let o=0;o<r;o++)n[o]=i[o](s);return n}},mB=(t,e)=>{const n={...t,...e},r={};for(const i in n)t[i]!==void 0&&e[i]!==void 0&&(r[i]=wR(t[i],e[i]));return i=>{for(const s in r)n[s]=r[s](i);return n}},TR=(t,e)=>{const n=Di.createTransformer(e),r=kd(t),i=kd(e);return r.numVars===i.numVars&&r.numColors===i.numColors&&r.numNumbers>=i.numNumbers?_i(_R(r.values,i.values),n):vR(t,e)},Bl=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r},kT=(t,e)=>n=>Be(t,e,n);function gB(t){return typeof t=="number"?kT:typeof t=="string"?Kt.test(t)?hR:TR:Array.isArray(t)?_R:typeof t=="object"?mB:kT}function yB(t,e,n){const r=[],i=n||gB(t[0]),s=t.length-1;for(let o=0;o<s;o++){let a=i(t[o],t[o+1]);if(e){const l=Array.isArray(e)?e[o]||Qe:e;a=_i(l,a)}r.push(a)}return r}function ER(t,e,{clamp:n=!0,ease:r,mixer:i}={}){const s=t.length;if(rv(s===e.length),s===1)return()=>e[0];t[0]>t[s-1]&&(t=[...t].reverse(),e=[...e].reverse());const o=yB(e,r,i),a=o.length,l=c=>{let d=0;if(a>1)for(;d<t.length-2&&!(c<t[d+1]);d++);const h=Bl(t[d],t[d+1],c);return o[d](h)};return n?c=>l(bi(t[0],t[s-1],c)):l}function vB(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const i=Bl(0,e,r);t.push(Be(n,1,i))}}function wB(t){const e=[0];return vB(e,t.length-1),e}function _B(t,e){return t.map(n=>n*e)}function TB(t,e){return t.map(()=>e||oR).splice(0,t.length-1)}function bd({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const i=nB(r)?r.map(RT):RT(r),s={done:!1,value:e[0]},o=_B(n&&n.length===e.length?n:wB(e),t),a=ER(o,e,{ease:Array.isArray(i)?i:TB(e,i)});return{calculatedDuration:t,next:l=>(s.value=a(l),s.done=l>=t,s)}}function PR(t,e){return e?t*(1e3/e):0}const EB=5;function SR(t,e,n){const r=Math.max(e-EB,0);return PR(n-t(r),e-r)}const Jf=.001,PB=.01,bT=10,SB=.05,CB=1;function IB({duration:t=800,bounce:e=.25,velocity:n=0,mass:r=1}){let i,s;G9(t<=Ti(bT));let o=1-e;o=bi(SB,CB,o),t=bi(PB,bT,Pr(t)),o<1?(i=c=>{const d=c*o,h=d*t,p=d-n,g=Lm(c,o),T=Math.exp(-h);return Jf-p/g*T},s=c=>{const h=c*o*t,p=h*n+n,g=Math.pow(o,2)*Math.pow(c,2)*t,T=Math.exp(-h),E=Lm(Math.pow(c,2),o);return(-i(c)+Jf>0?-1:1)*((p-g)*T)/E}):(i=c=>{const d=Math.exp(-c*t),h=(c-n)*t+1;return-Jf+d*h},s=c=>{const d=Math.exp(-c*t),h=(n-c)*(t*t);return d*h});const a=5/t,l=RB(i,s,a);if(t=Ti(t),isNaN(l))return{stiffness:100,damping:10,duration:t};{const c=Math.pow(l,2)*r;return{stiffness:c,damping:o*2*Math.sqrt(r*c),duration:t}}}const AB=12;function RB(t,e,n){let r=n;for(let i=1;i<AB;i++)r=r-t(r)/e(r);return r}function Lm(t,e){return t*Math.sqrt(1-e*e)}const xB=["duration","bounce"],kB=["stiffness","damping","mass"];function DT(t,e){return e.some(n=>t[n]!==void 0)}function bB(t){let e={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...t};if(!DT(t,kB)&&DT(t,xB)){const n=IB(t);e={...e,...n,mass:1},e.isResolvedFromDuration=!0}return e}function CR({keyframes:t,restDelta:e,restSpeed:n,...r}){const i=t[0],s=t[t.length-1],o={done:!1,value:i},{stiffness:a,damping:l,mass:c,duration:d,velocity:h,isResolvedFromDuration:p}=bB({...r,velocity:-Pr(r.velocity||0)}),g=h||0,T=l/(2*Math.sqrt(a*c)),E=s-i,A=Pr(Math.sqrt(a/c)),w=Math.abs(E)<5;n||(n=w?.01:2),e||(e=w?.005:.5);let y;if(T<1){const _=Lm(A,T);y=b=>{const O=Math.exp(-T*A*b);return s-O*((g+T*A*E)/_*Math.sin(_*b)+E*Math.cos(_*b))}}else if(T===1)y=_=>s-Math.exp(-A*_)*(E+(g+A*E)*_);else{const _=A*Math.sqrt(T*T-1);y=b=>{const O=Math.exp(-T*A*b),V=Math.min(_*b,300);return s-O*((g+T*A*E)*Math.sinh(V)+_*E*Math.cosh(V))/_}}return{calculatedDuration:p&&d||null,next:_=>{const b=y(_);if(p)o.done=_>=d;else{let O=g;_!==0&&(T<1?O=SR(y,_,b):O=0);const V=Math.abs(O)<=n,C=Math.abs(s-b)<=e;o.done=V&&C}return o.value=o.done?s:b,o}}}function NT({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:s=500,modifyTarget:o,min:a,max:l,restDelta:c=.5,restSpeed:d}){const h=t[0],p={done:!1,value:h},g=v=>a!==void 0&&v<a||l!==void 0&&v>l,T=v=>a===void 0?l:l===void 0||Math.abs(a-v)<Math.abs(l-v)?a:l;let E=n*e;const A=h+E,w=o===void 0?A:o(A);w!==A&&(E=w-h);const y=v=>-E*Math.exp(-v/r),_=v=>w+y(v),b=v=>{const S=y(v),I=_(v);p.done=Math.abs(S)<=c,p.value=p.done?w:I};let O,V;const C=v=>{g(p.value)&&(O=v,V=CR({keyframes:[p.value,T(p.value)],velocity:SR(_,v,p.value),damping:i,stiffness:s,restDelta:c,restSpeed:d}))};return C(0),{calculatedDuration:null,next:v=>{let S=!1;return!V&&O===void 0&&(S=!0,b(v),C(v)),O!==void 0&&v>O?V.next(v-O):(!S&&b(v),p)}}}const DB=t=>{const e=({timestamp:n})=>t(n);return{start:()=>Le.update(e,!0),stop:()=>Nr(e),now:()=>Vt.isProcessing?Vt.timestamp:performance.now()}},OT=2e4;function VT(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<OT;)e+=n,r=t.next(e);return e>=OT?1/0:e}const NB={decay:NT,inertia:NT,tween:bd,keyframes:bd,spring:CR};function Dd({autoplay:t=!0,delay:e=0,driver:n=DB,keyframes:r,type:i="keyframes",repeat:s=0,repeatDelay:o=0,repeatType:a="loop",onPlay:l,onStop:c,onComplete:d,onUpdate:h,...p}){let g=1,T=!1,E,A;const w=()=>{A=new Promise(Q=>{E=Q})};w();let y;const _=NB[i]||bd;let b;_!==bd&&typeof r[0]!="number"&&(b=ER([0,100],r,{clamp:!1}),r=[0,100]);const O=_({...p,keyframes:r});let V;a==="mirror"&&(V=_({...p,keyframes:[...r].reverse(),velocity:-(p.velocity||0)}));let C="idle",v=null,S=null,I=null;O.calculatedDuration===null&&s&&(O.calculatedDuration=VT(O));const{calculatedDuration:D}=O;let k=1/0,R=1/0;D!==null&&(k=D+o,R=k*(s+1)-o);let $=0;const J=Q=>{if(S===null)return;g>0&&(S=Math.min(S,Q)),g<0&&(S=Math.min(Q-R/g,S)),v!==null?$=v:$=Math.round(Q-S)*g;const Z=$-e*(g>=0?1:-1),oe=g>=0?Z<0:Z>R;$=Math.max(Z,0),C==="finished"&&v===null&&($=R);let st=$,zt=O;if(s){const Te=Math.min($,R)/k;let Ge=Math.floor(Te),Tt=Te%1;!Tt&&Te>=1&&(Tt=1),Tt===1&&Ge--,Ge=Math.min(Ge,s+1),!!(Ge%2)&&(a==="reverse"?(Tt=1-Tt,o&&(Tt-=o/k)):a==="mirror"&&(zt=V)),st=bi(0,1,Tt)*k}const mt=oe?{done:!1,value:r[0]}:zt.next(st);b&&(mt.value=b(mt.value));let{done:gt}=mt;!oe&&D!==null&&(gt=g>=0?$>=R:$<=0);const qe=v===null&&(C==="finished"||C==="running"&&gt);return h&&h(mt.value),qe&&j(),mt},W=()=>{y&&y.stop(),y=void 0},se=()=>{C="idle",W(),E(),w(),S=I=null},j=()=>{C="finished",d&&d(),W(),E()},H=()=>{if(T)return;y||(y=n(J));const Q=y.now();l&&l(),v!==null?S=Q-v:(!S||C==="finished")&&(S=Q),C==="finished"&&w(),I=S,v=null,C="running",y.start()};t&&H();const te={then(Q,Z){return A.then(Q,Z)},get time(){return Pr($)},set time(Q){Q=Ti(Q),$=Q,v!==null||!y||g===0?v=Q:S=y.now()-Q/g},get duration(){const Q=O.calculatedDuration===null?VT(O):O.calculatedDuration;return Pr(Q)},get speed(){return g},set speed(Q){Q===g||!y||(g=Q,te.time=Pr($))},get state(){return C},play:H,pause:()=>{C="paused",v=$},stop:()=>{T=!0,C!=="idle"&&(C="idle",c&&c(),se())},cancel:()=>{I!==null&&J(I),se()},complete:()=>{C="finished"},sample:Q=>(S=0,J(Q))};return te}function OB(t){let e;return()=>(e===void 0&&(e=t()),e)}const VB=OB(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),MB=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),tc=10,LB=2e4,FB=(t,e)=>e.type==="spring"||t==="backgroundColor"||!nR(e.ease);function UB(t,e,{onUpdate:n,onComplete:r,...i}){if(!(VB()&&MB.has(e)&&!i.repeatDelay&&i.repeatType!=="mirror"&&i.damping!==0&&i.type!=="inertia"))return!1;let o=!1,a,l,c=!1;const d=()=>{l=new Promise(_=>{a=_})};d();let{keyframes:h,duration:p=300,ease:g,times:T}=i;if(FB(e,i)){const _=Dd({...i,repeat:0,delay:0});let b={done:!1,value:h[0]};const O=[];let V=0;for(;!b.done&&V<LB;)b=_.sample(V),O.push(b.value),V+=tc;T=void 0,h=O,p=V-tc,g="linear"}const E=Y9(t.owner.current,e,h,{...i,duration:p,ease:g,times:T}),A=()=>{c=!1,E.cancel()},w=()=>{c=!0,Le.update(A),a(),d()};return E.onfinish=()=>{c||(t.set(Q9(h,i)),r&&r(),w())},{then(_,b){return l.then(_,b)},attachTimeline(_){return E.timeline=_,E.onfinish=null,Qe},get time(){return Pr(E.currentTime||0)},set time(_){E.currentTime=Ti(_)},get speed(){return E.playbackRate},set speed(_){E.playbackRate=_},get duration(){return Pr(p)},play:()=>{o||(E.play(),Nr(A))},pause:()=>E.pause(),stop:()=>{if(o=!0,E.playState==="idle")return;const{currentTime:_}=E;if(_){const b=Dd({...i,autoplay:!1});t.setWithVelocity(b.sample(_-tc).value,b.sample(_).value,tc)}w()},complete:()=>{c||E.finish()},cancel:w}}function jB({keyframes:t,delay:e,onUpdate:n,onComplete:r}){const i=()=>(n&&n(t[t.length-1]),r&&r(),{time:0,speed:1,duration:0,play:Qe,pause:Qe,stop:Qe,then:s=>(s(),Promise.resolve()),cancel:Qe,complete:Qe});return e?Dd({keyframes:[0,1],duration:0,delay:e,onComplete:i}):i()}const BB={type:"spring",stiffness:500,damping:25,restSpeed:10},$B=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),zB={type:"keyframes",duration:.8},WB={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},HB=(t,{keyframes:e})=>e.length>2?zB:ks.has(t)?t.startsWith("scale")?$B(e[1]):BB:WB,Fm=(t,e)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(Di.test(e)||e==="0")&&!e.startsWith("url(")),qB=new Set(["brightness","contrast","saturate","opacity"]);function GB(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(xh)||[];if(!r)return t;const i=n.replace(r,"");let s=qB.has(e)?1:0;return r!==n&&(s*=100),e+"("+s+i+")"}const KB=/([a-z-]*)\(.*?\)/g,Um={...Di,getAnimatableNone:t=>{const e=t.match(KB);return e?e.map(GB).join(" "):t}},YB={...jA,color:Kt,backgroundColor:Kt,outlineColor:Kt,fill:Kt,stroke:Kt,borderColor:Kt,borderTopColor:Kt,borderRightColor:Kt,borderBottomColor:Kt,borderLeftColor:Kt,filter:Um,WebkitFilter:Um},av=t=>YB[t];function IR(t,e){let n=av(t);return n!==Um&&(n=Di),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const AR=t=>/^0[^.\s]+$/.test(t);function QB(t){if(typeof t=="number")return t===0;if(t!==null)return t==="none"||t==="0"||AR(t)}function XB(t,e,n,r){const i=Fm(e,n);let s;Array.isArray(n)?s=[...n]:s=[null,n];const o=r.from!==void 0?r.from:t.get();let a;const l=[];for(let c=0;c<s.length;c++)s[c]===null&&(s[c]=c===0?o:s[c-1]),QB(s[c])&&l.push(c),typeof s[c]=="string"&&s[c]!=="none"&&s[c]!=="0"&&(a=s[c]);if(i&&l.length&&a)for(let c=0;c<l.length;c++){const d=l[c];s[d]=IR(e,a)}return s}function JB({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:s,repeatType:o,repeatDelay:a,from:l,elapsed:c,...d}){return!!Object.keys(d).length}function lv(t,e){return t[e]||t.default||t}const ZB={skipAnimations:!1},uv=(t,e,n,r={})=>i=>{const s=lv(r,t)||{},o=s.delay||r.delay||0;let{elapsed:a=0}=r;a=a-Ti(o);const l=XB(e,t,n,s),c=l[0],d=l[l.length-1],h=Fm(t,c),p=Fm(t,d);let g={keyframes:l,velocity:e.getVelocity(),ease:"easeOut",...s,delay:-a,onUpdate:T=>{e.set(T),s.onUpdate&&s.onUpdate(T)},onComplete:()=>{i(),s.onComplete&&s.onComplete()}};if(JB(s)||(g={...g,...HB(t,g)}),g.duration&&(g.duration=Ti(g.duration)),g.repeatDelay&&(g.repeatDelay=Ti(g.repeatDelay)),!h||!p||K9.current||s.type===!1||ZB.skipAnimations)return jB(g);if(!r.isHandoff&&e.owner&&e.owner.current instanceof HTMLElement&&!e.owner.getProps().onUpdate){const T=UB(e,t,g);if(T)return T}return Dd(g)};function Nd(t){return!!(un(t)&&t.add)}const RR=t=>/^\-?\d*\.?\d+$/.test(t);function cv(t,e){t.indexOf(e)===-1&&t.push(e)}function dv(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class hv{constructor(){this.subscriptions=[]}add(e){return cv(this.subscriptions,e),()=>dv(this.subscriptions,e)}notify(e,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,n,r);else for(let s=0;s<i;s++){const o=this.subscriptions[s];o&&o(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const e5=t=>!isNaN(parseFloat(t));class t5{constructor(e,n={}){this.version="10.18.0",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(r,i=!0)=>{this.prev=this.current,this.current=r;const{delta:s,timestamp:o}=Vt;this.lastUpdated!==o&&(this.timeDelta=s,this.lastUpdated=o,Le.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>Le.postRender(this.velocityCheck),this.velocityCheck=({timestamp:r})=>{r!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=e,this.canTrackVelocity=e5(this.current),this.owner=n.owner}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new hv);const r=this.events[e].add(n);return e==="change"?()=>{r(),Le.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=e,this.timeDelta=r}jump(e){this.updateAndNotify(e),this.prev=e,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?PR(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Uo(t,e){return new t5(t,e)}const xR=t=>e=>e.test(t),n5={test:t=>t==="auto",parse:t=>t},kR=[bs,re,or,qr,l9,a9,n5],Da=t=>kR.find(xR(t)),r5=[...kR,Kt,Di],i5=t=>r5.find(xR(t));function s5(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,Uo(n))}function o5(t,e){const n=bh(t,e);let{transitionEnd:r={},transition:i={},...s}=n?t.makeTargetAnimatable(n,!1):{};s={...s,...r};for(const o in s){const a=P9(s[o]);s5(t,o,a)}}function a5(t,e,n){var r,i;const s=Object.keys(e).filter(a=>!t.hasValue(a)),o=s.length;if(o)for(let a=0;a<o;a++){const l=s[a],c=e[l];let d=null;Array.isArray(c)&&(d=c[0]),d===null&&(d=(i=(r=n[l])!==null&&r!==void 0?r:t.readValue(l))!==null&&i!==void 0?i:e[l]),d!=null&&(typeof d=="string"&&(RR(d)||AR(d))?d=parseFloat(d):!i5(d)&&Di.test(c)&&(d=IR(l,c)),t.addValue(l,Uo(d,{owner:t})),n[l]===void 0&&(n[l]=d),d!==null&&t.setBaseTarget(l,d))}}function l5(t,e){return e?(e[t]||e.default||e).from:void 0}function u5(t,e,n){const r={};for(const i in t){const s=l5(i,e);if(s!==void 0)r[i]=s;else{const o=n.getValue(i);o&&(r[i]=o.get())}}return r}function c5({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function d5(t,e){const n=t.get();if(Array.isArray(e)){for(let r=0;r<e.length;r++)if(e[r]!==n)return!0}else return n!==e}function bR(t,e,{delay:n=0,transitionOverride:r,type:i}={}){let{transition:s=t.getDefaultTransition(),transitionEnd:o,...a}=t.makeTargetAnimatable(e);const l=t.getValue("willChange");r&&(s=r);const c=[],d=i&&t.animationState&&t.animationState.getState()[i];for(const h in a){const p=t.getValue(h),g=a[h];if(!p||g===void 0||d&&c5(d,h))continue;const T={delay:n,elapsed:0,...lv(s||{},h)};if(window.HandoffAppearAnimations){const w=t.getProps()[DA];if(w){const y=window.HandoffAppearAnimations(w,h,p,Le);y!==null&&(T.elapsed=y,T.isHandoff=!0)}}let E=!T.isHandoff&&!d5(p,g);if(T.type==="spring"&&(p.getVelocity()||T.velocity)&&(E=!1),p.animation&&(E=!1),E)continue;p.start(uv(h,p,g,t.shouldReduceMotion&&ks.has(h)?{type:!1}:T));const A=p.animation;Nd(l)&&(l.add(h),A.then(()=>l.remove(h))),c.push(A)}return o&&Promise.all(c).then(()=>{o&&o5(t,o)}),c}function jm(t,e,n={}){const r=bh(t,e,n.custom);let{transition:i=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(i=n.transitionOverride);const s=r?()=>Promise.all(bR(t,r,n)):()=>Promise.resolve(),o=t.variantChildren&&t.variantChildren.size?(l=0)=>{const{delayChildren:c=0,staggerChildren:d,staggerDirection:h}=i;return h5(t,e,c+l,d,h,n)}:()=>Promise.resolve(),{when:a}=i;if(a){const[l,c]=a==="beforeChildren"?[s,o]:[o,s];return l().then(()=>c())}else return Promise.all([s(),o(n.delay)])}function h5(t,e,n=0,r=0,i=1,s){const o=[],a=(t.variantChildren.size-1)*r,l=i===1?(c=0)=>c*r:(c=0)=>a-c*r;return Array.from(t.variantChildren).sort(f5).forEach((c,d)=>{c.notify("AnimationStart",e),o.push(jm(c,e,{...s,delay:n+l(d)}).then(()=>c.notify("AnimationComplete",e)))}),Promise.all(o)}function f5(t,e){return t.sortNodePosition(e)}function p5(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const i=e.map(s=>jm(t,s,n));r=Promise.all(i)}else if(typeof e=="string")r=jm(t,e,n);else{const i=typeof e=="function"?bh(t,e,n.custom):e;r=Promise.all(bR(t,i,n))}return r.then(()=>t.notify("AnimationComplete",e))}const m5=[...Ky].reverse(),g5=Ky.length;function y5(t){return e=>Promise.all(e.map(({animation:n,options:r})=>p5(t,n,r)))}function v5(t){let e=y5(t);const n=_5();let r=!0;const i=(l,c)=>{const d=bh(t,c);if(d){const{transition:h,transitionEnd:p,...g}=d;l={...l,...g,...p}}return l};function s(l){e=l(t)}function o(l,c){const d=t.getProps(),h=t.getVariantContext(!0)||{},p=[],g=new Set;let T={},E=1/0;for(let w=0;w<g5;w++){const y=m5[w],_=n[y],b=d[y]!==void 0?d[y]:h[y],O=Ul(b),V=y===c?_.isActive:null;V===!1&&(E=w);let C=b===h[y]&&b!==d[y]&&O;if(C&&r&&t.manuallyAnimateOnMount&&(C=!1),_.protectedKeys={...T},!_.isActive&&V===null||!b&&!_.prevProp||Ah(b)||typeof b=="boolean")continue;let S=w5(_.prevProp,b)||y===c&&_.isActive&&!C&&O||w>E&&O,I=!1;const D=Array.isArray(b)?b:[b];let k=D.reduce(i,{});V===!1&&(k={});const{prevResolvedValues:R={}}=_,$={...R,...k},J=W=>{S=!0,g.has(W)&&(I=!0,g.delete(W)),_.needsAnimating[W]=!0};for(const W in $){const se=k[W],j=R[W];if(T.hasOwnProperty(W))continue;let H=!1;xd(se)&&xd(j)?H=!eR(se,j):H=se!==j,H?se!==void 0?J(W):g.add(W):se!==void 0&&g.has(W)?J(W):_.protectedKeys[W]=!0}_.prevProp=b,_.prevResolvedValues=k,_.isActive&&(T={...T,...k}),r&&t.blockInitialAnimation&&(S=!1),S&&(!C||I)&&p.push(...D.map(W=>({animation:W,options:{type:y,...l}})))}if(g.size){const w={};g.forEach(y=>{const _=t.getBaseTarget(y);_!==void 0&&(w[y]=_)}),p.push({animation:w})}let A=!!p.length;return r&&(d.initial===!1||d.initial===d.animate)&&!t.manuallyAnimateOnMount&&(A=!1),r=!1,A?e(p):Promise.resolve()}function a(l,c,d){var h;if(n[l].isActive===c)return Promise.resolve();(h=t.variantChildren)===null||h===void 0||h.forEach(g=>{var T;return(T=g.animationState)===null||T===void 0?void 0:T.setActive(l,c)}),n[l].isActive=c;const p=o(d,l);for(const g in n)n[g].protectedKeys={};return p}return{animateChanges:o,setActive:a,setAnimateFunction:s,getState:()=>n}}function w5(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!eR(e,t):!1}function qi(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function _5(){return{animate:qi(!0),whileInView:qi(),whileHover:qi(),whileTap:qi(),whileDrag:qi(),whileFocus:qi(),exit:qi()}}class T5 extends Ui{constructor(e){super(e),e.animationState||(e.animationState=v5(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();this.unmount(),Ah(e)&&(this.unmount=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){}}let E5=0;class P5 extends Ui{constructor(){super(...arguments),this.id=E5++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n,custom:r}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===i)return;const s=this.node.animationState.setActive("exit",!e,{custom:r??this.node.getProps().custom});n&&!e&&s.then(()=>n(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const S5={animation:{Feature:T5},exit:{Feature:P5}},MT=(t,e)=>Math.abs(t-e);function C5(t,e){const n=MT(t.x,e.x),r=MT(t.y,e.y);return Math.sqrt(n**2+r**2)}class DR{constructor(e,n,{transformPagePoint:r,contextWindow:i,dragSnapToOrigin:s=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const h=ep(this.lastMoveEventInfo,this.history),p=this.startEvent!==null,g=C5(h.offset,{x:0,y:0})>=3;if(!p&&!g)return;const{point:T}=h,{timestamp:E}=Vt;this.history.push({...T,timestamp:E});const{onStart:A,onMove:w}=this.handlers;p||(A&&A(this.lastMoveEvent,h),this.startEvent=this.lastMoveEvent),w&&w(this.lastMoveEvent,h)},this.handlePointerMove=(h,p)=>{this.lastMoveEvent=h,this.lastMoveEventInfo=Zf(p,this.transformPagePoint),Le.update(this.updatePoint,!0)},this.handlePointerUp=(h,p)=>{this.end();const{onEnd:g,onSessionEnd:T,resumeAnimation:E}=this.handlers;if(this.dragSnapToOrigin&&E&&E(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const A=ep(h.type==="pointercancel"?this.lastMoveEventInfo:Zf(p,this.transformPagePoint),this.history);this.startEvent&&g&&g(h,A),T&&T(h,A)},!YA(e))return;this.dragSnapToOrigin=s,this.handlers=n,this.transformPagePoint=r,this.contextWindow=i||window;const o=kh(e),a=Zf(o,this.transformPagePoint),{point:l}=a,{timestamp:c}=Vt;this.history=[{...l,timestamp:c}];const{onSessionStart:d}=n;d&&d(e,ep(a,this.history)),this.removeListeners=_i(Er(this.contextWindow,"pointermove",this.handlePointerMove),Er(this.contextWindow,"pointerup",this.handlePointerUp),Er(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Nr(this.updatePoint)}}function Zf(t,e){return e?{point:e(t.point)}:t}function LT(t,e){return{x:t.x-e.x,y:t.y-e.y}}function ep({point:t},e){return{point:t,delta:LT(t,NR(e)),offset:LT(t,I5(e)),velocity:A5(e,.1)}}function I5(t){return t[0]}function NR(t){return t[t.length-1]}function A5(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const i=NR(t);for(;n>=0&&(r=t[n],!(i.timestamp-r.timestamp>Ti(e)));)n--;if(!r)return{x:0,y:0};const s=Pr(i.timestamp-r.timestamp);if(s===0)return{x:0,y:0};const o={x:(i.x-r.x)/s,y:(i.y-r.y)/s};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function wn(t){return t.max-t.min}function Bm(t,e=0,n=.01){return Math.abs(t-e)<=n}function FT(t,e,n,r=.5){t.origin=r,t.originPoint=Be(e.min,e.max,t.origin),t.scale=wn(n)/wn(e),(Bm(t.scale,1,1e-4)||isNaN(t.scale))&&(t.scale=1),t.translate=Be(n.min,n.max,t.origin)-t.originPoint,(Bm(t.translate)||isNaN(t.translate))&&(t.translate=0)}function ll(t,e,n,r){FT(t.x,e.x,n.x,r?r.originX:void 0),FT(t.y,e.y,n.y,r?r.originY:void 0)}function UT(t,e,n){t.min=n.min+e.min,t.max=t.min+wn(e)}function R5(t,e,n){UT(t.x,e.x,n.x),UT(t.y,e.y,n.y)}function jT(t,e,n){t.min=e.min-n.min,t.max=t.min+wn(e)}function ul(t,e,n){jT(t.x,e.x,n.x),jT(t.y,e.y,n.y)}function x5(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?Be(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?Be(n,t,r.max):Math.min(t,n)),t}function BT(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function k5(t,{top:e,left:n,bottom:r,right:i}){return{x:BT(t.x,n,i),y:BT(t.y,e,r)}}function $T(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function b5(t,e){return{x:$T(t.x,e.x),y:$T(t.y,e.y)}}function D5(t,e){let n=.5;const r=wn(t),i=wn(e);return i>r?n=Bl(e.min,e.max-r,t.min):r>i&&(n=Bl(t.min,t.max-i,e.min)),bi(0,1,n)}function N5(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const $m=.35;function O5(t=$m){return t===!1?t=0:t===!0&&(t=$m),{x:zT(t,"left","right"),y:zT(t,"top","bottom")}}function zT(t,e,n){return{min:WT(t,e),max:WT(t,n)}}function WT(t,e){return typeof t=="number"?t:t[e]||0}const HT=()=>({translate:0,scale:1,origin:0,originPoint:0}),lo=()=>({x:HT(),y:HT()}),qT=()=>({min:0,max:0}),at=()=>({x:qT(),y:qT()});function Pn(t){return[t("x"),t("y")]}function OR({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function V5({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function M5(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function tp(t){return t===void 0||t===1}function zm({scale:t,scaleX:e,scaleY:n}){return!tp(t)||!tp(e)||!tp(n)}function Xi(t){return zm(t)||VR(t)||t.z||t.rotate||t.rotateX||t.rotateY}function VR(t){return GT(t.x)||GT(t.y)}function GT(t){return t&&t!=="0%"}function Od(t,e,n){const r=t-n,i=e*r;return n+i}function KT(t,e,n,r,i){return i!==void 0&&(t=Od(t,i,r)),Od(t,n,r)+e}function Wm(t,e=0,n=1,r,i){t.min=KT(t.min,e,n,r,i),t.max=KT(t.max,e,n,r,i)}function MR(t,{x:e,y:n}){Wm(t.x,e.translate,e.scale,e.originPoint),Wm(t.y,n.translate,n.scale,n.originPoint)}function L5(t,e,n,r=!1){const i=n.length;if(!i)return;e.x=e.y=1;let s,o;for(let a=0;a<i;a++){s=n[a],o=s.projectionDelta;const l=s.instance;l&&l.style&&l.style.display==="contents"||(r&&s.options.layoutScroll&&s.scroll&&s!==s.root&&uo(t,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,MR(t,o)),r&&Xi(s.latestValues)&&uo(t,s.latestValues))}e.x=YT(e.x),e.y=YT(e.y)}function YT(t){return Number.isInteger(t)||t>1.0000000000001||t<.999999999999?t:1}function Yr(t,e){t.min=t.min+e,t.max=t.max+e}function QT(t,e,[n,r,i]){const s=e[i]!==void 0?e[i]:.5,o=Be(t.min,t.max,s);Wm(t,e[n],e[r],o,e.scale)}const F5=["x","scaleX","originX"],U5=["y","scaleY","originY"];function uo(t,e){QT(t.x,e,F5),QT(t.y,e,U5)}function LR(t,e){return OR(M5(t.getBoundingClientRect(),e))}function j5(t,e,n){const r=LR(t,n),{scroll:i}=e;return i&&(Yr(r.x,i.offset.x),Yr(r.y,i.offset.y)),r}const FR=({current:t})=>t?t.ownerDocument.defaultView:null,B5=new WeakMap;class $5{constructor(e){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=at(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const i=d=>{const{dragSnapToOrigin:h}=this.getProps();h?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(kh(d,"page").point)},s=(d,h)=>{const{drag:p,dragPropagation:g,onDragStart:T}=this.getProps();if(p&&!g&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=XA(p),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Pn(A=>{let w=this.getAxisMotionValue(A).get()||0;if(or.test(w)){const{projection:y}=this.visualElement;if(y&&y.layout){const _=y.layout.layoutBox[A];_&&(w=wn(_)*(parseFloat(w)/100))}}this.originPoint[A]=w}),T&&Le.update(()=>T(d,h),!1,!0);const{animationState:E}=this.visualElement;E&&E.setActive("whileDrag",!0)},o=(d,h)=>{const{dragPropagation:p,dragDirectionLock:g,onDirectionLock:T,onDrag:E}=this.getProps();if(!p&&!this.openGlobalLock)return;const{offset:A}=h;if(g&&this.currentDirection===null){this.currentDirection=z5(A),this.currentDirection!==null&&T&&T(this.currentDirection);return}this.updateAxis("x",h.point,A),this.updateAxis("y",h.point,A),this.visualElement.render(),E&&E(d,h)},a=(d,h)=>this.stop(d,h),l=()=>Pn(d=>{var h;return this.getAnimationState(d)==="paused"&&((h=this.getAxisMotionValue(d).animation)===null||h===void 0?void 0:h.play())}),{dragSnapToOrigin:c}=this.getProps();this.panSession=new DR(e,{onSessionStart:i,onStart:s,onMove:o,onSessionEnd:a,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:c,contextWindow:FR(this.visualElement)})}stop(e,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:i}=n;this.startAnimation(i);const{onDragEnd:s}=this.getProps();s&&Le.update(()=>s(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:i}=this.getProps();if(!r||!nc(e,i,this.currentDirection))return;const s=this.getAxisMotionValue(e);let o=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(o=x5(o,this.constraints[e],this.elastic[e])),s.set(o)}resolveConstraints(){var e;const{dragConstraints:n,dragElastic:r}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,s=this.constraints;n&&oo(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&i?this.constraints=k5(i.layoutBox,n):this.constraints=!1,this.elastic=O5(r),s!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&Pn(o=>{this.getAxisMotionValue(o)&&(this.constraints[o]=N5(i.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!oo(e))return!1;const r=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const s=j5(r,i.root,this.visualElement.getTransformPagePoint());let o=b5(i.layout.layoutBox,s);if(n){const a=n(V5(o));this.hasMutatedConstraints=!!a,a&&(o=OR(a))}return o}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:s,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},c=Pn(d=>{if(!nc(d,n,this.currentDirection))return;let h=l&&l[d]||{};o&&(h={min:0,max:0});const p=i?200:1e6,g=i?40:1e7,T={type:"inertia",velocity:r?e[d]:0,bounceStiffness:p,bounceDamping:g,timeConstant:750,restDelta:1,restSpeed:10,...s,...h};return this.startAxisValueAnimation(d,T)});return Promise.all(c).then(a)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return r.start(uv(e,r,0,n))}stopAnimation(){Pn(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Pn(e=>{var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(e){const n="_drag"+e.toUpperCase(),r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){Pn(n=>{const{drag:r}=this.getProps();if(!nc(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,s=this.getAxisMotionValue(n);if(i&&i.layout){const{min:o,max:a}=i.layout.layoutBox[n];s.set(e[n]-Be(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!oo(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};Pn(o=>{const a=this.getAxisMotionValue(o);if(a){const l=a.get();i[o]=D5({min:l,max:l},this.constraints[o])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Pn(o=>{if(!nc(o,e,null))return;const a=this.getAxisMotionValue(o),{min:l,max:c}=this.constraints[o];a.set(Be(l,c,i[o]))})}addListeners(){if(!this.visualElement.current)return;B5.set(this.visualElement,this);const e=this.visualElement.current,n=Er(e,"pointerdown",l=>{const{drag:c,dragListener:d=!0}=this.getProps();c&&d&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();oo(l)&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,s=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),r();const o=wr(window,"resize",()=>this.scalePositionWithinConstraints()),a=i.addEventListener("didUpdate",({delta:l,hasLayoutChanged:c})=>{this.isDragging&&c&&(Pn(d=>{const h=this.getAxisMotionValue(d);h&&(this.originPoint[d]+=l[d].translate,h.set(h.get()+l[d].translate))}),this.visualElement.render())});return()=>{o(),n(),s(),a&&a()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:s=!1,dragElastic:o=$m,dragMomentum:a=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:s,dragElastic:o,dragMomentum:a}}}function nc(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function z5(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class W5 extends Ui{constructor(e){super(e),this.removeGroupControls=Qe,this.removeListeners=Qe,this.controls=new $5(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Qe}unmount(){this.removeGroupControls(),this.removeListeners()}}const XT=t=>(e,n)=>{t&&Le.update(()=>t(e,n))};class H5 extends Ui{constructor(){super(...arguments),this.removePointerDownListener=Qe}onPointerDown(e){this.session=new DR(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:FR(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:XT(e),onStart:XT(n),onMove:r,onEnd:(s,o)=>{delete this.session,i&&Le.update(()=>i(s,o))}}}mount(){this.removePointerDownListener=Er(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function q5(){const t=x.useContext(qy);if(t===null)return[!0,null];const{isPresent:e,onExitComplete:n,register:r}=t,i=x.useId();return x.useEffect(()=>r(i),[]),!e&&n?[!1,()=>n&&n(i)]:[!0]}const Ic={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function JT(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Na={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(re.test(t))t=parseFloat(t);else return t;const n=JT(t,e.target.x),r=JT(t,e.target.y);return`${n}% ${r}%`}},G5={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,i=Di.parse(t);if(i.length>5)return r;const s=Di.createTransformer(t),o=typeof i[0]!="number"?1:0,a=n.x.scale*e.x,l=n.y.scale*e.y;i[0+o]/=a,i[1+o]/=l;const c=Be(a,l,.5);return typeof i[2+o]=="number"&&(i[2+o]/=c),typeof i[3+o]=="number"&&(i[3+o]/=c),s(i)}};class K5 extends wt.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:s}=e;e9(Y5),s&&(n.group&&n.group.add(s),r&&r.register&&i&&r.register(s),s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),Ic.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:i,isPresent:s}=this.props,o=r.projection;return o&&(o.isPresent=s,i||e.layoutDependency!==n||n===void 0?o.willUpdate():this.safeToRemove(),e.isPresent!==s&&(s?o.promote():o.relegate()||Le.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),queueMicrotask(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=e;i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function UR(t){const[e,n]=q5(),r=x.useContext(OA);return wt.createElement(K5,{...t,layoutGroup:r,switchLayoutGroup:x.useContext(VA),isPresent:e,safeToRemove:n})}const Y5={borderRadius:{...Na,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Na,borderTopRightRadius:Na,borderBottomLeftRadius:Na,borderBottomRightRadius:Na,boxShadow:G5},jR=["TopLeft","TopRight","BottomLeft","BottomRight"],Q5=jR.length,ZT=t=>typeof t=="string"?parseFloat(t):t,eE=t=>typeof t=="number"||re.test(t);function X5(t,e,n,r,i,s){i?(t.opacity=Be(0,n.opacity!==void 0?n.opacity:1,J5(r)),t.opacityExit=Be(e.opacity!==void 0?e.opacity:1,0,Z5(r))):s&&(t.opacity=Be(e.opacity!==void 0?e.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let o=0;o<Q5;o++){const a=`border${jR[o]}Radius`;let l=tE(e,a),c=tE(n,a);if(l===void 0&&c===void 0)continue;l||(l=0),c||(c=0),l===0||c===0||eE(l)===eE(c)?(t[a]=Math.max(Be(ZT(l),ZT(c),r),0),(or.test(c)||or.test(l))&&(t[a]+="%")):t[a]=c}(e.rotate||n.rotate)&&(t.rotate=Be(e.rotate||0,n.rotate||0,r))}function tE(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const J5=BR(0,.5,uR),Z5=BR(.5,.95,Qe);function BR(t,e,n){return r=>r<t?0:r>e?1:n(Bl(t,e,r))}function nE(t,e){t.min=e.min,t.max=e.max}function En(t,e){nE(t.x,e.x),nE(t.y,e.y)}function rE(t,e,n,r,i){return t-=e,t=Od(t,1/n,r),i!==void 0&&(t=Od(t,1/i,r)),t}function e$(t,e=0,n=1,r=.5,i,s=t,o=t){if(or.test(e)&&(e=parseFloat(e),e=Be(o.min,o.max,e/100)-o.min),typeof e!="number")return;let a=Be(s.min,s.max,r);t===s&&(a-=e),t.min=rE(t.min,e,n,a,i),t.max=rE(t.max,e,n,a,i)}function iE(t,e,[n,r,i],s,o){e$(t,e[n],e[r],e[i],e.scale,s,o)}const t$=["x","scaleX","originX"],n$=["y","scaleY","originY"];function sE(t,e,n,r){iE(t.x,e,t$,n?n.x:void 0,r?r.x:void 0),iE(t.y,e,n$,n?n.y:void 0,r?r.y:void 0)}function oE(t){return t.translate===0&&t.scale===1}function $R(t){return oE(t.x)&&oE(t.y)}function r$(t,e){return t.x.min===e.x.min&&t.x.max===e.x.max&&t.y.min===e.y.min&&t.y.max===e.y.max}function zR(t,e){return Math.round(t.x.min)===Math.round(e.x.min)&&Math.round(t.x.max)===Math.round(e.x.max)&&Math.round(t.y.min)===Math.round(e.y.min)&&Math.round(t.y.max)===Math.round(e.y.max)}function aE(t){return wn(t.x)/wn(t.y)}class i${constructor(){this.members=[]}add(e){cv(this.members,e),e.scheduleRender()}remove(e){if(dv(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(i=>e===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const s=this.members[i];if(s.isPresent!==!1){r=s;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function lE(t,e,n){let r="";const i=t.x.translate/e.x,s=t.y.translate/e.y;if((i||s)&&(r=`translate3d(${i}px, ${s}px, 0) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{rotate:l,rotateX:c,rotateY:d}=n;l&&(r+=`rotate(${l}deg) `),c&&(r+=`rotateX(${c}deg) `),d&&(r+=`rotateY(${d}deg) `)}const o=t.x.scale*e.x,a=t.y.scale*e.y;return(o!==1||a!==1)&&(r+=`scale(${o}, ${a})`),r||"none"}const s$=(t,e)=>t.depth-e.depth;class o${constructor(){this.children=[],this.isDirty=!1}add(e){cv(this.children,e),this.isDirty=!0}remove(e){dv(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(s$),this.isDirty=!1,this.children.forEach(e)}}function a$(t,e){const n=performance.now(),r=({timestamp:i})=>{const s=i-n;s>=e&&(Nr(r),t(s-e))};return Le.read(r,!0),()=>Nr(r)}function l$(t){window.MotionDebug&&window.MotionDebug.record(t)}function u$(t){return t instanceof SVGElement&&t.tagName!=="svg"}function c$(t,e,n){const r=un(t)?t:Uo(t);return r.start(uv("",r,e,n)),r.animation}const uE=["","X","Y","Z"],d$={visibility:"hidden"},cE=1e3;let h$=0;const Ji={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function WR({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(o={},a=e==null?void 0:e()){this.id=h$++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Ji.totalNodes=Ji.resolvedTargetDeltas=Ji.recalculatedProjection=0,this.nodes.forEach(m$),this.nodes.forEach(_$),this.nodes.forEach(T$),this.nodes.forEach(g$),l$(Ji)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new o$)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new hv),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const l=this.eventHandlers.get(o);l&&l.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,a=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=u$(o),this.instance=o;const{layoutId:l,layout:c,visualElement:d}=this.options;if(d&&!d.current&&d.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),a&&(c||l)&&(this.isLayoutDirty=!0),t){let h;const p=()=>this.root.updateBlockedByResize=!1;t(o,()=>{this.root.updateBlockedByResize=!0,h&&h(),h=a$(p,250),Ic.hasAnimatedSinceResize&&(Ic.hasAnimatedSinceResize=!1,this.nodes.forEach(hE))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&d&&(l||c)&&this.addEventListener("didUpdate",({delta:h,hasLayoutChanged:p,hasRelativeTargetChanged:g,layout:T})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const E=this.options.transition||d.getDefaultTransition()||I$,{onLayoutAnimationStart:A,onLayoutAnimationComplete:w}=d.getProps(),y=!this.targetLayout||!zR(this.targetLayout,T)||g,_=!p&&g;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||_||p&&(y||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(h,_);const b={...lv(E,"layout"),onPlay:A,onComplete:w};(d.shouldReduceMotion||this.options.layoutRoot)&&(b.delay=0,b.type=!1),this.startAnimation(b)}else p||hE(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=T})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Nr(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(E$),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const h=this.path[d];h.shouldResetTransform=!0,h.updateScroll("snapshot"),h.options.layoutRoot&&h.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(dE);return}this.isUpdating||this.nodes.forEach(v$),this.isUpdating=!1,this.nodes.forEach(w$),this.nodes.forEach(f$),this.nodes.forEach(p$),this.clearAllSnapshots();const a=performance.now();Vt.delta=bi(0,1e3/60,a-Vt.timestamp),Vt.timestamp=a,Vt.isProcessing=!0,Hf.update.process(Vt),Hf.preRender.process(Vt),Hf.render.process(Vt),Vt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(y$),this.sharedNodes.forEach(P$)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Le.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Le.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=at(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a&&(this.scroll={animationId:this.root.animationId,phase:o,isRoot:r(this.instance),offset:n(this.instance)})}resetTransform(){if(!i)return;const o=this.isLayoutDirty||this.shouldResetTransform,a=this.projectionDelta&&!$R(this.projectionDelta),l=this.getTransformTemplate(),c=l?l(this.latestValues,""):void 0,d=c!==this.prevTransformTemplateValue;o&&(a||Xi(this.latestValues)||d)&&(i(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return o&&(l=this.removeTransform(l)),A$(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:o}=this.options;if(!o)return at();const a=o.measureViewportBox(),{scroll:l}=this.root;return l&&(Yr(a.x,l.offset.x),Yr(a.y,l.offset.y)),a}removeElementScroll(o){const a=at();En(a,o);for(let l=0;l<this.path.length;l++){const c=this.path[l],{scroll:d,options:h}=c;if(c!==this.root&&d&&h.layoutScroll){if(d.isRoot){En(a,o);const{scroll:p}=this.root;p&&(Yr(a.x,-p.offset.x),Yr(a.y,-p.offset.y))}Yr(a.x,d.offset.x),Yr(a.y,d.offset.y)}}return a}applyTransform(o,a=!1){const l=at();En(l,o);for(let c=0;c<this.path.length;c++){const d=this.path[c];!a&&d.options.layoutScroll&&d.scroll&&d!==d.root&&uo(l,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),Xi(d.latestValues)&&uo(l,d.latestValues)}return Xi(this.latestValues)&&uo(l,this.latestValues),l}removeTransform(o){const a=at();En(a,o);for(let l=0;l<this.path.length;l++){const c=this.path[l];if(!c.instance||!Xi(c.latestValues))continue;zm(c.latestValues)&&c.updateSnapshot();const d=at(),h=c.measurePageBox();En(d,h),sE(a,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,d)}return Xi(this.latestValues)&&sE(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Vt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var a;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==l;if(!(o||c&&this.isSharedProjectionDirty||this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:h,layoutId:p}=this.options;if(!(!this.layout||!(h||p))){if(this.resolvedRelativeTargetAt=Vt.timestamp,!this.targetDelta&&!this.relativeTarget){const g=this.getClosestProjectingParent();g&&g.layout&&this.animationProgress!==1?(this.relativeParent=g,this.forceRelativeParentToResolveTarget(),this.relativeTarget=at(),this.relativeTargetOrigin=at(),ul(this.relativeTargetOrigin,this.layout.layoutBox,g.layout.layoutBox),En(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=at(),this.targetWithTransforms=at()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),R5(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):En(this.target,this.layout.layoutBox),MR(this.target,this.targetDelta)):En(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const g=this.getClosestProjectingParent();g&&!!g.resumingFrom==!!this.resumingFrom&&!g.options.layoutScroll&&g.target&&this.animationProgress!==1?(this.relativeParent=g,this.forceRelativeParentToResolveTarget(),this.relativeTarget=at(),this.relativeTargetOrigin=at(),ul(this.relativeTargetOrigin,this.target,g.target),En(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Ji.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||zm(this.parent.latestValues)||VR(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const a=this.getLead(),l=!!this.resumingFrom||this!==a;let c=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(c=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===Vt.timestamp&&(c=!1),c)return;const{layout:d,layoutId:h}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||h))return;En(this.layoutCorrected,this.layout.layoutBox);const p=this.treeScale.x,g=this.treeScale.y;L5(this.layoutCorrected,this.treeScale,this.path,l),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox);const{target:T}=a;if(!T){this.projectionTransform&&(this.projectionDelta=lo(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=lo(),this.projectionDeltaWithTransform=lo());const E=this.projectionTransform;ll(this.projectionDelta,this.layoutCorrected,T,this.latestValues),this.projectionTransform=lE(this.projectionDelta,this.treeScale),(this.projectionTransform!==E||this.treeScale.x!==p||this.treeScale.y!==g)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",T)),Ji.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),o){const a=this.getStack();a&&a.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(o,a=!1){const l=this.snapshot,c=l?l.latestValues:{},d={...this.latestValues},h=lo();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const p=at(),g=l?l.source:void 0,T=this.layout?this.layout.source:void 0,E=g!==T,A=this.getStack(),w=!A||A.members.length<=1,y=!!(E&&!w&&this.options.crossfade===!0&&!this.path.some(C$));this.animationProgress=0;let _;this.mixTargetDelta=b=>{const O=b/1e3;fE(h.x,o.x,O),fE(h.y,o.y,O),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(ul(p,this.layout.layoutBox,this.relativeParent.layout.layoutBox),S$(this.relativeTarget,this.relativeTargetOrigin,p,O),_&&r$(this.relativeTarget,_)&&(this.isProjectionDirty=!1),_||(_=at()),En(_,this.relativeTarget)),E&&(this.animationValues=d,X5(d,c,this.latestValues,O,y,w)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=O},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Nr(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Le.update(()=>{Ic.hasAnimatedSinceResize=!0,this.currentAnimation=c$(0,cE,{...o,onUpdate:a=>{this.mixTargetDelta(a),o.onUpdate&&o.onUpdate(a)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(cE),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:l,layout:c,latestValues:d}=o;if(!(!a||!l||!c)){if(this!==o&&this.layout&&c&&HR(this.options.animationType,this.layout.layoutBox,c.layoutBox)){l=this.target||at();const h=wn(this.layout.layoutBox.x);l.x.min=o.target.x.min,l.x.max=l.x.min+h;const p=wn(this.layout.layoutBox.y);l.y.min=o.target.y.min,l.y.max=l.y.min+p}En(a,l),uo(a,d),ll(this.projectionDeltaWithTransform,this.layoutCorrected,a,d)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new i$),this.sharedNodes.get(o).add(a);const c=a.options.initialPromotionConfig;a.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:a}=this.options;return a?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:a}=this.options;return a?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:l}={}){const c=this.getStack();c&&c.promote(this,l),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:l}=o;if((l.rotate||l.rotateX||l.rotateY||l.rotateZ)&&(a=!0),!a)return;const c={};for(let d=0;d<uE.length;d++){const h="rotate"+uE[d];l[h]&&(c[h]=l[h],o.setStaticValue(h,0))}o.render();for(const d in c)o.setStaticValue(d,c[d]);o.scheduleRender()}getProjectionStyles(o){var a,l;if(!this.instance||this.isSVG)return;if(!this.isVisible)return d$;const c={visibility:""},d=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,c.opacity="",c.pointerEvents=Cc(o==null?void 0:o.pointerEvents)||"",c.transform=d?d(this.latestValues,""):"none",c;const h=this.getLead();if(!this.projectionDelta||!this.layout||!h.target){const E={};return this.options.layoutId&&(E.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,E.pointerEvents=Cc(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!Xi(this.latestValues)&&(E.transform=d?d({},""):"none",this.hasProjected=!1),E}const p=h.animationValues||h.latestValues;this.applyTransformsToTarget(),c.transform=lE(this.projectionDeltaWithTransform,this.treeScale,p),d&&(c.transform=d(p,c.transform));const{x:g,y:T}=this.projectionDelta;c.transformOrigin=`${g.origin*100}% ${T.origin*100}% 0`,h.animationValues?c.opacity=h===this?(l=(a=p.opacity)!==null&&a!==void 0?a:this.latestValues.opacity)!==null&&l!==void 0?l:1:this.preserveOpacity?this.latestValues.opacity:p.opacityExit:c.opacity=h===this?p.opacity!==void 0?p.opacity:"":p.opacityExit!==void 0?p.opacityExit:0;for(const E in Ad){if(p[E]===void 0)continue;const{correct:A,applyTo:w}=Ad[E],y=c.transform==="none"?p[E]:A(p[E],h);if(w){const _=w.length;for(let b=0;b<_;b++)c[w[b]]=y}else c[E]=y}return this.options.layoutId&&(c.pointerEvents=h===this?Cc(o==null?void 0:o.pointerEvents)||"":"none"),c}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)===null||a===void 0?void 0:a.stop()}),this.root.nodes.forEach(dE),this.root.sharedNodes.clear()}}}function f$(t){t.updateLayout()}function p$(t){var e;const n=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=t.layout,{animationType:s}=t.options,o=n.source!==t.layout.source;s==="size"?Pn(h=>{const p=o?n.measuredBox[h]:n.layoutBox[h],g=wn(p);p.min=r[h].min,p.max=p.min+g}):HR(s,n.layoutBox,r)&&Pn(h=>{const p=o?n.measuredBox[h]:n.layoutBox[h],g=wn(r[h]);p.max=p.min+g,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[h].max=t.relativeTarget[h].min+g)});const a=lo();ll(a,r,n.layoutBox);const l=lo();o?ll(l,t.applyTransform(i,!0),n.measuredBox):ll(l,r,n.layoutBox);const c=!$R(a);let d=!1;if(!t.resumeFrom){const h=t.getClosestProjectingParent();if(h&&!h.resumeFrom){const{snapshot:p,layout:g}=h;if(p&&g){const T=at();ul(T,n.layoutBox,p.layoutBox);const E=at();ul(E,r,g.layoutBox),zR(T,E)||(d=!0),h.options.layoutRoot&&(t.relativeTarget=E,t.relativeTargetOrigin=T,t.relativeParent=h)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:l,layoutDelta:a,hasLayoutChanged:c,hasRelativeTargetChanged:d})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function m$(t){Ji.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function g$(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function y$(t){t.clearSnapshot()}function dE(t){t.clearMeasurements()}function v$(t){t.isLayoutDirty=!1}function w$(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function hE(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function _$(t){t.resolveTargetDelta()}function T$(t){t.calcProjection()}function E$(t){t.resetRotation()}function P$(t){t.removeLeadSnapshot()}function fE(t,e,n){t.translate=Be(e.translate,0,n),t.scale=Be(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function pE(t,e,n,r){t.min=Be(e.min,n.min,r),t.max=Be(e.max,n.max,r)}function S$(t,e,n,r){pE(t.x,e.x,n.x,r),pE(t.y,e.y,n.y,r)}function C$(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const I$={duration:.45,ease:[.4,0,.1,1]},mE=t=>typeof navigator<"u"&&navigator.userAgent.toLowerCase().includes(t),gE=mE("applewebkit/")&&!mE("chrome/")?Math.round:Qe;function yE(t){t.min=gE(t.min),t.max=gE(t.max)}function A$(t){yE(t.x),yE(t.y)}function HR(t,e,n){return t==="position"||t==="preserve-aspect"&&!Bm(aE(e),aE(n),.2)}const R$=WR({attachResizeListener:(t,e)=>wr(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),np={current:void 0},qR=WR({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!np.current){const t=new R$({});t.mount(window),t.setOptions({layoutScroll:!0}),np.current=t}return np.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),x$={pan:{Feature:H5},drag:{Feature:W5,ProjectionNode:qR,MeasureLayout:UR}},k$=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function b$(t){const e=k$.exec(t);if(!e)return[,];const[,n,r]=e;return[n,r]}function Hm(t,e,n=1){const[r,i]=b$(t);if(!r)return;const s=window.getComputedStyle(e).getPropertyValue(r);if(s){const o=s.trim();return RR(o)?parseFloat(o):o}else return Om(i)?Hm(i,e,n+1):i}function D$(t,{...e},n){const r=t.current;if(!(r instanceof Element))return{target:e,transitionEnd:n};n&&(n={...n}),t.values.forEach(i=>{const s=i.get();if(!Om(s))return;const o=Hm(s,r);o&&i.set(o)});for(const i in e){const s=e[i];if(!Om(s))continue;const o=Hm(s,r);o&&(e[i]=o,n||(n={}),n[i]===void 0&&(n[i]=s))}return{target:e,transitionEnd:n}}const N$=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),GR=t=>N$.has(t),O$=t=>Object.keys(t).some(GR),vE=t=>t===bs||t===re,wE=(t,e)=>parseFloat(t.split(", ")[e]),_E=(t,e)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const i=r.match(/^matrix3d\((.+)\)$/);if(i)return wE(i[1],e);{const s=r.match(/^matrix\((.+)\)$/);return s?wE(s[1],t):0}},V$=new Set(["x","y","z"]),M$=su.filter(t=>!V$.has(t));function L$(t){const e=[];return M$.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e.length&&t.render(),e}const jo={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:_E(4,13),y:_E(5,14)};jo.translateX=jo.x;jo.translateY=jo.y;const F$=(t,e,n)=>{const r=e.measureViewportBox(),i=e.current,s=getComputedStyle(i),{display:o}=s,a={};o==="none"&&e.setStaticValue("display",t.display||"block"),n.forEach(c=>{a[c]=jo[c](r,s)}),e.render();const l=e.measureViewportBox();return n.forEach(c=>{const d=e.getValue(c);d&&d.jump(a[c]),t[c]=jo[c](l,s)}),t},U$=(t,e,n={},r={})=>{e={...e},r={...r};const i=Object.keys(e).filter(GR);let s=[],o=!1;const a=[];if(i.forEach(l=>{const c=t.getValue(l);if(!t.hasValue(l))return;let d=n[l],h=Da(d);const p=e[l];let g;if(xd(p)){const T=p.length,E=p[0]===null?1:0;d=p[E],h=Da(d);for(let A=E;A<T&&p[A]!==null;A++)g?rv(Da(p[A])===g):g=Da(p[A])}else g=Da(p);if(h!==g)if(vE(h)&&vE(g)){const T=c.get();typeof T=="string"&&c.set(parseFloat(T)),typeof p=="string"?e[l]=parseFloat(p):Array.isArray(p)&&g===re&&(e[l]=p.map(parseFloat))}else h!=null&&h.transform&&(g!=null&&g.transform)&&(d===0||p===0)?d===0?c.set(g.transform(d)):e[l]=h.transform(p):(o||(s=L$(t),o=!0),a.push(l),r[l]=r[l]!==void 0?r[l]:e[l],c.jump(p))}),a.length){const l=a.indexOf("height")>=0?window.pageYOffset:null,c=F$(e,t,a);return s.length&&s.forEach(([d,h])=>{t.getValue(d).set(h)}),t.render(),Ih&&l!==null&&window.scrollTo({top:l}),{target:c,transitionEnd:r}}else return{target:e,transitionEnd:r}};function j$(t,e,n,r){return O$(e)?U$(t,e,n,r):{target:e,transitionEnd:r}}const B$=(t,e,n,r)=>{const i=D$(t,e,r);return e=i.target,r=i.transitionEnd,j$(t,e,n,r)},qm={current:null},KR={current:!1};function $$(){if(KR.current=!0,!!Ih)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>qm.current=t.matches;t.addListener(e),e()}else qm.current=!1}function z$(t,e,n){const{willChange:r}=e;for(const i in e){const s=e[i],o=n[i];if(un(s))t.addValue(i,s),Nd(r)&&r.add(i);else if(un(o))t.addValue(i,Uo(s,{owner:t})),Nd(r)&&r.remove(i);else if(o!==s)if(t.hasValue(i)){const a=t.getValue(i);!a.hasAnimated&&a.set(s)}else{const a=t.getStaticValue(i);t.addValue(i,Uo(a!==void 0?a:s,{owner:t}))}}for(const i in n)e[i]===void 0&&t.removeValue(i);return e}const TE=new WeakMap,YR=Object.keys(jl),W$=YR.length,EE=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],H$=Yy.length;class q${constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:i,visualState:s},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>Le.render(this.render,!1,!0);const{latestValues:a,renderState:l}=s;this.latestValues=a,this.baseTarget={...a},this.initialValues=n.initial?{...a}:{},this.renderState=l,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=o,this.isControllingVariants=Rh(n),this.isVariantNode=NA(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:c,...d}=this.scrapeMotionValuesFromProps(n,{});for(const h in d){const p=d[h];a[h]!==void 0&&un(p)&&(p.set(a[h],!1),Nd(c)&&c.add(h))}}scrapeMotionValuesFromProps(e,n){return{}}mount(e){this.current=e,TE.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),KR.current||$$(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:qm.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){TE.delete(this.current),this.projection&&this.projection.unmount(),Nr(this.notifyUpdate),Nr(this.render),this.valueSubscriptions.forEach(e=>e()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features)this.features[e].unmount();this.current=null}bindToMotionValue(e,n){const r=ks.has(e),i=n.on("change",o=>{this.latestValues[e]=o,this.props.onUpdate&&Le.update(this.notifyUpdate,!1,!0),r&&this.projection&&(this.projection.isTransformDirty=!0)}),s=n.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(e,()=>{i(),s()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}loadFeatures({children:e,...n},r,i,s){let o,a;for(let l=0;l<W$;l++){const c=YR[l],{isEnabled:d,Feature:h,ProjectionNode:p,MeasureLayout:g}=jl[c];p&&(o=p),d(n)&&(!this.features[c]&&h&&(this.features[c]=new h(this)),g&&(a=g))}if((this.type==="html"||this.type==="svg")&&!this.projection&&o){this.projection=new o(this.latestValues,this.parent&&this.parent.projection);const{layoutId:l,layout:c,drag:d,dragConstraints:h,layoutScroll:p,layoutRoot:g}=n;this.projection.setOptions({layoutId:l,layout:c,alwaysMeasureLayout:!!d||h&&oo(h),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof c=="string"?c:"both",initialPromotionConfig:s,layoutScroll:p,layoutRoot:g})}return a}updateFeatures(){for(const e in this.features){const n=this.features[e];n.isMounted?n.update():(n.mount(),n.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):at()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}makeTargetAnimatable(e,n=!0){return this.makeTargetAnimatableFromInstance(e,this.props,n)}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<EE.length;r++){const i=EE[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const s=e["on"+i];s&&(this.propEventSubscriptions[i]=this.on(i,s))}this.prevMotionValues=z$(this,this.scrapeMotionValuesFromProps(e,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(e=!1){if(e)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const r=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(r.initial=this.props.initial),r}const n={};for(let r=0;r<H$;r++){const i=Yy[r],s=this.props[i];(Ul(s)||s===!1)&&(n[i]=s)}return n}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){n!==this.values.get(e)&&(this.removeValue(e),this.bindToMotionValue(e,n)),this.values.set(e,n),this.latestValues[e]=n.get()}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=Uo(n,{owner:this}),this.addValue(e,r)),r}readValue(e){var n;return this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(n=this.getBaseTargetFromProps(this.props,e))!==null&&n!==void 0?n:this.readValueFromInstance(this.current,e,this.options)}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:r}=this.props,i=typeof r=="string"||typeof r=="object"?(n=nv(this.props,r))===null||n===void 0?void 0:n[e]:void 0;if(r&&i!==void 0)return i;const s=this.getBaseTargetFromProps(this.props,e);return s!==void 0&&!un(s)?s:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new hv),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class QR extends q${sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}makeTargetAnimatableFromInstance({transition:e,transitionEnd:n,...r},{transformValues:i},s){let o=u5(r,e||{},this);if(i&&(n&&(n=i(n)),r&&(r=i(r)),o&&(o=i(o))),s){a5(this,r,o);const a=B$(this,r,o,n);n=a.transitionEnd,r=a.target}return{transition:e,transitionEnd:n,...r}}}function G$(t){return window.getComputedStyle(t)}class K$ extends QR{constructor(){super(...arguments),this.type="html"}readValueFromInstance(e,n){if(ks.has(n)){const r=av(n);return r&&r.default||0}else{const r=G$(e),i=(FA(n)?r.getPropertyValue(n):r[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:n}){return LR(e,n)}build(e,n,r,i){Xy(e,n,r,i.transformTemplate)}scrapeMotionValuesFromProps(e,n){return tv(e,n)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;un(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}renderInstance(e,n,r,i){WA(e,n,r,i)}}class Y$ extends QR{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(ks.has(n)){const r=av(n);return r&&r.default||0}return n=HA.has(n)?n:Gy(n),e.getAttribute(n)}measureInstanceViewportBox(){return at()}scrapeMotionValuesFromProps(e,n){return GA(e,n)}build(e,n,r,i){Zy(e,n,r,this.isSVGTag,i.transformTemplate)}renderInstance(e,n,r,i){qA(e,n,r,i)}mount(e){this.isSVGTag=ev(e.tagName),super.mount(e)}}const Q$=(t,e)=>Qy(t)?new Y$(e,{enableHardwareAcceleration:!1}):new K$(e,{enableHardwareAcceleration:!0}),X$={layout:{ProjectionNode:qR,MeasureLayout:UR}},J$={...S5,...W9,...x$,...X$},PE=Jj((t,e)=>b9(t,e,J$,Q$)),Z$=SA("inline-flex items-center justify-center rounded-lg text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-[#E27DBF] text-white hover:bg-[#FFB1DD]",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-lg px-3",lg:"h-11 rounded-lg px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),Gm=wt.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...i},s)=>{const o=r?G6:"button";return L.jsx(o,{className:xs(Z$({variant:e,size:n,className:t})),ref:s,...i})});Gm.displayName="Button";const SE="iosInstallDismissed";function ez(){const[t,e]=x.useState(null),[n,r]=x.useState(!1),[i,s]=x.useState(!1);x.useEffect(()=>{const l=p=>{p.preventDefault(),e(p),r(!0)};window.addEventListener("beforeinstallprompt",l);const c=/iphone|ipad|ipod/.test(window.navigator.userAgent.toLowerCase()),d=window.matchMedia("(display-mode: standalone)").matches||window.navigator.standalone,h=localStorage.getItem(SE);return!("onbeforeinstallprompt"in window)&&c&&!d&&!h&&s(!0),()=>window.removeEventListener("beforeinstallprompt",l)},[]);const o=async()=>{t&&(t.prompt(),await t.userChoice,e(null),r(!1))},a=()=>{s(!1),localStorage.setItem(SE,"1")};return n?L.jsx("div",{className:"fixed bottom-4 inset-x-0 flex justify-center z-50",children:L.jsx(Gm,{onClick:o,children:"Instalar aplicación"})}):i?L.jsxs("div",{className:"fixed bottom-0 inset-x-0 bg-white p-4 text-center border-t space-y-2 z-50",children:[L.jsx("p",{className:"text-sm",children:'Para instalar esta app, toca el botón Compartir y luego "Añadir a pantalla de inicio".'}),L.jsx(Gm,{variant:"outline",onClick:a,children:"Cerrar"})]}):null}const tz=x.lazy(()=>Ss(()=>import("./AuthPage-f6c2c8fa.js"),["assets/AuthPage-f6c2c8fa.js","assets/input-235c5ced.js","assets/label-0ecf343f.js","assets/eye-off-1c06221e.js","assets/eye-67758e41.js"])),nz=x.lazy(()=>Ss(()=>import("./DashboardPage-87b15230.js"),["assets/DashboardPage-87b15230.js","assets/DataEntryForm-99673c61.js","assets/input-235c5ced.js","assets/label-0ecf343f.js","assets/dialog-9607b487.js","assets/useCycleData-af0f9bf4.js","assets/eye-67758e41.js","assets/eye-off-1c06221e.js","assets/ChartTooltip-5350e5f6.js","assets/plus-1f07c869.js"])),rz=x.lazy(()=>Ss(()=>import("./ArchivedCyclesPage-a5d2d81d.js"),["assets/ArchivedCyclesPage-a5d2d81d.js","assets/useCycleData-af0f9bf4.js","assets/badge-fc139165.js","assets/dialog-9607b487.js","assets/input-235c5ced.js","assets/OverlapWarningDialog-7190f3a2.js","assets/plus-1f07c869.js","assets/eye-67758e41.js"])),iz=x.lazy(()=>Ss(()=>import("./CycleDetailPage-ff26e289.js"),["assets/CycleDetailPage-ff26e289.js","assets/DeletionDialog-1303d971.js","assets/badge-fc139165.js","assets/DataEntryForm-99673c61.js","assets/input-235c5ced.js","assets/label-0ecf343f.js","assets/dialog-9607b487.js","assets/useCycleData-af0f9bf4.js","assets/eye-67758e41.js","assets/eye-off-1c06221e.js","assets/OverlapWarningDialog-7190f3a2.js"])),sz=x.lazy(()=>Ss(()=>import("./SettingsPage-01be1fad.js"),["assets/SettingsPage-01be1fad.js","assets/input-235c5ced.js","assets/label-0ecf343f.js","assets/dialog-9607b487.js"])),oz=x.lazy(()=>Ss(()=>import("./ChartPage-4342ff1a.js"),["assets/ChartPage-4342ff1a.js","assets/DataEntryForm-99673c61.js","assets/input-235c5ced.js","assets/label-0ecf343f.js","assets/dialog-9607b487.js","assets/useCycleData-af0f9bf4.js","assets/eye-67758e41.js","assets/eye-off-1c06221e.js","assets/ChartTooltip-5350e5f6.js"])),az=x.lazy(()=>Ss(()=>import("./RecordsPage-01e062cc.js"),["assets/RecordsPage-01e062cc.js","assets/DeletionDialog-1303d971.js","assets/badge-fc139165.js","assets/DataEntryForm-99673c61.js","assets/input-235c5ced.js","assets/label-0ecf343f.js","assets/dialog-9607b487.js","assets/useCycleData-af0f9bf4.js","assets/eye-67758e41.js","assets/eye-off-1c06221e.js","assets/plus-1f07c869.js"]));function Bs({children:t}){const{user:e}=Vy();return e?t:L.jsx(Xp,{to:"/auth",replace:!0})}function lz(){const{user:t,loadingAuth:e}=Vy();return e?L.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[100dvh] bg-gradient-to-br from-rose-100 via-pink-100 to-rose-100 space-y-4",children:[L.jsx(PE.div,{className:"w-8 h-8 rounded-full bg-pink-500/80",animate:{opacity:[.4,1,.4]},transition:{duration:1.2,repeat:1/0}}),L.jsx(PE.p,{className:"text-pink-600 font-medium",initial:{opacity:0},animate:{opacity:1},transition:{delay:.2},children:"Cargando aplicación..."})]}):L.jsx(x.Suspense,{fallback:L.jsx("div",{className:"p-4 text-center",children:"Cargando..."}),children:L.jsxs($D,{children:[L.jsx(hr,{path:"/auth",element:t?L.jsx(Xp,{to:"/",replace:!0}):L.jsx(tz,{})}),L.jsx(hr,{path:"/",element:L.jsx(Bs,{children:L.jsx(xa,{children:L.jsx(nz,{})})})}),L.jsx(hr,{path:"/chart/:cycleId?",element:L.jsx(Bs,{children:L.jsx(oz,{})})}),L.jsx(hr,{path:"/records",element:L.jsx(Bs,{children:L.jsx(xa,{children:L.jsx(az,{})})})}),L.jsx(hr,{path:"/archived-cycles",element:L.jsx(Bs,{children:L.jsx(xa,{children:L.jsx(rz,{})})})}),L.jsx(hr,{path:"/settings",element:L.jsx(Bs,{children:L.jsx(xa,{children:L.jsx(sz,{})})})}),L.jsx(hr,{path:"/cycle/:cycleId",element:L.jsx(Bs,{children:L.jsx(xa,{children:L.jsx(iz,{})})})}),L.jsx(hr,{path:"*",element:L.jsx(Xp,{to:t?"/":"/auth",replace:!0})})]})})}function uz(){return L.jsxs(QD,{children:[L.jsx(ez,{}),L.jsxs(A4,{children:[L.jsx(a6,{children:L.jsx(lz,{})}),L.jsx(Bj,{})]})]})}rp.createRoot(document.getElementById("root")).render(L.jsx(wt.StrictMode,{children:L.jsx(uz,{})}));"serviceWorker"in navigator&&window.addEventListener("load",()=>{const t="/sw.js";navigator.serviceWorker.register(t)});export{ME as $,c6 as A,Gm as B,h6 as C,iA as D,mj as E,b4 as F,OI as G,O4 as H,Z$ as I,Xd as J,Ts as K,ZD as L,xa as M,eA as N,rA as O,ur as P,Id as Q,wt as R,Xb as S,M3 as T,p6 as U,Uf as V,Sa as W,m6 as X,vU as Y,Ca as Z,Dr as _,qP as a,pz as a0,mz as a1,Oy as b,ta as c,M4 as d,d6 as e,tn as f,cz as g,II as h,xs as i,L as j,SA as k,ke as l,PE as m,$t as n,R4 as o,Pe as p,ea as q,x as r,rn as s,Xe as t,Vy as u,Ed as v,Fl as w,XI as x,ki as y,fn as z};
