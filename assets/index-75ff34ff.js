function rL(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(t,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();function mS(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var gS={exports:{}},Lh={},vS={exports:{}},Se={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gu=Symbol.for("react.element"),iL=Symbol.for("react.portal"),oL=Symbol.for("react.fragment"),sL=Symbol.for("react.strict_mode"),aL=Symbol.for("react.profiler"),lL=Symbol.for("react.provider"),cL=Symbol.for("react.context"),uL=Symbol.for("react.forward_ref"),dL=Symbol.for("react.suspense"),fL=Symbol.for("react.memo"),hL=Symbol.for("react.lazy"),sx=Symbol.iterator;function pL(t){return t===null||typeof t!="object"?null:(t=sx&&t[sx]||t["@@iterator"],typeof t=="function"?t:null)}var yS={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},wS=Object.assign,_S={};function tl(t,e,n){this.props=t,this.context=e,this.refs=_S,this.updater=n||yS}tl.prototype.isReactComponent={};tl.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};tl.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function xS(){}xS.prototype=tl.prototype;function Qy(t,e,n){this.props=t,this.context=e,this.refs=_S,this.updater=n||yS}var Xy=Qy.prototype=new xS;Xy.constructor=Qy;wS(Xy,tl.prototype);Xy.isPureReactComponent=!0;var ax=Array.isArray,ES=Object.prototype.hasOwnProperty,Jy={current:null},bS={key:!0,ref:!0,__self:!0,__source:!0};function TS(t,e,n){var r,i={},o=null,s=null;if(e!=null)for(r in e.ref!==void 0&&(s=e.ref),e.key!==void 0&&(o=""+e.key),e)ES.call(e,r)&&!bS.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:gu,type:t,key:o,ref:s,props:i,_owner:Jy.current}}function mL(t,e){return{$$typeof:gu,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Zy(t){return typeof t=="object"&&t!==null&&t.$$typeof===gu}function gL(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var lx=/\/+/g;function bm(t,e){return typeof t=="object"&&t!==null&&t.key!=null?gL(""+t.key):e.toString(36)}function Gd(t,e,n,r,i){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var s=!1;if(t===null)s=!0;else switch(o){case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case gu:case iL:s=!0}}if(s)return s=t,i=i(s),t=r===""?"."+bm(s,0):r,ax(i)?(n="",t!=null&&(n=t.replace(lx,"$&/")+"/"),Gd(i,e,n,"",function(c){return c})):i!=null&&(Zy(i)&&(i=mL(i,n+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(lx,"$&/")+"/")+t)),e.push(i)),1;if(s=0,r=r===""?".":r+":",ax(t))for(var a=0;a<t.length;a++){o=t[a];var l=r+bm(o,a);s+=Gd(o,e,n,l,i)}else if(l=pL(t),typeof l=="function")for(t=l.call(t),a=0;!(o=t.next()).done;)o=o.value,l=r+bm(o,a++),s+=Gd(o,e,n,l,i);else if(o==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return s}function ld(t,e,n){if(t==null)return t;var r=[],i=0;return Gd(t,r,"","",function(o){return e.call(n,o,i++)}),r}function vL(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var mn={current:null},Kd={transition:null},yL={ReactCurrentDispatcher:mn,ReactCurrentBatchConfig:Kd,ReactCurrentOwner:Jy};function CS(){throw Error("act(...) is not supported in production builds of React.")}Se.Children={map:ld,forEach:function(t,e,n){ld(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return ld(t,function(){e++}),e},toArray:function(t){return ld(t,function(e){return e})||[]},only:function(t){if(!Zy(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Se.Component=tl;Se.Fragment=oL;Se.Profiler=aL;Se.PureComponent=Qy;Se.StrictMode=sL;Se.Suspense=dL;Se.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=yL;Se.act=CS;Se.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=wS({},t.props),i=t.key,o=t.ref,s=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,s=Jy.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)ES.call(e,l)&&!bS.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:gu,type:t.type,key:i,ref:o,props:r,_owner:s}};Se.createContext=function(t){return t={$$typeof:cL,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:lL,_context:t},t.Consumer=t};Se.createElement=TS;Se.createFactory=function(t){var e=TS.bind(null,t);return e.type=t,e};Se.createRef=function(){return{current:null}};Se.forwardRef=function(t){return{$$typeof:uL,render:t}};Se.isValidElement=Zy;Se.lazy=function(t){return{$$typeof:hL,_payload:{_status:-1,_result:t},_init:vL}};Se.memo=function(t,e){return{$$typeof:fL,type:t,compare:e===void 0?null:e}};Se.startTransition=function(t){var e=Kd.transition;Kd.transition={};try{t()}finally{Kd.transition=e}};Se.unstable_act=CS;Se.useCallback=function(t,e){return mn.current.useCallback(t,e)};Se.useContext=function(t){return mn.current.useContext(t)};Se.useDebugValue=function(){};Se.useDeferredValue=function(t){return mn.current.useDeferredValue(t)};Se.useEffect=function(t,e){return mn.current.useEffect(t,e)};Se.useId=function(){return mn.current.useId()};Se.useImperativeHandle=function(t,e,n){return mn.current.useImperativeHandle(t,e,n)};Se.useInsertionEffect=function(t,e){return mn.current.useInsertionEffect(t,e)};Se.useLayoutEffect=function(t,e){return mn.current.useLayoutEffect(t,e)};Se.useMemo=function(t,e){return mn.current.useMemo(t,e)};Se.useReducer=function(t,e,n){return mn.current.useReducer(t,e,n)};Se.useRef=function(t){return mn.current.useRef(t)};Se.useState=function(t){return mn.current.useState(t)};Se.useSyncExternalStore=function(t,e,n){return mn.current.useSyncExternalStore(t,e,n)};Se.useTransition=function(){return mn.current.useTransition()};Se.version="18.3.1";vS.exports=Se;var p=vS.exports;const we=mS(p),Vh=rL({__proto__:null,default:we},[p]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wL=p,_L=Symbol.for("react.element"),xL=Symbol.for("react.fragment"),EL=Object.prototype.hasOwnProperty,bL=wL.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,TL={key:!0,ref:!0,__self:!0,__source:!0};function SS(t,e,n){var r,i={},o=null,s=null;n!==void 0&&(o=""+n),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(s=e.ref);for(r in e)EL.call(e,r)&&!TL.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:_L,type:t,key:o,ref:s,props:i,_owner:bL.current}}Lh.Fragment=xL;Lh.jsx=SS;Lh.jsxs=SS;gS.exports=Lh;var g=gS.exports,Gg={},PS={exports:{}},jn={},IS={exports:{}},AS={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(L,V){var $=L.length;L.push(V);e:for(;0<$;){var W=$-1>>>1,Y=L[W];if(0<i(Y,V))L[W]=V,L[$]=Y,$=W;else break e}}function n(L){return L.length===0?null:L[0]}function r(L){if(L.length===0)return null;var V=L[0],$=L.pop();if($!==V){L[0]=$;e:for(var W=0,Y=L.length,G=Y>>>1;W<G;){var oe=2*(W+1)-1,fe=L[oe],Ee=oe+1,J=L[Ee];if(0>i(fe,$))Ee<Y&&0>i(J,fe)?(L[W]=J,L[Ee]=$,W=Ee):(L[W]=fe,L[oe]=$,W=oe);else if(Ee<Y&&0>i(J,$))L[W]=J,L[Ee]=$,W=Ee;else break e}}return V}function i(L,V){var $=L.sortIndex-V.sortIndex;return $!==0?$:L.id-V.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,a=s.now();t.unstable_now=function(){return s.now()-a}}var l=[],c=[],u=1,f=null,h=3,m=!1,_=!1,v=!1,E=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(L){for(var V=n(c);V!==null;){if(V.callback===null)r(c);else if(V.startTime<=L)r(c),V.sortIndex=V.expirationTime,e(l,V);else break;V=n(c)}}function P(L){if(v=!1,b(L),!_)if(n(l)!==null)_=!0,K(N);else{var V=n(c);V!==null&&j(P,V.startTime-L)}}function N(L,V){_=!1,v&&(v=!1,x(C),C=-1),m=!0;var $=h;try{for(b(V),f=n(l);f!==null&&(!(f.expirationTime>V)||L&&!O());){var W=f.callback;if(typeof W=="function"){f.callback=null,h=f.priorityLevel;var Y=W(f.expirationTime<=V);V=t.unstable_now(),typeof Y=="function"?f.callback=Y:f===n(l)&&r(l),b(V)}else r(l);f=n(l)}if(f!==null)var G=!0;else{var oe=n(c);oe!==null&&j(P,oe.startTime-V),G=!1}return G}finally{f=null,h=$,m=!1}}var M=!1,S=null,C=-1,I=5,A=-1;function O(){return!(t.unstable_now()-A<I)}function D(){if(S!==null){var L=t.unstable_now();A=L;var V=!0;try{V=S(!0,L)}finally{V?k():(M=!1,S=null)}}else M=!1}var k;if(typeof y=="function")k=function(){y(D)};else if(typeof MessageChannel<"u"){var B=new MessageChannel,q=B.port2;B.port1.onmessage=D,k=function(){q.postMessage(null)}}else k=function(){E(D,0)};function K(L){S=L,M||(M=!0,k())}function j(L,V){C=E(function(){L(t.unstable_now())},V)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(L){L.callback=null},t.unstable_continueExecution=function(){_||m||(_=!0,K(N))},t.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<L?Math.floor(1e3/L):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(L){switch(h){case 1:case 2:case 3:var V=3;break;default:V=h}var $=h;h=V;try{return L()}finally{h=$}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(L,V){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var $=h;h=L;try{return V()}finally{h=$}},t.unstable_scheduleCallback=function(L,V,$){var W=t.unstable_now();switch(typeof $=="object"&&$!==null?($=$.delay,$=typeof $=="number"&&0<$?W+$:W):$=W,L){case 1:var Y=-1;break;case 2:Y=250;break;case 5:Y=1073741823;break;case 4:Y=1e4;break;default:Y=5e3}return Y=$+Y,L={id:u++,callback:V,priorityLevel:L,startTime:$,expirationTime:Y,sortIndex:-1},$>W?(L.sortIndex=$,e(c,L),n(l)===null&&L===n(c)&&(v?(x(C),C=-1):v=!0,j(P,$-W))):(L.sortIndex=Y,e(l,L),_||m||(_=!0,K(N))),L},t.unstable_shouldYield=O,t.unstable_wrapCallback=function(L){var V=h;return function(){var $=h;h=V;try{return L.apply(this,arguments)}finally{h=$}}}})(AS);IS.exports=AS;var CL=IS.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var SL=p,Ln=CL;function Q(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var RS=new Set,Ac={};function Ss(t,e){ka(t,e),ka(t+"Capture",e)}function ka(t,e){for(Ac[t]=e,t=0;t<e.length;t++)RS.add(e[t])}var di=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Kg=Object.prototype.hasOwnProperty,PL=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,cx={},ux={};function IL(t){return Kg.call(ux,t)?!0:Kg.call(cx,t)?!1:PL.test(t)?ux[t]=!0:(cx[t]=!0,!1)}function AL(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function RL(t,e,n,r){if(e===null||typeof e>"u"||AL(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function gn(t,e,n,r,i,o,s){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=s}var Ht={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Ht[t]=new gn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Ht[e]=new gn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Ht[t]=new gn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Ht[t]=new gn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Ht[t]=new gn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Ht[t]=new gn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Ht[t]=new gn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Ht[t]=new gn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Ht[t]=new gn(t,5,!1,t.toLowerCase(),null,!1,!1)});var e0=/[\-:]([a-z])/g;function t0(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(e0,t0);Ht[e]=new gn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(e0,t0);Ht[e]=new gn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(e0,t0);Ht[e]=new gn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Ht[t]=new gn(t,1,!1,t.toLowerCase(),null,!1,!1)});Ht.xlinkHref=new gn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Ht[t]=new gn(t,1,!1,t.toLowerCase(),null,!0,!0)});function n0(t,e,n,r){var i=Ht.hasOwnProperty(e)?Ht[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(RL(e,n,i,r)&&(n=null),r||i===null?IL(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Ci=SL.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,cd=Symbol.for("react.element"),Js=Symbol.for("react.portal"),Zs=Symbol.for("react.fragment"),r0=Symbol.for("react.strict_mode"),Qg=Symbol.for("react.profiler"),kS=Symbol.for("react.provider"),DS=Symbol.for("react.context"),i0=Symbol.for("react.forward_ref"),Xg=Symbol.for("react.suspense"),Jg=Symbol.for("react.suspense_list"),o0=Symbol.for("react.memo"),Fi=Symbol.for("react.lazy"),NS=Symbol.for("react.offscreen"),dx=Symbol.iterator;function Ll(t){return t===null||typeof t!="object"?null:(t=dx&&t[dx]||t["@@iterator"],typeof t=="function"?t:null)}var ht=Object.assign,Tm;function Ql(t){if(Tm===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Tm=e&&e[1]||""}return`
`+Tm+t}var Cm=!1;function Sm(t,e){if(!t||Cm)return"";Cm=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),o=r.stack.split(`
`),s=i.length-1,a=o.length-1;1<=s&&0<=a&&i[s]!==o[a];)a--;for(;1<=s&&0<=a;s--,a--)if(i[s]!==o[a]){if(s!==1||a!==1)do if(s--,a--,0>a||i[s]!==o[a]){var l=`
`+i[s].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=s&&0<=a);break}}}finally{Cm=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Ql(t):""}function kL(t){switch(t.tag){case 5:return Ql(t.type);case 16:return Ql("Lazy");case 13:return Ql("Suspense");case 19:return Ql("SuspenseList");case 0:case 2:case 15:return t=Sm(t.type,!1),t;case 11:return t=Sm(t.type.render,!1),t;case 1:return t=Sm(t.type,!0),t;default:return""}}function Zg(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Zs:return"Fragment";case Js:return"Portal";case Qg:return"Profiler";case r0:return"StrictMode";case Xg:return"Suspense";case Jg:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case DS:return(t.displayName||"Context")+".Consumer";case kS:return(t._context.displayName||"Context")+".Provider";case i0:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case o0:return e=t.displayName||null,e!==null?e:Zg(t.type)||"Memo";case Fi:e=t._payload,t=t._init;try{return Zg(t(e))}catch{}}return null}function DL(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Zg(e);case 8:return e===r0?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function vo(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function MS(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function NL(t){var e=MS(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(s){r=""+s,o.call(this,s)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function ud(t){t._valueTracker||(t._valueTracker=NL(t))}function OS(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=MS(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function bf(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function ev(t,e){var n=e.checked;return ht({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function fx(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=vo(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function LS(t,e){e=e.checked,e!=null&&n0(t,"checked",e,!1)}function tv(t,e){LS(t,e);var n=vo(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?nv(t,e.type,n):e.hasOwnProperty("defaultValue")&&nv(t,e.type,vo(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function hx(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function nv(t,e,n){(e!=="number"||bf(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Xl=Array.isArray;function ga(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+vo(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function rv(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(Q(91));return ht({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function px(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(Q(92));if(Xl(n)){if(1<n.length)throw Error(Q(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:vo(n)}}function VS(t,e){var n=vo(e.value),r=vo(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function mx(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function jS(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function iv(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?jS(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var dd,FS=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(dd=dd||document.createElement("div"),dd.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=dd.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Rc(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var ac={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ML=["Webkit","ms","Moz","O"];Object.keys(ac).forEach(function(t){ML.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),ac[e]=ac[t]})});function $S(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||ac.hasOwnProperty(t)&&ac[t]?(""+e).trim():e+"px"}function US(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=$S(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var OL=ht({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ov(t,e){if(e){if(OL[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(Q(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(Q(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(Q(61))}if(e.style!=null&&typeof e.style!="object")throw Error(Q(62))}}function sv(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var av=null;function s0(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var lv=null,va=null,ya=null;function gx(t){if(t=wu(t)){if(typeof lv!="function")throw Error(Q(280));var e=t.stateNode;e&&(e=Bh(e),lv(t.stateNode,t.type,e))}}function BS(t){va?ya?ya.push(t):ya=[t]:va=t}function WS(){if(va){var t=va,e=ya;if(ya=va=null,gx(t),e)for(t=0;t<e.length;t++)gx(e[t])}}function zS(t,e){return t(e)}function HS(){}var Pm=!1;function qS(t,e,n){if(Pm)return t(e,n);Pm=!0;try{return zS(t,e,n)}finally{Pm=!1,(va!==null||ya!==null)&&(HS(),WS())}}function kc(t,e){var n=t.stateNode;if(n===null)return null;var r=Bh(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(Q(231,e,typeof n));return n}var cv=!1;if(di)try{var Vl={};Object.defineProperty(Vl,"passive",{get:function(){cv=!0}}),window.addEventListener("test",Vl,Vl),window.removeEventListener("test",Vl,Vl)}catch{cv=!1}function LL(t,e,n,r,i,o,s,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(u){this.onError(u)}}var lc=!1,Tf=null,Cf=!1,uv=null,VL={onError:function(t){lc=!0,Tf=t}};function jL(t,e,n,r,i,o,s,a,l){lc=!1,Tf=null,LL.apply(VL,arguments)}function FL(t,e,n,r,i,o,s,a,l){if(jL.apply(this,arguments),lc){if(lc){var c=Tf;lc=!1,Tf=null}else throw Error(Q(198));Cf||(Cf=!0,uv=c)}}function Ps(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function YS(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function vx(t){if(Ps(t)!==t)throw Error(Q(188))}function $L(t){var e=t.alternate;if(!e){if(e=Ps(t),e===null)throw Error(Q(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return vx(i),t;if(o===r)return vx(i),e;o=o.sibling}throw Error(Q(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,a=i.child;a;){if(a===n){s=!0,n=i,r=o;break}if(a===r){s=!0,r=i,n=o;break}a=a.sibling}if(!s){for(a=o.child;a;){if(a===n){s=!0,n=o,r=i;break}if(a===r){s=!0,r=o,n=i;break}a=a.sibling}if(!s)throw Error(Q(189))}}if(n.alternate!==r)throw Error(Q(190))}if(n.tag!==3)throw Error(Q(188));return n.stateNode.current===n?t:e}function GS(t){return t=$L(t),t!==null?KS(t):null}function KS(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=KS(t);if(e!==null)return e;t=t.sibling}return null}var QS=Ln.unstable_scheduleCallback,yx=Ln.unstable_cancelCallback,UL=Ln.unstable_shouldYield,BL=Ln.unstable_requestPaint,_t=Ln.unstable_now,WL=Ln.unstable_getCurrentPriorityLevel,a0=Ln.unstable_ImmediatePriority,XS=Ln.unstable_UserBlockingPriority,Sf=Ln.unstable_NormalPriority,zL=Ln.unstable_LowPriority,JS=Ln.unstable_IdlePriority,jh=null,Ar=null;function HL(t){if(Ar&&typeof Ar.onCommitFiberRoot=="function")try{Ar.onCommitFiberRoot(jh,t,void 0,(t.current.flags&128)===128)}catch{}}var ar=Math.clz32?Math.clz32:GL,qL=Math.log,YL=Math.LN2;function GL(t){return t>>>=0,t===0?32:31-(qL(t)/YL|0)|0}var fd=64,hd=4194304;function Jl(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Pf(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,o=t.pingedLanes,s=n&268435455;if(s!==0){var a=s&~i;a!==0?r=Jl(a):(o&=s,o!==0&&(r=Jl(o)))}else s=n&~i,s!==0?r=Jl(s):o!==0&&(r=Jl(o));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,o=e&-e,i>=o||i===16&&(o&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-ar(e),i=1<<n,r|=t[n],e&=~i;return r}function KL(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function QL(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,o=t.pendingLanes;0<o;){var s=31-ar(o),a=1<<s,l=i[s];l===-1?(!(a&n)||a&r)&&(i[s]=KL(a,e)):l<=e&&(t.expiredLanes|=a),o&=~a}}function dv(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function ZS(){var t=fd;return fd<<=1,!(fd&4194240)&&(fd=64),t}function Im(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function vu(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-ar(e),t[e]=n}function XL(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-ar(n),o=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~o}}function l0(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-ar(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var He=0;function eP(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var tP,c0,nP,rP,iP,fv=!1,pd=[],Zi=null,eo=null,to=null,Dc=new Map,Nc=new Map,Bi=[],JL="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function wx(t,e){switch(t){case"focusin":case"focusout":Zi=null;break;case"dragenter":case"dragleave":eo=null;break;case"mouseover":case"mouseout":to=null;break;case"pointerover":case"pointerout":Dc.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Nc.delete(e.pointerId)}}function jl(t,e,n,r,i,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},e!==null&&(e=wu(e),e!==null&&c0(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function ZL(t,e,n,r,i){switch(e){case"focusin":return Zi=jl(Zi,t,e,n,r,i),!0;case"dragenter":return eo=jl(eo,t,e,n,r,i),!0;case"mouseover":return to=jl(to,t,e,n,r,i),!0;case"pointerover":var o=i.pointerId;return Dc.set(o,jl(Dc.get(o)||null,t,e,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,Nc.set(o,jl(Nc.get(o)||null,t,e,n,r,i)),!0}return!1}function oP(t){var e=Zo(t.target);if(e!==null){var n=Ps(e);if(n!==null){if(e=n.tag,e===13){if(e=YS(n),e!==null){t.blockedOn=e,iP(t.priority,function(){nP(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Qd(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=hv(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);av=r,n.target.dispatchEvent(r),av=null}else return e=wu(n),e!==null&&c0(e),t.blockedOn=n,!1;e.shift()}return!0}function _x(t,e,n){Qd(t)&&n.delete(e)}function eV(){fv=!1,Zi!==null&&Qd(Zi)&&(Zi=null),eo!==null&&Qd(eo)&&(eo=null),to!==null&&Qd(to)&&(to=null),Dc.forEach(_x),Nc.forEach(_x)}function Fl(t,e){t.blockedOn===e&&(t.blockedOn=null,fv||(fv=!0,Ln.unstable_scheduleCallback(Ln.unstable_NormalPriority,eV)))}function Mc(t){function e(i){return Fl(i,t)}if(0<pd.length){Fl(pd[0],t);for(var n=1;n<pd.length;n++){var r=pd[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Zi!==null&&Fl(Zi,t),eo!==null&&Fl(eo,t),to!==null&&Fl(to,t),Dc.forEach(e),Nc.forEach(e),n=0;n<Bi.length;n++)r=Bi[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Bi.length&&(n=Bi[0],n.blockedOn===null);)oP(n),n.blockedOn===null&&Bi.shift()}var wa=Ci.ReactCurrentBatchConfig,If=!0;function tV(t,e,n,r){var i=He,o=wa.transition;wa.transition=null;try{He=1,u0(t,e,n,r)}finally{He=i,wa.transition=o}}function nV(t,e,n,r){var i=He,o=wa.transition;wa.transition=null;try{He=4,u0(t,e,n,r)}finally{He=i,wa.transition=o}}function u0(t,e,n,r){if(If){var i=hv(t,e,n,r);if(i===null)jm(t,e,r,Af,n),wx(t,r);else if(ZL(i,t,e,n,r))r.stopPropagation();else if(wx(t,r),e&4&&-1<JL.indexOf(t)){for(;i!==null;){var o=wu(i);if(o!==null&&tP(o),o=hv(t,e,n,r),o===null&&jm(t,e,r,Af,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else jm(t,e,r,null,n)}}var Af=null;function hv(t,e,n,r){if(Af=null,t=s0(r),t=Zo(t),t!==null)if(e=Ps(t),e===null)t=null;else if(n=e.tag,n===13){if(t=YS(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Af=t,null}function sP(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(WL()){case a0:return 1;case XS:return 4;case Sf:case zL:return 16;case JS:return 536870912;default:return 16}default:return 16}}var Gi=null,d0=null,Xd=null;function aP(){if(Xd)return Xd;var t,e=d0,n=e.length,r,i="value"in Gi?Gi.value:Gi.textContent,o=i.length;for(t=0;t<n&&e[t]===i[t];t++);var s=n-t;for(r=1;r<=s&&e[n-r]===i[o-r];r++);return Xd=i.slice(t,1<r?1-r:void 0)}function Jd(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function md(){return!0}function xx(){return!1}function Fn(t){function e(n,r,i,o,s){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=s,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(o):o[a]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?md:xx,this.isPropagationStopped=xx,this}return ht(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=md)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=md)},persist:function(){},isPersistent:md}),e}var nl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},f0=Fn(nl),yu=ht({},nl,{view:0,detail:0}),rV=Fn(yu),Am,Rm,$l,Fh=ht({},yu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:h0,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==$l&&($l&&t.type==="mousemove"?(Am=t.screenX-$l.screenX,Rm=t.screenY-$l.screenY):Rm=Am=0,$l=t),Am)},movementY:function(t){return"movementY"in t?t.movementY:Rm}}),Ex=Fn(Fh),iV=ht({},Fh,{dataTransfer:0}),oV=Fn(iV),sV=ht({},yu,{relatedTarget:0}),km=Fn(sV),aV=ht({},nl,{animationName:0,elapsedTime:0,pseudoElement:0}),lV=Fn(aV),cV=ht({},nl,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),uV=Fn(cV),dV=ht({},nl,{data:0}),bx=Fn(dV),fV={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},hV={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},pV={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function mV(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=pV[t])?!!e[t]:!1}function h0(){return mV}var gV=ht({},yu,{key:function(t){if(t.key){var e=fV[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Jd(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?hV[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:h0,charCode:function(t){return t.type==="keypress"?Jd(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Jd(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),vV=Fn(gV),yV=ht({},Fh,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Tx=Fn(yV),wV=ht({},yu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:h0}),_V=Fn(wV),xV=ht({},nl,{propertyName:0,elapsedTime:0,pseudoElement:0}),EV=Fn(xV),bV=ht({},Fh,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),TV=Fn(bV),CV=[9,13,27,32],p0=di&&"CompositionEvent"in window,cc=null;di&&"documentMode"in document&&(cc=document.documentMode);var SV=di&&"TextEvent"in window&&!cc,lP=di&&(!p0||cc&&8<cc&&11>=cc),Cx=String.fromCharCode(32),Sx=!1;function cP(t,e){switch(t){case"keyup":return CV.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function uP(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ea=!1;function PV(t,e){switch(t){case"compositionend":return uP(e);case"keypress":return e.which!==32?null:(Sx=!0,Cx);case"textInput":return t=e.data,t===Cx&&Sx?null:t;default:return null}}function IV(t,e){if(ea)return t==="compositionend"||!p0&&cP(t,e)?(t=aP(),Xd=d0=Gi=null,ea=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return lP&&e.locale!=="ko"?null:e.data;default:return null}}var AV={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Px(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!AV[t.type]:e==="textarea"}function dP(t,e,n,r){BS(r),e=Rf(e,"onChange"),0<e.length&&(n=new f0("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var uc=null,Oc=null;function RV(t){EP(t,0)}function $h(t){var e=ra(t);if(OS(e))return t}function kV(t,e){if(t==="change")return e}var fP=!1;if(di){var Dm;if(di){var Nm="oninput"in document;if(!Nm){var Ix=document.createElement("div");Ix.setAttribute("oninput","return;"),Nm=typeof Ix.oninput=="function"}Dm=Nm}else Dm=!1;fP=Dm&&(!document.documentMode||9<document.documentMode)}function Ax(){uc&&(uc.detachEvent("onpropertychange",hP),Oc=uc=null)}function hP(t){if(t.propertyName==="value"&&$h(Oc)){var e=[];dP(e,Oc,t,s0(t)),qS(RV,e)}}function DV(t,e,n){t==="focusin"?(Ax(),uc=e,Oc=n,uc.attachEvent("onpropertychange",hP)):t==="focusout"&&Ax()}function NV(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return $h(Oc)}function MV(t,e){if(t==="click")return $h(e)}function OV(t,e){if(t==="input"||t==="change")return $h(e)}function LV(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var ur=typeof Object.is=="function"?Object.is:LV;function Lc(t,e){if(ur(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Kg.call(e,i)||!ur(t[i],e[i]))return!1}return!0}function Rx(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function kx(t,e){var n=Rx(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Rx(n)}}function pP(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?pP(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function mP(){for(var t=window,e=bf();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=bf(t.document)}return e}function m0(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function VV(t){var e=mP(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&pP(n.ownerDocument.documentElement,n)){if(r!==null&&m0(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!t.extend&&o>r&&(i=r,r=o,o=i),i=kx(n,o);var s=kx(n,r);i&&s&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==s.node||t.focusOffset!==s.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),o>r?(t.addRange(e),t.extend(s.node,s.offset)):(e.setEnd(s.node,s.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var jV=di&&"documentMode"in document&&11>=document.documentMode,ta=null,pv=null,dc=null,mv=!1;function Dx(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;mv||ta==null||ta!==bf(r)||(r=ta,"selectionStart"in r&&m0(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),dc&&Lc(dc,r)||(dc=r,r=Rf(pv,"onSelect"),0<r.length&&(e=new f0("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=ta)))}function gd(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var na={animationend:gd("Animation","AnimationEnd"),animationiteration:gd("Animation","AnimationIteration"),animationstart:gd("Animation","AnimationStart"),transitionend:gd("Transition","TransitionEnd")},Mm={},gP={};di&&(gP=document.createElement("div").style,"AnimationEvent"in window||(delete na.animationend.animation,delete na.animationiteration.animation,delete na.animationstart.animation),"TransitionEvent"in window||delete na.transitionend.transition);function Uh(t){if(Mm[t])return Mm[t];if(!na[t])return t;var e=na[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in gP)return Mm[t]=e[n];return t}var vP=Uh("animationend"),yP=Uh("animationiteration"),wP=Uh("animationstart"),_P=Uh("transitionend"),xP=new Map,Nx="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ao(t,e){xP.set(t,e),Ss(e,[t])}for(var Om=0;Om<Nx.length;Om++){var Lm=Nx[Om],FV=Lm.toLowerCase(),$V=Lm[0].toUpperCase()+Lm.slice(1);Ao(FV,"on"+$V)}Ao(vP,"onAnimationEnd");Ao(yP,"onAnimationIteration");Ao(wP,"onAnimationStart");Ao("dblclick","onDoubleClick");Ao("focusin","onFocus");Ao("focusout","onBlur");Ao(_P,"onTransitionEnd");ka("onMouseEnter",["mouseout","mouseover"]);ka("onMouseLeave",["mouseout","mouseover"]);ka("onPointerEnter",["pointerout","pointerover"]);ka("onPointerLeave",["pointerout","pointerover"]);Ss("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ss("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ss("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ss("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ss("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ss("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Zl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),UV=new Set("cancel close invalid load scroll toggle".split(" ").concat(Zl));function Mx(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,FL(r,e,void 0,t),t.currentTarget=null}function EP(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var o=void 0;if(e)for(var s=r.length-1;0<=s;s--){var a=r[s],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==o&&i.isPropagationStopped())break e;Mx(i,a,c),o=l}else for(s=0;s<r.length;s++){if(a=r[s],l=a.instance,c=a.currentTarget,a=a.listener,l!==o&&i.isPropagationStopped())break e;Mx(i,a,c),o=l}}}if(Cf)throw t=uv,Cf=!1,uv=null,t}function rt(t,e){var n=e[_v];n===void 0&&(n=e[_v]=new Set);var r=t+"__bubble";n.has(r)||(bP(e,t,2,!1),n.add(r))}function Vm(t,e,n){var r=0;e&&(r|=4),bP(n,t,r,e)}var vd="_reactListening"+Math.random().toString(36).slice(2);function Vc(t){if(!t[vd]){t[vd]=!0,RS.forEach(function(n){n!=="selectionchange"&&(UV.has(n)||Vm(n,!1,t),Vm(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[vd]||(e[vd]=!0,Vm("selectionchange",!1,e))}}function bP(t,e,n,r){switch(sP(e)){case 1:var i=tV;break;case 4:i=nV;break;default:i=u0}n=i.bind(null,e,n,t),i=void 0,!cv||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function jm(t,e,n,r,i){var o=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(s===4)for(s=r.return;s!==null;){var l=s.tag;if((l===3||l===4)&&(l=s.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;s=s.return}for(;a!==null;){if(s=Zo(a),s===null)return;if(l=s.tag,l===5||l===6){r=o=s;continue e}a=a.parentNode}}r=r.return}qS(function(){var c=o,u=s0(n),f=[];e:{var h=xP.get(t);if(h!==void 0){var m=f0,_=t;switch(t){case"keypress":if(Jd(n)===0)break e;case"keydown":case"keyup":m=vV;break;case"focusin":_="focus",m=km;break;case"focusout":_="blur",m=km;break;case"beforeblur":case"afterblur":m=km;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=Ex;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=oV;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=_V;break;case vP:case yP:case wP:m=lV;break;case _P:m=EV;break;case"scroll":m=rV;break;case"wheel":m=TV;break;case"copy":case"cut":case"paste":m=uV;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=Tx}var v=(e&4)!==0,E=!v&&t==="scroll",x=v?h!==null?h+"Capture":null:h;v=[];for(var y=c,b;y!==null;){b=y;var P=b.stateNode;if(b.tag===5&&P!==null&&(b=P,x!==null&&(P=kc(y,x),P!=null&&v.push(jc(y,P,b)))),E)break;y=y.return}0<v.length&&(h=new m(h,_,null,n,u),f.push({event:h,listeners:v}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",m=t==="mouseout"||t==="pointerout",h&&n!==av&&(_=n.relatedTarget||n.fromElement)&&(Zo(_)||_[fi]))break e;if((m||h)&&(h=u.window===u?u:(h=u.ownerDocument)?h.defaultView||h.parentWindow:window,m?(_=n.relatedTarget||n.toElement,m=c,_=_?Zo(_):null,_!==null&&(E=Ps(_),_!==E||_.tag!==5&&_.tag!==6)&&(_=null)):(m=null,_=c),m!==_)){if(v=Ex,P="onMouseLeave",x="onMouseEnter",y="mouse",(t==="pointerout"||t==="pointerover")&&(v=Tx,P="onPointerLeave",x="onPointerEnter",y="pointer"),E=m==null?h:ra(m),b=_==null?h:ra(_),h=new v(P,y+"leave",m,n,u),h.target=E,h.relatedTarget=b,P=null,Zo(u)===c&&(v=new v(x,y+"enter",_,n,u),v.target=b,v.relatedTarget=E,P=v),E=P,m&&_)t:{for(v=m,x=_,y=0,b=v;b;b=$s(b))y++;for(b=0,P=x;P;P=$s(P))b++;for(;0<y-b;)v=$s(v),y--;for(;0<b-y;)x=$s(x),b--;for(;y--;){if(v===x||x!==null&&v===x.alternate)break t;v=$s(v),x=$s(x)}v=null}else v=null;m!==null&&Ox(f,h,m,v,!1),_!==null&&E!==null&&Ox(f,E,_,v,!0)}}e:{if(h=c?ra(c):window,m=h.nodeName&&h.nodeName.toLowerCase(),m==="select"||m==="input"&&h.type==="file")var N=kV;else if(Px(h))if(fP)N=OV;else{N=NV;var M=DV}else(m=h.nodeName)&&m.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(N=MV);if(N&&(N=N(t,c))){dP(f,N,n,u);break e}M&&M(t,h,c),t==="focusout"&&(M=h._wrapperState)&&M.controlled&&h.type==="number"&&nv(h,"number",h.value)}switch(M=c?ra(c):window,t){case"focusin":(Px(M)||M.contentEditable==="true")&&(ta=M,pv=c,dc=null);break;case"focusout":dc=pv=ta=null;break;case"mousedown":mv=!0;break;case"contextmenu":case"mouseup":case"dragend":mv=!1,Dx(f,n,u);break;case"selectionchange":if(jV)break;case"keydown":case"keyup":Dx(f,n,u)}var S;if(p0)e:{switch(t){case"compositionstart":var C="onCompositionStart";break e;case"compositionend":C="onCompositionEnd";break e;case"compositionupdate":C="onCompositionUpdate";break e}C=void 0}else ea?cP(t,n)&&(C="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(C="onCompositionStart");C&&(lP&&n.locale!=="ko"&&(ea||C!=="onCompositionStart"?C==="onCompositionEnd"&&ea&&(S=aP()):(Gi=u,d0="value"in Gi?Gi.value:Gi.textContent,ea=!0)),M=Rf(c,C),0<M.length&&(C=new bx(C,t,null,n,u),f.push({event:C,listeners:M}),S?C.data=S:(S=uP(n),S!==null&&(C.data=S)))),(S=SV?PV(t,n):IV(t,n))&&(c=Rf(c,"onBeforeInput"),0<c.length&&(u=new bx("onBeforeInput","beforeinput",null,n,u),f.push({event:u,listeners:c}),u.data=S))}EP(f,e)})}function jc(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Rf(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=kc(t,n),o!=null&&r.unshift(jc(t,o,i)),o=kc(t,e),o!=null&&r.push(jc(t,o,i))),t=t.return}return r}function $s(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Ox(t,e,n,r,i){for(var o=e._reactName,s=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,i?(l=kc(n,o),l!=null&&s.unshift(jc(n,l,a))):i||(l=kc(n,o),l!=null&&s.push(jc(n,l,a)))),n=n.return}s.length!==0&&t.push({event:e,listeners:s})}var BV=/\r\n?/g,WV=/\u0000|\uFFFD/g;function Lx(t){return(typeof t=="string"?t:""+t).replace(BV,`
`).replace(WV,"")}function yd(t,e,n){if(e=Lx(e),Lx(t)!==e&&n)throw Error(Q(425))}function kf(){}var gv=null,vv=null;function yv(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var wv=typeof setTimeout=="function"?setTimeout:void 0,zV=typeof clearTimeout=="function"?clearTimeout:void 0,Vx=typeof Promise=="function"?Promise:void 0,HV=typeof queueMicrotask=="function"?queueMicrotask:typeof Vx<"u"?function(t){return Vx.resolve(null).then(t).catch(qV)}:wv;function qV(t){setTimeout(function(){throw t})}function Fm(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Mc(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Mc(e)}function no(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function jx(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var rl=Math.random().toString(36).slice(2),br="__reactFiber$"+rl,Fc="__reactProps$"+rl,fi="__reactContainer$"+rl,_v="__reactEvents$"+rl,YV="__reactListeners$"+rl,GV="__reactHandles$"+rl;function Zo(t){var e=t[br];if(e)return e;for(var n=t.parentNode;n;){if(e=n[fi]||n[br]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=jx(t);t!==null;){if(n=t[br])return n;t=jx(t)}return e}t=n,n=t.parentNode}return null}function wu(t){return t=t[br]||t[fi],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function ra(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(Q(33))}function Bh(t){return t[Fc]||null}var xv=[],ia=-1;function Ro(t){return{current:t}}function ot(t){0>ia||(t.current=xv[ia],xv[ia]=null,ia--)}function Xe(t,e){ia++,xv[ia]=t.current,t.current=e}var yo={},on=Ro(yo),En=Ro(!1),cs=yo;function Da(t,e){var n=t.type.contextTypes;if(!n)return yo;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=e[o];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function bn(t){return t=t.childContextTypes,t!=null}function Df(){ot(En),ot(on)}function Fx(t,e,n){if(on.current!==yo)throw Error(Q(168));Xe(on,e),Xe(En,n)}function TP(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(Q(108,DL(t)||"Unknown",i));return ht({},n,r)}function Nf(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||yo,cs=on.current,Xe(on,t),Xe(En,En.current),!0}function $x(t,e,n){var r=t.stateNode;if(!r)throw Error(Q(169));n?(t=TP(t,e,cs),r.__reactInternalMemoizedMergedChildContext=t,ot(En),ot(on),Xe(on,t)):ot(En),Xe(En,n)}var Zr=null,Wh=!1,$m=!1;function CP(t){Zr===null?Zr=[t]:Zr.push(t)}function KV(t){Wh=!0,CP(t)}function ko(){if(!$m&&Zr!==null){$m=!0;var t=0,e=He;try{var n=Zr;for(He=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Zr=null,Wh=!1}catch(i){throw Zr!==null&&(Zr=Zr.slice(t+1)),QS(a0,ko),i}finally{He=e,$m=!1}}return null}var oa=[],sa=0,Mf=null,Of=0,Bn=[],Wn=0,us=null,ei=1,ti="";function qo(t,e){oa[sa++]=Of,oa[sa++]=Mf,Mf=t,Of=e}function SP(t,e,n){Bn[Wn++]=ei,Bn[Wn++]=ti,Bn[Wn++]=us,us=t;var r=ei;t=ti;var i=32-ar(r)-1;r&=~(1<<i),n+=1;var o=32-ar(e)+i;if(30<o){var s=i-i%5;o=(r&(1<<s)-1).toString(32),r>>=s,i-=s,ei=1<<32-ar(e)+i|n<<i|r,ti=o+t}else ei=1<<o|n<<i|r,ti=t}function g0(t){t.return!==null&&(qo(t,1),SP(t,1,0))}function v0(t){for(;t===Mf;)Mf=oa[--sa],oa[sa]=null,Of=oa[--sa],oa[sa]=null;for(;t===us;)us=Bn[--Wn],Bn[Wn]=null,ti=Bn[--Wn],Bn[Wn]=null,ei=Bn[--Wn],Bn[Wn]=null}var Mn=null,Dn=null,at=!1,or=null;function PP(t,e){var n=qn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Ux(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Mn=t,Dn=no(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Mn=t,Dn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=us!==null?{id:ei,overflow:ti}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=qn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Mn=t,Dn=null,!0):!1;default:return!1}}function Ev(t){return(t.mode&1)!==0&&(t.flags&128)===0}function bv(t){if(at){var e=Dn;if(e){var n=e;if(!Ux(t,e)){if(Ev(t))throw Error(Q(418));e=no(n.nextSibling);var r=Mn;e&&Ux(t,e)?PP(r,n):(t.flags=t.flags&-4097|2,at=!1,Mn=t)}}else{if(Ev(t))throw Error(Q(418));t.flags=t.flags&-4097|2,at=!1,Mn=t}}}function Bx(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Mn=t}function wd(t){if(t!==Mn)return!1;if(!at)return Bx(t),at=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!yv(t.type,t.memoizedProps)),e&&(e=Dn)){if(Ev(t))throw IP(),Error(Q(418));for(;e;)PP(t,e),e=no(e.nextSibling)}if(Bx(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(Q(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Dn=no(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Dn=null}}else Dn=Mn?no(t.stateNode.nextSibling):null;return!0}function IP(){for(var t=Dn;t;)t=no(t.nextSibling)}function Na(){Dn=Mn=null,at=!1}function y0(t){or===null?or=[t]:or.push(t)}var QV=Ci.ReactCurrentBatchConfig;function Ul(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(Q(309));var r=n.stateNode}if(!r)throw Error(Q(147,t));var i=r,o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(s){var a=i.refs;s===null?delete a[o]:a[o]=s},e._stringRef=o,e)}if(typeof t!="string")throw Error(Q(284));if(!n._owner)throw Error(Q(290,t))}return t}function _d(t,e){throw t=Object.prototype.toString.call(e),Error(Q(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Wx(t){var e=t._init;return e(t._payload)}function AP(t){function e(x,y){if(t){var b=x.deletions;b===null?(x.deletions=[y],x.flags|=16):b.push(y)}}function n(x,y){if(!t)return null;for(;y!==null;)e(x,y),y=y.sibling;return null}function r(x,y){for(x=new Map;y!==null;)y.key!==null?x.set(y.key,y):x.set(y.index,y),y=y.sibling;return x}function i(x,y){return x=so(x,y),x.index=0,x.sibling=null,x}function o(x,y,b){return x.index=b,t?(b=x.alternate,b!==null?(b=b.index,b<y?(x.flags|=2,y):b):(x.flags|=2,y)):(x.flags|=1048576,y)}function s(x){return t&&x.alternate===null&&(x.flags|=2),x}function a(x,y,b,P){return y===null||y.tag!==6?(y=Ym(b,x.mode,P),y.return=x,y):(y=i(y,b),y.return=x,y)}function l(x,y,b,P){var N=b.type;return N===Zs?u(x,y,b.props.children,P,b.key):y!==null&&(y.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===Fi&&Wx(N)===y.type)?(P=i(y,b.props),P.ref=Ul(x,y,b),P.return=x,P):(P=sf(b.type,b.key,b.props,null,x.mode,P),P.ref=Ul(x,y,b),P.return=x,P)}function c(x,y,b,P){return y===null||y.tag!==4||y.stateNode.containerInfo!==b.containerInfo||y.stateNode.implementation!==b.implementation?(y=Gm(b,x.mode,P),y.return=x,y):(y=i(y,b.children||[]),y.return=x,y)}function u(x,y,b,P,N){return y===null||y.tag!==7?(y=ss(b,x.mode,P,N),y.return=x,y):(y=i(y,b),y.return=x,y)}function f(x,y,b){if(typeof y=="string"&&y!==""||typeof y=="number")return y=Ym(""+y,x.mode,b),y.return=x,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case cd:return b=sf(y.type,y.key,y.props,null,x.mode,b),b.ref=Ul(x,null,y),b.return=x,b;case Js:return y=Gm(y,x.mode,b),y.return=x,y;case Fi:var P=y._init;return f(x,P(y._payload),b)}if(Xl(y)||Ll(y))return y=ss(y,x.mode,b,null),y.return=x,y;_d(x,y)}return null}function h(x,y,b,P){var N=y!==null?y.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return N!==null?null:a(x,y,""+b,P);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case cd:return b.key===N?l(x,y,b,P):null;case Js:return b.key===N?c(x,y,b,P):null;case Fi:return N=b._init,h(x,y,N(b._payload),P)}if(Xl(b)||Ll(b))return N!==null?null:u(x,y,b,P,null);_d(x,b)}return null}function m(x,y,b,P,N){if(typeof P=="string"&&P!==""||typeof P=="number")return x=x.get(b)||null,a(y,x,""+P,N);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case cd:return x=x.get(P.key===null?b:P.key)||null,l(y,x,P,N);case Js:return x=x.get(P.key===null?b:P.key)||null,c(y,x,P,N);case Fi:var M=P._init;return m(x,y,b,M(P._payload),N)}if(Xl(P)||Ll(P))return x=x.get(b)||null,u(y,x,P,N,null);_d(y,P)}return null}function _(x,y,b,P){for(var N=null,M=null,S=y,C=y=0,I=null;S!==null&&C<b.length;C++){S.index>C?(I=S,S=null):I=S.sibling;var A=h(x,S,b[C],P);if(A===null){S===null&&(S=I);break}t&&S&&A.alternate===null&&e(x,S),y=o(A,y,C),M===null?N=A:M.sibling=A,M=A,S=I}if(C===b.length)return n(x,S),at&&qo(x,C),N;if(S===null){for(;C<b.length;C++)S=f(x,b[C],P),S!==null&&(y=o(S,y,C),M===null?N=S:M.sibling=S,M=S);return at&&qo(x,C),N}for(S=r(x,S);C<b.length;C++)I=m(S,x,C,b[C],P),I!==null&&(t&&I.alternate!==null&&S.delete(I.key===null?C:I.key),y=o(I,y,C),M===null?N=I:M.sibling=I,M=I);return t&&S.forEach(function(O){return e(x,O)}),at&&qo(x,C),N}function v(x,y,b,P){var N=Ll(b);if(typeof N!="function")throw Error(Q(150));if(b=N.call(b),b==null)throw Error(Q(151));for(var M=N=null,S=y,C=y=0,I=null,A=b.next();S!==null&&!A.done;C++,A=b.next()){S.index>C?(I=S,S=null):I=S.sibling;var O=h(x,S,A.value,P);if(O===null){S===null&&(S=I);break}t&&S&&O.alternate===null&&e(x,S),y=o(O,y,C),M===null?N=O:M.sibling=O,M=O,S=I}if(A.done)return n(x,S),at&&qo(x,C),N;if(S===null){for(;!A.done;C++,A=b.next())A=f(x,A.value,P),A!==null&&(y=o(A,y,C),M===null?N=A:M.sibling=A,M=A);return at&&qo(x,C),N}for(S=r(x,S);!A.done;C++,A=b.next())A=m(S,x,C,A.value,P),A!==null&&(t&&A.alternate!==null&&S.delete(A.key===null?C:A.key),y=o(A,y,C),M===null?N=A:M.sibling=A,M=A);return t&&S.forEach(function(D){return e(x,D)}),at&&qo(x,C),N}function E(x,y,b,P){if(typeof b=="object"&&b!==null&&b.type===Zs&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case cd:e:{for(var N=b.key,M=y;M!==null;){if(M.key===N){if(N=b.type,N===Zs){if(M.tag===7){n(x,M.sibling),y=i(M,b.props.children),y.return=x,x=y;break e}}else if(M.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===Fi&&Wx(N)===M.type){n(x,M.sibling),y=i(M,b.props),y.ref=Ul(x,M,b),y.return=x,x=y;break e}n(x,M);break}else e(x,M);M=M.sibling}b.type===Zs?(y=ss(b.props.children,x.mode,P,b.key),y.return=x,x=y):(P=sf(b.type,b.key,b.props,null,x.mode,P),P.ref=Ul(x,y,b),P.return=x,x=P)}return s(x);case Js:e:{for(M=b.key;y!==null;){if(y.key===M)if(y.tag===4&&y.stateNode.containerInfo===b.containerInfo&&y.stateNode.implementation===b.implementation){n(x,y.sibling),y=i(y,b.children||[]),y.return=x,x=y;break e}else{n(x,y);break}else e(x,y);y=y.sibling}y=Gm(b,x.mode,P),y.return=x,x=y}return s(x);case Fi:return M=b._init,E(x,y,M(b._payload),P)}if(Xl(b))return _(x,y,b,P);if(Ll(b))return v(x,y,b,P);_d(x,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,y!==null&&y.tag===6?(n(x,y.sibling),y=i(y,b),y.return=x,x=y):(n(x,y),y=Ym(b,x.mode,P),y.return=x,x=y),s(x)):n(x,y)}return E}var Ma=AP(!0),RP=AP(!1),Lf=Ro(null),Vf=null,aa=null,w0=null;function _0(){w0=aa=Vf=null}function x0(t){var e=Lf.current;ot(Lf),t._currentValue=e}function Tv(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function _a(t,e){Vf=t,w0=aa=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(_n=!0),t.firstContext=null)}function Gn(t){var e=t._currentValue;if(w0!==t)if(t={context:t,memoizedValue:e,next:null},aa===null){if(Vf===null)throw Error(Q(308));aa=t,Vf.dependencies={lanes:0,firstContext:t}}else aa=aa.next=t;return e}var es=null;function E0(t){es===null?es=[t]:es.push(t)}function kP(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,E0(e)):(n.next=i.next,i.next=n),e.interleaved=n,hi(t,r)}function hi(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var $i=!1;function b0(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function DP(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function oi(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function ro(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Oe&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,hi(t,n)}return i=r.interleaved,i===null?(e.next=e,E0(r)):(e.next=i.next,i.next=e),r.interleaved=e,hi(t,n)}function Zd(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,l0(t,n)}}function zx(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=s:o=o.next=s,n=n.next}while(n!==null);o===null?i=o=e:o=o.next=e}else i=o=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function jf(t,e,n,r){var i=t.updateQueue;$i=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,c=l.next;l.next=null,s===null?o=c:s.next=c,s=l;var u=t.alternate;u!==null&&(u=u.updateQueue,a=u.lastBaseUpdate,a!==s&&(a===null?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(o!==null){var f=i.baseState;s=0,u=c=l=null,a=o;do{var h=a.lane,m=a.eventTime;if((r&h)===h){u!==null&&(u=u.next={eventTime:m,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var _=t,v=a;switch(h=e,m=n,v.tag){case 1:if(_=v.payload,typeof _=="function"){f=_.call(m,f,h);break e}f=_;break e;case 3:_.flags=_.flags&-65537|128;case 0:if(_=v.payload,h=typeof _=="function"?_.call(m,f,h):_,h==null)break e;f=ht({},f,h);break e;case 2:$i=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,h=i.effects,h===null?i.effects=[a]:h.push(a))}else m={eventTime:m,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},u===null?(c=u=m,l=f):u=u.next=m,s|=h;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;h=a,a=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(1);if(u===null&&(l=f),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,e=i.shared.interleaved,e!==null){i=e;do s|=i.lane,i=i.next;while(i!==e)}else o===null&&(i.shared.lanes=0);fs|=s,t.lanes=s,t.memoizedState=f}}function Hx(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(Q(191,i));i.call(r)}}}var _u={},Rr=Ro(_u),$c=Ro(_u),Uc=Ro(_u);function ts(t){if(t===_u)throw Error(Q(174));return t}function T0(t,e){switch(Xe(Uc,e),Xe($c,t),Xe(Rr,_u),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:iv(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=iv(e,t)}ot(Rr),Xe(Rr,e)}function Oa(){ot(Rr),ot($c),ot(Uc)}function NP(t){ts(Uc.current);var e=ts(Rr.current),n=iv(e,t.type);e!==n&&(Xe($c,t),Xe(Rr,n))}function C0(t){$c.current===t&&(ot(Rr),ot($c))}var ct=Ro(0);function Ff(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Um=[];function S0(){for(var t=0;t<Um.length;t++)Um[t]._workInProgressVersionPrimary=null;Um.length=0}var ef=Ci.ReactCurrentDispatcher,Bm=Ci.ReactCurrentBatchConfig,ds=0,ft=null,Rt=null,Ot=null,$f=!1,fc=!1,Bc=0,XV=0;function Qt(){throw Error(Q(321))}function P0(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!ur(t[n],e[n]))return!1;return!0}function I0(t,e,n,r,i,o){if(ds=o,ft=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,ef.current=t===null||t.memoizedState===null?t4:n4,t=n(r,i),fc){o=0;do{if(fc=!1,Bc=0,25<=o)throw Error(Q(301));o+=1,Ot=Rt=null,e.updateQueue=null,ef.current=r4,t=n(r,i)}while(fc)}if(ef.current=Uf,e=Rt!==null&&Rt.next!==null,ds=0,Ot=Rt=ft=null,$f=!1,e)throw Error(Q(300));return t}function A0(){var t=Bc!==0;return Bc=0,t}function xr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ot===null?ft.memoizedState=Ot=t:Ot=Ot.next=t,Ot}function Kn(){if(Rt===null){var t=ft.alternate;t=t!==null?t.memoizedState:null}else t=Rt.next;var e=Ot===null?ft.memoizedState:Ot.next;if(e!==null)Ot=e,Rt=t;else{if(t===null)throw Error(Q(310));Rt=t,t={memoizedState:Rt.memoizedState,baseState:Rt.baseState,baseQueue:Rt.baseQueue,queue:Rt.queue,next:null},Ot===null?ft.memoizedState=Ot=t:Ot=Ot.next=t}return Ot}function Wc(t,e){return typeof e=="function"?e(t):e}function Wm(t){var e=Kn(),n=e.queue;if(n===null)throw Error(Q(311));n.lastRenderedReducer=t;var r=Rt,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var a=s=null,l=null,c=o;do{var u=c.lane;if((ds&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var f={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=f,s=r):l=l.next=f,ft.lanes|=u,fs|=u}c=c.next}while(c!==null&&c!==o);l===null?s=r:l.next=a,ur(r,e.memoizedState)||(_n=!0),e.memoizedState=r,e.baseState=s,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do o=i.lane,ft.lanes|=o,fs|=o,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function zm(t){var e=Kn(),n=e.queue;if(n===null)throw Error(Q(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,o=e.memoizedState;if(i!==null){n.pending=null;var s=i=i.next;do o=t(o,s.action),s=s.next;while(s!==i);ur(o,e.memoizedState)||(_n=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),n.lastRenderedState=o}return[o,r]}function MP(){}function OP(t,e){var n=ft,r=Kn(),i=e(),o=!ur(r.memoizedState,i);if(o&&(r.memoizedState=i,_n=!0),r=r.queue,R0(jP.bind(null,n,r,t),[t]),r.getSnapshot!==e||o||Ot!==null&&Ot.memoizedState.tag&1){if(n.flags|=2048,zc(9,VP.bind(null,n,r,i,e),void 0,null),Vt===null)throw Error(Q(349));ds&30||LP(n,e,i)}return i}function LP(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=ft.updateQueue,e===null?(e={lastEffect:null,stores:null},ft.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function VP(t,e,n,r){e.value=n,e.getSnapshot=r,FP(e)&&$P(t)}function jP(t,e,n){return n(function(){FP(e)&&$P(t)})}function FP(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!ur(t,n)}catch{return!0}}function $P(t){var e=hi(t,1);e!==null&&lr(e,t,1,-1)}function qx(t){var e=xr();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Wc,lastRenderedState:t},e.queue=t,t=t.dispatch=e4.bind(null,ft,t),[e.memoizedState,t]}function zc(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=ft.updateQueue,e===null?(e={lastEffect:null,stores:null},ft.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function UP(){return Kn().memoizedState}function tf(t,e,n,r){var i=xr();ft.flags|=t,i.memoizedState=zc(1|e,n,void 0,r===void 0?null:r)}function zh(t,e,n,r){var i=Kn();r=r===void 0?null:r;var o=void 0;if(Rt!==null){var s=Rt.memoizedState;if(o=s.destroy,r!==null&&P0(r,s.deps)){i.memoizedState=zc(e,n,o,r);return}}ft.flags|=t,i.memoizedState=zc(1|e,n,o,r)}function Yx(t,e){return tf(8390656,8,t,e)}function R0(t,e){return zh(2048,8,t,e)}function BP(t,e){return zh(4,2,t,e)}function WP(t,e){return zh(4,4,t,e)}function zP(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function HP(t,e,n){return n=n!=null?n.concat([t]):null,zh(4,4,zP.bind(null,e,t),n)}function k0(){}function qP(t,e){var n=Kn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&P0(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function YP(t,e){var n=Kn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&P0(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function GP(t,e,n){return ds&21?(ur(n,e)||(n=ZS(),ft.lanes|=n,fs|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,_n=!0),t.memoizedState=n)}function JV(t,e){var n=He;He=n!==0&&4>n?n:4,t(!0);var r=Bm.transition;Bm.transition={};try{t(!1),e()}finally{He=n,Bm.transition=r}}function KP(){return Kn().memoizedState}function ZV(t,e,n){var r=oo(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},QP(t))XP(e,n);else if(n=kP(t,e,n,r),n!==null){var i=pn();lr(n,t,r,i),JP(n,e,r)}}function e4(t,e,n){var r=oo(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(QP(t))XP(e,i);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var s=e.lastRenderedState,a=o(s,n);if(i.hasEagerState=!0,i.eagerState=a,ur(a,s)){var l=e.interleaved;l===null?(i.next=i,E0(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=kP(t,e,i,r),n!==null&&(i=pn(),lr(n,t,r,i),JP(n,e,r))}}function QP(t){var e=t.alternate;return t===ft||e!==null&&e===ft}function XP(t,e){fc=$f=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function JP(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,l0(t,n)}}var Uf={readContext:Gn,useCallback:Qt,useContext:Qt,useEffect:Qt,useImperativeHandle:Qt,useInsertionEffect:Qt,useLayoutEffect:Qt,useMemo:Qt,useReducer:Qt,useRef:Qt,useState:Qt,useDebugValue:Qt,useDeferredValue:Qt,useTransition:Qt,useMutableSource:Qt,useSyncExternalStore:Qt,useId:Qt,unstable_isNewReconciler:!1},t4={readContext:Gn,useCallback:function(t,e){return xr().memoizedState=[t,e===void 0?null:e],t},useContext:Gn,useEffect:Yx,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,tf(4194308,4,zP.bind(null,e,t),n)},useLayoutEffect:function(t,e){return tf(4194308,4,t,e)},useInsertionEffect:function(t,e){return tf(4,2,t,e)},useMemo:function(t,e){var n=xr();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=xr();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=ZV.bind(null,ft,t),[r.memoizedState,t]},useRef:function(t){var e=xr();return t={current:t},e.memoizedState=t},useState:qx,useDebugValue:k0,useDeferredValue:function(t){return xr().memoizedState=t},useTransition:function(){var t=qx(!1),e=t[0];return t=JV.bind(null,t[1]),xr().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=ft,i=xr();if(at){if(n===void 0)throw Error(Q(407));n=n()}else{if(n=e(),Vt===null)throw Error(Q(349));ds&30||LP(r,e,n)}i.memoizedState=n;var o={value:n,getSnapshot:e};return i.queue=o,Yx(jP.bind(null,r,o,t),[t]),r.flags|=2048,zc(9,VP.bind(null,r,o,n,e),void 0,null),n},useId:function(){var t=xr(),e=Vt.identifierPrefix;if(at){var n=ti,r=ei;n=(r&~(1<<32-ar(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Bc++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=XV++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},n4={readContext:Gn,useCallback:qP,useContext:Gn,useEffect:R0,useImperativeHandle:HP,useInsertionEffect:BP,useLayoutEffect:WP,useMemo:YP,useReducer:Wm,useRef:UP,useState:function(){return Wm(Wc)},useDebugValue:k0,useDeferredValue:function(t){var e=Kn();return GP(e,Rt.memoizedState,t)},useTransition:function(){var t=Wm(Wc)[0],e=Kn().memoizedState;return[t,e]},useMutableSource:MP,useSyncExternalStore:OP,useId:KP,unstable_isNewReconciler:!1},r4={readContext:Gn,useCallback:qP,useContext:Gn,useEffect:R0,useImperativeHandle:HP,useInsertionEffect:BP,useLayoutEffect:WP,useMemo:YP,useReducer:zm,useRef:UP,useState:function(){return zm(Wc)},useDebugValue:k0,useDeferredValue:function(t){var e=Kn();return Rt===null?e.memoizedState=t:GP(e,Rt.memoizedState,t)},useTransition:function(){var t=zm(Wc)[0],e=Kn().memoizedState;return[t,e]},useMutableSource:MP,useSyncExternalStore:OP,useId:KP,unstable_isNewReconciler:!1};function rr(t,e){if(t&&t.defaultProps){e=ht({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Cv(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:ht({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Hh={isMounted:function(t){return(t=t._reactInternals)?Ps(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=pn(),i=oo(t),o=oi(r,i);o.payload=e,n!=null&&(o.callback=n),e=ro(t,o,i),e!==null&&(lr(e,t,i,r),Zd(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=pn(),i=oo(t),o=oi(r,i);o.tag=1,o.payload=e,n!=null&&(o.callback=n),e=ro(t,o,i),e!==null&&(lr(e,t,i,r),Zd(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=pn(),r=oo(t),i=oi(n,r);i.tag=2,e!=null&&(i.callback=e),e=ro(t,i,r),e!==null&&(lr(e,t,r,n),Zd(e,t,r))}};function Gx(t,e,n,r,i,o,s){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,o,s):e.prototype&&e.prototype.isPureReactComponent?!Lc(n,r)||!Lc(i,o):!0}function ZP(t,e,n){var r=!1,i=yo,o=e.contextType;return typeof o=="object"&&o!==null?o=Gn(o):(i=bn(e)?cs:on.current,r=e.contextTypes,o=(r=r!=null)?Da(t,i):yo),e=new e(n,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Hh,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=o),e}function Kx(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Hh.enqueueReplaceState(e,e.state,null)}function Sv(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},b0(t);var o=e.contextType;typeof o=="object"&&o!==null?i.context=Gn(o):(o=bn(e)?cs:on.current,i.context=Da(t,o)),i.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(Cv(t,e,o,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Hh.enqueueReplaceState(i,i.state,null),jf(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function La(t,e){try{var n="",r=e;do n+=kL(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:i,digest:null}}function Hm(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Pv(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var i4=typeof WeakMap=="function"?WeakMap:Map;function eI(t,e,n){n=oi(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Wf||(Wf=!0,Vv=r),Pv(t,e)},n}function tI(t,e,n){n=oi(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){Pv(t,e)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){Pv(t,e),typeof r!="function"&&(io===null?io=new Set([this]):io.add(this));var s=e.stack;this.componentDidCatch(e.value,{componentStack:s!==null?s:""})}),n}function Qx(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new i4;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=y4.bind(null,t,e,n),e.then(t,t))}function Xx(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Jx(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=oi(-1,1),e.tag=2,ro(n,e,1))),n.lanes|=1),t)}var o4=Ci.ReactCurrentOwner,_n=!1;function fn(t,e,n,r){e.child=t===null?RP(e,null,n,r):Ma(e,t.child,n,r)}function Zx(t,e,n,r,i){n=n.render;var o=e.ref;return _a(e,i),r=I0(t,e,n,r,o,i),n=A0(),t!==null&&!_n?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,pi(t,e,i)):(at&&n&&g0(e),e.flags|=1,fn(t,e,r,i),e.child)}function eE(t,e,n,r,i){if(t===null){var o=n.type;return typeof o=="function"&&!F0(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=o,nI(t,e,o,r,i)):(t=sf(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,!(t.lanes&i)){var s=o.memoizedProps;if(n=n.compare,n=n!==null?n:Lc,n(s,r)&&t.ref===e.ref)return pi(t,e,i)}return e.flags|=1,t=so(o,r),t.ref=e.ref,t.return=e,e.child=t}function nI(t,e,n,r,i){if(t!==null){var o=t.memoizedProps;if(Lc(o,r)&&t.ref===e.ref)if(_n=!1,e.pendingProps=r=o,(t.lanes&i)!==0)t.flags&131072&&(_n=!0);else return e.lanes=t.lanes,pi(t,e,i)}return Iv(t,e,n,r,i)}function rI(t,e,n){var r=e.pendingProps,i=r.children,o=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Xe(ca,Rn),Rn|=n;else{if(!(n&1073741824))return t=o!==null?o.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Xe(ca,Rn),Rn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,Xe(ca,Rn),Rn|=r}else o!==null?(r=o.baseLanes|n,e.memoizedState=null):r=n,Xe(ca,Rn),Rn|=r;return fn(t,e,i,n),e.child}function iI(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Iv(t,e,n,r,i){var o=bn(n)?cs:on.current;return o=Da(e,o),_a(e,i),n=I0(t,e,n,r,o,i),r=A0(),t!==null&&!_n?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,pi(t,e,i)):(at&&r&&g0(e),e.flags|=1,fn(t,e,n,i),e.child)}function tE(t,e,n,r,i){if(bn(n)){var o=!0;Nf(e)}else o=!1;if(_a(e,i),e.stateNode===null)nf(t,e),ZP(e,n,r),Sv(e,n,r,i),r=!0;else if(t===null){var s=e.stateNode,a=e.memoizedProps;s.props=a;var l=s.context,c=n.contextType;typeof c=="object"&&c!==null?c=Gn(c):(c=bn(n)?cs:on.current,c=Da(e,c));var u=n.getDerivedStateFromProps,f=typeof u=="function"||typeof s.getSnapshotBeforeUpdate=="function";f||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==r||l!==c)&&Kx(e,s,r,c),$i=!1;var h=e.memoizedState;s.state=h,jf(e,r,s,i),l=e.memoizedState,a!==r||h!==l||En.current||$i?(typeof u=="function"&&(Cv(e,n,u,r),l=e.memoizedState),(a=$i||Gx(e,n,a,r,h,l,c))?(f||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(e.flags|=4194308)):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),s.props=r,s.state=l,s.context=c,r=a):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{s=e.stateNode,DP(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:rr(e.type,a),s.props=c,f=e.pendingProps,h=s.context,l=n.contextType,typeof l=="object"&&l!==null?l=Gn(l):(l=bn(n)?cs:on.current,l=Da(e,l));var m=n.getDerivedStateFromProps;(u=typeof m=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==f||h!==l)&&Kx(e,s,r,l),$i=!1,h=e.memoizedState,s.state=h,jf(e,r,s,i);var _=e.memoizedState;a!==f||h!==_||En.current||$i?(typeof m=="function"&&(Cv(e,n,m,r),_=e.memoizedState),(c=$i||Gx(e,n,c,r,h,_,l)||!1)?(u||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,_,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,_,l)),typeof s.componentDidUpdate=="function"&&(e.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=_),s.props=r,s.state=_,s.context=l,r=c):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),r=!1)}return Av(t,e,n,r,o,i)}function Av(t,e,n,r,i,o){iI(t,e);var s=(e.flags&128)!==0;if(!r&&!s)return i&&$x(e,n,!1),pi(t,e,o);r=e.stateNode,o4.current=e;var a=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&s?(e.child=Ma(e,t.child,null,o),e.child=Ma(e,null,a,o)):fn(t,e,a,o),e.memoizedState=r.state,i&&$x(e,n,!0),e.child}function oI(t){var e=t.stateNode;e.pendingContext?Fx(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Fx(t,e.context,!1),T0(t,e.containerInfo)}function nE(t,e,n,r,i){return Na(),y0(i),e.flags|=256,fn(t,e,n,r),e.child}var Rv={dehydrated:null,treeContext:null,retryLane:0};function kv(t){return{baseLanes:t,cachePool:null,transitions:null}}function sI(t,e,n){var r=e.pendingProps,i=ct.current,o=!1,s=(e.flags&128)!==0,a;if((a=s)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(o=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Xe(ct,i&1),t===null)return bv(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(s=r.children,t=r.fallback,o?(r=e.mode,o=e.child,s={mode:"hidden",children:s},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=s):o=Gh(s,r,0,null),t=ss(t,r,n,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=kv(n),e.memoizedState=Rv,t):D0(e,s));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return s4(t,e,s,r,a,i,n);if(o){o=r.fallback,s=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(s&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=so(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?o=so(a,o):(o=ss(o,s,n,null),o.flags|=2),o.return=e,r.return=e,r.sibling=o,e.child=r,r=o,o=e.child,s=t.child.memoizedState,s=s===null?kv(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},o.memoizedState=s,o.childLanes=t.childLanes&~n,e.memoizedState=Rv,r}return o=t.child,t=o.sibling,r=so(o,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function D0(t,e){return e=Gh({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function xd(t,e,n,r){return r!==null&&y0(r),Ma(e,t.child,null,n),t=D0(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function s4(t,e,n,r,i,o,s){if(n)return e.flags&256?(e.flags&=-257,r=Hm(Error(Q(422))),xd(t,e,s,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(o=r.fallback,i=e.mode,r=Gh({mode:"visible",children:r.children},i,0,null),o=ss(o,i,s,null),o.flags|=2,r.return=e,o.return=e,r.sibling=o,e.child=r,e.mode&1&&Ma(e,t.child,null,s),e.child.memoizedState=kv(s),e.memoizedState=Rv,o);if(!(e.mode&1))return xd(t,e,s,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,o=Error(Q(419)),r=Hm(o,r,void 0),xd(t,e,s,r)}if(a=(s&t.childLanes)!==0,_n||a){if(r=Vt,r!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|s)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,hi(t,i),lr(r,t,i,-1))}return j0(),r=Hm(Error(Q(421))),xd(t,e,s,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=w4.bind(null,t),i._reactRetry=e,null):(t=o.treeContext,Dn=no(i.nextSibling),Mn=e,at=!0,or=null,t!==null&&(Bn[Wn++]=ei,Bn[Wn++]=ti,Bn[Wn++]=us,ei=t.id,ti=t.overflow,us=e),e=D0(e,r.children),e.flags|=4096,e)}function rE(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Tv(t.return,e,n)}function qm(t,e,n,r,i){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function aI(t,e,n){var r=e.pendingProps,i=r.revealOrder,o=r.tail;if(fn(t,e,r.children,n),r=ct.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&rE(t,n,e);else if(t.tag===19)rE(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Xe(ct,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Ff(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),qm(e,!1,i,n,o);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Ff(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}qm(e,!0,n,null,o);break;case"together":qm(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function nf(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function pi(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),fs|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(Q(153));if(e.child!==null){for(t=e.child,n=so(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=so(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function a4(t,e,n){switch(e.tag){case 3:oI(e),Na();break;case 5:NP(e);break;case 1:bn(e.type)&&Nf(e);break;case 4:T0(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Xe(Lf,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Xe(ct,ct.current&1),e.flags|=128,null):n&e.child.childLanes?sI(t,e,n):(Xe(ct,ct.current&1),t=pi(t,e,n),t!==null?t.sibling:null);Xe(ct,ct.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return aI(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Xe(ct,ct.current),r)break;return null;case 22:case 23:return e.lanes=0,rI(t,e,n)}return pi(t,e,n)}var lI,Dv,cI,uI;lI=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Dv=function(){};cI=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,ts(Rr.current);var o=null;switch(n){case"input":i=ev(t,i),r=ev(t,r),o=[];break;case"select":i=ht({},i,{value:void 0}),r=ht({},r,{value:void 0}),o=[];break;case"textarea":i=rv(t,i),r=rv(t,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=kf)}ov(n,r);var s;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var a=i[c];for(s in a)a.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Ac.hasOwnProperty(c)?o||(o=[]):(o=o||[]).push(c,null));for(c in r){var l=r[c];if(a=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(s in a)!a.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in l)l.hasOwnProperty(s)&&a[s]!==l[s]&&(n||(n={}),n[s]=l[s])}else n||(o||(o=[]),o.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(o=o||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(o=o||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Ac.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&rt("scroll",t),o||a===l||(o=[])):(o=o||[]).push(c,l))}n&&(o=o||[]).push("style",n);var c=o;(e.updateQueue=c)&&(e.flags|=4)}};uI=function(t,e,n,r){n!==r&&(e.flags|=4)};function Bl(t,e){if(!at)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Xt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function l4(t,e,n){var r=e.pendingProps;switch(v0(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Xt(e),null;case 1:return bn(e.type)&&Df(),Xt(e),null;case 3:return r=e.stateNode,Oa(),ot(En),ot(on),S0(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(wd(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,or!==null&&($v(or),or=null))),Dv(t,e),Xt(e),null;case 5:C0(e);var i=ts(Uc.current);if(n=e.type,t!==null&&e.stateNode!=null)cI(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(Q(166));return Xt(e),null}if(t=ts(Rr.current),wd(e)){r=e.stateNode,n=e.type;var o=e.memoizedProps;switch(r[br]=e,r[Fc]=o,t=(e.mode&1)!==0,n){case"dialog":rt("cancel",r),rt("close",r);break;case"iframe":case"object":case"embed":rt("load",r);break;case"video":case"audio":for(i=0;i<Zl.length;i++)rt(Zl[i],r);break;case"source":rt("error",r);break;case"img":case"image":case"link":rt("error",r),rt("load",r);break;case"details":rt("toggle",r);break;case"input":fx(r,o),rt("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},rt("invalid",r);break;case"textarea":px(r,o),rt("invalid",r)}ov(n,o),i=null;for(var s in o)if(o.hasOwnProperty(s)){var a=o[s];s==="children"?typeof a=="string"?r.textContent!==a&&(o.suppressHydrationWarning!==!0&&yd(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(o.suppressHydrationWarning!==!0&&yd(r.textContent,a,t),i=["children",""+a]):Ac.hasOwnProperty(s)&&a!=null&&s==="onScroll"&&rt("scroll",r)}switch(n){case"input":ud(r),hx(r,o,!0);break;case"textarea":ud(r),mx(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=kf)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=jS(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=s.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=s.createElement(n,{is:r.is}):(t=s.createElement(n),n==="select"&&(s=t,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):t=s.createElementNS(t,n),t[br]=e,t[Fc]=r,lI(t,e,!1,!1),e.stateNode=t;e:{switch(s=sv(n,r),n){case"dialog":rt("cancel",t),rt("close",t),i=r;break;case"iframe":case"object":case"embed":rt("load",t),i=r;break;case"video":case"audio":for(i=0;i<Zl.length;i++)rt(Zl[i],t);i=r;break;case"source":rt("error",t),i=r;break;case"img":case"image":case"link":rt("error",t),rt("load",t),i=r;break;case"details":rt("toggle",t),i=r;break;case"input":fx(t,r),i=ev(t,r),rt("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=ht({},r,{value:void 0}),rt("invalid",t);break;case"textarea":px(t,r),i=rv(t,r),rt("invalid",t);break;default:i=r}ov(n,i),a=i;for(o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="style"?US(t,l):o==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&FS(t,l)):o==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Rc(t,l):typeof l=="number"&&Rc(t,""+l):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(Ac.hasOwnProperty(o)?l!=null&&o==="onScroll"&&rt("scroll",t):l!=null&&n0(t,o,l,s))}switch(n){case"input":ud(t),hx(t,r,!1);break;case"textarea":ud(t),mx(t);break;case"option":r.value!=null&&t.setAttribute("value",""+vo(r.value));break;case"select":t.multiple=!!r.multiple,o=r.value,o!=null?ga(t,!!r.multiple,o,!1):r.defaultValue!=null&&ga(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=kf)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Xt(e),null;case 6:if(t&&e.stateNode!=null)uI(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(Q(166));if(n=ts(Uc.current),ts(Rr.current),wd(e)){if(r=e.stateNode,n=e.memoizedProps,r[br]=e,(o=r.nodeValue!==n)&&(t=Mn,t!==null))switch(t.tag){case 3:yd(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&yd(r.nodeValue,n,(t.mode&1)!==0)}o&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[br]=e,e.stateNode=r}return Xt(e),null;case 13:if(ot(ct),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(at&&Dn!==null&&e.mode&1&&!(e.flags&128))IP(),Na(),e.flags|=98560,o=!1;else if(o=wd(e),r!==null&&r.dehydrated!==null){if(t===null){if(!o)throw Error(Q(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(Q(317));o[br]=e}else Na(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Xt(e),o=!1}else or!==null&&($v(or),or=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||ct.current&1?kt===0&&(kt=3):j0())),e.updateQueue!==null&&(e.flags|=4),Xt(e),null);case 4:return Oa(),Dv(t,e),t===null&&Vc(e.stateNode.containerInfo),Xt(e),null;case 10:return x0(e.type._context),Xt(e),null;case 17:return bn(e.type)&&Df(),Xt(e),null;case 19:if(ot(ct),o=e.memoizedState,o===null)return Xt(e),null;if(r=(e.flags&128)!==0,s=o.rendering,s===null)if(r)Bl(o,!1);else{if(kt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(s=Ff(t),s!==null){for(e.flags|=128,Bl(o,!1),r=s.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)o=n,t=r,o.flags&=14680066,s=o.alternate,s===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,t=s.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Xe(ct,ct.current&1|2),e.child}t=t.sibling}o.tail!==null&&_t()>Va&&(e.flags|=128,r=!0,Bl(o,!1),e.lanes=4194304)}else{if(!r)if(t=Ff(s),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Bl(o,!0),o.tail===null&&o.tailMode==="hidden"&&!s.alternate&&!at)return Xt(e),null}else 2*_t()-o.renderingStartTime>Va&&n!==1073741824&&(e.flags|=128,r=!0,Bl(o,!1),e.lanes=4194304);o.isBackwards?(s.sibling=e.child,e.child=s):(n=o.last,n!==null?n.sibling=s:e.child=s,o.last=s)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=_t(),e.sibling=null,n=ct.current,Xe(ct,r?n&1|2:n&1),e):(Xt(e),null);case 22:case 23:return V0(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Rn&1073741824&&(Xt(e),e.subtreeFlags&6&&(e.flags|=8192)):Xt(e),null;case 24:return null;case 25:return null}throw Error(Q(156,e.tag))}function c4(t,e){switch(v0(e),e.tag){case 1:return bn(e.type)&&Df(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Oa(),ot(En),ot(on),S0(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return C0(e),null;case 13:if(ot(ct),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(Q(340));Na()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return ot(ct),null;case 4:return Oa(),null;case 10:return x0(e.type._context),null;case 22:case 23:return V0(),null;case 24:return null;default:return null}}var Ed=!1,tn=!1,u4=typeof WeakSet=="function"?WeakSet:Set,ie=null;function la(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){gt(t,e,r)}else n.current=null}function Nv(t,e,n){try{n()}catch(r){gt(t,e,r)}}var iE=!1;function d4(t,e){if(gv=If,t=mP(),m0(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var s=0,a=-1,l=-1,c=0,u=0,f=t,h=null;t:for(;;){for(var m;f!==n||i!==0&&f.nodeType!==3||(a=s+i),f!==o||r!==0&&f.nodeType!==3||(l=s+r),f.nodeType===3&&(s+=f.nodeValue.length),(m=f.firstChild)!==null;)h=f,f=m;for(;;){if(f===t)break t;if(h===n&&++c===i&&(a=s),h===o&&++u===r&&(l=s),(m=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=m}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(vv={focusedElem:t,selectionRange:n},If=!1,ie=e;ie!==null;)if(e=ie,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,ie=t;else for(;ie!==null;){e=ie;try{var _=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(_!==null){var v=_.memoizedProps,E=_.memoizedState,x=e.stateNode,y=x.getSnapshotBeforeUpdate(e.elementType===e.type?v:rr(e.type,v),E);x.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var b=e.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Q(163))}}catch(P){gt(e,e.return,P)}if(t=e.sibling,t!==null){t.return=e.return,ie=t;break}ie=e.return}return _=iE,iE=!1,_}function hc(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var o=i.destroy;i.destroy=void 0,o!==void 0&&Nv(e,n,o)}i=i.next}while(i!==r)}}function qh(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Mv(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function dI(t){var e=t.alternate;e!==null&&(t.alternate=null,dI(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[br],delete e[Fc],delete e[_v],delete e[YV],delete e[GV])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function fI(t){return t.tag===5||t.tag===3||t.tag===4}function oE(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||fI(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Ov(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=kf));else if(r!==4&&(t=t.child,t!==null))for(Ov(t,e,n),t=t.sibling;t!==null;)Ov(t,e,n),t=t.sibling}function Lv(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Lv(t,e,n),t=t.sibling;t!==null;)Lv(t,e,n),t=t.sibling}var $t=null,ir=!1;function Di(t,e,n){for(n=n.child;n!==null;)hI(t,e,n),n=n.sibling}function hI(t,e,n){if(Ar&&typeof Ar.onCommitFiberUnmount=="function")try{Ar.onCommitFiberUnmount(jh,n)}catch{}switch(n.tag){case 5:tn||la(n,e);case 6:var r=$t,i=ir;$t=null,Di(t,e,n),$t=r,ir=i,$t!==null&&(ir?(t=$t,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):$t.removeChild(n.stateNode));break;case 18:$t!==null&&(ir?(t=$t,n=n.stateNode,t.nodeType===8?Fm(t.parentNode,n):t.nodeType===1&&Fm(t,n),Mc(t)):Fm($t,n.stateNode));break;case 4:r=$t,i=ir,$t=n.stateNode.containerInfo,ir=!0,Di(t,e,n),$t=r,ir=i;break;case 0:case 11:case 14:case 15:if(!tn&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,s=o.destroy;o=o.tag,s!==void 0&&(o&2||o&4)&&Nv(n,e,s),i=i.next}while(i!==r)}Di(t,e,n);break;case 1:if(!tn&&(la(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){gt(n,e,a)}Di(t,e,n);break;case 21:Di(t,e,n);break;case 22:n.mode&1?(tn=(r=tn)||n.memoizedState!==null,Di(t,e,n),tn=r):Di(t,e,n);break;default:Di(t,e,n)}}function sE(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new u4),e.forEach(function(r){var i=_4.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function tr(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=t,s=e,a=s;e:for(;a!==null;){switch(a.tag){case 5:$t=a.stateNode,ir=!1;break e;case 3:$t=a.stateNode.containerInfo,ir=!0;break e;case 4:$t=a.stateNode.containerInfo,ir=!0;break e}a=a.return}if($t===null)throw Error(Q(160));hI(o,s,i),$t=null,ir=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){gt(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)pI(e,t),e=e.sibling}function pI(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(tr(e,t),_r(t),r&4){try{hc(3,t,t.return),qh(3,t)}catch(v){gt(t,t.return,v)}try{hc(5,t,t.return)}catch(v){gt(t,t.return,v)}}break;case 1:tr(e,t),_r(t),r&512&&n!==null&&la(n,n.return);break;case 5:if(tr(e,t),_r(t),r&512&&n!==null&&la(n,n.return),t.flags&32){var i=t.stateNode;try{Rc(i,"")}catch(v){gt(t,t.return,v)}}if(r&4&&(i=t.stateNode,i!=null)){var o=t.memoizedProps,s=n!==null?n.memoizedProps:o,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&o.type==="radio"&&o.name!=null&&LS(i,o),sv(a,s);var c=sv(a,o);for(s=0;s<l.length;s+=2){var u=l[s],f=l[s+1];u==="style"?US(i,f):u==="dangerouslySetInnerHTML"?FS(i,f):u==="children"?Rc(i,f):n0(i,u,f,c)}switch(a){case"input":tv(i,o);break;case"textarea":VS(i,o);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var m=o.value;m!=null?ga(i,!!o.multiple,m,!1):h!==!!o.multiple&&(o.defaultValue!=null?ga(i,!!o.multiple,o.defaultValue,!0):ga(i,!!o.multiple,o.multiple?[]:"",!1))}i[Fc]=o}catch(v){gt(t,t.return,v)}}break;case 6:if(tr(e,t),_r(t),r&4){if(t.stateNode===null)throw Error(Q(162));i=t.stateNode,o=t.memoizedProps;try{i.nodeValue=o}catch(v){gt(t,t.return,v)}}break;case 3:if(tr(e,t),_r(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Mc(e.containerInfo)}catch(v){gt(t,t.return,v)}break;case 4:tr(e,t),_r(t);break;case 13:tr(e,t),_r(t),i=t.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(O0=_t())),r&4&&sE(t);break;case 22:if(u=n!==null&&n.memoizedState!==null,t.mode&1?(tn=(c=tn)||u,tr(e,t),tn=c):tr(e,t),_r(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!u&&t.mode&1)for(ie=t,u=t.child;u!==null;){for(f=ie=u;ie!==null;){switch(h=ie,m=h.child,h.tag){case 0:case 11:case 14:case 15:hc(4,h,h.return);break;case 1:la(h,h.return);var _=h.stateNode;if(typeof _.componentWillUnmount=="function"){r=h,n=h.return;try{e=r,_.props=e.memoizedProps,_.state=e.memoizedState,_.componentWillUnmount()}catch(v){gt(r,n,v)}}break;case 5:la(h,h.return);break;case 22:if(h.memoizedState!==null){lE(f);continue}}m!==null?(m.return=h,ie=m):lE(f)}u=u.sibling}e:for(u=null,f=t;;){if(f.tag===5){if(u===null){u=f;try{i=f.stateNode,c?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(a=f.stateNode,l=f.memoizedProps.style,s=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=$S("display",s))}catch(v){gt(t,t.return,v)}}}else if(f.tag===6){if(u===null)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(v){gt(t,t.return,v)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;u===f&&(u=null),f=f.return}u===f&&(u=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:tr(e,t),_r(t),r&4&&sE(t);break;case 21:break;default:tr(e,t),_r(t)}}function _r(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(fI(n)){var r=n;break e}n=n.return}throw Error(Q(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Rc(i,""),r.flags&=-33);var o=oE(t);Lv(t,o,i);break;case 3:case 4:var s=r.stateNode.containerInfo,a=oE(t);Ov(t,a,s);break;default:throw Error(Q(161))}}catch(l){gt(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function f4(t,e,n){ie=t,mI(t)}function mI(t,e,n){for(var r=(t.mode&1)!==0;ie!==null;){var i=ie,o=i.child;if(i.tag===22&&r){var s=i.memoizedState!==null||Ed;if(!s){var a=i.alternate,l=a!==null&&a.memoizedState!==null||tn;a=Ed;var c=tn;if(Ed=s,(tn=l)&&!c)for(ie=i;ie!==null;)s=ie,l=s.child,s.tag===22&&s.memoizedState!==null?cE(i):l!==null?(l.return=s,ie=l):cE(i);for(;o!==null;)ie=o,mI(o),o=o.sibling;ie=i,Ed=a,tn=c}aE(t)}else i.subtreeFlags&8772&&o!==null?(o.return=i,ie=o):aE(t)}}function aE(t){for(;ie!==null;){var e=ie;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:tn||qh(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!tn)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:rr(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&Hx(e,o,r);break;case 3:var s=e.updateQueue;if(s!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Hx(e,s,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var f=u.dehydrated;f!==null&&Mc(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Q(163))}tn||e.flags&512&&Mv(e)}catch(h){gt(e,e.return,h)}}if(e===t){ie=null;break}if(n=e.sibling,n!==null){n.return=e.return,ie=n;break}ie=e.return}}function lE(t){for(;ie!==null;){var e=ie;if(e===t){ie=null;break}var n=e.sibling;if(n!==null){n.return=e.return,ie=n;break}ie=e.return}}function cE(t){for(;ie!==null;){var e=ie;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{qh(4,e)}catch(l){gt(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){gt(e,i,l)}}var o=e.return;try{Mv(e)}catch(l){gt(e,o,l)}break;case 5:var s=e.return;try{Mv(e)}catch(l){gt(e,s,l)}}}catch(l){gt(e,e.return,l)}if(e===t){ie=null;break}var a=e.sibling;if(a!==null){a.return=e.return,ie=a;break}ie=e.return}}var h4=Math.ceil,Bf=Ci.ReactCurrentDispatcher,N0=Ci.ReactCurrentOwner,Yn=Ci.ReactCurrentBatchConfig,Oe=0,Vt=null,St=null,zt=0,Rn=0,ca=Ro(0),kt=0,Hc=null,fs=0,Yh=0,M0=0,pc=null,yn=null,O0=0,Va=1/0,Xr=null,Wf=!1,Vv=null,io=null,bd=!1,Ki=null,zf=0,mc=0,jv=null,rf=-1,of=0;function pn(){return Oe&6?_t():rf!==-1?rf:rf=_t()}function oo(t){return t.mode&1?Oe&2&&zt!==0?zt&-zt:QV.transition!==null?(of===0&&(of=ZS()),of):(t=He,t!==0||(t=window.event,t=t===void 0?16:sP(t.type)),t):1}function lr(t,e,n,r){if(50<mc)throw mc=0,jv=null,Error(Q(185));vu(t,n,r),(!(Oe&2)||t!==Vt)&&(t===Vt&&(!(Oe&2)&&(Yh|=n),kt===4&&Wi(t,zt)),Tn(t,r),n===1&&Oe===0&&!(e.mode&1)&&(Va=_t()+500,Wh&&ko()))}function Tn(t,e){var n=t.callbackNode;QL(t,e);var r=Pf(t,t===Vt?zt:0);if(r===0)n!==null&&yx(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&yx(n),e===1)t.tag===0?KV(uE.bind(null,t)):CP(uE.bind(null,t)),HV(function(){!(Oe&6)&&ko()}),n=null;else{switch(eP(r)){case 1:n=a0;break;case 4:n=XS;break;case 16:n=Sf;break;case 536870912:n=JS;break;default:n=Sf}n=bI(n,gI.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function gI(t,e){if(rf=-1,of=0,Oe&6)throw Error(Q(327));var n=t.callbackNode;if(xa()&&t.callbackNode!==n)return null;var r=Pf(t,t===Vt?zt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Hf(t,r);else{e=r;var i=Oe;Oe|=2;var o=yI();(Vt!==t||zt!==e)&&(Xr=null,Va=_t()+500,os(t,e));do try{g4();break}catch(a){vI(t,a)}while(1);_0(),Bf.current=o,Oe=i,St!==null?e=0:(Vt=null,zt=0,e=kt)}if(e!==0){if(e===2&&(i=dv(t),i!==0&&(r=i,e=Fv(t,i))),e===1)throw n=Hc,os(t,0),Wi(t,r),Tn(t,_t()),n;if(e===6)Wi(t,r);else{if(i=t.current.alternate,!(r&30)&&!p4(i)&&(e=Hf(t,r),e===2&&(o=dv(t),o!==0&&(r=o,e=Fv(t,o))),e===1))throw n=Hc,os(t,0),Wi(t,r),Tn(t,_t()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(Q(345));case 2:Yo(t,yn,Xr);break;case 3:if(Wi(t,r),(r&130023424)===r&&(e=O0+500-_t(),10<e)){if(Pf(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){pn(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=wv(Yo.bind(null,t,yn,Xr),e);break}Yo(t,yn,Xr);break;case 4:if(Wi(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var s=31-ar(r);o=1<<s,s=e[s],s>i&&(i=s),r&=~o}if(r=i,r=_t()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*h4(r/1960))-r,10<r){t.timeoutHandle=wv(Yo.bind(null,t,yn,Xr),r);break}Yo(t,yn,Xr);break;case 5:Yo(t,yn,Xr);break;default:throw Error(Q(329))}}}return Tn(t,_t()),t.callbackNode===n?gI.bind(null,t):null}function Fv(t,e){var n=pc;return t.current.memoizedState.isDehydrated&&(os(t,e).flags|=256),t=Hf(t,e),t!==2&&(e=yn,yn=n,e!==null&&$v(e)),t}function $v(t){yn===null?yn=t:yn.push.apply(yn,t)}function p4(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!ur(o(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Wi(t,e){for(e&=~M0,e&=~Yh,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-ar(e),r=1<<n;t[n]=-1,e&=~r}}function uE(t){if(Oe&6)throw Error(Q(327));xa();var e=Pf(t,0);if(!(e&1))return Tn(t,_t()),null;var n=Hf(t,e);if(t.tag!==0&&n===2){var r=dv(t);r!==0&&(e=r,n=Fv(t,r))}if(n===1)throw n=Hc,os(t,0),Wi(t,e),Tn(t,_t()),n;if(n===6)throw Error(Q(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Yo(t,yn,Xr),Tn(t,_t()),null}function L0(t,e){var n=Oe;Oe|=1;try{return t(e)}finally{Oe=n,Oe===0&&(Va=_t()+500,Wh&&ko())}}function hs(t){Ki!==null&&Ki.tag===0&&!(Oe&6)&&xa();var e=Oe;Oe|=1;var n=Yn.transition,r=He;try{if(Yn.transition=null,He=1,t)return t()}finally{He=r,Yn.transition=n,Oe=e,!(Oe&6)&&ko()}}function V0(){Rn=ca.current,ot(ca)}function os(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,zV(n)),St!==null)for(n=St.return;n!==null;){var r=n;switch(v0(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Df();break;case 3:Oa(),ot(En),ot(on),S0();break;case 5:C0(r);break;case 4:Oa();break;case 13:ot(ct);break;case 19:ot(ct);break;case 10:x0(r.type._context);break;case 22:case 23:V0()}n=n.return}if(Vt=t,St=t=so(t.current,null),zt=Rn=e,kt=0,Hc=null,M0=Yh=fs=0,yn=pc=null,es!==null){for(e=0;e<es.length;e++)if(n=es[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var s=o.next;o.next=i,r.next=s}n.pending=r}es=null}return t}function vI(t,e){do{var n=St;try{if(_0(),ef.current=Uf,$f){for(var r=ft.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}$f=!1}if(ds=0,Ot=Rt=ft=null,fc=!1,Bc=0,N0.current=null,n===null||n.return===null){kt=1,Hc=e,St=null;break}e:{var o=t,s=n.return,a=n,l=e;if(e=zt,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=a,f=u.tag;if(!(u.mode&1)&&(f===0||f===11||f===15)){var h=u.alternate;h?(u.updateQueue=h.updateQueue,u.memoizedState=h.memoizedState,u.lanes=h.lanes):(u.updateQueue=null,u.memoizedState=null)}var m=Xx(s);if(m!==null){m.flags&=-257,Jx(m,s,a,o,e),m.mode&1&&Qx(o,c,e),e=m,l=c;var _=e.updateQueue;if(_===null){var v=new Set;v.add(l),e.updateQueue=v}else _.add(l);break e}else{if(!(e&1)){Qx(o,c,e),j0();break e}l=Error(Q(426))}}else if(at&&a.mode&1){var E=Xx(s);if(E!==null){!(E.flags&65536)&&(E.flags|=256),Jx(E,s,a,o,e),y0(La(l,a));break e}}o=l=La(l,a),kt!==4&&(kt=2),pc===null?pc=[o]:pc.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var x=eI(o,l,e);zx(o,x);break e;case 1:a=l;var y=o.type,b=o.stateNode;if(!(o.flags&128)&&(typeof y.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(io===null||!io.has(b)))){o.flags|=65536,e&=-e,o.lanes|=e;var P=tI(o,a,e);zx(o,P);break e}}o=o.return}while(o!==null)}_I(n)}catch(N){e=N,St===n&&n!==null&&(St=n=n.return);continue}break}while(1)}function yI(){var t=Bf.current;return Bf.current=Uf,t===null?Uf:t}function j0(){(kt===0||kt===3||kt===2)&&(kt=4),Vt===null||!(fs&268435455)&&!(Yh&268435455)||Wi(Vt,zt)}function Hf(t,e){var n=Oe;Oe|=2;var r=yI();(Vt!==t||zt!==e)&&(Xr=null,os(t,e));do try{m4();break}catch(i){vI(t,i)}while(1);if(_0(),Oe=n,Bf.current=r,St!==null)throw Error(Q(261));return Vt=null,zt=0,kt}function m4(){for(;St!==null;)wI(St)}function g4(){for(;St!==null&&!UL();)wI(St)}function wI(t){var e=EI(t.alternate,t,Rn);t.memoizedProps=t.pendingProps,e===null?_I(t):St=e,N0.current=null}function _I(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=c4(n,e),n!==null){n.flags&=32767,St=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{kt=6,St=null;return}}else if(n=l4(n,e,Rn),n!==null){St=n;return}if(e=e.sibling,e!==null){St=e;return}St=e=t}while(e!==null);kt===0&&(kt=5)}function Yo(t,e,n){var r=He,i=Yn.transition;try{Yn.transition=null,He=1,v4(t,e,n,r)}finally{Yn.transition=i,He=r}return null}function v4(t,e,n,r){do xa();while(Ki!==null);if(Oe&6)throw Error(Q(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(Q(177));t.callbackNode=null,t.callbackPriority=0;var o=n.lanes|n.childLanes;if(XL(t,o),t===Vt&&(St=Vt=null,zt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||bd||(bd=!0,bI(Sf,function(){return xa(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=Yn.transition,Yn.transition=null;var s=He;He=1;var a=Oe;Oe|=4,N0.current=null,d4(t,n),pI(n,t),VV(vv),If=!!gv,vv=gv=null,t.current=n,f4(n),BL(),Oe=a,He=s,Yn.transition=o}else t.current=n;if(bd&&(bd=!1,Ki=t,zf=i),o=t.pendingLanes,o===0&&(io=null),HL(n.stateNode),Tn(t,_t()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Wf)throw Wf=!1,t=Vv,Vv=null,t;return zf&1&&t.tag!==0&&xa(),o=t.pendingLanes,o&1?t===jv?mc++:(mc=0,jv=t):mc=0,ko(),null}function xa(){if(Ki!==null){var t=eP(zf),e=Yn.transition,n=He;try{if(Yn.transition=null,He=16>t?16:t,Ki===null)var r=!1;else{if(t=Ki,Ki=null,zf=0,Oe&6)throw Error(Q(331));var i=Oe;for(Oe|=4,ie=t.current;ie!==null;){var o=ie,s=o.child;if(ie.flags&16){var a=o.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(ie=c;ie!==null;){var u=ie;switch(u.tag){case 0:case 11:case 15:hc(8,u,o)}var f=u.child;if(f!==null)f.return=u,ie=f;else for(;ie!==null;){u=ie;var h=u.sibling,m=u.return;if(dI(u),u===c){ie=null;break}if(h!==null){h.return=m,ie=h;break}ie=m}}}var _=o.alternate;if(_!==null){var v=_.child;if(v!==null){_.child=null;do{var E=v.sibling;v.sibling=null,v=E}while(v!==null)}}ie=o}}if(o.subtreeFlags&2064&&s!==null)s.return=o,ie=s;else e:for(;ie!==null;){if(o=ie,o.flags&2048)switch(o.tag){case 0:case 11:case 15:hc(9,o,o.return)}var x=o.sibling;if(x!==null){x.return=o.return,ie=x;break e}ie=o.return}}var y=t.current;for(ie=y;ie!==null;){s=ie;var b=s.child;if(s.subtreeFlags&2064&&b!==null)b.return=s,ie=b;else e:for(s=y;ie!==null;){if(a=ie,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:qh(9,a)}}catch(N){gt(a,a.return,N)}if(a===s){ie=null;break e}var P=a.sibling;if(P!==null){P.return=a.return,ie=P;break e}ie=a.return}}if(Oe=i,ko(),Ar&&typeof Ar.onPostCommitFiberRoot=="function")try{Ar.onPostCommitFiberRoot(jh,t)}catch{}r=!0}return r}finally{He=n,Yn.transition=e}}return!1}function dE(t,e,n){e=La(n,e),e=eI(t,e,1),t=ro(t,e,1),e=pn(),t!==null&&(vu(t,1,e),Tn(t,e))}function gt(t,e,n){if(t.tag===3)dE(t,t,n);else for(;e!==null;){if(e.tag===3){dE(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(io===null||!io.has(r))){t=La(n,t),t=tI(e,t,1),e=ro(e,t,1),t=pn(),e!==null&&(vu(e,1,t),Tn(e,t));break}}e=e.return}}function y4(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=pn(),t.pingedLanes|=t.suspendedLanes&n,Vt===t&&(zt&n)===n&&(kt===4||kt===3&&(zt&130023424)===zt&&500>_t()-O0?os(t,0):M0|=n),Tn(t,e)}function xI(t,e){e===0&&(t.mode&1?(e=hd,hd<<=1,!(hd&130023424)&&(hd=4194304)):e=1);var n=pn();t=hi(t,e),t!==null&&(vu(t,e,n),Tn(t,n))}function w4(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),xI(t,n)}function _4(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(Q(314))}r!==null&&r.delete(e),xI(t,n)}var EI;EI=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||En.current)_n=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return _n=!1,a4(t,e,n);_n=!!(t.flags&131072)}else _n=!1,at&&e.flags&1048576&&SP(e,Of,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;nf(t,e),t=e.pendingProps;var i=Da(e,on.current);_a(e,n),i=I0(null,e,r,t,i,n);var o=A0();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,bn(r)?(o=!0,Nf(e)):o=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,b0(e),i.updater=Hh,e.stateNode=i,i._reactInternals=e,Sv(e,r,t,n),e=Av(null,e,r,!0,o,n)):(e.tag=0,at&&o&&g0(e),fn(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(nf(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=E4(r),t=rr(r,t),i){case 0:e=Iv(null,e,r,t,n);break e;case 1:e=tE(null,e,r,t,n);break e;case 11:e=Zx(null,e,r,t,n);break e;case 14:e=eE(null,e,r,rr(r.type,t),n);break e}throw Error(Q(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:rr(r,i),Iv(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:rr(r,i),tE(t,e,r,i,n);case 3:e:{if(oI(e),t===null)throw Error(Q(387));r=e.pendingProps,o=e.memoizedState,i=o.element,DP(t,e),jf(e,r,null,n);var s=e.memoizedState;if(r=s.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){i=La(Error(Q(423)),e),e=nE(t,e,r,n,i);break e}else if(r!==i){i=La(Error(Q(424)),e),e=nE(t,e,r,n,i);break e}else for(Dn=no(e.stateNode.containerInfo.firstChild),Mn=e,at=!0,or=null,n=RP(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Na(),r===i){e=pi(t,e,n);break e}fn(t,e,r,n)}e=e.child}return e;case 5:return NP(e),t===null&&bv(e),r=e.type,i=e.pendingProps,o=t!==null?t.memoizedProps:null,s=i.children,yv(r,i)?s=null:o!==null&&yv(r,o)&&(e.flags|=32),iI(t,e),fn(t,e,s,n),e.child;case 6:return t===null&&bv(e),null;case 13:return sI(t,e,n);case 4:return T0(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Ma(e,null,r,n):fn(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:rr(r,i),Zx(t,e,r,i,n);case 7:return fn(t,e,e.pendingProps,n),e.child;case 8:return fn(t,e,e.pendingProps.children,n),e.child;case 12:return fn(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,o=e.memoizedProps,s=i.value,Xe(Lf,r._currentValue),r._currentValue=s,o!==null)if(ur(o.value,s)){if(o.children===i.children&&!En.current){e=pi(t,e,n);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var a=o.dependencies;if(a!==null){s=o.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(o.tag===1){l=oi(-1,n&-n),l.tag=2;var c=o.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),Tv(o.return,n,e),a.lanes|=n;break}l=l.next}}else if(o.tag===10)s=o.type===e.type?null:o.child;else if(o.tag===18){if(s=o.return,s===null)throw Error(Q(341));s.lanes|=n,a=s.alternate,a!==null&&(a.lanes|=n),Tv(s,n,e),s=o.sibling}else s=o.child;if(s!==null)s.return=o;else for(s=o;s!==null;){if(s===e){s=null;break}if(o=s.sibling,o!==null){o.return=s.return,s=o;break}s=s.return}o=s}fn(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,_a(e,n),i=Gn(i),r=r(i),e.flags|=1,fn(t,e,r,n),e.child;case 14:return r=e.type,i=rr(r,e.pendingProps),i=rr(r.type,i),eE(t,e,r,i,n);case 15:return nI(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:rr(r,i),nf(t,e),e.tag=1,bn(r)?(t=!0,Nf(e)):t=!1,_a(e,n),ZP(e,r,i),Sv(e,r,i,n),Av(null,e,r,!0,t,n);case 19:return aI(t,e,n);case 22:return rI(t,e,n)}throw Error(Q(156,e.tag))};function bI(t,e){return QS(t,e)}function x4(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function qn(t,e,n,r){return new x4(t,e,n,r)}function F0(t){return t=t.prototype,!(!t||!t.isReactComponent)}function E4(t){if(typeof t=="function")return F0(t)?1:0;if(t!=null){if(t=t.$$typeof,t===i0)return 11;if(t===o0)return 14}return 2}function so(t,e){var n=t.alternate;return n===null?(n=qn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function sf(t,e,n,r,i,o){var s=2;if(r=t,typeof t=="function")F0(t)&&(s=1);else if(typeof t=="string")s=5;else e:switch(t){case Zs:return ss(n.children,i,o,e);case r0:s=8,i|=8;break;case Qg:return t=qn(12,n,e,i|2),t.elementType=Qg,t.lanes=o,t;case Xg:return t=qn(13,n,e,i),t.elementType=Xg,t.lanes=o,t;case Jg:return t=qn(19,n,e,i),t.elementType=Jg,t.lanes=o,t;case NS:return Gh(n,i,o,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case kS:s=10;break e;case DS:s=9;break e;case i0:s=11;break e;case o0:s=14;break e;case Fi:s=16,r=null;break e}throw Error(Q(130,t==null?t:typeof t,""))}return e=qn(s,n,e,i),e.elementType=t,e.type=r,e.lanes=o,e}function ss(t,e,n,r){return t=qn(7,t,r,e),t.lanes=n,t}function Gh(t,e,n,r){return t=qn(22,t,r,e),t.elementType=NS,t.lanes=n,t.stateNode={isHidden:!1},t}function Ym(t,e,n){return t=qn(6,t,null,e),t.lanes=n,t}function Gm(t,e,n){return e=qn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function b4(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Im(0),this.expirationTimes=Im(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Im(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function $0(t,e,n,r,i,o,s,a,l){return t=new b4(t,e,n,a,l),e===1?(e=1,o===!0&&(e|=8)):e=0,o=qn(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},b0(o),t}function T4(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Js,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function TI(t){if(!t)return yo;t=t._reactInternals;e:{if(Ps(t)!==t||t.tag!==1)throw Error(Q(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(bn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(Q(171))}if(t.tag===1){var n=t.type;if(bn(n))return TP(t,n,e)}return e}function CI(t,e,n,r,i,o,s,a,l){return t=$0(n,r,!0,t,i,o,s,a,l),t.context=TI(null),n=t.current,r=pn(),i=oo(n),o=oi(r,i),o.callback=e??null,ro(n,o,i),t.current.lanes=i,vu(t,i,r),Tn(t,r),t}function Kh(t,e,n,r){var i=e.current,o=pn(),s=oo(i);return n=TI(n),e.context===null?e.context=n:e.pendingContext=n,e=oi(o,s),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=ro(i,e,s),t!==null&&(lr(t,i,s,o),Zd(t,i,s)),s}function qf(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function fE(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function U0(t,e){fE(t,e),(t=t.alternate)&&fE(t,e)}function C4(){return null}var SI=typeof reportError=="function"?reportError:function(t){console.error(t)};function B0(t){this._internalRoot=t}Qh.prototype.render=B0.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(Q(409));Kh(t,e,null,null)};Qh.prototype.unmount=B0.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;hs(function(){Kh(null,t,null,null)}),e[fi]=null}};function Qh(t){this._internalRoot=t}Qh.prototype.unstable_scheduleHydration=function(t){if(t){var e=rP();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Bi.length&&e!==0&&e<Bi[n].priority;n++);Bi.splice(n,0,t),n===0&&oP(t)}};function W0(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Xh(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function hE(){}function S4(t,e,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var c=qf(s);o.call(c)}}var s=CI(e,r,t,0,null,!1,!1,"",hE);return t._reactRootContainer=s,t[fi]=s.current,Vc(t.nodeType===8?t.parentNode:t),hs(),s}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var c=qf(l);a.call(c)}}var l=$0(t,0,!1,null,null,!1,!1,"",hE);return t._reactRootContainer=l,t[fi]=l.current,Vc(t.nodeType===8?t.parentNode:t),hs(function(){Kh(e,l,n,r)}),l}function Jh(t,e,n,r,i){var o=n._reactRootContainer;if(o){var s=o;if(typeof i=="function"){var a=i;i=function(){var l=qf(s);a.call(l)}}Kh(e,s,t,i)}else s=S4(n,e,t,i,r);return qf(s)}tP=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Jl(e.pendingLanes);n!==0&&(l0(e,n|1),Tn(e,_t()),!(Oe&6)&&(Va=_t()+500,ko()))}break;case 13:hs(function(){var r=hi(t,1);if(r!==null){var i=pn();lr(r,t,1,i)}}),U0(t,1)}};c0=function(t){if(t.tag===13){var e=hi(t,134217728);if(e!==null){var n=pn();lr(e,t,134217728,n)}U0(t,134217728)}};nP=function(t){if(t.tag===13){var e=oo(t),n=hi(t,e);if(n!==null){var r=pn();lr(n,t,e,r)}U0(t,e)}};rP=function(){return He};iP=function(t,e){var n=He;try{return He=t,e()}finally{He=n}};lv=function(t,e,n){switch(e){case"input":if(tv(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Bh(r);if(!i)throw Error(Q(90));OS(r),tv(r,i)}}}break;case"textarea":VS(t,n);break;case"select":e=n.value,e!=null&&ga(t,!!n.multiple,e,!1)}};zS=L0;HS=hs;var P4={usingClientEntryPoint:!1,Events:[wu,ra,Bh,BS,WS,L0]},Wl={findFiberByHostInstance:Zo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},I4={bundleType:Wl.bundleType,version:Wl.version,rendererPackageName:Wl.rendererPackageName,rendererConfig:Wl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ci.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=GS(t),t===null?null:t.stateNode},findFiberByHostInstance:Wl.findFiberByHostInstance||C4,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Td=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Td.isDisabled&&Td.supportsFiber)try{jh=Td.inject(I4),Ar=Td}catch{}}jn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=P4;jn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!W0(e))throw Error(Q(200));return T4(t,e,null,n)};jn.createRoot=function(t,e){if(!W0(t))throw Error(Q(299));var n=!1,r="",i=SI;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=$0(t,1,!1,null,null,n,!1,r,i),t[fi]=e.current,Vc(t.nodeType===8?t.parentNode:t),new B0(e)};jn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(Q(188)):(t=Object.keys(t).join(","),Error(Q(268,t)));return t=GS(e),t=t===null?null:t.stateNode,t};jn.flushSync=function(t){return hs(t)};jn.hydrate=function(t,e,n){if(!Xh(e))throw Error(Q(200));return Jh(null,t,e,!0,n)};jn.hydrateRoot=function(t,e,n){if(!W0(t))throw Error(Q(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",s=SI;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),e=CI(e,null,t,1,n??null,i,!1,o,s),t[fi]=e.current,Vc(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Qh(e)};jn.render=function(t,e,n){if(!Xh(e))throw Error(Q(200));return Jh(null,t,e,!1,n)};jn.unmountComponentAtNode=function(t){if(!Xh(t))throw Error(Q(40));return t._reactRootContainer?(hs(function(){Jh(null,null,t,!1,function(){t._reactRootContainer=null,t[fi]=null})}),!0):!1};jn.unstable_batchedUpdates=L0;jn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Xh(n))throw Error(Q(200));if(t==null||t._reactInternals===void 0)throw Error(Q(38));return Jh(t,e,n,!1,r)};jn.version="18.3.1-next-f1338f8080-20240426";function PI(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(PI)}catch(t){console.error(t)}}PI(),PS.exports=jn;var Do=PS.exports;const II=mS(Do);var pE=Do;Gg.createRoot=pE.createRoot,Gg.hydrateRoot=pE.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function qc(){return qc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},qc.apply(this,arguments)}var Qi;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Qi||(Qi={}));const mE="popstate";function A4(t){t===void 0&&(t={});function e(r,i){let{pathname:o,search:s,hash:a}=r.location;return Uv("",{pathname:o,search:s,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Yf(i)}return k4(e,n,null,t)}function bt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function AI(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function R4(){return Math.random().toString(36).substr(2,8)}function gE(t,e){return{usr:t.state,key:t.key,idx:e}}function Uv(t,e,n,r){return n===void 0&&(n=null),qc({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?il(e):e,{state:n,key:e&&e.key||r||R4()})}function Yf(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function il(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function k4(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:o=!1}=r,s=i.history,a=Qi.Pop,l=null,c=u();c==null&&(c=0,s.replaceState(qc({},s.state,{idx:c}),""));function u(){return(s.state||{idx:null}).idx}function f(){a=Qi.Pop;let E=u(),x=E==null?null:E-c;c=E,l&&l({action:a,location:v.location,delta:x})}function h(E,x){a=Qi.Push;let y=Uv(v.location,E,x);n&&n(y,E),c=u()+1;let b=gE(y,c),P=v.createHref(y);try{s.pushState(b,"",P)}catch(N){if(N instanceof DOMException&&N.name==="DataCloneError")throw N;i.location.assign(P)}o&&l&&l({action:a,location:v.location,delta:1})}function m(E,x){a=Qi.Replace;let y=Uv(v.location,E,x);n&&n(y,E),c=u();let b=gE(y,c),P=v.createHref(y);s.replaceState(b,"",P),o&&l&&l({action:a,location:v.location,delta:0})}function _(E){let x=i.location.origin!=="null"?i.location.origin:i.location.href,y=typeof E=="string"?E:Yf(E);return y=y.replace(/ $/,"%20"),bt(x,"No window.location.(origin|href) available to create URL for href: "+y),new URL(y,x)}let v={get action(){return a},get location(){return t(i,s)},listen(E){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(mE,f),l=E,()=>{i.removeEventListener(mE,f),l=null}},createHref(E){return e(i,E)},createURL:_,encodeLocation(E){let x=_(E);return{pathname:x.pathname,search:x.search,hash:x.hash}},push:h,replace:m,go(E){return s.go(E)}};return v}var vE;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(vE||(vE={}));function D4(t,e,n){return n===void 0&&(n="/"),N4(t,e,n,!1)}function N4(t,e,n,r){let i=typeof e=="string"?il(e):e,o=z0(i.pathname||"/",n);if(o==null)return null;let s=RI(t);M4(s);let a=null;for(let l=0;a==null&&l<s.length;++l){let c=H4(o);a=W4(s[l],c,r)}return a}function RI(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(o,s,a)=>{let l={relativePath:a===void 0?o.path||"":a,caseSensitive:o.caseSensitive===!0,childrenIndex:s,route:o};l.relativePath.startsWith("/")&&(bt(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let c=ao([r,l.relativePath]),u=n.concat(l);o.children&&o.children.length>0&&(bt(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),RI(o.children,e,u,c)),!(o.path==null&&!o.index)&&e.push({path:c,score:U4(c,o.index),routesMeta:u})};return t.forEach((o,s)=>{var a;if(o.path===""||!((a=o.path)!=null&&a.includes("?")))i(o,s);else for(let l of kI(o.path))i(o,s,l)}),e}function kI(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let s=kI(r.join("/")),a=[];return a.push(...s.map(l=>l===""?o:[o,l].join("/"))),i&&a.push(...s),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function M4(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:B4(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const O4=/^:[\w-]+$/,L4=3,V4=2,j4=1,F4=10,$4=-2,yE=t=>t==="*";function U4(t,e){let n=t.split("/"),r=n.length;return n.some(yE)&&(r+=$4),e&&(r+=V4),n.filter(i=>!yE(i)).reduce((i,o)=>i+(O4.test(o)?L4:o===""?j4:F4),r)}function B4(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function W4(t,e,n){n===void 0&&(n=!1);let{routesMeta:r}=t,i={},o="/",s=[];for(let a=0;a<r.length;++a){let l=r[a],c=a===r.length-1,u=o==="/"?e:e.slice(o.length)||"/",f=wE({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},u),h=l.route;if(!f&&c&&n&&!r[r.length-1].route.index&&(f=wE({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},u)),!f)return null;Object.assign(i,f.params),s.push({params:i,pathname:ao([o,f.pathname]),pathnameBase:K4(ao([o,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(o=ao([o,f.pathnameBase]))}return s}function wE(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=z4(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let o=i[0],s=o.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((c,u,f)=>{let{paramName:h,isOptional:m}=u;if(h==="*"){let v=a[f]||"";s=o.slice(0,o.length-v.length).replace(/(.)\/+$/,"$1")}const _=a[f];return m&&!_?c[h]=void 0:c[h]=(_||"").replace(/%2F/g,"/"),c},{}),pathname:o,pathnameBase:s,pattern:t}}function z4(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),AI(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function H4(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return AI(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function z0(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function q4(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?il(t):t;return{pathname:n?n.startsWith("/")?n:Y4(n,e):e,search:Q4(r),hash:X4(i)}}function Y4(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Km(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function G4(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function H0(t,e){let n=G4(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function q0(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=il(t):(i=qc({},t),bt(!i.pathname||!i.pathname.includes("?"),Km("?","pathname","search",i)),bt(!i.pathname||!i.pathname.includes("#"),Km("#","pathname","hash",i)),bt(!i.search||!i.search.includes("#"),Km("#","search","hash",i)));let o=t===""||i.pathname==="",s=o?"/":i.pathname,a;if(s==null)a=n;else{let f=e.length-1;if(!r&&s.startsWith("..")){let h=s.split("/");for(;h[0]==="..";)h.shift(),f-=1;i.pathname=h.join("/")}a=f>=0?e[f]:"/"}let l=q4(i,a),c=s&&s!=="/"&&s.endsWith("/"),u=(o||s===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||u)&&(l.pathname+="/"),l}const ao=t=>t.join("/").replace(/\/\/+/g,"/"),K4=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),Q4=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,X4=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function J4(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const DI=["post","put","patch","delete"];new Set(DI);const Z4=["get",...DI];new Set(Z4);/**
 * React Router v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Yc(){return Yc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Yc.apply(this,arguments)}const Y0=p.createContext(null),ej=p.createContext(null),No=p.createContext(null),Zh=p.createContext(null),Si=p.createContext({outlet:null,matches:[],isDataRoute:!1}),NI=p.createContext(null);function tj(t,e){let{relative:n}=e===void 0?{}:e;ol()||bt(!1);let{basename:r,navigator:i}=p.useContext(No),{hash:o,pathname:s,search:a}=OI(t,{relative:n}),l=s;return r!=="/"&&(l=s==="/"?r:ao([r,s])),i.createHref({pathname:l,search:a,hash:o})}function ol(){return p.useContext(Zh)!=null}function sl(){return ol()||bt(!1),p.useContext(Zh).location}function MI(t){p.useContext(No).static||p.useLayoutEffect(t)}function xu(){let{isDataRoute:t}=p.useContext(Si);return t?mj():nj()}function nj(){ol()||bt(!1);let t=p.useContext(Y0),{basename:e,future:n,navigator:r}=p.useContext(No),{matches:i}=p.useContext(Si),{pathname:o}=sl(),s=JSON.stringify(H0(i,n.v7_relativeSplatPath)),a=p.useRef(!1);return MI(()=>{a.current=!0}),p.useCallback(function(c,u){if(u===void 0&&(u={}),!a.current)return;if(typeof c=="number"){r.go(c);return}let f=q0(c,JSON.parse(s),o,u.relative==="path");t==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:ao([e,f.pathname])),(u.replace?r.replace:r.push)(f,u.state,u)},[e,r,s,o,t])}function rj(){let{matches:t}=p.useContext(Si),e=t[t.length-1];return e?e.params:{}}function OI(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=p.useContext(No),{matches:i}=p.useContext(Si),{pathname:o}=sl(),s=JSON.stringify(H0(i,r.v7_relativeSplatPath));return p.useMemo(()=>q0(t,JSON.parse(s),o,n==="path"),[t,s,o,n])}function ij(t,e){return oj(t,e)}function oj(t,e,n,r){ol()||bt(!1);let{navigator:i,static:o}=p.useContext(No),{matches:s}=p.useContext(Si),a=s[s.length-1],l=a?a.params:{};a&&a.pathname;let c=a?a.pathnameBase:"/";a&&a.route;let u=sl(),f;if(e){var h;let x=typeof e=="string"?il(e):e;c==="/"||(h=x.pathname)!=null&&h.startsWith(c)||bt(!1),f=x}else f=u;let m=f.pathname||"/",_=m;if(c!=="/"){let x=c.replace(/^\//,"").split("/");_="/"+m.replace(/^\//,"").split("/").slice(x.length).join("/")}let v=!o&&n&&n.matches&&n.matches.length>0?n.matches:D4(t,{pathname:_}),E=uj(v&&v.map(x=>Object.assign({},x,{params:Object.assign({},l,x.params),pathname:ao([c,i.encodeLocation?i.encodeLocation(x.pathname).pathname:x.pathname]),pathnameBase:x.pathnameBase==="/"?c:ao([c,i.encodeLocation?i.encodeLocation(x.pathnameBase).pathname:x.pathnameBase])})),s,n,r);return e&&E?p.createElement(Zh.Provider,{value:{location:Yc({pathname:"/",search:"",hash:"",state:null,key:"default"},f),navigationType:Qi.Pop}},E):E}function sj(){let t=pj(),e=J4(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},o=null;return p.createElement(p.Fragment,null,p.createElement("h2",null,"Unexpected Application Error!"),p.createElement("h3",{style:{fontStyle:"italic"}},e),n?p.createElement("pre",{style:i},n):null,o)}const aj=p.createElement(sj,null);class lj extends p.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?p.createElement(Si.Provider,{value:this.props.routeContext},p.createElement(NI.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function cj(t){let{routeContext:e,match:n,children:r}=t,i=p.useContext(Y0);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),p.createElement(Si.Provider,{value:e},r)}function uj(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var o;if(!n)return null;if(n.errors)t=n.matches;else if((o=r)!=null&&o.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let s=t,a=(i=n)==null?void 0:i.errors;if(a!=null){let u=s.findIndex(f=>f.route.id&&(a==null?void 0:a[f.route.id])!==void 0);u>=0||bt(!1),s=s.slice(0,Math.min(s.length,u+1))}let l=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let u=0;u<s.length;u++){let f=s[u];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(c=u),f.route.id){let{loaderData:h,errors:m}=n,_=f.route.loader&&h[f.route.id]===void 0&&(!m||m[f.route.id]===void 0);if(f.route.lazy||_){l=!0,c>=0?s=s.slice(0,c+1):s=[s[0]];break}}}return s.reduceRight((u,f,h)=>{let m,_=!1,v=null,E=null;n&&(m=a&&f.route.id?a[f.route.id]:void 0,v=f.route.errorElement||aj,l&&(c<0&&h===0?(gj("route-fallback",!1),_=!0,E=null):c===h&&(_=!0,E=f.route.hydrateFallbackElement||null)));let x=e.concat(s.slice(0,h+1)),y=()=>{let b;return m?b=v:_?b=E:f.route.Component?b=p.createElement(f.route.Component,null):f.route.element?b=f.route.element:b=u,p.createElement(cj,{match:f,routeContext:{outlet:u,matches:x,isDataRoute:n!=null},children:b})};return n&&(f.route.ErrorBoundary||f.route.errorElement||h===0)?p.createElement(lj,{location:n.location,revalidation:n.revalidation,component:v,error:m,children:y(),routeContext:{outlet:null,matches:x,isDataRoute:!0}}):y()},null)}var LI=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(LI||{}),Gf=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Gf||{});function dj(t){let e=p.useContext(Y0);return e||bt(!1),e}function fj(t){let e=p.useContext(ej);return e||bt(!1),e}function hj(t){let e=p.useContext(Si);return e||bt(!1),e}function VI(t){let e=hj(),n=e.matches[e.matches.length-1];return n.route.id||bt(!1),n.route.id}function pj(){var t;let e=p.useContext(NI),n=fj(Gf.UseRouteError),r=VI(Gf.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function mj(){let{router:t}=dj(LI.UseNavigateStable),e=VI(Gf.UseNavigateStable),n=p.useRef(!1);return MI(()=>{n.current=!0}),p.useCallback(function(i,o){o===void 0&&(o={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,Yc({fromRouteId:e},o)))},[t,e])}const _E={};function gj(t,e,n){!e&&!_E[t]&&(_E[t]=!0)}function vj(t,e){t==null||t.v7_startTransition,(t==null?void 0:t.v7_relativeSplatPath)===void 0&&(!e||e.v7_relativeSplatPath),e&&(e.v7_fetcherPersist,e.v7_normalizeFormMethod,e.v7_partialHydration,e.v7_skipActionErrorRevalidation)}function Bv(t){let{to:e,replace:n,state:r,relative:i}=t;ol()||bt(!1);let{future:o,static:s}=p.useContext(No),{matches:a}=p.useContext(Si),{pathname:l}=sl(),c=xu(),u=q0(e,H0(a,o.v7_relativeSplatPath),l,i==="path"),f=JSON.stringify(u);return p.useEffect(()=>c(JSON.parse(f),{replace:n,state:r,relative:i}),[c,f,i,n,r]),null}function Ys(t){bt(!1)}function yj(t){let{basename:e="/",children:n=null,location:r,navigationType:i=Qi.Pop,navigator:o,static:s=!1,future:a}=t;ol()&&bt(!1);let l=e.replace(/^\/*/,"/"),c=p.useMemo(()=>({basename:l,navigator:o,static:s,future:Yc({v7_relativeSplatPath:!1},a)}),[l,a,o,s]);typeof r=="string"&&(r=il(r));let{pathname:u="/",search:f="",hash:h="",state:m=null,key:_="default"}=r,v=p.useMemo(()=>{let E=z0(u,l);return E==null?null:{location:{pathname:E,search:f,hash:h,state:m,key:_},navigationType:i}},[l,u,f,h,m,_,i]);return v==null?null:p.createElement(No.Provider,{value:c},p.createElement(Zh.Provider,{children:n,value:v}))}function wj(t){let{children:e,location:n}=t;return ij(Wv(e),n)}new Promise(()=>{});function Wv(t,e){e===void 0&&(e=[]);let n=[];return p.Children.forEach(t,(r,i)=>{if(!p.isValidElement(r))return;let o=[...e,i];if(r.type===p.Fragment){n.push.apply(n,Wv(r.props.children,o));return}r.type!==Ys&&bt(!1),!r.props.index||!r.props.children||bt(!1);let s={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(s.children=Wv(r.props.children,o)),n.push(s)}),n}/**
 * React Router DOM v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function zv(){return zv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},zv.apply(this,arguments)}function _j(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function xj(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function Ej(t,e){return t.button===0&&(!e||e==="_self")&&!xj(t)}const bj=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],Tj="6";try{window.__reactRouterVersion=Tj}catch{}const Cj="startTransition",xE=Vh[Cj];function Sj(t){let{basename:e,children:n,future:r,window:i}=t,o=p.useRef();o.current==null&&(o.current=A4({window:i,v5Compat:!0}));let s=o.current,[a,l]=p.useState({action:s.action,location:s.location}),{v7_startTransition:c}=r||{},u=p.useCallback(f=>{c&&xE?xE(()=>l(f)):l(f)},[l,c]);return p.useLayoutEffect(()=>s.listen(u),[s,u]),p.useEffect(()=>vj(r),[r]),p.createElement(yj,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:s,future:r})}const Pj=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Ij=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Gc=p.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:o,replace:s,state:a,target:l,to:c,preventScrollReset:u,viewTransition:f}=e,h=_j(e,bj),{basename:m}=p.useContext(No),_,v=!1;if(typeof c=="string"&&Ij.test(c)&&(_=c,Pj))try{let b=new URL(window.location.href),P=c.startsWith("//")?new URL(b.protocol+c):new URL(c),N=z0(P.pathname,m);P.origin===b.origin&&N!=null?c=N+P.search+P.hash:v=!0}catch{}let E=tj(c,{relative:i}),x=Aj(c,{replace:s,state:a,target:l,preventScrollReset:u,relative:i,viewTransition:f});function y(b){r&&r(b),b.defaultPrevented||x(b)}return p.createElement("a",zv({},h,{href:_||E,onClick:v||o?r:y,ref:n,target:l}))});var EE;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(EE||(EE={}));var bE;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(bE||(bE={}));function Aj(t,e){let{target:n,replace:r,state:i,preventScrollReset:o,relative:s,viewTransition:a}=e===void 0?{}:e,l=xu(),c=sl(),u=OI(t,{relative:s});return p.useCallback(f=>{if(Ej(f,n)){f.preventDefault();let h=r!==void 0?r:Yf(c)===Yf(u);l(t,{replace:h,state:i,preventScrollReset:o,relative:s,viewTransition:a})}},[c,l,u,r,i,n,t,o,s,a])}const Rj=()=>{};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jI=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},kj=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=t[n++],s=t[n++],a=t[n++],l=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const o=t[n++],s=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},FI={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const o=t[i],s=i+1<t.length,a=s?t[i+1]:0,l=i+2<t.length,c=l?t[i+2]:0,u=o>>2,f=(o&3)<<4|a>>4;let h=(a&15)<<2|c>>6,m=c&63;l||(m=64,s||(h=64)),r.push(n[u],n[f],n[h],n[m])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(jI(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):kj(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const o=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const f=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||a==null||c==null||f==null)throw new Dj;const h=o<<2|a>>4;if(r.push(h),c!==64){const m=a<<4&240|c>>2;if(r.push(m),f!==64){const _=c<<6&192|f;r.push(_)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class Dj extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Nj=function(t){const e=jI(t);return FI.encodeByteArray(e,!0)},Kf=function(t){return Nj(t).replace(/\./g,"")},$I=function(t){try{return FI.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mj(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oj=()=>Mj().__FIREBASE_DEFAULTS__,Lj=()=>{if(typeof process>"u"||typeof process.env>"u")return;const t={}.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},Vj=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&$I(t[1]);return e&&JSON.parse(e)},ep=()=>{try{return Rj()||Oj()||Lj()||Vj()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},UI=t=>{var e,n;return(n=(e=ep())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},jj=t=>{const e=UI(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},BI=()=>{var t;return(t=ep())==null?void 0:t.config},WI=t=>{var e;return(e=ep())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fj{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function al(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function zI(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $j(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s={iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}},...t},a="";return[Kf(JSON.stringify(n)),Kf(JSON.stringify(s)),a].join(".")}const gc={};function Uj(){const t={prod:[],emulator:[]};for(const e of Object.keys(gc))gc[e]?t.emulator.push(e):t.prod.push(e);return t}function Bj(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let TE=!1;function HI(t,e){if(typeof window>"u"||typeof document>"u"||!al(window.location.host)||gc[t]===e||gc[t]||TE)return;gc[t]=e;function n(h){return`__firebase__banner__${h}`}const r="__firebase__banner",o=Uj().prod.length>0;function s(){const h=document.getElementById(r);h&&h.remove()}function a(h){h.style.display="flex",h.style.background="#7faaf0",h.style.position="fixed",h.style.bottom="5px",h.style.left="5px",h.style.padding=".5em",h.style.borderRadius="5px",h.style.alignItems="center"}function l(h,m){h.setAttribute("width","24"),h.setAttribute("id",m),h.setAttribute("height","24"),h.setAttribute("viewBox","0 0 24 24"),h.setAttribute("fill","none"),h.style.marginLeft="-6px"}function c(){const h=document.createElement("span");return h.style.cursor="pointer",h.style.marginLeft="16px",h.style.fontSize="24px",h.innerHTML=" &times;",h.onclick=()=>{TE=!0,s()},h}function u(h,m){h.setAttribute("id",m),h.innerText="Learn more",h.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",h.setAttribute("target","__blank"),h.style.paddingLeft="5px",h.style.textDecoration="underline"}function f(){const h=Bj(r),m=n("text"),_=document.getElementById(m)||document.createElement("span"),v=n("learnmore"),E=document.getElementById(v)||document.createElement("a"),x=n("preprendIcon"),y=document.getElementById(x)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(h.created){const b=h.element;a(b),u(E,v);const P=c();l(y,x),b.append(y,_,E,P),document.body.appendChild(b)}o?(_.innerText="Preview backend disconnected.",y.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(y.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,_.innerText="Preview backend running in this workspace."),_.setAttribute("id",m)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",f):f()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Wj(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(sn())}function zj(){var e;const t=(e=ep())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Hj(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function qj(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function Yj(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Gj(){const t=sn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function Kj(){return!zj()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Qj(){try{return typeof indexedDB=="object"}catch{return!1}}function Xj(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)==null?void 0:o.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jj="FirebaseError";class Pi extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=Jj,Object.setPrototypeOf(this,Pi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Eu.prototype.create)}}class Eu{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?Zj(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new Pi(i,a,r)}}function Zj(t,e){return t.replace(e3,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const e3=/\{\$([^}]+)}/g;function t3(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function ps(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const o=t[i],s=e[i];if(CE(o)&&CE(s)){if(!ps(o,s))return!1}else if(o!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function CE(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bu(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function ec(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,o]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(o)}}),e}function tc(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function n3(t,e){const n=new r3(t,e);return n.subscribe.bind(n)}class r3{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");i3(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Qm),i.error===void 0&&(i.error=Qm),i.complete===void 0&&(i.complete=Qm);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function i3(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Qm(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jt(t){return t&&t._delegate?t._delegate:t}class ms{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Go="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let o3=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new Fj;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(a3(e))try{this.getOrInitializeService({instanceIdentifier:Go})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=Go){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Go){return this.instances.has(e)}getOptions(e=Go){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),i=this.onInitCallbacks.get(r)??new Set;i.add(e),this.onInitCallbacks.set(r,i);const o=this.instances.get(r);return o&&e(o,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:s3(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Go){return this.component?this.component.multipleInstances?e:Go:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function s3(t){return t===Go?void 0:t}function a3(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l3{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new o3(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ie;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ie||(Ie={}));const c3={debug:Ie.DEBUG,verbose:Ie.VERBOSE,info:Ie.INFO,warn:Ie.WARN,error:Ie.ERROR,silent:Ie.SILENT},u3=Ie.INFO,d3={[Ie.DEBUG]:"log",[Ie.VERBOSE]:"log",[Ie.INFO]:"info",[Ie.WARN]:"warn",[Ie.ERROR]:"error"},f3=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=d3[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class G0{constructor(e){this.name=e,this._logLevel=u3,this._logHandler=f3,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ie))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?c3[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ie.DEBUG,...e),this._logHandler(this,Ie.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ie.VERBOSE,...e),this._logHandler(this,Ie.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ie.INFO,...e),this._logHandler(this,Ie.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ie.WARN,...e),this._logHandler(this,Ie.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ie.ERROR,...e),this._logHandler(this,Ie.ERROR,...e)}}const h3=(t,e)=>e.some(n=>t instanceof n);let SE,PE;function p3(){return SE||(SE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function m3(){return PE||(PE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const qI=new WeakMap,Hv=new WeakMap,YI=new WeakMap,Xm=new WeakMap,K0=new WeakMap;function g3(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(lo(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&qI.set(n,t)}).catch(()=>{}),K0.set(e,t),e}function v3(t){if(Hv.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});Hv.set(t,e)}let qv={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Hv.get(t);if(e==="objectStoreNames")return t.objectStoreNames||YI.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return lo(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function y3(t){qv=t(qv)}function w3(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Jm(this),e,...n);return YI.set(r,e.sort?e.sort():[e]),lo(r)}:m3().includes(t)?function(...e){return t.apply(Jm(this),e),lo(qI.get(this))}:function(...e){return lo(t.apply(Jm(this),e))}}function _3(t){return typeof t=="function"?w3(t):(t instanceof IDBTransaction&&v3(t),h3(t,p3())?new Proxy(t,qv):t)}function lo(t){if(t instanceof IDBRequest)return g3(t);if(Xm.has(t))return Xm.get(t);const e=_3(t);return e!==t&&(Xm.set(t,e),K0.set(e,t)),e}const Jm=t=>K0.get(t);function x3(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const s=indexedDB.open(t,e),a=lo(s);return r&&s.addEventListener("upgradeneeded",l=>{r(lo(s.result),l.oldVersion,l.newVersion,lo(s.transaction),l)}),n&&s.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{o&&l.addEventListener("close",()=>o()),i&&l.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const E3=["get","getKey","getAll","getAllKeys","count"],b3=["put","add","delete","clear"],Zm=new Map;function IE(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Zm.get(e))return Zm.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=b3.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||E3.includes(n)))return;const o=async function(s,...a){const l=this.transaction(s,i?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),i&&l.done]))[0]};return Zm.set(e,o),o}y3(t=>({...t,get:(e,n,r)=>IE(e,n)||t.get(e,n,r),has:(e,n)=>!!IE(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T3{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(C3(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function C3(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Yv="@firebase/app",AE="0.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mi=new G0("@firebase/app"),S3="@firebase/app-compat",P3="@firebase/analytics-compat",I3="@firebase/analytics",A3="@firebase/app-check-compat",R3="@firebase/app-check",k3="@firebase/auth",D3="@firebase/auth-compat",N3="@firebase/database",M3="@firebase/data-connect",O3="@firebase/database-compat",L3="@firebase/functions",V3="@firebase/functions-compat",j3="@firebase/installations",F3="@firebase/installations-compat",$3="@firebase/messaging",U3="@firebase/messaging-compat",B3="@firebase/performance",W3="@firebase/performance-compat",z3="@firebase/remote-config",H3="@firebase/remote-config-compat",q3="@firebase/storage",Y3="@firebase/storage-compat",G3="@firebase/firestore",K3="@firebase/ai",Q3="@firebase/firestore-compat",X3="firebase",J3="12.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gv="[DEFAULT]",Z3={[Yv]:"fire-core",[S3]:"fire-core-compat",[I3]:"fire-analytics",[P3]:"fire-analytics-compat",[R3]:"fire-app-check",[A3]:"fire-app-check-compat",[k3]:"fire-auth",[D3]:"fire-auth-compat",[N3]:"fire-rtdb",[M3]:"fire-data-connect",[O3]:"fire-rtdb-compat",[L3]:"fire-fn",[V3]:"fire-fn-compat",[j3]:"fire-iid",[F3]:"fire-iid-compat",[$3]:"fire-fcm",[U3]:"fire-fcm-compat",[B3]:"fire-perf",[W3]:"fire-perf-compat",[z3]:"fire-rc",[H3]:"fire-rc-compat",[q3]:"fire-gcs",[Y3]:"fire-gcs-compat",[G3]:"fire-fst",[Q3]:"fire-fst-compat",[K3]:"fire-vertex","fire-js":"fire-js",[X3]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qf=new Map,e5=new Map,Kv=new Map;function RE(t,e){try{t.container.addComponent(e)}catch(n){mi.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function ja(t){const e=t.name;if(Kv.has(e))return mi.debug(`There were multiple attempts to register component ${e}.`),!1;Kv.set(e,t);for(const n of Qf.values())RE(n,t);for(const n of e5.values())RE(n,t);return!0}function Q0(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function zn(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t5={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},co=new Eu("app","Firebase",t5);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n5{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ms("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw co.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ll=J3;function GI(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:Gv,automaticDataCollectionEnabled:!0,...e},i=r.name;if(typeof i!="string"||!i)throw co.create("bad-app-name",{appName:String(i)});if(n||(n=BI()),!n)throw co.create("no-options");const o=Qf.get(i);if(o){if(ps(n,o.options)&&ps(r,o.config))return o;throw co.create("duplicate-app",{appName:i})}const s=new l3(i);for(const l of Kv.values())s.addComponent(l);const a=new n5(n,r,s);return Qf.set(i,a),a}function KI(t=Gv){const e=Qf.get(t);if(!e&&t===Gv&&BI())return GI();if(!e)throw co.create("no-app",{appName:t});return e}function uo(t,e,n){let r=Z3[t]??t;n&&(r+=`-${n}`);const i=r.match(/\s|\//),o=e.match(/\s|\//);if(i||o){const s=[`Unable to register library "${r}" with version "${e}":`];i&&s.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&o&&s.push("and"),o&&s.push(`version name "${e}" contains illegal characters (whitespace or "/")`),mi.warn(s.join(" "));return}ja(new ms(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r5="firebase-heartbeat-database",i5=1,Kc="firebase-heartbeat-store";let eg=null;function QI(){return eg||(eg=x3(r5,i5,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Kc)}catch(n){console.warn(n)}}}}).catch(t=>{throw co.create("idb-open",{originalErrorMessage:t.message})})),eg}async function o5(t){try{const n=(await QI()).transaction(Kc),r=await n.objectStore(Kc).get(XI(t));return await n.done,r}catch(e){if(e instanceof Pi)mi.warn(e.message);else{const n=co.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});mi.warn(n.message)}}}async function kE(t,e){try{const r=(await QI()).transaction(Kc,"readwrite");await r.objectStore(Kc).put(e,XI(t)),await r.done}catch(n){if(n instanceof Pi)mi.warn(n.message);else{const r=co.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});mi.warn(r.message)}}}function XI(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s5=1024,a5=30;class l5{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new u5(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=DE();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats.length>a5){const s=d5(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){mi.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=DE(),{heartbeatsToSend:r,unsentEntries:i}=c5(this._heartbeatsCache.heartbeats),o=Kf(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return mi.warn(n),""}}}function DE(){return new Date().toISOString().substring(0,10)}function c5(t,e=s5){const n=[];let r=t.slice();for(const i of t){const o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),NE(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),NE(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class u5{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Qj()?Xj().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await o5(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return kE(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return kE(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function NE(t){return Kf(JSON.stringify({version:2,heartbeats:t})).length}function d5(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f5(t){ja(new ms("platform-logger",e=>new T3(e),"PRIVATE")),ja(new ms("heartbeat",e=>new l5(e),"PRIVATE")),uo(Yv,AE,t),uo(Yv,AE,"esm2020"),uo("fire-js","")}f5("");var h5="firebase",p5="12.1.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */uo(h5,p5,"app");var ME=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var fo,JI;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(S,C){function I(){}I.prototype=C.prototype,S.D=C.prototype,S.prototype=new I,S.prototype.constructor=S,S.C=function(A,O,D){for(var k=Array(arguments.length-2),B=2;B<arguments.length;B++)k[B-2]=arguments[B];return C.prototype[O].apply(A,k)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(S,C,I){I||(I=0);var A=Array(16);if(typeof C=="string")for(var O=0;16>O;++O)A[O]=C.charCodeAt(I++)|C.charCodeAt(I++)<<8|C.charCodeAt(I++)<<16|C.charCodeAt(I++)<<24;else for(O=0;16>O;++O)A[O]=C[I++]|C[I++]<<8|C[I++]<<16|C[I++]<<24;C=S.g[0],I=S.g[1],O=S.g[2];var D=S.g[3],k=C+(D^I&(O^D))+A[0]+3614090360&4294967295;C=I+(k<<7&4294967295|k>>>25),k=D+(O^C&(I^O))+A[1]+3905402710&4294967295,D=C+(k<<12&4294967295|k>>>20),k=O+(I^D&(C^I))+A[2]+606105819&4294967295,O=D+(k<<17&4294967295|k>>>15),k=I+(C^O&(D^C))+A[3]+3250441966&4294967295,I=O+(k<<22&4294967295|k>>>10),k=C+(D^I&(O^D))+A[4]+4118548399&4294967295,C=I+(k<<7&4294967295|k>>>25),k=D+(O^C&(I^O))+A[5]+1200080426&4294967295,D=C+(k<<12&4294967295|k>>>20),k=O+(I^D&(C^I))+A[6]+2821735955&4294967295,O=D+(k<<17&4294967295|k>>>15),k=I+(C^O&(D^C))+A[7]+4249261313&4294967295,I=O+(k<<22&4294967295|k>>>10),k=C+(D^I&(O^D))+A[8]+1770035416&4294967295,C=I+(k<<7&4294967295|k>>>25),k=D+(O^C&(I^O))+A[9]+2336552879&4294967295,D=C+(k<<12&4294967295|k>>>20),k=O+(I^D&(C^I))+A[10]+4294925233&4294967295,O=D+(k<<17&4294967295|k>>>15),k=I+(C^O&(D^C))+A[11]+2304563134&4294967295,I=O+(k<<22&4294967295|k>>>10),k=C+(D^I&(O^D))+A[12]+1804603682&4294967295,C=I+(k<<7&4294967295|k>>>25),k=D+(O^C&(I^O))+A[13]+4254626195&4294967295,D=C+(k<<12&4294967295|k>>>20),k=O+(I^D&(C^I))+A[14]+2792965006&4294967295,O=D+(k<<17&4294967295|k>>>15),k=I+(C^O&(D^C))+A[15]+1236535329&4294967295,I=O+(k<<22&4294967295|k>>>10),k=C+(O^D&(I^O))+A[1]+4129170786&4294967295,C=I+(k<<5&4294967295|k>>>27),k=D+(I^O&(C^I))+A[6]+3225465664&4294967295,D=C+(k<<9&4294967295|k>>>23),k=O+(C^I&(D^C))+A[11]+643717713&4294967295,O=D+(k<<14&4294967295|k>>>18),k=I+(D^C&(O^D))+A[0]+3921069994&4294967295,I=O+(k<<20&4294967295|k>>>12),k=C+(O^D&(I^O))+A[5]+3593408605&4294967295,C=I+(k<<5&4294967295|k>>>27),k=D+(I^O&(C^I))+A[10]+38016083&4294967295,D=C+(k<<9&4294967295|k>>>23),k=O+(C^I&(D^C))+A[15]+3634488961&4294967295,O=D+(k<<14&4294967295|k>>>18),k=I+(D^C&(O^D))+A[4]+3889429448&4294967295,I=O+(k<<20&4294967295|k>>>12),k=C+(O^D&(I^O))+A[9]+568446438&4294967295,C=I+(k<<5&4294967295|k>>>27),k=D+(I^O&(C^I))+A[14]+3275163606&4294967295,D=C+(k<<9&4294967295|k>>>23),k=O+(C^I&(D^C))+A[3]+4107603335&4294967295,O=D+(k<<14&4294967295|k>>>18),k=I+(D^C&(O^D))+A[8]+1163531501&4294967295,I=O+(k<<20&4294967295|k>>>12),k=C+(O^D&(I^O))+A[13]+2850285829&4294967295,C=I+(k<<5&4294967295|k>>>27),k=D+(I^O&(C^I))+A[2]+4243563512&4294967295,D=C+(k<<9&4294967295|k>>>23),k=O+(C^I&(D^C))+A[7]+1735328473&4294967295,O=D+(k<<14&4294967295|k>>>18),k=I+(D^C&(O^D))+A[12]+2368359562&4294967295,I=O+(k<<20&4294967295|k>>>12),k=C+(I^O^D)+A[5]+4294588738&4294967295,C=I+(k<<4&4294967295|k>>>28),k=D+(C^I^O)+A[8]+2272392833&4294967295,D=C+(k<<11&4294967295|k>>>21),k=O+(D^C^I)+A[11]+1839030562&4294967295,O=D+(k<<16&4294967295|k>>>16),k=I+(O^D^C)+A[14]+4259657740&4294967295,I=O+(k<<23&4294967295|k>>>9),k=C+(I^O^D)+A[1]+2763975236&4294967295,C=I+(k<<4&4294967295|k>>>28),k=D+(C^I^O)+A[4]+1272893353&4294967295,D=C+(k<<11&4294967295|k>>>21),k=O+(D^C^I)+A[7]+4139469664&4294967295,O=D+(k<<16&4294967295|k>>>16),k=I+(O^D^C)+A[10]+3200236656&4294967295,I=O+(k<<23&4294967295|k>>>9),k=C+(I^O^D)+A[13]+681279174&4294967295,C=I+(k<<4&4294967295|k>>>28),k=D+(C^I^O)+A[0]+3936430074&4294967295,D=C+(k<<11&4294967295|k>>>21),k=O+(D^C^I)+A[3]+3572445317&4294967295,O=D+(k<<16&4294967295|k>>>16),k=I+(O^D^C)+A[6]+76029189&4294967295,I=O+(k<<23&4294967295|k>>>9),k=C+(I^O^D)+A[9]+3654602809&4294967295,C=I+(k<<4&4294967295|k>>>28),k=D+(C^I^O)+A[12]+3873151461&4294967295,D=C+(k<<11&4294967295|k>>>21),k=O+(D^C^I)+A[15]+530742520&4294967295,O=D+(k<<16&4294967295|k>>>16),k=I+(O^D^C)+A[2]+3299628645&4294967295,I=O+(k<<23&4294967295|k>>>9),k=C+(O^(I|~D))+A[0]+4096336452&4294967295,C=I+(k<<6&4294967295|k>>>26),k=D+(I^(C|~O))+A[7]+1126891415&4294967295,D=C+(k<<10&4294967295|k>>>22),k=O+(C^(D|~I))+A[14]+2878612391&4294967295,O=D+(k<<15&4294967295|k>>>17),k=I+(D^(O|~C))+A[5]+4237533241&4294967295,I=O+(k<<21&4294967295|k>>>11),k=C+(O^(I|~D))+A[12]+1700485571&4294967295,C=I+(k<<6&4294967295|k>>>26),k=D+(I^(C|~O))+A[3]+2399980690&4294967295,D=C+(k<<10&4294967295|k>>>22),k=O+(C^(D|~I))+A[10]+4293915773&4294967295,O=D+(k<<15&4294967295|k>>>17),k=I+(D^(O|~C))+A[1]+2240044497&4294967295,I=O+(k<<21&4294967295|k>>>11),k=C+(O^(I|~D))+A[8]+1873313359&4294967295,C=I+(k<<6&4294967295|k>>>26),k=D+(I^(C|~O))+A[15]+4264355552&4294967295,D=C+(k<<10&4294967295|k>>>22),k=O+(C^(D|~I))+A[6]+2734768916&4294967295,O=D+(k<<15&4294967295|k>>>17),k=I+(D^(O|~C))+A[13]+1309151649&4294967295,I=O+(k<<21&4294967295|k>>>11),k=C+(O^(I|~D))+A[4]+4149444226&4294967295,C=I+(k<<6&4294967295|k>>>26),k=D+(I^(C|~O))+A[11]+3174756917&4294967295,D=C+(k<<10&4294967295|k>>>22),k=O+(C^(D|~I))+A[2]+718787259&4294967295,O=D+(k<<15&4294967295|k>>>17),k=I+(D^(O|~C))+A[9]+3951481745&4294967295,S.g[0]=S.g[0]+C&4294967295,S.g[1]=S.g[1]+(O+(k<<21&4294967295|k>>>11))&4294967295,S.g[2]=S.g[2]+O&4294967295,S.g[3]=S.g[3]+D&4294967295}r.prototype.u=function(S,C){C===void 0&&(C=S.length);for(var I=C-this.blockSize,A=this.B,O=this.h,D=0;D<C;){if(O==0)for(;D<=I;)i(this,S,D),D+=this.blockSize;if(typeof S=="string"){for(;D<C;)if(A[O++]=S.charCodeAt(D++),O==this.blockSize){i(this,A),O=0;break}}else for(;D<C;)if(A[O++]=S[D++],O==this.blockSize){i(this,A),O=0;break}}this.h=O,this.o+=C},r.prototype.v=function(){var S=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);S[0]=128;for(var C=1;C<S.length-8;++C)S[C]=0;var I=8*this.o;for(C=S.length-8;C<S.length;++C)S[C]=I&255,I/=256;for(this.u(S),S=Array(16),C=I=0;4>C;++C)for(var A=0;32>A;A+=8)S[I++]=this.g[C]>>>A&255;return S};function o(S,C){var I=a;return Object.prototype.hasOwnProperty.call(I,S)?I[S]:I[S]=C(S)}function s(S,C){this.h=C;for(var I=[],A=!0,O=S.length-1;0<=O;O--){var D=S[O]|0;A&&D==C||(I[O]=D,A=!1)}this.g=I}var a={};function l(S){return-128<=S&&128>S?o(S,function(C){return new s([C|0],0>C?-1:0)}):new s([S|0],0>S?-1:0)}function c(S){if(isNaN(S)||!isFinite(S))return f;if(0>S)return E(c(-S));for(var C=[],I=1,A=0;S>=I;A++)C[A]=S/I|0,I*=4294967296;return new s(C,0)}function u(S,C){if(S.length==0)throw Error("number format error: empty string");if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(S.charAt(0)=="-")return E(u(S.substring(1),C));if(0<=S.indexOf("-"))throw Error('number format error: interior "-" character');for(var I=c(Math.pow(C,8)),A=f,O=0;O<S.length;O+=8){var D=Math.min(8,S.length-O),k=parseInt(S.substring(O,O+D),C);8>D?(D=c(Math.pow(C,D)),A=A.j(D).add(c(k))):(A=A.j(I),A=A.add(c(k)))}return A}var f=l(0),h=l(1),m=l(16777216);t=s.prototype,t.m=function(){if(v(this))return-E(this).m();for(var S=0,C=1,I=0;I<this.g.length;I++){var A=this.i(I);S+=(0<=A?A:4294967296+A)*C,C*=4294967296}return S},t.toString=function(S){if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(_(this))return"0";if(v(this))return"-"+E(this).toString(S);for(var C=c(Math.pow(S,6)),I=this,A="";;){var O=P(I,C).g;I=x(I,O.j(C));var D=((0<I.g.length?I.g[0]:I.h)>>>0).toString(S);if(I=O,_(I))return D+A;for(;6>D.length;)D="0"+D;A=D+A}},t.i=function(S){return 0>S?0:S<this.g.length?this.g[S]:this.h};function _(S){if(S.h!=0)return!1;for(var C=0;C<S.g.length;C++)if(S.g[C]!=0)return!1;return!0}function v(S){return S.h==-1}t.l=function(S){return S=x(this,S),v(S)?-1:_(S)?0:1};function E(S){for(var C=S.g.length,I=[],A=0;A<C;A++)I[A]=~S.g[A];return new s(I,~S.h).add(h)}t.abs=function(){return v(this)?E(this):this},t.add=function(S){for(var C=Math.max(this.g.length,S.g.length),I=[],A=0,O=0;O<=C;O++){var D=A+(this.i(O)&65535)+(S.i(O)&65535),k=(D>>>16)+(this.i(O)>>>16)+(S.i(O)>>>16);A=k>>>16,D&=65535,k&=65535,I[O]=k<<16|D}return new s(I,I[I.length-1]&-2147483648?-1:0)};function x(S,C){return S.add(E(C))}t.j=function(S){if(_(this)||_(S))return f;if(v(this))return v(S)?E(this).j(E(S)):E(E(this).j(S));if(v(S))return E(this.j(E(S)));if(0>this.l(m)&&0>S.l(m))return c(this.m()*S.m());for(var C=this.g.length+S.g.length,I=[],A=0;A<2*C;A++)I[A]=0;for(A=0;A<this.g.length;A++)for(var O=0;O<S.g.length;O++){var D=this.i(A)>>>16,k=this.i(A)&65535,B=S.i(O)>>>16,q=S.i(O)&65535;I[2*A+2*O]+=k*q,y(I,2*A+2*O),I[2*A+2*O+1]+=D*q,y(I,2*A+2*O+1),I[2*A+2*O+1]+=k*B,y(I,2*A+2*O+1),I[2*A+2*O+2]+=D*B,y(I,2*A+2*O+2)}for(A=0;A<C;A++)I[A]=I[2*A+1]<<16|I[2*A];for(A=C;A<2*C;A++)I[A]=0;return new s(I,0)};function y(S,C){for(;(S[C]&65535)!=S[C];)S[C+1]+=S[C]>>>16,S[C]&=65535,C++}function b(S,C){this.g=S,this.h=C}function P(S,C){if(_(C))throw Error("division by zero");if(_(S))return new b(f,f);if(v(S))return C=P(E(S),C),new b(E(C.g),E(C.h));if(v(C))return C=P(S,E(C)),new b(E(C.g),C.h);if(30<S.g.length){if(v(S)||v(C))throw Error("slowDivide_ only works with positive integers.");for(var I=h,A=C;0>=A.l(S);)I=N(I),A=N(A);var O=M(I,1),D=M(A,1);for(A=M(A,2),I=M(I,2);!_(A);){var k=D.add(A);0>=k.l(S)&&(O=O.add(I),D=k),A=M(A,1),I=M(I,1)}return C=x(S,O.j(C)),new b(O,C)}for(O=f;0<=S.l(C);){for(I=Math.max(1,Math.floor(S.m()/C.m())),A=Math.ceil(Math.log(I)/Math.LN2),A=48>=A?1:Math.pow(2,A-48),D=c(I),k=D.j(C);v(k)||0<k.l(S);)I-=A,D=c(I),k=D.j(C);_(D)&&(D=h),O=O.add(D),S=x(S,k)}return new b(O,S)}t.A=function(S){return P(this,S).h},t.and=function(S){for(var C=Math.max(this.g.length,S.g.length),I=[],A=0;A<C;A++)I[A]=this.i(A)&S.i(A);return new s(I,this.h&S.h)},t.or=function(S){for(var C=Math.max(this.g.length,S.g.length),I=[],A=0;A<C;A++)I[A]=this.i(A)|S.i(A);return new s(I,this.h|S.h)},t.xor=function(S){for(var C=Math.max(this.g.length,S.g.length),I=[],A=0;A<C;A++)I[A]=this.i(A)^S.i(A);return new s(I,this.h^S.h)};function N(S){for(var C=S.g.length+1,I=[],A=0;A<C;A++)I[A]=S.i(A)<<1|S.i(A-1)>>>31;return new s(I,S.h)}function M(S,C){var I=C>>5;C%=32;for(var A=S.g.length-I,O=[],D=0;D<A;D++)O[D]=0<C?S.i(D+I)>>>C|S.i(D+I+1)<<32-C:S.i(D+I);return new s(O,S.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,JI=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=c,s.fromString=u,fo=s}).apply(typeof ME<"u"?ME:typeof self<"u"?self:typeof window<"u"?window:{});var Cd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ZI,nc,eA,af,Qv,tA,nA,rA;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(d,w,T){return d==Array.prototype||d==Object.prototype||(d[w]=T.value),d};function n(d){d=[typeof globalThis=="object"&&globalThis,d,typeof window=="object"&&window,typeof self=="object"&&self,typeof Cd=="object"&&Cd];for(var w=0;w<d.length;++w){var T=d[w];if(T&&T.Math==Math)return T}throw Error("Cannot find global object")}var r=n(this);function i(d,w){if(w)e:{var T=r;d=d.split(".");for(var R=0;R<d.length-1;R++){var F=d[R];if(!(F in T))break e;T=T[F]}d=d[d.length-1],R=T[d],w=w(R),w!=R&&w!=null&&e(T,d,{configurable:!0,writable:!0,value:w})}}function o(d,w){d instanceof String&&(d+="");var T=0,R=!1,F={next:function(){if(!R&&T<d.length){var U=T++;return{value:w(U,d[U]),done:!1}}return R=!0,{done:!0,value:void 0}}};return F[Symbol.iterator]=function(){return F},F}i("Array.prototype.values",function(d){return d||function(){return o(this,function(w,T){return T})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var s=s||{},a=this||self;function l(d){var w=typeof d;return w=w!="object"?w:d?Array.isArray(d)?"array":w:"null",w=="array"||w=="object"&&typeof d.length=="number"}function c(d){var w=typeof d;return w=="object"&&d!=null||w=="function"}function u(d,w,T){return d.call.apply(d.bind,arguments)}function f(d,w,T){if(!d)throw Error();if(2<arguments.length){var R=Array.prototype.slice.call(arguments,2);return function(){var F=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(F,R),d.apply(w,F)}}return function(){return d.apply(w,arguments)}}function h(d,w,T){return h=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?u:f,h.apply(null,arguments)}function m(d,w){var T=Array.prototype.slice.call(arguments,1);return function(){var R=T.slice();return R.push.apply(R,arguments),d.apply(this,R)}}function _(d,w){function T(){}T.prototype=w.prototype,d.aa=w.prototype,d.prototype=new T,d.prototype.constructor=d,d.Qb=function(R,F,U){for(var X=Array(arguments.length-2),Ye=2;Ye<arguments.length;Ye++)X[Ye-2]=arguments[Ye];return w.prototype[F].apply(R,X)}}function v(d){const w=d.length;if(0<w){const T=Array(w);for(let R=0;R<w;R++)T[R]=d[R];return T}return[]}function E(d,w){for(let T=1;T<arguments.length;T++){const R=arguments[T];if(l(R)){const F=d.length||0,U=R.length||0;d.length=F+U;for(let X=0;X<U;X++)d[F+X]=R[X]}else d.push(R)}}class x{constructor(w,T){this.i=w,this.j=T,this.h=0,this.g=null}get(){let w;return 0<this.h?(this.h--,w=this.g,this.g=w.next,w.next=null):w=this.i(),w}}function y(d){return/^[\s\xa0]*$/.test(d)}function b(){var d=a.navigator;return d&&(d=d.userAgent)?d:""}function P(d){return P[" "](d),d}P[" "]=function(){};var N=b().indexOf("Gecko")!=-1&&!(b().toLowerCase().indexOf("webkit")!=-1&&b().indexOf("Edge")==-1)&&!(b().indexOf("Trident")!=-1||b().indexOf("MSIE")!=-1)&&b().indexOf("Edge")==-1;function M(d,w,T){for(const R in d)w.call(T,d[R],R,d)}function S(d,w){for(const T in d)w.call(void 0,d[T],T,d)}function C(d){const w={};for(const T in d)w[T]=d[T];return w}const I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function A(d,w){let T,R;for(let F=1;F<arguments.length;F++){R=arguments[F];for(T in R)d[T]=R[T];for(let U=0;U<I.length;U++)T=I[U],Object.prototype.hasOwnProperty.call(R,T)&&(d[T]=R[T])}}function O(d){var w=1;d=d.split(":");const T=[];for(;0<w&&d.length;)T.push(d.shift()),w--;return d.length&&T.push(d.join(":")),T}function D(d){a.setTimeout(()=>{throw d},0)}function k(){var d=V;let w=null;return d.g&&(w=d.g,d.g=d.g.next,d.g||(d.h=null),w.next=null),w}class B{constructor(){this.h=this.g=null}add(w,T){const R=q.get();R.set(w,T),this.h?this.h.next=R:this.g=R,this.h=R}}var q=new x(()=>new K,d=>d.reset());class K{constructor(){this.next=this.g=this.h=null}set(w,T){this.h=w,this.g=T,this.next=null}reset(){this.next=this.g=this.h=null}}let j,L=!1,V=new B,$=()=>{const d=a.Promise.resolve(void 0);j=()=>{d.then(W)}};var W=()=>{for(var d;d=k();){try{d.h.call(d.g)}catch(T){D(T)}var w=q;w.j(d),100>w.h&&(w.h++,d.next=w.g,w.g=d)}L=!1};function Y(){this.s=this.s,this.C=this.C}Y.prototype.s=!1,Y.prototype.ma=function(){this.s||(this.s=!0,this.N())},Y.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function G(d,w){this.type=d,this.g=this.target=w,this.defaultPrevented=!1}G.prototype.h=function(){this.defaultPrevented=!0};var oe=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var d=!1,w=Object.defineProperty({},"passive",{get:function(){d=!0}});try{const T=()=>{};a.addEventListener("test",T,w),a.removeEventListener("test",T,w)}catch{}return d}();function fe(d,w){if(G.call(this,d?d.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,d){var T=this.type=d.type,R=d.changedTouches&&d.changedTouches.length?d.changedTouches[0]:null;if(this.target=d.target||d.srcElement,this.g=w,w=d.relatedTarget){if(N){e:{try{P(w.nodeName);var F=!0;break e}catch{}F=!1}F||(w=null)}}else T=="mouseover"?w=d.fromElement:T=="mouseout"&&(w=d.toElement);this.relatedTarget=w,R?(this.clientX=R.clientX!==void 0?R.clientX:R.pageX,this.clientY=R.clientY!==void 0?R.clientY:R.pageY,this.screenX=R.screenX||0,this.screenY=R.screenY||0):(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0),this.button=d.button,this.key=d.key||"",this.ctrlKey=d.ctrlKey,this.altKey=d.altKey,this.shiftKey=d.shiftKey,this.metaKey=d.metaKey,this.pointerId=d.pointerId||0,this.pointerType=typeof d.pointerType=="string"?d.pointerType:Ee[d.pointerType]||"",this.state=d.state,this.i=d,d.defaultPrevented&&fe.aa.h.call(this)}}_(fe,G);var Ee={2:"touch",3:"pen",4:"mouse"};fe.prototype.h=function(){fe.aa.h.call(this);var d=this.i;d.preventDefault?d.preventDefault():d.returnValue=!1};var J="closure_listenable_"+(1e6*Math.random()|0),ue=0;function te(d,w,T,R,F){this.listener=d,this.proxy=null,this.src=w,this.type=T,this.capture=!!R,this.ha=F,this.key=++ue,this.da=this.fa=!1}function de(d){d.da=!0,d.listener=null,d.proxy=null,d.src=null,d.ha=null}function he(d){this.src=d,this.g={},this.h=0}he.prototype.add=function(d,w,T,R,F){var U=d.toString();d=this.g[U],d||(d=this.g[U]=[],this.h++);var X=Ke(d,w,R,F);return-1<X?(w=d[X],T||(w.fa=!1)):(w=new te(w,this.src,U,!!R,F),w.fa=T,d.push(w)),w};function Te(d,w){var T=w.type;if(T in d.g){var R=d.g[T],F=Array.prototype.indexOf.call(R,w,void 0),U;(U=0<=F)&&Array.prototype.splice.call(R,F,1),U&&(de(w),d.g[T].length==0&&(delete d.g[T],d.h--))}}function Ke(d,w,T,R){for(var F=0;F<d.length;++F){var U=d[F];if(!U.da&&U.listener==w&&U.capture==!!T&&U.ha==R)return F}return-1}var st="closure_lm_"+(1e6*Math.random()|0),Nt={};function Zn(d,w,T,R,F){if(R&&R.once)return Yr(d,w,T,R,F);if(Array.isArray(w)){for(var U=0;U<w.length;U++)Zn(d,w[U],T,R,F);return null}return T=sm(T),d&&d[J]?d.K(w,T,c(R)?!!R.capture:!!R,F):wr(d,w,T,!1,R,F)}function wr(d,w,T,R,F,U){if(!w)throw Error("Invalid event type");var X=c(F)?!!F.capture:!!F,Ye=im(d);if(Ye||(d[st]=Ye=new he(d)),T=Ye.add(w,T,R,X,U),T.proxy)return T;if(R=El(),T.proxy=R,R.src=d,R.listener=T,d.addEventListener)oe||(F=X),F===void 0&&(F=!1),d.addEventListener(w.toString(),R,F);else if(d.attachEvent)d.attachEvent(u1(w.toString()),R);else if(d.addListener&&d.removeListener)d.addListener(R);else throw Error("addEventListener and attachEvent are unavailable.");return T}function El(){function d(T){return w.call(d.src,d.listener,T)}const w=RO;return d}function Yr(d,w,T,R,F){if(Array.isArray(w)){for(var U=0;U<w.length;U++)Yr(d,w[U],T,R,F);return null}return T=sm(T),d&&d[J]?d.L(w,T,c(R)?!!R.capture:!!R,F):wr(d,w,T,!0,R,F)}function Hu(d,w,T,R,F){if(Array.isArray(w))for(var U=0;U<w.length;U++)Hu(d,w[U],T,R,F);else R=c(R)?!!R.capture:!!R,T=sm(T),d&&d[J]?(d=d.i,w=String(w).toString(),w in d.g&&(U=d.g[w],T=Ke(U,T,R,F),-1<T&&(de(U[T]),Array.prototype.splice.call(U,T,1),U.length==0&&(delete d.g[w],d.h--)))):d&&(d=im(d))&&(w=d.g[w.toString()],d=-1,w&&(d=Ke(w,T,R,F)),(T=-1<d?w[d]:null)&&Ii(T))}function Ii(d){if(typeof d!="number"&&d&&!d.da){var w=d.src;if(w&&w[J])Te(w.i,d);else{var T=d.type,R=d.proxy;w.removeEventListener?w.removeEventListener(T,R,d.capture):w.detachEvent?w.detachEvent(u1(T),R):w.addListener&&w.removeListener&&w.removeListener(R),(T=im(w))?(Te(T,d),T.h==0&&(T.src=null,w[st]=null)):de(d)}}}function u1(d){return d in Nt?Nt[d]:Nt[d]="on"+d}function RO(d,w){if(d.da)d=!0;else{w=new fe(w,this);var T=d.listener,R=d.ha||d.src;d.fa&&Ii(d),d=T.call(R,w)}return d}function im(d){return d=d[st],d instanceof he?d:null}var om="__closure_events_fn_"+(1e9*Math.random()>>>0);function sm(d){return typeof d=="function"?d:(d[om]||(d[om]=function(w){return d.handleEvent(w)}),d[om])}function Yt(){Y.call(this),this.i=new he(this),this.M=this,this.F=null}_(Yt,Y),Yt.prototype[J]=!0,Yt.prototype.removeEventListener=function(d,w,T,R){Hu(this,d,w,T,R)};function ln(d,w){var T,R=d.F;if(R)for(T=[];R;R=R.F)T.push(R);if(d=d.M,R=w.type||w,typeof w=="string")w=new G(w,d);else if(w instanceof G)w.target=w.target||d;else{var F=w;w=new G(R,d),A(w,F)}if(F=!0,T)for(var U=T.length-1;0<=U;U--){var X=w.g=T[U];F=qu(X,R,!0,w)&&F}if(X=w.g=d,F=qu(X,R,!0,w)&&F,F=qu(X,R,!1,w)&&F,T)for(U=0;U<T.length;U++)X=w.g=T[U],F=qu(X,R,!1,w)&&F}Yt.prototype.N=function(){if(Yt.aa.N.call(this),this.i){var d=this.i,w;for(w in d.g){for(var T=d.g[w],R=0;R<T.length;R++)de(T[R]);delete d.g[w],d.h--}}this.F=null},Yt.prototype.K=function(d,w,T,R){return this.i.add(String(d),w,!1,T,R)},Yt.prototype.L=function(d,w,T,R){return this.i.add(String(d),w,!0,T,R)};function qu(d,w,T,R){if(w=d.i.g[String(w)],!w)return!0;w=w.concat();for(var F=!0,U=0;U<w.length;++U){var X=w[U];if(X&&!X.da&&X.capture==T){var Ye=X.listener,Ft=X.ha||X.src;X.fa&&Te(d.i,X),F=Ye.call(Ft,R)!==!1&&F}}return F&&!R.defaultPrevented}function d1(d,w,T){if(typeof d=="function")T&&(d=h(d,T));else if(d&&typeof d.handleEvent=="function")d=h(d.handleEvent,d);else throw Error("Invalid listener argument");return 2147483647<Number(w)?-1:a.setTimeout(d,w||0)}function f1(d){d.g=d1(()=>{d.g=null,d.i&&(d.i=!1,f1(d))},d.l);const w=d.h;d.h=null,d.m.apply(null,w)}class kO extends Y{constructor(w,T){super(),this.m=w,this.l=T,this.h=null,this.i=!1,this.g=null}j(w){this.h=arguments,this.g?this.i=!0:f1(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function bl(d){Y.call(this),this.h=d,this.g={}}_(bl,Y);var h1=[];function p1(d){M(d.g,function(w,T){this.g.hasOwnProperty(T)&&Ii(w)},d),d.g={}}bl.prototype.N=function(){bl.aa.N.call(this),p1(this)},bl.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var am=a.JSON.stringify,DO=a.JSON.parse,NO=class{stringify(d){return a.JSON.stringify(d,void 0)}parse(d){return a.JSON.parse(d,void 0)}};function lm(){}lm.prototype.h=null;function m1(d){return d.h||(d.h=d.i())}function g1(){}var Tl={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function cm(){G.call(this,"d")}_(cm,G);function um(){G.call(this,"c")}_(um,G);var Uo={},v1=null;function Yu(){return v1=v1||new Yt}Uo.La="serverreachability";function y1(d){G.call(this,Uo.La,d)}_(y1,G);function Cl(d){const w=Yu();ln(w,new y1(w))}Uo.STAT_EVENT="statevent";function w1(d,w){G.call(this,Uo.STAT_EVENT,d),this.stat=w}_(w1,G);function cn(d){const w=Yu();ln(w,new w1(w,d))}Uo.Ma="timingevent";function _1(d,w){G.call(this,Uo.Ma,d),this.size=w}_(_1,G);function Sl(d,w){if(typeof d!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){d()},w)}function Pl(){this.g=!0}Pl.prototype.xa=function(){this.g=!1};function MO(d,w,T,R,F,U){d.info(function(){if(d.g)if(U)for(var X="",Ye=U.split("&"),Ft=0;Ft<Ye.length;Ft++){var Fe=Ye[Ft].split("=");if(1<Fe.length){var Gt=Fe[0];Fe=Fe[1];var Kt=Gt.split("_");X=2<=Kt.length&&Kt[1]=="type"?X+(Gt+"="+Fe+"&"):X+(Gt+"=redacted&")}}else X=null;else X=U;return"XMLHTTP REQ ("+R+") [attempt "+F+"]: "+w+`
`+T+`
`+X})}function OO(d,w,T,R,F,U,X){d.info(function(){return"XMLHTTP RESP ("+R+") [ attempt "+F+"]: "+w+`
`+T+`
`+U+" "+X})}function Ls(d,w,T,R){d.info(function(){return"XMLHTTP TEXT ("+w+"): "+VO(d,T)+(R?" "+R:"")})}function LO(d,w){d.info(function(){return"TIMEOUT: "+w})}Pl.prototype.info=function(){};function VO(d,w){if(!d.g)return w;if(!w)return null;try{var T=JSON.parse(w);if(T){for(d=0;d<T.length;d++)if(Array.isArray(T[d])){var R=T[d];if(!(2>R.length)){var F=R[1];if(Array.isArray(F)&&!(1>F.length)){var U=F[0];if(U!="noop"&&U!="stop"&&U!="close")for(var X=1;X<F.length;X++)F[X]=""}}}}return am(T)}catch{return w}}var Gu={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},x1={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},dm;function Ku(){}_(Ku,lm),Ku.prototype.g=function(){return new XMLHttpRequest},Ku.prototype.i=function(){return{}},dm=new Ku;function Ai(d,w,T,R){this.j=d,this.i=w,this.l=T,this.R=R||1,this.U=new bl(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new E1}function E1(){this.i=null,this.g="",this.h=!1}var b1={},fm={};function hm(d,w,T){d.L=1,d.v=Zu(Gr(w)),d.m=T,d.P=!0,T1(d,null)}function T1(d,w){d.F=Date.now(),Qu(d),d.A=Gr(d.v);var T=d.A,R=d.R;Array.isArray(R)||(R=[String(R)]),j1(T.i,"t",R),d.C=0,T=d.j.J,d.h=new E1,d.g=nx(d.j,T?w:null,!d.m),0<d.O&&(d.M=new kO(h(d.Y,d,d.g),d.O)),w=d.U,T=d.g,R=d.ca;var F="readystatechange";Array.isArray(F)||(F&&(h1[0]=F.toString()),F=h1);for(var U=0;U<F.length;U++){var X=Zn(T,F[U],R||w.handleEvent,!1,w.h||w);if(!X)break;w.g[X.key]=X}w=d.H?C(d.H):{},d.m?(d.u||(d.u="POST"),w["Content-Type"]="application/x-www-form-urlencoded",d.g.ea(d.A,d.u,d.m,w)):(d.u="GET",d.g.ea(d.A,d.u,null,w)),Cl(),MO(d.i,d.u,d.A,d.l,d.R,d.m)}Ai.prototype.ca=function(d){d=d.target;const w=this.M;w&&Kr(d)==3?w.j():this.Y(d)},Ai.prototype.Y=function(d){try{if(d==this.g)e:{const Kt=Kr(this.g);var w=this.g.Ba();const Fs=this.g.Z();if(!(3>Kt)&&(Kt!=3||this.g&&(this.h.h||this.g.oa()||H1(this.g)))){this.J||Kt!=4||w==7||(w==8||0>=Fs?Cl(3):Cl(2)),pm(this);var T=this.g.Z();this.X=T;t:if(C1(this)){var R=H1(this.g);d="";var F=R.length,U=Kr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Bo(this),Il(this);var X="";break t}this.h.i=new a.TextDecoder}for(w=0;w<F;w++)this.h.h=!0,d+=this.h.i.decode(R[w],{stream:!(U&&w==F-1)});R.length=0,this.h.g+=d,this.C=0,X=this.h.g}else X=this.g.oa();if(this.o=T==200,OO(this.i,this.u,this.A,this.l,this.R,Kt,T),this.o){if(this.T&&!this.K){t:{if(this.g){var Ye,Ft=this.g;if((Ye=Ft.g?Ft.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!y(Ye)){var Fe=Ye;break t}}Fe=null}if(T=Fe)Ls(this.i,this.l,T,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,mm(this,T);else{this.o=!1,this.s=3,cn(12),Bo(this),Il(this);break e}}if(this.P){T=!0;let er;for(;!this.J&&this.C<X.length;)if(er=jO(this,X),er==fm){Kt==4&&(this.s=4,cn(14),T=!1),Ls(this.i,this.l,null,"[Incomplete Response]");break}else if(er==b1){this.s=4,cn(15),Ls(this.i,this.l,X,"[Invalid Chunk]"),T=!1;break}else Ls(this.i,this.l,er,null),mm(this,er);if(C1(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Kt!=4||X.length!=0||this.h.h||(this.s=1,cn(16),T=!1),this.o=this.o&&T,!T)Ls(this.i,this.l,X,"[Invalid Chunked Response]"),Bo(this),Il(this);else if(0<X.length&&!this.W){this.W=!0;var Gt=this.j;Gt.g==this&&Gt.ba&&!Gt.M&&(Gt.j.info("Great, no buffering proxy detected. Bytes received: "+X.length),xm(Gt),Gt.M=!0,cn(11))}}else Ls(this.i,this.l,X,null),mm(this,X);Kt==4&&Bo(this),this.o&&!this.J&&(Kt==4?J1(this.j,this):(this.o=!1,Qu(this)))}else tL(this.g),T==400&&0<X.indexOf("Unknown SID")?(this.s=3,cn(12)):(this.s=0,cn(13)),Bo(this),Il(this)}}}catch{}finally{}};function C1(d){return d.g?d.u=="GET"&&d.L!=2&&d.j.Ca:!1}function jO(d,w){var T=d.C,R=w.indexOf(`
`,T);return R==-1?fm:(T=Number(w.substring(T,R)),isNaN(T)?b1:(R+=1,R+T>w.length?fm:(w=w.slice(R,R+T),d.C=R+T,w)))}Ai.prototype.cancel=function(){this.J=!0,Bo(this)};function Qu(d){d.S=Date.now()+d.I,S1(d,d.I)}function S1(d,w){if(d.B!=null)throw Error("WatchDog timer not null");d.B=Sl(h(d.ba,d),w)}function pm(d){d.B&&(a.clearTimeout(d.B),d.B=null)}Ai.prototype.ba=function(){this.B=null;const d=Date.now();0<=d-this.S?(LO(this.i,this.A),this.L!=2&&(Cl(),cn(17)),Bo(this),this.s=2,Il(this)):S1(this,this.S-d)};function Il(d){d.j.G==0||d.J||J1(d.j,d)}function Bo(d){pm(d);var w=d.M;w&&typeof w.ma=="function"&&w.ma(),d.M=null,p1(d.U),d.g&&(w=d.g,d.g=null,w.abort(),w.ma())}function mm(d,w){try{var T=d.j;if(T.G!=0&&(T.g==d||gm(T.h,d))){if(!d.K&&gm(T.h,d)&&T.G==3){try{var R=T.Da.g.parse(w)}catch{R=null}if(Array.isArray(R)&&R.length==3){var F=R;if(F[0]==0){e:if(!T.u){if(T.g)if(T.g.F+3e3<d.F)od(T),rd(T);else break e;_m(T),cn(18)}}else T.za=F[1],0<T.za-T.T&&37500>F[2]&&T.F&&T.v==0&&!T.C&&(T.C=Sl(h(T.Za,T),6e3));if(1>=A1(T.h)&&T.ca){try{T.ca()}catch{}T.ca=void 0}}else zo(T,11)}else if((d.K||T.g==d)&&od(T),!y(w))for(F=T.Da.g.parse(w),w=0;w<F.length;w++){let Fe=F[w];if(T.T=Fe[0],Fe=Fe[1],T.G==2)if(Fe[0]=="c"){T.K=Fe[1],T.ia=Fe[2];const Gt=Fe[3];Gt!=null&&(T.la=Gt,T.j.info("VER="+T.la));const Kt=Fe[4];Kt!=null&&(T.Aa=Kt,T.j.info("SVER="+T.Aa));const Fs=Fe[5];Fs!=null&&typeof Fs=="number"&&0<Fs&&(R=1.5*Fs,T.L=R,T.j.info("backChannelRequestTimeoutMs_="+R)),R=T;const er=d.g;if(er){const ad=er.g?er.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ad){var U=R.h;U.g||ad.indexOf("spdy")==-1&&ad.indexOf("quic")==-1&&ad.indexOf("h2")==-1||(U.j=U.l,U.g=new Set,U.h&&(vm(U,U.h),U.h=null))}if(R.D){const Em=er.g?er.g.getResponseHeader("X-HTTP-Session-Id"):null;Em&&(R.ya=Em,tt(R.I,R.D,Em))}}T.G=3,T.l&&T.l.ua(),T.ba&&(T.R=Date.now()-d.F,T.j.info("Handshake RTT: "+T.R+"ms")),R=T;var X=d;if(R.qa=tx(R,R.J?R.ia:null,R.W),X.K){R1(R.h,X);var Ye=X,Ft=R.L;Ft&&(Ye.I=Ft),Ye.B&&(pm(Ye),Qu(Ye)),R.g=X}else Q1(R);0<T.i.length&&id(T)}else Fe[0]!="stop"&&Fe[0]!="close"||zo(T,7);else T.G==3&&(Fe[0]=="stop"||Fe[0]=="close"?Fe[0]=="stop"?zo(T,7):wm(T):Fe[0]!="noop"&&T.l&&T.l.ta(Fe),T.v=0)}}Cl(4)}catch{}}var FO=class{constructor(d,w){this.g=d,this.map=w}};function P1(d){this.l=d||10,a.PerformanceNavigationTiming?(d=a.performance.getEntriesByType("navigation"),d=0<d.length&&(d[0].nextHopProtocol=="hq"||d[0].nextHopProtocol=="h2")):d=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=d?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function I1(d){return d.h?!0:d.g?d.g.size>=d.j:!1}function A1(d){return d.h?1:d.g?d.g.size:0}function gm(d,w){return d.h?d.h==w:d.g?d.g.has(w):!1}function vm(d,w){d.g?d.g.add(w):d.h=w}function R1(d,w){d.h&&d.h==w?d.h=null:d.g&&d.g.has(w)&&d.g.delete(w)}P1.prototype.cancel=function(){if(this.i=k1(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const d of this.g.values())d.cancel();this.g.clear()}};function k1(d){if(d.h!=null)return d.i.concat(d.h.D);if(d.g!=null&&d.g.size!==0){let w=d.i;for(const T of d.g.values())w=w.concat(T.D);return w}return v(d.i)}function $O(d){if(d.V&&typeof d.V=="function")return d.V();if(typeof Map<"u"&&d instanceof Map||typeof Set<"u"&&d instanceof Set)return Array.from(d.values());if(typeof d=="string")return d.split("");if(l(d)){for(var w=[],T=d.length,R=0;R<T;R++)w.push(d[R]);return w}w=[],T=0;for(R in d)w[T++]=d[R];return w}function UO(d){if(d.na&&typeof d.na=="function")return d.na();if(!d.V||typeof d.V!="function"){if(typeof Map<"u"&&d instanceof Map)return Array.from(d.keys());if(!(typeof Set<"u"&&d instanceof Set)){if(l(d)||typeof d=="string"){var w=[];d=d.length;for(var T=0;T<d;T++)w.push(T);return w}w=[],T=0;for(const R in d)w[T++]=R;return w}}}function D1(d,w){if(d.forEach&&typeof d.forEach=="function")d.forEach(w,void 0);else if(l(d)||typeof d=="string")Array.prototype.forEach.call(d,w,void 0);else for(var T=UO(d),R=$O(d),F=R.length,U=0;U<F;U++)w.call(void 0,R[U],T&&T[U],d)}var N1=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function BO(d,w){if(d){d=d.split("&");for(var T=0;T<d.length;T++){var R=d[T].indexOf("="),F=null;if(0<=R){var U=d[T].substring(0,R);F=d[T].substring(R+1)}else U=d[T];w(U,F?decodeURIComponent(F.replace(/\+/g," ")):"")}}}function Wo(d){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,d instanceof Wo){this.h=d.h,Xu(this,d.j),this.o=d.o,this.g=d.g,Ju(this,d.s),this.l=d.l;var w=d.i,T=new kl;T.i=w.i,w.g&&(T.g=new Map(w.g),T.h=w.h),M1(this,T),this.m=d.m}else d&&(w=String(d).match(N1))?(this.h=!1,Xu(this,w[1]||"",!0),this.o=Al(w[2]||""),this.g=Al(w[3]||"",!0),Ju(this,w[4]),this.l=Al(w[5]||"",!0),M1(this,w[6]||"",!0),this.m=Al(w[7]||"")):(this.h=!1,this.i=new kl(null,this.h))}Wo.prototype.toString=function(){var d=[],w=this.j;w&&d.push(Rl(w,O1,!0),":");var T=this.g;return(T||w=="file")&&(d.push("//"),(w=this.o)&&d.push(Rl(w,O1,!0),"@"),d.push(encodeURIComponent(String(T)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),T=this.s,T!=null&&d.push(":",String(T))),(T=this.l)&&(this.g&&T.charAt(0)!="/"&&d.push("/"),d.push(Rl(T,T.charAt(0)=="/"?HO:zO,!0))),(T=this.i.toString())&&d.push("?",T),(T=this.m)&&d.push("#",Rl(T,YO)),d.join("")};function Gr(d){return new Wo(d)}function Xu(d,w,T){d.j=T?Al(w,!0):w,d.j&&(d.j=d.j.replace(/:$/,""))}function Ju(d,w){if(w){if(w=Number(w),isNaN(w)||0>w)throw Error("Bad port number "+w);d.s=w}else d.s=null}function M1(d,w,T){w instanceof kl?(d.i=w,GO(d.i,d.h)):(T||(w=Rl(w,qO)),d.i=new kl(w,d.h))}function tt(d,w,T){d.i.set(w,T)}function Zu(d){return tt(d,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),d}function Al(d,w){return d?w?decodeURI(d.replace(/%25/g,"%2525")):decodeURIComponent(d):""}function Rl(d,w,T){return typeof d=="string"?(d=encodeURI(d).replace(w,WO),T&&(d=d.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d):null}function WO(d){return d=d.charCodeAt(0),"%"+(d>>4&15).toString(16)+(d&15).toString(16)}var O1=/[#\/\?@]/g,zO=/[#\?:]/g,HO=/[#\?]/g,qO=/[#\?@]/g,YO=/#/g;function kl(d,w){this.h=this.g=null,this.i=d||null,this.j=!!w}function Ri(d){d.g||(d.g=new Map,d.h=0,d.i&&BO(d.i,function(w,T){d.add(decodeURIComponent(w.replace(/\+/g," ")),T)}))}t=kl.prototype,t.add=function(d,w){Ri(this),this.i=null,d=Vs(this,d);var T=this.g.get(d);return T||this.g.set(d,T=[]),T.push(w),this.h+=1,this};function L1(d,w){Ri(d),w=Vs(d,w),d.g.has(w)&&(d.i=null,d.h-=d.g.get(w).length,d.g.delete(w))}function V1(d,w){return Ri(d),w=Vs(d,w),d.g.has(w)}t.forEach=function(d,w){Ri(this),this.g.forEach(function(T,R){T.forEach(function(F){d.call(w,F,R,this)},this)},this)},t.na=function(){Ri(this);const d=Array.from(this.g.values()),w=Array.from(this.g.keys()),T=[];for(let R=0;R<w.length;R++){const F=d[R];for(let U=0;U<F.length;U++)T.push(w[R])}return T},t.V=function(d){Ri(this);let w=[];if(typeof d=="string")V1(this,d)&&(w=w.concat(this.g.get(Vs(this,d))));else{d=Array.from(this.g.values());for(let T=0;T<d.length;T++)w=w.concat(d[T])}return w},t.set=function(d,w){return Ri(this),this.i=null,d=Vs(this,d),V1(this,d)&&(this.h-=this.g.get(d).length),this.g.set(d,[w]),this.h+=1,this},t.get=function(d,w){return d?(d=this.V(d),0<d.length?String(d[0]):w):w};function j1(d,w,T){L1(d,w),0<T.length&&(d.i=null,d.g.set(Vs(d,w),v(T)),d.h+=T.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const d=[],w=Array.from(this.g.keys());for(var T=0;T<w.length;T++){var R=w[T];const U=encodeURIComponent(String(R)),X=this.V(R);for(R=0;R<X.length;R++){var F=U;X[R]!==""&&(F+="="+encodeURIComponent(String(X[R]))),d.push(F)}}return this.i=d.join("&")};function Vs(d,w){return w=String(w),d.j&&(w=w.toLowerCase()),w}function GO(d,w){w&&!d.j&&(Ri(d),d.i=null,d.g.forEach(function(T,R){var F=R.toLowerCase();R!=F&&(L1(this,R),j1(this,F,T))},d)),d.j=w}function KO(d,w){const T=new Pl;if(a.Image){const R=new Image;R.onload=m(ki,T,"TestLoadImage: loaded",!0,w,R),R.onerror=m(ki,T,"TestLoadImage: error",!1,w,R),R.onabort=m(ki,T,"TestLoadImage: abort",!1,w,R),R.ontimeout=m(ki,T,"TestLoadImage: timeout",!1,w,R),a.setTimeout(function(){R.ontimeout&&R.ontimeout()},1e4),R.src=d}else w(!1)}function QO(d,w){const T=new Pl,R=new AbortController,F=setTimeout(()=>{R.abort(),ki(T,"TestPingServer: timeout",!1,w)},1e4);fetch(d,{signal:R.signal}).then(U=>{clearTimeout(F),U.ok?ki(T,"TestPingServer: ok",!0,w):ki(T,"TestPingServer: server error",!1,w)}).catch(()=>{clearTimeout(F),ki(T,"TestPingServer: error",!1,w)})}function ki(d,w,T,R,F){try{F&&(F.onload=null,F.onerror=null,F.onabort=null,F.ontimeout=null),R(T)}catch{}}function XO(){this.g=new NO}function JO(d,w,T){const R=T||"";try{D1(d,function(F,U){let X=F;c(F)&&(X=am(F)),w.push(R+U+"="+encodeURIComponent(X))})}catch(F){throw w.push(R+"type="+encodeURIComponent("_badmap")),F}}function ed(d){this.l=d.Ub||null,this.j=d.eb||!1}_(ed,lm),ed.prototype.g=function(){return new td(this.l,this.j)},ed.prototype.i=function(d){return function(){return d}}({});function td(d,w){Yt.call(this),this.D=d,this.o=w,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}_(td,Yt),t=td.prototype,t.open=function(d,w){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=d,this.A=w,this.readyState=1,Nl(this)},t.send=function(d){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const w={headers:this.u,method:this.B,credentials:this.m,cache:void 0};d&&(w.body=d),(this.D||a).fetch(new Request(this.A,w)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Dl(this)),this.readyState=0},t.Sa=function(d){if(this.g&&(this.l=d,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=d.headers,this.readyState=2,Nl(this)),this.g&&(this.readyState=3,Nl(this),this.g)))if(this.responseType==="arraybuffer")d.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in d){if(this.j=d.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;F1(this)}else d.text().then(this.Ra.bind(this),this.ga.bind(this))};function F1(d){d.j.read().then(d.Pa.bind(d)).catch(d.ga.bind(d))}t.Pa=function(d){if(this.g){if(this.o&&d.value)this.response.push(d.value);else if(!this.o){var w=d.value?d.value:new Uint8Array(0);(w=this.v.decode(w,{stream:!d.done}))&&(this.response=this.responseText+=w)}d.done?Dl(this):Nl(this),this.readyState==3&&F1(this)}},t.Ra=function(d){this.g&&(this.response=this.responseText=d,Dl(this))},t.Qa=function(d){this.g&&(this.response=d,Dl(this))},t.ga=function(){this.g&&Dl(this)};function Dl(d){d.readyState=4,d.l=null,d.j=null,d.v=null,Nl(d)}t.setRequestHeader=function(d,w){this.u.append(d,w)},t.getResponseHeader=function(d){return this.h&&this.h.get(d.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const d=[],w=this.h.entries();for(var T=w.next();!T.done;)T=T.value,d.push(T[0]+": "+T[1]),T=w.next();return d.join(`\r
`)};function Nl(d){d.onreadystatechange&&d.onreadystatechange.call(d)}Object.defineProperty(td.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(d){this.m=d?"include":"same-origin"}});function $1(d){let w="";return M(d,function(T,R){w+=R,w+=":",w+=T,w+=`\r
`}),w}function ym(d,w,T){e:{for(R in T){var R=!1;break e}R=!0}R||(T=$1(T),typeof d=="string"?T!=null&&encodeURIComponent(String(T)):tt(d,w,T))}function mt(d){Yt.call(this),this.headers=new Map,this.o=d||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}_(mt,Yt);var ZO=/^https?$/i,eL=["POST","PUT"];t=mt.prototype,t.Ha=function(d){this.J=d},t.ea=function(d,w,T,R){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+d);w=w?w.toUpperCase():"GET",this.D=d,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():dm.g(),this.v=this.o?m1(this.o):m1(dm),this.g.onreadystatechange=h(this.Ea,this);try{this.B=!0,this.g.open(w,String(d),!0),this.B=!1}catch(U){U1(this,U);return}if(d=T||"",T=new Map(this.headers),R)if(Object.getPrototypeOf(R)===Object.prototype)for(var F in R)T.set(F,R[F]);else if(typeof R.keys=="function"&&typeof R.get=="function")for(const U of R.keys())T.set(U,R.get(U));else throw Error("Unknown input type for opt_headers: "+String(R));R=Array.from(T.keys()).find(U=>U.toLowerCase()=="content-type"),F=a.FormData&&d instanceof a.FormData,!(0<=Array.prototype.indexOf.call(eL,w,void 0))||R||F||T.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[U,X]of T)this.g.setRequestHeader(U,X);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{z1(this),this.u=!0,this.g.send(d),this.u=!1}catch(U){U1(this,U)}};function U1(d,w){d.h=!1,d.g&&(d.j=!0,d.g.abort(),d.j=!1),d.l=w,d.m=5,B1(d),nd(d)}function B1(d){d.A||(d.A=!0,ln(d,"complete"),ln(d,"error"))}t.abort=function(d){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=d||7,ln(this,"complete"),ln(this,"abort"),nd(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),nd(this,!0)),mt.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?W1(this):this.bb())},t.bb=function(){W1(this)};function W1(d){if(d.h&&typeof s<"u"&&(!d.v[1]||Kr(d)!=4||d.Z()!=2)){if(d.u&&Kr(d)==4)d1(d.Ea,0,d);else if(ln(d,"readystatechange"),Kr(d)==4){d.h=!1;try{const X=d.Z();e:switch(X){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var w=!0;break e;default:w=!1}var T;if(!(T=w)){var R;if(R=X===0){var F=String(d.D).match(N1)[1]||null;!F&&a.self&&a.self.location&&(F=a.self.location.protocol.slice(0,-1)),R=!ZO.test(F?F.toLowerCase():"")}T=R}if(T)ln(d,"complete"),ln(d,"success");else{d.m=6;try{var U=2<Kr(d)?d.g.statusText:""}catch{U=""}d.l=U+" ["+d.Z()+"]",B1(d)}}finally{nd(d)}}}}function nd(d,w){if(d.g){z1(d);const T=d.g,R=d.v[0]?()=>{}:null;d.g=null,d.v=null,w||ln(d,"ready");try{T.onreadystatechange=R}catch{}}}function z1(d){d.I&&(a.clearTimeout(d.I),d.I=null)}t.isActive=function(){return!!this.g};function Kr(d){return d.g?d.g.readyState:0}t.Z=function(){try{return 2<Kr(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(d){if(this.g){var w=this.g.responseText;return d&&w.indexOf(d)==0&&(w=w.substring(d.length)),DO(w)}};function H1(d){try{if(!d.g)return null;if("response"in d.g)return d.g.response;switch(d.H){case"":case"text":return d.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in d.g)return d.g.mozResponseArrayBuffer}return null}catch{return null}}function tL(d){const w={};d=(d.g&&2<=Kr(d)&&d.g.getAllResponseHeaders()||"").split(`\r
`);for(let R=0;R<d.length;R++){if(y(d[R]))continue;var T=O(d[R]);const F=T[0];if(T=T[1],typeof T!="string")continue;T=T.trim();const U=w[F]||[];w[F]=U,U.push(T)}S(w,function(R){return R.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ml(d,w,T){return T&&T.internalChannelParams&&T.internalChannelParams[d]||w}function q1(d){this.Aa=0,this.i=[],this.j=new Pl,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ml("failFast",!1,d),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ml("baseRetryDelayMs",5e3,d),this.cb=Ml("retryDelaySeedMs",1e4,d),this.Wa=Ml("forwardChannelMaxRetries",2,d),this.wa=Ml("forwardChannelRequestTimeoutMs",2e4,d),this.pa=d&&d.xmlHttpFactory||void 0,this.Xa=d&&d.Tb||void 0,this.Ca=d&&d.useFetchStreams||!1,this.L=void 0,this.J=d&&d.supportsCrossDomainXhr||!1,this.K="",this.h=new P1(d&&d.concurrentRequestLimit),this.Da=new XO,this.P=d&&d.fastHandshake||!1,this.O=d&&d.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=d&&d.Rb||!1,d&&d.xa&&this.j.xa(),d&&d.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&d&&d.detectBufferingProxy||!1,this.ja=void 0,d&&d.longPollingTimeout&&0<d.longPollingTimeout&&(this.ja=d.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=q1.prototype,t.la=8,t.G=1,t.connect=function(d,w,T,R){cn(0),this.W=d,this.H=w||{},T&&R!==void 0&&(this.H.OSID=T,this.H.OAID=R),this.F=this.X,this.I=tx(this,null,this.W),id(this)};function wm(d){if(Y1(d),d.G==3){var w=d.U++,T=Gr(d.I);if(tt(T,"SID",d.K),tt(T,"RID",w),tt(T,"TYPE","terminate"),Ol(d,T),w=new Ai(d,d.j,w),w.L=2,w.v=Zu(Gr(T)),T=!1,a.navigator&&a.navigator.sendBeacon)try{T=a.navigator.sendBeacon(w.v.toString(),"")}catch{}!T&&a.Image&&(new Image().src=w.v,T=!0),T||(w.g=nx(w.j,null),w.g.ea(w.v)),w.F=Date.now(),Qu(w)}ex(d)}function rd(d){d.g&&(xm(d),d.g.cancel(),d.g=null)}function Y1(d){rd(d),d.u&&(a.clearTimeout(d.u),d.u=null),od(d),d.h.cancel(),d.s&&(typeof d.s=="number"&&a.clearTimeout(d.s),d.s=null)}function id(d){if(!I1(d.h)&&!d.s){d.s=!0;var w=d.Ga;j||$(),L||(j(),L=!0),V.add(w,d),d.B=0}}function nL(d,w){return A1(d.h)>=d.h.j-(d.s?1:0)?!1:d.s?(d.i=w.D.concat(d.i),!0):d.G==1||d.G==2||d.B>=(d.Va?0:d.Wa)?!1:(d.s=Sl(h(d.Ga,d,w),Z1(d,d.B)),d.B++,!0)}t.Ga=function(d){if(this.s)if(this.s=null,this.G==1){if(!d){this.U=Math.floor(1e5*Math.random()),d=this.U++;const F=new Ai(this,this.j,d);let U=this.o;if(this.S&&(U?(U=C(U),A(U,this.S)):U=this.S),this.m!==null||this.O||(F.H=U,U=null),this.P)e:{for(var w=0,T=0;T<this.i.length;T++){t:{var R=this.i[T];if("__data__"in R.map&&(R=R.map.__data__,typeof R=="string")){R=R.length;break t}R=void 0}if(R===void 0)break;if(w+=R,4096<w){w=T;break e}if(w===4096||T===this.i.length-1){w=T+1;break e}}w=1e3}else w=1e3;w=K1(this,F,w),T=Gr(this.I),tt(T,"RID",d),tt(T,"CVER",22),this.D&&tt(T,"X-HTTP-Session-Id",this.D),Ol(this,T),U&&(this.O?w="headers="+encodeURIComponent(String($1(U)))+"&"+w:this.m&&ym(T,this.m,U)),vm(this.h,F),this.Ua&&tt(T,"TYPE","init"),this.P?(tt(T,"$req",w),tt(T,"SID","null"),F.T=!0,hm(F,T,null)):hm(F,T,w),this.G=2}}else this.G==3&&(d?G1(this,d):this.i.length==0||I1(this.h)||G1(this))};function G1(d,w){var T;w?T=w.l:T=d.U++;const R=Gr(d.I);tt(R,"SID",d.K),tt(R,"RID",T),tt(R,"AID",d.T),Ol(d,R),d.m&&d.o&&ym(R,d.m,d.o),T=new Ai(d,d.j,T,d.B+1),d.m===null&&(T.H=d.o),w&&(d.i=w.D.concat(d.i)),w=K1(d,T,1e3),T.I=Math.round(.5*d.wa)+Math.round(.5*d.wa*Math.random()),vm(d.h,T),hm(T,R,w)}function Ol(d,w){d.H&&M(d.H,function(T,R){tt(w,R,T)}),d.l&&D1({},function(T,R){tt(w,R,T)})}function K1(d,w,T){T=Math.min(d.i.length,T);var R=d.l?h(d.l.Na,d.l,d):null;e:{var F=d.i;let U=-1;for(;;){const X=["count="+T];U==-1?0<T?(U=F[0].g,X.push("ofs="+U)):U=0:X.push("ofs="+U);let Ye=!0;for(let Ft=0;Ft<T;Ft++){let Fe=F[Ft].g;const Gt=F[Ft].map;if(Fe-=U,0>Fe)U=Math.max(0,F[Ft].g-100),Ye=!1;else try{JO(Gt,X,"req"+Fe+"_")}catch{R&&R(Gt)}}if(Ye){R=X.join("&");break e}}}return d=d.i.splice(0,T),w.D=d,R}function Q1(d){if(!d.g&&!d.u){d.Y=1;var w=d.Fa;j||$(),L||(j(),L=!0),V.add(w,d),d.v=0}}function _m(d){return d.g||d.u||3<=d.v?!1:(d.Y++,d.u=Sl(h(d.Fa,d),Z1(d,d.v)),d.v++,!0)}t.Fa=function(){if(this.u=null,X1(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var d=2*this.R;this.j.info("BP detection timer enabled: "+d),this.A=Sl(h(this.ab,this),d)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,cn(10),rd(this),X1(this))};function xm(d){d.A!=null&&(a.clearTimeout(d.A),d.A=null)}function X1(d){d.g=new Ai(d,d.j,"rpc",d.Y),d.m===null&&(d.g.H=d.o),d.g.O=0;var w=Gr(d.qa);tt(w,"RID","rpc"),tt(w,"SID",d.K),tt(w,"AID",d.T),tt(w,"CI",d.F?"0":"1"),!d.F&&d.ja&&tt(w,"TO",d.ja),tt(w,"TYPE","xmlhttp"),Ol(d,w),d.m&&d.o&&ym(w,d.m,d.o),d.L&&(d.g.I=d.L);var T=d.g;d=d.ia,T.L=1,T.v=Zu(Gr(w)),T.m=null,T.P=!0,T1(T,d)}t.Za=function(){this.C!=null&&(this.C=null,rd(this),_m(this),cn(19))};function od(d){d.C!=null&&(a.clearTimeout(d.C),d.C=null)}function J1(d,w){var T=null;if(d.g==w){od(d),xm(d),d.g=null;var R=2}else if(gm(d.h,w))T=w.D,R1(d.h,w),R=1;else return;if(d.G!=0){if(w.o)if(R==1){T=w.m?w.m.length:0,w=Date.now()-w.F;var F=d.B;R=Yu(),ln(R,new _1(R,T)),id(d)}else Q1(d);else if(F=w.s,F==3||F==0&&0<w.X||!(R==1&&nL(d,w)||R==2&&_m(d)))switch(T&&0<T.length&&(w=d.h,w.i=w.i.concat(T)),F){case 1:zo(d,5);break;case 4:zo(d,10);break;case 3:zo(d,6);break;default:zo(d,2)}}}function Z1(d,w){let T=d.Ta+Math.floor(Math.random()*d.cb);return d.isActive()||(T*=2),T*w}function zo(d,w){if(d.j.info("Error code "+w),w==2){var T=h(d.fb,d),R=d.Xa;const F=!R;R=new Wo(R||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Xu(R,"https"),Zu(R),F?KO(R.toString(),T):QO(R.toString(),T)}else cn(2);d.G=0,d.l&&d.l.sa(w),ex(d),Y1(d)}t.fb=function(d){d?(this.j.info("Successfully pinged google.com"),cn(2)):(this.j.info("Failed to ping google.com"),cn(1))};function ex(d){if(d.G=0,d.ka=[],d.l){const w=k1(d.h);(w.length!=0||d.i.length!=0)&&(E(d.ka,w),E(d.ka,d.i),d.h.i.length=0,v(d.i),d.i.length=0),d.l.ra()}}function tx(d,w,T){var R=T instanceof Wo?Gr(T):new Wo(T);if(R.g!="")w&&(R.g=w+"."+R.g),Ju(R,R.s);else{var F=a.location;R=F.protocol,w=w?w+"."+F.hostname:F.hostname,F=+F.port;var U=new Wo(null);R&&Xu(U,R),w&&(U.g=w),F&&Ju(U,F),T&&(U.l=T),R=U}return T=d.D,w=d.ya,T&&w&&tt(R,T,w),tt(R,"VER",d.la),Ol(d,R),R}function nx(d,w,T){if(w&&!d.J)throw Error("Can't create secondary domain capable XhrIo object.");return w=d.Ca&&!d.pa?new mt(new ed({eb:T})):new mt(d.pa),w.Ha(d.J),w}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function rx(){}t=rx.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function sd(){}sd.prototype.g=function(d,w){return new In(d,w)};function In(d,w){Yt.call(this),this.g=new q1(w),this.l=d,this.h=w&&w.messageUrlParams||null,d=w&&w.messageHeaders||null,w&&w.clientProtocolHeaderRequired&&(d?d["X-Client-Protocol"]="webchannel":d={"X-Client-Protocol":"webchannel"}),this.g.o=d,d=w&&w.initMessageHeaders||null,w&&w.messageContentType&&(d?d["X-WebChannel-Content-Type"]=w.messageContentType:d={"X-WebChannel-Content-Type":w.messageContentType}),w&&w.va&&(d?d["X-WebChannel-Client-Profile"]=w.va:d={"X-WebChannel-Client-Profile":w.va}),this.g.S=d,(d=w&&w.Sb)&&!y(d)&&(this.g.m=d),this.v=w&&w.supportsCrossDomainXhr||!1,this.u=w&&w.sendRawJson||!1,(w=w&&w.httpSessionIdParam)&&!y(w)&&(this.g.D=w,d=this.h,d!==null&&w in d&&(d=this.h,w in d&&delete d[w])),this.j=new js(this)}_(In,Yt),In.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},In.prototype.close=function(){wm(this.g)},In.prototype.o=function(d){var w=this.g;if(typeof d=="string"){var T={};T.__data__=d,d=T}else this.u&&(T={},T.__data__=am(d),d=T);w.i.push(new FO(w.Ya++,d)),w.G==3&&id(w)},In.prototype.N=function(){this.g.l=null,delete this.j,wm(this.g),delete this.g,In.aa.N.call(this)};function ix(d){cm.call(this),d.__headers__&&(this.headers=d.__headers__,this.statusCode=d.__status__,delete d.__headers__,delete d.__status__);var w=d.__sm__;if(w){e:{for(const T in w){d=T;break e}d=void 0}(this.i=d)&&(d=this.i,w=w!==null&&d in w?w[d]:void 0),this.data=w}else this.data=d}_(ix,cm);function ox(){um.call(this),this.status=1}_(ox,um);function js(d){this.g=d}_(js,rx),js.prototype.ua=function(){ln(this.g,"a")},js.prototype.ta=function(d){ln(this.g,new ix(d))},js.prototype.sa=function(d){ln(this.g,new ox)},js.prototype.ra=function(){ln(this.g,"b")},sd.prototype.createWebChannel=sd.prototype.g,In.prototype.send=In.prototype.o,In.prototype.open=In.prototype.m,In.prototype.close=In.prototype.close,rA=function(){return new sd},nA=function(){return Yu()},tA=Uo,Qv={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Gu.NO_ERROR=0,Gu.TIMEOUT=8,Gu.HTTP_ERROR=6,af=Gu,x1.COMPLETE="complete",eA=x1,g1.EventType=Tl,Tl.OPEN="a",Tl.CLOSE="b",Tl.ERROR="c",Tl.MESSAGE="d",Yt.prototype.listen=Yt.prototype.K,nc=g1,mt.prototype.listenOnce=mt.prototype.L,mt.prototype.getLastError=mt.prototype.Ka,mt.prototype.getLastErrorCode=mt.prototype.Ba,mt.prototype.getStatus=mt.prototype.Z,mt.prototype.getResponseJson=mt.prototype.Oa,mt.prototype.getResponseText=mt.prototype.oa,mt.prototype.send=mt.prototype.ea,mt.prototype.setWithCredentials=mt.prototype.Ha,ZI=mt}).apply(typeof Cd<"u"?Cd:typeof self<"u"?self:typeof window<"u"?window:{});const OE="@firebase/firestore",LE="4.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class en{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}en.UNAUTHENTICATED=new en(null),en.GOOGLE_CREDENTIALS=new en("google-credentials-uid"),en.FIRST_PARTY=new en("first-party-uid"),en.MOCK_USER=new en("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let cl="12.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gs=new G0("@firebase/firestore");function Gs(){return gs.logLevel}function ne(t,...e){if(gs.logLevel<=Ie.DEBUG){const n=e.map(X0);gs.debug(`Firestore (${cl}): ${t}`,...n)}}function gi(t,...e){if(gs.logLevel<=Ie.ERROR){const n=e.map(X0);gs.error(`Firestore (${cl}): ${t}`,...n)}}function Fa(t,...e){if(gs.logLevel<=Ie.WARN){const n=e.map(X0);gs.warn(`Firestore (${cl}): ${t}`,...n)}}function X0(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ge(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,iA(t,r,n)}function iA(t,e,n){let r=`FIRESTORE (${cl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw gi(r),new Error(r)}function Be(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||iA(e,i,r)}function xe(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Z extends Pi{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class si{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oA{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class m5{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(en.UNAUTHENTICATED))}shutdown(){}}class g5{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class v5{constructor(e){this.t=e,this.currentUser=en.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Be(this.o===void 0,42304);let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let o=new si;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new si,e.enqueueRetryable(()=>i(this.currentUser))};const s=()=>{const l=o;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{ne("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(ne("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new si)}},0),s()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(ne("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Be(typeof r.accessToken=="string",31837,{l:r}),new oA(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Be(e===null||typeof e=="string",2055,{h:e}),new en(e)}}class y5{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=en.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class w5{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new y5(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(en.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class VE{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class _5{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,zn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Be(this.o===void 0,3512);const r=o=>{o.error!=null&&ne("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const s=o.token!==this.m;return this.m=o.token,ne("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const i=o=>{ne("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){const o=this.V.getImmediate({optional:!0});o?i(o):ne("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new VE(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Be(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new VE(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x5(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J0{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=x5(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%62))}return r}}function Ae(t,e){return t<e?-1:t>e?1:0}function Xv(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const i=t.charAt(r),o=e.charAt(r);if(i!==o)return tg(i)===tg(o)?Ae(i,o):tg(i)?1:-1}return Ae(t.length,e.length)}const E5=55296,b5=57343;function tg(t){const e=t.charCodeAt(0);return e>=E5&&e<=b5}function $a(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jE="__name__";class Er{constructor(e,n,r){n===void 0?n=0:n>e.length&&ge(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&ge(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Er.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Er?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const o=Er.compareSegments(e.get(i),n.get(i));if(o!==0)return o}return Ae(e.length,n.length)}static compareSegments(e,n){const r=Er.isNumericId(e),i=Er.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?Er.extractNumericId(e).compare(Er.extractNumericId(n)):Xv(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return fo.fromString(e.substring(4,e.length-2))}}class Qe extends Er{construct(e,n,r){return new Qe(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Z(z.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Qe(n)}static emptyPath(){return new Qe([])}}const T5=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Bt extends Er{construct(e,n,r){return new Bt(e,n,r)}static isValidIdentifier(e){return T5.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Bt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===jE}static keyField(){return new Bt([jE])}static fromServerFormat(e){const n=[];let r="",i=0;const o=()=>{if(r.length===0)throw new Z(z.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let s=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new Z(z.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new Z(z.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(s=!s,i++):a!=="."||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new Z(z.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Bt(n)}static emptyPath(){return new Bt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ce{constructor(e){this.path=e}static fromPath(e){return new ce(Qe.fromString(e))}static fromName(e){return new ce(Qe.fromString(e).popFirst(5))}static empty(){return new ce(Qe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Qe.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Qe.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ce(new Qe(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sA(t,e,n){if(!n)throw new Z(z.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function C5(t,e,n,r){if(e===!0&&r===!0)throw new Z(z.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function FE(t){if(!ce.isDocumentKey(t))throw new Z(z.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function $E(t){if(ce.isDocumentKey(t))throw new Z(z.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function aA(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function tp(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ge(12329,{type:typeof t})}function vi(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Z(z.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=tp(t);throw new Z(z.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function S5(t,e){if(e<=0)throw new Z(z.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function It(t,e){const n={typeString:t};return e&&(n.value=e),n}function Tu(t,e){if(!aA(t))throw new Z(z.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const i=e[r].typeString,o="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const s=t[r];if(i&&typeof s!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(o!==void 0&&s!==o.value){n=`Expected '${r}' field to equal '${o.value}'`;break}}if(n)throw new Z(z.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UE=-62135596800,BE=1e6;class it{static now(){return it.fromMillis(Date.now())}static fromDate(e){return it.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*BE);return new it(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Z(z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Z(z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<UE)throw new Z(z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Z(z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/BE}_compareTo(e){return this.seconds===e.seconds?Ae(this.nanoseconds,e.nanoseconds):Ae(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:it._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Tu(e,it._jsonSchema))return new it(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-UE;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}it._jsonSchemaVersion="firestore/timestamp/1.0",it._jsonSchema={type:It("string",it._jsonSchemaVersion),seconds:It("number"),nanoseconds:It("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _e{static fromTimestamp(e){return new _e(e)}static min(){return new _e(new it(0,0))}static max(){return new _e(new it(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qc=-1;function P5(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=_e.fromTimestamp(r===1e9?new it(n+1,0):new it(n,r));return new wo(i,ce.empty(),e)}function I5(t){return new wo(t.readTime,t.key,Qc)}class wo{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new wo(_e.min(),ce.empty(),Qc)}static max(){return new wo(_e.max(),ce.empty(),Qc)}}function A5(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ce.comparator(t.documentKey,e.documentKey),n!==0?n:Ae(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R5="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class k5{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ul(t){if(t.code!==z.FAILED_PRECONDITION||t.message!==R5)throw t;ne("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ge(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new H((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof H?n:H.resolve(n)}catch(n){return H.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):H.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):H.reject(n)}static resolve(e){return new H((n,r)=>{n(e)})}static reject(e){return new H((n,r)=>{r(e)})}static waitFor(e){return new H((n,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&n()},l=>r(l))}),s=!0,o===i&&n()})}static or(e){let n=H.resolve(!1);for(const r of e)n=n.next(i=>i?H.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(e,n){return new H((r,i)=>{const o=e.length,s=new Array(o);let a=0;for(let l=0;l<o;l++){const c=l;n(e[c]).next(u=>{s[c]=u,++a,a===o&&r(s)},u=>i(u))}})}static doWhile(e,n){return new H((r,i)=>{const o=()=>{e()===!0?n().next(()=>{o()},i):r()};o()})}}function D5(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function dl(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class np{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}np.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z0=-1;function rp(t){return t==null}function Xf(t){return t===0&&1/t==-1/0}function N5(t){return typeof t=="number"&&Number.isInteger(t)&&!Xf(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lA="";function M5(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=WE(e)),e=O5(t.get(n),e);return WE(e)}function O5(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const o=t.charAt(i);switch(o){case"\0":n+="";break;case lA:n+="";break;default:n+=o}}return n}function WE(t){return t+lA+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zE(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Mo(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function cA(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pt{constructor(e,n){this.comparator=e,this.root=n||Ut.EMPTY}insert(e,n){return new pt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Ut.BLACK,null,null))}remove(e){return new pt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ut.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Sd(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Sd(this.root,e,this.comparator,!1)}getReverseIterator(){return new Sd(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Sd(this.root,e,this.comparator,!0)}}class Sd{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ut{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??Ut.RED,this.left=i??Ut.EMPTY,this.right=o??Ut.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new Ut(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Ut.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Ut.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ut.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ut.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ge(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ge(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw ge(27949);return e+(this.isRed()?0:1)}}Ut.EMPTY=null,Ut.RED=!0,Ut.BLACK=!1;Ut.EMPTY=new class{constructor(){this.size=0}get key(){throw ge(57766)}get value(){throw ge(16141)}get color(){throw ge(16727)}get left(){throw ge(29726)}get right(){throw ge(36894)}copy(e,n,r,i,o){return this}insert(e,n,r){return new Ut(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dt{constructor(e){this.comparator=e,this.data=new pt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new HE(this.data.getIterator())}getIteratorFrom(e){return new HE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Dt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Dt(this.comparator);return n.data=e,n}}class HE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nn{constructor(e){this.fields=e,e.sort(Bt.comparator)}static empty(){return new Nn([])}unionWith(e){let n=new Dt(Bt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Nn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return $a(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uA extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new uA("Invalid base64 string: "+o):o}}(e);return new qt(n)}static fromUint8Array(e){const n=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new qt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ae(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}qt.EMPTY_BYTE_STRING=new qt("");const L5=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function _o(t){if(Be(!!t,39018),typeof t=="string"){let e=0;const n=L5.exec(t);if(Be(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:wt(t.seconds),nanos:wt(t.nanos)}}function wt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function xo(t){return typeof t=="string"?qt.fromBase64String(t):qt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dA="server_timestamp",fA="__type__",hA="__previous_value__",pA="__local_write_time__";function ew(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[fA])==null?void 0:r.stringValue)===dA}function ip(t){const e=t.mapValue.fields[hA];return ew(e)?ip(e):e}function Xc(t){const e=_o(t.mapValue.fields[pA].timestampValue);return new it(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V5{constructor(e,n,r,i,o,s,a,l,c,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=c,this.isUsingEmulator=u}}const Jf="(default)";class Jc{constructor(e,n){this.projectId=e,this.database=n||Jf}static empty(){return new Jc("","")}get isDefaultDatabase(){return this.database===Jf}isEqual(e){return e instanceof Jc&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mA="__type__",gA="__max__",Pd={mapValue:{fields:{__type__:{stringValue:gA}}}},vA="__vector__",Zf="value";function Eo(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?ew(t)?4:F5(t)?9007199254740991:j5(t)?10:11:ge(28295,{value:t})}function $r(t,e){if(t===e)return!0;const n=Eo(t);if(n!==Eo(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Xc(t).isEqual(Xc(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;const s=_o(i.timestampValue),a=_o(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,o){return xo(i.bytesValue).isEqual(xo(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,o){return wt(i.geoPointValue.latitude)===wt(o.geoPointValue.latitude)&&wt(i.geoPointValue.longitude)===wt(o.geoPointValue.longitude)}(t,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return wt(i.integerValue)===wt(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){const s=wt(i.doubleValue),a=wt(o.doubleValue);return s===a?Xf(s)===Xf(a):isNaN(s)&&isNaN(a)}return!1}(t,e);case 9:return $a(t.arrayValue.values||[],e.arrayValue.values||[],$r);case 10:case 11:return function(i,o){const s=i.mapValue.fields||{},a=o.mapValue.fields||{};if(zE(s)!==zE(a))return!1;for(const l in s)if(s.hasOwnProperty(l)&&(a[l]===void 0||!$r(s[l],a[l])))return!1;return!0}(t,e);default:return ge(52216,{left:t})}}function Zc(t,e){return(t.values||[]).find(n=>$r(n,e))!==void 0}function Ua(t,e){if(t===e)return 0;const n=Eo(t),r=Eo(e);if(n!==r)return Ae(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ae(t.booleanValue,e.booleanValue);case 2:return function(o,s){const a=wt(o.integerValue||o.doubleValue),l=wt(s.integerValue||s.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return qE(t.timestampValue,e.timestampValue);case 4:return qE(Xc(t),Xc(e));case 5:return Xv(t.stringValue,e.stringValue);case 6:return function(o,s){const a=xo(o),l=xo(s);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(o,s){const a=o.split("/"),l=s.split("/");for(let c=0;c<a.length&&c<l.length;c++){const u=Ae(a[c],l[c]);if(u!==0)return u}return Ae(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,s){const a=Ae(wt(o.latitude),wt(s.latitude));return a!==0?a:Ae(wt(o.longitude),wt(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return YE(t.arrayValue,e.arrayValue);case 10:return function(o,s){var h,m,_,v;const a=o.fields||{},l=s.fields||{},c=(h=a[Zf])==null?void 0:h.arrayValue,u=(m=l[Zf])==null?void 0:m.arrayValue,f=Ae(((_=c==null?void 0:c.values)==null?void 0:_.length)||0,((v=u==null?void 0:u.values)==null?void 0:v.length)||0);return f!==0?f:YE(c,u)}(t.mapValue,e.mapValue);case 11:return function(o,s){if(o===Pd.mapValue&&s===Pd.mapValue)return 0;if(o===Pd.mapValue)return 1;if(s===Pd.mapValue)return-1;const a=o.fields||{},l=Object.keys(a),c=s.fields||{},u=Object.keys(c);l.sort(),u.sort();for(let f=0;f<l.length&&f<u.length;++f){const h=Xv(l[f],u[f]);if(h!==0)return h;const m=Ua(a[l[f]],c[u[f]]);if(m!==0)return m}return Ae(l.length,u.length)}(t.mapValue,e.mapValue);default:throw ge(23264,{he:n})}}function qE(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Ae(t,e);const n=_o(t),r=_o(e),i=Ae(n.seconds,r.seconds);return i!==0?i:Ae(n.nanos,r.nanos)}function YE(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const o=Ua(n[i],r[i]);if(o)return o}return Ae(n.length,r.length)}function Ba(t){return Jv(t)}function Jv(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=_o(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return xo(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return ce.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const o of n.values||[])i?i=!1:r+=",",r+=Jv(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",o=!0;for(const s of r)o?o=!1:i+=",",i+=`${s}:${Jv(n.fields[s])}`;return i+"}"}(t.mapValue):ge(61005,{value:t})}function lf(t){switch(Eo(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=ip(t);return e?16+lf(e):16;case 5:return 2*t.stringValue.length;case 6:return xo(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,o)=>i+lf(o),0)}(t.arrayValue);case 10:case 11:return function(r){let i=0;return Mo(r.fields,(o,s)=>{i+=o.length+lf(s)}),i}(t.mapValue);default:throw ge(13486,{value:t})}}function GE(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Zv(t){return!!t&&"integerValue"in t}function tw(t){return!!t&&"arrayValue"in t}function KE(t){return!!t&&"nullValue"in t}function QE(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function cf(t){return!!t&&"mapValue"in t}function j5(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[mA])==null?void 0:r.stringValue)===vA}function vc(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return Mo(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=vc(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=vc(t.arrayValue.values[n]);return e}return{...t}}function F5(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===gA}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wn{constructor(e){this.value=e}static empty(){return new wn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!cf(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=vc(n)}setAll(e){let n=Bt.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}s?r[a.lastSegment()]=vc(s):i.push(a.lastSegment())});const o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){const n=this.field(e.popLast());cf(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return $r(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];cf(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Mo(n,(i,o)=>e[i]=o);for(const i of r)delete e[i]}clone(){return new wn(vc(this.value))}}function yA(t){const e=[];return Mo(t.fields,(n,r)=>{const i=new Bt([n]);if(cf(r)){const o=yA(r.mapValue).fields;if(o.length===0)e.push(i);else for(const s of o)e.push(i.child(s))}else e.push(i)}),new Nn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nn{constructor(e,n,r,i,o,s,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new nn(e,0,_e.min(),_e.min(),_e.min(),wn.empty(),0)}static newFoundDocument(e,n,r,i){return new nn(e,1,n,_e.min(),r,i,0)}static newNoDocument(e,n){return new nn(e,2,n,_e.min(),_e.min(),wn.empty(),0)}static newUnknownDocument(e,n){return new nn(e,3,n,_e.min(),_e.min(),wn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(_e.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=wn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=wn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=_e.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof nn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new nn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eh{constructor(e,n){this.position=e,this.inclusive=n}}function XE(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const o=e[i],s=t.position[i];if(o.field.isKeyField()?r=ce.comparator(ce.fromName(s.referenceValue),n.key):r=Ua(s,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function JE(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!$r(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eu{constructor(e,n="asc"){this.field=e,this.dir=n}}function $5(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wA{}class Pt extends wA{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new B5(e,n,r):n==="array-contains"?new H5(e,r):n==="in"?new q5(e,r):n==="not-in"?new Y5(e,r):n==="array-contains-any"?new G5(e,r):new Pt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new W5(e,r):new z5(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Ua(n,this.value)):n!==null&&Eo(this.value)===Eo(n)&&this.matchesComparison(Ua(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ge(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class dr extends wA{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new dr(e,n)}matches(e){return _A(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function _A(t){return t.op==="and"}function xA(t){return U5(t)&&_A(t)}function U5(t){for(const e of t.filters)if(e instanceof dr)return!1;return!0}function ey(t){if(t instanceof Pt)return t.field.canonicalString()+t.op.toString()+Ba(t.value);if(xA(t))return t.filters.map(e=>ey(e)).join(",");{const e=t.filters.map(n=>ey(n)).join(",");return`${t.op}(${e})`}}function EA(t,e){return t instanceof Pt?function(r,i){return i instanceof Pt&&r.op===i.op&&r.field.isEqual(i.field)&&$r(r.value,i.value)}(t,e):t instanceof dr?function(r,i){return i instanceof dr&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,a)=>o&&EA(s,i.filters[a]),!0):!1}(t,e):void ge(19439)}function bA(t){return t instanceof Pt?function(n){return`${n.field.canonicalString()} ${n.op} ${Ba(n.value)}`}(t):t instanceof dr?function(n){return n.op.toString()+" {"+n.getFilters().map(bA).join(" ,")+"}"}(t):"Filter"}class B5 extends Pt{constructor(e,n,r){super(e,n,r),this.key=ce.fromName(r.referenceValue)}matches(e){const n=ce.comparator(e.key,this.key);return this.matchesComparison(n)}}class W5 extends Pt{constructor(e,n){super(e,"in",n),this.keys=TA("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class z5 extends Pt{constructor(e,n){super(e,"not-in",n),this.keys=TA("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function TA(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map(r=>ce.fromName(r.referenceValue))}class H5 extends Pt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return tw(n)&&Zc(n.arrayValue,this.value)}}class q5 extends Pt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Zc(this.value.arrayValue,n)}}class Y5 extends Pt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Zc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Zc(this.value.arrayValue,n)}}class G5 extends Pt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!tw(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Zc(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K5{constructor(e,n=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.Te=null}}function ZE(t,e=null,n=[],r=[],i=null,o=null,s=null){return new K5(t,e,n,r,i,o,s)}function nw(t){const e=xe(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>ey(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),rp(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Ba(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Ba(r)).join(",")),e.Te=n}return e.Te}function rw(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!$5(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!EA(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!JE(t.startAt,e.startAt)&&JE(t.endAt,e.endAt)}function ty(t){return ce.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fl{constructor(e,n=null,r=[],i=[],o=null,s="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=l,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function Q5(t,e,n,r,i,o,s,a){return new fl(t,e,n,r,i,o,s,a)}function iw(t){return new fl(t)}function eb(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function CA(t){return t.collectionGroup!==null}function yc(t){const e=xe(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const o of e.explicitOrderBy)e.Ie.push(o),n.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new Dt(Bt.comparator);return s.filters.forEach(l=>{l.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.Ie.push(new eu(o,r))}),n.has(Bt.keyField().canonicalString())||e.Ie.push(new eu(Bt.keyField(),r))}return e.Ie}function kr(t){const e=xe(t);return e.Ee||(e.Ee=X5(e,yc(t))),e.Ee}function X5(t,e){if(t.limitType==="F")return ZE(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const o=i.dir==="desc"?"asc":"desc";return new eu(i.field,o)});const n=t.endAt?new eh(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new eh(t.startAt.position,t.startAt.inclusive):null;return ZE(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function ny(t,e){const n=t.filters.concat([e]);return new fl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function th(t,e,n){return new fl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function op(t,e){return rw(kr(t),kr(e))&&t.limitType===e.limitType}function SA(t){return`${nw(kr(t))}|lt:${t.limitType}`}function Ks(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>bA(i)).join(", ")}]`),rp(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Ba(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Ba(i)).join(",")),`Target(${r})`}(kr(t))}; limitType=${t.limitType})`}function sp(t,e){return e.isFoundDocument()&&function(r,i){const o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):ce.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(t,e)&&function(r,i){for(const o of yc(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const o of r.filters)if(!o.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(s,a,l){const c=XE(s,a,l);return s.inclusive?c<=0:c<0}(r.startAt,yc(r),i)||r.endAt&&!function(s,a,l){const c=XE(s,a,l);return s.inclusive?c>=0:c>0}(r.endAt,yc(r),i))}(t,e)}function J5(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function PA(t){return(e,n)=>{let r=!1;for(const i of yc(t)){const o=Z5(i,e,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function Z5(t,e,n){const r=t.field.isKeyField()?ce.comparator(e.key,n.key):function(o,s,a){const l=s.data.field(o),c=a.data.field(o);return l!==null&&c!==null?Ua(l,c):ge(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return ge(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Is{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Mo(this.inner,(n,r)=>{for(const[i,o]of r)e(i,o)})}isEmpty(){return cA(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eF=new pt(ce.comparator);function yi(){return eF}const IA=new pt(ce.comparator);function rc(...t){let e=IA;for(const n of t)e=e.insert(n.key,n);return e}function AA(t){let e=IA;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function ns(){return wc()}function RA(){return wc()}function wc(){return new Is(t=>t.toString(),(t,e)=>t.isEqual(e))}const tF=new pt(ce.comparator),nF=new Dt(ce.comparator);function Re(...t){let e=nF;for(const n of t)e=e.add(n);return e}const rF=new Dt(Ae);function iF(){return rF}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ow(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Xf(e)?"-0":e}}function kA(t){return{integerValue:""+t}}function oF(t,e){return N5(e)?kA(e):ow(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ap{constructor(){this._=void 0}}function sF(t,e,n){return t instanceof nh?function(i,o){const s={fields:{[fA]:{stringValue:dA},[pA]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&ew(o)&&(o=ip(o)),o&&(s.fields[hA]=o),{mapValue:s}}(n,e):t instanceof tu?NA(t,e):t instanceof nu?MA(t,e):function(i,o){const s=DA(i,o),a=tb(s)+tb(i.Ae);return Zv(s)&&Zv(i.Ae)?kA(a):ow(i.serializer,a)}(t,e)}function aF(t,e,n){return t instanceof tu?NA(t,e):t instanceof nu?MA(t,e):n}function DA(t,e){return t instanceof rh?function(r){return Zv(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}class nh extends ap{}class tu extends ap{constructor(e){super(),this.elements=e}}function NA(t,e){const n=OA(e);for(const r of t.elements)n.some(i=>$r(i,r))||n.push(r);return{arrayValue:{values:n}}}class nu extends ap{constructor(e){super(),this.elements=e}}function MA(t,e){let n=OA(e);for(const r of t.elements)n=n.filter(i=>!$r(i,r));return{arrayValue:{values:n}}}class rh extends ap{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function tb(t){return wt(t.integerValue||t.doubleValue)}function OA(t){return tw(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function lF(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof tu&&i instanceof tu||r instanceof nu&&i instanceof nu?$a(r.elements,i.elements,$r):r instanceof rh&&i instanceof rh?$r(r.Ae,i.Ae):r instanceof nh&&i instanceof nh}(t.transform,e.transform)}class cF{constructor(e,n){this.version=e,this.transformResults=n}}class cr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new cr}static exists(e){return new cr(void 0,e)}static updateTime(e){return new cr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function uf(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class lp{}function LA(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new sw(t.key,cr.none()):new Cu(t.key,t.data,cr.none());{const n=t.data,r=wn.empty();let i=new Dt(Bt.comparator);for(let o of e.fields)if(!i.has(o)){let s=n.field(o);s===null&&o.length>1&&(o=o.popLast(),s=n.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new Oo(t.key,r,new Nn(i.toArray()),cr.none())}}function uF(t,e,n){t instanceof Cu?function(i,o,s){const a=i.value.clone(),l=rb(i.fieldTransforms,o,s.transformResults);a.setAll(l),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Oo?function(i,o,s){if(!uf(i.precondition,o))return void o.convertToUnknownDocument(s.version);const a=rb(i.fieldTransforms,o,s.transformResults),l=o.data;l.setAll(VA(i)),l.setAll(a),o.convertToFoundDocument(s.version,l).setHasCommittedMutations()}(t,e,n):function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function _c(t,e,n,r){return t instanceof Cu?function(o,s,a,l){if(!uf(o.precondition,s))return a;const c=o.value.clone(),u=ib(o.fieldTransforms,l,s);return c.setAll(u),s.convertToFoundDocument(s.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof Oo?function(o,s,a,l){if(!uf(o.precondition,s))return a;const c=ib(o.fieldTransforms,l,s),u=s.data;return u.setAll(VA(o)),u.setAll(c),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),a===null?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(f=>f.field))}(t,e,n,r):function(o,s,a){return uf(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a}(t,e,n)}function dF(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),o=DA(r.transform,i||null);o!=null&&(n===null&&(n=wn.empty()),n.set(r.field,o))}return n||null}function nb(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&$a(r,i,(o,s)=>lF(o,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Cu extends lp{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Oo extends lp{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function VA(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function rb(t,e,n){const r=new Map;Be(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let i=0;i<n.length;i++){const o=t[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,aF(s,a,n[i]))}return r}function ib(t,e,n){const r=new Map;for(const i of t){const o=i.transform,s=n.data.field(i.field);r.set(i.field,sF(o,s,e))}return r}class sw extends lp{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class fF extends lp{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hF{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&uF(o,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=_c(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=_c(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=RA();return this.mutations.forEach(i=>{const o=e.get(i.key),s=o.overlayedDocument;let a=this.applyToLocalView(s,o.mutatedFields);a=n.has(i.key)?null:a;const l=LA(s,a);l!==null&&r.set(i.key,l),s.isValidDocument()||s.convertToNoDocument(_e.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Re())}isEqual(e){return this.batchId===e.batchId&&$a(this.mutations,e.mutations,(n,r)=>nb(n,r))&&$a(this.baseMutations,e.baseMutations,(n,r)=>nb(n,r))}}class aw{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Be(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let i=function(){return tF}();const o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new aw(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let pF=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mF{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Tt,Me;function gF(t){switch(t){case z.OK:return ge(64938);case z.CANCELLED:case z.UNKNOWN:case z.DEADLINE_EXCEEDED:case z.RESOURCE_EXHAUSTED:case z.INTERNAL:case z.UNAVAILABLE:case z.UNAUTHENTICATED:return!1;case z.INVALID_ARGUMENT:case z.NOT_FOUND:case z.ALREADY_EXISTS:case z.PERMISSION_DENIED:case z.FAILED_PRECONDITION:case z.ABORTED:case z.OUT_OF_RANGE:case z.UNIMPLEMENTED:case z.DATA_LOSS:return!0;default:return ge(15467,{code:t})}}function jA(t){if(t===void 0)return gi("GRPC error has no .code"),z.UNKNOWN;switch(t){case Tt.OK:return z.OK;case Tt.CANCELLED:return z.CANCELLED;case Tt.UNKNOWN:return z.UNKNOWN;case Tt.DEADLINE_EXCEEDED:return z.DEADLINE_EXCEEDED;case Tt.RESOURCE_EXHAUSTED:return z.RESOURCE_EXHAUSTED;case Tt.INTERNAL:return z.INTERNAL;case Tt.UNAVAILABLE:return z.UNAVAILABLE;case Tt.UNAUTHENTICATED:return z.UNAUTHENTICATED;case Tt.INVALID_ARGUMENT:return z.INVALID_ARGUMENT;case Tt.NOT_FOUND:return z.NOT_FOUND;case Tt.ALREADY_EXISTS:return z.ALREADY_EXISTS;case Tt.PERMISSION_DENIED:return z.PERMISSION_DENIED;case Tt.FAILED_PRECONDITION:return z.FAILED_PRECONDITION;case Tt.ABORTED:return z.ABORTED;case Tt.OUT_OF_RANGE:return z.OUT_OF_RANGE;case Tt.UNIMPLEMENTED:return z.UNIMPLEMENTED;case Tt.DATA_LOSS:return z.DATA_LOSS;default:return ge(39323,{code:t})}}(Me=Tt||(Tt={}))[Me.OK=0]="OK",Me[Me.CANCELLED=1]="CANCELLED",Me[Me.UNKNOWN=2]="UNKNOWN",Me[Me.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Me[Me.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Me[Me.NOT_FOUND=5]="NOT_FOUND",Me[Me.ALREADY_EXISTS=6]="ALREADY_EXISTS",Me[Me.PERMISSION_DENIED=7]="PERMISSION_DENIED",Me[Me.UNAUTHENTICATED=16]="UNAUTHENTICATED",Me[Me.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Me[Me.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Me[Me.ABORTED=10]="ABORTED",Me[Me.OUT_OF_RANGE=11]="OUT_OF_RANGE",Me[Me.UNIMPLEMENTED=12]="UNIMPLEMENTED",Me[Me.INTERNAL=13]="INTERNAL",Me[Me.UNAVAILABLE=14]="UNAVAILABLE",Me[Me.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vF(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yF=new fo([4294967295,4294967295],0);function ob(t){const e=vF().encode(t),n=new JI;return n.update(e),new Uint8Array(n.digest())}function sb(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new fo([n,r],0),new fo([i,o],0)]}class lw{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new ic(`Invalid padding: ${n}`);if(r<0)throw new ic(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new ic(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new ic(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=fo.fromNumber(this.ge)}ye(e,n,r){let i=e.add(n.multiply(fo.fromNumber(r)));return i.compare(yF)===1&&(i=new fo([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=ob(e),[r,i]=sb(n);for(let o=0;o<this.hashCount;o++){const s=this.ye(r,i,o);if(!this.we(s))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new lw(o,i,n);return r.forEach(a=>s.insert(a)),s}insert(e){if(this.ge===0)return;const n=ob(e),[r,i]=sb(n);for(let o=0;o<this.hashCount;o++){const s=this.ye(r,i,o);this.Se(s)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class ic extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cp{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Su.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new cp(_e.min(),i,new pt(Ae),yi(),Re())}}class Su{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Su(r,n,Re(),Re(),Re())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class df{constructor(e,n,r,i){this.be=e,this.removedTargetIds=n,this.key=r,this.De=i}}class FA{constructor(e,n){this.targetId=e,this.Ce=n}}class $A{constructor(e,n,r=qt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class ab{constructor(){this.ve=0,this.Fe=lb(),this.Me=qt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Re(),n=Re(),r=Re();return this.Fe.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:ge(38017,{changeType:o})}}),new Su(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=lb()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Be(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class wF{constructor(e){this.Ge=e,this.ze=new Map,this.je=yi(),this.Je=Id(),this.He=Id(),this.Ye=new pt(Ae)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:ge(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach((r,i)=>{this.rt(i)&&n(i)})}st(e){const n=e.targetId,r=e.Ce.count,i=this.ot(n);if(i){const o=i.target;if(ty(o))if(r===0){const s=new ce(o.path);this.et(n,s,nn.newNoDocument(s,_e.min()))}else Be(r===1,20013,{expectedCount:r});else{const s=this._t(n);if(s!==r){const a=this.ut(e),l=a?this.ct(a,e,s):1;if(l!==0){this.it(n);const c=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,c)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=n;let s,a;try{s=xo(r).toUint8Array()}catch(l){if(l instanceof uA)return Fa("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new lw(s,i,o)}catch(l){return Fa(l instanceof ic?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.ge===0?null:a}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let i=0;return r.forEach(o=>{const s=this.Ge.ht(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.et(n,o,null),i++)}),i}Tt(e){const n=new Map;this.ze.forEach((o,s)=>{const a=this.ot(s);if(a){if(o.current&&ty(a.target)){const l=new ce(a.target.path);this.It(l).has(s)||this.Et(s,l)||this.et(s,l,nn.newNoDocument(l,e))}o.Be&&(n.set(s,o.ke()),o.qe())}});let r=Re();this.He.forEach((o,s)=>{let a=!0;s.forEachWhile(l=>{const c=this.ot(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(o))}),this.je.forEach((o,s)=>s.setReadTime(e));const i=new cp(e,n,this.Ye,this.je,r);return this.je=yi(),this.Je=Id(),this.He=Id(),this.Ye=new pt(Ae),i}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const i=this.nt(e);this.Et(e,n)?i.Qe(n,1):i.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new ab,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new Dt(Ae),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new Dt(Ae),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||ne("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new ab),this.Ge.getRemoteKeysForTarget(e).forEach(n=>{this.et(e,n,null)})}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Id(){return new pt(ce.comparator)}function lb(){return new pt(ce.comparator)}const _F=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),xF=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),EF=(()=>({and:"AND",or:"OR"}))();class bF{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function ry(t,e){return t.useProto3Json||rp(e)?e:{value:e}}function ih(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function UA(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function TF(t,e){return ih(t,e.toTimestamp())}function Dr(t){return Be(!!t,49232),_e.fromTimestamp(function(n){const r=_o(n);return new it(r.seconds,r.nanos)}(t))}function cw(t,e){return iy(t,e).canonicalString()}function iy(t,e){const n=function(i){return new Qe(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function BA(t){const e=Qe.fromString(t);return Be(YA(e),10190,{key:e.toString()}),e}function oy(t,e){return cw(t.databaseId,e.path)}function ng(t,e){const n=BA(e);if(n.get(1)!==t.databaseId.projectId)throw new Z(z.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Z(z.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ce(zA(n))}function WA(t,e){return cw(t.databaseId,e)}function CF(t){const e=BA(t);return e.length===4?Qe.emptyPath():zA(e)}function sy(t){return new Qe(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function zA(t){return Be(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function cb(t,e,n){return{name:oy(t,e),fields:n.value.mapValue.fields}}function SF(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:ge(39313,{state:c})}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(c,u){return c.useProto3Json?(Be(u===void 0||typeof u=="string",58123),qt.fromBase64String(u||"")):(Be(u===void 0||u instanceof Buffer||u instanceof Uint8Array,16193),qt.fromUint8Array(u||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(c){const u=c.code===void 0?z.UNKNOWN:jA(c.code);return new Z(u,c.message||"")}(s);n=new $A(r,i,o,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=ng(t,r.document.name),o=Dr(r.document.updateTime),s=r.document.createTime?Dr(r.document.createTime):_e.min(),a=new wn({mapValue:{fields:r.document.fields}}),l=nn.newFoundDocument(i,o,s,a),c=r.targetIds||[],u=r.removedTargetIds||[];n=new df(c,u,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=ng(t,r.document),o=r.readTime?Dr(r.readTime):_e.min(),s=nn.newNoDocument(i,o),a=r.removedTargetIds||[];n=new df([],a,s.key,s)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=ng(t,r.document),o=r.removedTargetIds||[];n=new df([],o,i,null)}else{if(!("filter"in e))return ge(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:o}=r,s=new mF(i,o),a=r.targetId;n=new FA(a,s)}}return n}function PF(t,e){let n;if(e instanceof Cu)n={update:cb(t,e.key,e.value)};else if(e instanceof sw)n={delete:oy(t,e.key)};else if(e instanceof Oo)n={update:cb(t,e.key,e.data),updateMask:LF(e.fieldMask)};else{if(!(e instanceof fF))return ge(16599,{Vt:e.type});n={verify:oy(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(o,s){const a=s.transform;if(a instanceof nh)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof tu)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof nu)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof rh)return{fieldPath:s.field.canonicalString(),increment:a.Ae};throw ge(20930,{transform:s.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:TF(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:ge(27497)}(t,e.precondition)),n}function IF(t,e){return t&&t.length>0?(Be(e!==void 0,14353),t.map(n=>function(i,o){let s=i.updateTime?Dr(i.updateTime):Dr(o);return s.isEqual(_e.min())&&(s=Dr(o)),new cF(s,i.transformResults||[])}(n,e))):[]}function AF(t,e){return{documents:[WA(t,e.path)]}}function RF(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=WA(t,i);const o=function(c){if(c.length!==0)return qA(dr.create(c,"and"))}(e.filters);o&&(n.structuredQuery.where=o);const s=function(c){if(c.length!==0)return c.map(u=>function(h){return{field:Qs(h.field),direction:NF(h.dir)}}(u))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const a=ry(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{ft:n,parent:i}}function kF(t){let e=CF(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Be(r===1,65062);const u=n.from[0];u.allDescendants?i=u.collectionId:e=e.child(u.collectionId)}let o=[];n.where&&(o=function(f){const h=HA(f);return h instanceof dr&&xA(h)?h.getFilters():[h]}(n.where));let s=[];n.orderBy&&(s=function(f){return f.map(h=>function(_){return new eu(Xs(_.field),function(E){switch(E){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(_.direction))}(h))}(n.orderBy));let a=null;n.limit&&(a=function(f){let h;return h=typeof f=="object"?f.value:f,rp(h)?null:h}(n.limit));let l=null;n.startAt&&(l=function(f){const h=!!f.before,m=f.values||[];return new eh(m,h)}(n.startAt));let c=null;return n.endAt&&(c=function(f){const h=!f.before,m=f.values||[];return new eh(m,h)}(n.endAt)),Q5(e,i,s,o,a,"F",l,c)}function DF(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ge(28987,{purpose:i})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function HA(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Xs(n.unaryFilter.field);return Pt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Xs(n.unaryFilter.field);return Pt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Xs(n.unaryFilter.field);return Pt.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=Xs(n.unaryFilter.field);return Pt.create(s,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ge(61313);default:return ge(60726)}}(t):t.fieldFilter!==void 0?function(n){return Pt.create(Xs(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ge(58110);default:return ge(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return dr.create(n.compositeFilter.filters.map(r=>HA(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return ge(1026)}}(n.compositeFilter.op))}(t):ge(30097,{filter:t})}function NF(t){return _F[t]}function MF(t){return xF[t]}function OF(t){return EF[t]}function Qs(t){return{fieldPath:t.canonicalString()}}function Xs(t){return Bt.fromServerFormat(t.fieldPath)}function qA(t){return t instanceof Pt?function(n){if(n.op==="=="){if(QE(n.value))return{unaryFilter:{field:Qs(n.field),op:"IS_NAN"}};if(KE(n.value))return{unaryFilter:{field:Qs(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(QE(n.value))return{unaryFilter:{field:Qs(n.field),op:"IS_NOT_NAN"}};if(KE(n.value))return{unaryFilter:{field:Qs(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Qs(n.field),op:MF(n.op),value:n.value}}}(t):t instanceof dr?function(n){const r=n.getFilters().map(i=>qA(i));return r.length===1?r[0]:{compositeFilter:{op:OF(n.op),filters:r}}}(t):ge(54877,{filter:t})}function LF(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function YA(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xi{constructor(e,n,r,i,o=_e.min(),s=_e.min(),a=qt.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new Xi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Xi(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Xi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Xi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VF{constructor(e){this.yt=e}}function jF(t){const e=kF({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?th(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FF{constructor(){this.Cn=new $F}addToCollectionParentIndex(e,n){return this.Cn.add(n),H.resolve()}getCollectionParents(e,n){return H.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return H.resolve()}deleteFieldIndex(e,n){return H.resolve()}deleteAllFieldIndexes(e){return H.resolve()}createTargetIndexes(e,n){return H.resolve()}getDocumentsMatchingTarget(e,n){return H.resolve(null)}getIndexType(e,n){return H.resolve(0)}getFieldIndexes(e,n){return H.resolve([])}getNextCollectionGroupToUpdate(e){return H.resolve(null)}getMinOffset(e,n){return H.resolve(wo.min())}getMinOffsetFromCollectionGroup(e,n){return H.resolve(wo.min())}updateCollectionGroup(e,n,r){return H.resolve()}updateIndexEntries(e,n){return H.resolve()}}class $F{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Dt(Qe.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Dt(Qe.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ub={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},GA=41943040;class vn{static withCacheSize(e){return new vn(e,vn.DEFAULT_COLLECTION_PERCENTILE,vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */vn.DEFAULT_COLLECTION_PERCENTILE=10,vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,vn.DEFAULT=new vn(GA,vn.DEFAULT_COLLECTION_PERCENTILE,vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),vn.DISABLED=new vn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wa{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Wa(0)}static cr(){return new Wa(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const db="LruGarbageCollector",UF=1048576;function fb([t,e],[n,r]){const i=Ae(t,n);return i===0?Ae(e,r):i}class BF{constructor(e){this.Ir=e,this.buffer=new Dt(fb),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();fb(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class WF{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){ne(db,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){dl(n)?ne(db,"Ignoring IndexedDB error during garbage collection: ",n):await ul(n)}await this.Vr(3e5)})}}class zF{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return H.resolve(np.ce);const r=new BF(n);return this.mr.forEachTarget(e,i=>r.Ar(i.sequenceNumber)).next(()=>this.mr.pr(e,i=>r.Ar(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ne("LruGarbageCollector","Garbage collection skipped; disabled"),H.resolve(ub)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(ne("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),ub):this.yr(e,n))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,i,o,s,a,l,c;const u=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(f=>(f>this.params.maximumSequenceNumbersToCollect?(ne("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${f}`),i=this.params.maximumSequenceNumbersToCollect):i=f,s=Date.now(),this.nthSequenceNumber(e,i))).next(f=>(r=f,a=Date.now(),this.removeTargets(e,r,n))).next(f=>(o=f,l=Date.now(),this.removeOrphanedDocuments(e,r))).next(f=>(c=Date.now(),Gs()<=Ie.DEBUG&&ne("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-u}ms
	Determined least recently used ${i} in `+(a-s)+`ms
	Removed ${o} targets in `+(l-a)+`ms
	Removed ${f} documents in `+(c-l)+`ms
Total Duration: ${c-u}ms`),H.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:f})))}}function HF(t,e){return new zF(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qF{constructor(){this.changes=new Is(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,nn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?H.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YF{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GF{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&_c(r.mutation,i,Nn.empty(),it.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Re()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Re()){const i=ns();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(o=>{let s=rc();return o.forEach((a,l)=>{s=s.insert(a,l.overlayedDocument)}),s}))}getOverlayedDocuments(e,n){const r=ns();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Re()))}populateOverlays(e,n,r){const i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{n.set(s,a)})})}computeViews(e,n,r,i){let o=yi();const s=wc(),a=function(){return wc()}();return n.forEach((l,c)=>{const u=r.get(c.key);i.has(c.key)&&(u===void 0||u.mutation instanceof Oo)?o=o.insert(c.key,c):u!==void 0?(s.set(c.key,u.mutation.getFieldMask()),_c(u.mutation,c,u.mutation.getFieldMask(),it.now())):s.set(c.key,Nn.empty())}),this.recalculateAndSaveOverlays(e,o).next(l=>(l.forEach((c,u)=>s.set(c,u)),n.forEach((c,u)=>a.set(c,new YF(u,s.get(c)??null))),a))}recalculateAndSaveOverlays(e,n){const r=wc();let i=new pt((s,a)=>s-a),o=Re();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(s=>{for(const a of s)a.keys().forEach(l=>{const c=n.get(l);if(c===null)return;let u=r.get(l)||Nn.empty();u=a.applyToLocalView(c,u),r.set(l,u);const f=(i.get(a.batchId)||Re()).add(l);i=i.insert(a.batchId,f)})}).next(()=>{const s=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),c=l.key,u=l.value,f=RA();u.forEach(h=>{if(!o.has(h)){const m=LA(n.get(h),r.get(h));m!==null&&f.set(h,m),o=o.add(h)}}),s.push(this.documentOverlayCache.saveOverlays(e,c,f))}return H.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(s){return ce.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):CA(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(o=>{const s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):H.resolve(ns());let a=Qc,l=o;return s.next(c=>H.forEach(c,(u,f)=>(a<f.largestBatchId&&(a=f.largestBatchId),o.get(u)?H.resolve():this.remoteDocumentCache.getEntry(e,u).next(h=>{l=l.insert(u,h)}))).next(()=>this.populateOverlays(e,c,o)).next(()=>this.computeViews(e,l,c,Re())).next(u=>({batchId:a,changes:AA(u)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ce(n)).next(r=>{let i=rc();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const o=n.collectionGroup;let s=rc();return this.indexManager.getCollectionParents(e,o).next(a=>H.forEach(a,l=>{const c=function(f,h){return new fl(h,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,l.child(o));return this.getDocumentsMatchingCollectionQuery(e,c,r,i).next(u=>{u.forEach((f,h)=>{s=s.insert(f,h)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,i))).next(s=>{o.forEach((l,c)=>{const u=c.getKey();s.get(u)===null&&(s=s.insert(u,nn.newInvalidDocument(u)))});let a=rc();return s.forEach((l,c)=>{const u=o.get(l);u!==void 0&&_c(u.mutation,c,Nn.empty(),it.now()),sp(n,c)&&(a=a.insert(l,c))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KF{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return H.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Dr(i.createTime)}}(n)),H.resolve()}getNamedQuery(e,n){return H.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,function(i){return{name:i.name,query:jF(i.bundledQuery),readTime:Dr(i.readTime)}}(n)),H.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QF{constructor(){this.overlays=new pt(ce.comparator),this.qr=new Map}getOverlay(e,n){return H.resolve(this.overlays.get(n))}getOverlays(e,n){const r=ns();return H.forEach(n,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,o)=>{this.St(e,n,o)}),H.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.qr.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.qr.delete(r)),H.resolve()}getOverlaysForCollection(e,n,r){const i=ns(),o=n.length+1,s=new ce(n.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){const l=a.getNext().value,c=l.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===o&&l.largestBatchId>r&&i.set(l.getKey(),l)}return H.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new pt((c,u)=>c-u);const s=this.overlays.getIterator();for(;s.hasNext();){const c=s.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let u=o.get(c.largestBatchId);u===null&&(u=ns(),o=o.insert(c.largestBatchId,u)),u.set(c.getKey(),c)}}const a=ns(),l=o.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,u)=>a.set(c,u)),!(a.size()>=i)););return H.resolve(a)}St(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const s=this.qr.get(i.largestBatchId).delete(r.key);this.qr.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new pF(n,r));let o=this.qr.get(n);o===void 0&&(o=Re(),this.qr.set(n,o)),this.qr.set(n,o.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XF{constructor(){this.sessionToken=qt.EMPTY_BYTE_STRING}getSessionToken(e){return H.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,H.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uw{constructor(){this.Qr=new Dt(Mt.$r),this.Ur=new Dt(Mt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new Mt(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Gr(new Mt(e,n))}zr(e,n){e.forEach(r=>this.removeReference(r,n))}jr(e){const n=new ce(new Qe([])),r=new Mt(n,e),i=new Mt(n,e+1),o=[];return this.Ur.forEachInRange([r,i],s=>{this.Gr(s),o.push(s.key)}),o}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new ce(new Qe([])),r=new Mt(n,e),i=new Mt(n,e+1);let o=Re();return this.Ur.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){const n=new Mt(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Mt{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return ce.comparator(e.key,n.key)||Ae(e.Yr,n.Yr)}static Kr(e,n){return Ae(e.Yr,n.Yr)||ce.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JF{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Dt(Mt.$r)}checkEmpty(e){return H.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const o=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new hF(o,n,r,i);this.mutationQueue.push(s);for(const a of i)this.Zr=this.Zr.add(new Mt(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return H.resolve(s)}lookupMutationBatch(e,n){return H.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.ei(r),o=i<0?0:i;return H.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return H.resolve(this.mutationQueue.length===0?Z0:this.tr-1)}getAllMutationBatches(e){return H.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Mt(n,0),i=new Mt(n,Number.POSITIVE_INFINITY),o=[];return this.Zr.forEachInRange([r,i],s=>{const a=this.Xr(s.Yr);o.push(a)}),H.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Dt(Ae);return n.forEach(i=>{const o=new Mt(i,0),s=new Mt(i,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([o,s],a=>{r=r.add(a.Yr)})}),H.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let o=r;ce.isDocumentKey(o)||(o=o.child(""));const s=new Mt(new ce(o),0);let a=new Dt(Ae);return this.Zr.forEachWhile(l=>{const c=l.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(a=a.add(l.Yr)),!0)},s),H.resolve(this.ti(a))}ti(e){const n=[];return e.forEach(r=>{const i=this.Xr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Be(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return H.forEach(n.mutations,i=>{const o=new Mt(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Zr=r})}ir(e){}containsKey(e,n){const r=new Mt(n,0),i=this.Zr.firstAfterOrEqual(r);return H.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,H.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZF{constructor(e){this.ri=e,this.docs=function(){return new pt(ce.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),o=i?i.size:0,s=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return H.resolve(r?r.document.mutableCopy():nn.newInvalidDocument(n))}getEntries(e,n){let r=yi();return n.forEach(i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():nn.newInvalidDocument(i))}),H.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=yi();const s=n.path,a=new ce(s.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:c,value:{document:u}}=l.getNext();if(!s.isPrefixOf(c.path))break;c.path.length>s.length+1||A5(I5(u),r)<=0||(i.has(u.key)||sp(n,u))&&(o=o.insert(u.key,u.mutableCopy()))}return H.resolve(o)}getAllFromCollectionGroup(e,n,r,i){ge(9500)}ii(e,n){return H.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new e$(this)}getSize(e){return H.resolve(this.size)}}class e$ extends qF{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.Nr.addEntry(e,i)):this.Nr.removeEntry(r)}),H.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t${constructor(e){this.persistence=e,this.si=new Is(n=>nw(n),rw),this.lastRemoteSnapshotVersion=_e.min(),this.highestTargetId=0,this.oi=0,this._i=new uw,this.targetCount=0,this.ai=Wa.ur()}forEachTarget(e,n){return this.si.forEach((r,i)=>n(i)),H.resolve()}getLastRemoteSnapshotVersion(e){return H.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return H.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),H.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),H.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new Wa(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,H.resolve()}updateTargetData(e,n){return this.Pr(n),H.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,H.resolve()}removeTargets(e,n,r){let i=0;const o=[];return this.si.forEach((s,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.si.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),H.waitFor(o).next(()=>i)}getTargetCount(e){return H.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return H.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),H.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),H.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),H.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return H.resolve(r)}containsKey(e,n){return H.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KA{constructor(e,n){this.ui={},this.overlays={},this.ci=new np(0),this.li=!1,this.li=!0,this.hi=new XF,this.referenceDelegate=e(this),this.Pi=new t$(this),this.indexManager=new FF,this.remoteDocumentCache=function(i){return new ZF(i)}(r=>this.referenceDelegate.Ti(r)),this.serializer=new VF(n),this.Ii=new KF(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new QF,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new JF(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){ne("MemoryPersistence","Starting transaction:",e);const i=new n$(this.ci.next());return this.referenceDelegate.Ei(),r(i).next(o=>this.referenceDelegate.di(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Ai(e,n){return H.or(Object.values(this.ui).map(r=>()=>r.containsKey(e,n)))}}class n$ extends k5{constructor(e){super(),this.currentSequenceNumber=e}}class dw{constructor(e){this.persistence=e,this.Ri=new uw,this.Vi=null}static mi(e){return new dw(e)}get fi(){if(this.Vi)return this.Vi;throw ge(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),H.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),H.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),H.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach(i=>this.fi.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(o=>this.fi.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return H.forEach(this.fi,r=>{const i=ce.fromPath(r);return this.gi(e,i).next(o=>{o||n.removeEntry(i,_e.min())})}).next(()=>(this.Vi=null,n.apply(e)))}updateLimboDocument(e,n){return this.gi(e,n).next(r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())})}Ti(e){return 0}gi(e,n){return H.or([()=>H.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class oh{constructor(e,n){this.persistence=e,this.pi=new Is(r=>M5(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=HF(this,n)}static mi(e,n){return new oh(e,n)}Ei(){}di(e){return H.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}wr(e){let n=0;return this.pr(e,r=>{n++}).next(()=>n)}pr(e,n){return H.forEach(this.pi,(r,i)=>this.br(e,r,i).next(o=>o?H.resolve():n(i)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),o=i.newChangeBuffer();return i.ii(e,s=>this.br(e,s,n).next(a=>{a||(r++,o.removeEntry(s,_e.min()))})).next(()=>o.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),H.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),H.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),H.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),H.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=lf(e.data.value)),n}br(e,n,r){return H.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.pi.get(n);return H.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fw{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=i}static As(e,n){let r=Re(),i=Re();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new fw(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r${constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i${constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return Kj()?8:D5(sn())>0?6:4}()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,i){const o={result:null};return this.ys(e,n).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.ws(e,n,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;const s=new r$;return this.Ss(e,n,s).next(a=>{if(o.result=a,this.Vs)return this.bs(e,n,s,a.size)})}).next(()=>o.result)}bs(e,n,r,i){return r.documentReadCount<this.fs?(Gs()<=Ie.DEBUG&&ne("QueryEngine","SDK will not create cache indexes for query:",Ks(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),H.resolve()):(Gs()<=Ie.DEBUG&&ne("QueryEngine","Query:",Ks(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.gs*i?(Gs()<=Ie.DEBUG&&ne("QueryEngine","The SDK decides to create cache indexes for query:",Ks(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,kr(n))):H.resolve())}ys(e,n){if(eb(n))return H.resolve(null);let r=kr(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=th(n,null,"F"),r=kr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const s=Re(...o);return this.ps.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const c=this.Ds(n,a);return this.Cs(n,c,s,l.readTime)?this.ys(e,th(n,null,"F")):this.vs(e,c,n,l)}))})))}ws(e,n,r,i){return eb(n)||i.isEqual(_e.min())?H.resolve(null):this.ps.getDocuments(e,r).next(o=>{const s=this.Ds(n,o);return this.Cs(n,s,r,i)?H.resolve(null):(Gs()<=Ie.DEBUG&&ne("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Ks(n)),this.vs(e,s,n,P5(i,Qc)).next(a=>a))})}Ds(e,n){let r=new Dt(PA(e));return n.forEach((i,o)=>{sp(e,o)&&(r=r.add(o))}),r}Cs(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Ss(e,n,r){return Gs()<=Ie.DEBUG&&ne("QueryEngine","Using full collection scan to execute query:",Ks(n)),this.ps.getDocumentsMatchingQuery(e,n,wo.min(),r)}vs(e,n,r,i){return this.ps.getDocumentsMatchingQuery(e,r,i).next(o=>(n.forEach(s=>{o=o.insert(s.key,s)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hw="LocalStore",o$=3e8;class s${constructor(e,n,r,i){this.persistence=e,this.Fs=n,this.serializer=i,this.Ms=new pt(Ae),this.xs=new Is(o=>nw(o),rw),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new GF(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ms))}}function a$(t,e,n,r){return new s$(t,e,n,r)}async function QA(t,e){const n=xe(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n.Bs(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{const s=[],a=[];let l=Re();for(const c of i){s.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}for(const c of o){a.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}return n.localDocuments.getDocuments(r,l).next(c=>({Ls:c,removedBatchIds:s,addedBatchIds:a}))})})}function l$(t,e){const n=xe(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),o=n.Ns.newChangeBuffer({trackRemovals:!0});return function(a,l,c,u){const f=c.batch,h=f.keys();let m=H.resolve();return h.forEach(_=>{m=m.next(()=>u.getEntry(l,_)).next(v=>{const E=c.docVersions.get(_);Be(E!==null,48541),v.version.compareTo(E)<0&&(f.applyToRemoteDocument(v,c),v.isValidDocument()&&(v.setReadTime(c.commitVersion),u.addEntry(v)))})}),m.next(()=>a.mutationQueue.removeMutationBatch(l,f))}(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=Re();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(l=l.add(a.batch.mutations[c].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function XA(t){const e=xe(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Pi.getLastRemoteSnapshotVersion(n))}function c$(t,e){const n=xe(t),r=e.snapshotVersion;let i=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const s=n.Ns.newChangeBuffer({trackRemovals:!0});i=n.Ms;const a=[];e.targetChanges.forEach((u,f)=>{const h=i.get(f);if(!h)return;a.push(n.Pi.removeMatchingKeys(o,u.removedDocuments,f).next(()=>n.Pi.addMatchingKeys(o,u.addedDocuments,f)));let m=h.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(f)!==null?m=m.withResumeToken(qt.EMPTY_BYTE_STRING,_e.min()).withLastLimboFreeSnapshotVersion(_e.min()):u.resumeToken.approximateByteSize()>0&&(m=m.withResumeToken(u.resumeToken,r)),i=i.insert(f,m),function(v,E,x){return v.resumeToken.approximateByteSize()===0||E.snapshotVersion.toMicroseconds()-v.snapshotVersion.toMicroseconds()>=o$?!0:x.addedDocuments.size+x.modifiedDocuments.size+x.removedDocuments.size>0}(h,m,u)&&a.push(n.Pi.updateTargetData(o,m))});let l=yi(),c=Re();if(e.documentUpdates.forEach(u=>{e.resolvedLimboDocuments.has(u)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(o,u))}),a.push(u$(o,s,e.documentUpdates).next(u=>{l=u.ks,c=u.qs})),!r.isEqual(_e.min())){const u=n.Pi.getLastRemoteSnapshotVersion(o).next(f=>n.Pi.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(u)}return H.waitFor(a).next(()=>s.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,l,c)).next(()=>l)}).then(o=>(n.Ms=i,o))}function u$(t,e,n){let r=Re(),i=Re();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let s=yi();return n.forEach((a,l)=>{const c=o.get(a);l.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(_e.min())?(e.removeEntry(a,l.readTime),s=s.insert(a,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(l),s=s.insert(a,l)):ne(hw,"Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",l.version)}),{ks:s,qs:i}})}function d$(t,e){const n=xe(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=Z0),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function f$(t,e){const n=xe(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Pi.getTargetData(r,e).next(o=>o?(i=o,H.resolve(i)):n.Pi.allocateTargetId(r).next(s=>(i=new Xi(e,s,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.Ms.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r})}async function ay(t,e,n){const r=xe(t),i=r.Ms.get(e),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i))}catch(s){if(!dl(s))throw s;ne(hw,`Failed to update sequence numbers for target ${e}: ${s}`)}r.Ms=r.Ms.remove(e),r.xs.delete(i.target)}function hb(t,e,n){const r=xe(t);let i=_e.min(),o=Re();return r.persistence.runTransaction("Execute query","readwrite",s=>function(l,c,u){const f=xe(l),h=f.xs.get(u);return h!==void 0?H.resolve(f.Ms.get(h)):f.Pi.getTargetData(c,u)}(r,s,kr(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(s,a.targetId).next(l=>{o=l})}).next(()=>r.Fs.getDocumentsMatchingQuery(s,e,n?i:_e.min(),n?o:Re())).next(a=>(h$(r,J5(e),a),{documents:a,Qs:o})))}function h$(t,e,n){let r=t.Os.get(e)||_e.min();n.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.Os.set(e,r)}class pb{constructor(){this.activeTargetIds=iF()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class p${constructor(){this.Mo=new pb,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new pb,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m${Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mb="ConnectivityMonitor";class gb{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ne(mb,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){ne(mb,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ad=null;function ly(){return Ad===null?Ad=function(){return 268435456+Math.round(2147483648*Math.random())}():Ad++,"0x"+Ad.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rg="RestConnection",g$={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class v${get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${i}`,this.Wo=this.databaseId.database===Jf?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Go(e,n,r,i,o){const s=ly(),a=this.zo(e,n.toUriEncodedString());ne(rg,`Sending RPC '${e}' ${s}:`,a,r);const l={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(l,i,o);const{host:c}=new URL(a),u=al(c);return this.Jo(e,a,l,r,u).then(f=>(ne(rg,`Received RPC '${e}' ${s}: `,f),f),f=>{throw Fa(rg,`RPC '${e}' ${s} failed with error: `,f,"url: ",a,"request:",r),f})}Ho(e,n,r,i,o,s){return this.Go(e,n,r,i,o)}jo(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+cl}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,o)=>e[o]=i),r&&r.headers.forEach((i,o)=>e[o]=i)}zo(e,n){const r=g$[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y${constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jt="WebChannelConnection";class w$ extends v${constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,i,o){const s=ly();return new Promise((a,l)=>{const c=new ZI;c.setWithCredentials(!0),c.listenOnce(eA.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case af.NO_ERROR:const f=c.getResponseJson();ne(Jt,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(f)),a(f);break;case af.TIMEOUT:ne(Jt,`RPC '${e}' ${s} timed out`),l(new Z(z.DEADLINE_EXCEEDED,"Request time out"));break;case af.HTTP_ERROR:const h=c.getStatus();if(ne(Jt,`RPC '${e}' ${s} failed with status:`,h,"response text:",c.getResponseText()),h>0){let m=c.getResponseJson();Array.isArray(m)&&(m=m[0]);const _=m==null?void 0:m.error;if(_&&_.status&&_.message){const v=function(x){const y=x.toLowerCase().replace(/_/g,"-");return Object.values(z).indexOf(y)>=0?y:z.UNKNOWN}(_.status);l(new Z(v,_.message))}else l(new Z(z.UNKNOWN,"Server responded with status "+c.getStatus()))}else l(new Z(z.UNAVAILABLE,"Connection failed."));break;default:ge(9055,{l_:e,streamId:s,h_:c.getLastErrorCode(),P_:c.getLastError()})}}finally{ne(Jt,`RPC '${e}' ${s} completed.`)}});const u=JSON.stringify(i);ne(Jt,`RPC '${e}' ${s} sending request:`,i),c.send(n,"POST",u,r,15)})}T_(e,n,r){const i=ly(),o=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=rA(),a=nA(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.useFetchStreams=!0),this.jo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const u=o.join("");ne(Jt,`Creating RPC '${e}' stream ${i}: ${u}`,l);const f=s.createWebChannel(u,l);this.I_(f);let h=!1,m=!1;const _=new y$({Yo:E=>{m?ne(Jt,`Not sending because RPC '${e}' stream ${i} is closed:`,E):(h||(ne(Jt,`Opening RPC '${e}' stream ${i} transport.`),f.open(),h=!0),ne(Jt,`RPC '${e}' stream ${i} sending:`,E),f.send(E))},Zo:()=>f.close()}),v=(E,x,y)=>{E.listen(x,b=>{try{y(b)}catch(P){setTimeout(()=>{throw P},0)}})};return v(f,nc.EventType.OPEN,()=>{m||(ne(Jt,`RPC '${e}' stream ${i} transport opened.`),_.o_())}),v(f,nc.EventType.CLOSE,()=>{m||(m=!0,ne(Jt,`RPC '${e}' stream ${i} transport closed`),_.a_(),this.E_(f))}),v(f,nc.EventType.ERROR,E=>{m||(m=!0,Fa(Jt,`RPC '${e}' stream ${i} transport errored. Name:`,E.name,"Message:",E.message),_.a_(new Z(z.UNAVAILABLE,"The operation could not be completed")))}),v(f,nc.EventType.MESSAGE,E=>{var x;if(!m){const y=E.data[0];Be(!!y,16349);const b=y,P=(b==null?void 0:b.error)||((x=b[0])==null?void 0:x.error);if(P){ne(Jt,`RPC '${e}' stream ${i} received error:`,P);const N=P.status;let M=function(I){const A=Tt[I];if(A!==void 0)return jA(A)}(N),S=P.message;M===void 0&&(M=z.INTERNAL,S="Unknown error status: "+N+" with message "+P.message),m=!0,_.a_(new Z(M,S)),f.close()}else ne(Jt,`RPC '${e}' stream ${i} received:`,y),_.u_(y)}}),v(a,tA.STAT_EVENT,E=>{E.stat===Qv.PROXY?ne(Jt,`RPC '${e}' stream ${i} detected buffering proxy`):E.stat===Qv.NOPROXY&&ne(Jt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{_.__()},0),_}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(n=>n===e)}}function ig(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function up(t){return new bF(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JA{constructor(e,n,r=1e3,i=1.5,o=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=i,this.R_=o,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),i=Math.max(0,n-r);i>0&&ne("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,i,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vb="PersistentStream";class ZA{constructor(e,n,r,i,o,s,a,l){this.Mi=e,this.S_=r,this.b_=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new JA(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===z.RESOURCE_EXHAUSTED?(gi(n.toString()),gi("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===z.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.D_===n&&this.G_(r,i)},r=>{e(()=>{const i=new Z(z.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(i)})})}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo(()=>{r(()=>this.listener.Xo())}),this.stream.t_(()=>{r(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(i=>{r(()=>this.z_(i))}),this.stream.onMessage(i=>{r(()=>++this.F_==1?this.J_(i):this.onNext(i))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return ne(vb,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget(()=>this.D_===e?n():(ne(vb,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class _$ extends ZA{constructor(e,n,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=SF(this.serializer,e),r=function(o){if(!("targetChange"in o))return _e.min();const s=o.targetChange;return s.targetIds&&s.targetIds.length?_e.min():s.readTime?Dr(s.readTime):_e.min()}(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=sy(this.serializer),n.addTarget=function(o,s){let a;const l=s.target;if(a=ty(l)?{documents:AF(o,l)}:{query:RF(o,l).ft},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=UA(o,s.resumeToken);const c=ry(o,s.expectedCount);c!==null&&(a.expectedCount=c)}else if(s.snapshotVersion.compareTo(_e.min())>0){a.readTime=ih(o,s.snapshotVersion.toTimestamp());const c=ry(o,s.expectedCount);c!==null&&(a.expectedCount=c)}return a}(this.serializer,e);const r=DF(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=sy(this.serializer),n.removeTarget=e,this.q_(n)}}class x$ extends ZA{constructor(e,n,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return Be(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Be(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Be(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=IF(e.writeResults,e.commitTime),r=Dr(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=sy(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>PF(this.serializer,r))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E${}class b$ extends E${constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new Z(z.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Go(e,iy(n,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Z(z.UNKNOWN,o.toString())})}Ho(e,n,r,i,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Ho(e,iy(n,r),i,s,a,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Z(z.UNKNOWN,s.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class T${constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(gi(n),this.aa=!1):ne("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vs="RemoteStore";class C${constructor(e,n,r,i,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=o,this.Aa.Oo(s=>{r.enqueueAndForget(async()=>{As(this)&&(ne(vs,"Restarting streams for network reachability change."),await async function(l){const c=xe(l);c.Ea.add(4),await Pu(c),c.Ra.set("Unknown"),c.Ea.delete(4),await dp(c)}(this))})}),this.Ra=new T$(r,i)}}async function dp(t){if(As(t))for(const e of t.da)await e(!0)}async function Pu(t){for(const e of t.da)await e(!1)}function eR(t,e){const n=xe(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),vw(n)?gw(n):hl(n).O_()&&mw(n,e))}function pw(t,e){const n=xe(t),r=hl(n);n.Ia.delete(e),r.O_()&&tR(n,e),n.Ia.size===0&&(r.O_()?r.L_():As(n)&&n.Ra.set("Unknown"))}function mw(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(_e.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}hl(t).Y_(e)}function tR(t,e){t.Va.Ue(e),hl(t).Z_(e)}function gw(t){t.Va=new wF({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),hl(t).start(),t.Ra.ua()}function vw(t){return As(t)&&!hl(t).x_()&&t.Ia.size>0}function As(t){return xe(t).Ea.size===0}function nR(t){t.Va=void 0}async function S$(t){t.Ra.set("Online")}async function P$(t){t.Ia.forEach((e,n)=>{mw(t,e)})}async function I$(t,e){nR(t),vw(t)?(t.Ra.ha(e),gw(t)):t.Ra.set("Unknown")}async function A$(t,e,n){if(t.Ra.set("Online"),e instanceof $A&&e.state===2&&e.cause)try{await async function(i,o){const s=o.cause;for(const a of o.targetIds)i.Ia.has(a)&&(await i.remoteSyncer.rejectListen(a,s),i.Ia.delete(a),i.Va.removeTarget(a))}(t,e)}catch(r){ne(vs,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await sh(t,r)}else if(e instanceof df?t.Va.Ze(e):e instanceof FA?t.Va.st(e):t.Va.tt(e),!n.isEqual(_e.min()))try{const r=await XA(t.localStore);n.compareTo(r)>=0&&await function(o,s){const a=o.Va.Tt(s);return a.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const u=o.Ia.get(c);u&&o.Ia.set(c,u.withResumeToken(l.resumeToken,s))}}),a.targetMismatches.forEach((l,c)=>{const u=o.Ia.get(l);if(!u)return;o.Ia.set(l,u.withResumeToken(qt.EMPTY_BYTE_STRING,u.snapshotVersion)),tR(o,l);const f=new Xi(u.target,l,c,u.sequenceNumber);mw(o,f)}),o.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){ne(vs,"Failed to raise snapshot:",r),await sh(t,r)}}async function sh(t,e,n){if(!dl(e))throw e;t.Ea.add(1),await Pu(t),t.Ra.set("Offline"),n||(n=()=>XA(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{ne(vs,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await dp(t)})}function rR(t,e){return e().catch(n=>sh(t,n,e))}async function fp(t){const e=xe(t),n=bo(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Z0;for(;R$(e);)try{const i=await d$(e.localStore,r);if(i===null){e.Ta.length===0&&n.L_();break}r=i.batchId,k$(e,i)}catch(i){await sh(e,i)}iR(e)&&oR(e)}function R$(t){return As(t)&&t.Ta.length<10}function k$(t,e){t.Ta.push(e);const n=bo(t);n.O_()&&n.X_&&n.ea(e.mutations)}function iR(t){return As(t)&&!bo(t).x_()&&t.Ta.length>0}function oR(t){bo(t).start()}async function D$(t){bo(t).ra()}async function N$(t){const e=bo(t);for(const n of t.Ta)e.ea(n.mutations)}async function M$(t,e,n){const r=t.Ta.shift(),i=aw.from(r,e,n);await rR(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await fp(t)}async function O$(t,e){e&&bo(t).X_&&await async function(r,i){if(function(s){return gF(s)&&s!==z.ABORTED}(i.code)){const o=r.Ta.shift();bo(r).B_(),await rR(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),await fp(r)}}(t,e),iR(t)&&oR(t)}async function yb(t,e){const n=xe(t);n.asyncQueue.verifyOperationInProgress(),ne(vs,"RemoteStore received new credentials");const r=As(n);n.Ea.add(3),await Pu(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await dp(n)}async function L$(t,e){const n=xe(t);e?(n.Ea.delete(2),await dp(n)):e||(n.Ea.add(2),await Pu(n),n.Ra.set("Unknown"))}function hl(t){return t.ma||(t.ma=function(n,r,i){const o=xe(n);return o.sa(),new _$(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Xo:S$.bind(null,t),t_:P$.bind(null,t),r_:I$.bind(null,t),H_:A$.bind(null,t)}),t.da.push(async e=>{e?(t.ma.B_(),vw(t)?gw(t):t.Ra.set("Unknown")):(await t.ma.stop(),nR(t))})),t.ma}function bo(t){return t.fa||(t.fa=function(n,r,i){const o=xe(n);return o.sa(),new x$(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:D$.bind(null,t),r_:O$.bind(null,t),ta:N$.bind(null,t),na:M$.bind(null,t)}),t.da.push(async e=>{e?(t.fa.B_(),await fp(t)):(await t.fa.stop(),t.Ta.length>0&&(ne(vs,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))})),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yw{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new si,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){const s=Date.now()+r,a=new yw(e,n,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Z(z.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ww(t,e){if(gi("AsyncQueue",`${e}: ${t}`),dl(t))return new Z(z.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ea{static emptySet(e){return new Ea(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||ce.comparator(n.key,r.key):(n,r)=>ce.comparator(n.key,r.key),this.keyedMap=rc(),this.sortedSet=new pt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Ea)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Ea;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wb{constructor(){this.ga=new pt(ce.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):ge(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal((n,r)=>{e.push(r)}),e}}class za{constructor(e,n,r,i,o,s,a,l,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,i,o){const s=[];return n.forEach(a=>{s.push({type:0,doc:a})}),new za(e,n,Ea.emptySet(n),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&op(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V${constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class j${constructor(){this.queries=_b(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const i=xe(n),o=i.queries;i.queries=_b(),o.forEach((s,a)=>{for(const l of a.Sa)l.onError(r)})})(this,new Z(z.ABORTED,"Firestore shutting down"))}}function _b(){return new Is(t=>SA(t),op)}async function sR(t,e){const n=xe(t);let r=3;const i=e.query;let o=n.queries.get(i);o?!o.ba()&&e.Da()&&(r=2):(o=new V$,r=e.Da()?0:1);try{switch(r){case 0:o.wa=await n.onListen(i,!0);break;case 1:o.wa=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(s){const a=ww(s,`Initialization of query '${Ks(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,o),o.Sa.push(e),e.va(n.onlineState),o.wa&&e.Fa(o.wa)&&_w(n)}async function aR(t,e){const n=xe(t),r=e.query;let i=3;const o=n.queries.get(r);if(o){const s=o.Sa.indexOf(e);s>=0&&(o.Sa.splice(s,1),o.Sa.length===0?i=e.Da()?0:1:!o.ba()&&e.Da()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function F$(t,e){const n=xe(t);let r=!1;for(const i of e){const o=i.query,s=n.queries.get(o);if(s){for(const a of s.Sa)a.Fa(i)&&(r=!0);s.wa=i}}r&&_w(n)}function $$(t,e,n){const r=xe(t),i=r.queries.get(e);if(i)for(const o of i.Sa)o.onError(n);r.queries.delete(e)}function _w(t){t.Ca.forEach(e=>{e.next()})}var cy,xb;(xb=cy||(cy={})).Ma="default",xb.Cache="cache";class lR{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new za(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=za.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==cy.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cR{constructor(e){this.key=e}}class uR{constructor(e){this.key=e}}class U${constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Re(),this.mutatedKeys=Re(),this.eu=PA(e),this.tu=new Ea(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new wb,i=n?n.tu:this.tu;let o=n?n.mutatedKeys:this.mutatedKeys,s=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,c=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((u,f)=>{const h=i.get(u),m=sp(this.query,f)?f:null,_=!!h&&this.mutatedKeys.has(h.key),v=!!m&&(m.hasLocalMutations||this.mutatedKeys.has(m.key)&&m.hasCommittedMutations);let E=!1;h&&m?h.data.isEqual(m.data)?_!==v&&(r.track({type:3,doc:m}),E=!0):this.su(h,m)||(r.track({type:2,doc:m}),E=!0,(l&&this.eu(m,l)>0||c&&this.eu(m,c)<0)&&(a=!0)):!h&&m?(r.track({type:0,doc:m}),E=!0):h&&!m&&(r.track({type:1,doc:h}),E=!0,(l||c)&&(a=!0)),E&&(m?(s=s.add(m),o=v?o.add(u):o.delete(u)):(s=s.delete(u),o=o.delete(u)))}),this.query.limit!==null)for(;s.size>this.query.limit;){const u=this.query.limitType==="F"?s.last():s.first();s=s.delete(u.key),o=o.delete(u.key),r.track({type:1,doc:u})}return{tu:s,iu:r,Cs:a,mutatedKeys:o}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const o=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const s=e.iu.ya();s.sort((u,f)=>function(m,_){const v=E=>{switch(E){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ge(20277,{Rt:E})}};return v(m)-v(_)}(u.type,f.type)||this.eu(u.doc,f.doc)),this.ou(r),i=i??!1;const a=n&&!i?this._u():[],l=this.Xa.size===0&&this.current&&!i?1:0,c=l!==this.Za;return this.Za=l,s.length!==0||c?{snapshot:new za(this.query,e.tu,o,s,e.mutatedKeys,l===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:a}:{au:a}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new wb,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(n=>this.Ya=this.Ya.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ya=this.Ya.delete(n)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Re(),this.tu.forEach(r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))});const n=[];return e.forEach(r=>{this.Xa.has(r)||n.push(new uR(r))}),this.Xa.forEach(r=>{e.has(r)||n.push(new cR(r))}),n}cu(e){this.Ya=e.Qs,this.Xa=Re();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return za.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const xw="SyncEngine";class B${constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class W${constructor(e){this.key=e,this.hu=!1}}class z${constructor(e,n,r,i,o,s){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.Pu={},this.Tu=new Is(a=>SA(a),op),this.Iu=new Map,this.Eu=new Set,this.du=new pt(ce.comparator),this.Au=new Map,this.Ru=new uw,this.Vu={},this.mu=new Map,this.fu=Wa.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function H$(t,e,n=!0){const r=gR(t);let i;const o=r.Tu.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.lu()):i=await dR(r,e,n,!0),i}async function q$(t,e){const n=gR(t);await dR(n,e,!0,!1)}async function dR(t,e,n,r){const i=await f$(t.localStore,kr(e)),o=i.targetId,s=t.sharedClientState.addLocalQueryTarget(o,n);let a;return r&&(a=await Y$(t,e,o,s==="current",i.resumeToken)),t.isPrimaryClient&&n&&eR(t.remoteStore,i),a}async function Y$(t,e,n,r,i){t.pu=(f,h,m)=>async function(v,E,x,y){let b=E.view.ru(x);b.Cs&&(b=await hb(v.localStore,E.query,!1).then(({documents:S})=>E.view.ru(S,b)));const P=y&&y.targetChanges.get(E.targetId),N=y&&y.targetMismatches.get(E.targetId)!=null,M=E.view.applyChanges(b,v.isPrimaryClient,P,N);return bb(v,E.targetId,M.au),M.snapshot}(t,f,h,m);const o=await hb(t.localStore,e,!0),s=new U$(e,o.Qs),a=s.ru(o.documents),l=Su.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),c=s.applyChanges(a,t.isPrimaryClient,l);bb(t,n,c.au);const u=new B$(e,n,s);return t.Tu.set(e,u),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),c.snapshot}async function G$(t,e,n){const r=xe(t),i=r.Tu.get(e),o=r.Iu.get(i.targetId);if(o.length>1)return r.Iu.set(i.targetId,o.filter(s=>!op(s,e))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await ay(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&pw(r.remoteStore,i.targetId),uy(r,i.targetId)}).catch(ul)):(uy(r,i.targetId),await ay(r.localStore,i.targetId,!0))}async function K$(t,e){const n=xe(t),r=n.Tu.get(e),i=n.Iu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),pw(n.remoteStore,r.targetId))}async function Q$(t,e,n){const r=r6(t);try{const i=await function(s,a){const l=xe(s),c=it.now(),u=a.reduce((m,_)=>m.add(_.key),Re());let f,h;return l.persistence.runTransaction("Locally write mutations","readwrite",m=>{let _=yi(),v=Re();return l.Ns.getEntries(m,u).next(E=>{_=E,_.forEach((x,y)=>{y.isValidDocument()||(v=v.add(x))})}).next(()=>l.localDocuments.getOverlayedDocuments(m,_)).next(E=>{f=E;const x=[];for(const y of a){const b=dF(y,f.get(y.key).overlayedDocument);b!=null&&x.push(new Oo(y.key,b,yA(b.value.mapValue),cr.exists(!0)))}return l.mutationQueue.addMutationBatch(m,c,x,a)}).next(E=>{h=E;const x=E.applyToLocalDocumentSet(f,v);return l.documentOverlayCache.saveOverlays(m,E.batchId,x)})}).then(()=>({batchId:h.batchId,changes:AA(f)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,a,l){let c=s.Vu[s.currentUser.toKey()];c||(c=new pt(Ae)),c=c.insert(a,l),s.Vu[s.currentUser.toKey()]=c}(r,i.batchId,n),await Iu(r,i.changes),await fp(r.remoteStore)}catch(i){const o=ww(i,"Failed to persist write");n.reject(o)}}async function fR(t,e){const n=xe(t);try{const r=await c$(n.localStore,e);e.targetChanges.forEach((i,o)=>{const s=n.Au.get(o);s&&(Be(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?s.hu=!0:i.modifiedDocuments.size>0?Be(s.hu,14607):i.removedDocuments.size>0&&(Be(s.hu,42227),s.hu=!1))}),await Iu(n,r,e)}catch(r){await ul(r)}}function Eb(t,e,n){const r=xe(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Tu.forEach((o,s)=>{const a=s.view.va(e);a.snapshot&&i.push(a.snapshot)}),function(s,a){const l=xe(s);l.onlineState=a;let c=!1;l.queries.forEach((u,f)=>{for(const h of f.Sa)h.va(a)&&(c=!0)}),c&&_w(l)}(r.eventManager,e),i.length&&r.Pu.H_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function X$(t,e,n){const r=xe(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Au.get(e),o=i&&i.key;if(o){let s=new pt(ce.comparator);s=s.insert(o,nn.newNoDocument(o,_e.min()));const a=Re().add(o),l=new cp(_e.min(),new Map,new pt(Ae),s,a);await fR(r,l),r.du=r.du.remove(o),r.Au.delete(e),Ew(r)}else await ay(r.localStore,e,!1).then(()=>uy(r,e,n)).catch(ul)}async function J$(t,e){const n=xe(t),r=e.batch.batchId;try{const i=await l$(n.localStore,e);pR(n,r,null),hR(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Iu(n,i)}catch(i){await ul(i)}}async function Z$(t,e,n){const r=xe(t);try{const i=await function(s,a){const l=xe(s);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let u;return l.mutationQueue.lookupMutationBatch(c,a).next(f=>(Be(f!==null,37113),u=f.keys(),l.mutationQueue.removeMutationBatch(c,f))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,u,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,u)).next(()=>l.localDocuments.getDocuments(c,u))})}(r.localStore,e);pR(r,e,n),hR(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Iu(r,i)}catch(i){await ul(i)}}function hR(t,e){(t.mu.get(e)||[]).forEach(n=>{n.resolve()}),t.mu.delete(e)}function pR(t,e,n){const r=xe(t);let i=r.Vu[r.currentUser.toKey()];if(i){const o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.Vu[r.currentUser.toKey()]=i}}function uy(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach(r=>{t.Ru.containsKey(r)||mR(t,r)})}function mR(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(pw(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),Ew(t))}function bb(t,e,n){for(const r of n)r instanceof cR?(t.Ru.addReference(r.key,e),e6(t,r)):r instanceof uR?(ne(xw,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||mR(t,r.key)):ge(19791,{wu:r})}function e6(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(ne(xw,"New document in limbo: "+n),t.Eu.add(r),Ew(t))}function Ew(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new ce(Qe.fromString(e)),r=t.fu.next();t.Au.set(r,new W$(n)),t.du=t.du.insert(n,r),eR(t.remoteStore,new Xi(kr(iw(n.path)),r,"TargetPurposeLimboResolution",np.ce))}}async function Iu(t,e,n){const r=xe(t),i=[],o=[],s=[];r.Tu.isEmpty()||(r.Tu.forEach((a,l)=>{s.push(r.pu(l,e,n).then(c=>{var u;if((c||n)&&r.isPrimaryClient){const f=c?!c.fromCache:(u=n==null?void 0:n.targetChanges.get(l.targetId))==null?void 0:u.current;r.sharedClientState.updateQueryState(l.targetId,f?"current":"not-current")}if(c){i.push(c);const f=fw.As(l.targetId,c);o.push(f)}}))}),await Promise.all(s),r.Pu.H_(i),await async function(l,c){const u=xe(l);try{await u.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>H.forEach(c,h=>H.forEach(h.Es,m=>u.persistence.referenceDelegate.addReference(f,h.targetId,m)).next(()=>H.forEach(h.ds,m=>u.persistence.referenceDelegate.removeReference(f,h.targetId,m)))))}catch(f){if(!dl(f))throw f;ne(hw,"Failed to update sequence numbers: "+f)}for(const f of c){const h=f.targetId;if(!f.fromCache){const m=u.Ms.get(h),_=m.snapshotVersion,v=m.withLastLimboFreeSnapshotVersion(_);u.Ms=u.Ms.insert(h,v)}}}(r.localStore,o))}async function t6(t,e){const n=xe(t);if(!n.currentUser.isEqual(e)){ne(xw,"User change. New user:",e.toKey());const r=await QA(n.localStore,e);n.currentUser=e,function(o,s){o.mu.forEach(a=>{a.forEach(l=>{l.reject(new Z(z.CANCELLED,s))})}),o.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Iu(n,r.Ls)}}function n6(t,e){const n=xe(t),r=n.Au.get(e);if(r&&r.hu)return Re().add(r.key);{let i=Re();const o=n.Iu.get(e);if(!o)return i;for(const s of o){const a=n.Tu.get(s);i=i.unionWith(a.view.nu)}return i}}function gR(t){const e=xe(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=fR.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=n6.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=X$.bind(null,e),e.Pu.H_=F$.bind(null,e.eventManager),e.Pu.yu=$$.bind(null,e.eventManager),e}function r6(t){const e=xe(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=J$.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Z$.bind(null,e),e}class ah{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=up(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return a$(this.persistence,new i$,e.initialUser,this.serializer)}Cu(e){return new KA(dw.mi,this.serializer)}Du(e){return new p$}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}ah.provider={build:()=>new ah};class i6 extends ah{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Be(this.persistence.referenceDelegate instanceof oh,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new WF(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?vn.withCacheSize(this.cacheSizeBytes):vn.DEFAULT;return new KA(r=>oh.mi(r,n),this.serializer)}}class dy{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Eb(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=t6.bind(null,this.syncEngine),await L$(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new j$}()}createDatastore(e){const n=up(e.databaseInfo.databaseId),r=function(o){return new w$(o)}(e.databaseInfo);return function(o,s,a,l){return new b$(o,s,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,o,s,a){return new C$(r,i,o,s,a)}(this.localStore,this.datastore,e.asyncQueue,n=>Eb(this.syncEngine,n,0),function(){return gb.v()?new gb:new m$}())}createSyncEngine(e,n){return function(i,o,s,a,l,c,u){const f=new z$(i,o,s,a,l,c);return u&&(f.gu=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const o=xe(i);ne(vs,"RemoteStore shutting down."),o.Ea.add(5),await Pu(o),o.Aa.shutdown(),o.Ra.set("Unknown")}(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}dy.provider={build:()=>new dy};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vR{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):gi("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const To="FirestoreClient";class o6{constructor(e,n,r,i,o){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=en.UNAUTHENTICATED,this.clientId=J0.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,async s=>{ne(To,"Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(ne(To,"Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new si;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=ww(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function og(t,e){t.asyncQueue.verifyOperationInProgress(),ne(To,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await QA(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function Tb(t,e){t.asyncQueue.verifyOperationInProgress();const n=await s6(t);ne(To,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>yb(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>yb(e.remoteStore,i)),t._onlineComponents=e}async function s6(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){ne(To,"Using user provided OfflineComponentProvider");try{await og(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===z.FAILED_PRECONDITION||i.code===z.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;Fa("Error using user provided cache. Falling back to memory cache: "+n),await og(t,new ah)}}else ne(To,"Using default OfflineComponentProvider"),await og(t,new i6(void 0));return t._offlineComponents}async function yR(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(ne(To,"Using user provided OnlineComponentProvider"),await Tb(t,t._uninitializedComponentsProvider._online)):(ne(To,"Using default OnlineComponentProvider"),await Tb(t,new dy))),t._onlineComponents}function a6(t){return yR(t).then(e=>e.syncEngine)}async function wR(t){const e=await yR(t),n=e.eventManager;return n.onListen=H$.bind(null,e.syncEngine),n.onUnlisten=G$.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=q$.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=K$.bind(null,e.syncEngine),n}function l6(t,e,n={}){const r=new si;return t.asyncQueue.enqueueAndForget(async()=>function(o,s,a,l,c){const u=new vR({next:h=>{u.Nu(),s.enqueueAndForget(()=>aR(o,f));const m=h.docs.has(a);!m&&h.fromCache?c.reject(new Z(z.UNAVAILABLE,"Failed to get document because the client is offline.")):m&&h.fromCache&&l&&l.source==="server"?c.reject(new Z(z.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(h)},error:h=>c.reject(h)}),f=new lR(iw(a.path),u,{includeMetadataChanges:!0,qa:!0});return sR(o,f)}(await wR(t),t.asyncQueue,e,n,r)),r.promise}function c6(t,e,n={}){const r=new si;return t.asyncQueue.enqueueAndForget(async()=>function(o,s,a,l,c){const u=new vR({next:h=>{u.Nu(),s.enqueueAndForget(()=>aR(o,f)),h.fromCache&&l.source==="server"?c.reject(new Z(z.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(h)},error:h=>c.reject(h)}),f=new lR(a,u,{includeMetadataChanges:!0,qa:!0});return sR(o,f)}(await wR(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _R(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cb=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xR="firestore.googleapis.com",Sb=!0;class Pb{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new Z(z.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=xR,this.ssl=Sb}else this.host=e.host,this.ssl=e.ssl??Sb;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=GA;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<UF)throw new Z(z.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}C5("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=_R(e.experimentalLongPollingOptions??{}),function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new Z(z.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new Z(z.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new Z(z.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class hp{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Pb({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Z(z.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Z(z.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Pb(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new m5;switch(r.type){case"firstParty":return new w5(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Z(z.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=Cb.get(n);r&&(ne("ComponentProvider","Removing Datastore"),Cb.delete(n),r.terminate())}(this),Promise.resolve()}}function u6(t,e,n,r={}){var c;t=vi(t,hp);const i=al(e),o=t._getSettings(),s={...o,emulatorOptions:t._getEmulatorOptions()},a=`${e}:${n}`;i&&(zI(`https://${a}`),HI("Firestore",!0)),o.host!==xR&&o.host!==a&&Fa("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const l={...o,host:a,ssl:i,emulatorOptions:r};if(!ps(l,s)&&(t._setSettings(l),r.mockUserToken)){let u,f;if(typeof r.mockUserToken=="string")u=r.mockUserToken,f=en.MOCK_USER;else{u=$j(r.mockUserToken,(c=t._app)==null?void 0:c.options.projectId);const h=r.mockUserToken.sub||r.mockUserToken.user_id;if(!h)throw new Z(z.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new en(h)}t._authCredentials=new g5(new oA(u,f))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lo{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Lo(this.firestore,e,this._query)}}class At{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ho(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new At(this.firestore,e,this._key)}toJSON(){return{type:At._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(Tu(n,At._jsonSchema))return new At(e,r||null,new ce(Qe.fromString(n.referencePath)))}}At._jsonSchemaVersion="firestore/documentReference/1.0",At._jsonSchema={type:It("string",At._jsonSchemaVersion),referencePath:It("string")};class ho extends Lo{constructor(e,n,r){super(e,n,iw(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new At(this.firestore,null,new ce(e))}withConverter(e){return new ho(this.firestore,e,this._path)}}function ys(t,e,...n){if(t=jt(t),sA("collection","path",e),t instanceof hp){const r=Qe.fromString(e,...n);return $E(r),new ho(t,null,r)}{if(!(t instanceof At||t instanceof ho))throw new Z(z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Qe.fromString(e,...n));return $E(r),new ho(t.firestore,null,r)}}function pl(t,e,...n){if(t=jt(t),arguments.length===1&&(e=J0.newId()),sA("doc","path",e),t instanceof hp){const r=Qe.fromString(e,...n);return FE(r),new At(t,null,new ce(r))}{if(!(t instanceof At||t instanceof ho))throw new Z(z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Qe.fromString(e,...n));return FE(r),new At(t.firestore,t instanceof ho?t.converter:null,new ce(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ib="AsyncQueue";class Ab{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new JA(this,"async_queue_retry"),this._c=()=>{const r=ig();r&&ne(Ib,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=ig();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=ig();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const n=new si;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!dl(e))throw e;ne(Ib,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const n=this.ac.then(()=>(this.rc=!0,e().catch(r=>{throw this.nc=r,this.rc=!1,gi("INTERNAL UNHANDLED ERROR: ",Rb(r)),r}).then(r=>(this.rc=!1,r))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const i=yw.createAndSchedule(this,e,n,r,o=>this.hc(o));return this.tc.push(i),i}uc(){this.nc&&ge(47125,{Pc:Rb(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function Rb(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class ml extends hp{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new Ab,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Ab(e),this._firestoreClient=void 0,await e}}}function d6(t,e){const n=typeof t=="object"?t:KI(),r=typeof t=="string"?t:e||Jf,i=Q0(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const o=jj("firestore");o&&u6(i,...o)}return i}function bw(t){if(t._terminated)throw new Z(z.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||f6(t),t._firestoreClient}function f6(t){var r,i,o;const e=t._freezeSettings(),n=function(a,l,c,u){return new V5(a,l,c,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,_R(u.experimentalLongPollingOptions),u.useFetchStreams,u.isUsingEmulator)}(t._databaseId,((r=t._app)==null?void 0:r.options.appId)||"",t._persistenceKey,e);t._componentsProvider||(i=e.localCache)!=null&&i._offlineComponentProvider&&((o=e.localCache)!=null&&o._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new o6(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&function(a){const l=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Hn(qt.fromBase64String(e))}catch(n){throw new Z(z.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Hn(qt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Hn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Tu(e,Hn._jsonSchema))return Hn.fromBase64String(e.bytes)}}Hn._jsonSchemaVersion="firestore/bytes/1.0",Hn._jsonSchema={type:It("string",Hn._jsonSchemaVersion),bytes:It("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pp{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Z(z.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Bt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tw{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nr{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Z(z.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Z(z.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ae(this._lat,e._lat)||Ae(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Nr._jsonSchemaVersion}}static fromJSON(e){if(Tu(e,Nr._jsonSchema))return new Nr(e.latitude,e.longitude)}}Nr._jsonSchemaVersion="firestore/geoPoint/1.0",Nr._jsonSchema={type:It("string",Nr._jsonSchemaVersion),latitude:It("number"),longitude:It("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mr{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}(this._values,e._values)}toJSON(){return{type:Mr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Tu(e,Mr._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new Mr(e.vectorValues);throw new Z(z.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Mr._jsonSchemaVersion="firestore/vectorValue/1.0",Mr._jsonSchema={type:It("string",Mr._jsonSchemaVersion),vectorValues:It("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h6=/^__.*__$/;class p6{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Oo(e,this.data,this.fieldMask,n,this.fieldTransforms):new Cu(e,this.data,n,this.fieldTransforms)}}class ER{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Oo(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function bR(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ge(40011,{Ac:t})}}class Cw{constructor(e,n,r,i,o,s){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.Rc(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Cw({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var i;const n=(i=this.path)==null?void 0:i.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){var i;const n=(i=this.path)==null?void 0:i.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return lh(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(bR(this.Ac)&&h6.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class m6{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||up(e)}Cc(e,n,r,i=!1){return new Cw({Ac:e,methodName:n,Dc:r,path:Bt.emptyPath(),fc:!1,bc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Sw(t){const e=t._freezeSettings(),n=up(t._databaseId);return new m6(t._databaseId,!!e.ignoreUndefinedProperties,n)}function g6(t,e,n,r,i,o={}){const s=t.Cc(o.merge||o.mergeFields?2:0,e,n,i);Pw("Data must be an object, but it was:",s,r);const a=TR(r,s);let l,c;if(o.merge)l=new Nn(s.fieldMask),c=s.fieldTransforms;else if(o.mergeFields){const u=[];for(const f of o.mergeFields){const h=fy(e,f,n);if(!s.contains(h))throw new Z(z.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);SR(u,h)||u.push(h)}l=new Nn(u),c=s.fieldTransforms.filter(f=>l.covers(f.field))}else l=null,c=s.fieldTransforms;return new p6(new wn(a),l,c)}class mp extends Tw{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof mp}}function v6(t,e,n,r){const i=t.Cc(1,e,n);Pw("Data must be an object, but it was:",i,r);const o=[],s=wn.empty();Mo(r,(l,c)=>{const u=Iw(e,l,n);c=jt(c);const f=i.yc(u);if(c instanceof mp)o.push(u);else{const h=Au(c,f);h!=null&&(o.push(u),s.set(u,h))}});const a=new Nn(o);return new ER(s,a,i.fieldTransforms)}function y6(t,e,n,r,i,o){const s=t.Cc(1,e,n),a=[fy(e,r,n)],l=[i];if(o.length%2!=0)throw new Z(z.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<o.length;h+=2)a.push(fy(e,o[h])),l.push(o[h+1]);const c=[],u=wn.empty();for(let h=a.length-1;h>=0;--h)if(!SR(c,a[h])){const m=a[h];let _=l[h];_=jt(_);const v=s.yc(m);if(_ instanceof mp)c.push(m);else{const E=Au(_,v);E!=null&&(c.push(m),u.set(m,E))}}const f=new Nn(c);return new ER(u,f,s.fieldTransforms)}function w6(t,e,n,r=!1){return Au(n,t.Cc(r?4:3,e))}function Au(t,e){if(CR(t=jt(t)))return Pw("Unsupported field value:",e,t),TR(t,e);if(t instanceof Tw)return function(r,i){if(!bR(i.Ac))throw i.Sc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Sc(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(r,i){const o=[];let s=0;for(const a of r){let l=Au(a,i.wc(s));l==null&&(l={nullValue:"NULL_VALUE"}),o.push(l),s++}return{arrayValue:{values:o}}}(t,e)}return function(r,i){if((r=jt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return oF(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=it.fromDate(r);return{timestampValue:ih(i.serializer,o)}}if(r instanceof it){const o=new it(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:ih(i.serializer,o)}}if(r instanceof Nr)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Hn)return{bytesValue:UA(i.serializer,r._byteString)};if(r instanceof At){const o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.Sc(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:cw(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Mr)return function(s,a){return{mapValue:{fields:{[mA]:{stringValue:vA},[Zf]:{arrayValue:{values:s.toArray().map(c=>{if(typeof c!="number")throw a.Sc("VectorValues must only contain numeric values.");return ow(a.serializer,c)})}}}}}}(r,i);throw i.Sc(`Unsupported field value: ${tp(r)}`)}(t,e)}function TR(t,e){const n={};return cA(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Mo(t,(r,i)=>{const o=Au(i,e.mc(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function CR(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof it||t instanceof Nr||t instanceof Hn||t instanceof At||t instanceof Tw||t instanceof Mr)}function Pw(t,e,n){if(!CR(n)||!aA(n)){const r=tp(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function fy(t,e,n){if((e=jt(e))instanceof pp)return e._internalPath;if(typeof e=="string")return Iw(t,e);throw lh("Field path arguments must be of type string or ",t,!1,void 0,n)}const _6=new RegExp("[~\\*/\\[\\]]");function Iw(t,e,n){if(e.search(_6)>=0)throw lh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new pp(...e.split("."))._internalPath}catch{throw lh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function lh(t,e,n,r,i){const o=r&&!r.isEmpty(),s=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(o||s)&&(l+=" (found",o&&(l+=` in field ${r}`),s&&(l+=` in document ${i}`),l+=")"),new Z(z.INVALID_ARGUMENT,a+t+l)}function SR(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PR{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new At(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new x6(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(gp("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class x6 extends PR{data(){return super.data()}}function gp(t,e){return typeof e=="string"?Iw(t,e):e instanceof pp?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E6(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Z(z.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Aw{}class Rw extends Aw{}function ru(t,e,...n){let r=[];e instanceof Aw&&r.push(e),r=r.concat(n),function(o){const s=o.filter(l=>l instanceof kw).length,a=o.filter(l=>l instanceof vp).length;if(s>1||s>0&&a>0)throw new Z(z.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class vp extends Rw{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new vp(e,n,r)}_apply(e){const n=this._parse(e);return IR(e._query,n),new Lo(e.firestore,e.converter,ny(e._query,n))}_parse(e){const n=Sw(e.firestore);return function(o,s,a,l,c,u,f){let h;if(c.isKeyField()){if(u==="array-contains"||u==="array-contains-any")throw new Z(z.INVALID_ARGUMENT,`Invalid Query. You can't perform '${u}' queries on documentId().`);if(u==="in"||u==="not-in"){Db(f,u);const _=[];for(const v of f)_.push(kb(l,o,v));h={arrayValue:{values:_}}}else h=kb(l,o,f)}else u!=="in"&&u!=="not-in"&&u!=="array-contains-any"||Db(f,u),h=w6(a,s,f,u==="in"||u==="not-in");return Pt.create(c,u,h)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function ba(t,e,n){const r=e,i=gp("where",t);return vp._create(i,r,n)}class kw extends Aw{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new kw(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:dr.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,o){let s=i;const a=o.getFlattenedFilters();for(const l of a)IR(s,l),s=ny(s,l)}(e._query,n),new Lo(e.firestore,e.converter,ny(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Dw extends Rw{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new Dw(e,n)}_apply(e){const n=function(i,o,s){if(i.startAt!==null)throw new Z(z.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new Z(z.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new eu(o,s)}(e._query,this._field,this._direction);return new Lo(e.firestore,e.converter,function(i,o){const s=i.explicitOrderBy.concat([o]);return new fl(i.path,i.collectionGroup,s,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}}function iu(t,e="asc"){const n=e,r=gp("orderBy",t);return Dw._create(r,n)}class Nw extends Rw{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new Nw(e,n,r)}_apply(e){return new Lo(e.firestore,e.converter,th(e._query,this._limit,this._limitType))}}function b6(t){return S5("limit",t),Nw._create("limit",t,"F")}function kb(t,e,n){if(typeof(n=jt(n))=="string"){if(n==="")throw new Z(z.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!CA(e)&&n.indexOf("/")!==-1)throw new Z(z.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Qe.fromString(n));if(!ce.isDocumentKey(r))throw new Z(z.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return GE(t,new ce(r))}if(n instanceof At)return GE(t,n._key);throw new Z(z.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${tp(n)}.`)}function Db(t,e){if(!Array.isArray(t)||t.length===0)throw new Z(z.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function IR(t,e){const n=function(i,o){for(const s of i)for(const a of s.getFlattenedFilters())if(o.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new Z(z.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Z(z.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class T6{convertValue(e,n="none"){switch(Eo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return wt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(xo(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw ge(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Mo(e,(i,o)=>{r[i]=this.convertValue(o,n)}),r}convertVectorValue(e){var r,i,o;const n=(o=(i=(r=e.fields)==null?void 0:r[Zf].arrayValue)==null?void 0:i.values)==null?void 0:o.map(s=>wt(s.doubleValue));return new Mr(n)}convertGeoPoint(e){return new Nr(wt(e.latitude),wt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=ip(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Xc(e));default:return null}}convertTimestamp(e){const n=_o(e);return new it(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Qe.fromString(e);Be(YA(r),9688,{name:e});const i=new Jc(r.get(1),r.get(3)),o=new ce(r.popFirst(5));return i.isEqual(n)||gi(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C6(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class oc{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class as extends PR{constructor(e,n,r,i,o,s){super(e,n,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new ff(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(gp("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Z(z.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=as._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}as._jsonSchemaVersion="firestore/documentSnapshot/1.0",as._jsonSchema={type:It("string",as._jsonSchemaVersion),bundleSource:It("string","DocumentSnapshot"),bundleName:It("string"),bundle:It("string")};class ff extends as{data(e={}){return super.data(e)}}class Ta{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new oc(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new ff(this._firestore,this._userDataWriter,r.key,r,new oc(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Z(z.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>{const l=new ff(i._firestore,i._userDataWriter,a.doc.key,a.doc,new oc(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>o||a.type!==3).map(a=>{const l=new ff(i._firestore,i._userDataWriter,a.doc.key,a.doc,new oc(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let c=-1,u=-1;return a.type!==0&&(c=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),a.type!==1&&(s=s.add(a.doc),u=s.indexOf(a.doc.key)),{type:S6(a.type),doc:l,oldIndex:c,newIndex:u}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Z(z.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Ta._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=J0.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],i=[];return this.docs.forEach(o=>{o._document!==null&&(n.push(o._document),r.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),i.push(o.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function S6(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ge(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mw(t){t=vi(t,At);const e=vi(t.firestore,ml);return l6(bw(e),t._key).then(n=>I6(e,t,n))}Ta._jsonSchemaVersion="firestore/querySnapshot/1.0",Ta._jsonSchema={type:It("string",Ta._jsonSchemaVersion),bundleSource:It("string","QuerySnapshot"),bundleName:It("string"),bundle:It("string")};class AR extends T6{constructor(e){super(),this.firestore=e}convertBytes(e){return new Hn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new At(this.firestore,null,n)}}function ou(t){t=vi(t,Lo);const e=vi(t.firestore,ml),n=bw(e),r=new AR(e);return E6(t._query),c6(n,t._query).then(i=>new Ta(e,r,t,i))}function Ow(t,e,n,...r){t=vi(t,At);const i=vi(t.firestore,ml),o=Sw(i);let s;return s=typeof(e=jt(e))=="string"||e instanceof pp?y6(o,"updateDoc",t._key,e,n,r):v6(o,"updateDoc",t._key,e),Lw(i,[s.toMutation(t._key,cr.exists(!0))])}function P6(t){return Lw(vi(t.firestore,ml),[new sw(t._key,cr.none())])}function RR(t,e){const n=vi(t.firestore,ml),r=pl(t),i=C6(t.converter,e);return Lw(n,[g6(Sw(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,cr.exists(!1))]).then(()=>r)}function Lw(t,e){return function(r,i){const o=new si;return r.asyncQueue.enqueueAndForget(async()=>Q$(await a6(r),i,o)),o.promise}(bw(t),e)}function I6(t,e,n){const r=n.docs.get(e._key),i=new AR(t);return new as(t,i,e._key,r,new oc(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){cl=i})(ll),ja(new ms("firestore",(r,{instanceIdentifier:i,options:o})=>{const s=r.getProvider("app").getImmediate(),a=new ml(new v5(r.getProvider("auth-internal")),new _5(s,r.getProvider("app-check-internal")),function(c,u){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new Z(z.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Jc(c.options.projectId,u)}(s,i),s);return o={useFetchStreams:n,...o},a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),uo(OE,LE,e),uo(OE,LE,"esm2020")})();function kR(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const A6=kR,DR=new Eu("auth","Firebase",kR());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ch=new G0("@firebase/auth");function R6(t,...e){ch.logLevel<=Ie.WARN&&ch.warn(`Auth (${ll}): ${t}`,...e)}function hf(t,...e){ch.logLevel<=Ie.ERROR&&ch.error(`Auth (${ll}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fr(t,...e){throw Vw(t,...e)}function Or(t,...e){return Vw(t,...e)}function NR(t,e,n){const r={...A6(),[e]:n};return new Eu("auth","Firebase",r).create(e,{appName:t.name})}function ai(t){return NR(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Vw(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return DR.create(t,...e)}function me(t,e,...n){if(!t)throw Vw(e,...n)}function ni(t){const e="INTERNAL ASSERTION FAILED: "+t;throw hf(e),new Error(e)}function wi(t,e){t||ni(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hy(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function k6(){return Nb()==="http:"||Nb()==="https:"}function Nb(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D6(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(k6()||qj()||"connection"in navigator)?navigator.onLine:!0}function N6(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ru{constructor(e,n){this.shortDelay=e,this.longDelay=n,wi(n>e,"Short delay should be less than long delay!"),this.isMobile=Wj()||Yj()}get(){return D6()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jw(t,e){wi(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MR{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ni("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ni("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ni("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M6={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O6=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],L6=new Ru(3e4,6e4);function Vo(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function jo(t,e,n,r,i={}){return OR(t,i,async()=>{let o={},s={};r&&(e==="GET"?s=r:o={body:JSON.stringify(r)});const a=bu({key:t.config.apiKey,...s}).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const c={method:e,headers:l,...o};return Hj()||(c.referrerPolicy="no-referrer"),t.emulatorConfig&&al(t.emulatorConfig.host)&&(c.credentials="include"),MR.fetch()(await LR(t,t.config.apiHost,n,a),c)})}async function OR(t,e,n){t._canInitEmulator=!1;const r={...M6,...e};try{const i=new j6(t),o=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const s=await o.json();if("needConfirmation"in s)throw Rd(t,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{const a=o.ok?s.errorMessage:s.error.message,[l,c]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Rd(t,"credential-already-in-use",s);if(l==="EMAIL_EXISTS")throw Rd(t,"email-already-in-use",s);if(l==="USER_DISABLED")throw Rd(t,"user-disabled",s);const u=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw NR(t,u,c);fr(t,u)}}catch(i){if(i instanceof Pi)throw i;fr(t,"network-request-failed",{message:String(i)})}}async function ku(t,e,n,r,i={}){const o=await jo(t,e,n,r,i);return"mfaPendingCredential"in o&&fr(t,"multi-factor-auth-required",{_serverResponse:o}),o}async function LR(t,e,n,r){const i=`${e}${n}?${r}`,o=t,s=o.config.emulator?jw(t.config,i):`${t.config.apiScheme}://${i}`;return O6.includes(n)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(s).toString():s}function V6(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class j6{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Or(this.auth,"network-request-failed")),L6.get())})}}function Rd(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Or(t,e,r);return i.customData._tokenResponse=n,i}function Mb(t){return t!==void 0&&t.enterprise!==void 0}class F6{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return V6(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function $6(t,e){return jo(t,"GET","/v2/recaptchaConfig",Vo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function U6(t,e){return jo(t,"POST","/v1/accounts:delete",e)}async function uh(t,e){return jo(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xc(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function B6(t,e=!1){const n=jt(t),r=await n.getIdToken(e),i=Fw(r);me(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const o=typeof i.firebase=="object"?i.firebase:void 0,s=o==null?void 0:o.sign_in_provider;return{claims:i,token:r,authTime:xc(sg(i.auth_time)),issuedAtTime:xc(sg(i.iat)),expirationTime:xc(sg(i.exp)),signInProvider:s||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function sg(t){return Number(t)*1e3}function Fw(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return hf("JWT malformed, contained fewer than 3 sections"),null;try{const i=$I(n);return i?JSON.parse(i):(hf("Failed to decode base64 JWT payload"),null)}catch(i){return hf("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function Ob(t){const e=Fw(t);return me(e,"internal-error"),me(typeof e.exp<"u","internal-error"),me(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function su(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Pi&&W6(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function W6({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z6{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class py{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=xc(this.lastLoginAt),this.creationTime=xc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dh(t){var f;const e=t.auth,n=await t.getIdToken(),r=await su(t,uh(e,{idToken:n}));me(r==null?void 0:r.users.length,e,"internal-error");const i=r.users[0];t._notifyReloadListener(i);const o=(f=i.providerUserInfo)!=null&&f.length?VR(i.providerUserInfo):[],s=q6(t.providerData,o),a=t.isAnonymous,l=!(t.email&&i.passwordHash)&&!(s!=null&&s.length),c=a?l:!1,u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new py(i.createdAt,i.lastLoginAt),isAnonymous:c};Object.assign(t,u)}async function H6(t){const e=jt(t);await dh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function q6(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function VR(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Y6(t,e){const n=await OR(t,{},async()=>{const r=bu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,s=await LR(t,i,"/v1/token",`key=${o}`),a=await t._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";const l={method:"POST",headers:a,body:r};return t.emulatorConfig&&al(t.emulatorConfig.host)&&(l.credentials="include"),MR.fetch()(s,l)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function G6(t,e){return jo(t,"POST","/v2/accounts:revokeToken",Vo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ca{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){me(e.idToken,"internal-error"),me(typeof e.idToken<"u","internal-error"),me(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Ob(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){me(e.length!==0,"internal-error");const n=Ob(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(me(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:o}=await Y6(e,n);this.updateTokensAndExpiration(r,i,Number(o))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:o}=n,s=new Ca;return r&&(me(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(me(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&(me(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ca,this.toJSON())}_performRefresh(){return ni("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ni(t,e){me(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class sr{constructor({uid:e,auth:n,stsTokenManager:r,...i}){this.providerId="firebase",this.proactiveRefresh=new z6(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new py(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await su(this,this.stsTokenManager.getToken(this.auth,e));return me(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return B6(this,e)}reload(){return H6(this)}_assign(e){this!==e&&(me(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new sr({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){me(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await dh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(zn(this.auth.app))return Promise.reject(ai(this.auth));const e=await this.getIdToken();return await su(this,U6(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,i=n.email??void 0,o=n.phoneNumber??void 0,s=n.photoURL??void 0,a=n.tenantId??void 0,l=n._redirectEventId??void 0,c=n.createdAt??void 0,u=n.lastLoginAt??void 0,{uid:f,emailVerified:h,isAnonymous:m,providerData:_,stsTokenManager:v}=n;me(f&&v,e,"internal-error");const E=Ca.fromJSON(this.name,v);me(typeof f=="string",e,"internal-error"),Ni(r,e.name),Ni(i,e.name),me(typeof h=="boolean",e,"internal-error"),me(typeof m=="boolean",e,"internal-error"),Ni(o,e.name),Ni(s,e.name),Ni(a,e.name),Ni(l,e.name),Ni(c,e.name),Ni(u,e.name);const x=new sr({uid:f,auth:e,email:i,emailVerified:h,displayName:r,isAnonymous:m,photoURL:s,phoneNumber:o,tenantId:a,stsTokenManager:E,createdAt:c,lastLoginAt:u});return _&&Array.isArray(_)&&(x.providerData=_.map(y=>({...y}))),l&&(x._redirectEventId=l),x}static async _fromIdTokenResponse(e,n,r=!1){const i=new Ca;i.updateFromServerResponse(n);const o=new sr({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await dh(o),o}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];me(i.localId!==void 0,"internal-error");const o=i.providerUserInfo!==void 0?VR(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!(o!=null&&o.length),a=new Ca;a.updateFromIdToken(r);const l=new sr({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:s}),c={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new py(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(o!=null&&o.length)};return Object.assign(l,c),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lb=new Map;function ri(t){wi(t instanceof Function,"Expected a class definition");let e=Lb.get(t);return e?(wi(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,Lb.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jR{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}jR.type="NONE";const Vb=jR;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pf(t,e,n){return`firebase:${t}:${e}:${n}`}class Sa{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:o}=this.auth;this.fullUserKey=pf(this.userKey,i.apiKey,o),this.fullPersistenceKey=pf("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await uh(this.auth,{idToken:e}).catch(()=>{});return n?sr._fromGetAccountInfoResponse(this.auth,n,e):null}return sr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Sa(ri(Vb),e,r);const i=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let o=i[0]||ri(Vb);const s=pf(r,e.config.apiKey,e.name);let a=null;for(const c of n)try{const u=await c._get(s);if(u){let f;if(typeof u=="string"){const h=await uh(e,{idToken:u}).catch(()=>{});if(!h)break;f=await sr._fromGetAccountInfoResponse(e,h,u)}else f=sr._fromJSON(e,u);c!==o&&(a=f),o=c;break}}catch{}const l=i.filter(c=>c._shouldAllowMigration);return!o._shouldAllowMigration||!l.length?new Sa(o,e,r):(o=l[0],a&&await o._set(s,a.toJSON()),await Promise.all(n.map(async c=>{if(c!==o)try{await c._remove(s)}catch{}})),new Sa(o,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jb(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(BR(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(FR(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(zR(e))return"Blackberry";if(HR(e))return"Webos";if($R(e))return"Safari";if((e.includes("chrome/")||UR(e))&&!e.includes("edge/"))return"Chrome";if(WR(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function FR(t=sn()){return/firefox\//i.test(t)}function $R(t=sn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function UR(t=sn()){return/crios\//i.test(t)}function BR(t=sn()){return/iemobile/i.test(t)}function WR(t=sn()){return/android/i.test(t)}function zR(t=sn()){return/blackberry/i.test(t)}function HR(t=sn()){return/webos/i.test(t)}function $w(t=sn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function K6(t=sn()){var e;return $w(t)&&!!((e=window.navigator)!=null&&e.standalone)}function Q6(){return Gj()&&document.documentMode===10}function qR(t=sn()){return $w(t)||WR(t)||HR(t)||zR(t)||/windows phone/i.test(t)||BR(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YR(t,e=[]){let n;switch(t){case"Browser":n=jb(sn());break;case"Worker":n=`${jb(sn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${ll}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X6{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=o=>new Promise((s,a)=>{try{const l=e(o);s(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function J6(t,e={}){return jo(t,"GET","/v2/passwordPolicy",Vo(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z6=6;class e9{constructor(e){var r;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??Z6,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((r=e.allowedNonAlphanumericCharacters)==null?void 0:r.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t9{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Fb(this),this.idTokenSubscription=new Fb(this),this.beforeStateQueue=new X6(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=DR,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=ri(n)),this._initializationPromise=this.queue(async()=>{var r,i,o;if(!this._deleted&&(this.persistenceManager=await Sa.create(this,e),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((i=this._popupRedirectResolver)!=null&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((o=this.currentUser)==null?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await uh(this,{idToken:e}),r=await sr._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var o;if(zn(this.app)){const s=this.app.settings.authIdToken;return s?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(a,a))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const s=(o=this.redirectUser)==null?void 0:o._redirectEventId,a=r==null?void 0:r._redirectEventId,l=await this.tryRedirectSignIn(e);(!s||s===a)&&(l!=null&&l.user)&&(r=l.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(s){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return me(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await dh(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=N6()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(zn(this.app))return Promise.reject(ai(this));const n=e?jt(e):null;return n&&me(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&me(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return zn(this.app)?Promise.reject(ai(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return zn(this.app)?Promise.reject(ai(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ri(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await J6(this),n=new e9(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Eu("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await G6(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&ri(e)||this._popupRedirectResolver;me(n,this,"argument-error"),this.redirectPersistenceManager=await Sa.create(this,[ri(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const o=typeof n=="function"?n:n.next.bind(n);let s=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(me(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{s=!0,l()}}else{const l=e.addObserver(n);return()=>{s=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return me(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=YR(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var i;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((i=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:i.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){var n;if(zn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&R6(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function Rs(t){return jt(t)}class Fb{constructor(e){this.auth=e,this.observer=null,this.addObserver=n3(n=>this.observer=n)}get next(){return me(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let yp={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function n9(t){yp=t}function GR(t){return yp.loadJS(t)}function r9(){return yp.recaptchaEnterpriseScript}function i9(){return yp.gapiScript}function o9(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class s9{constructor(){this.enterprise=new a9}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class a9{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const l9="recaptcha-enterprise",KR="NO_RECAPTCHA";class c9{constructor(e){this.type=l9,this.auth=Rs(e)}async verify(e="verify",n=!1){async function r(o){if(!n){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(s,a)=>{$6(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const c=new F6(l);return o.tenantId==null?o._agentRecaptchaConfig=c:o._tenantRecaptchaConfigs[o.tenantId]=c,s(c.siteKey)}}).catch(l=>{a(l)})})}function i(o,s,a){const l=window.grecaptcha;Mb(l)?l.enterprise.ready(()=>{l.enterprise.execute(o,{action:e}).then(c=>{s(c)}).catch(()=>{s(KR)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new s9().execute("siteKey",{action:"verify"}):new Promise((o,s)=>{r(this.auth).then(a=>{if(!n&&Mb(window.grecaptcha))i(a,o,s);else{if(typeof window>"u"){s(new Error("RecaptchaVerifier is only supported in browser"));return}let l=r9();l.length!==0&&(l+=a),GR(l).then(()=>{i(a,o,s)}).catch(c=>{s(c)})}}).catch(a=>{s(a)})})}}async function zl(t,e,n,r=!1,i=!1){const o=new c9(t);let s;if(i)s=KR;else try{s=await o.verify(n)}catch{s=await o.verify(n,!0)}const a={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in a){const l=a.phoneEnrollmentInfo.phoneNumber,c=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:l,recaptchaToken:c,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){const l=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:l,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return r?Object.assign(a,{captchaResp:s}):Object.assign(a,{captchaResponse:s}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function my(t,e,n,r,i){var o,s;if(i==="EMAIL_PASSWORD_PROVIDER")if((o=t._getRecaptchaConfig())!=null&&o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const a=await zl(t,e,n,n==="getOobCode");return r(t,a)}else return r(t,e).catch(async a=>{if(a.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const l=await zl(t,e,n,n==="getOobCode");return r(t,l)}else return Promise.reject(a)});else if(i==="PHONE_PROVIDER")if((s=t._getRecaptchaConfig())!=null&&s.isProviderEnabled("PHONE_PROVIDER")){const a=await zl(t,e,n);return r(t,a).catch(async l=>{var c;if(((c=t._getRecaptchaConfig())==null?void 0:c.getProviderEnforcementState("PHONE_PROVIDER"))==="AUDIT"&&(l.code==="auth/missing-recaptcha-token"||l.code==="auth/invalid-app-credential")){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${n} flow.`);const u=await zl(t,e,n,!1,!0);return r(t,u)}return Promise.reject(l)})}else{const a=await zl(t,e,n,!1,!0);return r(t,a)}else return Promise.reject(i+" provider is not supported.")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u9(t,e){const n=Q0(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),o=n.getOptions();if(ps(o,e??{}))return i;fr(i,"already-initialized")}return n.initialize({options:e})}function d9(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(ri);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function f9(t,e,n){const r=Rs(t);me(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!(n!=null&&n.disableWarnings),o=QR(e),{host:s,port:a}=h9(e),l=a===null?"":`:${a}`,c={url:`${o}//${s}${l}/`},u=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){me(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),me(ps(c,r.config.emulator)&&ps(u,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=c,r.emulatorConfig=u,r.settings.appVerificationDisabledForTesting=!0,al(s)?(zI(`${o}//${s}${l}`),HI("Auth",!0)):i||p9()}function QR(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function h9(t){const e=QR(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const o=i[1];return{host:o,port:$b(r.substr(o.length+1))}}else{const[o,s]=r.split(":");return{host:o,port:$b(s)}}}function $b(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function p9(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uw{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return ni("not implemented")}_getIdTokenResponse(e){return ni("not implemented")}_linkToIdToken(e,n){return ni("not implemented")}_getReauthenticationResolver(e){return ni("not implemented")}}async function m9(t,e){return jo(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function g9(t,e){return ku(t,"POST","/v1/accounts:signInWithPassword",Vo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function v9(t,e){return ku(t,"POST","/v1/accounts:signInWithEmailLink",Vo(t,e))}async function y9(t,e){return ku(t,"POST","/v1/accounts:signInWithEmailLink",Vo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class au extends Uw{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new au(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new au(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return my(e,n,"signInWithPassword",g9,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return v9(e,{email:this._email,oobCode:this._password});default:fr(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return my(e,r,"signUpPassword",m9,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return y9(e,{idToken:n,email:this._email,oobCode:this._password});default:fr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Pa(t,e){return ku(t,"POST","/v1/accounts:signInWithIdp",Vo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w9="http://localhost";class ws extends Uw{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new ws(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):fr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i,...o}=n;if(!r||!i)return null;const s=new ws(r,i);return s.idToken=o.idToken||void 0,s.accessToken=o.accessToken||void 0,s.secret=o.secret,s.nonce=o.nonce,s.pendingToken=o.pendingToken||null,s}_getIdTokenResponse(e){const n=this.buildRequest();return Pa(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Pa(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Pa(e,n)}buildRequest(){const e={requestUri:w9,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=bu(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _9(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function x9(t){const e=ec(tc(t)).link,n=e?ec(tc(e)).deep_link_id:null,r=ec(tc(t)).deep_link_id;return(r?ec(tc(r)).link:null)||r||n||e||t}class Bw{constructor(e){const n=ec(tc(e)),r=n.apiKey??null,i=n.oobCode??null,o=_9(n.mode??null);me(r&&i&&o,"argument-error"),this.apiKey=r,this.operation=o,this.code=i,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=x9(e);try{return new Bw(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gl{constructor(){this.providerId=gl.PROVIDER_ID}static credential(e,n){return au._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=Bw.parseLink(n);return me(r,"argument-error"),au._fromEmailAndCode(e,r.code,r.tenantId)}}gl.PROVIDER_ID="password";gl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";gl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XR{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Du extends XR{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zi extends Du{constructor(){super("facebook.com")}static credential(e){return ws._fromParams({providerId:zi.PROVIDER_ID,signInMethod:zi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return zi.credentialFromTaggedObject(e)}static credentialFromError(e){return zi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return zi.credential(e.oauthAccessToken)}catch{return null}}}zi.FACEBOOK_SIGN_IN_METHOD="facebook.com";zi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hi extends Du{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return ws._fromParams({providerId:Hi.PROVIDER_ID,signInMethod:Hi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Hi.credentialFromTaggedObject(e)}static credentialFromError(e){return Hi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Hi.credential(n,r)}catch{return null}}}Hi.GOOGLE_SIGN_IN_METHOD="google.com";Hi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qi extends Du{constructor(){super("github.com")}static credential(e){return ws._fromParams({providerId:qi.PROVIDER_ID,signInMethod:qi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return qi.credentialFromTaggedObject(e)}static credentialFromError(e){return qi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return qi.credential(e.oauthAccessToken)}catch{return null}}}qi.GITHUB_SIGN_IN_METHOD="github.com";qi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yi extends Du{constructor(){super("twitter.com")}static credential(e,n){return ws._fromParams({providerId:Yi.PROVIDER_ID,signInMethod:Yi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Yi.credentialFromTaggedObject(e)}static credentialFromError(e){return Yi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Yi.credential(n,r)}catch{return null}}}Yi.TWITTER_SIGN_IN_METHOD="twitter.com";Yi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function E9(t,e){return ku(t,"POST","/v1/accounts:signUp",Vo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _s{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const o=await sr._fromIdTokenResponse(e,r,i),s=Ub(r);return new _s({user:o,providerId:s,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=Ub(r);return new _s({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function Ub(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fh extends Pi{constructor(e,n,r,i){super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,fh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new fh(e,n,r,i)}}function JR(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?fh._fromErrorAndOperation(t,o,e,r):o})}async function b9(t,e,n=!1){const r=await su(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return _s._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function T9(t,e,n=!1){const{auth:r}=t;if(zn(r.app))return Promise.reject(ai(r));const i="reauthenticate";try{const o=await su(t,JR(r,i,e,t),n);me(o.idToken,r,"internal-error");const s=Fw(o.idToken);me(s,r,"internal-error");const{sub:a}=s;return me(t.uid===a,r,"user-mismatch"),_s._forOperation(t,i,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&fr(r,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ZR(t,e,n=!1){if(zn(t.app))return Promise.reject(ai(t));const r="signIn",i=await JR(t,r,e),o=await _s._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(o.user),o}async function C9(t,e){return ZR(Rs(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ek(t){const e=Rs(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function S9(t,e,n){if(zn(t.app))return Promise.reject(ai(t));const r=Rs(t),s=await my(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",E9,"EMAIL_PASSWORD_PROVIDER").catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&ek(t),l}),a=await _s._fromIdTokenResponse(r,"signIn",s);return await r._updateCurrentUser(a.user),a}function P9(t,e,n){return zn(t.app)?Promise.reject(ai(t)):C9(jt(t),gl.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&ek(t),r})}function I9(t,e,n,r){return jt(t).onIdTokenChanged(e,n,r)}function A9(t,e,n){return jt(t).beforeAuthStateChanged(e,n)}function R9(t,e,n,r){return jt(t).onAuthStateChanged(e,n,r)}function k9(t){return jt(t).signOut()}const hh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tk{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(hh,"1"),this.storage.removeItem(hh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D9=1e3,N9=10;class nk extends tk{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=qR(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((s,a,l)=>{this.notifyListeners(s,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const s=this.storage.getItem(r);!n&&this.localCache[r]===s||this.notifyListeners(r,s)},o=this.storage.getItem(r);Q6()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,N9):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},D9)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}nk.type="LOCAL";const M9=nk;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rk extends tk{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}rk.type="SESSION";const ik=rk;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O9(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wp{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new wp(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:o}=n.data,s=this.handlersMap[i];if(!(s!=null&&s.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(s).map(async c=>c(n.origin,o)),l=await O9(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}wp.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ww(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L9{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,s;return new Promise((a,l)=>{const c=Ww("",20);i.port1.start();const u=setTimeout(()=>{l(new Error("unsupported_event"))},r);s={messageChannel:i,onMessage(f){const h=f;if(h.data.eventId===c)switch(h.data.status){case"ack":clearTimeout(u),o=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),a(h.data.response);break;default:clearTimeout(u),clearTimeout(o),l(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lr(){return window}function V9(t){Lr().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ok(){return typeof Lr().WorkerGlobalScope<"u"&&typeof Lr().importScripts=="function"}async function j9(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function F9(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function $9(){return ok()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sk="firebaseLocalStorageDb",U9=1,ph="firebaseLocalStorage",ak="fbase_key";class Nu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function _p(t,e){return t.transaction([ph],e?"readwrite":"readonly").objectStore(ph)}function B9(){const t=indexedDB.deleteDatabase(sk);return new Nu(t).toPromise()}function gy(){const t=indexedDB.open(sk,U9);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(ph,{keyPath:ak})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(ph)?e(r):(r.close(),await B9(),e(await gy()))})})}async function Bb(t,e,n){const r=_p(t,!0).put({[ak]:e,value:n});return new Nu(r).toPromise()}async function W9(t,e){const n=_p(t,!1).get(e),r=await new Nu(n).toPromise();return r===void 0?null:r.value}function Wb(t,e){const n=_p(t,!0).delete(e);return new Nu(n).toPromise()}const z9=800,H9=3;class lk{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await gy(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>H9)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return ok()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=wp._getInstance($9()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,r;if(this.activeServiceWorker=await j9(),!this.activeServiceWorker)return;this.sender=new L9(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(r=e[0])!=null&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||F9()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await gy();return await Bb(e,hh,"1"),await Wb(e,hh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>Bb(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>W9(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Wb(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const o=_p(i,!1).getAll();return new Nu(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:o}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(o)&&(this.notifyListeners(i,o),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),z9)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}lk.type="LOCAL";const q9=lk;new Ru(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y9(t,e){return e?ri(e):(me(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zw extends Uw{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Pa(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Pa(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Pa(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function G9(t){return ZR(t.auth,new zw(t),t.bypassAuthState)}function K9(t){const{auth:e,user:n}=t;return me(n,e,"internal-error"),T9(n,new zw(t),t.bypassAuthState)}async function Q9(t){const{auth:e,user:n}=t;return me(n,e,"internal-error"),b9(n,new zw(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ck{constructor(e,n,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:o,error:s,type:a}=e;if(s){this.reject(s);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return G9;case"linkViaPopup":case"linkViaRedirect":return Q9;case"reauthViaPopup":case"reauthViaRedirect":return K9;default:fr(this.auth,"internal-error")}}resolve(e){wi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){wi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X9=new Ru(2e3,1e4);class ua extends ck{constructor(e,n,r,i,o){super(e,n,i,o),this.provider=r,this.authWindow=null,this.pollId=null,ua.currentPopupAction&&ua.currentPopupAction.cancel(),ua.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return me(e,this.auth,"internal-error"),e}async onExecution(){wi(this.filter.length===1,"Popup operations only handle one event");const e=Ww();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Or(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(Or(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ua.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if((r=(n=this.authWindow)==null?void 0:n.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Or(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,X9.get())};e()}}ua.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J9="pendingRedirect",mf=new Map;class Z9 extends ck{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=mf.get(this.auth._key());if(!e){try{const r=await eU(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}mf.set(this.auth._key(),e)}return this.bypassAuthState||mf.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function eU(t,e){const n=rU(e),r=nU(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function tU(t,e){mf.set(t._key(),e)}function nU(t){return ri(t._redirectPersistence)}function rU(t){return pf(J9,t.config.apiKey,t.name)}async function iU(t,e,n=!1){if(zn(t.app))return Promise.reject(ai(t));const r=Rs(t),i=Y9(r,e),s=await new Z9(r,i,n).execute();return s&&!n&&(delete s.user._redirectEventId,await r._persistUserIfCurrent(s.user),await r._setRedirectUser(null,e)),s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oU=10*60*1e3;class sU{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!aU(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!uk(e)){const i=((r=e.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";n.onError(Or(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=oU&&this.cachedEventUids.clear(),this.cachedEventUids.has(zb(e))}saveEventToCache(e){this.cachedEventUids.add(zb(e)),this.lastProcessedEventTime=Date.now()}}function zb(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function uk({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function aU(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return uk(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lU(t,e={}){return jo(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cU=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,uU=/^https?/;async function dU(t){if(t.config.emulator)return;const{authorizedDomains:e}=await lU(t);for(const n of e)try{if(fU(n))return}catch{}fr(t,"unauthorized-domain")}function fU(t){const e=hy(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const s=new URL(t);return s.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&s.hostname===r}if(!uU.test(n))return!1;if(cU.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hU=new Ru(3e4,6e4);function Hb(){const t=Lr().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function pU(t){return new Promise((e,n)=>{var i,o,s;function r(){Hb(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Hb(),n(Or(t,"network-request-failed"))},timeout:hU.get()})}if((o=(i=Lr().gapi)==null?void 0:i.iframes)!=null&&o.Iframe)e(gapi.iframes.getContext());else if((s=Lr().gapi)!=null&&s.load)r();else{const a=o9("iframefcb");return Lr()[a]=()=>{gapi.load?r():n(Or(t,"network-request-failed"))},GR(`${i9()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw gf=null,e})}let gf=null;function mU(t){return gf=gf||pU(t),gf}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gU=new Ru(5e3,15e3),vU="__/auth/iframe",yU="emulator/auth/iframe",wU={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},_U=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function xU(t){const e=t.config;me(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?jw(e,yU):`https://${t.config.authDomain}/${vU}`,r={apiKey:e.apiKey,appName:t.name,v:ll},i=_U.get(t.config.apiHost);i&&(r.eid=i);const o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${bu(r).slice(1)}`}async function EU(t){const e=await mU(t),n=Lr().gapi;return me(n,t,"internal-error"),e.open({where:document.body,url:xU(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:wU,dontclear:!0},r=>new Promise(async(i,o)=>{await r.restyle({setHideOnLeave:!1});const s=Or(t,"network-request-failed"),a=Lr().setTimeout(()=>{o(s)},gU.get());function l(){Lr().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{o(s)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bU={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},TU=500,CU=600,SU="_blank",PU="http://localhost";class qb{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function IU(t,e,n,r=TU,i=CU){const o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l={...bU,width:r.toString(),height:i.toString(),top:o,left:s},c=sn().toLowerCase();n&&(a=UR(c)?SU:n),FR(c)&&(e=e||PU,l.scrollbars="yes");const u=Object.entries(l).reduce((h,[m,_])=>`${h}${m}=${_},`,"");if(K6(c)&&a!=="_self")return AU(e||"",a),new qb(null);const f=window.open(e||"",a,u);me(f,t,"popup-blocked");try{f.focus()}catch{}return new qb(f)}function AU(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RU="__/auth/handler",kU="emulator/auth/handler",DU=encodeURIComponent("fac");async function Yb(t,e,n,r,i,o){me(t.config.authDomain,t,"auth-domain-config-required"),me(t.config.apiKey,t,"invalid-api-key");const s={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:ll,eventId:i};if(e instanceof XR){e.setDefaultLanguage(t.languageCode),s.providerId=e.providerId||"",t3(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(const[u,f]of Object.entries(o||{}))s[u]=f}if(e instanceof Du){const u=e.getScopes().filter(f=>f!=="");u.length>0&&(s.scopes=u.join(","))}t.tenantId&&(s.tid=t.tenantId);const a=s;for(const u of Object.keys(a))a[u]===void 0&&delete a[u];const l=await t._getAppCheckToken(),c=l?`#${DU}=${encodeURIComponent(l)}`:"";return`${NU(t)}?${bu(a).slice(1)}${c}`}function NU({config:t}){return t.emulator?jw(t,kU):`https://${t.authDomain}/${RU}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ag="webStorageSupport";class MU{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ik,this._completeRedirectFn=iU,this._overrideRedirectResult=tU}async _openPopup(e,n,r,i){var s;wi((s=this.eventManagers[e._key()])==null?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await Yb(e,n,r,hy(),i);return IU(e,o,Ww())}async _openRedirect(e,n,r,i){await this._originValidation(e);const o=await Yb(e,n,r,hy(),i);return V9(o),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:o}=this.eventManagers[n];return i?Promise.resolve(i):(wi(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await EU(e),r=new sU(e);return n.register("authEvent",i=>(me(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(ag,{type:ag},i=>{var s;const o=(s=i==null?void 0:i[0])==null?void 0:s[ag];o!==void 0&&n(!!o),fr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=dU(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return qR()||$R()||$w()}}const OU=MU;var Gb="@firebase/auth",Kb="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LU{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){me(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VU(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function jU(t){ja(new ms("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;me(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:s,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:YR(t)},c=new t9(r,i,o,l);return d9(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),ja(new ms("auth-internal",e=>{const n=Rs(e.getProvider("auth").getImmediate());return(r=>new LU(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),uo(Gb,Kb,VU(t)),uo(Gb,Kb,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FU=5*60,$U=WI("authIdTokenMaxAge")||FU;let Qb=null;const UU=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>$U)return;const i=n==null?void 0:n.token;Qb!==i&&(Qb=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function BU(t=KI()){const e=Q0(t,"auth");if(e.isInitialized())return e.getImmediate();const n=u9(t,{popupRedirectResolver:OU,persistence:[q9,M9,ik]}),r=WI("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(r,location.origin);if(location.origin===o.origin){const s=UU(o.toString());A9(n,s,()=>s(n.currentUser)),I9(n,a=>s(a))}}const i=UI("auth");return i&&f9(n,`http://${i}`),n}function WU(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}n9({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const o=Or("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",WU().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});jU("Browser");const zU={apiKey:"AIzaSyB_DoE2lhYw7INy1ucJ3hQwXHBsQrmD-DY",authDomain:"rnf-app.firebaseapp.com",projectId:"rnf-app",storageBucket:"rnf-app.firebasestorage.app",messagingSenderId:"771820334247",appId:"1:771820334247:web:a096ff668dc8963f5b7f82"},dk=GI(zU),Qn=d6(dk),kd=BU(dk),fk=p.createContext(null),HU=({children:t})=>{const[e,n]=p.useState(null),[r,i]=p.useState(!0);p.useEffect(()=>{const l=R9(kd,c=>{n(c?{id:c.uid,email:c.email}:null),i(!1)});return()=>l()},[]);const o=async(l,c)=>{await P9(kd,l,c)},s=async(l,c)=>{await S9(kd,l,c)},a=async()=>{await k9(kd),n(null)};return g.jsx(fk.Provider,{value:{user:e,login:o,register:s,logout:a,loadingAuth:r},children:t})},vl=()=>p.useContext(fk);function hk(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=hk(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function pk(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=hk(t))&&(r&&(r+=" "),r+=e);return r}function qU(){for(var t=0,e,n,r="";t<arguments.length;)(e=arguments[t++])&&(n=mk(e))&&(r&&(r+=" "),r+=n);return r}function mk(t){if(typeof t=="string")return t;for(var e,n="",r=0;r<t.length;r++)t[r]&&(e=mk(t[r]))&&(n&&(n+=" "),n+=e);return n}var Hw="-";function YU(t){var e=KU(t),n=t.conflictingClassGroups,r=t.conflictingClassGroupModifiers,i=r===void 0?{}:r;function o(a){var l=a.split(Hw);return l[0]===""&&l.length!==1&&l.shift(),gk(l,e)||GU(a)}function s(a,l){var c=n[a]||[];return l&&i[a]?[].concat(c,i[a]):c}return{getClassGroupId:o,getConflictingClassGroupIds:s}}function gk(t,e){var s;if(t.length===0)return e.classGroupId;var n=t[0],r=e.nextPart.get(n),i=r?gk(t.slice(1),r):void 0;if(i)return i;if(e.validators.length!==0){var o=t.join(Hw);return(s=e.validators.find(function(a){var l=a.validator;return l(o)}))==null?void 0:s.classGroupId}}var Xb=/^\[(.+)\]$/;function GU(t){if(Xb.test(t)){var e=Xb.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}}function KU(t){var e=t.theme,n=t.prefix,r={nextPart:new Map,validators:[]},i=XU(Object.entries(t.classGroups),n);return i.forEach(function(o){var s=o[0],a=o[1];vy(a,r,s,e)}),r}function vy(t,e,n,r){t.forEach(function(i){if(typeof i=="string"){var o=i===""?e:Jb(e,i);o.classGroupId=n;return}if(typeof i=="function"){if(QU(i)){vy(i(r),e,n,r);return}e.validators.push({validator:i,classGroupId:n});return}Object.entries(i).forEach(function(s){var a=s[0],l=s[1];vy(l,Jb(e,a),n,r)})})}function Jb(t,e){var n=t;return e.split(Hw).forEach(function(r){n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n}function QU(t){return t.isThemeGetter}function XU(t,e){return e?t.map(function(n){var r=n[0],i=n[1],o=i.map(function(s){return typeof s=="string"?e+s:typeof s=="object"?Object.fromEntries(Object.entries(s).map(function(a){var l=a[0],c=a[1];return[e+l,c]})):s});return[r,o]}):t}function JU(t){if(t<1)return{get:function(){},set:function(){}};var e=0,n=new Map,r=new Map;function i(o,s){n.set(o,s),e++,e>t&&(e=0,r=n,n=new Map)}return{get:function(s){var a=n.get(s);if(a!==void 0)return a;if((a=r.get(s))!==void 0)return i(s,a),a},set:function(s,a){n.has(s)?n.set(s,a):i(s,a)}}}var vk="!";function ZU(t){var e=t.separator||":",n=e.length===1,r=e[0],i=e.length;return function(s){for(var a=[],l=0,c=0,u,f=0;f<s.length;f++){var h=s[f];if(l===0){if(h===r&&(n||s.slice(f,f+i)===e)){a.push(s.slice(c,f)),c=f+i;continue}if(h==="/"){u=f;continue}}h==="["?l++:h==="]"&&l--}var m=a.length===0?s:s.substring(c),_=m.startsWith(vk),v=_?m.substring(1):m,E=u&&u>c?u-c:void 0;return{modifiers:a,hasImportantModifier:_,baseClassName:v,maybePostfixModifierPosition:E}}}function e7(t){if(t.length<=1)return t;var e=[],n=[];return t.forEach(function(r){var i=r[0]==="[";i?(e.push.apply(e,n.sort().concat([r])),n=[]):n.push(r)}),e.push.apply(e,n.sort()),e}function t7(t){return{cache:JU(t.cacheSize),splitModifiers:ZU(t),...YU(t)}}var n7=/\s+/;function r7(t,e){var n=e.splitModifiers,r=e.getClassGroupId,i=e.getConflictingClassGroupIds,o=new Set;return t.trim().split(n7).map(function(s){var a=n(s),l=a.modifiers,c=a.hasImportantModifier,u=a.baseClassName,f=a.maybePostfixModifierPosition,h=r(f?u.substring(0,f):u),m=!!f;if(!h){if(!f)return{isTailwindClass:!1,originalClassName:s};if(h=r(u),!h)return{isTailwindClass:!1,originalClassName:s};m=!1}var _=e7(l).join(":"),v=c?_+vk:_;return{isTailwindClass:!0,modifierId:v,classGroupId:h,originalClassName:s,hasPostfixModifier:m}}).reverse().filter(function(s){if(!s.isTailwindClass)return!0;var a=s.modifierId,l=s.classGroupId,c=s.hasPostfixModifier,u=a+l;return o.has(u)?!1:(o.add(u),i(l,c).forEach(function(f){return o.add(a+f)}),!0)}).reverse().map(function(s){return s.originalClassName}).join(" ")}function i7(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r,i,o,s=a;function a(c){var u=e[0],f=e.slice(1),h=f.reduce(function(m,_){return _(m)},u());return r=t7(h),i=r.cache.get,o=r.cache.set,s=l,l(c)}function l(c){var u=i(c);if(u)return u;var f=r7(c,r);return o(c,f),f}return function(){return s(qU.apply(null,arguments))}}function nt(t){var e=function(r){return r[t]||[]};return e.isThemeGetter=!0,e}var yk=/^\[(?:([a-z-]+):)?(.+)\]$/i,o7=/^\d+\/\d+$/,s7=new Set(["px","full","screen"]),a7=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,l7=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,c7=/^-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/;function nr(t){return rs(t)||s7.has(t)||o7.test(t)||yy(t)}function yy(t){return ks(t,"length",m7)}function u7(t){return ks(t,"size",wk)}function d7(t){return ks(t,"position",wk)}function f7(t){return ks(t,"url",g7)}function Dd(t){return ks(t,"number",rs)}function rs(t){return!Number.isNaN(Number(t))}function h7(t){return t.endsWith("%")&&rs(t.slice(0,-1))}function Hl(t){return Zb(t)||ks(t,"number",Zb)}function Pe(t){return yk.test(t)}function ql(){return!0}function Mi(t){return a7.test(t)}function p7(t){return ks(t,"",v7)}function ks(t,e,n){var r=yk.exec(t);return r?r[1]?r[1]===e:n(r[2]):!1}function m7(t){return l7.test(t)}function wk(){return!1}function g7(t){return t.startsWith("url(")}function Zb(t){return Number.isInteger(Number(t))}function v7(t){return c7.test(t)}function y7(){var t=nt("colors"),e=nt("spacing"),n=nt("blur"),r=nt("brightness"),i=nt("borderColor"),o=nt("borderRadius"),s=nt("borderSpacing"),a=nt("borderWidth"),l=nt("contrast"),c=nt("grayscale"),u=nt("hueRotate"),f=nt("invert"),h=nt("gap"),m=nt("gradientColorStops"),_=nt("gradientColorStopPositions"),v=nt("inset"),E=nt("margin"),x=nt("opacity"),y=nt("padding"),b=nt("saturate"),P=nt("scale"),N=nt("sepia"),M=nt("skew"),S=nt("space"),C=nt("translate"),I=function(){return["auto","contain","none"]},A=function(){return["auto","hidden","clip","visible","scroll"]},O=function(){return["auto",Pe,e]},D=function(){return[Pe,e]},k=function(){return["",nr]},B=function(){return["auto",rs,Pe]},q=function(){return["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"]},K=function(){return["solid","dashed","dotted","double","none"]},j=function(){return["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity","plus-lighter"]},L=function(){return["start","end","center","between","around","evenly","stretch"]},V=function(){return["","0",Pe]},$=function(){return["auto","avoid","all","avoid-page","page","left","right","column"]},W=function(){return[rs,Dd]},Y=function(){return[rs,Pe]};return{cacheSize:500,theme:{colors:[ql],spacing:[nr],blur:["none","",Mi,Pe],brightness:W(),borderColor:[t],borderRadius:["none","","full",Mi,Pe],borderSpacing:D(),borderWidth:k(),contrast:W(),grayscale:V(),hueRotate:Y(),invert:V(),gap:D(),gradientColorStops:[t],gradientColorStopPositions:[h7,yy],inset:O(),margin:O(),opacity:W(),padding:D(),saturate:W(),scale:W(),sepia:V(),skew:Y(),space:D(),translate:D()},classGroups:{aspect:[{aspect:["auto","square","video",Pe]}],container:["container"],columns:[{columns:[Mi]}],"break-after":[{"break-after":$()}],"break-before":[{"break-before":$()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none"]}],clear:[{clear:["left","right","both","none"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[].concat(q(),[Pe])}],overflow:[{overflow:A()}],"overflow-x":[{"overflow-x":A()}],"overflow-y":[{"overflow-y":A()}],overscroll:[{overscroll:I()}],"overscroll-x":[{"overscroll-x":I()}],"overscroll-y":[{"overscroll-y":I()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[v]}],"inset-x":[{"inset-x":[v]}],"inset-y":[{"inset-y":[v]}],start:[{start:[v]}],end:[{end:[v]}],top:[{top:[v]}],right:[{right:[v]}],bottom:[{bottom:[v]}],left:[{left:[v]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Hl]}],basis:[{basis:O()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Pe]}],grow:[{grow:V()}],shrink:[{shrink:V()}],order:[{order:["first","last","none",Hl]}],"grid-cols":[{"grid-cols":[ql]}],"col-start-end":[{col:["auto",{span:["full",Hl]},Pe]}],"col-start":[{"col-start":B()}],"col-end":[{"col-end":B()}],"grid-rows":[{"grid-rows":[ql]}],"row-start-end":[{row:["auto",{span:[Hl]},Pe]}],"row-start":[{"row-start":B()}],"row-end":[{"row-end":B()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Pe]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Pe]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal"].concat(L())}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal"].concat(L(),["baseline"])}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[].concat(L(),["baseline"])}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[y]}],px:[{px:[y]}],py:[{py:[y]}],ps:[{ps:[y]}],pe:[{pe:[y]}],pt:[{pt:[y]}],pr:[{pr:[y]}],pb:[{pb:[y]}],pl:[{pl:[y]}],m:[{m:[E]}],mx:[{mx:[E]}],my:[{my:[E]}],ms:[{ms:[E]}],me:[{me:[E]}],mt:[{mt:[E]}],mr:[{mr:[E]}],mb:[{mb:[E]}],ml:[{ml:[E]}],"space-x":[{"space-x":[S]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[S]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit",Pe,e]}],"min-w":[{"min-w":["min","max","fit",Pe,nr]}],"max-w":[{"max-w":["0","none","full","min","max","fit","prose",{screen:[Mi]},Mi,Pe]}],h:[{h:[Pe,e,"auto","min","max","fit"]}],"min-h":[{"min-h":["min","max","fit",Pe,nr]}],"max-h":[{"max-h":[Pe,e,"min","max","fit"]}],"font-size":[{text:["base",Mi,yy]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Dd]}],"font-family":[{font:[ql]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Pe]}],"line-clamp":[{"line-clamp":["none",rs,Dd]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Pe,nr]}],"list-image":[{"list-image":["none",Pe]}],"list-style-type":[{list:["none","disc","decimal",Pe]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[x]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[x]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[].concat(K(),["wavy"])}],"text-decoration-thickness":[{decoration:["auto","from-font",nr]}],"underline-offset":[{"underline-offset":["auto",Pe,nr]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],indent:[{indent:D()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Pe]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Pe]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[x]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[].concat(q(),[d7])}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",u7]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},f7]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[_]}],"gradient-via-pos":[{via:[_]}],"gradient-to-pos":[{to:[_]}],"gradient-from":[{from:[m]}],"gradient-via":[{via:[m]}],"gradient-to":[{to:[m]}],rounded:[{rounded:[o]}],"rounded-s":[{"rounded-s":[o]}],"rounded-e":[{"rounded-e":[o]}],"rounded-t":[{"rounded-t":[o]}],"rounded-r":[{"rounded-r":[o]}],"rounded-b":[{"rounded-b":[o]}],"rounded-l":[{"rounded-l":[o]}],"rounded-ss":[{"rounded-ss":[o]}],"rounded-se":[{"rounded-se":[o]}],"rounded-ee":[{"rounded-ee":[o]}],"rounded-es":[{"rounded-es":[o]}],"rounded-tl":[{"rounded-tl":[o]}],"rounded-tr":[{"rounded-tr":[o]}],"rounded-br":[{"rounded-br":[o]}],"rounded-bl":[{"rounded-bl":[o]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[x]}],"border-style":[{border:[].concat(K(),["hidden"])}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[x]}],"divide-style":[{divide:K()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:[""].concat(K())}],"outline-offset":[{"outline-offset":[Pe,nr]}],"outline-w":[{outline:[nr]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:k()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[x]}],"ring-offset-w":[{"ring-offset":[nr]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",Mi,p7]}],"shadow-color":[{shadow:[ql]}],opacity:[{opacity:[x]}],"mix-blend":[{"mix-blend":j()}],"bg-blend":[{"bg-blend":j()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",Mi,Pe]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[u]}],invert:[{invert:[f]}],saturate:[{saturate:[b]}],sepia:[{sepia:[N]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[u]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[x]}],"backdrop-saturate":[{"backdrop-saturate":[b]}],"backdrop-sepia":[{"backdrop-sepia":[N]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[s]}],"border-spacing-x":[{"border-spacing-x":[s]}],"border-spacing-y":[{"border-spacing-y":[s]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Pe]}],duration:[{duration:Y()}],ease:[{ease:["linear","in","out","in-out",Pe]}],delay:[{delay:Y()}],animate:[{animate:["none","spin","ping","pulse","bounce",Pe]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[P]}],"scale-x":[{"scale-x":[P]}],"scale-y":[{"scale-y":[P]}],rotate:[{rotate:[Hl,Pe]}],"translate-x":[{"translate-x":[C]}],"translate-y":[{"translate-y":[C]}],"skew-x":[{"skew-x":[M]}],"skew-y":[{"skew-y":[M]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Pe]}],accent:[{accent:["auto",t]}],appearance:["appearance-none"],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Pe]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":D()}],"scroll-mx":[{"scroll-mx":D()}],"scroll-my":[{"scroll-my":D()}],"scroll-ms":[{"scroll-ms":D()}],"scroll-me":[{"scroll-me":D()}],"scroll-mt":[{"scroll-mt":D()}],"scroll-mr":[{"scroll-mr":D()}],"scroll-mb":[{"scroll-mb":D()}],"scroll-ml":[{"scroll-ml":D()}],"scroll-p":[{"scroll-p":D()}],"scroll-px":[{"scroll-px":D()}],"scroll-py":[{"scroll-py":D()}],"scroll-ps":[{"scroll-ps":D()}],"scroll-pe":[{"scroll-pe":D()}],"scroll-pt":[{"scroll-pt":D()}],"scroll-pr":[{"scroll-pr":D()}],"scroll-pb":[{"scroll-pb":D()}],"scroll-pl":[{"scroll-pl":D()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","pinch-zoom","manipulation",{pan:["x","left","right","y","up","down"]}]}],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Pe]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[nr,Dd]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}}var w7=i7(y7);function ke(...t){return w7(pk(t))}function eT(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function _7(...t){return e=>{let n=!1;const r=t.map(i=>{const o=eT(i,e);return!n&&typeof o=="function"&&(n=!0),o});if(n)return()=>{for(let i=0;i<r.length;i++){const o=r[i];typeof o=="function"?o():eT(t[i],null)}}}}function lt(...t){return p.useCallback(_7(...t),t)}function Ha(t){const e=E7(t),n=p.forwardRef((r,i)=>{const{children:o,...s}=r,a=p.Children.toArray(o),l=a.find(T7);if(l){const c=l.props.children,u=a.map(f=>f===l?p.Children.count(c)>1?p.Children.only(null):p.isValidElement(c)?c.props.children:null:f);return g.jsx(e,{...s,ref:i,children:p.isValidElement(c)?p.cloneElement(c,void 0,u):null})}return g.jsx(e,{...s,ref:i,children:o})});return n.displayName=`${t}.Slot`,n}var x7=Ha("Slot");function E7(t){const e=p.forwardRef((n,r)=>{const{children:i,...o}=n,s=p.isValidElement(i)?S7(i):void 0,a=lt(s,r);if(p.isValidElement(i)){const l=C7(o,i.props);return i.type!==p.Fragment&&(l.ref=a),p.cloneElement(i,l)}return p.Children.count(i)>1?p.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var b7=Symbol("radix.slottable");function T7(t){return p.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===b7}function C7(t,e){const n={...e};for(const r in e){const i=t[r],o=e[r];/^on[A-Z]/.test(r)?i&&o?n[r]=(...a)=>{const l=o(...a);return i(...a),l}:i&&(n[r]=i):r==="style"?n[r]={...i,...o}:r==="className"&&(n[r]=[i,o].filter(Boolean).join(" "))}return{...t,...n}}function S7(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}const tT=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,nT=pk,xp=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return nT(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:i,defaultVariants:o}=e,s=Object.keys(i).map(c=>{const u=n==null?void 0:n[c],f=o==null?void 0:o[c];if(u===null)return null;const h=tT(u)||tT(f);return i[c][h]}),a=n&&Object.entries(n).reduce((c,u)=>{let[f,h]=u;return h===void 0||(c[f]=h),c},{}),l=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((c,u)=>{let{class:f,className:h,...m}=u;return Object.entries(m).every(_=>{let[v,E]=_;return Array.isArray(E)?E.includes({...o,...a}[v]):{...o,...a}[v]===E})?[...c,f,h]:c},[]);return nT(t,s,l,n==null?void 0:n.class,n==null?void 0:n.className)},wy=xp("inline-flex items-center justify-center rounded-lg text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-[#E27DBF] text-white hover:bg-[#FFB1DD]",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-lg px-3",lg:"h-11 rounded-lg px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),Ce=we.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...i},o)=>{const s=r?x7:"button";return g.jsx(s,{className:ke(wy({variant:e,size:n,className:t})),ref:o,...i})});Ce.displayName="Button";const Vr=we.forwardRef(({className:t,type:e,...n},r)=>g.jsx("input",{type:e,className:ke("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:shadow-[0_0_0_3px_rgba(226,125,191,0.2)] disabled:cursor-not-allowed disabled:opacity-50",t),ref:r,...n}));Vr.displayName="Input";var P7=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],We=P7.reduce((t,e)=>{const n=Ha(`Primitive.${e}`),r=p.forwardRef((i,o)=>{const{asChild:s,...a}=i,l=s?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),g.jsx(l,{...a,ref:o})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function _k(t,e){t&&Do.flushSync(()=>t.dispatchEvent(e))}var I7="Label",xk=p.forwardRef((t,e)=>g.jsx(We.label,{...t,ref:e,onMouseDown:n=>{var i;n.target.closest("button, input, select, textarea")||((i=t.onMouseDown)==null||i.call(t,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));xk.displayName=I7;var Ek=xk;const A7=xp("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),An=we.forwardRef(({className:t,...e},n)=>g.jsx(Ek,{ref:n,className:ke(A7(),t),...e}));An.displayName=Ek.displayName;const R7=1;let lg=0;function k7(){return lg=(lg+1)%Number.MAX_VALUE,lg.toString()}const un={state:{toasts:[]},listeners:[],getState:()=>un.state,setState:t=>{typeof t=="function"?un.state=t(un.state):un.state={...un.state,...t},un.listeners.forEach(e=>e(un.state))},subscribe:t=>(un.listeners.push(t),()=>{un.listeners=un.listeners.filter(e=>e!==t)})},D7=({...t})=>{const e=k7(),n=i=>un.setState(o=>({...o,toasts:o.toasts.map(s=>s.id===e?{...s,...i}:s)})),r=()=>un.setState(i=>({...i,toasts:i.toasts.filter(o=>o.id!==e)}));return un.setState(i=>({...i,toasts:[{...t,id:e,dismiss:r},...i.toasts].slice(0,R7)})),{id:e,dismiss:r,update:n}};function yl(){const[t,e]=p.useState(un.getState());return p.useEffect(()=>un.subscribe(r=>{e(r)}),[]),p.useEffect(()=>{const n=[];return t.toasts.forEach(r=>{if(r.duration===1/0)return;const i=setTimeout(()=>{r.dismiss()},r.duration||5e3);n.push(i)}),()=>{n.forEach(r=>clearTimeout(r))}},[t.toasts]),{toast:D7,toasts:t.toasts}}const bk=p.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"}),Ep=p.createContext({}),bp=p.createContext(null),Tp=typeof document<"u",qw=Tp?p.useLayoutEffect:p.useEffect,Tk=p.createContext({strict:!1}),Yw=t=>t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),N7="framerAppearId",Ck="data-"+Yw(N7);function M7(t,e,n,r){const{visualElement:i}=p.useContext(Ep),o=p.useContext(Tk),s=p.useContext(bp),a=p.useContext(bk).reducedMotion,l=p.useRef();r=r||o.renderer,!l.current&&r&&(l.current=r(t,{visualState:e,parent:i,props:n,presenceContext:s,blockInitialAnimation:s?s.initial===!1:!1,reducedMotionConfig:a}));const c=l.current;p.useInsertionEffect(()=>{c&&c.update(n,s)});const u=p.useRef(!!(n[Ck]&&!window.HandoffComplete));return qw(()=>{c&&(c.render(),u.current&&c.animationState&&c.animationState.animateChanges())}),p.useEffect(()=>{c&&(c.updateFeatures(),!u.current&&c.animationState&&c.animationState.animateChanges(),u.current&&(u.current=!1,window.HandoffComplete=!0))}),c}function da(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function O7(t,e,n){return p.useCallback(r=>{r&&t.mount&&t.mount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):da(n)&&(n.current=r))},[e])}function lu(t){return typeof t=="string"||Array.isArray(t)}function Cp(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}const Gw=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Kw=["initial",...Gw];function Sp(t){return Cp(t.animate)||Kw.some(e=>lu(t[e]))}function Sk(t){return!!(Sp(t)||t.variants)}function L7(t,e){if(Sp(t)){const{initial:n,animate:r}=t;return{initial:n===!1||lu(n)?n:void 0,animate:lu(r)?r:void 0}}return t.inherit!==!1?e:{}}function V7(t){const{initial:e,animate:n}=L7(t,p.useContext(Ep));return p.useMemo(()=>({initial:e,animate:n}),[rT(e),rT(n)])}function rT(t){return Array.isArray(t)?t.join(" "):t}const iT={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},cu={};for(const t in iT)cu[t]={isEnabled:e=>iT[t].some(n=>!!e[n])};function j7(t){for(const e in t)cu[e]={...cu[e],...t[e]}}const Qw=p.createContext({}),Pk=p.createContext({}),F7=Symbol.for("motionComponentSymbol");function $7({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:i}){t&&j7(t);function o(a,l){let c;const u={...p.useContext(bk),...a,layoutId:U7(a)},{isStatic:f}=u,h=V7(a),m=r(a,f);if(!f&&Tp){h.visualElement=M7(i,m,u,e);const _=p.useContext(Pk),v=p.useContext(Tk).strict;h.visualElement&&(c=h.visualElement.loadFeatures(u,v,t,_))}return p.createElement(Ep.Provider,{value:h},c&&h.visualElement?p.createElement(c,{visualElement:h.visualElement,...u}):null,n(i,a,O7(m,h.visualElement,l),m,f,h.visualElement))}const s=p.forwardRef(o);return s[F7]=i,s}function U7({layoutId:t}){const e=p.useContext(Qw).id;return e&&t!==void 0?e+"-"+t:t}function B7(t){function e(r,i={}){return $7(t(r,i))}if(typeof Proxy>"u")return e;const n=new Map;return new Proxy(e,{get:(r,i)=>(n.has(i)||n.set(i,e(i)),n.get(i))})}const W7=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Xw(t){return typeof t!="string"||t.includes("-")?!1:!!(W7.indexOf(t)>-1||/[A-Z]/.test(t))}const mh={};function z7(t){Object.assign(mh,t)}const Mu=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Ds=new Set(Mu);function Ik(t,{layout:e,layoutId:n}){return Ds.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!mh[t]||t==="opacity")}const Sn=t=>!!(t&&t.getVelocity),H7={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},q7=Mu.length;function Y7(t,{enableHardwareAcceleration:e=!0,allowTransformNone:n=!0},r,i){let o="";for(let s=0;s<q7;s++){const a=Mu[s];if(t[a]!==void 0){const l=H7[a]||a;o+=`${l}(${t[a]}) `}}return e&&!t.z&&(o+="translateZ(0)"),o=o.trim(),i?o=i(t,r?"":o):n&&r&&(o="none"),o}const Ak=t=>e=>typeof e=="string"&&e.startsWith(t),Rk=Ak("--"),_y=Ak("var(--"),G7=/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,K7=(t,e)=>e&&typeof t=="number"?e.transform(t):t,Co=(t,e,n)=>Math.min(Math.max(n,t),e),Ns={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Ec={...Ns,transform:t=>Co(0,1,t)},Nd={...Ns,default:1},bc=t=>Math.round(t*1e5)/1e5,Pp=/(-)?([\d]*\.?[\d])+/g,kk=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,Q7=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function Ou(t){return typeof t=="string"}const Lu=t=>({test:e=>Ou(e)&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Li=Lu("deg"),jr=Lu("%"),pe=Lu("px"),X7=Lu("vh"),J7=Lu("vw"),oT={...jr,parse:t=>jr.parse(t)/100,transform:t=>jr.transform(t*100)},sT={...Ns,transform:Math.round},Dk={borderWidth:pe,borderTopWidth:pe,borderRightWidth:pe,borderBottomWidth:pe,borderLeftWidth:pe,borderRadius:pe,radius:pe,borderTopLeftRadius:pe,borderTopRightRadius:pe,borderBottomRightRadius:pe,borderBottomLeftRadius:pe,width:pe,maxWidth:pe,height:pe,maxHeight:pe,size:pe,top:pe,right:pe,bottom:pe,left:pe,padding:pe,paddingTop:pe,paddingRight:pe,paddingBottom:pe,paddingLeft:pe,margin:pe,marginTop:pe,marginRight:pe,marginBottom:pe,marginLeft:pe,rotate:Li,rotateX:Li,rotateY:Li,rotateZ:Li,scale:Nd,scaleX:Nd,scaleY:Nd,scaleZ:Nd,skew:Li,skewX:Li,skewY:Li,distance:pe,translateX:pe,translateY:pe,translateZ:pe,x:pe,y:pe,z:pe,perspective:pe,transformPerspective:pe,opacity:Ec,originX:oT,originY:oT,originZ:pe,zIndex:sT,fillOpacity:Ec,strokeOpacity:Ec,numOctaves:sT};function Jw(t,e,n,r){const{style:i,vars:o,transform:s,transformOrigin:a}=t;let l=!1,c=!1,u=!0;for(const f in e){const h=e[f];if(Rk(f)){o[f]=h;continue}const m=Dk[f],_=K7(h,m);if(Ds.has(f)){if(l=!0,s[f]=_,!u)continue;h!==(m.default||0)&&(u=!1)}else f.startsWith("origin")?(c=!0,a[f]=_):i[f]=_}if(e.transform||(l||r?i.transform=Y7(t.transform,n,u,r):i.transform&&(i.transform="none")),c){const{originX:f="50%",originY:h="50%",originZ:m=0}=a;i.transformOrigin=`${f} ${h} ${m}`}}const Zw=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function Nk(t,e,n){for(const r in e)!Sn(e[r])&&!Ik(r,n)&&(t[r]=e[r])}function Z7({transformTemplate:t},e,n){return p.useMemo(()=>{const r=Zw();return Jw(r,e,{enableHardwareAcceleration:!n},t),Object.assign({},r.vars,r.style)},[e])}function eB(t,e,n){const r=t.style||{},i={};return Nk(i,r,t),Object.assign(i,Z7(t,e,n)),t.transformValues?t.transformValues(i):i}function tB(t,e,n){const r={},i=eB(t,e,n);return t.drag&&t.dragListener!==!1&&(r.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(r.tabIndex=0),r.style=i,r}const nB=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function gh(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||nB.has(t)}let Mk=t=>!gh(t);function rB(t){t&&(Mk=e=>e.startsWith("on")?!gh(e):t(e))}try{rB(require("@emotion/is-prop-valid").default)}catch{}function iB(t,e,n){const r={};for(const i in t)i==="values"&&typeof t.values=="object"||(Mk(i)||n===!0&&gh(i)||!e&&!gh(i)||t.draggable&&i.startsWith("onDrag"))&&(r[i]=t[i]);return r}function aT(t,e,n){return typeof t=="string"?t:pe.transform(e+n*t)}function oB(t,e,n){const r=aT(e,t.x,t.width),i=aT(n,t.y,t.height);return`${r} ${i}`}const sB={offset:"stroke-dashoffset",array:"stroke-dasharray"},aB={offset:"strokeDashoffset",array:"strokeDasharray"};function lB(t,e,n=1,r=0,i=!0){t.pathLength=1;const o=i?sB:aB;t[o.offset]=pe.transform(-r);const s=pe.transform(e),a=pe.transform(n);t[o.array]=`${s} ${a}`}function e_(t,{attrX:e,attrY:n,attrScale:r,originX:i,originY:o,pathLength:s,pathSpacing:a=1,pathOffset:l=0,...c},u,f,h){if(Jw(t,c,u,h),f){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:m,style:_,dimensions:v}=t;m.transform&&(v&&(_.transform=m.transform),delete m.transform),v&&(i!==void 0||o!==void 0||_.transform)&&(_.transformOrigin=oB(v,i!==void 0?i:.5,o!==void 0?o:.5)),e!==void 0&&(m.x=e),n!==void 0&&(m.y=n),r!==void 0&&(m.scale=r),s!==void 0&&lB(m,s,a,l,!1)}const Ok=()=>({...Zw(),attrs:{}}),t_=t=>typeof t=="string"&&t.toLowerCase()==="svg";function cB(t,e,n,r){const i=p.useMemo(()=>{const o=Ok();return e_(o,e,{enableHardwareAcceleration:!1},t_(r),t.transformTemplate),{...o.attrs,style:{...o.style}}},[e]);if(t.style){const o={};Nk(o,t.style,t),i.style={...o,...i.style}}return i}function uB(t=!1){return(n,r,i,{latestValues:o},s)=>{const l=(Xw(n)?cB:tB)(r,o,s,n),u={...iB(r,typeof n=="string",t),...l,ref:i},{children:f}=r,h=p.useMemo(()=>Sn(f)?f.get():f,[f]);return p.createElement(n,{...u,children:h})}}function Lk(t,{style:e,vars:n},r,i){Object.assign(t.style,e,i&&i.getProjectionStyles(r));for(const o in n)t.style.setProperty(o,n[o])}const Vk=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function jk(t,e,n,r){Lk(t,e,void 0,r);for(const i in e.attrs)t.setAttribute(Vk.has(i)?i:Yw(i),e.attrs[i])}function n_(t,e){const{style:n}=t,r={};for(const i in n)(Sn(n[i])||e.style&&Sn(e.style[i])||Ik(i,t))&&(r[i]=n[i]);return r}function Fk(t,e){const n=n_(t,e);for(const r in t)if(Sn(t[r])||Sn(e[r])){const i=Mu.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;n[i]=t[r]}return n}function r_(t,e,n,r={},i={}){return typeof e=="function"&&(e=e(n!==void 0?n:t.custom,r,i)),typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"&&(e=e(n!==void 0?n:t.custom,r,i)),e}function $k(t){const e=p.useRef(null);return e.current===null&&(e.current=t()),e.current}const vh=t=>Array.isArray(t),dB=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),fB=t=>vh(t)?t[t.length-1]||0:t;function vf(t){const e=Sn(t)?t.get():t;return dB(e)?e.toValue():e}function hB({scrapeMotionValuesFromProps:t,createRenderState:e,onMount:n},r,i,o){const s={latestValues:pB(r,i,o,t),renderState:e()};return n&&(s.mount=a=>n(r,a,s)),s}const Uk=t=>(e,n)=>{const r=p.useContext(Ep),i=p.useContext(bp),o=()=>hB(t,e,r,i);return n?o():$k(o)};function pB(t,e,n,r){const i={},o=r(t,{});for(const h in o)i[h]=vf(o[h]);let{initial:s,animate:a}=t;const l=Sp(t),c=Sk(t);e&&c&&!l&&t.inherit!==!1&&(s===void 0&&(s=e.initial),a===void 0&&(a=e.animate));let u=n?n.initial===!1:!1;u=u||s===!1;const f=u?a:s;return f&&typeof f!="boolean"&&!Cp(f)&&(Array.isArray(f)?f:[f]).forEach(m=>{const _=r_(t,m);if(!_)return;const{transitionEnd:v,transition:E,...x}=_;for(const y in x){let b=x[y];if(Array.isArray(b)){const P=u?b.length-1:0;b=b[P]}b!==null&&(i[y]=b)}for(const y in v)i[y]=v[y]}),i}const vt=t=>t;class lT{constructor(){this.order=[],this.scheduled=new Set}add(e){if(!this.scheduled.has(e))return this.scheduled.add(e),this.order.push(e),!0}remove(e){const n=this.order.indexOf(e);n!==-1&&(this.order.splice(n,1),this.scheduled.delete(e))}clear(){this.order.length=0,this.scheduled.clear()}}function mB(t){let e=new lT,n=new lT,r=0,i=!1,o=!1;const s=new WeakSet,a={schedule:(l,c=!1,u=!1)=>{const f=u&&i,h=f?e:n;return c&&s.add(l),h.add(l)&&f&&i&&(r=e.order.length),l},cancel:l=>{n.remove(l),s.delete(l)},process:l=>{if(i){o=!0;return}if(i=!0,[e,n]=[n,e],n.clear(),r=e.order.length,r)for(let c=0;c<r;c++){const u=e.order[c];u(l),s.has(u)&&(a.schedule(u),t())}i=!1,o&&(o=!1,a.process(l))}};return a}const Md=["prepare","read","update","preRender","render","postRender"],gB=40;function vB(t,e){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},o=Md.reduce((f,h)=>(f[h]=mB(()=>n=!0),f),{}),s=f=>o[f].process(i),a=()=>{const f=performance.now();n=!1,i.delta=r?1e3/60:Math.max(Math.min(f-i.timestamp,gB),1),i.timestamp=f,i.isProcessing=!0,Md.forEach(s),i.isProcessing=!1,n&&e&&(r=!1,t(a))},l=()=>{n=!0,r=!0,i.isProcessing||t(a)};return{schedule:Md.reduce((f,h)=>{const m=o[h];return f[h]=(_,v=!1,E=!1)=>(n||l(),m.schedule(_,v,E)),f},{}),cancel:f=>Md.forEach(h=>o[h].cancel(f)),state:i,steps:o}}const{schedule:Je,cancel:_i,state:Zt,steps:cg}=vB(typeof requestAnimationFrame<"u"?requestAnimationFrame:vt,!0),yB={useVisualState:Uk({scrapeMotionValuesFromProps:Fk,createRenderState:Ok,onMount:(t,e,{renderState:n,latestValues:r})=>{Je.read(()=>{try{n.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{n.dimensions={x:0,y:0,width:0,height:0}}}),Je.render(()=>{e_(n,r,{enableHardwareAcceleration:!1},t_(e.tagName),t.transformTemplate),jk(e,n)})}})},wB={useVisualState:Uk({scrapeMotionValuesFromProps:n_,createRenderState:Zw})};function _B(t,{forwardMotionProps:e=!1},n,r){return{...Xw(t)?yB:wB,preloadedFeatures:n,useRender:uB(e),createVisualElement:r,Component:t}}function ii(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}const Bk=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1;function Ip(t,e="page"){return{point:{x:t[e+"X"],y:t[e+"Y"]}}}const xB=t=>e=>Bk(e)&&t(e,Ip(e));function li(t,e,n,r){return ii(t,e,xB(n),r)}const EB=(t,e)=>n=>e(t(n)),po=(...t)=>t.reduce(EB);function Wk(t){let e=null;return()=>{const n=()=>{e=null};return e===null?(e=t,n):!1}}const cT=Wk("dragHorizontal"),uT=Wk("dragVertical");function zk(t){let e=!1;if(t==="y")e=uT();else if(t==="x")e=cT();else{const n=cT(),r=uT();n&&r?e=()=>{n(),r()}:(n&&n(),r&&r())}return e}function Hk(){const t=zk(!0);return t?(t(),!1):!0}class Fo{constructor(e){this.isMounted=!1,this.node=e}update(){}}function dT(t,e){const n="pointer"+(e?"enter":"leave"),r="onHover"+(e?"Start":"End"),i=(o,s)=>{if(o.pointerType==="touch"||Hk())return;const a=t.getProps();t.animationState&&a.whileHover&&t.animationState.setActive("whileHover",e),a[r]&&Je.update(()=>a[r](o,s))};return li(t.current,n,i,{passive:!t.getProps()[r]})}class bB extends Fo{mount(){this.unmount=po(dT(this.node,!0),dT(this.node,!1))}unmount(){}}class TB extends Fo{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=po(ii(this.node.current,"focus",()=>this.onFocus()),ii(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const qk=(t,e)=>e?t===e?!0:qk(t,e.parentElement):!1;function ug(t,e){if(!e)return;const n=new PointerEvent("pointer"+t);e(n,Ip(n))}class CB extends Fo{constructor(){super(...arguments),this.removeStartListeners=vt,this.removeEndListeners=vt,this.removeAccessibleListeners=vt,this.startPointerPress=(e,n)=>{if(this.isPressing)return;this.removeEndListeners();const r=this.node.getProps(),o=li(window,"pointerup",(a,l)=>{if(!this.checkPressEnd())return;const{onTap:c,onTapCancel:u,globalTapTarget:f}=this.node.getProps();Je.update(()=>{!f&&!qk(this.node.current,a.target)?u&&u(a,l):c&&c(a,l)})},{passive:!(r.onTap||r.onPointerUp)}),s=li(window,"pointercancel",(a,l)=>this.cancelPress(a,l),{passive:!(r.onTapCancel||r.onPointerCancel)});this.removeEndListeners=po(o,s),this.startPress(e,n)},this.startAccessiblePress=()=>{const e=o=>{if(o.key!=="Enter"||this.isPressing)return;const s=a=>{a.key!=="Enter"||!this.checkPressEnd()||ug("up",(l,c)=>{const{onTap:u}=this.node.getProps();u&&Je.update(()=>u(l,c))})};this.removeEndListeners(),this.removeEndListeners=ii(this.node.current,"keyup",s),ug("down",(a,l)=>{this.startPress(a,l)})},n=ii(this.node.current,"keydown",e),r=()=>{this.isPressing&&ug("cancel",(o,s)=>this.cancelPress(o,s))},i=ii(this.node.current,"blur",r);this.removeAccessibleListeners=po(n,i)}}startPress(e,n){this.isPressing=!0;const{onTapStart:r,whileTap:i}=this.node.getProps();i&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),r&&Je.update(()=>r(e,n))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!Hk()}cancelPress(e,n){if(!this.checkPressEnd())return;const{onTapCancel:r}=this.node.getProps();r&&Je.update(()=>r(e,n))}mount(){const e=this.node.getProps(),n=li(e.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(e.onTapStart||e.onPointerStart)}),r=ii(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=po(n,r)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const xy=new WeakMap,dg=new WeakMap,SB=t=>{const e=xy.get(t.target);e&&e(t)},PB=t=>{t.forEach(SB)};function IB({root:t,...e}){const n=t||document;dg.has(n)||dg.set(n,{});const r=dg.get(n),i=JSON.stringify(e);return r[i]||(r[i]=new IntersectionObserver(PB,{root:t,...e})),r[i]}function AB(t,e,n){const r=IB(e);return xy.set(t,n),r.observe(t),()=>{xy.delete(t),r.unobserve(t)}}const RB={some:0,all:1};class kB extends Fo{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:o}=e,s={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:RB[i]},a=l=>{const{isIntersecting:c}=l;if(this.isInView===c||(this.isInView=c,o&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:u,onViewportLeave:f}=this.node.getProps(),h=c?u:f;h&&h(l)};return AB(this.node.current,s,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(DB(e,n))&&this.startObserver()}unmount(){}}function DB({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const NB={inView:{Feature:kB},tap:{Feature:CB},focus:{Feature:TB},hover:{Feature:bB}};function Yk(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}function MB(t){const e={};return t.values.forEach((n,r)=>e[r]=n.get()),e}function OB(t){const e={};return t.values.forEach((n,r)=>e[r]=n.getVelocity()),e}function Ap(t,e,n){const r=t.getProps();return r_(r,e,n!==void 0?n:r.custom,MB(t),OB(t))}let LB=vt,i_=vt;const mo=t=>t*1e3,ci=t=>t/1e3,VB={current:!1},Gk=t=>Array.isArray(t)&&typeof t[0]=="number";function Kk(t){return!!(!t||typeof t=="string"&&Qk[t]||Gk(t)||Array.isArray(t)&&t.every(Kk))}const sc=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,Qk={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:sc([0,.65,.55,1]),circOut:sc([.55,0,1,.45]),backIn:sc([.31,.01,.66,-.59]),backOut:sc([.33,1.53,.69,.99])};function Xk(t){if(t)return Gk(t)?sc(t):Array.isArray(t)?t.map(Xk):Qk[t]}function jB(t,e,n,{delay:r=0,duration:i,repeat:o=0,repeatType:s="loop",ease:a,times:l}={}){const c={[e]:n};l&&(c.offset=l);const u=Xk(a);return Array.isArray(u)&&(c.easing=u),t.animate(c,{delay:r,duration:i,easing:Array.isArray(u)?"linear":u,fill:"both",iterations:o+1,direction:s==="reverse"?"alternate":"normal"})}function FB(t,{repeat:e,repeatType:n="loop"}){const r=e&&n!=="loop"&&e%2===1?0:t.length-1;return t[r]}const Jk=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,$B=1e-7,UB=12;function BB(t,e,n,r,i){let o,s,a=0;do s=e+(n-e)/2,o=Jk(s,r,i)-t,o>0?n=s:e=s;while(Math.abs(o)>$B&&++a<UB);return s}function Vu(t,e,n,r){if(t===e&&n===r)return vt;const i=o=>BB(o,0,1,t,n);return o=>o===0||o===1?o:Jk(i(o),e,r)}const WB=Vu(.42,0,1,1),zB=Vu(0,0,.58,1),Zk=Vu(.42,0,.58,1),HB=t=>Array.isArray(t)&&typeof t[0]!="number",eD=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,tD=t=>e=>1-t(1-e),o_=t=>1-Math.sin(Math.acos(t)),nD=tD(o_),qB=eD(o_),rD=Vu(.33,1.53,.69,.99),s_=tD(rD),YB=eD(s_),GB=t=>(t*=2)<1?.5*s_(t):.5*(2-Math.pow(2,-10*(t-1))),KB={linear:vt,easeIn:WB,easeInOut:Zk,easeOut:zB,circIn:o_,circInOut:qB,circOut:nD,backIn:s_,backInOut:YB,backOut:rD,anticipate:GB},fT=t=>{if(Array.isArray(t)){i_(t.length===4);const[e,n,r,i]=t;return Vu(e,n,r,i)}else if(typeof t=="string")return KB[t];return t},a_=(t,e)=>n=>!!(Ou(n)&&Q7.test(n)&&n.startsWith(t)||e&&Object.prototype.hasOwnProperty.call(n,e)),iD=(t,e,n)=>r=>{if(!Ou(r))return r;const[i,o,s,a]=r.match(Pp);return{[t]:parseFloat(i),[e]:parseFloat(o),[n]:parseFloat(s),alpha:a!==void 0?parseFloat(a):1}},QB=t=>Co(0,255,t),fg={...Ns,transform:t=>Math.round(QB(t))},is={test:a_("rgb","red"),parse:iD("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+fg.transform(t)+", "+fg.transform(e)+", "+fg.transform(n)+", "+bc(Ec.transform(r))+")"};function XB(t){let e="",n="",r="",i="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),i=t.substring(4,5),e+=e,n+=n,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const Ey={test:a_("#"),parse:XB,transform:is.transform},fa={test:a_("hsl","hue"),parse:iD("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+jr.transform(bc(e))+", "+jr.transform(bc(n))+", "+bc(Ec.transform(r))+")"},dn={test:t=>is.test(t)||Ey.test(t)||fa.test(t),parse:t=>is.test(t)?is.parse(t):fa.test(t)?fa.parse(t):Ey.parse(t),transform:t=>Ou(t)?t:t.hasOwnProperty("red")?is.transform(t):fa.transform(t)},ut=(t,e,n)=>-n*t+n*e+t;function hg(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function JB({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let i=0,o=0,s=0;if(!e)i=o=s=n;else{const a=n<.5?n*(1+e):n+e-n*e,l=2*n-a;i=hg(l,a,t+1/3),o=hg(l,a,t),s=hg(l,a,t-1/3)}return{red:Math.round(i*255),green:Math.round(o*255),blue:Math.round(s*255),alpha:r}}const pg=(t,e,n)=>{const r=t*t;return Math.sqrt(Math.max(0,n*(e*e-r)+r))},ZB=[Ey,is,fa],e8=t=>ZB.find(e=>e.test(t));function hT(t){const e=e8(t);let n=e.parse(t);return e===fa&&(n=JB(n)),n}const oD=(t,e)=>{const n=hT(t),r=hT(e),i={...n};return o=>(i.red=pg(n.red,r.red,o),i.green=pg(n.green,r.green,o),i.blue=pg(n.blue,r.blue,o),i.alpha=ut(n.alpha,r.alpha,o),is.transform(i))};function t8(t){var e,n;return isNaN(t)&&Ou(t)&&(((e=t.match(Pp))===null||e===void 0?void 0:e.length)||0)+(((n=t.match(kk))===null||n===void 0?void 0:n.length)||0)>0}const sD={regex:G7,countKey:"Vars",token:"${v}",parse:vt},aD={regex:kk,countKey:"Colors",token:"${c}",parse:dn.parse},lD={regex:Pp,countKey:"Numbers",token:"${n}",parse:Ns.parse};function mg(t,{regex:e,countKey:n,token:r,parse:i}){const o=t.tokenised.match(e);o&&(t["num"+n]=o.length,t.tokenised=t.tokenised.replace(e,r),t.values.push(...o.map(i)))}function yh(t){const e=t.toString(),n={value:e,tokenised:e,values:[],numVars:0,numColors:0,numNumbers:0};return n.value.includes("var(--")&&mg(n,sD),mg(n,aD),mg(n,lD),n}function cD(t){return yh(t).values}function uD(t){const{values:e,numColors:n,numVars:r,tokenised:i}=yh(t),o=e.length;return s=>{let a=i;for(let l=0;l<o;l++)l<r?a=a.replace(sD.token,s[l]):l<r+n?a=a.replace(aD.token,dn.transform(s[l])):a=a.replace(lD.token,bc(s[l]));return a}}const n8=t=>typeof t=="number"?0:t;function r8(t){const e=cD(t);return uD(t)(e.map(n8))}const So={test:t8,parse:cD,createTransformer:uD,getAnimatableNone:r8},dD=(t,e)=>n=>`${n>0?e:t}`;function fD(t,e){return typeof t=="number"?n=>ut(t,e,n):dn.test(t)?oD(t,e):t.startsWith("var(")?dD(t,e):pD(t,e)}const hD=(t,e)=>{const n=[...t],r=n.length,i=t.map((o,s)=>fD(o,e[s]));return o=>{for(let s=0;s<r;s++)n[s]=i[s](o);return n}},i8=(t,e)=>{const n={...t,...e},r={};for(const i in n)t[i]!==void 0&&e[i]!==void 0&&(r[i]=fD(t[i],e[i]));return i=>{for(const o in r)n[o]=r[o](i);return n}},pD=(t,e)=>{const n=So.createTransformer(e),r=yh(t),i=yh(e);return r.numVars===i.numVars&&r.numColors===i.numColors&&r.numNumbers>=i.numNumbers?po(hD(r.values,i.values),n):dD(t,e)},uu=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r},pT=(t,e)=>n=>ut(t,e,n);function o8(t){return typeof t=="number"?pT:typeof t=="string"?dn.test(t)?oD:pD:Array.isArray(t)?hD:typeof t=="object"?i8:pT}function s8(t,e,n){const r=[],i=n||o8(t[0]),o=t.length-1;for(let s=0;s<o;s++){let a=i(t[s],t[s+1]);if(e){const l=Array.isArray(e)?e[s]||vt:e;a=po(l,a)}r.push(a)}return r}function mD(t,e,{clamp:n=!0,ease:r,mixer:i}={}){const o=t.length;if(i_(o===e.length),o===1)return()=>e[0];t[0]>t[o-1]&&(t=[...t].reverse(),e=[...e].reverse());const s=s8(e,r,i),a=s.length,l=c=>{let u=0;if(a>1)for(;u<t.length-2&&!(c<t[u+1]);u++);const f=uu(t[u],t[u+1],c);return s[u](f)};return n?c=>l(Co(t[0],t[o-1],c)):l}function a8(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const i=uu(0,e,r);t.push(ut(n,1,i))}}function l8(t){const e=[0];return a8(e,t.length-1),e}function c8(t,e){return t.map(n=>n*e)}function u8(t,e){return t.map(()=>e||Zk).splice(0,t.length-1)}function wh({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const i=HB(r)?r.map(fT):fT(r),o={done:!1,value:e[0]},s=c8(n&&n.length===e.length?n:l8(e),t),a=mD(s,e,{ease:Array.isArray(i)?i:u8(e,i)});return{calculatedDuration:t,next:l=>(o.value=a(l),o.done=l>=t,o)}}function gD(t,e){return e?t*(1e3/e):0}const d8=5;function vD(t,e,n){const r=Math.max(e-d8,0);return gD(n-t(r),e-r)}const gg=.001,f8=.01,mT=10,h8=.05,p8=1;function m8({duration:t=800,bounce:e=.25,velocity:n=0,mass:r=1}){let i,o;LB(t<=mo(mT));let s=1-e;s=Co(h8,p8,s),t=Co(f8,mT,ci(t)),s<1?(i=c=>{const u=c*s,f=u*t,h=u-n,m=by(c,s),_=Math.exp(-f);return gg-h/m*_},o=c=>{const f=c*s*t,h=f*n+n,m=Math.pow(s,2)*Math.pow(c,2)*t,_=Math.exp(-f),v=by(Math.pow(c,2),s);return(-i(c)+gg>0?-1:1)*((h-m)*_)/v}):(i=c=>{const u=Math.exp(-c*t),f=(c-n)*t+1;return-gg+u*f},o=c=>{const u=Math.exp(-c*t),f=(n-c)*(t*t);return u*f});const a=5/t,l=v8(i,o,a);if(t=mo(t),isNaN(l))return{stiffness:100,damping:10,duration:t};{const c=Math.pow(l,2)*r;return{stiffness:c,damping:s*2*Math.sqrt(r*c),duration:t}}}const g8=12;function v8(t,e,n){let r=n;for(let i=1;i<g8;i++)r=r-t(r)/e(r);return r}function by(t,e){return t*Math.sqrt(1-e*e)}const y8=["duration","bounce"],w8=["stiffness","damping","mass"];function gT(t,e){return e.some(n=>t[n]!==void 0)}function _8(t){let e={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...t};if(!gT(t,w8)&&gT(t,y8)){const n=m8(t);e={...e,...n,mass:1},e.isResolvedFromDuration=!0}return e}function yD({keyframes:t,restDelta:e,restSpeed:n,...r}){const i=t[0],o=t[t.length-1],s={done:!1,value:i},{stiffness:a,damping:l,mass:c,duration:u,velocity:f,isResolvedFromDuration:h}=_8({...r,velocity:-ci(r.velocity||0)}),m=f||0,_=l/(2*Math.sqrt(a*c)),v=o-i,E=ci(Math.sqrt(a/c)),x=Math.abs(v)<5;n||(n=x?.01:2),e||(e=x?.005:.5);let y;if(_<1){const b=by(E,_);y=P=>{const N=Math.exp(-_*E*P);return o-N*((m+_*E*v)/b*Math.sin(b*P)+v*Math.cos(b*P))}}else if(_===1)y=b=>o-Math.exp(-E*b)*(v+(m+E*v)*b);else{const b=E*Math.sqrt(_*_-1);y=P=>{const N=Math.exp(-_*E*P),M=Math.min(b*P,300);return o-N*((m+_*E*v)*Math.sinh(M)+b*v*Math.cosh(M))/b}}return{calculatedDuration:h&&u||null,next:b=>{const P=y(b);if(h)s.done=b>=u;else{let N=m;b!==0&&(_<1?N=vD(y,b,P):N=0);const M=Math.abs(N)<=n,S=Math.abs(o-P)<=e;s.done=M&&S}return s.value=s.done?o:P,s}}}function vT({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:o=500,modifyTarget:s,min:a,max:l,restDelta:c=.5,restSpeed:u}){const f=t[0],h={done:!1,value:f},m=C=>a!==void 0&&C<a||l!==void 0&&C>l,_=C=>a===void 0?l:l===void 0||Math.abs(a-C)<Math.abs(l-C)?a:l;let v=n*e;const E=f+v,x=s===void 0?E:s(E);x!==E&&(v=x-f);const y=C=>-v*Math.exp(-C/r),b=C=>x+y(C),P=C=>{const I=y(C),A=b(C);h.done=Math.abs(I)<=c,h.value=h.done?x:A};let N,M;const S=C=>{m(h.value)&&(N=C,M=yD({keyframes:[h.value,_(h.value)],velocity:vD(b,C,h.value),damping:i,stiffness:o,restDelta:c,restSpeed:u}))};return S(0),{calculatedDuration:null,next:C=>{let I=!1;return!M&&N===void 0&&(I=!0,P(C),S(C)),N!==void 0&&C>N?M.next(C-N):(!I&&P(C),h)}}}const x8=t=>{const e=({timestamp:n})=>t(n);return{start:()=>Je.update(e,!0),stop:()=>_i(e),now:()=>Zt.isProcessing?Zt.timestamp:performance.now()}},yT=2e4;function wT(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<yT;)e+=n,r=t.next(e);return e>=yT?1/0:e}const E8={decay:vT,inertia:vT,tween:wh,keyframes:wh,spring:yD};function _h({autoplay:t=!0,delay:e=0,driver:n=x8,keyframes:r,type:i="keyframes",repeat:o=0,repeatDelay:s=0,repeatType:a="loop",onPlay:l,onStop:c,onComplete:u,onUpdate:f,...h}){let m=1,_=!1,v,E;const x=()=>{E=new Promise(W=>{v=W})};x();let y;const b=E8[i]||wh;let P;b!==wh&&typeof r[0]!="number"&&(P=mD([0,100],r,{clamp:!1}),r=[0,100]);const N=b({...h,keyframes:r});let M;a==="mirror"&&(M=b({...h,keyframes:[...r].reverse(),velocity:-(h.velocity||0)}));let S="idle",C=null,I=null,A=null;N.calculatedDuration===null&&o&&(N.calculatedDuration=wT(N));const{calculatedDuration:O}=N;let D=1/0,k=1/0;O!==null&&(D=O+s,k=D*(o+1)-s);let B=0;const q=W=>{if(I===null)return;m>0&&(I=Math.min(I,W)),m<0&&(I=Math.min(W-k/m,I)),C!==null?B=C:B=Math.round(W-I)*m;const Y=B-e*(m>=0?1:-1),G=m>=0?Y<0:Y>k;B=Math.max(Y,0),S==="finished"&&C===null&&(B=k);let oe=B,fe=N;if(o){const te=Math.min(B,k)/D;let de=Math.floor(te),he=te%1;!he&&te>=1&&(he=1),he===1&&de--,de=Math.min(de,o+1),!!(de%2)&&(a==="reverse"?(he=1-he,s&&(he-=s/D)):a==="mirror"&&(fe=M)),oe=Co(0,1,he)*D}const Ee=G?{done:!1,value:r[0]}:fe.next(oe);P&&(Ee.value=P(Ee.value));let{done:J}=Ee;!G&&O!==null&&(J=m>=0?B>=k:B<=0);const ue=C===null&&(S==="finished"||S==="running"&&J);return f&&f(Ee.value),ue&&L(),Ee},K=()=>{y&&y.stop(),y=void 0},j=()=>{S="idle",K(),v(),x(),I=A=null},L=()=>{S="finished",u&&u(),K(),v()},V=()=>{if(_)return;y||(y=n(q));const W=y.now();l&&l(),C!==null?I=W-C:(!I||S==="finished")&&(I=W),S==="finished"&&x(),A=I,C=null,S="running",y.start()};t&&V();const $={then(W,Y){return E.then(W,Y)},get time(){return ci(B)},set time(W){W=mo(W),B=W,C!==null||!y||m===0?C=W:I=y.now()-W/m},get duration(){const W=N.calculatedDuration===null?wT(N):N.calculatedDuration;return ci(W)},get speed(){return m},set speed(W){W===m||!y||(m=W,$.time=ci(B))},get state(){return S},play:V,pause:()=>{S="paused",C=B},stop:()=>{_=!0,S!=="idle"&&(S="idle",c&&c(),j())},cancel:()=>{A!==null&&q(A),j()},complete:()=>{S="finished"},sample:W=>(I=0,q(W))};return $}function b8(t){let e;return()=>(e===void 0&&(e=t()),e)}const T8=b8(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),C8=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),Od=10,S8=2e4,P8=(t,e)=>e.type==="spring"||t==="backgroundColor"||!Kk(e.ease);function I8(t,e,{onUpdate:n,onComplete:r,...i}){if(!(T8()&&C8.has(e)&&!i.repeatDelay&&i.repeatType!=="mirror"&&i.damping!==0&&i.type!=="inertia"))return!1;let s=!1,a,l,c=!1;const u=()=>{l=new Promise(b=>{a=b})};u();let{keyframes:f,duration:h=300,ease:m,times:_}=i;if(P8(e,i)){const b=_h({...i,repeat:0,delay:0});let P={done:!1,value:f[0]};const N=[];let M=0;for(;!P.done&&M<S8;)P=b.sample(M),N.push(P.value),M+=Od;_=void 0,f=N,h=M-Od,m="linear"}const v=jB(t.owner.current,e,f,{...i,duration:h,ease:m,times:_}),E=()=>{c=!1,v.cancel()},x=()=>{c=!0,Je.update(E),a(),u()};return v.onfinish=()=>{c||(t.set(FB(f,i)),r&&r(),x())},{then(b,P){return l.then(b,P)},attachTimeline(b){return v.timeline=b,v.onfinish=null,vt},get time(){return ci(v.currentTime||0)},set time(b){v.currentTime=mo(b)},get speed(){return v.playbackRate},set speed(b){v.playbackRate=b},get duration(){return ci(h)},play:()=>{s||(v.play(),_i(E))},pause:()=>v.pause(),stop:()=>{if(s=!0,v.playState==="idle")return;const{currentTime:b}=v;if(b){const P=_h({...i,autoplay:!1});t.setWithVelocity(P.sample(b-Od).value,P.sample(b).value,Od)}x()},complete:()=>{c||v.finish()},cancel:x}}function A8({keyframes:t,delay:e,onUpdate:n,onComplete:r}){const i=()=>(n&&n(t[t.length-1]),r&&r(),{time:0,speed:1,duration:0,play:vt,pause:vt,stop:vt,then:o=>(o(),Promise.resolve()),cancel:vt,complete:vt});return e?_h({keyframes:[0,1],duration:0,delay:e,onComplete:i}):i()}const R8={type:"spring",stiffness:500,damping:25,restSpeed:10},k8=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),D8={type:"keyframes",duration:.8},N8={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},M8=(t,{keyframes:e})=>e.length>2?D8:Ds.has(t)?t.startsWith("scale")?k8(e[1]):R8:N8,Ty=(t,e)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(So.test(e)||e==="0")&&!e.startsWith("url(")),O8=new Set(["brightness","contrast","saturate","opacity"]);function L8(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(Pp)||[];if(!r)return t;const i=n.replace(r,"");let o=O8.has(e)?1:0;return r!==n&&(o*=100),e+"("+o+i+")"}const V8=/([a-z-]*)\(.*?\)/g,Cy={...So,getAnimatableNone:t=>{const e=t.match(V8);return e?e.map(L8).join(" "):t}},j8={...Dk,color:dn,backgroundColor:dn,outlineColor:dn,fill:dn,stroke:dn,borderColor:dn,borderTopColor:dn,borderRightColor:dn,borderBottomColor:dn,borderLeftColor:dn,filter:Cy,WebkitFilter:Cy},l_=t=>j8[t];function wD(t,e){let n=l_(t);return n!==Cy&&(n=So),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const _D=t=>/^0[^.\s]+$/.test(t);function F8(t){if(typeof t=="number")return t===0;if(t!==null)return t==="none"||t==="0"||_D(t)}function $8(t,e,n,r){const i=Ty(e,n);let o;Array.isArray(n)?o=[...n]:o=[null,n];const s=r.from!==void 0?r.from:t.get();let a;const l=[];for(let c=0;c<o.length;c++)o[c]===null&&(o[c]=c===0?s:o[c-1]),F8(o[c])&&l.push(c),typeof o[c]=="string"&&o[c]!=="none"&&o[c]!=="0"&&(a=o[c]);if(i&&l.length&&a)for(let c=0;c<l.length;c++){const u=l[c];o[u]=wD(e,a)}return o}function U8({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:o,repeatType:s,repeatDelay:a,from:l,elapsed:c,...u}){return!!Object.keys(u).length}function c_(t,e){return t[e]||t.default||t}const B8={skipAnimations:!1},u_=(t,e,n,r={})=>i=>{const o=c_(r,t)||{},s=o.delay||r.delay||0;let{elapsed:a=0}=r;a=a-mo(s);const l=$8(e,t,n,o),c=l[0],u=l[l.length-1],f=Ty(t,c),h=Ty(t,u);let m={keyframes:l,velocity:e.getVelocity(),ease:"easeOut",...o,delay:-a,onUpdate:_=>{e.set(_),o.onUpdate&&o.onUpdate(_)},onComplete:()=>{i(),o.onComplete&&o.onComplete()}};if(U8(o)||(m={...m,...M8(t,m)}),m.duration&&(m.duration=mo(m.duration)),m.repeatDelay&&(m.repeatDelay=mo(m.repeatDelay)),!f||!h||VB.current||o.type===!1||B8.skipAnimations)return A8(m);if(!r.isHandoff&&e.owner&&e.owner.current instanceof HTMLElement&&!e.owner.getProps().onUpdate){const _=I8(e,t,m);if(_)return _}return _h(m)};function xh(t){return!!(Sn(t)&&t.add)}const xD=t=>/^\-?\d*\.?\d+$/.test(t);function d_(t,e){t.indexOf(e)===-1&&t.push(e)}function f_(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class h_{constructor(){this.subscriptions=[]}add(e){return d_(this.subscriptions,e),()=>f_(this.subscriptions,e)}notify(e,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,n,r);else for(let o=0;o<i;o++){const s=this.subscriptions[o];s&&s(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const W8=t=>!isNaN(parseFloat(t));class z8{constructor(e,n={}){this.version="10.18.0",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(r,i=!0)=>{this.prev=this.current,this.current=r;const{delta:o,timestamp:s}=Zt;this.lastUpdated!==s&&(this.timeDelta=o,this.lastUpdated=s,Je.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>Je.postRender(this.velocityCheck),this.velocityCheck=({timestamp:r})=>{r!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=e,this.canTrackVelocity=W8(this.current),this.owner=n.owner}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new h_);const r=this.events[e].add(n);return e==="change"?()=>{r(),Je.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=e,this.timeDelta=r}jump(e){this.updateAndNotify(e),this.prev=e,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?gD(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function qa(t,e){return new z8(t,e)}const ED=t=>e=>e.test(t),H8={test:t=>t==="auto",parse:t=>t},bD=[Ns,pe,jr,Li,J7,X7,H8],Yl=t=>bD.find(ED(t)),q8=[...bD,dn,So],Y8=t=>q8.find(ED(t));function G8(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,qa(n))}function K8(t,e){const n=Ap(t,e);let{transitionEnd:r={},transition:i={},...o}=n?t.makeTargetAnimatable(n,!1):{};o={...o,...r};for(const s in o){const a=fB(o[s]);G8(t,s,a)}}function Q8(t,e,n){var r,i;const o=Object.keys(e).filter(a=>!t.hasValue(a)),s=o.length;if(s)for(let a=0;a<s;a++){const l=o[a],c=e[l];let u=null;Array.isArray(c)&&(u=c[0]),u===null&&(u=(i=(r=n[l])!==null&&r!==void 0?r:t.readValue(l))!==null&&i!==void 0?i:e[l]),u!=null&&(typeof u=="string"&&(xD(u)||_D(u))?u=parseFloat(u):!Y8(u)&&So.test(c)&&(u=wD(l,c)),t.addValue(l,qa(u,{owner:t})),n[l]===void 0&&(n[l]=u),u!==null&&t.setBaseTarget(l,u))}}function X8(t,e){return e?(e[t]||e.default||e).from:void 0}function J8(t,e,n){const r={};for(const i in t){const o=X8(i,e);if(o!==void 0)r[i]=o;else{const s=n.getValue(i);s&&(r[i]=s.get())}}return r}function Z8({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function eW(t,e){const n=t.get();if(Array.isArray(e)){for(let r=0;r<e.length;r++)if(e[r]!==n)return!0}else return n!==e}function TD(t,e,{delay:n=0,transitionOverride:r,type:i}={}){let{transition:o=t.getDefaultTransition(),transitionEnd:s,...a}=t.makeTargetAnimatable(e);const l=t.getValue("willChange");r&&(o=r);const c=[],u=i&&t.animationState&&t.animationState.getState()[i];for(const f in a){const h=t.getValue(f),m=a[f];if(!h||m===void 0||u&&Z8(u,f))continue;const _={delay:n,elapsed:0,...c_(o||{},f)};if(window.HandoffAppearAnimations){const x=t.getProps()[Ck];if(x){const y=window.HandoffAppearAnimations(x,f,h,Je);y!==null&&(_.elapsed=y,_.isHandoff=!0)}}let v=!_.isHandoff&&!eW(h,m);if(_.type==="spring"&&(h.getVelocity()||_.velocity)&&(v=!1),h.animation&&(v=!1),v)continue;h.start(u_(f,h,m,t.shouldReduceMotion&&Ds.has(f)?{type:!1}:_));const E=h.animation;xh(l)&&(l.add(f),E.then(()=>l.remove(f))),c.push(E)}return s&&Promise.all(c).then(()=>{s&&K8(t,s)}),c}function Sy(t,e,n={}){const r=Ap(t,e,n.custom);let{transition:i=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(i=n.transitionOverride);const o=r?()=>Promise.all(TD(t,r,n)):()=>Promise.resolve(),s=t.variantChildren&&t.variantChildren.size?(l=0)=>{const{delayChildren:c=0,staggerChildren:u,staggerDirection:f}=i;return tW(t,e,c+l,u,f,n)}:()=>Promise.resolve(),{when:a}=i;if(a){const[l,c]=a==="beforeChildren"?[o,s]:[s,o];return l().then(()=>c())}else return Promise.all([o(),s(n.delay)])}function tW(t,e,n=0,r=0,i=1,o){const s=[],a=(t.variantChildren.size-1)*r,l=i===1?(c=0)=>c*r:(c=0)=>a-c*r;return Array.from(t.variantChildren).sort(nW).forEach((c,u)=>{c.notify("AnimationStart",e),s.push(Sy(c,e,{...o,delay:n+l(u)}).then(()=>c.notify("AnimationComplete",e)))}),Promise.all(s)}function nW(t,e){return t.sortNodePosition(e)}function rW(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const i=e.map(o=>Sy(t,o,n));r=Promise.all(i)}else if(typeof e=="string")r=Sy(t,e,n);else{const i=typeof e=="function"?Ap(t,e,n.custom):e;r=Promise.all(TD(t,i,n))}return r.then(()=>t.notify("AnimationComplete",e))}const iW=[...Gw].reverse(),oW=Gw.length;function sW(t){return e=>Promise.all(e.map(({animation:n,options:r})=>rW(t,n,r)))}function aW(t){let e=sW(t);const n=cW();let r=!0;const i=(l,c)=>{const u=Ap(t,c);if(u){const{transition:f,transitionEnd:h,...m}=u;l={...l,...m,...h}}return l};function o(l){e=l(t)}function s(l,c){const u=t.getProps(),f=t.getVariantContext(!0)||{},h=[],m=new Set;let _={},v=1/0;for(let x=0;x<oW;x++){const y=iW[x],b=n[y],P=u[y]!==void 0?u[y]:f[y],N=lu(P),M=y===c?b.isActive:null;M===!1&&(v=x);let S=P===f[y]&&P!==u[y]&&N;if(S&&r&&t.manuallyAnimateOnMount&&(S=!1),b.protectedKeys={..._},!b.isActive&&M===null||!P&&!b.prevProp||Cp(P)||typeof P=="boolean")continue;let I=lW(b.prevProp,P)||y===c&&b.isActive&&!S&&N||x>v&&N,A=!1;const O=Array.isArray(P)?P:[P];let D=O.reduce(i,{});M===!1&&(D={});const{prevResolvedValues:k={}}=b,B={...k,...D},q=K=>{I=!0,m.has(K)&&(A=!0,m.delete(K)),b.needsAnimating[K]=!0};for(const K in B){const j=D[K],L=k[K];if(_.hasOwnProperty(K))continue;let V=!1;vh(j)&&vh(L)?V=!Yk(j,L):V=j!==L,V?j!==void 0?q(K):m.add(K):j!==void 0&&m.has(K)?q(K):b.protectedKeys[K]=!0}b.prevProp=P,b.prevResolvedValues=D,b.isActive&&(_={..._,...D}),r&&t.blockInitialAnimation&&(I=!1),I&&(!S||A)&&h.push(...O.map(K=>({animation:K,options:{type:y,...l}})))}if(m.size){const x={};m.forEach(y=>{const b=t.getBaseTarget(y);b!==void 0&&(x[y]=b)}),h.push({animation:x})}let E=!!h.length;return r&&(u.initial===!1||u.initial===u.animate)&&!t.manuallyAnimateOnMount&&(E=!1),r=!1,E?e(h):Promise.resolve()}function a(l,c,u){var f;if(n[l].isActive===c)return Promise.resolve();(f=t.variantChildren)===null||f===void 0||f.forEach(m=>{var _;return(_=m.animationState)===null||_===void 0?void 0:_.setActive(l,c)}),n[l].isActive=c;const h=s(u,l);for(const m in n)n[m].protectedKeys={};return h}return{animateChanges:s,setActive:a,setAnimateFunction:o,getState:()=>n}}function lW(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!Yk(e,t):!1}function Ho(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function cW(){return{animate:Ho(!0),whileInView:Ho(),whileHover:Ho(),whileTap:Ho(),whileDrag:Ho(),whileFocus:Ho(),exit:Ho()}}class uW extends Fo{constructor(e){super(e),e.animationState||(e.animationState=aW(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();this.unmount(),Cp(e)&&(this.unmount=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){}}let dW=0;class fW extends Fo{constructor(){super(...arguments),this.id=dW++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n,custom:r}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===i)return;const o=this.node.animationState.setActive("exit",!e,{custom:r??this.node.getProps().custom});n&&!e&&o.then(()=>n(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const hW={animation:{Feature:uW},exit:{Feature:fW}},_T=(t,e)=>Math.abs(t-e);function pW(t,e){const n=_T(t.x,e.x),r=_T(t.y,e.y);return Math.sqrt(n**2+r**2)}class CD{constructor(e,n,{transformPagePoint:r,contextWindow:i,dragSnapToOrigin:o=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const f=yg(this.lastMoveEventInfo,this.history),h=this.startEvent!==null,m=pW(f.offset,{x:0,y:0})>=3;if(!h&&!m)return;const{point:_}=f,{timestamp:v}=Zt;this.history.push({..._,timestamp:v});const{onStart:E,onMove:x}=this.handlers;h||(E&&E(this.lastMoveEvent,f),this.startEvent=this.lastMoveEvent),x&&x(this.lastMoveEvent,f)},this.handlePointerMove=(f,h)=>{this.lastMoveEvent=f,this.lastMoveEventInfo=vg(h,this.transformPagePoint),Je.update(this.updatePoint,!0)},this.handlePointerUp=(f,h)=>{this.end();const{onEnd:m,onSessionEnd:_,resumeAnimation:v}=this.handlers;if(this.dragSnapToOrigin&&v&&v(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const E=yg(f.type==="pointercancel"?this.lastMoveEventInfo:vg(h,this.transformPagePoint),this.history);this.startEvent&&m&&m(f,E),_&&_(f,E)},!Bk(e))return;this.dragSnapToOrigin=o,this.handlers=n,this.transformPagePoint=r,this.contextWindow=i||window;const s=Ip(e),a=vg(s,this.transformPagePoint),{point:l}=a,{timestamp:c}=Zt;this.history=[{...l,timestamp:c}];const{onSessionStart:u}=n;u&&u(e,yg(a,this.history)),this.removeListeners=po(li(this.contextWindow,"pointermove",this.handlePointerMove),li(this.contextWindow,"pointerup",this.handlePointerUp),li(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),_i(this.updatePoint)}}function vg(t,e){return e?{point:e(t.point)}:t}function xT(t,e){return{x:t.x-e.x,y:t.y-e.y}}function yg({point:t},e){return{point:t,delta:xT(t,SD(e)),offset:xT(t,mW(e)),velocity:gW(e,.1)}}function mW(t){return t[0]}function SD(t){return t[t.length-1]}function gW(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const i=SD(t);for(;n>=0&&(r=t[n],!(i.timestamp-r.timestamp>mo(e)));)n--;if(!r)return{x:0,y:0};const o=ci(i.timestamp-r.timestamp);if(o===0)return{x:0,y:0};const s={x:(i.x-r.x)/o,y:(i.y-r.y)/o};return s.x===1/0&&(s.x=0),s.y===1/0&&(s.y=0),s}function Vn(t){return t.max-t.min}function Py(t,e=0,n=.01){return Math.abs(t-e)<=n}function ET(t,e,n,r=.5){t.origin=r,t.originPoint=ut(e.min,e.max,t.origin),t.scale=Vn(n)/Vn(e),(Py(t.scale,1,1e-4)||isNaN(t.scale))&&(t.scale=1),t.translate=ut(n.min,n.max,t.origin)-t.originPoint,(Py(t.translate)||isNaN(t.translate))&&(t.translate=0)}function Tc(t,e,n,r){ET(t.x,e.x,n.x,r?r.originX:void 0),ET(t.y,e.y,n.y,r?r.originY:void 0)}function bT(t,e,n){t.min=n.min+e.min,t.max=t.min+Vn(e)}function vW(t,e,n){bT(t.x,e.x,n.x),bT(t.y,e.y,n.y)}function TT(t,e,n){t.min=e.min-n.min,t.max=t.min+Vn(e)}function Cc(t,e,n){TT(t.x,e.x,n.x),TT(t.y,e.y,n.y)}function yW(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?ut(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?ut(n,t,r.max):Math.min(t,n)),t}function CT(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function wW(t,{top:e,left:n,bottom:r,right:i}){return{x:CT(t.x,n,i),y:CT(t.y,e,r)}}function ST(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function _W(t,e){return{x:ST(t.x,e.x),y:ST(t.y,e.y)}}function xW(t,e){let n=.5;const r=Vn(t),i=Vn(e);return i>r?n=uu(e.min,e.max-r,t.min):r>i&&(n=uu(t.min,t.max-i,e.min)),Co(0,1,n)}function EW(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const Iy=.35;function bW(t=Iy){return t===!1?t=0:t===!0&&(t=Iy),{x:PT(t,"left","right"),y:PT(t,"top","bottom")}}function PT(t,e,n){return{min:IT(t,e),max:IT(t,n)}}function IT(t,e){return typeof t=="number"?t:t[e]||0}const AT=()=>({translate:0,scale:1,origin:0,originPoint:0}),ha=()=>({x:AT(),y:AT()}),RT=()=>({min:0,max:0}),Ct=()=>({x:RT(),y:RT()});function Un(t){return[t("x"),t("y")]}function PD({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function TW({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function CW(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function wg(t){return t===void 0||t===1}function Ay({scale:t,scaleX:e,scaleY:n}){return!wg(t)||!wg(e)||!wg(n)}function Ko(t){return Ay(t)||ID(t)||t.z||t.rotate||t.rotateX||t.rotateY}function ID(t){return kT(t.x)||kT(t.y)}function kT(t){return t&&t!=="0%"}function Eh(t,e,n){const r=t-n,i=e*r;return n+i}function DT(t,e,n,r,i){return i!==void 0&&(t=Eh(t,i,r)),Eh(t,n,r)+e}function Ry(t,e=0,n=1,r,i){t.min=DT(t.min,e,n,r,i),t.max=DT(t.max,e,n,r,i)}function AD(t,{x:e,y:n}){Ry(t.x,e.translate,e.scale,e.originPoint),Ry(t.y,n.translate,n.scale,n.originPoint)}function SW(t,e,n,r=!1){const i=n.length;if(!i)return;e.x=e.y=1;let o,s;for(let a=0;a<i;a++){o=n[a],s=o.projectionDelta;const l=o.instance;l&&l.style&&l.style.display==="contents"||(r&&o.options.layoutScroll&&o.scroll&&o!==o.root&&pa(t,{x:-o.scroll.offset.x,y:-o.scroll.offset.y}),s&&(e.x*=s.x.scale,e.y*=s.y.scale,AD(t,s)),r&&Ko(o.latestValues)&&pa(t,o.latestValues))}e.x=NT(e.x),e.y=NT(e.y)}function NT(t){return Number.isInteger(t)||t>1.0000000000001||t<.999999999999?t:1}function Ui(t,e){t.min=t.min+e,t.max=t.max+e}function MT(t,e,[n,r,i]){const o=e[i]!==void 0?e[i]:.5,s=ut(t.min,t.max,o);Ry(t,e[n],e[r],s,e.scale)}const PW=["x","scaleX","originX"],IW=["y","scaleY","originY"];function pa(t,e){MT(t.x,e,PW),MT(t.y,e,IW)}function RD(t,e){return PD(CW(t.getBoundingClientRect(),e))}function AW(t,e,n){const r=RD(t,n),{scroll:i}=e;return i&&(Ui(r.x,i.offset.x),Ui(r.y,i.offset.y)),r}const kD=({current:t})=>t?t.ownerDocument.defaultView:null,RW=new WeakMap;class kW{constructor(e){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Ct(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const i=u=>{const{dragSnapToOrigin:f}=this.getProps();f?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Ip(u,"page").point)},o=(u,f)=>{const{drag:h,dragPropagation:m,onDragStart:_}=this.getProps();if(h&&!m&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=zk(h),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Un(E=>{let x=this.getAxisMotionValue(E).get()||0;if(jr.test(x)){const{projection:y}=this.visualElement;if(y&&y.layout){const b=y.layout.layoutBox[E];b&&(x=Vn(b)*(parseFloat(x)/100))}}this.originPoint[E]=x}),_&&Je.update(()=>_(u,f),!1,!0);const{animationState:v}=this.visualElement;v&&v.setActive("whileDrag",!0)},s=(u,f)=>{const{dragPropagation:h,dragDirectionLock:m,onDirectionLock:_,onDrag:v}=this.getProps();if(!h&&!this.openGlobalLock)return;const{offset:E}=f;if(m&&this.currentDirection===null){this.currentDirection=DW(E),this.currentDirection!==null&&_&&_(this.currentDirection);return}this.updateAxis("x",f.point,E),this.updateAxis("y",f.point,E),this.visualElement.render(),v&&v(u,f)},a=(u,f)=>this.stop(u,f),l=()=>Un(u=>{var f;return this.getAnimationState(u)==="paused"&&((f=this.getAxisMotionValue(u).animation)===null||f===void 0?void 0:f.play())}),{dragSnapToOrigin:c}=this.getProps();this.panSession=new CD(e,{onSessionStart:i,onStart:o,onMove:s,onSessionEnd:a,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:c,contextWindow:kD(this.visualElement)})}stop(e,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:i}=n;this.startAnimation(i);const{onDragEnd:o}=this.getProps();o&&Je.update(()=>o(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:i}=this.getProps();if(!r||!Ld(e,i,this.currentDirection))return;const o=this.getAxisMotionValue(e);let s=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(s=yW(s,this.constraints[e],this.elastic[e])),o.set(s)}resolveConstraints(){var e;const{dragConstraints:n,dragElastic:r}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,o=this.constraints;n&&da(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&i?this.constraints=wW(i.layoutBox,n):this.constraints=!1,this.elastic=bW(r),o!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&Un(s=>{this.getAxisMotionValue(s)&&(this.constraints[s]=EW(i.layoutBox[s],this.constraints[s]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!da(e))return!1;const r=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const o=AW(r,i.root,this.visualElement.getTransformPagePoint());let s=_W(i.layout.layoutBox,o);if(n){const a=n(TW(s));this.hasMutatedConstraints=!!a,a&&(s=PD(a))}return s}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:o,dragSnapToOrigin:s,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},c=Un(u=>{if(!Ld(u,n,this.currentDirection))return;let f=l&&l[u]||{};s&&(f={min:0,max:0});const h=i?200:1e6,m=i?40:1e7,_={type:"inertia",velocity:r?e[u]:0,bounceStiffness:h,bounceDamping:m,timeConstant:750,restDelta:1,restSpeed:10,...o,...f};return this.startAxisValueAnimation(u,_)});return Promise.all(c).then(a)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return r.start(u_(e,r,0,n))}stopAnimation(){Un(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Un(e=>{var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(e){const n="_drag"+e.toUpperCase(),r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){Un(n=>{const{drag:r}=this.getProps();if(!Ld(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,o=this.getAxisMotionValue(n);if(i&&i.layout){const{min:s,max:a}=i.layout.layoutBox[n];o.set(e[n]-ut(s,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!da(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};Un(s=>{const a=this.getAxisMotionValue(s);if(a){const l=a.get();i[s]=xW({min:l,max:l},this.constraints[s])}});const{transformTemplate:o}=this.visualElement.getProps();this.visualElement.current.style.transform=o?o({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Un(s=>{if(!Ld(s,e,null))return;const a=this.getAxisMotionValue(s),{min:l,max:c}=this.constraints[s];a.set(ut(l,c,i[s]))})}addListeners(){if(!this.visualElement.current)return;RW.set(this.visualElement,this);const e=this.visualElement.current,n=li(e,"pointerdown",l=>{const{drag:c,dragListener:u=!0}=this.getProps();c&&u&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();da(l)&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,o=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),r();const s=ii(window,"resize",()=>this.scalePositionWithinConstraints()),a=i.addEventListener("didUpdate",({delta:l,hasLayoutChanged:c})=>{this.isDragging&&c&&(Un(u=>{const f=this.getAxisMotionValue(u);f&&(this.originPoint[u]+=l[u].translate,f.set(f.get()+l[u].translate))}),this.visualElement.render())});return()=>{s(),n(),o(),a&&a()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:o=!1,dragElastic:s=Iy,dragMomentum:a=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:o,dragElastic:s,dragMomentum:a}}}function Ld(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function DW(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class NW extends Fo{constructor(e){super(e),this.removeGroupControls=vt,this.removeListeners=vt,this.controls=new kW(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||vt}unmount(){this.removeGroupControls(),this.removeListeners()}}const OT=t=>(e,n)=>{t&&Je.update(()=>t(e,n))};class MW extends Fo{constructor(){super(...arguments),this.removePointerDownListener=vt}onPointerDown(e){this.session=new CD(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:kD(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:OT(e),onStart:OT(n),onMove:r,onEnd:(o,s)=>{delete this.session,i&&Je.update(()=>i(o,s))}}}mount(){this.removePointerDownListener=li(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function OW(){const t=p.useContext(bp);if(t===null)return[!0,null];const{isPresent:e,onExitComplete:n,register:r}=t,i=p.useId();return p.useEffect(()=>r(i),[]),!e&&n?[!1,()=>n&&n(i)]:[!0]}const yf={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function LT(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Gl={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(pe.test(t))t=parseFloat(t);else return t;const n=LT(t,e.target.x),r=LT(t,e.target.y);return`${n}% ${r}%`}},LW={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,i=So.parse(t);if(i.length>5)return r;const o=So.createTransformer(t),s=typeof i[0]!="number"?1:0,a=n.x.scale*e.x,l=n.y.scale*e.y;i[0+s]/=a,i[1+s]/=l;const c=ut(a,l,.5);return typeof i[2+s]=="number"&&(i[2+s]/=c),typeof i[3+s]=="number"&&(i[3+s]/=c),o(i)}};class VW extends we.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:o}=e;z7(jW),o&&(n.group&&n.group.add(o),r&&r.register&&i&&r.register(o),o.root.didUpdate(),o.addEventListener("animationComplete",()=>{this.safeToRemove()}),o.setOptions({...o.options,onExitComplete:()=>this.safeToRemove()})),yf.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:i,isPresent:o}=this.props,s=r.projection;return s&&(s.isPresent=o,i||e.layoutDependency!==n||n===void 0?s.willUpdate():this.safeToRemove(),e.isPresent!==o&&(o?s.promote():s.relegate()||Je.postRender(()=>{const a=s.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),queueMicrotask(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=e;i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function DD(t){const[e,n]=OW(),r=p.useContext(Qw);return we.createElement(VW,{...t,layoutGroup:r,switchLayoutGroup:p.useContext(Pk),isPresent:e,safeToRemove:n})}const jW={borderRadius:{...Gl,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Gl,borderTopRightRadius:Gl,borderBottomLeftRadius:Gl,borderBottomRightRadius:Gl,boxShadow:LW},ND=["TopLeft","TopRight","BottomLeft","BottomRight"],FW=ND.length,VT=t=>typeof t=="string"?parseFloat(t):t,jT=t=>typeof t=="number"||pe.test(t);function $W(t,e,n,r,i,o){i?(t.opacity=ut(0,n.opacity!==void 0?n.opacity:1,UW(r)),t.opacityExit=ut(e.opacity!==void 0?e.opacity:1,0,BW(r))):o&&(t.opacity=ut(e.opacity!==void 0?e.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let s=0;s<FW;s++){const a=`border${ND[s]}Radius`;let l=FT(e,a),c=FT(n,a);if(l===void 0&&c===void 0)continue;l||(l=0),c||(c=0),l===0||c===0||jT(l)===jT(c)?(t[a]=Math.max(ut(VT(l),VT(c),r),0),(jr.test(c)||jr.test(l))&&(t[a]+="%")):t[a]=c}(e.rotate||n.rotate)&&(t.rotate=ut(e.rotate||0,n.rotate||0,r))}function FT(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const UW=MD(0,.5,nD),BW=MD(.5,.95,vt);function MD(t,e,n){return r=>r<t?0:r>e?1:n(uu(t,e,r))}function $T(t,e){t.min=e.min,t.max=e.max}function $n(t,e){$T(t.x,e.x),$T(t.y,e.y)}function UT(t,e,n,r,i){return t-=e,t=Eh(t,1/n,r),i!==void 0&&(t=Eh(t,1/i,r)),t}function WW(t,e=0,n=1,r=.5,i,o=t,s=t){if(jr.test(e)&&(e=parseFloat(e),e=ut(s.min,s.max,e/100)-s.min),typeof e!="number")return;let a=ut(o.min,o.max,r);t===o&&(a-=e),t.min=UT(t.min,e,n,a,i),t.max=UT(t.max,e,n,a,i)}function BT(t,e,[n,r,i],o,s){WW(t,e[n],e[r],e[i],e.scale,o,s)}const zW=["x","scaleX","originX"],HW=["y","scaleY","originY"];function WT(t,e,n,r){BT(t.x,e,zW,n?n.x:void 0,r?r.x:void 0),BT(t.y,e,HW,n?n.y:void 0,r?r.y:void 0)}function zT(t){return t.translate===0&&t.scale===1}function OD(t){return zT(t.x)&&zT(t.y)}function qW(t,e){return t.x.min===e.x.min&&t.x.max===e.x.max&&t.y.min===e.y.min&&t.y.max===e.y.max}function LD(t,e){return Math.round(t.x.min)===Math.round(e.x.min)&&Math.round(t.x.max)===Math.round(e.x.max)&&Math.round(t.y.min)===Math.round(e.y.min)&&Math.round(t.y.max)===Math.round(e.y.max)}function HT(t){return Vn(t.x)/Vn(t.y)}class YW{constructor(){this.members=[]}add(e){d_(this.members,e),e.scheduleRender()}remove(e){if(f_(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(i=>e===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const o=this.members[i];if(o.isPresent!==!1){r=o;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function qT(t,e,n){let r="";const i=t.x.translate/e.x,o=t.y.translate/e.y;if((i||o)&&(r=`translate3d(${i}px, ${o}px, 0) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{rotate:l,rotateX:c,rotateY:u}=n;l&&(r+=`rotate(${l}deg) `),c&&(r+=`rotateX(${c}deg) `),u&&(r+=`rotateY(${u}deg) `)}const s=t.x.scale*e.x,a=t.y.scale*e.y;return(s!==1||a!==1)&&(r+=`scale(${s}, ${a})`),r||"none"}const GW=(t,e)=>t.depth-e.depth;class KW{constructor(){this.children=[],this.isDirty=!1}add(e){d_(this.children,e),this.isDirty=!0}remove(e){f_(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(GW),this.isDirty=!1,this.children.forEach(e)}}function QW(t,e){const n=performance.now(),r=({timestamp:i})=>{const o=i-n;o>=e&&(_i(r),t(o-e))};return Je.read(r,!0),()=>_i(r)}function XW(t){window.MotionDebug&&window.MotionDebug.record(t)}function JW(t){return t instanceof SVGElement&&t.tagName!=="svg"}function ZW(t,e,n){const r=Sn(t)?t:qa(t);return r.start(u_("",r,e,n)),r.animation}const YT=["","X","Y","Z"],ez={visibility:"hidden"},GT=1e3;let tz=0;const Qo={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function VD({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(s={},a=e==null?void 0:e()){this.id=tz++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Qo.totalNodes=Qo.resolvedTargetDeltas=Qo.recalculatedProjection=0,this.nodes.forEach(iz),this.nodes.forEach(cz),this.nodes.forEach(uz),this.nodes.forEach(oz),XW(Qo)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=s,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new KW)}addEventListener(s,a){return this.eventHandlers.has(s)||this.eventHandlers.set(s,new h_),this.eventHandlers.get(s).add(a)}notifyListeners(s,...a){const l=this.eventHandlers.get(s);l&&l.notify(...a)}hasListeners(s){return this.eventHandlers.has(s)}mount(s,a=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=JW(s),this.instance=s;const{layoutId:l,layout:c,visualElement:u}=this.options;if(u&&!u.current&&u.mount(s),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),a&&(c||l)&&(this.isLayoutDirty=!0),t){let f;const h=()=>this.root.updateBlockedByResize=!1;t(s,()=>{this.root.updateBlockedByResize=!0,f&&f(),f=QW(h,250),yf.hasAnimatedSinceResize&&(yf.hasAnimatedSinceResize=!1,this.nodes.forEach(QT))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&u&&(l||c)&&this.addEventListener("didUpdate",({delta:f,hasLayoutChanged:h,hasRelativeTargetChanged:m,layout:_})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const v=this.options.transition||u.getDefaultTransition()||mz,{onLayoutAnimationStart:E,onLayoutAnimationComplete:x}=u.getProps(),y=!this.targetLayout||!LD(this.targetLayout,_)||m,b=!h&&m;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||b||h&&(y||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(f,b);const P={...c_(v,"layout"),onPlay:E,onComplete:x};(u.shouldReduceMotion||this.options.layoutRoot)&&(P.delay=0,P.type=!1),this.startAnimation(P)}else h||QT(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=_})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const s=this.getStack();s&&s.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,_i(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(dz),this.animationId++)}getTransformTemplate(){const{visualElement:s}=this.options;return s&&s.getProps().transformTemplate}willUpdate(s=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let u=0;u<this.path.length;u++){const f=this.path[u];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),s&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(KT);return}this.isUpdating||this.nodes.forEach(az),this.isUpdating=!1,this.nodes.forEach(lz),this.nodes.forEach(nz),this.nodes.forEach(rz),this.clearAllSnapshots();const a=performance.now();Zt.delta=Co(0,1e3/60,a-Zt.timestamp),Zt.timestamp=a,Zt.isProcessing=!0,cg.update.process(Zt),cg.preRender.process(Zt),cg.render.process(Zt),Zt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(sz),this.sharedNodes.forEach(fz)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Je.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Je.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const s=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Ct(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,s?s.layoutBox:void 0)}updateScroll(s="measure"){let a=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===s&&(a=!1),a&&(this.scroll={animationId:this.root.animationId,phase:s,isRoot:r(this.instance),offset:n(this.instance)})}resetTransform(){if(!i)return;const s=this.isLayoutDirty||this.shouldResetTransform,a=this.projectionDelta&&!OD(this.projectionDelta),l=this.getTransformTemplate(),c=l?l(this.latestValues,""):void 0,u=c!==this.prevTransformTemplateValue;s&&(a||Ko(this.latestValues)||u)&&(i(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(s=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return s&&(l=this.removeTransform(l)),gz(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:s}=this.options;if(!s)return Ct();const a=s.measureViewportBox(),{scroll:l}=this.root;return l&&(Ui(a.x,l.offset.x),Ui(a.y,l.offset.y)),a}removeElementScroll(s){const a=Ct();$n(a,s);for(let l=0;l<this.path.length;l++){const c=this.path[l],{scroll:u,options:f}=c;if(c!==this.root&&u&&f.layoutScroll){if(u.isRoot){$n(a,s);const{scroll:h}=this.root;h&&(Ui(a.x,-h.offset.x),Ui(a.y,-h.offset.y))}Ui(a.x,u.offset.x),Ui(a.y,u.offset.y)}}return a}applyTransform(s,a=!1){const l=Ct();$n(l,s);for(let c=0;c<this.path.length;c++){const u=this.path[c];!a&&u.options.layoutScroll&&u.scroll&&u!==u.root&&pa(l,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),Ko(u.latestValues)&&pa(l,u.latestValues)}return Ko(this.latestValues)&&pa(l,this.latestValues),l}removeTransform(s){const a=Ct();$n(a,s);for(let l=0;l<this.path.length;l++){const c=this.path[l];if(!c.instance||!Ko(c.latestValues))continue;Ay(c.latestValues)&&c.updateSnapshot();const u=Ct(),f=c.measurePageBox();$n(u,f),WT(a,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,u)}return Ko(this.latestValues)&&WT(a,this.latestValues),a}setTargetDelta(s){this.targetDelta=s,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(s){this.options={...this.options,...s,crossfade:s.crossfade!==void 0?s.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Zt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(s=!1){var a;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==l;if(!(s||c&&this.isSharedProjectionDirty||this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:f,layoutId:h}=this.options;if(!(!this.layout||!(f||h))){if(this.resolvedRelativeTargetAt=Zt.timestamp,!this.targetDelta&&!this.relativeTarget){const m=this.getClosestProjectingParent();m&&m.layout&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ct(),this.relativeTargetOrigin=Ct(),Cc(this.relativeTargetOrigin,this.layout.layoutBox,m.layout.layoutBox),$n(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=Ct(),this.targetWithTransforms=Ct()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),vW(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):$n(this.target,this.layout.layoutBox),AD(this.target,this.targetDelta)):$n(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const m=this.getClosestProjectingParent();m&&!!m.resumingFrom==!!this.resumingFrom&&!m.options.layoutScroll&&m.target&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ct(),this.relativeTargetOrigin=Ct(),Cc(this.relativeTargetOrigin,this.target,m.target),$n(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Qo.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||Ay(this.parent.latestValues)||ID(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var s;const a=this.getLead(),l=!!this.resumingFrom||this!==a;let c=!0;if((this.isProjectionDirty||!((s=this.parent)===null||s===void 0)&&s.isProjectionDirty)&&(c=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===Zt.timestamp&&(c=!1),c)return;const{layout:u,layoutId:f}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||f))return;$n(this.layoutCorrected,this.layout.layoutBox);const h=this.treeScale.x,m=this.treeScale.y;SW(this.layoutCorrected,this.treeScale,this.path,l),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox);const{target:_}=a;if(!_){this.projectionTransform&&(this.projectionDelta=ha(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=ha(),this.projectionDeltaWithTransform=ha());const v=this.projectionTransform;Tc(this.projectionDelta,this.layoutCorrected,_,this.latestValues),this.projectionTransform=qT(this.projectionDelta,this.treeScale),(this.projectionTransform!==v||this.treeScale.x!==h||this.treeScale.y!==m)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",_)),Qo.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(s=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),s){const a=this.getStack();a&&a.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(s,a=!1){const l=this.snapshot,c=l?l.latestValues:{},u={...this.latestValues},f=ha();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const h=Ct(),m=l?l.source:void 0,_=this.layout?this.layout.source:void 0,v=m!==_,E=this.getStack(),x=!E||E.members.length<=1,y=!!(v&&!x&&this.options.crossfade===!0&&!this.path.some(pz));this.animationProgress=0;let b;this.mixTargetDelta=P=>{const N=P/1e3;XT(f.x,s.x,N),XT(f.y,s.y,N),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Cc(h,this.layout.layoutBox,this.relativeParent.layout.layoutBox),hz(this.relativeTarget,this.relativeTargetOrigin,h,N),b&&qW(this.relativeTarget,b)&&(this.isProjectionDirty=!1),b||(b=Ct()),$n(b,this.relativeTarget)),v&&(this.animationValues=u,$W(u,c,this.latestValues,N,y,x)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=N},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(s){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(_i(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Je.update(()=>{yf.hasAnimatedSinceResize=!0,this.currentAnimation=ZW(0,GT,{...s,onUpdate:a=>{this.mixTargetDelta(a),s.onUpdate&&s.onUpdate(a)},onComplete:()=>{s.onComplete&&s.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const s=this.getStack();s&&s.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(GT),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const s=this.getLead();let{targetWithTransforms:a,target:l,layout:c,latestValues:u}=s;if(!(!a||!l||!c)){if(this!==s&&this.layout&&c&&jD(this.options.animationType,this.layout.layoutBox,c.layoutBox)){l=this.target||Ct();const f=Vn(this.layout.layoutBox.x);l.x.min=s.target.x.min,l.x.max=l.x.min+f;const h=Vn(this.layout.layoutBox.y);l.y.min=s.target.y.min,l.y.max=l.y.min+h}$n(a,l),pa(a,u),Tc(this.projectionDeltaWithTransform,this.layoutCorrected,a,u)}}registerSharedNode(s,a){this.sharedNodes.has(s)||this.sharedNodes.set(s,new YW),this.sharedNodes.get(s).add(a);const c=a.options.initialPromotionConfig;a.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(a):void 0})}isLead(){const s=this.getStack();return s?s.lead===this:!0}getLead(){var s;const{layoutId:a}=this.options;return a?((s=this.getStack())===null||s===void 0?void 0:s.lead)||this:this}getPrevLead(){var s;const{layoutId:a}=this.options;return a?(s=this.getStack())===null||s===void 0?void 0:s.prevLead:void 0}getStack(){const{layoutId:s}=this.options;if(s)return this.root.sharedNodes.get(s)}promote({needsReset:s,transition:a,preserveFollowOpacity:l}={}){const c=this.getStack();c&&c.promote(this,l),s&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const s=this.getStack();return s?s.relegate(this):!1}resetRotation(){const{visualElement:s}=this.options;if(!s)return;let a=!1;const{latestValues:l}=s;if((l.rotate||l.rotateX||l.rotateY||l.rotateZ)&&(a=!0),!a)return;const c={};for(let u=0;u<YT.length;u++){const f="rotate"+YT[u];l[f]&&(c[f]=l[f],s.setStaticValue(f,0))}s.render();for(const u in c)s.setStaticValue(u,c[u]);s.scheduleRender()}getProjectionStyles(s){var a,l;if(!this.instance||this.isSVG)return;if(!this.isVisible)return ez;const c={visibility:""},u=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,c.opacity="",c.pointerEvents=vf(s==null?void 0:s.pointerEvents)||"",c.transform=u?u(this.latestValues,""):"none",c;const f=this.getLead();if(!this.projectionDelta||!this.layout||!f.target){const v={};return this.options.layoutId&&(v.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,v.pointerEvents=vf(s==null?void 0:s.pointerEvents)||""),this.hasProjected&&!Ko(this.latestValues)&&(v.transform=u?u({},""):"none",this.hasProjected=!1),v}const h=f.animationValues||f.latestValues;this.applyTransformsToTarget(),c.transform=qT(this.projectionDeltaWithTransform,this.treeScale,h),u&&(c.transform=u(h,c.transform));const{x:m,y:_}=this.projectionDelta;c.transformOrigin=`${m.origin*100}% ${_.origin*100}% 0`,f.animationValues?c.opacity=f===this?(l=(a=h.opacity)!==null&&a!==void 0?a:this.latestValues.opacity)!==null&&l!==void 0?l:1:this.preserveOpacity?this.latestValues.opacity:h.opacityExit:c.opacity=f===this?h.opacity!==void 0?h.opacity:"":h.opacityExit!==void 0?h.opacityExit:0;for(const v in mh){if(h[v]===void 0)continue;const{correct:E,applyTo:x}=mh[v],y=c.transform==="none"?h[v]:E(h[v],f);if(x){const b=x.length;for(let P=0;P<b;P++)c[x[P]]=y}else c[v]=y}return this.options.layoutId&&(c.pointerEvents=f===this?vf(s==null?void 0:s.pointerEvents)||"":"none"),c}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(s=>{var a;return(a=s.currentAnimation)===null||a===void 0?void 0:a.stop()}),this.root.nodes.forEach(KT),this.root.sharedNodes.clear()}}}function nz(t){t.updateLayout()}function rz(t){var e;const n=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=t.layout,{animationType:o}=t.options,s=n.source!==t.layout.source;o==="size"?Un(f=>{const h=s?n.measuredBox[f]:n.layoutBox[f],m=Vn(h);h.min=r[f].min,h.max=h.min+m}):jD(o,n.layoutBox,r)&&Un(f=>{const h=s?n.measuredBox[f]:n.layoutBox[f],m=Vn(r[f]);h.max=h.min+m,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[f].max=t.relativeTarget[f].min+m)});const a=ha();Tc(a,r,n.layoutBox);const l=ha();s?Tc(l,t.applyTransform(i,!0),n.measuredBox):Tc(l,r,n.layoutBox);const c=!OD(a);let u=!1;if(!t.resumeFrom){const f=t.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:h,layout:m}=f;if(h&&m){const _=Ct();Cc(_,n.layoutBox,h.layoutBox);const v=Ct();Cc(v,r,m.layoutBox),LD(_,v)||(u=!0),f.options.layoutRoot&&(t.relativeTarget=v,t.relativeTargetOrigin=_,t.relativeParent=f)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:l,layoutDelta:a,hasLayoutChanged:c,hasRelativeTargetChanged:u})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function iz(t){Qo.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function oz(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function sz(t){t.clearSnapshot()}function KT(t){t.clearMeasurements()}function az(t){t.isLayoutDirty=!1}function lz(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function QT(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function cz(t){t.resolveTargetDelta()}function uz(t){t.calcProjection()}function dz(t){t.resetRotation()}function fz(t){t.removeLeadSnapshot()}function XT(t,e,n){t.translate=ut(e.translate,0,n),t.scale=ut(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function JT(t,e,n,r){t.min=ut(e.min,n.min,r),t.max=ut(e.max,n.max,r)}function hz(t,e,n,r){JT(t.x,e.x,n.x,r),JT(t.y,e.y,n.y,r)}function pz(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const mz={duration:.45,ease:[.4,0,.1,1]},ZT=t=>typeof navigator<"u"&&navigator.userAgent.toLowerCase().includes(t),eC=ZT("applewebkit/")&&!ZT("chrome/")?Math.round:vt;function tC(t){t.min=eC(t.min),t.max=eC(t.max)}function gz(t){tC(t.x),tC(t.y)}function jD(t,e,n){return t==="position"||t==="preserve-aspect"&&!Py(HT(e),HT(n),.2)}const vz=VD({attachResizeListener:(t,e)=>ii(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),_g={current:void 0},FD=VD({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!_g.current){const t=new vz({});t.mount(window),t.setOptions({layoutScroll:!0}),_g.current=t}return _g.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),yz={pan:{Feature:MW},drag:{Feature:NW,ProjectionNode:FD,MeasureLayout:DD}},wz=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function _z(t){const e=wz.exec(t);if(!e)return[,];const[,n,r]=e;return[n,r]}function ky(t,e,n=1){const[r,i]=_z(t);if(!r)return;const o=window.getComputedStyle(e).getPropertyValue(r);if(o){const s=o.trim();return xD(s)?parseFloat(s):s}else return _y(i)?ky(i,e,n+1):i}function xz(t,{...e},n){const r=t.current;if(!(r instanceof Element))return{target:e,transitionEnd:n};n&&(n={...n}),t.values.forEach(i=>{const o=i.get();if(!_y(o))return;const s=ky(o,r);s&&i.set(s)});for(const i in e){const o=e[i];if(!_y(o))continue;const s=ky(o,r);s&&(e[i]=s,n||(n={}),n[i]===void 0&&(n[i]=o))}return{target:e,transitionEnd:n}}const Ez=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),$D=t=>Ez.has(t),bz=t=>Object.keys(t).some($D),nC=t=>t===Ns||t===pe,rC=(t,e)=>parseFloat(t.split(", ")[e]),iC=(t,e)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const i=r.match(/^matrix3d\((.+)\)$/);if(i)return rC(i[1],e);{const o=r.match(/^matrix\((.+)\)$/);return o?rC(o[1],t):0}},Tz=new Set(["x","y","z"]),Cz=Mu.filter(t=>!Tz.has(t));function Sz(t){const e=[];return Cz.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e.length&&t.render(),e}const Ya={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:iC(4,13),y:iC(5,14)};Ya.translateX=Ya.x;Ya.translateY=Ya.y;const Pz=(t,e,n)=>{const r=e.measureViewportBox(),i=e.current,o=getComputedStyle(i),{display:s}=o,a={};s==="none"&&e.setStaticValue("display",t.display||"block"),n.forEach(c=>{a[c]=Ya[c](r,o)}),e.render();const l=e.measureViewportBox();return n.forEach(c=>{const u=e.getValue(c);u&&u.jump(a[c]),t[c]=Ya[c](l,o)}),t},Iz=(t,e,n={},r={})=>{e={...e},r={...r};const i=Object.keys(e).filter($D);let o=[],s=!1;const a=[];if(i.forEach(l=>{const c=t.getValue(l);if(!t.hasValue(l))return;let u=n[l],f=Yl(u);const h=e[l];let m;if(vh(h)){const _=h.length,v=h[0]===null?1:0;u=h[v],f=Yl(u);for(let E=v;E<_&&h[E]!==null;E++)m?i_(Yl(h[E])===m):m=Yl(h[E])}else m=Yl(h);if(f!==m)if(nC(f)&&nC(m)){const _=c.get();typeof _=="string"&&c.set(parseFloat(_)),typeof h=="string"?e[l]=parseFloat(h):Array.isArray(h)&&m===pe&&(e[l]=h.map(parseFloat))}else f!=null&&f.transform&&(m!=null&&m.transform)&&(u===0||h===0)?u===0?c.set(m.transform(u)):e[l]=f.transform(h):(s||(o=Sz(t),s=!0),a.push(l),r[l]=r[l]!==void 0?r[l]:e[l],c.jump(h))}),a.length){const l=a.indexOf("height")>=0?window.pageYOffset:null,c=Pz(e,t,a);return o.length&&o.forEach(([u,f])=>{t.getValue(u).set(f)}),t.render(),Tp&&l!==null&&window.scrollTo({top:l}),{target:c,transitionEnd:r}}else return{target:e,transitionEnd:r}};function Az(t,e,n,r){return bz(e)?Iz(t,e,n,r):{target:e,transitionEnd:r}}const Rz=(t,e,n,r)=>{const i=xz(t,e,r);return e=i.target,r=i.transitionEnd,Az(t,e,n,r)},Dy={current:null},UD={current:!1};function kz(){if(UD.current=!0,!!Tp)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>Dy.current=t.matches;t.addListener(e),e()}else Dy.current=!1}function Dz(t,e,n){const{willChange:r}=e;for(const i in e){const o=e[i],s=n[i];if(Sn(o))t.addValue(i,o),xh(r)&&r.add(i);else if(Sn(s))t.addValue(i,qa(o,{owner:t})),xh(r)&&r.remove(i);else if(s!==o)if(t.hasValue(i)){const a=t.getValue(i);!a.hasAnimated&&a.set(o)}else{const a=t.getStaticValue(i);t.addValue(i,qa(a!==void 0?a:o,{owner:t}))}}for(const i in n)e[i]===void 0&&t.removeValue(i);return e}const oC=new WeakMap,BD=Object.keys(cu),Nz=BD.length,sC=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],Mz=Kw.length;class Oz{constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:i,visualState:o},s={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>Je.render(this.render,!1,!0);const{latestValues:a,renderState:l}=o;this.latestValues=a,this.baseTarget={...a},this.initialValues=n.initial?{...a}:{},this.renderState=l,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=s,this.isControllingVariants=Sp(n),this.isVariantNode=Sk(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:c,...u}=this.scrapeMotionValuesFromProps(n,{});for(const f in u){const h=u[f];a[f]!==void 0&&Sn(h)&&(h.set(a[f],!1),xh(c)&&c.add(f))}}scrapeMotionValuesFromProps(e,n){return{}}mount(e){this.current=e,oC.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),UD.current||kz(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Dy.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){oC.delete(this.current),this.projection&&this.projection.unmount(),_i(this.notifyUpdate),_i(this.render),this.valueSubscriptions.forEach(e=>e()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features)this.features[e].unmount();this.current=null}bindToMotionValue(e,n){const r=Ds.has(e),i=n.on("change",s=>{this.latestValues[e]=s,this.props.onUpdate&&Je.update(this.notifyUpdate,!1,!0),r&&this.projection&&(this.projection.isTransformDirty=!0)}),o=n.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(e,()=>{i(),o()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}loadFeatures({children:e,...n},r,i,o){let s,a;for(let l=0;l<Nz;l++){const c=BD[l],{isEnabled:u,Feature:f,ProjectionNode:h,MeasureLayout:m}=cu[c];h&&(s=h),u(n)&&(!this.features[c]&&f&&(this.features[c]=new f(this)),m&&(a=m))}if((this.type==="html"||this.type==="svg")&&!this.projection&&s){this.projection=new s(this.latestValues,this.parent&&this.parent.projection);const{layoutId:l,layout:c,drag:u,dragConstraints:f,layoutScroll:h,layoutRoot:m}=n;this.projection.setOptions({layoutId:l,layout:c,alwaysMeasureLayout:!!u||f&&da(f),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof c=="string"?c:"both",initialPromotionConfig:o,layoutScroll:h,layoutRoot:m})}return a}updateFeatures(){for(const e in this.features){const n=this.features[e];n.isMounted?n.update():(n.mount(),n.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Ct()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}makeTargetAnimatable(e,n=!0){return this.makeTargetAnimatableFromInstance(e,this.props,n)}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<sC.length;r++){const i=sC[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const o=e["on"+i];o&&(this.propEventSubscriptions[i]=this.on(i,o))}this.prevMotionValues=Dz(this,this.scrapeMotionValuesFromProps(e,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(e=!1){if(e)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const r=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(r.initial=this.props.initial),r}const n={};for(let r=0;r<Mz;r++){const i=Kw[r],o=this.props[i];(lu(o)||o===!1)&&(n[i]=o)}return n}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){n!==this.values.get(e)&&(this.removeValue(e),this.bindToMotionValue(e,n)),this.values.set(e,n),this.latestValues[e]=n.get()}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=qa(n,{owner:this}),this.addValue(e,r)),r}readValue(e){var n;return this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(n=this.getBaseTargetFromProps(this.props,e))!==null&&n!==void 0?n:this.readValueFromInstance(this.current,e,this.options)}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:r}=this.props,i=typeof r=="string"||typeof r=="object"?(n=r_(this.props,r))===null||n===void 0?void 0:n[e]:void 0;if(r&&i!==void 0)return i;const o=this.getBaseTargetFromProps(this.props,e);return o!==void 0&&!Sn(o)?o:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new h_),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class WD extends Oz{sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}makeTargetAnimatableFromInstance({transition:e,transitionEnd:n,...r},{transformValues:i},o){let s=J8(r,e||{},this);if(i&&(n&&(n=i(n)),r&&(r=i(r)),s&&(s=i(s))),o){Q8(this,r,s);const a=Rz(this,r,s,n);n=a.transitionEnd,r=a.target}return{transition:e,transitionEnd:n,...r}}}function Lz(t){return window.getComputedStyle(t)}class Vz extends WD{constructor(){super(...arguments),this.type="html"}readValueFromInstance(e,n){if(Ds.has(n)){const r=l_(n);return r&&r.default||0}else{const r=Lz(e),i=(Rk(n)?r.getPropertyValue(n):r[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:n}){return RD(e,n)}build(e,n,r,i){Jw(e,n,r,i.transformTemplate)}scrapeMotionValuesFromProps(e,n){return n_(e,n)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Sn(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}renderInstance(e,n,r,i){Lk(e,n,r,i)}}class jz extends WD{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Ds.has(n)){const r=l_(n);return r&&r.default||0}return n=Vk.has(n)?n:Yw(n),e.getAttribute(n)}measureInstanceViewportBox(){return Ct()}scrapeMotionValuesFromProps(e,n){return Fk(e,n)}build(e,n,r,i){e_(e,n,r,this.isSVGTag,i.transformTemplate)}renderInstance(e,n,r,i){jk(e,n,r,i)}mount(e){this.isSVGTag=t_(e.tagName),super.mount(e)}}const Fz=(t,e)=>Xw(t)?new jz(e,{enableHardwareAcceleration:!1}):new Vz(e,{enableHardwareAcceleration:!0}),$z={layout:{ProjectionNode:FD,MeasureLayout:DD}},Uz={...hW,...NB,...yz,...$z},qe=B7((t,e)=>_B(t,e,Uz,Fz));function zD(){const t=p.useRef(!1);return qw(()=>(t.current=!0,()=>{t.current=!1}),[]),t}function Bz(){const t=zD(),[e,n]=p.useState(0),r=p.useCallback(()=>{t.current&&n(e+1)},[e]);return[p.useCallback(()=>Je.postRender(r),[r]),e]}class Wz extends p.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=n.offsetHeight||0,r.width=n.offsetWidth||0,r.top=n.offsetTop,r.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function zz({children:t,isPresent:e}){const n=p.useId(),r=p.useRef(null),i=p.useRef({width:0,height:0,top:0,left:0});return p.useInsertionEffect(()=>{const{width:o,height:s,top:a,left:l}=i.current;if(e||!r.current||!o||!s)return;r.current.dataset.motionPopId=n;const c=document.createElement("style");return document.head.appendChild(c),c.sheet&&c.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${o}px !important;
            height: ${s}px !important;
            top: ${a}px !important;
            left: ${l}px !important;
          }
        `),()=>{document.head.removeChild(c)}},[e]),p.createElement(Wz,{isPresent:e,childRef:r,sizeRef:i},p.cloneElement(t,{ref:r}))}const xg=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:i,presenceAffectsLayout:o,mode:s})=>{const a=$k(Hz),l=p.useId(),c=p.useMemo(()=>({id:l,initial:e,isPresent:n,custom:i,onExitComplete:u=>{a.set(u,!0);for(const f of a.values())if(!f)return;r&&r()},register:u=>(a.set(u,!1),()=>a.delete(u))}),o?void 0:[n]);return p.useMemo(()=>{a.forEach((u,f)=>a.set(f,!1))},[n]),p.useEffect(()=>{!n&&!a.size&&r&&r()},[n]),s==="popLayout"&&(t=p.createElement(zz,{isPresent:n},t)),p.createElement(bp.Provider,{value:c},t)};function Hz(){return new Map}function qz(t){return p.useEffect(()=>()=>t(),[])}const Xo=t=>t.key||"";function Yz(t,e){t.forEach(n=>{const r=Xo(n);e.set(r,n)})}function Gz(t){const e=[];return p.Children.forEach(t,n=>{p.isValidElement(n)&&e.push(n)}),e}const Sc=({children:t,custom:e,initial:n=!0,onExitComplete:r,exitBeforeEnter:i,presenceAffectsLayout:o=!0,mode:s="sync"})=>{const a=p.useContext(Qw).forceRender||Bz()[0],l=zD(),c=Gz(t);let u=c;const f=p.useRef(new Map).current,h=p.useRef(u),m=p.useRef(new Map).current,_=p.useRef(!0);if(qw(()=>{_.current=!1,Yz(c,m),h.current=u}),qz(()=>{_.current=!0,m.clear(),f.clear()}),_.current)return p.createElement(p.Fragment,null,u.map(y=>p.createElement(xg,{key:Xo(y),isPresent:!0,initial:n?void 0:!1,presenceAffectsLayout:o,mode:s},y)));u=[...u];const v=h.current.map(Xo),E=c.map(Xo),x=v.length;for(let y=0;y<x;y++){const b=v[y];E.indexOf(b)===-1&&!f.has(b)&&f.set(b,void 0)}return s==="wait"&&f.size&&(u=[]),f.forEach((y,b)=>{if(E.indexOf(b)!==-1)return;const P=m.get(b);if(!P)return;const N=v.indexOf(b);let M=y;if(!M){const S=()=>{f.delete(b);const C=Array.from(m.keys()).filter(I=>!E.includes(I));if(C.forEach(I=>m.delete(I)),h.current=c.filter(I=>{const A=Xo(I);return A===b||C.includes(A)}),!f.size){if(l.current===!1)return;a(),r&&r()}};M=p.createElement(xg,{key:Xo(P),isPresent:!1,onExitComplete:S,custom:e,presenceAffectsLayout:o,mode:s},P),f.set(b,M)}u.splice(N,0,M)}),u=u.map(y=>{const b=y.key;return f.has(b)?y:p.createElement(xg,{key:Xo(y),isPresent:!0,presenceAffectsLayout:o,mode:s},y)}),p.createElement(p.Fragment,null,f.size?u:u.map(y=>p.cloneElement(y)))};var Kz={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const Qz=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Le=(t,e)=>{const n=p.forwardRef(({color:r="currentColor",size:i=24,strokeWidth:o=2,absoluteStrokeWidth:s,children:a,...l},c)=>p.createElement("svg",{ref:c,...Kz,width:i,height:i,stroke:r,strokeWidth:s?Number(o)*24/Number(i):o,className:`lucide lucide-${Qz(t)}`,...l},[...e.map(([u,f])=>p.createElement(u,f)),...(Array.isArray(a)?a:[a])||[]]));return n.displayName=`${t}`,n},HD=Le("Archive",[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]]),Xz=Le("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]),aC=Le("CalendarDays",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]]),Jz=Le("CheckSquare",[["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}],["path",{d:"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11",key:"1jnkn4"}]]),bh=Le("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]),Zz=Le("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),eH=Le("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]),tH=Le("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),nH=Le("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]),rH=Le("Droplets",[["path",{d:"M7 16.3c2.2 0 4-1.83 4-4.05 0-1.16-.57-2.26-1.71-3.19S7.29 6.75 7 5.3c-.29 1.45-1.14 2.84-2.29 3.76S3 11.1 3 12.25c0 2.22 1.8 4.05 4 4.05z",key:"1ptgy4"}],["path",{d:"M12.56 6.6A10.97 10.97 0 0 0 14 3.02c.5 2.5 2 4.9 4 6.5s3 3.5 3 5.5a6.98 6.98 0 0 1-11.91 4.97",key:"1sl1rz"}]]),Rp=Le("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]),Ga=Le("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),iH=Le("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]),lC=Le("KeyRound",[["path",{d:"M2 18v3c0 .6.4 1 1 1h4v-3h3v-3h2l1.4-1.4a6.5 6.5 0 1 0-4-4Z",key:"167ctg"}],["circle",{cx:"16.5",cy:"7.5",r:".5",key:"1kog09"}]]),oH=Le("ListChecks",[["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["path",{d:"m3 7 2 2 4-4",key:"1obspn"}],["path",{d:"M13 6h8",key:"15sg57"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 18h8",key:"oe0vm4"}]]),sH=Le("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]),aH=Le("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]),lH=Le("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]),qD=Le("Maximize",[["path",{d:"M8 3H5a2 2 0 0 0-2 2v3",key:"1dcmit"}],["path",{d:"M21 8V5a2 2 0 0 0-2-2h-3",key:"1e4gt3"}],["path",{d:"M3 16v3a2 2 0 0 0 2 2h3",key:"wsl5sc"}],["path",{d:"M16 21h3a2 2 0 0 0 2-2v-3",key:"18trek"}]]),cH=Le("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]),uH=Le("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",key:"1xcu5"}],["circle",{cx:"17.5",cy:"10.5",r:".5",key:"736e4u"}],["circle",{cx:"8.5",cy:"7.5",r:".5",key:"clrty"}],["circle",{cx:"6.5",cy:"12.5",r:".5",key:"1s4xz9"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]),Ny=Le("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.5 3.5a2.12 2.12 0 0 1 3 3L7 19l-4 1 1-4Z",key:"ymcmye"}]]),My=Le("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]]),dH=Le("PlusCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]),fH=Le("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]),hH=Le("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]),pH=Le("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]),mH=Le("Thermometer",[["path",{d:"M14 4v10.54a4 4 0 1 1-4 0V4a2 2 0 0 1 4 0Z",key:"17jzev"}]]),cC=Le("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),gH=Le("UserCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]]),vH=Le("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]),du=Le("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]),ju=Le("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),yH=()=>{const[t,e]=p.useState(!0),[n,r]=p.useState(""),[i,o]=p.useState(""),[s,a]=p.useState(""),{login:l,register:c}=vl(),u=xu(),{toast:f}=yl(),[h,m]=p.useState(!1),_=async v=>{v.preventDefault(),m(!0);try{if(t)await l(n,i),f({title:"Inicio de sesión exitoso",description:"Bienvenida de nuevo."}),u("/");else{if(i!==s){f({title:"Error de registro",description:"Las contraseñas no coinciden.",variant:"destructive"}),m(!1);return}await c(n,i),f({title:"Registro exitoso",description:"Tu cuenta ha sido creada."}),u("/")}}catch(E){f({title:t?"Error al iniciar sesión":"Error al registrarse",description:E.message,variant:"destructive"}),m(!1)}};return g.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-purple-950 to-gray-900 flex flex-col justify-center items-center p-4",children:[g.jsxs(qe.div,{className:"w-full max-w-md bg-slate-800/70 backdrop-blur-md shadow-2xl rounded-xl p-8 sm:p-10",initial:{opacity:0,y:-30},animate:{opacity:1,y:0},transition:{duration:.6,ease:"easeOut"},children:[g.jsxs("div",{className:"text-center mb-8",children:[g.jsx(qe.h1,{className:"text-3xl sm:text-4xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-rose-400 via-pink-400 to-fuchsia-500 py-2 mb-2",initial:{opacity:0},animate:{opacity:1},transition:{delay:.2,duration:.5},children:"FertiliApp"}),g.jsx("p",{className:"text-slate-400 text-lg",children:t?"Inicia sesión para continuar":"Crea tu cuenta"})]}),g.jsxs("form",{onSubmit:_,className:"space-y-6",children:[g.jsxs("div",{className:"space-y-2",children:[g.jsxs(An,{htmlFor:"email",className:"flex items-center text-slate-300 text-lg",children:[g.jsx(lH,{className:"mr-2 h-5 w-5 text-pink-400"})," Correo Electrónico"]}),g.jsx(Vr,{id:"email",type:"email",value:n,onChange:v=>r(v.target.value),placeholder:"tu@email.com",required:!0,className:"bg-slate-700 border-slate-600 text-slate-50 placeholder-slate-400 focus:ring-pink-500 focus:border-pink-500 text-base py-3 px-4"})]}),g.jsxs("div",{className:"space-y-2",children:[g.jsxs(An,{htmlFor:"password",className:"flex items-center text-slate-300 text-lg",children:[g.jsx(lC,{className:"mr-2 h-5 w-5 text-rose-400"})," Contraseña"]}),g.jsx(Vr,{id:"password",type:"password",value:i,onChange:v=>o(v.target.value),placeholder:"••••••••",required:!0,className:"bg-slate-700 border-slate-600 text-slate-50 placeholder-slate-400 focus:ring-pink-500 focus:border-pink-500 text-base py-3 px-4"})]}),!t&&g.jsxs("div",{className:"space-y-2",children:[g.jsxs(An,{htmlFor:"confirmPassword",className:"flex items-center text-slate-300 text-lg",children:[g.jsx(lC,{className:"mr-2 h-5 w-5 text-rose-400"})," Confirmar Contraseña"]}),g.jsx(Vr,{id:"confirmPassword",type:"password",value:s,onChange:v=>a(v.target.value),placeholder:"••••••••",required:!0,className:"bg-slate-700 border-slate-600 text-slate-50 placeholder-slate-400 focus:ring-pink-500 focus:border-pink-500 text-base py-3 px-4"})]}),g.jsx(Ce,{type:"submit",disabled:h,className:"w-full bg-gradient-to-r from-pink-500 to-fuchsia-600 hover:from-pink-600 hover:to-fuchsia-700 text-white font-semibold py-3 text-lg shadow-md hover:shadow-lg transition-all duration-300 transform hover:scale-102 flex items-center justify-center",children:h?g.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white"}):t?g.jsxs(g.Fragment,{children:[g.jsx(sH,{className:"mr-2 h-5 w-5"})," Iniciar Sesión"]}):g.jsxs(g.Fragment,{children:[g.jsx(vH,{className:"mr-2 h-5 w-5"})," Registrarse"]})})]}),g.jsx("div",{className:"mt-8 text-center",children:g.jsx(Ce,{variant:"link",onClick:()=>e(!t),className:"text-purple-400 hover:text-purple-300 text-base",children:t?"¿No tienes cuenta? Regístrate":"¿Ya tienes cuenta? Inicia sesión"})})]}),g.jsxs("footer",{className:"w-full max-w-md mt-12 text-center text-slate-500 text-sm",children:[g.jsxs("p",{children:["© ",new Date().getFullYear()," Seguimiento de Fertilidad. Todos los derechos reservados."]}),g.jsx("p",{children:"Creado con Hostinger Horizons."})]})]})},wH=({padding:t,chartWidth:e,chartHeight:n,tempMin:r,tempMax:i,tempRange:o,getY:s,getX:a,allDataPoints:l=[],responsiveFontSize:c,isFullScreen:u,showLeftLabels:f=!0})=>{const h={hidden:{opacity:0,y:20},visible:{opacity:1,y:0}},m=[];if(o>0){const _=o<=2.5?.1:.5;for(let v=r;v<=i+1e-9;v+=_)m.push(parseFloat(v.toFixed(1)))}else for(let _=35;_<=37.5+1e-9;_+=.5)m.push(parseFloat(_.toFixed(1)));return g.jsxs(g.Fragment,{children:[m.map((_,v)=>{const E=s(_),x=_.toFixed(1).endsWith(".0")||_.toFixed(1).endsWith(".5"),y=x?_.toFixed(1):`.${_.toFixed(1).split(".")[1]}`;return g.jsxs(qe.g,{variants:h,children:[g.jsx("line",{x1:t.left,y1:E,x2:e-t.right,y2:E,stroke:"#FCE7F3",strokeWidth:x?1:.5,strokeDasharray:x?"0":"2,2"}),f&&g.jsx("text",{x:t.left-c(.8),y:E+c(.3),textAnchor:"end",fontSize:c(),fill:"#E27DBF",children:y}),g.jsx("text",{x:e-t.right+c(.8),y:E+c(.3),textAnchor:"start",fontSize:c(),fill:"#E27DBF",children:y})]},`temp-tick-${v}`)}),l.map((_,v)=>{const E=a(v);return g.jsx("line",{x1:E,y1:t.top,x2:E,y2:n-t.bottom,stroke:"#FCE7F3",strokeWidth:.5},`day-grid-${v}`)}),f&&g.jsx(qe.text,{variants:h,x:t.left+c(.5),y:t.top+c(1),textAnchor:"start",fontSize:c(1.2),fill:"#E27DBF",children:"°C"})]})},_H=({data:t,allDataPoints:e,getX:n,getY:r,baselineY:i,temperatureField:o="temperature"})=>{if(!t||t.length<2)return null;let s="",a=null;return e.forEach((l,c)=>{const u=t.find(f=>f.id===l.id);if(u&&u[o]!==null&&u[o]!==void 0&&!u.ignored){const f=n(c),h=r(u[o]);a!==null&&c===a+1?s+=` L ${f} ${h}`:s+=`${s?" ":""}M ${f} ${h}`,a=c}}),s.includes("L")?g.jsx(g.Fragment,{children:g.jsx(qe.path,{d:s,fill:"none",stroke:"url(#tempLineGradientChart)",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round",initial:{pathLength:0,opacity:0},animate:{pathLength:1,opacity:1},transition:{duration:.2,ease:"easeInOut"}})}):null};function hr(t){"@babel/helpers - typeof";return hr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hr(t)}function Ze(t){if(t===null||t===!0||t===!1)return NaN;var e=Number(t);return isNaN(e)?e:e<0?Math.ceil(e):Math.floor(e)}function se(t,e){if(e.length<t)throw new TypeError(t+" argument"+(t>1?"s":"")+" required, but only "+e.length+" present")}function ve(t){se(1,arguments);var e=Object.prototype.toString.call(t);return t instanceof Date||hr(t)==="object"&&e==="[object Date]"?new Date(t.getTime()):typeof t=="number"||e==="[object Number]"?new Date(t):((typeof t=="string"||e==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}function Lt(t,e){se(2,arguments);var n=ve(t),r=Ze(e);return isNaN(r)?new Date(NaN):(r&&n.setDate(n.getDate()+r),n)}function pr(t,e){se(2,arguments);var n=ve(t),r=Ze(e);if(isNaN(r))return new Date(NaN);if(!r)return n;var i=n.getDate(),o=new Date(n.getTime());o.setMonth(n.getMonth()+r+1,0);var s=o.getDate();return i>=s?o:(n.setFullYear(o.getFullYear(),o.getMonth(),i),n)}function xH(t,e){se(2,arguments);var n=ve(t).getTime(),r=Ze(e);return new Date(n+r)}var EH={};function zr(){return EH}function Ur(t,e){var n,r,i,o,s,a,l,c;se(1,arguments);var u=zr(),f=Ze((n=(r=(i=(o=e==null?void 0:e.weekStartsOn)!==null&&o!==void 0?o:e==null||(s=e.locale)===null||s===void 0||(a=s.options)===null||a===void 0?void 0:a.weekStartsOn)!==null&&i!==void 0?i:u.weekStartsOn)!==null&&r!==void 0?r:(l=u.locale)===null||l===void 0||(c=l.options)===null||c===void 0?void 0:c.weekStartsOn)!==null&&n!==void 0?n:0);if(!(f>=0&&f<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var h=ve(t),m=h.getDay(),_=(m<f?7:0)+m-f;return h.setDate(h.getDate()-_),h.setHours(0,0,0,0),h}function xs(t){return se(1,arguments),Ur(t,{weekStartsOn:1})}function bH(t){se(1,arguments);var e=ve(t),n=e.getFullYear(),r=new Date(0);r.setFullYear(n+1,0,4),r.setHours(0,0,0,0);var i=xs(r),o=new Date(0);o.setFullYear(n,0,4),o.setHours(0,0,0,0);var s=xs(o);return e.getTime()>=i.getTime()?n+1:e.getTime()>=s.getTime()?n:n-1}function TH(t){se(1,arguments);var e=bH(t),n=new Date(0);n.setFullYear(e,0,4),n.setHours(0,0,0,0);var r=xs(n);return r}function Ka(t){var e=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return e.setUTCFullYear(t.getFullYear()),t.getTime()-e.getTime()}function be(t){se(1,arguments);var e=ve(t);return e.setHours(0,0,0,0),e}var CH=864e5;function Ir(t,e){se(2,arguments);var n=be(t),r=be(e),i=n.getTime()-Ka(n),o=r.getTime()-Ka(r);return Math.round((i-o)/CH)}function Oy(t,e){se(2,arguments);var n=Ze(e),r=n*7;return Lt(t,r)}function SH(t,e){se(2,arguments);var n=Ze(e);return pr(t,n*12)}function PH(t){se(1,arguments);var e;if(t&&typeof t.forEach=="function")e=t;else if(hr(t)==="object"&&t!==null)e=Array.prototype.slice.call(t);else return new Date(NaN);var n;return e.forEach(function(r){var i=ve(r);(n===void 0||n<i||isNaN(Number(i)))&&(n=i)}),n||new Date(NaN)}function IH(t){se(1,arguments);var e;if(t&&typeof t.forEach=="function")e=t;else if(hr(t)==="object"&&t!==null)e=Array.prototype.slice.call(t);else return new Date(NaN);var n;return e.forEach(function(r){var i=ve(r);(n===void 0||n>i||isNaN(i.getDate()))&&(n=i)}),n||new Date(NaN)}function AH(t,e){se(2,arguments);var n=ve(t),r=ve(e),i=n.getTime()-r.getTime();return i<0?-1:i>0?1:i}var p_=6e4,m_=36e5,RH=1e3;function xn(t,e){se(2,arguments);var n=be(t),r=be(e);return n.getTime()===r.getTime()}function g_(t){return se(1,arguments),t instanceof Date||hr(t)==="object"&&Object.prototype.toString.call(t)==="[object Date]"}function kH(t){if(se(1,arguments),!g_(t)&&typeof t!="number")return!1;var e=ve(t);return!isNaN(Number(e))}function fu(t,e){se(2,arguments);var n=ve(t),r=ve(e),i=n.getFullYear()-r.getFullYear(),o=n.getMonth()-r.getMonth();return i*12+o}var DH=6048e5;function NH(t,e,n){se(2,arguments);var r=Ur(t,n),i=Ur(e,n),o=r.getTime()-Ka(r),s=i.getTime()-Ka(i);return Math.round((o-s)/DH)}function uC(t,e){var n=t.getFullYear()-e.getFullYear()||t.getMonth()-e.getMonth()||t.getDate()-e.getDate()||t.getHours()-e.getHours()||t.getMinutes()-e.getMinutes()||t.getSeconds()-e.getSeconds()||t.getMilliseconds()-e.getMilliseconds();return n<0?-1:n>0?1:n}function ls(t,e){se(2,arguments);var n=ve(t),r=ve(e),i=uC(n,r),o=Math.abs(Ir(n,r));n.setDate(n.getDate()-i*o);var s=+(uC(n,r)===-i),a=i*(o-s);return a===0?0:a}function v_(t){se(1,arguments);var e=ve(t),n=e.getMonth();return e.setFullYear(e.getFullYear(),n+1,0),e.setHours(23,59,59,999),e}function Cn(t){se(1,arguments);var e=ve(t);return e.setDate(1),e.setHours(0,0,0,0),e}function MH(t){se(1,arguments);var e=ve(t),n=new Date(0);return n.setFullYear(e.getFullYear(),0,1),n.setHours(0,0,0,0),n}function y_(t,e){var n,r,i,o,s,a,l,c;se(1,arguments);var u=zr(),f=Ze((n=(r=(i=(o=e==null?void 0:e.weekStartsOn)!==null&&o!==void 0?o:e==null||(s=e.locale)===null||s===void 0||(a=s.options)===null||a===void 0?void 0:a.weekStartsOn)!==null&&i!==void 0?i:u.weekStartsOn)!==null&&r!==void 0?r:(l=u.locale)===null||l===void 0||(c=l.options)===null||c===void 0?void 0:c.weekStartsOn)!==null&&n!==void 0?n:0);if(!(f>=0&&f<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var h=ve(t),m=h.getDay(),_=(m<f?-7:0)+6-(m-f);return h.setDate(h.getDate()+_),h.setHours(23,59,59,999),h}function YD(t){return se(1,arguments),y_(t,{weekStartsOn:1})}function GD(t,e){se(2,arguments);var n=Ze(e);return xH(t,-n)}var OH=864e5;function LH(t){se(1,arguments);var e=ve(t),n=e.getTime();e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0);var r=e.getTime(),i=n-r;return Math.floor(i/OH)+1}function Qa(t){se(1,arguments);var e=1,n=ve(t),r=n.getUTCDay(),i=(r<e?7:0)+r-e;return n.setUTCDate(n.getUTCDate()-i),n.setUTCHours(0,0,0,0),n}function KD(t){se(1,arguments);var e=ve(t),n=e.getUTCFullYear(),r=new Date(0);r.setUTCFullYear(n+1,0,4),r.setUTCHours(0,0,0,0);var i=Qa(r),o=new Date(0);o.setUTCFullYear(n,0,4),o.setUTCHours(0,0,0,0);var s=Qa(o);return e.getTime()>=i.getTime()?n+1:e.getTime()>=s.getTime()?n:n-1}function VH(t){se(1,arguments);var e=KD(t),n=new Date(0);n.setUTCFullYear(e,0,4),n.setUTCHours(0,0,0,0);var r=Qa(n);return r}var jH=6048e5;function QD(t){se(1,arguments);var e=ve(t),n=Qa(e).getTime()-VH(e).getTime();return Math.round(n/jH)+1}function Es(t,e){var n,r,i,o,s,a,l,c;se(1,arguments);var u=zr(),f=Ze((n=(r=(i=(o=e==null?void 0:e.weekStartsOn)!==null&&o!==void 0?o:e==null||(s=e.locale)===null||s===void 0||(a=s.options)===null||a===void 0?void 0:a.weekStartsOn)!==null&&i!==void 0?i:u.weekStartsOn)!==null&&r!==void 0?r:(l=u.locale)===null||l===void 0||(c=l.options)===null||c===void 0?void 0:c.weekStartsOn)!==null&&n!==void 0?n:0);if(!(f>=0&&f<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var h=ve(t),m=h.getUTCDay(),_=(m<f?7:0)+m-f;return h.setUTCDate(h.getUTCDate()-_),h.setUTCHours(0,0,0,0),h}function w_(t,e){var n,r,i,o,s,a,l,c;se(1,arguments);var u=ve(t),f=u.getUTCFullYear(),h=zr(),m=Ze((n=(r=(i=(o=e==null?void 0:e.firstWeekContainsDate)!==null&&o!==void 0?o:e==null||(s=e.locale)===null||s===void 0||(a=s.options)===null||a===void 0?void 0:a.firstWeekContainsDate)!==null&&i!==void 0?i:h.firstWeekContainsDate)!==null&&r!==void 0?r:(l=h.locale)===null||l===void 0||(c=l.options)===null||c===void 0?void 0:c.firstWeekContainsDate)!==null&&n!==void 0?n:1);if(!(m>=1&&m<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var _=new Date(0);_.setUTCFullYear(f+1,0,m),_.setUTCHours(0,0,0,0);var v=Es(_,e),E=new Date(0);E.setUTCFullYear(f,0,m),E.setUTCHours(0,0,0,0);var x=Es(E,e);return u.getTime()>=v.getTime()?f+1:u.getTime()>=x.getTime()?f:f-1}function FH(t,e){var n,r,i,o,s,a,l,c;se(1,arguments);var u=zr(),f=Ze((n=(r=(i=(o=e==null?void 0:e.firstWeekContainsDate)!==null&&o!==void 0?o:e==null||(s=e.locale)===null||s===void 0||(a=s.options)===null||a===void 0?void 0:a.firstWeekContainsDate)!==null&&i!==void 0?i:u.firstWeekContainsDate)!==null&&r!==void 0?r:(l=u.locale)===null||l===void 0||(c=l.options)===null||c===void 0?void 0:c.firstWeekContainsDate)!==null&&n!==void 0?n:1),h=w_(t,e),m=new Date(0);m.setUTCFullYear(h,0,f),m.setUTCHours(0,0,0,0);var _=Es(m,e);return _}var $H=6048e5;function XD(t,e){se(1,arguments);var n=ve(t),r=Es(n,e).getTime()-FH(n,e).getTime();return Math.round(r/$H)+1}function ze(t,e){for(var n=t<0?"-":"",r=Math.abs(t).toString();r.length<e;)r="0"+r;return n+r}var UH={y:function(e,n){var r=e.getUTCFullYear(),i=r>0?r:1-r;return ze(n==="yy"?i%100:i,n.length)},M:function(e,n){var r=e.getUTCMonth();return n==="M"?String(r+1):ze(r+1,2)},d:function(e,n){return ze(e.getUTCDate(),n.length)},a:function(e,n){var r=e.getUTCHours()/12>=1?"pm":"am";switch(n){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h:function(e,n){return ze(e.getUTCHours()%12||12,n.length)},H:function(e,n){return ze(e.getUTCHours(),n.length)},m:function(e,n){return ze(e.getUTCMinutes(),n.length)},s:function(e,n){return ze(e.getUTCSeconds(),n.length)},S:function(e,n){var r=n.length,i=e.getUTCMilliseconds(),o=Math.floor(i*Math.pow(10,r-3));return ze(o,n.length)}};const Oi=UH;var Us={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},BH={G:function(e,n,r){var i=e.getUTCFullYear()>0?1:0;switch(n){case"G":case"GG":case"GGG":return r.era(i,{width:"abbreviated"});case"GGGGG":return r.era(i,{width:"narrow"});case"GGGG":default:return r.era(i,{width:"wide"})}},y:function(e,n,r){if(n==="yo"){var i=e.getUTCFullYear(),o=i>0?i:1-i;return r.ordinalNumber(o,{unit:"year"})}return Oi.y(e,n)},Y:function(e,n,r,i){var o=w_(e,i),s=o>0?o:1-o;if(n==="YY"){var a=s%100;return ze(a,2)}return n==="Yo"?r.ordinalNumber(s,{unit:"year"}):ze(s,n.length)},R:function(e,n){var r=KD(e);return ze(r,n.length)},u:function(e,n){var r=e.getUTCFullYear();return ze(r,n.length)},Q:function(e,n,r){var i=Math.ceil((e.getUTCMonth()+1)/3);switch(n){case"Q":return String(i);case"QQ":return ze(i,2);case"Qo":return r.ordinalNumber(i,{unit:"quarter"});case"QQQ":return r.quarter(i,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(i,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(i,{width:"wide",context:"formatting"})}},q:function(e,n,r){var i=Math.ceil((e.getUTCMonth()+1)/3);switch(n){case"q":return String(i);case"qq":return ze(i,2);case"qo":return r.ordinalNumber(i,{unit:"quarter"});case"qqq":return r.quarter(i,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(i,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(i,{width:"wide",context:"standalone"})}},M:function(e,n,r){var i=e.getUTCMonth();switch(n){case"M":case"MM":return Oi.M(e,n);case"Mo":return r.ordinalNumber(i+1,{unit:"month"});case"MMM":return r.month(i,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(i,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(i,{width:"wide",context:"formatting"})}},L:function(e,n,r){var i=e.getUTCMonth();switch(n){case"L":return String(i+1);case"LL":return ze(i+1,2);case"Lo":return r.ordinalNumber(i+1,{unit:"month"});case"LLL":return r.month(i,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(i,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(i,{width:"wide",context:"standalone"})}},w:function(e,n,r,i){var o=XD(e,i);return n==="wo"?r.ordinalNumber(o,{unit:"week"}):ze(o,n.length)},I:function(e,n,r){var i=QD(e);return n==="Io"?r.ordinalNumber(i,{unit:"week"}):ze(i,n.length)},d:function(e,n,r){return n==="do"?r.ordinalNumber(e.getUTCDate(),{unit:"date"}):Oi.d(e,n)},D:function(e,n,r){var i=LH(e);return n==="Do"?r.ordinalNumber(i,{unit:"dayOfYear"}):ze(i,n.length)},E:function(e,n,r){var i=e.getUTCDay();switch(n){case"E":case"EE":case"EEE":return r.day(i,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(i,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(i,{width:"short",context:"formatting"});case"EEEE":default:return r.day(i,{width:"wide",context:"formatting"})}},e:function(e,n,r,i){var o=e.getUTCDay(),s=(o-i.weekStartsOn+8)%7||7;switch(n){case"e":return String(s);case"ee":return ze(s,2);case"eo":return r.ordinalNumber(s,{unit:"day"});case"eee":return r.day(o,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(o,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(o,{width:"short",context:"formatting"});case"eeee":default:return r.day(o,{width:"wide",context:"formatting"})}},c:function(e,n,r,i){var o=e.getUTCDay(),s=(o-i.weekStartsOn+8)%7||7;switch(n){case"c":return String(s);case"cc":return ze(s,n.length);case"co":return r.ordinalNumber(s,{unit:"day"});case"ccc":return r.day(o,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(o,{width:"narrow",context:"standalone"});case"cccccc":return r.day(o,{width:"short",context:"standalone"});case"cccc":default:return r.day(o,{width:"wide",context:"standalone"})}},i:function(e,n,r){var i=e.getUTCDay(),o=i===0?7:i;switch(n){case"i":return String(o);case"ii":return ze(o,n.length);case"io":return r.ordinalNumber(o,{unit:"day"});case"iii":return r.day(i,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(i,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(i,{width:"short",context:"formatting"});case"iiii":default:return r.day(i,{width:"wide",context:"formatting"})}},a:function(e,n,r){var i=e.getUTCHours(),o=i/12>=1?"pm":"am";switch(n){case"a":case"aa":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(o,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(o,{width:"wide",context:"formatting"})}},b:function(e,n,r){var i=e.getUTCHours(),o;switch(i===12?o=Us.noon:i===0?o=Us.midnight:o=i/12>=1?"pm":"am",n){case"b":case"bb":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(o,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(o,{width:"wide",context:"formatting"})}},B:function(e,n,r){var i=e.getUTCHours(),o;switch(i>=17?o=Us.evening:i>=12?o=Us.afternoon:i>=4?o=Us.morning:o=Us.night,n){case"B":case"BB":case"BBB":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(o,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(o,{width:"wide",context:"formatting"})}},h:function(e,n,r){if(n==="ho"){var i=e.getUTCHours()%12;return i===0&&(i=12),r.ordinalNumber(i,{unit:"hour"})}return Oi.h(e,n)},H:function(e,n,r){return n==="Ho"?r.ordinalNumber(e.getUTCHours(),{unit:"hour"}):Oi.H(e,n)},K:function(e,n,r){var i=e.getUTCHours()%12;return n==="Ko"?r.ordinalNumber(i,{unit:"hour"}):ze(i,n.length)},k:function(e,n,r){var i=e.getUTCHours();return i===0&&(i=24),n==="ko"?r.ordinalNumber(i,{unit:"hour"}):ze(i,n.length)},m:function(e,n,r){return n==="mo"?r.ordinalNumber(e.getUTCMinutes(),{unit:"minute"}):Oi.m(e,n)},s:function(e,n,r){return n==="so"?r.ordinalNumber(e.getUTCSeconds(),{unit:"second"}):Oi.s(e,n)},S:function(e,n){return Oi.S(e,n)},X:function(e,n,r,i){var o=i._originalDate||e,s=o.getTimezoneOffset();if(s===0)return"Z";switch(n){case"X":return fC(s);case"XXXX":case"XX":return Jo(s);case"XXXXX":case"XXX":default:return Jo(s,":")}},x:function(e,n,r,i){var o=i._originalDate||e,s=o.getTimezoneOffset();switch(n){case"x":return fC(s);case"xxxx":case"xx":return Jo(s);case"xxxxx":case"xxx":default:return Jo(s,":")}},O:function(e,n,r,i){var o=i._originalDate||e,s=o.getTimezoneOffset();switch(n){case"O":case"OO":case"OOO":return"GMT"+dC(s,":");case"OOOO":default:return"GMT"+Jo(s,":")}},z:function(e,n,r,i){var o=i._originalDate||e,s=o.getTimezoneOffset();switch(n){case"z":case"zz":case"zzz":return"GMT"+dC(s,":");case"zzzz":default:return"GMT"+Jo(s,":")}},t:function(e,n,r,i){var o=i._originalDate||e,s=Math.floor(o.getTime()/1e3);return ze(s,n.length)},T:function(e,n,r,i){var o=i._originalDate||e,s=o.getTime();return ze(s,n.length)}};function dC(t,e){var n=t>0?"-":"+",r=Math.abs(t),i=Math.floor(r/60),o=r%60;if(o===0)return n+String(i);var s=e||"";return n+String(i)+s+ze(o,2)}function fC(t,e){if(t%60===0){var n=t>0?"-":"+";return n+ze(Math.abs(t)/60,2)}return Jo(t,e)}function Jo(t,e){var n=e||"",r=t>0?"-":"+",i=Math.abs(t),o=ze(Math.floor(i/60),2),s=ze(i%60,2);return r+o+n+s}const WH=BH;var hC=function(e,n){switch(e){case"P":return n.date({width:"short"});case"PP":return n.date({width:"medium"});case"PPP":return n.date({width:"long"});case"PPPP":default:return n.date({width:"full"})}},JD=function(e,n){switch(e){case"p":return n.time({width:"short"});case"pp":return n.time({width:"medium"});case"ppp":return n.time({width:"long"});case"pppp":default:return n.time({width:"full"})}},zH=function(e,n){var r=e.match(/(P+)(p+)?/)||[],i=r[1],o=r[2];if(!o)return hC(e,n);var s;switch(i){case"P":s=n.dateTime({width:"short"});break;case"PP":s=n.dateTime({width:"medium"});break;case"PPP":s=n.dateTime({width:"long"});break;case"PPPP":default:s=n.dateTime({width:"full"});break}return s.replace("{{date}}",hC(i,n)).replace("{{time}}",JD(o,n))},HH={p:JD,P:zH};const Ly=HH;var qH=["D","DD"],YH=["YY","YYYY"];function ZD(t){return qH.indexOf(t)!==-1}function eN(t){return YH.indexOf(t)!==-1}function Th(t,e,n){if(t==="YYYY")throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(e,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(t==="YY")throw new RangeError("Use `yy` instead of `YY` (in `".concat(e,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(t==="D")throw new RangeError("Use `d` instead of `D` (in `".concat(e,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(t==="DD")throw new RangeError("Use `dd` instead of `DD` (in `".concat(e,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}var GH={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},KH=function(e,n,r){var i,o=GH[e];return typeof o=="string"?i=o:n===1?i=o.one:i=o.other.replace("{{count}}",n.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+i:i+" ago":i};const QH=KH;function Ia(t){return function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.width?String(e.width):t.defaultWidth,r=t.formats[n]||t.formats[t.defaultWidth];return r}}var XH={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},JH={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},ZH={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},eq={date:Ia({formats:XH,defaultWidth:"full"}),time:Ia({formats:JH,defaultWidth:"full"}),dateTime:Ia({formats:ZH,defaultWidth:"full"})};const tq=eq;var nq={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},rq=function(e,n,r,i){return nq[e]};const iq=rq;function Tr(t){return function(e,n){var r=n!=null&&n.context?String(n.context):"standalone",i;if(r==="formatting"&&t.formattingValues){var o=t.defaultFormattingWidth||t.defaultWidth,s=n!=null&&n.width?String(n.width):o;i=t.formattingValues[s]||t.formattingValues[o]}else{var a=t.defaultWidth,l=n!=null&&n.width?String(n.width):t.defaultWidth;i=t.values[l]||t.values[a]}var c=t.argumentCallback?t.argumentCallback(e):e;return i[c]}}var oq={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},sq={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},aq={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},lq={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},cq={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},uq={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},dq=function(e,n){var r=Number(e),i=r%100;if(i>20||i<10)switch(i%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},fq={ordinalNumber:dq,era:Tr({values:oq,defaultWidth:"wide"}),quarter:Tr({values:sq,defaultWidth:"wide",argumentCallback:function(e){return e-1}}),month:Tr({values:aq,defaultWidth:"wide"}),day:Tr({values:lq,defaultWidth:"wide"}),dayPeriod:Tr({values:cq,defaultWidth:"wide",formattingValues:uq,defaultFormattingWidth:"wide"})};const hq=fq;function Cr(t){return function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=n.width,i=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],o=e.match(i);if(!o)return null;var s=o[0],a=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],l=Array.isArray(a)?mq(a,function(f){return f.test(s)}):pq(a,function(f){return f.test(s)}),c;c=t.valueCallback?t.valueCallback(l):l,c=n.valueCallback?n.valueCallback(c):c;var u=e.slice(s.length);return{value:c,rest:u}}}function pq(t,e){for(var n in t)if(t.hasOwnProperty(n)&&e(t[n]))return n}function mq(t,e){for(var n=0;n<t.length;n++)if(e(t[n]))return n}function tN(t){return function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=e.match(t.matchPattern);if(!r)return null;var i=r[0],o=e.match(t.parsePattern);if(!o)return null;var s=t.valueCallback?t.valueCallback(o[0]):o[0];s=n.valueCallback?n.valueCallback(s):s;var a=e.slice(i.length);return{value:s,rest:a}}}var gq=/^(\d+)(th|st|nd|rd)?/i,vq=/\d+/i,yq={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},wq={any:[/^b/i,/^(a|c)/i]},_q={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},xq={any:[/1/i,/2/i,/3/i,/4/i]},Eq={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},bq={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Tq={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Cq={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Sq={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Pq={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Iq={ordinalNumber:tN({matchPattern:gq,parsePattern:vq,valueCallback:function(e){return parseInt(e,10)}}),era:Cr({matchPatterns:yq,defaultMatchWidth:"wide",parsePatterns:wq,defaultParseWidth:"any"}),quarter:Cr({matchPatterns:_q,defaultMatchWidth:"wide",parsePatterns:xq,defaultParseWidth:"any",valueCallback:function(e){return e+1}}),month:Cr({matchPatterns:Eq,defaultMatchWidth:"wide",parsePatterns:bq,defaultParseWidth:"any"}),day:Cr({matchPatterns:Tq,defaultMatchWidth:"wide",parsePatterns:Cq,defaultParseWidth:"any"}),dayPeriod:Cr({matchPatterns:Sq,defaultMatchWidth:"any",parsePatterns:Pq,defaultParseWidth:"any"})};const Aq=Iq;var Rq={code:"en-US",formatDistance:QH,formatLong:tq,formatRelative:iq,localize:hq,match:Aq,options:{weekStartsOn:0,firstWeekContainsDate:1}};const __=Rq;var kq=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Dq=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Nq=/^'([^]*?)'?$/,Mq=/''/g,Oq=/[a-zA-Z]/;function le(t,e,n){var r,i,o,s,a,l,c,u,f,h,m,_,v,E,x,y,b,P;se(2,arguments);var N=String(e),M=zr(),S=(r=(i=n==null?void 0:n.locale)!==null&&i!==void 0?i:M.locale)!==null&&r!==void 0?r:__,C=Ze((o=(s=(a=(l=n==null?void 0:n.firstWeekContainsDate)!==null&&l!==void 0?l:n==null||(c=n.locale)===null||c===void 0||(u=c.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&a!==void 0?a:M.firstWeekContainsDate)!==null&&s!==void 0?s:(f=M.locale)===null||f===void 0||(h=f.options)===null||h===void 0?void 0:h.firstWeekContainsDate)!==null&&o!==void 0?o:1);if(!(C>=1&&C<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var I=Ze((m=(_=(v=(E=n==null?void 0:n.weekStartsOn)!==null&&E!==void 0?E:n==null||(x=n.locale)===null||x===void 0||(y=x.options)===null||y===void 0?void 0:y.weekStartsOn)!==null&&v!==void 0?v:M.weekStartsOn)!==null&&_!==void 0?_:(b=M.locale)===null||b===void 0||(P=b.options)===null||P===void 0?void 0:P.weekStartsOn)!==null&&m!==void 0?m:0);if(!(I>=0&&I<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!S.localize)throw new RangeError("locale must contain localize property");if(!S.formatLong)throw new RangeError("locale must contain formatLong property");var A=ve(t);if(!kH(A))throw new RangeError("Invalid time value");var O=Ka(A),D=GD(A,O),k={firstWeekContainsDate:C,weekStartsOn:I,locale:S,_originalDate:A},B=N.match(Dq).map(function(q){var K=q[0];if(K==="p"||K==="P"){var j=Ly[K];return j(q,S.formatLong)}return q}).join("").match(kq).map(function(q){if(q==="''")return"'";var K=q[0];if(K==="'")return Lq(q);var j=WH[K];if(j)return!(n!=null&&n.useAdditionalWeekYearTokens)&&eN(q)&&Th(q,e,String(t)),!(n!=null&&n.useAdditionalDayOfYearTokens)&&ZD(q)&&Th(q,e,String(t)),j(D,q,S.localize,k);if(K.match(Oq))throw new RangeError("Format string contains an unescaped latin alphabet character `"+K+"`");return q}).join("");return B}function Lq(t){var e=t.match(Nq);return e?e[1].replace(Mq,"'"):t}function Vq(t,e){if(t==null)throw new TypeError("assign requires that input parameter not be null or undefined");for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}function jq(t){se(1,arguments);var e=ve(t),n=e.getFullYear(),r=e.getMonth(),i=new Date(0);return i.setFullYear(n,r+1,0),i.setHours(0,0,0,0),i.getDate()}var Fq=6048e5;function $q(t){se(1,arguments);var e=ve(t),n=xs(e).getTime()-TH(e).getTime();return Math.round(n/Fq)+1}function Uq(t){se(1,arguments);var e=ve(t),n=e.getTime();return n}function Bq(t){return se(1,arguments),Math.floor(Uq(t)/1e3)}function Wq(t,e){var n,r,i,o,s,a,l,c;se(1,arguments);var u=ve(t),f=u.getFullYear(),h=zr(),m=Ze((n=(r=(i=(o=e==null?void 0:e.firstWeekContainsDate)!==null&&o!==void 0?o:e==null||(s=e.locale)===null||s===void 0||(a=s.options)===null||a===void 0?void 0:a.firstWeekContainsDate)!==null&&i!==void 0?i:h.firstWeekContainsDate)!==null&&r!==void 0?r:(l=h.locale)===null||l===void 0||(c=l.options)===null||c===void 0?void 0:c.firstWeekContainsDate)!==null&&n!==void 0?n:1);if(!(m>=1&&m<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var _=new Date(0);_.setFullYear(f+1,0,m),_.setHours(0,0,0,0);var v=Ur(_,e),E=new Date(0);E.setFullYear(f,0,m),E.setHours(0,0,0,0);var x=Ur(E,e);return u.getTime()>=v.getTime()?f+1:u.getTime()>=x.getTime()?f:f-1}function zq(t,e){var n,r,i,o,s,a,l,c;se(1,arguments);var u=zr(),f=Ze((n=(r=(i=(o=e==null?void 0:e.firstWeekContainsDate)!==null&&o!==void 0?o:e==null||(s=e.locale)===null||s===void 0||(a=s.options)===null||a===void 0?void 0:a.firstWeekContainsDate)!==null&&i!==void 0?i:u.firstWeekContainsDate)!==null&&r!==void 0?r:(l=u.locale)===null||l===void 0||(c=l.options)===null||c===void 0?void 0:c.firstWeekContainsDate)!==null&&n!==void 0?n:1),h=Wq(t,e),m=new Date(0);m.setFullYear(h,0,f),m.setHours(0,0,0,0);var _=Ur(m,e);return _}var Hq=6048e5;function qq(t,e){se(1,arguments);var n=ve(t),r=Ur(n,e).getTime()-zq(n,e).getTime();return Math.round(r/Hq)+1}function Yq(t){se(1,arguments);var e=ve(t),n=e.getMonth();return e.setFullYear(e.getFullYear(),n+1,0),e.setHours(0,0,0,0),e}function Gq(t,e){return se(1,arguments),NH(Yq(t),Cn(t),e)+1}function Ch(t,e){se(2,arguments);var n=ve(t),r=ve(e);return n.getTime()>r.getTime()}function nN(t,e){se(2,arguments);var n=ve(t),r=ve(e);return n.getTime()<r.getTime()}function pC(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function Kq(t,e){if(t){if(typeof t=="string")return pC(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?pC(t,e):void 0}}function mC(t,e){var n=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=Kq(t))||e&&t&&typeof t.length=="number"){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(c){throw c},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var o,s=!0,a=!1;return{s:function(){n=n.call(t)},n:function(){var c=n.next();return s=c.done,c},e:function(c){a=!0,o=c},f:function(){try{s||n.return==null||n.return()}finally{if(a)throw o}}}}function re(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Vy(t,e){return Vy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},Vy(t,e)}function Ve(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Vy(t,e)}function Sh(t){return Sh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Sh(t)}function rN(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(rN=function(){return!!t})()}function Qq(t,e){if(e&&(hr(e)=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return re(t)}function je(t){var e=rN();return function(){var n,r=Sh(t);if(e){var i=Sh(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Qq(this,n)}}function De(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Xq(t,e){if(hr(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(hr(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function iN(t){var e=Xq(t,"string");return hr(e)=="symbol"?e:e+""}function gC(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,iN(r.key),r)}}function Ne(t,e,n){return e&&gC(t.prototype,e),n&&gC(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function ee(t,e,n){return(e=iN(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Jq=10,oN=function(){function t(){De(this,t),ee(this,"priority",void 0),ee(this,"subPriority",0)}return Ne(t,[{key:"validate",value:function(n,r){return!0}}]),t}(),Zq=function(t){Ve(n,t);var e=je(n);function n(r,i,o,s,a){var l;return De(this,n),l=e.call(this),l.value=r,l.validateValue=i,l.setValue=o,l.priority=s,a&&(l.subPriority=a),l}return Ne(n,[{key:"validate",value:function(i,o){return this.validateValue(i,this.value,o)}},{key:"set",value:function(i,o,s){return this.setValue(i,o,this.value,s)}}]),n}(oN),eY=function(t){Ve(n,t);var e=je(n);function n(){var r;De(this,n);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o)),ee(re(r),"priority",Jq),ee(re(r),"subPriority",-1),r}return Ne(n,[{key:"set",value:function(i,o){if(o.timestampIsSet)return i;var s=new Date(0);return s.setFullYear(i.getUTCFullYear(),i.getUTCMonth(),i.getUTCDate()),s.setHours(i.getUTCHours(),i.getUTCMinutes(),i.getUTCSeconds(),i.getUTCMilliseconds()),s}}]),n}(oN),Ue=function(){function t(){De(this,t),ee(this,"incompatibleTokens",void 0),ee(this,"priority",void 0),ee(this,"subPriority",void 0)}return Ne(t,[{key:"run",value:function(n,r,i,o){var s=this.parse(n,r,i,o);return s?{setter:new Zq(s.value,this.validate,this.set,this.priority,this.subPriority),rest:s.rest}:null}},{key:"validate",value:function(n,r,i){return!0}}]),t}(),tY=function(t){Ve(n,t);var e=je(n);function n(){var r;De(this,n);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o)),ee(re(r),"priority",140),ee(re(r),"incompatibleTokens",["R","u","t","T"]),r}return Ne(n,[{key:"parse",value:function(i,o,s){switch(o){case"G":case"GG":case"GGG":return s.era(i,{width:"abbreviated"})||s.era(i,{width:"narrow"});case"GGGGG":return s.era(i,{width:"narrow"});case"GGGG":default:return s.era(i,{width:"wide"})||s.era(i,{width:"abbreviated"})||s.era(i,{width:"narrow"})}}},{key:"set",value:function(i,o,s){return o.era=s,i.setUTCFullYear(s,0,1),i.setUTCHours(0,0,0,0),i}}]),n}(Ue),xt={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},Sr={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function Et(t,e){return t&&{value:e(t.value),rest:t.rest}}function dt(t,e){var n=e.match(t);return n?{value:parseInt(n[0],10),rest:e.slice(n[0].length)}:null}function Pr(t,e){var n=e.match(t);if(!n)return null;if(n[0]==="Z")return{value:0,rest:e.slice(1)};var r=n[1]==="+"?1:-1,i=n[2]?parseInt(n[2],10):0,o=n[3]?parseInt(n[3],10):0,s=n[5]?parseInt(n[5],10):0;return{value:r*(i*m_+o*p_+s*RH),rest:e.slice(n[0].length)}}function sN(t){return dt(xt.anyDigitsSigned,t)}function yt(t,e){switch(t){case 1:return dt(xt.singleDigit,e);case 2:return dt(xt.twoDigits,e);case 3:return dt(xt.threeDigits,e);case 4:return dt(xt.fourDigits,e);default:return dt(new RegExp("^\\d{1,"+t+"}"),e)}}function Ph(t,e){switch(t){case 1:return dt(xt.singleDigitSigned,e);case 2:return dt(xt.twoDigitsSigned,e);case 3:return dt(xt.threeDigitsSigned,e);case 4:return dt(xt.fourDigitsSigned,e);default:return dt(new RegExp("^-?\\d{1,"+t+"}"),e)}}function x_(t){switch(t){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function aN(t,e){var n=e>0,r=n?e:1-e,i;if(r<=50)i=t||100;else{var o=r+50,s=Math.floor(o/100)*100,a=t>=o%100;i=t+s-(a?100:0)}return n?i:1-i}function lN(t){return t%400===0||t%4===0&&t%100!==0}var nY=function(t){Ve(n,t);var e=je(n);function n(){var r;De(this,n);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o)),ee(re(r),"priority",130),ee(re(r),"incompatibleTokens",["Y","R","u","w","I","i","e","c","t","T"]),r}return Ne(n,[{key:"parse",value:function(i,o,s){var a=function(c){return{year:c,isTwoDigitYear:o==="yy"}};switch(o){case"y":return Et(yt(4,i),a);case"yo":return Et(s.ordinalNumber(i,{unit:"year"}),a);default:return Et(yt(o.length,i),a)}}},{key:"validate",value:function(i,o){return o.isTwoDigitYear||o.year>0}},{key:"set",value:function(i,o,s){var a=i.getUTCFullYear();if(s.isTwoDigitYear){var l=aN(s.year,a);return i.setUTCFullYear(l,0,1),i.setUTCHours(0,0,0,0),i}var c=!("era"in o)||o.era===1?s.year:1-s.year;return i.setUTCFullYear(c,0,1),i.setUTCHours(0,0,0,0),i}}]),n}(Ue),rY=function(t){Ve(n,t);var e=je(n);function n(){var r;De(this,n);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o)),ee(re(r),"priority",130),ee(re(r),"incompatibleTokens",["y","R","u","Q","q","M","L","I","d","D","i","t","T"]),r}return Ne(n,[{key:"parse",value:function(i,o,s){var a=function(c){return{year:c,isTwoDigitYear:o==="YY"}};switch(o){case"Y":return Et(yt(4,i),a);case"Yo":return Et(s.ordinalNumber(i,{unit:"year"}),a);default:return Et(yt(o.length,i),a)}}},{key:"validate",value:function(i,o){return o.isTwoDigitYear||o.year>0}},{key:"set",value:function(i,o,s,a){var l=w_(i,a);if(s.isTwoDigitYear){var c=aN(s.year,l);return i.setUTCFullYear(c,0,a.firstWeekContainsDate),i.setUTCHours(0,0,0,0),Es(i,a)}var u=!("era"in o)||o.era===1?s.year:1-s.year;return i.setUTCFullYear(u,0,a.firstWeekContainsDate),i.setUTCHours(0,0,0,0),Es(i,a)}}]),n}(Ue),iY=function(t){Ve(n,t);var e=je(n);function n(){var r;De(this,n);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o)),ee(re(r),"priority",130),ee(re(r),"incompatibleTokens",["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"]),r}return Ne(n,[{key:"parse",value:function(i,o){return Ph(o==="R"?4:o.length,i)}},{key:"set",value:function(i,o,s){var a=new Date(0);return a.setUTCFullYear(s,0,4),a.setUTCHours(0,0,0,0),Qa(a)}}]),n}(Ue),oY=function(t){Ve(n,t);var e=je(n);function n(){var r;De(this,n);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o)),ee(re(r),"priority",130),ee(re(r),"incompatibleTokens",["G","y","Y","R","w","I","i","e","c","t","T"]),r}return Ne(n,[{key:"parse",value:function(i,o){return Ph(o==="u"?4:o.length,i)}},{key:"set",value:function(i,o,s){return i.setUTCFullYear(s,0,1),i.setUTCHours(0,0,0,0),i}}]),n}(Ue),sY=function(t){Ve(n,t);var e=je(n);function n(){var r;De(this,n);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o)),ee(re(r),"priority",120),ee(re(r),"incompatibleTokens",["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"]),r}return Ne(n,[{key:"parse",value:function(i,o,s){switch(o){case"Q":case"QQ":return yt(o.length,i);case"Qo":return s.ordinalNumber(i,{unit:"quarter"});case"QQQ":return s.quarter(i,{width:"abbreviated",context:"formatting"})||s.quarter(i,{width:"narrow",context:"formatting"});case"QQQQQ":return s.quarter(i,{width:"narrow",context:"formatting"});case"QQQQ":default:return s.quarter(i,{width:"wide",context:"formatting"})||s.quarter(i,{width:"abbreviated",context:"formatting"})||s.quarter(i,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(i,o){return o>=1&&o<=4}},{key:"set",value:function(i,o,s){return i.setUTCMonth((s-1)*3,1),i.setUTCHours(0,0,0,0),i}}]),n}(Ue),aY=function(t){Ve(n,t);var e=je(n);function n(){var r;De(this,n);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o)),ee(re(r),"priority",120),ee(re(r),"incompatibleTokens",["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"]),r}return Ne(n,[{key:"parse",value:function(i,o,s){switch(o){case"q":case"qq":return yt(o.length,i);case"qo":return s.ordinalNumber(i,{unit:"quarter"});case"qqq":return s.quarter(i,{width:"abbreviated",context:"standalone"})||s.quarter(i,{width:"narrow",context:"standalone"});case"qqqqq":return s.quarter(i,{width:"narrow",context:"standalone"});case"qqqq":default:return s.quarter(i,{width:"wide",context:"standalone"})||s.quarter(i,{width:"abbreviated",context:"standalone"})||s.quarter(i,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(i,o){return o>=1&&o<=4}},{key:"set",value:function(i,o,s){return i.setUTCMonth((s-1)*3,1),i.setUTCHours(0,0,0,0),i}}]),n}(Ue),lY=function(t){Ve(n,t);var e=je(n);function n(){var r;De(this,n);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o)),ee(re(r),"incompatibleTokens",["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]),ee(re(r),"priority",110),r}return Ne(n,[{key:"parse",value:function(i,o,s){var a=function(c){return c-1};switch(o){case"M":return Et(dt(xt.month,i),a);case"MM":return Et(yt(2,i),a);case"Mo":return Et(s.ordinalNumber(i,{unit:"month"}),a);case"MMM":return s.month(i,{width:"abbreviated",context:"formatting"})||s.month(i,{width:"narrow",context:"formatting"});case"MMMMM":return s.month(i,{width:"narrow",context:"formatting"});case"MMMM":default:return s.month(i,{width:"wide",context:"formatting"})||s.month(i,{width:"abbreviated",context:"formatting"})||s.month(i,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(i,o){return o>=0&&o<=11}},{key:"set",value:function(i,o,s){return i.setUTCMonth(s,1),i.setUTCHours(0,0,0,0),i}}]),n}(Ue),cY=function(t){Ve(n,t);var e=je(n);function n(){var r;De(this,n);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o)),ee(re(r),"priority",110),ee(re(r),"incompatibleTokens",["Y","R","q","Q","M","w","I","D","i","e","c","t","T"]),r}return Ne(n,[{key:"parse",value:function(i,o,s){var a=function(c){return c-1};switch(o){case"L":return Et(dt(xt.month,i),a);case"LL":return Et(yt(2,i),a);case"Lo":return Et(s.ordinalNumber(i,{unit:"month"}),a);case"LLL":return s.month(i,{width:"abbreviated",context:"standalone"})||s.month(i,{width:"narrow",context:"standalone"});case"LLLLL":return s.month(i,{width:"narrow",context:"standalone"});case"LLLL":default:return s.month(i,{width:"wide",context:"standalone"})||s.month(i,{width:"abbreviated",context:"standalone"})||s.month(i,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(i,o){return o>=0&&o<=11}},{key:"set",value:function(i,o,s){return i.setUTCMonth(s,1),i.setUTCHours(0,0,0,0),i}}]),n}(Ue);function uY(t,e,n){se(2,arguments);var r=ve(t),i=Ze(e),o=XD(r,n)-i;return r.setUTCDate(r.getUTCDate()-o*7),r}var dY=function(t){Ve(n,t);var e=je(n);function n(){var r;De(this,n);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o)),ee(re(r),"priority",100),ee(re(r),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","i","t","T"]),r}return Ne(n,[{key:"parse",value:function(i,o,s){switch(o){case"w":return dt(xt.week,i);case"wo":return s.ordinalNumber(i,{unit:"week"});default:return yt(o.length,i)}}},{key:"validate",value:function(i,o){return o>=1&&o<=53}},{key:"set",value:function(i,o,s,a){return Es(uY(i,s,a),a)}}]),n}(Ue);function fY(t,e){se(2,arguments);var n=ve(t),r=Ze(e),i=QD(n)-r;return n.setUTCDate(n.getUTCDate()-i*7),n}var hY=function(t){Ve(n,t);var e=je(n);function n(){var r;De(this,n);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o)),ee(re(r),"priority",100),ee(re(r),"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"]),r}return Ne(n,[{key:"parse",value:function(i,o,s){switch(o){case"I":return dt(xt.week,i);case"Io":return s.ordinalNumber(i,{unit:"week"});default:return yt(o.length,i)}}},{key:"validate",value:function(i,o){return o>=1&&o<=53}},{key:"set",value:function(i,o,s){return Qa(fY(i,s))}}]),n}(Ue),pY=[31,28,31,30,31,30,31,31,30,31,30,31],mY=[31,29,31,30,31,30,31,31,30,31,30,31],gY=function(t){Ve(n,t);var e=je(n);function n(){var r;De(this,n);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o)),ee(re(r),"priority",90),ee(re(r),"subPriority",1),ee(re(r),"incompatibleTokens",["Y","R","q","Q","w","I","D","i","e","c","t","T"]),r}return Ne(n,[{key:"parse",value:function(i,o,s){switch(o){case"d":return dt(xt.date,i);case"do":return s.ordinalNumber(i,{unit:"date"});default:return yt(o.length,i)}}},{key:"validate",value:function(i,o){var s=i.getUTCFullYear(),a=lN(s),l=i.getUTCMonth();return a?o>=1&&o<=mY[l]:o>=1&&o<=pY[l]}},{key:"set",value:function(i,o,s){return i.setUTCDate(s),i.setUTCHours(0,0,0,0),i}}]),n}(Ue),vY=function(t){Ve(n,t);var e=je(n);function n(){var r;De(this,n);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o)),ee(re(r),"priority",90),ee(re(r),"subpriority",1),ee(re(r),"incompatibleTokens",["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"]),r}return Ne(n,[{key:"parse",value:function(i,o,s){switch(o){case"D":case"DD":return dt(xt.dayOfYear,i);case"Do":return s.ordinalNumber(i,{unit:"date"});default:return yt(o.length,i)}}},{key:"validate",value:function(i,o){var s=i.getUTCFullYear(),a=lN(s);return a?o>=1&&o<=366:o>=1&&o<=365}},{key:"set",value:function(i,o,s){return i.setUTCMonth(0,s),i.setUTCHours(0,0,0,0),i}}]),n}(Ue);function E_(t,e,n){var r,i,o,s,a,l,c,u;se(2,arguments);var f=zr(),h=Ze((r=(i=(o=(s=n==null?void 0:n.weekStartsOn)!==null&&s!==void 0?s:n==null||(a=n.locale)===null||a===void 0||(l=a.options)===null||l===void 0?void 0:l.weekStartsOn)!==null&&o!==void 0?o:f.weekStartsOn)!==null&&i!==void 0?i:(c=f.locale)===null||c===void 0||(u=c.options)===null||u===void 0?void 0:u.weekStartsOn)!==null&&r!==void 0?r:0);if(!(h>=0&&h<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var m=ve(t),_=Ze(e),v=m.getUTCDay(),E=_%7,x=(E+7)%7,y=(x<h?7:0)+_-v;return m.setUTCDate(m.getUTCDate()+y),m}var yY=function(t){Ve(n,t);var e=je(n);function n(){var r;De(this,n);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o)),ee(re(r),"priority",90),ee(re(r),"incompatibleTokens",["D","i","e","c","t","T"]),r}return Ne(n,[{key:"parse",value:function(i,o,s){switch(o){case"E":case"EE":case"EEE":return s.day(i,{width:"abbreviated",context:"formatting"})||s.day(i,{width:"short",context:"formatting"})||s.day(i,{width:"narrow",context:"formatting"});case"EEEEE":return s.day(i,{width:"narrow",context:"formatting"});case"EEEEEE":return s.day(i,{width:"short",context:"formatting"})||s.day(i,{width:"narrow",context:"formatting"});case"EEEE":default:return s.day(i,{width:"wide",context:"formatting"})||s.day(i,{width:"abbreviated",context:"formatting"})||s.day(i,{width:"short",context:"formatting"})||s.day(i,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(i,o){return o>=0&&o<=6}},{key:"set",value:function(i,o,s,a){return i=E_(i,s,a),i.setUTCHours(0,0,0,0),i}}]),n}(Ue),wY=function(t){Ve(n,t);var e=je(n);function n(){var r;De(this,n);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o)),ee(re(r),"priority",90),ee(re(r),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"]),r}return Ne(n,[{key:"parse",value:function(i,o,s,a){var l=function(u){var f=Math.floor((u-1)/7)*7;return(u+a.weekStartsOn+6)%7+f};switch(o){case"e":case"ee":return Et(yt(o.length,i),l);case"eo":return Et(s.ordinalNumber(i,{unit:"day"}),l);case"eee":return s.day(i,{width:"abbreviated",context:"formatting"})||s.day(i,{width:"short",context:"formatting"})||s.day(i,{width:"narrow",context:"formatting"});case"eeeee":return s.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return s.day(i,{width:"short",context:"formatting"})||s.day(i,{width:"narrow",context:"formatting"});case"eeee":default:return s.day(i,{width:"wide",context:"formatting"})||s.day(i,{width:"abbreviated",context:"formatting"})||s.day(i,{width:"short",context:"formatting"})||s.day(i,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(i,o){return o>=0&&o<=6}},{key:"set",value:function(i,o,s,a){return i=E_(i,s,a),i.setUTCHours(0,0,0,0),i}}]),n}(Ue),_Y=function(t){Ve(n,t);var e=je(n);function n(){var r;De(this,n);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o)),ee(re(r),"priority",90),ee(re(r),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"]),r}return Ne(n,[{key:"parse",value:function(i,o,s,a){var l=function(u){var f=Math.floor((u-1)/7)*7;return(u+a.weekStartsOn+6)%7+f};switch(o){case"c":case"cc":return Et(yt(o.length,i),l);case"co":return Et(s.ordinalNumber(i,{unit:"day"}),l);case"ccc":return s.day(i,{width:"abbreviated",context:"standalone"})||s.day(i,{width:"short",context:"standalone"})||s.day(i,{width:"narrow",context:"standalone"});case"ccccc":return s.day(i,{width:"narrow",context:"standalone"});case"cccccc":return s.day(i,{width:"short",context:"standalone"})||s.day(i,{width:"narrow",context:"standalone"});case"cccc":default:return s.day(i,{width:"wide",context:"standalone"})||s.day(i,{width:"abbreviated",context:"standalone"})||s.day(i,{width:"short",context:"standalone"})||s.day(i,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(i,o){return o>=0&&o<=6}},{key:"set",value:function(i,o,s,a){return i=E_(i,s,a),i.setUTCHours(0,0,0,0),i}}]),n}(Ue);function xY(t,e){se(2,arguments);var n=Ze(e);n%7===0&&(n=n-7);var r=1,i=ve(t),o=i.getUTCDay(),s=n%7,a=(s+7)%7,l=(a<r?7:0)+n-o;return i.setUTCDate(i.getUTCDate()+l),i}var EY=function(t){Ve(n,t);var e=je(n);function n(){var r;De(this,n);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o)),ee(re(r),"priority",90),ee(re(r),"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"]),r}return Ne(n,[{key:"parse",value:function(i,o,s){var a=function(c){return c===0?7:c};switch(o){case"i":case"ii":return yt(o.length,i);case"io":return s.ordinalNumber(i,{unit:"day"});case"iii":return Et(s.day(i,{width:"abbreviated",context:"formatting"})||s.day(i,{width:"short",context:"formatting"})||s.day(i,{width:"narrow",context:"formatting"}),a);case"iiiii":return Et(s.day(i,{width:"narrow",context:"formatting"}),a);case"iiiiii":return Et(s.day(i,{width:"short",context:"formatting"})||s.day(i,{width:"narrow",context:"formatting"}),a);case"iiii":default:return Et(s.day(i,{width:"wide",context:"formatting"})||s.day(i,{width:"abbreviated",context:"formatting"})||s.day(i,{width:"short",context:"formatting"})||s.day(i,{width:"narrow",context:"formatting"}),a)}}},{key:"validate",value:function(i,o){return o>=1&&o<=7}},{key:"set",value:function(i,o,s){return i=xY(i,s),i.setUTCHours(0,0,0,0),i}}]),n}(Ue),bY=function(t){Ve(n,t);var e=je(n);function n(){var r;De(this,n);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o)),ee(re(r),"priority",80),ee(re(r),"incompatibleTokens",["b","B","H","k","t","T"]),r}return Ne(n,[{key:"parse",value:function(i,o,s){switch(o){case"a":case"aa":case"aaa":return s.dayPeriod(i,{width:"abbreviated",context:"formatting"})||s.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaaa":return s.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return s.dayPeriod(i,{width:"wide",context:"formatting"})||s.dayPeriod(i,{width:"abbreviated",context:"formatting"})||s.dayPeriod(i,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(i,o,s){return i.setUTCHours(x_(s),0,0,0),i}}]),n}(Ue),TY=function(t){Ve(n,t);var e=je(n);function n(){var r;De(this,n);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o)),ee(re(r),"priority",80),ee(re(r),"incompatibleTokens",["a","B","H","k","t","T"]),r}return Ne(n,[{key:"parse",value:function(i,o,s){switch(o){case"b":case"bb":case"bbb":return s.dayPeriod(i,{width:"abbreviated",context:"formatting"})||s.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbbb":return s.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return s.dayPeriod(i,{width:"wide",context:"formatting"})||s.dayPeriod(i,{width:"abbreviated",context:"formatting"})||s.dayPeriod(i,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(i,o,s){return i.setUTCHours(x_(s),0,0,0),i}}]),n}(Ue),CY=function(t){Ve(n,t);var e=je(n);function n(){var r;De(this,n);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o)),ee(re(r),"priority",80),ee(re(r),"incompatibleTokens",["a","b","t","T"]),r}return Ne(n,[{key:"parse",value:function(i,o,s){switch(o){case"B":case"BB":case"BBB":return s.dayPeriod(i,{width:"abbreviated",context:"formatting"})||s.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBBB":return s.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return s.dayPeriod(i,{width:"wide",context:"formatting"})||s.dayPeriod(i,{width:"abbreviated",context:"formatting"})||s.dayPeriod(i,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(i,o,s){return i.setUTCHours(x_(s),0,0,0),i}}]),n}(Ue),SY=function(t){Ve(n,t);var e=je(n);function n(){var r;De(this,n);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o)),ee(re(r),"priority",70),ee(re(r),"incompatibleTokens",["H","K","k","t","T"]),r}return Ne(n,[{key:"parse",value:function(i,o,s){switch(o){case"h":return dt(xt.hour12h,i);case"ho":return s.ordinalNumber(i,{unit:"hour"});default:return yt(o.length,i)}}},{key:"validate",value:function(i,o){return o>=1&&o<=12}},{key:"set",value:function(i,o,s){var a=i.getUTCHours()>=12;return a&&s<12?i.setUTCHours(s+12,0,0,0):!a&&s===12?i.setUTCHours(0,0,0,0):i.setUTCHours(s,0,0,0),i}}]),n}(Ue),PY=function(t){Ve(n,t);var e=je(n);function n(){var r;De(this,n);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o)),ee(re(r),"priority",70),ee(re(r),"incompatibleTokens",["a","b","h","K","k","t","T"]),r}return Ne(n,[{key:"parse",value:function(i,o,s){switch(o){case"H":return dt(xt.hour23h,i);case"Ho":return s.ordinalNumber(i,{unit:"hour"});default:return yt(o.length,i)}}},{key:"validate",value:function(i,o){return o>=0&&o<=23}},{key:"set",value:function(i,o,s){return i.setUTCHours(s,0,0,0),i}}]),n}(Ue),IY=function(t){Ve(n,t);var e=je(n);function n(){var r;De(this,n);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o)),ee(re(r),"priority",70),ee(re(r),"incompatibleTokens",["h","H","k","t","T"]),r}return Ne(n,[{key:"parse",value:function(i,o,s){switch(o){case"K":return dt(xt.hour11h,i);case"Ko":return s.ordinalNumber(i,{unit:"hour"});default:return yt(o.length,i)}}},{key:"validate",value:function(i,o){return o>=0&&o<=11}},{key:"set",value:function(i,o,s){var a=i.getUTCHours()>=12;return a&&s<12?i.setUTCHours(s+12,0,0,0):i.setUTCHours(s,0,0,0),i}}]),n}(Ue),AY=function(t){Ve(n,t);var e=je(n);function n(){var r;De(this,n);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o)),ee(re(r),"priority",70),ee(re(r),"incompatibleTokens",["a","b","h","H","K","t","T"]),r}return Ne(n,[{key:"parse",value:function(i,o,s){switch(o){case"k":return dt(xt.hour24h,i);case"ko":return s.ordinalNumber(i,{unit:"hour"});default:return yt(o.length,i)}}},{key:"validate",value:function(i,o){return o>=1&&o<=24}},{key:"set",value:function(i,o,s){var a=s<=24?s%24:s;return i.setUTCHours(a,0,0,0),i}}]),n}(Ue),RY=function(t){Ve(n,t);var e=je(n);function n(){var r;De(this,n);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o)),ee(re(r),"priority",60),ee(re(r),"incompatibleTokens",["t","T"]),r}return Ne(n,[{key:"parse",value:function(i,o,s){switch(o){case"m":return dt(xt.minute,i);case"mo":return s.ordinalNumber(i,{unit:"minute"});default:return yt(o.length,i)}}},{key:"validate",value:function(i,o){return o>=0&&o<=59}},{key:"set",value:function(i,o,s){return i.setUTCMinutes(s,0,0),i}}]),n}(Ue),kY=function(t){Ve(n,t);var e=je(n);function n(){var r;De(this,n);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o)),ee(re(r),"priority",50),ee(re(r),"incompatibleTokens",["t","T"]),r}return Ne(n,[{key:"parse",value:function(i,o,s){switch(o){case"s":return dt(xt.second,i);case"so":return s.ordinalNumber(i,{unit:"second"});default:return yt(o.length,i)}}},{key:"validate",value:function(i,o){return o>=0&&o<=59}},{key:"set",value:function(i,o,s){return i.setUTCSeconds(s,0),i}}]),n}(Ue),DY=function(t){Ve(n,t);var e=je(n);function n(){var r;De(this,n);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o)),ee(re(r),"priority",30),ee(re(r),"incompatibleTokens",["t","T"]),r}return Ne(n,[{key:"parse",value:function(i,o){var s=function(l){return Math.floor(l*Math.pow(10,-o.length+3))};return Et(yt(o.length,i),s)}},{key:"set",value:function(i,o,s){return i.setUTCMilliseconds(s),i}}]),n}(Ue),NY=function(t){Ve(n,t);var e=je(n);function n(){var r;De(this,n);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o)),ee(re(r),"priority",10),ee(re(r),"incompatibleTokens",["t","T","x"]),r}return Ne(n,[{key:"parse",value:function(i,o){switch(o){case"X":return Pr(Sr.basicOptionalMinutes,i);case"XX":return Pr(Sr.basic,i);case"XXXX":return Pr(Sr.basicOptionalSeconds,i);case"XXXXX":return Pr(Sr.extendedOptionalSeconds,i);case"XXX":default:return Pr(Sr.extended,i)}}},{key:"set",value:function(i,o,s){return o.timestampIsSet?i:new Date(i.getTime()-s)}}]),n}(Ue),MY=function(t){Ve(n,t);var e=je(n);function n(){var r;De(this,n);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o)),ee(re(r),"priority",10),ee(re(r),"incompatibleTokens",["t","T","X"]),r}return Ne(n,[{key:"parse",value:function(i,o){switch(o){case"x":return Pr(Sr.basicOptionalMinutes,i);case"xx":return Pr(Sr.basic,i);case"xxxx":return Pr(Sr.basicOptionalSeconds,i);case"xxxxx":return Pr(Sr.extendedOptionalSeconds,i);case"xxx":default:return Pr(Sr.extended,i)}}},{key:"set",value:function(i,o,s){return o.timestampIsSet?i:new Date(i.getTime()-s)}}]),n}(Ue),OY=function(t){Ve(n,t);var e=je(n);function n(){var r;De(this,n);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o)),ee(re(r),"priority",40),ee(re(r),"incompatibleTokens","*"),r}return Ne(n,[{key:"parse",value:function(i){return sN(i)}},{key:"set",value:function(i,o,s){return[new Date(s*1e3),{timestampIsSet:!0}]}}]),n}(Ue),LY=function(t){Ve(n,t);var e=je(n);function n(){var r;De(this,n);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o)),ee(re(r),"priority",20),ee(re(r),"incompatibleTokens","*"),r}return Ne(n,[{key:"parse",value:function(i){return sN(i)}},{key:"set",value:function(i,o,s){return[new Date(s),{timestampIsSet:!0}]}}]),n}(Ue),VY={G:new tY,y:new nY,Y:new rY,R:new iY,u:new oY,Q:new sY,q:new aY,M:new lY,L:new cY,w:new dY,I:new hY,d:new gY,D:new vY,E:new yY,e:new wY,c:new _Y,i:new EY,a:new bY,b:new TY,B:new CY,h:new SY,H:new PY,K:new IY,k:new AY,m:new RY,s:new kY,S:new DY,X:new NY,x:new MY,t:new OY,T:new LY},jY=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,FY=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,$Y=/^'([^]*?)'?$/,UY=/''/g,BY=/\S/,WY=/[a-zA-Z]/;function zY(t,e,n,r){var i,o,s,a,l,c,u,f,h,m,_,v,E,x,y,b,P,N;se(3,arguments);var M=String(t),S=String(e),C=zr(),I=(i=(o=r==null?void 0:r.locale)!==null&&o!==void 0?o:C.locale)!==null&&i!==void 0?i:__;if(!I.match)throw new RangeError("locale must contain match property");var A=Ze((s=(a=(l=(c=r==null?void 0:r.firstWeekContainsDate)!==null&&c!==void 0?c:r==null||(u=r.locale)===null||u===void 0||(f=u.options)===null||f===void 0?void 0:f.firstWeekContainsDate)!==null&&l!==void 0?l:C.firstWeekContainsDate)!==null&&a!==void 0?a:(h=C.locale)===null||h===void 0||(m=h.options)===null||m===void 0?void 0:m.firstWeekContainsDate)!==null&&s!==void 0?s:1);if(!(A>=1&&A<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var O=Ze((_=(v=(E=(x=r==null?void 0:r.weekStartsOn)!==null&&x!==void 0?x:r==null||(y=r.locale)===null||y===void 0||(b=y.options)===null||b===void 0?void 0:b.weekStartsOn)!==null&&E!==void 0?E:C.weekStartsOn)!==null&&v!==void 0?v:(P=C.locale)===null||P===void 0||(N=P.options)===null||N===void 0?void 0:N.weekStartsOn)!==null&&_!==void 0?_:0);if(!(O>=0&&O<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(S==="")return M===""?ve(n):new Date(NaN);var D={firstWeekContainsDate:A,weekStartsOn:O,locale:I},k=[new eY],B=S.match(FY).map(function(ue){var te=ue[0];if(te in Ly){var de=Ly[te];return de(ue,I.formatLong)}return ue}).join("").match(jY),q=[],K=mC(B),j;try{var L=function(){var te=j.value;!(r!=null&&r.useAdditionalWeekYearTokens)&&eN(te)&&Th(te,S,t),!(r!=null&&r.useAdditionalDayOfYearTokens)&&ZD(te)&&Th(te,S,t);var de=te[0],he=VY[de];if(he){var Te=he.incompatibleTokens;if(Array.isArray(Te)){var Ke=q.find(function(Nt){return Te.includes(Nt.token)||Nt.token===de});if(Ke)throw new RangeError("The format string mustn't contain `".concat(Ke.fullToken,"` and `").concat(te,"` at the same time"))}else if(he.incompatibleTokens==="*"&&q.length>0)throw new RangeError("The format string mustn't contain `".concat(te,"` and any other token at the same time"));q.push({token:de,fullToken:te});var st=he.run(M,te,I.match,D);if(!st)return{v:new Date(NaN)};k.push(st.setter),M=st.rest}else{if(de.match(WY))throw new RangeError("Format string contains an unescaped latin alphabet character `"+de+"`");if(te==="''"?te="'":de==="'"&&(te=HY(te)),M.indexOf(te)===0)M=M.slice(te.length);else return{v:new Date(NaN)}}};for(K.s();!(j=K.n()).done;){var V=L();if(hr(V)==="object")return V.v}}catch(ue){K.e(ue)}finally{K.f()}if(M.length>0&&BY.test(M))return new Date(NaN);var $=k.map(function(ue){return ue.priority}).sort(function(ue,te){return te-ue}).filter(function(ue,te,de){return de.indexOf(ue)===te}).map(function(ue){return k.filter(function(te){return te.priority===ue}).sort(function(te,de){return de.subPriority-te.subPriority})}).map(function(ue){return ue[0]}),W=ve(n);if(isNaN(W.getTime()))return new Date(NaN);var Y=GD(W,Ka(W)),G={},oe=mC($),fe;try{for(oe.s();!(fe=oe.n()).done;){var Ee=fe.value;if(!Ee.validate(Y,D))return new Date(NaN);var J=Ee.set(Y,G,D);Array.isArray(J)?(Y=J[0],Vq(G,J[1])):Y=J}}catch(ue){oe.e(ue)}finally{oe.f()}return Y}function HY(t){return t.match($Y)[1].replace(UY,"'")}function b_(t,e){se(2,arguments);var n=ve(t),r=ve(e);return n.getFullYear()===r.getFullYear()&&n.getMonth()===r.getMonth()}function qY(t,e){se(2,arguments);var n=ve(t),r=ve(e);return n.getFullYear()===r.getFullYear()}function Eg(t,e){se(2,arguments);var n=Ze(e);return Lt(t,-n)}function ae(t,e){var n;se(1,arguments);var r=Ze((n=e==null?void 0:e.additionalDigits)!==null&&n!==void 0?n:2);if(r!==2&&r!==1&&r!==0)throw new RangeError("additionalDigits must be 0, 1 or 2");if(!(typeof t=="string"||Object.prototype.toString.call(t)==="[object String]"))return new Date(NaN);var i=QY(t),o;if(i.date){var s=XY(i.date,r);o=JY(s.restDateString,s.year)}if(!o||isNaN(o.getTime()))return new Date(NaN);var a=o.getTime(),l=0,c;if(i.time&&(l=ZY(i.time),isNaN(l)))return new Date(NaN);if(i.timezone){if(c=eG(i.timezone),isNaN(c))return new Date(NaN)}else{var u=new Date(a+l),f=new Date(0);return f.setFullYear(u.getUTCFullYear(),u.getUTCMonth(),u.getUTCDate()),f.setHours(u.getUTCHours(),u.getUTCMinutes(),u.getUTCSeconds(),u.getUTCMilliseconds()),f}return new Date(a+l+c)}var Vd={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},YY=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,GY=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,KY=/^([+-])(\d{2})(?::?(\d{2}))?$/;function QY(t){var e={},n=t.split(Vd.dateTimeDelimiter),r;if(n.length>2)return e;if(/:/.test(n[0])?r=n[0]:(e.date=n[0],r=n[1],Vd.timeZoneDelimiter.test(e.date)&&(e.date=t.split(Vd.timeZoneDelimiter)[0],r=t.substr(e.date.length,t.length))),r){var i=Vd.timezone.exec(r);i?(e.time=r.replace(i[1],""),e.timezone=i[1]):e.time=r}return e}function XY(t,e){var n=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+e)+"})|(\\d{2}|[+-]\\d{"+(2+e)+"})$)"),r=t.match(n);if(!r)return{year:NaN,restDateString:""};var i=r[1]?parseInt(r[1]):null,o=r[2]?parseInt(r[2]):null;return{year:o===null?i:o*100,restDateString:t.slice((r[1]||r[2]).length)}}function JY(t,e){if(e===null)return new Date(NaN);var n=t.match(YY);if(!n)return new Date(NaN);var r=!!n[4],i=Kl(n[1]),o=Kl(n[2])-1,s=Kl(n[3]),a=Kl(n[4]),l=Kl(n[5])-1;if(r)return oG(e,a,l)?tG(e,a,l):new Date(NaN);var c=new Date(0);return!rG(e,o,s)||!iG(e,i)?new Date(NaN):(c.setUTCFullYear(e,o,Math.max(i,s)),c)}function Kl(t){return t?parseInt(t):1}function ZY(t){var e=t.match(GY);if(!e)return NaN;var n=bg(e[1]),r=bg(e[2]),i=bg(e[3]);return sG(n,r,i)?n*m_+r*p_+i*1e3:NaN}function bg(t){return t&&parseFloat(t.replace(",","."))||0}function eG(t){if(t==="Z")return 0;var e=t.match(KY);if(!e)return 0;var n=e[1]==="+"?-1:1,r=parseInt(e[2]),i=e[3]&&parseInt(e[3])||0;return aG(r,i)?n*(r*m_+i*p_):NaN}function tG(t,e,n){var r=new Date(0);r.setUTCFullYear(t,0,4);var i=r.getUTCDay()||7,o=(e-1)*7+n+1-i;return r.setUTCDate(r.getUTCDate()+o),r}var nG=[31,null,31,30,31,30,31,31,30,31,30,31];function cN(t){return t%400===0||t%4===0&&t%100!==0}function rG(t,e,n){return e>=0&&e<=11&&n>=1&&n<=(nG[e]||(cN(t)?29:28))}function iG(t,e){return e>=1&&e<=(cN(t)?366:365)}function oG(t,e,n){return e>=1&&e<=53&&n>=0&&n<=6}function sG(t,e,n){return t===24?e===0&&n===0:n>=0&&n<60&&e>=0&&e<60&&t>=0&&t<25}function aG(t,e){return e>=0&&e<=59}function Tg(t,e){se(2,arguments);var n=ve(t),r=Ze(e),i=n.getFullYear(),o=n.getDate(),s=new Date(0);s.setFullYear(i,r,15),s.setHours(0,0,0,0);var a=jq(s);return n.setMonth(r,Math.min(o,a)),n}function vC(t,e){se(2,arguments);var n=ve(t),r=Ze(e);return isNaN(n.getTime())?new Date(NaN):(n.setFullYear(r),n)}const ma={NONE:{value:"none",label:"Sin Símbolo",color:"transparent",textColor:"#e2e8f0"},MENSTRUATION:{value:"red",label:"Menstruación",color:"bg-red-500",textColor:"#e2e8f0"},FERTILE:{value:"white",label:"Fértil (Moco)",color:"bg-white",textColor:"#e2e8f0"},INFERTILE:{value:"green",label:"Infértil (Sin Moco)",color:"bg-green-500",textColor:"#e2e8f0"},SPOTTING:{value:"spot",label:"Spotting",color:"bg-pink-300",textColor:"#e2e8f0",pattern:"spotting-pattern"}},uN=Object.values(ma),T_=t=>uN.find(n=>n.value===t)||ma.NONE,yC="#135e96",wC="#538511",_C="#90125c",lG="#f8fcfe",cG="#fcfef8",uG="#fef8fc",dG=t=>{if(!t)return"";const[e,n]=t.split("/");return`${parseInt(e,10)}/${parseInt(n,10)}`},Cg=(t="",e,n,r="–")=>{if(!t)return[r,""];if(t.length<=e)return[t,""];if(n)return[t.slice(0,e),""];const i=t.indexOf(" ",e);return i===-1?[t.slice(0,e),t.slice(e)]:[t.slice(0,i),t.slice(i+1)]},Sg=(t="",e,n="–")=>t?t.split(/\s+/).slice(0,e).join(" "):n,fG=({data:t,getX:e,getY:n,isFullScreen:r,orientation:i,responsiveFontSize:o,onPointInteraction:s,clearActivePoint:a,activePoint:l,padding:c,chartHeight:u,chartWidth:f,temperatureField:h="temperature_chart",textRowHeight:m})=>{const _={hidden:{opacity:0,y:20},visible:{opacity:1,y:0}},v=u-c.bottom,E=v+m*1,x=v+m*2,y=v+m*3,b=v+m*(r?5:4.5),P=v+m*(r?7:6),N=v+m*(r?9:7.5),M=f-c.left-c.right,S=m*(r?2:1.5);return g.jsxs(g.Fragment,{children:[g.jsxs("g",{children:[g.jsx("rect",{x:c.left,y:b-S/2,width:M,height:S,fill:lG}),g.jsx("rect",{x:c.left,y:P-S/2,width:M,height:S,fill:cG}),g.jsx("rect",{x:c.left,y:N-S/2,width:M,height:S,fill:uG})]}),(!r||i!=="portrait")&&g.jsx(qe.g,{variants:_,children:[{label:"Fecha",row:1,color:r?"#1F2937":"#6B7280"},{label:"Día",row:2,color:r?"#1F2937":"#6B7280"},{label:"Símbolo",row:3,color:r?"#1F2937":"#6B7280"},{label:"Sens.",row:r?5:4.5,color:yC},{label:"Apar.",row:r?7:6,color:wC},{label:"Observ.",row:r?9:7.5,color:_C}].map(({label:C,row:I,color:A})=>g.jsx("text",{x:c.left-o(1.5),y:v+m*I,textAnchor:"end",fontSize:o(.9),fill:A,children:C},C))}),t.map((C,I)=>{const A=e(I),O=C[h]!=null?n(C[h]):v,D=r?"#1F2937":"#6B7280",k=C[h]!=null,B=k||C.mucus_sensation||C.mucus_appearance||C.fertility_symbol,q=String(C.id||"").startsWith("placeholder-"),K=!B||q?{}:{pointerEvents:"all",style:{cursor:"pointer"},onMouseEnter:te=>s(C,I,te),onClick:te=>s(C,I,te)},j=T_(C.fertility_symbol);let L="transparent";if(j!=null&&j.color){const te=j.color.replace(/^bg-/,"");te==="red-500"?L="#ef4444":te==="white"?L="#ffffff":te==="green-500"?L="#22c55e":te==="pink-300"&&(L="#f9a8d4")}const V=o(r?1.2:1.5),$=C.isoDate?Ch(be(ae(C.isoDate)),be(new Date)):!1,W=r?4:9,Y=2,[G,oe]=Cg(r?Sg(C.mucus_sensation,Y,$?"":"–"):C.mucus_sensation,W,!1,$?"":"–"),[fe,Ee]=Cg(r?Sg(C.mucus_appearance,Y,$?"":"–"):C.mucus_appearance,W,!1,$?"":"–"),[J,ue]=Cg(r?Sg(C.observations,Y,""):C.observations,W,!1,"");return g.jsxs(qe.g,{variants:_,...K,children:[k&&g.jsx("circle",{cx:A,cy:O,r:4,fill:C.ignored?"transparent":"#f472b6",stroke:C.use_corrected?"#facc15":"#d946ef",strokeWidth:"1.5",pointerEvents:"all",style:{cursor:"pointer"},onMouseEnter:te=>s(C,I,te),onTouchStart:te=>s(C,I,te),onClick:te=>s(C,I,te)}),g.jsx("text",{x:A,y:E,textAnchor:"middle",fontSize:o(),fill:D,children:dG(C.date)}),g.jsx("text",{x:A,y:x,textAnchor:"middle",fontSize:o(),fill:D,children:C.cycleDay}),!q&&(j.value!=="none"?g.jsx("rect",{x:A-V/2,y:y-V*.75,width:V,height:V,fill:j.pattern==="spotting-pattern"?"url(#spotting-pattern-chart)":L,stroke:j.value==="white"?"#cbd5e1":"none",rx:V*.2}):g.jsx("text",{x:A,y,textAnchor:"middle",fontSize:o(.9),fill:D,children:"–"})),g.jsxs("text",{x:A,y:b,textAnchor:"middle",fontSize:o(.9),fill:yC,children:[g.jsx("tspan",{x:A,dy:0,children:G}),oe&&g.jsx("tspan",{x:A,dy:o(1),children:oe})]}),g.jsxs("text",{x:A,y:P,textAnchor:"middle",fontSize:o(.9),fill:wC,children:[g.jsx("tspan",{x:A,dy:0,children:fe}),Ee&&g.jsx("tspan",{x:A,dy:o(1),children:Ee})]}),g.jsxs("text",{x:A,y:N,textAnchor:"middle",fontSize:o(.9),fill:_C,children:[g.jsx("tspan",{x:A,dy:0,children:J}),ue&&g.jsx("tspan",{x:A,dy:o(1),children:ue})]})]},`pt-${I}-${C.isoDate||C.timestamp}`)})]})};var hG={lessThanXSeconds:{one:"menos de un segundo",other:"menos de {{count}} segundos"},xSeconds:{one:"1 segundo",other:"{{count}} segundos"},halfAMinute:"medio minuto",lessThanXMinutes:{one:"menos de un minuto",other:"menos de {{count}} minutos"},xMinutes:{one:"1 minuto",other:"{{count}} minutos"},aboutXHours:{one:"alrededor de 1 hora",other:"alrededor de {{count}} horas"},xHours:{one:"1 hora",other:"{{count}} horas"},xDays:{one:"1 día",other:"{{count}} días"},aboutXWeeks:{one:"alrededor de 1 semana",other:"alrededor de {{count}} semanas"},xWeeks:{one:"1 semana",other:"{{count}} semanas"},aboutXMonths:{one:"alrededor de 1 mes",other:"alrededor de {{count}} meses"},xMonths:{one:"1 mes",other:"{{count}} meses"},aboutXYears:{one:"alrededor de 1 año",other:"alrededor de {{count}} años"},xYears:{one:"1 año",other:"{{count}} años"},overXYears:{one:"más de 1 año",other:"más de {{count}} años"},almostXYears:{one:"casi 1 año",other:"casi {{count}} años"}},pG=function(e,n,r){var i,o=hG[e];return typeof o=="string"?i=o:n===1?i=o.one:i=o.other.replace("{{count}}",n.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"en "+i:"hace "+i:i};const mG=pG;var gG={full:"EEEE, d 'de' MMMM 'de' y",long:"d 'de' MMMM 'de' y",medium:"d MMM y",short:"dd/MM/y"},vG={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},yG={full:"{{date}} 'a las' {{time}}",long:"{{date}} 'a las' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},wG={date:Ia({formats:gG,defaultWidth:"full"}),time:Ia({formats:vG,defaultWidth:"full"}),dateTime:Ia({formats:yG,defaultWidth:"full"})};const _G=wG;var xG={lastWeek:"'el' eeee 'pasado a la' p",yesterday:"'ayer a la' p",today:"'hoy a la' p",tomorrow:"'mañana a la' p",nextWeek:"eeee 'a la' p",other:"P"},EG={lastWeek:"'el' eeee 'pasado a las' p",yesterday:"'ayer a las' p",today:"'hoy a las' p",tomorrow:"'mañana a las' p",nextWeek:"eeee 'a las' p",other:"P"},bG=function(e,n,r,i){return n.getUTCHours()!==1?EG[e]:xG[e]};const TG=bG;var CG={narrow:["AC","DC"],abbreviated:["AC","DC"],wide:["antes de cristo","después de cristo"]},SG={narrow:["1","2","3","4"],abbreviated:["T1","T2","T3","T4"],wide:["1º trimestre","2º trimestre","3º trimestre","4º trimestre"]},PG={narrow:["e","f","m","a","m","j","j","a","s","o","n","d"],abbreviated:["ene","feb","mar","abr","may","jun","jul","ago","sep","oct","nov","dic"],wide:["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre"]},IG={narrow:["d","l","m","m","j","v","s"],short:["do","lu","ma","mi","ju","vi","sá"],abbreviated:["dom","lun","mar","mié","jue","vie","sáb"],wide:["domingo","lunes","martes","miércoles","jueves","viernes","sábado"]},AG={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"mañana",afternoon:"tarde",evening:"tarde",night:"noche"},abbreviated:{am:"AM",pm:"PM",midnight:"medianoche",noon:"mediodia",morning:"mañana",afternoon:"tarde",evening:"tarde",night:"noche"},wide:{am:"a.m.",pm:"p.m.",midnight:"medianoche",noon:"mediodia",morning:"mañana",afternoon:"tarde",evening:"tarde",night:"noche"}},RG={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"de la mañana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"},abbreviated:{am:"AM",pm:"PM",midnight:"medianoche",noon:"mediodia",morning:"de la mañana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"},wide:{am:"a.m.",pm:"p.m.",midnight:"medianoche",noon:"mediodia",morning:"de la mañana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"}},kG=function(e,n){var r=Number(e);return r+"º"},DG={ordinalNumber:kG,era:Tr({values:CG,defaultWidth:"wide"}),quarter:Tr({values:SG,defaultWidth:"wide",argumentCallback:function(e){return Number(e)-1}}),month:Tr({values:PG,defaultWidth:"wide"}),day:Tr({values:IG,defaultWidth:"wide"}),dayPeriod:Tr({values:AG,defaultWidth:"wide",formattingValues:RG,defaultFormattingWidth:"wide"})};const NG=DG;var MG=/^(\d+)(º)?/i,OG=/\d+/i,LG={narrow:/^(ac|dc|a|d)/i,abbreviated:/^(a\.?\s?c\.?|a\.?\s?e\.?\s?c\.?|d\.?\s?c\.?|e\.?\s?c\.?)/i,wide:/^(antes de cristo|antes de la era com[uú]n|despu[eé]s de cristo|era com[uú]n)/i},VG={any:[/^ac/i,/^dc/i],wide:[/^(antes de cristo|antes de la era com[uú]n)/i,/^(despu[eé]s de cristo|era com[uú]n)/i]},jG={narrow:/^[1234]/i,abbreviated:/^T[1234]/i,wide:/^[1234](º)? trimestre/i},FG={any:[/1/i,/2/i,/3/i,/4/i]},$G={narrow:/^[efmajsond]/i,abbreviated:/^(ene|feb|mar|abr|may|jun|jul|ago|sep|oct|nov|dic)/i,wide:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i},UG={narrow:[/^e/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^en/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i]},BG={narrow:/^[dlmjvs]/i,short:/^(do|lu|ma|mi|ju|vi|s[áa])/i,abbreviated:/^(dom|lun|mar|mi[ée]|jue|vie|s[áa]b)/i,wide:/^(domingo|lunes|martes|mi[ée]rcoles|jueves|viernes|s[áa]bado)/i},WG={narrow:[/^d/i,/^l/i,/^m/i,/^m/i,/^j/i,/^v/i,/^s/i],any:[/^do/i,/^lu/i,/^ma/i,/^mi/i,/^ju/i,/^vi/i,/^sa/i]},zG={narrow:/^(a|p|mn|md|(de la|a las) (mañana|tarde|noche))/i,any:/^([ap]\.?\s?m\.?|medianoche|mediodia|(de la|a las) (mañana|tarde|noche))/i},HG={any:{am:/^a/i,pm:/^p/i,midnight:/^mn/i,noon:/^md/i,morning:/mañana/i,afternoon:/tarde/i,evening:/tarde/i,night:/noche/i}},qG={ordinalNumber:tN({matchPattern:MG,parsePattern:OG,valueCallback:function(e){return parseInt(e,10)}}),era:Cr({matchPatterns:LG,defaultMatchWidth:"wide",parsePatterns:VG,defaultParseWidth:"any"}),quarter:Cr({matchPatterns:jG,defaultMatchWidth:"wide",parsePatterns:FG,defaultParseWidth:"any",valueCallback:function(e){return e+1}}),month:Cr({matchPatterns:$G,defaultMatchWidth:"wide",parsePatterns:UG,defaultParseWidth:"any"}),day:Cr({matchPatterns:BG,defaultMatchWidth:"wide",parsePatterns:WG,defaultParseWidth:"any"}),dayPeriod:Cr({matchPatterns:zG,defaultMatchWidth:"any",parsePatterns:HG,defaultParseWidth:"any"})};const YG=qG;var GG={code:"es",formatDistance:mG,formatLong:_G,formatRelative:TG,localize:NG,match:YG,options:{weekStartsOn:1,firstWeekContainsDate:1}};const Ji=GG,KG=({point:t,position:e,chartWidth:n,chartHeight:r,onToggleIgnore:i,onEdit:o,onClose:s})=>{if(!t)return null;const a=130,l=120;let c=e.clientX+10,u=e.clientY+10;c+a>n&&(c=e.clientX-a-10),u+l>r&&(u=e.clientY-l-10),c<0&&(c=5),u<0&&(u=5);const f=t.temperature_chart,h=T_(t.fertility_symbol),m=t.timestamp||t.isoDate;return g.jsxs(qe.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},transition:{duration:.15},className:"absolute bg-white/80 border border-[#E27DBF] text-[#1F2937] p-2 rounded-lg shadow z-50",style:{top:u,left:c,width:a,minHeight:l},children:[g.jsx(Ce,{variant:"ghost",size:"icon",onClick:s,className:"absolute top-1 right-1 text-[#E27DBF] hover:bg-[#FFB1DD]",children:g.jsx(du,{size:16})}),g.jsxs("p",{className:"font-semibold text-sm text-[#E27DBF] mb-1",children:[m?le(ae(m),"d/M",{locale:Ji}):"Fecha",` (Día ${t.cycleDay||"N/A"})`]}),f!=null&&g.jsxs("p",{className:"text-xs mb-1",children:[g.jsx("span",{className:"font-medium",children:"T:"})," ",parseFloat(f).toFixed(2),"°C",t.use_corrected&&g.jsx("span",{className:"inline-block ml-1 align-middle text-[#FF0000]",children:"·"})]}),g.jsxs("div",{className:"flex items-center mb-1",children:[h&&h.value!=="none"&&g.jsx("span",{className:`w-3 h-3 rounded-full mr-1 ${h.color} ${h.pattern?"pattern-bg":""} ${h.value==="white"?"border border-gray-300":""}`}),g.jsx("p",{className:"text-xs",children:h?h.label:"-"})]}),g.jsxs("p",{className:"text-xs mb-1",children:[g.jsx("span",{className:"font-medium",children:"Sens.:"})," ",t.mucus_sensation||"-"]}),g.jsxs("p",{className:"text-xs",children:[g.jsx("span",{className:"font-medium",children:"Apar.:"})," ",t.mucus_appearance||"-"]}),t.id&&!String(t.id).startsWith("placeholder-")&&g.jsxs("div",{className:"flex justify-center space-x-1 mt-1",children:[g.jsx(Ce,{onClick:()=>{o&&o(t),s&&s()},variant:"outline",size:"icon",className:"text-[#393C65] hover:text-[#E27DBF] hover:bg-[#E27DBF]/10 ",children:g.jsx(Ny,{className:"h-4 w-4"})}),g.jsx(Ce,{onClick:()=>i(t.id),variant:t.ignored?"outline":"destructive",size:"icon",className:"hover:bg-[#FFB1DD]/20",children:t.ignored?g.jsx(Ga,{className:"h-4 w-4"}):g.jsx(Rp,{className:"h-4 w-4"})})]})]})},QG="#135e96",XG="#538511",JG="#90125c",ZG=({padding:t,chartHeight:e,tempMin:n,tempMax:r,tempRange:i,getY:o,responsiveFontSize:s,textRowHeight:a,isFullScreen:l})=>{const c={hidden:{opacity:0,y:20},visible:{opacity:1,y:0}},u=[];if(i>0){const h=i<=2.5?.1:.5;for(let m=n;m<=r+1e-9;m+=h)u.push(parseFloat(m.toFixed(1)))}else for(let h=35;h<=37.5+1e-9;h+=.5)u.push(parseFloat(h.toFixed(1)));const f=e-t.bottom;return g.jsxs("svg",{width:t.left,height:e,className:"font-sans pointer-events-none",children:[g.jsx("rect",{x:0,y:f+a*.5,width:t.left,height:a*(l?9.5:8),fill:"white"}),u.map((h,m)=>{const _=o(h),E=h.toFixed(1).endsWith(".0")||h.toFixed(1).endsWith(".5")?h.toFixed(1):`.${h.toFixed(1).split(".")[1]}`;return g.jsx(qe.text,{variants:c,x:t.left-s(.8),y:_+s(.3),textAnchor:"end",fontSize:s(),fill:"#E27DBF",children:E},`temp-tick-fixed-${m}`)}),g.jsx(qe.text,{variants:c,x:t.left+s(.5),y:t.top+s(1),textAnchor:"start",fontSize:s(1.2),fill:"#E27DBF",children:"°C"}),g.jsx(qe.g,{variants:c,children:[{label:"Fecha",row:1,color:l?"#1F2937":"#E27DBF"},{label:"Día",row:2,color:l?"#1F2937":"#E27DBF"},{label:"Símbolo",row:3,color:l?"#1F2937":"#E27DBF"},{label:"Sens.",row:l?5:4.5,color:QG},{label:"Apar.",row:l?7:6,color:XG},{label:"Observ.",row:l?9:7.5,color:JG}].map(({label:h,row:m,color:_})=>g.jsx("text",{x:t.left-s(1.5),y:f+a*m,textAnchor:"end",fontSize:s(.9),fill:_,children:h},h))})]})},xC=35.5,EC=37.5,eK=(t,e,n,r,i,o=5)=>{const s=p.useRef(null),a=p.useRef(null),[l,c]=p.useState({width:600,height:400}),[u,f]=p.useState(null),[h,m]=p.useState({x:0,y:0}),_=p.useMemo(()=>t.map(V=>({...V,displayTemperature:V.temperature_chart})),[t]);p.useEffect(()=>{const V=()=>{if(!s.current)return;let W=s.current.clientWidth>0?s.current.clientWidth:600,Y,G;if(e)if(W=window.innerWidth,n==="portrait"){const oe=Math.max(30,W*.05);Y=(W-oe)/o*t.length,G=window.innerHeight}else Y=W/o*t.length,G=window.innerHeight;else Y=W/o*t.length,G=450;c({width:Y,height:G})};V(),window.addEventListener("resize",V);let $;return e&&s.current&&($=new ResizeObserver(V),$.observe(document.documentElement)),()=>{window.removeEventListener("resize",V),$&&$.disconnect()}},[e,t.length,o,n]);const v=p.useMemo(()=>_.filter(V=>V&&V.isoDate&&!V.ignored&&V.displayTemperature!==null&&V.displayTemperature!==void 0),[_]),E=p.useMemo(()=>_.filter(V=>V&&V.isoDate),[_]),{baselineTemp:x,baselineStartIndex:y}=p.useMemo(()=>{const V=$=>$&&$.displayTemperature!=null&&!$.ignored;for(let $=0;$<_.length;$++){const W=_[$];if(!V(W))continue;const Y=[];for(let G=$-1;G>=0&&Y.length<6;G--){const oe=_[G];V(oe)&&Y.unshift({index:G,temp:oe.displayTemperature})}if(!(Y.length<6)&&Y.every(G=>G.temp<W.displayTemperature)){const G=Math.max(...Y.map(fe=>fe.temp)),oe=Y.find(fe=>fe.temp===G).index;return{baselineTemp:G,baselineStartIndex:oe}}}return{baselineTemp:null,baselineStartIndex:null}},[_]),{tempMin:b,tempMax:P}=p.useMemo(()=>{const V=v.map(Y=>Y.displayTemperature).filter(Y=>Y!=null);if(V.length===0)return{tempMin:xC,tempMax:EC};let $=Math.min(...V,xC),W=Math.max(...V,EC);if($=Math.floor($*2)/2,W=Math.ceil(W*2)/2,W-$<2){const Y=($+W)/2;$=Y-1,W=Y+1}return{tempMin:$,tempMax:W}},[v]),N=P-b,M=l.width,S=l.height,C=9,I=(V=1)=>{if(!e)return C*V;const $=Math.min(M,S);return Math.max(8,Math.min(C*V,$/(E.length>0?40/V:40)))},A=I(e?1.5:1.8),D=A*5,k={top:e?Math.max(20,S*.05):20,right:e?Math.max(30,M*.05):50,bottom:(e?Math.max(60,S*.2):60)+D,left:e?Math.max(30,M*.05):50},B=V=>{if(V==null||N===0)return S-k.bottom;const $=S-k.top-k.bottom;return $<=0?S-k.bottom:S-k.bottom-(V-b)/N*$},q=V=>{const $=e?10:20,W=e?25:0,Y=M-k.left-k.right-$-W*(E.length-1);if(Y<=0)return k.left+$+W*V;const G=E.length>1?E.length-1:1;return G===0||E.length===0?k.left+$+W*V:k.left+$+V*(Y/(E.length===1?1:G))+W*V},K=(V,$,W)=>{if(!V||String(V.id).startsWith("placeholder-")){j();return}const Y=s.current.getBoundingClientRect();let G,oe;if(W.type.startsWith("touch")){const J=W.changedTouches[0];G=J.clientX,oe=J.clientY}else G=W.clientX,oe=W.clientY;const fe=q($),Ee=B(V.displayTemperature);m({svgX:fe,svgY:Ee,clientX:G-Y.left+s.current.scrollLeft,clientY:oe-Y.top+s.current.scrollTop}),f(V)};p.useEffect(()=>{const V=$=>{var W;if(a.current&&!a.current.contains($.target)){const Y=(W=s.current)==null?void 0:W.querySelectorAll("circle, text, rect");let G=!1;if(Y){for(let oe of Y)if(oe.contains($.target)){G=!0;break}}G||f(null)}};return u&&(document.addEventListener("mousedown",V),document.addEventListener("touchstart",V)),()=>{document.removeEventListener("mousedown",V),document.removeEventListener("touchstart",V)}},[u]);const j=()=>{f(null)};return{chartRef:s,tooltipRef:a,dimensions:l,activePoint:u,tooltipPosition:h,processedData:_,validDataForLine:v,allDataPoints:E,tempMin:b,tempMax:P,tempRange:N,padding:k,textRowHeight:A,setActivePoint:f,getY:B,getX:q,handlePointInteraction:K,clearActivePoint:j,handleToggleIgnore:V=>{r&&V&&(r(i,V),f(null))},responsiveFontSize:I,baselineTemp:x,baselineStartIndex:y}},dN=({data:t,isFullScreen:e,orientation:n,onToggleIgnore:r,onEdit:i,cycleId:o,initialScrollIndex:s=0,visibleDays:a=5,showInterpretation:l=!1})=>{const{chartRef:c,tooltipRef:u,dimensions:f,activePoint:h,tooltipPosition:m,allDataPoints:_,validDataForLine:v,tempMin:E,tempMax:x,tempRange:y,padding:b,textRowHeight:P,getY:N,getX:M,handlePointInteraction:S,handleToggleIgnore:C,responsiveFontSize:I,clearActivePoint:A,setActivePoint:O,baselineTemp:D,baselineStartIndex:k}=eK(t,e,n,r,o,a);if(!_||_.length===0)return g.jsx("div",{className:"text-center text-slate-400 p-8",children:"No hay datos para mostrar en el gráfico."});const B=f.width,q=f.height,K=D!=null?N(D):null,j=D!=null?M(k):null,L={hidden:{opacity:0},visible:{opacity:1,transition:{duration:.2}}};return p.useEffect(()=>{if(e||!c.current)return;const V=c.current.clientWidth/a;c.current.scrollLeft=Math.max(0,V*s)},[e,s,a,f.width,n]),g.jsxs("div",{className:"relative",children:[(!e||n==="portrait")&&g.jsx("div",{className:"absolute left-0 top-0 h-full bg-transparent pointer-events-none z-10",style:{width:b.left},children:g.jsx(ZG,{padding:b,chartHeight:q,tempMin:E,tempMax:x,tempRange:y,getY:N,responsiveFontSize:I,textRowHeight:P,isFullScreen:e})}),g.jsxs("div",{ref:c,className:`relative p-0 rounded-xl ${e?"w-full h-full bg-white flex items-center justify-start overflow-x-auto overflow-y-hidden":"bg-white overflow-x-auto overflow-y-hidden"}`,style:{boxShadow:"0 2px 4px rgba(0,0,0,0.03)"},children:[g.jsxs(qe.svg,{width:B,height:q,className:"font-sans flex-shrink-0",viewBox:`0 0 ${B} ${q}`,preserveAspectRatio:"xMidYMid meet",variants:L,initial:"hidden",animate:"visible",children:[g.jsxs("defs",{children:[g.jsxs("linearGradient",{id:"tempLineGradientChart",x1:"0%",y1:"0%",x2:"100%",y2:"0%",children:[g.jsx("stop",{offset:"0%",stopColor:"#f472b6"}),g.jsx("stop",{offset:"100%",stopColor:"#d946ef"})]}),g.jsxs("linearGradient",{id:"tempAreaGradientChart",x1:"0%",y1:"0%",x2:"0%",y2:"100%",children:[g.jsx("stop",{offset:"0%",stopColor:"rgba(244,114,182,0.15)"}),g.jsx("stop",{offset:"100%",stopColor:"rgba(217,70,239,0)"})]}),g.jsx("pattern",{id:"spotting-pattern-chart",patternUnits:"userSpaceOnUse",width:"6",height:"6",children:g.jsx("circle",{cx:"1.5",cy:"1.5",r:"1.5",fill:"rgba(239,68,68,0.7)"})})]}),g.jsx("rect",{width:"100%",height:"100%",fill:"transparent"}),g.jsx(wH,{padding:b,chartWidth:B,chartHeight:q,tempMin:E,tempMax:x,tempRange:y,getY:N,getX:M,allDataPoints:_,responsiveFontSize:I,isFullScreen:e,showLeftLabels:e&&n==="landscape"}),g.jsx(_H,{data:v,allDataPoints:_,getX:M,getY:N,baselineY:q-b.bottom,temperatureField:"displayTemperature"}),l&&D!=null&&g.jsx("line",{x1:j,y1:K,x2:B-b.right,y2:K,stroke:"#f59e0b",strokeWidth:2,strokeDasharray:"4 4"}),g.jsx(fG,{data:_,getX:M,getY:N,isFullScreen:e,orientation:n,responsiveFontSize:I,onPointInteraction:S,clearActivePoint:A,activePoint:h,padding:b,chartHeight:q,chartWidth:B,temperatureField:"displayTemperature",textRowHeight:P})]}),h&&g.jsx("div",{ref:u,children:g.jsx(KG,{point:h,position:m,chartWidth:B,chartHeight:q,onToggleIgnore:C,onEdit:i,onClose:A})})]})]})},wf=we.forwardRef(({className:t,...e},n)=>g.jsx("textarea",{className:ke("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:n,...e}));wf.displayName="Textarea";function tK(t,e){const n=p.createContext(e),r=o=>{const{children:s,...a}=o,l=p.useMemo(()=>a,Object.values(a));return g.jsx(n.Provider,{value:l,children:s})};r.displayName=t+"Provider";function i(o){const s=p.useContext(n);if(s)return s;if(e!==void 0)return e;throw new Error(`\`${o}\` must be used within \`${t}\``)}return[r,i]}function Ms(t,e=[]){let n=[];function r(o,s){const a=p.createContext(s),l=n.length;n=[...n,s];const c=f=>{var x;const{scope:h,children:m,..._}=f,v=((x=h==null?void 0:h[t])==null?void 0:x[l])||a,E=p.useMemo(()=>_,Object.values(_));return g.jsx(v.Provider,{value:E,children:m})};c.displayName=o+"Provider";function u(f,h){var v;const m=((v=h==null?void 0:h[t])==null?void 0:v[l])||a,_=p.useContext(m);if(_)return _;if(s!==void 0)return s;throw new Error(`\`${f}\` must be used within \`${o}\``)}return[c,u]}const i=()=>{const o=n.map(s=>p.createContext(s));return function(a){const l=(a==null?void 0:a[t])||o;return p.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return i.scopeName=t,[r,nK(i,...e)]}function nK(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(o){const s=r.reduce((a,{useScope:l,scopeName:c})=>{const f=l(o)[`__scope${c}`];return{...a,...f}},{});return p.useMemo(()=>({[`__scope${e.scopeName}`]:s}),[s])}};return n.scopeName=e.scopeName,n}function $e(t,e,{checkForDefaultPrevented:n=!0}={}){return function(i){if(t==null||t(i),n===!1||!i.defaultPrevented)return e==null?void 0:e(i)}}var Br=globalThis!=null&&globalThis.document?p.useLayoutEffect:()=>{},rK=Vh[" useInsertionEffect ".trim().toString()]||Br;function kp({prop:t,defaultProp:e,onChange:n=()=>{},caller:r}){const[i,o,s]=iK({defaultProp:e,onChange:n}),a=t!==void 0,l=a?t:i;{const u=p.useRef(t!==void 0);p.useEffect(()=>{const f=u.current;f!==a&&console.warn(`${r} is changing from ${f?"controlled":"uncontrolled"} to ${a?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),u.current=a},[a,r])}const c=p.useCallback(u=>{var f;if(a){const h=oK(u)?u(t):u;h!==t&&((f=s.current)==null||f.call(s,h))}else o(u)},[a,t,o,s]);return[l,c]}function iK({defaultProp:t,onChange:e}){const[n,r]=p.useState(t),i=p.useRef(n),o=p.useRef(e);return rK(()=>{o.current=e},[e]),p.useEffect(()=>{var s;i.current!==n&&((s=o.current)==null||s.call(o,n),i.current=n)},[n,i]),[n,r,o]}function oK(t){return typeof t=="function"}function sK(t){const e=p.useRef({value:t,previous:t});return p.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}function fN(t){const[e,n]=p.useState(void 0);return Br(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const o=i[0];let s,a;if("borderBoxSize"in o){const l=o.borderBoxSize,c=Array.isArray(l)?l[0]:l;s=c.inlineSize,a=c.blockSize}else s=t.offsetWidth,a=t.offsetHeight;n({width:s,height:a})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}function aK(t,e){return p.useReducer((n,r)=>e[n][r]??n,t)}var Xn=t=>{const{present:e,children:n}=t,r=lK(e),i=typeof n=="function"?n({present:r.isPresent}):p.Children.only(n),o=lt(r.ref,cK(i));return typeof n=="function"||r.isPresent?p.cloneElement(i,{ref:o}):null};Xn.displayName="Presence";function lK(t){const[e,n]=p.useState(),r=p.useRef(null),i=p.useRef(t),o=p.useRef("none"),s=t?"mounted":"unmounted",[a,l]=aK(s,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return p.useEffect(()=>{const c=jd(r.current);o.current=a==="mounted"?c:"none"},[a]),Br(()=>{const c=r.current,u=i.current;if(u!==t){const h=o.current,m=jd(c);t?l("MOUNT"):m==="none"||(c==null?void 0:c.display)==="none"?l("UNMOUNT"):l(u&&h!==m?"ANIMATION_OUT":"UNMOUNT"),i.current=t}},[t,l]),Br(()=>{if(e){let c;const u=e.ownerDocument.defaultView??window,f=m=>{const v=jd(r.current).includes(m.animationName);if(m.target===e&&v&&(l("ANIMATION_END"),!i.current)){const E=e.style.animationFillMode;e.style.animationFillMode="forwards",c=u.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=E)})}},h=m=>{m.target===e&&(o.current=jd(r.current))};return e.addEventListener("animationstart",h),e.addEventListener("animationcancel",f),e.addEventListener("animationend",f),()=>{u.clearTimeout(c),e.removeEventListener("animationstart",h),e.removeEventListener("animationcancel",f),e.removeEventListener("animationend",f)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:p.useCallback(c=>{r.current=c?getComputedStyle(c):null,n(c)},[])}}function jd(t){return(t==null?void 0:t.animationName)||"none"}function cK(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var Dp="Checkbox",[uK,Tne]=Ms(Dp),[dK,C_]=uK(Dp);function fK(t){const{__scopeCheckbox:e,checked:n,children:r,defaultChecked:i,disabled:o,form:s,name:a,onCheckedChange:l,required:c,value:u="on",internal_do_not_use_render:f}=t,[h,m]=kp({prop:n,defaultProp:i??!1,onChange:l,caller:Dp}),[_,v]=p.useState(null),[E,x]=p.useState(null),y=p.useRef(!1),b=_?!!s||!!_.closest("form"):!0,P={checked:h,disabled:o,setChecked:m,control:_,setControl:v,name:a,form:s,value:u,hasConsumerStoppedPropagationRef:y,required:c,defaultChecked:go(i)?!1:i,isFormControl:b,bubbleInput:E,setBubbleInput:x};return g.jsx(dK,{scope:e,...P,children:hK(f)?f(P):r})}var hN="CheckboxTrigger",pN=p.forwardRef(({__scopeCheckbox:t,onKeyDown:e,onClick:n,...r},i)=>{const{control:o,value:s,disabled:a,checked:l,required:c,setControl:u,setChecked:f,hasConsumerStoppedPropagationRef:h,isFormControl:m,bubbleInput:_}=C_(hN,t),v=lt(i,u),E=p.useRef(l);return p.useEffect(()=>{const x=o==null?void 0:o.form;if(x){const y=()=>f(E.current);return x.addEventListener("reset",y),()=>x.removeEventListener("reset",y)}},[o,f]),g.jsx(We.button,{type:"button",role:"checkbox","aria-checked":go(l)?"mixed":l,"aria-required":c,"data-state":wN(l),"data-disabled":a?"":void 0,disabled:a,value:s,...r,ref:v,onKeyDown:$e(e,x=>{x.key==="Enter"&&x.preventDefault()}),onClick:$e(n,x=>{f(y=>go(y)?!0:!y),_&&m&&(h.current=x.isPropagationStopped(),h.current||x.stopPropagation())})})});pN.displayName=hN;var S_=p.forwardRef((t,e)=>{const{__scopeCheckbox:n,name:r,checked:i,defaultChecked:o,required:s,disabled:a,value:l,onCheckedChange:c,form:u,...f}=t;return g.jsx(fK,{__scopeCheckbox:n,checked:i,defaultChecked:o,disabled:a,required:s,onCheckedChange:c,name:r,form:u,value:l,internal_do_not_use_render:({isFormControl:h})=>g.jsxs(g.Fragment,{children:[g.jsx(pN,{...f,ref:e,__scopeCheckbox:n}),h&&g.jsx(yN,{__scopeCheckbox:n})]})})});S_.displayName=Dp;var mN="CheckboxIndicator",gN=p.forwardRef((t,e)=>{const{__scopeCheckbox:n,forceMount:r,...i}=t,o=C_(mN,n);return g.jsx(Xn,{present:r||go(o.checked)||o.checked===!0,children:g.jsx(We.span,{"data-state":wN(o.checked),"data-disabled":o.disabled?"":void 0,...i,ref:e,style:{pointerEvents:"none",...t.style}})})});gN.displayName=mN;var vN="CheckboxBubbleInput",yN=p.forwardRef(({__scopeCheckbox:t,...e},n)=>{const{control:r,hasConsumerStoppedPropagationRef:i,checked:o,defaultChecked:s,required:a,disabled:l,name:c,value:u,form:f,bubbleInput:h,setBubbleInput:m}=C_(vN,t),_=lt(n,m),v=sK(o),E=fN(r);p.useEffect(()=>{const y=h;if(!y)return;const b=window.HTMLInputElement.prototype,N=Object.getOwnPropertyDescriptor(b,"checked").set,M=!i.current;if(v!==o&&N){const S=new Event("click",{bubbles:M});y.indeterminate=go(o),N.call(y,go(o)?!1:o),y.dispatchEvent(S)}},[h,v,o,i]);const x=p.useRef(go(o)?!1:o);return g.jsx(We.input,{type:"checkbox","aria-hidden":!0,defaultChecked:s??x.current,required:a,disabled:l,name:c,value:u,form:f,...e,tabIndex:-1,ref:_,style:{...e.style,...E,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});yN.displayName=vN;function hK(t){return typeof t=="function"}function go(t){return t==="indeterminate"}function wN(t){return go(t)?"indeterminate":t?"checked":"unchecked"}const _N=we.forwardRef(({className:t,...e},n)=>g.jsx(S_,{ref:n,className:ke("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",t),...e,children:g.jsx(gN,{className:ke("flex items-center justify-center text-current"),children:g.jsx(bh,{className:"h-4 w-4"})})}));_N.displayName=S_.displayName;var ye=function(){return ye=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},ye.apply(this,arguments)};function pK(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function xN(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,o;r<i;r++)(o||!(r in e))&&(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return t.concat(o||Array.prototype.slice.call(e))}function Fu(t){return t.mode==="multiple"}function $u(t){return t.mode==="range"}function Np(t){return t.mode==="single"}var mK={root:"rdp",multiple_months:"rdp-multiple_months",with_weeknumber:"rdp-with_weeknumber",vhidden:"rdp-vhidden",button_reset:"rdp-button_reset",button:"rdp-button",caption:"rdp-caption",caption_start:"rdp-caption_start",caption_end:"rdp-caption_end",caption_between:"rdp-caption_between",caption_label:"rdp-caption_label",caption_dropdowns:"rdp-caption_dropdowns",dropdown:"rdp-dropdown",dropdown_month:"rdp-dropdown_month",dropdown_year:"rdp-dropdown_year",dropdown_icon:"rdp-dropdown_icon",months:"rdp-months",month:"rdp-month",table:"rdp-table",tbody:"rdp-tbody",tfoot:"rdp-tfoot",head:"rdp-head",head_row:"rdp-head_row",head_cell:"rdp-head_cell",nav:"rdp-nav",nav_button:"rdp-nav_button",nav_button_previous:"rdp-nav_button_previous",nav_button_next:"rdp-nav_button_next",nav_icon:"rdp-nav_icon",row:"rdp-row",weeknumber:"rdp-weeknumber",cell:"rdp-cell",day:"rdp-day",day_today:"rdp-day_today",day_outside:"rdp-day_outside",day_selected:"rdp-day_selected",day_disabled:"rdp-day_disabled",day_hidden:"rdp-day_hidden",day_range_start:"rdp-day_range_start",day_range_end:"rdp-day_range_end",day_range_middle:"rdp-day_range_middle"};function gK(t,e){return le(t,"LLLL y",e)}function vK(t,e){return le(t,"d",e)}function yK(t,e){return le(t,"LLLL",e)}function wK(t){return"".concat(t)}function _K(t,e){return le(t,"cccccc",e)}function xK(t,e){return le(t,"yyyy",e)}var EK=Object.freeze({__proto__:null,formatCaption:gK,formatDay:vK,formatMonthCaption:yK,formatWeekNumber:wK,formatWeekdayName:_K,formatYearCaption:xK}),bK=function(t,e,n){return le(t,"do MMMM (EEEE)",n)},TK=function(){return"Month: "},CK=function(){return"Go to next month"},SK=function(){return"Go to previous month"},PK=function(t,e){return le(t,"cccc",e)},IK=function(t){return"Week n. ".concat(t)},AK=function(){return"Year: "},RK=Object.freeze({__proto__:null,labelDay:bK,labelMonthDropdown:TK,labelNext:CK,labelPrevious:SK,labelWeekNumber:IK,labelWeekday:PK,labelYearDropdown:AK});function kK(){var t="buttons",e=mK,n=__,r={},i={},o=1,s={},a=new Date;return{captionLayout:t,classNames:e,formatters:EK,labels:RK,locale:n,modifiersClassNames:r,modifiers:i,numberOfMonths:o,styles:s,today:a,mode:"default"}}function DK(t){var e=t.fromYear,n=t.toYear,r=t.fromMonth,i=t.toMonth,o=t.fromDate,s=t.toDate;return r?o=Cn(r):e&&(o=new Date(e,0,1)),i?s=v_(i):n&&(s=new Date(n,11,31)),{fromDate:o?be(o):void 0,toDate:s?be(s):void 0}}var EN=p.createContext(void 0);function NK(t){var e,n=t.initialProps,r=kK(),i=DK(n),o=i.fromDate,s=i.toDate,a=(e=n.captionLayout)!==null&&e!==void 0?e:r.captionLayout;a!=="buttons"&&(!o||!s)&&(a="buttons");var l;(Np(n)||Fu(n)||$u(n))&&(l=n.onSelect);var c=ye(ye(ye({},r),n),{captionLayout:a,classNames:ye(ye({},r.classNames),n.classNames),components:ye({},n.components),formatters:ye(ye({},r.formatters),n.formatters),fromDate:o,labels:ye(ye({},r.labels),n.labels),mode:n.mode||r.mode,modifiers:ye(ye({},r.modifiers),n.modifiers),modifiersClassNames:ye(ye({},r.modifiersClassNames),n.modifiersClassNames),onSelect:l,styles:ye(ye({},r.styles),n.styles),toDate:s});return g.jsx(EN.Provider,{value:c,children:t.children})}function et(){var t=p.useContext(EN);if(!t)throw new Error("useDayPicker must be used within a DayPickerProvider.");return t}function bN(t){var e=et(),n=e.locale,r=e.classNames,i=e.styles,o=e.formatters.formatCaption;return g.jsx("div",{className:r.caption_label,style:i.caption_label,"aria-live":"polite",role:"presentation",id:t.id,children:o(t.displayMonth,{locale:n})})}function MK(t){return g.jsx("svg",ye({width:"8px",height:"8px",viewBox:"0 0 120 120","data-testid":"iconDropdown"},t,{children:g.jsx("path",{d:"M4.22182541,48.2218254 C8.44222828,44.0014225 15.2388494,43.9273804 19.5496459,47.9996989 L19.7781746,48.2218254 L60,88.443 L100.221825,48.2218254 C104.442228,44.0014225 111.238849,43.9273804 115.549646,47.9996989 L115.778175,48.2218254 C119.998577,52.4422283 120.07262,59.2388494 116.000301,63.5496459 L115.778175,63.7781746 L67.7781746,111.778175 C63.5577717,115.998577 56.7611506,116.07262 52.4503541,112.000301 L52.2218254,111.778175 L4.22182541,63.7781746 C-0.0739418023,59.4824074 -0.0739418023,52.5175926 4.22182541,48.2218254 Z",fill:"currentColor",fillRule:"nonzero"})}))}function TN(t){var e,n,r=t.onChange,i=t.value,o=t.children,s=t.caption,a=t.className,l=t.style,c=et(),u=(n=(e=c.components)===null||e===void 0?void 0:e.IconDropdown)!==null&&n!==void 0?n:MK;return g.jsxs("div",{className:a,style:l,children:[g.jsx("span",{className:c.classNames.vhidden,children:t["aria-label"]}),g.jsx("select",{name:t.name,"aria-label":t["aria-label"],className:c.classNames.dropdown,style:c.styles.dropdown,value:i,onChange:r,children:o}),g.jsxs("div",{className:c.classNames.caption_label,style:c.styles.caption_label,"aria-hidden":"true",children:[s,g.jsx(u,{className:c.classNames.dropdown_icon,style:c.styles.dropdown_icon})]})]})}function OK(t){var e,n=et(),r=n.fromDate,i=n.toDate,o=n.styles,s=n.locale,a=n.formatters.formatMonthCaption,l=n.classNames,c=n.components,u=n.labels.labelMonthDropdown;if(!r)return g.jsx(g.Fragment,{});if(!i)return g.jsx(g.Fragment,{});var f=[];if(qY(r,i))for(var h=Cn(r),m=r.getMonth();m<=i.getMonth();m++)f.push(Tg(h,m));else for(var h=Cn(new Date),m=0;m<=11;m++)f.push(Tg(h,m));var _=function(E){var x=Number(E.target.value),y=Tg(Cn(t.displayMonth),x);t.onChange(y)},v=(e=c==null?void 0:c.Dropdown)!==null&&e!==void 0?e:TN;return g.jsx(v,{name:"months","aria-label":u(),className:l.dropdown_month,style:o.dropdown_month,onChange:_,value:t.displayMonth.getMonth(),caption:a(t.displayMonth,{locale:s}),children:f.map(function(E){return g.jsx("option",{value:E.getMonth(),children:a(E,{locale:s})},E.getMonth())})})}function LK(t){var e,n=t.displayMonth,r=et(),i=r.fromDate,o=r.toDate,s=r.locale,a=r.styles,l=r.classNames,c=r.components,u=r.formatters.formatYearCaption,f=r.labels.labelYearDropdown,h=[];if(!i)return g.jsx(g.Fragment,{});if(!o)return g.jsx(g.Fragment,{});for(var m=i.getFullYear(),_=o.getFullYear(),v=m;v<=_;v++)h.push(vC(MH(new Date),v));var E=function(y){var b=vC(Cn(n),Number(y.target.value));t.onChange(b)},x=(e=c==null?void 0:c.Dropdown)!==null&&e!==void 0?e:TN;return g.jsx(x,{name:"years","aria-label":f(),className:l.dropdown_year,style:a.dropdown_year,onChange:E,value:n.getFullYear(),caption:u(n,{locale:s}),children:h.map(function(y){return g.jsx("option",{value:y.getFullYear(),children:u(y,{locale:s})},y.getFullYear())})})}function VK(t,e){var n=p.useState(t),r=n[0],i=n[1],o=e===void 0?r:e;return[o,i]}function jK(t){var e=t.month,n=t.defaultMonth,r=t.today,i=e||n||r||new Date,o=t.toDate,s=t.fromDate,a=t.numberOfMonths,l=a===void 0?1:a;if(o&&fu(o,i)<0){var c=-1*(l-1);i=pr(o,c)}return s&&fu(i,s)<0&&(i=s),Cn(i)}function FK(){var t=et(),e=jK(t),n=VK(e,t.month),r=n[0],i=n[1],o=function(s){var a;if(!t.disableNavigation){var l=Cn(s);i(l),(a=t.onMonthChange)===null||a===void 0||a.call(t,l)}};return[r,o]}function $K(t,e){for(var n=e.reverseMonths,r=e.numberOfMonths,i=Cn(t),o=Cn(pr(i,r)),s=fu(o,i),a=[],l=0;l<s;l++){var c=pr(i,l);a.push(c)}return n&&(a=a.reverse()),a}function UK(t,e){if(!e.disableNavigation){var n=e.toDate,r=e.pagedNavigation,i=e.numberOfMonths,o=i===void 0?1:i,s=r?o:1,a=Cn(t);if(!n)return pr(a,s);var l=fu(n,t);if(!(l<o))return pr(a,s)}}function BK(t,e){if(!e.disableNavigation){var n=e.fromDate,r=e.pagedNavigation,i=e.numberOfMonths,o=i===void 0?1:i,s=r?o:1,a=Cn(t);if(!n)return pr(a,-s);var l=fu(a,n);if(!(l<=0))return pr(a,-s)}}var CN=p.createContext(void 0);function WK(t){var e=et(),n=FK(),r=n[0],i=n[1],o=$K(r,e),s=UK(r,e),a=BK(r,e),l=function(f){return o.some(function(h){return b_(f,h)})},c=function(f,h){l(f)||(h&&nN(f,h)?i(pr(f,1+e.numberOfMonths*-1)):i(f))},u={currentMonth:r,displayMonths:o,goToMonth:i,goToDate:c,previousMonth:a,nextMonth:s,isDateDisplayed:l};return g.jsx(CN.Provider,{value:u,children:t.children})}function Uu(){var t=p.useContext(CN);if(!t)throw new Error("useNavigation must be used within a NavigationProvider");return t}function bC(t){var e,n=et(),r=n.classNames,i=n.styles,o=n.components,s=Uu().goToMonth,a=function(u){s(pr(u,t.displayIndex?-t.displayIndex:0))},l=(e=o==null?void 0:o.CaptionLabel)!==null&&e!==void 0?e:bN,c=g.jsx(l,{id:t.id,displayMonth:t.displayMonth});return g.jsxs("div",{className:r.caption_dropdowns,style:i.caption_dropdowns,children:[g.jsx("div",{className:r.vhidden,children:c}),g.jsx(OK,{onChange:a,displayMonth:t.displayMonth}),g.jsx(LK,{onChange:a,displayMonth:t.displayMonth})]})}function zK(t){return g.jsx("svg",ye({width:"16px",height:"16px",viewBox:"0 0 120 120"},t,{children:g.jsx("path",{d:"M69.490332,3.34314575 C72.6145263,0.218951416 77.6798462,0.218951416 80.8040405,3.34314575 C83.8617626,6.40086786 83.9268205,11.3179931 80.9992143,14.4548388 L80.8040405,14.6568542 L35.461,60 L80.8040405,105.343146 C83.8617626,108.400868 83.9268205,113.317993 80.9992143,116.454839 L80.8040405,116.656854 C77.7463184,119.714576 72.8291931,119.779634 69.6923475,116.852028 L69.490332,116.656854 L18.490332,65.6568542 C15.4326099,62.5991321 15.367552,57.6820069 18.2951583,54.5451612 L18.490332,54.3431458 L69.490332,3.34314575 Z",fill:"currentColor",fillRule:"nonzero"})}))}function HK(t){return g.jsx("svg",ye({width:"16px",height:"16px",viewBox:"0 0 120 120"},t,{children:g.jsx("path",{d:"M49.8040405,3.34314575 C46.6798462,0.218951416 41.6145263,0.218951416 38.490332,3.34314575 C35.4326099,6.40086786 35.367552,11.3179931 38.2951583,14.4548388 L38.490332,14.6568542 L83.8333725,60 L38.490332,105.343146 C35.4326099,108.400868 35.367552,113.317993 38.2951583,116.454839 L38.490332,116.656854 C41.5480541,119.714576 46.4651794,119.779634 49.602025,116.852028 L49.8040405,116.656854 L100.804041,65.6568542 C103.861763,62.5991321 103.926821,57.6820069 100.999214,54.5451612 L100.804041,54.3431458 L49.8040405,3.34314575 Z",fill:"currentColor"})}))}var Ih=p.forwardRef(function(t,e){var n=et(),r=n.classNames,i=n.styles,o=[r.button_reset,r.button];t.className&&o.push(t.className);var s=o.join(" "),a=ye(ye({},i.button_reset),i.button);return t.style&&Object.assign(a,t.style),g.jsx("button",ye({},t,{ref:e,type:"button",className:s,style:a}))});function qK(t){var e,n,r=et(),i=r.dir,o=r.locale,s=r.classNames,a=r.styles,l=r.labels,c=l.labelPrevious,u=l.labelNext,f=r.components;if(!t.nextMonth&&!t.previousMonth)return g.jsx(g.Fragment,{});var h=c(t.previousMonth,{locale:o}),m=[s.nav_button,s.nav_button_previous].join(" "),_=u(t.nextMonth,{locale:o}),v=[s.nav_button,s.nav_button_next].join(" "),E=(e=f==null?void 0:f.IconRight)!==null&&e!==void 0?e:HK,x=(n=f==null?void 0:f.IconLeft)!==null&&n!==void 0?n:zK;return g.jsxs("div",{className:s.nav,style:a.nav,children:[!t.hidePrevious&&g.jsx(Ih,{name:"previous-month","aria-label":h,className:m,style:a.nav_button_previous,disabled:!t.previousMonth,onClick:t.onPreviousClick,children:i==="rtl"?g.jsx(E,{className:s.nav_icon,style:a.nav_icon}):g.jsx(x,{className:s.nav_icon,style:a.nav_icon})}),!t.hideNext&&g.jsx(Ih,{name:"next-month","aria-label":_,className:v,style:a.nav_button_next,disabled:!t.nextMonth,onClick:t.onNextClick,children:i==="rtl"?g.jsx(x,{className:s.nav_icon,style:a.nav_icon}):g.jsx(E,{className:s.nav_icon,style:a.nav_icon})})]})}function TC(t){var e=et().numberOfMonths,n=Uu(),r=n.previousMonth,i=n.nextMonth,o=n.goToMonth,s=n.displayMonths,a=s.findIndex(function(_){return b_(t.displayMonth,_)}),l=a===0,c=a===s.length-1,u=e>1&&(l||!c),f=e>1&&(c||!l),h=function(){r&&o(r)},m=function(){i&&o(i)};return g.jsx(qK,{displayMonth:t.displayMonth,hideNext:u,hidePrevious:f,nextMonth:i,previousMonth:r,onPreviousClick:h,onNextClick:m})}function YK(t){var e,n=et(),r=n.classNames,i=n.disableNavigation,o=n.styles,s=n.captionLayout,a=n.components,l=(e=a==null?void 0:a.CaptionLabel)!==null&&e!==void 0?e:bN,c;return i?c=g.jsx(l,{id:t.id,displayMonth:t.displayMonth}):s==="dropdown"?c=g.jsx(bC,{displayMonth:t.displayMonth,id:t.id}):s==="dropdown-buttons"?c=g.jsxs(g.Fragment,{children:[g.jsx(bC,{displayMonth:t.displayMonth,displayIndex:t.displayIndex,id:t.id}),g.jsx(TC,{displayMonth:t.displayMonth,displayIndex:t.displayIndex,id:t.id})]}):c=g.jsxs(g.Fragment,{children:[g.jsx(l,{id:t.id,displayMonth:t.displayMonth,displayIndex:t.displayIndex}),g.jsx(TC,{displayMonth:t.displayMonth,id:t.id})]}),g.jsx("div",{className:r.caption,style:o.caption,children:c})}function GK(t){var e=et(),n=e.footer,r=e.styles,i=e.classNames.tfoot;return n?g.jsx("tfoot",{className:i,style:r.tfoot,children:g.jsx("tr",{children:g.jsx("td",{colSpan:8,children:n})})}):g.jsx(g.Fragment,{})}function KK(t,e,n){for(var r=n?xs(new Date):Ur(new Date,{locale:t,weekStartsOn:e}),i=[],o=0;o<7;o++){var s=Lt(r,o);i.push(s)}return i}function QK(){var t=et(),e=t.classNames,n=t.styles,r=t.showWeekNumber,i=t.locale,o=t.weekStartsOn,s=t.ISOWeek,a=t.formatters.formatWeekdayName,l=t.labels.labelWeekday,c=KK(i,o,s);return g.jsxs("tr",{style:n.head_row,className:e.head_row,children:[r&&g.jsx("td",{style:n.head_cell,className:e.head_cell}),c.map(function(u,f){return g.jsx("th",{scope:"col",className:e.head_cell,style:n.head_cell,"aria-label":l(u,{locale:i}),children:a(u,{locale:i})},f)})]})}function XK(){var t,e=et(),n=e.classNames,r=e.styles,i=e.components,o=(t=i==null?void 0:i.HeadRow)!==null&&t!==void 0?t:QK;return g.jsx("thead",{style:r.head,className:n.head,children:g.jsx(o,{})})}function JK(t){var e=et(),n=e.locale,r=e.formatters.formatDay;return g.jsx(g.Fragment,{children:r(t.date,{locale:n})})}var P_=p.createContext(void 0);function ZK(t){if(!Fu(t.initialProps)){var e={selected:void 0,modifiers:{disabled:[]}};return g.jsx(P_.Provider,{value:e,children:t.children})}return g.jsx(eQ,{initialProps:t.initialProps,children:t.children})}function eQ(t){var e=t.initialProps,n=t.children,r=e.selected,i=e.min,o=e.max,s=function(c,u,f){var h,m;(h=e.onDayClick)===null||h===void 0||h.call(e,c,u,f);var _=!!(u.selected&&i&&(r==null?void 0:r.length)===i);if(!_){var v=!!(!u.selected&&o&&(r==null?void 0:r.length)===o);if(!v){var E=r?xN([],r,!0):[];if(u.selected){var x=E.findIndex(function(y){return xn(c,y)});E.splice(x,1)}else E.push(c);(m=e.onSelect)===null||m===void 0||m.call(e,E,c,u,f)}}},a={disabled:[]};r&&a.disabled.push(function(c){var u=o&&r.length>o-1,f=r.some(function(h){return xn(h,c)});return!!(u&&!f)});var l={selected:r,onDayClick:s,modifiers:a};return g.jsx(P_.Provider,{value:l,children:n})}function I_(){var t=p.useContext(P_);if(!t)throw new Error("useSelectMultiple must be used within a SelectMultipleProvider");return t}function tQ(t,e){var n=e||{},r=n.from,i=n.to;return r&&i?xn(i,t)&&xn(r,t)?void 0:xn(i,t)?{from:i,to:void 0}:xn(r,t)?void 0:Ch(r,t)?{from:t,to:i}:{from:r,to:t}:i?Ch(t,i)?{from:i,to:t}:{from:t,to:i}:r?nN(t,r)?{from:t,to:r}:{from:r,to:t}:{from:t,to:void 0}}var A_=p.createContext(void 0);function nQ(t){if(!$u(t.initialProps)){var e={selected:void 0,modifiers:{range_start:[],range_end:[],range_middle:[],disabled:[]}};return g.jsx(A_.Provider,{value:e,children:t.children})}return g.jsx(rQ,{initialProps:t.initialProps,children:t.children})}function rQ(t){var e=t.initialProps,n=t.children,r=e.selected,i=r||{},o=i.from,s=i.to,a=e.min,l=e.max,c=function(m,_,v){var E,x;(E=e.onDayClick)===null||E===void 0||E.call(e,m,_,v);var y=tQ(m,r);(x=e.onSelect)===null||x===void 0||x.call(e,y,m,_,v)},u={range_start:[],range_end:[],range_middle:[],disabled:[]};if(o?(u.range_start=[o],s?(u.range_end=[s],xn(o,s)||(u.range_middle=[{after:o,before:s}])):u.range_end=[o]):s&&(u.range_start=[s],u.range_end=[s]),a&&(o&&!s&&u.disabled.push({after:Eg(o,a-1),before:Lt(o,a-1)}),o&&s&&u.disabled.push({after:o,before:Lt(o,a-1)}),!o&&s&&u.disabled.push({after:Eg(s,a-1),before:Lt(s,a-1)})),l){if(o&&!s&&(u.disabled.push({before:Lt(o,-l+1)}),u.disabled.push({after:Lt(o,l-1)})),o&&s){var f=Ir(s,o)+1,h=l-f;u.disabled.push({before:Eg(o,h)}),u.disabled.push({after:Lt(s,h)})}!o&&s&&(u.disabled.push({before:Lt(s,-l+1)}),u.disabled.push({after:Lt(s,l-1)}))}return g.jsx(A_.Provider,{value:{selected:r,onDayClick:c,modifiers:u},children:n})}function R_(){var t=p.useContext(A_);if(!t)throw new Error("useSelectRange must be used within a SelectRangeProvider");return t}function _f(t){return Array.isArray(t)?xN([],t,!0):t!==void 0?[t]:[]}function iQ(t){var e={};return Object.entries(t).forEach(function(n){var r=n[0],i=n[1];e[r]=_f(i)}),e}var mr;(function(t){t.Outside="outside",t.Disabled="disabled",t.Selected="selected",t.Hidden="hidden",t.Today="today",t.RangeStart="range_start",t.RangeEnd="range_end",t.RangeMiddle="range_middle"})(mr||(mr={}));var oQ=mr.Selected,Qr=mr.Disabled,sQ=mr.Hidden,aQ=mr.Today,Pg=mr.RangeEnd,Ig=mr.RangeMiddle,Ag=mr.RangeStart,lQ=mr.Outside;function cQ(t,e,n){var r,i=(r={},r[oQ]=_f(t.selected),r[Qr]=_f(t.disabled),r[sQ]=_f(t.hidden),r[aQ]=[t.today],r[Pg]=[],r[Ig]=[],r[Ag]=[],r[lQ]=[],r);return t.fromDate&&i[Qr].push({before:t.fromDate}),t.toDate&&i[Qr].push({after:t.toDate}),Fu(t)?i[Qr]=i[Qr].concat(e.modifiers[Qr]):$u(t)&&(i[Qr]=i[Qr].concat(n.modifiers[Qr]),i[Ag]=n.modifiers[Ag],i[Ig]=n.modifiers[Ig],i[Pg]=n.modifiers[Pg]),i}var SN=p.createContext(void 0);function uQ(t){var e=et(),n=I_(),r=R_(),i=cQ(e,n,r),o=iQ(e.modifiers),s=ye(ye({},i),o);return g.jsx(SN.Provider,{value:s,children:t.children})}function PN(){var t=p.useContext(SN);if(!t)throw new Error("useModifiers must be used within a ModifiersProvider");return t}function dQ(t){return!!(t&&typeof t=="object"&&"before"in t&&"after"in t)}function fQ(t){return!!(t&&typeof t=="object"&&"from"in t)}function hQ(t){return!!(t&&typeof t=="object"&&"after"in t)}function pQ(t){return!!(t&&typeof t=="object"&&"before"in t)}function mQ(t){return!!(t&&typeof t=="object"&&"dayOfWeek"in t)}function gQ(t,e){var n,r=e.from,i=e.to;if(r&&i){var o=Ir(i,r)<0;o&&(n=[i,r],r=n[0],i=n[1]);var s=Ir(t,r)>=0&&Ir(i,t)>=0;return s}return i?xn(i,t):r?xn(r,t):!1}function vQ(t){return g_(t)}function yQ(t){return Array.isArray(t)&&t.every(g_)}function wQ(t,e){return e.some(function(n){if(typeof n=="boolean")return n;if(vQ(n))return xn(t,n);if(yQ(n))return n.includes(t);if(fQ(n))return gQ(t,n);if(mQ(n))return n.dayOfWeek.includes(t.getDay());if(dQ(n)){var r=Ir(n.before,t),i=Ir(n.after,t),o=r>0,s=i<0,a=Ch(n.before,n.after);return a?s&&o:o||s}return hQ(n)?Ir(t,n.after)>0:pQ(n)?Ir(n.before,t)>0:typeof n=="function"?n(t):!1})}function k_(t,e,n){var r=Object.keys(e).reduce(function(o,s){var a=e[s];return wQ(t,a)&&o.push(s),o},[]),i={};return r.forEach(function(o){return i[o]=!0}),n&&!b_(t,n)&&(i.outside=!0),i}function _Q(t,e){for(var n=Cn(t[0]),r=v_(t[t.length-1]),i,o,s=n;s<=r;){var a=k_(s,e),l=!a.disabled&&!a.hidden;if(!l){s=Lt(s,1);continue}if(a.selected)return s;a.today&&!o&&(o=s),i||(i=s),s=Lt(s,1)}return o||i}var xQ=365;function IN(t,e){var n=e.moveBy,r=e.direction,i=e.context,o=e.modifiers,s=e.retry,a=s===void 0?{count:0,lastFocused:t}:s,l=i.weekStartsOn,c=i.fromDate,u=i.toDate,f=i.locale,h={day:Lt,week:Oy,month:pr,year:SH,startOfWeek:function(E){return i.ISOWeek?xs(E):Ur(E,{locale:f,weekStartsOn:l})},endOfWeek:function(E){return i.ISOWeek?YD(E):y_(E,{locale:f,weekStartsOn:l})}},m=h[n](t,r==="after"?1:-1);r==="before"&&c?m=PH([c,m]):r==="after"&&u&&(m=IH([u,m]));var _=!0;if(o){var v=k_(m,o);_=!v.disabled&&!v.hidden}return _?m:a.count>xQ?a.lastFocused:IN(m,{moveBy:n,direction:r,context:i,modifiers:o,retry:ye(ye({},a),{count:a.count+1})})}var AN=p.createContext(void 0);function EQ(t){var e=Uu(),n=PN(),r=p.useState(),i=r[0],o=r[1],s=p.useState(),a=s[0],l=s[1],c=_Q(e.displayMonths,n),u=i??(a&&e.isDateDisplayed(a))?a:c,f=function(){l(i),o(void 0)},h=function(E){o(E)},m=et(),_=function(E,x){if(i){var y=IN(i,{moveBy:E,direction:x,context:m,modifiers:n});xn(i,y)||(e.goToDate(y,i),h(y))}},v={focusedDay:i,focusTarget:u,blur:f,focus:h,focusDayAfter:function(){return _("day","after")},focusDayBefore:function(){return _("day","before")},focusWeekAfter:function(){return _("week","after")},focusWeekBefore:function(){return _("week","before")},focusMonthBefore:function(){return _("month","before")},focusMonthAfter:function(){return _("month","after")},focusYearBefore:function(){return _("year","before")},focusYearAfter:function(){return _("year","after")},focusStartOfWeek:function(){return _("startOfWeek","before")},focusEndOfWeek:function(){return _("endOfWeek","after")}};return g.jsx(AN.Provider,{value:v,children:t.children})}function D_(){var t=p.useContext(AN);if(!t)throw new Error("useFocusContext must be used within a FocusProvider");return t}function bQ(t,e){var n=PN(),r=k_(t,n,e);return r}var N_=p.createContext(void 0);function TQ(t){if(!Np(t.initialProps)){var e={selected:void 0};return g.jsx(N_.Provider,{value:e,children:t.children})}return g.jsx(CQ,{initialProps:t.initialProps,children:t.children})}function CQ(t){var e=t.initialProps,n=t.children,r=function(o,s,a){var l,c,u;if((l=e.onDayClick)===null||l===void 0||l.call(e,o,s,a),s.selected&&!e.required){(c=e.onSelect)===null||c===void 0||c.call(e,void 0,o,s,a);return}(u=e.onSelect)===null||u===void 0||u.call(e,o,o,s,a)},i={selected:e.selected,onDayClick:r};return g.jsx(N_.Provider,{value:i,children:n})}function RN(){var t=p.useContext(N_);if(!t)throw new Error("useSelectSingle must be used within a SelectSingleProvider");return t}function SQ(t,e){var n=et(),r=RN(),i=I_(),o=R_(),s=D_(),a=s.focusDayAfter,l=s.focusDayBefore,c=s.focusWeekAfter,u=s.focusWeekBefore,f=s.blur,h=s.focus,m=s.focusMonthBefore,_=s.focusMonthAfter,v=s.focusYearBefore,E=s.focusYearAfter,x=s.focusStartOfWeek,y=s.focusEndOfWeek,b=function(j){var L,V,$,W;Np(n)?(L=r.onDayClick)===null||L===void 0||L.call(r,t,e,j):Fu(n)?(V=i.onDayClick)===null||V===void 0||V.call(i,t,e,j):$u(n)?($=o.onDayClick)===null||$===void 0||$.call(o,t,e,j):(W=n.onDayClick)===null||W===void 0||W.call(n,t,e,j)},P=function(j){var L;h(t),(L=n.onDayFocus)===null||L===void 0||L.call(n,t,e,j)},N=function(j){var L;f(),(L=n.onDayBlur)===null||L===void 0||L.call(n,t,e,j)},M=function(j){var L;(L=n.onDayMouseEnter)===null||L===void 0||L.call(n,t,e,j)},S=function(j){var L;(L=n.onDayMouseLeave)===null||L===void 0||L.call(n,t,e,j)},C=function(j){var L;(L=n.onDayPointerEnter)===null||L===void 0||L.call(n,t,e,j)},I=function(j){var L;(L=n.onDayPointerLeave)===null||L===void 0||L.call(n,t,e,j)},A=function(j){var L;(L=n.onDayTouchCancel)===null||L===void 0||L.call(n,t,e,j)},O=function(j){var L;(L=n.onDayTouchEnd)===null||L===void 0||L.call(n,t,e,j)},D=function(j){var L;(L=n.onDayTouchMove)===null||L===void 0||L.call(n,t,e,j)},k=function(j){var L;(L=n.onDayTouchStart)===null||L===void 0||L.call(n,t,e,j)},B=function(j){var L;(L=n.onDayKeyUp)===null||L===void 0||L.call(n,t,e,j)},q=function(j){var L;switch(j.key){case"ArrowLeft":j.preventDefault(),j.stopPropagation(),n.dir==="rtl"?a():l();break;case"ArrowRight":j.preventDefault(),j.stopPropagation(),n.dir==="rtl"?l():a();break;case"ArrowDown":j.preventDefault(),j.stopPropagation(),c();break;case"ArrowUp":j.preventDefault(),j.stopPropagation(),u();break;case"PageUp":j.preventDefault(),j.stopPropagation(),j.shiftKey?v():m();break;case"PageDown":j.preventDefault(),j.stopPropagation(),j.shiftKey?E():_();break;case"Home":j.preventDefault(),j.stopPropagation(),x();break;case"End":j.preventDefault(),j.stopPropagation(),y();break}(L=n.onDayKeyDown)===null||L===void 0||L.call(n,t,e,j)},K={onClick:b,onFocus:P,onBlur:N,onKeyDown:q,onKeyUp:B,onMouseEnter:M,onMouseLeave:S,onPointerEnter:C,onPointerLeave:I,onTouchCancel:A,onTouchEnd:O,onTouchMove:D,onTouchStart:k};return K}function PQ(){var t=et(),e=RN(),n=I_(),r=R_(),i=Np(t)?e.selected:Fu(t)?n.selected:$u(t)?r.selected:void 0;return i}function IQ(t){return Object.values(mr).includes(t)}function AQ(t,e){var n=[t.classNames.day];return Object.keys(e).forEach(function(r){var i=t.modifiersClassNames[r];if(i)n.push(i);else if(IQ(r)){var o=t.classNames["day_".concat(r)];o&&n.push(o)}}),n}function RQ(t,e){var n=ye({},t.styles.day);return Object.keys(e).forEach(function(r){var i;n=ye(ye({},n),(i=t.modifiersStyles)===null||i===void 0?void 0:i[r])}),n}function kQ(t,e,n){var r,i,o,s=et(),a=D_(),l=bQ(t,e),c=SQ(t,l),u=PQ(),f=!!(s.onDayClick||s.mode!=="default");p.useEffect(function(){var M;l.outside||a.focusedDay&&f&&xn(a.focusedDay,t)&&((M=n.current)===null||M===void 0||M.focus())},[a.focusedDay,t,n,f,l.outside]);var h=AQ(s,l).join(" "),m=RQ(s,l),_=!!(l.outside&&!s.showOutsideDays||l.hidden),v=(o=(i=s.components)===null||i===void 0?void 0:i.DayContent)!==null&&o!==void 0?o:JK,E=g.jsx(v,{date:t,displayMonth:e,activeModifiers:l}),x={style:m,className:h,children:E,role:"gridcell"},y=a.focusTarget&&xn(a.focusTarget,t)&&!l.outside,b=a.focusedDay&&xn(a.focusedDay,t),P=ye(ye(ye({},x),(r={disabled:l.disabled,role:"gridcell"},r["aria-selected"]=l.selected,r.tabIndex=b||y?0:-1,r)),c),N={isButton:f,isHidden:_,activeModifiers:l,selectedDays:u,buttonProps:P,divProps:x};return N}function DQ(t){var e=p.useRef(null),n=kQ(t.date,t.displayMonth,e);return n.isHidden?g.jsx("div",{role:"gridcell"}):n.isButton?g.jsx(Ih,ye({name:"day",ref:e},n.buttonProps)):g.jsx("div",ye({},n.divProps))}function NQ(t){var e=t.number,n=t.dates,r=et(),i=r.onWeekNumberClick,o=r.styles,s=r.classNames,a=r.locale,l=r.labels.labelWeekNumber,c=r.formatters.formatWeekNumber,u=c(Number(e),{locale:a});if(!i)return g.jsx("span",{className:s.weeknumber,style:o.weeknumber,children:u});var f=l(Number(e),{locale:a}),h=function(m){i(e,n,m)};return g.jsx(Ih,{name:"week-number","aria-label":f,className:s.weeknumber,style:o.weeknumber,onClick:h,children:u})}function MQ(t){var e,n,r=et(),i=r.styles,o=r.classNames,s=r.showWeekNumber,a=r.components,l=(e=a==null?void 0:a.Day)!==null&&e!==void 0?e:DQ,c=(n=a==null?void 0:a.WeekNumber)!==null&&n!==void 0?n:NQ,u;return s&&(u=g.jsx("td",{className:o.cell,style:i.cell,children:g.jsx(c,{number:t.weekNumber,dates:t.dates})})),g.jsxs("tr",{className:o.row,style:i.row,children:[u,t.dates.map(function(f){return g.jsx("td",{className:o.cell,style:i.cell,role:"presentation",children:g.jsx(l,{displayMonth:t.displayMonth,date:f})},Bq(f))})]})}function CC(t,e,n){for(var r=n!=null&&n.ISOWeek?YD(e):y_(e,n),i=n!=null&&n.ISOWeek?xs(t):Ur(t,n),o=Ir(r,i),s=[],a=0;a<=o;a++)s.push(Lt(i,a));var l=s.reduce(function(c,u){var f=n!=null&&n.ISOWeek?$q(u):qq(u,n),h=c.find(function(m){return m.weekNumber===f});return h?(h.dates.push(u),c):(c.push({weekNumber:f,dates:[u]}),c)},[]);return l}function OQ(t,e){var n=CC(Cn(t),v_(t),e);if(e!=null&&e.useFixedWeeks){var r=Gq(t,e);if(r<6){var i=n[n.length-1],o=i.dates[i.dates.length-1],s=Oy(o,6-r),a=CC(Oy(o,1),s,e);n.push.apply(n,a)}}return n}function LQ(t){var e,n,r,i=et(),o=i.locale,s=i.classNames,a=i.styles,l=i.hideHead,c=i.fixedWeeks,u=i.components,f=i.weekStartsOn,h=i.firstWeekContainsDate,m=i.ISOWeek,_=OQ(t.displayMonth,{useFixedWeeks:!!c,ISOWeek:m,locale:o,weekStartsOn:f,firstWeekContainsDate:h}),v=(e=u==null?void 0:u.Head)!==null&&e!==void 0?e:XK,E=(n=u==null?void 0:u.Row)!==null&&n!==void 0?n:MQ,x=(r=u==null?void 0:u.Footer)!==null&&r!==void 0?r:GK;return g.jsxs("table",{id:t.id,className:s.table,style:a.table,role:"grid","aria-labelledby":t["aria-labelledby"],children:[!l&&g.jsx(v,{}),g.jsx("tbody",{className:s.tbody,style:a.tbody,children:_.map(function(y){return g.jsx(E,{displayMonth:t.displayMonth,dates:y.dates,weekNumber:y.weekNumber},y.weekNumber)})}),g.jsx(x,{displayMonth:t.displayMonth})]})}function VQ(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}var jQ=VQ()?p.useLayoutEffect:p.useEffect,Rg=!1,FQ=0;function SC(){return"react-day-picker-".concat(++FQ)}function $Q(t){var e,n=t??(Rg?SC():null),r=p.useState(n),i=r[0],o=r[1];return jQ(function(){i===null&&o(SC())},[]),p.useEffect(function(){Rg===!1&&(Rg=!0)},[]),(e=t??i)!==null&&e!==void 0?e:void 0}function UQ(t){var e,n,r=et(),i=r.dir,o=r.classNames,s=r.styles,a=r.components,l=Uu().displayMonths,c=$Q(r.id?"".concat(r.id,"-").concat(t.displayIndex):void 0),u=r.id?"".concat(r.id,"-grid-").concat(t.displayIndex):void 0,f=[o.month],h=s.month,m=t.displayIndex===0,_=t.displayIndex===l.length-1,v=!m&&!_;i==="rtl"&&(e=[m,_],_=e[0],m=e[1]),m&&(f.push(o.caption_start),h=ye(ye({},h),s.caption_start)),_&&(f.push(o.caption_end),h=ye(ye({},h),s.caption_end)),v&&(f.push(o.caption_between),h=ye(ye({},h),s.caption_between));var E=(n=a==null?void 0:a.Caption)!==null&&n!==void 0?n:YK;return g.jsxs("div",{className:f.join(" "),style:h,children:[g.jsx(E,{id:c,displayMonth:t.displayMonth,displayIndex:t.displayIndex}),g.jsx(LQ,{id:u,"aria-labelledby":c,displayMonth:t.displayMonth})]},t.displayIndex)}function BQ(t){var e=et(),n=e.classNames,r=e.styles;return g.jsx("div",{className:n.months,style:r.months,children:t.children})}function WQ(t){var e,n,r=t.initialProps,i=et(),o=D_(),s=Uu(),a=p.useState(!1),l=a[0],c=a[1];p.useEffect(function(){i.initialFocus&&o.focusTarget&&(l||(o.focus(o.focusTarget),c(!0)))},[i.initialFocus,l,o.focus,o.focusTarget,o]);var u=[i.classNames.root,i.className];i.numberOfMonths>1&&u.push(i.classNames.multiple_months),i.showWeekNumber&&u.push(i.classNames.with_weeknumber);var f=ye(ye({},i.styles.root),i.style),h=Object.keys(r).filter(function(_){return _.startsWith("data-")}).reduce(function(_,v){var E;return ye(ye({},_),(E={},E[v]=r[v],E))},{}),m=(n=(e=r.components)===null||e===void 0?void 0:e.Months)!==null&&n!==void 0?n:BQ;return g.jsx("div",ye({className:u.join(" "),style:f,dir:i.dir,id:i.id,nonce:r.nonce,title:r.title,lang:r.lang},h,{children:g.jsx(m,{children:s.displayMonths.map(function(_,v){return g.jsx(UQ,{displayIndex:v,displayMonth:_},v)})})}))}function zQ(t){var e=t.children,n=pK(t,["children"]);return g.jsx(NK,{initialProps:n,children:g.jsx(WK,{children:g.jsx(TQ,{initialProps:n,children:g.jsx(ZK,{initialProps:n,children:g.jsx(nQ,{initialProps:n,children:g.jsx(uQ,{children:g.jsx(EQ,{children:e})})})})})})})}function HQ(t){return g.jsx(zQ,ye({},t,{children:g.jsx(WQ,{initialProps:t})}))}function kN({className:t,classNames:e,showOutsideDays:n=!0,...r}){return g.jsx(HQ,{showOutsideDays:n,className:ke("p-3",t),classNames:{months:"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0",month:"space-y-4",caption:"flex justify-center pt-1 relative items-center",caption_label:"text-sm font-medium",nav:"space-x-1 flex items-center",nav_button:ke(wy({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-y-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:"h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20",day:ke(wy({variant:"ghost"}),"h-9 w-9 p-0 font-normal aria-selected:opacity-100"),day_selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",day_today:"bg-accent text-accent-foreground",day_outside:"text-muted-foreground opacity-50",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible",...e},components:{IconLeft:({...i})=>g.jsx(eH,{className:"h-4 w-4"}),IconRight:({...i})=>g.jsx(tH,{className:"h-4 w-4"})},...r})}kN.displayName="Calendar";function Wt(t){const e=p.useRef(t);return p.useEffect(()=>{e.current=t}),p.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function qQ(t,e=globalThis==null?void 0:globalThis.document){const n=Wt(t);p.useEffect(()=>{const r=i=>{i.key==="Escape"&&n(i)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var YQ="DismissableLayer",jy="dismissableLayer.update",GQ="dismissableLayer.pointerDownOutside",KQ="dismissableLayer.focusOutside",PC,DN=p.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Mp=p.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:o,onInteractOutside:s,onDismiss:a,...l}=t,c=p.useContext(DN),[u,f]=p.useState(null),h=(u==null?void 0:u.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,m]=p.useState({}),_=lt(e,S=>f(S)),v=Array.from(c.layers),[E]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),x=v.indexOf(E),y=u?v.indexOf(u):-1,b=c.layersWithOutsidePointerEventsDisabled.size>0,P=y>=x,N=XQ(S=>{const C=S.target,I=[...c.branches].some(A=>A.contains(C));!P||I||(i==null||i(S),s==null||s(S),S.defaultPrevented||a==null||a())},h),M=JQ(S=>{const C=S.target;[...c.branches].some(A=>A.contains(C))||(o==null||o(S),s==null||s(S),S.defaultPrevented||a==null||a())},h);return qQ(S=>{y===c.layers.size-1&&(r==null||r(S),!S.defaultPrevented&&a&&(S.preventDefault(),a()))},h),p.useEffect(()=>{if(u)return n&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(PC=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(u)),c.layers.add(u),IC(),()=>{n&&c.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=PC)}},[u,h,n,c]),p.useEffect(()=>()=>{u&&(c.layers.delete(u),c.layersWithOutsidePointerEventsDisabled.delete(u),IC())},[u,c]),p.useEffect(()=>{const S=()=>m({});return document.addEventListener(jy,S),()=>document.removeEventListener(jy,S)},[]),g.jsx(We.div,{...l,ref:_,style:{pointerEvents:b?P?"auto":"none":void 0,...t.style},onFocusCapture:$e(t.onFocusCapture,M.onFocusCapture),onBlurCapture:$e(t.onBlurCapture,M.onBlurCapture),onPointerDownCapture:$e(t.onPointerDownCapture,N.onPointerDownCapture)})});Mp.displayName=YQ;var QQ="DismissableLayerBranch",NN=p.forwardRef((t,e)=>{const n=p.useContext(DN),r=p.useRef(null),i=lt(e,r);return p.useEffect(()=>{const o=r.current;if(o)return n.branches.add(o),()=>{n.branches.delete(o)}},[n.branches]),g.jsx(We.div,{...t,ref:i})});NN.displayName=QQ;function XQ(t,e=globalThis==null?void 0:globalThis.document){const n=Wt(t),r=p.useRef(!1),i=p.useRef(()=>{});return p.useEffect(()=>{const o=a=>{if(a.target&&!r.current){let l=function(){MN(GQ,n,c,{discrete:!0})};const c={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=l,e.addEventListener("click",i.current,{once:!0})):l()}else e.removeEventListener("click",i.current);r.current=!1},s=window.setTimeout(()=>{e.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(s),e.removeEventListener("pointerdown",o),e.removeEventListener("click",i.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function JQ(t,e=globalThis==null?void 0:globalThis.document){const n=Wt(t),r=p.useRef(!1);return p.useEffect(()=>{const i=o=>{o.target&&!r.current&&MN(KQ,n,{originalEvent:o},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function IC(){const t=new CustomEvent(jy);document.dispatchEvent(t)}function MN(t,e,n,{discrete:r}){const i=n.originalEvent.target,o=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&i.addEventListener(t,e,{once:!0}),r?_k(i,o):i.dispatchEvent(o)}var ZQ=Mp,eX=NN,kg=0;function ON(){p.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??AC()),document.body.insertAdjacentElement("beforeend",t[1]??AC()),kg++,()=>{kg===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),kg--}},[])}function AC(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var Dg="focusScope.autoFocusOnMount",Ng="focusScope.autoFocusOnUnmount",RC={bubbles:!1,cancelable:!0},tX="FocusScope",M_=p.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:i,onUnmountAutoFocus:o,...s}=t,[a,l]=p.useState(null),c=Wt(i),u=Wt(o),f=p.useRef(null),h=lt(e,v=>l(v)),m=p.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;p.useEffect(()=>{if(r){let v=function(b){if(m.paused||!a)return;const P=b.target;a.contains(P)?f.current=P:Vi(f.current,{select:!0})},E=function(b){if(m.paused||!a)return;const P=b.relatedTarget;P!==null&&(a.contains(P)||Vi(f.current,{select:!0}))},x=function(b){if(document.activeElement===document.body)for(const N of b)N.removedNodes.length>0&&Vi(a)};document.addEventListener("focusin",v),document.addEventListener("focusout",E);const y=new MutationObserver(x);return a&&y.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",v),document.removeEventListener("focusout",E),y.disconnect()}}},[r,a,m.paused]),p.useEffect(()=>{if(a){DC.add(m);const v=document.activeElement;if(!a.contains(v)){const x=new CustomEvent(Dg,RC);a.addEventListener(Dg,c),a.dispatchEvent(x),x.defaultPrevented||(nX(aX(LN(a)),{select:!0}),document.activeElement===v&&Vi(a))}return()=>{a.removeEventListener(Dg,c),setTimeout(()=>{const x=new CustomEvent(Ng,RC);a.addEventListener(Ng,u),a.dispatchEvent(x),x.defaultPrevented||Vi(v??document.body,{select:!0}),a.removeEventListener(Ng,u),DC.remove(m)},0)}}},[a,c,u,m]);const _=p.useCallback(v=>{if(!n&&!r||m.paused)return;const E=v.key==="Tab"&&!v.altKey&&!v.ctrlKey&&!v.metaKey,x=document.activeElement;if(E&&x){const y=v.currentTarget,[b,P]=rX(y);b&&P?!v.shiftKey&&x===P?(v.preventDefault(),n&&Vi(b,{select:!0})):v.shiftKey&&x===b&&(v.preventDefault(),n&&Vi(P,{select:!0})):x===y&&v.preventDefault()}},[n,r,m.paused]);return g.jsx(We.div,{tabIndex:-1,...s,ref:h,onKeyDown:_})});M_.displayName=tX;function nX(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(Vi(r,{select:e}),document.activeElement!==n)return}function rX(t){const e=LN(t),n=kC(e,t),r=kC(e.reverse(),t);return[n,r]}function LN(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function kC(t,e){for(const n of t)if(!iX(n,{upTo:e}))return n}function iX(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function oX(t){return t instanceof HTMLInputElement&&"select"in t}function Vi(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&oX(t)&&e&&t.select()}}var DC=sX();function sX(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=NC(t,e),t.unshift(e)},remove(e){var n;t=NC(t,e),(n=t[0])==null||n.resume()}}}function NC(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function aX(t){return t.filter(e=>e.tagName!=="A")}var lX=Vh[" useId ".trim().toString()]||(()=>{}),cX=0;function xf(t){const[e,n]=p.useState(lX());return Br(()=>{t||n(r=>r??String(cX++))},[t]),t||(e?`radix-${e}`:"")}const uX=["top","right","bottom","left"],Po=Math.min,kn=Math.max,Ah=Math.round,Fd=Math.floor,Fr=t=>({x:t,y:t}),dX={left:"right",right:"left",bottom:"top",top:"bottom"},fX={start:"end",end:"start"};function Fy(t,e,n){return kn(t,Po(e,n))}function xi(t,e){return typeof t=="function"?t(e):t}function Ei(t){return t.split("-")[0]}function wl(t){return t.split("-")[1]}function O_(t){return t==="x"?"y":"x"}function L_(t){return t==="y"?"height":"width"}function ui(t){return["top","bottom"].includes(Ei(t))?"y":"x"}function V_(t){return O_(ui(t))}function hX(t,e,n){n===void 0&&(n=!1);const r=wl(t),i=V_(t),o=L_(i);let s=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[o]>e.floating[o]&&(s=Rh(s)),[s,Rh(s)]}function pX(t){const e=Rh(t);return[$y(t),e,$y(e)]}function $y(t){return t.replace(/start|end/g,e=>fX[e])}function mX(t,e,n){const r=["left","right"],i=["right","left"],o=["top","bottom"],s=["bottom","top"];switch(t){case"top":case"bottom":return n?e?i:r:e?r:i;case"left":case"right":return e?o:s;default:return[]}}function gX(t,e,n,r){const i=wl(t);let o=mX(Ei(t),n==="start",r);return i&&(o=o.map(s=>s+"-"+i),e&&(o=o.concat(o.map($y)))),o}function Rh(t){return t.replace(/left|right|bottom|top/g,e=>dX[e])}function vX(t){return{top:0,right:0,bottom:0,left:0,...t}}function VN(t){return typeof t!="number"?vX(t):{top:t,right:t,bottom:t,left:t}}function kh(t){const{x:e,y:n,width:r,height:i}=t;return{width:r,height:i,top:n,left:e,right:e+r,bottom:n+i,x:e,y:n}}function MC(t,e,n){let{reference:r,floating:i}=t;const o=ui(e),s=V_(e),a=L_(s),l=Ei(e),c=o==="y",u=r.x+r.width/2-i.width/2,f=r.y+r.height/2-i.height/2,h=r[a]/2-i[a]/2;let m;switch(l){case"top":m={x:u,y:r.y-i.height};break;case"bottom":m={x:u,y:r.y+r.height};break;case"right":m={x:r.x+r.width,y:f};break;case"left":m={x:r.x-i.width,y:f};break;default:m={x:r.x,y:r.y}}switch(wl(e)){case"start":m[s]-=h*(n&&c?-1:1);break;case"end":m[s]+=h*(n&&c?-1:1);break}return m}const yX=async(t,e,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:o=[],platform:s}=n,a=o.filter(Boolean),l=await(s.isRTL==null?void 0:s.isRTL(e));let c=await s.getElementRects({reference:t,floating:e,strategy:i}),{x:u,y:f}=MC(c,r,l),h=r,m={},_=0;for(let v=0;v<a.length;v++){const{name:E,fn:x}=a[v],{x:y,y:b,data:P,reset:N}=await x({x:u,y:f,initialPlacement:r,placement:h,strategy:i,middlewareData:m,rects:c,platform:s,elements:{reference:t,floating:e}});u=y??u,f=b??f,m={...m,[E]:{...m[E],...P}},N&&_<=50&&(_++,typeof N=="object"&&(N.placement&&(h=N.placement),N.rects&&(c=N.rects===!0?await s.getElementRects({reference:t,floating:e,strategy:i}):N.rects),{x:u,y:f}=MC(c,h,l)),v=-1)}return{x:u,y:f,placement:h,strategy:i,middlewareData:m}};async function hu(t,e){var n;e===void 0&&(e={});const{x:r,y:i,platform:o,rects:s,elements:a,strategy:l}=t,{boundary:c="clippingAncestors",rootBoundary:u="viewport",elementContext:f="floating",altBoundary:h=!1,padding:m=0}=xi(e,t),_=VN(m),E=a[h?f==="floating"?"reference":"floating":f],x=kh(await o.getClippingRect({element:(n=await(o.isElement==null?void 0:o.isElement(E)))==null||n?E:E.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(a.floating)),boundary:c,rootBoundary:u,strategy:l})),y=f==="floating"?{x:r,y:i,width:s.floating.width,height:s.floating.height}:s.reference,b=await(o.getOffsetParent==null?void 0:o.getOffsetParent(a.floating)),P=await(o.isElement==null?void 0:o.isElement(b))?await(o.getScale==null?void 0:o.getScale(b))||{x:1,y:1}:{x:1,y:1},N=kh(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:y,offsetParent:b,strategy:l}):y);return{top:(x.top-N.top+_.top)/P.y,bottom:(N.bottom-x.bottom+_.bottom)/P.y,left:(x.left-N.left+_.left)/P.x,right:(N.right-x.right+_.right)/P.x}}const wX=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:i,rects:o,platform:s,elements:a,middlewareData:l}=e,{element:c,padding:u=0}=xi(t,e)||{};if(c==null)return{};const f=VN(u),h={x:n,y:r},m=V_(i),_=L_(m),v=await s.getDimensions(c),E=m==="y",x=E?"top":"left",y=E?"bottom":"right",b=E?"clientHeight":"clientWidth",P=o.reference[_]+o.reference[m]-h[m]-o.floating[_],N=h[m]-o.reference[m],M=await(s.getOffsetParent==null?void 0:s.getOffsetParent(c));let S=M?M[b]:0;(!S||!await(s.isElement==null?void 0:s.isElement(M)))&&(S=a.floating[b]||o.floating[_]);const C=P/2-N/2,I=S/2-v[_]/2-1,A=Po(f[x],I),O=Po(f[y],I),D=A,k=S-v[_]-O,B=S/2-v[_]/2+C,q=Fy(D,B,k),K=!l.arrow&&wl(i)!=null&&B!==q&&o.reference[_]/2-(B<D?A:O)-v[_]/2<0,j=K?B<D?B-D:B-k:0;return{[m]:h[m]+j,data:{[m]:q,centerOffset:B-q-j,...K&&{alignmentOffset:j}},reset:K}}}),_X=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:i,middlewareData:o,rects:s,initialPlacement:a,platform:l,elements:c}=e,{mainAxis:u=!0,crossAxis:f=!0,fallbackPlacements:h,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:_="none",flipAlignment:v=!0,...E}=xi(t,e);if((n=o.arrow)!=null&&n.alignmentOffset)return{};const x=Ei(i),y=ui(a),b=Ei(a)===a,P=await(l.isRTL==null?void 0:l.isRTL(c.floating)),N=h||(b||!v?[Rh(a)]:pX(a)),M=_!=="none";!h&&M&&N.push(...gX(a,v,_,P));const S=[a,...N],C=await hu(e,E),I=[];let A=((r=o.flip)==null?void 0:r.overflows)||[];if(u&&I.push(C[x]),f){const q=hX(i,s,P);I.push(C[q[0]],C[q[1]])}if(A=[...A,{placement:i,overflows:I}],!I.every(q=>q<=0)){var O,D;const q=(((O=o.flip)==null?void 0:O.index)||0)+1,K=S[q];if(K){var k;const L=f==="alignment"?y!==ui(K):!1,V=((k=A[0])==null?void 0:k.overflows[0])>0;if(!L||V)return{data:{index:q,overflows:A},reset:{placement:K}}}let j=(D=A.filter(L=>L.overflows[0]<=0).sort((L,V)=>L.overflows[1]-V.overflows[1])[0])==null?void 0:D.placement;if(!j)switch(m){case"bestFit":{var B;const L=(B=A.filter(V=>{if(M){const $=ui(V.placement);return $===y||$==="y"}return!0}).map(V=>[V.placement,V.overflows.filter($=>$>0).reduce(($,W)=>$+W,0)]).sort((V,$)=>V[1]-$[1])[0])==null?void 0:B[0];L&&(j=L);break}case"initialPlacement":j=a;break}if(i!==j)return{reset:{placement:j}}}return{}}}};function OC(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function LC(t){return uX.some(e=>t[e]>=0)}const xX=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...i}=xi(t,e);switch(r){case"referenceHidden":{const o=await hu(e,{...i,elementContext:"reference"}),s=OC(o,n.reference);return{data:{referenceHiddenOffsets:s,referenceHidden:LC(s)}}}case"escaped":{const o=await hu(e,{...i,altBoundary:!0}),s=OC(o,n.floating);return{data:{escapedOffsets:s,escaped:LC(s)}}}default:return{}}}}};async function EX(t,e){const{placement:n,platform:r,elements:i}=t,o=await(r.isRTL==null?void 0:r.isRTL(i.floating)),s=Ei(n),a=wl(n),l=ui(n)==="y",c=["left","top"].includes(s)?-1:1,u=o&&l?-1:1,f=xi(e,t);let{mainAxis:h,crossAxis:m,alignmentAxis:_}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return a&&typeof _=="number"&&(m=a==="end"?_*-1:_),l?{x:m*u,y:h*c}:{x:h*c,y:m*u}}const bX=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:i,y:o,placement:s,middlewareData:a}=e,l=await EX(e,t);return s===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:i+l.x,y:o+l.y,data:{...l,placement:s}}}}},TX=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:i}=e,{mainAxis:o=!0,crossAxis:s=!1,limiter:a={fn:E=>{let{x,y}=E;return{x,y}}},...l}=xi(t,e),c={x:n,y:r},u=await hu(e,l),f=ui(Ei(i)),h=O_(f);let m=c[h],_=c[f];if(o){const E=h==="y"?"top":"left",x=h==="y"?"bottom":"right",y=m+u[E],b=m-u[x];m=Fy(y,m,b)}if(s){const E=f==="y"?"top":"left",x=f==="y"?"bottom":"right",y=_+u[E],b=_-u[x];_=Fy(y,_,b)}const v=a.fn({...e,[h]:m,[f]:_});return{...v,data:{x:v.x-n,y:v.y-r,enabled:{[h]:o,[f]:s}}}}}},CX=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:i,rects:o,middlewareData:s}=e,{offset:a=0,mainAxis:l=!0,crossAxis:c=!0}=xi(t,e),u={x:n,y:r},f=ui(i),h=O_(f);let m=u[h],_=u[f];const v=xi(a,e),E=typeof v=="number"?{mainAxis:v,crossAxis:0}:{mainAxis:0,crossAxis:0,...v};if(l){const b=h==="y"?"height":"width",P=o.reference[h]-o.floating[b]+E.mainAxis,N=o.reference[h]+o.reference[b]-E.mainAxis;m<P?m=P:m>N&&(m=N)}if(c){var x,y;const b=h==="y"?"width":"height",P=["top","left"].includes(Ei(i)),N=o.reference[f]-o.floating[b]+(P&&((x=s.offset)==null?void 0:x[f])||0)+(P?0:E.crossAxis),M=o.reference[f]+o.reference[b]+(P?0:((y=s.offset)==null?void 0:y[f])||0)-(P?E.crossAxis:0);_<N?_=N:_>M&&(_=M)}return{[h]:m,[f]:_}}}},SX=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:i,rects:o,platform:s,elements:a}=e,{apply:l=()=>{},...c}=xi(t,e),u=await hu(e,c),f=Ei(i),h=wl(i),m=ui(i)==="y",{width:_,height:v}=o.floating;let E,x;f==="top"||f==="bottom"?(E=f,x=h===(await(s.isRTL==null?void 0:s.isRTL(a.floating))?"start":"end")?"left":"right"):(x=f,E=h==="end"?"top":"bottom");const y=v-u.top-u.bottom,b=_-u.left-u.right,P=Po(v-u[E],y),N=Po(_-u[x],b),M=!e.middlewareData.shift;let S=P,C=N;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(C=b),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(S=y),M&&!h){const A=kn(u.left,0),O=kn(u.right,0),D=kn(u.top,0),k=kn(u.bottom,0);m?C=_-2*(A!==0||O!==0?A+O:kn(u.left,u.right)):S=v-2*(D!==0||k!==0?D+k:kn(u.top,u.bottom))}await l({...e,availableWidth:C,availableHeight:S});const I=await s.getDimensions(a.floating);return _!==I.width||v!==I.height?{reset:{rects:!0}}:{}}}};function Op(){return typeof window<"u"}function _l(t){return jN(t)?(t.nodeName||"").toLowerCase():"#document"}function On(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Hr(t){var e;return(e=(jN(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function jN(t){return Op()?t instanceof Node||t instanceof On(t).Node:!1}function gr(t){return Op()?t instanceof Element||t instanceof On(t).Element:!1}function Wr(t){return Op()?t instanceof HTMLElement||t instanceof On(t).HTMLElement:!1}function VC(t){return!Op()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof On(t).ShadowRoot}function Bu(t){const{overflow:e,overflowX:n,overflowY:r,display:i}=vr(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!["inline","contents"].includes(i)}function PX(t){return["table","td","th"].includes(_l(t))}function Lp(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function j_(t){const e=F_(),n=gr(t)?vr(t):t;return["transform","translate","scale","rotate","perspective"].some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function IX(t){let e=Io(t);for(;Wr(e)&&!Xa(e);){if(j_(e))return e;if(Lp(e))return null;e=Io(e)}return null}function F_(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Xa(t){return["html","body","#document"].includes(_l(t))}function vr(t){return On(t).getComputedStyle(t)}function Vp(t){return gr(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Io(t){if(_l(t)==="html")return t;const e=t.assignedSlot||t.parentNode||VC(t)&&t.host||Hr(t);return VC(e)?e.host:e}function FN(t){const e=Io(t);return Xa(e)?t.ownerDocument?t.ownerDocument.body:t.body:Wr(e)&&Bu(e)?e:FN(e)}function pu(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const i=FN(t),o=i===((r=t.ownerDocument)==null?void 0:r.body),s=On(i);if(o){const a=Uy(s);return e.concat(s,s.visualViewport||[],Bu(i)?i:[],a&&n?pu(a):[])}return e.concat(i,pu(i,[],n))}function Uy(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function $N(t){const e=vr(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=Wr(t),o=i?t.offsetWidth:n,s=i?t.offsetHeight:r,a=Ah(n)!==o||Ah(r)!==s;return a&&(n=o,r=s),{width:n,height:r,$:a}}function $_(t){return gr(t)?t:t.contextElement}function Aa(t){const e=$_(t);if(!Wr(e))return Fr(1);const n=e.getBoundingClientRect(),{width:r,height:i,$:o}=$N(e);let s=(o?Ah(n.width):n.width)/r,a=(o?Ah(n.height):n.height)/i;return(!s||!Number.isFinite(s))&&(s=1),(!a||!Number.isFinite(a))&&(a=1),{x:s,y:a}}const AX=Fr(0);function UN(t){const e=On(t);return!F_()||!e.visualViewport?AX:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function RX(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==On(t)?!1:e}function bs(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const i=t.getBoundingClientRect(),o=$_(t);let s=Fr(1);e&&(r?gr(r)&&(s=Aa(r)):s=Aa(t));const a=RX(o,n,r)?UN(o):Fr(0);let l=(i.left+a.x)/s.x,c=(i.top+a.y)/s.y,u=i.width/s.x,f=i.height/s.y;if(o){const h=On(o),m=r&&gr(r)?On(r):r;let _=h,v=Uy(_);for(;v&&r&&m!==_;){const E=Aa(v),x=v.getBoundingClientRect(),y=vr(v),b=x.left+(v.clientLeft+parseFloat(y.paddingLeft))*E.x,P=x.top+(v.clientTop+parseFloat(y.paddingTop))*E.y;l*=E.x,c*=E.y,u*=E.x,f*=E.y,l+=b,c+=P,_=On(v),v=Uy(_)}}return kh({width:u,height:f,x:l,y:c})}function U_(t,e){const n=Vp(t).scrollLeft;return e?e.left+n:bs(Hr(t)).left+n}function BN(t,e,n){n===void 0&&(n=!1);const r=t.getBoundingClientRect(),i=r.left+e.scrollLeft-(n?0:U_(t,r)),o=r.top+e.scrollTop;return{x:i,y:o}}function kX(t){let{elements:e,rect:n,offsetParent:r,strategy:i}=t;const o=i==="fixed",s=Hr(r),a=e?Lp(e.floating):!1;if(r===s||a&&o)return n;let l={scrollLeft:0,scrollTop:0},c=Fr(1);const u=Fr(0),f=Wr(r);if((f||!f&&!o)&&((_l(r)!=="body"||Bu(s))&&(l=Vp(r)),Wr(r))){const m=bs(r);c=Aa(r),u.x=m.x+r.clientLeft,u.y=m.y+r.clientTop}const h=s&&!f&&!o?BN(s,l,!0):Fr(0);return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-l.scrollLeft*c.x+u.x+h.x,y:n.y*c.y-l.scrollTop*c.y+u.y+h.y}}function DX(t){return Array.from(t.getClientRects())}function NX(t){const e=Hr(t),n=Vp(t),r=t.ownerDocument.body,i=kn(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),o=kn(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let s=-n.scrollLeft+U_(t);const a=-n.scrollTop;return vr(r).direction==="rtl"&&(s+=kn(e.clientWidth,r.clientWidth)-i),{width:i,height:o,x:s,y:a}}function MX(t,e){const n=On(t),r=Hr(t),i=n.visualViewport;let o=r.clientWidth,s=r.clientHeight,a=0,l=0;if(i){o=i.width,s=i.height;const c=F_();(!c||c&&e==="fixed")&&(a=i.offsetLeft,l=i.offsetTop)}return{width:o,height:s,x:a,y:l}}function OX(t,e){const n=bs(t,!0,e==="fixed"),r=n.top+t.clientTop,i=n.left+t.clientLeft,o=Wr(t)?Aa(t):Fr(1),s=t.clientWidth*o.x,a=t.clientHeight*o.y,l=i*o.x,c=r*o.y;return{width:s,height:a,x:l,y:c}}function jC(t,e,n){let r;if(e==="viewport")r=MX(t,n);else if(e==="document")r=NX(Hr(t));else if(gr(e))r=OX(e,n);else{const i=UN(t);r={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return kh(r)}function WN(t,e){const n=Io(t);return n===e||!gr(n)||Xa(n)?!1:vr(n).position==="fixed"||WN(n,e)}function LX(t,e){const n=e.get(t);if(n)return n;let r=pu(t,[],!1).filter(a=>gr(a)&&_l(a)!=="body"),i=null;const o=vr(t).position==="fixed";let s=o?Io(t):t;for(;gr(s)&&!Xa(s);){const a=vr(s),l=j_(s);!l&&a.position==="fixed"&&(i=null),(o?!l&&!i:!l&&a.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||Bu(s)&&!l&&WN(t,s))?r=r.filter(u=>u!==s):i=a,s=Io(s)}return e.set(t,r),r}function VX(t){let{element:e,boundary:n,rootBoundary:r,strategy:i}=t;const s=[...n==="clippingAncestors"?Lp(e)?[]:LX(e,this._c):[].concat(n),r],a=s[0],l=s.reduce((c,u)=>{const f=jC(e,u,i);return c.top=kn(f.top,c.top),c.right=Po(f.right,c.right),c.bottom=Po(f.bottom,c.bottom),c.left=kn(f.left,c.left),c},jC(e,a,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function jX(t){const{width:e,height:n}=$N(t);return{width:e,height:n}}function FX(t,e,n){const r=Wr(e),i=Hr(e),o=n==="fixed",s=bs(t,!0,o,e);let a={scrollLeft:0,scrollTop:0};const l=Fr(0);function c(){l.x=U_(i)}if(r||!r&&!o)if((_l(e)!=="body"||Bu(i))&&(a=Vp(e)),r){const m=bs(e,!0,o,e);l.x=m.x+e.clientLeft,l.y=m.y+e.clientTop}else i&&c();o&&!r&&i&&c();const u=i&&!r&&!o?BN(i,a):Fr(0),f=s.left+a.scrollLeft-l.x-u.x,h=s.top+a.scrollTop-l.y-u.y;return{x:f,y:h,width:s.width,height:s.height}}function Mg(t){return vr(t).position==="static"}function FC(t,e){if(!Wr(t)||vr(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return Hr(t)===n&&(n=n.ownerDocument.body),n}function zN(t,e){const n=On(t);if(Lp(t))return n;if(!Wr(t)){let i=Io(t);for(;i&&!Xa(i);){if(gr(i)&&!Mg(i))return i;i=Io(i)}return n}let r=FC(t,e);for(;r&&PX(r)&&Mg(r);)r=FC(r,e);return r&&Xa(r)&&Mg(r)&&!j_(r)?n:r||IX(t)||n}const $X=async function(t){const e=this.getOffsetParent||zN,n=this.getDimensions,r=await n(t.floating);return{reference:FX(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function UX(t){return vr(t).direction==="rtl"}const BX={convertOffsetParentRelativeRectToViewportRelativeRect:kX,getDocumentElement:Hr,getClippingRect:VX,getOffsetParent:zN,getElementRects:$X,getClientRects:DX,getDimensions:jX,getScale:Aa,isElement:gr,isRTL:UX};function HN(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function WX(t,e){let n=null,r;const i=Hr(t);function o(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function s(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),o();const c=t.getBoundingClientRect(),{left:u,top:f,width:h,height:m}=c;if(a||e(),!h||!m)return;const _=Fd(f),v=Fd(i.clientWidth-(u+h)),E=Fd(i.clientHeight-(f+m)),x=Fd(u),b={rootMargin:-_+"px "+-v+"px "+-E+"px "+-x+"px",threshold:kn(0,Po(1,l))||1};let P=!0;function N(M){const S=M[0].intersectionRatio;if(S!==l){if(!P)return s();S?s(!1,S):r=setTimeout(()=>{s(!1,1e-7)},1e3)}S===1&&!HN(c,t.getBoundingClientRect())&&s(),P=!1}try{n=new IntersectionObserver(N,{...b,root:i.ownerDocument})}catch{n=new IntersectionObserver(N,b)}n.observe(t)}return s(!0),o}function qN(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:o=!0,elementResize:s=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,c=$_(t),u=i||o?[...c?pu(c):[],...pu(e)]:[];u.forEach(x=>{i&&x.addEventListener("scroll",n,{passive:!0}),o&&x.addEventListener("resize",n)});const f=c&&a?WX(c,n):null;let h=-1,m=null;s&&(m=new ResizeObserver(x=>{let[y]=x;y&&y.target===c&&m&&(m.unobserve(e),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var b;(b=m)==null||b.observe(e)})),n()}),c&&!l&&m.observe(c),m.observe(e));let _,v=l?bs(t):null;l&&E();function E(){const x=bs(t);v&&!HN(v,x)&&n(),v=x,_=requestAnimationFrame(E)}return n(),()=>{var x;u.forEach(y=>{i&&y.removeEventListener("scroll",n),o&&y.removeEventListener("resize",n)}),f==null||f(),(x=m)==null||x.disconnect(),m=null,l&&cancelAnimationFrame(_)}}const zX=bX,HX=TX,qX=_X,YX=SX,GX=xX,$C=wX,KX=CX,QX=(t,e,n)=>{const r=new Map,i={platform:BX,...n},o={...i.platform,_c:r};return yX(t,e,{...i,platform:o})};var Ef=typeof document<"u"?p.useLayoutEffect:p.useEffect;function Dh(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,i;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!Dh(t[r],e[r]))return!1;return!0}if(i=Object.keys(t),n=i.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,i[r]))return!1;for(r=n;r--!==0;){const o=i[r];if(!(o==="_owner"&&t.$$typeof)&&!Dh(t[o],e[o]))return!1}return!0}return t!==t&&e!==e}function YN(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function UC(t,e){const n=YN(t);return Math.round(e*n)/n}function Og(t){const e=p.useRef(t);return Ef(()=>{e.current=t}),e}function GN(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:o,floating:s}={},transform:a=!0,whileElementsMounted:l,open:c}=t,[u,f]=p.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[h,m]=p.useState(r);Dh(h,r)||m(r);const[_,v]=p.useState(null),[E,x]=p.useState(null),y=p.useCallback(L=>{L!==M.current&&(M.current=L,v(L))},[]),b=p.useCallback(L=>{L!==S.current&&(S.current=L,x(L))},[]),P=o||_,N=s||E,M=p.useRef(null),S=p.useRef(null),C=p.useRef(u),I=l!=null,A=Og(l),O=Og(i),D=Og(c),k=p.useCallback(()=>{if(!M.current||!S.current)return;const L={placement:e,strategy:n,middleware:h};O.current&&(L.platform=O.current),QX(M.current,S.current,L).then(V=>{const $={...V,isPositioned:D.current!==!1};B.current&&!Dh(C.current,$)&&(C.current=$,Do.flushSync(()=>{f($)}))})},[h,e,n,O,D]);Ef(()=>{c===!1&&C.current.isPositioned&&(C.current.isPositioned=!1,f(L=>({...L,isPositioned:!1})))},[c]);const B=p.useRef(!1);Ef(()=>(B.current=!0,()=>{B.current=!1}),[]),Ef(()=>{if(P&&(M.current=P),N&&(S.current=N),P&&N){if(A.current)return A.current(P,N,k);k()}},[P,N,k,A,I]);const q=p.useMemo(()=>({reference:M,floating:S,setReference:y,setFloating:b}),[y,b]),K=p.useMemo(()=>({reference:P,floating:N}),[P,N]),j=p.useMemo(()=>{const L={position:n,left:0,top:0};if(!K.floating)return L;const V=UC(K.floating,u.x),$=UC(K.floating,u.y);return a?{...L,transform:"translate("+V+"px, "+$+"px)",...YN(K.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:V,top:$}},[n,a,K.floating,u.x,u.y]);return p.useMemo(()=>({...u,update:k,refs:q,elements:K,floatingStyles:j}),[u,k,q,K,j])}const XX=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:i}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?$C({element:r.current,padding:i}).fn(n):{}:r?$C({element:r,padding:i}).fn(n):{}}}},KN=(t,e)=>({...zX(t),options:[t,e]}),QN=(t,e)=>({...HX(t),options:[t,e]}),XN=(t,e)=>({...KX(t),options:[t,e]}),JN=(t,e)=>({...qX(t),options:[t,e]}),ZN=(t,e)=>({...YX(t),options:[t,e]}),e2=(t,e)=>({...GX(t),options:[t,e]}),t2=(t,e)=>({...XX(t),options:[t,e]});var JX="Arrow",n2=p.forwardRef((t,e)=>{const{children:n,width:r=10,height:i=5,...o}=t;return g.jsx(We.svg,{...o,ref:e,width:r,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:g.jsx("polygon",{points:"0,0 30,0 15,10"})})});n2.displayName=JX;var ZX=n2,B_="Popper",[r2,i2]=Ms(B_),[eJ,o2]=r2(B_),s2=t=>{const{__scopePopper:e,children:n}=t,[r,i]=p.useState(null);return g.jsx(eJ,{scope:e,anchor:r,onAnchorChange:i,children:n})};s2.displayName=B_;var a2="PopperAnchor",l2=p.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...i}=t,o=o2(a2,n),s=p.useRef(null),a=lt(e,s);return p.useEffect(()=>{o.onAnchorChange((r==null?void 0:r.current)||s.current)}),r?null:g.jsx(We.div,{...i,ref:a})});l2.displayName=a2;var W_="PopperContent",[tJ,nJ]=r2(W_),c2=p.forwardRef((t,e)=>{var J,ue,te,de,he,Te;const{__scopePopper:n,side:r="bottom",sideOffset:i=0,align:o="center",alignOffset:s=0,arrowPadding:a=0,avoidCollisions:l=!0,collisionBoundary:c=[],collisionPadding:u=0,sticky:f="partial",hideWhenDetached:h=!1,updatePositionStrategy:m="optimized",onPlaced:_,...v}=t,E=o2(W_,n),[x,y]=p.useState(null),b=lt(e,Ke=>y(Ke)),[P,N]=p.useState(null),M=fN(P),S=(M==null?void 0:M.width)??0,C=(M==null?void 0:M.height)??0,I=r+(o!=="center"?"-"+o:""),A=typeof u=="number"?u:{top:0,right:0,bottom:0,left:0,...u},O=Array.isArray(c)?c:[c],D=O.length>0,k={padding:A,boundary:O.filter(iJ),altBoundary:D},{refs:B,floatingStyles:q,placement:K,isPositioned:j,middlewareData:L}=GN({strategy:"fixed",placement:I,whileElementsMounted:(...Ke)=>qN(...Ke,{animationFrame:m==="always"}),elements:{reference:E.anchor},middleware:[KN({mainAxis:i+C,alignmentAxis:s}),l&&QN({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?XN():void 0,...k}),l&&JN({...k}),ZN({...k,apply:({elements:Ke,rects:st,availableWidth:Nt,availableHeight:Zn})=>{const{width:wr,height:El}=st.reference,Yr=Ke.floating.style;Yr.setProperty("--radix-popper-available-width",`${Nt}px`),Yr.setProperty("--radix-popper-available-height",`${Zn}px`),Yr.setProperty("--radix-popper-anchor-width",`${wr}px`),Yr.setProperty("--radix-popper-anchor-height",`${El}px`)}}),P&&t2({element:P,padding:a}),oJ({arrowWidth:S,arrowHeight:C}),h&&e2({strategy:"referenceHidden",...k})]}),[V,$]=f2(K),W=Wt(_);Br(()=>{j&&(W==null||W())},[j,W]);const Y=(J=L.arrow)==null?void 0:J.x,G=(ue=L.arrow)==null?void 0:ue.y,oe=((te=L.arrow)==null?void 0:te.centerOffset)!==0,[fe,Ee]=p.useState();return Br(()=>{x&&Ee(window.getComputedStyle(x).zIndex)},[x]),g.jsx("div",{ref:B.setFloating,"data-radix-popper-content-wrapper":"",style:{...q,transform:j?q.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:fe,"--radix-popper-transform-origin":[(de=L.transformOrigin)==null?void 0:de.x,(he=L.transformOrigin)==null?void 0:he.y].join(" "),...((Te=L.hide)==null?void 0:Te.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:g.jsx(tJ,{scope:n,placedSide:V,onArrowChange:N,arrowX:Y,arrowY:G,shouldHideArrow:oe,children:g.jsx(We.div,{"data-side":V,"data-align":$,...v,ref:b,style:{...v.style,animation:j?void 0:"none"}})})})});c2.displayName=W_;var u2="PopperArrow",rJ={top:"bottom",right:"left",bottom:"top",left:"right"},d2=p.forwardRef(function(e,n){const{__scopePopper:r,...i}=e,o=nJ(u2,r),s=rJ[o.placedSide];return g.jsx("span",{ref:o.onArrowChange,style:{position:"absolute",left:o.arrowX,top:o.arrowY,[s]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[o.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[o.placedSide],visibility:o.shouldHideArrow?"hidden":void 0},children:g.jsx(ZX,{...i,ref:n,style:{...i.style,display:"block"}})})});d2.displayName=u2;function iJ(t){return t!==null}var oJ=t=>({name:"transformOrigin",options:t,fn(e){var E,x,y;const{placement:n,rects:r,middlewareData:i}=e,s=((E=i.arrow)==null?void 0:E.centerOffset)!==0,a=s?0:t.arrowWidth,l=s?0:t.arrowHeight,[c,u]=f2(n),f={start:"0%",center:"50%",end:"100%"}[u],h=(((x=i.arrow)==null?void 0:x.x)??0)+a/2,m=(((y=i.arrow)==null?void 0:y.y)??0)+l/2;let _="",v="";return c==="bottom"?(_=s?f:`${h}px`,v=`${-l}px`):c==="top"?(_=s?f:`${h}px`,v=`${r.floating.height+l}px`):c==="right"?(_=`${-l}px`,v=s?f:`${m}px`):c==="left"&&(_=`${r.floating.width+l}px`,v=s?f:`${m}px`),{data:{x:_,y:v}}}});function f2(t){const[e,n="center"]=t.split("-");return[e,n]}var sJ=s2,h2=l2,aJ=c2,lJ=d2,cJ="Portal",jp=p.forwardRef((t,e)=>{var a;const{container:n,...r}=t,[i,o]=p.useState(!1);Br(()=>o(!0),[]);const s=n||i&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return s?II.createPortal(g.jsx(We.div,{...r,ref:e}),s):null});jp.displayName=cJ;var uJ=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},Bs=new WeakMap,$d=new WeakMap,Ud={},Lg=0,p2=function(t){return t&&(t.host||p2(t.parentNode))},dJ=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=p2(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},fJ=function(t,e,n,r){var i=dJ(e,Array.isArray(t)?t:[t]);Ud[n]||(Ud[n]=new WeakMap);var o=Ud[n],s=[],a=new Set,l=new Set(i),c=function(f){!f||a.has(f)||(a.add(f),c(f.parentNode))};i.forEach(c);var u=function(f){!f||l.has(f)||Array.prototype.forEach.call(f.children,function(h){if(a.has(h))u(h);else try{var m=h.getAttribute(r),_=m!==null&&m!=="false",v=(Bs.get(h)||0)+1,E=(o.get(h)||0)+1;Bs.set(h,v),o.set(h,E),s.push(h),v===1&&_&&$d.set(h,!0),E===1&&h.setAttribute(n,"true"),_||h.setAttribute(r,"true")}catch(x){console.error("aria-hidden: cannot operate on ",h,x)}})};return u(e),a.clear(),Lg++,function(){s.forEach(function(f){var h=Bs.get(f)-1,m=o.get(f)-1;Bs.set(f,h),o.set(f,m),h||($d.has(f)||f.removeAttribute(r),$d.delete(f)),m||f.removeAttribute(n)}),Lg--,Lg||(Bs=new WeakMap,Bs=new WeakMap,$d=new WeakMap,Ud={})}},z_=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),i=e||uJ(t);return i?(r.push.apply(r,Array.from(i.querySelectorAll("[aria-live], script"))),fJ(r,i,n,"aria-hidden")):function(){return null}},rn=function(){return rn=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},rn.apply(this,arguments)};function H_(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function m2(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,o;r<i;r++)(o||!(r in e))&&(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return t.concat(o||Array.prototype.slice.call(e))}var Pc="right-scroll-bar-position",Ic="width-before-scroll-bar",hJ="with-scroll-bars-hidden",pJ="--removed-body-scroll-bar-size";function Vg(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function mJ(t,e){var n=p.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var i=n.value;i!==r&&(n.value=r,n.callback(r,i))}}}})[0];return n.callback=e,n.facade}var gJ=typeof window<"u"?p.useLayoutEffect:p.useEffect,BC=new WeakMap;function g2(t,e){var n=mJ(e||null,function(r){return t.forEach(function(i){return Vg(i,r)})});return gJ(function(){var r=BC.get(n);if(r){var i=new Set(r),o=new Set(t),s=n.current;i.forEach(function(a){o.has(a)||Vg(a,null)}),o.forEach(function(a){i.has(a)||Vg(a,s)})}BC.set(n,t)},[t]),n}function vJ(t){return t}function yJ(t,e){e===void 0&&(e=vJ);var n=[],r=!1,i={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(o){var s=e(o,r);return n.push(s),function(){n=n.filter(function(a){return a!==s})}},assignSyncMedium:function(o){for(r=!0;n.length;){var s=n;n=[],s.forEach(o)}n={push:function(a){return o(a)},filter:function(){return n}}},assignMedium:function(o){r=!0;var s=[];if(n.length){var a=n;n=[],a.forEach(o),s=n}var l=function(){var u=s;s=[],u.forEach(o)},c=function(){return Promise.resolve().then(l)};c(),n={push:function(u){s.push(u),c()},filter:function(u){return s=s.filter(u),n}}}};return i}function v2(t){t===void 0&&(t={});var e=yJ(null);return e.options=rn({async:!0,ssr:!1},t),e}var y2=function(t){var e=t.sideCar,n=H_(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return p.createElement(r,rn({},n))};y2.isSideCarExport=!0;function w2(t,e){return t.useMedium(e),y2}var _2=v2(),jg=function(){},Fp=p.forwardRef(function(t,e){var n=p.useRef(null),r=p.useState({onScrollCapture:jg,onWheelCapture:jg,onTouchMoveCapture:jg}),i=r[0],o=r[1],s=t.forwardProps,a=t.children,l=t.className,c=t.removeScrollBar,u=t.enabled,f=t.shards,h=t.sideCar,m=t.noRelative,_=t.noIsolation,v=t.inert,E=t.allowPinchZoom,x=t.as,y=x===void 0?"div":x,b=t.gapMode,P=H_(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),N=h,M=g2([n,e]),S=rn(rn({},P),i);return p.createElement(p.Fragment,null,u&&p.createElement(N,{sideCar:_2,removeScrollBar:c,shards:f,noRelative:m,noIsolation:_,inert:v,setCallbacks:o,allowPinchZoom:!!E,lockRef:n,gapMode:b}),s?p.cloneElement(p.Children.only(a),rn(rn({},S),{ref:M})):p.createElement(y,rn({},S,{className:l,ref:M}),a))});Fp.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Fp.classNames={fullWidth:Ic,zeroRight:Pc};var WC,wJ=function(){if(WC)return WC;if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function _J(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=wJ();return e&&t.setAttribute("nonce",e),t}function xJ(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function EJ(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var bJ=function(){var t=0,e=null;return{add:function(n){t==0&&(e=_J())&&(xJ(e,n),EJ(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},TJ=function(){var t=bJ();return function(e,n){p.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},q_=function(){var t=TJ(),e=function(n){var r=n.styles,i=n.dynamic;return t(r,i),null};return e},CJ={left:0,top:0,right:0,gap:0},Fg=function(t){return parseInt(t||"",10)||0},SJ=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],i=e[t==="padding"?"paddingRight":"marginRight"];return[Fg(n),Fg(r),Fg(i)]},PJ=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return CJ;var e=SJ(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},IJ=q_(),Ra="data-scroll-locked",AJ=function(t,e,n,r){var i=t.left,o=t.top,s=t.right,a=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(hJ,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(a,"px ").concat(r,`;
  }
  body[`).concat(Ra,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(o,`px;
    padding-right: `).concat(s,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(a,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Pc,` {
    right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(Ic,` {
    margin-right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(Pc," .").concat(Pc,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Ic," .").concat(Ic,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Ra,`] {
    `).concat(pJ,": ").concat(a,`px;
  }
`)},zC=function(){var t=parseInt(document.body.getAttribute(Ra)||"0",10);return isFinite(t)?t:0},RJ=function(){p.useEffect(function(){return document.body.setAttribute(Ra,(zC()+1).toString()),function(){var t=zC()-1;t<=0?document.body.removeAttribute(Ra):document.body.setAttribute(Ra,t.toString())}},[])},x2=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,i=r===void 0?"margin":r;RJ();var o=p.useMemo(function(){return PJ(i)},[i]);return p.createElement(IJ,{styles:AJ(o,!e,i,n?"":"!important")})},By=!1;if(typeof window<"u")try{var Bd=Object.defineProperty({},"passive",{get:function(){return By=!0,!0}});window.addEventListener("test",Bd,Bd),window.removeEventListener("test",Bd,Bd)}catch{By=!1}var Ws=By?{passive:!1}:!1,kJ=function(t){return t.tagName==="TEXTAREA"},E2=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!kJ(t)&&n[e]==="visible")},DJ=function(t){return E2(t,"overflowY")},NJ=function(t){return E2(t,"overflowX")},HC=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var i=b2(t,r);if(i){var o=T2(t,r),s=o[1],a=o[2];if(s>a)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},MJ=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},OJ=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},b2=function(t,e){return t==="v"?DJ(e):NJ(e)},T2=function(t,e){return t==="v"?MJ(e):OJ(e)},LJ=function(t,e){return t==="h"&&e==="rtl"?-1:1},VJ=function(t,e,n,r,i){var o=LJ(t,window.getComputedStyle(e).direction),s=o*r,a=n.target,l=e.contains(a),c=!1,u=s>0,f=0,h=0;do{var m=T2(t,a),_=m[0],v=m[1],E=m[2],x=v-E-o*_;(_||x)&&b2(t,a)&&(f+=x,h+=_),a=a.parentNode.host||a.parentNode}while(!l&&a!==document.body||l&&(e.contains(a)||e===a));return(u&&(i&&Math.abs(f)<1||!i&&s>f)||!u&&(i&&Math.abs(h)<1||!i&&-s>h))&&(c=!0),c},Wd=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},qC=function(t){return[t.deltaX,t.deltaY]},YC=function(t){return t&&"current"in t?t.current:t},jJ=function(t,e){return t[0]===e[0]&&t[1]===e[1]},FJ=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},$J=0,zs=[];function UJ(t){var e=p.useRef([]),n=p.useRef([0,0]),r=p.useRef(),i=p.useState($J++)[0],o=p.useState(q_)[0],s=p.useRef(t);p.useEffect(function(){s.current=t},[t]),p.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(i));var v=m2([t.lockRef.current],(t.shards||[]).map(YC),!0).filter(Boolean);return v.forEach(function(E){return E.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),v.forEach(function(E){return E.classList.remove("allow-interactivity-".concat(i))})}}},[t.inert,t.lockRef.current,t.shards]);var a=p.useCallback(function(v,E){if("touches"in v&&v.touches.length===2||v.type==="wheel"&&v.ctrlKey)return!s.current.allowPinchZoom;var x=Wd(v),y=n.current,b="deltaX"in v?v.deltaX:y[0]-x[0],P="deltaY"in v?v.deltaY:y[1]-x[1],N,M=v.target,S=Math.abs(b)>Math.abs(P)?"h":"v";if("touches"in v&&S==="h"&&M.type==="range")return!1;var C=HC(S,M);if(!C)return!0;if(C?N=S:(N=S==="v"?"h":"v",C=HC(S,M)),!C)return!1;if(!r.current&&"changedTouches"in v&&(b||P)&&(r.current=N),!N)return!0;var I=r.current||N;return VJ(I,E,v,I==="h"?b:P,!0)},[]),l=p.useCallback(function(v){var E=v;if(!(!zs.length||zs[zs.length-1]!==o)){var x="deltaY"in E?qC(E):Wd(E),y=e.current.filter(function(N){return N.name===E.type&&(N.target===E.target||E.target===N.shadowParent)&&jJ(N.delta,x)})[0];if(y&&y.should){E.cancelable&&E.preventDefault();return}if(!y){var b=(s.current.shards||[]).map(YC).filter(Boolean).filter(function(N){return N.contains(E.target)}),P=b.length>0?a(E,b[0]):!s.current.noIsolation;P&&E.cancelable&&E.preventDefault()}}},[]),c=p.useCallback(function(v,E,x,y){var b={name:v,delta:E,target:x,should:y,shadowParent:BJ(x)};e.current.push(b),setTimeout(function(){e.current=e.current.filter(function(P){return P!==b})},1)},[]),u=p.useCallback(function(v){n.current=Wd(v),r.current=void 0},[]),f=p.useCallback(function(v){c(v.type,qC(v),v.target,a(v,t.lockRef.current))},[]),h=p.useCallback(function(v){c(v.type,Wd(v),v.target,a(v,t.lockRef.current))},[]);p.useEffect(function(){return zs.push(o),t.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:h}),document.addEventListener("wheel",l,Ws),document.addEventListener("touchmove",l,Ws),document.addEventListener("touchstart",u,Ws),function(){zs=zs.filter(function(v){return v!==o}),document.removeEventListener("wheel",l,Ws),document.removeEventListener("touchmove",l,Ws),document.removeEventListener("touchstart",u,Ws)}},[]);var m=t.removeScrollBar,_=t.inert;return p.createElement(p.Fragment,null,_?p.createElement(o,{styles:FJ(i)}):null,m?p.createElement(x2,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function BJ(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const WJ=w2(_2,UJ);var C2=p.forwardRef(function(t,e){return p.createElement(Fp,rn({},t,{ref:e,sideCar:WJ}))});C2.classNames=Fp.classNames;const S2=C2;var $p="Popover",[P2,Cne]=Ms($p,[i2]),Wu=i2(),[zJ,$o]=P2($p),I2=t=>{const{__scopePopover:e,children:n,open:r,defaultOpen:i,onOpenChange:o,modal:s=!1}=t,a=Wu(e),l=p.useRef(null),[c,u]=p.useState(!1),[f,h]=kp({prop:r,defaultProp:i??!1,onChange:o,caller:$p});return g.jsx(sJ,{...a,children:g.jsx(zJ,{scope:e,contentId:xf(),triggerRef:l,open:f,onOpenChange:h,onOpenToggle:p.useCallback(()=>h(m=>!m),[h]),hasCustomAnchor:c,onCustomAnchorAdd:p.useCallback(()=>u(!0),[]),onCustomAnchorRemove:p.useCallback(()=>u(!1),[]),modal:s,children:n})})};I2.displayName=$p;var A2="PopoverAnchor",HJ=p.forwardRef((t,e)=>{const{__scopePopover:n,...r}=t,i=$o(A2,n),o=Wu(n),{onCustomAnchorAdd:s,onCustomAnchorRemove:a}=i;return p.useEffect(()=>(s(),()=>a()),[s,a]),g.jsx(h2,{...o,...r,ref:e})});HJ.displayName=A2;var R2="PopoverTrigger",k2=p.forwardRef((t,e)=>{const{__scopePopover:n,...r}=t,i=$o(R2,n),o=Wu(n),s=lt(e,i.triggerRef),a=g.jsx(We.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":L2(i.open),...r,ref:s,onClick:$e(t.onClick,i.onOpenToggle)});return i.hasCustomAnchor?a:g.jsx(h2,{asChild:!0,...o,children:a})});k2.displayName=R2;var Y_="PopoverPortal",[qJ,YJ]=P2(Y_,{forceMount:void 0}),D2=t=>{const{__scopePopover:e,forceMount:n,children:r,container:i}=t,o=$o(Y_,e);return g.jsx(qJ,{scope:e,forceMount:n,children:g.jsx(Xn,{present:n||o.open,children:g.jsx(jp,{asChild:!0,container:i,children:r})})})};D2.displayName=Y_;var Ja="PopoverContent",N2=p.forwardRef((t,e)=>{const n=YJ(Ja,t.__scopePopover),{forceMount:r=n.forceMount,...i}=t,o=$o(Ja,t.__scopePopover);return g.jsx(Xn,{present:r||o.open,children:o.modal?g.jsx(KJ,{...i,ref:e}):g.jsx(QJ,{...i,ref:e})})});N2.displayName=Ja;var GJ=Ha("PopoverContent.RemoveScroll"),KJ=p.forwardRef((t,e)=>{const n=$o(Ja,t.__scopePopover),r=p.useRef(null),i=lt(e,r),o=p.useRef(!1);return p.useEffect(()=>{const s=r.current;if(s)return z_(s)},[]),g.jsx(S2,{as:GJ,allowPinchZoom:!0,children:g.jsx(M2,{...t,ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:$e(t.onCloseAutoFocus,s=>{var a;s.preventDefault(),o.current||(a=n.triggerRef.current)==null||a.focus()}),onPointerDownOutside:$e(t.onPointerDownOutside,s=>{const a=s.detail.originalEvent,l=a.button===0&&a.ctrlKey===!0,c=a.button===2||l;o.current=c},{checkForDefaultPrevented:!1}),onFocusOutside:$e(t.onFocusOutside,s=>s.preventDefault(),{checkForDefaultPrevented:!1})})})}),QJ=p.forwardRef((t,e)=>{const n=$o(Ja,t.__scopePopover),r=p.useRef(!1),i=p.useRef(!1);return g.jsx(M2,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{var s,a;(s=t.onCloseAutoFocus)==null||s.call(t,o),o.defaultPrevented||(r.current||(a=n.triggerRef.current)==null||a.focus(),o.preventDefault()),r.current=!1,i.current=!1},onInteractOutside:o=>{var l,c;(l=t.onInteractOutside)==null||l.call(t,o),o.defaultPrevented||(r.current=!0,o.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const s=o.target;((c=n.triggerRef.current)==null?void 0:c.contains(s))&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&i.current&&o.preventDefault()}})}),M2=p.forwardRef((t,e)=>{const{__scopePopover:n,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:o,disableOutsidePointerEvents:s,onEscapeKeyDown:a,onPointerDownOutside:l,onFocusOutside:c,onInteractOutside:u,...f}=t,h=$o(Ja,n),m=Wu(n);return ON(),g.jsx(M_,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:o,children:g.jsx(Mp,{asChild:!0,disableOutsidePointerEvents:s,onInteractOutside:u,onEscapeKeyDown:a,onPointerDownOutside:l,onFocusOutside:c,onDismiss:()=>h.onOpenChange(!1),children:g.jsx(aJ,{"data-state":L2(h.open),role:"dialog",id:h.contentId,...m,...f,ref:e,style:{...f.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),O2="PopoverClose",XJ=p.forwardRef((t,e)=>{const{__scopePopover:n,...r}=t,i=$o(O2,n);return g.jsx(We.button,{type:"button",...r,ref:e,onClick:$e(t.onClick,()=>i.onOpenChange(!1))})});XJ.displayName=O2;var JJ="PopoverArrow",ZJ=p.forwardRef((t,e)=>{const{__scopePopover:n,...r}=t,i=Wu(n);return g.jsx(lJ,{...i,...r,ref:e})});ZJ.displayName=JJ;function L2(t){return t?"open":"closed"}var eZ=I2,tZ=k2,nZ=D2,V2=N2;const rZ=eZ,iZ=tZ,j2=we.forwardRef(({className:t,align:e="center",sideOffset:n=4,...r},i)=>g.jsx(nZ,{children:g.jsx(V2,{ref:i,align:e,sideOffset:n,className:ke("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...r})}));j2.displayName=V2.displayName;function Ge(){return Ge=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ge.apply(null,arguments)}function GC(t,[e,n]){return Math.min(n,Math.max(e,t))}function hn(t,e,{checkForDefaultPrevented:n=!0}={}){return function(i){if(t==null||t(i),n===!1||!i.defaultPrevented)return e==null?void 0:e(i)}}function G_(t,e=[]){let n=[];function r(o,s){const a=p.createContext(s),l=n.length;n=[...n,s];function c(f){const{scope:h,children:m,..._}=f,v=(h==null?void 0:h[t][l])||a,E=p.useMemo(()=>_,Object.values(_));return p.createElement(v.Provider,{value:E},m)}function u(f,h){const m=(h==null?void 0:h[t][l])||a,_=p.useContext(m);if(_)return _;if(s!==void 0)return s;throw new Error(`\`${f}\` must be used within \`${o}\``)}return c.displayName=o+"Provider",[c,u]}const i=()=>{const o=n.map(s=>p.createContext(s));return function(a){const l=(a==null?void 0:a[t])||o;return p.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return i.scopeName=t,[r,oZ(i,...e)]}function oZ(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(o){const s=r.reduce((a,{useScope:l,scopeName:c})=>{const f=l(o)[`__scope${c}`];return{...a,...f}},{});return p.useMemo(()=>({[`__scope${e.scopeName}`]:s}),[s])}};return n.scopeName=e.scopeName,n}function sZ(t,e){typeof t=="function"?t(e):t!=null&&(t.current=e)}function F2(...t){return e=>t.forEach(n=>sZ(n,e))}function Pn(...t){return p.useCallback(F2(...t),t)}const mu=p.forwardRef((t,e)=>{const{children:n,...r}=t,i=p.Children.toArray(n),o=i.find(lZ);if(o){const s=o.props.children,a=i.map(l=>l===o?p.Children.count(s)>1?p.Children.only(null):p.isValidElement(s)?s.props.children:null:l);return p.createElement(Wy,Ge({},r,{ref:e}),p.isValidElement(s)?p.cloneElement(s,void 0,a):null)}return p.createElement(Wy,Ge({},r,{ref:e}),n)});mu.displayName="Slot";const Wy=p.forwardRef((t,e)=>{const{children:n,...r}=t;return p.isValidElement(n)?p.cloneElement(n,{...cZ(r,n.props),ref:e?F2(e,n.ref):n.ref}):p.Children.count(n)>1?p.Children.only(null):null});Wy.displayName="SlotClone";const aZ=({children:t})=>p.createElement(p.Fragment,null,t);function lZ(t){return p.isValidElement(t)&&t.type===aZ}function cZ(t,e){const n={...e};for(const r in e){const i=t[r],o=e[r];/^on[A-Z]/.test(r)?i&&o?n[r]=(...a)=>{o(...a),i(...a)}:i&&(n[r]=i):r==="style"?n[r]={...i,...o}:r==="className"&&(n[r]=[i,o].filter(Boolean).join(" "))}return{...t,...n}}function uZ(t){const e=t+"CollectionProvider",[n,r]=G_(e),[i,o]=n(e,{collectionRef:{current:null},itemMap:new Map}),s=m=>{const{scope:_,children:v}=m,E=we.useRef(null),x=we.useRef(new Map).current;return we.createElement(i,{scope:_,itemMap:x,collectionRef:E},v)},a=t+"CollectionSlot",l=we.forwardRef((m,_)=>{const{scope:v,children:E}=m,x=o(a,v),y=Pn(_,x.collectionRef);return we.createElement(mu,{ref:y},E)}),c=t+"CollectionItemSlot",u="data-radix-collection-item",f=we.forwardRef((m,_)=>{const{scope:v,children:E,...x}=m,y=we.useRef(null),b=Pn(_,y),P=o(c,v);return we.useEffect(()=>(P.itemMap.set(y,{ref:y,...x}),()=>void P.itemMap.delete(y))),we.createElement(mu,{[u]:"",ref:b},E)});function h(m){const _=o(t+"CollectionConsumer",m);return we.useCallback(()=>{const E=_.collectionRef.current;if(!E)return[];const x=Array.from(E.querySelectorAll(`[${u}]`));return Array.from(_.itemMap.values()).sort((P,N)=>x.indexOf(P.ref.current)-x.indexOf(N.ref.current))},[_.collectionRef,_.itemMap])}return[{Provider:s,Slot:l,ItemSlot:f},h,r]}const dZ=p.createContext(void 0);function fZ(t){const e=p.useContext(dZ);return t||e||"ltr"}const hZ=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],an=hZ.reduce((t,e)=>{const n=p.forwardRef((r,i)=>{const{asChild:o,...s}=r,a=o?mu:e;return p.useEffect(()=>{window[Symbol.for("radix-ui")]=!0},[]),p.createElement(a,Ge({},s,{ref:i}))});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{});function pZ(t,e){t&&Do.flushSync(()=>t.dispatchEvent(e))}function bi(t){const e=p.useRef(t);return p.useEffect(()=>{e.current=t}),p.useMemo(()=>(...n)=>{var r;return(r=e.current)===null||r===void 0?void 0:r.call(e,...n)},[])}function mZ(t,e=globalThis==null?void 0:globalThis.document){const n=bi(t);p.useEffect(()=>{const r=i=>{i.key==="Escape"&&n(i)};return e.addEventListener("keydown",r),()=>e.removeEventListener("keydown",r)},[n,e])}const zy="dismissableLayer.update",gZ="dismissableLayer.pointerDownOutside",vZ="dismissableLayer.focusOutside";let KC;const yZ=p.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),wZ=p.forwardRef((t,e)=>{var n;const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:s,onInteractOutside:a,onDismiss:l,...c}=t,u=p.useContext(yZ),[f,h]=p.useState(null),m=(n=f==null?void 0:f.ownerDocument)!==null&&n!==void 0?n:globalThis==null?void 0:globalThis.document,[,_]=p.useState({}),v=Pn(e,C=>h(C)),E=Array.from(u.layers),[x]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),y=E.indexOf(x),b=f?E.indexOf(f):-1,P=u.layersWithOutsidePointerEventsDisabled.size>0,N=b>=y,M=_Z(C=>{const I=C.target,A=[...u.branches].some(O=>O.contains(I));!N||A||(o==null||o(C),a==null||a(C),C.defaultPrevented||l==null||l())},m),S=xZ(C=>{const I=C.target;[...u.branches].some(O=>O.contains(I))||(s==null||s(C),a==null||a(C),C.defaultPrevented||l==null||l())},m);return mZ(C=>{b===u.layers.size-1&&(i==null||i(C),!C.defaultPrevented&&l&&(C.preventDefault(),l()))},m),p.useEffect(()=>{if(f)return r&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(KC=m.body.style.pointerEvents,m.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(f)),u.layers.add(f),QC(),()=>{r&&u.layersWithOutsidePointerEventsDisabled.size===1&&(m.body.style.pointerEvents=KC)}},[f,m,r,u]),p.useEffect(()=>()=>{f&&(u.layers.delete(f),u.layersWithOutsidePointerEventsDisabled.delete(f),QC())},[f,u]),p.useEffect(()=>{const C=()=>_({});return document.addEventListener(zy,C),()=>document.removeEventListener(zy,C)},[]),p.createElement(an.div,Ge({},c,{ref:v,style:{pointerEvents:P?N?"auto":"none":void 0,...t.style},onFocusCapture:hn(t.onFocusCapture,S.onFocusCapture),onBlurCapture:hn(t.onBlurCapture,S.onBlurCapture),onPointerDownCapture:hn(t.onPointerDownCapture,M.onPointerDownCapture)}))});function _Z(t,e=globalThis==null?void 0:globalThis.document){const n=bi(t),r=p.useRef(!1),i=p.useRef(()=>{});return p.useEffect(()=>{const o=a=>{if(a.target&&!r.current){let u=function(){$2(gZ,n,c,{discrete:!0})};var l=u;const c={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=u,e.addEventListener("click",i.current,{once:!0})):u()}else e.removeEventListener("click",i.current);r.current=!1},s=window.setTimeout(()=>{e.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(s),e.removeEventListener("pointerdown",o),e.removeEventListener("click",i.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function xZ(t,e=globalThis==null?void 0:globalThis.document){const n=bi(t),r=p.useRef(!1);return p.useEffect(()=>{const i=o=>{o.target&&!r.current&&$2(vZ,n,{originalEvent:o},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function QC(){const t=new CustomEvent(zy);document.dispatchEvent(t)}function $2(t,e,n,{discrete:r}){const i=n.originalEvent.target,o=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&i.addEventListener(t,e,{once:!0}),r?pZ(i,o):i.dispatchEvent(o)}let $g=0;function EZ(){p.useEffect(()=>{var t,e;const n=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",(t=n[0])!==null&&t!==void 0?t:XC()),document.body.insertAdjacentElement("beforeend",(e=n[1])!==null&&e!==void 0?e:XC()),$g++,()=>{$g===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(r=>r.remove()),$g--}},[])}function XC(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.cssText="outline: none; opacity: 0; position: fixed; pointer-events: none",t}const Ug="focusScope.autoFocusOnMount",Bg="focusScope.autoFocusOnUnmount",JC={bubbles:!1,cancelable:!0},bZ=p.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:i,onUnmountAutoFocus:o,...s}=t,[a,l]=p.useState(null),c=bi(i),u=bi(o),f=p.useRef(null),h=Pn(e,v=>l(v)),m=p.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;p.useEffect(()=>{if(r){let y=function(M){if(m.paused||!a)return;const S=M.target;a.contains(S)?f.current=S:ji(f.current,{select:!0})},b=function(M){if(m.paused||!a)return;const S=M.relatedTarget;S!==null&&(a.contains(S)||ji(f.current,{select:!0}))},P=function(M){if(document.activeElement===document.body)for(const C of M)C.removedNodes.length>0&&ji(a)};var v=y,E=b,x=P;document.addEventListener("focusin",y),document.addEventListener("focusout",b);const N=new MutationObserver(P);return a&&N.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",y),document.removeEventListener("focusout",b),N.disconnect()}}},[r,a,m.paused]),p.useEffect(()=>{if(a){eS.add(m);const v=document.activeElement;if(!a.contains(v)){const x=new CustomEvent(Ug,JC);a.addEventListener(Ug,c),a.dispatchEvent(x),x.defaultPrevented||(TZ(AZ(U2(a)),{select:!0}),document.activeElement===v&&ji(a))}return()=>{a.removeEventListener(Ug,c),setTimeout(()=>{const x=new CustomEvent(Bg,JC);a.addEventListener(Bg,u),a.dispatchEvent(x),x.defaultPrevented||ji(v??document.body,{select:!0}),a.removeEventListener(Bg,u),eS.remove(m)},0)}}},[a,c,u,m]);const _=p.useCallback(v=>{if(!n&&!r||m.paused)return;const E=v.key==="Tab"&&!v.altKey&&!v.ctrlKey&&!v.metaKey,x=document.activeElement;if(E&&x){const y=v.currentTarget,[b,P]=CZ(y);b&&P?!v.shiftKey&&x===P?(v.preventDefault(),n&&ji(b,{select:!0})):v.shiftKey&&x===b&&(v.preventDefault(),n&&ji(P,{select:!0})):x===y&&v.preventDefault()}},[n,r,m.paused]);return p.createElement(an.div,Ge({tabIndex:-1},s,{ref:h,onKeyDown:_}))});function TZ(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(ji(r,{select:e}),document.activeElement!==n)return}function CZ(t){const e=U2(t),n=ZC(e,t),r=ZC(e.reverse(),t);return[n,r]}function U2(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function ZC(t,e){for(const n of t)if(!SZ(n,{upTo:e}))return n}function SZ(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function PZ(t){return t instanceof HTMLInputElement&&"select"in t}function ji(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&PZ(t)&&e&&t.select()}}const eS=IZ();function IZ(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=tS(t,e),t.unshift(e)},remove(e){var n;t=tS(t,e),(n=t[0])===null||n===void 0||n.resume()}}}function tS(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function AZ(t){return t.filter(e=>e.tagName!=="A")}const Ti=globalThis!=null&&globalThis.document?p.useLayoutEffect:()=>{},RZ=Vh["useId".toString()]||(()=>{});let kZ=0;function B2(t){const[e,n]=p.useState(RZ());return Ti(()=>{t||n(r=>r??String(kZ++))},[t]),t||(e?`radix-${e}`:"")}function DZ(t){const[e,n]=p.useState(void 0);return Ti(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const o=i[0];let s,a;if("borderBoxSize"in o){const l=o.borderBoxSize,c=Array.isArray(l)?l[0]:l;s=c.inlineSize,a=c.blockSize}else s=t.offsetWidth,a=t.offsetHeight;n({width:s,height:a})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}const W2="Popper",[z2,H2]=G_(W2),[NZ,q2]=z2(W2),MZ=t=>{const{__scopePopper:e,children:n}=t,[r,i]=p.useState(null);return p.createElement(NZ,{scope:e,anchor:r,onAnchorChange:i},n)},OZ="PopperAnchor",LZ=p.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...i}=t,o=q2(OZ,n),s=p.useRef(null),a=Pn(e,s);return p.useEffect(()=>{o.onAnchorChange((r==null?void 0:r.current)||s.current)}),r?null:p.createElement(an.div,Ge({},i,{ref:a}))}),Y2="PopperContent",[VZ,Sne]=z2(Y2),jZ=p.forwardRef((t,e)=>{var n,r,i,o,s,a,l,c;const{__scopePopper:u,side:f="bottom",sideOffset:h=0,align:m="center",alignOffset:_=0,arrowPadding:v=0,avoidCollisions:E=!0,collisionBoundary:x=[],collisionPadding:y=0,sticky:b="partial",hideWhenDetached:P=!1,updatePositionStrategy:N="optimized",onPlaced:M,...S}=t,C=q2(Y2,u),[I,A]=p.useState(null),O=Pn(e,Nt=>A(Nt)),[D,k]=p.useState(null),B=DZ(D),q=(n=B==null?void 0:B.width)!==null&&n!==void 0?n:0,K=(r=B==null?void 0:B.height)!==null&&r!==void 0?r:0,j=f+(m!=="center"?"-"+m:""),L=typeof y=="number"?y:{top:0,right:0,bottom:0,left:0,...y},V=Array.isArray(x)?x:[x],$=V.length>0,W={padding:L,boundary:V.filter(FZ),altBoundary:$},{refs:Y,floatingStyles:G,placement:oe,isPositioned:fe,middlewareData:Ee}=GN({strategy:"fixed",placement:j,whileElementsMounted:(...Nt)=>qN(...Nt,{animationFrame:N==="always"}),elements:{reference:C.anchor},middleware:[KN({mainAxis:h+K,alignmentAxis:_}),E&&QN({mainAxis:!0,crossAxis:!1,limiter:b==="partial"?XN():void 0,...W}),E&&JN({...W}),ZN({...W,apply:({elements:Nt,rects:Zn,availableWidth:wr,availableHeight:El})=>{const{width:Yr,height:Hu}=Zn.reference,Ii=Nt.floating.style;Ii.setProperty("--radix-popper-available-width",`${wr}px`),Ii.setProperty("--radix-popper-available-height",`${El}px`),Ii.setProperty("--radix-popper-anchor-width",`${Yr}px`),Ii.setProperty("--radix-popper-anchor-height",`${Hu}px`)}}),D&&t2({element:D,padding:v}),$Z({arrowWidth:q,arrowHeight:K}),P&&e2({strategy:"referenceHidden",...W})]}),[J,ue]=G2(oe),te=bi(M);Ti(()=>{fe&&(te==null||te())},[fe,te]);const de=(i=Ee.arrow)===null||i===void 0?void 0:i.x,he=(o=Ee.arrow)===null||o===void 0?void 0:o.y,Te=((s=Ee.arrow)===null||s===void 0?void 0:s.centerOffset)!==0,[Ke,st]=p.useState();return Ti(()=>{I&&st(window.getComputedStyle(I).zIndex)},[I]),p.createElement("div",{ref:Y.setFloating,"data-radix-popper-content-wrapper":"",style:{...G,transform:fe?G.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Ke,"--radix-popper-transform-origin":[(a=Ee.transformOrigin)===null||a===void 0?void 0:a.x,(l=Ee.transformOrigin)===null||l===void 0?void 0:l.y].join(" ")},dir:t.dir},p.createElement(VZ,{scope:u,placedSide:J,onArrowChange:k,arrowX:de,arrowY:he,shouldHideArrow:Te},p.createElement(an.div,Ge({"data-side":J,"data-align":ue},S,{ref:O,style:{...S.style,animation:fe?void 0:"none",opacity:(c=Ee.hide)!==null&&c!==void 0&&c.referenceHidden?0:void 0}}))))});function FZ(t){return t!==null}const $Z=t=>({name:"transformOrigin",options:t,fn(e){var n,r,i,o,s;const{placement:a,rects:l,middlewareData:c}=e,f=((n=c.arrow)===null||n===void 0?void 0:n.centerOffset)!==0,h=f?0:t.arrowWidth,m=f?0:t.arrowHeight,[_,v]=G2(a),E={start:"0%",center:"50%",end:"100%"}[v],x=((r=(i=c.arrow)===null||i===void 0?void 0:i.x)!==null&&r!==void 0?r:0)+h/2,y=((o=(s=c.arrow)===null||s===void 0?void 0:s.y)!==null&&o!==void 0?o:0)+m/2;let b="",P="";return _==="bottom"?(b=f?E:`${x}px`,P=`${-m}px`):_==="top"?(b=f?E:`${x}px`,P=`${l.floating.height+m}px`):_==="right"?(b=`${-m}px`,P=f?E:`${y}px`):_==="left"&&(b=`${l.floating.width+m}px`,P=f?E:`${y}px`),{data:{x:b,y:P}}}});function G2(t){const[e,n="center"]=t.split("-");return[e,n]}const UZ=MZ,BZ=LZ,WZ=jZ,zZ=p.forwardRef((t,e)=>{var n;const{container:r=globalThis==null||(n=globalThis.document)===null||n===void 0?void 0:n.body,...i}=t;return r?II.createPortal(p.createElement(an.div,Ge({},i,{ref:e})),r):null});function nS({prop:t,defaultProp:e,onChange:n=()=>{}}){const[r,i]=HZ({defaultProp:e,onChange:n}),o=t!==void 0,s=o?t:r,a=bi(n),l=p.useCallback(c=>{if(o){const f=typeof c=="function"?c(t):c;f!==t&&a(f)}else i(c)},[o,t,i,a]);return[s,l]}function HZ({defaultProp:t,onChange:e}){const n=p.useState(t),[r]=n,i=p.useRef(r),o=bi(e);return p.useEffect(()=>{i.current!==r&&(o(r),i.current=r)},[r,i,o]),n}function qZ(t){const e=p.useRef({value:t,previous:t});return p.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}const YZ=p.forwardRef((t,e)=>p.createElement(an.span,Ge({},t,{ref:e,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...t.style}})));var K2=v2(),Wg=function(){},Up=p.forwardRef(function(t,e){var n=p.useRef(null),r=p.useState({onScrollCapture:Wg,onWheelCapture:Wg,onTouchMoveCapture:Wg}),i=r[0],o=r[1],s=t.forwardProps,a=t.children,l=t.className,c=t.removeScrollBar,u=t.enabled,f=t.shards,h=t.sideCar,m=t.noIsolation,_=t.inert,v=t.allowPinchZoom,E=t.as,x=E===void 0?"div":E,y=H_(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as"]),b=h,P=g2([n,e]),N=rn(rn({},y),i);return p.createElement(p.Fragment,null,u&&p.createElement(b,{sideCar:K2,removeScrollBar:c,shards:f,noIsolation:m,inert:_,setCallbacks:o,allowPinchZoom:!!v,lockRef:n}),s?p.cloneElement(p.Children.only(a),rn(rn({},N),{ref:P})):p.createElement(x,rn({},N,{className:l,ref:P}),a))});Up.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Up.classNames={fullWidth:Ic,zeroRight:Pc};var Hy=!1;if(typeof window<"u")try{var zd=Object.defineProperty({},"passive",{get:function(){return Hy=!0,!0}});window.addEventListener("test",zd,zd),window.removeEventListener("test",zd,zd)}catch{Hy=!1}var Hs=Hy?{passive:!1}:!1,GZ=function(t){return t.tagName==="TEXTAREA"},Q2=function(t,e){var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!GZ(t)&&n[e]==="visible")},KZ=function(t){return Q2(t,"overflowY")},QZ=function(t){return Q2(t,"overflowX")},rS=function(t,e){var n=e;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var r=X2(t,n);if(r){var i=J2(t,n),o=i[1],s=i[2];if(o>s)return!0}n=n.parentNode}while(n&&n!==document.body);return!1},XZ=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},JZ=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},X2=function(t,e){return t==="v"?KZ(e):QZ(e)},J2=function(t,e){return t==="v"?XZ(e):JZ(e)},ZZ=function(t,e){return t==="h"&&e==="rtl"?-1:1},eee=function(t,e,n,r,i){var o=ZZ(t,window.getComputedStyle(e).direction),s=o*r,a=n.target,l=e.contains(a),c=!1,u=s>0,f=0,h=0;do{var m=J2(t,a),_=m[0],v=m[1],E=m[2],x=v-E-o*_;(_||x)&&X2(t,a)&&(f+=x,h+=_),a=a.parentNode}while(!l&&a!==document.body||l&&(e.contains(a)||e===a));return(u&&(i&&f===0||!i&&s>f)||!u&&(i&&h===0||!i&&-s>h))&&(c=!0),c},Hd=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},iS=function(t){return[t.deltaX,t.deltaY]},oS=function(t){return t&&"current"in t?t.current:t},tee=function(t,e){return t[0]===e[0]&&t[1]===e[1]},nee=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},ree=0,qs=[];function iee(t){var e=p.useRef([]),n=p.useRef([0,0]),r=p.useRef(),i=p.useState(ree++)[0],o=p.useState(function(){return q_()})[0],s=p.useRef(t);p.useEffect(function(){s.current=t},[t]),p.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(i));var v=m2([t.lockRef.current],(t.shards||[]).map(oS),!0).filter(Boolean);return v.forEach(function(E){return E.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),v.forEach(function(E){return E.classList.remove("allow-interactivity-".concat(i))})}}},[t.inert,t.lockRef.current,t.shards]);var a=p.useCallback(function(v,E){if("touches"in v&&v.touches.length===2)return!s.current.allowPinchZoom;var x=Hd(v),y=n.current,b="deltaX"in v?v.deltaX:y[0]-x[0],P="deltaY"in v?v.deltaY:y[1]-x[1],N,M=v.target,S=Math.abs(b)>Math.abs(P)?"h":"v";if("touches"in v&&S==="h"&&M.type==="range")return!1;var C=rS(S,M);if(!C)return!0;if(C?N=S:(N=S==="v"?"h":"v",C=rS(S,M)),!C)return!1;if(!r.current&&"changedTouches"in v&&(b||P)&&(r.current=N),!N)return!0;var I=r.current||N;return eee(I,E,v,I==="h"?b:P,!0)},[]),l=p.useCallback(function(v){var E=v;if(!(!qs.length||qs[qs.length-1]!==o)){var x="deltaY"in E?iS(E):Hd(E),y=e.current.filter(function(N){return N.name===E.type&&N.target===E.target&&tee(N.delta,x)})[0];if(y&&y.should){E.cancelable&&E.preventDefault();return}if(!y){var b=(s.current.shards||[]).map(oS).filter(Boolean).filter(function(N){return N.contains(E.target)}),P=b.length>0?a(E,b[0]):!s.current.noIsolation;P&&E.cancelable&&E.preventDefault()}}},[]),c=p.useCallback(function(v,E,x,y){var b={name:v,delta:E,target:x,should:y};e.current.push(b),setTimeout(function(){e.current=e.current.filter(function(P){return P!==b})},1)},[]),u=p.useCallback(function(v){n.current=Hd(v),r.current=void 0},[]),f=p.useCallback(function(v){c(v.type,iS(v),v.target,a(v,t.lockRef.current))},[]),h=p.useCallback(function(v){c(v.type,Hd(v),v.target,a(v,t.lockRef.current))},[]);p.useEffect(function(){return qs.push(o),t.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:h}),document.addEventListener("wheel",l,Hs),document.addEventListener("touchmove",l,Hs),document.addEventListener("touchstart",u,Hs),function(){qs=qs.filter(function(v){return v!==o}),document.removeEventListener("wheel",l,Hs),document.removeEventListener("touchmove",l,Hs),document.removeEventListener("touchstart",u,Hs)}},[]);var m=t.removeScrollBar,_=t.inert;return p.createElement(p.Fragment,null,_?p.createElement(o,{styles:nee(i)}):null,m?p.createElement(x2,{gapMode:"margin"}):null)}const oee=w2(K2,iee);var Z2=p.forwardRef(function(t,e){return p.createElement(Up,rn({},t,{ref:e,sideCar:oee}))});Z2.classNames=Up.classNames;const see=Z2,aee=[" ","Enter","ArrowUp","ArrowDown"],lee=[" ","Enter"],Bp="Select",[Wp,K_,cee]=uZ(Bp),[xl,Pne]=G_(Bp,[cee,H2]),Q_=H2(),[uee,Os]=xl(Bp),[dee,fee]=xl(Bp),hee=t=>{const{__scopeSelect:e,children:n,open:r,defaultOpen:i,onOpenChange:o,value:s,defaultValue:a,onValueChange:l,dir:c,name:u,autoComplete:f,disabled:h,required:m}=t,_=Q_(e),[v,E]=p.useState(null),[x,y]=p.useState(null),[b,P]=p.useState(!1),N=fZ(c),[M=!1,S]=nS({prop:r,defaultProp:i,onChange:o}),[C,I]=nS({prop:s,defaultProp:a,onChange:l}),A=p.useRef(null),O=v?!!v.closest("form"):!0,[D,k]=p.useState(new Set),B=Array.from(D).map(q=>q.props.value).join(";");return p.createElement(UZ,_,p.createElement(uee,{required:m,scope:e,trigger:v,onTriggerChange:E,valueNode:x,onValueNodeChange:y,valueNodeHasChildren:b,onValueNodeHasChildrenChange:P,contentId:B2(),value:C,onValueChange:I,open:M,onOpenChange:S,dir:N,triggerPointerDownPosRef:A,disabled:h},p.createElement(Wp.Provider,{scope:e},p.createElement(dee,{scope:t.__scopeSelect,onNativeOptionAdd:p.useCallback(q=>{k(K=>new Set(K).add(q))},[]),onNativeOptionRemove:p.useCallback(q=>{k(K=>{const j=new Set(K);return j.delete(q),j})},[])},n)),O?p.createElement(rM,{key:B,"aria-hidden":!0,required:m,tabIndex:-1,name:u,autoComplete:f,value:C,onChange:q=>I(q.target.value),disabled:h},C===void 0?p.createElement("option",{value:""}):null,Array.from(D)):null))},pee="SelectTrigger",mee=p.forwardRef((t,e)=>{const{__scopeSelect:n,disabled:r=!1,...i}=t,o=Q_(n),s=Os(pee,n),a=s.disabled||r,l=Pn(e,s.onTriggerChange),c=K_(n),[u,f,h]=iM(_=>{const v=c().filter(y=>!y.disabled),E=v.find(y=>y.value===s.value),x=oM(v,_,E);x!==void 0&&s.onValueChange(x.value)}),m=()=>{a||(s.onOpenChange(!0),h())};return p.createElement(BZ,Ge({asChild:!0},o),p.createElement(an.button,Ge({type:"button",role:"combobox","aria-controls":s.contentId,"aria-expanded":s.open,"aria-required":s.required,"aria-autocomplete":"none",dir:s.dir,"data-state":s.open?"open":"closed",disabled:a,"data-disabled":a?"":void 0,"data-placeholder":nM(s.value)?"":void 0},i,{ref:l,onClick:hn(i.onClick,_=>{_.currentTarget.focus()}),onPointerDown:hn(i.onPointerDown,_=>{const v=_.target;v.hasPointerCapture(_.pointerId)&&v.releasePointerCapture(_.pointerId),_.button===0&&_.ctrlKey===!1&&(m(),s.triggerPointerDownPosRef.current={x:Math.round(_.pageX),y:Math.round(_.pageY)},_.preventDefault())}),onKeyDown:hn(i.onKeyDown,_=>{const v=u.current!=="";!(_.ctrlKey||_.altKey||_.metaKey)&&_.key.length===1&&f(_.key),!(v&&_.key===" ")&&aee.includes(_.key)&&(m(),_.preventDefault())})})))}),gee="SelectValue",vee=p.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:i,children:o,placeholder:s="",...a}=t,l=Os(gee,n),{onValueNodeHasChildrenChange:c}=l,u=o!==void 0,f=Pn(e,l.onValueNodeChange);return Ti(()=>{c(u)},[c,u]),p.createElement(an.span,Ge({},a,{ref:f,style:{pointerEvents:"none"}}),nM(l.value)?p.createElement(p.Fragment,null,s):o)}),yee=p.forwardRef((t,e)=>{const{__scopeSelect:n,children:r,...i}=t;return p.createElement(an.span,Ge({"aria-hidden":!0},i,{ref:e}),r||"▼")}),wee=t=>p.createElement(zZ,Ge({asChild:!0},t)),Za="SelectContent",_ee=p.forwardRef((t,e)=>{const n=Os(Za,t.__scopeSelect),[r,i]=p.useState();if(Ti(()=>{i(new DocumentFragment)},[]),!n.open){const o=r;return o?Do.createPortal(p.createElement(eM,{scope:t.__scopeSelect},p.createElement(Wp.Slot,{scope:t.__scopeSelect},p.createElement("div",null,t.children))),o):null}return p.createElement(xee,Ge({},t,{ref:e}))}),Jr=10,[eM,zp]=xl(Za),xee=p.forwardRef((t,e)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:o,onPointerDownOutside:s,side:a,sideOffset:l,align:c,alignOffset:u,arrowPadding:f,collisionBoundary:h,collisionPadding:m,sticky:_,hideWhenDetached:v,avoidCollisions:E,...x}=t,y=Os(Za,n),[b,P]=p.useState(null),[N,M]=p.useState(null),S=Pn(e,J=>P(J)),[C,I]=p.useState(null),[A,O]=p.useState(null),D=K_(n),[k,B]=p.useState(!1),q=p.useRef(!1);p.useEffect(()=>{if(b)return z_(b)},[b]),EZ();const K=p.useCallback(J=>{const[ue,...te]=D().map(Te=>Te.ref.current),[de]=te.slice(-1),he=document.activeElement;for(const Te of J)if(Te===he||(Te==null||Te.scrollIntoView({block:"nearest"}),Te===ue&&N&&(N.scrollTop=0),Te===de&&N&&(N.scrollTop=N.scrollHeight),Te==null||Te.focus(),document.activeElement!==he))return},[D,N]),j=p.useCallback(()=>K([C,b]),[K,C,b]);p.useEffect(()=>{k&&j()},[k,j]);const{onOpenChange:L,triggerPointerDownPosRef:V}=y;p.useEffect(()=>{if(b){let J={x:0,y:0};const ue=de=>{var he,Te,Ke,st;J={x:Math.abs(Math.round(de.pageX)-((he=(Te=V.current)===null||Te===void 0?void 0:Te.x)!==null&&he!==void 0?he:0)),y:Math.abs(Math.round(de.pageY)-((Ke=(st=V.current)===null||st===void 0?void 0:st.y)!==null&&Ke!==void 0?Ke:0))}},te=de=>{J.x<=10&&J.y<=10?de.preventDefault():b.contains(de.target)||L(!1),document.removeEventListener("pointermove",ue),V.current=null};return V.current!==null&&(document.addEventListener("pointermove",ue),document.addEventListener("pointerup",te,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",ue),document.removeEventListener("pointerup",te,{capture:!0})}}},[b,L,V]),p.useEffect(()=>{const J=()=>L(!1);return window.addEventListener("blur",J),window.addEventListener("resize",J),()=>{window.removeEventListener("blur",J),window.removeEventListener("resize",J)}},[L]);const[$,W]=iM(J=>{const ue=D().filter(he=>!he.disabled),te=ue.find(he=>he.ref.current===document.activeElement),de=oM(ue,J,te);de&&setTimeout(()=>de.ref.current.focus())}),Y=p.useCallback((J,ue,te)=>{const de=!q.current&&!te;(y.value!==void 0&&y.value===ue||de)&&(I(J),de&&(q.current=!0))},[y.value]),G=p.useCallback(()=>b==null?void 0:b.focus(),[b]),oe=p.useCallback((J,ue,te)=>{const de=!q.current&&!te;(y.value!==void 0&&y.value===ue||de)&&O(J)},[y.value]),fe=r==="popper"?sS:Eee,Ee=fe===sS?{side:a,sideOffset:l,align:c,alignOffset:u,arrowPadding:f,collisionBoundary:h,collisionPadding:m,sticky:_,hideWhenDetached:v,avoidCollisions:E}:{};return p.createElement(eM,{scope:n,content:b,viewport:N,onViewportChange:M,itemRefCallback:Y,selectedItem:C,onItemLeave:G,itemTextRefCallback:oe,focusSelectedItem:j,selectedItemText:A,position:r,isPositioned:k,searchRef:$},p.createElement(see,{as:mu,allowPinchZoom:!0},p.createElement(bZ,{asChild:!0,trapped:y.open,onMountAutoFocus:J=>{J.preventDefault()},onUnmountAutoFocus:hn(i,J=>{var ue;(ue=y.trigger)===null||ue===void 0||ue.focus({preventScroll:!0}),J.preventDefault()})},p.createElement(wZ,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:o,onPointerDownOutside:s,onFocusOutside:J=>J.preventDefault(),onDismiss:()=>y.onOpenChange(!1)},p.createElement(fe,Ge({role:"listbox",id:y.contentId,"data-state":y.open?"open":"closed",dir:y.dir,onContextMenu:J=>J.preventDefault()},x,Ee,{onPlaced:()=>B(!0),ref:S,style:{display:"flex",flexDirection:"column",outline:"none",...x.style},onKeyDown:hn(x.onKeyDown,J=>{const ue=J.ctrlKey||J.altKey||J.metaKey;if(J.key==="Tab"&&J.preventDefault(),!ue&&J.key.length===1&&W(J.key),["ArrowUp","ArrowDown","Home","End"].includes(J.key)){let de=D().filter(he=>!he.disabled).map(he=>he.ref.current);if(["ArrowUp","End"].includes(J.key)&&(de=de.slice().reverse()),["ArrowUp","ArrowDown"].includes(J.key)){const he=J.target,Te=de.indexOf(he);de=de.slice(Te+1)}setTimeout(()=>K(de)),J.preventDefault()}})}))))))}),Eee=p.forwardRef((t,e)=>{const{__scopeSelect:n,onPlaced:r,...i}=t,o=Os(Za,n),s=zp(Za,n),[a,l]=p.useState(null),[c,u]=p.useState(null),f=Pn(e,S=>u(S)),h=K_(n),m=p.useRef(!1),_=p.useRef(!0),{viewport:v,selectedItem:E,selectedItemText:x,focusSelectedItem:y}=s,b=p.useCallback(()=>{if(o.trigger&&o.valueNode&&a&&c&&v&&E&&x){const S=o.trigger.getBoundingClientRect(),C=c.getBoundingClientRect(),I=o.valueNode.getBoundingClientRect(),A=x.getBoundingClientRect();if(o.dir!=="rtl"){const he=A.left-C.left,Te=I.left-he,Ke=S.left-Te,st=S.width+Ke,Nt=Math.max(st,C.width),Zn=window.innerWidth-Jr,wr=GC(Te,[Jr,Zn-Nt]);a.style.minWidth=st+"px",a.style.left=wr+"px"}else{const he=C.right-A.right,Te=window.innerWidth-I.right-he,Ke=window.innerWidth-S.right-Te,st=S.width+Ke,Nt=Math.max(st,C.width),Zn=window.innerWidth-Jr,wr=GC(Te,[Jr,Zn-Nt]);a.style.minWidth=st+"px",a.style.right=wr+"px"}const O=h(),D=window.innerHeight-Jr*2,k=v.scrollHeight,B=window.getComputedStyle(c),q=parseInt(B.borderTopWidth,10),K=parseInt(B.paddingTop,10),j=parseInt(B.borderBottomWidth,10),L=parseInt(B.paddingBottom,10),V=q+K+k+L+j,$=Math.min(E.offsetHeight*5,V),W=window.getComputedStyle(v),Y=parseInt(W.paddingTop,10),G=parseInt(W.paddingBottom,10),oe=S.top+S.height/2-Jr,fe=D-oe,Ee=E.offsetHeight/2,J=E.offsetTop+Ee,ue=q+K+J,te=V-ue;if(ue<=oe){const he=E===O[O.length-1].ref.current;a.style.bottom="0px";const Te=c.clientHeight-v.offsetTop-v.offsetHeight,Ke=Math.max(fe,Ee+(he?G:0)+Te+j),st=ue+Ke;a.style.height=st+"px"}else{const he=E===O[0].ref.current;a.style.top="0px";const Ke=Math.max(oe,q+v.offsetTop+(he?Y:0)+Ee)+te;a.style.height=Ke+"px",v.scrollTop=ue-oe+v.offsetTop}a.style.margin=`${Jr}px 0`,a.style.minHeight=$+"px",a.style.maxHeight=D+"px",r==null||r(),requestAnimationFrame(()=>m.current=!0)}},[h,o.trigger,o.valueNode,a,c,v,E,x,o.dir,r]);Ti(()=>b(),[b]);const[P,N]=p.useState();Ti(()=>{c&&N(window.getComputedStyle(c).zIndex)},[c]);const M=p.useCallback(S=>{S&&_.current===!0&&(b(),y==null||y(),_.current=!1)},[b,y]);return p.createElement(bee,{scope:n,contentWrapper:a,shouldExpandOnScrollRef:m,onScrollButtonChange:M},p.createElement("div",{ref:l,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:P}},p.createElement(an.div,Ge({},i,{ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}}))))}),sS=p.forwardRef((t,e)=>{const{__scopeSelect:n,align:r="start",collisionPadding:i=Jr,...o}=t,s=Q_(n);return p.createElement(WZ,Ge({},s,o,{ref:e,align:r,collisionPadding:i,style:{boxSizing:"border-box",...o.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}}))}),[bee,Tee]=xl(Za,{}),aS="SelectViewport",Cee=p.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=zp(aS,n),o=Tee(aS,n),s=Pn(e,i.onViewportChange),a=p.useRef(0);return p.createElement(p.Fragment,null,p.createElement("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"}}),p.createElement(Wp.Slot,{scope:n},p.createElement(an.div,Ge({"data-radix-select-viewport":"",role:"presentation"},r,{ref:s,style:{position:"relative",flex:1,overflow:"auto",...r.style},onScroll:hn(r.onScroll,l=>{const c=l.currentTarget,{contentWrapper:u,shouldExpandOnScrollRef:f}=o;if(f!=null&&f.current&&u){const h=Math.abs(a.current-c.scrollTop);if(h>0){const m=window.innerHeight-Jr*2,_=parseFloat(u.style.minHeight),v=parseFloat(u.style.height),E=Math.max(_,v);if(E<m){const x=E+h,y=Math.min(m,x),b=x-y;u.style.height=y+"px",u.style.bottom==="0px"&&(c.scrollTop=b>0?b:0,u.style.justifyContent="flex-end")}}}a.current=c.scrollTop})}))))}),See="SelectGroup",[Ine,Pee]=xl(See),Iee="SelectLabel",Aee=p.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=Pee(Iee,n);return p.createElement(an.div,Ge({id:i.id},r,{ref:e}))}),qy="SelectItem",[Ree,tM]=xl(qy),kee=p.forwardRef((t,e)=>{const{__scopeSelect:n,value:r,disabled:i=!1,textValue:o,...s}=t,a=Os(qy,n),l=zp(qy,n),c=a.value===r,[u,f]=p.useState(o??""),[h,m]=p.useState(!1),_=Pn(e,x=>{var y;return(y=l.itemRefCallback)===null||y===void 0?void 0:y.call(l,x,r,i)}),v=B2(),E=()=>{i||(a.onValueChange(r),a.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return p.createElement(Ree,{scope:n,value:r,disabled:i,textId:v,isSelected:c,onItemTextChange:p.useCallback(x=>{f(y=>{var b;return y||((b=x==null?void 0:x.textContent)!==null&&b!==void 0?b:"").trim()})},[])},p.createElement(Wp.ItemSlot,{scope:n,value:r,disabled:i,textValue:u},p.createElement(an.div,Ge({role:"option","aria-labelledby":v,"data-highlighted":h?"":void 0,"aria-selected":c&&h,"data-state":c?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1},s,{ref:_,onFocus:hn(s.onFocus,()=>m(!0)),onBlur:hn(s.onBlur,()=>m(!1)),onPointerUp:hn(s.onPointerUp,E),onPointerMove:hn(s.onPointerMove,x=>{if(i){var y;(y=l.onItemLeave)===null||y===void 0||y.call(l)}else x.currentTarget.focus({preventScroll:!0})}),onPointerLeave:hn(s.onPointerLeave,x=>{if(x.currentTarget===document.activeElement){var y;(y=l.onItemLeave)===null||y===void 0||y.call(l)}}),onKeyDown:hn(s.onKeyDown,x=>{var y;((y=l.searchRef)===null||y===void 0?void 0:y.current)!==""&&x.key===" "||(lee.includes(x.key)&&E(),x.key===" "&&x.preventDefault())})}))))}),qd="SelectItemText",Dee=p.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:i,...o}=t,s=Os(qd,n),a=zp(qd,n),l=tM(qd,n),c=fee(qd,n),[u,f]=p.useState(null),h=Pn(e,x=>f(x),l.onItemTextChange,x=>{var y;return(y=a.itemTextRefCallback)===null||y===void 0?void 0:y.call(a,x,l.value,l.disabled)}),m=u==null?void 0:u.textContent,_=p.useMemo(()=>p.createElement("option",{key:l.value,value:l.value,disabled:l.disabled},m),[l.disabled,l.value,m]),{onNativeOptionAdd:v,onNativeOptionRemove:E}=c;return Ti(()=>(v(_),()=>E(_)),[v,E,_]),p.createElement(p.Fragment,null,p.createElement(an.span,Ge({id:l.textId},o,{ref:h})),l.isSelected&&s.valueNode&&!s.valueNodeHasChildren?Do.createPortal(o.children,s.valueNode):null)}),Nee="SelectItemIndicator",Mee=p.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return tM(Nee,n).isSelected?p.createElement(an.span,Ge({"aria-hidden":!0},r,{ref:e})):null}),Oee=p.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return p.createElement(an.div,Ge({"aria-hidden":!0},r,{ref:e}))});function nM(t){return t===""||t===void 0}const rM=p.forwardRef((t,e)=>{const{value:n,...r}=t,i=p.useRef(null),o=Pn(e,i),s=qZ(n);return p.useEffect(()=>{const a=i.current,l=window.HTMLSelectElement.prototype,u=Object.getOwnPropertyDescriptor(l,"value").set;if(s!==n&&u){const f=new Event("change",{bubbles:!0});u.call(a,n),a.dispatchEvent(f)}},[s,n]),p.createElement(YZ,{asChild:!0},p.createElement("select",Ge({},r,{ref:o,defaultValue:n})))});rM.displayName="BubbleSelect";function iM(t){const e=bi(t),n=p.useRef(""),r=p.useRef(0),i=p.useCallback(s=>{const a=n.current+s;e(a),function l(c){n.current=c,window.clearTimeout(r.current),c!==""&&(r.current=window.setTimeout(()=>l(""),1e3))}(a)},[e]),o=p.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return p.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,i,o]}function oM(t,e,n){const i=e.length>1&&Array.from(e).every(c=>c===e[0])?e[0]:e,o=n?t.indexOf(n):-1;let s=Lee(t,Math.max(o,0));i.length===1&&(s=s.filter(c=>c!==n));const l=s.find(c=>c.textValue.toLowerCase().startsWith(i.toLowerCase()));return l!==n?l:void 0}function Lee(t,e){return t.map((n,r)=>t[(e+r)%t.length])}const Vee=hee,sM=mee,jee=vee,Fee=yee,$ee=wee,aM=_ee,Uee=Cee,lM=Aee,cM=kee,Bee=Dee,Wee=Mee,uM=Oee,zee=Vee,Hee=jee,dM=we.forwardRef(({className:t,children:e,...n},r)=>g.jsxs(sM,{ref:r,className:ke("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 focus:shadow-[0_0_0_3px_rgba(226,125,191,0.2)] disabled:cursor-not-allowed disabled:opacity-50",t),...n,children:[e,g.jsx(Fee,{asChild:!0,children:g.jsx(Zz,{className:"h-4 w-4 opacity-50"})})]}));dM.displayName=sM.displayName;const fM=we.forwardRef(({className:t,children:e,position:n="popper",...r},i)=>g.jsx($ee,{children:g.jsx(aM,{ref:i,className:ke("relative z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...r,children:g.jsx(Uee,{className:ke("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e})})}));fM.displayName=aM.displayName;const qee=we.forwardRef(({className:t,...e},n)=>g.jsx(lM,{ref:n,className:ke("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...e}));qee.displayName=lM.displayName;const hM=we.forwardRef(({className:t,children:e,...n},r)=>g.jsxs(cM,{ref:r,className:ke("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[g.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:g.jsx(Wee,{children:g.jsx(bh,{className:"h-4 w-4"})})}),g.jsx(Bee,{children:e})]}));hM.displayName=cM.displayName;const Yee=we.forwardRef(({className:t,...e},n)=>g.jsx(uM,{ref:n,className:ke("-mx-1 my-1 h-px bg-muted",t),...e}));Yee.displayName=uM.displayName;const Gee=({date:t,setDate:e,time:n,setTime:r,temperatureRaw:i,setTemperatureRaw:o,temperatureCorrected:s,setTemperatureCorrected:a,useCorrected:l,setUseCorrected:c,mucusSensation:u,setMucusSensation:f,mucusAppearance:h,setMucusAppearance:m,fertilitySymbol:_,setFertilitySymbol:v,observations:E,setObservations:x,ignored:y,setIgnored:b,isProcessing:P,isEditing:N,initialData:M,cycleStartDate:S})=>{const[C,I]=p.useState(!1);p.useEffect(()=>{N&&M&&(e(M.timestamp?ae(M.timestamp):ae(M.isoDate)),r(M.timestamp?le(ae(M.timestamp),"HH:mm"):""),o(M.temperature_raw??""),a(M.temperature_corrected??""),c(M.use_corrected??!1),f(M.mucus_sensation??""),m(M.mucus_appearance??""),v(M.fertility_symbol??"none"),x(M.observations??""),b(M.ignored??!1))},[N,M]);const A=be(ae(S)),O=[{before:A},{after:Lt(A,45)}];return g.jsxs(g.Fragment,{children:[g.jsxs("div",{className:"space-y-2",children:[g.jsxs(An,{htmlFor:"date",className:"flex items-center text-[#32334d] text-lg",children:[g.jsx(aC,{className:"mr-2 h-5 w-5 text-pink-400"}),"Fecha del Registro"]}),g.jsxs(rZ,{open:C,onOpenChange:I,children:[g.jsx(iZ,{asChild:!0,children:g.jsxs(Ce,{variant:"outline",className:ke("w-full justify-start text-left font-normal bg-slate-700 border-slate-600 text-slate-50 hover:bg-slate-600 hover:text-slate-50",!t&&"text-muted-foreground"),disabled:P,children:[g.jsx(aC,{className:"mr-2 h-4 w-4"}),t?le(t,"PPP",{locale:Ji}):g.jsx("span",{children:"Selecciona una fecha"})]})}),g.jsx(j2,{className:"w-auto p-0 bg-slate-700 border-slate-600 text-slate-50",align:"start",children:g.jsx(kN,{mode:"single",selected:t,onSelect:D=>{e(be(D||new Date)),I(!1)},initialFocus:!0,locale:Ji,disabled:P?()=>!0:O,className:"[&_button]:text-slate-50 [&_button:hover]:bg-slate-600 [&_button[aria-selected=true]]:bg-pink-500"})})]})]}),g.jsxs("div",{className:"space-y-2",children:[g.jsxs(An,{htmlFor:"temperatureRaw",className:"flex items-center text-[#32334d] text-lg",children:[g.jsx(mH,{className:"mr-2 h-5 w-5 text-rose-400"}),N?"Temperatura Original (°C)":"Temperatura Basal (°C)"," ",g.jsx("span",{className:"text-sm text-[#32334d] ml-1",children:"(Opcional)"})]}),g.jsx(Vr,{id:"temperatureRaw",type:"number",step:"0.01",min:"34.0",max:"40.0",value:i,onChange:D=>o(D.target.value),placeholder:"Ej: 36.50",className:"bg-slate-700 border-slate-600 text-slate-50 placeholder-slate-400 focus:ring-pink-500 focus:border-pink-500 text-base",disabled:P||N&&(M==null?void 0:M.temperature_raw)!==null&&(M==null?void 0:M.temperature_raw)!==void 0,readOnly:N&&(M==null?void 0:M.temperature_raw)!==null&&(M==null?void 0:M.temperature_raw)!==void 0}),g.jsxs("div",{className:"space-y-2",children:[g.jsxs(An,{htmlFor:"time",className:"flex items-center text-[#32334d] text-lg",children:[g.jsx(nH,{className:"mr-2 h-5 w-5 text-rose-400"}),"Hora de la Temperatura ",g.jsx("span",{className:"text-sm text-[#32334d] ml-1",children:"(Opcional)"})]}),g.jsx(Vr,{id:"time",type:"time",value:n,onChange:D=>r(D.target.value),className:"bg-slate-700 border-slate-600 text-slate-50 placeholder-slate-400 focus:ring-pink-500 focus:border-pink-500 text-base",disabled:P})]})]}),N&&g.jsxs("div",{children:[g.jsxs("div",{className:"space-y-3 p-4 border border-slate-700 rounded-md bg-slate-200/30",children:[g.jsxs(An,{htmlFor:"temperatureCorrected",className:"flex items-center text-[#32334d] text-md",children:[g.jsx(My,{className:"mr-2 h-4 w-4 text-amber-400"}),"Temperatura Corregida (°C) ",g.jsx("span",{className:"text-sm text-slate-400 ml-1",children:"(Opcional)"})]}),g.jsx("div",{className:"flex items-center space-x-2"}),g.jsx(Vr,{id:"temperatureCorrected",type:"number",step:"0.01",min:"34.0",max:"40.0",value:s,onChange:D=>{a(D.target.value),D.target.value!==""&&c(!0)},placeholder:"Ej: 36.65",className:"bg-slate-600 border-slate-500 text-slate-50 placeholder-slate-400 focus:ring-pink-500 focus:border-pink-500 text-base",disabled:P}),g.jsx("button",{type:"button",onClick:()=>{a(""),c(!1)},className:"absolute right-2 transform -translate-y-20 text-rose-400  hover:text-rose-400",title:"Eliminar corrección",children:"X"})]}),g.jsxs("div",{className:"flex items-center space-x-2 mt-2",children:[g.jsx(_N,{id:"useCorrected",checked:l,onCheckedChange:c,className:"data-[state=checked]:bg-pink-500 data-[state=checked]:text-white border-slate-500",disabled:P||s===""}),g.jsx(An,{htmlFor:"useCorrected",className:"text-sm text-slate-300",children:"Usar corrección en la gráfica"})]}),g.jsxs(Ce,{type:"button",variant:y?"outline":"destructive",size:"sm",onClick:()=>b(!y),className:"mt-2 hover:bg-rose-200/20",disabled:P,children:[y?g.jsx(Ga,{className:"mr-1 h-4 w-4"}):g.jsx(Rp,{className:"mr-1 h-4 w-4"}),y?"Restaurar":"Despreciar"]})]}),g.jsxs("div",{className:"space-y-2",children:[g.jsxs(An,{htmlFor:"fertilitySymbol",className:"flex items-center text-[#32334d] text-lg",children:[g.jsx(uH,{className:"mr-2 h-5 w-5 text-teal-400"}),"Símbolo de Fertilidad"]}),g.jsxs(zee,{value:_,onValueChange:v,disabled:P,children:[g.jsx(dM,{className:"w-full bg-slate-700 border-slate-600 text-slate-50 hover:bg-slate-600 hover:text-slate-50",children:g.jsx(Hee,{placeholder:"Selecciona un símbolo"})}),g.jsx(fM,{className:"bg-slate-700 border-slate-600 text-slate-50",children:uN.map(D=>g.jsx(hM,{value:D.value,className:"hover:bg-slate-600 focus:bg-slate-600",children:g.jsxs("div",{className:"flex items-center",children:[g.jsx("span",{className:`w-4 h-4 rounded-full mr-2 ${D.color} ${D.pattern?"pattern-bg":""}`}),D.label]})},D.value))})]})]}),g.jsxs("div",{className:"space-y-2",children:[g.jsxs(An,{htmlFor:"mucusSensation",className:"flex items-center text-[#32334d] text-lg",children:[g.jsx(rH,{className:"mr-2 h-5 w-5 text-sky-400"}),"Sensación del Moco Cervical"]}),g.jsx(wf,{id:"mucusSensation",value:u,onChange:D=>f(D.target.value),placeholder:"Describe la sensación (ej: Seca, Húmeda, Mojada)",className:"bg-slate-700 border-slate-600 text-slate-50 placeholder-slate-400 focus:ring-pink-500 focus:border-pink-500 text-base min-h-[80px]",disabled:P})]}),g.jsxs("div",{className:"space-y-2",children:[g.jsxs(An,{htmlFor:"mucusAppearance",className:"flex items-center text-[#32334d] text-lg",children:[g.jsx(Ga,{className:"mr-2 h-5 w-5 text-amber-400"}),"Apariencia del Moco Cervical"]}),g.jsx(wf,{id:"mucusAppearance",value:h,onChange:D=>m(D.target.value),placeholder:"Describe la apariencia (ej: Pegajoso, Elástico)",className:"bg-slate-700 border-slate-600 text-slate-50 placeholder-slate-400 focus:ring-pink-500 focus:border-pink-500 text-base min-h-[80px]",disabled:P})]}),g.jsxs("div",{className:"space-y-2",children:[g.jsxs(An,{htmlFor:"observations",className:"flex items-center text-[#32334d] text-lg",children:[g.jsx(Jz,{className:"mr-2 h-5 w-5 text-indigo-400"}),"Observaciones Adicionales"]}),g.jsx(wf,{id:"observations",value:E,onChange:D=>x(D.target.value),placeholder:"Anota cualquier otra observación relevante (ej: Dolor, medicación)",className:"bg-slate-700 border-slate-600 text-slate-50 placeholder-slate-400 focus:ring-pink-500 focus:border-pink-500 text-base min-h-[80px]",disabled:P})]})]})},Kee=({onCancel:t,isProcessing:e,isEditing:n})=>g.jsxs("div",{className:"flex space-x-4 pt-4",children:[t&&g.jsxs(Ce,{type:"button",onClick:t,variant:"outline",className:"w-full border-slate-600 hover:bg-slate-700 text-[#70747a] font-semibold py-3 text-lg",disabled:e,children:[g.jsx(du,{className:"mr-2 h-5 w-5"}),"Cancelar"]}),g.jsxs(Ce,{type:"submit",className:"w-full bg-gradient-to-r from-pink-500 to-fuchsia-600 hover:from-pink-600 hover:to-fuchsia-700 text-white font-semibold py-3 text-lg shadow-md hover:shadow-lg transition-all duration-300 transform hover:scale-102",disabled:e,children:[e?g.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white mr-2"}):g.jsx(pH,{className:"mr-2 h-5 w-5"}),n?"Actualizar Registro":"Guardar"]})]}),Qee=(t,e,n,r)=>{const[i,o]=p.useState(e!=null&&e.isoDate?ae(e.isoDate):be(new Date)),[s,a]=p.useState((e==null?void 0:e.temperature_raw)===null||(e==null?void 0:e.temperature_raw)===void 0?"":String(e.temperature_raw)),[l,c]=p.useState(e!=null&&e.timestamp?le(ae(e.timestamp),"HH:mm"):le(new Date,"HH:mm")),[u,f]=p.useState((e==null?void 0:e.temperature_corrected)===null||(e==null?void 0:e.temperature_corrected)===void 0?"":String(e.temperature_corrected)),[h,m]=p.useState((e==null?void 0:e.use_corrected)||!1),[_,v]=p.useState((e==null?void 0:e.mucusSensation)||""),[E,x]=p.useState((e==null?void 0:e.mucusAppearance)||""),[y,b]=p.useState((e==null?void 0:e.fertility_symbol)||ma.NONE.value),[P,N]=p.useState((e==null?void 0:e.observations)||""),[M,S]=p.useState((e==null?void 0:e.ignored)||!1),{toast:C}=yl();return p.useEffect(()=>{e?(o(ae(e.isoDate)),a(e.temperature_raw===null||e.temperature_raw===void 0?"":String(e.temperature_raw)),c(e.timestamp?le(ae(e.timestamp),"HH:mm"):""),f(e.temperature_corrected===null||e.temperature_corrected===void 0?"":String(e.temperature_corrected)),m(e.use_corrected||!1),v(e.mucusSensation||""),x(e.mucusAppearance||""),b(e.fertility_symbol||ma.NONE.value),N(e.observations||""),S(e.ignored||!1)):(o(be(new Date)),a(""),c(le(new Date,"HH:mm")),f(""),m(!1),v(""),x(""),b(ma.NONE.value),N(""),S(!1))},[e]),{date:i,setDate:o,temperatureRaw:s,setTemperatureRaw:a,time:l,setTime:c,temperatureCorrected:u,setTemperatureCorrected:f,useCorrected:h,setUseCorrected:m,mucusSensation:_,setMucusSensation:v,mucusAppearance:E,setMucusAppearance:x,fertilitySymbol:y,setFertilitySymbol:b,observations:P,setObservations:N,ignored:M,setIgnored:S,handleSubmit:A=>{if(A.preventDefault(),!i){C({title:"Error",description:"La fecha es obligatoria.",variant:"destructive"});return}const O=le(i,"yyyy-MM-dd");t({isoDate:O,time:l,temperature_raw:s===""?null:parseFloat(s),temperature_corrected:u===""?null:parseFloat(u),use_corrected:h,mucusSensation:_,mucusAppearance:E,fertility_symbol:y,observations:P,ignored:M}),n||(o(be(new Date)),a(""),c(le(new Date,"HH:mm")),f(""),m(!1),v(""),x(""),b(ma.NONE.value),N(""))}}},pM=({onSubmit:t,initialData:e,onCancel:n,cycleStartDate:r,isProcessing:i,isEditing:o=!1})=>{const s=p.useRef(null);p.useEffect(()=>{const D=s.current;if(!D)return;const k=B=>{B.target&&"scrollIntoView"in B.target&&setTimeout(()=>{B.target.scrollIntoView({behavior:"smooth",block:"center"})},50)};return D.addEventListener("focusin",k),()=>D.removeEventListener("focusin",k)},[]);const{date:a,setDate:l,time:c,setTime:u,temperatureRaw:f,setTemperatureRaw:h,temperatureCorrected:m,setTemperatureCorrected:_,useCorrected:v,setUseCorrected:E,mucusSensation:x,setMucusSensation:y,mucusAppearance:b,setMucusAppearance:P,fertilitySymbol:N,setFertilitySymbol:M,observations:S,setObservations:C,ignored:I,setIgnored:A,handleSubmit:O}=Qee(t,e,o);return g.jsxs(qe.form,{ref:s,onSubmit:O,className:"space-y-6 bg-white p-4 sm:p-6 rounded-xl border border-[#FFB1DD]/50 shadow w-full",initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5},children:[g.jsxs("div",{className:"flex justify-between items-center mb-6",children:[g.jsx("h2",{className:"text-2xl font-semibold text-[#292a46]",children:o?"Editar Registro":"Añadir Registro"}),n&&g.jsx(Ce,{type:"button",onClick:n,variant:"ghost",size:"icon",className:"text-[#393C65] hover:text-[#E27DBF] hover:bg-[#E27DBF]/10",children:g.jsx(du,{className:"h-6 w-6"})})]}),g.jsx(Gee,{date:a,setDate:l,time:c,setTime:u,temperatureRaw:f,setTemperatureRaw:h,temperatureCorrected:m,setTemperatureCorrected:_,useCorrected:v,setUseCorrected:E,mucusSensation:x,setMucusSensation:y,mucusAppearance:b,setMucusAppearance:P,fertilitySymbol:N,setFertilitySymbol:M,observations:S,setObservations:C,ignored:I,setIgnored:A,isProcessing:i,isEditing:o,initialData:e,cycleStartDate:r}),g.jsx(Kee,{onCancel:n,isProcessing:i,isEditing:o})]})};var Xee=p.createContext(void 0);function Jee(t){const e=p.useContext(Xee);return t||e||"ltr"}function Zee(t,[e,n]){return Math.min(n,Math.max(e,t))}function ete(t,e){return p.useReducer((n,r)=>e[n][r]??n,t)}var X_="ScrollArea",[mM,Ane]=Ms(X_),[tte,Jn]=mM(X_),gM=p.forwardRef((t,e)=>{const{__scopeScrollArea:n,type:r="hover",dir:i,scrollHideDelay:o=600,...s}=t,[a,l]=p.useState(null),[c,u]=p.useState(null),[f,h]=p.useState(null),[m,_]=p.useState(null),[v,E]=p.useState(null),[x,y]=p.useState(0),[b,P]=p.useState(0),[N,M]=p.useState(!1),[S,C]=p.useState(!1),I=lt(e,O=>l(O)),A=Jee(i);return g.jsx(tte,{scope:n,type:r,dir:A,scrollHideDelay:o,scrollArea:a,viewport:c,onViewportChange:u,content:f,onContentChange:h,scrollbarX:m,onScrollbarXChange:_,scrollbarXEnabled:N,onScrollbarXEnabledChange:M,scrollbarY:v,onScrollbarYChange:E,scrollbarYEnabled:S,onScrollbarYEnabledChange:C,onCornerWidthChange:y,onCornerHeightChange:P,children:g.jsx(We.div,{dir:A,...s,ref:I,style:{position:"relative","--radix-scroll-area-corner-width":x+"px","--radix-scroll-area-corner-height":b+"px",...t.style}})})});gM.displayName=X_;var vM="ScrollAreaViewport",yM=p.forwardRef((t,e)=>{const{__scopeScrollArea:n,children:r,nonce:i,...o}=t,s=Jn(vM,n),a=p.useRef(null),l=lt(e,a,s.onViewportChange);return g.jsxs(g.Fragment,{children:[g.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:i}),g.jsx(We.div,{"data-radix-scroll-area-viewport":"",...o,ref:l,style:{overflowX:s.scrollbarXEnabled?"scroll":"hidden",overflowY:s.scrollbarYEnabled?"scroll":"hidden",...t.style},children:g.jsx("div",{ref:s.onContentChange,style:{minWidth:"100%",display:"table"},children:r})})]})});yM.displayName=vM;var qr="ScrollAreaScrollbar",J_=p.forwardRef((t,e)=>{const{forceMount:n,...r}=t,i=Jn(qr,t.__scopeScrollArea),{onScrollbarXEnabledChange:o,onScrollbarYEnabledChange:s}=i,a=t.orientation==="horizontal";return p.useEffect(()=>(a?o(!0):s(!0),()=>{a?o(!1):s(!1)}),[a,o,s]),i.type==="hover"?g.jsx(nte,{...r,ref:e,forceMount:n}):i.type==="scroll"?g.jsx(rte,{...r,ref:e,forceMount:n}):i.type==="auto"?g.jsx(wM,{...r,ref:e,forceMount:n}):i.type==="always"?g.jsx(Z_,{...r,ref:e}):null});J_.displayName=qr;var nte=p.forwardRef((t,e)=>{const{forceMount:n,...r}=t,i=Jn(qr,t.__scopeScrollArea),[o,s]=p.useState(!1);return p.useEffect(()=>{const a=i.scrollArea;let l=0;if(a){const c=()=>{window.clearTimeout(l),s(!0)},u=()=>{l=window.setTimeout(()=>s(!1),i.scrollHideDelay)};return a.addEventListener("pointerenter",c),a.addEventListener("pointerleave",u),()=>{window.clearTimeout(l),a.removeEventListener("pointerenter",c),a.removeEventListener("pointerleave",u)}}},[i.scrollArea,i.scrollHideDelay]),g.jsx(Xn,{present:n||o,children:g.jsx(wM,{"data-state":o?"visible":"hidden",...r,ref:e})})}),rte=p.forwardRef((t,e)=>{const{forceMount:n,...r}=t,i=Jn(qr,t.__scopeScrollArea),o=t.orientation==="horizontal",s=qp(()=>l("SCROLL_END"),100),[a,l]=ete("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return p.useEffect(()=>{if(a==="idle"){const c=window.setTimeout(()=>l("HIDE"),i.scrollHideDelay);return()=>window.clearTimeout(c)}},[a,i.scrollHideDelay,l]),p.useEffect(()=>{const c=i.viewport,u=o?"scrollLeft":"scrollTop";if(c){let f=c[u];const h=()=>{const m=c[u];f!==m&&(l("SCROLL"),s()),f=m};return c.addEventListener("scroll",h),()=>c.removeEventListener("scroll",h)}},[i.viewport,o,l,s]),g.jsx(Xn,{present:n||a!=="hidden",children:g.jsx(Z_,{"data-state":a==="hidden"?"hidden":"visible",...r,ref:e,onPointerEnter:$e(t.onPointerEnter,()=>l("POINTER_ENTER")),onPointerLeave:$e(t.onPointerLeave,()=>l("POINTER_LEAVE"))})})}),wM=p.forwardRef((t,e)=>{const n=Jn(qr,t.__scopeScrollArea),{forceMount:r,...i}=t,[o,s]=p.useState(!1),a=t.orientation==="horizontal",l=qp(()=>{if(n.viewport){const c=n.viewport.offsetWidth<n.viewport.scrollWidth,u=n.viewport.offsetHeight<n.viewport.scrollHeight;s(a?c:u)}},10);return el(n.viewport,l),el(n.content,l),g.jsx(Xn,{present:r||o,children:g.jsx(Z_,{"data-state":o?"visible":"hidden",...i,ref:e})})}),Z_=p.forwardRef((t,e)=>{const{orientation:n="vertical",...r}=t,i=Jn(qr,t.__scopeScrollArea),o=p.useRef(null),s=p.useRef(0),[a,l]=p.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),c=TM(a.viewport,a.content),u={...r,sizes:a,onSizesChange:l,hasThumb:c>0&&c<1,onThumbChange:h=>o.current=h,onThumbPointerUp:()=>s.current=0,onThumbPointerDown:h=>s.current=h};function f(h,m){return cte(h,s.current,a,m)}return n==="horizontal"?g.jsx(ite,{...u,ref:e,onThumbPositionChange:()=>{if(i.viewport&&o.current){const h=i.viewport.scrollLeft,m=lS(h,a,i.dir);o.current.style.transform=`translate3d(${m}px, 0, 0)`}},onWheelScroll:h=>{i.viewport&&(i.viewport.scrollLeft=h)},onDragScroll:h=>{i.viewport&&(i.viewport.scrollLeft=f(h,i.dir))}}):n==="vertical"?g.jsx(ote,{...u,ref:e,onThumbPositionChange:()=>{if(i.viewport&&o.current){const h=i.viewport.scrollTop,m=lS(h,a);o.current.style.transform=`translate3d(0, ${m}px, 0)`}},onWheelScroll:h=>{i.viewport&&(i.viewport.scrollTop=h)},onDragScroll:h=>{i.viewport&&(i.viewport.scrollTop=f(h))}}):null}),ite=p.forwardRef((t,e)=>{const{sizes:n,onSizesChange:r,...i}=t,o=Jn(qr,t.__scopeScrollArea),[s,a]=p.useState(),l=p.useRef(null),c=lt(e,l,o.onScrollbarXChange);return p.useEffect(()=>{l.current&&a(getComputedStyle(l.current))},[l]),g.jsx(xM,{"data-orientation":"horizontal",...i,ref:c,sizes:n,style:{bottom:0,left:o.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:o.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":Hp(n)+"px",...t.style},onThumbPointerDown:u=>t.onThumbPointerDown(u.x),onDragScroll:u=>t.onDragScroll(u.x),onWheelScroll:(u,f)=>{if(o.viewport){const h=o.viewport.scrollLeft+u.deltaX;t.onWheelScroll(h),SM(h,f)&&u.preventDefault()}},onResize:()=>{l.current&&o.viewport&&s&&r({content:o.viewport.scrollWidth,viewport:o.viewport.offsetWidth,scrollbar:{size:l.current.clientWidth,paddingStart:Mh(s.paddingLeft),paddingEnd:Mh(s.paddingRight)}})}})}),ote=p.forwardRef((t,e)=>{const{sizes:n,onSizesChange:r,...i}=t,o=Jn(qr,t.__scopeScrollArea),[s,a]=p.useState(),l=p.useRef(null),c=lt(e,l,o.onScrollbarYChange);return p.useEffect(()=>{l.current&&a(getComputedStyle(l.current))},[l]),g.jsx(xM,{"data-orientation":"vertical",...i,ref:c,sizes:n,style:{top:0,right:o.dir==="ltr"?0:void 0,left:o.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":Hp(n)+"px",...t.style},onThumbPointerDown:u=>t.onThumbPointerDown(u.y),onDragScroll:u=>t.onDragScroll(u.y),onWheelScroll:(u,f)=>{if(o.viewport){const h=o.viewport.scrollTop+u.deltaY;t.onWheelScroll(h),SM(h,f)&&u.preventDefault()}},onResize:()=>{l.current&&o.viewport&&s&&r({content:o.viewport.scrollHeight,viewport:o.viewport.offsetHeight,scrollbar:{size:l.current.clientHeight,paddingStart:Mh(s.paddingTop),paddingEnd:Mh(s.paddingBottom)}})}})}),[ste,_M]=mM(qr),xM=p.forwardRef((t,e)=>{const{__scopeScrollArea:n,sizes:r,hasThumb:i,onThumbChange:o,onThumbPointerUp:s,onThumbPointerDown:a,onThumbPositionChange:l,onDragScroll:c,onWheelScroll:u,onResize:f,...h}=t,m=Jn(qr,n),[_,v]=p.useState(null),E=lt(e,I=>v(I)),x=p.useRef(null),y=p.useRef(""),b=m.viewport,P=r.content-r.viewport,N=Wt(u),M=Wt(l),S=qp(f,10);function C(I){if(x.current){const A=I.clientX-x.current.left,O=I.clientY-x.current.top;c({x:A,y:O})}}return p.useEffect(()=>{const I=A=>{const O=A.target;(_==null?void 0:_.contains(O))&&N(A,P)};return document.addEventListener("wheel",I,{passive:!1}),()=>document.removeEventListener("wheel",I,{passive:!1})},[b,_,P,N]),p.useEffect(M,[r,M]),el(_,S),el(m.content,S),g.jsx(ste,{scope:n,scrollbar:_,hasThumb:i,onThumbChange:Wt(o),onThumbPointerUp:Wt(s),onThumbPositionChange:M,onThumbPointerDown:Wt(a),children:g.jsx(We.div,{...h,ref:E,style:{position:"absolute",...h.style},onPointerDown:$e(t.onPointerDown,I=>{I.button===0&&(I.target.setPointerCapture(I.pointerId),x.current=_.getBoundingClientRect(),y.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",m.viewport&&(m.viewport.style.scrollBehavior="auto"),C(I))}),onPointerMove:$e(t.onPointerMove,C),onPointerUp:$e(t.onPointerUp,I=>{const A=I.target;A.hasPointerCapture(I.pointerId)&&A.releasePointerCapture(I.pointerId),document.body.style.webkitUserSelect=y.current,m.viewport&&(m.viewport.style.scrollBehavior=""),x.current=null})})})}),Nh="ScrollAreaThumb",EM=p.forwardRef((t,e)=>{const{forceMount:n,...r}=t,i=_M(Nh,t.__scopeScrollArea);return g.jsx(Xn,{present:n||i.hasThumb,children:g.jsx(ate,{ref:e,...r})})}),ate=p.forwardRef((t,e)=>{const{__scopeScrollArea:n,style:r,...i}=t,o=Jn(Nh,n),s=_M(Nh,n),{onThumbPositionChange:a}=s,l=lt(e,f=>s.onThumbChange(f)),c=p.useRef(void 0),u=qp(()=>{c.current&&(c.current(),c.current=void 0)},100);return p.useEffect(()=>{const f=o.viewport;if(f){const h=()=>{if(u(),!c.current){const m=ute(f,a);c.current=m,a()}};return a(),f.addEventListener("scroll",h),()=>f.removeEventListener("scroll",h)}},[o.viewport,u,a]),g.jsx(We.div,{"data-state":s.hasThumb?"visible":"hidden",...i,ref:l,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...r},onPointerDownCapture:$e(t.onPointerDownCapture,f=>{const m=f.target.getBoundingClientRect(),_=f.clientX-m.left,v=f.clientY-m.top;s.onThumbPointerDown({x:_,y:v})}),onPointerUp:$e(t.onPointerUp,s.onThumbPointerUp)})});EM.displayName=Nh;var e1="ScrollAreaCorner",bM=p.forwardRef((t,e)=>{const n=Jn(e1,t.__scopeScrollArea),r=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&r?g.jsx(lte,{...t,ref:e}):null});bM.displayName=e1;var lte=p.forwardRef((t,e)=>{const{__scopeScrollArea:n,...r}=t,i=Jn(e1,n),[o,s]=p.useState(0),[a,l]=p.useState(0),c=!!(o&&a);return el(i.scrollbarX,()=>{var f;const u=((f=i.scrollbarX)==null?void 0:f.offsetHeight)||0;i.onCornerHeightChange(u),l(u)}),el(i.scrollbarY,()=>{var f;const u=((f=i.scrollbarY)==null?void 0:f.offsetWidth)||0;i.onCornerWidthChange(u),s(u)}),c?g.jsx(We.div,{...r,ref:e,style:{width:o,height:a,position:"absolute",right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:0,...t.style}}):null});function Mh(t){return t?parseInt(t,10):0}function TM(t,e){const n=t/e;return isNaN(n)?0:n}function Hp(t){const e=TM(t.viewport,t.content),n=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,r=(t.scrollbar.size-n)*e;return Math.max(r,18)}function cte(t,e,n,r="ltr"){const i=Hp(n),o=i/2,s=e||o,a=i-s,l=n.scrollbar.paddingStart+s,c=n.scrollbar.size-n.scrollbar.paddingEnd-a,u=n.content-n.viewport,f=r==="ltr"?[0,u]:[u*-1,0];return CM([l,c],f)(t)}function lS(t,e,n="ltr"){const r=Hp(e),i=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,o=e.scrollbar.size-i,s=e.content-e.viewport,a=o-r,l=n==="ltr"?[0,s]:[s*-1,0],c=Zee(t,l);return CM([0,s],[0,a])(c)}function CM(t,e){return n=>{if(t[0]===t[1]||e[0]===e[1])return e[0];const r=(e[1]-e[0])/(t[1]-t[0]);return e[0]+r*(n-t[0])}}function SM(t,e){return t>0&&t<e}var ute=(t,e=()=>{})=>{let n={left:t.scrollLeft,top:t.scrollTop},r=0;return function i(){const o={left:t.scrollLeft,top:t.scrollTop},s=n.left!==o.left,a=n.top!==o.top;(s||a)&&e(),n=o,r=window.requestAnimationFrame(i)}(),()=>window.cancelAnimationFrame(r)};function qp(t,e){const n=Wt(t),r=p.useRef(0);return p.useEffect(()=>()=>window.clearTimeout(r.current),[]),p.useCallback(()=>{window.clearTimeout(r.current),r.current=window.setTimeout(n,e)},[n,e])}function el(t,e){const n=Wt(e);Br(()=>{let r=0;if(t){const i=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(n)});return i.observe(t),()=>{window.cancelAnimationFrame(r),i.unobserve(t)}}},[t,n])}var PM=gM,dte=yM,fte=bM;const IM=we.forwardRef(({className:t,children:e,...n},r)=>g.jsxs(PM,{ref:r,className:ke("relative overflow-hidden",t),...n,children:[g.jsx(dte,{className:"h-full w-full rounded-[inherit]",children:e}),g.jsx(AM,{}),g.jsx(fte,{})]}));IM.displayName=PM.displayName;const AM=we.forwardRef(({className:t,orientation:e="vertical",...n},r)=>g.jsx(J_,{ref:r,orientation:e,className:ke("flex touch-none select-none transition-colors",e==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",e==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",t),...n,children:g.jsx(EM,{className:"relative flex-1 rounded-full bg-border"})}));AM.displayName=J_.displayName;const RM=({records:t,onEdit:e,onDelete:n,onClose:r,isArchiveView:i=!1,isProcessing:o})=>{if(!t||t.length===0)return g.jsxs(qe.div,{className:"text-center text-[#6B7280] p-8 bg-white rounded-xl shadow",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},children:[g.jsx("p",{className:"text-xl mb-4",children:"No hay registros para mostrar."}),r&&!i&&g.jsxs(Ce,{onClick:r,variant:"outline",className:"border-[#393C65] hover:bg-[#E27DBF]/10 text-[#393C65]",children:[g.jsx(du,{className:"mr-2 h-5 w-5"}),"Cerrar"]})]});const s=[...t].sort((a,l)=>{const c=a.timestamp?ae(a.timestamp):a.isoDate?ae(a.isoDate):0,u=l.timestamp?ae(l.timestamp):l.isoDate?ae(l.isoDate):0;return c-u});return g.jsxs(qe.div,{className:"w-full bg-white/70 backdrop-blur-md p-4 sm:p-6 rounded-xl ring-1 ring-[#FFB1DD]/20 shadow-xl",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},children:[g.jsxs("div",{className:"flex justify-between items-center mb-6",children:[g.jsx("h2",{className:"text-2xl font-semibold text-[#393C65]",children:i?"Registros del Ciclo":"Mis Registros"}),r&&!i&&g.jsx(Ce,{onClick:r,variant:"ghost",size:"icon",className:"text-[#393C65] hover:text-[#E27DBF] hover:bg-[#E27DBF]/10",children:g.jsx(du,{className:"h-6 w-6"})})]}),g.jsx(IM,{className:"pr-4",children:g.jsx("ul",{className:"space-y-4",children:s.map(a=>{const l=T_(a.fertility_symbol),c=a.timestamp||a.isoDate,u=a.timestamp?le(ae(a.timestamp),"HH:mm"):null;return g.jsxs(qe.li,{className:"bg-white/80 backdrop-blur-md ring-1 ring-[#FFB1DD]/50 border border-[#FFB1DD]/80 shadow-lg rounded-lg p-4 flex flex-col sm:flex-row justify-between items-start sm:items-center hover:shadow-xl transition-shadow duration-300",style:{boxShadow:"0 2px 6px rgba(0,0,0,0.05)"},layout:!0,initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,x:-20},transition:{duration:.2},children:[g.jsxs("div",{className:"flex-grow mb-3 sm:mb-0",children:[g.jsxs("h3",{className:"text-lg font-semibold text-pink-500 mb-1 ",children:[c?le(ae(c),"dd/MM/yyyy",{locale:Ji}):"Fecha no disponible"," (Día ",a.cycleDay||"N/A",")"]}),a.temperature_raw!=null&&g.jsxs("p",{className:"text-sm text-[#6B7280]",children:[g.jsx("span",{className:"font-semibold",children:"Original:"})," ",a.temperature_raw.toFixed(2),"°C",u&&g.jsx("span",{className:"ml-2 text-xs text-[#9CA3AF]",children:u}),a.temperature_corrected!=null&&!a.use_corrected&&g.jsx(bh,{className:"inline h-4 w-4 text-[#E27DBF] ml-1"})]}),a.temperature_corrected!=null&&g.jsxs("p",{className:"text-sm text-[#6B7280]",children:[g.jsx("span",{className:"font-semibold",children:"Corregida:"})," ",a.temperature_corrected.toFixed(2),"°C",a.use_corrected&&g.jsx(bh,{className:"inline h-4 w-4 text-emerald-400 ml-1"})]}),g.jsxs("div",{className:"flex items-center mt-1",children:[l&&l.value!=="none"&&g.jsx("span",{className:`w-4 h-4 rounded-full mr-2 ${l.color} ${l.pattern?"pattern-bg":""} ${l.value==="white"?"border border-gray-300":""}`}),g.jsx("p",{className:`text-sm ${l?l.textColor:"text-[#6B7280]"}`,children:l?l.label:"Sin Símbolo"})]}),g.jsxs("p",{className:"text-sm text-[#6B7280] mt-1",children:[g.jsx("span",{className:"font-semibold",children:"Sensación:"})," ",a.mucus_sensation||"N/A"]}),g.jsxs("p",{className:"text-sm text-[#6B7280]",children:[g.jsx("span",{className:"font-semibold",children:"Apariencia:"})," ",a.mucus_appearance||"N/A"]}),a.observations&&g.jsxs("p",{className:"text-sm text-[#6B7280] mt-1 italic",children:[g.jsx("span",{className:"font-semibold",children:"Observaciones:"})," ",a.observations]}),a.ignored&&g.jsx("p",{className:"text-xs text-rose-400 mt-1",children:"(Registro despreciado)"})]}),!i&&e&&n&&g.jsxs("div",{className:"flex space-x-2 self-end sm:self-center",children:[g.jsxs(Ce,{variant:"outline",size:"sm",onClick:()=>e(a),className:"border-sky-500 text-sky-400 hover:bg-sky-500/20 hover:text-sky-300",disabled:o,children:[g.jsx(Ny,{className:"mr-1 h-4 w-4"})," Editar"]}),g.jsxs(Ce,{variant:"destructive",size:"sm",onClick:()=>n(a.id),className:"bg-rose-600 hover:bg-rose-700",disabled:o,children:[g.jsx(cC,{className:"mr-1 h-4 w-4"})," Eliminar"]})]}),i&&e&&n&&g.jsxs("div",{className:"flex space-x-2 self-end sm:self-center",children:[g.jsxs(Ce,{variant:"outline",size:"sm",onClick:()=>e(a),className:"border-sky-500 text-sky-400 hover:bg-sky-500/20 hover:text-sky-300",disabled:o,children:[g.jsx(Ny,{className:"mr-1 h-4 w-4"})," Editar"]}),g.jsxs(Ce,{variant:"destructive",size:"sm",onClick:()=>n(a.id),className:"bg-rose-600 hover:bg-rose-700",disabled:o,children:[g.jsx(cC,{className:"mr-1 h-4 w-4"})," Eliminar"]})]})]},a.id||c)})})})]})},hte=({onAddRecord:t,onShowRecords:e,onNewCycle:n,disableAdd:r,disableRecords:i})=>g.jsxs(qe.div,{className:"flex flex-wrap justify-center gap-2 mb-6",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.4},children:[g.jsxs(Ce,{onClick:t,className:"font-semibold py-2 px-4 shadow-md hover:shadow-lg transition-all duration-300 transform hover:scale-105 flex items-center text-base",disabled:r,children:[g.jsx(dH,{className:"mr-2 h-6 w-6"}),"Añadir Registro"]}),g.jsxs(Ce,{onClick:e,variant:"outline",className:"border-pink-500 text-pink-400 hover:bg-pink-500/20 hover:text-pink-300 font-semibold py-2 px-4 rounded-lg shadow-lg hover:shadow-xl transition-all duration-300 transform hover:scale-105 flex items-center text-base",disabled:i,children:[g.jsx(oH,{className:"mr-2 h-6 w-6"}),"Mis Registros"]}),g.jsxs(Ce,{onClick:n,variant:"outline",className:"border-rose-500 text-rose-400 hover:bg-rose-500/20 hover:text-rose-300 font-semibold py-2 px-4 rounded-lg shadow-lg hover:shadow-xl transition-all duration-300 transform hover:scale-105 flex items-center text-base",children:[g.jsx(fH,{className:"mr-2 h-6 w-6"}),"Nuevo Ciclo"]})]}),pte=()=>g.jsxs(qe.div,{className:"text-center text-slate-400 py-10",initial:{opacity:0},animate:{opacity:1},transition:{duration:.5,delay:.6},children:[g.jsx("p",{className:"text-xl mb-4",children:"Aún no hay datos registrados para este ciclo."}),g.jsx("p",{children:'Haz clic en "Añadir Registro" para empezar.'}),g.jsx("div",{className:"mt-8"})]});function Ts(t,e){p.useEffect(()=>{if(!t)return;const n=crypto.randomUUID?crypto.randomUUID():Math.random().toString(36).slice(2),r=i=>{i.state&&i.state.overlay===n&&e()};return window.history.pushState({overlay:n},""),window.addEventListener("popstate",r),()=>{window.removeEventListener("popstate",r),window.history.state&&window.history.state.overlay===n&&window.history.back()}},[t,e])}var Yp="Dialog",[kM,Rne]=Ms(Yp),[mte,yr]=kM(Yp),DM=t=>{const{__scopeDialog:e,children:n,open:r,defaultOpen:i,onOpenChange:o,modal:s=!0}=t,a=p.useRef(null),l=p.useRef(null),[c,u]=kp({prop:r,defaultProp:i??!1,onChange:o,caller:Yp});return g.jsx(mte,{scope:e,triggerRef:a,contentRef:l,contentId:xf(),titleId:xf(),descriptionId:xf(),open:c,onOpenChange:u,onOpenToggle:p.useCallback(()=>u(f=>!f),[u]),modal:s,children:n})};DM.displayName=Yp;var NM="DialogTrigger",MM=p.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=yr(NM,n),o=lt(e,i.triggerRef);return g.jsx(We.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":r1(i.open),...r,ref:o,onClick:$e(t.onClick,i.onOpenToggle)})});MM.displayName=NM;var t1="DialogPortal",[gte,OM]=kM(t1,{forceMount:void 0}),LM=t=>{const{__scopeDialog:e,forceMount:n,children:r,container:i}=t,o=yr(t1,e);return g.jsx(gte,{scope:e,forceMount:n,children:p.Children.map(r,s=>g.jsx(Xn,{present:n||o.open,children:g.jsx(jp,{asChild:!0,container:i,children:s})}))})};LM.displayName=t1;var Oh="DialogOverlay",VM=p.forwardRef((t,e)=>{const n=OM(Oh,t.__scopeDialog),{forceMount:r=n.forceMount,...i}=t,o=yr(Oh,t.__scopeDialog);return o.modal?g.jsx(Xn,{present:r||o.open,children:g.jsx(yte,{...i,ref:e})}):null});VM.displayName=Oh;var vte=Ha("DialogOverlay.RemoveScroll"),yte=p.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=yr(Oh,n);return g.jsx(S2,{as:vte,allowPinchZoom:!0,shards:[i.contentRef],children:g.jsx(We.div,{"data-state":r1(i.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),Cs="DialogContent",jM=p.forwardRef((t,e)=>{const n=OM(Cs,t.__scopeDialog),{forceMount:r=n.forceMount,...i}=t,o=yr(Cs,t.__scopeDialog);return g.jsx(Xn,{present:r||o.open,children:o.modal?g.jsx(wte,{...i,ref:e}):g.jsx(_te,{...i,ref:e})})});jM.displayName=Cs;var wte=p.forwardRef((t,e)=>{const n=yr(Cs,t.__scopeDialog),r=p.useRef(null),i=lt(e,n.contentRef,r);return p.useEffect(()=>{const o=r.current;if(o)return z_(o)},[]),g.jsx(FM,{...t,ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:$e(t.onCloseAutoFocus,o=>{var s;o.preventDefault(),(s=n.triggerRef.current)==null||s.focus()}),onPointerDownOutside:$e(t.onPointerDownOutside,o=>{const s=o.detail.originalEvent,a=s.button===0&&s.ctrlKey===!0;(s.button===2||a)&&o.preventDefault()}),onFocusOutside:$e(t.onFocusOutside,o=>o.preventDefault())})}),_te=p.forwardRef((t,e)=>{const n=yr(Cs,t.__scopeDialog),r=p.useRef(!1),i=p.useRef(!1);return g.jsx(FM,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{var s,a;(s=t.onCloseAutoFocus)==null||s.call(t,o),o.defaultPrevented||(r.current||(a=n.triggerRef.current)==null||a.focus(),o.preventDefault()),r.current=!1,i.current=!1},onInteractOutside:o=>{var l,c;(l=t.onInteractOutside)==null||l.call(t,o),o.defaultPrevented||(r.current=!0,o.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const s=o.target;((c=n.triggerRef.current)==null?void 0:c.contains(s))&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&i.current&&o.preventDefault()}})}),FM=p.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:o,...s}=t,a=yr(Cs,n),l=p.useRef(null),c=lt(e,l);return ON(),g.jsxs(g.Fragment,{children:[g.jsx(M_,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:o,children:g.jsx(Mp,{role:"dialog",id:a.contentId,"aria-describedby":a.descriptionId,"aria-labelledby":a.titleId,"data-state":r1(a.open),...s,ref:c,onDismiss:()=>a.onOpenChange(!1)})}),g.jsxs(g.Fragment,{children:[g.jsx(xte,{titleId:a.titleId}),g.jsx(bte,{contentRef:l,descriptionId:a.descriptionId})]})]})}),n1="DialogTitle",$M=p.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=yr(n1,n);return g.jsx(We.h2,{id:i.titleId,...r,ref:e})});$M.displayName=n1;var UM="DialogDescription",BM=p.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=yr(UM,n);return g.jsx(We.p,{id:i.descriptionId,...r,ref:e})});BM.displayName=UM;var WM="DialogClose",zM=p.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=yr(WM,n);return g.jsx(We.button,{type:"button",...r,ref:e,onClick:$e(t.onClick,()=>i.onOpenChange(!1))})});zM.displayName=WM;function r1(t){return t?"open":"closed"}var HM="DialogTitleWarning",[kne,qM]=tK(HM,{contentName:Cs,titleName:n1,docsSlug:"dialog"}),xte=({titleId:t})=>{const e=qM(HM),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return p.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},Ete="DialogDescriptionWarning",bte=({contentRef:t,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${qM(Ete).contentName}}.`;return p.useEffect(()=>{var o;const i=(o=t.current)==null?void 0:o.getAttribute("aria-describedby");e&&i&&(document.getElementById(e)||console.warn(r))},[r,t,e]),null},YM=DM,Tte=MM,GM=LM,Gp=VM,Kp=jM,Qp=$M,Xp=BM,KM=zM;const i1=YM,Cte=GM,QM=we.forwardRef(({className:t,...e},n)=>g.jsx(Gp,{ref:n,className:ke("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));QM.displayName=Gp.displayName;const Jp=we.forwardRef(({className:t,children:e,...n},r)=>g.jsxs(Cte,{children:[g.jsx(QM,{}),g.jsxs(Kp,{ref:r,className:ke("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...n,children:[e,g.jsxs(KM,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[g.jsx(ju,{className:"h-4 w-4"}),g.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Jp.displayName=Kp.displayName;const Zp=({className:t,...e})=>g.jsx("div",{className:ke("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});Zp.displayName="DialogHeader";const em=({className:t,...e})=>g.jsx("div",{className:ke("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});em.displayName="DialogFooter";const tm=we.forwardRef(({className:t,...e},n)=>g.jsx(Qp,{ref:n,className:ke("text-lg font-semibold leading-none tracking-tight",t),...e}));tm.displayName=Qp.displayName;const nm=we.forwardRef(({className:t,...e},n)=>g.jsx(Xp,{ref:n,className:ke("text-sm text-muted-foreground",t),...e}));nm.displayName=Xp.displayName;const XM=({isOpen:t,onClose:e,onConfirm:n,recordDate:r})=>(Ts(t,e),g.jsx(i1,{open:t,onOpenChange:e,children:g.jsxs(Jp,{className:"bg-slate-800 border-slate-700 text-slate-50",children:[g.jsxs(Zp,{children:[g.jsx(tm,{children:"Confirmar Eliminación"}),g.jsxs(nm,{className:"text-slate-400",children:["¿Estás seguro de que quieres eliminar el registro del ",r,"? Esta acción no se puede deshacer."]})]}),g.jsxs(em,{className:"sm:justify-end",children:[g.jsx(Ce,{variant:"outline",onClick:e,className:"border-slate-600 hover:bg-slate-700",children:"Cancelar"}),g.jsx(Ce,{variant:"destructive",onClick:n,children:"Eliminar"})]})]})})),Ste=({isOpen:t,onClose:e,onConfirm:n,currentCycleStartDate:r})=>{const[i,o]=p.useState(le(new Date,"yyyy-MM-dd"));Ts(t,e);const s=()=>{n(i)};return g.jsx(i1,{open:t,onOpenChange:e,children:g.jsxs(Jp,{className:"bg-slate-800 border-slate-700 text-slate-50",children:[g.jsxs(Zp,{children:[g.jsx(tm,{children:"Iniciar Nuevo Ciclo"}),g.jsxs(nm,{className:"text-slate-400",children:["¿Estás seguro de que quieres iniciar un nuevo ciclo? Los datos del ciclo actual (",le(new Date(r),"dd/MM/yyyy")," - ",le(new Date,"dd/MM/yyyy"),") serán archivados."]})]}),g.jsxs("div",{className:"my-4 space-y-2",children:[g.jsx("label",{htmlFor:"startDate",className:"text-slate-300 text-sm",children:"Fecha de inicio del nuevo ciclo"}),g.jsx(Vr,{id:"startDate",type:"date",value:i,onChange:a=>o(a.target.value),max:le(new Date,"yyyy-MM-dd"),className:"bg-slate-700 border-slate-600 text-slate-50"})]}),g.jsxs(em,{className:"sm:justify-end",children:[g.jsx(Ce,{variant:"outline",onClick:e,className:"border-slate-600 hover:bg-slate-700",children:"Cancelar"}),g.jsx(Ce,{variant:"primary",onClick:s,className:"bg-pink-600 hover:bg-pink-700",children:"Confirmar Nuevo Ciclo"})]})]})})},Pte=(t,e)=>{if(!t||!e)return 0;const n=be(ae(t)),r=be(ae(e));return ls(n,r)+1},zg=(t,e)=>!t||!Array.isArray(t)||!e?[]:[...t].sort((r,i)=>{const o=r.timestamp?ae(r.timestamp):r.iso_date?ae(r.iso_date):0,s=i.timestamp?ae(i.timestamp):i.iso_date?ae(i.iso_date):0;return AH(o,s)}).map(r=>({...r,id:r.id,isoDate:r.iso_date||(r.timestamp?le(ae(r.timestamp),"yyyy-MM-dd"):null),date:r.timestamp?le(ae(r.timestamp),"dd/MM"):r.iso_date?le(ae(r.iso_date),"dd/MM"):"N/A",cycleDay:Pte(r.iso_date||r.timestamp,e),temperature_raw:r.temperature_raw,temperature_corrected:r.temperature_corrected,use_corrected:r.use_corrected,mucusSensation:r.mucus_sensation,mucusAppearance:r.mucus_appearance,fertility_symbol:r.fertility_symbol,observations:r.observations,ignored:r.ignored,temperature_chart:r.temperature_chart,timestamp:r.timestamp})),Ite=async t=>{const e=ys(Qn,"cycles"),n=ru(e,ba("user_id","==",t),ba("end_date","==",null),iu("start_date","desc"),b6(1)),r=await ou(n);if(r.empty)return null;const i=r.docs[0],o=i.data(),s=ys(Qn,"entries"),a=ru(s,ba("cycle_id","==",i.id),iu("timestamp","asc")),c=(await ou(a)).docs.map(u=>({id:u.id,...u.data()}));return{id:i.id,startDate:o.start_date,endDate:o.end_date,data:c}},Ate=async t=>{const e=ys(Qn,"cycles"),n=ru(e,ba("user_id","==",t),iu("start_date","desc")),i=(await ou(n)).docs.map(s=>({id:s.id,...s.data()})).filter(s=>s.end_date!==null&&s.end_date!==void 0);return await Promise.all(i.map(async s=>{const a=ys(Qn,"entries"),l=ru(a,ba("cycle_id","==",s.id),iu("timestamp","asc")),u=(await ou(l)).docs.map(f=>({id:f.id,...f.data()}));return{id:s.id,startDate:s.start_date,endDate:s.end_date,data:u}}))},cS=async(t,e)=>{const n=pl(Qn,"cycles",e),r=await Mw(n);if(!r.exists())return null;const i=r.data();if(i.user_id!==t)return null;const o=ys(Qn,"entries"),s=ru(o,ba("cycle_id","==",e),iu("timestamp","asc")),l=(await ou(s)).docs.map(c=>({id:c.id,...c.data()}));return{id:e,startDate:i.start_date,endDate:i.end_date,data:l}},uS=async(t,e)=>({id:(await RR(ys(Qn,"cycles"),{user_id:t,start_date:e,end_date:null})).id,start_date:e}),Rte=async t=>({id:(await RR(ys(Qn,"entries"),{cycle_id:t.cycle_id,user_id:t.user_id,timestamp:t.timestamp??new Date().toISOString(),temperature_raw:t.temperature_raw,temperature_corrected:t.temperature_corrected,use_corrected:t.use_corrected,mucus_sensation:t.mucus_sensation,mucus_appearance:t.mucus_appearance,fertility_symbol:t.fertility_symbol,observations:t.observations,ignored:t.ignored})).id}),dS=async(t,e)=>{const n=pl(Qn,"entries",t),r={temperature_raw:e.temperature_raw,temperature_corrected:e.temperature_corrected,use_corrected:e.use_corrected,mucus_sensation:e.mucus_sensation,mucus_appearance:e.mucus_appearance,fertility_symbol:e.fertility_symbol,observations:e.observations,ignored:e.ignored};return e.timestamp&&(r.timestamp=e.timestamp),await Ow(n,r),{id:t}},kte=async t=>{await P6(pl(Qn,"entries",t))},Dte=async(t,e,n)=>{const r=pl(Qn,"cycles",t),i=await Mw(r);if(!i.exists())throw new Error("Cycle not found");if(i.data().user_id!==e)throw new Error("Unauthorized");await Ow(r,{end_date:n})},Nte=async(t,e,n,r)=>{const i=pl(Qn,"cycles",t),o=await Mw(i);if(!o.exists())throw new Error("Cycle not found");if(o.data().user_id!==e)throw new Error("Unauthorized");const a={};n!==void 0&&(a.start_date=n),r!==void 0&&(a.end_date=r),await Ow(i,a)},fS=(t,e)=>{if(!e)return t;const n=be(ae(e));return t.filter(r=>ae(r.isoDate)<=n)},o1=(t=null)=>{const{user:e}=vl(),{toast:n}=yl(),[r,i]=p.useState({id:null,startDate:le(be(new Date),"yyyy-MM-dd"),data:[]}),[o,s]=p.useState([]),[a,l]=p.useState(!0),c=p.useCallback(async()=>{if(!e){l(!1);return}l(!0);try{let E;if(t)E=await cS(e.id,t),E||(E={id:t,startDate:le(be(new Date),"yyyy-MM-dd"),data:[]});else if(E=await Ite(e.id),!E){const y=le(be(new Date),"yyyy-MM-dd"),b=await uS(e.id,y);E={id:b.id,startDate:b.start_date,data:[]}}i({...E,startDate:E.startDate?le(be(ae(E.startDate)),"yyyy-MM-dd"):le(be(new Date),"yyyy-MM-dd"),data:zg(E.data,E.startDate)});const x=await Ate(e.id);s(x.map(y=>{const b=zg(y.data||[],y.startDate),P=fS(b,y.endDate);return{...y,startDate:y.startDate?le(be(ae(y.startDate)),"yyyy-MM-dd"):le(be(new Date),"yyyy-MM-dd"),endDate:y.endDate?le(be(ae(y.endDate)),"yyyy-MM-dd"):null,data:P}}))}catch(E){console.error("Error in loadCycleData:",E),i({id:null,startDate:le(be(new Date),"yyyy-MM-dd"),data:[]}),s([])}finally{l(!1)}},[e,t]);p.useEffect(()=>{c()},[c]);const u=p.useCallback(async(E,x)=>{if(!e||!r.id)throw console.error("User or currentCycle.id is missing"),new Error("User or currentCycle.id is missing");l(!0);try{const y=E.time&&E.time.trim()!==""?E.time:le(new Date,"HH:mm"),b=zY(`${E.isoDate} ${y}`,"yyyy-MM-dd HH:mm",new Date),P={cycle_id:r.id,user_id:e.id,timestamp:le(b,"yyyy-MM-dd'T'HH:mm:ssXXX"),temperature_raw:E.temperature_raw===""||E.temperature_raw===null||E.temperature_raw===void 0?null:parseFloat(E.temperature_raw),temperature_corrected:E.temperature_corrected===""||E.temperature_corrected===null||E.temperature_corrected===void 0?null:parseFloat(E.temperature_corrected),use_corrected:E.use_corrected||!1,mucus_sensation:E.mucusSensation||null,mucus_appearance:E.mucusAppearance||null,fertility_symbol:E.fertility_symbol==="none"?null:E.fertility_symbol,observations:E.observations||null,ignored:x?E.ignored??x.ignored:E.ignored||!1};x?await dS(x.id,P):await Rte(P),await c()}catch(y){throw console.error("Error adding/updating data point:",y),y}finally{l(!1)}},[e,r.id,c]),f=p.useCallback(async E=>{if(!(!e||!r.id)){l(!0);try{await kte(E,e.id),await c()}catch(x){throw console.error("Error deleting record:",x),x}finally{l(!1)}}},[e,r.id,c]),h=p.useCallback(async(E,x)=>{if(e){l(!0);try{const y=E===r.id?r:o.find(N=>N.id===E);if(!y)throw new Error("Cycle not found for toggling ignore state.");const b=y.data.find(N=>N.id===x);if(!b)throw new Error("Record not found for toggling ignore state.");const P=!b.ignored;await dS(x,{ignored:P}),await c()}catch(y){throw console.error("Error toggling ignore state:",y),y}finally{l(!1)}}},[e,r,o,c]),m=p.useCallback(async E=>{if(!(!e||!r.id)){l(!0);try{const x=be(E?ae(E):new Date),y=le(Lt(x,-1),"yyyy-MM-dd");await Dte(r.id,e.id,y);const b=le(x,"yyyy-MM-dd"),P=await uS(e.id,b);i({id:P.id,startDate:P.start_date,data:[]}),await c()}catch(x){throw console.error("Error starting new cycle:",x),n({title:"Error",description:"No se pudo archivar el ciclo.",variant:"destructive"}),x}finally{l(!1)}}},[e,r,c,n]),_=p.useCallback(async(E,x,y)=>{if(e){l(!0);try{await Nte(E,e.id,x,y),await c()}catch(b){throw console.error("Error updating cycle dates:",b),n({title:"Error",description:"No se pudieron actualizar las fechas.",variant:"destructive"}),b}finally{l(!1)}}},[e,c,n]),v=p.useCallback(async E=>{if(!e)return null;l(!0);try{const x=await cS(e.id,E);if(!x)return null;const y=zg(x.data||[],x.startDate),b=fS(y,x.endDate);return{...x,startDate:x.startDate?le(be(ae(x.startDate)),"yyyy-MM-dd"):le(be(new Date),"yyyy-MM-dd"),endDate:x.endDate?le(be(ae(x.endDate)),"yyyy-MM-dd"):null,data:b}}catch(x){return console.error("Error fetching cycle by ID:",x),null}finally{l(!1)}},[e]);return{currentCycle:r,archivedCycles:o,addOrUpdateDataPoint:u,deleteRecord:f,startNewCycle:m,updateCycleDates:_,isLoading:a,getCycleById:v,refreshData:c,toggleIgnoreRecord:h}},JM=()=>{const[t,e]=p.useState(!1),[n,r]=p.useState("portrait"),i=p.useCallback(async(l="portrait")=>{const c=document.documentElement;try{c.requestFullscreen?await c.requestFullscreen():c.mozRequestFullScreen?await c.mozRequestFullScreen():c.webkitRequestFullscreen?await c.webkitRequestFullscreen():c.msRequestFullscreen&&await c.msRequestFullscreen(),typeof window<"u"&&window.screen&&window.screen.orientation&&window.screen.orientation.lock&&await window.screen.orientation.lock(`${l}-primary`).catch(()=>{}),r(l)}catch{}},[]),o=p.useCallback(async()=>{try{document.exitFullscreen?await document.exitFullscreen():document.mozCancelFullScreen?await document.mozCancelFullScreen():document.webkitExitFullscreen?await document.webkitExitFullscreen():document.msExitFullscreen&&await document.msExitFullscreen(),typeof window<"u"&&window.screen&&window.screen.orientation&&window.screen.orientation.unlock&&window.screen.orientation.unlock()}catch{}},[]),s=p.useCallback(async()=>{t?await o():await i("portrait")},[t,i,o]),a=p.useCallback(async()=>{const l=n==="portrait"?"landscape":"portrait";t&&window.screen&&window.screen.orientation&&window.screen.orientation.lock&&await window.screen.orientation.lock(`${l}-primary`).catch(()=>{}),r(l)},[n,t]);return p.useEffect(()=>{const l=()=>{const c=!!(document.fullscreenElement||document.webkitIsFullScreen||document.mozFullScreenElement||document.msFullscreenElement);e(c),!c&&typeof window<"u"&&window.screen&&window.screen.orientation&&window.screen.orientation.unlock&&window.screen.orientation.unlock()};return document.addEventListener("fullscreenchange",l),document.addEventListener("webkitfullscreenchange",l),document.addEventListener("mozfullscreenchange",l),document.addEventListener("MSFullscreenChange",l),()=>{document.removeEventListener("fullscreenchange",l),document.removeEventListener("webkitfullscreenchange",l),document.removeEventListener("mozfullscreenchange",l),document.removeEventListener("MSFullscreenChange",l)}},[]),{isFullScreen:t,orientation:n,toggleFullScreen:s,rotateScreen:a}};function ZM(t,e){if(!t||!e)return[];const n=typeof t=="string"?ae(t):t;return[...Array(e)].map((r,i)=>{const o=Lt(n,i),s=le(o,"yyyy-MM-dd"),a=le(o,"dd/MM"),l=ls(be(o),be(n))+1;return{date:a,isoDate:s,cycleDay:l,temperature:null,mucusSensation:null,mucusAppearance:null,id:`placeholder-${s}`,ignored:!1}})}const eO=28,tO=5,nO=10,Mte=({currentCycle:t,addOrUpdateDataPoint:e,deleteCurrentRecord:n,toggleIgnoreRecord:r,startNewCycle:i,isLoading:o,isFullScreen:s,toggleFullScreen:a,orientation:l,rotateScreen:c,chartDisplayData:u,scrollStart:f,showForm:h,setShowForm:m,showRecords:_,setShowRecords:v,editingRecord:E,setEditingRecord:x,recordToDelete:y,setRecordToDelete:b,confirmNewCycleDialog:P,setConfirmNewCycleDialog:N,toast:M,showInterpretation:S,setShowInterpretation:C})=>{Ts(_,()=>v(!1)),Ts(h||E,()=>{m(!1),x(null)});const I=s?l==="portrait"?nO:eO:tO,A=j=>{const L=()=>{x(j),v(!1),m(!0)};s?(a(),setTimeout(L,300)):L()},O=j=>{const L=t.data.find(V=>V.id===j);b(L)},D=()=>{y&&(n(y.id),M({title:"Registro eliminado",description:`El registro del ${le(ae(y.isoDate),"dd/MM/yyyy")} ha sido eliminado.`,variant:"destructive"}),b(null))},k=()=>{x(null),v(!1),m(!0)},B=()=>{m(!1),x(null),v(!0)},q=()=>{N(!0)},K=j=>{i(j),M({title:"Nuevo Ciclo Iniciado",description:"Los datos del ciclo anterior han sido archivados."}),N(!1)};return o?g.jsx("div",{className:"text-center text-slate-300 p-8",children:"Cargando datos del ciclo..."}):g.jsxs("div",{className:`flex flex-col items-center w-full ${s?"overflow-hidden h-full":""}`,children:[g.jsxs("main",{className:`w-full ${s?"h-full flex items-center justify-center":"max-w-4xl flex-grow"}`,children:[!s&&!h&&!_&&g.jsx("h2",{className:"text-center text-lg font-semibold text-pink-600 mb-1",children:"Ciclo actual"}),g.jsx(Sc,{children:!h&&!_&&(u.length>0||s)&&g.jsxs(qe.div,{initial:{opacity:0,scale:s?1:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:s?1:.9},transition:{duration:.5},className:`shadow-xl rounded-xl ring-1 ring-[#FFB1DD]/50 ${s?"w-full h-full p-0 fixed inset-0 z-50 bg-white":"p-4 sm:p-6 mb-8 bg-white/70 backdrop-blur-md"}`,style:{boxShadow:"0 4px 12px rgba(0,0,0,0.05)"},children:[g.jsx(dN,{data:u,isFullScreen:s,orientation:l,onEdit:A,onToggleIgnore:r,cycleId:t.id,initialScrollIndex:f,visibleDays:I,showInterpretation:S}),g.jsxs(Ce,{onClick:()=>C(j=>!j),variant:"ghost",size:"sm",className:`absolute ${s?"top-4 right-24":"top-2 right-10"} flex items-center text-xs font-normal py-1 px-2 rounded-lg transition-colors ${S?"bg-[#E27DBF] text-white hover:bg-[#d46ab3]":"bg-transparent text-[#393C65] hover:bg-[#E27DBF]/20"}`,children:[S?g.jsx(Rp,{className:"mr-2 h-4 w-4"}):g.jsx(Ga,{className:"mr-2 h-4 w-4"}),S?"Ocultar":"Interpretar"]}),s&&g.jsx(Ce,{onClick:c,variant:"ghost",size:"icon",className:"absolute top-4 right-16 text-white bg-slate-700/50 hover:bg-slate-600/70",title:"Rotar Pantalla",children:g.jsx(hH,{className:"h-6 w-6"})}),g.jsx(Ce,{onClick:a,variant:"ghost",size:"icon",className:`absolute ${s?"top-4 right-4 text-white bg-slate-700/50 hover:bg-slate-600/70":"top-2 right-2 text-slate-400 hover:text-slate-200 hover:bg-slate-700/50"}`,title:s?"Salir de Pantalla Completa":"Ver en Pantalla Completa",children:s?g.jsx(ju,{className:"h-6 w-6"}):g.jsx(qD,{className:"h-5 w-5"})})]})}),!s&&g.jsxs(g.Fragment,{children:[g.jsx(hte,{onAddRecord:k,onShowRecords:B,onNewCycle:q,disableAdd:h&&!E,disableRecords:_}),g.jsx(Sc,{children:(h||E)&&g.jsx(qe.div,{initial:{opacity:0,y:20,height:0},animate:{opacity:1,y:0,height:"auto"},exit:{opacity:0,y:20,height:0},transition:{duration:.3},className:"overflow-hidden w-full",children:g.jsx(pM,{onSubmit:e,initialData:E,isEditing:!!E,cycleStartDate:t.startDate,onCancel:()=>{m(!1),x(null)}})},"data-entry-form")}),g.jsx(Sc,{children:_&&g.jsx(qe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},className:"w-full",children:g.jsx(RM,{records:t.data,onEdit:A,onDelete:O,onClose:()=>v(!1)})},"records-list")}),t.data.filter(j=>j.id&&!j.id.startsWith("placeholder-")).length===0&&!h&&!_&&!s&&g.jsx(pte,{})]})]}),g.jsx(XM,{isOpen:!!y,onClose:()=>b(null),onConfirm:D,recordDate:y?le(ae(y.isoDate),"dd/MM/yyyy"):""}),g.jsx(Ste,{isOpen:P,onClose:()=>N(!1),onConfirm:K,currentCycleStartDate:t.startDate})]})};function Ote(){const{currentCycle:t,addOrUpdateDataPoint:e,deleteRecord:n,startNewCycle:r,isLoading:i,refreshData:o,toggleIgnoreRecord:s}=o1(),[a,l]=p.useState(!1),[c,u]=p.useState(!1),[f,h]=p.useState(null),[m,_]=p.useState(null),[v,E]=p.useState(!1),[x,y]=p.useState(!1),{isFullScreen:b,orientation:P,toggleFullScreen:N,rotateScreen:M}=JM(),{toast:S}=yl();p.useEffect(()=>{o()},[o]);const C=D=>{e(D,f),S({title:f?"Registro actualizado":"Nuevo registro añadido",description:f?`Datos del ${le(ae(D.isoDate),"dd/MM/yyyy")} actualizados.`:`Registro para el ${le(ae(D.isoDate),"dd/MM/yyyy")} añadido.`}),l(!1),h(null)},I=p.useCallback(()=>{if(i||!t||!t.startDate)return{data:[],scrollStart:0};const D=ae(t.startDate),k=t.data.reduce((fe,Ee)=>{const J=ae(Ee.isoDate);return J>fe?J:fe},D),B=be(new Date),q=k>B?k:B,K=ls(be(q),D),j=Math.max(eO,K+1),V=ZM(D,j).map(fe=>{const Ee=t.data.find(J=>J.isoDate===fe.isoDate);return Ee?{...Ee,date:fe.date}:fe});if(b&&P==="landscape")return{data:V,scrollStart:0};const $=ls(new Date,be(D)),W=Math.min(Math.max($,0),j-1);let Y=Math.min(j,W+1);const G=b?nO:tO;W<G-1&&(Y=Math.min(j,G));const oe=Math.max(0,Y-G);return{data:V,scrollStart:oe}},[t,b,i,P]),{data:A,scrollStart:O}=I();return g.jsx(Mte,{currentCycle:t,addOrUpdateDataPoint:C,deleteCurrentRecord:n,toggleIgnoreRecord:s,startNewCycle:r,isLoading:i,isFullScreen:b,toggleFullScreen:N,orientation:P,rotateScreen:M,chartDisplayData:A,scrollStart:O,showForm:a,setShowForm:l,showRecords:c,setShowRecords:u,editingRecord:f,setEditingRecord:h,recordToDelete:m,setRecordToDelete:_,confirmNewCycleDialog:v,setConfirmNewCycleDialog:E,toast:S,showInterpretation:x,setShowInterpretation:y})}const Lte=()=>{const{archivedCycles:t,isLoading:e}=o1();if(e)return g.jsx("div",{className:"text-center text-slate-300 p-8",children:"Cargando ciclos archivados..."});if(!t||t.length===0)return g.jsxs(qe.div,{className:"text-center text-slate-400 py-10 flex flex-col items-center",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:[g.jsx(HD,{className:"w-24 h-24 text-slate-500 mb-6"}),g.jsx("h2",{className:"text-2xl font-semibold text-slate-200 mb-4",children:"No hay ciclos archivados"}),g.jsx("p",{className:"text-lg",children:"Cuando inicies un nuevo ciclo, el anterior aparecerá aquí."}),g.jsx(Ce,{asChild:!0,className:"mt-8 bg-gradient-to-r from-pink-500 to-fuchsia-600 hover:from-pink-600 hover:to-fuchsia-700 text-white",children:g.jsx(Gc,{to:"/",children:"Volver al Ciclo Actual"})})]});const n=[...t].sort((r,i)=>ae(i.startDate)-ae(r.startDate));return g.jsxs("div",{className:"w-full max-w-4xl mx-auto",children:[g.jsx(qe.h1,{className:"text-3xl sm:text-4xl font-bold text-slate-100 mb-8 text-center",initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5},children:"Mis Ciclos Archivados"}),g.jsx(qe.ul,{className:"space-y-6",variants:{hidden:{opacity:0},show:{opacity:1,transition:{staggerChildren:.1}}},initial:"hidden",animate:"show",children:n.map(r=>{const i=r.endDate?le(ae(r.endDate),"dd MMM yyyy",{locale:Ji}):r.data&&r.data.length>0?le(ae(r.data[r.data.length-1].isoDate),"dd MMM yyyy",{locale:Ji}):le(ae(r.startDate),"dd MMM yyyy",{locale:Ji}),o=r.data?r.data.length:0;return g.jsx(qe.li,{className:"bg-white/70 backdrop-blur-md ring-1 ring-[#FFB1DD]/50 shadow-xl rounded-xl p-6 hover:shadow-2xl transition-shadow duration-300",variants:{hidden:{opacity:0,y:20},show:{opacity:1,y:0}},children:g.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center",children:[g.jsxs("div",{children:[g.jsxs("h2",{className:"text-xl font-semibold text-pink-400 mb-1",children:["Ciclo: ",le(ae(r.startDate),"dd MMM yyyy",{locale:Ji})," - ",i]}),g.jsxs("p",{className:"text-sm text-slate-400",children:[o," registro",o!==1?"s":""]})]}),g.jsx(Ce,{asChild:!0,variant:"outline",className:"mt-4 sm:mt-0 border-pink-500 text-pink-400 hover:bg-pink-500/20 hover:text-pink-300",children:g.jsxs(Gc,{to:`/cycle/${r.id}`,children:[g.jsx(Ga,{className:"mr-2 h-4 w-4"})," Ver Detalles"]})})]})},r.id)})})]})},Vte=({isOpen:t,onClose:e,onConfirm:n,initialStartDate:r,initialEndDate:i})=>{const[o,s]=p.useState(r||""),[a,l]=p.useState(i||"");Ts(t,e),p.useEffect(()=>{s(r||""),l(i||"")},[r,i]);const c=()=>{n({startDate:o,endDate:a||null})};return g.jsx(i1,{open:t,onOpenChange:e,children:g.jsxs(Jp,{className:"bg-slate-800 border-slate-700 text-slate-50",children:[g.jsxs(Zp,{children:[g.jsx(tm,{children:"Editar Fechas del Ciclo"}),g.jsx(nm,{className:"text-slate-400",children:"Modifica la fecha de inicio y fin del ciclo."})]}),g.jsxs("div",{className:"my-4 space-y-4",children:[g.jsxs("div",{children:[g.jsx("label",{htmlFor:"startDate",className:"text-slate-300 text-sm",children:"Inicio del ciclo"}),g.jsx(Vr,{id:"startDate",type:"date",value:o,onChange:u=>s(u.target.value),className:"bg-slate-700 border-slate-600 text-slate-50"})]}),g.jsxs("div",{children:[g.jsx("label",{htmlFor:"endDate",className:"text-slate-300 text-sm",children:"Fin del ciclo"}),g.jsx(Vr,{id:"endDate",type:"date",value:a||"",onChange:u=>l(u.target.value),className:"bg-slate-700 border-slate-600 text-slate-50"})]})]}),g.jsxs(em,{className:"sm:justify-end",children:[g.jsx(Ce,{variant:"outline",onClick:e,className:"border-slate-600 hover:bg-slate-700",children:"Cancelar"}),g.jsx(Ce,{variant:"primary",onClick:c,className:"bg-pink-600 hover:bg-pink-700",children:"Guardar"})]})]})})},jte=28,Fte=({cycleData:t,addOrUpdateDataPointForCycle:e,deleteRecordForCycle:n,toggleIgnoreRecordForCycle:r,isFullScreen:i,toggleFullScreen:o,chartDisplayData:s,showForm:a,setShowForm:l,editingRecord:c,setEditingRecord:u,recordToDelete:f,setRecordToDelete:h,isProcessing:m,toast:_,onEditCycleDates:v})=>{Ts(a||c,()=>{l(!1),u(null)});const E=b=>{const P=()=>{u(b),l(!0)};i?(o(),setTimeout(P,300)):P()},x=b=>{const P=t.data.find(N=>N.id===b);h(P)},y=()=>{f&&n(f.id)};return g.jsxs("div",{className:`w-full ${i?"h-full overflow-hidden":"max-w-4xl mx-auto"}`,children:[g.jsxs(qe.div,{className:"flex items-center justify-between mb-8",initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5},children:[!i&&g.jsx(Ce,{variant:"outline",asChild:!0,className:"mt-4 sm:mt-0 border-pink-500 text-pink-400 hover:bg-pink-500/20 hover:text-pink-300",children:g.jsxs(Gc,{to:"/archived-cycles",children:[g.jsx(Xz,{className:"mr-2 h-4 w-4"})," Mis Ciclos"]})}),!i&&g.jsxs("h1",{className:"text-2xl sm:text-3xl font-bold hover:text-pink-300 text-center",children:["Detalle del Ciclo (",le(ae(t.startDate),"dd/MM/yyyy"),")"]}),!i&&g.jsxs(Ce,{variant:"outline",onClick:v,className:"mt-4 sm:mt-0 border-pink-500 text-pink-400 hover:bg-pink-500/20 hover:text-pink-300",children:[g.jsx(My,{className:"mr-2 h-4 w-4"})," Editar Fechas"]})]}),g.jsx(Sc,{children:!a&&(s.length>0||i)&&g.jsxs(qe.div,{initial:{opacity:0,scale:i?1:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:i?1:.9},transition:{duration:.5},className:`shadow-2xl rounded-xl ${i?"w-full h-full p-0 fixed inset-0 z-50 bg-white":"p-4 sm:p-6 mb-8 bg-white/70 backdrop-blur-md ring-1 ring-[#FFB1DD]/50"}`,style:{boxShadow:"0 4px 8px rgba(0,0,0,0.04)"},children:[!i&&g.jsx("h2",{className:"text-xl font-medium text-[#393C65] mb-4 bg-white bg-opacity-90 px-4 py-2 rounded-md",children:"Gráfica"}),g.jsx(dN,{data:s,isFullScreen:i,orientation,onToggleIgnore:r,onEdit:E,cycleId:t.id,showInterpretation}),g.jsxs(Ce,{onClick:()=>setShowInterpretation(b=>!b),variant:"ghost",size:"sm",className:`absolute ${i?"top-4 right-24":"top-2 right-24"} flex items-center font-semibold py-1 px-2 rounded-lg transition-colors ${showInterpretation?"bg-[#E27DBF] text-white hover:bg-[#d46ab3]":"bg-transparent text-[#393C65] hover:bg-[#E27DBF]/20"}`,children:[showInterpretation?g.jsx(Rp,{className:"mr-2 h-4 w-4"}):g.jsx(Ga,{className:"mr-2 h-4 w-4"}),showInterpretation?"Ocultar":"Interpretar"]}),g.jsx(Ce,{onClick:o,variant:"ghost",size:"icon",className:`absolute ${i?"top-4 right-4 text-white bg-slate-700/50 hover:bg-slate-600/70":"top-2 right-2 text-slate-400 hover:text-slate-200 hover:bg-slate-700/50"}`,title:i?"Salir de Pantalla Completa":"Ver en Pantalla Completa",children:i?g.jsx(ju,{className:"h-6 w-6"}):g.jsx(qD,{className:"h-5 w-5"})})]})}),!i&&g.jsxs(g.Fragment,{children:[g.jsx(Sc,{children:a&&g.jsx(qe.div,{initial:{opacity:0,y:20,height:0},animate:{opacity:1,y:0,height:"auto"},exit:{opacity:0,y:20,height:0},transition:{duration:.3},className:"overflow-hidden mb-8",children:g.jsx(pM,{onSubmit:e,initialData:c,onCancel:()=>{l(!1),u(null)},cycleStartDate:t.startDate,isProcessing:m,isEditing:!!c})},"data-entry-form-detail")}),!a&&g.jsx("div",{className:"my-8",children:g.jsxs(Ce,{onClick:()=>{u(null),l(!0)},className:"w-full sm:w-auto bg-gradient-to-r from-pink-500 to-fuchsia-600 hover:from-pink-600 hover:to-fuchsia-700 text-white font-semibold py-3 px-6 rounded-lg shadow-lg hover:shadow-xl transition-all duration-300 transform hover:scale-105 flex items-center justify-center text-lg",disabled:m,children:[g.jsx(My,{className:"mr-2 h-5 w-5"})," Añadir registro en este ciclo"]})}),g.jsx(RM,{records:t.data,onEdit:E,onDelete:x,isArchiveView:!0,isProcessing:m})]}),g.jsx(XM,{isOpen:!!f,onClose:()=>h(null),onConfirm:y,recordDate:f?le(ae(f.isoDate),"dd/MM/yyyy"):"",isProcessing:m})]})},$te=()=>{const{cycleId:t}=rj(),e=xu(),{user:n}=vl(),{getCycleById:r,isLoading:i,refreshData:o,toggleIgnoreRecord:s,updateCycleDates:a}=o1(t),[l,c]=p.useState(null),{toast:u}=yl(),[f,h]=p.useState(null),[m,_]=p.useState(!1),[v,E]=p.useState(null),[x,y]=p.useState(!1),{isFullScreen:b,toggleFullScreen:P,orientation:N}=JM(),[M,S]=p.useState(!1);p.useState(!1),p.useEffect(()=>{(async()=>{if(n){let L=await r(t);if(!L){const V=localStorage.getItem(`fertilityData_cycle_${n.id}_${t}`);if(V){const $=JSON.parse(V);L={...$,data:I($.data||[],$.startDate)}}}L?c(L):(u({title:"Error",description:"No se pudo cargar el ciclo.",variant:"destructive"}),e("/archived-cycles"))}})()},[t,n,r,u,e]);const C=(j,L)=>{const V=be(ae(j)),$=be(ae(L));return ls(V,$)+1},I=(j,L)=>!j||!Array.isArray(j)||!L?[]:[...j].sort(($,W)=>ae($.isoDate)-ae(W.isoDate)).map($=>({...$,ignored:$.ignored||!1,cycleDay:C($.isoDate,L)})),A=j=>{if(!n||!j||!j.id)return;const L={...j,data:j.data.map(({cycleDay:V,...$})=>$)};localStorage.setItem(`fertilityData_cycle_${n.id}_${j.id}`,JSON.stringify(L))},O=j=>{if(!l||!n)return;S(!0);let L;const V={...j,isoDate:le(be(ae(j.isoDate)),"yyyy-MM-dd"),cycleDay:C(j.isoDate,l.startDate),ignored:f?j.ignored??f.ignored:j.ignored||!1};if(f)L=l.data.map(Y=>Y.id===f.id?{...Y,...V,id:f.id}:Y);else{const Y={...V,id:crypto.randomUUID?crypto.randomUUID():Math.random().toString(36).slice(2)};L=[...l.data,Y]}const $=I(L,l.startDate),W={...l,data:$};A(W),c(W),u({title:f?"Registro actualizado":"Nuevo registro añadido",description:"Datos para el ciclo actualizados."}),_(!1),h(null),S(!1),o()},D=j=>{if(!l||!n)return;S(!0);const L=l.data.filter(W=>W.id!==j),V=I(L,l.startDate),$={...l,data:V};A($),c($),u({title:"Registro eliminado",description:"El registro ha sido eliminado del ciclo.",variant:"destructive"}),E(null),S(!1),o()},k=(j,L)=>{if(!l||!n||l.id!==j)return;S(!0),s(j,L),c($=>{if(!$)return null;const W=$.data.map(oe=>oe.id===L?{...oe,ignored:!oe.ignored}:oe),Y=I(W,$.startDate),G={...$,data:Y};return A(G),G});const V=l.data.find($=>$.id===L);u({title:`Registro ${V&&!V.ignored?"despreciado":"restaurado"}`,description:`El registro del ${V?le(ae(V.isoDate),"dd/MM/yyyy"):""} ha sido ${V&&!V.ignored?"marcado como despreciado":"restaurado"}.`}),S(!1)},B=async({startDate:j,endDate:L})=>{if(!(!l||!n)){S(!0);try{await a(l.id,j,L);const V=await r(l.id);V&&(A(V),c(V)),u({title:"Fechas actualizadas",description:"Las fechas del ciclo han sido modificadas."})}catch(V){console.error(V)}S(!1)}},q=p.useCallback(()=>{if(!l||!l.startDate)return[];const j=ae(l.startDate),L=l.data.reduce((G,oe)=>{const fe=ae(oe.isoDate);return fe>G?fe:G},j),V=l.endDate?ae(l.endDate):null;let $;if(V)$=ls(be(V),j)+1;else{const G=be(new Date),oe=L>G?L:G,fe=ls(be(oe),j);$=Math.max(jte,fe+1)}return ZM(j,$).map(G=>{const oe=l.data.find(fe=>fe.isoDate===G.isoDate);return oe?{...oe,date:G.date}:G})},[l]);if(i||!l)return g.jsx("div",{className:"text-center text-slate-300 p-8",children:"Cargando detalles del ciclo..."});const K=q();return g.jsxs(g.Fragment,{children:[g.jsx(Fte,{cycleData:l,addOrUpdateDataPointForCycle:O,deleteRecordForCycle:D,toggleIgnoreRecordForCycle:k,isFullScreen:b,toggleFullScreen:P,chartDisplayData:K,showForm:m,setShowForm:_,editingRecord:f,setEditingRecord:h,recordToDelete:v,setRecordToDelete:E,isProcessing:M,toast:u,onEditCycleDates:()=>y(!0)}),g.jsx(Vte,{isOpen:x,onClose:()=>y(!1),onConfirm:B,initialStartDate:l.startDate,initialEndDate:l.endDate})]})},Ute=YM,Bte=Tte,rO=KM,Wte=GM,iO=we.forwardRef(({className:t,...e},n)=>g.jsx(Gp,{className:ke("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e,ref:n}));iO.displayName=Gp.displayName;const zte=xp("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4 border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),oO=we.forwardRef(({side:t="right",className:e,children:n,...r},i)=>g.jsxs(Wte,{children:[g.jsx(iO,{}),g.jsx(Kp,{ref:i,className:ke(zte({side:t}),e),...r,children:n})]}));oO.displayName=Kp.displayName;const Hte=we.forwardRef(({className:t,...e},n)=>g.jsx(Qp,{ref:n,className:ke("text-lg font-semibold text-foreground",t),...e}));Hte.displayName=Qp.displayName;const qte=we.forwardRef(({className:t,...e},n)=>g.jsx(Xp,{ref:n,className:ke("text-sm text-muted-foreground",t),...e}));qte.displayName=Xp.displayName;const hS=({to:t,children:e,Icon:n,onClick:r})=>{const o=sl().pathname===t;return g.jsx(rO,{asChild:!0,children:g.jsxs(Gc,{to:t,onClick:r,className:`flex items-center px-4 py-3 text-lg rounded-md transition-colors duration-200 ease-in-out
                         ${o?"bg-[#E27DBF] text-white shadow":"text-[#393C65] hover:bg-[#E27DBF]/10 hover:text-[#E27DBF]"}
                        `,children:[g.jsx(n,{className:`mr-3 h-6 w-6 ${o?"text-white":"text-[#E27DBF]"}`}),e]})})},Hg=({children:t})=>{const{user:e,logout:n}=vl(),r=xu(),[i,o]=p.useState(!1);Ts(i,()=>o(!1));const s=()=>{n(),r("/auth")};return g.jsxs("div",{className:"min-h-screen flex flex-col",children:[g.jsx("header",{className:"sticky top-0 z-40 w-full bg-[#FFB1DD]/20 backdrop-blur-md text-[#393C65]",children:g.jsxs("div",{className:"container mx-auto flex items-center justify-between h-20 px-4 sm:px-6",children:[g.jsxs(Gc,{to:"/",className:"flex items-center space-x-2",children:[g.jsx("img",{alt:"FertiliApp Logo ",className:"h-10 w-10 rounded-full",src:"https://i.postimg.cc/W3JHZ71t/Chat-GPT-Image-27-jun-2025-12-17-23.png"}),g.jsx("span",{className:"text-2xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-rose-400 via-pink-400 to-fuchsia-500",children:"FertiliApp"})]}),g.jsxs(Ute,{open:i,onOpenChange:o,children:[g.jsx(Bte,{asChild:!0,children:g.jsxs(Ce,{variant:"ghost",size:"icon",className:"text-[#393C65] hover:text-[#E27DBF] hover:bg-[#E27DBF]\\/10",children:[g.jsx(cH,{className:"h-8 w-8"}),g.jsx("span",{className:"sr-only",children:"Abrir menú"})]})}),g.jsxs(oO,{side:"right",className:"w-[300px] sm:w-[350px] bg-[#FFEAF5] border-l-[#FFB1DD] p-0 flex flex-col",children:[g.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-[#FFB1DD]",children:[g.jsxs("div",{className:"flex items-center space-x-3",children:[g.jsx(gH,{className:"h-10 w-10 text-[#FFB1DD]"}),g.jsxs("div",{children:[g.jsx("p",{className:"text-lg font-semibold",children:"Hola,"}),g.jsx("p",{className:"text-sm text-[#FFB1DD] truncate max-w-[180px]",children:e==null?void 0:e.email})]})]}),g.jsx(rO,{asChild:!0,children:g.jsx(Ce,{variant:"ghost",size:"icon",className:"text-[#E27DBF] hover:bg-white/10",children:g.jsx(ju,{className:"h-6 w-6"})})})]}),g.jsxs("nav",{className:"flex-grow p-6 space-y-3",children:[g.jsx(hS,{to:"/",Icon:iH,onClick:()=>o(!1),children:"Ciclo Actual"}),g.jsx(hS,{to:"/archived-cycles",Icon:HD,onClick:()=>o(!1),children:"Mis Ciclos"})]}),g.jsx("div",{className:"p-6 border-t border-[#FFB1DD]",children:g.jsxs(Ce,{onClick:()=>{s(),o(!1)},variant:"outline",className:"w-full border-[#FFB1DD] text-[#393C65] hover:bg-[#E27DBF]/10 hover:text-[#E27DBF] font-semibold py-3 text-lg flex items-center",children:[g.jsx(aH,{className:"mr-2 h-5 w-5"})," Salir"]})})]})]})]})}),g.jsx("div",{className:"flex-grow container mx-auto px-4 sm:px-6 py-8",children:t}),g.jsxs("footer",{className:"w-full py-8 text-center text-[#6B7280] text-sm border-t border-[#FFB1DD]/50 mt-12",children:[g.jsxs("p",{children:["© ",new Date().getFullYear()," Seguimiento de Fertilidad. Todos los derechos reservados."]}),g.jsx("p",{children:"Creado con Hostinger Horizons."})]})]})};function Yte(t){const e=t+"CollectionProvider",[n,r]=Ms(e),[i,o]=n(e,{collectionRef:{current:null},itemMap:new Map}),s=v=>{const{scope:E,children:x}=v,y=we.useRef(null),b=we.useRef(new Map).current;return g.jsx(i,{scope:E,itemMap:b,collectionRef:y,children:x})};s.displayName=e;const a=t+"CollectionSlot",l=Ha(a),c=we.forwardRef((v,E)=>{const{scope:x,children:y}=v,b=o(a,x),P=lt(E,b.collectionRef);return g.jsx(l,{ref:P,children:y})});c.displayName=a;const u=t+"CollectionItemSlot",f="data-radix-collection-item",h=Ha(u),m=we.forwardRef((v,E)=>{const{scope:x,children:y,...b}=v,P=we.useRef(null),N=lt(E,P),M=o(u,x);return we.useEffect(()=>(M.itemMap.set(P,{ref:P,...b}),()=>void M.itemMap.delete(P))),g.jsx(h,{[f]:"",ref:N,children:y})});m.displayName=u;function _(v){const E=o(t+"CollectionConsumer",v);return we.useCallback(()=>{const y=E.collectionRef.current;if(!y)return[];const b=Array.from(y.querySelectorAll(`[${f}]`));return Array.from(E.itemMap.values()).sort((M,S)=>b.indexOf(M.ref.current)-b.indexOf(S.ref.current))},[E.collectionRef,E.itemMap])}return[{Provider:s,Slot:c,ItemSlot:m},_,r]}var Gte=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),Kte="VisuallyHidden",s1=p.forwardRef((t,e)=>g.jsx(We.span,{...t,ref:e,style:{...Gte,...t.style}}));s1.displayName=Kte;var a1="ToastProvider",[l1,Qte,Xte]=Yte("Toast"),[sO,Dne]=Ms("Toast",[Xte]),[Jte,rm]=sO(a1),aO=t=>{const{__scopeToast:e,label:n="Notification",duration:r=5e3,swipeDirection:i="right",swipeThreshold:o=50,children:s}=t,[a,l]=p.useState(null),[c,u]=p.useState(0),f=p.useRef(!1),h=p.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${a1}\`. Expected non-empty \`string\`.`),g.jsx(l1.Provider,{scope:e,children:g.jsx(Jte,{scope:e,label:n,duration:r,swipeDirection:i,swipeThreshold:o,toastCount:c,viewport:a,onViewportChange:l,onToastAdd:p.useCallback(()=>u(m=>m+1),[]),onToastRemove:p.useCallback(()=>u(m=>m-1),[]),isFocusedToastEscapeKeyDownRef:f,isClosePausedRef:h,children:s})})};aO.displayName=a1;var lO="ToastViewport",Zte=["F8"],Yy="toast.viewportPause",Gy="toast.viewportResume",cO=p.forwardRef((t,e)=>{const{__scopeToast:n,hotkey:r=Zte,label:i="Notifications ({hotkey})",...o}=t,s=rm(lO,n),a=Qte(n),l=p.useRef(null),c=p.useRef(null),u=p.useRef(null),f=p.useRef(null),h=lt(e,f,s.onViewportChange),m=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),_=s.toastCount>0;p.useEffect(()=>{const E=x=>{var b;r.length!==0&&r.every(P=>x[P]||x.code===P)&&((b=f.current)==null||b.focus())};return document.addEventListener("keydown",E),()=>document.removeEventListener("keydown",E)},[r]),p.useEffect(()=>{const E=l.current,x=f.current;if(_&&E&&x){const y=()=>{if(!s.isClosePausedRef.current){const M=new CustomEvent(Yy);x.dispatchEvent(M),s.isClosePausedRef.current=!0}},b=()=>{if(s.isClosePausedRef.current){const M=new CustomEvent(Gy);x.dispatchEvent(M),s.isClosePausedRef.current=!1}},P=M=>{!E.contains(M.relatedTarget)&&b()},N=()=>{E.contains(document.activeElement)||b()};return E.addEventListener("focusin",y),E.addEventListener("focusout",P),E.addEventListener("pointermove",y),E.addEventListener("pointerleave",N),window.addEventListener("blur",y),window.addEventListener("focus",b),()=>{E.removeEventListener("focusin",y),E.removeEventListener("focusout",P),E.removeEventListener("pointermove",y),E.removeEventListener("pointerleave",N),window.removeEventListener("blur",y),window.removeEventListener("focus",b)}}},[_,s.isClosePausedRef]);const v=p.useCallback(({tabbingDirection:E})=>{const y=a().map(b=>{const P=b.ref.current,N=[P,...fne(P)];return E==="forwards"?N:N.reverse()});return(E==="forwards"?y.reverse():y).flat()},[a]);return p.useEffect(()=>{const E=f.current;if(E){const x=y=>{var N,M,S;const b=y.altKey||y.ctrlKey||y.metaKey;if(y.key==="Tab"&&!b){const C=document.activeElement,I=y.shiftKey;if(y.target===E&&I){(N=c.current)==null||N.focus();return}const D=v({tabbingDirection:I?"backwards":"forwards"}),k=D.findIndex(B=>B===C);qg(D.slice(k+1))?y.preventDefault():I?(M=c.current)==null||M.focus():(S=u.current)==null||S.focus()}};return E.addEventListener("keydown",x),()=>E.removeEventListener("keydown",x)}},[a,v]),g.jsxs(eX,{ref:l,role:"region","aria-label":i.replace("{hotkey}",m),tabIndex:-1,style:{pointerEvents:_?void 0:"none"},children:[_&&g.jsx(Ky,{ref:c,onFocusFromOutsideViewport:()=>{const E=v({tabbingDirection:"forwards"});qg(E)}}),g.jsx(l1.Slot,{scope:n,children:g.jsx(We.ol,{tabIndex:-1,...o,ref:h})}),_&&g.jsx(Ky,{ref:u,onFocusFromOutsideViewport:()=>{const E=v({tabbingDirection:"backwards"});qg(E)}})]})});cO.displayName=lO;var uO="ToastFocusProxy",Ky=p.forwardRef((t,e)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...i}=t,o=rm(uO,n);return g.jsx(s1,{"aria-hidden":!0,tabIndex:0,...i,ref:e,style:{position:"fixed"},onFocus:s=>{var c;const a=s.relatedTarget;!((c=o.viewport)!=null&&c.contains(a))&&r()}})});Ky.displayName=uO;var zu="Toast",ene="toast.swipeStart",tne="toast.swipeMove",nne="toast.swipeCancel",rne="toast.swipeEnd",dO=p.forwardRef((t,e)=>{const{forceMount:n,open:r,defaultOpen:i,onOpenChange:o,...s}=t,[a,l]=kp({prop:r,defaultProp:i??!0,onChange:o,caller:zu});return g.jsx(Xn,{present:n||a,children:g.jsx(sne,{open:a,...s,ref:e,onClose:()=>l(!1),onPause:Wt(t.onPause),onResume:Wt(t.onResume),onSwipeStart:$e(t.onSwipeStart,c=>{c.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:$e(t.onSwipeMove,c=>{const{x:u,y:f}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","move"),c.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${u}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${f}px`)}),onSwipeCancel:$e(t.onSwipeCancel,c=>{c.currentTarget.setAttribute("data-swipe","cancel"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:$e(t.onSwipeEnd,c=>{const{x:u,y:f}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","end"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${u}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${f}px`),l(!1)})})})});dO.displayName=zu;var[ine,one]=sO(zu,{onClose(){}}),sne=p.forwardRef((t,e)=>{const{__scopeToast:n,type:r="foreground",duration:i,open:o,onClose:s,onEscapeKeyDown:a,onPause:l,onResume:c,onSwipeStart:u,onSwipeMove:f,onSwipeCancel:h,onSwipeEnd:m,..._}=t,v=rm(zu,n),[E,x]=p.useState(null),y=lt(e,B=>x(B)),b=p.useRef(null),P=p.useRef(null),N=i||v.duration,M=p.useRef(0),S=p.useRef(N),C=p.useRef(0),{onToastAdd:I,onToastRemove:A}=v,O=Wt(()=>{var q;(E==null?void 0:E.contains(document.activeElement))&&((q=v.viewport)==null||q.focus()),s()}),D=p.useCallback(B=>{!B||B===1/0||(window.clearTimeout(C.current),M.current=new Date().getTime(),C.current=window.setTimeout(O,B))},[O]);p.useEffect(()=>{const B=v.viewport;if(B){const q=()=>{D(S.current),c==null||c()},K=()=>{const j=new Date().getTime()-M.current;S.current=S.current-j,window.clearTimeout(C.current),l==null||l()};return B.addEventListener(Yy,K),B.addEventListener(Gy,q),()=>{B.removeEventListener(Yy,K),B.removeEventListener(Gy,q)}}},[v.viewport,N,l,c,D]),p.useEffect(()=>{o&&!v.isClosePausedRef.current&&D(N)},[o,N,v.isClosePausedRef,D]),p.useEffect(()=>(I(),()=>A()),[I,A]);const k=p.useMemo(()=>E?yO(E):null,[E]);return v.viewport?g.jsxs(g.Fragment,{children:[k&&g.jsx(ane,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:k}),g.jsx(ine,{scope:n,onClose:O,children:Do.createPortal(g.jsx(l1.ItemSlot,{scope:n,children:g.jsx(ZQ,{asChild:!0,onEscapeKeyDown:$e(a,()=>{v.isFocusedToastEscapeKeyDownRef.current||O(),v.isFocusedToastEscapeKeyDownRef.current=!1}),children:g.jsx(We.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":o?"open":"closed","data-swipe-direction":v.swipeDirection,..._,ref:y,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:$e(t.onKeyDown,B=>{B.key==="Escape"&&(a==null||a(B.nativeEvent),B.nativeEvent.defaultPrevented||(v.isFocusedToastEscapeKeyDownRef.current=!0,O()))}),onPointerDown:$e(t.onPointerDown,B=>{B.button===0&&(b.current={x:B.clientX,y:B.clientY})}),onPointerMove:$e(t.onPointerMove,B=>{if(!b.current)return;const q=B.clientX-b.current.x,K=B.clientY-b.current.y,j=!!P.current,L=["left","right"].includes(v.swipeDirection),V=["left","up"].includes(v.swipeDirection)?Math.min:Math.max,$=L?V(0,q):0,W=L?0:V(0,K),Y=B.pointerType==="touch"?10:2,G={x:$,y:W},oe={originalEvent:B,delta:G};j?(P.current=G,Yd(tne,f,oe,{discrete:!1})):pS(G,v.swipeDirection,Y)?(P.current=G,Yd(ene,u,oe,{discrete:!1}),B.target.setPointerCapture(B.pointerId)):(Math.abs(q)>Y||Math.abs(K)>Y)&&(b.current=null)}),onPointerUp:$e(t.onPointerUp,B=>{const q=P.current,K=B.target;if(K.hasPointerCapture(B.pointerId)&&K.releasePointerCapture(B.pointerId),P.current=null,b.current=null,q){const j=B.currentTarget,L={originalEvent:B,delta:q};pS(q,v.swipeDirection,v.swipeThreshold)?Yd(rne,m,L,{discrete:!0}):Yd(nne,h,L,{discrete:!0}),j.addEventListener("click",V=>V.preventDefault(),{once:!0})}})})})}),v.viewport)})]}):null}),ane=t=>{const{__scopeToast:e,children:n,...r}=t,i=rm(zu,e),[o,s]=p.useState(!1),[a,l]=p.useState(!1);return une(()=>s(!0)),p.useEffect(()=>{const c=window.setTimeout(()=>l(!0),1e3);return()=>window.clearTimeout(c)},[]),a?null:g.jsx(jp,{asChild:!0,children:g.jsx(s1,{...r,children:o&&g.jsxs(g.Fragment,{children:[i.label," ",n]})})})},lne="ToastTitle",fO=p.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return g.jsx(We.div,{...r,ref:e})});fO.displayName=lne;var cne="ToastDescription",hO=p.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return g.jsx(We.div,{...r,ref:e})});hO.displayName=cne;var pO="ToastAction",mO=p.forwardRef((t,e)=>{const{altText:n,...r}=t;return n.trim()?g.jsx(vO,{altText:n,asChild:!0,children:g.jsx(c1,{...r,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${pO}\`. Expected non-empty \`string\`.`),null)});mO.displayName=pO;var gO="ToastClose",c1=p.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t,i=one(gO,n);return g.jsx(vO,{asChild:!0,children:g.jsx(We.button,{type:"button",...r,ref:e,onClick:$e(t.onClick,i.onClose)})})});c1.displayName=gO;var vO=p.forwardRef((t,e)=>{const{__scopeToast:n,altText:r,...i}=t;return g.jsx(We.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...i,ref:e})});function yO(t){const e=[];return Array.from(t.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&e.push(r.textContent),dne(r)){const i=r.ariaHidden||r.hidden||r.style.display==="none",o=r.dataset.radixToastAnnounceExclude==="";if(!i)if(o){const s=r.dataset.radixToastAnnounceAlt;s&&e.push(s)}else e.push(...yO(r))}}),e}function Yd(t,e,n,{discrete:r}){const i=n.originalEvent.currentTarget,o=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:n});e&&i.addEventListener(t,e,{once:!0}),r?_k(i,o):i.dispatchEvent(o)}var pS=(t,e,n=0)=>{const r=Math.abs(t.x),i=Math.abs(t.y),o=r>i;return e==="left"||e==="right"?o&&r>n:!o&&i>n};function une(t=()=>{}){const e=Wt(t);Br(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[e])}function dne(t){return t.nodeType===t.ELEMENT_NODE}function fne(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function qg(t){const e=document.activeElement;return t.some(n=>n===e?!0:(n.focus(),document.activeElement!==e))}var hne=aO,wO=cO,_O=dO,xO=fO,EO=hO,bO=mO,TO=c1;const pne=hne,CO=we.forwardRef(({className:t,...e},n)=>g.jsx(wO,{ref:n,className:ke("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));CO.displayName=wO.displayName;const mne=xp("data-[swipe=move]:transition-none group relative pointer-events-auto flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full data-[state=closed]:slide-out-to-right-full",{variants:{variant:{default:"bg-background border",destructive:"group destructive border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),SO=we.forwardRef(({className:t,variant:e,...n},r)=>g.jsx(_O,{ref:r,className:ke(mne({variant:e}),t),...n}));SO.displayName=_O.displayName;const gne=we.forwardRef(({className:t,...e},n)=>g.jsx(bO,{ref:n,className:ke("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-destructive/30 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...e}));gne.displayName=bO.displayName;const PO=we.forwardRef(({className:t,...e},n)=>g.jsx(TO,{ref:n,className:ke("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:g.jsx(ju,{className:"h-4 w-4"})}));PO.displayName=TO.displayName;const IO=we.forwardRef(({className:t,...e},n)=>g.jsx(xO,{ref:n,className:ke("text-sm font-semibold",t),...e}));IO.displayName=xO.displayName;const AO=we.forwardRef(({className:t,...e},n)=>g.jsx(EO,{ref:n,className:ke("text-sm opacity-90",t),...e}));AO.displayName=EO.displayName;function vne(){const{toasts:t}=yl();return g.jsxs(pne,{children:[t.map(({id:e,title:n,description:r,action:i,...o})=>g.jsxs(SO,{...o,children:[g.jsxs("div",{className:"grid gap-1",children:[n&&g.jsx(IO,{children:n}),r&&g.jsx(AO,{children:r})]}),i,g.jsx(PO,{})]},e)),g.jsx(CO,{})]})}function Yg({children:t}){const{user:e}=vl();return e?t:g.jsx(Bv,{to:"/auth",replace:!0})}function yne(){const{user:t,loadingAuth:e}=vl();return e?g.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-950 to-gray-900 flex justify-center items-center",children:g.jsx("div",{className:"text-white text-xl",children:"Cargando aplicación..."})}):g.jsxs(wj,{children:[g.jsx(Ys,{path:"/auth",element:t?g.jsx(Bv,{to:"/",replace:!0}):g.jsx(yH,{})}),g.jsx(Ys,{path:"/",element:g.jsx(Yg,{children:g.jsx(Hg,{children:g.jsx(Ote,{})})})}),g.jsx(Ys,{path:"/archived-cycles",element:g.jsx(Yg,{children:g.jsx(Hg,{children:g.jsx(Lte,{})})})}),g.jsx(Ys,{path:"/cycle/:cycleId",element:g.jsx(Yg,{children:g.jsx(Hg,{children:g.jsx($te,{})})})}),g.jsx(Ys,{path:"*",element:g.jsx(Bv,{to:t?"/":"/auth",replace:!0})})]})}function wne(){return g.jsx(Sj,{basename:"/RNF-App",children:g.jsxs(HU,{children:[g.jsx(yne,{}),g.jsx(vne,{})]})})}Gg.createRoot(document.getElementById("root")).render(g.jsx(we.StrictMode,{children:g.jsx(wne,{})}));"serviceWorker"in navigator&&window.addEventListener("load",()=>{const t="/RNF-App/sw.js";navigator.serviceWorker.register(t)});
