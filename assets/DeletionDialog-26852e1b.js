import{c as w,j as e,m as x,C as _,B as c}from"./index-b896ef43.js";import{B as u,T as k}from"./badge-97c5a111.js";import{T as D,b as C,a as T,C as I,P as E,F as b}from"./DataEntryForm-99bdedea.js";import{E as B}from"./eye-153cd699.js";import{p as d,f as g,e as L,u as S}from"./useCycleData-4dcbf14b.js";import{D as P,a as R,b as A,c as F,d as O,e as q}from"./dialog-2828cd6f.js";const z=w("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]),K=({records:t,onEdit:r,onDelete:m,isProcessing:l})=>{if(!t||t.length===0)return e.jsx(x.div,{className:"text-center py-12",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:e.jsxs("div",{className:"bg-white/70 backdrop-blur-md rounded-3xl p-8 border border-pink-200/50 shadow-lg mx-4",children:[e.jsx("div",{className:"w-16 h-16 mx-auto mb-4 bg-gradient-to-br from-pink-100 to-rose-100 rounded-full flex items-center justify-center",children:e.jsx(B,{className:"w-8 h-8 text-pink-500"})}),e.jsx("h3",{className:"text-xl font-semibold text-slate-700 mb-2",children:"No hay registros"}),e.jsx("p",{className:"text-slate-500",children:"Añade tu primer registro para comenzar."})]})});const j=s=>b.find(n=>n.value===s)||b[0],f=[...t].sort((s,n)=>d(n.isoDate)-d(s.isoDate));return e.jsx(x.div,{className:"space-y-3",variants:{hidden:{opacity:0},show:{opacity:1,transition:{staggerChildren:.05}}},initial:"hidden",animate:"show",children:f.map((s,n)=>{var h;const o=j(s.fertility_symbol),a=((h=s.measurements)==null?void 0:h.find(i=>i.selected))||(s.temperature_chart||s.temperature_raw?{temperature:s.temperature_chart??s.temperature_raw,temperature_corrected:s.temperature_corrected??null,time:s.timestamp?g(d(s.timestamp),"HH:mm"):null,use_corrected:s.use_corrected??!1}:null),p=a&&(a.temperature||a.temperature_corrected),N=a?a.temperature_corrected??a.temperature:null,v=((a==null?void 0:a.use_corrected)??s.use_corrected??!1)&&((a==null?void 0:a.temperature_corrected)??s.temperature_corrected??null)!==null;return e.jsx(x.div,{className:"bg-white/80 backdrop-blur-md border border-pink-200/50 shadow-lg hover:shadow-xl transition-all duration-300 hover:bg-white/90 rounded-xl",variants:{hidden:{opacity:0,y:20},show:{opacity:1,y:0}},children:e.jsxs("div",{className:"p-4",children:[e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(_,{className:"w-5 h-5 text-pink-500 flex-shrink-0"}),e.jsx("span",{className:"font-semibold text-slate-700 text-lg",children:g(d(s.isoDate),"dd/MM/yyyy",{locale:L})}),e.jsxs("span",{className:"text-md text-slate-600",children:["Día ",s.cycleDay]})]}),e.jsxs("div",{className:"flex items-center space-x-1 ml-2",children:[o.label!=="Sin símbolo"&&e.jsx("span",{className:"text-xs text-slate-600",children:o.label}),e.jsx("div",{className:`w-6 h-6 rounded-full border ${o.color} ${o.pattern?"pattern-bg":""} flex-shrink-0`,style:{filter:"drop-shadow(0 2px 4px rgba(0,0,0,0.1))"}})]})]}),e.jsxs("div",{className:"mt-3 grid grid-cols-2 gap-2 text-xs text-slate-800",children:[e.jsxs("div",{className:"flex items-center space-x-1 bg-gradient-to-r from-amber-200 to-orange-200 border border-amber-300/50 p-2 rounded-xl",children:[e.jsx(D,{className:"w-3 h-3 text-rose-400"}),e.jsx("span",{className:"font-medium",children:p?`${N}°C`:""}),v&&e.jsx("span",{className:"w-1 h-1 rounded-full bg-amber-500 shadow-[0_0_4px_rgba(245,158,11,0.65)]",title:"Temperatura corregida"}),p&&s.ignored&&e.jsx(u,{variant:"secondary",className:"text-xs py-0 px-1 bg-slate-200 text-slate-600",children:"Ignorada"})]}),e.jsx("div",{className:"flex items-center space-x-1 bg-slate-200 border border-gray-300/50 p-2 rounded-xl",children:(a==null?void 0:a.time)&&e.jsxs(e.Fragment,{children:[e.jsx(C,{className:"w-3 h-3 text-gray-600"}),e.jsx("span",{children:a.time})]})})]}),Array.isArray(s.measurements)&&s.measurements.length>1&&e.jsx("div",{className:"mt-2 text-xs text-slate-600 space-y-1",children:s.measurements.map((i,y)=>e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{children:i.time}),e.jsx("span",{children:i.temperature}),i.selected&&e.jsx(u,{className:"ml-1",variant:"secondary",children:"Principal"})]},y))}),e.jsxs("div",{className:"mt-2 grid grid-cols-2 gap-2 text-xs text-slate-600",children:[e.jsxs("div",{className:"flex items-center gap-2 bg-gradient-to-r from-blue-100 to-indigo-100 border border-blue-500/50 p-2 rounded-xl",children:[e.jsx("div",{className:"w-5 h-5 bg-gradient-to-br from-blue-500 to-indigo-600 rounded-lg flex items-center justify-center shadow-md",children:e.jsx(T,{className:"w-3 h-3 text-white"})}),e.jsx("span",{className:"font-semibold text-blue-800 truncate",children:s.mucus_sensation||s.mucusSensation||""})]}),e.jsxs("div",{className:"flex items-center gap-2 bg-gradient-to-r from-emerald-100 to-teal-100 border border-emerald-500/50 p-2 rounded-xl",children:[e.jsx("div",{className:"w-5 h-5 bg-gradient-to-br from-emerald-500 to-teal-600 rounded-lg flex items-center justify-center shadow-md",children:e.jsx(I,{className:"w-3 h-3 text-white"})}),e.jsx("span",{className:"font-semibold text-green-800 truncate",children:s.mucus_appearance||s.mucusAppearance||""})]})]}),e.jsxs("div",{className:"mt-2 grid grid-cols-[1fr_auto] gap-2 items-start text-xs text-slate-600",children:[e.jsxs("div",{className:"flex items-center gap-2 bg-gradient-to-r from-violet-100 to-purple-100 border border-violet-500/50 p-2 rounded-xl",children:[e.jsx("div",{className:"w-5 h-5 bg-gradient-to-br from-violet-500 to-purple-600 rounded-lg flex items-center justify-center shadow-md",children:e.jsx(E,{className:"w-3 h-3 text-white"})}),e.jsx("span",{className:"font-semibold text-violet-800 truncate",children:s.observations||""})]}),e.jsxs("div",{className:"flex space-x-1",children:[e.jsx(c,{type:"button",onClick:()=>r(s),variant:"outline",size:"sm",className:"h-8 w-8 p-0 border-pink-300 text-pink-600 hover:bg-pink-50 hover:border-pink-400",disabled:l,children:e.jsx(z,{className:"h-3 w-3"})}),e.jsx(c,{type:"button",onClick:()=>m(s.id),variant:"outline",size:"sm",className:"h-8 w-8 p-0 border-rose-300 text-rose-600 hover:bg-rose-800 hover:border-rose-800",disabled:l,children:e.jsx(k,{className:"h-3 w-3"})})]})]})]})},s.id)})})},Q=({isOpen:t,onClose:r,onConfirm:m,recordDate:l})=>(S(t,r),e.jsx(P,{open:t,onOpenChange:r,children:e.jsxs(R,{className:"bg-slate-800 border-slate-700 text-slate-50",children:[e.jsxs(A,{children:[e.jsx(F,{children:"Confirmar Eliminación"}),e.jsxs(O,{className:"text-slate-400",children:["¿Estás seguro de que quieres eliminar el registro del ",l,"? Esta acción no se puede deshacer."]})]}),e.jsxs(q,{className:"sm:justify-end",children:[e.jsx(c,{variant:"outline",onClick:r,className:"border-slate-600 hover:bg-slate-700",children:"Cancelar"}),e.jsx(c,{variant:"destructive",onClick:m,children:"Eliminar"})]})]})}));export{Q as D,K as R};
