import{r as B,x as S,y as X,z as _,E as ie,F as Fe,G as we,H as Me,I as pe,J as tt,u as Nt,b as Wt}from"./index-b896ef43.js";function oe(i){"@babel/helpers - typeof";return oe=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(a){return typeof a}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},oe(i)}function G(i){if(i===null||i===!0||i===!1)return NaN;var a=Number(i);return isNaN(a)?a:a<0?Math.ceil(a):Math.floor(a)}function U(i,a){if(a.length<i)throw new TypeError(i+" argument"+(i>1?"s":"")+" required, but only "+a.length+" present")}function R(i){U(1,arguments);var a=Object.prototype.toString.call(i);return i instanceof Date||oe(i)==="object"&&a==="[object Date]"?new Date(i.getTime()):typeof i=="number"||a==="[object Number]"?new Date(i):((typeof i=="string"||a==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}function mt(i,a){U(2,arguments);var r=R(i),t=G(a);return isNaN(t)?new Date(NaN):(t&&r.setDate(r.getDate()+t),r)}function Yt(i,a){U(2,arguments);var r=R(i).getTime(),t=G(a);return new Date(r+t)}var Rt={};function be(){return Rt}function $e(i){var a=new Date(Date.UTC(i.getFullYear(),i.getMonth(),i.getDate(),i.getHours(),i.getMinutes(),i.getSeconds(),i.getMilliseconds()));return a.setUTCFullYear(i.getFullYear()),i.getTime()-a.getTime()}function Z(i){U(1,arguments);var a=R(i);return a.setHours(0,0,0,0),a}var At=864e5;function Ht(i,a){U(2,arguments);var r=Z(i),t=Z(a),e=r.getTime()-$e(r),o=t.getTime()-$e(t);return Math.round((e-o)/At)}function St(i,a){U(2,arguments);var r=R(i),t=R(a),e=r.getTime()-t.getTime();return e<0?-1:e>0?1:e}var je=6e4,Qe=36e5,Lt=1e3;function qt(i){return U(1,arguments),i instanceof Date||oe(i)==="object"&&Object.prototype.toString.call(i)==="[object Date]"}function Ft(i){if(U(1,arguments),!qt(i)&&typeof i!="number")return!1;var a=R(i);return!isNaN(Number(a))}function rt(i,a){var r=i.getFullYear()-a.getFullYear()||i.getMonth()-a.getMonth()||i.getDate()-a.getDate()||i.getHours()-a.getHours()||i.getMinutes()-a.getMinutes()||i.getSeconds()-a.getSeconds()||i.getMilliseconds()-a.getMilliseconds();return r<0?-1:r>0?1:r}function jt(i,a){U(2,arguments);var r=R(i),t=R(a),e=rt(r,t),o=Math.abs(Ht(r,t));r.setDate(r.getDate()-e*o);var n=+(rt(r,t)===-e),u=e*(o-n);return u===0?0:u}function vt(i,a){U(2,arguments);var r=G(a);return Yt(i,-r)}var Qt=864e5;function It(i){U(1,arguments);var a=R(i),r=a.getTime();a.setUTCMonth(0,1),a.setUTCHours(0,0,0,0);var t=a.getTime(),e=r-t;return Math.floor(e/Qt)+1}function ge(i){U(1,arguments);var a=1,r=R(i),t=r.getUTCDay(),e=(t<a?7:0)+t-a;return r.setUTCDate(r.getUTCDate()-e),r.setUTCHours(0,0,0,0),r}function ht(i){U(1,arguments);var a=R(i),r=a.getUTCFullYear(),t=new Date(0);t.setUTCFullYear(r+1,0,4),t.setUTCHours(0,0,0,0);var e=ge(t),o=new Date(0);o.setUTCFullYear(r,0,4),o.setUTCHours(0,0,0,0);var n=ge(o);return a.getTime()>=e.getTime()?r+1:a.getTime()>=n.getTime()?r:r-1}function Bt(i){U(1,arguments);var a=ht(i),r=new Date(0);r.setUTCFullYear(a,0,4),r.setUTCHours(0,0,0,0);var t=ge(r);return t}var Xt=6048e5;function wt(i){U(1,arguments);var a=R(i),r=ge(a).getTime()-Bt(a).getTime();return Math.round(r/Xt)+1}function fe(i,a){var r,t,e,o,n,u,s,c;U(1,arguments);var l=be(),h=G((r=(t=(e=(o=a==null?void 0:a.weekStartsOn)!==null&&o!==void 0?o:a==null||(n=a.locale)===null||n===void 0||(u=n.options)===null||u===void 0?void 0:u.weekStartsOn)!==null&&e!==void 0?e:l.weekStartsOn)!==null&&t!==void 0?t:(s=l.locale)===null||s===void 0||(c=s.options)===null||c===void 0?void 0:c.weekStartsOn)!==null&&r!==void 0?r:0);if(!(h>=0&&h<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var w=R(i),p=w.getUTCDay(),g=(p<h?7:0)+p-h;return w.setUTCDate(w.getUTCDate()-g),w.setUTCHours(0,0,0,0),w}function Ie(i,a){var r,t,e,o,n,u,s,c;U(1,arguments);var l=R(i),h=l.getUTCFullYear(),w=be(),p=G((r=(t=(e=(o=a==null?void 0:a.firstWeekContainsDate)!==null&&o!==void 0?o:a==null||(n=a.locale)===null||n===void 0||(u=n.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&e!==void 0?e:w.firstWeekContainsDate)!==null&&t!==void 0?t:(s=w.locale)===null||s===void 0||(c=s.options)===null||c===void 0?void 0:c.firstWeekContainsDate)!==null&&r!==void 0?r:1);if(!(p>=1&&p<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var g=new Date(0);g.setUTCFullYear(h+1,0,p),g.setUTCHours(0,0,0,0);var F=fe(g,a),N=new Date(0);N.setUTCFullYear(h,0,p),N.setUTCHours(0,0,0,0);var Y=fe(N,a);return l.getTime()>=F.getTime()?h+1:l.getTime()>=Y.getTime()?h:h-1}function Gt(i,a){var r,t,e,o,n,u,s,c;U(1,arguments);var l=be(),h=G((r=(t=(e=(o=a==null?void 0:a.firstWeekContainsDate)!==null&&o!==void 0?o:a==null||(n=a.locale)===null||n===void 0||(u=n.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&e!==void 0?e:l.firstWeekContainsDate)!==null&&t!==void 0?t:(s=l.locale)===null||s===void 0||(c=s.options)===null||c===void 0?void 0:c.firstWeekContainsDate)!==null&&r!==void 0?r:1),w=Ie(i,a),p=new Date(0);p.setUTCFullYear(w,0,h),p.setUTCHours(0,0,0,0);var g=fe(p,a);return g}var zt=6048e5;function yt(i,a){U(1,arguments);var r=R(i),t=fe(r,a).getTime()-Gt(r,a).getTime();return Math.round(t/zt)+1}function O(i,a){for(var r=i<0?"-":"",t=Math.abs(i).toString();t.length<a;)t="0"+t;return r+t}var Vt={y:function(a,r){var t=a.getUTCFullYear(),e=t>0?t:1-t;return O(r==="yy"?e%100:e,r.length)},M:function(a,r){var t=a.getUTCMonth();return r==="M"?String(t+1):O(t+1,2)},d:function(a,r){return O(a.getUTCDate(),r.length)},a:function(a,r){var t=a.getUTCHours()/12>=1?"pm":"am";switch(r){case"a":case"aa":return t.toUpperCase();case"aaa":return t;case"aaaaa":return t[0];case"aaaa":default:return t==="am"?"a.m.":"p.m."}},h:function(a,r){return O(a.getUTCHours()%12||12,r.length)},H:function(a,r){return O(a.getUTCHours(),r.length)},m:function(a,r){return O(a.getUTCMinutes(),r.length)},s:function(a,r){return O(a.getUTCSeconds(),r.length)},S:function(a,r){var t=r.length,e=a.getUTCMilliseconds(),o=Math.floor(e*Math.pow(10,t-3));return O(o,r.length)}};const ue=Vt;var ve={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Zt={G:function(a,r,t){var e=a.getUTCFullYear()>0?1:0;switch(r){case"G":case"GG":case"GGG":return t.era(e,{width:"abbreviated"});case"GGGGG":return t.era(e,{width:"narrow"});case"GGGG":default:return t.era(e,{width:"wide"})}},y:function(a,r,t){if(r==="yo"){var e=a.getUTCFullYear(),o=e>0?e:1-e;return t.ordinalNumber(o,{unit:"year"})}return ue.y(a,r)},Y:function(a,r,t,e){var o=Ie(a,e),n=o>0?o:1-o;if(r==="YY"){var u=n%100;return O(u,2)}return r==="Yo"?t.ordinalNumber(n,{unit:"year"}):O(n,r.length)},R:function(a,r){var t=ht(a);return O(t,r.length)},u:function(a,r){var t=a.getUTCFullYear();return O(t,r.length)},Q:function(a,r,t){var e=Math.ceil((a.getUTCMonth()+1)/3);switch(r){case"Q":return String(e);case"QQ":return O(e,2);case"Qo":return t.ordinalNumber(e,{unit:"quarter"});case"QQQ":return t.quarter(e,{width:"abbreviated",context:"formatting"});case"QQQQQ":return t.quarter(e,{width:"narrow",context:"formatting"});case"QQQQ":default:return t.quarter(e,{width:"wide",context:"formatting"})}},q:function(a,r,t){var e=Math.ceil((a.getUTCMonth()+1)/3);switch(r){case"q":return String(e);case"qq":return O(e,2);case"qo":return t.ordinalNumber(e,{unit:"quarter"});case"qqq":return t.quarter(e,{width:"abbreviated",context:"standalone"});case"qqqqq":return t.quarter(e,{width:"narrow",context:"standalone"});case"qqqq":default:return t.quarter(e,{width:"wide",context:"standalone"})}},M:function(a,r,t){var e=a.getUTCMonth();switch(r){case"M":case"MM":return ue.M(a,r);case"Mo":return t.ordinalNumber(e+1,{unit:"month"});case"MMM":return t.month(e,{width:"abbreviated",context:"formatting"});case"MMMMM":return t.month(e,{width:"narrow",context:"formatting"});case"MMMM":default:return t.month(e,{width:"wide",context:"formatting"})}},L:function(a,r,t){var e=a.getUTCMonth();switch(r){case"L":return String(e+1);case"LL":return O(e+1,2);case"Lo":return t.ordinalNumber(e+1,{unit:"month"});case"LLL":return t.month(e,{width:"abbreviated",context:"standalone"});case"LLLLL":return t.month(e,{width:"narrow",context:"standalone"});case"LLLL":default:return t.month(e,{width:"wide",context:"standalone"})}},w:function(a,r,t,e){var o=yt(a,e);return r==="wo"?t.ordinalNumber(o,{unit:"week"}):O(o,r.length)},I:function(a,r,t){var e=wt(a);return r==="Io"?t.ordinalNumber(e,{unit:"week"}):O(e,r.length)},d:function(a,r,t){return r==="do"?t.ordinalNumber(a.getUTCDate(),{unit:"date"}):ue.d(a,r)},D:function(a,r,t){var e=It(a);return r==="Do"?t.ordinalNumber(e,{unit:"dayOfYear"}):O(e,r.length)},E:function(a,r,t){var e=a.getUTCDay();switch(r){case"E":case"EE":case"EEE":return t.day(e,{width:"abbreviated",context:"formatting"});case"EEEEE":return t.day(e,{width:"narrow",context:"formatting"});case"EEEEEE":return t.day(e,{width:"short",context:"formatting"});case"EEEE":default:return t.day(e,{width:"wide",context:"formatting"})}},e:function(a,r,t,e){var o=a.getUTCDay(),n=(o-e.weekStartsOn+8)%7||7;switch(r){case"e":return String(n);case"ee":return O(n,2);case"eo":return t.ordinalNumber(n,{unit:"day"});case"eee":return t.day(o,{width:"abbreviated",context:"formatting"});case"eeeee":return t.day(o,{width:"narrow",context:"formatting"});case"eeeeee":return t.day(o,{width:"short",context:"formatting"});case"eeee":default:return t.day(o,{width:"wide",context:"formatting"})}},c:function(a,r,t,e){var o=a.getUTCDay(),n=(o-e.weekStartsOn+8)%7||7;switch(r){case"c":return String(n);case"cc":return O(n,r.length);case"co":return t.ordinalNumber(n,{unit:"day"});case"ccc":return t.day(o,{width:"abbreviated",context:"standalone"});case"ccccc":return t.day(o,{width:"narrow",context:"standalone"});case"cccccc":return t.day(o,{width:"short",context:"standalone"});case"cccc":default:return t.day(o,{width:"wide",context:"standalone"})}},i:function(a,r,t){var e=a.getUTCDay(),o=e===0?7:e;switch(r){case"i":return String(o);case"ii":return O(o,r.length);case"io":return t.ordinalNumber(o,{unit:"day"});case"iii":return t.day(e,{width:"abbreviated",context:"formatting"});case"iiiii":return t.day(e,{width:"narrow",context:"formatting"});case"iiiiii":return t.day(e,{width:"short",context:"formatting"});case"iiii":default:return t.day(e,{width:"wide",context:"formatting"})}},a:function(a,r,t){var e=a.getUTCHours(),o=e/12>=1?"pm":"am";switch(r){case"a":case"aa":return t.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"aaa":return t.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return t.dayPeriod(o,{width:"narrow",context:"formatting"});case"aaaa":default:return t.dayPeriod(o,{width:"wide",context:"formatting"})}},b:function(a,r,t){var e=a.getUTCHours(),o;switch(e===12?o=ve.noon:e===0?o=ve.midnight:o=e/12>=1?"pm":"am",r){case"b":case"bb":return t.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"bbb":return t.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return t.dayPeriod(o,{width:"narrow",context:"formatting"});case"bbbb":default:return t.dayPeriod(o,{width:"wide",context:"formatting"})}},B:function(a,r,t){var e=a.getUTCHours(),o;switch(e>=17?o=ve.evening:e>=12?o=ve.afternoon:e>=4?o=ve.morning:o=ve.night,r){case"B":case"BB":case"BBB":return t.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"BBBBB":return t.dayPeriod(o,{width:"narrow",context:"formatting"});case"BBBB":default:return t.dayPeriod(o,{width:"wide",context:"formatting"})}},h:function(a,r,t){if(r==="ho"){var e=a.getUTCHours()%12;return e===0&&(e=12),t.ordinalNumber(e,{unit:"hour"})}return ue.h(a,r)},H:function(a,r,t){return r==="Ho"?t.ordinalNumber(a.getUTCHours(),{unit:"hour"}):ue.H(a,r)},K:function(a,r,t){var e=a.getUTCHours()%12;return r==="Ko"?t.ordinalNumber(e,{unit:"hour"}):O(e,r.length)},k:function(a,r,t){var e=a.getUTCHours();return e===0&&(e=24),r==="ko"?t.ordinalNumber(e,{unit:"hour"}):O(e,r.length)},m:function(a,r,t){return r==="mo"?t.ordinalNumber(a.getUTCMinutes(),{unit:"minute"}):ue.m(a,r)},s:function(a,r,t){return r==="so"?t.ordinalNumber(a.getUTCSeconds(),{unit:"second"}):ue.s(a,r)},S:function(a,r){return ue.S(a,r)},X:function(a,r,t,e){var o=e._originalDate||a,n=o.getTimezoneOffset();if(n===0)return"Z";switch(r){case"X":return nt(n);case"XXXX":case"XX":return de(n);case"XXXXX":case"XXX":default:return de(n,":")}},x:function(a,r,t,e){var o=e._originalDate||a,n=o.getTimezoneOffset();switch(r){case"x":return nt(n);case"xxxx":case"xx":return de(n);case"xxxxx":case"xxx":default:return de(n,":")}},O:function(a,r,t,e){var o=e._originalDate||a,n=o.getTimezoneOffset();switch(r){case"O":case"OO":case"OOO":return"GMT"+at(n,":");case"OOOO":default:return"GMT"+de(n,":")}},z:function(a,r,t,e){var o=e._originalDate||a,n=o.getTimezoneOffset();switch(r){case"z":case"zz":case"zzz":return"GMT"+at(n,":");case"zzzz":default:return"GMT"+de(n,":")}},t:function(a,r,t,e){var o=e._originalDate||a,n=Math.floor(o.getTime()/1e3);return O(n,r.length)},T:function(a,r,t,e){var o=e._originalDate||a,n=o.getTime();return O(n,r.length)}};function at(i,a){var r=i>0?"-":"+",t=Math.abs(i),e=Math.floor(t/60),o=t%60;if(o===0)return r+String(e);var n=a||"";return r+String(e)+n+O(o,2)}function nt(i,a){if(i%60===0){var r=i>0?"-":"+";return r+O(Math.abs(i)/60,2)}return de(i,a)}function de(i,a){var r=a||"",t=i>0?"-":"+",e=Math.abs(i),o=O(Math.floor(e/60),2),n=O(e%60,2);return t+o+r+n}const Kt=Zt;var it=function(a,r){switch(a){case"P":return r.date({width:"short"});case"PP":return r.date({width:"medium"});case"PPP":return r.date({width:"long"});case"PPPP":default:return r.date({width:"full"})}},pt=function(a,r){switch(a){case"p":return r.time({width:"short"});case"pp":return r.time({width:"medium"});case"ppp":return r.time({width:"long"});case"pppp":default:return r.time({width:"full"})}},Jt=function(a,r){var t=a.match(/(P+)(p+)?/)||[],e=t[1],o=t[2];if(!o)return it(a,r);var n;switch(e){case"P":n=r.dateTime({width:"short"});break;case"PP":n=r.dateTime({width:"medium"});break;case"PPP":n=r.dateTime({width:"long"});break;case"PPPP":default:n=r.dateTime({width:"full"});break}return n.replace("{{date}}",it(e,r)).replace("{{time}}",pt(o,r))},er={p:pt,P:Jt};const Le=er;var tr=["D","DD"],rr=["YY","YYYY"];function gt(i){return tr.indexOf(i)!==-1}function bt(i){return rr.indexOf(i)!==-1}function Ee(i,a,r){if(i==="YYYY")throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(a,"`) for formatting years to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(i==="YY")throw new RangeError("Use `yy` instead of `YY` (in `".concat(a,"`) for formatting years to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(i==="D")throw new RangeError("Use `d` instead of `D` (in `".concat(a,"`) for formatting days of the month to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(i==="DD")throw new RangeError("Use `dd` instead of `DD` (in `".concat(a,"`) for formatting days of the month to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}var ar={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},nr=function(a,r,t){var e,o=ar[a];return typeof o=="string"?e=o:r===1?e=o.one:e=o.other.replace("{{count}}",r.toString()),t!=null&&t.addSuffix?t.comparison&&t.comparison>0?"in "+e:e+" ago":e};const ir=nr;function ye(i){return function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=a.width?String(a.width):i.defaultWidth,t=i.formats[r]||i.formats[i.defaultWidth];return t}}var or={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},sr={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},ur={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},cr={date:ye({formats:or,defaultWidth:"full"}),time:ye({formats:sr,defaultWidth:"full"}),dateTime:ye({formats:ur,defaultWidth:"full"})};const lr=cr;var dr={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},fr=function(a,r,t,e){return dr[a]};const mr=fr;function te(i){return function(a,r){var t=r!=null&&r.context?String(r.context):"standalone",e;if(t==="formatting"&&i.formattingValues){var o=i.defaultFormattingWidth||i.defaultWidth,n=r!=null&&r.width?String(r.width):o;e=i.formattingValues[n]||i.formattingValues[o]}else{var u=i.defaultWidth,s=r!=null&&r.width?String(r.width):i.defaultWidth;e=i.values[s]||i.values[u]}var c=i.argumentCallback?i.argumentCallback(a):a;return e[c]}}var vr={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},hr={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},wr={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},yr={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},pr={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},gr={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},br=function(a,r){var t=Number(a),e=t%100;if(e>20||e<10)switch(e%10){case 1:return t+"st";case 2:return t+"nd";case 3:return t+"rd"}return t+"th"},Tr={ordinalNumber:br,era:te({values:vr,defaultWidth:"wide"}),quarter:te({values:hr,defaultWidth:"wide",argumentCallback:function(a){return a-1}}),month:te({values:wr,defaultWidth:"wide"}),day:te({values:yr,defaultWidth:"wide"}),dayPeriod:te({values:pr,defaultWidth:"wide",formattingValues:gr,defaultFormattingWidth:"wide"})};const Dr=Tr;function re(i){return function(a){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},t=r.width,e=t&&i.matchPatterns[t]||i.matchPatterns[i.defaultMatchWidth],o=a.match(e);if(!o)return null;var n=o[0],u=t&&i.parsePatterns[t]||i.parsePatterns[i.defaultParseWidth],s=Array.isArray(u)?Pr(u,function(h){return h.test(n)}):Cr(u,function(h){return h.test(n)}),c;c=i.valueCallback?i.valueCallback(s):s,c=r.valueCallback?r.valueCallback(c):c;var l=a.slice(n.length);return{value:c,rest:l}}}function Cr(i,a){for(var r in i)if(i.hasOwnProperty(r)&&a(i[r]))return r}function Pr(i,a){for(var r=0;r<i.length;r++)if(a(i[r]))return r}function Tt(i){return function(a){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},t=a.match(i.matchPattern);if(!t)return null;var e=t[0],o=a.match(i.parsePattern);if(!o)return null;var n=i.valueCallback?i.valueCallback(o[0]):o[0];n=r.valueCallback?r.valueCallback(n):n;var u=a.slice(e.length);return{value:n,rest:u}}}var Mr=/^(\d+)(th|st|nd|rd)?/i,_r=/\d+/i,xr={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},kr={any:[/^b/i,/^(a|c)/i]},Or={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},$r={any:[/1/i,/2/i,/3/i,/4/i]},Er={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Ur={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Nr={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Wr={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Yr={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Rr={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Ar={ordinalNumber:Tt({matchPattern:Mr,parsePattern:_r,valueCallback:function(a){return parseInt(a,10)}}),era:re({matchPatterns:xr,defaultMatchWidth:"wide",parsePatterns:kr,defaultParseWidth:"any"}),quarter:re({matchPatterns:Or,defaultMatchWidth:"wide",parsePatterns:$r,defaultParseWidth:"any",valueCallback:function(a){return a+1}}),month:re({matchPatterns:Er,defaultMatchWidth:"wide",parsePatterns:Ur,defaultParseWidth:"any"}),day:re({matchPatterns:Nr,defaultMatchWidth:"wide",parsePatterns:Wr,defaultParseWidth:"any"}),dayPeriod:re({matchPatterns:Yr,defaultMatchWidth:"any",parsePatterns:Rr,defaultParseWidth:"any"})};const Hr=Ar;var Sr={code:"en-US",formatDistance:ir,formatLong:lr,formatRelative:mr,localize:Dr,match:Hr,options:{weekStartsOn:0,firstWeekContainsDate:1}};const Dt=Sr;var Lr=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,qr=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Fr=/^'([^]*?)'?$/,jr=/''/g,Qr=/[a-zA-Z]/;function V(i,a,r){var t,e,o,n,u,s,c,l,h,w,p,g,F,N,Y,I,z,d;U(2,arguments);var y=String(a),v=be(),D=(t=(e=r==null?void 0:r.locale)!==null&&e!==void 0?e:v.locale)!==null&&t!==void 0?t:Dt,k=G((o=(n=(u=(s=r==null?void 0:r.firstWeekContainsDate)!==null&&s!==void 0?s:r==null||(c=r.locale)===null||c===void 0||(l=c.options)===null||l===void 0?void 0:l.firstWeekContainsDate)!==null&&u!==void 0?u:v.firstWeekContainsDate)!==null&&n!==void 0?n:(h=v.locale)===null||h===void 0||(w=h.options)===null||w===void 0?void 0:w.firstWeekContainsDate)!==null&&o!==void 0?o:1);if(!(k>=1&&k<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var $=G((p=(g=(F=(N=r==null?void 0:r.weekStartsOn)!==null&&N!==void 0?N:r==null||(Y=r.locale)===null||Y===void 0||(I=Y.options)===null||I===void 0?void 0:I.weekStartsOn)!==null&&F!==void 0?F:v.weekStartsOn)!==null&&g!==void 0?g:(z=v.locale)===null||z===void 0||(d=z.options)===null||d===void 0?void 0:d.weekStartsOn)!==null&&p!==void 0?p:0);if(!($>=0&&$<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!D.localize)throw new RangeError("locale must contain localize property");if(!D.formatLong)throw new RangeError("locale must contain formatLong property");var Q=R(i);if(!Ft(Q))throw new RangeError("Invalid time value");var K=$e(Q),se=vt(Q,K),ce={firstWeekContainsDate:k,weekStartsOn:$,locale:D,_originalDate:Q},me=y.match(qr).map(function(H){var J=H[0];if(J==="p"||J==="P"){var le=Le[J];return le(H,D.formatLong)}return H}).join("").match(Lr).map(function(H){if(H==="''")return"'";var J=H[0];if(J==="'")return Ir(H);var le=Kt[J];if(le)return!(r!=null&&r.useAdditionalWeekYearTokens)&&bt(H)&&Ee(H,a,String(i)),!(r!=null&&r.useAdditionalDayOfYearTokens)&&gt(H)&&Ee(H,a,String(i)),le(se,H,D.localize,ce);if(J.match(Qr))throw new RangeError("Format string contains an unescaped latin alphabet character `"+J+"`");return H}).join("");return me}function Ir(i){var a=i.match(Fr);return a?a[1].replace(jr,"'"):i}function Br(i,a){if(i==null)throw new TypeError("assign requires that input parameter not be null or undefined");for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(i[r]=a[r]);return i}function ot(i,a){(a==null||a>i.length)&&(a=i.length);for(var r=0,t=Array(a);r<a;r++)t[r]=i[r];return t}function Xr(i,a){if(i){if(typeof i=="string")return ot(i,a);var r={}.toString.call(i).slice(8,-1);return r==="Object"&&i.constructor&&(r=i.constructor.name),r==="Map"||r==="Set"?Array.from(i):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?ot(i,a):void 0}}function st(i,a){var r=typeof Symbol<"u"&&i[Symbol.iterator]||i["@@iterator"];if(!r){if(Array.isArray(i)||(r=Xr(i))||a&&i&&typeof i.length=="number"){r&&(i=r);var t=0,e=function(){};return{s:e,n:function(){return t>=i.length?{done:!0}:{done:!1,value:i[t++]}},e:function(c){throw c},f:e}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var o,n=!0,u=!1;return{s:function(){r=r.call(i)},n:function(){var c=r.next();return n=c.done,c},e:function(c){u=!0,o=c},f:function(){try{n||r.return==null||r.return()}finally{if(u)throw o}}}}function m(i){if(i===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return i}function qe(i,a){return qe=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,t){return r.__proto__=t,r},qe(i,a)}function C(i,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(a&&a.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),Object.defineProperty(i,"prototype",{writable:!1}),a&&qe(i,a)}function Ue(i){return Ue=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(a){return a.__proto__||Object.getPrototypeOf(a)},Ue(i)}function Ct(){try{var i=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Ct=function(){return!!i})()}function Gr(i,a){if(a&&(oe(a)=="object"||typeof a=="function"))return a;if(a!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return m(i)}function P(i){var a=Ct();return function(){var r,t=Ue(i);if(a){var e=Ue(this).constructor;r=Reflect.construct(t,arguments,e)}else r=t.apply(this,arguments);return Gr(this,r)}}function b(i,a){if(!(i instanceof a))throw new TypeError("Cannot call a class as a function")}function zr(i,a){if(oe(i)!="object"||!i)return i;var r=i[Symbol.toPrimitive];if(r!==void 0){var t=r.call(i,a||"default");if(oe(t)!="object")return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(i)}function Pt(i){var a=zr(i,"string");return oe(a)=="symbol"?a:a+""}function ut(i,a){for(var r=0;r<a.length;r++){var t=a[r];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(i,Pt(t.key),t)}}function T(i,a,r){return a&&ut(i.prototype,a),r&&ut(i,r),Object.defineProperty(i,"prototype",{writable:!1}),i}function f(i,a,r){return(a=Pt(a))in i?Object.defineProperty(i,a,{value:r,enumerable:!0,configurable:!0,writable:!0}):i[a]=r,i}var Vr=10,Mt=function(){function i(){b(this,i),f(this,"priority",void 0),f(this,"subPriority",0)}return T(i,[{key:"validate",value:function(r,t){return!0}}]),i}(),Zr=function(i){C(r,i);var a=P(r);function r(t,e,o,n,u){var s;return b(this,r),s=a.call(this),s.value=t,s.validateValue=e,s.setValue=o,s.priority=n,u&&(s.subPriority=u),s}return T(r,[{key:"validate",value:function(e,o){return this.validateValue(e,this.value,o)}},{key:"set",value:function(e,o,n){return this.setValue(e,o,this.value,n)}}]),r}(Mt),Kr=function(i){C(r,i);var a=P(r);function r(){var t;b(this,r);for(var e=arguments.length,o=new Array(e),n=0;n<e;n++)o[n]=arguments[n];return t=a.call.apply(a,[this].concat(o)),f(m(t),"priority",Vr),f(m(t),"subPriority",-1),t}return T(r,[{key:"set",value:function(e,o){if(o.timestampIsSet)return e;var n=new Date(0);return n.setFullYear(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()),n.setHours(e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds(),e.getUTCMilliseconds()),n}}]),r}(Mt),x=function(){function i(){b(this,i),f(this,"incompatibleTokens",void 0),f(this,"priority",void 0),f(this,"subPriority",void 0)}return T(i,[{key:"run",value:function(r,t,e,o){var n=this.parse(r,t,e,o);return n?{setter:new Zr(n.value,this.validate,this.set,this.priority,this.subPriority),rest:n.rest}:null}},{key:"validate",value:function(r,t,e){return!0}}]),i}(),Jr=function(i){C(r,i);var a=P(r);function r(){var t;b(this,r);for(var e=arguments.length,o=new Array(e),n=0;n<e;n++)o[n]=arguments[n];return t=a.call.apply(a,[this].concat(o)),f(m(t),"priority",140),f(m(t),"incompatibleTokens",["R","u","t","T"]),t}return T(r,[{key:"parse",value:function(e,o,n){switch(o){case"G":case"GG":case"GGG":return n.era(e,{width:"abbreviated"})||n.era(e,{width:"narrow"});case"GGGGG":return n.era(e,{width:"narrow"});case"GGGG":default:return n.era(e,{width:"wide"})||n.era(e,{width:"abbreviated"})||n.era(e,{width:"narrow"})}}},{key:"set",value:function(e,o,n){return o.era=n,e.setUTCFullYear(n,0,1),e.setUTCHours(0,0,0,0),e}}]),r}(x),L={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},ae={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function q(i,a){return i&&{value:a(i.value),rest:i.rest}}function W(i,a){var r=a.match(i);return r?{value:parseInt(r[0],10),rest:a.slice(r[0].length)}:null}function ne(i,a){var r=a.match(i);if(!r)return null;if(r[0]==="Z")return{value:0,rest:a.slice(1)};var t=r[1]==="+"?1:-1,e=r[2]?parseInt(r[2],10):0,o=r[3]?parseInt(r[3],10):0,n=r[5]?parseInt(r[5],10):0;return{value:t*(e*Qe+o*je+n*Lt),rest:a.slice(r[0].length)}}function _t(i){return W(L.anyDigitsSigned,i)}function A(i,a){switch(i){case 1:return W(L.singleDigit,a);case 2:return W(L.twoDigits,a);case 3:return W(L.threeDigits,a);case 4:return W(L.fourDigits,a);default:return W(new RegExp("^\\d{1,"+i+"}"),a)}}function Ne(i,a){switch(i){case 1:return W(L.singleDigitSigned,a);case 2:return W(L.twoDigitsSigned,a);case 3:return W(L.threeDigitsSigned,a);case 4:return W(L.fourDigitsSigned,a);default:return W(new RegExp("^-?\\d{1,"+i+"}"),a)}}function Be(i){switch(i){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function xt(i,a){var r=a>0,t=r?a:1-a,e;if(t<=50)e=i||100;else{var o=t+50,n=Math.floor(o/100)*100,u=i>=o%100;e=i+n-(u?100:0)}return r?e:1-e}function kt(i){return i%400===0||i%4===0&&i%100!==0}var ea=function(i){C(r,i);var a=P(r);function r(){var t;b(this,r);for(var e=arguments.length,o=new Array(e),n=0;n<e;n++)o[n]=arguments[n];return t=a.call.apply(a,[this].concat(o)),f(m(t),"priority",130),f(m(t),"incompatibleTokens",["Y","R","u","w","I","i","e","c","t","T"]),t}return T(r,[{key:"parse",value:function(e,o,n){var u=function(c){return{year:c,isTwoDigitYear:o==="yy"}};switch(o){case"y":return q(A(4,e),u);case"yo":return q(n.ordinalNumber(e,{unit:"year"}),u);default:return q(A(o.length,e),u)}}},{key:"validate",value:function(e,o){return o.isTwoDigitYear||o.year>0}},{key:"set",value:function(e,o,n){var u=e.getUTCFullYear();if(n.isTwoDigitYear){var s=xt(n.year,u);return e.setUTCFullYear(s,0,1),e.setUTCHours(0,0,0,0),e}var c=!("era"in o)||o.era===1?n.year:1-n.year;return e.setUTCFullYear(c,0,1),e.setUTCHours(0,0,0,0),e}}]),r}(x),ta=function(i){C(r,i);var a=P(r);function r(){var t;b(this,r);for(var e=arguments.length,o=new Array(e),n=0;n<e;n++)o[n]=arguments[n];return t=a.call.apply(a,[this].concat(o)),f(m(t),"priority",130),f(m(t),"incompatibleTokens",["y","R","u","Q","q","M","L","I","d","D","i","t","T"]),t}return T(r,[{key:"parse",value:function(e,o,n){var u=function(c){return{year:c,isTwoDigitYear:o==="YY"}};switch(o){case"Y":return q(A(4,e),u);case"Yo":return q(n.ordinalNumber(e,{unit:"year"}),u);default:return q(A(o.length,e),u)}}},{key:"validate",value:function(e,o){return o.isTwoDigitYear||o.year>0}},{key:"set",value:function(e,o,n,u){var s=Ie(e,u);if(n.isTwoDigitYear){var c=xt(n.year,s);return e.setUTCFullYear(c,0,u.firstWeekContainsDate),e.setUTCHours(0,0,0,0),fe(e,u)}var l=!("era"in o)||o.era===1?n.year:1-n.year;return e.setUTCFullYear(l,0,u.firstWeekContainsDate),e.setUTCHours(0,0,0,0),fe(e,u)}}]),r}(x),ra=function(i){C(r,i);var a=P(r);function r(){var t;b(this,r);for(var e=arguments.length,o=new Array(e),n=0;n<e;n++)o[n]=arguments[n];return t=a.call.apply(a,[this].concat(o)),f(m(t),"priority",130),f(m(t),"incompatibleTokens",["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"]),t}return T(r,[{key:"parse",value:function(e,o){return Ne(o==="R"?4:o.length,e)}},{key:"set",value:function(e,o,n){var u=new Date(0);return u.setUTCFullYear(n,0,4),u.setUTCHours(0,0,0,0),ge(u)}}]),r}(x),aa=function(i){C(r,i);var a=P(r);function r(){var t;b(this,r);for(var e=arguments.length,o=new Array(e),n=0;n<e;n++)o[n]=arguments[n];return t=a.call.apply(a,[this].concat(o)),f(m(t),"priority",130),f(m(t),"incompatibleTokens",["G","y","Y","R","w","I","i","e","c","t","T"]),t}return T(r,[{key:"parse",value:function(e,o){return Ne(o==="u"?4:o.length,e)}},{key:"set",value:function(e,o,n){return e.setUTCFullYear(n,0,1),e.setUTCHours(0,0,0,0),e}}]),r}(x),na=function(i){C(r,i);var a=P(r);function r(){var t;b(this,r);for(var e=arguments.length,o=new Array(e),n=0;n<e;n++)o[n]=arguments[n];return t=a.call.apply(a,[this].concat(o)),f(m(t),"priority",120),f(m(t),"incompatibleTokens",["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"]),t}return T(r,[{key:"parse",value:function(e,o,n){switch(o){case"Q":case"QQ":return A(o.length,e);case"Qo":return n.ordinalNumber(e,{unit:"quarter"});case"QQQ":return n.quarter(e,{width:"abbreviated",context:"formatting"})||n.quarter(e,{width:"narrow",context:"formatting"});case"QQQQQ":return n.quarter(e,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(e,{width:"wide",context:"formatting"})||n.quarter(e,{width:"abbreviated",context:"formatting"})||n.quarter(e,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(e,o){return o>=1&&o<=4}},{key:"set",value:function(e,o,n){return e.setUTCMonth((n-1)*3,1),e.setUTCHours(0,0,0,0),e}}]),r}(x),ia=function(i){C(r,i);var a=P(r);function r(){var t;b(this,r);for(var e=arguments.length,o=new Array(e),n=0;n<e;n++)o[n]=arguments[n];return t=a.call.apply(a,[this].concat(o)),f(m(t),"priority",120),f(m(t),"incompatibleTokens",["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"]),t}return T(r,[{key:"parse",value:function(e,o,n){switch(o){case"q":case"qq":return A(o.length,e);case"qo":return n.ordinalNumber(e,{unit:"quarter"});case"qqq":return n.quarter(e,{width:"abbreviated",context:"standalone"})||n.quarter(e,{width:"narrow",context:"standalone"});case"qqqqq":return n.quarter(e,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(e,{width:"wide",context:"standalone"})||n.quarter(e,{width:"abbreviated",context:"standalone"})||n.quarter(e,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(e,o){return o>=1&&o<=4}},{key:"set",value:function(e,o,n){return e.setUTCMonth((n-1)*3,1),e.setUTCHours(0,0,0,0),e}}]),r}(x),oa=function(i){C(r,i);var a=P(r);function r(){var t;b(this,r);for(var e=arguments.length,o=new Array(e),n=0;n<e;n++)o[n]=arguments[n];return t=a.call.apply(a,[this].concat(o)),f(m(t),"incompatibleTokens",["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]),f(m(t),"priority",110),t}return T(r,[{key:"parse",value:function(e,o,n){var u=function(c){return c-1};switch(o){case"M":return q(W(L.month,e),u);case"MM":return q(A(2,e),u);case"Mo":return q(n.ordinalNumber(e,{unit:"month"}),u);case"MMM":return n.month(e,{width:"abbreviated",context:"formatting"})||n.month(e,{width:"narrow",context:"formatting"});case"MMMMM":return n.month(e,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(e,{width:"wide",context:"formatting"})||n.month(e,{width:"abbreviated",context:"formatting"})||n.month(e,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(e,o){return o>=0&&o<=11}},{key:"set",value:function(e,o,n){return e.setUTCMonth(n,1),e.setUTCHours(0,0,0,0),e}}]),r}(x),sa=function(i){C(r,i);var a=P(r);function r(){var t;b(this,r);for(var e=arguments.length,o=new Array(e),n=0;n<e;n++)o[n]=arguments[n];return t=a.call.apply(a,[this].concat(o)),f(m(t),"priority",110),f(m(t),"incompatibleTokens",["Y","R","q","Q","M","w","I","D","i","e","c","t","T"]),t}return T(r,[{key:"parse",value:function(e,o,n){var u=function(c){return c-1};switch(o){case"L":return q(W(L.month,e),u);case"LL":return q(A(2,e),u);case"Lo":return q(n.ordinalNumber(e,{unit:"month"}),u);case"LLL":return n.month(e,{width:"abbreviated",context:"standalone"})||n.month(e,{width:"narrow",context:"standalone"});case"LLLLL":return n.month(e,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(e,{width:"wide",context:"standalone"})||n.month(e,{width:"abbreviated",context:"standalone"})||n.month(e,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(e,o){return o>=0&&o<=11}},{key:"set",value:function(e,o,n){return e.setUTCMonth(n,1),e.setUTCHours(0,0,0,0),e}}]),r}(x);function ua(i,a,r){U(2,arguments);var t=R(i),e=G(a),o=yt(t,r)-e;return t.setUTCDate(t.getUTCDate()-o*7),t}var ca=function(i){C(r,i);var a=P(r);function r(){var t;b(this,r);for(var e=arguments.length,o=new Array(e),n=0;n<e;n++)o[n]=arguments[n];return t=a.call.apply(a,[this].concat(o)),f(m(t),"priority",100),f(m(t),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","i","t","T"]),t}return T(r,[{key:"parse",value:function(e,o,n){switch(o){case"w":return W(L.week,e);case"wo":return n.ordinalNumber(e,{unit:"week"});default:return A(o.length,e)}}},{key:"validate",value:function(e,o){return o>=1&&o<=53}},{key:"set",value:function(e,o,n,u){return fe(ua(e,n,u),u)}}]),r}(x);function la(i,a){U(2,arguments);var r=R(i),t=G(a),e=wt(r)-t;return r.setUTCDate(r.getUTCDate()-e*7),r}var da=function(i){C(r,i);var a=P(r);function r(){var t;b(this,r);for(var e=arguments.length,o=new Array(e),n=0;n<e;n++)o[n]=arguments[n];return t=a.call.apply(a,[this].concat(o)),f(m(t),"priority",100),f(m(t),"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"]),t}return T(r,[{key:"parse",value:function(e,o,n){switch(o){case"I":return W(L.week,e);case"Io":return n.ordinalNumber(e,{unit:"week"});default:return A(o.length,e)}}},{key:"validate",value:function(e,o){return o>=1&&o<=53}},{key:"set",value:function(e,o,n){return ge(la(e,n))}}]),r}(x),fa=[31,28,31,30,31,30,31,31,30,31,30,31],ma=[31,29,31,30,31,30,31,31,30,31,30,31],va=function(i){C(r,i);var a=P(r);function r(){var t;b(this,r);for(var e=arguments.length,o=new Array(e),n=0;n<e;n++)o[n]=arguments[n];return t=a.call.apply(a,[this].concat(o)),f(m(t),"priority",90),f(m(t),"subPriority",1),f(m(t),"incompatibleTokens",["Y","R","q","Q","w","I","D","i","e","c","t","T"]),t}return T(r,[{key:"parse",value:function(e,o,n){switch(o){case"d":return W(L.date,e);case"do":return n.ordinalNumber(e,{unit:"date"});default:return A(o.length,e)}}},{key:"validate",value:function(e,o){var n=e.getUTCFullYear(),u=kt(n),s=e.getUTCMonth();return u?o>=1&&o<=ma[s]:o>=1&&o<=fa[s]}},{key:"set",value:function(e,o,n){return e.setUTCDate(n),e.setUTCHours(0,0,0,0),e}}]),r}(x),ha=function(i){C(r,i);var a=P(r);function r(){var t;b(this,r);for(var e=arguments.length,o=new Array(e),n=0;n<e;n++)o[n]=arguments[n];return t=a.call.apply(a,[this].concat(o)),f(m(t),"priority",90),f(m(t),"subpriority",1),f(m(t),"incompatibleTokens",["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"]),t}return T(r,[{key:"parse",value:function(e,o,n){switch(o){case"D":case"DD":return W(L.dayOfYear,e);case"Do":return n.ordinalNumber(e,{unit:"date"});default:return A(o.length,e)}}},{key:"validate",value:function(e,o){var n=e.getUTCFullYear(),u=kt(n);return u?o>=1&&o<=366:o>=1&&o<=365}},{key:"set",value:function(e,o,n){return e.setUTCMonth(0,n),e.setUTCHours(0,0,0,0),e}}]),r}(x);function Xe(i,a,r){var t,e,o,n,u,s,c,l;U(2,arguments);var h=be(),w=G((t=(e=(o=(n=r==null?void 0:r.weekStartsOn)!==null&&n!==void 0?n:r==null||(u=r.locale)===null||u===void 0||(s=u.options)===null||s===void 0?void 0:s.weekStartsOn)!==null&&o!==void 0?o:h.weekStartsOn)!==null&&e!==void 0?e:(c=h.locale)===null||c===void 0||(l=c.options)===null||l===void 0?void 0:l.weekStartsOn)!==null&&t!==void 0?t:0);if(!(w>=0&&w<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var p=R(i),g=G(a),F=p.getUTCDay(),N=g%7,Y=(N+7)%7,I=(Y<w?7:0)+g-F;return p.setUTCDate(p.getUTCDate()+I),p}var wa=function(i){C(r,i);var a=P(r);function r(){var t;b(this,r);for(var e=arguments.length,o=new Array(e),n=0;n<e;n++)o[n]=arguments[n];return t=a.call.apply(a,[this].concat(o)),f(m(t),"priority",90),f(m(t),"incompatibleTokens",["D","i","e","c","t","T"]),t}return T(r,[{key:"parse",value:function(e,o,n){switch(o){case"E":case"EE":case"EEE":return n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"});case"EEEEE":return n.day(e,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"});case"EEEE":default:return n.day(e,{width:"wide",context:"formatting"})||n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(e,o){return o>=0&&o<=6}},{key:"set",value:function(e,o,n,u){return e=Xe(e,n,u),e.setUTCHours(0,0,0,0),e}}]),r}(x),ya=function(i){C(r,i);var a=P(r);function r(){var t;b(this,r);for(var e=arguments.length,o=new Array(e),n=0;n<e;n++)o[n]=arguments[n];return t=a.call.apply(a,[this].concat(o)),f(m(t),"priority",90),f(m(t),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"]),t}return T(r,[{key:"parse",value:function(e,o,n,u){var s=function(l){var h=Math.floor((l-1)/7)*7;return(l+u.weekStartsOn+6)%7+h};switch(o){case"e":case"ee":return q(A(o.length,e),s);case"eo":return q(n.ordinalNumber(e,{unit:"day"}),s);case"eee":return n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"});case"eeeee":return n.day(e,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"});case"eeee":default:return n.day(e,{width:"wide",context:"formatting"})||n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(e,o){return o>=0&&o<=6}},{key:"set",value:function(e,o,n,u){return e=Xe(e,n,u),e.setUTCHours(0,0,0,0),e}}]),r}(x),pa=function(i){C(r,i);var a=P(r);function r(){var t;b(this,r);for(var e=arguments.length,o=new Array(e),n=0;n<e;n++)o[n]=arguments[n];return t=a.call.apply(a,[this].concat(o)),f(m(t),"priority",90),f(m(t),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"]),t}return T(r,[{key:"parse",value:function(e,o,n,u){var s=function(l){var h=Math.floor((l-1)/7)*7;return(l+u.weekStartsOn+6)%7+h};switch(o){case"c":case"cc":return q(A(o.length,e),s);case"co":return q(n.ordinalNumber(e,{unit:"day"}),s);case"ccc":return n.day(e,{width:"abbreviated",context:"standalone"})||n.day(e,{width:"short",context:"standalone"})||n.day(e,{width:"narrow",context:"standalone"});case"ccccc":return n.day(e,{width:"narrow",context:"standalone"});case"cccccc":return n.day(e,{width:"short",context:"standalone"})||n.day(e,{width:"narrow",context:"standalone"});case"cccc":default:return n.day(e,{width:"wide",context:"standalone"})||n.day(e,{width:"abbreviated",context:"standalone"})||n.day(e,{width:"short",context:"standalone"})||n.day(e,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(e,o){return o>=0&&o<=6}},{key:"set",value:function(e,o,n,u){return e=Xe(e,n,u),e.setUTCHours(0,0,0,0),e}}]),r}(x);function ga(i,a){U(2,arguments);var r=G(a);r%7===0&&(r=r-7);var t=1,e=R(i),o=e.getUTCDay(),n=r%7,u=(n+7)%7,s=(u<t?7:0)+r-o;return e.setUTCDate(e.getUTCDate()+s),e}var ba=function(i){C(r,i);var a=P(r);function r(){var t;b(this,r);for(var e=arguments.length,o=new Array(e),n=0;n<e;n++)o[n]=arguments[n];return t=a.call.apply(a,[this].concat(o)),f(m(t),"priority",90),f(m(t),"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"]),t}return T(r,[{key:"parse",value:function(e,o,n){var u=function(c){return c===0?7:c};switch(o){case"i":case"ii":return A(o.length,e);case"io":return n.ordinalNumber(e,{unit:"day"});case"iii":return q(n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"}),u);case"iiiii":return q(n.day(e,{width:"narrow",context:"formatting"}),u);case"iiiiii":return q(n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"}),u);case"iiii":default:return q(n.day(e,{width:"wide",context:"formatting"})||n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"}),u)}}},{key:"validate",value:function(e,o){return o>=1&&o<=7}},{key:"set",value:function(e,o,n){return e=ga(e,n),e.setUTCHours(0,0,0,0),e}}]),r}(x),Ta=function(i){C(r,i);var a=P(r);function r(){var t;b(this,r);for(var e=arguments.length,o=new Array(e),n=0;n<e;n++)o[n]=arguments[n];return t=a.call.apply(a,[this].concat(o)),f(m(t),"priority",80),f(m(t),"incompatibleTokens",["b","B","H","k","t","T"]),t}return T(r,[{key:"parse",value:function(e,o,n){switch(o){case"a":case"aa":case"aaa":return n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"});case"aaaaa":return n.dayPeriod(e,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(e,{width:"wide",context:"formatting"})||n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(e,o,n){return e.setUTCHours(Be(n),0,0,0),e}}]),r}(x),Da=function(i){C(r,i);var a=P(r);function r(){var t;b(this,r);for(var e=arguments.length,o=new Array(e),n=0;n<e;n++)o[n]=arguments[n];return t=a.call.apply(a,[this].concat(o)),f(m(t),"priority",80),f(m(t),"incompatibleTokens",["a","B","H","k","t","T"]),t}return T(r,[{key:"parse",value:function(e,o,n){switch(o){case"b":case"bb":case"bbb":return n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"});case"bbbbb":return n.dayPeriod(e,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(e,{width:"wide",context:"formatting"})||n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(e,o,n){return e.setUTCHours(Be(n),0,0,0),e}}]),r}(x),Ca=function(i){C(r,i);var a=P(r);function r(){var t;b(this,r);for(var e=arguments.length,o=new Array(e),n=0;n<e;n++)o[n]=arguments[n];return t=a.call.apply(a,[this].concat(o)),f(m(t),"priority",80),f(m(t),"incompatibleTokens",["a","b","t","T"]),t}return T(r,[{key:"parse",value:function(e,o,n){switch(o){case"B":case"BB":case"BBB":return n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"});case"BBBBB":return n.dayPeriod(e,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(e,{width:"wide",context:"formatting"})||n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(e,o,n){return e.setUTCHours(Be(n),0,0,0),e}}]),r}(x),Pa=function(i){C(r,i);var a=P(r);function r(){var t;b(this,r);for(var e=arguments.length,o=new Array(e),n=0;n<e;n++)o[n]=arguments[n];return t=a.call.apply(a,[this].concat(o)),f(m(t),"priority",70),f(m(t),"incompatibleTokens",["H","K","k","t","T"]),t}return T(r,[{key:"parse",value:function(e,o,n){switch(o){case"h":return W(L.hour12h,e);case"ho":return n.ordinalNumber(e,{unit:"hour"});default:return A(o.length,e)}}},{key:"validate",value:function(e,o){return o>=1&&o<=12}},{key:"set",value:function(e,o,n){var u=e.getUTCHours()>=12;return u&&n<12?e.setUTCHours(n+12,0,0,0):!u&&n===12?e.setUTCHours(0,0,0,0):e.setUTCHours(n,0,0,0),e}}]),r}(x),Ma=function(i){C(r,i);var a=P(r);function r(){var t;b(this,r);for(var e=arguments.length,o=new Array(e),n=0;n<e;n++)o[n]=arguments[n];return t=a.call.apply(a,[this].concat(o)),f(m(t),"priority",70),f(m(t),"incompatibleTokens",["a","b","h","K","k","t","T"]),t}return T(r,[{key:"parse",value:function(e,o,n){switch(o){case"H":return W(L.hour23h,e);case"Ho":return n.ordinalNumber(e,{unit:"hour"});default:return A(o.length,e)}}},{key:"validate",value:function(e,o){return o>=0&&o<=23}},{key:"set",value:function(e,o,n){return e.setUTCHours(n,0,0,0),e}}]),r}(x),_a=function(i){C(r,i);var a=P(r);function r(){var t;b(this,r);for(var e=arguments.length,o=new Array(e),n=0;n<e;n++)o[n]=arguments[n];return t=a.call.apply(a,[this].concat(o)),f(m(t),"priority",70),f(m(t),"incompatibleTokens",["h","H","k","t","T"]),t}return T(r,[{key:"parse",value:function(e,o,n){switch(o){case"K":return W(L.hour11h,e);case"Ko":return n.ordinalNumber(e,{unit:"hour"});default:return A(o.length,e)}}},{key:"validate",value:function(e,o){return o>=0&&o<=11}},{key:"set",value:function(e,o,n){var u=e.getUTCHours()>=12;return u&&n<12?e.setUTCHours(n+12,0,0,0):e.setUTCHours(n,0,0,0),e}}]),r}(x),xa=function(i){C(r,i);var a=P(r);function r(){var t;b(this,r);for(var e=arguments.length,o=new Array(e),n=0;n<e;n++)o[n]=arguments[n];return t=a.call.apply(a,[this].concat(o)),f(m(t),"priority",70),f(m(t),"incompatibleTokens",["a","b","h","H","K","t","T"]),t}return T(r,[{key:"parse",value:function(e,o,n){switch(o){case"k":return W(L.hour24h,e);case"ko":return n.ordinalNumber(e,{unit:"hour"});default:return A(o.length,e)}}},{key:"validate",value:function(e,o){return o>=1&&o<=24}},{key:"set",value:function(e,o,n){var u=n<=24?n%24:n;return e.setUTCHours(u,0,0,0),e}}]),r}(x),ka=function(i){C(r,i);var a=P(r);function r(){var t;b(this,r);for(var e=arguments.length,o=new Array(e),n=0;n<e;n++)o[n]=arguments[n];return t=a.call.apply(a,[this].concat(o)),f(m(t),"priority",60),f(m(t),"incompatibleTokens",["t","T"]),t}return T(r,[{key:"parse",value:function(e,o,n){switch(o){case"m":return W(L.minute,e);case"mo":return n.ordinalNumber(e,{unit:"minute"});default:return A(o.length,e)}}},{key:"validate",value:function(e,o){return o>=0&&o<=59}},{key:"set",value:function(e,o,n){return e.setUTCMinutes(n,0,0),e}}]),r}(x),Oa=function(i){C(r,i);var a=P(r);function r(){var t;b(this,r);for(var e=arguments.length,o=new Array(e),n=0;n<e;n++)o[n]=arguments[n];return t=a.call.apply(a,[this].concat(o)),f(m(t),"priority",50),f(m(t),"incompatibleTokens",["t","T"]),t}return T(r,[{key:"parse",value:function(e,o,n){switch(o){case"s":return W(L.second,e);case"so":return n.ordinalNumber(e,{unit:"second"});default:return A(o.length,e)}}},{key:"validate",value:function(e,o){return o>=0&&o<=59}},{key:"set",value:function(e,o,n){return e.setUTCSeconds(n,0),e}}]),r}(x),$a=function(i){C(r,i);var a=P(r);function r(){var t;b(this,r);for(var e=arguments.length,o=new Array(e),n=0;n<e;n++)o[n]=arguments[n];return t=a.call.apply(a,[this].concat(o)),f(m(t),"priority",30),f(m(t),"incompatibleTokens",["t","T"]),t}return T(r,[{key:"parse",value:function(e,o){var n=function(s){return Math.floor(s*Math.pow(10,-o.length+3))};return q(A(o.length,e),n)}},{key:"set",value:function(e,o,n){return e.setUTCMilliseconds(n),e}}]),r}(x),Ea=function(i){C(r,i);var a=P(r);function r(){var t;b(this,r);for(var e=arguments.length,o=new Array(e),n=0;n<e;n++)o[n]=arguments[n];return t=a.call.apply(a,[this].concat(o)),f(m(t),"priority",10),f(m(t),"incompatibleTokens",["t","T","x"]),t}return T(r,[{key:"parse",value:function(e,o){switch(o){case"X":return ne(ae.basicOptionalMinutes,e);case"XX":return ne(ae.basic,e);case"XXXX":return ne(ae.basicOptionalSeconds,e);case"XXXXX":return ne(ae.extendedOptionalSeconds,e);case"XXX":default:return ne(ae.extended,e)}}},{key:"set",value:function(e,o,n){return o.timestampIsSet?e:new Date(e.getTime()-n)}}]),r}(x),Ua=function(i){C(r,i);var a=P(r);function r(){var t;b(this,r);for(var e=arguments.length,o=new Array(e),n=0;n<e;n++)o[n]=arguments[n];return t=a.call.apply(a,[this].concat(o)),f(m(t),"priority",10),f(m(t),"incompatibleTokens",["t","T","X"]),t}return T(r,[{key:"parse",value:function(e,o){switch(o){case"x":return ne(ae.basicOptionalMinutes,e);case"xx":return ne(ae.basic,e);case"xxxx":return ne(ae.basicOptionalSeconds,e);case"xxxxx":return ne(ae.extendedOptionalSeconds,e);case"xxx":default:return ne(ae.extended,e)}}},{key:"set",value:function(e,o,n){return o.timestampIsSet?e:new Date(e.getTime()-n)}}]),r}(x),Na=function(i){C(r,i);var a=P(r);function r(){var t;b(this,r);for(var e=arguments.length,o=new Array(e),n=0;n<e;n++)o[n]=arguments[n];return t=a.call.apply(a,[this].concat(o)),f(m(t),"priority",40),f(m(t),"incompatibleTokens","*"),t}return T(r,[{key:"parse",value:function(e){return _t(e)}},{key:"set",value:function(e,o,n){return[new Date(n*1e3),{timestampIsSet:!0}]}}]),r}(x),Wa=function(i){C(r,i);var a=P(r);function r(){var t;b(this,r);for(var e=arguments.length,o=new Array(e),n=0;n<e;n++)o[n]=arguments[n];return t=a.call.apply(a,[this].concat(o)),f(m(t),"priority",20),f(m(t),"incompatibleTokens","*"),t}return T(r,[{key:"parse",value:function(e){return _t(e)}},{key:"set",value:function(e,o,n){return[new Date(n),{timestampIsSet:!0}]}}]),r}(x),Ya={G:new Jr,y:new ea,Y:new ta,R:new ra,u:new aa,Q:new na,q:new ia,M:new oa,L:new sa,w:new ca,I:new da,d:new va,D:new ha,E:new wa,e:new ya,c:new pa,i:new ba,a:new Ta,b:new Da,B:new Ca,h:new Pa,H:new Ma,K:new _a,k:new xa,m:new ka,s:new Oa,S:new $a,X:new Ea,x:new Ua,t:new Na,T:new Wa},Ra=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Aa=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Ha=/^'([^]*?)'?$/,Sa=/''/g,La=/\S/,qa=/[a-zA-Z]/;function Fa(i,a,r,t){var e,o,n,u,s,c,l,h,w,p,g,F,N,Y,I,z,d,y;U(3,arguments);var v=String(i),D=String(a),k=be(),$=(e=(o=t==null?void 0:t.locale)!==null&&o!==void 0?o:k.locale)!==null&&e!==void 0?e:Dt;if(!$.match)throw new RangeError("locale must contain match property");var Q=G((n=(u=(s=(c=t==null?void 0:t.firstWeekContainsDate)!==null&&c!==void 0?c:t==null||(l=t.locale)===null||l===void 0||(h=l.options)===null||h===void 0?void 0:h.firstWeekContainsDate)!==null&&s!==void 0?s:k.firstWeekContainsDate)!==null&&u!==void 0?u:(w=k.locale)===null||w===void 0||(p=w.options)===null||p===void 0?void 0:p.firstWeekContainsDate)!==null&&n!==void 0?n:1);if(!(Q>=1&&Q<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var K=G((g=(F=(N=(Y=t==null?void 0:t.weekStartsOn)!==null&&Y!==void 0?Y:t==null||(I=t.locale)===null||I===void 0||(z=I.options)===null||z===void 0?void 0:z.weekStartsOn)!==null&&N!==void 0?N:k.weekStartsOn)!==null&&F!==void 0?F:(d=k.locale)===null||d===void 0||(y=d.options)===null||y===void 0?void 0:y.weekStartsOn)!==null&&g!==void 0?g:0);if(!(K>=0&&K<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(D==="")return v===""?R(r):new Date(NaN);var se={firstWeekContainsDate:Q,weekStartsOn:K,locale:$},ce=[new Kr],me=D.match(Aa).map(function(j){var E=j[0];if(E in Le){var ee=Le[E];return ee(j,$.formatLong)}return j}).join("").match(Ra),H=[],J=st(me),le;try{var Et=function(){var E=le.value;!(t!=null&&t.useAdditionalWeekYearTokens)&&bt(E)&&Ee(E,D,i),!(t!=null&&t.useAdditionalDayOfYearTokens)&&gt(E)&&Ee(E,D,i);var ee=E[0],ke=Ya[ee];if(ke){var Ke=ke.incompatibleTokens;if(Array.isArray(Ke)){var Je=H.find(function(et){return Ke.includes(et.token)||et.token===ee});if(Je)throw new RangeError("The format string mustn't contain `".concat(Je.fullToken,"` and `").concat(E,"` at the same time"))}else if(ke.incompatibleTokens==="*"&&H.length>0)throw new RangeError("The format string mustn't contain `".concat(E,"` and any other token at the same time"));H.push({token:ee,fullToken:E});var Ye=ke.run(v,E,$.match,se);if(!Ye)return{v:new Date(NaN)};ce.push(Ye.setter),v=Ye.rest}else{if(ee.match(qa))throw new RangeError("Format string contains an unescaped latin alphabet character `"+ee+"`");if(E==="''"?E="'":ee==="'"&&(E=ja(E)),v.indexOf(E)===0)v=v.slice(E.length);else return{v:new Date(NaN)}}};for(J.s();!(le=J.n()).done;){var Ge=Et();if(oe(Ge)==="object")return Ge.v}}catch(j){J.e(j)}finally{J.f()}if(v.length>0&&La.test(v))return new Date(NaN);var Ut=ce.map(function(j){return j.priority}).sort(function(j,E){return E-j}).filter(function(j,E,ee){return ee.indexOf(j)===E}).map(function(j){return ce.filter(function(E){return E.priority===j}).sort(function(E,ee){return ee.subPriority-E.subPriority})}).map(function(j){return j[0]}),We=R(r);if(isNaN(We.getTime()))return new Date(NaN);var Te=vt(We,$e(We)),ze={},_e=st(Ut),Ve;try{for(_e.s();!(Ve=_e.n()).done;){var Ze=Ve.value;if(!Ze.validate(Te,se))return new Date(NaN);var xe=Ze.set(Te,ze,se);Array.isArray(xe)?(Te=xe[0],Br(ze,xe[1])):Te=xe}}catch(j){_e.e(j)}finally{_e.f()}return Te}function ja(i){return i.match(Ha)[1].replace(Sa,"'")}function M(i,a){var r;U(1,arguments);var t=G((r=a==null?void 0:a.additionalDigits)!==null&&r!==void 0?r:2);if(t!==2&&t!==1&&t!==0)throw new RangeError("additionalDigits must be 0, 1 or 2");if(!(typeof i=="string"||Object.prototype.toString.call(i)==="[object String]"))return new Date(NaN);var e=Xa(i),o;if(e.date){var n=Ga(e.date,t);o=za(n.restDateString,n.year)}if(!o||isNaN(o.getTime()))return new Date(NaN);var u=o.getTime(),s=0,c;if(e.time&&(s=Va(e.time),isNaN(s)))return new Date(NaN);if(e.timezone){if(c=Za(e.timezone),isNaN(c))return new Date(NaN)}else{var l=new Date(u+s),h=new Date(0);return h.setFullYear(l.getUTCFullYear(),l.getUTCMonth(),l.getUTCDate()),h.setHours(l.getUTCHours(),l.getUTCMinutes(),l.getUTCSeconds(),l.getUTCMilliseconds()),h}return new Date(u+s+c)}var Oe={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},Qa=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,Ia=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,Ba=/^([+-])(\d{2})(?::?(\d{2}))?$/;function Xa(i){var a={},r=i.split(Oe.dateTimeDelimiter),t;if(r.length>2)return a;if(/:/.test(r[0])?t=r[0]:(a.date=r[0],t=r[1],Oe.timeZoneDelimiter.test(a.date)&&(a.date=i.split(Oe.timeZoneDelimiter)[0],t=i.substr(a.date.length,i.length))),t){var e=Oe.timezone.exec(t);e?(a.time=t.replace(e[1],""),a.timezone=e[1]):a.time=t}return a}function Ga(i,a){var r=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+a)+"})|(\\d{2}|[+-]\\d{"+(2+a)+"})$)"),t=i.match(r);if(!t)return{year:NaN,restDateString:""};var e=t[1]?parseInt(t[1]):null,o=t[2]?parseInt(t[2]):null;return{year:o===null?e:o*100,restDateString:i.slice((t[1]||t[2]).length)}}function za(i,a){if(a===null)return new Date(NaN);var r=i.match(Qa);if(!r)return new Date(NaN);var t=!!r[4],e=De(r[1]),o=De(r[2])-1,n=De(r[3]),u=De(r[4]),s=De(r[5])-1;if(t)return rn(a,u,s)?Ka(a,u,s):new Date(NaN);var c=new Date(0);return!en(a,o,n)||!tn(a,e)?new Date(NaN):(c.setUTCFullYear(a,o,Math.max(e,n)),c)}function De(i){return i?parseInt(i):1}function Va(i){var a=i.match(Ia);if(!a)return NaN;var r=Re(a[1]),t=Re(a[2]),e=Re(a[3]);return an(r,t,e)?r*Qe+t*je+e*1e3:NaN}function Re(i){return i&&parseFloat(i.replace(",","."))||0}function Za(i){if(i==="Z")return 0;var a=i.match(Ba);if(!a)return 0;var r=a[1]==="+"?-1:1,t=parseInt(a[2]),e=a[3]&&parseInt(a[3])||0;return nn(t,e)?r*(t*Qe+e*je):NaN}function Ka(i,a,r){var t=new Date(0);t.setUTCFullYear(i,0,4);var e=t.getUTCDay()||7,o=(a-1)*7+r+1-e;return t.setUTCDate(t.getUTCDate()+o),t}var Ja=[31,null,31,30,31,30,31,31,30,31,30,31];function Ot(i){return i%400===0||i%4===0&&i%100!==0}function en(i,a,r){return a>=0&&a<=11&&r>=1&&r<=(Ja[a]||(Ot(i)?29:28))}function tn(i,a){return a>=1&&a<=(Ot(i)?366:365)}function rn(i,a,r){return a>=1&&a<=53&&r>=0&&r<=6}function an(i,a,r){return i===24?a===0&&r===0:r>=0&&r<60&&a>=0&&a<60&&i>=0&&i<25}function nn(i,a){return a>=0&&a<=59}var on={lessThanXSeconds:{one:"menos de un segundo",other:"menos de {{count}} segundos"},xSeconds:{one:"1 segundo",other:"{{count}} segundos"},halfAMinute:"medio minuto",lessThanXMinutes:{one:"menos de un minuto",other:"menos de {{count}} minutos"},xMinutes:{one:"1 minuto",other:"{{count}} minutos"},aboutXHours:{one:"alrededor de 1 hora",other:"alrededor de {{count}} horas"},xHours:{one:"1 hora",other:"{{count}} horas"},xDays:{one:"1 día",other:"{{count}} días"},aboutXWeeks:{one:"alrededor de 1 semana",other:"alrededor de {{count}} semanas"},xWeeks:{one:"1 semana",other:"{{count}} semanas"},aboutXMonths:{one:"alrededor de 1 mes",other:"alrededor de {{count}} meses"},xMonths:{one:"1 mes",other:"{{count}} meses"},aboutXYears:{one:"alrededor de 1 año",other:"alrededor de {{count}} años"},xYears:{one:"1 año",other:"{{count}} años"},overXYears:{one:"más de 1 año",other:"más de {{count}} años"},almostXYears:{one:"casi 1 año",other:"casi {{count}} años"}},sn=function(a,r,t){var e,o=on[a];return typeof o=="string"?e=o:r===1?e=o.one:e=o.other.replace("{{count}}",r.toString()),t!=null&&t.addSuffix?t.comparison&&t.comparison>0?"en "+e:"hace "+e:e};const un=sn;var cn={full:"EEEE, d 'de' MMMM 'de' y",long:"d 'de' MMMM 'de' y",medium:"d MMM y",short:"dd/MM/y"},ln={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},dn={full:"{{date}} 'a las' {{time}}",long:"{{date}} 'a las' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},fn={date:ye({formats:cn,defaultWidth:"full"}),time:ye({formats:ln,defaultWidth:"full"}),dateTime:ye({formats:dn,defaultWidth:"full"})};const mn=fn;var vn={lastWeek:"'el' eeee 'pasado a la' p",yesterday:"'ayer a la' p",today:"'hoy a la' p",tomorrow:"'mañana a la' p",nextWeek:"eeee 'a la' p",other:"P"},hn={lastWeek:"'el' eeee 'pasado a las' p",yesterday:"'ayer a las' p",today:"'hoy a las' p",tomorrow:"'mañana a las' p",nextWeek:"eeee 'a las' p",other:"P"},wn=function(a,r,t,e){return r.getUTCHours()!==1?hn[a]:vn[a]};const yn=wn;var pn={narrow:["AC","DC"],abbreviated:["AC","DC"],wide:["antes de cristo","después de cristo"]},gn={narrow:["1","2","3","4"],abbreviated:["T1","T2","T3","T4"],wide:["1º trimestre","2º trimestre","3º trimestre","4º trimestre"]},bn={narrow:["e","f","m","a","m","j","j","a","s","o","n","d"],abbreviated:["ene","feb","mar","abr","may","jun","jul","ago","sep","oct","nov","dic"],wide:["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre"]},Tn={narrow:["d","l","m","m","j","v","s"],short:["do","lu","ma","mi","ju","vi","sá"],abbreviated:["dom","lun","mar","mié","jue","vie","sáb"],wide:["domingo","lunes","martes","miércoles","jueves","viernes","sábado"]},Dn={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"mañana",afternoon:"tarde",evening:"tarde",night:"noche"},abbreviated:{am:"AM",pm:"PM",midnight:"medianoche",noon:"mediodia",morning:"mañana",afternoon:"tarde",evening:"tarde",night:"noche"},wide:{am:"a.m.",pm:"p.m.",midnight:"medianoche",noon:"mediodia",morning:"mañana",afternoon:"tarde",evening:"tarde",night:"noche"}},Cn={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"de la mañana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"},abbreviated:{am:"AM",pm:"PM",midnight:"medianoche",noon:"mediodia",morning:"de la mañana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"},wide:{am:"a.m.",pm:"p.m.",midnight:"medianoche",noon:"mediodia",morning:"de la mañana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"}},Pn=function(a,r){var t=Number(a);return t+"º"},Mn={ordinalNumber:Pn,era:te({values:pn,defaultWidth:"wide"}),quarter:te({values:gn,defaultWidth:"wide",argumentCallback:function(a){return Number(a)-1}}),month:te({values:bn,defaultWidth:"wide"}),day:te({values:Tn,defaultWidth:"wide"}),dayPeriod:te({values:Dn,defaultWidth:"wide",formattingValues:Cn,defaultFormattingWidth:"wide"})};const _n=Mn;var xn=/^(\d+)(º)?/i,kn=/\d+/i,On={narrow:/^(ac|dc|a|d)/i,abbreviated:/^(a\.?\s?c\.?|a\.?\s?e\.?\s?c\.?|d\.?\s?c\.?|e\.?\s?c\.?)/i,wide:/^(antes de cristo|antes de la era com[uú]n|despu[eé]s de cristo|era com[uú]n)/i},$n={any:[/^ac/i,/^dc/i],wide:[/^(antes de cristo|antes de la era com[uú]n)/i,/^(despu[eé]s de cristo|era com[uú]n)/i]},En={narrow:/^[1234]/i,abbreviated:/^T[1234]/i,wide:/^[1234](º)? trimestre/i},Un={any:[/1/i,/2/i,/3/i,/4/i]},Nn={narrow:/^[efmajsond]/i,abbreviated:/^(ene|feb|mar|abr|may|jun|jul|ago|sep|oct|nov|dic)/i,wide:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i},Wn={narrow:[/^e/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^en/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i]},Yn={narrow:/^[dlmjvs]/i,short:/^(do|lu|ma|mi|ju|vi|s[áa])/i,abbreviated:/^(dom|lun|mar|mi[ée]|jue|vie|s[áa]b)/i,wide:/^(domingo|lunes|martes|mi[ée]rcoles|jueves|viernes|s[áa]bado)/i},Rn={narrow:[/^d/i,/^l/i,/^m/i,/^m/i,/^j/i,/^v/i,/^s/i],any:[/^do/i,/^lu/i,/^ma/i,/^mi/i,/^ju/i,/^vi/i,/^sa/i]},An={narrow:/^(a|p|mn|md|(de la|a las) (mañana|tarde|noche))/i,any:/^([ap]\.?\s?m\.?|medianoche|mediodia|(de la|a las) (mañana|tarde|noche))/i},Hn={any:{am:/^a/i,pm:/^p/i,midnight:/^mn/i,noon:/^md/i,morning:/mañana/i,afternoon:/tarde/i,evening:/tarde/i,night:/noche/i}},Sn={ordinalNumber:Tt({matchPattern:xn,parsePattern:kn,valueCallback:function(a){return parseInt(a,10)}}),era:re({matchPatterns:On,defaultMatchWidth:"wide",parsePatterns:$n,defaultParseWidth:"any"}),quarter:re({matchPatterns:En,defaultMatchWidth:"wide",parsePatterns:Un,defaultParseWidth:"any",valueCallback:function(a){return a+1}}),month:re({matchPatterns:Nn,defaultMatchWidth:"wide",parsePatterns:Wn,defaultParseWidth:"any"}),day:re({matchPatterns:Yn,defaultMatchWidth:"wide",parsePatterns:Rn,defaultParseWidth:"any"}),dayPeriod:re({matchPatterns:An,defaultMatchWidth:"any",parsePatterns:Hn,defaultParseWidth:"any"})};const Ln=Sn;var qn={code:"es",formatDistance:un,formatLong:mn,formatRelative:yn,localize:_n,match:Ln,options:{weekStartsOn:1,firstWeekContainsDate:1}};const Vn=qn;function Zn(i,a){B.useEffect(()=>{if(!i)return;const r=crypto.randomUUID?crypto.randomUUID():Math.random().toString(36).slice(2),t=n=>{n.state&&n.state.overlay===r&&a()};window.history.pushState({overlay:r},""),window.addEventListener("popstate",t);let e=!0;const o=setTimeout(()=>{e=!1},0);return()=>{clearTimeout(o),window.removeEventListener("popstate",t),!e&&window.history.state&&window.history.state.overlay===r&&window.history.back()}},[i,a])}const $t=(i,a)=>{if(!i||!a)return 0;const r=Z(M(i)),t=Z(M(a));return jt(r,t)+1},Ce=i=>{if(i==null||i==="")return null;const a=parseFloat(String(i).replace(",","."));return isNaN(a)?null:a},Ae=(i,a)=>!i||!Array.isArray(i)||!a?[]:[...i].sort((t,e)=>{const o=t.timestamp?M(t.timestamp):t.iso_date?M(t.iso_date):0,n=e.timestamp?M(e.timestamp):e.iso_date?M(e.iso_date):0;return St(o,n)}).map(t=>{const e=Ce(t.temperature_raw),o=Ce(t.temperature_corrected),n=s=>{if(!s)return null;const c=Ce(s.temperature),l=Ce(s.temperature_corrected);return s.use_corrected&&l!==null?l:c!==null?c:l!==null?l:null};let u=Ce(t.temperature_chart);if(u==null&&Array.isArray(t.measurements)){const c=t.measurements.find(l=>l&&l.selected&&n(l)!==null)||t.measurements.find(l=>n(l)!==null);c&&(u=n(c))}return u==null&&(t.use_corrected&&o!==null?u=o:e!==null?u=e:o!==null&&(u=o)),{...t,id:t.id,isoDate:t.iso_date||(t.timestamp?V(M(t.timestamp),"yyyy-MM-dd"):null),date:t.timestamp?V(M(t.timestamp),"dd/MM"):t.iso_date?V(M(t.iso_date),"dd/MM"):"N/A",cycleDay:$t(t.iso_date||t.timestamp,a),temperature_raw:e,temperature_corrected:o,use_corrected:!!t.use_corrected,mucusSensation:t.mucus_sensation,mucusAppearance:t.mucus_appearance,fertility_symbol:t.fertility_symbol,observations:t.observations,ignored:t.ignored,measurements:t.measurements||[],temperature_chart:u,timestamp:t.timestamp}}),Fn=async i=>{const a=S(_,`users/${i}/cycles`),r=await X(a);if(r.empty)return null;const t=r.docs.map(s=>({id:s.id,...s.data()})).filter(s=>s.end_date===null||s.end_date===void 0).sort((s,c)=>(c.start_date||"").localeCompare(s.start_date||""));if(t.length>1&&console.warn(`Se detectaron ${t.length} ciclos abiertos. Se usará el más reciente.`),t.length===0)return null;const e=t[0],o=S(_,`users/${i}/cycles/${e.id}/entries`),n=await X(o),u=await Promise.all(n.docs.map(async s=>{let c=[];try{const l=S(_,`users/${i}/cycles/${e.id}/entries/${s.id}/measurements`);c=(await X(l)).docs.map(w=>({id:w.id,...w.data()}))}catch(l){console.error("Error fetching measurements for entry",s.id,l)}return{id:s.id,...s.data(),measurements:c}}));return{id:e.id,startDate:e.start_date,endDate:e.end_date,data:u}},jn=async(i,a)=>{const r=S(_,`users/${i}/cycles`),e=(await X(r)).docs.map(n=>({id:n.id,...n.data()})).filter(n=>n.end_date!==null&&n.end_date!==void 0||a&&n.start_date&&n.start_date<a).sort((n,u)=>(u.start_date||"").localeCompare(n.start_date||""));return await Promise.all(e.map(async n=>{const u=S(_,`users/${i}/cycles/${n.id}/entries`),s=await X(u),c=await Promise.all(s.docs.map(async l=>{let h=[];try{const w=S(_,`users/${i}/cycles/${n.id}/entries/${l.id}/measurements`);h=(await X(w)).docs.map(g=>({id:g.id,...g.data()}))}catch(w){console.error("Error fetching measurements for entry",l.id,w)}return{id:l.id,...l.data(),measurements:h}}));return{id:n.id,startDate:n.start_date,endDate:n.end_date,needsCompletion:!n.end_date,data:c}}))},ct=async(i,a)=>{const r=ie(_,`users/${i}/cycles/${a}`),t=await Fe(r);if(!t.exists())return null;const e=t.data(),o=S(_,`users/${i}/cycles/${a}/entries`),n=await X(o),u=await Promise.all(n.docs.map(async s=>{let c=[];try{const l=S(_,`users/${i}/cycles/${a}/entries/${s.id}/measurements`);c=(await X(l)).docs.map(w=>({id:w.id,...w.data()}))}catch(l){console.error("Error fetching measurements for entry",s.id,l)}return{id:s.id,...s.data(),measurements:c}}));return{id:a,startDate:e.start_date,endDate:e.end_date,data:u}},lt=async(i,a)=>{const r=S(_,`users/${i}/cycles`),t=await X(r),e=M(a);if(t.docs.some(u=>{const s=u.data(),c=s.start_date?M(s.start_date):null,l=s.end_date?M(s.end_date):null;return c&&e>=c&&(!l||e<=l)}))throw new Error("Cycle dates overlap with an existing cycle");return{id:(await we(S(_,`users/${i}/cycles`),{user_id:i,start_date:a,end_date:null})).id,start_date:a}},Qn=async i=>{var l;const a=i.user_id,r=i.timestamp??new Date().toISOString(),t=(l=i.measurements)==null?void 0:l.find(h=>h.selected),e={timestamp:r,temperature_raw:(t==null?void 0:t.temperature)??null,temperature_corrected:(t==null?void 0:t.temperature_corrected)??null,use_corrected:!1,temperature_chart:t?t.temperature_corrected??t.temperature:null,mucus_sensation:i.mucus_sensation,mucus_appearance:i.mucus_appearance,fertility_symbol:i.fertility_symbol,observations:i.observations,ignored:i.ignored},o=S(_,`users/${a}/cycles`),n=await X(o),u=M(r),s=n.docs.filter(h=>{const w=h.data(),p=w.start_date?M(w.start_date):null,g=w.end_date?M(w.end_date):null;return p&&u>=p&&(!g||u<=g)});let c=null;if(s.length>1?c=s.sort((h,w)=>{const p=M(h.data().start_date);return M(w.data().start_date)-p})[0]:s.length===1&&(c=s[0]),c){const h=await we(S(_,`users/${a}/cycles/${c.id}/entries`),e);if(i.measurements&&i.measurements.length){const w=S(_,`users/${a}/cycles/${c.id}/entries/${h.id}/measurements`);for(const p of i.measurements)await we(w,p)}return{id:h.id}}if(i.cycle_id){const h=await we(S(_,`users/${a}/cycles/${i.cycle_id}/entries`),e);if(i.measurements&&i.measurements.length){const w=S(_,`users/${a}/cycles/${i.cycle_id}/entries/${h.id}/measurements`);for(const p of i.measurements)await we(w,p)}return{id:h.id}}return{id:null}},dt=async(i,a,r,t)=>{const e=ie(_,`users/${i}/cycles/${a}/entries/${r}`),o={temperature_raw:t.temperature_raw,temperature_corrected:t.temperature_corrected,use_corrected:t.use_corrected,temperature_chart:t.temperature_chart,mucus_sensation:t.mucus_sensation,mucus_appearance:t.mucus_appearance,fertility_symbol:t.fertility_symbol,observations:t.observations,ignored:t.ignored};if(t.timestamp&&(o.timestamp=t.timestamp),await Me(e,o),t.measurements){const n=S(_,`users/${i}/cycles/${a}/entries/${r}/measurements`),u=await X(n);await Promise.all(u.docs.map(s=>pe(s.ref)));for(const s of t.measurements)await we(n,s)}return{id:r}},In=async(i,a,r)=>{await pe(ie(_,`users/${i}/cycles/${a}/entries/${r}`))},Bn=async(i,a,r)=>{const t=ie(_,`users/${a}/cycles/${i}`);if(!(await Fe(t)).exists())throw new Error("Cycle not found");await Me(t,{end_date:r})},Pe=async(i,a,r,t,e=!1)=>{const o=ie(_,`users/${a}/cycles/${i}`),n=await Fe(o);if(!n.exists())throw new Error("Cycle not found");const u=n.data(),s=r??u.start_date,c=t!==void 0?t:u.end_date,l=s?M(s):null,h=c?M(c):null;if(l&&h&&h<l)throw new Error("End date cannot be earlier than start date");const w=S(_,`users/${a}/cycles`),g=(await X(w)).docs.find(N=>{if(N.id===i)return!1;const Y=N.data(),I=Y.start_date?M(Y.start_date):null,z=Y.end_date?M(Y.end_date):null;if(!I)return!1;const d=z??new Date("9999-12-31"),y=h??new Date("9999-12-31");return l<=d&&I<=y});if(e){if(g){const N=g.data();return{overlap:{id:g.id,startDate:N.start_date,endDate:N.end_date}}}return{overlap:null}}if(g)throw new Error("Cycle dates overlap with an existing cycle");const F={};r!==void 0&&(F.start_date=r),t!==void 0&&(F.end_date=t),await Me(o,F)},Xn=async(i,a,r)=>{const t=S(_,`users/${i}/cycles`),e=await X(t),o=M(r),n=e.docs.find(s=>{if(s.id===a)return!1;const c=s.data(),l=c.start_date?M(c.start_date):null,h=c.end_date?M(c.end_date):null;return!l||!h?!1:h>=o});if(n){const s=ie(_,`users/${i}/cycles/${n.id}`),c=V(mt(o,-1),"yyyy-MM-dd");await Me(s,{end_date:c});const l=S(_,`users/${i}/cycles/${n.id}/entries`),h=await X(l);await Promise.all(h.docs.map(async w=>{const p=w.data(),g=p.timestamp?M(p.timestamp):null;if(g&&g>=o){const F={...p,cycle_day:$t(V(g,"yyyy-MM-dd"),r)},N=ie(_,`users/${i}/cycles/${a}/entries/${w.id}`);await tt(N,F);const Y=S(_,`users/${i}/cycles/${n.id}/entries/${w.id}/measurements`),I=await X(Y);await Promise.all(I.docs.map(async z=>{const d=ie(_,`users/${i}/cycles/${a}/entries/${w.id}/measurements/${z.id}`);await tt(d,z.data()),await pe(z.ref)})),await pe(w.ref)}}))}const u=ie(_,`users/${i}/cycles/${a}`);await Me(u,{start_date:r})},Gn=async(i,a)=>{const r=S(_,`users/${i}/cycles/${a}/entries`),t=await X(r);await Promise.all(t.docs.map(e=>pe(e.ref))),await pe(ie(_,`users/${i}/cycles/${a}`))},He=(i,a)=>{if(!a)return i;const r=Z(M(a));return i.filter(t=>M(t.isoDate)<=r)},Se=(i,a)=>{if(!a)return i;const r=Z(M(a));return i.filter(t=>M(t.isoDate)>=r)},ft=i=>{if(i==null||i==="")return null;const a=parseFloat(String(i).replace(",","."));return isNaN(a)?null:a},he=i=>i?typeof i=="string"?V(Z(M(i)),"yyyy-MM-dd"):typeof i.toDate=="function"?V(Z(i.toDate()),"yyyy-MM-dd"):V(Z(new Date(i)),"yyyy-MM-dd"):null,Kn=(i=null)=>{const{user:a}=Nt(),{toast:r}=Wt(),[t,e]=B.useState({id:null,startDate:null,data:[]}),[o,n]=B.useState([]),[u,s]=B.useState(!0),c=B.useCallback(async()=>{if(!(a!=null&&a.uid)){console.log("No user found, skipping cycle data load"),s(!1);return}console.log("Loading cycle data for user:",a.uid),s(!0);try{let d;if(i?(console.log("Loading specific cycle:",i),d=await ct(a.uid,i),d||(d={id:i,startDate:V(Z(new Date),"yyyy-MM-dd"),data:[]})):(console.log("Loading current cycle"),d=await Fn(a.uid)),console.log("Cycle loaded:",d),d){const v=he(d.startDate),D=he(d.endDate),k=Ae(d.data,v),$=Se(k,v),Q=He($,D);e({...d,startDate:v,endDate:D,data:Q})}else e({id:null,startDate:null,data:[]});console.log("Loading archived cycles");const y=await jn(a.uid,d?d.startDate:null);n(y.map(v=>{const D=he(v.startDate),k=he(v.endDate),$=Ae(v.data||[],D),Q=Se($,D),K=He(Q,k);return{...v,startDate:D??V(Z(new Date),"yyyy-MM-dd"),endDate:k,needsCompletion:v.needsCompletion,data:K}}))}catch(d){console.error("Error in loadCycleData:",d),d.code==="permission-denied"&&console.error("Firebase permissions error. Check Firestore rules."),e({id:null,startDate:null,data:[]}),n([])}finally{s(!1)}},[a,i]);B.useEffect(()=>{c()},[c]);const l=B.useCallback(async(d,y)=>{if(!(a!=null&&a.uid)||!t.id)throw console.error("User or currentCycle.id is missing"),new Error("User or currentCycle.id is missing");console.log("Adding/updating data point:",d,"editing:",y),s(!0);try{const v=d.measurements.find(H=>H.selected)||d.measurements[0],D=v&&v.time&&v.time.trim()!==""?v.time:V(new Date,"HH:mm"),k=Fa(`${d.isoDate} ${D}`,"yyyy-MM-dd HH:mm",new Date);let $=y;$||($=t.data.find(H=>H.isoDate===d.isoDate));const Q=ft(v.temperature),K=ft(v.temperature_corrected),se=!!v.use_corrected&&K!==null,ce=se?K:Q,me={cycle_id:t.id,user_id:a.uid,timestamp:V(k,"yyyy-MM-dd'T'HH:mm:ssXXX"),measurements:d.measurements,mucus_sensation:d.mucusSensation||null,mucus_appearance:d.mucusAppearance||null,fertility_symbol:d.fertility_symbol==="none"?null:d.fertility_symbol,observations:d.observations||null,ignored:$?d.ignored??$.ignored:d.ignored||!1,temperature_raw:Q,temperature_corrected:K,use_corrected:se,temperature_chart:ce};$?(console.log("Updating existing record:",$.id),await dt(a.uid,t.id,$.id,me)):(console.log("Creating new record"),await Qn(me)),console.log("Data point saved successfully"),await c()}catch(v){throw console.error("Error adding/updating data point:",v),v}finally{s(!1)}},[a,t.id,c]),h=B.useCallback(async d=>{if(!(!(a!=null&&a.uid)||!t.id)){console.log("Deleting record:",d),s(!0);try{await In(a.uid,t.id,d),await c(),console.log("Record deleted successfully")}catch(y){throw console.error("Error deleting record:",y),y}finally{s(!1)}}},[a,t.id,c]),w=B.useCallback(async(d,y)=>{if(a!=null&&a.uid){console.log("Toggling ignore for record:",y,"in cycle:",d),s(!0);try{const v=d===t.id?t:o.find($=>$.id===d);if(!v)throw new Error("Cycle not found for toggling ignore state.");const D=v.data.find($=>$.id===y);if(!D)throw new Error("Record not found for toggling ignore state.");const k=!D.ignored;await dt(a.uid,d,y,{ignored:k}),await c(),console.log("Record ignore status toggled successfully")}catch(v){throw console.error("Error toggling ignore state:",v),v}finally{s(!1)}}},[a,t,o,c]),p=B.useCallback(async d=>{if(a!=null&&a.uid){console.log("Starting new cycle with date:",d),s(!0);try{const y=Z(d?M(d):new Date);if(t.id&&d){const k=Z(M(t.startDate));if(y<=k){r({title:"Fecha inválida",description:"La fecha de inicio del nuevo ciclo debe ser posterior al inicio del ciclo actual.",variant:"destructive"}),s(!1);return}}if(t.id){const k=V(mt(y,-1),"yyyy-MM-dd");await Bn(t.id,a.uid,k)}const v=V(y,"yyyy-MM-dd"),D=await lt(a.uid,v);e({id:D.id,startDate:D.start_date,data:[]}),await c(),console.log("New cycle started successfully")}catch(y){console.error("Error starting new cycle:",y);try{t.id&&await Pe(t.id,a.uid,void 0,null)}catch(v){console.error("Rollback failed:",v)}throw r({title:"Error",description:"No se pudo iniciar el nuevo ciclo.",variant:"destructive"}),y}finally{s(!1)}}},[a,t,c,r]),g=B.useCallback(async(d,y)=>{if(a!=null&&a.uid){if(!y){r({title:"Error",description:"La fecha de fin es obligatoria.",variant:"destructive"});return}console.log("Adding archived cycle:",d,y),s(!0);try{const v=await lt(a.uid,d);await Pe(v.id,a.uid,void 0,y),await c(),console.log("Archived cycle added successfully")}catch(v){console.error("Error adding archived cycle:",v);const D=v.message&&v.message.includes("overlap")?"Las fechas coinciden con otro ciclo.":"No se pudo crear el ciclo.";throw r({title:"Error",description:D,variant:"destructive"}),v}finally{s(!1)}}},[a,c,r]),F=B.useCallback(async d=>{if(a!=null&&a.uid){console.log("Deleting cycle:",d),s(!0);try{await Gn(a.uid,d),await c(),console.log("Cycle deleted successfully")}catch(y){throw console.error("Error deleting cycle:",y),r({title:"Error",description:"No se pudo eliminar el ciclo.",variant:"destructive"}),y}finally{s(!1)}}},[a,c,r]),N=B.useCallback(async(d,y)=>{if(!(a!=null&&a.uid))return null;try{return(await Pe(d,a.uid,y,void 0,!0)).overlap}catch(v){return console.error("Error checking cycle overlap:",v),null}},[a]),Y=B.useCallback(async(d,y,v,D=!1)=>{if(a!=null&&a.uid){console.log("Updating cycle dates:",d,y,v,D),s(!0);try{D&&y?(await Xn(a.uid,d,y),v!==void 0&&await Pe(d,a.uid,void 0,v)):await Pe(d,a.uid,y,v),await c(),console.log("Cycle dates updated successfully")}catch(k){console.error("Error updating cycle dates:",k);const $=k.message&&k.message.includes("overlap")?"Las fechas coinciden con otro ciclo.":"No se pudieron actualizar las fechas.";throw r({title:"Error",description:$,variant:"destructive"}),k}finally{s(!1)}}},[a,c,r]),I=B.useCallback((d,y)=>Y(d,y,void 0,!0),[Y]),z=B.useCallback(async d=>{if(!(a!=null&&a.uid))return null;console.log("Fetching cycle by ID:",d),s(!0);try{const y=await ct(a.uid,d);if(!y)return null;const v=he(y.startDate),D=he(y.endDate),k=Ae(y.data||[],v),$=Se(k,v),Q=He($,D),K={...y,startDate:v??V(Z(new Date),"yyyy-MM-dd"),endDate:D,data:Q};return console.log("Cycle fetched successfully:",K),K}catch(y){return console.error("Error fetching cycle by ID:",y),null}finally{s(!1)}},[a]);return{currentCycle:t,archivedCycles:o,addOrUpdateDataPoint:l,deleteRecord:h,startNewCycle:p,updateCycleDates:Y,forceUpdateCycleStart:I,checkCycleOverlap:N,isLoading:u,getCycleById:z,refreshData:c,toggleIgnoreRecord:w,addArchivedCycle:g,deleteCycle:F}};export{oe as _,Kn as a,mt as b,G as c,jt as d,Vn as e,V as f,Yt as g,be as h,$e as i,Ht as j,Dt as k,qt as l,Fa as m,M as p,U as r,Z as s,R as t,Zn as u};
