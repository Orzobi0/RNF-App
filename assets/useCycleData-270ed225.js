import{r as G,G as K,H as ae,I as S,J as he,K as Se,N as He,O as qe,Q as Ae,u as kt,b as Ot}from"./index-1b0fe1a0.js";function ne(i){"@babel/helpers - typeof";return ne=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(a){return typeof a}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},ne(i)}function Q(i){if(i===null||i===!0||i===!1)return NaN;var a=Number(i);return isNaN(a)?a:a<0?Math.ceil(a):Math.floor(a)}function O(i,a){if(a.length<i)throw new TypeError(i+" argument"+(i>1?"s":"")+" required, but only "+a.length+" present")}function N(i){O(1,arguments);var a=Object.prototype.toString.call(i);return i instanceof Date||ne(i)==="object"&&a==="[object Date]"?new Date(i.getTime()):typeof i=="number"||a==="[object Number]"?new Date(i):((typeof i=="string"||a==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}function Et(i,a){O(2,arguments);var r=N(i),t=Q(a);return isNaN(t)?new Date(NaN):(t&&r.setDate(r.getDate()+t),r)}function Ut(i,a){O(2,arguments);var r=N(i).getTime(),t=Q(a);return new Date(r+t)}var $t={};function we(){return $t}function Pe(i){var a=new Date(Date.UTC(i.getFullYear(),i.getMonth(),i.getDate(),i.getHours(),i.getMinutes(),i.getSeconds(),i.getMilliseconds()));return a.setUTCFullYear(i.getFullYear()),i.getTime()-a.getTime()}function X(i){O(1,arguments);var a=N(i);return a.setHours(0,0,0,0),a}var Nt=864e5;function Wt(i,a){O(2,arguments);var r=X(i),t=X(a),e=r.getTime()-Pe(r),o=t.getTime()-Pe(t);return Math.round((e-o)/Nt)}function Yt(i,a){O(2,arguments);var r=N(i),t=N(a),e=r.getTime()-t.getTime();return e<0?-1:e>0?1:e}var Ie=6e4,Fe=36e5,Ht=1e3;function At(i){return O(1,arguments),i instanceof Date||ne(i)==="object"&&Object.prototype.toString.call(i)==="[object Date]"}function Lt(i){if(O(1,arguments),!At(i)&&typeof i!="number")return!1;var a=N(i);return!isNaN(Number(a))}function et(i,a){var r=i.getFullYear()-a.getFullYear()||i.getMonth()-a.getMonth()||i.getDate()-a.getDate()||i.getHours()-a.getHours()||i.getMinutes()-a.getMinutes()||i.getSeconds()-a.getSeconds()||i.getMilliseconds()-a.getMilliseconds();return r<0?-1:r>0?1:r}function Rt(i,a){O(2,arguments);var r=N(i),t=N(a),e=et(r,t),o=Math.abs(Wt(r,t));r.setDate(r.getDate()-e*o);var n=+(et(r,t)===-e),s=e*(o-n);return s===0?0:s}function lt(i,a){O(2,arguments);var r=Q(a);return Ut(i,-r)}var St=864e5;function qt(i){O(1,arguments);var a=N(i),r=a.getTime();a.setUTCMonth(0,1),a.setUTCHours(0,0,0,0);var t=a.getTime(),e=r-t;return Math.floor(e/St)+1}function me(i){O(1,arguments);var a=1,r=N(i),t=r.getUTCDay(),e=(t<a?7:0)+t-a;return r.setUTCDate(r.getUTCDate()-e),r.setUTCHours(0,0,0,0),r}function dt(i){O(1,arguments);var a=N(i),r=a.getUTCFullYear(),t=new Date(0);t.setUTCFullYear(r+1,0,4),t.setUTCHours(0,0,0,0);var e=me(t),o=new Date(0);o.setUTCFullYear(r,0,4),o.setUTCHours(0,0,0,0);var n=me(o);return a.getTime()>=e.getTime()?r+1:a.getTime()>=n.getTime()?r:r-1}function It(i){O(1,arguments);var a=dt(i),r=new Date(0);r.setUTCFullYear(a,0,4),r.setUTCHours(0,0,0,0);var t=me(r);return t}var Ft=6048e5;function ft(i){O(1,arguments);var a=N(i),r=me(a).getTime()-It(a).getTime();return Math.round(r/Ft)+1}function le(i,a){var r,t,e,o,n,s,u,c;O(1,arguments);var v=we(),w=Q((r=(t=(e=(o=a==null?void 0:a.weekStartsOn)!==null&&o!==void 0?o:a==null||(n=a.locale)===null||n===void 0||(s=n.options)===null||s===void 0?void 0:s.weekStartsOn)!==null&&e!==void 0?e:v.weekStartsOn)!==null&&t!==void 0?t:(u=v.locale)===null||u===void 0||(c=u.options)===null||c===void 0?void 0:c.weekStartsOn)!==null&&r!==void 0?r:0);if(!(w>=0&&w<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var P=N(i),x=P.getUTCDay(),E=(x<w?7:0)+x-w;return P.setUTCDate(P.getUTCDate()-E),P.setUTCHours(0,0,0,0),P}function je(i,a){var r,t,e,o,n,s,u,c;O(1,arguments);var v=N(i),w=v.getUTCFullYear(),P=we(),x=Q((r=(t=(e=(o=a==null?void 0:a.firstWeekContainsDate)!==null&&o!==void 0?o:a==null||(n=a.locale)===null||n===void 0||(s=n.options)===null||s===void 0?void 0:s.firstWeekContainsDate)!==null&&e!==void 0?e:P.firstWeekContainsDate)!==null&&t!==void 0?t:(u=P.locale)===null||u===void 0||(c=u.options)===null||c===void 0?void 0:c.firstWeekContainsDate)!==null&&r!==void 0?r:1);if(!(x>=1&&x<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var E=new Date(0);E.setUTCFullYear(w+1,0,x),E.setUTCHours(0,0,0,0);var I=le(E,a),A=new Date(0);A.setUTCFullYear(w,0,x),A.setUTCHours(0,0,0,0);var F=le(A,a);return v.getTime()>=I.getTime()?w+1:v.getTime()>=F.getTime()?w:w-1}function jt(i,a){var r,t,e,o,n,s,u,c;O(1,arguments);var v=we(),w=Q((r=(t=(e=(o=a==null?void 0:a.firstWeekContainsDate)!==null&&o!==void 0?o:a==null||(n=a.locale)===null||n===void 0||(s=n.options)===null||s===void 0?void 0:s.firstWeekContainsDate)!==null&&e!==void 0?e:v.firstWeekContainsDate)!==null&&t!==void 0?t:(u=v.locale)===null||u===void 0||(c=u.options)===null||c===void 0?void 0:c.firstWeekContainsDate)!==null&&r!==void 0?r:1),P=je(i,a),x=new Date(0);x.setUTCFullYear(P,0,w),x.setUTCHours(0,0,0,0);var E=le(x,a);return E}var Qt=6048e5;function vt(i,a){O(1,arguments);var r=N(i),t=le(r,a).getTime()-jt(r,a).getTime();return Math.round(t/Qt)+1}function M(i,a){for(var r=i<0?"-":"",t=Math.abs(i).toString();t.length<a;)t="0"+t;return r+t}var Bt={y:function(a,r){var t=a.getUTCFullYear(),e=t>0?t:1-t;return M(r==="yy"?e%100:e,r.length)},M:function(a,r){var t=a.getUTCMonth();return r==="M"?String(t+1):M(t+1,2)},d:function(a,r){return M(a.getUTCDate(),r.length)},a:function(a,r){var t=a.getUTCHours()/12>=1?"pm":"am";switch(r){case"a":case"aa":return t.toUpperCase();case"aaa":return t;case"aaaaa":return t[0];case"aaaa":default:return t==="am"?"a.m.":"p.m."}},h:function(a,r){return M(a.getUTCHours()%12||12,r.length)},H:function(a,r){return M(a.getUTCHours(),r.length)},m:function(a,r){return M(a.getUTCMinutes(),r.length)},s:function(a,r){return M(a.getUTCSeconds(),r.length)},S:function(a,r){var t=r.length,e=a.getUTCMilliseconds(),o=Math.floor(e*Math.pow(10,t-3));return M(o,r.length)}};const oe=Bt;var de={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Xt={G:function(a,r,t){var e=a.getUTCFullYear()>0?1:0;switch(r){case"G":case"GG":case"GGG":return t.era(e,{width:"abbreviated"});case"GGGGG":return t.era(e,{width:"narrow"});case"GGGG":default:return t.era(e,{width:"wide"})}},y:function(a,r,t){if(r==="yo"){var e=a.getUTCFullYear(),o=e>0?e:1-e;return t.ordinalNumber(o,{unit:"year"})}return oe.y(a,r)},Y:function(a,r,t,e){var o=je(a,e),n=o>0?o:1-o;if(r==="YY"){var s=n%100;return M(s,2)}return r==="Yo"?t.ordinalNumber(n,{unit:"year"}):M(n,r.length)},R:function(a,r){var t=dt(a);return M(t,r.length)},u:function(a,r){var t=a.getUTCFullYear();return M(t,r.length)},Q:function(a,r,t){var e=Math.ceil((a.getUTCMonth()+1)/3);switch(r){case"Q":return String(e);case"QQ":return M(e,2);case"Qo":return t.ordinalNumber(e,{unit:"quarter"});case"QQQ":return t.quarter(e,{width:"abbreviated",context:"formatting"});case"QQQQQ":return t.quarter(e,{width:"narrow",context:"formatting"});case"QQQQ":default:return t.quarter(e,{width:"wide",context:"formatting"})}},q:function(a,r,t){var e=Math.ceil((a.getUTCMonth()+1)/3);switch(r){case"q":return String(e);case"qq":return M(e,2);case"qo":return t.ordinalNumber(e,{unit:"quarter"});case"qqq":return t.quarter(e,{width:"abbreviated",context:"standalone"});case"qqqqq":return t.quarter(e,{width:"narrow",context:"standalone"});case"qqqq":default:return t.quarter(e,{width:"wide",context:"standalone"})}},M:function(a,r,t){var e=a.getUTCMonth();switch(r){case"M":case"MM":return oe.M(a,r);case"Mo":return t.ordinalNumber(e+1,{unit:"month"});case"MMM":return t.month(e,{width:"abbreviated",context:"formatting"});case"MMMMM":return t.month(e,{width:"narrow",context:"formatting"});case"MMMM":default:return t.month(e,{width:"wide",context:"formatting"})}},L:function(a,r,t){var e=a.getUTCMonth();switch(r){case"L":return String(e+1);case"LL":return M(e+1,2);case"Lo":return t.ordinalNumber(e+1,{unit:"month"});case"LLL":return t.month(e,{width:"abbreviated",context:"standalone"});case"LLLLL":return t.month(e,{width:"narrow",context:"standalone"});case"LLLL":default:return t.month(e,{width:"wide",context:"standalone"})}},w:function(a,r,t,e){var o=vt(a,e);return r==="wo"?t.ordinalNumber(o,{unit:"week"}):M(o,r.length)},I:function(a,r,t){var e=ft(a);return r==="Io"?t.ordinalNumber(e,{unit:"week"}):M(e,r.length)},d:function(a,r,t){return r==="do"?t.ordinalNumber(a.getUTCDate(),{unit:"date"}):oe.d(a,r)},D:function(a,r,t){var e=qt(a);return r==="Do"?t.ordinalNumber(e,{unit:"dayOfYear"}):M(e,r.length)},E:function(a,r,t){var e=a.getUTCDay();switch(r){case"E":case"EE":case"EEE":return t.day(e,{width:"abbreviated",context:"formatting"});case"EEEEE":return t.day(e,{width:"narrow",context:"formatting"});case"EEEEEE":return t.day(e,{width:"short",context:"formatting"});case"EEEE":default:return t.day(e,{width:"wide",context:"formatting"})}},e:function(a,r,t,e){var o=a.getUTCDay(),n=(o-e.weekStartsOn+8)%7||7;switch(r){case"e":return String(n);case"ee":return M(n,2);case"eo":return t.ordinalNumber(n,{unit:"day"});case"eee":return t.day(o,{width:"abbreviated",context:"formatting"});case"eeeee":return t.day(o,{width:"narrow",context:"formatting"});case"eeeeee":return t.day(o,{width:"short",context:"formatting"});case"eeee":default:return t.day(o,{width:"wide",context:"formatting"})}},c:function(a,r,t,e){var o=a.getUTCDay(),n=(o-e.weekStartsOn+8)%7||7;switch(r){case"c":return String(n);case"cc":return M(n,r.length);case"co":return t.ordinalNumber(n,{unit:"day"});case"ccc":return t.day(o,{width:"abbreviated",context:"standalone"});case"ccccc":return t.day(o,{width:"narrow",context:"standalone"});case"cccccc":return t.day(o,{width:"short",context:"standalone"});case"cccc":default:return t.day(o,{width:"wide",context:"standalone"})}},i:function(a,r,t){var e=a.getUTCDay(),o=e===0?7:e;switch(r){case"i":return String(o);case"ii":return M(o,r.length);case"io":return t.ordinalNumber(o,{unit:"day"});case"iii":return t.day(e,{width:"abbreviated",context:"formatting"});case"iiiii":return t.day(e,{width:"narrow",context:"formatting"});case"iiiiii":return t.day(e,{width:"short",context:"formatting"});case"iiii":default:return t.day(e,{width:"wide",context:"formatting"})}},a:function(a,r,t){var e=a.getUTCHours(),o=e/12>=1?"pm":"am";switch(r){case"a":case"aa":return t.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"aaa":return t.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return t.dayPeriod(o,{width:"narrow",context:"formatting"});case"aaaa":default:return t.dayPeriod(o,{width:"wide",context:"formatting"})}},b:function(a,r,t){var e=a.getUTCHours(),o;switch(e===12?o=de.noon:e===0?o=de.midnight:o=e/12>=1?"pm":"am",r){case"b":case"bb":return t.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"bbb":return t.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return t.dayPeriod(o,{width:"narrow",context:"formatting"});case"bbbb":default:return t.dayPeriod(o,{width:"wide",context:"formatting"})}},B:function(a,r,t){var e=a.getUTCHours(),o;switch(e>=17?o=de.evening:e>=12?o=de.afternoon:e>=4?o=de.morning:o=de.night,r){case"B":case"BB":case"BBB":return t.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"BBBBB":return t.dayPeriod(o,{width:"narrow",context:"formatting"});case"BBBB":default:return t.dayPeriod(o,{width:"wide",context:"formatting"})}},h:function(a,r,t){if(r==="ho"){var e=a.getUTCHours()%12;return e===0&&(e=12),t.ordinalNumber(e,{unit:"hour"})}return oe.h(a,r)},H:function(a,r,t){return r==="Ho"?t.ordinalNumber(a.getUTCHours(),{unit:"hour"}):oe.H(a,r)},K:function(a,r,t){var e=a.getUTCHours()%12;return r==="Ko"?t.ordinalNumber(e,{unit:"hour"}):M(e,r.length)},k:function(a,r,t){var e=a.getUTCHours();return e===0&&(e=24),r==="ko"?t.ordinalNumber(e,{unit:"hour"}):M(e,r.length)},m:function(a,r,t){return r==="mo"?t.ordinalNumber(a.getUTCMinutes(),{unit:"minute"}):oe.m(a,r)},s:function(a,r,t){return r==="so"?t.ordinalNumber(a.getUTCSeconds(),{unit:"second"}):oe.s(a,r)},S:function(a,r){return oe.S(a,r)},X:function(a,r,t,e){var o=e._originalDate||a,n=o.getTimezoneOffset();if(n===0)return"Z";switch(r){case"X":return rt(n);case"XXXX":case"XX":return ce(n);case"XXXXX":case"XXX":default:return ce(n,":")}},x:function(a,r,t,e){var o=e._originalDate||a,n=o.getTimezoneOffset();switch(r){case"x":return rt(n);case"xxxx":case"xx":return ce(n);case"xxxxx":case"xxx":default:return ce(n,":")}},O:function(a,r,t,e){var o=e._originalDate||a,n=o.getTimezoneOffset();switch(r){case"O":case"OO":case"OOO":return"GMT"+tt(n,":");case"OOOO":default:return"GMT"+ce(n,":")}},z:function(a,r,t,e){var o=e._originalDate||a,n=o.getTimezoneOffset();switch(r){case"z":case"zz":case"zzz":return"GMT"+tt(n,":");case"zzzz":default:return"GMT"+ce(n,":")}},t:function(a,r,t,e){var o=e._originalDate||a,n=Math.floor(o.getTime()/1e3);return M(n,r.length)},T:function(a,r,t,e){var o=e._originalDate||a,n=o.getTime();return M(n,r.length)}};function tt(i,a){var r=i>0?"-":"+",t=Math.abs(i),e=Math.floor(t/60),o=t%60;if(o===0)return r+String(e);var n=a||"";return r+String(e)+n+M(o,2)}function rt(i,a){if(i%60===0){var r=i>0?"-":"+";return r+M(Math.abs(i)/60,2)}return ce(i,a)}function ce(i,a){var r=a||"",t=i>0?"-":"+",e=Math.abs(i),o=M(Math.floor(e/60),2),n=M(e%60,2);return t+o+r+n}const Gt=Xt;var at=function(a,r){switch(a){case"P":return r.date({width:"short"});case"PP":return r.date({width:"medium"});case"PPP":return r.date({width:"long"});case"PPPP":default:return r.date({width:"full"})}},mt=function(a,r){switch(a){case"p":return r.time({width:"short"});case"pp":return r.time({width:"medium"});case"ppp":return r.time({width:"long"});case"pppp":default:return r.time({width:"full"})}},zt=function(a,r){var t=a.match(/(P+)(p+)?/)||[],e=t[1],o=t[2];if(!o)return at(a,r);var n;switch(e){case"P":n=r.dateTime({width:"short"});break;case"PP":n=r.dateTime({width:"medium"});break;case"PPP":n=r.dateTime({width:"long"});break;case"PPPP":default:n=r.dateTime({width:"full"});break}return n.replace("{{date}}",at(e,r)).replace("{{time}}",mt(o,r))},Vt={p:mt,P:zt};const Le=Vt;var Zt=["D","DD"],Kt=["YY","YYYY"];function ht(i){return Zt.indexOf(i)!==-1}function wt(i){return Kt.indexOf(i)!==-1}function Me(i,a,r){if(i==="YYYY")throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(a,"`) for formatting years to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(i==="YY")throw new RangeError("Use `yy` instead of `YY` (in `".concat(a,"`) for formatting years to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(i==="D")throw new RangeError("Use `d` instead of `D` (in `".concat(a,"`) for formatting days of the month to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(i==="DD")throw new RangeError("Use `dd` instead of `DD` (in `".concat(a,"`) for formatting days of the month to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}var Jt={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},er=function(a,r,t){var e,o=Jt[a];return typeof o=="string"?e=o:r===1?e=o.one:e=o.other.replace("{{count}}",r.toString()),t!=null&&t.addSuffix?t.comparison&&t.comparison>0?"in "+e:e+" ago":e};const tr=er;function ve(i){return function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=a.width?String(a.width):i.defaultWidth,t=i.formats[r]||i.formats[i.defaultWidth];return t}}var rr={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},ar={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},nr={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},ir={date:ve({formats:rr,defaultWidth:"full"}),time:ve({formats:ar,defaultWidth:"full"}),dateTime:ve({formats:nr,defaultWidth:"full"})};const or=ir;var sr={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},ur=function(a,r,t,e){return sr[a]};const cr=ur;function J(i){return function(a,r){var t=r!=null&&r.context?String(r.context):"standalone",e;if(t==="formatting"&&i.formattingValues){var o=i.defaultFormattingWidth||i.defaultWidth,n=r!=null&&r.width?String(r.width):o;e=i.formattingValues[n]||i.formattingValues[o]}else{var s=i.defaultWidth,u=r!=null&&r.width?String(r.width):i.defaultWidth;e=i.values[u]||i.values[s]}var c=i.argumentCallback?i.argumentCallback(a):a;return e[c]}}var lr={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},dr={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},fr={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},vr={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},mr={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},hr={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},wr=function(a,r){var t=Number(a),e=t%100;if(e>20||e<10)switch(e%10){case 1:return t+"st";case 2:return t+"nd";case 3:return t+"rd"}return t+"th"},pr={ordinalNumber:wr,era:J({values:lr,defaultWidth:"wide"}),quarter:J({values:dr,defaultWidth:"wide",argumentCallback:function(a){return a-1}}),month:J({values:fr,defaultWidth:"wide"}),day:J({values:vr,defaultWidth:"wide"}),dayPeriod:J({values:mr,defaultWidth:"wide",formattingValues:hr,defaultFormattingWidth:"wide"})};const yr=pr;function ee(i){return function(a){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},t=r.width,e=t&&i.matchPatterns[t]||i.matchPatterns[i.defaultMatchWidth],o=a.match(e);if(!o)return null;var n=o[0],s=t&&i.parsePatterns[t]||i.parsePatterns[i.defaultParseWidth],u=Array.isArray(s)?br(s,function(w){return w.test(n)}):gr(s,function(w){return w.test(n)}),c;c=i.valueCallback?i.valueCallback(u):u,c=r.valueCallback?r.valueCallback(c):c;var v=a.slice(n.length);return{value:c,rest:v}}}function gr(i,a){for(var r in i)if(i.hasOwnProperty(r)&&a(i[r]))return r}function br(i,a){for(var r=0;r<i.length;r++)if(a(i[r]))return r}function pt(i){return function(a){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},t=a.match(i.matchPattern);if(!t)return null;var e=t[0],o=a.match(i.parsePattern);if(!o)return null;var n=i.valueCallback?i.valueCallback(o[0]):o[0];n=r.valueCallback?r.valueCallback(n):n;var s=a.slice(e.length);return{value:n,rest:s}}}var Tr=/^(\d+)(th|st|nd|rd)?/i,Dr=/\d+/i,Cr={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Pr={any:[/^b/i,/^(a|c)/i]},Mr={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},_r={any:[/1/i,/2/i,/3/i,/4/i]},xr={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},kr={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Or={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Er={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Ur={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},$r={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Nr={ordinalNumber:pt({matchPattern:Tr,parsePattern:Dr,valueCallback:function(a){return parseInt(a,10)}}),era:ee({matchPatterns:Cr,defaultMatchWidth:"wide",parsePatterns:Pr,defaultParseWidth:"any"}),quarter:ee({matchPatterns:Mr,defaultMatchWidth:"wide",parsePatterns:_r,defaultParseWidth:"any",valueCallback:function(a){return a+1}}),month:ee({matchPatterns:xr,defaultMatchWidth:"wide",parsePatterns:kr,defaultParseWidth:"any"}),day:ee({matchPatterns:Or,defaultMatchWidth:"wide",parsePatterns:Er,defaultParseWidth:"any"}),dayPeriod:ee({matchPatterns:Ur,defaultMatchWidth:"any",parsePatterns:$r,defaultParseWidth:"any"})};const Wr=Nr;var Yr={code:"en-US",formatDistance:tr,formatLong:or,formatRelative:cr,localize:yr,match:Wr,options:{weekStartsOn:0,firstWeekContainsDate:1}};const yt=Yr;var Hr=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Ar=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Lr=/^'([^]*?)'?$/,Rr=/''/g,Sr=/[a-zA-Z]/;function V(i,a,r){var t,e,o,n,s,u,c,v,w,P,x,E,I,A,F,l,h,m;O(2,arguments);var C=String(a),g=we(),U=(t=(e=r==null?void 0:r.locale)!==null&&e!==void 0?e:g.locale)!==null&&t!==void 0?t:yt,L=Q((o=(n=(s=(u=r==null?void 0:r.firstWeekContainsDate)!==null&&u!==void 0?u:r==null||(c=r.locale)===null||c===void 0||(v=c.options)===null||v===void 0?void 0:v.firstWeekContainsDate)!==null&&s!==void 0?s:g.firstWeekContainsDate)!==null&&n!==void 0?n:(w=g.locale)===null||w===void 0||(P=w.options)===null||P===void 0?void 0:P.firstWeekContainsDate)!==null&&o!==void 0?o:1);if(!(L>=1&&L<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var B=Q((x=(E=(I=(A=r==null?void 0:r.weekStartsOn)!==null&&A!==void 0?A:r==null||(F=r.locale)===null||F===void 0||(l=F.options)===null||l===void 0?void 0:l.weekStartsOn)!==null&&I!==void 0?I:g.weekStartsOn)!==null&&E!==void 0?E:(h=g.locale)===null||h===void 0||(m=h.options)===null||m===void 0?void 0:m.weekStartsOn)!==null&&x!==void 0?x:0);if(!(B>=0&&B<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!U.localize)throw new RangeError("locale must contain localize property");if(!U.formatLong)throw new RangeError("locale must contain formatLong property");var j=N(i);if(!Lt(j))throw new RangeError("Invalid time value");var ie=Pe(j),se=lt(j,ie),pe={firstWeekContainsDate:L,weekStartsOn:B,locale:U,_originalDate:j},ke=C.match(Ar).map(function(q){var z=q[0];if(z==="p"||z==="P"){var ue=Le[z];return ue(q,U.formatLong)}return q}).join("").match(Hr).map(function(q){if(q==="''")return"'";var z=q[0];if(z==="'")return qr(q);var ue=Gt[z];if(ue)return!(r!=null&&r.useAdditionalWeekYearTokens)&&wt(q)&&Me(q,a,String(i)),!(r!=null&&r.useAdditionalDayOfYearTokens)&&ht(q)&&Me(q,a,String(i)),ue(se,q,U.localize,pe);if(z.match(Sr))throw new RangeError("Format string contains an unescaped latin alphabet character `"+z+"`");return q}).join("");return ke}function qr(i){var a=i.match(Lr);return a?a[1].replace(Rr,"'"):i}function Ir(i,a){if(i==null)throw new TypeError("assign requires that input parameter not be null or undefined");for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(i[r]=a[r]);return i}function nt(i,a){(a==null||a>i.length)&&(a=i.length);for(var r=0,t=Array(a);r<a;r++)t[r]=i[r];return t}function Fr(i,a){if(i){if(typeof i=="string")return nt(i,a);var r={}.toString.call(i).slice(8,-1);return r==="Object"&&i.constructor&&(r=i.constructor.name),r==="Map"||r==="Set"?Array.from(i):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?nt(i,a):void 0}}function it(i,a){var r=typeof Symbol<"u"&&i[Symbol.iterator]||i["@@iterator"];if(!r){if(Array.isArray(i)||(r=Fr(i))||a&&i&&typeof i.length=="number"){r&&(i=r);var t=0,e=function(){};return{s:e,n:function(){return t>=i.length?{done:!0}:{done:!1,value:i[t++]}},e:function(c){throw c},f:e}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var o,n=!0,s=!1;return{s:function(){r=r.call(i)},n:function(){var c=r.next();return n=c.done,c},e:function(c){s=!0,o=c},f:function(){try{n||r.return==null||r.return()}finally{if(s)throw o}}}}function f(i){if(i===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return i}function Re(i,a){return Re=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,t){return r.__proto__=t,r},Re(i,a)}function b(i,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(a&&a.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),Object.defineProperty(i,"prototype",{writable:!1}),a&&Re(i,a)}function _e(i){return _e=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(a){return a.__proto__||Object.getPrototypeOf(a)},_e(i)}function gt(){try{var i=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(gt=function(){return!!i})()}function jr(i,a){if(a&&(ne(a)=="object"||typeof a=="function"))return a;if(a!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return f(i)}function T(i){var a=gt();return function(){var r,t=_e(i);if(a){var e=_e(this).constructor;r=Reflect.construct(t,arguments,e)}else r=t.apply(this,arguments);return jr(this,r)}}function p(i,a){if(!(i instanceof a))throw new TypeError("Cannot call a class as a function")}function Qr(i,a){if(ne(i)!="object"||!i)return i;var r=i[Symbol.toPrimitive];if(r!==void 0){var t=r.call(i,a||"default");if(ne(t)!="object")return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(i)}function bt(i){var a=Qr(i,"string");return ne(a)=="symbol"?a:a+""}function ot(i,a){for(var r=0;r<a.length;r++){var t=a[r];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(i,bt(t.key),t)}}function y(i,a,r){return a&&ot(i.prototype,a),r&&ot(i,r),Object.defineProperty(i,"prototype",{writable:!1}),i}function d(i,a,r){return(a=bt(a))in i?Object.defineProperty(i,a,{value:r,enumerable:!0,configurable:!0,writable:!0}):i[a]=r,i}var Br=10,Tt=function(){function i(){p(this,i),d(this,"priority",void 0),d(this,"subPriority",0)}return y(i,[{key:"validate",value:function(r,t){return!0}}]),i}(),Xr=function(i){b(r,i);var a=T(r);function r(t,e,o,n,s){var u;return p(this,r),u=a.call(this),u.value=t,u.validateValue=e,u.setValue=o,u.priority=n,s&&(u.subPriority=s),u}return y(r,[{key:"validate",value:function(e,o){return this.validateValue(e,this.value,o)}},{key:"set",value:function(e,o,n){return this.setValue(e,o,this.value,n)}}]),r}(Tt),Gr=function(i){b(r,i);var a=T(r);function r(){var t;p(this,r);for(var e=arguments.length,o=new Array(e),n=0;n<e;n++)o[n]=arguments[n];return t=a.call.apply(a,[this].concat(o)),d(f(t),"priority",Br),d(f(t),"subPriority",-1),t}return y(r,[{key:"set",value:function(e,o){if(o.timestampIsSet)return e;var n=new Date(0);return n.setFullYear(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()),n.setHours(e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds(),e.getUTCMilliseconds()),n}}]),r}(Tt),D=function(){function i(){p(this,i),d(this,"incompatibleTokens",void 0),d(this,"priority",void 0),d(this,"subPriority",void 0)}return y(i,[{key:"run",value:function(r,t,e,o){var n=this.parse(r,t,e,o);return n?{setter:new Xr(n.value,this.validate,this.set,this.priority,this.subPriority),rest:n.rest}:null}},{key:"validate",value:function(r,t,e){return!0}}]),i}(),zr=function(i){b(r,i);var a=T(r);function r(){var t;p(this,r);for(var e=arguments.length,o=new Array(e),n=0;n<e;n++)o[n]=arguments[n];return t=a.call.apply(a,[this].concat(o)),d(f(t),"priority",140),d(f(t),"incompatibleTokens",["R","u","t","T"]),t}return y(r,[{key:"parse",value:function(e,o,n){switch(o){case"G":case"GG":case"GGG":return n.era(e,{width:"abbreviated"})||n.era(e,{width:"narrow"});case"GGGGG":return n.era(e,{width:"narrow"});case"GGGG":default:return n.era(e,{width:"wide"})||n.era(e,{width:"abbreviated"})||n.era(e,{width:"narrow"})}}},{key:"set",value:function(e,o,n){return o.era=n,e.setUTCFullYear(n,0,1),e.setUTCHours(0,0,0,0),e}}]),r}(D),Y={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},te={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function H(i,a){return i&&{value:a(i.value),rest:i.rest}}function $(i,a){var r=a.match(i);return r?{value:parseInt(r[0],10),rest:a.slice(r[0].length)}:null}function re(i,a){var r=a.match(i);if(!r)return null;if(r[0]==="Z")return{value:0,rest:a.slice(1)};var t=r[1]==="+"?1:-1,e=r[2]?parseInt(r[2],10):0,o=r[3]?parseInt(r[3],10):0,n=r[5]?parseInt(r[5],10):0;return{value:t*(e*Fe+o*Ie+n*Ht),rest:a.slice(r[0].length)}}function Dt(i){return $(Y.anyDigitsSigned,i)}function W(i,a){switch(i){case 1:return $(Y.singleDigit,a);case 2:return $(Y.twoDigits,a);case 3:return $(Y.threeDigits,a);case 4:return $(Y.fourDigits,a);default:return $(new RegExp("^\\d{1,"+i+"}"),a)}}function xe(i,a){switch(i){case 1:return $(Y.singleDigitSigned,a);case 2:return $(Y.twoDigitsSigned,a);case 3:return $(Y.threeDigitsSigned,a);case 4:return $(Y.fourDigitsSigned,a);default:return $(new RegExp("^-?\\d{1,"+i+"}"),a)}}function Qe(i){switch(i){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function Ct(i,a){var r=a>0,t=r?a:1-a,e;if(t<=50)e=i||100;else{var o=t+50,n=Math.floor(o/100)*100,s=i>=o%100;e=i+n-(s?100:0)}return r?e:1-e}function Pt(i){return i%400===0||i%4===0&&i%100!==0}var Vr=function(i){b(r,i);var a=T(r);function r(){var t;p(this,r);for(var e=arguments.length,o=new Array(e),n=0;n<e;n++)o[n]=arguments[n];return t=a.call.apply(a,[this].concat(o)),d(f(t),"priority",130),d(f(t),"incompatibleTokens",["Y","R","u","w","I","i","e","c","t","T"]),t}return y(r,[{key:"parse",value:function(e,o,n){var s=function(c){return{year:c,isTwoDigitYear:o==="yy"}};switch(o){case"y":return H(W(4,e),s);case"yo":return H(n.ordinalNumber(e,{unit:"year"}),s);default:return H(W(o.length,e),s)}}},{key:"validate",value:function(e,o){return o.isTwoDigitYear||o.year>0}},{key:"set",value:function(e,o,n){var s=e.getUTCFullYear();if(n.isTwoDigitYear){var u=Ct(n.year,s);return e.setUTCFullYear(u,0,1),e.setUTCHours(0,0,0,0),e}var c=!("era"in o)||o.era===1?n.year:1-n.year;return e.setUTCFullYear(c,0,1),e.setUTCHours(0,0,0,0),e}}]),r}(D),Zr=function(i){b(r,i);var a=T(r);function r(){var t;p(this,r);for(var e=arguments.length,o=new Array(e),n=0;n<e;n++)o[n]=arguments[n];return t=a.call.apply(a,[this].concat(o)),d(f(t),"priority",130),d(f(t),"incompatibleTokens",["y","R","u","Q","q","M","L","I","d","D","i","t","T"]),t}return y(r,[{key:"parse",value:function(e,o,n){var s=function(c){return{year:c,isTwoDigitYear:o==="YY"}};switch(o){case"Y":return H(W(4,e),s);case"Yo":return H(n.ordinalNumber(e,{unit:"year"}),s);default:return H(W(o.length,e),s)}}},{key:"validate",value:function(e,o){return o.isTwoDigitYear||o.year>0}},{key:"set",value:function(e,o,n,s){var u=je(e,s);if(n.isTwoDigitYear){var c=Ct(n.year,u);return e.setUTCFullYear(c,0,s.firstWeekContainsDate),e.setUTCHours(0,0,0,0),le(e,s)}var v=!("era"in o)||o.era===1?n.year:1-n.year;return e.setUTCFullYear(v,0,s.firstWeekContainsDate),e.setUTCHours(0,0,0,0),le(e,s)}}]),r}(D),Kr=function(i){b(r,i);var a=T(r);function r(){var t;p(this,r);for(var e=arguments.length,o=new Array(e),n=0;n<e;n++)o[n]=arguments[n];return t=a.call.apply(a,[this].concat(o)),d(f(t),"priority",130),d(f(t),"incompatibleTokens",["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"]),t}return y(r,[{key:"parse",value:function(e,o){return xe(o==="R"?4:o.length,e)}},{key:"set",value:function(e,o,n){var s=new Date(0);return s.setUTCFullYear(n,0,4),s.setUTCHours(0,0,0,0),me(s)}}]),r}(D),Jr=function(i){b(r,i);var a=T(r);function r(){var t;p(this,r);for(var e=arguments.length,o=new Array(e),n=0;n<e;n++)o[n]=arguments[n];return t=a.call.apply(a,[this].concat(o)),d(f(t),"priority",130),d(f(t),"incompatibleTokens",["G","y","Y","R","w","I","i","e","c","t","T"]),t}return y(r,[{key:"parse",value:function(e,o){return xe(o==="u"?4:o.length,e)}},{key:"set",value:function(e,o,n){return e.setUTCFullYear(n,0,1),e.setUTCHours(0,0,0,0),e}}]),r}(D),ea=function(i){b(r,i);var a=T(r);function r(){var t;p(this,r);for(var e=arguments.length,o=new Array(e),n=0;n<e;n++)o[n]=arguments[n];return t=a.call.apply(a,[this].concat(o)),d(f(t),"priority",120),d(f(t),"incompatibleTokens",["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"]),t}return y(r,[{key:"parse",value:function(e,o,n){switch(o){case"Q":case"QQ":return W(o.length,e);case"Qo":return n.ordinalNumber(e,{unit:"quarter"});case"QQQ":return n.quarter(e,{width:"abbreviated",context:"formatting"})||n.quarter(e,{width:"narrow",context:"formatting"});case"QQQQQ":return n.quarter(e,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(e,{width:"wide",context:"formatting"})||n.quarter(e,{width:"abbreviated",context:"formatting"})||n.quarter(e,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(e,o){return o>=1&&o<=4}},{key:"set",value:function(e,o,n){return e.setUTCMonth((n-1)*3,1),e.setUTCHours(0,0,0,0),e}}]),r}(D),ta=function(i){b(r,i);var a=T(r);function r(){var t;p(this,r);for(var e=arguments.length,o=new Array(e),n=0;n<e;n++)o[n]=arguments[n];return t=a.call.apply(a,[this].concat(o)),d(f(t),"priority",120),d(f(t),"incompatibleTokens",["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"]),t}return y(r,[{key:"parse",value:function(e,o,n){switch(o){case"q":case"qq":return W(o.length,e);case"qo":return n.ordinalNumber(e,{unit:"quarter"});case"qqq":return n.quarter(e,{width:"abbreviated",context:"standalone"})||n.quarter(e,{width:"narrow",context:"standalone"});case"qqqqq":return n.quarter(e,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(e,{width:"wide",context:"standalone"})||n.quarter(e,{width:"abbreviated",context:"standalone"})||n.quarter(e,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(e,o){return o>=1&&o<=4}},{key:"set",value:function(e,o,n){return e.setUTCMonth((n-1)*3,1),e.setUTCHours(0,0,0,0),e}}]),r}(D),ra=function(i){b(r,i);var a=T(r);function r(){var t;p(this,r);for(var e=arguments.length,o=new Array(e),n=0;n<e;n++)o[n]=arguments[n];return t=a.call.apply(a,[this].concat(o)),d(f(t),"incompatibleTokens",["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]),d(f(t),"priority",110),t}return y(r,[{key:"parse",value:function(e,o,n){var s=function(c){return c-1};switch(o){case"M":return H($(Y.month,e),s);case"MM":return H(W(2,e),s);case"Mo":return H(n.ordinalNumber(e,{unit:"month"}),s);case"MMM":return n.month(e,{width:"abbreviated",context:"formatting"})||n.month(e,{width:"narrow",context:"formatting"});case"MMMMM":return n.month(e,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(e,{width:"wide",context:"formatting"})||n.month(e,{width:"abbreviated",context:"formatting"})||n.month(e,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(e,o){return o>=0&&o<=11}},{key:"set",value:function(e,o,n){return e.setUTCMonth(n,1),e.setUTCHours(0,0,0,0),e}}]),r}(D),aa=function(i){b(r,i);var a=T(r);function r(){var t;p(this,r);for(var e=arguments.length,o=new Array(e),n=0;n<e;n++)o[n]=arguments[n];return t=a.call.apply(a,[this].concat(o)),d(f(t),"priority",110),d(f(t),"incompatibleTokens",["Y","R","q","Q","M","w","I","D","i","e","c","t","T"]),t}return y(r,[{key:"parse",value:function(e,o,n){var s=function(c){return c-1};switch(o){case"L":return H($(Y.month,e),s);case"LL":return H(W(2,e),s);case"Lo":return H(n.ordinalNumber(e,{unit:"month"}),s);case"LLL":return n.month(e,{width:"abbreviated",context:"standalone"})||n.month(e,{width:"narrow",context:"standalone"});case"LLLLL":return n.month(e,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(e,{width:"wide",context:"standalone"})||n.month(e,{width:"abbreviated",context:"standalone"})||n.month(e,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(e,o){return o>=0&&o<=11}},{key:"set",value:function(e,o,n){return e.setUTCMonth(n,1),e.setUTCHours(0,0,0,0),e}}]),r}(D);function na(i,a,r){O(2,arguments);var t=N(i),e=Q(a),o=vt(t,r)-e;return t.setUTCDate(t.getUTCDate()-o*7),t}var ia=function(i){b(r,i);var a=T(r);function r(){var t;p(this,r);for(var e=arguments.length,o=new Array(e),n=0;n<e;n++)o[n]=arguments[n];return t=a.call.apply(a,[this].concat(o)),d(f(t),"priority",100),d(f(t),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","i","t","T"]),t}return y(r,[{key:"parse",value:function(e,o,n){switch(o){case"w":return $(Y.week,e);case"wo":return n.ordinalNumber(e,{unit:"week"});default:return W(o.length,e)}}},{key:"validate",value:function(e,o){return o>=1&&o<=53}},{key:"set",value:function(e,o,n,s){return le(na(e,n,s),s)}}]),r}(D);function oa(i,a){O(2,arguments);var r=N(i),t=Q(a),e=ft(r)-t;return r.setUTCDate(r.getUTCDate()-e*7),r}var sa=function(i){b(r,i);var a=T(r);function r(){var t;p(this,r);for(var e=arguments.length,o=new Array(e),n=0;n<e;n++)o[n]=arguments[n];return t=a.call.apply(a,[this].concat(o)),d(f(t),"priority",100),d(f(t),"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"]),t}return y(r,[{key:"parse",value:function(e,o,n){switch(o){case"I":return $(Y.week,e);case"Io":return n.ordinalNumber(e,{unit:"week"});default:return W(o.length,e)}}},{key:"validate",value:function(e,o){return o>=1&&o<=53}},{key:"set",value:function(e,o,n){return me(oa(e,n))}}]),r}(D),ua=[31,28,31,30,31,30,31,31,30,31,30,31],ca=[31,29,31,30,31,30,31,31,30,31,30,31],la=function(i){b(r,i);var a=T(r);function r(){var t;p(this,r);for(var e=arguments.length,o=new Array(e),n=0;n<e;n++)o[n]=arguments[n];return t=a.call.apply(a,[this].concat(o)),d(f(t),"priority",90),d(f(t),"subPriority",1),d(f(t),"incompatibleTokens",["Y","R","q","Q","w","I","D","i","e","c","t","T"]),t}return y(r,[{key:"parse",value:function(e,o,n){switch(o){case"d":return $(Y.date,e);case"do":return n.ordinalNumber(e,{unit:"date"});default:return W(o.length,e)}}},{key:"validate",value:function(e,o){var n=e.getUTCFullYear(),s=Pt(n),u=e.getUTCMonth();return s?o>=1&&o<=ca[u]:o>=1&&o<=ua[u]}},{key:"set",value:function(e,o,n){return e.setUTCDate(n),e.setUTCHours(0,0,0,0),e}}]),r}(D),da=function(i){b(r,i);var a=T(r);function r(){var t;p(this,r);for(var e=arguments.length,o=new Array(e),n=0;n<e;n++)o[n]=arguments[n];return t=a.call.apply(a,[this].concat(o)),d(f(t),"priority",90),d(f(t),"subpriority",1),d(f(t),"incompatibleTokens",["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"]),t}return y(r,[{key:"parse",value:function(e,o,n){switch(o){case"D":case"DD":return $(Y.dayOfYear,e);case"Do":return n.ordinalNumber(e,{unit:"date"});default:return W(o.length,e)}}},{key:"validate",value:function(e,o){var n=e.getUTCFullYear(),s=Pt(n);return s?o>=1&&o<=366:o>=1&&o<=365}},{key:"set",value:function(e,o,n){return e.setUTCMonth(0,n),e.setUTCHours(0,0,0,0),e}}]),r}(D);function Be(i,a,r){var t,e,o,n,s,u,c,v;O(2,arguments);var w=we(),P=Q((t=(e=(o=(n=r==null?void 0:r.weekStartsOn)!==null&&n!==void 0?n:r==null||(s=r.locale)===null||s===void 0||(u=s.options)===null||u===void 0?void 0:u.weekStartsOn)!==null&&o!==void 0?o:w.weekStartsOn)!==null&&e!==void 0?e:(c=w.locale)===null||c===void 0||(v=c.options)===null||v===void 0?void 0:v.weekStartsOn)!==null&&t!==void 0?t:0);if(!(P>=0&&P<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var x=N(i),E=Q(a),I=x.getUTCDay(),A=E%7,F=(A+7)%7,l=(F<P?7:0)+E-I;return x.setUTCDate(x.getUTCDate()+l),x}var fa=function(i){b(r,i);var a=T(r);function r(){var t;p(this,r);for(var e=arguments.length,o=new Array(e),n=0;n<e;n++)o[n]=arguments[n];return t=a.call.apply(a,[this].concat(o)),d(f(t),"priority",90),d(f(t),"incompatibleTokens",["D","i","e","c","t","T"]),t}return y(r,[{key:"parse",value:function(e,o,n){switch(o){case"E":case"EE":case"EEE":return n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"});case"EEEEE":return n.day(e,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"});case"EEEE":default:return n.day(e,{width:"wide",context:"formatting"})||n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(e,o){return o>=0&&o<=6}},{key:"set",value:function(e,o,n,s){return e=Be(e,n,s),e.setUTCHours(0,0,0,0),e}}]),r}(D),va=function(i){b(r,i);var a=T(r);function r(){var t;p(this,r);for(var e=arguments.length,o=new Array(e),n=0;n<e;n++)o[n]=arguments[n];return t=a.call.apply(a,[this].concat(o)),d(f(t),"priority",90),d(f(t),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"]),t}return y(r,[{key:"parse",value:function(e,o,n,s){var u=function(v){var w=Math.floor((v-1)/7)*7;return(v+s.weekStartsOn+6)%7+w};switch(o){case"e":case"ee":return H(W(o.length,e),u);case"eo":return H(n.ordinalNumber(e,{unit:"day"}),u);case"eee":return n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"});case"eeeee":return n.day(e,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"});case"eeee":default:return n.day(e,{width:"wide",context:"formatting"})||n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(e,o){return o>=0&&o<=6}},{key:"set",value:function(e,o,n,s){return e=Be(e,n,s),e.setUTCHours(0,0,0,0),e}}]),r}(D),ma=function(i){b(r,i);var a=T(r);function r(){var t;p(this,r);for(var e=arguments.length,o=new Array(e),n=0;n<e;n++)o[n]=arguments[n];return t=a.call.apply(a,[this].concat(o)),d(f(t),"priority",90),d(f(t),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"]),t}return y(r,[{key:"parse",value:function(e,o,n,s){var u=function(v){var w=Math.floor((v-1)/7)*7;return(v+s.weekStartsOn+6)%7+w};switch(o){case"c":case"cc":return H(W(o.length,e),u);case"co":return H(n.ordinalNumber(e,{unit:"day"}),u);case"ccc":return n.day(e,{width:"abbreviated",context:"standalone"})||n.day(e,{width:"short",context:"standalone"})||n.day(e,{width:"narrow",context:"standalone"});case"ccccc":return n.day(e,{width:"narrow",context:"standalone"});case"cccccc":return n.day(e,{width:"short",context:"standalone"})||n.day(e,{width:"narrow",context:"standalone"});case"cccc":default:return n.day(e,{width:"wide",context:"standalone"})||n.day(e,{width:"abbreviated",context:"standalone"})||n.day(e,{width:"short",context:"standalone"})||n.day(e,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(e,o){return o>=0&&o<=6}},{key:"set",value:function(e,o,n,s){return e=Be(e,n,s),e.setUTCHours(0,0,0,0),e}}]),r}(D);function ha(i,a){O(2,arguments);var r=Q(a);r%7===0&&(r=r-7);var t=1,e=N(i),o=e.getUTCDay(),n=r%7,s=(n+7)%7,u=(s<t?7:0)+r-o;return e.setUTCDate(e.getUTCDate()+u),e}var wa=function(i){b(r,i);var a=T(r);function r(){var t;p(this,r);for(var e=arguments.length,o=new Array(e),n=0;n<e;n++)o[n]=arguments[n];return t=a.call.apply(a,[this].concat(o)),d(f(t),"priority",90),d(f(t),"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"]),t}return y(r,[{key:"parse",value:function(e,o,n){var s=function(c){return c===0?7:c};switch(o){case"i":case"ii":return W(o.length,e);case"io":return n.ordinalNumber(e,{unit:"day"});case"iii":return H(n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"}),s);case"iiiii":return H(n.day(e,{width:"narrow",context:"formatting"}),s);case"iiiiii":return H(n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"}),s);case"iiii":default:return H(n.day(e,{width:"wide",context:"formatting"})||n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"}),s)}}},{key:"validate",value:function(e,o){return o>=1&&o<=7}},{key:"set",value:function(e,o,n){return e=ha(e,n),e.setUTCHours(0,0,0,0),e}}]),r}(D),pa=function(i){b(r,i);var a=T(r);function r(){var t;p(this,r);for(var e=arguments.length,o=new Array(e),n=0;n<e;n++)o[n]=arguments[n];return t=a.call.apply(a,[this].concat(o)),d(f(t),"priority",80),d(f(t),"incompatibleTokens",["b","B","H","k","t","T"]),t}return y(r,[{key:"parse",value:function(e,o,n){switch(o){case"a":case"aa":case"aaa":return n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"});case"aaaaa":return n.dayPeriod(e,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(e,{width:"wide",context:"formatting"})||n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(e,o,n){return e.setUTCHours(Qe(n),0,0,0),e}}]),r}(D),ya=function(i){b(r,i);var a=T(r);function r(){var t;p(this,r);for(var e=arguments.length,o=new Array(e),n=0;n<e;n++)o[n]=arguments[n];return t=a.call.apply(a,[this].concat(o)),d(f(t),"priority",80),d(f(t),"incompatibleTokens",["a","B","H","k","t","T"]),t}return y(r,[{key:"parse",value:function(e,o,n){switch(o){case"b":case"bb":case"bbb":return n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"});case"bbbbb":return n.dayPeriod(e,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(e,{width:"wide",context:"formatting"})||n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(e,o,n){return e.setUTCHours(Qe(n),0,0,0),e}}]),r}(D),ga=function(i){b(r,i);var a=T(r);function r(){var t;p(this,r);for(var e=arguments.length,o=new Array(e),n=0;n<e;n++)o[n]=arguments[n];return t=a.call.apply(a,[this].concat(o)),d(f(t),"priority",80),d(f(t),"incompatibleTokens",["a","b","t","T"]),t}return y(r,[{key:"parse",value:function(e,o,n){switch(o){case"B":case"BB":case"BBB":return n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"});case"BBBBB":return n.dayPeriod(e,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(e,{width:"wide",context:"formatting"})||n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(e,o,n){return e.setUTCHours(Qe(n),0,0,0),e}}]),r}(D),ba=function(i){b(r,i);var a=T(r);function r(){var t;p(this,r);for(var e=arguments.length,o=new Array(e),n=0;n<e;n++)o[n]=arguments[n];return t=a.call.apply(a,[this].concat(o)),d(f(t),"priority",70),d(f(t),"incompatibleTokens",["H","K","k","t","T"]),t}return y(r,[{key:"parse",value:function(e,o,n){switch(o){case"h":return $(Y.hour12h,e);case"ho":return n.ordinalNumber(e,{unit:"hour"});default:return W(o.length,e)}}},{key:"validate",value:function(e,o){return o>=1&&o<=12}},{key:"set",value:function(e,o,n){var s=e.getUTCHours()>=12;return s&&n<12?e.setUTCHours(n+12,0,0,0):!s&&n===12?e.setUTCHours(0,0,0,0):e.setUTCHours(n,0,0,0),e}}]),r}(D),Ta=function(i){b(r,i);var a=T(r);function r(){var t;p(this,r);for(var e=arguments.length,o=new Array(e),n=0;n<e;n++)o[n]=arguments[n];return t=a.call.apply(a,[this].concat(o)),d(f(t),"priority",70),d(f(t),"incompatibleTokens",["a","b","h","K","k","t","T"]),t}return y(r,[{key:"parse",value:function(e,o,n){switch(o){case"H":return $(Y.hour23h,e);case"Ho":return n.ordinalNumber(e,{unit:"hour"});default:return W(o.length,e)}}},{key:"validate",value:function(e,o){return o>=0&&o<=23}},{key:"set",value:function(e,o,n){return e.setUTCHours(n,0,0,0),e}}]),r}(D),Da=function(i){b(r,i);var a=T(r);function r(){var t;p(this,r);for(var e=arguments.length,o=new Array(e),n=0;n<e;n++)o[n]=arguments[n];return t=a.call.apply(a,[this].concat(o)),d(f(t),"priority",70),d(f(t),"incompatibleTokens",["h","H","k","t","T"]),t}return y(r,[{key:"parse",value:function(e,o,n){switch(o){case"K":return $(Y.hour11h,e);case"Ko":return n.ordinalNumber(e,{unit:"hour"});default:return W(o.length,e)}}},{key:"validate",value:function(e,o){return o>=0&&o<=11}},{key:"set",value:function(e,o,n){var s=e.getUTCHours()>=12;return s&&n<12?e.setUTCHours(n+12,0,0,0):e.setUTCHours(n,0,0,0),e}}]),r}(D),Ca=function(i){b(r,i);var a=T(r);function r(){var t;p(this,r);for(var e=arguments.length,o=new Array(e),n=0;n<e;n++)o[n]=arguments[n];return t=a.call.apply(a,[this].concat(o)),d(f(t),"priority",70),d(f(t),"incompatibleTokens",["a","b","h","H","K","t","T"]),t}return y(r,[{key:"parse",value:function(e,o,n){switch(o){case"k":return $(Y.hour24h,e);case"ko":return n.ordinalNumber(e,{unit:"hour"});default:return W(o.length,e)}}},{key:"validate",value:function(e,o){return o>=1&&o<=24}},{key:"set",value:function(e,o,n){var s=n<=24?n%24:n;return e.setUTCHours(s,0,0,0),e}}]),r}(D),Pa=function(i){b(r,i);var a=T(r);function r(){var t;p(this,r);for(var e=arguments.length,o=new Array(e),n=0;n<e;n++)o[n]=arguments[n];return t=a.call.apply(a,[this].concat(o)),d(f(t),"priority",60),d(f(t),"incompatibleTokens",["t","T"]),t}return y(r,[{key:"parse",value:function(e,o,n){switch(o){case"m":return $(Y.minute,e);case"mo":return n.ordinalNumber(e,{unit:"minute"});default:return W(o.length,e)}}},{key:"validate",value:function(e,o){return o>=0&&o<=59}},{key:"set",value:function(e,o,n){return e.setUTCMinutes(n,0,0),e}}]),r}(D),Ma=function(i){b(r,i);var a=T(r);function r(){var t;p(this,r);for(var e=arguments.length,o=new Array(e),n=0;n<e;n++)o[n]=arguments[n];return t=a.call.apply(a,[this].concat(o)),d(f(t),"priority",50),d(f(t),"incompatibleTokens",["t","T"]),t}return y(r,[{key:"parse",value:function(e,o,n){switch(o){case"s":return $(Y.second,e);case"so":return n.ordinalNumber(e,{unit:"second"});default:return W(o.length,e)}}},{key:"validate",value:function(e,o){return o>=0&&o<=59}},{key:"set",value:function(e,o,n){return e.setUTCSeconds(n,0),e}}]),r}(D),_a=function(i){b(r,i);var a=T(r);function r(){var t;p(this,r);for(var e=arguments.length,o=new Array(e),n=0;n<e;n++)o[n]=arguments[n];return t=a.call.apply(a,[this].concat(o)),d(f(t),"priority",30),d(f(t),"incompatibleTokens",["t","T"]),t}return y(r,[{key:"parse",value:function(e,o){var n=function(u){return Math.floor(u*Math.pow(10,-o.length+3))};return H(W(o.length,e),n)}},{key:"set",value:function(e,o,n){return e.setUTCMilliseconds(n),e}}]),r}(D),xa=function(i){b(r,i);var a=T(r);function r(){var t;p(this,r);for(var e=arguments.length,o=new Array(e),n=0;n<e;n++)o[n]=arguments[n];return t=a.call.apply(a,[this].concat(o)),d(f(t),"priority",10),d(f(t),"incompatibleTokens",["t","T","x"]),t}return y(r,[{key:"parse",value:function(e,o){switch(o){case"X":return re(te.basicOptionalMinutes,e);case"XX":return re(te.basic,e);case"XXXX":return re(te.basicOptionalSeconds,e);case"XXXXX":return re(te.extendedOptionalSeconds,e);case"XXX":default:return re(te.extended,e)}}},{key:"set",value:function(e,o,n){return o.timestampIsSet?e:new Date(e.getTime()-n)}}]),r}(D),ka=function(i){b(r,i);var a=T(r);function r(){var t;p(this,r);for(var e=arguments.length,o=new Array(e),n=0;n<e;n++)o[n]=arguments[n];return t=a.call.apply(a,[this].concat(o)),d(f(t),"priority",10),d(f(t),"incompatibleTokens",["t","T","X"]),t}return y(r,[{key:"parse",value:function(e,o){switch(o){case"x":return re(te.basicOptionalMinutes,e);case"xx":return re(te.basic,e);case"xxxx":return re(te.basicOptionalSeconds,e);case"xxxxx":return re(te.extendedOptionalSeconds,e);case"xxx":default:return re(te.extended,e)}}},{key:"set",value:function(e,o,n){return o.timestampIsSet?e:new Date(e.getTime()-n)}}]),r}(D),Oa=function(i){b(r,i);var a=T(r);function r(){var t;p(this,r);for(var e=arguments.length,o=new Array(e),n=0;n<e;n++)o[n]=arguments[n];return t=a.call.apply(a,[this].concat(o)),d(f(t),"priority",40),d(f(t),"incompatibleTokens","*"),t}return y(r,[{key:"parse",value:function(e){return Dt(e)}},{key:"set",value:function(e,o,n){return[new Date(n*1e3),{timestampIsSet:!0}]}}]),r}(D),Ea=function(i){b(r,i);var a=T(r);function r(){var t;p(this,r);for(var e=arguments.length,o=new Array(e),n=0;n<e;n++)o[n]=arguments[n];return t=a.call.apply(a,[this].concat(o)),d(f(t),"priority",20),d(f(t),"incompatibleTokens","*"),t}return y(r,[{key:"parse",value:function(e){return Dt(e)}},{key:"set",value:function(e,o,n){return[new Date(n),{timestampIsSet:!0}]}}]),r}(D),Ua={G:new zr,y:new Vr,Y:new Zr,R:new Kr,u:new Jr,Q:new ea,q:new ta,M:new ra,L:new aa,w:new ia,I:new sa,d:new la,D:new da,E:new fa,e:new va,c:new ma,i:new wa,a:new pa,b:new ya,B:new ga,h:new ba,H:new Ta,K:new Da,k:new Ca,m:new Pa,s:new Ma,S:new _a,X:new xa,x:new ka,t:new Oa,T:new Ea},$a=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Na=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Wa=/^'([^]*?)'?$/,Ya=/''/g,Ha=/\S/,Aa=/[a-zA-Z]/;function La(i,a,r,t){var e,o,n,s,u,c,v,w,P,x,E,I,A,F,l,h,m,C;O(3,arguments);var g=String(i),U=String(a),L=we(),B=(e=(o=t==null?void 0:t.locale)!==null&&o!==void 0?o:L.locale)!==null&&e!==void 0?e:yt;if(!B.match)throw new RangeError("locale must contain match property");var j=Q((n=(s=(u=(c=t==null?void 0:t.firstWeekContainsDate)!==null&&c!==void 0?c:t==null||(v=t.locale)===null||v===void 0||(w=v.options)===null||w===void 0?void 0:w.firstWeekContainsDate)!==null&&u!==void 0?u:L.firstWeekContainsDate)!==null&&s!==void 0?s:(P=L.locale)===null||P===void 0||(x=P.options)===null||x===void 0?void 0:x.firstWeekContainsDate)!==null&&n!==void 0?n:1);if(!(j>=1&&j<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var ie=Q((E=(I=(A=(F=t==null?void 0:t.weekStartsOn)!==null&&F!==void 0?F:t==null||(l=t.locale)===null||l===void 0||(h=l.options)===null||h===void 0?void 0:h.weekStartsOn)!==null&&A!==void 0?A:L.weekStartsOn)!==null&&I!==void 0?I:(m=L.locale)===null||m===void 0||(C=m.options)===null||C===void 0?void 0:C.weekStartsOn)!==null&&E!==void 0?E:0);if(!(ie>=0&&ie<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(U==="")return g===""?N(r):new Date(NaN);var se={firstWeekContainsDate:j,weekStartsOn:ie,locale:B},pe=[new Gr],ke=U.match(Na).map(function(R){var k=R[0];if(k in Le){var Z=Le[k];return Z(R,B.formatLong)}return R}).join("").match($a),q=[],z=it(ke),ue;try{var _t=function(){var k=ue.value;!(t!=null&&t.useAdditionalWeekYearTokens)&&wt(k)&&Me(k,U,i),!(t!=null&&t.useAdditionalDayOfYearTokens)&&ht(k)&&Me(k,U,i);var Z=k[0],De=Ua[Z];if(De){var Ze=De.incompatibleTokens;if(Array.isArray(Ze)){var Ke=q.find(function(Je){return Ze.includes(Je.token)||Je.token===Z});if(Ke)throw new RangeError("The format string mustn't contain `".concat(Ke.fullToken,"` and `").concat(k,"` at the same time"))}else if(De.incompatibleTokens==="*"&&q.length>0)throw new RangeError("The format string mustn't contain `".concat(k,"` and any other token at the same time"));q.push({token:Z,fullToken:k});var Ee=De.run(g,k,B.match,se);if(!Ee)return{v:new Date(NaN)};pe.push(Ee.setter),g=Ee.rest}else{if(Z.match(Aa))throw new RangeError("Format string contains an unescaped latin alphabet character `"+Z+"`");if(k==="''"?k="'":Z==="'"&&(k=Ra(k)),g.indexOf(k)===0)g=g.slice(k.length);else return{v:new Date(NaN)}}};for(z.s();!(ue=z.n()).done;){var Xe=_t();if(ne(Xe)==="object")return Xe.v}}catch(R){z.e(R)}finally{z.f()}if(g.length>0&&Ha.test(g))return new Date(NaN);var xt=pe.map(function(R){return R.priority}).sort(function(R,k){return k-R}).filter(function(R,k,Z){return Z.indexOf(R)===k}).map(function(R){return pe.filter(function(k){return k.priority===R}).sort(function(k,Z){return Z.subPriority-k.subPriority})}).map(function(R){return R[0]}),Oe=N(r);if(isNaN(Oe.getTime()))return new Date(NaN);var ye=lt(Oe,Pe(Oe)),Ge={},be=it(xt),ze;try{for(be.s();!(ze=be.n()).done;){var Ve=ze.value;if(!Ve.validate(ye,se))return new Date(NaN);var Te=Ve.set(ye,Ge,se);Array.isArray(Te)?(ye=Te[0],Ir(Ge,Te[1])):ye=Te}}catch(R){be.e(R)}finally{be.f()}return ye}function Ra(i){return i.match(Wa)[1].replace(Ya,"'")}function _(i,a){var r;O(1,arguments);var t=Q((r=a==null?void 0:a.additionalDigits)!==null&&r!==void 0?r:2);if(t!==2&&t!==1&&t!==0)throw new RangeError("additionalDigits must be 0, 1 or 2");if(!(typeof i=="string"||Object.prototype.toString.call(i)==="[object String]"))return new Date(NaN);var e=Fa(i),o;if(e.date){var n=ja(e.date,t);o=Qa(n.restDateString,n.year)}if(!o||isNaN(o.getTime()))return new Date(NaN);var s=o.getTime(),u=0,c;if(e.time&&(u=Ba(e.time),isNaN(u)))return new Date(NaN);if(e.timezone){if(c=Xa(e.timezone),isNaN(c))return new Date(NaN)}else{var v=new Date(s+u),w=new Date(0);return w.setFullYear(v.getUTCFullYear(),v.getUTCMonth(),v.getUTCDate()),w.setHours(v.getUTCHours(),v.getUTCMinutes(),v.getUTCSeconds(),v.getUTCMilliseconds()),w}return new Date(s+u+c)}var Ce={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},Sa=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,qa=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,Ia=/^([+-])(\d{2})(?::?(\d{2}))?$/;function Fa(i){var a={},r=i.split(Ce.dateTimeDelimiter),t;if(r.length>2)return a;if(/:/.test(r[0])?t=r[0]:(a.date=r[0],t=r[1],Ce.timeZoneDelimiter.test(a.date)&&(a.date=i.split(Ce.timeZoneDelimiter)[0],t=i.substr(a.date.length,i.length))),t){var e=Ce.timezone.exec(t);e?(a.time=t.replace(e[1],""),a.timezone=e[1]):a.time=t}return a}function ja(i,a){var r=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+a)+"})|(\\d{2}|[+-]\\d{"+(2+a)+"})$)"),t=i.match(r);if(!t)return{year:NaN,restDateString:""};var e=t[1]?parseInt(t[1]):null,o=t[2]?parseInt(t[2]):null;return{year:o===null?e:o*100,restDateString:i.slice((t[1]||t[2]).length)}}function Qa(i,a){if(a===null)return new Date(NaN);var r=i.match(Sa);if(!r)return new Date(NaN);var t=!!r[4],e=ge(r[1]),o=ge(r[2])-1,n=ge(r[3]),s=ge(r[4]),u=ge(r[5])-1;if(t)return Ka(a,s,u)?Ga(a,s,u):new Date(NaN);var c=new Date(0);return!Va(a,o,n)||!Za(a,e)?new Date(NaN):(c.setUTCFullYear(a,o,Math.max(e,n)),c)}function ge(i){return i?parseInt(i):1}function Ba(i){var a=i.match(qa);if(!a)return NaN;var r=Ue(a[1]),t=Ue(a[2]),e=Ue(a[3]);return Ja(r,t,e)?r*Fe+t*Ie+e*1e3:NaN}function Ue(i){return i&&parseFloat(i.replace(",","."))||0}function Xa(i){if(i==="Z")return 0;var a=i.match(Ia);if(!a)return 0;var r=a[1]==="+"?-1:1,t=parseInt(a[2]),e=a[3]&&parseInt(a[3])||0;return en(t,e)?r*(t*Fe+e*Ie):NaN}function Ga(i,a,r){var t=new Date(0);t.setUTCFullYear(i,0,4);var e=t.getUTCDay()||7,o=(a-1)*7+r+1-e;return t.setUTCDate(t.getUTCDate()+o),t}var za=[31,null,31,30,31,30,31,31,30,31,30,31];function Mt(i){return i%400===0||i%4===0&&i%100!==0}function Va(i,a,r){return a>=0&&a<=11&&r>=1&&r<=(za[a]||(Mt(i)?29:28))}function Za(i,a){return a>=1&&a<=(Mt(i)?366:365)}function Ka(i,a,r){return a>=1&&a<=53&&r>=0&&r<=6}function Ja(i,a,r){return i===24?a===0&&r===0:r>=0&&r<60&&a>=0&&a<60&&i>=0&&i<25}function en(i,a){return a>=0&&a<=59}var tn={lessThanXSeconds:{one:"menos de un segundo",other:"menos de {{count}} segundos"},xSeconds:{one:"1 segundo",other:"{{count}} segundos"},halfAMinute:"medio minuto",lessThanXMinutes:{one:"menos de un minuto",other:"menos de {{count}} minutos"},xMinutes:{one:"1 minuto",other:"{{count}} minutos"},aboutXHours:{one:"alrededor de 1 hora",other:"alrededor de {{count}} horas"},xHours:{one:"1 hora",other:"{{count}} horas"},xDays:{one:"1 día",other:"{{count}} días"},aboutXWeeks:{one:"alrededor de 1 semana",other:"alrededor de {{count}} semanas"},xWeeks:{one:"1 semana",other:"{{count}} semanas"},aboutXMonths:{one:"alrededor de 1 mes",other:"alrededor de {{count}} meses"},xMonths:{one:"1 mes",other:"{{count}} meses"},aboutXYears:{one:"alrededor de 1 año",other:"alrededor de {{count}} años"},xYears:{one:"1 año",other:"{{count}} años"},overXYears:{one:"más de 1 año",other:"más de {{count}} años"},almostXYears:{one:"casi 1 año",other:"casi {{count}} años"}},rn=function(a,r,t){var e,o=tn[a];return typeof o=="string"?e=o:r===1?e=o.one:e=o.other.replace("{{count}}",r.toString()),t!=null&&t.addSuffix?t.comparison&&t.comparison>0?"en "+e:"hace "+e:e};const an=rn;var nn={full:"EEEE, d 'de' MMMM 'de' y",long:"d 'de' MMMM 'de' y",medium:"d MMM y",short:"dd/MM/y"},on={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},sn={full:"{{date}} 'a las' {{time}}",long:"{{date}} 'a las' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},un={date:ve({formats:nn,defaultWidth:"full"}),time:ve({formats:on,defaultWidth:"full"}),dateTime:ve({formats:sn,defaultWidth:"full"})};const cn=un;var ln={lastWeek:"'el' eeee 'pasado a la' p",yesterday:"'ayer a la' p",today:"'hoy a la' p",tomorrow:"'mañana a la' p",nextWeek:"eeee 'a la' p",other:"P"},dn={lastWeek:"'el' eeee 'pasado a las' p",yesterday:"'ayer a las' p",today:"'hoy a las' p",tomorrow:"'mañana a las' p",nextWeek:"eeee 'a las' p",other:"P"},fn=function(a,r,t,e){return r.getUTCHours()!==1?dn[a]:ln[a]};const vn=fn;var mn={narrow:["AC","DC"],abbreviated:["AC","DC"],wide:["antes de cristo","después de cristo"]},hn={narrow:["1","2","3","4"],abbreviated:["T1","T2","T3","T4"],wide:["1º trimestre","2º trimestre","3º trimestre","4º trimestre"]},wn={narrow:["e","f","m","a","m","j","j","a","s","o","n","d"],abbreviated:["ene","feb","mar","abr","may","jun","jul","ago","sep","oct","nov","dic"],wide:["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre"]},pn={narrow:["d","l","m","m","j","v","s"],short:["do","lu","ma","mi","ju","vi","sá"],abbreviated:["dom","lun","mar","mié","jue","vie","sáb"],wide:["domingo","lunes","martes","miércoles","jueves","viernes","sábado"]},yn={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"mañana",afternoon:"tarde",evening:"tarde",night:"noche"},abbreviated:{am:"AM",pm:"PM",midnight:"medianoche",noon:"mediodia",morning:"mañana",afternoon:"tarde",evening:"tarde",night:"noche"},wide:{am:"a.m.",pm:"p.m.",midnight:"medianoche",noon:"mediodia",morning:"mañana",afternoon:"tarde",evening:"tarde",night:"noche"}},gn={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"de la mañana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"},abbreviated:{am:"AM",pm:"PM",midnight:"medianoche",noon:"mediodia",morning:"de la mañana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"},wide:{am:"a.m.",pm:"p.m.",midnight:"medianoche",noon:"mediodia",morning:"de la mañana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"}},bn=function(a,r){var t=Number(a);return t+"º"},Tn={ordinalNumber:bn,era:J({values:mn,defaultWidth:"wide"}),quarter:J({values:hn,defaultWidth:"wide",argumentCallback:function(a){return Number(a)-1}}),month:J({values:wn,defaultWidth:"wide"}),day:J({values:pn,defaultWidth:"wide"}),dayPeriod:J({values:yn,defaultWidth:"wide",formattingValues:gn,defaultFormattingWidth:"wide"})};const Dn=Tn;var Cn=/^(\d+)(º)?/i,Pn=/\d+/i,Mn={narrow:/^(ac|dc|a|d)/i,abbreviated:/^(a\.?\s?c\.?|a\.?\s?e\.?\s?c\.?|d\.?\s?c\.?|e\.?\s?c\.?)/i,wide:/^(antes de cristo|antes de la era com[uú]n|despu[eé]s de cristo|era com[uú]n)/i},_n={any:[/^ac/i,/^dc/i],wide:[/^(antes de cristo|antes de la era com[uú]n)/i,/^(despu[eé]s de cristo|era com[uú]n)/i]},xn={narrow:/^[1234]/i,abbreviated:/^T[1234]/i,wide:/^[1234](º)? trimestre/i},kn={any:[/1/i,/2/i,/3/i,/4/i]},On={narrow:/^[efmajsond]/i,abbreviated:/^(ene|feb|mar|abr|may|jun|jul|ago|sep|oct|nov|dic)/i,wide:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i},En={narrow:[/^e/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^en/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i]},Un={narrow:/^[dlmjvs]/i,short:/^(do|lu|ma|mi|ju|vi|s[áa])/i,abbreviated:/^(dom|lun|mar|mi[ée]|jue|vie|s[áa]b)/i,wide:/^(domingo|lunes|martes|mi[ée]rcoles|jueves|viernes|s[áa]bado)/i},$n={narrow:[/^d/i,/^l/i,/^m/i,/^m/i,/^j/i,/^v/i,/^s/i],any:[/^do/i,/^lu/i,/^ma/i,/^mi/i,/^ju/i,/^vi/i,/^sa/i]},Nn={narrow:/^(a|p|mn|md|(de la|a las) (mañana|tarde|noche))/i,any:/^([ap]\.?\s?m\.?|medianoche|mediodia|(de la|a las) (mañana|tarde|noche))/i},Wn={any:{am:/^a/i,pm:/^p/i,midnight:/^mn/i,noon:/^md/i,morning:/mañana/i,afternoon:/tarde/i,evening:/tarde/i,night:/noche/i}},Yn={ordinalNumber:pt({matchPattern:Cn,parsePattern:Pn,valueCallback:function(a){return parseInt(a,10)}}),era:ee({matchPatterns:Mn,defaultMatchWidth:"wide",parsePatterns:_n,defaultParseWidth:"any"}),quarter:ee({matchPatterns:xn,defaultMatchWidth:"wide",parsePatterns:kn,defaultParseWidth:"any",valueCallback:function(a){return a+1}}),month:ee({matchPatterns:On,defaultMatchWidth:"wide",parsePatterns:En,defaultParseWidth:"any"}),day:ee({matchPatterns:Un,defaultMatchWidth:"wide",parsePatterns:$n,defaultParseWidth:"any"}),dayPeriod:ee({matchPatterns:Nn,defaultMatchWidth:"any",parsePatterns:Wn,defaultParseWidth:"any"})};const Hn=Yn;var An={code:"es",formatDistance:an,formatLong:cn,formatRelative:vn,localize:Dn,match:Hn,options:{weekStartsOn:1,firstWeekContainsDate:1}};const Bn=An;function Xn(i,a){G.useEffect(()=>{if(!i)return;const r=crypto.randomUUID?crypto.randomUUID():Math.random().toString(36).slice(2),t=n=>{n.state&&n.state.overlay===r&&a()};window.history.pushState({overlay:r},""),window.addEventListener("popstate",t);let e=!0;const o=setTimeout(()=>{e=!1},0);return()=>{clearTimeout(o),window.removeEventListener("popstate",t),!e&&window.history.state&&window.history.state.overlay===r&&window.history.back()}},[i,a])}const Ln=(i,a)=>{if(!i||!a)return 0;const r=X(_(i)),t=X(_(a));return Rt(r,t)+1},$e=(i,a)=>!i||!Array.isArray(i)||!a?[]:[...i].sort((t,e)=>{const o=t.timestamp?_(t.timestamp):t.iso_date?_(t.iso_date):0,n=e.timestamp?_(e.timestamp):e.iso_date?_(e.iso_date):0;return Yt(o,n)}).map(t=>({...t,id:t.id,isoDate:t.iso_date||(t.timestamp?V(_(t.timestamp),"yyyy-MM-dd"):null),date:t.timestamp?V(_(t.timestamp),"dd/MM"):t.iso_date?V(_(t.iso_date),"dd/MM"):"N/A",cycleDay:Ln(t.iso_date||t.timestamp,a),temperature_raw:t.temperature_raw,temperature_corrected:t.temperature_corrected,use_corrected:t.use_corrected,mucusSensation:t.mucus_sensation,mucusAppearance:t.mucus_appearance,fertility_symbol:t.fertility_symbol,observations:t.observations,ignored:t.ignored,temperature_chart:t.temperature_chart??(t.use_corrected?t.temperature_corrected??t.temperature_raw:t.temperature_raw??t.temperature_corrected),timestamp:t.timestamp})),Rn=async i=>{const a=K(S,`users/${i}/cycles`),r=await ae(a);if(r.empty)return null;const t=r.docs.map(u=>({id:u.id,...u.data()})).filter(u=>u.end_date===null||u.end_date===void 0).sort((u,c)=>(c.start_date||"").localeCompare(u.start_date||""));if(t.length>1&&console.warn(`Se detectaron ${t.length} ciclos abiertos. Se usará el más reciente.`),t.length===0)return null;const e=t[0],o=K(S,`users/${i}/cycles/${e.id}/entries`),s=(await ae(o)).docs.map(u=>({id:u.id,...u.data()}));return{id:e.id,startDate:e.start_date,endDate:e.end_date,data:s}},Sn=async(i,a)=>{const r=K(S,`users/${i}/cycles`),e=(await ae(r)).docs.map(n=>({id:n.id,...n.data()})).filter(n=>n.end_date!==null&&n.end_date!==void 0||a&&n.start_date&&n.start_date<a).sort((n,s)=>(s.start_date||"").localeCompare(n.start_date||""));return await Promise.all(e.map(async n=>{const s=K(S,`users/${i}/cycles/${n.id}/entries`),c=(await ae(s)).docs.map(v=>({id:v.id,...v.data()}));return{id:n.id,startDate:n.start_date,endDate:n.end_date,needsCompletion:!n.end_date,data:c}}))},st=async(i,a)=>{const r=he(S,`users/${i}/cycles/${a}`),t=await Se(r);if(!t.exists())return null;const e=t.data(),o=K(S,`users/${i}/cycles/${a}/entries`),s=(await ae(o)).docs.map(u=>({id:u.id,...u.data()}));return{id:a,startDate:e.start_date,endDate:e.end_date,data:s}},ut=async(i,a)=>{const r=K(S,`users/${i}/cycles`),t=await ae(r),e=_(a);if(t.docs.some(s=>{const u=s.data(),c=u.start_date?_(u.start_date):null,v=u.end_date?_(u.end_date):null;return c&&e>=c&&(!v||e<=v)}))throw new Error("Cycle dates overlap with an existing cycle");return{id:(await He(K(S,`users/${i}/cycles`),{user_id:i,start_date:a,end_date:null})).id,start_date:a}},qn=async i=>{const a=i.user_id,r=i.timestamp??new Date().toISOString(),t={timestamp:r,temperature_raw:i.temperature_raw,temperature_corrected:i.temperature_corrected,use_corrected:i.use_corrected,temperature_chart:i.temperature_chart,mucus_sensation:i.mucus_sensation,mucus_appearance:i.mucus_appearance,fertility_symbol:i.fertility_symbol,observations:i.observations,ignored:i.ignored},e=K(S,`users/${a}/cycles`),o=await ae(e),n=_(r),s=o.docs.filter(c=>{const v=c.data(),w=v.start_date?_(v.start_date):null,P=v.end_date?_(v.end_date):null;return w&&n>=w&&(!P||n<=P)});let u=null;return s.length>1?u=s.sort((c,v)=>{const w=_(c.data().start_date);return _(v.data().start_date)-w})[0]:s.length===1&&(u=s[0]),u?{id:(await He(K(S,`users/${a}/cycles/${u.id}/entries`),t)).id}:i.cycle_id?{id:(await He(K(S,`users/${a}/cycles/${i.cycle_id}/entries`),t)).id}:{id:null}},ct=async(i,a,r,t)=>{const e=he(S,`users/${i}/cycles/${a}/entries/${r}`),o={temperature_raw:t.temperature_raw,temperature_corrected:t.temperature_corrected,use_corrected:t.use_corrected,temperature_chart:t.temperature_chart,mucus_sensation:t.mucus_sensation,mucus_appearance:t.mucus_appearance,fertility_symbol:t.fertility_symbol,observations:t.observations,ignored:t.ignored};return t.timestamp&&(o.timestamp=t.timestamp),await qe(e,o),{id:r}},In=async(i,a,r)=>{await Ae(he(S,`users/${i}/cycles/${a}/entries/${r}`))},Fn=async(i,a,r)=>{const t=he(S,`users/${a}/cycles/${i}`);if(!(await Se(t)).exists())throw new Error("Cycle not found");await qe(t,{end_date:r})},Ne=async(i,a,r,t)=>{const e=he(S,`users/${a}/cycles/${i}`),o=await Se(e);if(!o.exists())throw new Error("Cycle not found");const n=o.data(),s=r??n.start_date,u=t!==void 0?t:n.end_date,c=s?_(s):null,v=u?_(u):null;if(c&&v&&v<c)throw new Error("End date cannot be earlier than start date");const w=K(S,`users/${a}/cycles`);if((await ae(w)).docs.some(I=>{if(I.id===i)return!1;const A=I.data(),F=A.start_date?_(A.start_date):null,l=A.end_date?_(A.end_date):null;if(!F)return!1;const h=l??new Date("9999-12-31"),m=v??new Date("9999-12-31");return c<=h&&F<=m}))throw new Error("Cycle dates overlap with an existing cycle");const E={};r!==void 0&&(E.start_date=r),t!==void 0&&(E.end_date=t),await qe(e,E)},jn=async(i,a)=>{const r=K(S,`users/${i}/cycles/${a}/entries`),t=await ae(r);await Promise.all(t.docs.map(e=>Ae(e.ref))),await Ae(he(S,`users/${i}/cycles/${a}`))},We=(i,a)=>{if(!a)return i;const r=X(_(a));return i.filter(t=>_(t.isoDate)<=r)},Ye=(i,a)=>{if(!a)return i;const r=X(_(a));return i.filter(t=>_(t.isoDate)>=r)},fe=i=>i?typeof i=="string"?V(X(_(i)),"yyyy-MM-dd"):typeof i.toDate=="function"?V(X(i.toDate()),"yyyy-MM-dd"):V(X(new Date(i)),"yyyy-MM-dd"):null,Gn=(i=null)=>{const{user:a}=kt(),{toast:r}=Ot(),[t,e]=G.useState({id:null,startDate:null,data:[]}),[o,n]=G.useState([]),[s,u]=G.useState(!0),c=G.useCallback(async()=>{if(!(a!=null&&a.uid)){console.log("No user found, skipping cycle data load"),u(!1);return}console.log("Loading cycle data for user:",a.uid),u(!0);try{let l;if(i?(console.log("Loading specific cycle:",i),l=await st(a.uid,i),l||(l={id:i,startDate:V(X(new Date),"yyyy-MM-dd"),data:[]})):(console.log("Loading current cycle"),l=await Rn(a.uid)),console.log("Cycle loaded:",l),l){const m=fe(l.startDate),C=fe(l.endDate),g=$e(l.data,m),U=Ye(g,m),L=We(U,C);e({...l,startDate:m,endDate:C,data:L})}else e({id:null,startDate:null,data:[]});console.log("Loading archived cycles");const h=await Sn(a.uid,l?l.startDate:null);n(h.map(m=>{const C=fe(m.startDate),g=fe(m.endDate),U=$e(m.data||[],C),L=Ye(U,C),B=We(L,g);return{...m,startDate:C??V(X(new Date),"yyyy-MM-dd"),endDate:g,needsCompletion:m.needsCompletion,data:B}}))}catch(l){console.error("Error in loadCycleData:",l),l.code==="permission-denied"&&console.error("Firebase permissions error. Check Firestore rules."),e({id:null,startDate:null,data:[]}),n([])}finally{u(!1)}},[a,i]);G.useEffect(()=>{c()},[c]);const v=G.useCallback(async(l,h)=>{if(!(a!=null&&a.uid)||!t.id)throw console.error("User or currentCycle.id is missing"),new Error("User or currentCycle.id is missing");console.log("Adding/updating data point:",l,"editing:",h),u(!0);try{const m=l.time&&l.time.trim()!==""?l.time:V(new Date,"HH:mm"),C=La(`${l.isoDate} ${m}`,"yyyy-MM-dd HH:mm",new Date),g=l.temperature_raw===""||l.temperature_raw===null||l.temperature_raw===void 0?null:parseFloat(l.temperature_raw),U=l.temperature_corrected===""||l.temperature_corrected===null||l.temperature_corrected===void 0?null:parseFloat(l.temperature_corrected),L=l.use_corrected||!1,B=L?U??g:g??U;let j=h;j||(j=t.data.find(se=>se.isoDate===l.isoDate));const ie={cycle_id:t.id,user_id:a.uid,timestamp:V(C,"yyyy-MM-dd'T'HH:mm:ssXXX"),temperature_raw:g,temperature_corrected:U,use_corrected:L,temperature_chart:B,mucus_sensation:l.mucusSensation||null,mucus_appearance:l.mucusAppearance||null,fertility_symbol:l.fertility_symbol==="none"?null:l.fertility_symbol,observations:l.observations||null,ignored:j?l.ignored??j.ignored:l.ignored||!1};j?(console.log("Updating existing record:",j.id),await ct(a.uid,t.id,j.id,ie)):(console.log("Creating new record"),await qn(ie)),console.log("Data point saved successfully"),await c()}catch(m){throw console.error("Error adding/updating data point:",m),m}finally{u(!1)}},[a,t.id,c]),w=G.useCallback(async l=>{if(!(!(a!=null&&a.uid)||!t.id)){console.log("Deleting record:",l),u(!0);try{await In(a.uid,t.id,l),await c(),console.log("Record deleted successfully")}catch(h){throw console.error("Error deleting record:",h),h}finally{u(!1)}}},[a,t.id,c]),P=G.useCallback(async(l,h)=>{if(a!=null&&a.uid){console.log("Toggling ignore for record:",h,"in cycle:",l),u(!0);try{const m=l===t.id?t:o.find(U=>U.id===l);if(!m)throw new Error("Cycle not found for toggling ignore state.");const C=m.data.find(U=>U.id===h);if(!C)throw new Error("Record not found for toggling ignore state.");const g=!C.ignored;await ct(a.uid,l,h,{ignored:g}),await c(),console.log("Record ignore status toggled successfully")}catch(m){throw console.error("Error toggling ignore state:",m),m}finally{u(!1)}}},[a,t,o,c]),x=G.useCallback(async l=>{if(a!=null&&a.uid){console.log("Starting new cycle with date:",l),u(!0);try{const h=X(l?_(l):new Date);if(t.id&&l){const g=X(_(t.startDate));if(h<=g){r({title:"Fecha inválida",description:"La fecha de inicio del nuevo ciclo debe ser posterior al inicio del ciclo actual.",variant:"destructive"}),u(!1);return}}if(t.id){const g=V(Et(h,-1),"yyyy-MM-dd");await Fn(t.id,a.uid,g)}const m=V(h,"yyyy-MM-dd"),C=await ut(a.uid,m);e({id:C.id,startDate:C.start_date,data:[]}),await c(),console.log("New cycle started successfully")}catch(h){console.error("Error starting new cycle:",h);try{t.id&&await Ne(t.id,a.uid,void 0,null)}catch(m){console.error("Rollback failed:",m)}throw r({title:"Error",description:"No se pudo iniciar el nuevo ciclo.",variant:"destructive"}),h}finally{u(!1)}}},[a,t,c,r]),E=G.useCallback(async(l,h)=>{if(a!=null&&a.uid){if(!h){r({title:"Error",description:"La fecha de fin es obligatoria.",variant:"destructive"});return}console.log("Adding archived cycle:",l,h),u(!0);try{const m=await ut(a.uid,l);await Ne(m.id,a.uid,void 0,h),await c(),console.log("Archived cycle added successfully")}catch(m){console.error("Error adding archived cycle:",m);const C=m.message&&m.message.includes("overlap")?"Las fechas coinciden con otro ciclo.":"No se pudo crear el ciclo.";throw r({title:"Error",description:C,variant:"destructive"}),m}finally{u(!1)}}},[a,c,r]),I=G.useCallback(async l=>{if(a!=null&&a.uid){console.log("Deleting cycle:",l),u(!0);try{await jn(a.uid,l),await c(),console.log("Cycle deleted successfully")}catch(h){throw console.error("Error deleting cycle:",h),r({title:"Error",description:"No se pudo eliminar el ciclo.",variant:"destructive"}),h}finally{u(!1)}}},[a,c,r]),A=G.useCallback(async(l,h,m)=>{if(a!=null&&a.uid){console.log("Updating cycle dates:",l,h,m),u(!0);try{await Ne(l,a.uid,h,m),await c(),console.log("Cycle dates updated successfully")}catch(C){console.error("Error updating cycle dates:",C);const g=C.message&&C.message.includes("overlap")?"Las fechas coinciden con otro ciclo.":"No se pudieron actualizar las fechas.";throw r({title:"Error",description:g,variant:"destructive"}),C}finally{u(!1)}}},[a,c,r]),F=G.useCallback(async l=>{if(!(a!=null&&a.uid))return null;console.log("Fetching cycle by ID:",l),u(!0);try{const h=await st(a.uid,l);if(!h)return null;const m=fe(h.startDate),C=fe(h.endDate),g=$e(h.data||[],m),U=Ye(g,m),L=We(U,C),B={...h,startDate:m??V(X(new Date),"yyyy-MM-dd"),endDate:C,data:L};return console.log("Cycle fetched successfully:",B),B}catch(h){return console.error("Error fetching cycle by ID:",h),null}finally{u(!1)}},[a]);return{currentCycle:t,archivedCycles:o,addOrUpdateDataPoint:v,deleteRecord:w,startNewCycle:x,updateCycleDates:A,isLoading:s,getCycleById:F,refreshData:c,toggleIgnoreRecord:P,addArchivedCycle:E,deleteCycle:I}};export{ne as _,Gn as a,Et as b,Q as c,Rt as d,Bn as e,V as f,we as g,Pe as h,Wt as i,yt as j,At as k,_ as p,O as r,X as s,N as t,Xn as u};
